cscope 15 $HOME/ÊñáÊ°£/GitHub/TestGitHub/cmd_src/coreutils-8.21/src -q 0000010102 0001711256
	@base64.c

21 
	~<c⁄fig.h
>

23 
	~<°dio.h
>

24 
	~<gë›t.h
>

25 
	~<sys/ty≥s.h
>

27 
	~"sy°em.h
"

28 
	~"îr‹.h
"

29 
	~"Ádvi£.h
"

30 
	~"x°πﬁ.h
"

31 
	~"quŸe.h
"

32 
	~"quŸórg.h
"

33 
	~"x‰e›í.h
"

35 
	~"ba£64.h
"

38 
	#PROGRAM_NAME
 "ba£64"

	)

40 
	#AUTHORS
 
	`¥›î_«me
 ("Sim⁄ Jo£fss⁄")

	)

42 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

44 {"decode", 
no_¨gumít
, 0, 'd'},

45 {"wøp", 
ªquúed_¨gumít
, 0, 'w'},

46 {"ign‹e-g¨bage", 
no_¨gumít
, 0, 'i'},

48 {
GETOPT_HELP_OPTION_DECL
},

49 {
GETOPT_VERSION_OPTION_DECL
},

50 {
NULL
, 0, NULL, 0}

54 
	$ußge
 (
°©us
)

56 i‡(
°©us
 !
EXIT_SUCCESS
)

57 
	`emô_åy_hñp
 ();

60 
	`¥ötf
 (
	`_
("\
: %†[OPTION]... [FILE]\n\
64Éncodê‹ decodêFILE, o∏°™d¨d i≈ut,Åÿ°™d¨d ouçut.\n\
"), 
¥ogøm_«me
);

65 
	`emô_m™d©‹y_¨g_nŸe
 ();

67 
	`Âuts
 (
	`_
("\
-d, --decodê decodêd©a\n\
-i, --ign‹e-g¨bagê whí decodög, ign‹ên⁄-Æphabë ch¨a˘îs\n\
-w, --wøp=COLS wø∞ícodedÜöe†a·î COLS ch¨a˘î (deÁu… 76).\n\
 0ÅÿdißbÀÜöêwøµög\n\
\n\
"), 
°dout
);

74 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

75 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

76 
	`Âuts
 (
	`_
("\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n"), 
°dout
);

79 
	`Âuts
 (
	`_
("\
\n\
 dataáreÉncodedás described forÅhe base64álphabet in RFC 3548.\n\
 decoding,Åhe input may containÇewlines inádditionÅoÅhe bytes of\n\
 formal base64álphabet. Use --ignore-garbageÅoáttemptÅoÑecover\n\
ány otherÇon-alphabet bytes inÅheÉncoded stream.\n"),

85 
°dout
);

86 
	`emô_™cûœry_öfo
 ();

89 
	`exô
 (
°©us
);

90 
	}
}

94 
	#BLOCKSIZE
 3072

	)

95 
	#B64BLOCKSIZE
 
	`BASE64_LENGTH
 (
BLOCKSIZE
)

	)

98 #i‡
BLOCKSIZE
 % 12 != 0

103 
	$wøp_wrôe
 (c⁄° *
buf„r
, 
size_t
 
Àn
,

104 
uötmax_t
 
wøp_cﬁumn
, 
size_t
 *
cuºít_cﬁumn
, 
FILE
 *
out
)

106 
size_t
 
wrôãn
;

108 i‡(
wøp_cﬁumn
 == 0)

111 i‡(
	`fwrôe
 (
buf„r
, 1, 
Àn
, 
°dout
) <Üen)

112 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

115 
wrôãn
 = 0; wrôã¿< 
Àn
;)

117 
uötmax_t
 
cﬁs_ªmaöög
 = 
wøp_cﬁumn
 - *
cuºít_cﬁumn
;

118 
size_t
 
to_wrôe
 = 
	`MIN
 (
cﬁs_ªmaöög
, 
SIZE_MAX
);

119 
to_wrôe
 = 
	`MIN
 (to_wrôe, 
Àn
 - 
wrôãn
);

121 i‡(
to_wrôe
 == 0)

123 i‡(
	`Âuts
 ("\n", 
out
) < 0)

124 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

125 *
cuºít_cﬁumn
 = 0;

129 i‡(
	`fwrôe
 (
buf„r
 + 
wrôãn
, 1, 
to_wrôe
, 
°dout
) <Åo_write)

130 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

131 *
cuºít_cﬁumn
 +
to_wrôe
;

132 
wrôãn
 +
to_wrôe
;

135 
	}
}

138 
	$do_ícode
 (
FILE
 *
ö
, FILE *
out
, 
uötmax_t
 
wøp_cﬁumn
)

140 
size_t
 
cuºít_cﬁumn
 = 0;

141 
öbuf
[
BLOCKSIZE
];

142 
outbuf
[
B64BLOCKSIZE
];

143 
size_t
 
sum
;

147 
size_t
 
n
;

149 
sum
 = 0;

152 
n
 = 
	`‰ód
 (
öbuf
 + 
sum
, 1, 
BLOCKSIZE
 - sum, 
ö
);

153 
sum
 +
n
;

155 !
	`„of
 (
ö
Ë&& !
	`„º‹
 (öË&& 
sum
 < 
BLOCKSIZE
);

157 i‡(
sum
 > 0)

161 
	`ba£64_ícode
 (
öbuf
, 
sum
, 
outbuf
, 
	`BASE64_LENGTH
 (sum));

163 
	`wøp_wrôe
 (
outbuf
, 
	`BASE64_LENGTH
 (
sum
), 
wøp_cﬁumn
,

164 &
cuºít_cﬁumn
, 
out
);

167 !
	`„of
 (
ö
Ë&& !
	`„º‹
 (öË&& 
sum
 =
BLOCKSIZE
);

170 i‡(
wøp_cﬁumn
 && 
cuºít_cﬁumn
 > 0 && 
	`Âuts
 ("\n", 
out
) < 0)

171 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

173 i‡(
	`„º‹
 (
ö
))

174 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

175 
	}
}

178 
	$do_decode
 (
FILE
 *
ö
, FILE *
out
, 
boﬁ
 
ign‹e_g¨bage
)

180 
öbuf
[
B64BLOCKSIZE
];

181 
outbuf
[
BLOCKSIZE
];

182 
size_t
 
sum
;

183 
ba£64_decode_c⁄ãxt
 
˘x
;

185 
	`ba£64_decode_˘x_öô
 (&
˘x
);

189 
boﬁ
 
ok
;

190 
size_t
 
n
;

191 
k
;

193 
sum
 = 0;

196 
n
 = 
	`‰ód
 (
öbuf
 + 
sum
, 1, 
B64BLOCKSIZE
 - sum, 
ö
);

198 i‡(
ign‹e_g¨bage
)

200 
size_t
 
i
;

201 
i
 = 0; 
n
 > 0 && i <Ç;)

202 i‡(
	`isba£64
 (
öbuf
[
sum
 + 
i
]) || inbuf[sum + i] == '=')

203 
i
++;

205 
	`memmove
 (
öbuf
 + 
sum
 + 
i
, inbu‡+ sum + i + 1, --
n
 - i);

208 
sum
 +
n
;

210 i‡(
	`„º‹
 (
ö
))

211 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

213 
sum
 < 
B64BLOCKSIZE
 && !
	`„of
 (
ö
));

219 
k
 = 0; k < 1 + !!
	`„of
 (
ö
); k++)

221 i‡(
k
 =1 && 
˘x
.
i
 == 0)

223 
n
 = 
BLOCKSIZE
;

224 
ok
 = 
	`ba£64_decode_˘x
 (&
˘x
, 
öbuf
, (
k
 =0 ? 
sum
 : 0), 
outbuf
, &
n
);

226 i‡(
	`fwrôe
 (
outbuf
, 1, 
n
, 
out
) <Ç)

227 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

229 i‡(!
ok
)

230 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid input"));

233 !
	`„of
 (
ö
));

234 
	}
}

237 
	$maö
 (
¨gc
, **
¨gv
)

239 
›t
;

240 
FILE
 *
öput_fh
;

241 c⁄° *
öfûe
;

244 
boﬁ
 
decode
 = 
Ál£
;

246 
boﬁ
 
ign‹e_g¨bage
 = 
Ál£
;

248 
uötmax_t
 
wøp_cﬁumn
 = 76;

250 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

251 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

252 
	`£éoˇÀ
 (
LC_ALL
, "");

253 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

254 
	`ãxtdomaö
 (
PACKAGE
);

256 
	`©exô
 (
˛o£_°dout
);

258 (
›t
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "diw:", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

259 
›t
)

262 
decode
 = 
åue
;

266 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 0, &
wøp_cﬁumn
, NULLË!
LONGINT_OK
)

267 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid wrap size: %s"),

268 
	`quŸórg
 (
›èrg
));

272 
ign‹e_g¨bage
 = 
åue
;

275 
ˇ£_GETOPT_HELP_CHAR
;

277 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

280 
	`ußge
 (
EXIT_FAILURE
);

284 i‡(
¨gc
 - 
›töd
 > 1)

286 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

287 
	`ußge
 (
EXIT_FAILURE
);

290 i‡(
›töd
 < 
¨gc
)

291 
öfûe
 = 
¨gv
[
›töd
];

293 
öfûe
 = "-";

295 i‡(
	`STREQ
 (
öfûe
, "-"))

297 i‡(
O_BINARY
)

298 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

299 
öput_fh
 = 
°dö
;

303 
öput_fh
 = 
	`f›í
 (
öfûe
, "rb");

304 i‡(
öput_fh
 =
NULL
)

305 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

308 
	`Ádvi£
 (
öput_fh
, 
FADVISE_SEQUENTIAL
);

310 i‡(
decode
)

311 
	`do_decode
 (
öput_fh
, 
°dout
, 
ign‹e_g¨bage
);

313 
	`do_ícode
 (
öput_fh
, 
°dout
, 
wøp_cﬁumn
);

315 i‡(
	`f˛o£
 (
öput_fh
Ë=
EOF
)

317 i‡(
	`STREQ
 (
öfûe
, "-"))

318 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("closing standard input"));

320 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

323 
	`exô
 (
EXIT_SUCCESS
);

324 
	}
}

	@basename.c

17 
	~<c⁄fig.h
>

18 
	~<gë›t.h
>

19 
	~<°dio.h
>

20 
	~<sys/ty≥s.h
>

22 
	~"sy°em.h
"

23 
	~"îr‹.h
"

24 
	~"quŸe.h
"

27 
	#PROGRAM_NAME
 "ba£«me"

	)

29 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

31 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

33 {"mu…ùÀ", 
no_¨gumít
, 
NULL
, 'a'},

34 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 's'},

35 {"zîo", 
no_¨gumít
, 
NULL
, 'z'},

36 {
GETOPT_HELP_OPTION_DECL
},

37 {
GETOPT_VERSION_OPTION_DECL
},

38 {
NULL
, 0, NULL, 0}

42 
	$ußge
 (
°©us
)

44 i‡(
°©us
 !
EXIT_SUCCESS
)

45 
	`emô_åy_hñp
 ();

48 
	`¥ötf
 (
	`_
("\
: %s NAME [SUFFIX]\n\
: %s OPTION... NAME...\n\
"),

52 
¥ogøm_«me
,Örogram_name);

53 
	`Âuts
 (
	`_
("\
 NAME wôhányÜódög dúe˘‹y comp⁄ít†ªmoved.\n\
 s≥cifõd,álsÿªmovê®åaûög SUFFIX.\n\
"), 
°dout
);

58 
	`emô_m™d©‹y_¨g_nŸe
 ();

60 
	`Âuts
 (
	`_
("\
-a, --mu…ùÀ suµ‹àmu…ùÀárgumít†™dÅª©Éachá†®NAME\n\
-s, --suffix=SUFFIXÑemovê®åaûög SUFFIX\n\
-z, --zîÿ sï¨©êouçuàwôh NULÑ©hîÅh™Çewlöe\n\
"), 
°dout
);

65 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

66 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

67 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%s /usr/bin/sort -> \"sort\"\n\
%s include/stdio.h .h -> \"stdio\"\n\
%s -s .h include/stdio.h -> \"stdio\"\n\
%s -aány/str1ány/str2 -> \"str1\" followed by \"str2\"\n\
"),

75 
¥ogøm_«me
,Örogram_name,Örogram_name,Örogram_name);

76 
	`emô_™cûœry_öfo
 ();

78 
	`exô
 (
°©us
);

79 
	}
}

85 
	$ªmove_suffix
 (*
«me
, c⁄° *
suffix
)

87 *
≈
;

88 c⁄° *
•
;

90 
≈
 = 
«me
 + 
	`°æí
 (name);

91 
•
 = 
suffix
 + 
	`°æí
 (suffix);

93 
≈
 > 
«me
 && 
•
 > 
suffix
)

94 i‡(*--
≈
 !*--
•
)

96 i‡(
≈
 > 
«me
)

97 *
≈
 = '\0';

98 
	}
}

104 
	$≥rf‹m_ba£«me
 (c⁄° *
°rög
, c⁄° *
suffix
, 
boﬁ
 
u£_nuls
)

106 *
«me
 = 
	`ba£_«me
 (
°rög
);

107 
	`°rù_åaûög_¶ashes
 (
«me
);

115 i‡(
suffix
 && 
	`IS_RELATIVE_FILE_NAME
 (
«me
Ë&& ! 
	`FILE_SYSTEM_PREFIX_LEN
 (name))

116 
	`ªmove_suffix
 (
«me
, 
suffix
);

118 
	`Âuts
 (
«me
, 
°dout
);

119 
	`putch¨
 (
u£_nuls
 ? '\0' : '\n');

120 
	`‰ì
 (
«me
);

121 
	}
}

124 
	$maö
 (
¨gc
, **
¨gv
)

126 
boﬁ
 
mu…ùÀ_«mes
 = 
Ál£
;

127 
boﬁ
 
u£_nuls
 = 
Ál£
;

128 c⁄° *
suffix
 = 
NULL
;

130 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

131 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

132 
	`£éoˇÀ
 (
LC_ALL
, "");

133 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

134 
	`ãxtdomaö
 (
PACKAGE
);

136 
	`©exô
 (
˛o£_°dout
);

138 
åue
)

140 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+as:z", 
l⁄g›ts
, 
NULL
);

142 i‡(
c
 == -1)

145 
c
)

148 
suffix
 = 
›èrg
;

151 
mu…ùÀ_«mes
 = 
åue
;

155 
u£_nuls
 = 
åue
;

158 
ˇ£_GETOPT_HELP_CHAR
;

159 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

162 
	`ußge
 (
EXIT_FAILURE
);

166 i‡(
¨gc
 < 
›töd
 + 1)

168 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

169 
	`ußge
 (
EXIT_FAILURE
);

172 i‡(!
mu…ùÀ_«mes
 && 
›töd
 + 2 < 
¨gc
)

174 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 2]));

175 
	`ußge
 (
EXIT_FAILURE
);

178 i‡(
mu…ùÀ_«mes
)

180 ; 
›töd
 < 
¨gc
; optind++)

181 
	`≥rf‹m_ba£«me
 (
¨gv
[
›töd
], 
suffix
, 
u£_nuls
);

184 
	`≥rf‹m_ba£«me
 (
¨gv
[
›töd
],

185 
›töd
 + 2 =
¨gc
 ? 
¨gv
[›töd + 1] : 
NULL
, 
u£_nuls
);

187 
	`exô
 (
EXIT_SUCCESS
);

188 
	}
}

	@cat.c

24 
	~<c⁄fig.h
>

26 
	~<°dio.h
>

27 
	~<gë›t.h
>

28 
	~<sys/ty≥s.h
>

30 #i‡
HAVE_STROPTS_H


31 
	~<°r›ts.h
>

33 
	~<sys/io˘l.h
>

35 
	~"sy°em.h
"

36 
	~"ioblksize.h
"

37 
	~"îr‹.h
"

38 
	~"Ádvi£.h
"

39 
	~"fuŒ-wrôe.h
"

40 
	~"quŸe.h
"

41 
	~"ß„-ªad.h
"

42 
	~"x‰e›í.h
"

45 
	#PROGRAM_NAME
 "ˇt"

	)

47 
	#AUTHORS
 \

48 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

49 
	`¥›î_«me
 ("Rich¨d M. SèŒm™")

	)

52 c⁄° *
	göfûe
;

55 
	göput_desc
;

60 
	#LINE_COUNTER_BUF_LEN
 20

	)

61 
	glöe_buf
[
LINE_COUNTER_BUF_LEN
] =

70 *
	glöe_num_¥öt
 = 
löe_buf
 + 
LINE_COUNTER_BUF_LEN
 - 8;

73 *
	glöe_num_°¨t
 = 
löe_buf
 + 
LINE_COUNTER_BUF_LEN
 - 3;

76 *
	glöe_num_íd
 = 
löe_buf
 + 
LINE_COUNTER_BUF_LEN
 - 3;

79 
	g√wlöes2
 = 0;

82 
	$ußge
 (
°©us
)

84 i‡(
°©us
 !
EXIT_SUCCESS
)

85 
	`emô_åy_hñp
 ();

88 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

91 
¥ogøm_«me
);

92 
	`Âuts
 (
	`_
("\
 FILE(s), o∏°™d¨d i≈ut,Åÿ°™d¨d ouçut.\n\
\n\
-A, --show-Æ»ÉquivÆíàtÿ-vET\n\
-b, --numbî-n⁄bœnkÇumbîÇ⁄em±y ouçuàlöes, ovîride†-n\n\
-êÉquivÆíàtÿ-vE\n\
-E, --show-íd† di•œy $áàíd o‡óchÜöe\n\
-n, --numbîÇumbîáŒ ouçuàlöes\n\
-s, --squìze-bœnk suµªs†ª≥©edÉm±y ouçuàlöes\n\
"), 
°dout
);

102 
	`Âuts
 (
	`_
("\
-àÉquivÆíàtÿ-vT\n\
-T, --show-èb† di•œy TAB ch¨a˘î†a†^I\n\
-u (ign‹ed)\n\
-v, --show-n⁄¥ötög u£ ^ánd M-ÇŸ©i⁄,Éx˚± f‹ LFDánd TAB\n\
"), 
°dout
);

108 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

109 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

110 
	`Âuts
 (
	`_
("\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

114 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%s f - g Output f's contents,Åhen standard input,Åhen g's contents.\n\
%s Copy standard inputÅo standard output.\n\
"),

120 
¥ogøm_«me
,Örogram_name);

121 
	`emô_™cûœry_öfo
 ();

123 
	`exô
 (
°©us
);

124 
	}
}

129 
	$√xt_löe_num
 ()

131 *
ídp
 = 
löe_num_íd
;

134 i‡((*
ídp
)++ < '9')

136 *
ídp
-- = '0';

138 
ídp
 >
löe_num_°¨t
);

139 i‡(
löe_num_°¨t
 > 
löe_buf
)

140 *--
löe_num_°¨t
 = '1';

142 *
löe_buf
 = '>';

143 i‡(
löe_num_°¨t
 < 
löe_num_¥öt
)

144 
löe_num_¥öt
--;

145 
	}
}

150 
boﬁ


151 
	$sim∂e_ˇt
 (

153 *
buf
,

157 
size_t
 
bufsize
)

160 
size_t
 
n_ªad
;

164 
åue
)

168 
n_ªad
 = 
	`ß„_ªad
 (
öput_desc
, 
buf
, 
bufsize
);

169 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

171 
	`îr‹
 (0, 
î∫o
, "%s", 
öfûe
);

172  
Ál£
;

177 i‡(
n_ªad
 == 0)

178  
åue
;

184 
size_t
 
n
 = 
n_ªad
;

185 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
buf
, 
n
) !=Ç)

186 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

189 
	}
}

195 
ölöe
 

196 
	$wrôe_≥ndög
 (*
outbuf
, **
bpout
)

198 
size_t
 
n_wrôe
 = *
bpout
 - 
outbuf
;

199 i‡(0 < 
n_wrôe
)

201 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
outbuf
, 
n_wrôe
) !=Ç_write)

202 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

203 *
bpout
 = 
outbuf
;

205 
	}
}

214 
boﬁ


215 
	$ˇt
 (

217 *
öbuf
,

220 
size_t
 
ösize
,

223 *
outbuf
,

226 
size_t
 
outsize
,

229 
boﬁ
 
show_n⁄¥ötög
,

230 
boﬁ
 
show_èbs
,

231 
boﬁ
 
numbî
,

232 
boﬁ
 
numbî_n⁄bœnk
,

233 
boﬁ
 
show_íds
,

234 
boﬁ
 
squìze_bœnk
)

237 
ch
;

240 *
bpö
;

244 *
eob
;

247 *
bpout
;

250 
size_t
 
n_ªad
;

257 
√wlöes
 = 
√wlöes2
;

259 #ifde‡
FIONREAD


262 
boﬁ
 
u£_fi⁄ªad
 = 
åue
;

268 
eob
 = 
öbuf
;

269 
bpö
 = 
eob
 + 1;

271 
bpout
 = 
outbuf
;

273 
åue
)

279 i‡(
outbuf
 + 
outsize
 <
bpout
)

281 *
wp
 = 
outbuf
;

282 
size_t
 
ªmaöög_byãs
;

285 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
wp
, 
outsize
) != outsize)

286 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

287 
wp
 +
outsize
;

288 
ªmaöög_byãs
 = 
bpout
 - 
wp
;

290 
outsize
 <
ªmaöög_byãs
);

295 
	`memmove
 (
outbuf
, 
wp
, 
ªmaöög_byãs
);

296 
bpout
 = 
outbuf
 + 
ªmaöög_byãs
;

301 i‡(
bpö
 > 
eob
)

303 
boﬁ
 
öput_≥ndög
 = 
Ál£
;

304 #ifde‡
FIONREAD


305 
n_to_ªad
 = 0;

311 i‡(
u£_fi⁄ªad


312 && 
	`io˘l
 (
öput_desc
, 
FIONREAD
, &
n_to_ªad
) < 0)

320 i‡(
î∫o
 =
EOPNOTSUPP
 ||Éºnÿ=
ENOTTY


321 || 
î∫o
 =
EINVAL
 ||Éºnÿ=
ENODEV


322 || 
î∫o
 =
ENOSYS
)

323 
u£_fi⁄ªad
 = 
Ál£
;

326 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot do ioctl on %s"),

327 
	`quŸe
 (
öfûe
));

328 
√wlöes2
 = 
√wlöes
;

329  
Ál£
;

332 i‡(
n_to_ªad
 != 0)

333 
öput_≥ndög
 = 
åue
;

336 i‡(!
öput_≥ndög
)

337 
	`wrôe_≥ndög
 (
outbuf
, &
bpout
);

341 
n_ªad
 = 
	`ß„_ªad
 (
öput_desc
, 
öbuf
, 
ösize
);

342 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

344 
	`îr‹
 (0, 
î∫o
, "%s", 
öfûe
);

345 
	`wrôe_≥ndög
 (
outbuf
, &
bpout
);

346 
√wlöes2
 = 
√wlöes
;

347  
Ál£
;

349 i‡(
n_ªad
 == 0)

351 
	`wrôe_≥ndög
 (
outbuf
, &
bpout
);

352 
√wlöes2
 = 
√wlöes
;

353  
åue
;

359 
bpö
 = 
öbuf
;

360 
eob
 = 
bpö
 + 
n_ªad
;

361 *
eob
 = '\n';

370 i‡(++
√wlöes
 > 0)

372 i‡(
√wlöes
 >= 2)

377 
√wlöes
 = 2;

382 i‡(
squìze_bœnk
)

384 
ch
 = *
bpö
++;

391 i‡(
numbî
 && !
numbî_n⁄bœnk
)

393 
	`√xt_löe_num
 ();

394 
bpout
 = 
	`°p˝y
 (bpout, 
löe_num_¥öt
);

400 i‡(
show_íds
)

401 *
bpout
++ = '$';

405 *
bpout
++ = '\n';

407 
ch
 = *
bpö
++;

409 
ch
 == '\n');

413 i‡(
√wlöes
 >0 && 
numbî
)

415 
	`√xt_löe_num
 ();

416 
bpout
 = 
	`°p˝y
 (bpout, 
löe_num_¥öt
);

427 i‡(
show_n⁄¥ötög
)

429 
åue
)

431 i‡(
ch
 >= 32)

433 i‡(
ch
 < 127)

434 *
bpout
++ = 
ch
;

435 i‡(
ch
 == 127)

437 *
bpout
++ = '^';

438 *
bpout
++ = '?';

442 *
bpout
++ = 'M';

443 *
bpout
++ = '-';

444 i‡(
ch
 >= 128 + 32)

446 i‡(
ch
 < 128 + 127)

447 *
bpout
++ = 
ch
 - 128;

450 *
bpout
++ = '^';

451 *
bpout
++ = '?';

456 *
bpout
++ = '^';

457 *
bpout
++ = 
ch
 - 128 + 64;

461 i‡(
ch
 ='\t' && !
show_èbs
)

462 *
bpout
++ = '\t';

463 i‡(
ch
 == '\n')

465 
√wlöes
 = -1;

470 *
bpout
++ = '^';

471 *
bpout
++ = 
ch
 + 64;

474 
ch
 = *
bpö
++;

480 
åue
)

482 i‡(
ch
 ='\t' && 
show_èbs
)

484 *
bpout
++ = '^';

485 *
bpout
++ = 
ch
 + 64;

487 i‡(
ch
 != '\n')

488 *
bpout
++ = 
ch
;

491 
√wlöes
 = -1;

495 
ch
 = *
bpö
++;

499 
	}
}

502 
	$maö
 (
¨gc
, **
¨gv
)

505 
size_t
 
outsize
;

508 
size_t
 
ösize
;

510 
size_t
 
∑ge_size
 = 
	`gë∑gesize
 ();

513 *
öbuf
;

516 *
outbuf
;

518 
boﬁ
 
ok
 = 
åue
;

519 
c
;

522 
¨göd
;

525 
dev_t
 
out_dev
;

528 
öo_t
 
out_öo
;

531 
boﬁ
 
check_ªdúe˘i⁄
 = 
åue
;

534 
boﬁ
 
have_ªad_°dö
 = 
Ál£
;

536 
°©
 
°©_buf
;

539 
boﬁ
 
numbî
 = 
Ál£
;

540 
boﬁ
 
numbî_n⁄bœnk
 = 
Ál£
;

541 
boﬁ
 
squìze_bœnk
 = 
Ál£
;

542 
boﬁ
 
show_íds
 = 
Ál£
;

543 
boﬁ
 
show_n⁄¥ötög
 = 
Ál£
;

544 
boﬁ
 
show_èbs
 = 
Ál£
;

545 
fûe_›í_mode
 = 
O_RDONLY
;

547 
›ti⁄
 c⁄° 
l⁄g_›ti⁄s
[] =

549 {"numbî-n⁄bœnk", 
no_¨gumít
, 
NULL
, 'b'},

550 {"numbî", 
no_¨gumít
, 
NULL
, 'n'},

551 {"squìze-bœnk", 
no_¨gumít
, 
NULL
, 's'},

552 {"show-n⁄¥ötög", 
no_¨gumít
, 
NULL
, 'v'},

553 {"show-íds", 
no_¨gumít
, 
NULL
, 'E'},

554 {"show-èbs", 
no_¨gumít
, 
NULL
, 'T'},

555 {"show-Æl", 
no_¨gumít
, 
NULL
, 'A'},

556 {
GETOPT_HELP_OPTION_DECL
},

557 {
GETOPT_VERSION_OPTION_DECL
},

558 {
NULL
, 0, NULL, 0}

561 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

562 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

563 
	`£éoˇÀ
 (
LC_ALL
, "");

564 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

565 
	`ãxtdomaö
 (
PACKAGE
);

571 
	`©exô
 (
˛o£_°dout
);

575 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "bí°uvAET", 
l⁄g_›ti⁄s
, 
NULL
))

578 
c
)

581 
numbî
 = 
åue
;

582 
numbî_n⁄bœnk
 = 
åue
;

586 
show_íds
 = 
åue
;

587 
show_n⁄¥ötög
 = 
åue
;

591 
numbî
 = 
åue
;

595 
squìze_bœnk
 = 
åue
;

599 
show_èbs
 = 
åue
;

600 
show_n⁄¥ötög
 = 
åue
;

608 
show_n⁄¥ötög
 = 
åue
;

612 
show_n⁄¥ötög
 = 
åue
;

613 
show_íds
 = 
åue
;

614 
show_èbs
 = 
åue
;

618 
show_íds
 = 
åue
;

622 
show_èbs
 = 
åue
;

625 
ˇ£_GETOPT_HELP_CHAR
;

627 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

630 
	`ußge
 (
EXIT_FAILURE
);

636 i‡(
	`f°©
 (
STDOUT_FILENO
, &
°©_buf
) < 0)

637 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard output"));

639 
outsize
 = 
	`io_blksize
 (
°©_buf
);

646 i‡(
	`S_ISREG
 (
°©_buf
.
°_mode
))

648 
out_dev
 = 
°©_buf
.
°_dev
;

649 
out_öo
 = 
°©_buf
.
°_öo
;

653 
check_ªdúe˘i⁄
 = 
Ál£
;

654 #ifde‡
löt


655 
out_dev
 = 0;

656 
out_öo
 = 0;

660 i‡(! (
numbî
 || 
show_íds
 || 
squìze_bœnk
))

662 
fûe_›í_mode
 |
O_BINARY
;

663 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

664 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

671 
öfûe
 = "-";

672 
¨göd
 = 
›töd
;

676 i‡(
¨göd
 < 
¨gc
)

677 
öfûe
 = 
¨gv
[
¨göd
];

679 i‡(
	`STREQ
 (
öfûe
, "-"))

681 
have_ªad_°dö
 = 
åue
;

682 
öput_desc
 = 
STDIN_FILENO
;

683 i‡((
fûe_›í_mode
 & 
O_BINARY
Ë&& ! 
	`ißây
 (
STDIN_FILENO
))

684 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

688 
öput_desc
 = 
	`›í
 (
öfûe
, 
fûe_›í_mode
);

689 i‡(
öput_desc
 < 0)

691 
	`îr‹
 (0, 
î∫o
, "%s", 
öfûe
);

692 
ok
 = 
Ál£
;

697 i‡(
	`f°©
 (
öput_desc
, &
°©_buf
) < 0)

699 
	`îr‹
 (0, 
î∫o
, "%s", 
öfûe
);

700 
ok
 = 
Ál£
;

701 
c⁄tö
;

703 
ösize
 = 
	`io_blksize
 (
°©_buf
);

705 
	`fdadvi£
 (
öput_desc
, 0, 0, 
FADVISE_SEQUENTIAL
);

712 i‡(
check_ªdúe˘i⁄


713 && 
°©_buf
.
°_dev
 =
out_dev
 && sèt_buf.
°_öo
 =
out_öo


714 && (
öput_desc
 !
STDIN_FILENO
))

716 
	`îr‹
 (0, 0, 
	`_
("%s: i≈uàfûêi†ouçuàfûe"), 
öfûe
);

717 
ok
 = 
Ál£
;

718 
c⁄tö
;

724 i‡(! (
numbî
 || 
show_íds
 || 
show_n⁄¥ötög


725 || 
show_èbs
 || 
squìze_bœnk
))

727 
ösize
 = 
	`MAX
 (ösize, 
outsize
);

728 
öbuf
 = 
	`xmÆloc
 (
ösize
 + 
∑ge_size
 - 1);

730 
ok
 &
	`sim∂e_ˇt
 (
	`±r_Æign
 (
öbuf
, 
∑ge_size
), 
ösize
);

734 
öbuf
 = 
	`xmÆloc
 (
ösize
 + 1 + 
∑ge_size
 - 1);

758 
outbuf
 = 
	`xmÆloc
 (
outsize
 - 1 + 
ösize
 * 4 + 
LINE_COUNTER_BUF_LEN


759 + 
∑ge_size
 - 1);

761 
ok
 &
	`ˇt
 (
	`±r_Æign
 (
öbuf
, 
∑ge_size
), 
ösize
,

762 
	`±r_Æign
 (
outbuf
, 
∑ge_size
), 
outsize
, 
show_n⁄¥ötög
,

763 
show_èbs
, 
numbî
, 
numbî_n⁄bœnk
, 
show_íds
,

764 
squìze_bœnk
);

766 
	`‰ì
 (
outbuf
);

769 
	`‰ì
 (
öbuf
);

771 
c⁄tö
:

772 i‡(!
	`STREQ
 (
öfûe
, "-"Ë&& 
	`˛o£
 (
öput_desc
) < 0)

774 
	`îr‹
 (0, 
î∫o
, "%s", 
öfûe
);

775 
ok
 = 
Ál£
;

778 ++
¨göd
 < 
¨gc
);

780 i‡(
have_ªad_°dö
 && 
	`˛o£
 (
STDIN_FILENO
) < 0)

781 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("closing standard input"));

783 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

784 
	}
}

	@chcon.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<sys/ty≥s.h
>

20 
	~<gë›t.h
>

22 
	~"sy°em.h
"

23 
	~"dev-öo.h
"

24 
	~"îr‹.h
"

25 
	~"ign‹e-vÆue.h
"

26 
	~"quŸe.h
"

27 
	~"quŸórg.h
"

28 
	~"roŸ-dev-öo.h
"

29 
	~"£löux-©.h
"

30 
	~"x·s.h
"

33 
	#PROGRAM_NAME
 "chc⁄"

	)

35 
	#AUTHORS
 \

36 
	`¥›î_«me
 ("Russell Coker"), \

37 
	`¥›î_«me
 ("Jim Meyîög")

	)

41 
boﬁ
 
	gaf„˘_symlök_ª„ª¡
;

44 
boﬁ
 
	gªcur£
;

47 
boﬁ
 
	gvîbo£
;

51 
dev_öo
 *
	groŸ_dev_öo
;

54 c⁄° *
	g•ecifõd_c⁄ãxt
;

57 c⁄° *
	g•ecifõd_u£r
;

58 c⁄° *
	g•ecifõd_rﬁe
;

59 c⁄° *
	g•ecifõd_ønge
;

60 c⁄° *
	g•ecifõd_ty≥
;

66 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

67 
	mNO_PRESERVE_ROOT
,

68 
	mPRESERVE_ROOT
,

69 
	mREFERENCE_FILE_OPTION


72 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

74 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

75 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 
DEREFERENCE_OPTION
},

76 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'h'},

77 {"no-¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
NO_PRESERVE_ROOT
},

78 {"¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
PRESERVE_ROOT
},

79 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 
REFERENCE_FILE_OPTION
},

80 {"u£r", 
ªquúed_¨gumít
, 
NULL
, 'u'},

81 {"rﬁe", 
ªquúed_¨gumít
, 
NULL
, 'r'},

82 {"ty≥", 
ªquúed_¨gumít
, 
NULL
, 't'},

83 {"ønge", 
ªquúed_¨gumít
, 
NULL
, 'l'},

84 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

85 {
GETOPT_HELP_OPTION_DECL
},

86 {
GETOPT_VERSION_OPTION_DECL
},

87 {
NULL
, 0, NULL, 0}

94 
	$compuã_c⁄ãxt_‰om_mask
 (
£curôy_c⁄ãxt_t
 
c⁄ãxt
, 
c⁄ãxt_t
 *
ªt
)

96 
boﬁ
 
ok
 = 
åue
;

97 
c⁄ãxt_t
 
√w_c⁄ãxt
 = 
	`c⁄ãxt_√w
 (
c⁄ãxt
);

98 i‡(!
√w_c⁄ãxt
)

100 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo create security context: %s"),

101 
	`quŸórg_cﬁ⁄
 (
c⁄ãxt
));

105 
	#SET_COMPONENT
(
C
, 
comp
) \

108 i‡(
•ecifõd_
 ## 
comp
 \

109 && 
c⁄ãxt_
 ## 
comp
 ## 
	`_£t
 ((
C
), 
•ecifõd_
 ## comp)) \

111 
	`îr‹
 (0, 
î∫o
, \

112 
	`_
("failedÅo set %s security context componentÅo %s"), \

113 #comp, 
	`quŸe
 (
•ecifõd_
 ## 
comp
)); \

114 
ok
 = 
Ál£
; \

117 0)

	)

119 
	`SET_COMPONENT
 (
√w_c⁄ãxt
, 
u£r
);

120 
	`SET_COMPONENT
 (
√w_c⁄ãxt
, 
ønge
);

121 
	`SET_COMPONENT
 (
√w_c⁄ãxt
, 
rﬁe
);

122 
	`SET_COMPONENT
 (
√w_c⁄ãxt
, 
ty≥
);

124 i‡(!
ok
)

126 
ßved_î∫o
 = 
î∫o
;

127 
	`c⁄ãxt_‰ì
 (
√w_c⁄ãxt
);

128 
î∫o
 = 
ßved_î∫o
;

132 *
ªt
 = 
√w_c⁄ãxt
;

134 
	}
}

141 
	$ch™ge_fûe_c⁄ãxt
 (
fd
, c⁄° *
fûe
)

143 
£curôy_c⁄ãxt_t
 
fûe_c⁄ãxt
 = 
NULL
;

144 
c⁄ãxt_t
 
c⁄ãxt
;

145 
£curôy_c⁄ãxt_t
 
c⁄ãxt_°rög
;

146 
îr‹s
 = 0;

148 i‡(
•ecifõd_c⁄ãxt
 =
NULL
)

150 
°©us
 = (
af„˘_symlök_ª„ª¡


151 ? 
	`gëfûec⁄©
 (
fd
, 
fûe
, &
fûe_c⁄ãxt
)

152 : 
	`lgëfûec⁄©
 (
fd
, 
fûe
, &
fûe_c⁄ãxt
));

154 i‡(
°©us
 < 0 && 
î∫o
 !
ENODATA
)

156 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get security context of %s"),

157 
	`quŸe
 (
fûe
));

164 i‡(
fûe_c⁄ãxt
 =
NULL
)

166 
	`îr‹
 (0, 0, 
	`_
("can'tápplyÖartial contextÅo unlabeled file %s"),

167 
	`quŸe
 (
fûe
));

171 i‡(
	`compuã_c⁄ãxt_‰om_mask
 (
fûe_c⁄ãxt
, &
c⁄ãxt
))

177 
c⁄ãxt
 = 
	`c⁄ãxt_√w
 (
•ecifõd_c⁄ãxt
);

178 i‡(!
c⁄ãxt
)

179 
	`ab‹t
 ();

182 
c⁄ãxt_°rög
 = 
	`c⁄ãxt_°r
 (
c⁄ãxt
);

184 i‡(
fûe_c⁄ãxt
 =
NULL
 || ! 
	`STREQ
 (
c⁄ãxt_°rög
, file_context))

186 
Áû
 = (
af„˘_symlök_ª„ª¡


187 ? 
	`£tfûec⁄©
 (
fd
, 
fûe
, 
c⁄ãxt_°rög
)

188 : 
	`l£tfûec⁄©
 (
fd
, 
fûe
, 
c⁄ãxt_°rög
));

190 i‡(
Áû
)

192 
îr‹s
 = 1;

193 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo change context of %sÅo %s"),

194 
	`quŸe_n
 (0, 
fûe
), quŸe_¿(1, 
c⁄ãxt_°rög
));

198 
	`c⁄ãxt_‰ì
 (
c⁄ãxt
);

199 
	`‰ìc⁄
 (
fûe_c⁄ãxt
);

201  
îr‹s
;

202 
	}
}

208 
boﬁ


209 
	$¥o˚ss_fûe
 (
FTS
 *
·s
, 
FTSENT
 *
ít
)

211 c⁄° *
fûe_fuŒ_«me
 = 
ít
->
·s_∑th
;

212 c⁄° *
fûe
 = 
ít
->
·s_ac˝©h
;

213 c⁄° 
°©
 *
fûe_°©s
 = 
ít
->
·s_°©p
;

214 
boﬁ
 
ok
 = 
åue
;

216 
ít
->
·s_öfo
)

218 
FTS_D
:

219 i‡(
ªcur£
)

221 i‡(
	`ROOT_DEV_INO_CHECK
 (
roŸ_dev_öo
, 
ít
->
·s_°©p
))

225 
	`ROOT_DEV_INO_WARN
 (
fûe_fuŒ_«me
);

227 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

229 
	`ign‹e_vÆue
 (
	`·s_ªad
 (
·s
));

230  
Ál£
;

232  
åue
;

236 
FTS_DP
:

237 i‡(! 
ªcur£
)

238  
åue
;

241 
FTS_NS
:

249 i‡(
ít
->
·s_Àvñ
 =0 &&É¡->
·s_numbî
 == 0)

251 
ít
->
·s_numbî
 = 1;

252 
	`·s_£t
 (
·s
, 
ít
, 
FTS_AGAIN
);

253  
åue
;

255 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("ˇ¬Ÿác˚s†%s"), 
	`quŸe
 (
fûe_fuŒ_«me
));

256 
ok
 = 
Ál£
;

259 
FTS_ERR
:

260 
	`îr‹
 (0, 
ít
->
·s_î∫o
, "%s", 
	`quŸe
 (
fûe_fuŒ_«me
));

261 
ok
 = 
Ál£
;

264 
FTS_DNR
:

265 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("cannotÑead directory %s"),

266 
	`quŸe
 (
fûe_fuŒ_«me
));

267 
ok
 = 
Ál£
;

270 
FTS_DC
:

271 i‡(
	`cy˛e_w¨nög_ªquúed
 (
·s
, 
ít
))

273 
	`emô_cy˛e_w¨nög
 (
fûe_fuŒ_«me
);

274  
Ál£
;

282 i‡(
ít
->
·s_öfo
 =
FTS_DP


283 && 
ok
 && 
	`ROOT_DEV_INO_CHECK
 (
roŸ_dev_öo
, 
fûe_°©s
))

285 
	`ROOT_DEV_INO_WARN
 (
fûe_fuŒ_«me
);

286 
ok
 = 
Ál£
;

289 i‡(
ok
)

291 i‡(
vîbo£
)

292 
	`¥ötf
 (
	`_
("changing security context of %s\n"),

293 
	`quŸe
 (
fûe_fuŒ_«me
));

295 i‡(
	`ch™ge_fûe_c⁄ãxt
 (
·s
->
·s_cwd_fd
, 
fûe
) != 0)

296 
ok
 = 
Ál£
;

299 i‡–! 
ªcur£
)

300 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

302  
ok
;

303 
	}
}

309 
boﬁ


310 
	$¥o˚ss_fûes
 (**
fûes
, 
bô_Êags
)

312 
boﬁ
 
ok
 = 
åue
;

314 
FTS
 *
·s
 = 
	`x·s_›í
 (
fûes
, 
bô_Êags
, 
NULL
);

318 
FTSENT
 *
ít
;

320 
ít
 = 
	`·s_ªad
 (
·s
);

321 i‡(
ít
 =
NULL
)

323 i‡(
î∫o
 != 0)

326 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_read failed"));

327 
ok
 = 
Ál£
;

332 
ok
 &
	`¥o˚ss_fûe
 (
·s
, 
ít
);

335 i‡(
	`·s_˛o£
 (
·s
) != 0)

337 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_close failed"));

338 
ok
 = 
Ál£
;

341  
ok
;

342 
	}
}

345 
	$ußge
 (
°©us
)

347 i‡(
°©us
 !
EXIT_SUCCESS
)

348 
	`emô_åy_hñp
 ();

351 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... CONTEXT FILE...\n\
: %s [OPTION]... [-u USER] [-r ROLE] [-l RANGE] [-t TYPE] FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

356 
¥ogøm_«me
,Örogram_name,Örogram_name);

357 
	`Âuts
 (
	`_
("\
Åhê£curôy c⁄ãxào‡óch FILEÅÿCONTEXT.\n\
 --ª„ªn˚, ch™gêthê£curôy c⁄ãxào‡óch FILEÅÿth© o‡RFILE.\n\
"), 
°dout
);

362 
	`emô_m™d©‹y_¨g_nŸe
 ();

364 
	`Âuts
 (
	`_
("\
--dîe„ªn˚áf„˘Åhêª„ª¡ o‡óch symbﬁi¯lök (thi†is\n\
 deÁu…),Ñ©hîÅh™Åhêsymbﬁi¯lök it£lf\n\
-h, --no-dîe„ªn˚áf„˘ symbﬁi¯lök†ö°ód o‡™yÑe„ªn˚d fûe\n\
"), 
°dout
);

369 
	`Âuts
 (
	`_
("\
-u, --u£r=USER së u£∏USER i¿thêèrgë securôy c⁄ãxt\n\
-r, --rﬁe=ROLE sëÑﬁêROLE i¿thêèrgë securôy c⁄ãxt\n\
-t, --ty≥=TYPE sëÅy≥ TYPE i¿thêèrgë securôy c⁄ãxt\n\
-l, --ønge=RANGE sëÑ™gêRANGE i¿thêèrgë securôy c⁄ãxt\n\
"), 
°dout
);

375 
	`Âuts
 (
	`_
("\
--no-¥e£rve-roŸ dÿnŸÅª© '/' s≥cüŒy (thêdeÁu…)\n\
--¥e£rve-roŸ faûÅÿ›î©êªcursivñy o¿'/'\n\
"), 
°dout
);

379 
	`Âuts
 (
	`_
("\
--ª„ªn˚=RFILE u£ RFILE'†£curôy c⁄ãxàøthîÅh™ s≥cifyög\n\
 CONTEXT vÆue\n\
"), 
°dout
);

383 
	`Âuts
 (
	`_
("\
-R, --ªcursivê o≥øã o¿fûe†™d dúe˘‹õ†ªcursivñy\n\
"), 
°dout
);

386 
	`Âuts
 (
	`_
("\
-v, --vîbo£ ouçuà®dügno°i¯f‹Évîy fûê¥o˚s£d\n\
"), 
°dout
);

389 
	`Âuts
 (
	`_
("\
\n\
 fﬁlowög o±i⁄†modify howá hõørchy i†åavî£d whíÅhê-R\n\
 i†Æsÿ•ecifõd. I‡m‹êth™ o√ i†•ecifõd, o∆yÅhêföÆ\n\
Åake†ef„˘.\n\
\n\
-H i‡®comm™dÜöê¨gumíài†®symbﬁi¯lök\n\
á dúe˘‹y,Åøvî£ it\n\
-LÅøvî£Évîy symbﬁi¯lökÅÿ®dúe˘‹y\n\
\n\
-P dÿnŸÅøvî£ány symbﬁi¯lök†(deÁu…)\n\
\n\
"), 
°dout
);

402 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

403 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

404 
	`emô_™cûœry_öfo
 ();

406 
	`exô
 (
°©us
);

407 
	}
}

410 
	$maö
 (
¨gc
, **
¨gv
)

412 
£curôy_c⁄ãxt_t
 
ªf_c⁄ãxt
 = 
NULL
;

415 
bô_Êags
 = 
FTS_PHYSICAL
;

419 
dîe„ªn˚
 = -1;

421 
boﬁ
 
ok
;

422 
boﬁ
 
¥e£rve_roŸ
 = 
Ál£
;

423 
boﬁ
 
comp⁄ít_•ecifõd
 = 
Ál£
;

424 *
ª„ªn˚_fûe
 = 
NULL
;

425 
›tc
;

427 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

428 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

429 
	`£éoˇÀ
 (
LC_ALL
, "");

430 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

431 
	`ãxtdomaö
 (
PACKAGE
);

433 
	`©exô
 (
˛o£_°dout
);

435 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "HLPRhvu:r:t:l:", 
l⁄g_›ti⁄s
, 
NULL
))

438 
›tc
)

441 
bô_Êags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

445 
bô_Êags
 = 
FTS_LOGICAL
;

449 
bô_Êags
 = 
FTS_PHYSICAL
;

453 
dîe„ªn˚
 = 0;

456 
DEREFERENCE_OPTION
:

458 
dîe„ªn˚
 = 1;

461 
NO_PRESERVE_ROOT
:

462 
¥e£rve_roŸ
 = 
Ál£
;

465 
PRESERVE_ROOT
:

466 
¥e£rve_roŸ
 = 
åue
;

469 
REFERENCE_FILE_OPTION
:

470 
ª„ªn˚_fûe
 = 
›èrg
;

474 
ªcur£
 = 
åue
;

482 
vîbo£
 = 
åue
;

486 
•ecifõd_u£r
 = 
›èrg
;

487 
comp⁄ít_•ecifõd
 = 
åue
;

491 
•ecifõd_rﬁe
 = 
›èrg
;

492 
comp⁄ít_•ecifõd
 = 
åue
;

496 
•ecifõd_ty≥
 = 
›èrg
;

497 
comp⁄ít_•ecifõd
 = 
åue
;

501 
•ecifõd_ønge
 = 
›èrg
;

502 
comp⁄ít_•ecifõd
 = 
åue
;

505 
ˇ£_GETOPT_HELP_CHAR
;

506 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

508 
	`ußge
 (
EXIT_FAILURE
);

512 i‡(
ªcur£
)

514 i‡(
bô_Êags
 =
FTS_PHYSICAL
)

516 i‡(
dîe„ªn˚
 == 1)

517 
	`îr‹
 (
EXIT_FAILURE
, 0,

518 
	`_
("-R --dereferenceÑequiresÉither -H or -L"));

519 
af„˘_symlök_ª„ª¡
 = 
Ál£
;

523 i‡(
dîe„ªn˚
 == 0)

524 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("-R -hÑequires -P"));

525 
af„˘_symlök_ª„ª¡
 = 
åue
;

530 
bô_Êags
 = 
FTS_PHYSICAL
;

531 
af„˘_symlök_ª„ª¡
 = (
dîe„ªn˚
 != 0);

534 i‡(
¨gc
 - 
›töd
 < (
ª„ªn˚_fûe
 || 
comp⁄ít_•ecifõd
 ? 1 : 2))

536 i‡(
¨gc
 <
›töd
)

537 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

539 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

540 
	`ußge
 (
EXIT_FAILURE
);

543 i‡(
ª„ªn˚_fûe
)

545 i‡(
	`gëfûec⁄
 (
ª„ªn˚_fûe
, &
ªf_c⁄ãxt
) < 0)

546 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo get security context of %s"),

547 
	`quŸe
 (
ª„ªn˚_fûe
));

549 
•ecifõd_c⁄ãxt
 = 
ªf_c⁄ãxt
;

551 i‡(
comp⁄ít_•ecifõd
)

554 
•ecifõd_c⁄ãxt
 = 
NULL
;

558 
c⁄ãxt_t
 
c⁄ãxt
;

559 
•ecifõd_c⁄ãxt
 = 
¨gv
[
›töd
++];

560 
c⁄ãxt
 = 
	`c⁄ãxt_√w
 (
•ecifõd_c⁄ãxt
);

561 i‡(!
c⁄ãxt
)

562 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid context: %s"),

563 
	`quŸórg_cﬁ⁄
 (
•ecifõd_c⁄ãxt
));

564 
	`c⁄ãxt_‰ì
 (
c⁄ãxt
);

567 i‡(
ª„ªn˚_fûe
 && 
comp⁄ít_•ecifõd
)

569 
	`îr‹
 (0, 0, 
	`_
("conflicting security context specifiers given"));

570 
	`ußge
 (
EXIT_FAILURE
);

573 i‡(
ªcur£
 && 
¥e£rve_roŸ
)

575 
dev_öo
 
dev_öo_buf
;

576 
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

577 i‡(
roŸ_dev_öo
 =
NULL
)

578 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

579 
	`quŸe
 ("/"));

583 
roŸ_dev_öo
 = 
NULL
;

586 
ok
 = 
	`¥o˚ss_fûes
 (
¨gv
 + 
›töd
, 
bô_Êags
 | 
FTS_NOSTAT
);

588 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

589 
	}
}

	@chgrp.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gΩ.h
>

23 
	~<gë›t.h
>

25 
	~"sy°em.h
"

26 
	~"chown-c‹e.h
"

27 
	~"îr‹.h
"

28 
	~"·s_.h
"

29 
	~"quŸe.h
"

30 
	~"roŸ-dev-öo.h
"

31 
	~"x°πﬁ.h
"

34 
	#PROGRAM_NAME
 "chgΩ"

	)

36 
	#AUTHORS
 \

37 
	`¥›î_«me
 ("David MacKenzie"), \

38 
	`¥›î_«me
 ("Jim Meyîög")

	)

40 #i‡! 
HAVE_ENDGRENT


41 
	#ídgª¡
(Ë((Ë0)

	)

46 *
	gª„ªn˚_fûe
;

52 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

53 
	mNO_PRESERVE_ROOT
,

54 
	mPRESERVE_ROOT
,

55 
	mREFERENCE_FILE_OPTION


58 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

60 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

61 {"ch™ges", 
no_¨gumít
, 
NULL
, 'c'},

62 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 
DEREFERENCE_OPTION
},

63 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'h'},

64 {"no-¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
NO_PRESERVE_ROOT
},

65 {"¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
PRESERVE_ROOT
},

66 {"quõt", 
no_¨gumít
, 
NULL
, 'f'},

67 {"sûít", 
no_¨gumít
, 
NULL
, 'f'},

68 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 
REFERENCE_FILE_OPTION
},

69 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

70 {
GETOPT_HELP_OPTION_DECL
},

71 {
GETOPT_VERSION_OPTION_DECL
},

72 {
NULL
, 0, NULL, 0}

77 
gid_t


78 
	$∑r£_group
 (c⁄° *
«me
)

80 
gid_t
 
gid
 = -1;

82 i‡(*
«me
)

84 
group
 *
gΩ
 = 
	`gëg∫am
 (
«me
);

85 i‡(
gΩ
)

86 
gid
 = 
gΩ
->
gr_gid
;

89 
tmp
;

90 i‡(! (
	`x°πoul
 (
«me
, 
NULL
, 10, &
tmp
, ""Ë=
LONGINT_OK


91 && 
tmp
 <
GID_T_MAX
))

92 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid group: %s"), 
	`quŸe
 (
«me
));

93 
gid
 = 
tmp
;

95 
	`ídgª¡
 ();

98  
gid
;

99 
	}
}

102 
	$ußge
 (
°©us
)

104 i‡(
°©us
 !
EXIT_SUCCESS
)

105 
	`emô_åy_hñp
 ();

108 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... GROUP FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

112 
¥ogøm_«me
,Örogram_name);

113 
	`Âuts
 (
	`_
("\
Åhêgrou∞o‡óch FILEÅÿGROUP.\n\
 --ª„ªn˚, ch™gêthêgrou∞o‡óch FILEÅÿth© o‡RFILE.\n\
\n\
"), 
°dout
);

118 
	`Âuts
 (
	`_
("\
-c, --ch™ge†Üikêvîbo£ buàªp‹à⁄ly whíá ch™gêi†made\n\
-f, --sûít, --quõà suµªs†mo°Éº‹ mesßges\n\
-v, --vîbo£ ouçuà®dügno°i¯f‹Évîy fûê¥o˚s£d\n\
"), 
°dout
);

123 
	`Âuts
 (
	`_
("\
--dîe„ªn˚áf„˘Åhêª„ª¡ o‡óch symbﬁi¯lök (thi†is\n\
 deÁu…),Ñ©hîÅh™Åhêsymbﬁi¯lök it£lf\n\
-h, --no-dîe„ªn˚áf„˘ symbﬁi¯lök†ö°ód o‡™yÑe„ªn˚d fûe\n\
"), 
°dout
);

128 
	`Âuts
 (
	`_
("\
(u£fu»⁄ly o¿sy°em†th© c™ ch™gêthe\n\
 o‡®symlök)\n\
"), 
°dout
);

132 
	`Âuts
 (
	`_
("\
--no-¥e£rve-roŸ dÿnŸÅª© '/' s≥cüŒy (thêdeÁu…)\n\
--¥e£rve-roŸ faûÅÿ›î©êªcursivñy o¿'/'\n\
"), 
°dout
);

136 
	`Âuts
 (
	`_
("\
--ª„ªn˚=RFILE u£ RFILE'†grou∞øthîÅh™ s≥cifyögá\n\
 vÆue\n\
"), 
°dout
);

140 
	`Âuts
 (
	`_
("\
-R, --ªcursivê o≥øã o¿fûe†™d dúe˘‹õ†ªcursivñy\n\
"), 
°dout
);

143 
	`Âuts
 (
	`_
("\
\n\
 fﬁlowög o±i⁄†modify howá hõørchy i†åavî£d whíÅhê-R\n\
 i†Æsÿ•ecifõd. I‡m‹êth™ o√ i†•ecifõd, o∆yÅhêföÆ\n\
Åake†ef„˘.\n\
\n\
-H i‡®comm™dÜöê¨gumíài†®symbﬁi¯lök\n\
á dúe˘‹y,Åøvî£ it\n\
-LÅøvî£Évîy symbﬁi¯lökÅÿ®dúe˘‹y\n\
\n\
-P dÿnŸÅøvî£ány symbﬁi¯lök†(deÁu…)\n\
\n\
"), 
°dout
);

156 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

157 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

158 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%s staff /u ChangeÅhe group of /uÅo \"staff\".\n\
%s -hR staff /u ChangeÅhe group of /uánd subfilesÅo \"staff\".\n\
"),

164 
¥ogøm_«me
,Örogram_name);

165 
	`emô_™cûœry_öfo
 ();

167 
	`exô
 (
°©us
);

168 
	}
}

171 
	$maö
 (
¨gc
, **
¨gv
)

173 
boﬁ
 
¥e£rve_roŸ
 = 
Ál£
;

174 
gid_t
 
gid
;

177 
bô_Êags
 = 
FTS_PHYSICAL
;

181 
dîe„ªn˚
 = -1;

183 
Chown_›ti⁄
 
ch›t
;

184 
boﬁ
 
ok
;

185 
›tc
;

187 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

188 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

189 
	`£éoˇÀ
 (
LC_ALL
, "");

190 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

191 
	`ãxtdomaö
 (
PACKAGE
);

193 
	`©exô
 (
˛o£_°dout
);

195 
	`ch›t_öô
 (&
ch›t
);

197 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "HLPRcfhv", 
l⁄g_›ti⁄s
, 
NULL
))

200 
›tc
)

203 
bô_Êags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

207 
bô_Êags
 = 
FTS_LOGICAL
;

211 
bô_Êags
 = 
FTS_PHYSICAL
;

215 
dîe„ªn˚
 = 0;

218 
DEREFERENCE_OPTION
:

220 
dîe„ªn˚
 = 1;

223 
NO_PRESERVE_ROOT
:

224 
¥e£rve_roŸ
 = 
Ál£
;

227 
PRESERVE_ROOT
:

228 
¥e£rve_roŸ
 = 
åue
;

231 
REFERENCE_FILE_OPTION
:

232 
ª„ªn˚_fûe
 = 
›èrg
;

236 
ch›t
.
ªcur£
 = 
åue
;

240 
ch›t
.
vîbosôy
 = 
V_ch™ges_⁄ly
;

244 
ch›t
.
f‹˚_sûít
 = 
åue
;

248 
ch›t
.
vîbosôy
 = 
V_high
;

251 
ˇ£_GETOPT_HELP_CHAR
;

252 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

254 
	`ußge
 (
EXIT_FAILURE
);

258 i‡(
ch›t
.
ªcur£
)

260 i‡(
bô_Êags
 =
FTS_PHYSICAL
)

262 i‡(
dîe„ªn˚
 == 1)

263 
	`îr‹
 (
EXIT_FAILURE
, 0,

264 
	`_
("-R --dereferenceÑequiresÉither -H or -L"));

265 
dîe„ªn˚
 = 0;

270 
bô_Êags
 = 
FTS_PHYSICAL
;

272 
ch›t
.
af„˘_symlök_ª„ª¡
 = (
dîe„ªn˚
 != 0);

274 i‡(
¨gc
 - 
›töd
 < (
ª„ªn˚_fûe
 ? 1 : 2))

276 i‡(
¨gc
 <
›töd
)

277 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

279 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

280 
	`ußge
 (
EXIT_FAILURE
);

283 i‡(
ª„ªn˚_fûe
)

285 
°©
 
ªf_°©s
;

286 i‡(
	`°©
 (
ª„ªn˚_fûe
, &
ªf_°©s
))

287 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

288 
	`quŸe
 (
ª„ªn˚_fûe
));

290 
gid
 = 
ªf_°©s
.
°_gid
;

291 
ch›t
.
group_«me
 = 
	`gid_to_«me
 (
ªf_°©s
.
°_gid
);

295 *
group_«me
 = 
¨gv
[
›töd
++];

296 
ch›t
.
group_«me
 = (*group_«mê? group_«mê: 
NULL
);

297 
gid
 = 
	`∑r£_group
 (
group_«me
);

300 i‡(
ch›t
.
ªcur£
 && 
¥e£rve_roŸ
)

302 
dev_öo
 
dev_öo_buf
;

303 
ch›t
.
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

304 i‡(
ch›t
.
roŸ_dev_öo
 =
NULL
)

305 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

306 
	`quŸe
 ("/"));

309 
bô_Êags
 |
FTS_DEFER_STAT
;

310 
ok
 = 
	`chown_fûes
 (
¨gv
 + 
›töd
, 
bô_Êags
,

311 (
uid_t
Ë-1, 
gid
,

312 (
uid_t
Ë-1, (
gid_t
Ë-1, &
ch›t
);

314 
	`ch›t_‰ì
 (&
ch›t
);

316 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

317 
	}
}

	@chmod.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"dev-öo.h
"

26 
	~"îr‹.h
"

27 
	~"fûemode.h
"

28 
	~"ign‹e-vÆue.h
"

29 
	~"modech™ge.h
"

30 
	~"quŸe.h
"

31 
	~"quŸórg.h
"

32 
	~"roŸ-dev-öo.h
"

33 
	~"x·s.h
"

36 
	#PROGRAM_NAME
 "chmod"

	)

38 
	#AUTHORS
 \

39 
	`¥›î_«me
 ("David MacKenzie"), \

40 
	`¥›î_«me
 ("Jim Meyîög")

	)

42 
	eCh™ge_°©us


44 
	mCH_NOT_APPLIED
,

45 
	mCH_SUCCEEDED
,

46 
	mCH_FAILED
,

47 
	mCH_NO_CHANGE_REQUESTED


50 
	eVîbosôy


53 
	mV_high
,

56 
	mV_ch™ges_⁄ly
,

59 
	mV_off


63 
mode_ch™ge
 *
	gch™ge
;

66 
mode_t
 
	gumask_vÆue
;

69 
boﬁ
 
	gªcur£
;

72 
boﬁ
 
	gf‹˚_sûít
;

77 
boﬁ
 
	gdügno£_suΩri£s
;

80 
Vîbosôy
 
	gvîbosôy
 = 
V_off
;

84 
dev_öo
 *
	groŸ_dev_öo
;

90 
	mNO_PRESERVE_ROOT
 = 
CHAR_MAX
 + 1,

91 
	mPRESERVE_ROOT
,

92 
	mREFERENCE_FILE_OPTION


95 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

97 {"ch™ges", 
no_¨gumít
, 
NULL
, 'c'},

98 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

99 {"no-¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
NO_PRESERVE_ROOT
},

100 {"¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
PRESERVE_ROOT
},

101 {"quõt", 
no_¨gumít
, 
NULL
, 'f'},

102 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 
REFERENCE_FILE_OPTION
},

103 {"sûít", 
no_¨gumít
, 
NULL
, 'f'},

104 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

105 {
GETOPT_HELP_OPTION_DECL
},

106 {
GETOPT_VERSION_OPTION_DECL
},

107 {
NULL
, 0, NULL, 0}

113 
boﬁ


114 
	$mode_ch™ged
 (c⁄° *
fûe
, 
mode_t
 
ﬁd_mode
, mode_à
√w_mode
)

116 i‡(
√w_mode
 & (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
))

121 
°©
 
√w_°©s
;

123 i‡(
	`°©
 (
fûe
, &
√w_°©s
) != 0)

125 i‡(! 
f‹˚_sûít
)

126 
	`îr‹
 (0, 
î∫o
, 
	`_
("gëtögÇewáâribuã†o‡%s"), 
	`quŸe
 (
fûe
));

127  
Ál£
;

130 
√w_mode
 = 
√w_°©s
.
°_mode
;

133  ((
ﬁd_mode
 ^ 
√w_mode
Ë& 
CHMOD_MODE_BITS
) != 0;

134 
	}
}

140 
	$des¸ibe_ch™ge
 (c⁄° *
fûe
, 
mode_t
 
ﬁd_mode
, mode_à
mode
,

141 
Ch™ge_°©us
 
ch™ged
)

143 
≥rms
[12];

144 
ﬁd_≥rms
[12];

145 c⁄° *
fmt
;

147 i‡(
ch™ged
 =
CH_NOT_APPLIED
)

149 
	`¥ötf
 (
	`_
("neither symbolicÜink %sÇorÑeferent has been changed\n"),

150 
	`quŸe
 (
fûe
));

154 
	`°rmode
 (
mode
, 
≥rms
);

155 
≥rms
[10] = '\0';

157 
	`°rmode
 (
ﬁd_mode
, 
ﬁd_≥rms
);

158 
ﬁd_≥rms
[10] = '\0';

160 
ch™ged
)

162 
CH_SUCCEEDED
:

163 
fmt
 = 
	`_
("mode of %s changed from %04lo (%s)Åo %04lo (%s)\n");

165 
CH_FAILED
:

166 
fmt
 = 
	`_
("failedÅo change mode of %s from %04lo (%s)Åo %04lo (%s)\n");

168 
CH_NO_CHANGE_REQUESTED
:

169 
fmt
 = 
	`_
("mode of %sÑetainedás %04lo (%s)\n");

170 
	`¥ötf
 (
fmt
, 
	`quŸe
 (
fûe
),

171 (Ë(
mode
 & 
CHMOD_MODE_BITS
), &
≥rms
[1]);

174 
	`ab‹t
 ();

176 
	`¥ötf
 (
fmt
, 
	`quŸe
 (
fûe
),

177 (Ë(
ﬁd_mode
 & 
CHMOD_MODE_BITS
), &
ﬁd_≥rms
[1],

178 (Ë(
mode
 & 
CHMOD_MODE_BITS
), &
≥rms
[1]);

179 
	}
}

185 
boﬁ


186 
	$¥o˚ss_fûe
 (
FTS
 *
·s
, 
FTSENT
 *
ít
)

188 c⁄° *
fûe_fuŒ_«me
 = 
ít
->
·s_∑th
;

189 c⁄° *
fûe
 = 
ít
->
·s_ac˝©h
;

190 c⁄° 
°©
 *
fûe_°©s
 = 
ít
->
·s_°©p
;

191 
mode_t
 
ﬁd_mode
 
	`IF_LINT
 ( = 0);

192 
mode_t
 
√w_mode
 
	`IF_LINT
 ( = 0);

193 
boﬁ
 
ok
 = 
åue
;

194 
boﬁ
 
chmod_suc˚eded
 = 
Ál£
;

196 
ít
->
·s_öfo
)

198 
FTS_DP
:

199  
åue
;

201 
FTS_NS
:

209 i‡(
ít
->
·s_Àvñ
 =0 &&É¡->
·s_numbî
 == 0)

211 
ít
->
·s_numbî
 = 1;

212 
	`·s_£t
 (
·s
, 
ít
, 
FTS_AGAIN
);

213  
åue
;

215 i‡(! 
f‹˚_sûít
)

216 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("cannotáccess %s"),

217 
	`quŸe
 (
fûe_fuŒ_«me
));

218 
ok
 = 
Ál£
;

221 
FTS_ERR
:

222 i‡(! 
f‹˚_sûít
)

223 
	`îr‹
 (0, 
ít
->
·s_î∫o
, "%s", 
	`quŸe
 (
fûe_fuŒ_«me
));

224 
ok
 = 
Ál£
;

227 
FTS_DNR
:

228 i‡(! 
f‹˚_sûít
)

229 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("cannotÑead directory %s"),

230 
	`quŸe
 (
fûe_fuŒ_«me
));

231 
ok
 = 
Ál£
;

234 
FTS_SLNONE
:

235 i‡(! 
f‹˚_sûít
)

236 
	`îr‹
 (0, 0, 
	`_
("cannot operate on dangling symlink %s"),

237 
	`quŸe
 (
fûe_fuŒ_«me
));

238 
ok
 = 
Ál£
;

241 
FTS_DC
:

242 i‡(
	`cy˛e_w¨nög_ªquúed
 (
·s
, 
ít
))

244 
	`emô_cy˛e_w¨nög
 (
fûe_fuŒ_«me
);

245  
Ál£
;

253 i‡(
ok
 && 
	`ROOT_DEV_INO_CHECK
 (
roŸ_dev_öo
, 
fûe_°©s
))

255 
	`ROOT_DEV_INO_WARN
 (
fûe_fuŒ_«me
);

257 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

259 
	`ign‹e_vÆue
 (
	`·s_ªad
 (
·s
));

260  
Ál£
;

263 i‡(
ok
)

265 
ﬁd_mode
 = 
fûe_°©s
->
°_mode
;

266 
√w_mode
 = 
	`mode_adju°
 (
ﬁd_mode
, 
	`S_ISDIR
 (ﬁd_modeË!0, 
umask_vÆue
,

267 
ch™ge
, 
NULL
);

269 i‡(! 
	`S_ISLNK
 (
ﬁd_mode
))

271 i‡(
	`chmod©
 (
·s
->
·s_cwd_fd
, 
fûe
, 
√w_mode
) == 0)

272 
chmod_suc˚eded
 = 
åue
;

275 i‡(! 
f‹˚_sûít
)

276 
	`îr‹
 (0, 
î∫o
, 
	`_
("changingÖermissions of %s"),

277 
	`quŸe
 (
fûe_fuŒ_«me
));

278 
ok
 = 
Ál£
;

283 i‡(
vîbosôy
 !
V_off
)

285 
boﬁ
 
ch™ged
 = (
chmod_suc˚eded


286 && 
	`mode_ch™ged
 (
fûe
, 
ﬁd_mode
, 
√w_mode
));

288 i‡(
ch™ged
 || 
vîbosôy
 =
V_high
)

290 
Ch™ge_°©us
 
ch_°©us
 =

291 (!
ok
 ? 
CH_FAILED


292 : !
chmod_suc˚eded
 ? 
CH_NOT_APPLIED


293 : !
ch™ged
 ? 
CH_NO_CHANGE_REQUESTED


294 : 
CH_SUCCEEDED
);

295 
	`des¸ibe_ch™ge
 (
fûe_fuŒ_«me
, 
ﬁd_mode
, 
√w_mode
, 
ch_°©us
);

299 i‡(
chmod_suc˚eded
 && 
dügno£_suΩri£s
)

301 
mode_t
 
«ivñy_ex≥˘ed_mode
 =

302 
	`mode_adju°
 (
ﬁd_mode
, 
	`S_ISDIR
 (ﬁd_modeË!0, 0, 
ch™ge
, 
NULL
);

303 i‡(
√w_mode
 & ~
«ivñy_ex≥˘ed_mode
)

305 
√w_≥rms
[12];

306 
«ivñy_ex≥˘ed_≥rms
[12];

307 
	`°rmode
 (
√w_mode
, 
√w_≥rms
);

308 
	`°rmode
 (
«ivñy_ex≥˘ed_mode
, 
«ivñy_ex≥˘ed_≥rms
);

309 
√w_≥rms
[10] = 
«ivñy_ex≥˘ed_≥rms
[10] = '\0';

310 
	`îr‹
 (0, 0,

311 
	`_
("%s:ÇewÖermissionsáre %s,Çot %s"),

312 
	`quŸórg_cﬁ⁄
 (
fûe_fuŒ_«me
),

313 
√w_≥rms
 + 1, 
«ivñy_ex≥˘ed_≥rms
 + 1);

314 
ok
 = 
Ál£
;

318 i‡–! 
ªcur£
)

319 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

321  
ok
;

322 
	}
}

328 
boﬁ


329 
	$¥o˚ss_fûes
 (**
fûes
, 
bô_Êags
)

331 
boﬁ
 
ok
 = 
åue
;

333 
FTS
 *
·s
 = 
	`x·s_›í
 (
fûes
, 
bô_Êags
, 
NULL
);

337 
FTSENT
 *
ít
;

339 
ít
 = 
	`·s_ªad
 (
·s
);

340 i‡(
ít
 =
NULL
)

342 i‡(
î∫o
 != 0)

345 i‡(! 
f‹˚_sûít
)

346 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_read failed"));

347 
ok
 = 
Ál£
;

352 
ok
 &
	`¥o˚ss_fûe
 (
·s
, 
ít
);

355 i‡(
	`·s_˛o£
 (
·s
) != 0)

357 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_close failed"));

358 
ok
 = 
Ál£
;

361  
ok
;

362 
	}
}

365 
	$ußge
 (
°©us
)

367 i‡(
°©us
 !
EXIT_SUCCESS
)

368 
	`emô_åy_hñp
 ();

371 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... MODE[,MODE]... FILE...\n\
: %s [OPTION]... OCTAL-MODE FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

376 
¥ogøm_«me
,Örogram_name,Örogram_name);

377 
	`Âuts
 (
	`_
("\
Åhêmodêo‡óch FILEÅÿMODE.\n\
 --ª„ªn˚, ch™gêthêmodêo‡óch FILEÅÿth© o‡RFILE.\n\
\n\
"), 
°dout
);

382 
	`Âuts
 (
	`_
("\
-c, --ch™ge†Üikêvîbo£ buàªp‹à⁄ly whíá ch™gêi†made\n\
-f, --sûít, --quõà suµªs†mo°Éº‹ mesßges\n\
-v, --vîbo£ ouçuà®dügno°i¯f‹Évîy fûê¥o˚s£d\n\
"), 
°dout
);

387 
	`Âuts
 (
	`_
("\
--no-¥e£rve-roŸ dÿnŸÅª© '/' s≥cüŒy (thêdeÁu…)\n\
--¥e£rve-roŸ faûÅÿ›î©êªcursivñy o¿'/'\n\
"), 
°dout
);

391 
	`Âuts
 (
	`_
("\
--ª„ªn˚=RFILE u£ RFILE'†modêö°ód o‡MODE vÆues\n\
"), 
°dout
);

394 
	`Âuts
 (
	`_
("\
-R, --ªcursivê ch™gêfûe†™d dúe˘‹õ†ªcursivñy\n\
"), 
°dout
);

397 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

398 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

399 
	`Âuts
 (
	`_
("\
\n\
 MODE i†o‡thêf‹m '[ugﬂ]*([-+=]([rwxX°]*|[ugo]))+|[-+=][0-7]+'.\n\
"), 
°dout
);

403 
	`emô_™cûœry_öfo
 ();

405 
	`exô
 (
°©us
);

406 
	}
}

412 
	$maö
 (
¨gc
, **
¨gv
)

414 *
mode
 = 
NULL
;

415 
size_t
 
mode_Àn
 = 0;

416 
size_t
 
mode_Æloc
 = 0;

417 
boﬁ
 
ok
;

418 
boﬁ
 
¥e£rve_roŸ
 = 
Ál£
;

419 c⁄° *
ª„ªn˚_fûe
 = 
NULL
;

420 
c
;

422 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

423 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

424 
	`£éoˇÀ
 (
LC_ALL
, "");

425 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

426 
	`ãxtdomaö
 (
PACKAGE
);

428 
	`©exô
 (
˛o£_°dout
);

430 
ªcur£
 = 
f‹˚_sûít
 = 
dügno£_suΩri£s
 = 
Ál£
;

432 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
,

435 
l⁄g_›ti⁄s
, 
NULL
))

438 
c
)

465 c⁄° *
¨g
 = 
¨gv
[
›töd
 - 1];

466 
size_t
 
¨g_Àn
 = 
	`°æí
 (
¨g
);

467 
size_t
 
mode_comma_Àn
 = 
mode_Àn
 + !!mode_len;

468 
size_t
 
√w_mode_Àn
 = 
mode_comma_Àn
 + 
¨g_Àn
;

469 i‡(
mode_Æloc
 <
√w_mode_Àn
)

471 
mode_Æloc
 = 
√w_mode_Àn
 + 1;

472 
mode
 = 
	`X2REALLOC
 (mode, &
mode_Æloc
);

474 
mode
[
mode_Àn
] = ',';

475 
	`mem˝y
 (
mode
 + 
mode_comma_Àn
, 
¨g
, 
¨g_Àn
 + 1);

476 
mode_Àn
 = 
√w_mode_Àn
;

478 
dügno£_suΩri£s
 = 
åue
;

481 
NO_PRESERVE_ROOT
:

482 
¥e£rve_roŸ
 = 
Ál£
;

484 
PRESERVE_ROOT
:

485 
¥e£rve_roŸ
 = 
åue
;

487 
REFERENCE_FILE_OPTION
:

488 
ª„ªn˚_fûe
 = 
›èrg
;

491 
ªcur£
 = 
åue
;

494 
vîbosôy
 = 
V_ch™ges_⁄ly
;

497 
f‹˚_sûít
 = 
åue
;

500 
vîbosôy
 = 
V_high
;

502 
ˇ£_GETOPT_HELP_CHAR
;

503 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

505 
	`ußge
 (
EXIT_FAILURE
);

509 i‡(
ª„ªn˚_fûe
)

511 i‡(
mode
)

513 
	`îr‹
 (0, 0, 
	`_
("cannot combine modeánd --reference options"));

514 
	`ußge
 (
EXIT_FAILURE
);

519 i‡(!
mode
)

520 
mode
 = 
¨gv
[
›töd
++];

523 i‡(
›töd
 >
¨gc
)

525 i‡(!
mode
 || modê!
¨gv
[
›töd
 - 1])

526 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

528 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

529 
	`ußge
 (
EXIT_FAILURE
);

532 i‡(
ª„ªn˚_fûe
)

534 
ch™ge
 = 
	`mode_¸óã_‰om_ªf
 (
ª„ªn˚_fûe
);

535 i‡(!
ch™ge
)

536 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

537 
	`quŸe
 (
ª„ªn˚_fûe
));

541 
ch™ge
 = 
	`mode_compûe
 (
mode
);

542 i‡(!
ch™ge
)

544 
	`îr‹
 (0, 0, 
	`_
("övÆid mode: %s"), 
	`quŸe
 (
mode
));

545 
	`ußge
 (
EXIT_FAILURE
);

547 
umask_vÆue
 = 
	`umask
 (0);

550 i‡(
ªcur£
 && 
¥e£rve_roŸ
)

552 
dev_öo
 
dev_öo_buf
;

553 
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

554 i‡(
roŸ_dev_öo
 =
NULL
)

555 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

556 
	`quŸe
 ("/"));

560 
roŸ_dev_öo
 = 
NULL
;

563 
ok
 = 
	`¥o˚ss_fûes
 (
¨gv
 + 
›töd
,

564 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
 | 
FTS_DEFER_STAT
);

566 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

567 
	}
}

	@chown-core.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<pwd.h
>

23 
	~<gΩ.h
>

25 
	~"sy°em.h
"

26 
	~"chown-c‹e.h
"

27 
	~"îr‹.h
"

28 
	~"ign‹e-vÆue.h
"

29 
	~"quŸe.h
"

30 
	~"roŸ-dev-öo.h
"

31 
	~"x·s.h
"

33 
	#FTSENT_IS_DIRECTORY
(
E
) \

34 ((
E
)->
·s_öfo
 =
FTS_D
 \

35 || (
E
)->
·s_öfo
 =
FTS_DC
 \

36 || (
E
)->
·s_öfo
 =
FTS_DP
 \

37 || (
E
)->
·s_öfo
 =
FTS_DNR
)

	)

39 
	eRCH_°©us


42 
	mRC_ok
 = 2,

45 
	mRC_ex˛uded
,

48 
	mRC_öode_ch™ged
,

52 
	mRC_do_‹dö¨y_chown
,

55 
	mRC_îr‹


59 
	$ch›t_öô
 (
Chown_›ti⁄
 *
ch›t
)

61 
ch›t
->
vîbosôy
 = 
V_off
;

62 
ch›t
->
roŸ_dev_öo
 = 
NULL
;

63 
ch›t
->
af„˘_symlök_ª„ª¡
 = 
åue
;

64 
ch›t
->
ªcur£
 = 
Ál£
;

65 
ch›t
->
f‹˚_sûít
 = 
Ál£
;

66 
ch›t
->
u£r_«me
 = 
NULL
;

67 
ch›t
->
group_«me
 = 
NULL
;

68 
	}
}

71 
	$ch›t_‰ì
 (
Chown_›ti⁄
 *
ch›t
 
ATTRIBUTE_UNUSED
)

75 
	}
}

82 
	$gid_to_«me
 (
gid_t
 
gid
)

84 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

85 
group
 *
gΩ
 = 
	`gëgrgid
 (
gid
);

86  
	`x°rdup
 (
gΩ
 ? gΩ->
gr_«me


87 : 
	`TYPE_SIGNED
 (
gid_t
Ë? 
	`imaxto°r
 (
gid
, 
buf
)

88 : 
	`umaxto°r
 (
gid
, 
buf
));

89 
	}
}

96 
	$uid_to_«me
 (
uid_t
 
uid
)

98 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

99 
∑sswd
 *
pwd
 = 
	`gëpwuid
 (
uid
);

100  
	`x°rdup
 (
pwd
 ?Öwd->
pw_«me


101 : 
	`TYPE_SIGNED
 (
uid_t
Ë? 
	`imaxto°r
 (
uid
, 
buf
)

102 : 
	`umaxto°r
 (
uid
, 
buf
));

103 
	}
}

108 
	$u£r_group_°r
 (c⁄° *
u£r
, c⁄° *
group
)

110 *
•ec
 = 
NULL
;

112 i‡(
u£r
)

114 i‡(
group
)

116 
•ec
 = 
	`xmÆloc
 (
	`°æí
 (
u£r
Ë+ 1 + såÀ¿(
group
) + 1);

117 
	`°p˝y
 (°p˝y (°p˝y (
•ec
, 
u£r
), ":"), 
group
);

121 
•ec
 = 
	`x°rdup
 (
u£r
);

124 i‡(
group
)

126 
•ec
 = 
	`x°rdup
 (
group
);

129  
•ec
;

130 
	}
}

137 
	$des¸ibe_ch™ge
 (c⁄° *
fûe
, 
Ch™ge_°©us
 
ch™ged
,

138 c⁄° *
ﬁd_u£r
, c⁄° *
ﬁd_group
,

139 c⁄° *
u£r
, c⁄° *
group
)

141 c⁄° *
fmt
;

142 *
ﬁd_•ec
;

143 *
•ec
;

145 i‡(
ch™ged
 =
CH_NOT_APPLIED
)

147 
	`¥ötf
 (
	`_
("neither symbolicÜink %sÇorÑeferent has been changed\n"),

148 
	`quŸe
 (
fûe
));

152 
•ec
 = 
	`u£r_group_°r
 (
u£r
, 
group
);

153 
ﬁd_•ec
 = 
	`u£r_group_°r
 (
u£r
 ? 
ﬁd_u£r
 : 
NULL
, 
group
 ? 
ﬁd_group
 : NULL);

155 
ch™ged
)

157 
CH_SUCCEEDED
:

158 
fmt
 = (
u£r
 ? 
	`_
("changed ownership of %s from %sÅo %s\n")

159 : 
group
 ? 
	`_
("changed group of %s from %sÅo %s\n")

160 : 
	`_
("no changeÅo ownership of %s\n"));

162 
CH_FAILED
:

163 i‡(
ﬁd_•ec
)

165 
fmt
 = (
u£r
 ? 
	`_
("failedÅo change ownership of %s from %sÅo %s\n")

166 : 
group
 ? 
	`_
("failedÅo change group of %s from %sÅo %s\n")

167 : 
	`_
("failedÅo change ownership of %s\n"));

171 
fmt
 = (
u£r
 ? 
	`_
("failedÅo change ownership of %sÅo %s\n")

172 : 
group
 ? 
	`_
("failedÅo change group of %sÅo %s\n")

173 : 
	`_
("failedÅo change ownership of %s\n"));

174 
	`‰ì
 (
ﬁd_•ec
);

175 
ﬁd_•ec
 = 
•ec
;

176 
•ec
 = 
NULL
;

179 
CH_NO_CHANGE_REQUESTED
:

180 
fmt
 = (
u£r
 ? 
	`_
("ownership of %sÑetainedás %s\n")

181 : 
group
 ? 
	`_
("group of %sÑetainedás %s\n")

182 : 
	`_
("ownership of %sÑetained\n"));

185 
	`ab‹t
 ();

188 
	`¥ötf
 (
fmt
, 
	`quŸe
 (
fûe
), 
ﬁd_•ec
, 
•ec
);

190 
	`‰ì
 (
ﬁd_•ec
);

191 
	`‰ì
 (
•ec
);

192 
	}
}

212 
RCH_°©us


213 
	$ª°ri˘ed_chown
 (
cwd_fd
, c⁄° *
fûe
,

214 
°©
 c⁄° *
‹ig_°
,

215 
uid_t
 
uid
, 
gid_t
 
gid
,

216 
uid_t
 
ªquúed_uid
, 
gid_t
 
ªquúed_gid
)

218 
RCH_°©us
 
°©us
 = 
RC_ok
;

219 
°©
 
°
;

220 
›í_Êags
 = 
O_NONBLOCK
 | 
O_NOCTTY
;

221 
fd
;

223 i‡(
ªquúed_uid
 =(
uid_t
Ë-1 && 
ªquúed_gid
 =(
gid_t
) -1)

224  
RC_do_‹dö¨y_chown
;

226 i‡(! 
	`S_ISREG
 (
‹ig_°
->
°_mode
))

228 i‡(
	`S_ISDIR
 (
‹ig_°
->
°_mode
))

229 
›í_Êags
 |
O_DIRECTORY
;

231  
RC_do_‹dö¨y_chown
;

234 
fd
 = 
	`›í©
 (
cwd_fd
, 
fûe
, 
O_RDONLY
 | 
›í_Êags
);

235 i‡(! (0 <
fd


236 || (
î∫o
 =
EACCES
 && 
	`S_ISREG
 (
‹ig_°
->
°_mode
)

237 && 0 <(
fd
 = 
	`›í©
 (
cwd_fd
, 
fûe
, 
O_WRONLY
 | 
›í_Êags
)))))

238  (
î∫o
 =
EACCES
 ? 
RC_do_‹dö¨y_chown
 : 
RC_îr‹
);

240 i‡(
	`f°©
 (
fd
, &
°
) != 0)

241 
°©us
 = 
RC_îr‹
;

242 i‡(! 
	`SAME_INODE
 (*
‹ig_°
, 
°
))

243 
°©us
 = 
RC_öode_ch™ged
;

244 i‡((
ªquúed_uid
 =(
uid_t
Ë-1 ||Ñequúed_uid =
°
.
°_uid
)

245 && (
ªquúed_gid
 =(
gid_t
Ë-1 ||Ñequúed_gid =
°
.
°_gid
))

247 i‡(
	`fchown
 (
fd
, 
uid
, 
gid
) == 0)

249 
°©us
 = (
	`˛o£
 (
fd
) == 0

250 ? 
RC_ok
 : 
RC_îr‹
);

251  
°©us
;

255 
°©us
 = 
RC_îr‹
;

259 
ßved_î∫o
 = 
î∫o
;

260 
	`˛o£
 (
fd
);

261 
î∫o
 = 
ßved_î∫o
;

262  
°©us
;

263 
	}
}

271 
boﬁ


272 
	$ch™ge_fûe_ow√r
 (
FTS
 *
·s
, 
FTSENT
 *
ít
,

273 
uid_t
 
uid
, 
gid_t
 
gid
,

274 
uid_t
 
ªquúed_uid
, 
gid_t
 
ªquúed_gid
,

275 
Chown_›ti⁄
 c⁄° *
ch›t
)

277 c⁄° *
fûe_fuŒ_«me
 = 
ít
->
·s_∑th
;

278 c⁄° *
fûe
 = 
ít
->
·s_ac˝©h
;

279 
°©
 c⁄° *
fûe_°©s
;

280 
°©
 
°©_buf
;

281 
boﬁ
 
ok
 = 
åue
;

282 
boﬁ
 
do_chown
;

283 
boﬁ
 
symlök_ch™ged
 = 
åue
;

285 
ít
->
·s_öfo
)

287 
FTS_D
:

288 i‡(
ch›t
->
ªcur£
)

290 i‡(
	`ROOT_DEV_INO_CHECK
 (
ch›t
->
roŸ_dev_öo
, 
ít
->
·s_°©p
))

294 
	`ROOT_DEV_INO_WARN
 (
fûe_fuŒ_«me
);

296 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

298 
	`ign‹e_vÆue
 (
	`·s_ªad
 (
·s
));

299  
Ál£
;

301  
åue
;

305 
FTS_DP
:

306 i‡(! 
ch›t
->
ªcur£
)

307  
åue
;

310 
FTS_NS
:

318 i‡(
ít
->
·s_Àvñ
 =0 &&É¡->
·s_numbî
 == 0)

320 
ít
->
·s_numbî
 = 1;

321 
	`·s_£t
 (
·s
, 
ít
, 
FTS_AGAIN
);

322  
åue
;

324 i‡(! 
ch›t
->
f‹˚_sûít
)

325 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("cannotáccess %s"),

326 
	`quŸe
 (
fûe_fuŒ_«me
));

327 
ok
 = 
Ál£
;

330 
FTS_ERR
:

331 i‡(! 
ch›t
->
f‹˚_sûít
)

332 
	`îr‹
 (0, 
ít
->
·s_î∫o
, "%s", 
	`quŸe
 (
fûe_fuŒ_«me
));

333 
ok
 = 
Ál£
;

336 
FTS_DNR
:

337 i‡(! 
ch›t
->
f‹˚_sûít
)

338 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("cannotÑead directory %s"),

339 
	`quŸe
 (
fûe_fuŒ_«me
));

340 
ok
 = 
Ál£
;

343 
FTS_DC
:

344 i‡(
	`cy˛e_w¨nög_ªquúed
 (
·s
, 
ít
))

346 
	`emô_cy˛e_w¨nög
 (
fûe_fuŒ_«me
);

347  
Ál£
;

355 i‡(!
ok
)

357 
do_chown
 = 
Ál£
;

358 
fûe_°©s
 = 
NULL
;

360 i‡(
ªquúed_uid
 =(
uid_t
Ë-1 && 
ªquúed_gid
 =(
gid_t
) -1

361 && 
ch›t
->
vîbosôy
 =
V_off


362 && ! 
ch›t
->
roŸ_dev_öo


363 && ! 
ch›t
->
af„˘_symlök_ª„ª¡
)

365 
do_chown
 = 
åue
;

366 
fûe_°©s
 = 
ít
->
·s_°©p
;

370 
fûe_°©s
 = 
ít
->
·s_°©p
;

374 i‡(
ch›t
->
af„˘_symlök_ª„ª¡
 && 
	`S_ISLNK
 (
fûe_°©s
->
°_mode
))

376 i‡(
	`f°©©
 (
·s
->
·s_cwd_fd
, 
fûe
, &
°©_buf
, 0) != 0)

378 i‡(! 
ch›t
->
f‹˚_sûít
)

379 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot dereference %s"),

380 
	`quŸe
 (
fûe_fuŒ_«me
));

381 
ok
 = 
Ál£
;

384 
fûe_°©s
 = &
°©_buf
;

387 
do_chown
 = (
ok


388 && (
ªquúed_uid
 =(
uid_t
) -1

389 || 
ªquúed_uid
 =
fûe_°©s
->
°_uid
)

390 && (
ªquúed_gid
 =(
gid_t
) -1

391 || 
ªquúed_gid
 =
fûe_°©s
->
°_gid
));

395 i‡(
ok


396 && 
	`FTSENT_IS_DIRECTORY
 (
ít
)

397 && 
	`ROOT_DEV_INO_CHECK
 (
ch›t
->
roŸ_dev_öo
, 
fûe_°©s
))

399 
	`ROOT_DEV_INO_WARN
 (
fûe_fuŒ_«me
);

400  
Ál£
;

403 i‡(
do_chown
)

405 i‡–! 
ch›t
->
af„˘_symlök_ª„ª¡
)

407 
ok
 = (
	`lchow«t
 (
·s
->
·s_cwd_fd
, 
fûe
, 
uid
, 
gid
) == 0);

412 i‡(!
ok
 && 
î∫o
 =
EOPNOTSUPP
)

414 
ok
 = 
åue
;

415 
symlök_ch™ged
 = 
Ál£
;

430 
RCH_°©us
 
îr


431 
	`ª°ri˘ed_chown
 (
·s
->
·s_cwd_fd
, 
fûe
, 
fûe_°©s
, 
uid
, 
gid
,

432 
ªquúed_uid
, 
ªquúed_gid
);

433 
îr
)

435 
RC_ok
:

438 
RC_do_‹dö¨y_chown
:

439 
ok
 = (
	`chow«t
 (
·s
->
·s_cwd_fd
, 
fûe
, 
uid
, 
gid
) == 0);

442 
RC_îr‹
:

443 
ok
 = 
Ál£
;

446 
RC_öode_ch™ged
:

448 
RC_ex˛uded
:

449 
do_chown
 = 
Ál£
;

450 
ok
 = 
Ál£
;

454 
	`ab‹t
 ();

465 i‡(
do_chown
 && !
ok
 && ! 
ch›t
->
f‹˚_sûít
)

466 
	`îr‹
 (0, 
î∫o
, (
uid
 !(
uid_t
) -1

467 ? 
	`_
("changing ownership of %s")

468 : 
	`_
("changing group of %s")),

469 
	`quŸe
 (
fûe_fuŒ_«me
));

472 i‡(
ch›t
->
vîbosôy
 !
V_off
)

474 
boﬁ
 
ch™ged
 =

475 ((
do_chown
 && 
ok
 && 
symlök_ch™ged
)

476 && ! ((
uid
 =(
uid_t
Ë-1 || uid =
fûe_°©s
->
°_uid
)

477 && (
gid
 =(
gid_t
Ë-1 || gid =
fûe_°©s
->
°_gid
)));

479 i‡(
ch™ged
 || 
ch›t
->
vîbosôy
 =
V_high
)

481 
Ch™ge_°©us
 
ch_°©us
 =

482 (!
ok
 ? 
CH_FAILED


483 : !
symlök_ch™ged
 ? 
CH_NOT_APPLIED


484 : !
ch™ged
 ? 
CH_NO_CHANGE_REQUESTED


485 : 
CH_SUCCEEDED
);

486 *
ﬁd_u§
 = 
fûe_°©s
 ? 
	`uid_to_«me
 (fûe_°©s->
°_uid
Ë: 
NULL
;

487 *
ﬁd_gΩ
 = 
fûe_°©s
 ? 
	`gid_to_«me
 (fûe_°©s->
°_gid
Ë: 
NULL
;

488 
	`des¸ibe_ch™ge
 (
fûe_fuŒ_«me
, 
ch_°©us
,

489 
ﬁd_u§
, 
ﬁd_gΩ
,

490 
ch›t
->
u£r_«me
, ch›t->
group_«me
);

491 
	`‰ì
 (
ﬁd_u§
);

492 
	`‰ì
 (
ﬁd_gΩ
);

496 i‡–! 
ch›t
->
ªcur£
)

497 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

499  
ok
;

500 
	}
}

511 
boﬁ


512 
	$chown_fûes
 (**
fûes
, 
bô_Êags
,

513 
uid_t
 
uid
, 
gid_t
 
gid
,

514 
uid_t
 
ªquúed_uid
, 
gid_t
 
ªquúed_gid
,

515 
Chown_›ti⁄
 c⁄° *
ch›t
)

517 
boﬁ
 
ok
 = 
åue
;

520 
°©_Êags
 = ((
ªquúed_uid
 !(
uid_t
Ë-1 || 
ªquúed_gid
 !(
gid_t
) -1

521 || 
ch›t
->
af„˘_symlök_ª„ª¡


522 || 
ch›t
->
vîbosôy
 !
V_off
)

524 : 
FTS_NOSTAT
);

526 
FTS
 *
·s
 = 
	`x·s_›í
 (
fûes
, 
bô_Êags
 | 
°©_Êags
, 
NULL
);

530 
FTSENT
 *
ít
;

532 
ít
 = 
	`·s_ªad
 (
·s
);

533 i‡(
ít
 =
NULL
)

535 i‡(
î∫o
 != 0)

538 i‡(! 
ch›t
->
f‹˚_sûít
)

539 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_read failed"));

540 
ok
 = 
Ál£
;

545 
ok
 &
	`ch™ge_fûe_ow√r
 (
·s
, 
ít
, 
uid
, 
gid
,

546 
ªquúed_uid
, 
ªquúed_gid
, 
ch›t
);

549 i‡(
	`·s_˛o£
 (
·s
) != 0)

551 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_close failed"));

552 
ok
 = 
Ál£
;

555  
ok
;

556 
	}
}

	@chown-core.h

18 #i‚de‡
CHOWN_CORE_H


19 
	#CHOWN_CORE_H


	)

21 
	~"dev-öo.h
"

23 
	eCh™ge_°©us


25 
	mCH_NOT_APPLIED
 = 1,

26 
	mCH_SUCCEEDED
,

27 
	mCH_FAILED
,

28 
	mCH_NO_CHANGE_REQUESTED


31 
	eVîbosôy


34 
	mV_high
,

37 
	mV_ch™ges_⁄ly
,

40 
	mV_off


43 
	sChown_›ti⁄


46 
Vîbosôy
 
	mvîbosôy
;

49 
boﬁ
 
	mªcur£
;

53 
dev_öo
 *
	mroŸ_dev_öo
;

56 
boﬁ
 
	maf„˘_symlök_ª„ª¡
;

59 
boﬁ
 
	mf‹˚_sûít
;

62 *
	mu£r_«me
;

65 *
	mgroup_«me
;

69 
ch›t_öô
 (
Chown_›ti⁄
 *);

71 
_GL_ATTRIBUTE_PURE
 
_GL_ATTRIBUTE_CONST


72 
ch›t_‰ì
 (
Chown_›ti⁄
 *);

75 
gid_to_«me
 (
gid_t
);

77 * 
_GL_ATTRIBUTE_PURE


78 
uid_to_«me
 (
uid_t
);

80 
boﬁ


81 
chown_fûes
 (**
fûes
, 
bô_Êags
,

82 
uid_t
 
uid
, 
gid_t
 
gid
,

83 
uid_t
 
ªquúed_uid
, 
gid_t
 
ªquúed_gid
,

84 
Chown_›ti⁄
 c⁄° *
ch›t
);

	@chown.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

24 
	~"sy°em.h
"

25 
	~"chown-c‹e.h
"

26 
	~"îr‹.h
"

27 
	~"·s_.h
"

28 
	~"quŸe.h
"

29 
	~"roŸ-dev-öo.h
"

30 
	~"u£r•ec.h
"

33 
	#PROGRAM_NAME
 "chown"

	)

35 
	#AUTHORS
 \

36 
	`¥›î_«me
 ("David MacKenzie"), \

37 
	`¥›î_«me
 ("Jim Meyîög")

	)

41 *
	gª„ªn˚_fûe
;

47 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

48 
	mFROM_OPTION
,

49 
	mNO_PRESERVE_ROOT
,

50 
	mPRESERVE_ROOT
,

51 
	mREFERENCE_FILE_OPTION


54 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

56 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

57 {"ch™ges", 
no_¨gumít
, 
NULL
, 'c'},

58 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 
DEREFERENCE_OPTION
},

59 {"‰om", 
ªquúed_¨gumít
, 
NULL
, 
FROM_OPTION
},

60 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'h'},

61 {"no-¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
NO_PRESERVE_ROOT
},

62 {"¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
PRESERVE_ROOT
},

63 {"quõt", 
no_¨gumít
, 
NULL
, 'f'},

64 {"sûít", 
no_¨gumít
, 
NULL
, 'f'},

65 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 
REFERENCE_FILE_OPTION
},

66 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

73 
	$ußge
 (
°©us
)

75 i‡(
°©us
 !
EXIT_SUCCESS
)

76 
	`emô_åy_hñp
 ();

79 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [OWNER][:[GROUP]] FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

83 
¥ogøm_«me
,Örogram_name);

84 
	`Âuts
 (
	`_
("\
Åhêow√∏™d/‹ grou∞o‡óch FILEÅÿOWNERánd/‹ GROUP.\n\
 --ª„ªn˚, ch™gêthêow√∏™d grou∞o‡óch FILEÅÿtho£ o‡RFILE.\n\
\n\
"), 
°dout
);

89 
	`Âuts
 (
	`_
("\
-c, --ch™ge†Üikêvîbo£ buàªp‹à⁄ly whíá ch™gêi†made\n\
-f, --sûít, --quõà suµªs†mo°Éº‹ mesßges\n\
-v, --vîbo£ ouçuà®dügno°i¯f‹Évîy fûê¥o˚s£d\n\
"), 
°dout
);

94 
	`Âuts
 (
	`_
("\
--dîe„ªn˚áf„˘Åhêª„ª¡ o‡óch symbﬁi¯lök (thi†is\n\
 deÁu…),Ñ©hîÅh™Åhêsymbﬁi¯lök it£lf\n\
-h, --no-dîe„ªn˚áf„˘ symbﬁi¯lök†ö°ód o‡™yÑe„ªn˚d fûe\n\
"), 
°dout
);

99 
	`Âuts
 (
	`_
("\
(u£fu»⁄ly o¿sy°em†th© c™ ch™gêthe\n\
 o‡®symlök)\n\
"), 
°dout
);

103 
	`Âuts
 (
	`_
("\
--‰om=CURRENT_OWNER:CURRENT_GROUP\n\
Åhêow√∏™d/‹ grou∞o‡óch fûê⁄ly if\n\
 cuºíàow√∏™d/‹ grou∞m©chÅho£ s≥cifõd\n\
. Eôhî may bêomôãd, i¿which ca£á m©ch\n\
ÇŸÑequúed f‹Åhêomôãdáâribuã\n\
"), 
°dout
);

110 
	`Âuts
 (
	`_
("\
--no-¥e£rve-roŸ dÿnŸÅª© '/' s≥cüŒy (thêdeÁu…)\n\
--¥e£rve-roŸ faûÅÿ›î©êªcursivñy o¿'/'\n\
"), 
°dout
);

114 
	`Âuts
 (
	`_
("\
--ª„ªn˚=RFILE u£ RFILE'†ow√∏™d grou∞øthîÅh™\n\
 OWNER:GROUP vÆues\n\
"), 
°dout
);

118 
	`Âuts
 (
	`_
("\
-R, --ªcursivê o≥øã o¿fûe†™d dúe˘‹õ†ªcursivñy\n\
"), 
°dout
);

121 
	`Âuts
 (
	`_
("\
\n\
 fﬁlowög o±i⁄†modify howá hõørchy i†åavî£d whíÅhê-R\n\
 i†Æsÿ•ecifõd. I‡m‹êth™ o√ i†•ecifõd, o∆yÅhêföÆ\n\
Åake†ef„˘.\n\
\n\
-H i‡®comm™dÜöê¨gumíài†®symbﬁi¯lök\n\
á dúe˘‹y,Åøvî£ it\n\
-LÅøvî£Évîy symbﬁi¯lökÅÿ®dúe˘‹y\n\
\n\
-P dÿnŸÅøvî£ány symbﬁi¯lök†(deÁu…)\n\
\n\
"), 
°dout
);

134 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

135 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

136 
	`Âuts
 (
	`_
("\
\n\
 i†unch™ged i‡missög. Grou∞i†unch™ged i‡missög, buàch™ged\n\
Üogö grou∞i‡im∂õd byá ':' fﬁlowögá symbﬁi¯OWNER.\n\
ánd GROUP may bênumîi¯a†wñ»a†symbﬁic.\n\
"), 
°dout
);

142 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%sÑoot /u ChangeÅhe owner of /uÅo \"root\".\n\
%sÑoot:staff /u Likewise, butálso change its groupÅo \"staff\".\n\
%s -hRÑoot /u ChangeÅhe owner of /uánd subfilesÅo \"root\".\n\
"),

149 
¥ogøm_«me
,Örogram_name,Örogram_name);

150 
	`emô_™cûœry_öfo
 ();

152 
	`exô
 (
°©us
);

153 
	}
}

156 
	$maö
 (
¨gc
, **
¨gv
)

158 
boﬁ
 
¥e£rve_roŸ
 = 
Ál£
;

160 
uid_t
 
uid
 = -1;

161 
gid_t
 
gid
 = -1;

165 
uid_t
 
ªquúed_uid
 = -1;

166 
gid_t
 
ªquúed_gid
 = -1;

169 
bô_Êags
 = 
FTS_PHYSICAL
;

173 
dîe„ªn˚
 = -1;

175 
Chown_›ti⁄
 
ch›t
;

176 
boﬁ
 
ok
;

177 
›tc
;

179 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

180 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

181 
	`£éoˇÀ
 (
LC_ALL
, "");

182 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

183 
	`ãxtdomaö
 (
PACKAGE
);

185 
	`©exô
 (
˛o£_°dout
);

187 
	`ch›t_öô
 (&
ch›t
);

189 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "HLPRcfhv", 
l⁄g_›ti⁄s
, 
NULL
))

192 
›tc
)

195 
bô_Êags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

199 
bô_Êags
 = 
FTS_LOGICAL
;

203 
bô_Êags
 = 
FTS_PHYSICAL
;

207 
dîe„ªn˚
 = 0;

210 
DEREFERENCE_OPTION
:

212 
dîe„ªn˚
 = 1;

215 
NO_PRESERVE_ROOT
:

216 
¥e£rve_roŸ
 = 
Ál£
;

219 
PRESERVE_ROOT
:

220 
¥e£rve_roŸ
 = 
åue
;

223 
REFERENCE_FILE_OPTION
:

224 
ª„ªn˚_fûe
 = 
›èrg
;

227 
FROM_OPTION
:

229 *
u_dummy
, *
g_dummy
;

230 c⁄° *
e
 = 
	`∑r£_u£r_•ec
 (
›èrg
,

231 &
ªquúed_uid
, &
ªquúed_gid
,

232 &
u_dummy
, &
g_dummy
);

233 i‡(
e
)

234 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s: %s", 
e
, 
	`quŸe
 (
›èrg
));

239 
ch›t
.
ªcur£
 = 
åue
;

243 
ch›t
.
vîbosôy
 = 
V_ch™ges_⁄ly
;

247 
ch›t
.
f‹˚_sûít
 = 
åue
;

251 
ch›t
.
vîbosôy
 = 
V_high
;

254 
ˇ£_GETOPT_HELP_CHAR
;

255 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

257 
	`ußge
 (
EXIT_FAILURE
);

261 i‡(
ch›t
.
ªcur£
)

263 i‡(
bô_Êags
 =
FTS_PHYSICAL
)

265 i‡(
dîe„ªn˚
 == 1)

266 
	`îr‹
 (
EXIT_FAILURE
, 0,

267 
	`_
("-R --dereferenceÑequiresÉither -H or -L"));

268 
dîe„ªn˚
 = 0;

273 
bô_Êags
 = 
FTS_PHYSICAL
;

275 
ch›t
.
af„˘_symlök_ª„ª¡
 = (
dîe„ªn˚
 != 0);

277 i‡(
¨gc
 - 
›töd
 < (
ª„ªn˚_fûe
 ? 1 : 2))

279 i‡(
¨gc
 <
›töd
)

280 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

282 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

283 
	`ußge
 (
EXIT_FAILURE
);

286 i‡(
ª„ªn˚_fûe
)

288 
°©
 
ªf_°©s
;

289 i‡(
	`°©
 (
ª„ªn˚_fûe
, &
ªf_°©s
))

290 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

291 
	`quŸe
 (
ª„ªn˚_fûe
));

293 
uid
 = 
ªf_°©s
.
°_uid
;

294 
gid
 = 
ªf_°©s
.
°_gid
;

295 
ch›t
.
u£r_«me
 = 
	`uid_to_«me
 (
ªf_°©s
.
°_uid
);

296 
ch›t
.
group_«me
 = 
	`gid_to_«me
 (
ªf_°©s
.
°_gid
);

300 c⁄° *
e
 = 
	`∑r£_u£r_•ec
 (
¨gv
[
›töd
], &
uid
, &
gid
,

301 &
ch›t
.
u£r_«me
, &ch›t.
group_«me
);

302 i‡(
e
)

303 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s: %s", 
e
, 
	`quŸe
 (
¨gv
[
›töd
]));

308 i‡(!
ch›t
.
u£r_«me
 && ch›t.
group_«me
)

309 
ch›t
.
u£r_«me
 = 
	`bad_ˇ°
 ("");

311 
›töd
++;

314 i‡(
ch›t
.
ªcur£
 && 
¥e£rve_roŸ
)

316 
dev_öo
 
dev_öo_buf
;

317 
ch›t
.
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

318 i‡(
ch›t
.
roŸ_dev_öo
 =
NULL
)

319 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

320 
	`quŸe
 ("/"));

323 
bô_Êags
 |
FTS_DEFER_STAT
;

324 
ok
 = 
	`chown_fûes
 (
¨gv
 + 
›töd
, 
bô_Êags
,

325 
uid
, 
gid
,

326 
ªquúed_uid
, 
ªquúed_gid
, &
ch›t
);

328 
	`ch›t_‰ì
 (&
ch›t
);

330 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

331 
	}
}

	@chroot.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<gΩ.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"quŸe.h
"

28 
	~"u£r•ec.h
"

29 
	~"x°πﬁ.h
"

32 
	#PROGRAM_NAME
 "chroŸ"

	)

34 
	#AUTHORS
 
	`¥›î_«me
 ("Rﬁ™d McGøth")

	)

36 #i‚de‡
MAXGID


37 
	#MAXGID
 
GID_T_MAX


	)

42 
	mGROUPS
 = 
UCHAR_MAX
 + 1,

43 
	mUSERSPEC


46 
›ti⁄
 c⁄° 
	gl⁄g_›ts
[] =

48 {"groups", 
ªquúed_¨gumít
, 
NULL
, 
GROUPS
},

49 {"u£r•ec", 
ªquúed_¨gumít
, 
NULL
, 
USERSPEC
},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

55 #i‡! 
HAVE_SETGROUPS


60 
	$£tgroups
 (
size_t
 
size
 
ATTRIBUTE_UNUSED
, 
gid_t
 c⁄° *
li°
 ATTRIBUTE_UNUSED)

63 
	}
}

72 
	$£t_addôi⁄Æ_groups
 (c⁄° *
groups
)

74 
GETGROUPS_T
 *
gids
 = 
NULL
;

75 
size_t
 
n_gids_Æloˇãd
 = 0;

76 
size_t
 
n_gids
 = 0;

77 *
buf„r
 = 
	`x°rdup
 (
groups
);

78 c⁄° *
tmp
;

79 
ªt
 = 0;

81 
tmp
 = 
	`°πok
 (
buf„r
, ",");Åmp;Åm∞°πok (
NULL
, ","))

83 
group
 *
g
;

84 
vÆue
;

86 i‡(
	`x°πoul
 (
tmp
, 
NULL
, 10, &
vÆue
, ""Ë=
LONGINT_OK
 && vÆuê<
MAXGID
)

87 
g
 = 
	`gëgrgid
 (
vÆue
);

90 
g
 = 
	`gëg∫am
 (
tmp
);

91 i‡(
g
 !
NULL
)

92 
vÆue
 = 
g
->
gr_gid
;

95 i‡(
g
 =
NULL
)

97 
	`îr‹
 (0, 
î∫o
, 
	`_
("övÆid grou∞%s"), 
	`quŸe
 (
tmp
));

98 
ªt
 = -1;

102 i‡(
n_gids
 =
n_gids_Æloˇãd
)

103 
gids
 = 
	`X2NREALLOC
 (gids, &
n_gids_Æloˇãd
);

104 
gids
[
n_gids
++] = 
vÆue
;

107 i‡(
ªt
 =0 && 
n_gids
 == 0)

109 
	`îr‹
 (0, 0, 
	`_
("övÆid grou∞li° %s"), 
	`quŸe
 (
groups
));

110 
ªt
 = -1;

113 i‡(
ªt
 == 0)

115 
ªt
 = 
	`£tgroups
 (
n_gids
, 
gids
);

116 i‡(
ªt
)

117 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo setádditional groups"));

120 
	`‰ì
 (
buf„r
);

121 
	`‰ì
 (
gids
);

122  
ªt
;

123 
	}
}

126 
	$ußge
 (
°©us
)

128 i‡(
°©us
 !
EXIT_SUCCESS
)

129 
	`emô_åy_hñp
 ();

132 
	`¥ötf
 (
	`_
("\
: %†[OPTION] NEWROOT [COMMAND [ARG]...]\n\
: %†OPTION\n\
"), 
¥ogøm_«me
,Örogram_name);

137 
	`Âuts
 (
	`_
("\
 COMMAND wôhÑoŸ dúe˘‹y sëÅÿNEWROOT.\n\
\n\
"), 
°dout
);

142 
	`Âuts
 (
	`_
("\
--u£r•ec=USER:GROUP s≥cify u£∏™d grou∞(ID o∏«meËtÿu£\n\
--groups=G_LIST s≥cify suµÀmíèry group†a†g1,g2,..,gN\n\
"), 
°dout
);

147 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

148 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

149 
	`Âuts
 (
	`_
("\
\n\
Çÿcomm™d i†giví,Ñu¿'${SHELL} -i' (deÁu…: '/bö/sh -i').\n\
"), 
°dout
);

153 
	`emô_™cûœry_öfo
 ();

155 
	`exô
 (
°©us
);

156 
	}
}

159 
	$maö
 (
¨gc
, **
¨gv
)

161 
c
;

162 c⁄° *
u£r•ec
 = 
NULL
;

163 c⁄° *
groups
 = 
NULL
;

165 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

166 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

167 
	`£éoˇÀ
 (
LC_ALL
, "");

168 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

169 
	`ãxtdomaö
 (
PACKAGE
);

171 
	`öôülize_exô_Áûuª
 (
EXIT_CANCELED
);

172 
	`©exô
 (
˛o£_°dout
);

174 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+", 
l⁄g_›ts
, 
NULL
)) != -1)

176 
c
)

178 
USERSPEC
:

179 
u£r•ec
 = 
›èrg
;

182 
GROUPS
:

183 
groups
 = 
›èrg
;

186 
ˇ£_GETOPT_HELP_CHAR
;

188 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

191 
	`ußge
 (
EXIT_CANCELED
);

195 i‡(
¨gc
 <
›töd
)

197 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

198 
	`ußge
 (
EXIT_CANCELED
);

201 i‡(
	`chroŸ
 (
¨gv
[
›töd
]) != 0)

202 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot changeÑoot directoryÅo %s"),

203 
¨gv
[
›töd
]);

205 i‡(
	`chdú
 ("/"))

206 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot chdirÅoÑoot directory"));

208 i‡(
¨gc
 =
›töd
 + 1)

211 *
shñl
 = 
	`gëív
 ("SHELL");

212 i‡(
shñl
 =
NULL
)

213 
shñl
 = 
	`bad_ˇ°
 ("/bin/sh");

214 
¨gv
[0] = 
shñl
;

215 
¨gv
[1] = 
	`bad_ˇ°
 ("-i");

216 
¨gv
[2] = 
NULL
;

221 
¨gv
 +
›töd
 + 1;

224 
boﬁ
 
Áû
 = 
Ál£
;

228 i‡(
u£r•ec
)

230 
uid_t
 
uid
 = -1;

231 
gid_t
 
gid
 = -1;

232 *
u£r
;

233 *
group
;

234 c⁄° *
îr
 = 
	`∑r£_u£r_•ec
 (
u£r•ec
, &
uid
, &
gid
, &
u£r
, &
group
);

236 i‡(
îr
)

237 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, "%s", 
îr
);

239 
	`‰ì
 (
u£r
);

240 
	`‰ì
 (
group
);

242 i‡(
groups
 && 
	`£t_addôi⁄Æ_groups
 (groups))

243 
Áû
 = 
åue
;

245 i‡(
gid
 !(
gid_t
Ë-1 && 
	`£tgid
 (gid))

247 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo set group-ID"));

248 
Áû
 = 
åue
;

251 i‡(
uid
 !(
uid_t
Ë-1 && 
	`£tuid
 (uid))

253 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo set user-ID"));

254 
Áû
 = 
åue
;

263 i‡(
groups
 && 
	`£t_addôi⁄Æ_groups
 (groups))

264 
Áû
 = 
åue
;

267 i‡(
Áû
)

268 
	`exô
 (
EXIT_CANCELED
);

271 
	`execvp
 (
¨gv
[0],árgv);

274 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

275 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿru¿comm™d %s"), 
	`quŸe
 (
¨gv
[0]));

276 
	`exô
 (
exô_°©us
);

278 
	}
}

	@cksum.c

35 
	~<c⁄fig.h
>

38 
	#PROGRAM_NAME
 "cksum"

	)

40 
	#AUTHORS
 
	`¥›î_«me
 ("Q. Fønk Xü")

	)

42 
	~<°dio.h
>

43 
	~<sys/ty≥s.h
>

44 
	~<°döt.h
>

45 
	~"sy°em.h
"

46 
	~"Ádvi£.h
"

47 
	~"x‰e›í.h
"

49 #ifde‡
CRCTAB


51 
	#BIT
(
x
Ë((
uöt_Á°32_t
Ë1 << (x))

	)

52 
	#SBIT
 
	`BIT
 (31)

	)

61 
	#GEN
 (
	`BIT
 (26) | BIT (23) | BIT (22) | BIT (16) | BIT (12) \

62 | 
	`BIT
 (11) | BIT (10) | BIT (8) | BIT (7) | BIT (5) \

63 | 
	`BIT
 (4Ë| BIT (2Ë| BIT (1Ë| BIT (0))

	)

65 
uöt_Á°32_t
 
	gr
[8];

68 
	$fûl_r
 ()

70 
i
;

72 
r
[0] = 
GEN
;

73 
i
 = 1; i < 8; i++)

74 
r
[
i
] = (r[ò- 1] << 1Ë^ (‘[ò- 1] & 
SBIT
Ë? 
GEN
 : 0);

75 
	}
}

77 
uöt_Á°32_t


78 
	$¸c_ªmaödî
 (
m
)

80 
uöt_Á°32_t
 
ªm
 = 0;

81 
i
;

83 
i
 = 0; i < 8; i++)

84 i‡(
	`BIT
 (
i
Ë& 
m
)

85 
ªm
 ^
r
[
i
];

87  
ªm
 & 0xFFFFFFFF;

88 
	}
}

91 
	$maö
 ()

93 
i
;

95 
	`fûl_r
 ();

96 
	`¥ötf
 ("static uint_fast32_t const crctab[256] =\n{\n 0x00000000");

97 
i
 = 0; i < 51; i++)

99 
	`¥ötf
 (",\n 0x%08x, 0x%08x, 0x%08x, 0x%08x, 0x%08x",

100 
	`¸c_ªmaödî
 (
i
 * 5 + 1), crc_remainder (i * 5 + 2),

101 
	`¸c_ªmaödî
 (
i
 * 5 + 3), crc_remainder (i * 5 + 4),

102 
	`¸c_ªmaödî
 (
i
 * 5 + 5));

104 
	`¥ötf
 ("\n};\n");

105 
	`exô
 (
EXIT_SUCCESS
);

106 
	}
}

110 
	~<gë›t.h
>

111 
	~"l⁄g-›ti⁄s.h
"

112 
	~"îr‹.h
"

115 
	#BUFLEN
 (1 << 16)

	)

117 
uöt_Á°32_t
 c⁄° 
	g¸˘ab
[256] =

174 
boﬁ
 
	ghave_ªad_°dö
;

181 
boﬁ


182 
	$cksum
 (c⁄° *
fûe
, 
boﬁ
 
¥öt_«me
)

184 
buf
[
BUFLEN
];

185 
uöt_Á°32_t
 
¸c
 = 0;

186 
uötmax_t
 
Àngth
 = 0;

187 
size_t
 
byãs_ªad
;

188 
FILE
 *
Â
;

189 
Àngth_buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

190 c⁄° *
hp
;

192 i‡(
	`STREQ
 (
fûe
, "-"))

194 
Â
 = 
°dö
;

195 
have_ªad_°dö
 = 
åue
;

196 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

197 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

201 
Â
 = 
	`f›í
 (
fûe
, (
O_BINARY
 ? "rb" : "r"));

202 i‡(
Â
 =
NULL
)

204 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

205  
Ál£
;

209 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

211 (
byãs_ªad
 = 
	`‰ód
 (
buf
, 1, 
BUFLEN
, 
Â
)) > 0)

213 *
˝
 = 
buf
;

215 i‡(
Àngth
 + 
byãs_ªad
 <Üength)

216 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: fûêtoÿl⁄g"), 
fûe
);

217 
Àngth
 +
byãs_ªad
;

218 
byãs_ªad
--)

219 
¸c
 = (¸¯<< 8Ë^ 
¸˘ab
[((¸¯>> 24Ë^ *
˝
++) & 0xFF];

220 i‡(
	`„of
 (
Â
))

224 i‡(
	`„º‹
 (
Â
))

226 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

227 i‡(!
	`STREQ
 (
fûe
, "-"))

228 
	`f˛o£
 (
Â
);

229  
Ál£
;

232 i‡(!
	`STREQ
 (
fûe
, "-"Ë&& 
	`f˛o£
 (
Â
Ë=
EOF
)

234 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

235  
Ál£
;

238 
hp
 = 
	`umaxto°r
 (
Àngth
, 
Àngth_buf
);

240 ; 
Àngth
;Üength >>= 8)

241 
¸c
 = (¸¯<< 8Ë^ 
¸˘ab
[((¸¯>> 24Ë^ 
Àngth
) & 0xFF];

243 
¸c
 = ~crc & 0xFFFFFFFF;

245 i‡(
¥öt_«me
)

246 
	`¥ötf
 ("%u %†%s\n", (Ë
¸c
, 
hp
, 
fûe
);

248 
	`¥ötf
 ("%u %s\n", (Ë
¸c
, 
hp
);

250 i‡(
	`„º‹
 (
°dout
))

251 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-: %s", 
	`_
("writeÉrror"));

253  
åue
;

254 
	}
}

257 
	$ußge
 (
°©us
)

259 i‡(
°©us
 !
EXIT_SUCCESS
)

260 
	`emô_åy_hñp
 ();

263 
	`¥ötf
 (
	`_
("\
: %s [FILE]...\n\
: %s [OPTION]\n\
"),

267 
¥ogøm_«me
,Örogram_name);

268 
	`Âuts
 (
	`_
("\
 CRC checksumánd byã cou¡†o‡óch FILE.\n\
\n\
"), 
°dout
);

272 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

273 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

274 
	`emô_™cûœry_öfo
 ();

276 
	`exô
 (
°©us
);

277 
	}
}

280 
	$maö
 (
¨gc
, **
¨gv
)

282 
i
;

283 
boﬁ
 
ok
;

285 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

286 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

287 
	`£éoˇÀ
 (
LC_ALL
, "");

288 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

289 
	`ãxtdomaö
 (
PACKAGE
);

291 
	`©exô
 (
˛o£_°dout
);

295 
	`£tvbuf
 (
°dout
, 
NULL
, 
_IOLBF
, 0);

297 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
Vîsi⁄
,

298 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

299 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

300 
	`ußge
 (
EXIT_FAILURE
);

302 
have_ªad_°dö
 = 
Ál£
;

304 i‡(
›töd
 =
¨gc
)

305 
ok
 = 
	`cksum
 ("-", 
Ál£
);

308 
ok
 = 
åue
;

309 
i
 = 
›töd
; i < 
¨gc
; i++)

310 
ok
 &
	`cksum
 (
¨gv
[
i
], 
åue
);

313 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

314 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

315 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

316 
	}
}

	@comm.c

19 
	~<c⁄fig.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~"sy°em.h
"

24 
	~"löebuf„r.h
"

25 
	~"îr‹.h
"

26 
	~"Ádvi£.h
"

27 
	~"h¨d-loˇÀ.h
"

28 
	~"quŸe.h
"

29 
	~"°dio--.h
"

30 
	~"memcmp2.h
"

31 
	~"xmemcﬁl.h
"

34 
	#PROGRAM_NAME
 "comm"

	)

36 
	#AUTHORS
 \

37 
	`¥›î_«me
 ("Richard M. Stallman"), \

38 
	`¥›î_«me
 ("David MacKízõ")

	)

41 #unde‡
mö


42 
	#mö
(
x
, 
y
Ë((xË< (yË? (xË: (y))

	)

45 
boﬁ
 
	gh¨d_LC_COLLATE
;

48 
boﬁ
 
	g⁄ly_fûe_1
;

51 
boﬁ
 
	g⁄ly_fûe_2
;

54 
boﬁ
 
	gbŸh
;

57 
boﬁ
 
	g£í_u≈aúabÀ
;

60 
boﬁ
 
	gissued_dis‹dî_w¨nög
[2];

65 
	mCHECK_ORDER_DEFAULT
,

66 
	mCHECK_ORDER_ENABLED
,

67 
	mCHECK_ORDER_DISABLED


68 } 
	gcheck_öput_‹dî
;

73 c⁄° *
	gdñimôî
;

79 
	mCHECK_ORDER_OPTION
 = 
CHAR_MAX
 + 1,

80 
	mNOCHECK_ORDER_OPTION
,

81 
	mOUTPUT_DELIMITER_OPTION


84 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

86 {"check-‹dî", 
no_¨gumít
, 
NULL
, 
CHECK_ORDER_OPTION
},

87 {"nocheck-‹dî", 
no_¨gumít
, 
NULL
, 
NOCHECK_ORDER_OPTION
},

88 {"ouçut-dñimôî", 
ªquúed_¨gumít
, 
NULL
, 
OUTPUT_DELIMITER_OPTION
},

89 {
GETOPT_HELP_OPTION_DECL
},

90 {
GETOPT_VERSION_OPTION_DECL
},

91 {
NULL
, 0, NULL, 0}

97 
	$ußge
 (
°©us
)

99 i‡(
°©us
 !
EXIT_SUCCESS
)

100 
	`emô_åy_hñp
 ();

103 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... FILE1 FILE2\n\
"),

106 
¥ogøm_«me
);

107 
	`Âuts
 (
	`_
("\
 s‹ãd fûe†FILE1ánd FILE2ÜöêbyÜöe.\n\
"), 
°dout
);

110 
	`Âuts
 (
	`_
("\
\n\
Çÿ›ti⁄s,Örodu˚Åhªe-cﬁum¿ouçut. Cﬁum¿⁄êc⁄èös\n\
 uniquêtÿFILE1, cﬁum¿twÿc⁄èö†löe†uniquêtÿFILE2,\n\
 cﬁum¿thªêc⁄èö†löe†comm⁄ÅÿbŸh fûes.\n\
"), 
°dout
);

116 
	`Âuts
 (
	`_
("\
\n\
-1 suµªs†cﬁum¿1 (löe†uniquêtÿFILE1)\n\
-2 suµªs†cﬁum¿2 (löe†uniquêtÿFILE2)\n\
-3 suµªs†cﬁum¿3 (löe†th©áµó∏ö bŸh fûes)\n\
"), 
°dout
);

122 
	`Âuts
 (
	`_
("\
\n\
--check-‹dî checkÅh©Åhêöpuài†c‹ª˘ly s‹ãd,Éví\n\
áŒ i≈uàlöe†¨ê∑úabÀ\n\
--nocheck-‹dî dÿnŸ checkÅh©Åhêöpuài†c‹ª˘ly s‹ãd\n\
"), 
°dout
);

128 
	`Âuts
 (
	`_
("\
--ouçut-dñimôî=STR sï¨©êcﬁumn†wôh STR\n\
"), 
°dout
);

131 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

132 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

133 
	`Âuts
 (
	`_
("\
\n\
, com∑ris⁄†h⁄‹ÅhêruÀ†•ecifõd by 'LC_COLLATE'.\n\
"), 
°dout
);

137 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%s -12 file1 file2 Print onlyÜinesÖresent in both file1ánd file2.\n\
%s -3 file1 file2 PrintÜines in file1Çot in file2,ánd vice versa.\n\
"),

143 
¥ogøm_«me
,Örogram_name);

144 
	`emô_™cûœry_öfo
 ();

146 
	`exô
 (
°©us
);

147 
	}
}

155 
	$wrôñöe
 (
löebuf„r
 c⁄° *
löe
, 
FILE
 *
°ªam
, 
˛ass
)

157 
˛ass
)

160 i‡(!
⁄ly_fûe_1
)

165 i‡(!
⁄ly_fûe_2
)

168 i‡(
⁄ly_fûe_1
)

169 
	`Âuts
 (
dñimôî
, 
°ªam
);

173 i‡(!
bŸh
)

176 i‡(
⁄ly_fûe_1
)

177 
	`Âuts
 (
dñimôî
, 
°ªam
);

179 i‡(
⁄ly_fûe_2
)

180 
	`Âuts
 (
dñimôî
, 
°ªam
);

184 
	`fwrôe
 (
löe
->
buf„r
,  (),Üöe->
Àngth
, 
°ªam
);

185 
	}
}

199 
	$check_‹dî
 (
löebuf„r
 c⁄° *
¥ev
,

200 
löebuf„r
 c⁄° *
cuºít
,

201 
wh©fûe
)

204 i‡(
check_öput_‹dî
 !
CHECK_ORDER_DISABLED


205 && ((
check_öput_‹dî
 =
CHECK_ORDER_ENABLED
Ë|| 
£í_u≈aúabÀ
))

207 i‡(!
issued_dis‹dî_w¨nög
[
wh©fûe
 - 1])

209 
‹dî
;

211 i‡(
h¨d_LC_COLLATE
)

212 
‹dî
 = 
	`xmemcﬁl
 (
¥ev
->
buf„r
,Öªv->
Àngth
 - 1,

213 
cuºít
->
buf„r
, cuºít->
Àngth
 - 1);

215 
‹dî
 = 
	`memcmp2
 (
¥ev
->
buf„r
,Öªv->
Àngth
 - 1,

216 
cuºít
->
buf„r
, cuºít->
Àngth
 - 1);

218 i‡(0 < 
‹dî
)

220 
	`îr‹
 ((
check_öput_‹dî
 =
CHECK_ORDER_ENABLED


221 ? 
EXIT_FAILURE
 : 0),

222 0, 
	`_
("fûê%d i†nŸ i¿s‹ãd ordî"), 
wh©fûe
);

226 
issued_dis‹dî_w¨nög
[
wh©fûe
 - 1] = 
åue
;

230 
	}
}

238 
	$com∑ª_fûes
 (**
öfûes
)

241 
löebuf„r
 
lba
[2][4];

245 
löebuf„r
 *
thi¶öe
[2];

250 
löebuf„r
 *
Æl_löe
[2][4];

253 
Æt
[2][3];

256 
FILE
 *
°ªams
[2];

258 
i
, 
j
;

261 
i
 = 0; i < 2; i++)

263 
j
 = 0; j < 4; j++)

265 
	`öôbuf„r
 (&
lba
[
i
][
j
]);

266 
Æl_löe
[
i
][
j
] = &
lba
[i][j];

268 
Æt
[
i
][0] = 0;

269 
Æt
[
i
][1] = 0;

270 
Æt
[
i
][2] = 0;

271 
°ªams
[
i
] = (
	`STREQ
 (
öfûes
[i], "-"Ë? 
°dö
 : 
	`f›í
 (infiles[i], "r"));

272 i‡(!
°ªams
[
i
])

273 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûes
[
i
]);

275 
	`Ádvi£
 (
°ªams
[
i
], 
FADVISE_SEQUENTIAL
);

277 
thi¶öe
[
i
] = 
	`ªadlöebuf„r
 (
Æl_löe
[i][
Æt
[i][0]], 
°ªams
[i]);

278 i‡(
	`„º‹
 (
°ªams
[
i
]))

279 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûes
[
i
]);

282 
thi¶öe
[0] ||Åhisline[1])

284 
‹dî
;

285 
boﬁ
 
fûl_up
[2] = { 
Ál£
, false };

289 i‡(!
thi¶öe
[0])

290 
‹dî
 = 1;

291 i‡(!
thi¶öe
[1])

292 
‹dî
 = -1;

295 i‡(
h¨d_LC_COLLATE
)

296 
‹dî
 = 
	`xmemcﬁl
 (
thi¶öe
[0]->
buf„r
,Åhi¶öe[0]->
Àngth
 - 1,

297 
thi¶öe
[1]->
buf„r
,Åhi¶öe[1]->
Àngth
 - 1);

300 
size_t
 
Àn
 = 
	`mö
 (
thi¶öe
[0]->
Àngth
,Åhisline[1]->length) - 1;

301 
‹dî
 = 
	`memcmp
 (
thi¶öe
[0]->
buf„r
,Åhi¶öe[1]->buf„r, 
Àn
);

302 i‡(
‹dî
 == 0)

303 
‹dî
 = (
thi¶öe
[0]->
Àngth
 <Åhisline[1]->length

305 : 
thi¶öe
[0]->
Àngth
 !=Åhisline[1]->length);

310 i‡(
‹dî
 == 0)

311 
	`wrôñöe
 (
thi¶öe
[1], 
°dout
, 3);

314 
£í_u≈aúabÀ
 = 
åue
;

315 i‡(
‹dî
 <= 0)

316 
	`wrôñöe
 (
thi¶öe
[0], 
°dout
, 1);

318 
	`wrôñöe
 (
thi¶öe
[1], 
°dout
, 2);

323 i‡(0 <
‹dî
)

324 
fûl_up
[1] = 
åue
;

325 i‡(
‹dî
 <= 0)

326 
fûl_up
[0] = 
åue
;

328 
i
 = 0; i < 2; i++)

329 i‡(
fûl_up
[
i
])

332 
Æt
[
i
][2] =ált[i][1];

333 
Æt
[
i
][1] =ált[i][0];

334 
Æt
[
i
][0] = (alt[i][0] + 1) & 0x03;

336 
thi¶öe
[
i
] = 
	`ªadlöebuf„r
 (
Æl_löe
[i][
Æt
[i][0]], 
°ªams
[i]);

338 i‡(
thi¶öe
[
i
])

339 
	`check_‹dî
 (
Æl_löe
[
i
][
Æt
[i][1]], 
thi¶öe
[i], i + 1);

344 i‡(
Æl_löe
[
i
][
Æt
[i][2]]->
buf„r
)

345 
	`check_‹dî
 (
Æl_löe
[
i
][
Æt
[i][2]],

346 
Æl_löe
[
i
][
Æt
[i][1]], i + 1);

348 i‡(
	`„º‹
 (
°ªams
[
i
]))

349 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûes
[
i
]);

351 
fûl_up
[
i
] = 
Ál£
;

355 
i
 = 0; i < 2; i++)

356 i‡(
	`f˛o£
 (
°ªams
[
i
]) != 0)

357 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûes
[
i
]);

358 
	}
}

361 
	$maö
 (
¨gc
, **
¨gv
)

363 
c
;

365 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

366 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

367 
	`£éoˇÀ
 (
LC_ALL
, "");

368 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

369 
	`ãxtdomaö
 (
PACKAGE
);

370 
h¨d_LC_COLLATE
 = 
	`h¨d_loˇÀ
 (
LC_COLLATE
);

372 
	`©exô
 (
˛o£_°dout
);

374 
⁄ly_fûe_1
 = 
åue
;

375 
⁄ly_fûe_2
 = 
åue
;

376 
bŸh
 = 
åue
;

378 
£í_u≈aúabÀ
 = 
Ál£
;

379 
issued_dis‹dî_w¨nög
[0] = issued_dis‹dî_w¨nög[1] = 
Ál£
;

380 
check_öput_‹dî
 = 
CHECK_ORDER_DEFAULT
;

382 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "123", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

383 
c
)

386 
⁄ly_fûe_1
 = 
Ál£
;

390 
⁄ly_fûe_2
 = 
Ál£
;

394 
bŸh
 = 
Ál£
;

397 
NOCHECK_ORDER_OPTION
:

398 
check_öput_‹dî
 = 
CHECK_ORDER_DISABLED
;

401 
CHECK_ORDER_OPTION
:

402 
check_öput_‹dî
 = 
CHECK_ORDER_ENABLED
;

405 
OUTPUT_DELIMITER_OPTION
:

406 i‡(
dñimôî
 && !
	`STREQ
 (dñimôî, 
›èrg
))

407 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple delimiters specified"));

408 
dñimôî
 = 
›èrg
;

409 i‡(!*
dñimôî
)

411 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("empty %sÇotállowed"),

412 
	`quŸe
 ("--output-delimiter"));

416 
ˇ£_GETOPT_HELP_CHAR
;

418 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

421 
	`ußge
 (
EXIT_FAILURE
);

424 i‡(
¨gc
 - 
›töd
 < 2)

426 i‡(
¨gc
 <
›töd
)

427 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

429 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

430 
	`ußge
 (
EXIT_FAILURE
);

433 i‡(2 < 
¨gc
 - 
›töd
)

435 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 2]));

436 
	`ußge
 (
EXIT_FAILURE
);

440 i‡(!
dñimôî
)

441 
dñimôî
 = "\t";

443 
	`com∑ª_fûes
 (
¨gv
 + 
›töd
);

445 i‡(
issued_dis‹dî_w¨nög
[0] || issued_disorder_warning[1])

446 
	`exô
 (
EXIT_FAILURE
);

448 
	`exô
 (
EXIT_SUCCESS
);

449 
	}
}

	@copy.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<as£π.h
>

22 
	~<sys/io˘l.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<£löux/£löux.h
>

26 #i‡
HAVE_HURD_H


27 
	~<hurd.h
>

29 #i‡
HAVE_PRIV_H


30 
	~<¥iv.h
>

33 
	~"sy°em.h
"

34 
	~"a˛.h
"

35 
	~"backupfûe.h
"

36 
	~"buf„r-lcm.h
"

37 
	~"ˇn⁄iˇlize.h
"

38 
	~"c›y.h
"

39 
	~"˝-hash.h
"

40 
	~"exã¡-sˇn.h
"

41 
	~"îr‹.h
"

42 
	~"Ádvi£.h
"

43 
	~"f˙é--.h
"

44 
	~"fõm≠.h
"

45 
	~"fûe-£t.h
"

46 
	~"fûemode.h
"

47 
	~"fûíameˇt.h
"

48 
	~"fuŒ-wrôe.h
"

49 
	~"hash.h
"

50 
	~"hash-åùÀ.h
"

51 
	~"ign‹e-vÆue.h
"

52 
	~"ioblksize.h
"

53 
	~"quŸe.h
"

54 
	~"ßme.h
"

55 
	~"ßvedú.h
"

56 
	~"°©-size.h
"

57 
	~"°©-time.h
"

58 
	~"utimecmp.h
"

59 
	~"utimís.h
"

60 
	~"wrôe-™y-fûe.h
"

61 
	~"¨ódlök.h
"

62 
	~"ye¢o.h
"

64 #i‡
USE_XATTR


65 
	~<©å/îr‹_c⁄ãxt.h
>

66 
	~<©å/lib©å.h
>

67 
	~<°d¨g.h
>

68 
	~"vîr‹.h
"

71 #i‚de‡
HAVE_FCHOWN


72 
	#HAVE_FCHOWN
 
Ál£


	)

73 
	#fchown
(
fd
, 
uid
, 
gid
Ë(-1)

	)

76 #i‚de‡
HAVE_LCHOWN


77 
	#HAVE_LCHOWN
 
Ál£


	)

78 
	#lchown
(
«me
, 
uid
, 
gid
Ë
	`chown
 («me, uid, gid)

	)

81 #i‚de‡
HAVE_MKFIFO


83 
	$Ωl_mkfifo
 (c⁄° *
fûe
, 
mode_t
 
mode
)

85 
î∫o
 = 
ENOTSUP
;

87 
	}
}

88 
	#mkfifo
 
Ωl_mkfifo


	)

91 #i‚de‡
USE_ACL


92 
	#USE_ACL
 0

	)

95 
	#SAME_OWNER
(
A
, 
B
Ë((A).
°_uid
 =(B).°_uid)

	)

96 
	#SAME_GROUP
(
A
, 
B
Ë((A).
°_gid
 =(B).°_gid)

	)

97 
	#SAME_OWNER_AND_GROUP
(
A
, 
B
Ë(
	`SAME_OWNER
 (A, BË&& 
	`SAME_GROUP
 (A, B))

	)

99 
	sdú_li°


101 
dú_li°
 *
	m∑ª¡
;

102 
öo_t
 
	möo
;

103 
dev_t
 
	mdev
;

107 
	#DEST_INFO_INITIAL_CAPACITY
 61

	)

109 
boﬁ
 
c›y_öã∫Æ
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

110 
boﬁ
 
√w_d°
, 
dev_t
 
devi˚
,

111 
dú_li°
 *
™˚°‹s
,

112 c⁄° 
˝_›ti⁄s
 *
x
,

113 
boﬁ
 
comm™d_löe_¨g
,

114 
boﬁ
 *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
,

115 
boﬁ
 *
c›y_öto_£lf
,

116 
boﬁ
 *
ª«me_suc˚eded
);

117 
boﬁ
 
ow√r_Áûuª_ok
 (
˝_›ti⁄s
 c⁄° *
x
);

121 c⁄° *
	gt›_Àvñ_§c_«me
;

122 c⁄° *
	gt›_Àvñ_d°_«me
;

126 
ölöe
 

127 
	$utimís_symlök
 (c⁄° *
fûe
, 
time•ec
 const *timespec)

129 
îr
 = 
	`lutimís
 (
fûe
, 
time•ec
);

133 i‡(
îr
 && 
î∫o
 =
ENOSYS
)

134 
îr
 = 0;

135  
îr
;

136 
	}
}

149 
boﬁ


150 
	$•¨£_c›y
 (
§c_fd
, 
de°_fd
, *
buf
, 
size_t
 
buf_size
,

151 
boﬁ
 
make_hﬁes
,

152 c⁄° *
§c_«me
, c⁄° *
d°_«me
,

153 
uötmax_t
 
max_n_ªad
, 
off_t
 *
tŸÆ_n_ªad
,

154 
boﬁ
 *
œ°_wrôe_made_hﬁe
)

156 *
œ°_wrôe_made_hﬁe
 = 
Ál£
;

157 *
tŸÆ_n_ªad
 = 0;

159 
max_n_ªad
)

161 
boﬁ
 
make_hﬁe
 = 
Ál£
;

163 
ssize_t
 
n_ªad
 = 
	`ªad
 (
§c_fd
, 
buf
, 
	`MIN
 (
max_n_ªad
, 
buf_size
));

164 i‡(
n_ªad
 < 0)

166 i‡(
î∫o
 =
EINTR
)

168 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
§c_«me
));

169  
Ál£
;

171 i‡(
n_ªad
 == 0)

173 
max_n_ªad
 -
n_ªad
;

174 *
tŸÆ_n_ªad
 +
n_ªad
;

176 i‡(
make_hﬁes
)

179 
buf
[
n_ªad
] = '\1';

180 #ifde‡
löt


181 
uöçå_t
 
	tw‹d
;

188 
	`mem£t
 (
buf
 + 
n_ªad
 + 1, 0,  (
w‹d
) - 1);

191 i‡((
make_hﬁe
 = 
	`is_nul
 (
buf
, 
n_ªad
)))

193 i‡(
	`l£ek
 (
de°_fd
, 
n_ªad
, 
SEEK_CUR
) < 0)

195 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÜ£ek %s"), 
	`quŸe
 (
d°_«me
));

196  
Ál£
;

201 i‡(!
make_hﬁe
)

203 
size_t
 
n
 = 
n_ªad
;

204 i‡(
	`fuŒ_wrôe
 (
de°_fd
, 
buf
, 
n
) !=Ç)

206 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹ wrôög %s"), 
	`quŸe
 (
d°_«me
));

207  
Ál£
;

216 *
œ°_wrôe_made_hﬁe
 = 
make_hﬁe
;

219  
åue
;

220 
	}
}

224 
ölöe
 

225 
	$˛⁄e_fûe
 (
de°_fd
, 
§c_fd
)

227 #ifde‡
__löux__


228 #unde‡
BTRFS_IOCTL_MAGIC


229 
	#BTRFS_IOCTL_MAGIC
 0x94

	)

230 #unde‡
BTRFS_IOC_CLONE


231 
	#BTRFS_IOC_CLONE
 
	`_IOW
 (
BTRFS_IOCTL_MAGIC
, 9, )

	)

232  
	`io˘l
 (
de°_fd
, 
BTRFS_IOC_CLONE
, 
§c_fd
);

234 (Ë
de°_fd
;

235 (Ë
§c_fd
;

236 
î∫o
 = 
ENOTSUP
;

239 
	}
}

243 
boﬁ


244 
	$wrôe_zîos
 (
fd
, 
uöt64_t
 
n_byãs
)

246 *
zîos
;

247 
size_t
 
nz
 = 
IO_BUFSIZE
;

252 i‡(
zîos
 =
NULL
)

254 
ÁŒback
[1024];

255 
zîos
 = 
	`ˇŒoc
 (
nz
, 1);

256 i‡(
zîos
 =
NULL
)

258 
zîos
 = 
ÁŒback
;

259 
nz
 =  
ÁŒback
;

263 
n_byãs
)

265 
uöt64_t
 
n
 = 
	`MIN
 (
nz
, 
n_byãs
);

266 i‡((
	`fuŒ_wrôe
 (
fd
, 
zîos
, 
n
)) !=Ç)

267  
Ál£
;

268 
n_byãs
 -
n
;

271  
åue
;

272 
	}
}

281 
boﬁ


282 
	$exã¡_c›y
 (
§c_fd
, 
de°_fd
, *
buf
, 
size_t
 
buf_size
,

283 
off_t
 
§c_tŸÆ_size
, 
S∑r£_ty≥
 
•¨£_mode
,

284 c⁄° *
§c_«me
, c⁄° *
d°_«me
,

285 
boﬁ
 *
ªquúe_n‹mÆ_c›y
)

287 
exã¡_sˇn
 
sˇn
;

288 
off_t
 
œ°_ext_°¨t
 = 0;

289 
uöt64_t
 
œ°_ext_Àn
 = 0;

293 
off_t
 
de°_pos
 = 0;

295 
	`exã¡_sˇn_öô
 (
§c_fd
, &
sˇn
);

297 *
ªquúe_n‹mÆ_c›y
 = 
Ál£
;

298 
boﬁ
 
wrŸe_hﬁe_©_eof
 = 
åue
;

301 
boﬁ
 
ok
 = 
	`exã¡_sˇn_ªad
 (&
sˇn
);

302 i‡(! 
ok
)

304 i‡(
sˇn
.
hô_föÆ_exã¡
)

307 i‡(
sˇn
.
öôül_sˇn_Áûed
)

309 *
ªquúe_n‹mÆ_c›y
 = 
åue
;

310  
Ál£
;

313 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: failedÅo getÉxtents info"),

314 
	`quŸe
 (
§c_«me
));

315  
Ál£
;

318 
i
;

319 
boﬁ
 
em±y_exã¡
 = 
Ál£
;

320 
i
 = 0; i < 
sˇn
.
ei_cou¡
 || 
em±y_exã¡
; i++)

322 
off_t
 
ext_°¨t
;

323 
uöt64_t
 
ext_Àn
;

324 
uöt64_t
 
hﬁe_size
;

326 i‡(
i
 < 
sˇn
.
ei_cou¡
)

328 
ext_°¨t
 = 
sˇn
.
ext_öfo
[
i
].
ext_logiˇl
;

329 
ext_Àn
 = 
sˇn
.
ext_öfo
[
i
].
ext_Àngth
;

333 
i
--;

334 
ext_°¨t
 = 
œ°_ext_°¨t
 + 
sˇn
.
ext_öfo
[
i
].
ext_Àngth
;

335 
ext_Àn
 = 0;

338 
hﬁe_size
 = 
ext_°¨t
 - 
œ°_ext_°¨t
 - 
œ°_ext_Àn
;

340 
wrŸe_hﬁe_©_eof
 = 
Ál£
;

342 i‡(
hﬁe_size
)

344 i‡(
	`l£ek
 (
§c_fd
, 
ext_°¨t
, 
SEEK_SET
) < 0)

346 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÜ£ek %s"), 
	`quŸe
 (
§c_«me
));

347 
Áû
:

348 
	`exã¡_sˇn_‰ì
 (&
sˇn
);

349  
Ál£
;

352 i‡((
em±y_exã¡
 && 
•¨£_mode
 =
SPARSE_ALWAYS
)

353 || (!
em±y_exã¡
 && 
•¨£_mode
 !
SPARSE_NEVER
))

355 i‡(
	`l£ek
 (
de°_fd
, 
ext_°¨t
, 
SEEK_SET
) < 0)

357 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÜ£ek %s"), 
	`quŸe
 (
d°_«me
));

358 
Áû
;

360 
wrŸe_hﬁe_©_eof
 = 
åue
;

367 
off_t
 
nzîos
 = 
hﬁe_size
;

368 i‡(
em±y_exã¡
)

369 
nzîos
 = 
	`MIN
 (
§c_tŸÆ_size
 - 
de°_pos
, 
hﬁe_size
);

371 i‡(! 
	`wrôe_zîos
 (
de°_fd
, 
nzîos
))

373 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: wrôêÁûed"), 
	`quŸe
 (
d°_«me
));

374 
Áû
;

377 
de°_pos
 = 
	`MIN
 (
§c_tŸÆ_size
, 
ext_°¨t
);

381 
œ°_ext_°¨t
 = 
ext_°¨t
;

389 i‡(0 && (
sˇn
.
ext_öfo
[
i
].
ext_Êags
 & 
FIEMAP_EXTENT_UNWRITTEN
))

391 
em±y_exã¡
 = 
åue
;

392 
œ°_ext_Àn
 = 0;

393 i‡(
ext_Àn
 == 0)

394 
em±y_exã¡
 = 
Ál£
;

398 
off_t
 
n_ªad
;

399 
em±y_exã¡
 = 
Ál£
;

400 
œ°_ext_Àn
 = 
ext_Àn
;

402 i‡–! 
	`•¨£_c›y
 (
§c_fd
, 
de°_fd
, 
buf
, 
buf_size
,

403 
•¨£_mode
 =
SPARSE_ALWAYS
,

404 
§c_«me
, 
d°_«me
, 
ext_Àn
, &
n_ªad
,

405 &
wrŸe_hﬁe_©_eof
))

406 
Áû
;

408 
de°_pos
 = 
ext_°¨t
 + 
n_ªad
;

416 i‡(
de°_pos
 =
§c_tŸÆ_size
)

418 
sˇn
.
hô_föÆ_exã¡
 = 
åue
;

424 
	`exã¡_sˇn_‰ì
 (&
sˇn
);

427 ! 
sˇn
.
hô_föÆ_exã¡
);

437 i‡((
de°_pos
 < 
§c_tŸÆ_size
 || 
wrŸe_hﬁe_©_eof
)

438 && (
•¨£_mode
 !
SPARSE_NEVER


439 ? 
	`·runˇã
 (
de°_fd
, 
§c_tŸÆ_size
)

440 : ! 
	`wrôe_zîos
 (
de°_fd
, 
§c_tŸÆ_size
 - 
de°_pos
)))

442 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿexãnd %s"), 
	`quŸe
 (
d°_«me
));

443  
Ál£
;

446  
åue
;

447 
	}
}

454 
boﬁ
 
_GL_ATTRIBUTE_PURE


455 
	$is_™˚°‹
 (c⁄° 
°©
 *
sb
, c⁄° 
dú_li°
 *
™˚°‹s
)

457 
™˚°‹s
 != 0)

459 i‡(
™˚°‹s
->
öo
 =
sb
->
°_öo
 &&án˚°‹s->
dev
 =sb->
°_dev
)

460  
åue
;

461 
™˚°‹s
 =án˚°‹s->
∑ª¡
;

463  
Ál£
;

464 
	}
}

466 
boﬁ


467 
	$î∫o_unsuµ‹ãd
 (
îr
)

469  
îr
 =
ENOTSUP
 ||Éº =
ENODATA
;

470 
	}
}

472 #i‡
USE_XATTR


474 
	$c›y_©å_îr‹
 (
îr‹_c⁄ãxt
 *
˘x
 
ATTRIBUTE_UNUSED
,

475 c⁄° *
fmt
, ...)

477 i‡(!
	`î∫o_unsuµ‹ãd
 (
î∫o
))

479 
îr
 = 
î∫o
;

480 
va_li°
 
≠
;

483 
	`va_°¨t
 (
≠
, 
fmt
);

484 
	`vîr‹
 (0, 
îr
, 
fmt
, 
≠
);

485 
	`va_íd
 (
≠
);

487 
	}
}

490 
	$c›y_©å_ÆÀº‹
 (
îr‹_c⁄ãxt
 *
˘x
 
ATTRIBUTE_UNUSED
,

491 c⁄° *
fmt
, ...)

493 
îr
 = 
î∫o
;

494 
va_li°
 
≠
;

497 
	`va_°¨t
 (
≠
, 
fmt
);

498 
	`vîr‹
 (0, 
îr
, 
fmt
, 
≠
);

499 
	`va_íd
 (
≠
);

500 
	}
}

503 
	$c›y_©å_quŸe
 (
îr‹_c⁄ãxt
 *
˘x
 
ATTRIBUTE_UNUSED
, c⁄° *
°r
)

505  
	`quŸe
 (
°r
);

506 
	}
}

509 
	$c›y_©å_‰ì
 (
îr‹_c⁄ãxt
 *
˘x
 
ATTRIBUTE_UNUSED
,

510 c⁄° *
°r
 
ATTRIBUTE_UNUSED
)

512 
	}
}

517 
boﬁ


518 
	$c›y_©å
 (c⁄° *
§c_∑th
, 
§c_fd
,

519 c⁄° *
d°_∑th
, 
d°_fd
, 
˝_›ti⁄s
 c⁄° *
x
)

521 
ªt
;

522 
boﬁ
 
Æl_îr‹s
 = (!
x
->
d©a_c›y_ªquúed
 || x->
ªquúe_¥e£rve_x©å
);

523 
boﬁ
 
some_îr‹s
 = (!
Æl_îr‹s
 && !
x
->
ªdu˚_dügno°ics
);

524 
îr‹_c⁄ãxt
 
˘x
 =

526 .
îr‹
 = 
Æl_îr‹s
 ? 
c›y_©å_ÆÀº‹
 : 
c›y_©å_îr‹
,

527 .
quŸe
 = 
c›y_©å_quŸe
,

528 .
quŸe_‰ì
 = 
c›y_©å_‰ì


530 i‡(0 <
§c_fd
 && 0 <
d°_fd
)

531 
ªt
 = 
	`©å_c›y_fd
 (
§c_∑th
, 
§c_fd
, 
d°_∑th
, 
d°_fd
, 0,

532 (
Æl_îr‹s
 || 
some_îr‹s
 ? &
˘x
 : 
NULL
));

534 
ªt
 = 
	`©å_c›y_fûe
 (
§c_∑th
, 
d°_∑th
, 0,

535 (
Æl_îr‹s
 || 
some_îr‹s
 ? &
˘x
 : 
NULL
));

537  
ªt
 == 0;

538 
	}
}

541 
boﬁ


542 
	$c›y_©å
 (c⁄° *
§c_∑th
 
ATTRIBUTE_UNUSED
,

543 
§c_fd
 
ATTRIBUTE_UNUSED
,

544 c⁄° *
d°_∑th
 
ATTRIBUTE_UNUSED
,

545 
d°_fd
 
ATTRIBUTE_UNUSED
,

546 
˝_›ti⁄s
 c⁄° *
x
 
ATTRIBUTE_UNUSED
)

548  
åue
;

549 
	}
}

564 
boﬁ


565 
	$c›y_dú
 (c⁄° *
§c_«me_ö
, c⁄° *
d°_«me_ö
, 
boﬁ
 
√w_d°
,

566 c⁄° 
°©
 *
§c_sb
, 
dú_li°
 *
™˚°‹s
,

567 c⁄° 
˝_›ti⁄s
 *
x
,

568 
boﬁ
 *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
,

569 
boﬁ
 *
c›y_öto_£lf
)

571 *
«me_•a˚
;

572 *
«mï
;

573 
˝_›ti⁄s
 
n⁄_comm™d_löe_›ti⁄s
 = *
x
;

574 
boﬁ
 
ok
 = 
åue
;

576 
«me_•a˚
 = 
	`ßvedú
 (
§c_«me_ö
);

577 i‡(
«me_•a˚
 =
NULL
)

581 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿác˚s†%s"), 
	`quŸe
 (
§c_«me_ö
));

582  
Ál£
;

587 i‡(
x
->
dîe„ªn˚
 =
DEREF_COMMAND_LINE_ARGUMENTS
)

588 
n⁄_comm™d_löe_›ti⁄s
.
dîe„ªn˚
 = 
DEREF_NEVER
;

590 
boﬁ
 
√w_fú°_dú_¸óãd
 = 
Ál£
;

591 
«mï
 = 
«me_•a˚
;

592 *
«mï
 != '\0')

594 
boﬁ
 
loˇl_c›y_öto_£lf
;

595 *
§c_«me
 = 
	`fûe_«me_c⁄ˇt
 (
§c_«me_ö
, 
«mï
, 
NULL
);

596 *
d°_«me
 = 
	`fûe_«me_c⁄ˇt
 (
d°_«me_ö
, 
«mï
, 
NULL
);

597 
boﬁ
 
fú°_dú_¸óãd
 = *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
;

599 
ok
 &
	`c›y_öã∫Æ
 (
§c_«me
, 
d°_«me
, 
√w_d°
, 
§c_sb
->
°_dev
,

600 
™˚°‹s
, &
n⁄_comm™d_löe_›ti⁄s
, 
Ál£
,

601 &
fú°_dú_¸óãd
,

602 &
loˇl_c›y_öto_£lf
, 
NULL
);

603 *
c›y_öto_£lf
 |
loˇl_c›y_öto_£lf
;

605 
	`‰ì
 (
d°_«me
);

606 
	`‰ì
 (
§c_«me
);

611 i‡(
loˇl_c›y_öto_£lf
)

614 
√w_fú°_dú_¸óãd
 |
fú°_dú_¸óãd
;

615 
«mï
 +
	`°æí
 (namep) + 1;

617 
	`‰ì
 (
«me_•a˚
);

618 *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
 = 
√w_fú°_dú_¸óãd
;

620  
ok
;

621 
	}
}

636 
	$£t_ow√r
 (c⁄° 
˝_›ti⁄s
 *
x
, c⁄° *
d°_«me
, 
de°_desc
,

637 
°©
 c⁄° *
§c_sb
, 
boﬁ
 
√w_d°
,

638 
°©
 c⁄° *
d°_sb
)

640 
uid_t
 
uid
 = 
§c_sb
->
°_uid
;

641 
gid_t
 
gid
 = 
§c_sb
->
°_gid
;

649 i‡(!
√w_d°
 && (
x
->
¥e£rve_mode
 || x->
move_mode
 || x->
£t_mode
))

651 
mode_t
 
ﬁd_mode
 = 
d°_sb
->
°_mode
;

652 
mode_t
 
√w_mode
 =

653 (
x
->
¥e£rve_mode
 || x->
move_mode
 ? 
§c_sb
->
°_mode
 : x->
mode
);

654 
mode_t
 
ª°ri˘ive_ãmp_mode
 = 
ﬁd_mode
 & 
√w_mode
 & 
S_IRWXU
;

656 i‡((
USE_ACL


657 || (
ﬁd_mode
 & 
CHMOD_MODE_BITS


658 & (~
√w_mode
 | 
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
)))

659 && 
	`q£t_a˛
 (
d°_«me
, 
de°_desc
, 
ª°ri˘ive_ãmp_mode
) != 0)

661 i‡(! 
	`ow√r_Áûuª_ok
 (
x
))

662 
	`îr‹
 (0, 
î∫o
, 
	`_
("clearingÖermissions for %s"),

663 
	`quŸe
 (
d°_«me
));

664  -
x
->
ªquúe_¥e£rve
;

668 i‡(
HAVE_FCHOWN
 && 
de°_desc
 != -1)

670 i‡(
	`fchown
 (
de°_desc
, 
uid
, 
gid
) == 0)

672 i‡(
î∫o
 =
EPERM
 ||Éºnÿ=
EINVAL
)

676 
ßved_î∫o
 = 
î∫o
;

677 
	`ign‹e_vÆue
 (
	`fchown
 (
de°_desc
, -1, 
gid
));

678 
î∫o
 = 
ßved_î∫o
;

683 i‡(
	`lchown
 (
d°_«me
, 
uid
, 
gid
) == 0)

685 i‡(
î∫o
 =
EPERM
 ||Éºnÿ=
EINVAL
)

689 
ßved_î∫o
 = 
î∫o
;

690 
	`ign‹e_vÆue
 (
	`lchown
 (
d°_«me
, -1, 
gid
));

691 
î∫o
 = 
ßved_î∫o
;

695 i‡(! 
	`chown_Áûuª_ok
 (
x
))

697 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÖreserve ownership for %s"),

698 
	`quŸe
 (
d°_«me
));

699 i‡(
x
->
ªquúe_¥e£rve
)

704 
	}
}

712 
	$£t_auth‹
 (c⁄° *
d°_«me
, 
de°_desc
, c⁄° 
°©
 *
§c_sb
)

714 #i‡
HAVE_STRUCT_STAT_ST_AUTHOR


719 
fûe_t
 
fûe
 = (
de°_desc
 < 0

720 ? 
	`fûe_«me_lookup
 (
d°_«me
, 0, 0)

721 : 
	`gëdp‹t
 (
de°_desc
));

722 i‡(
fûe
 =
MACH_PORT_NULL
)

723 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿlooku∞fûê%s"), 
	`quŸe
 (
d°_«me
));

726 
îr‹_t
 
îr
 = 
	`fûe_chauth‹
 (
fûe
, 
§c_sb
->
°_auth‹
);

727 i‡(
îr
)

728 
	`îr‹
 (0, 
îr
, 
	`_
("failedÅoÖreserveáuthorship for %s"),

729 
	`quŸe
 (
d°_«me
));

730 
	`mach_p‹t_dóŒoˇã
 (
	`mach_èsk_£lf
 (), 
fûe
);

733 (Ë
d°_«me
;

734 (Ë
de°_desc
;

735 (Ë
§c_sb
;

737 
	}
}

743 
	$fchmod_‹_lchmod
 (
desc
, c⁄° *
«me
, 
mode_t
 
mode
)

745 #i‡
HAVE_FCHMOD


746 i‡(0 <
desc
)

747  
	`fchmod
 (
desc
, 
mode
);

749  
	`lchmod
 (
«me
, 
mode
);

750 
	}
}

752 #i‚de‡
HAVE_STRUCT_STAT_ST_BLOCKS


753 
	#HAVE_STRUCT_STAT_ST_BLOCKS
 0

	)

760 
boﬁ


761 
	$is_¥obably_•¨£
 (
°©
 c⁄° *
sb
)

763  (
HAVE_STRUCT_STAT_ST_BLOCKS


764 && 
	`S_ISREG
 (
sb
->
°_mode
)

765 && 
	`ST_NBLOCKS
 (*
sb
Ë< sb->
°_size
 / 
ST_NBLOCKSIZE
);

766 
	}
}

781 
boﬁ


782 
	$c›y_ªg
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

783 c⁄° 
˝_›ti⁄s
 *
x
,

784 
mode_t
 
d°_mode
, mode_à
omôãd_≥rmissi⁄s
, 
boﬁ
 *
√w_d°
,

785 
°©
 c⁄° *
§c_sb
)

787 *
buf
;

788 *
buf_Æloc
 = 
NULL
;

789 *
«me_Æloc
 = 
NULL
;

790 
de°_desc
;

791 
de°_î∫o
;

792 
sour˚_desc
;

793 
mode_t
 
§c_mode
 = 
§c_sb
->
°_mode
;

794 
°©
 
sb
;

795 
°©
 
§c_›í_sb
;

796 
boﬁ
 
ªtu∫_vÆ
 = 
åue
;

797 
boﬁ
 
d©a_c›y_ªquúed
 = 
x
->data_copy_required;

799 
sour˚_desc
 = 
	`›í
 (
§c_«me
,

800 (
O_RDONLY
 | 
O_BINARY


801 | (
x
->
dîe„ªn˚
 =
DEREF_NEVER
 ? 
O_NOFOLLOW
 : 0)));

802 i‡(
sour˚_desc
 < 0)

804 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ o≥¿%†f‹Ñódög"), 
	`quŸe
 (
§c_«me
));

805  
Ál£
;

808 i‡(
	`f°©
 (
sour˚_desc
, &
§c_›í_sb
) != 0)

810 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
§c_«me
));

811 
ªtu∫_vÆ
 = 
Ál£
;

812 
˛o£_§c_desc
;

817 i‡(! 
	`SAME_INODE
 (*
§c_sb
, 
§c_›í_sb
))

819 
	`îr‹
 (0, 0,

820 
	`_
("skipping file %s,ás it wasÑeplaced while being copied"),

821 
	`quŸe
 (
§c_«me
));

822 
ªtu∫_vÆ
 = 
Ál£
;

823 
˛o£_§c_desc
;

828 i‡(! *
√w_d°
)

830 
›í_Êags
 =

831 
O_WRONLY
 | 
O_BINARY
 | (
x
->
d©a_c›y_ªquúed
 ? 
O_TRUNC
 : 0);

832 
de°_desc
 = 
	`›í
 (
d°_«me
, 
›í_Êags
);

833 
de°_î∫o
 = 
î∫o
;

840 i‡(
x
->
¥e£rve_£curôy_c⁄ãxt
 && 0 <
de°_desc
)

842 
boﬁ
 
Æl_îr‹s
 = (!
x
->
d©a_c›y_ªquúed


843 || 
x
->
ªquúe_¥e£rve_c⁄ãxt
);

844 
boﬁ
 
some_îr‹s
 = !
Æl_îr‹s
 && !
x
->
ªdu˚_dügno°ics
;

845 
£curôy_c⁄ãxt_t
 
c⁄
 = 
NULL
;

847 i‡(
	`gëfs¸óãc⁄
 (&
c⁄
) < 0)

849 i‡(
Æl_îr‹s
 || (
some_îr‹s
 && !
	`î∫o_unsuµ‹ãd
 (
î∫o
)))

850 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get file system create context"));

851 i‡(
x
->
ªquúe_¥e£rve_c⁄ãxt
)

853 
ªtu∫_vÆ
 = 
Ál£
;

854 
˛o£_§c_™d_d°_desc
;

858 i‡(
c⁄
)

860 i‡(
	`f£tfûec⁄
 (
de°_desc
, 
c⁄
) < 0)

862 i‡(
Æl_îr‹s
 || (
some_îr‹s
 && !
	`î∫o_unsuµ‹ãd
 (
î∫o
)))

863 
	`îr‹
 (0, 
î∫o
,

864 
	`_
("failedÅo setÅhe security context of %sÅo %s"),

865 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
c⁄
));

866 i‡(
x
->
ªquúe_¥e£rve_c⁄ãxt
)

868 
ªtu∫_vÆ
 = 
Ál£
;

869 
	`‰ìc⁄
 (
c⁄
);

870 
˛o£_§c_™d_d°_desc
;

873 
	`‰ìc⁄
 (
c⁄
);

877 i‡(
de°_desc
 < 0 && 
x
->
u∆ök_de°_a·î_Áûed_›í
)

879 i‡(
	`u∆ök
 (
d°_«me
) != 0)

881 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
d°_«me
));

882 
ªtu∫_vÆ
 = 
Ál£
;

883 
˛o£_§c_desc
;

885 i‡(
x
->
vîbo£
)

886 
	`¥ötf
 (
	`_
("ªmoved %s\n"), 
	`quŸe
 (
d°_«me
));

889 *
√w_d°
 = 
åue
;

893 i‡(*
√w_d°
)

895 
›í_wôh_O_CREAT
:;

897 
›í_Êags
 = 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
;

898 
de°_desc
 = 
	`›í
 (
d°_«me
, 
›í_Êags
 | 
O_EXCL
,

899 
d°_mode
 & ~
omôãd_≥rmissi⁄s
);

900 
de°_î∫o
 = 
î∫o
;

912 i‡(
de°_desc
 < 0 && 
de°_î∫o
 =
EEXIST
 && ! 
x
->
move_mode
)

914 
°©
 
d™glög_lök_sb
;

915 i‡(
	`l°©
 (
d°_«me
, &
d™glög_lök_sb
) == 0

916 && 
	`S_ISLNK
 (
d™glög_lök_sb
.
°_mode
))

918 i‡(
x
->
›í_d™glög_de°_symlök
)

920 
de°_desc
 = 
	`›í
 (
d°_«me
, 
›í_Êags
,

921 
d°_mode
 & ~
omôãd_≥rmissi⁄s
);

922 
de°_î∫o
 = 
î∫o
;

926 
	`îr‹
 (0, 0, 
	`_
("not writingÅhrough dangling symlink %s"),

927 
	`quŸe
 (
d°_«me
));

928 
ªtu∫_vÆ
 = 
Ál£
;

929 
˛o£_§c_desc
;

936 i‡(
de°_desc
 < 0 && 
de°_î∫o
 =
EISDIR


937 && *
d°_«me
 && d°_«me[
	`°æí
 (dst_name) - 1] == '/')

938 
de°_î∫o
 = 
ENOTDIR
;

942 
omôãd_≥rmissi⁄s
 = 0;

945 i‡(
de°_desc
 < 0)

957 i‡(
de°_î∫o
 =
ENOENT
 && ! *
√w_d°
 && ! 
x
->
move_mode
)

959 *
√w_d°
 = 1;

960 
›í_wôh_O_CREAT
;

964 
	`îr‹
 (0, 
de°_î∫o
, 
	`_
("cannot createÑegular file %s"),

965 
	`quŸe
 (
d°_«me
));

966 
ªtu∫_vÆ
 = 
Ál£
;

967 
˛o£_§c_desc
;

970 i‡(
	`f°©
 (
de°_desc
, &
sb
) != 0)

972 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
d°_«me
));

973 
ªtu∫_vÆ
 = 
Ál£
;

974 
˛o£_§c_™d_d°_desc
;

978 i‡(
d©a_c›y_ªquúed
 && 
x
->
ªÊök_mode
)

980 
boﬁ
 
˛⁄e_ok
 = 
	`˛⁄e_fûe
 (
de°_desc
, 
sour˚_desc
) == 0;

981 i‡(
˛⁄e_ok
 || 
x
->
ªÊök_mode
 =
REFLINK_ALWAYS
)

983 i‡(!
˛⁄e_ok
)

985 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo clone %s from %s"),

986 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
§c_«me
));

987 
ªtu∫_vÆ
 = 
Ál£
;

988 
˛o£_§c_™d_d°_desc
;

990 
d©a_c›y_ªquúed
 = 
Ál£
;

994 i‡(
d©a_c›y_ªquúed
)

996 
uöçå_t
 
	tw‹d
;

999 
size_t
 
buf_Æignmít
 = 
	`lcm
 (
	`gë∑gesize
 (),  (
w‹d
));

1000 
size_t
 
buf_Æignmít_¶›
 =  (
w‹d
Ë+ 
buf_Æignmít
 - 1;

1001 
size_t
 
buf_size
 = 
	`io_blksize
 (
sb
);

1003 
	`fdadvi£
 (
sour˚_desc
, 0, 0, 
FADVISE_SEQUENTIAL
);

1006 
boﬁ
 
make_hﬁes
 = 
Ál£
;

1007 
boﬁ
 
•¨£_§c
 = 
Ál£
;

1009 i‡(
	`S_ISREG
 (
sb
.
°_mode
))

1013 i‡(
x
->
•¨£_mode
 =
SPARSE_ALWAYS
)

1014 
make_hﬁes
 = 
åue
;

1020 
•¨£_§c
 = 
	`is_¥obably_•¨£
 (&
§c_›í_sb
);

1021 i‡(
x
->
•¨£_mode
 =
SPARSE_AUTO
 && 
•¨£_§c
)

1022 
make_hﬁes
 = 
åue
;

1027 i‡(! 
make_hﬁes
)

1031 
size_t
 
blcm_max
 = 
	`MIN
 (
SIZE_MAX
, 
SSIZE_MAX
Ë- 
buf_Æignmít_¶›
;

1032 
size_t
 
blcm
 = 
	`buf„r_lcm
 (
	`io_blksize
 (
§c_›í_sb
), 
buf_size
,

1033 
blcm_max
);

1037 i‡(
	`S_ISREG
 (
§c_›í_sb
.
°_mode
Ë&& src_›í_sb.
°_size
 < 
buf_size
)

1038 
buf_size
 = 
§c_›í_sb
.
°_size
 + 1;

1043 
buf_size
 +
blcm
 - 1;

1044 
buf_size
 -buf_sizê% 
blcm
;

1045 i‡(
buf_size
 =0 || 
blcm_max
 < buf_size)

1046 
buf_size
 = 
blcm
;

1050 
buf_Æloc
 = 
	`xmÆloc
 (
buf_size
 + 
buf_Æignmít_¶›
);

1051 
buf
 = 
	`±r_Æign
 (
buf_Æloc
, 
buf_Æignmít
);

1053 i‡(
•¨£_§c
)

1055 
boﬁ
 
n‹mÆ_c›y_ªquúed
;

1061 i‡(
	`exã¡_c›y
 (
sour˚_desc
, 
de°_desc
, 
buf
, 
buf_size
,

1062 
§c_›í_sb
.
°_size
,

1063 
	`S_ISREG
 (
sb
.
°_mode
Ë? 
x
->
•¨£_mode
 : 
SPARSE_NEVER
,

1064 
§c_«me
, 
d°_«me
, &
n‹mÆ_c›y_ªquúed
))

1065 
¥e£rve_mëad©a
;

1067 i‡(! 
n‹mÆ_c›y_ªquúed
)

1069 
ªtu∫_vÆ
 = 
Ál£
;

1070 
˛o£_§c_™d_d°_desc
;

1074 
off_t
 
n_ªad
;

1075 
boﬁ
 
wrŸe_hﬁe_©_eof
;

1076 i‡–! 
	`•¨£_c›y
 (
sour˚_desc
, 
de°_desc
, 
buf
, 
buf_size
,

1077 
make_hﬁes
, 
§c_«me
, 
d°_«me
,

1078 
UINTMAX_MAX
, &
n_ªad
,

1079 &
wrŸe_hﬁe_©_eof
)

1080 || (
wrŸe_hﬁe_©_eof


1081 && 
	`·runˇã
 (
de°_desc
, 
n_ªad
) < 0))

1083 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿexãnd %s"), 
	`quŸe
 (
d°_«me
));

1084 
ªtu∫_vÆ
 = 
Ál£
;

1085 
˛o£_§c_™d_d°_desc
;

1089 
¥e£rve_mëad©a
:

1090 i‡(
x
->
¥e£rve_time°amps
)

1092 
time•ec
Åimespec[2];

1093 
time•ec
[0] = 
	`gë_°©_©ime
 (
§c_sb
);

1094 
time•ec
[1] = 
	`gë_°©_mtime
 (
§c_sb
);

1096 i‡(
	`fdutimís
 (
de°_desc
, 
d°_«me
, 
time•ec
) != 0)

1098 
	`îr‹
 (0, 
î∫o
, 
	`_
("¥e£rvögÅime†f‹ %s"), 
	`quŸe
 (
d°_«me
));

1099 i‡(
x
->
ªquúe_¥e£rve
)

1101 
ªtu∫_vÆ
 = 
Ál£
;

1102 
˛o£_§c_™d_d°_desc
;

1109 i‡(
x
->
¥e£rve_ow√rshù
 && ! 
	`SAME_OWNER_AND_GROUP
 (*
§c_sb
, 
sb
))

1111 
	`£t_ow√r
 (
x
, 
d°_«me
, 
de°_desc
, 
§c_sb
, *
√w_d°
, &
sb
))

1114 
ªtu∫_vÆ
 = 
Ál£
;

1115 
˛o£_§c_™d_d°_desc
;

1118 
§c_mode
 &~ (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
);

1126 i‡(
x
->
¥e£rve_x©å
)

1128 
boﬁ
 
ac˚ss_ch™ged
 = 
Ál£
;

1130 i‡(!(
sb
.
°_mode
 & 
S_IWUSR
Ë&& 
	`gëeuid
 () != 0)

1131 
ac˚ss_ch™ged
 = 
	`fchmod_‹_lchmod
 (
de°_desc
, 
d°_«me
, 0600) == 0;

1133 i‡(!
	`c›y_©å
 (
§c_«me
, 
sour˚_desc
, 
d°_«me
, 
de°_desc
, 
x
)

1134 && 
x
->
ªquúe_¥e£rve_x©å
)

1135 
ªtu∫_vÆ
 = 
Ál£
;

1137 i‡(
ac˚ss_ch™ged
)

1138 
	`fchmod_‹_lchmod
 (
de°_desc
, 
d°_«me
, 
d°_mode
 & ~
omôãd_≥rmissi⁄s
);

1141 
	`£t_auth‹
 (
d°_«me
, 
de°_desc
, 
§c_sb
);

1143 i‡(
x
->
¥e£rve_mode
 || x->
move_mode
)

1145 i‡(
	`c›y_a˛
 (
§c_«me
, 
sour˚_desc
, 
d°_«me
, 
de°_desc
, 
§c_mode
) != 0

1146 && 
x
->
ªquúe_¥e£rve
)

1147 
ªtu∫_vÆ
 = 
Ál£
;

1149 i‡(
x
->
£t_mode
)

1151 i‡(
	`£t_a˛
 (
d°_«me
, 
de°_desc
, 
x
->
mode
) != 0)

1152 
ªtu∫_vÆ
 = 
Ál£
;

1154 i‡(
x
->
ex∂icô_no_¥e£rve_mode
)

1156 i‡(
	`£t_a˛
 (
d°_«me
, 
de°_desc
, 0666 & ~
	`ˇched_umask
 ()) != 0)

1157 
ªtu∫_vÆ
 = 
Ál£
;

1159 i‡(
omôãd_≥rmissi⁄s
)

1161 
omôãd_≥rmissi⁄s
 &~ 
	`ˇched_umask
 ();

1162 i‡(
omôãd_≥rmissi⁄s


1163 && 
	`fchmod_‹_lchmod
 (
de°_desc
, 
d°_«me
, 
d°_mode
) != 0)

1165 
	`îr‹
 (0, 
î∫o
, 
	`_
("preservingÖermissions for %s"),

1166 
	`quŸe
 (
d°_«me
));

1167 i‡(
x
->
ªquúe_¥e£rve
)

1168 
ªtu∫_vÆ
 = 
Ál£
;

1172 
˛o£_§c_™d_d°_desc
:

1173 i‡(
	`˛o£
 (
de°_desc
) < 0)

1175 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿ˛o£ %s"), 
	`quŸe
 (
d°_«me
));

1176 
ªtu∫_vÆ
 = 
Ál£
;

1178 
˛o£_§c_desc
:

1179 i‡(
	`˛o£
 (
sour˚_desc
) < 0)

1181 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿ˛o£ %s"), 
	`quŸe
 (
§c_«me
));

1182 
ªtu∫_vÆ
 = 
Ál£
;

1185 
	`‰ì
 (
buf_Æloc
);

1186 
	`‰ì
 (
«me_Æloc
);

1187  
ªtu∫_vÆ
;

1188 
	}
}

1207 
boﬁ


1208 
	$ßme_fûe_ok
 (c⁄° *
§c_«me
, 
°©
 c⁄° *
§c_sb
,

1209 c⁄° *
d°_«me
, 
°©
 c⁄° *
d°_sb
,

1210 c⁄° 
˝_›ti⁄s
 *
x
, 
boﬁ
 *
ªtu∫_now
, boﬁ *
u∆ök_§c
)

1212 c⁄° 
°©
 *
§c_sb_lök
;

1213 c⁄° 
°©
 *
d°_sb_lök
;

1214 
°©
 
tmp_d°_sb
;

1215 
°©
 
tmp_§c_sb
;

1217 
boﬁ
 
ßme_lök
;

1218 
boﬁ
 
ßme
 = 
	`SAME_INODE
 (*
§c_sb
, *
d°_sb
);

1220 *
ªtu∫_now
 = 
Ál£
;

1221 *
u∆ök_§c
 = 
Ál£
;

1228 i‡(
ßme
 && 
x
->
h¨d_lök
)

1230 *
ªtu∫_now
 = 
åue
;

1231  
åue
;

1234 i‡(
x
->
dîe„ªn˚
 =
DEREF_NEVER
)

1236 
ßme_lök
 = 
ßme
;

1241 i‡(
	`S_ISLNK
 (
§c_sb
->
°_mode
Ë&& S_ISLNK (
d°_sb
->st_mode))

1243 
boﬁ
 
¢
 = 
	`ßme_«me
 (
§c_«me
, 
d°_«me
);

1244 i‡–! 
¢
)

1247 i‡(
x
->
backup_ty≥
 !
no_backups
)

1248  
åue
;

1256 i‡(
ßme_lök
)

1258 *
u∆ök_§c
 = 
åue
;

1259 *
ªtu∫_now
 = 
åue
;

1260  
åue
;

1264  ! 
¢
;

1267 
§c_sb_lök
 = 
§c_sb
;

1268 
d°_sb_lök
 = 
d°_sb
;

1272 i‡(!
ßme
)

1273  
åue
;

1275 i‡(
	`l°©
 (
d°_«me
, &
tmp_d°_sb
) != 0

1276 || 
	`l°©
 (
§c_«me
, &
tmp_§c_sb
) != 0)

1277  
åue
;

1279 
§c_sb_lök
 = &
tmp_§c_sb
;

1280 
d°_sb_lök
 = &
tmp_d°_sb
;

1282 
ßme_lök
 = 
	`SAME_INODE
 (*
§c_sb_lök
, *
d°_sb_lök
);

1289 i‡(
	`S_ISLNK
 (
§c_sb_lök
->
°_mode
Ë&& S_ISLNK (
d°_sb_lök
->st_mode)

1290 && 
x
->
u∆ök_de°_bef‹e_›íög
)

1291  
åue
;

1299 i‡(
x
->
backup_ty≥
 !
no_backups
)

1301 i‡(!
ßme_lök
)

1319 i‡–! 
x
->
move_mode


1320 && 
x
->
dîe„ªn˚
 !
DEREF_NEVER


1321 && 
	`S_ISLNK
 (
§c_sb_lök
->
°_mode
)

1322 && ! 
	`S_ISLNK
 (
d°_sb_lök
->
°_mode
))

1323  
Ál£
;

1325  
åue
;

1328  ! 
	`ßme_«me
 (
§c_«me
, 
d°_«me
);

1339 i‡(
x
->
h¨d_lök


1340 || !
	`S_ISLNK
 (
§c_sb_lök
->
°_mode
)

1341 || 
	`S_ISLNK
 (
d°_sb_lök
->
°_mode
))

1342  
åue
;

1344 i‡(
x
->
dîe„ªn˚
 !
DEREF_NEVER
)

1345  
åue
;

1353 i‡(
x
->
move_mode
 || x->
u∆ök_de°_bef‹e_›íög
)

1355 i‡(
	`S_ISLNK
 (
d°_sb_lök
->
°_mode
))

1356  
åue
;

1358 i‡(
ßme_lök


1359 && 1 < 
d°_sb_lök
->
°_∆ök


1360 && ! 
	`ßme_«me
 (
§c_«me
, 
d°_«me
))

1362 i‡(
x
->
move_mode
)

1364 *
u∆ök_§c
 = 
åue
;

1365 *
ªtu∫_now
 = 
åue
;

1367  
åue
;

1373 i‡(!
	`S_ISLNK
 (
§c_sb_lök
->
°_mode
Ë&& !S_ISLNK (
d°_sb_lök
->st_mode))

1375 i‡(!
	`SAME_INODE
 (*
§c_sb_lök
, *
d°_sb_lök
))

1376  
åue
;

1379 i‡(
x
->
h¨d_lök
)

1381 *
ªtu∫_now
 = 
åue
;

1382  
åue
;

1406 i‡(
x
->
move_mode


1407 && 
	`S_ISLNK
 (
§c_sb
->
°_mode
)

1408 && 1 < 
d°_sb_lök
->
°_∆ök
)

1410 *
abs_§c
 = 
	`ˇn⁄iˇlize_fûe_«me
 (
§c_«me
);

1411 i‡(
abs_§c
)

1413 
boﬁ
 
ªsu…
 = ! 
	`ßme_«me
 (
abs_§c
, 
d°_«me
);

1414 
	`‰ì
 (
abs_§c
);

1415  
ªsu…
;

1422 i‡(
x
->
u∆ök_de°_bef‹e_›íög


1423 && 
	`S_ISLNK
 (
d°_sb_lök
->
°_mode
))

1424  
d°_sb_lök
->
°_dev
 =
§c_sb_lök
->st_dev;

1426 i‡(
x
->
dîe„ªn˚
 =
DEREF_NEVER
)

1428 i‡–! 
	`S_ISLNK
 (
§c_sb_lök
->
°_mode
))

1429 
tmp_§c_sb
 = *
§c_sb_lök
;

1430 i‡(
	`°©
 (
§c_«me
, &
tmp_§c_sb
) != 0)

1431  
åue
;

1433 i‡–! 
	`S_ISLNK
 (
d°_sb_lök
->
°_mode
))

1434 
tmp_d°_sb
 = *
d°_sb_lök
;

1435 i‡(
	`°©
 (
d°_«me
, &
tmp_d°_sb
) != 0)

1436  
åue
;

1438 i‡–! 
	`SAME_INODE
 (
tmp_§c_sb
, 
tmp_d°_sb
))

1439  
åue
;

1442 i‡(
x
->
h¨d_lök
)

1444 *
ªtu∫_now
 = 
åue
;

1445  
åue
;

1449  
Ál£
;

1450 
	}
}

1454 
boﬁ


1455 
	$wrôabÀ_de°ö©i⁄
 (c⁄° *
fûe
, 
mode_t
 
mode
)

1457  (
	`S_ISLNK
 (
mode
)

1458 || 
	`ˇn_wrôe_™y_fûe
 ()

1459 || 
	`euidac˚ss
 (
fûe
, 
W_OK
) == 0);

1460 
	}
}

1463 
	$ovîwrôe_¥om±
 (c⁄° *
d°_«me
, 
°©
 c⁄° *
d°_sb
)

1465 i‡(! 
	`wrôabÀ_de°ö©i⁄
 (
d°_«me
, 
d°_sb
->
°_mode
))

1467 
≥rms
[12];

1468 
	`°rmode
 (
d°_sb
->
°_mode
, 
≥rms
);

1469 
≥rms
[10] = '\0';

1470 
	`Ârötf
 (
°dîr
,

1471 
	`_
("%s:ÅryÅo overwrite %s, overriding mode %04lo (%s)? "),

1472 
¥ogøm_«me
, 
	`quŸe
 (
d°_«me
),

1473 (Ë(
d°_sb
->
°_mode
 & 
CHMOD_MODE_BITS
),

1474 &
≥rms
[1]);

1478 
	`Ârötf
 (
°dîr
, 
	`_
("%s: overwrite %s? "),

1479 
¥ogøm_«me
, 
	`quŸe
 (
d°_«me
));

1481 
	}
}

1486 
	$de°_öfo_öô
 (
˝_›ti⁄s
 *
x
)

1488 
x
->
de°_öfo


1489 
	`hash_öôülize
 (
DEST_INFO_INITIAL_CAPACITY
,

1490 
NULL
,

1491 
åùÀ_hash
,

1492 
åùÀ_com∑ª
,

1493 
åùÀ_‰ì
);

1494 
	}
}

1499 
	$§c_öfo_öô
 (
˝_›ti⁄s
 *
x
)

1510 
x
->
§c_öfo


1511 
	`hash_öôülize
 (
DEST_INFO_INITIAL_CAPACITY
,

1512 
NULL
,

1513 
åùÀ_hash_no_«me
,

1514 
åùÀ_com∑ª
,

1515 
åùÀ_‰ì
);

1516 
	}
}

1524 
boﬁ


1525 
	$ab™d⁄_move
 (c⁄° 
˝_›ti⁄s
 *
x
,

1526 c⁄° *
d°_«me
,

1527 
°©
 c⁄° *
d°_sb
)

1529 
	`as£π
 (
x
->
move_mode
);

1530  (
x
->
öãø˘ive
 =
I_ALWAYS_NO


1531 || ((
x
->
öãø˘ive
 =
I_ASK_USER


1532 || (
x
->
öãø˘ive
 =
I_UNSPECIFIED


1533 && 
x
->
°dö_ây


1534 && ! 
	`wrôabÀ_de°ö©i⁄
 (
d°_«me
, 
d°_sb
->
°_mode
)))

1535 && (
	`ovîwrôe_¥om±
 (
d°_«me
, 
d°_sb
), 1)

1536 && ! 
	`ye¢o
 ()));

1537 
	}
}

1543 
	$emô_vîbo£
 (c⁄° *
§c
, c⁄° *
d°
, c⁄° *
backup_d°_«me
)

1545 
	`¥ötf
 ("%†-> %s", 
	`quŸe_n
 (0, 
§c
), quŸe_¿(1, 
d°
));

1546 i‡(
backup_d°_«me
)

1547 
	`¥ötf
 (
	`_
(" (backup: %s)"), 
	`quŸe
 (
backup_d°_«me
));

1548 
	`putch¨
 ('\n');

1549 
	}
}

1553 
	$ª°‹e_deÁu…_fs¸óãc⁄_‹_dõ
 ()

1555 i‡(
	`£tfs¸óãc⁄
 (
NULL
) != 0)

1556 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

1557 
	`_
("failedÅoÑestoreÅhe default file creation context"));

1558 
	}
}

1566 
boﬁ


1567 
	$¸óã_h¨d_lök
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

1568 
boﬁ
 
ª∂a˚
, boﬁ 
vîbo£
)

1571 
boﬁ
 
lök_Áûed
 = (
	`lök©
 (
AT_FDCWD
, 
§c_«me
, AT_FDCWD, 
d°_«me
, 0) != 0);

1575 i‡(
lök_Áûed
 && 
ª∂a˚
 && 
î∫o
 =
EEXIST
)

1577 i‡(
	`u∆ök
 (
d°_«me
) != 0)

1579 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
d°_«me
));

1580  
Ál£
;

1582 i‡(
vîbo£
)

1583 
	`¥ötf
 (
	`_
("ªmoved %s\n"), 
	`quŸe
 (
d°_«me
));

1584 
lök_Áûed
 = (
	`lök©
 (
AT_FDCWD
, 
§c_«me
, AT_FDCWD, 
d°_«me
, 0) != 0);

1587 i‡(
lök_Áûed
)

1589 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot create hardÜink %sÅo %s"),

1590 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
§c_«me
));

1591  
Ál£
;

1594  
åue
;

1595 
	}
}

1609 
boﬁ


1610 
	$c›y_öã∫Æ
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

1611 
boﬁ
 
√w_d°
,

1612 
dev_t
 
devi˚
,

1613 
dú_li°
 *
™˚°‹s
,

1614 c⁄° 
˝_›ti⁄s
 *
x
,

1615 
boﬁ
 
comm™d_löe_¨g
,

1616 
boﬁ
 *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
,

1617 
boﬁ
 *
c›y_öto_£lf
,

1618 
boﬁ
 *
ª«me_suc˚eded
)

1620 
°©
 
§c_sb
;

1621 
°©
 
d°_sb
;

1622 
mode_t
 
§c_mode
;

1623 
mode_t
 
d°_mode
 
	`IF_LINT
 ( = 0);

1624 
mode_t
 
d°_mode_bôs
;

1625 
mode_t
 
omôãd_≥rmissi⁄s
;

1626 
boﬁ
 
ª°‹e_d°_mode
 = 
Ál£
;

1627 *
óæõr_fûe
 = 
NULL
;

1628 *
d°_backup
 = 
NULL
;

1629 
boﬁ
 
backup_suc˚eded
 = 
Ál£
;

1630 
boﬁ
 
dñayed_ok
;

1631 
boﬁ
 
c›õd_as_ªguœr
 = 
Ál£
;

1632 
boﬁ
 
de°_is_symlök
 = 
Ál£
;

1633 
boﬁ
 
have_d°_l°©
 = 
Ál£
;

1635 i‡(
x
->
move_mode
 && 
ª«me_suc˚eded
)

1636 *
ª«me_suc˚eded
 = 
Ál£
;

1638 *
c›y_öto_£lf
 = 
Ál£
;

1640 i‡(
	`XSTAT
 (
x
, 
§c_«me
, &
§c_sb
) != 0)

1642 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
§c_«me
));

1643  
Ál£
;

1646 
§c_mode
 = 
§c_sb
.
°_mode
;

1648 i‡(
	`S_ISDIR
 (
§c_mode
Ë&& !
x
->
ªcursive
)

1650 
	`îr‹
 (0, 0, 
	`_
("omôtög dúe˘‹y %s"), 
	`quŸe
 (
§c_«me
));

1651  
Ál£
;

1658 i‡(
comm™d_löe_¨g
)

1660 i‡–! 
	`S_ISDIR
 (
§c_sb
.
°_mode
)

1661 && 
x
->
backup_ty≥
 =
no_backups


1662 && 
	`£í_fûe
 (
x
->
§c_öfo
, 
§c_«me
, &
§c_sb
))

1664 
	`îr‹
 (0, 0, 
	`_
("warning: source file %s specified moreÅhan once"),

1665 
	`quŸe
 (
§c_«me
));

1666  
åue
;

1669 
	`ªc‹d_fûe
 (
x
->
§c_öfo
, 
§c_«me
, &
§c_sb
);

1672 i‡(!
√w_d°
)

1680 
boﬁ
 
u£_°©
 =

1681 ((
	`S_ISREG
 (
§c_mode
)

1682 || (
x
->
c›y_as_ªguœr


1683 && ! (
	`S_ISDIR
 (
§c_mode
Ë|| 
	`S_ISLNK
 (src_mode))))

1684 && ! (
x
->
move_mode
 || x->
symbﬁic_lök
 || x->
h¨d_lök


1685 || 
x
->
backup_ty≥
 !
no_backups


1686 || 
x
->
u∆ök_de°_bef‹e_›íög
));

1687 i‡((
u£_°©


1688 ? 
	`°©
 (
d°_«me
, &
d°_sb
)

1689 : 
	`l°©
 (
d°_«me
, &
d°_sb
))

1692 i‡(
î∫o
 !
ENOENT
)

1694 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
d°_«me
));

1695  
Ál£
;

1699 
√w_d°
 = 
åue
;

1705 
boﬁ
 
ªtu∫_now
;

1706 
boﬁ
 
u∆ök_§c
;

1708 
have_d°_l°©
 = !
u£_°©
;

1709 i‡(! 
	`ßme_fûe_ok
 (
§c_«me
, &
§c_sb
, 
d°_«me
, &
d°_sb
,

1710 
x
, &
ªtu∫_now
, &
u∆ök_§c
))

1712 
	`îr‹
 (0, 0, 
	`_
("%sánd %sáreÅhe same file"),

1713 
	`quŸe_n
 (0, 
§c_«me
), quŸe_¿(1, 
d°_«me
));

1714  
Ál£
;

1717 i‡(!
	`S_ISDIR
 (
§c_mode
Ë&& 
x
->
upd©e
)

1723 
›ti⁄s
 = ((
x
->
¥e£rve_time°amps


1724 && ! (
x
->
move_mode


1725 && 
d°_sb
.
°_dev
 =
§c_sb
.st_dev))

1726 ? 
UTIMECMP_TRUNCATE_SOURCE


1729 i‡(0 <
	`utimecmp
 (
d°_«me
, &
d°_sb
, &
§c_sb
, 
›ti⁄s
))

1735 i‡(
ª«me_suc˚eded
)

1736 *
ª«me_suc˚eded
 = 
åue
;

1743 
óæõr_fûe
 = 
	`ªmembî_c›õd
 (
d°_«me
, 
§c_sb
.
°_öo
,

1744 
§c_sb
.
°_dev
);

1745 i‡(
óæõr_fûe
)

1749 i‡(! 
	`¸óã_h¨d_lök
 (
óæõr_fûe
, 
d°_«me
, 
åue
,

1750 
x
->
vîbo£
))

1752 
un_backup
;

1756  
åue
;

1767 i‡(
x
->
move_mode
)

1769 i‡(
	`ab™d⁄_move
 (
x
, 
d°_«me
, &
d°_sb
)

1770 || (
u∆ök_§c
 && 
	`u∆ök
 (
§c_«me
) == 0))

1774 i‡(
ª«me_suc˚eded
)

1775 *
ª«me_suc˚eded
 = 
åue
;

1776 i‡(
u∆ök_§c
 && 
x
->
vîbo£
)

1777 
	`¥ötf
 (
	`_
("ªmoved %s\n"), 
	`quŸe
 (
§c_«me
));

1778  
åue
;

1780 i‡(
u∆ök_§c
)

1782 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
§c_«me
));

1783  
Ál£
;

1788 i‡(! 
	`S_ISDIR
 (
§c_mode
)

1789 && (
x
->
öãø˘ive
 =
I_ALWAYS_NO


1790 || (
x
->
öãø˘ive
 =
I_ASK_USER


1791 && (
	`ovîwrôe_¥om±
 (
d°_«me
, &
d°_sb
), 1)

1792 && ! 
	`ye¢o
 ())))

1793  
åue
;

1796 i‡(
ªtu∫_now
)

1797  
åue
;

1799 i‡(!
	`S_ISDIR
 (
d°_sb
.
°_mode
))

1801 i‡(
	`S_ISDIR
 (
§c_mode
))

1803 i‡(
x
->
move_mode
 && x->
backup_ty≥
 !
no_backups
)

1810 
	`îr‹
 (0, 0,

1811 
	`_
("cannot overwriteÇon-directory %s with directory %s"),

1812 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
§c_«me
));

1813  
Ál£
;

1824 i‡(
comm™d_löe_¨g


1825 && 
x
->
backup_ty≥
 !
numbîed_backups


1826 && 
	`£í_fûe
 (
x
->
de°_öfo
, 
d°_«me
, &
d°_sb
))

1828 
	`îr‹
 (0, 0,

1829 
	`_
("willÇot overwrite just-created %s with %s"),

1830 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
§c_«me
));

1831  
Ál£
;

1835 i‡(!
	`S_ISDIR
 (
§c_mode
))

1837 i‡(
	`S_ISDIR
 (
d°_sb
.
°_mode
))

1839 i‡(
x
->
move_mode
 && x->
backup_ty≥
 !
no_backups
)

1846 
	`îr‹
 (0, 0,

1847 
	`_
("cannot overwrite directory %s withÇon-directory"),

1848 
	`quŸe
 (
d°_«me
));

1849  
Ál£
;

1854 i‡(
x
->
move_mode
)

1857 i‡(
	`S_ISDIR
 (
§c_sb
.
°_mode
Ë&& !S_ISDIR (
d°_sb
.st_mode)

1858 && 
x
->
backup_ty≥
 =
no_backups
)

1860 
	`îr‹
 (0, 0,

1861 
	`_
("cannot move directory ontoÇon-directory: %s -> %s"),

1862 
	`quŸe_n
 (0, 
§c_«me
), quŸe_¿(0, 
d°_«me
));

1863  
Ál£
;

1867 i‡(
x
->
backup_ty≥
 !
no_backups


1870 && ! 
	`dŸ_‹_dŸdŸ
 (
	`œ°_comp⁄ít
 (
§c_«me
))

1876 && (
x
->
move_mode
 || ! 
	`S_ISDIR
 (
d°_sb
.
°_mode
)))

1878 *
tmp_backup
 = 
	`föd_backup_fûe_«me
 (
d°_«me
,

1879 
x
->
backup_ty≥
);

1887 i‡(
	`STREQ
 (
tmp_backup
, 
§c_«me
))

1889 c⁄° *
fmt
;

1890 
fmt
 = (
x
->
move_mode


1891 ? 
	`_
("backing up %s would destroy source; %sÇot moved")

1892 : 
	`_
("backing up %s would destroy source; %sÇot copied"));

1893 
	`îr‹
 (0, 0, 
fmt
,

1894 
	`quŸe_n
 (0, 
d°_«me
),

1895 
	`quŸe_n
 (1, 
§c_«me
));

1896 
	`‰ì
 (
tmp_backup
);

1897  
Ál£
;

1905 
	`ASSIGN_STRDUPA
 (
d°_backup
, 
tmp_backup
);

1906 
	`‰ì
 (
tmp_backup
);

1911 i‡(
	`ª«me
 (
d°_«me
, 
d°_backup
) != 0)

1913 i‡(
î∫o
 !
ENOENT
)

1915 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ backu∞%s"), 
	`quŸe
 (
d°_«me
));

1916  
Ál£
;

1920 
d°_backup
 = 
NULL
;

1925 
backup_suc˚eded
 = 
åue
;

1927 
√w_d°
 = 
åue
;

1929 i‡(! 
	`S_ISDIR
 (
d°_sb
.
°_mode
)

1931 && ! 
x
->
move_mode


1932 && (
x
->
u∆ök_de°_bef‹e_›íög


1933 || (
x
->
¥e£rve_löks
 && 1 < 
d°_sb
.
°_∆ök
)

1934 || (
x
->
dîe„ªn˚
 =
DEREF_NEVER


1935 && ! 
	`S_ISREG
 (
§c_sb
.
°_mode
))

1938 i‡(
	`u∆ök
 (
d°_«me
Ë!0 && 
î∫o
 !
ENOENT
)

1940 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
d°_«me
));

1941  
Ál£
;

1943 
√w_d°
 = 
åue
;

1944 i‡(
x
->
vîbo£
)

1945 
	`¥ötf
 (
	`_
("ªmoved %s\n"), 
	`quŸe
 (
d°_«me
));

1952 i‡(
comm™d_löe_¨g


1953 && 
x
->
de°_öfo


1954 && ! 
x
->
move_mode


1955 && 
x
->
backup_ty≥
 =
no_backups
)

1957 
boﬁ
 
l°©_ok
 = 
åue
;

1958 
°©
 
tmp_buf
;

1959 
°©
 *
d°_l°©_sb
;

1963 i‡(
have_d°_l°©
)

1964 
d°_l°©_sb
 = &
d°_sb
;

1967 i‡(
	`l°©
 (
d°_«me
, &
tmp_buf
) == 0)

1968 
d°_l°©_sb
 = &
tmp_buf
;

1970 
l°©_ok
 = 
Ál£
;

1974 i‡(
l°©_ok


1975 && 
	`S_ISLNK
 (
d°_l°©_sb
->
°_mode
)

1976 && 
	`£í_fûe
 (
x
->
de°_öfo
, 
d°_«me
, 
d°_l°©_sb
))

1978 
	`îr‹
 (0, 0,

1979 
	`_
("willÇot copy %sÅhrough just-created symlink %s"),

1980 
	`quŸe_n
 (0, 
§c_«me
), quŸe_¿(1, 
d°_«me
));

1981  
Ál£
;

1988 i‡(
x
->
vîbo£
 && !
	`S_ISDIR
 (
§c_mode
))

1989 
	`emô_vîbo£
 (
§c_«me
, 
d°_«me
, 
backup_suc˚eded
 ? 
d°_backup
 : 
NULL
);

2021 i‡(
x
->
move_mode
 && 
§c_sb
.
°_∆ök
 == 1)

2023 
óæõr_fûe
 = 
	`§c_to_de°_lookup
 (
§c_sb
.
°_öo
, src_sb.
°_dev
);

2025 i‡(
x
->
¥e£rve_löks


2026 && !
x
->
h¨d_lök


2027 && (1 < 
§c_sb
.
°_∆ök


2028 || (
comm™d_löe_¨g


2029 && 
x
->
dîe„ªn˚
 =
DEREF_COMMAND_LINE_ARGUMENTS
)

2030 || 
x
->
dîe„ªn˚
 =
DEREF_ALWAYS
))

2032 
óæõr_fûe
 = 
	`ªmembî_c›õd
 (
d°_«me
, 
§c_sb
.
°_öo
, src_sb.
°_dev
);

2034 i‡(
x
->
ªcursive
 && 
	`S_ISDIR
 (
§c_mode
))

2036 i‡(
comm™d_löe_¨g
)

2037 
óæõr_fûe
 = 
	`ªmembî_c›õd
 (
d°_«me
, 
§c_sb
.
°_öo
, src_sb.
°_dev
);

2039 
óæõr_fûe
 = 
	`§c_to_de°_lookup
 (
§c_sb
.
°_öo
, src_sb.
°_dev
);

2045 i‡(
óæõr_fûe
)

2050 i‡(
	`S_ISDIR
 (
§c_mode
))

2054 i‡(
	`ßme_«me
 (
§c_«me
, 
óæõr_fûe
))

2056 
	`îr‹
 (0, 0, 
	`_
("cannot copyá directory, %s, into itself, %s"),

2057 
	`quŸe_n
 (0, 
t›_Àvñ_§c_«me
),

2058 
	`quŸe_n
 (1, 
t›_Àvñ_d°_«me
));

2059 *
c›y_öto_£lf
 = 
åue
;

2060 
un_backup
;

2062 i‡(
x
->
dîe„ªn˚
 =
DEREF_ALWAYS
)

2073 
	`îr‹
 (0, 0, 
	`_
("willÇot create hardÜink %sÅo directory %s"),

2074 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
óæõr_fûe
));

2075 
un_backup
;

2080 i‡(! 
	`¸óã_h¨d_lök
 (
óæõr_fûe
, 
d°_«me
, 
åue
, 
x
->
vîbo£
))

2081 
un_backup
;

2083  
åue
;

2087 i‡(
x
->
move_mode
)

2089 i‡(
	`ª«me
 (
§c_«me
, 
d°_«me
) == 0)

2091 i‡(
x
->
vîbo£
 && 
	`S_ISDIR
 (
§c_mode
))

2092 
	`emô_vîbo£
 (
§c_«me
, 
d°_«me
,

2093 
backup_suc˚eded
 ? 
d°_backup
 : 
NULL
);

2095 i‡(
ª«me_suc˚eded
)

2096 *
ª«me_suc˚eded
 = 
åue
;

2098 i‡(
comm™d_löe_¨g
)

2107 
	`ªc‹d_fûe
 (
x
->
de°_öfo
, 
d°_«me
, &
§c_sb
);

2110  
åue
;

2118 i‡(
î∫o
 =
EINVAL
)

2123 
	`îr‹
 (0, 0, 
	`_
("cannot move %sÅoá subdirectory of itself, %s"),

2124 
	`quŸe_n
 (0, 
t›_Àvñ_§c_«me
),

2125 
	`quŸe_n
 (1, 
t›_Àvñ_d°_«me
));

2131 *
c›y_öto_£lf
 = 
åue
;

2135  
åue
;

2153 i‡(
î∫o
 !
EXDEV
)

2165 
	`îr‹
 (0, 
î∫o
,

2166 
	`_
("cannot move %sÅo %s"),

2167 
	`quŸe_n
 (0, 
§c_«me
), quŸe_¿(1, 
d°_«me
));

2168 
	`f‹gë_¸óãd
 (
§c_sb
.
°_öo
, src_sb.
°_dev
);

2169  
Ál£
;

2175 i‡(
	`u∆ök
 (
d°_«me
Ë!0 && 
î∫o
 !
ENOENT
)

2177 
	`îr‹
 (0, 
î∫o
,

2178 
	`_
("inter-device move failed: %sÅo %s; unableÅoÑemoveÅarget"),

2179 
	`quŸe_n
 (0, 
§c_«me
), quŸe_¿(1, 
d°_«me
));

2180 
	`f‹gë_¸óãd
 (
§c_sb
.
°_öo
, src_sb.
°_dev
);

2181  
Ál£
;

2184 
√w_d°
 = 
åue
;

2191 
d°_mode_bôs
 = (
x
->
£t_mode
 ? x->
mode
 : 
§c_mode
Ë& 
CHMOD_MODE_BITS
;

2192 
omôãd_≥rmissi⁄s
 =

2193 (
d°_mode_bôs


2194 & (
x
->
¥e£rve_ow√rshù
 ? 
S_IRWXG
 | 
S_IRWXO


2195 : 
	`S_ISDIR
 (
§c_mode
Ë? 
S_IWGRP
 | 
S_IWOTH


2198 
dñayed_ok
 = 
åue
;

2200 i‡(
x
->
¥e£rve_£curôy_c⁄ãxt
)

2202 
boﬁ
 
Æl_îr‹s
 = !
x
->
d©a_c›y_ªquúed
 || x->
ªquúe_¥e£rve_c⁄ãxt
;

2203 
boﬁ
 
some_îr‹s
 = !
Æl_îr‹s
 && !
x
->
ªdu˚_dügno°ics
;

2204 
£curôy_c⁄ãxt_t
 
c⁄
;

2206 i‡(0 <
	`lgëfûec⁄
 (
§c_«me
, &
c⁄
))

2208 i‡(
	`£tfs¸óãc⁄
 (
c⁄
) < 0)

2210 i‡(
Æl_îr‹s
 || (
some_îr‹s
 && !
	`î∫o_unsuµ‹ãd
 (
î∫o
)))

2211 
	`îr‹
 (0, 
î∫o
,

2212 
	`_
("failedÅo set default file creation contextÅo %s"),

2213 
	`quŸe
 (
c⁄
));

2214 i‡(
x
->
ªquúe_¥e£rve_c⁄ãxt
)

2216 
	`‰ìc⁄
 (
c⁄
);

2217  
Ál£
;

2220 
	`‰ìc⁄
 (
c⁄
);

2224 i‡(
Æl_îr‹s
 || (
some_îr‹s
 && !
	`î∫o_unsuµ‹ãd
 (
î∫o
)))

2226 
	`îr‹
 (0, 
î∫o
,

2227 
	`_
("failedÅo get security context of %s"),

2228 
	`quŸe
 (
§c_«me
));

2230 i‡(
x
->
ªquúe_¥e£rve_c⁄ãxt
)

2231  
Ál£
;

2235 i‡(
	`S_ISDIR
 (
§c_mode
))

2237 
dú_li°
 *
dú
;

2244 i‡(
	`is_™˚°‹
 (&
§c_sb
, 
™˚°‹s
))

2246 
	`îr‹
 (0, 0, 
	`_
("cannot copy cyclic symbolicÜink %s"),

2247 
	`quŸe
 (
§c_«me
));

2248 
un_backup
;

2253 
dú
 = 
	`Æloˇ
 ( *dir);

2254 
dú
->
∑ª¡
 = 
™˚°‹s
;

2255 
dú
->
öo
 = 
§c_sb
.
°_öo
;

2256 
dú
->
dev
 = 
§c_sb
.
°_dev
;

2258 i‡(
√w_d°
 || !
	`S_ISDIR
 (
d°_sb
.
°_mode
))

2264 i‡(
	`mkdú
 (
d°_«me
, 
d°_mode_bôs
 & ~
omôãd_≥rmissi⁄s
) != 0)

2266 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot create directory %s"),

2267 
	`quŸe
 (
d°_«me
));

2268 
un_backup
;

2275 i‡(
	`l°©
 (
d°_«me
, &
d°_sb
) != 0)

2277 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
d°_«me
));

2278 
un_backup
;

2280 i‡((
d°_sb
.
°_mode
 & 
S_IRWXU
) != S_IRWXU)

2284 
d°_mode
 = 
d°_sb
.
°_mode
;

2285 
ª°‹e_d°_mode
 = 
åue
;

2287 i‡(
	`lchmod
 (
d°_«me
, 
d°_mode
 | 
S_IRWXU
) != 0)

2289 
	`îr‹
 (0, 
î∫o
, 
	`_
("settingÖermissions for %s"),

2290 
	`quŸe
 (
d°_«me
));

2291 
un_backup
;

2299 i‡(!*
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
)

2301 
	`ªmembî_c›õd
 (
d°_«me
, 
d°_sb
.
°_öo
, d°_sb.
°_dev
);

2302 *
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
 = 
åue
;

2305 i‡(
x
->
vîbo£
)

2306 
	`emô_vîbo£
 (
§c_«me
, 
d°_«me
, 
NULL
);

2310 
omôãd_≥rmissi⁄s
 = 0;

2314 i‡(
x
->
⁄e_fûe_sy°em
 && 
devi˚
 !0 && devi˚ !
§c_sb
.
°_dev
)

2325 
dñayed_ok
 = 
	`c›y_dú
 (
§c_«me
, 
d°_«me
, 
√w_d°
, &
§c_sb
, 
dú
, 
x
,

2326 
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
,

2327 
c›y_öto_£lf
);

2330 i‡(
x
->
symbﬁic_lök
)

2332 
de°_is_symlök
 = 
åue
;

2333 i‡(*
§c_«me
 != '/')

2336 
°©
 
dŸ_sb
;

2337 
°©
 
d°_∑ª¡_sb
;

2338 *
d°_∑ª¡
;

2339 
boﬁ
 
ö_cuºít_dú
;

2341 
d°_∑ª¡
 = 
	`dú_«me
 (
d°_«me
);

2343 
ö_cuºít_dú
 = (
	`STREQ
 (".", 
d°_∑ª¡
)

2347 || 
	`°©
 (".", &
dŸ_sb
) != 0

2348 || 
	`°©
 (
d°_∑ª¡
, &
d°_∑ª¡_sb
) != 0

2349 || 
	`SAME_INODE
 (
dŸ_sb
, 
d°_∑ª¡_sb
));

2350 
	`‰ì
 (
d°_∑ª¡
);

2352 i‡(! 
ö_cuºít_dú
)

2354 
	`îr‹
 (0, 0,

2355 
	`_
("%s: can makeÑelative symbolicÜinks only in current directory"),

2356 
	`quŸe
 (
d°_«me
));

2357 
un_backup
;

2360 i‡(
	`symlök
 (
§c_«me
, 
d°_«me
) != 0)

2362 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot create symbolicÜink %sÅo %s"),

2363 
	`quŸe_n
 (0, 
d°_«me
), quŸe_¿(1, 
§c_«me
));

2364 
un_backup
;

2383 i‡(
x
->
h¨d_lök


2384 && !(
LINK_FOLLOWS_SYMLINKS
 && 
	`S_ISLNK
 (
§c_mode
)

2385 && 
x
->
dîe„ªn˚
 =
DEREF_NEVER
))

2387 i‡(! 
	`¸óã_h¨d_lök
 (
§c_«me
, 
d°_«me
, 
Ál£
, false))

2388 
un_backup
;

2390 i‡(
	`S_ISREG
 (
§c_mode
)

2391 || (
x
->
c›y_as_ªguœr
 && !
	`S_ISLNK
 (
§c_mode
)))

2393 
c›õd_as_ªguœr
 = 
åue
;

2403 i‡(! 
	`c›y_ªg
 (
§c_«me
, 
d°_«me
, 
x
, 
d°_mode_bôs
 & 
S_IRWXUGO
,

2404 
omôãd_≥rmissi⁄s
, &
√w_d°
, &
§c_sb
))

2405 
un_backup
;

2407 i‡(
	`S_ISFIFO
 (
§c_mode
))

2413 i‡(
	`mknod
 (
d°_«me
, 
§c_mode
 & ~
omôãd_≥rmissi⁄s
, 0) != 0)

2414 i‡(
	`mkfifo
 (
d°_«me
, 
§c_mode
 & ~
S_IFIFO
 & ~
omôãd_≥rmissi⁄s
) != 0)

2416 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ cª©êfifÿ%s"), 
	`quŸe
 (
d°_«me
));

2417 
un_backup
;

2420 i‡(
	`S_ISBLK
 (
§c_mode
Ë|| 
	`S_ISCHR
 (§c_modeË|| 
	`S_ISSOCK
 (src_mode))

2422 i‡(
	`mknod
 (
d°_«me
, 
§c_mode
 & ~
omôãd_≥rmissi⁄s
, 
§c_sb
.
°_rdev
)

2425 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot create special file %s"),

2426 
	`quŸe
 (
d°_«me
));

2427 
un_backup
;

2430 i‡(
	`S_ISLNK
 (
§c_mode
))

2432 *
§c_lök_vÆ
 = 
	`¨ódlök_wôh_size
 (
§c_«me
, 
§c_sb
.
°_size
);

2433 
de°_is_symlök
 = 
åue
;

2434 i‡(
§c_lök_vÆ
 =
NULL
)

2436 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑód symbﬁi¯lök %s"), 
	`quŸe
 (
§c_«me
));

2437 
un_backup
;

2440 i‡(
	`symlök
 (
§c_lök_vÆ
, 
d°_«me
) == 0)

2441 
	`‰ì
 (
§c_lök_vÆ
);

2444 
ßved_î∫o
 = 
î∫o
;

2445 
boﬁ
 
ßme_lök
 = 
Ál£
;

2446 i‡(
x
->
upd©e
 && !
√w_d°
 && 
	`S_ISLNK
 (
d°_sb
.
°_mode
)

2447 && 
d°_sb
.
°_size
 =
	`°æí
 (
§c_lök_vÆ
))

2453 *
de°_lök_vÆ
 =

2454 
	`¨ódlök_wôh_size
 (
d°_«me
, 
d°_sb
.
°_size
);

2455 i‡(
de°_lök_vÆ
 && 
	`STREQ
 (de°_lök_vÆ, 
§c_lök_vÆ
))

2456 
ßme_lök
 = 
åue
;

2457 
	`‰ì
 (
de°_lök_vÆ
);

2459 
	`‰ì
 (
§c_lök_vÆ
);

2461 i‡(! 
ßme_lök
)

2463 
	`îr‹
 (0, 
ßved_î∫o
, 
	`_
("cannot create symbolicÜink %s"),

2464 
	`quŸe
 (
d°_«me
));

2465 
un_backup
;

2469 i‡(
x
->
¥e£rve_£curôy_c⁄ãxt
)

2470 
	`ª°‹e_deÁu…_fs¸óãc⁄_‹_dõ
 ();

2472 i‡(
x
->
¥e£rve_ow√rshù
)

2476 i‡(
HAVE_LCHOWN


2477 && 
	`lchown
 (
d°_«me
, 
§c_sb
.
°_uid
, src_sb.
°_gid
) != 0

2478 && ! 
	`chown_Áûuª_ok
 (
x
))

2480 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÖreserve ownership for %s"),

2481 
d°_«me
);

2482 
un_backup
;

2495 
	`îr‹
 (0, 0, 
	`_
("%†ha†unknow¿fûêty≥"), 
	`quŸe
 (
§c_«me
));

2496 
un_backup
;

2499 i‡(
comm™d_löe_¨g
 && 
x
->
de°_öfo
)

2503 
°©
 
sb
;

2504 i‡(
	`l°©
 (
d°_«me
, &
sb
) == 0)

2505 
	`ªc‹d_fûe
 (
x
->
de°_öfo
, 
d°_«me
, &
sb
);

2510 i‡(
x
->
h¨d_lök
 && ! 
	`S_ISDIR
 (
§c_mode
)

2511 && !(
LINK_FOLLOWS_SYMLINKS
 && 
	`S_ISLNK
 (
§c_mode
)

2512 && 
x
->
dîe„ªn˚
 =
DEREF_NEVER
))

2513  
dñayed_ok
;

2515 i‡(
c›õd_as_ªguœr
)

2516  
dñayed_ok
;

2530 i‡(
x
->
¥e£rve_time°amps
)

2532 
time•ec
Åimespec[2];

2533 
time•ec
[0] = 
	`gë_°©_©ime
 (&
§c_sb
);

2534 
time•ec
[1] = 
	`gë_°©_mtime
 (&
§c_sb
);

2536 i‡((
de°_is_symlök


2537 ? 
	`utimís_symlök
 (
d°_«me
, 
time•ec
)

2538 : 
	`utimís
 (
d°_«me
, 
time•ec
))

2541 
	`îr‹
 (0, 
î∫o
, 
	`_
("¥e£rvögÅime†f‹ %s"), 
	`quŸe
 (
d°_«me
));

2542 i‡(
x
->
ªquúe_¥e£rve
)

2543  
Ál£
;

2548 i‡(
de°_is_symlök
)

2549  
dñayed_ok
;

2552 i‡(
x
->
¥e£rve_ow√rshù


2553 && (
√w_d°
 || !
	`SAME_OWNER_AND_GROUP
 (
§c_sb
, 
d°_sb
)))

2555 
	`£t_ow√r
 (
x
, 
d°_«me
, -1, &
§c_sb
, 
√w_d°
, &
d°_sb
))

2558  
Ál£
;

2561 
§c_mode
 &~ (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
);

2566 
	`£t_auth‹
 (
d°_«me
, -1, &
§c_sb
);

2568 i‡(
x
->
¥e£rve_x©å
 && ! 
	`c›y_©å
 (
§c_«me
, -1, 
d°_«me
, -1, x)

2569 && 
x
->
ªquúe_¥e£rve_x©å
)

2570  
Ál£
;

2572 i‡(
x
->
¥e£rve_mode
 || x->
move_mode
)

2574 i‡(
	`c›y_a˛
 (
§c_«me
, -1, 
d°_«me
, -1, 
§c_mode
) != 0

2575 && 
x
->
ªquúe_¥e£rve
)

2576  
Ál£
;

2578 i‡(
x
->
£t_mode
)

2580 i‡(
	`£t_a˛
 (
d°_«me
, -1, 
x
->
mode
) != 0)

2581  
Ál£
;

2583 i‡(
x
->
ex∂icô_no_¥e£rve_mode
)

2585 i‡(
	`£t_a˛
 (
d°_«me
, -1, 0777 & ~
	`ˇched_umask
 ()) != 0)

2586  
Ál£
;

2590 i‡(
omôãd_≥rmissi⁄s
)

2592 
omôãd_≥rmissi⁄s
 &~ 
	`ˇched_umask
 ();

2594 i‡(
omôãd_≥rmissi⁄s
 && !
ª°‹e_d°_mode
)

2602 i‡(
√w_d°
 && 
	`l°©
 (
d°_«me
, &
d°_sb
) != 0)

2604 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
d°_«me
));

2605  
Ál£
;

2607 
d°_mode
 = 
d°_sb
.
°_mode
;

2608 i‡(
omôãd_≥rmissi⁄s
 & ~
d°_mode
)

2609 
ª°‹e_d°_mode
 = 
åue
;

2613 i‡(
ª°‹e_d°_mode
)

2615 i‡(
	`lchmod
 (
d°_«me
, 
d°_mode
 | 
omôãd_≥rmissi⁄s
) != 0)

2617 
	`îr‹
 (0, 
î∫o
, 
	`_
("preservingÖermissions for %s"),

2618 
	`quŸe
 (
d°_«me
));

2619 i‡(
x
->
ªquúe_¥e£rve
)

2620  
Ál£
;

2625  
dñayed_ok
;

2627 
un_backup
:

2629 i‡(
x
->
¥e£rve_£curôy_c⁄ãxt
)

2630 
	`ª°‹e_deÁu…_fs¸óãc⁄_‹_dõ
 ();

2638 i‡(
óæõr_fûe
 =
NULL
)

2639 
	`f‹gë_¸óãd
 (
§c_sb
.
°_öo
, src_sb.
°_dev
);

2641 i‡(
d°_backup
)

2643 i‡(
	`ª«me
 (
d°_backup
, 
d°_«me
) != 0)

2644 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ un-backu∞%s"), 
	`quŸe
 (
d°_«me
));

2647 i‡(
x
->
vîbo£
)

2648 
	`¥ötf
 (
	`_
("%s -> %s (unbackup)\n"),

2649 
	`quŸe_n
 (0, 
d°_backup
), quŸe_¿(1, 
d°_«me
));

2652  
Ál£
;

2653 
	}
}

2655 
boﬁ
 
_GL_ATTRIBUTE_PURE


2656 
	$vÆid_›ti⁄s
 (c⁄° 
˝_›ti⁄s
 *
co
)

2658 
	`as£π
 (
co
 !
NULL
);

2659 
	`as£π
 (
	`VALID_BACKUP_TYPE
 (
co
->
backup_ty≥
));

2660 
	`as£π
 (
	`VALID_SPARSE_MODE
 (
co
->
•¨£_mode
));

2661 
	`as£π
 (
	`VALID_REFLINK_MODE
 (
co
->
ªÊök_mode
));

2662 
	`as£π
 (!(
co
->
h¨d_lök
 && co->
symbﬁic_lök
));

2663 
	`as£π
 (!

2664 (
co
->
ªÊök_mode
 =
REFLINK_ALWAYS


2665 && 
co
->
•¨£_mode
 !
SPARSE_AUTO
));

2666  
åue
;

2667 
	}
}

2678 
boﬁ


2679 
	$c›y
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

2680 
boﬁ
 
n⁄exi°ít_d°
, c⁄° 
˝_›ti⁄s
 *
›ti⁄s
,

2681 
boﬁ
 *
c›y_öto_£lf
, boﬁ *
ª«me_suc˚eded
)

2683 
	`as£π
 (
	`vÆid_›ti⁄s
 (
›ti⁄s
));

2692 
t›_Àvñ_§c_«me
 = 
§c_«me
;

2693 
t›_Àvñ_d°_«me
 = 
d°_«me
;

2695 
boﬁ
 
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
 = 
Ál£
;

2696  
	`c›y_öã∫Æ
 (
§c_«me
, 
d°_«me
, 
n⁄exi°ít_d°
, 0, 
NULL
,

2697 
›ti⁄s
, 
åue
,

2698 &
fú°_dú_¸óãd_≥r_comm™d_löe_¨g
,

2699 
c›y_öto_£lf
, 
ª«me_suc˚eded
);

2700 
	}
}

2705 
	$˝_›ti⁄s_deÁu…
 (
˝_›ti⁄s
 *
x
)

2707 
	`mem£t
 (
x
, 0,  *x);

2708 #ifde‡
PRIV_FILE_CHOWN


2710 
¥iv_£t_t
 *
p£t
 = 
	`¥iv_Æloc£t
 ();

2711 i‡(!
p£t
)

2712 
	`xÆloc_dõ
 ();

2713 i‡(
	`gëµriv
 (
PRIV_EFFECTIVE
, 
p£t
) == 0)

2715 
x
->
chown_¥ivûeges
 = 
	`¥iv_ismembî
 (
p£t
, 
PRIV_FILE_CHOWN
);

2716 
x
->
ow√r_¥ivûeges
 = 
	`¥iv_ismembî
 (
p£t
, 
PRIV_FILE_OWNER
);

2718 
	`¥iv_‰ì£t
 (
p£t
);

2721 
x
->
chown_¥ivûeges
 = x->
ow√r_¥ivûeges
 = (
	`gëeuid
 () == 0);

2723 
	}
}

2729 
boﬁ


2730 
	$chown_Áûuª_ok
 (
˝_›ti⁄s
 c⁄° *
x
)

2736  ((
î∫o
 =
EPERM
 ||Éºnÿ=
EINVAL
Ë&& !
x
->
chown_¥ivûeges
);

2737 
	}
}

2743 
boﬁ


2744 
	$ow√r_Áûuª_ok
 (
˝_›ti⁄s
 c⁄° *
x
)

2746  ((
î∫o
 =
EPERM
 ||Éºnÿ=
EINVAL
Ë&& !
x
->
ow√r_¥ivûeges
);

2747 
	}
}

2751 
mode_t


2752 
	$ˇched_umask
 ()

2754 
mode_t
 
mask
 = (mode_t) -1;

2755 i‡(
mask
 =(
mode_t
) -1)

2757 
mask
 = 
	`umask
 (0);

2758 
	`umask
 (
mask
);

2760  
mask
;

2761 
	}
}

	@copy.h

19 #i‚de‡
COPY_H


20 
	#COPY_H


	)

22 
	~<°dboﬁ.h
>

23 
	~"hash.h
"

26 
	eS∑r£_ty≥


28 
	mSPARSE_UNUSED
,

31 
	mSPARSE_NEVER
,

36 
	mSPARSE_AUTO
,

43 
	mSPARSE_ALWAYS


47 
	eReÊök_ty≥


50 
	mREFLINK_NEVER
,

53 
	mREFLINK_AUTO
,

56 
	mREFLINK_ALWAYS


60 
	eI¡îa˘ive


62 
	mI_ALWAYS_YES
 = 1,

63 
	mI_ALWAYS_NO
,

64 
	mI_ASK_USER
,

65 
	mI_UNSPECIFIED


69 
	eDîe„ªn˚_symlök


71 
	mDEREF_UNDEFINED
 = 1,

74 
	mDEREF_NEVER
,

78 
	mDEREF_COMMAND_LINE_ARGUMENTS
,

81 
	mDEREF_ALWAYS


84 
	#VALID_SPARSE_MODE
(
Mode
) \

85 ((
Mode
Ë=
SPARSE_NEVER
 \

86 || (
Mode
Ë=
SPARSE_AUTO
 \

87 || (
Mode
Ë=
SPARSE_ALWAYS
)

	)

89 
	#VALID_REFLINK_MODE
(
Mode
) \

90 ((
Mode
Ë=
REFLINK_NEVER
 \

91 || (
Mode
Ë=
REFLINK_AUTO
 \

92 || (
Mode
Ë=
REFLINK_ALWAYS
)

	)

98 
	s˝_›ti⁄s


100 
backup_ty≥
 
	mbackup_ty≥
;

103 
Dîe„ªn˚_symlök
 
	mdîe„ªn˚
;

108 
I¡îa˘ive
 
	möãø˘ive
;

111 
S∑r£_ty≥
 
	m•¨£_mode
;

115 
mode_t
 
	mmode
;

119 
boﬁ
 
	mc›y_as_ªguœr
;

123 
boﬁ
 
	mu∆ök_de°_bef‹e_›íög
;

130 
boﬁ
 
	mu∆ök_de°_a·î_Áûed_›í
;

134 
boﬁ
 
	mh¨d_lök
;

138 
boﬁ
 
	mmove_mode
;

142 
boﬁ
 
	mchown_¥ivûeges
;

149 
boﬁ
 
	mow√r_¥ivûeges
;

153 
boﬁ
 
	m⁄e_fûe_sy°em
;

157 
boﬁ
 
	m¥e£rve_ow√rshù
;

158 
boﬁ
 
	m¥e£rve_mode
;

159 
boﬁ
 
	m¥e£rve_time°amps
;

160 
boﬁ
 
	mex∂icô_no_¥e£rve_mode
;

172 
boﬁ
 
	m¥e£rve_löks
;

176 
boﬁ
 
	md©a_c›y_ªquúed
;

182 
boﬁ
 
	mªquúe_¥e£rve
;

186 
boﬁ
 
	m¥e£rve_£curôy_c⁄ãxt
;

195 
boﬁ
 
	mªquúe_¥e£rve_c⁄ãxt
;

199 
boﬁ
 
	m¥e£rve_x©å
;

208 
boﬁ
 
	mªquúe_¥e£rve_x©å
;

217 
boﬁ
 
	mªdu˚_dügno°ics
;

221 
boﬁ
 
	mªcursive
;

225 
boﬁ
 
	m£t_mode
;

229 
boﬁ
 
	msymbﬁic_lök
;

233 
boﬁ
 
	mupd©e
;

236 
boﬁ
 
	mvîbo£
;

239 
boﬁ
 
	m°dö_ây
;

244 
boﬁ
 
	m›í_d™glög_de°_symlök
;

247 
ReÊök_ty≥
 
	mªÊök_mode
;

258 
Hash_èbÀ
 *
	mde°_öfo
;

261 
Hash_èbÀ
 *
	m§c_öfo
;

264 
	#XSTAT
(
X
, 
Src_«me
, 
Src_sb
) \

265 ((
X
)->
dîe„ªn˚
 =
DEREF_NEVER
 \

266 ? 
	`l°©
 (
Src_«me
, 
Src_sb
) \

267 : 
	`°©
 (
Src_«me
, 
Src_sb
))

	)

272 #i‡
RENAME_TRAILING_SLASH_BUG


273 
Ωl_ª«me
 (const *, const *);

274 #unde‡
ª«me


275 
	#ª«me
 
Ωl_ª«me


	)

278 
boﬁ
 
c›y
 (c⁄° *
§c_«me
, c⁄° *
d°_«me
,

279 
boﬁ
 
n⁄exi°ít_d°
, c⁄° 
˝_›ti⁄s
 *
›ti⁄s
,

280 
boﬁ
 *
c›y_öto_£lf
, boﬁ *
ª«me_suc˚eded
);

282 
de°_öfo_öô
 (
˝_›ti⁄s
 *);

283 
§c_öfo_öô
 (
˝_›ti⁄s
 *);

285 
˝_›ti⁄s_deÁu…
 (
˝_›ti⁄s
 *);

286 
boﬁ
 
	$chown_Áûuª_ok
 (
˝_›ti⁄s
 c⁄° *Ë
_GL_ATTRIBUTE_PURE
;

287 
mode_t
 
	`ˇched_umask
 ();

	@cp-hash.c

20 
	~<c⁄fig.h
>

22 
	~<sys/ty≥s.h
>

23 
	~"sy°em.h
"

25 
	~"hash.h
"

26 
	~"˝-hash.h
"

33 
	sSrc_to_de°


35 
öo_t
 
	m°_öo
;

36 
dev_t
 
	m°_dev
;

40 *
	m«me
;

45 
Hash_èbÀ
 *
	g§c_to_de°
;

48 
	#INITIAL_TABLE_SIZE
 103

	)

50 
size_t


51 
	$§c_to_de°_hash
 (c⁄° *
x
, 
size_t
 
èbÀ_size
)

53 
Src_to_de°
 c⁄° *
p
 = 
x
;

58  (
uötmax_t
Ë
p
->
°_öo
 % 
èbÀ_size
;

59 
	}
}

63 
boﬁ


64 
	$§c_to_de°_com∑ª
 (c⁄° *
x
, c⁄° *
y
)

66 
Src_to_de°
 c⁄° *
a
 = 
x
;

67 
Src_to_de°
 c⁄° *
b
 = 
y
;

68  
	`SAME_INODE
 (*
a
, *
b
Ë? 
åue
 : 
Ál£
;

69 
	}
}

72 
	$§c_to_de°_‰ì
 (*
x
)

74 
Src_to_de°
 *
a
 = 
x
;

75 
	`‰ì
 (
a
->
«me
);

76 
	`‰ì
 (
x
);

77 
	}
}

82 
	$f‹gë_¸óãd
 (
öo_t
 
öo
, 
dev_t
 
dev
)

84 
Src_to_de°
 
¥obe
;

85 
Src_to_de°
 *
ít
;

87 
¥obe
.
°_öo
 = 
öo
;

88 
¥obe
.
°_dev
 = 
dev
;

89 
¥obe
.
«me
 = 
NULL
;

91 
ít
 = 
	`hash_dñëe
 (
§c_to_de°
, &
¥obe
);

92 i‡(
ít
)

93 
	`§c_to_de°_‰ì
 (
ít
);

94 
	}
}

100 
	$§c_to_de°_lookup
 (
öo_t
 
öo
, 
dev_t
 
dev
)

102 
Src_to_de°
 
ít
;

103 
Src_to_de°
 c⁄° *
e
;

104 
ít
.
°_öo
 = 
öo
;

105 
ít
.
°_dev
 = 
dev
;

106 
e
 = 
	`hash_lookup
 (
§c_to_de°
, &
ít
);

107  
e
 ?É->
«me
 : 
NULL
;

108 
	}
}

115 
	$ªmembî_c›õd
 (c⁄° *
«me
, 
öo_t
 
öo
, 
dev_t
 
dev
)

117 
Src_to_de°
 *
ít
;

118 
Src_to_de°
 *
ít_‰om_èbÀ
;

120 
ít
 = 
	`xmÆloc
 ( *ent);

121 
ít
->
«me
 = 
	`x°rdup
 (name);

122 
ít
->
°_öo
 = 
öo
;

123 
ít
->
°_dev
 = 
dev
;

125 
ít_‰om_èbÀ
 = 
	`hash_ö£π
 (
§c_to_de°
, 
ít
);

126 i‡(
ít_‰om_èbÀ
 =
NULL
)

129 
	`xÆloc_dõ
 ();

135 i‡(
ít_‰om_èbÀ
 !
ít
)

137 
	`§c_to_de°_‰ì
 (
ít
);

138  (*Ë
ít_‰om_èbÀ
->
«me
;

142  
NULL
;

143 
	}
}

147 
	$hash_öô
 ()

149 
§c_to_de°
 = 
	`hash_öôülize
 (
INITIAL_TABLE_SIZE
, 
NULL
,

150 
§c_to_de°_hash
,

151 
§c_to_de°_com∑ª
,

152 
§c_to_de°_‰ì
);

153 i‡(
§c_to_de°
 =
NULL
)

154 
	`xÆloc_dõ
 ();

155 
	}
}

161 
	$f‹gë_Æl
 ()

163 
	`hash_‰ì
 (
§c_to_de°
);

164 
	}
}

	@cp-hash.h

1 
hash_öô
 ();

2 
f‹gë_Æl
 ();

3 
f‹gë_¸óãd
 (
öo_t
 
öo
, 
dev_t
 
dev
);

4 *
ªmembî_c›õd
 (c⁄° *
node
, 
öo_t
 
öo
, 
dev_t
 
dev
);

5 *
§c_to_de°_lookup
 (
öo_t
 
öo
, 
dev_t
 
dev
);

	@cp.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

23 
	~<£löux/£löux.h
>

25 
	~"sy°em.h
"

26 
	~"¨gm©ch.h
"

27 
	~"backupfûe.h
"

28 
	~"c›y.h
"

29 
	~"˝-hash.h
"

30 
	~"îr‹.h
"

31 
	~"fûíameˇt.h
"

32 
	~"ign‹e-vÆue.h
"

33 
	~"quŸe.h
"

34 
	~"°©-time.h
"

35 
	~"utimís.h
"

36 
	~"a˛.h
"

38 #i‡! 
HAVE_LCHOWN


39 
	#lchown
(
«me
, 
uid
, 
gid
Ë
	`chown
 («me, uid, gid)

	)

42 
	#ASSIGN_BASENAME_STRDUPA
(
De°
, 
Fûe_«me
) \

45 *
tmp_abns_
; \

46 
	`ASSIGN_STRDUPA
 (
tmp_abns_
, (
Fûe_«me
)); \

47 
De°
 = 
	`œ°_comp⁄ít
 (
tmp_abns_
); \

48 
	`°rù_åaûög_¶ashes
 (
De°
); \

50 0)

	)

53 
	#PROGRAM_NAME
 "˝"

	)

55 
	#AUTHORS
 \

56 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

57 
	`¥›î_«me
 ("David MacKenzie"), \

58 
	`¥›î_«me
 ("Jim Meyîög")

	)

63 
	sdú_©å


65 
°©
 
	m°
;

66 
boﬁ
 
	mª°‹e_mode
;

67 
size_t
 
	m¶ash_off£t
;

68 
dú_©å
 *
	m√xt
;

75 
	mATTRIBUTES_ONLY_OPTION
 = 
CHAR_MAX
 + 1,

76 
	mCOPY_CONTENTS_OPTION
,

77 
	mNO_PRESERVE_ATTRIBUTES_OPTION
,

78 
	mPARENTS_OPTION
,

79 
	mPRESERVE_ATTRIBUTES_OPTION
,

80 
	mREFLINK_OPTION
,

81 
	mSPARSE_OPTION
,

82 
	mSTRIP_TRAILING_SLASHES_OPTION
,

83 
	mUNLINK_DEST_BEFORE_OPENING


87 
boﬁ
 
	g£löux_íabÀd
;

91 
boﬁ
 
	g∑ª¡s_›ti⁄
 = 
Ál£
;

94 
boﬁ
 
	gªmove_åaûög_¶ashes
;

96 c⁄° *c⁄° 
	g•¨£_ty≥_°rög
[] =

98 "√vî", "auto", "Æways", 
NULL


100 
S∑r£_ty≥
 c⁄° 
	g•¨£_ty≥
[] =

102 
SPARSE_NEVER
, 
SPARSE_AUTO
, 
SPARSE_ALWAYS


104 
ARGMATCH_VERIFY
 (
•¨£_ty≥_°rög
, 
•¨£_ty≥
);

106 c⁄° *c⁄° 
	gªÊök_ty≥_°rög
[] =

108 "auto", "Æways", 
NULL


110 
ReÊök_ty≥
 c⁄° 
	gªÊök_ty≥
[] =

112 
REFLINK_AUTO
, 
REFLINK_ALWAYS


114 
ARGMATCH_VERIFY
 (
ªÊök_ty≥_°rög
, 
ªÊök_ty≥
);

116 
›ti⁄
 c⁄° 
	gl⁄g_›ts
[] =

118 {"¨chive", 
no_¨gumít
, 
NULL
, 'a'},

119 {"©åibuãs-⁄ly", 
no_¨gumít
, 
NULL
, 
ATTRIBUTES_ONLY_OPTION
},

120 {"backup", 
›ti⁄Æ_¨gumít
, 
NULL
, 'b'},

121 {"c›y-c⁄ã¡s", 
no_¨gumít
, 
NULL
, 
COPY_CONTENTS_OPTION
},

122 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'L'},

123 {"f‹˚", 
no_¨gumít
, 
NULL
, 'f'},

124 {"öãø˘ive", 
no_¨gumít
, 
NULL
, 'i'},

125 {"lök", 
no_¨gumít
, 
NULL
, 'l'},

126 {"no-˛obbî", 
no_¨gumít
, 
NULL
, 'n'},

127 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'P'},

128 {"no-¥e£rve", 
ªquúed_¨gumít
, 
NULL
, 
NO_PRESERVE_ATTRIBUTES_OPTION
},

129 {"no-èrgë-dúe˘‹y", 
no_¨gumít
, 
NULL
, 'T'},

130 {"⁄e-fûe-sy°em", 
no_¨gumít
, 
NULL
, 'x'},

131 {"∑ª¡s", 
no_¨gumít
, 
NULL
, 
PARENTS_OPTION
},

132 {"∑th", 
no_¨gumít
, 
NULL
, 
PARENTS_OPTION
},

133 {"¥e£rve", 
›ti⁄Æ_¨gumít
, 
NULL
, 
PRESERVE_ATTRIBUTES_OPTION
},

134 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

135 {"ªmove-de°ö©i⁄", 
no_¨gumít
, 
NULL
, 
UNLINK_DEST_BEFORE_OPENING
},

136 {"•¨£", 
ªquúed_¨gumít
, 
NULL
, 
SPARSE_OPTION
},

137 {"ªÊök", 
›ti⁄Æ_¨gumít
, 
NULL
, 
REFLINK_OPTION
},

138 {"°rù-åaûög-¶ashes", 
no_¨gumít
, 
NULL
, 
STRIP_TRAILING_SLASHES_OPTION
},

139 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 'S'},

140 {"symbﬁic-lök", 
no_¨gumít
, 
NULL
, 's'},

141 {"èrgë-dúe˘‹y", 
ªquúed_¨gumít
, 
NULL
, 't'},

142 {"upd©e", 
no_¨gumít
, 
NULL
, 'u'},

143 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

144 {
GETOPT_HELP_OPTION_DECL
},

145 {
GETOPT_VERSION_OPTION_DECL
},

146 {
NULL
, 0, NULL, 0}

150 
	$ußge
 (
°©us
)

152 i‡(
°©us
 !
EXIT_SUCCESS
)

153 
	`emô_åy_hñp
 ();

156 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
"),

161 
¥ogøm_«me
,Örogram_name,Örogram_name);

162 
	`Âuts
 (
	`_
("\
 SOURCEÅÿDEST, o∏mu…ùÀ SOURCE(sËtÿDIRECTORY.\n\
"), 
°dout
);

166 
	`emô_m™d©‹y_¨g_nŸe
 ();

168 
	`Âuts
 (
	`_
("\
-a, --¨chivê samêa†-dR --¥e£rve˜Œ\n\
--©åibuãs-⁄ly d⁄'àc›yÅhêfûêd©a, ju°Åhê©åibuãs\n\
--backup[=CONTROL] makê®backu∞o‡óchÉxi°ög de°ö©i⁄ fûe\
\n\
-bÜikê--backu∞buàd€†nŸác˚±á¿¨gumít\n\
--c›y-c⁄ã¡† c›y c⁄ã¡†o‡•ecü»fûe†whíÑecursive\n\
-d samêa†--no-dîe„ªn˚ --¥e£rveˆöks\n\
"), 
°dout
);

177 
	`Âuts
 (
	`_
("\
-f, --f‹˚ i‡™Éxi°ög de°ö©i⁄ fûêˇ¬Ÿ be\n\
,ÑemovêôándÅryágaö (thi†›ti⁄\n\
 ign‹ed whíÅhê-¿›ti⁄ i†Æsÿu£d)\n\
-i, --öãø˘ivêÖrom± bef‹êovîwrôê(ovîride†®¥eviou†-n\
\n\
)\n\
-H fﬁlow comm™d-löêsymbﬁi¯lök†ö SOURCE\n\
"), 
°dout
);

186 
	`Âuts
 (
	`_
("\
-l, --lök h¨dÜök fûe†ö°ód o‡c›yög\n\
-L, --dîe„ªn˚álway†fﬁlow symbﬁi¯lök†ö SOURCE\n\
"), 
°dout
);

190 
	`Âuts
 (
	`_
("\
-n, --no-˛obbî dÿnŸ ovîwrôê™Éxi°ög fûê(ovîrides\n\
Öªviou†-ò›ti⁄)\n\
-P, --no-dîe„ªn˚Çevî fﬁlow symbﬁi¯lök†ö SOURCE\n\
"), 
°dout
);

195 
	`Âuts
 (
	`_
("\
-∞ samêa†--¥e£rve=mode,ow√rshù,time°amps\n\
--¥e£rve[=ATTR_LIST]Öª£rvêthê•ecifõdáâribuã†(deÁu…:\n\
,ow√rshù,time°amps), i‡possibÀ\n\
áâribuãs: c⁄ãxt,Üöks, x©å,\
\n\
\n\
"), 
°dout
);

203 
	`Âuts
 (
	`_
("\
--no-¥e£rve=ATTR_LIST d⁄'à¥e£rvêthê•ecifõdáâribuãs\n\
--∑ª¡† u£ fuŒ sour˚ fûê«mêundî DIRECTORY\n\
"), 
°dout
);

207 
	`Âuts
 (
	`_
("\
-R, -r, --ªcursivê c›y dúe˘‹õ†ªcursivñy\n\
--ªÊök[=WHEN] c⁄åﬁ cl⁄e/CoW c›õs. Sì bñow\n\
--ªmove-de°ö©i⁄ÑemovêóchÉxi°ög de°ö©i⁄ fûêbef‹e\n\
Åÿ›í ià(c⁄åa° wôh --f‹˚)\
\n"), 
°dout
);

213 
	`Âuts
 (
	`_
("\
--•¨£=WHEN c⁄åﬁ cª©i⁄ o‡•¨£ fûes. Sì bñow\n\
--°rù-åaûög-¶ashe†Ñemovê™yÅøûög sœshe†‰omÉach SOURCE\n\
\n\
"), 
°dout
);

218 
	`Âuts
 (
	`_
("\
-s, --symbﬁic-lök makêsymbﬁi¯lök†ö°ód o‡c›yög\n\
-S, --suffix=SUFFIX ovîridêthêusuÆ backu∞suffix\n\
-t, --èrgë-dúe˘‹y=DIRECTORY c›yáŒ SOURCEárgumít†ötÿDIRECTORY\n\
-T, --no-èrgë-dúe˘‹yÅª© DESTá†®n‹mÆ fûe\n\
"), 
°dout
);

224 
	`Âuts
 (
	`_
("\
-u, --upd©ê c›y o∆y whíÅhêSOURCE fûêi†√wî\n\
Åhêde°ö©i⁄ fûê‹ whíÅhe\n\
 fûêi†missög\n\
-v, --vîbo£Éx∂aö wh© i†beög d⁄e\n\
-x, --⁄e-fûe-sy°em sèy o¿thi†fûêsy°em\n\
"), 
°dout
);

231 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

232 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

233 
	`Âuts
 (
	`_
("\
\n\
 deÁu…, s∑r£ SOURCE fûe†¨êdëe˘ed byá crudêheuri°i¯™dÅhe\n\
 DEST fûêi†madê•¨£á†wñl. Th© i†thêbehavi‹\n\
 by --•¨£˜uto. S≥cify --•¨£˜lway†tÿ¸óãá s∑r£ DEST\n\
 whíevîÅhêSOURCE fûêc⁄èö†®l⁄gÉnough sequí˚ o‡zîÿbyãs.\n\
 --•¨£ÚevîÅÿöhibô cª©i⁄ o‡•¨£ fûes.\n\
\n\
 --ªÊök[˜lways] i†•ecifõd,Öîf‹máÜightweighàc›y, whîêthe\n\
 block†¨êc›õd o∆y whí modifõd. I‡thi†i†nŸÖossibÀÅhêc›y\n\
, o∏i‡--ªÊök˜utÿi†•ecifõd, fÆ»backÅÿ®°™d¨d c›y.\n\
"), 
°dout
);

245 
	`Âuts
 (
	`_
("\
\n\
 backu∞suffix i†'~', u∆es†£àwôh --suffix o∏SIMPLE_BACKUP_SUFFIX.\n\
 vîsi⁄ c⁄åﬁ mëhod may bê£À˘ed vüÅhê--backu∞›ti⁄ o∏through\n\
 VERSION_CONTROLÉnvú⁄míàv¨übÀ. Hîê¨êthêvÆues:\n\
\n\
"), 
°dout
);

252 
	`Âuts
 (
	`_
("\
, of‡Çevî makêbackup†”ví i‡--backu∞i†giví)\n\
,Å makênumbîed backups\n\
,ÇûÇumbîed i‡numbîed backup†exi°, sim∂êŸhîwi£\n\
,Çevîálway†makêsim∂êbackups\n\
"), 
°dout
);

258 
	`Âuts
 (
	`_
("\
\n\
á s≥cü»ˇ£, c∞make†®backu∞o‡SOURCE whíÅhêf‹˚ánd backup\n\
áª givíánd SOURCEánd DESTáªÅhêßmê«mêf‹á¿exi°ög,\n\
 fûe.\n\
"), 
°dout
);

264 
	`emô_™cûœry_öfo
 ();

266 
	`exô
 (
°©us
);

267 
	}
}

289 
boﬁ


290 
	$ª_¥Ÿe˘
 (c⁄° *
c⁄°_d°_«me
, 
size_t
 
§c_off£t
,

291 
dú_©å
 *
©å_li°
, c⁄° 
˝_›ti⁄s
 *
x
)

293 
dú_©å
 *
p
;

294 *
d°_«me
;

295 *
§c_«me
;

297 
	`ASSIGN_STRDUPA
 (
d°_«me
, 
c⁄°_d°_«me
);

298 
§c_«me
 = 
d°_«me
 + 
§c_off£t
;

300 
p
 = 
©å_li°
;Ö;Ö =Ö->
√xt
)

302 
d°_«me
[
p
->
¶ash_off£t
] = '\0';

308 i‡(
x
->
¥e£rve_time°amps
)

310 
time•ec
Åimespec[2];

312 
time•ec
[0] = 
	`gë_°©_©ime
 (&
p
->
°
);

313 
time•ec
[1] = 
	`gë_°©_mtime
 (&
p
->
°
);

315 i‡(
	`utimís
 (
d°_«me
, 
time•ec
))

317 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÖreserveÅimes for %s"),

318 
	`quŸe
 (
d°_«me
));

319  
Ál£
;

323 i‡(
x
->
¥e£rve_ow√rshù
)

325 i‡(
	`lchown
 (
d°_«me
, 
p
->
°
.
°_uid
,Ö->°.
°_gid
) != 0)

327 i‡(! 
	`chown_Áûuª_ok
 (
x
))

329 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÖreserve ownership for %s"),

330 
	`quŸe
 (
d°_«me
));

331  
Ál£
;

335 
	`ign‹e_vÆue
 (
	`lchown
 (
d°_«me
, -1, 
p
->
°
.
°_gid
));

339 i‡(
x
->
¥e£rve_mode
)

341 i‡(
	`c›y_a˛
 (
§c_«me
, -1, 
d°_«me
, -1, 
p
->
°
.
°_mode
) != 0)

342  
Ál£
;

344 i‡(
p
->
ª°‹e_mode
)

346 i‡(
	`lchmod
 (
d°_«me
, 
p
->
°
.
°_mode
) != 0)

348 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÖreserveÖermissions for %s"),

349 
	`quŸe
 (
d°_«me
));

350  
Ál£
;

354 
d°_«me
[
p
->
¶ash_off£t
] = '/';

356  
åue
;

357 
	}
}

378 
boﬁ


379 
	$make_dú_∑ª¡s_¥iv©e
 (c⁄° *
c⁄°_dú
, 
size_t
 
§c_off£t
,

380 c⁄° *
vîbo£_fmt_°rög
,

381 
dú_©å
 **
©å_li°
, 
boﬁ
 *
√w_d°
,

382 c⁄° 
˝_›ti⁄s
 *
x
)

384 
°©
 
°©s
;

385 *
dú
;

386 *
§c
;

387 *
d°_dú
;

388 
size_t
 
dúÀn
;

390 
	`ASSIGN_STRDUPA
 (
dú
, 
c⁄°_dú
);

392 
§c
 = 
dú
 + 
§c_off£t
;

394 
dúÀn
 = 
	`dú_Àn
 (
dú
);

395 
d°_dú
 = 
	`Æloˇ
 (
dúÀn
 + 1);

396 
	`mem˝y
 (
d°_dú
, 
dú
, 
dúÀn
);

397 
d°_dú
[
dúÀn
] = '\0';

399 *
©å_li°
 = 
NULL
;

401 i‡(
	`°©
 (
d°_dú
, &
°©s
) != 0)

405 *
¶ash
;

407 
¶ash
 = 
§c
;

408 *
¶ash
 == '/')

409 
¶ash
++;

410 (
¶ash
 = 
	`°rchr
 (slash, '/')))

412 
dú_©å
 *
√w
 
	`IF_LINT
 ( = 
NULL
);

413 
boﬁ
 
missög_dú
;

415 *
¶ash
 = '\0';

416 
missög_dú
 = (
	`°©
 (
dú
, &
°©s
) != 0);

418 i‡(
missög_dú
 || 
x
->
¥e£rve_ow√rshù
 || x->
¥e£rve_mode


419 || 
x
->
¥e£rve_time°amps
)

423 
°©
 
§c_°
;

424 
§c_î∫o
 = (
	`°©
 (
§c
, &
§c_°
) != 0

425 ? 
î∫o


426 : 
	`S_ISDIR
 (
§c_°
.
°_mode
)

428 : 
ENOTDIR
);

429 i‡(
§c_î∫o
)

431 
	`îr‹
 (0, 
§c_î∫o
, 
	`_
("failedÅo getáttributes of %s"),

432 
	`quŸe
 (
§c
));

433  
Ál£
;

436 
√w
 = 
	`xmÆloc
 ( *new);

437 
√w
->
°
 = 
§c_°
;

438 
√w
->
¶ash_off£t
 = 
¶ash
 - 
dú
;

439 
√w
->
ª°‹e_mode
 = 
Ál£
;

440 
√w
->
√xt
 = *
©å_li°
;

441 *
©å_li°
 = 
√w
;

444 i‡(
missög_dú
)

446 
mode_t
 
§c_mode
;

447 
mode_t
 
omôãd_≥rmissi⁄s
;

448 
mode_t
 
mkdú_mode
;

455 *
√w_d°
 = 
åue
;

456 
§c_mode
 = 
√w
->
°
.
°_mode
;

461 
omôãd_≥rmissi⁄s
 = (
§c_mode


462 & (
x
->
¥e£rve_ow√rshù


463 ? 
S_IRWXG
 | 
S_IRWXO


464 : 
x
->
¥e£rve_mode


465 ? 
S_IWGRP
 | 
S_IWOTH


472 
mkdú_mode
 = 
§c_mode
 & 
CHMOD_MODE_BITS
 & ~
omôãd_≥rmissi⁄s
;

473 i‡(
	`mkdú
 (
dú
, 
mkdú_mode
) != 0)

475 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot make directory %s"),

476 
	`quŸe
 (
dú
));

477  
Ál£
;

481 i‡(
vîbo£_fmt_°rög
 !
NULL
)

482 
	`¥ötf
 (
vîbo£_fmt_°rög
, 
§c
, 
dú
);

489 i‡(
	`l°©
 (
dú
, &
°©s
))

491 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

492 
	`quŸe
 (
dú
));

493  
Ál£
;

497 i‡(! 
x
->
¥e£rve_mode
)

499 i‡(
omôãd_≥rmissi⁄s
 & ~
°©s
.
°_mode
)

500 
omôãd_≥rmissi⁄s
 &~ 
	`ˇched_umask
 ();

501 i‡(
omôãd_≥rmissi⁄s
 & ~
°©s
.
°_mode


502 || (
°©s
.
°_mode
 & 
S_IRWXU
) != S_IRWXU)

504 
√w
->
°
.
°_mode
 = 
°©s
.°_modê| 
omôãd_≥rmissi⁄s
;

505 
√w
->
ª°‹e_mode
 = 
åue
;

509 i‡((
°©s
.
°_mode
 & 
S_IRWXU
) != S_IRWXU)

514 i‡(
	`lchmod
 (
dú
, 
°©s
.
°_mode
 | 
S_IRWXU
) != 0)

516 
	`îr‹
 (0, 
î∫o
, 
	`_
("settingÖermissions for %s"),

517 
	`quŸe
 (
dú
));

518  
Ál£
;

522 i‡(!
	`S_ISDIR
 (
°©s
.
°_mode
))

524 
	`îr‹
 (0, 0, 
	`_
("%sÉxists but isÇotá directory"),

525 
	`quŸe
 (
dú
));

526  
Ál£
;

529 *
√w_d°
 = 
Ál£
;

530 *
¶ash
++ = '/';

534 *
¶ash
 == '/')

535 
¶ash
++;

541 i‡(!
	`S_ISDIR
 (
°©s
.
°_mode
))

543 
	`îr‹
 (0, 0, 
	`_
("%†exi°†buài†nŸá dúe˘‹y"), 
	`quŸe
 (
d°_dú
));

544  
Ál£
;

548 *
√w_d°
 = 
Ál£
;

550  
åue
;

551 
	}
}

562 
boﬁ


563 
	$èrgë_dúe˘‹y_›î™d
 (c⁄° *
fûe
, 
°©
 *
°
, 
boﬁ
 *
√w_d°
)

565 
îr
 = (
	`°©
 (
fûe
, 
°
Ë=0 ? 0 : 
î∫o
);

566 
boﬁ
 
is_a_dú
 = !
îr
 && 
	`S_ISDIR
 (
°
->
°_mode
);

567 i‡(
îr
)

569 i‡(
îr
 !
ENOENT
)

570 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
fûe
));

571 *
√w_d°
 = 
åue
;

573  
is_a_dú
;

574 
	}
}

579 
boﬁ


580 
	$do_c›y
 (
n_fûes
, **
fûe
, c⁄° *
èrgë_dúe˘‹y
,

581 
boﬁ
 
no_èrgë_dúe˘‹y
, 
˝_›ti⁄s
 *
x
)

583 
°©
 
sb
;

584 
boﬁ
 
√w_d°
 = 
Ál£
;

585 
boﬁ
 
ok
 = 
åue
;

587 i‡(
n_fûes
 <!
èrgë_dúe˘‹y
)

589 i‡(
n_fûes
 <= 0)

590 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

592 
	`îr‹
 (0, 0, 
	`_
("missing destination file operandáfter %s"),

593 
	`quŸe
 (
fûe
[0]));

594 
	`ußge
 (
EXIT_FAILURE
);

597 i‡(
no_èrgë_dúe˘‹y
)

599 i‡(
èrgë_dúe˘‹y
)

600 
	`îr‹
 (
EXIT_FAILURE
, 0,

601 
	`_
("cannot combine --target-directory (-t) "

603 i‡(2 < 
n_fûes
)

605 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
fûe
[2]));

606 
	`ußge
 (
EXIT_FAILURE
);

609 
	`ign‹e_vÆue
 (
	`èrgë_dúe˘‹y_›î™d
 (
fûe
[
n_fûes
 -1], &
sb
, &
√w_d°
));

611 i‡(!
èrgë_dúe˘‹y
)

613 i‡(2 <
n_fûes


614 && 
	`èrgë_dúe˘‹y_›î™d
 (
fûe
[
n_fûes
 - 1], &
sb
, &
√w_d°
))

615 
èrgë_dúe˘‹y
 = 
fûe
[--
n_fûes
];

616 i‡(2 < 
n_fûes
)

617 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

618 
	`quŸe
 (
fûe
[
n_fûes
 - 1]));

621 i‡(
èrgë_dúe˘‹y
)

626 
i
;

631 i‡(2 <
n_fûes
)

633 
	`de°_öfo_öô
 (
x
);

634 
	`§c_öfo_öô
 (
x
);

637 
i
 = 0; i < 
n_fûes
; i++)

639 *
d°_«me
;

640 
boﬁ
 
∑ª¡_exi°s
 = 
åue
;

641 
dú_©å
 *
©å_li°
;

642 *
¨g_ö_c⁄ˇt
 = 
NULL
;

643 *
¨g
 = 
fûe
[
i
];

647 i‡(
ªmove_åaûög_¶ashes
)

648 
	`°rù_åaûög_¶ashes
 (
¨g
);

650 i‡(
∑ª¡s_›ti⁄
)

652 *
¨g_no_åaûög_¶ash
;

659 
	`ASSIGN_STRDUPA
 (
¨g_no_åaûög_¶ash
, 
¨g
);

660 
	`°rù_åaûög_¶ashes
 (
¨g_no_åaûög_¶ash
);

663 
d°_«me
 = 
	`fûe_«me_c⁄ˇt
 (
èrgë_dúe˘‹y
,

664 
¨g_no_åaûög_¶ash
,

665 &
¨g_ö_c⁄ˇt
);

670 
∑ª¡_exi°s
 =

671 (
make_dú_∑ª¡s_¥iv©e


672 (
d°_«me
, 
¨g_ö_c⁄ˇt
 - dst_name,

673 (
x
->
vîbo£
 ? "%†-> %s\n" : 
NULL
),

674 &
©å_li°
, &
√w_d°
, 
x
));

678 *
¨g_ba£
;

681 
	`ASSIGN_BASENAME_STRDUPA
 (
¨g_ba£
, 
¨g
);

683 
d°_«me
 = (
	`STREQ
 (
¨g_ba£
, "..")

684 ? 
	`x°rdup
 (
èrgë_dúe˘‹y
)

685 : 
	`fûe_«me_c⁄ˇt
 (
èrgë_dúe˘‹y
, 
¨g_ba£
,

686 
NULL
));

689 i‡(!
∑ª¡_exi°s
)

693 
ok
 = 
Ál£
;

697 
boﬁ
 
c›y_öto_£lf
;

698 
ok
 &
	`c›y
 (
¨g
, 
d°_«me
, 
√w_d°
, 
x
, &
c›y_öto_£lf
, 
NULL
);

700 i‡(
∑ª¡s_›ti⁄
)

701 
ok
 &
	`ª_¥Ÿe˘
 (
d°_«me
, 
¨g_ö_c⁄ˇt
 - dst_name,

702 
©å_li°
, 
x
);

705 i‡(
∑ª¡s_›ti⁄
)

707 
©å_li°
)

709 
dú_©å
 *
p
 = 
©å_li°
;

710 
©å_li°
 =áâr_li°->
√xt
;

711 
	`‰ì
 (
p
);

715 
	`‰ì
 (
d°_«me
);

720 c⁄° *
√w_de°
;

721 c⁄° *
sour˚
 = 
fûe
[0];

722 c⁄° *
de°
 = 
fûe
[1];

723 
boﬁ
 
unu£d
;

725 i‡(
∑ª¡s_›ti⁄
)

727 
	`îr‹
 (0, 0,

728 
	`_
("with --parents,Åhe destination must beá directory"));

729 
	`ußge
 (
EXIT_FAILURE
);

738 i‡(
x
->
u∆ök_de°_a·î_Áûed_›í


739 && 
x
->
backup_ty≥
 !
no_backups


740 && 
	`STREQ
 (
sour˚
, 
de°
)

741 && !
√w_d°
 && 
	`S_ISREG
 (
sb
.
°_mode
))

743 
˝_›ti⁄s
 
x_tmp
;

745 
√w_de°
 = 
	`föd_backup_fûe_«me
 (
de°
, 
x
->
backup_ty≥
);

751 
x_tmp
 = *
x
;

752 
x_tmp
.
backup_ty≥
 = 
no_backups
;

753 
x
 = &
x_tmp
;

757 
√w_de°
 = 
de°
;

760 
ok
 = 
	`c›y
 (
sour˚
, 
√w_de°
, 0, 
x
, &
unu£d
, 
NULL
);

763  
ok
;

764 
	}
}

767 
	$˝_›ti⁄_öô
 (
˝_›ti⁄s
 *
x
)

769 
	`˝_›ti⁄s_deÁu…
 (
x
);

770 
x
->
c›y_as_ªguœr
 = 
åue
;

771 
x
->
dîe„ªn˚
 = 
DEREF_UNDEFINED
;

772 
x
->
u∆ök_de°_bef‹e_›íög
 = 
Ál£
;

773 
x
->
u∆ök_de°_a·î_Áûed_›í
 = 
Ál£
;

774 
x
->
h¨d_lök
 = 
Ál£
;

775 
x
->
öãø˘ive
 = 
I_UNSPECIFIED
;

776 
x
->
move_mode
 = 
Ál£
;

777 
x
->
⁄e_fûe_sy°em
 = 
Ál£
;

778 
x
->
ªÊök_mode
 = 
REFLINK_NEVER
;

780 
x
->
¥e£rve_ow√rshù
 = 
Ál£
;

781 
x
->
¥e£rve_löks
 = 
Ál£
;

782 
x
->
¥e£rve_mode
 = 
Ál£
;

783 
x
->
¥e£rve_time°amps
 = 
Ál£
;

784 
x
->
ex∂icô_no_¥e£rve_mode
 = 
Ál£
;

785 
x
->
¥e£rve_£curôy_c⁄ãxt
 = 
Ál£
;

786 
x
->
ªquúe_¥e£rve_c⁄ãxt
 = 
Ál£
;

787 
x
->
¥e£rve_x©å
 = 
Ál£
;

788 
x
->
ªdu˚_dügno°ics
 = 
Ál£
;

789 
x
->
ªquúe_¥e£rve_x©å
 = 
Ál£
;

791 
x
->
d©a_c›y_ªquúed
 = 
åue
;

792 
x
->
ªquúe_¥e£rve
 = 
Ál£
;

793 
x
->
ªcursive
 = 
Ál£
;

794 
x
->
•¨£_mode
 = 
SPARSE_AUTO
;

795 
x
->
symbﬁic_lök
 = 
Ál£
;

796 
x
->
£t_mode
 = 
Ál£
;

797 
x
->
mode
 = 0;

800 
x
->
°dö_ây
 = 
Ál£
;

802 
x
->
upd©e
 = 
Ál£
;

803 
x
->
vîbo£
 = 
Ál£
;

809 
x
->
›í_d™glög_de°_symlök
 = 
	`gëív
 ("POSIXLY_CORRECT"Ë!
NULL
;

811 
x
->
de°_öfo
 = 
NULL
;

812 
x
->
§c_öfo
 = 
NULL
;

813 
	}
}

818 
	$decode_¥e£rve_¨g
 (c⁄° *
¨g
, 
˝_›ti⁄s
 *
x
, 
boﬁ
 
⁄_off
)

820 
	eFûe_©åibuã


822 
PRESERVE_MODE
,

823 
PRESERVE_TIMESTAMPS
,

824 
PRESERVE_OWNERSHIP
,

825 
PRESERVE_LINK
,

826 
PRESERVE_CONTEXT
,

827 
PRESERVE_XATTR
,

828 
PRESERVE_ALL


830 
Fûe_©åibuã
 c⁄° 
¥e£rve_vÆs
[] =

832 
PRESERVE_MODE
, 
PRESERVE_TIMESTAMPS
,

833 
PRESERVE_OWNERSHIP
, 
PRESERVE_LINK
, 
PRESERVE_CONTEXT
, 
PRESERVE_XATTR
,

834 
PRESERVE_ALL


837 c⁄°* c⁄° 
¥e£rve_¨gs
[] =

840 "ow√rshù", "löks", "c⁄ãxt", "x©å", "Æl", 
NULL


842 
	`ARGMATCH_VERIFY
 (
¥e£rve_¨gs
, 
¥e£rve_vÆs
);

844 *
¨g_wrôabÀ
 = 
	`x°rdup
 (
¨g
);

845 *
s
 = 
¨g_wrôabÀ
;

849 *
comma
 = 
	`°rchr
 (
s
, ',');

850 
Fûe_©åibuã
 
vÆ
;

853 i‡(
comma
)

854 *
comma
++ = 0;

857 
vÆ
 = 
	`XARGMATCH
 ("--¥e£rve", 
s
, 
¥e£rve_¨gs
, 
¥e£rve_vÆs
);

858 
vÆ
)

860 
PRESERVE_MODE
:

861 
x
->
¥e£rve_mode
 = 
⁄_off
;

862 
x
->
ex∂icô_no_¥e£rve_mode
 = !
⁄_off
;

865 
PRESERVE_TIMESTAMPS
:

866 
x
->
¥e£rve_time°amps
 = 
⁄_off
;

869 
PRESERVE_OWNERSHIP
:

870 
x
->
¥e£rve_ow√rshù
 = 
⁄_off
;

873 
PRESERVE_LINK
:

874 
x
->
¥e£rve_löks
 = 
⁄_off
;

877 
PRESERVE_CONTEXT
:

878 
x
->
¥e£rve_£curôy_c⁄ãxt
 = 
⁄_off
;

879 
x
->
ªquúe_¥e£rve_c⁄ãxt
 = 
⁄_off
;

882 
PRESERVE_XATTR
:

883 
x
->
¥e£rve_x©å
 = 
⁄_off
;

884 
x
->
ªquúe_¥e£rve_x©å
 = 
⁄_off
;

887 
PRESERVE_ALL
:

888 
x
->
¥e£rve_mode
 = 
⁄_off
;

889 
x
->
¥e£rve_time°amps
 = 
⁄_off
;

890 
x
->
¥e£rve_ow√rshù
 = 
⁄_off
;

891 
x
->
¥e£rve_löks
 = 
⁄_off
;

892 
x
->
ex∂icô_no_¥e£rve_mode
 = !
⁄_off
;

893 i‡(
£löux_íabÀd
)

894 
x
->
¥e£rve_£curôy_c⁄ãxt
 = 
⁄_off
;

895 
x
->
¥e£rve_x©å
 = 
⁄_off
;

899 
	`ab‹t
 ();

901 
s
 = 
comma
;

903 
s
);

905 
	`‰ì
 (
¨g_wrôabÀ
);

906 
	}
}

909 
	$maö
 (
¨gc
, **
¨gv
)

911 
c
;

912 
boﬁ
 
ok
;

913 
boﬁ
 
make_backups
 = 
Ál£
;

914 *
backup_suffix_°rög
;

915 *
vîsi⁄_c⁄åﬁ_°rög
 = 
NULL
;

916 
˝_›ti⁄s
 
x
;

917 
boﬁ
 
c›y_c⁄ã¡s
 = 
Ál£
;

918 *
èrgë_dúe˘‹y
 = 
NULL
;

919 
boﬁ
 
no_èrgë_dúe˘‹y
 = 
Ál£
;

921 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

922 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

923 
	`£éoˇÀ
 (
LC_ALL
, "");

924 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

925 
	`ãxtdomaö
 (
PACKAGE
);

927 
	`©exô
 (
˛o£_°dö
);

929 
£löux_íabÀd
 = (0 < 
	`is_£löux_íabÀd
 ());

930 
	`˝_›ti⁄_öô
 (&
x
);

934 
backup_suffix_°rög
 = 
	`gëív
 ("SIMPLE_BACKUP_SUFFIX");

936 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "abdfHilLnprst:uvxPRS:T",

937 
l⁄g_›ts
, 
NULL
))

940 
c
)

942 
SPARSE_OPTION
:

943 
x
.
•¨£_mode
 = 
	`XARGMATCH
 ("--•¨£", 
›èrg
,

944 
•¨£_ty≥_°rög
, 
•¨£_ty≥
);

947 
REFLINK_OPTION
:

948 i‡(
›èrg
 =
NULL
)

949 
x
.
ªÊök_mode
 = 
REFLINK_ALWAYS
;

951 
x
.
ªÊök_mode
 = 
	`XARGMATCH
 ("--ªÊök", 
›èrg
,

952 
ªÊök_ty≥_°rög
, 
ªÊök_ty≥
);

957 
x
.
dîe„ªn˚
 = 
DEREF_NEVER
;

958 
x
.
¥e£rve_löks
 = 
åue
;

959 
x
.
¥e£rve_ow√rshù
 = 
åue
;

960 
x
.
¥e£rve_mode
 = 
åue
;

961 
x
.
¥e£rve_time°amps
 = 
åue
;

962 
x
.
ªquúe_¥e£rve
 = 
åue
;

963 i‡(
£löux_íabÀd
)

964 
x
.
¥e£rve_£curôy_c⁄ãxt
 = 
åue
;

965 
x
.
¥e£rve_x©å
 = 
åue
;

966 
x
.
ªdu˚_dügno°ics
 = 
åue
;

967 
x
.
ªcursive
 = 
åue
;

971 
make_backups
 = 
åue
;

972 i‡(
›èrg
)

973 
vîsi⁄_c⁄åﬁ_°rög
 = 
›èrg
;

976 
ATTRIBUTES_ONLY_OPTION
:

977 
x
.
d©a_c›y_ªquúed
 = 
Ál£
;

980 
COPY_CONTENTS_OPTION
:

981 
c›y_c⁄ã¡s
 = 
åue
;

985 
x
.
¥e£rve_löks
 = 
åue
;

986 
x
.
dîe„ªn˚
 = 
DEREF_NEVER
;

990 
x
.
u∆ök_de°_a·î_Áûed_›í
 = 
åue
;

994 
x
.
dîe„ªn˚
 = 
DEREF_COMMAND_LINE_ARGUMENTS
;

998 
x
.
öãø˘ive
 = 
I_ASK_USER
;

1002 
x
.
h¨d_lök
 = 
åue
;

1006 
x
.
dîe„ªn˚
 = 
DEREF_ALWAYS
;

1010 
x
.
öãø˘ive
 = 
I_ALWAYS_NO
;

1014 
x
.
dîe„ªn˚
 = 
DEREF_NEVER
;

1017 
NO_PRESERVE_ATTRIBUTES_OPTION
:

1018 
	`decode_¥e£rve_¨g
 (
›èrg
, &
x
, 
Ál£
);

1021 
PRESERVE_ATTRIBUTES_OPTION
:

1022 i‡(
›èrg
 =
NULL
)

1028 
	`decode_¥e£rve_¨g
 (
›èrg
, &
x
, 
åue
);

1029 
x
.
ªquúe_¥e£rve
 = 
åue
;

1034 
x
.
¥e£rve_ow√rshù
 = 
åue
;

1035 
x
.
¥e£rve_mode
 = 
åue
;

1036 
x
.
¥e£rve_time°amps
 = 
åue
;

1037 
x
.
ªquúe_¥e£rve
 = 
åue
;

1040 
PARENTS_OPTION
:

1041 
∑ª¡s_›ti⁄
 = 
åue
;

1046 
x
.
ªcursive
 = 
åue
;

1049 
UNLINK_DEST_BEFORE_OPENING
:

1050 
x
.
u∆ök_de°_bef‹e_›íög
 = 
åue
;

1053 
STRIP_TRAILING_SLASHES_OPTION
:

1054 
ªmove_åaûög_¶ashes
 = 
åue
;

1058 
x
.
symbﬁic_lök
 = 
åue
;

1062 i‡(
èrgë_dúe˘‹y
)

1063 
	`îr‹
 (
EXIT_FAILURE
, 0,

1064 
	`_
("multipleÅarget directories specified"));

1067 
°©
 
°
;

1068 i‡(
	`°©
 (
›èrg
, &
°
) != 0)

1069 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅoáccess %s"),

1070 
	`quŸe
 (
›èrg
));

1071 i‡(! 
	`S_ISDIR
 (
°
.
°_mode
))

1072 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

1073 
	`quŸe
 (
›èrg
));

1075 
èrgë_dúe˘‹y
 = 
›èrg
;

1079 
no_èrgë_dúe˘‹y
 = 
åue
;

1083 
x
.
upd©e
 = 
åue
;

1087 
x
.
vîbo£
 = 
åue
;

1091 
x
.
⁄e_fûe_sy°em
 = 
åue
;

1095 
make_backups
 = 
åue
;

1096 
backup_suffix_°rög
 = 
›èrg
;

1099 
ˇ£_GETOPT_HELP_CHAR
;

1101 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1104 
	`ußge
 (
EXIT_FAILURE
);

1108 i‡(
x
.
h¨d_lök
 && x.
symbﬁic_lök
)

1110 
	`îr‹
 (0, 0, 
	`_
("cannot make both hardánd symbolicÜinks"));

1111 
	`ußge
 (
EXIT_FAILURE
);

1114 i‡(
make_backups
 && 
x
.
öãø˘ive
 =
I_ALWAYS_NO
)

1116 
	`îr‹
 (0, 0,

1117 
	`_
("options --backupánd --no-clobberáre mutuallyÉxclusive"));

1118 
	`ußge
 (
EXIT_FAILURE
);

1121 i‡(
x
.
ªÊök_mode
 =
REFLINK_ALWAYS
 && x.
•¨£_mode
 !
SPARSE_AUTO
)

1123 
	`îr‹
 (0, 0, 
	`_
("--reflink can be used only with --sparse=auto"));

1124 
	`ußge
 (
EXIT_FAILURE
);

1127 i‡(
backup_suffix_°rög
)

1128 
sim∂e_backup_suffix
 = 
	`x°rdup
 (
backup_suffix_°rög
);

1130 
x
.
backup_ty≥
 = (
make_backups


1131 ? 
	`xgë_vîsi⁄
 (
	`_
("backupÅype"),

1132 
vîsi⁄_c⁄åﬁ_°rög
)

1133 : 
no_backups
);

1135 i‡(
x
.
dîe„ªn˚
 =
DEREF_UNDEFINED
)

1137 i‡(
x
.
ªcursive
)

1139 
x
.
dîe„ªn˚
 = 
DEREF_NEVER
;

1141 
x
.
dîe„ªn˚
 = 
DEREF_ALWAYS
;

1144 i‡(
x
.
ªcursive
)

1145 
x
.
c›y_as_ªguœr
 = 
c›y_c⁄ã¡s
;

1149 i‡(
x
.
u∆ök_de°_a·î_Áûed_›í
 && (x.
h¨d_lök
 || x.
symbﬁic_lök
))

1150 
x
.
u∆ök_de°_bef‹e_›íög
 = 
åue
;

1152 i‡(
x
.
¥e£rve_£curôy_c⁄ãxt
)

1154 i‡(!
£löux_íabÀd
)

1155 
	`îr‹
 (
EXIT_FAILURE
, 0,

1156 
	`_
("cannotÖreserve security context "

1160 #i‡!
USE_XATTR


1161 i‡(
x
.
ªquúe_¥e£rve_x©å
)

1162 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannotÖreserveÉxtendedáttributes, cp is "

1168 
	`hash_öô
 ();

1170 
ok
 = 
	`do_c›y
 (
¨gc
 - 
›töd
, 
¨gv
 + optind,

1171 
èrgë_dúe˘‹y
, 
no_èrgë_dúe˘‹y
, &
x
);

1173 
	`f‹gë_Æl
 ();

1175 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1176 
	}
}

	@csplit.c

20 
	~<c⁄fig.h
>

22 
	~<gë›t.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<sig«l.h
>

26 
	~"sy°em.h
"

28 
	~<ªgex.h
>

30 
	~"îr‹.h
"

31 
	~"fd-ª›í.h
"

32 
	~"quŸe.h
"

33 
	~"ß„-ªad.h
"

34 
	~"°dio--.h
"

35 
	~"x°πﬁ.h
"

38 
	#PROGRAM_NAME
 "c•lô"

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Stuart Kemp"), \

42 
	`¥›î_«me
 ("David MacKízõ")

	)

45 
	#DEFAULT_PREFIX
 "xx"

	)

48 
	sc⁄åﬁ


50 
ötmax_t
 
	moff£t
;

51 
uötmax_t
 
	mlöes_ªquúed
;

52 
uötmax_t
 
	mª≥©
;

53 
	m¨gnum
;

54 
boﬁ
 
	mª≥©_f‹evî
;

55 
boﬁ
 
	mign‹e
;

56 
boﬁ
 
	mªgex¥
;

57 
ª_∑âîn_buf„r
 
	mª_compûed
;

61 
	#START_SIZE
 8191

	)

64 
	#INCR_SIZE
 2048

	)

67 
	#CTRL_SIZE
 80

	)

69 #ifde‡
DEBUG


71 
	#START_SIZE
 200

	)

72 
	#INCR_SIZE
 10

	)

73 
	#CTRL_SIZE
 1

	)

77 
	sc°rög


79 
size_t
 
	mÀn
;

80 *
	m°r
;

85 
	slöe


87 
size_t
 
	mu£d
;

88 
size_t
 
	mö£π_ödex
;

89 
size_t
 
	mªåõve_ödex
;

90 
c°rög
 
	m°¨ts
[
CTRL_SIZE
];

91 
löe
 *
	m√xt
;

97 
	sbuf„r_ªc‹d


99 
size_t
 
	mbyãs_Æloc
;

100 
size_t
 
	mbyãs_u£d
;

101 
uötmax_t
 
	m°¨t_löe
;

102 
uötmax_t
 
	mfú°_avaûabÀ
;

103 
size_t
 
	mnum_löes
;

104 *
	mbuf„r
;

105 
löe
 *
	mlöe_°¨t
;

106 
löe
 *
	mcuº_löe
;

107 
buf„r_ªc‹d
 *
	m√xt
;

110 
˛o£_ouçut_fûe
 ();

111 
¸óã_ouçut_fûe
 ();

112 
dñëe_Æl_fûes
 (
boﬁ
);

113 
ßve_löe_to_fûe
 (c⁄° 
c°rög
 *
löe
);

116 
buf„r_ªc‹d
 *
	ghód
 = 
NULL
;

119 *
	ghﬁd_¨ó
 = 
NULL
;

122 
size_t
 
	ghﬁd_cou¡
 = 0;

125 
uötmax_t
 
	gœ°_löe_numbî
 = 0;

128 
uötmax_t
 
	gcuºít_löe
 = 0;

131 
boﬁ
 
	ghave_ªad_eof
 = 
Ál£
;

134 *vﬁ©ûê
	gfûíame_•a˚
 = 
NULL
;

137 c⁄° *vﬁ©ûê
	g¥efix
 = 
NULL
;

140 *vﬁ©ûê
	gsuffix
 = 
NULL
;

143 vﬁ©ûê
	gdigôs
 = 2;

146 vﬁ©ûê
	gfûes_¸óãd
 = 0;

149 
uötmax_t
 
	gbyãs_wrôãn
;

152 
FILE
 *
	gouçut_°ªam
 = 
NULL
;

155 *
	gouçut_fûíame
 = 
NULL
;

158 **
	gglobÆ_¨gv
;

161 
boﬁ
 
	gsuµªss_cou¡
;

164 
boﬁ
 vﬁ©ûê
	gªmove_fûes
;

167 
boﬁ
 
	gñide_em±y_fûes
;

171 
c⁄åﬁ
 *
	gc⁄åﬁs
;

174 
size_t
 
	gc⁄åﬁ_u£d
;

177 
sig£t_t
 
	gˇught_sig«ls
;

179 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

181 {"digôs", 
ªquúed_¨gumít
, 
NULL
, 'n'},

182 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

183 {"sûít", 
no_¨gumít
, 
NULL
, 's'},

184 {"kìp-fûes", 
no_¨gumít
, 
NULL
, 'k'},

185 {"ñide-em±y-fûes", 
no_¨gumít
, 
NULL
, 'z'},

186 {"¥efix", 
ªquúed_¨gumít
, 
NULL
, 'f'},

187 {"suffix-f‹m©", 
ªquúed_¨gumít
, 
NULL
, 'b'},

188 {
GETOPT_HELP_OPTION_DECL
},

189 {
GETOPT_VERSION_OPTION_DECL
},

190 {
NULL
, 0, NULL, 0}

197 
	$˛ónup
 ()

199 
sig£t_t
 
ﬁd£t
;

201 
	`˛o£_ouçut_fûe
 ();

203 
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &
ﬁd£t
);

204 
	`dñëe_Æl_fûes
 (
Ál£
);

205 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁd£t
, 
NULL
);

206 
	}
}

208 
	$˛ónup_Áèl
 (Ë
ATTRIBUTE_NORETURN
;

210 
	$˛ónup_Áèl
 ()

212 
	`˛ónup
 ();

213 
	`exô
 (
EXIT_FAILURE
);

214 
	}
}

217 
	$xÆloc_dõ
 ()

219 
	`îr‹
 (0, 0, "%s", 
	`_
("memoryÉxhausted"));

220 
	`˛ónup_Áèl
 ();

221 
	}
}

224 
	$öãºu±_h™dÀr
 (
sig
)

226 
	`dñëe_Æl_fûes
 (
åue
);

227 
	`sig«l
 (
sig
, 
SIG_DFL
);

231 
	`øi£
 (
sig
);

232 
	}
}

238 
	$ßve_to_hﬁd_¨ó
 (*
°¨t
, 
size_t
 
num
)

240 
	`‰ì
 (
hﬁd_¨ó
);

241 
hﬁd_¨ó
 = 
°¨t
;

242 
hﬁd_cou¡
 = 
num
;

243 
	}
}

248 
size_t


249 
	$ªad_öput
 (*
de°
, 
size_t
 
max_n_byãs
)

251 
size_t
 
byãs_ªad
;

253 i‡(
max_n_byãs
 == 0)

256 
byãs_ªad
 = 
	`ß„_ªad
 (
STDIN_FILENO
, 
de°
, 
max_n_byãs
);

258 i‡(
byãs_ªad
 == 0)

259 
have_ªad_eof
 = 
åue
;

261 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

263 
	`îr‹
 (0, 
î∫o
, 
	`_
("readÉrror"));

264 
	`˛ónup_Áèl
 ();

267  
byãs_ªad
;

268 
	}
}

273 
	$˛ór_löe_c⁄åﬁ
 (
löe
 *
p
)

275 
p
->
u£d
 = 0;

276 
p
->
ö£π_ödex
 = 0;

277 
p
->
ªåõve_ödex
 = 0;

278 
	}
}

282 
löe
 *

283 
	$√w_löe_c⁄åﬁ
 ()

285 
löe
 *
p
 = 
	`xmÆloc
 ( *p);

287 
p
->
√xt
 = 
NULL
;

288 
	`˛ór_löe_c⁄åﬁ
 (
p
);

290  
p
;

291 
	}
}

297 
	$kìp_√w_löe
 (
buf„r_ªc‹d
 *
b
, *
löe_°¨t
, 
size_t
 
löe_Àn
)

299 
löe
 *
l
;

302 i‡(
b
->
löe_°¨t
 =
NULL
)

303 
b
->
löe_°¨t
 = b->
cuº_löe
 = 
	`√w_löe_c⁄åﬁ
 ();

306 i‡(
b
->
cuº_löe
->
u£d
 =
CTRL_SIZE
)

308 
b
->
cuº_löe
->
√xt
 = 
	`√w_löe_c⁄åﬁ
 ();

309 
b
->
cuº_löe
 = b->cuº_löe->
√xt
;

312 
l
 = 
b
->
cuº_löe
;

315 
l
->
°¨ts
[l->
ö£π_ödex
].
°r
 = 
löe_°¨t
;

316 
l
->
°¨ts
[l->
ö£π_ödex
].
Àn
 = 
löe_Àn
;

317 
l
->
u£d
++;

318 
l
->
ö£π_ödex
++;

319 
	}
}

329 
size_t


330 
	$ªc‹d_löe_°¨ts
 (
buf„r_ªc‹d
 *
b
)

332 *
löe_°¨t
;

333 *
löe_íd
;

334 
size_t
 
byãs_À·
;

335 
size_t
 
löes
;

336 
size_t
 
löe_Àngth
;

338 i‡(
b
->
byãs_u£d
 == 0)

341 
löes
 = 0;

342 
löe_°¨t
 = 
b
->
buf„r
;

343 
byãs_À·
 = 
b
->
byãs_u£d
;

345 
åue
)

347 
löe_íd
 = 
	`memchr
 (
löe_°¨t
, '\n', 
byãs_À·
);

348 i‡(
löe_íd
 =
NULL
)

350 
löe_Àngth
 = 
löe_íd
 - 
löe_°¨t
 + 1;

351 
	`kìp_√w_löe
 (
b
, 
löe_°¨t
, 
löe_Àngth
);

352 
byãs_À·
 -
löe_Àngth
;

353 
löe_°¨t
 = 
löe_íd
 + 1;

354 
löes
++;

358 i‡(
byãs_À·
)

360 i‡(
have_ªad_eof
)

362 
	`kìp_√w_löe
 (
b
, 
löe_°¨t
, 
byãs_À·
);

363 
löes
++;

366 
	`ßve_to_hﬁd_¨ó
 (
	`xmemdup
 (
löe_°¨t
, 
byãs_À·
), bytes_left);

369 
b
->
num_löes
 = 
löes
;

370 
b
->
fú°_avaûabÀ
 = b->
°¨t_löe
 = 
œ°_löe_numbî
 + 1;

371 
œ°_löe_numbî
 +
löes
;

373  
löes
;

374 
	}
}

379 
buf„r_ªc‹d
 *

380 
	$¸óã_√w_buf„r
 (
size_t
 
size
)

382 
buf„r_ªc‹d
 *
√w_buf„r
 = 
	`xmÆloc
 ( *new_buffer);

384 
√w_buf„r
->
buf„r
 = 
	`xmÆloc
 (
size
 + 1);

386 
√w_buf„r
->
byãs_Æloc
 = 
size
;

387 
√w_buf„r
->
löe_°¨t
 =Çew_buf„r->
cuº_löe
 = 
NULL
;

389  
√w_buf„r
;

390 
	}
}

395 
buf„r_ªc‹d
 *

396 
	$gë_√w_buf„r
 (
size_t
 
mö_size
)

398 
buf„r_ªc‹d
 *
√w_buf„r
;

399 
size_t
 
Æloc_size
;

401 
Æloc_size
 = 
START_SIZE
;

402 i‡(
Æloc_size
 < 
mö_size
)

404 
size_t
 
s
 = 
mö_size
 - 
Æloc_size
 + 
INCR_SIZE
 - 1;

405 
Æloc_size
 +
s
 - s % 
INCR_SIZE
;

408 
√w_buf„r
 = 
	`¸óã_√w_buf„r
 (
Æloc_size
);

410 
√w_buf„r
->
num_löes
 = 0;

411 
√w_buf„r
->
byãs_u£d
 = 0;

412 
√w_buf„r
->
°¨t_löe
 =Çew_buf„r->
fú°_avaûabÀ
 = 
œ°_löe_numbî
 + 1;

413 
√w_buf„r
->
√xt
 = 
NULL
;

415  
√w_buf„r
;

416 
	}
}

419 
	$‰ì_buf„r
 (
buf„r_ªc‹d
 *
buf
)

421 
löe
 *
l
;

422 
l
 = 
buf
->
löe_°¨t
;Ü;)

424 
löe
 *
n
 = 
l
->
√xt
;

425 
	`‰ì
 (
l
);

426 
l
 = 
n
;

428 
buf
->
löe_°¨t
 = 
NULL
;

429 
	`‰ì
 (
buf
->
buf„r
);

430 
buf
->
buf„r
 = 
NULL
;

431 
	}
}

437 
	$ßve_buf„r
 (
buf„r_ªc‹d
 *
buf
)

439 
buf„r_ªc‹d
 *
p
;

441 
buf
->
√xt
 = 
NULL
;

442 
buf
->
cuº_löe
 = buf->
löe_°¨t
;

444 i‡(
hód
 =
NULL
)

445 
hód
 = 
buf
;

448 
p
 = 
hód
;Ö->
√xt
;Ö =Ö->next)

450 
p
->
√xt
 = 
buf
;

452 
	}
}

467 
boﬁ


468 
	$lﬂd_buf„r
 ()

470 
buf„r_ªc‹d
 *
b
;

471 
size_t
 
byãs_w™ãd
 = 
START_SIZE
;

472 
size_t
 
byãs_avaû
;

473 
size_t
 
löes_found
;

474 *
p
;

476 i‡(
have_ªad_eof
)

477  
Ál£
;

481 i‡(
byãs_w™ãd
 < 
hﬁd_cou¡
)

482 
byãs_w™ãd
 = 
hﬁd_cou¡
;

486 
b
 = 
	`gë_√w_buf„r
 (
byãs_w™ãd
);

487 
byãs_avaû
 = 
b
->
byãs_Æloc
;

488 
p
 = 
b
->
buf„r
;

491 i‡(
hﬁd_cou¡
)

493 
	`mem˝y
 (
p
, 
hﬁd_¨ó
, 
hﬁd_cou¡
);

494 
p
 +
hﬁd_cou¡
;

495 
b
->
byãs_u£d
 +
hﬁd_cou¡
;

496 
byãs_avaû
 -
hﬁd_cou¡
;

497 
hﬁd_cou¡
 = 0;

500 
b
->
byãs_u£d
 +
	`ªad_öput
 (
p
, 
byãs_avaû
);

502 
löes_found
 = 
	`ªc‹d_löe_°¨ts
 (
b
);

504 i‡(
löes_found
 || 
have_ªad_eof
)

507 i‡(
	`xÆloc_ovîsized
 (2, 
b
->
byãs_Æloc
))

508 
	`xÆloc_dõ
 ();

509 
byãs_w™ãd
 = 2 * 
b
->
byãs_Æloc
;

510 
	`‰ì_buf„r
 (
b
);

511 
	`‰ì
 (
b
);

514 i‡(
löes_found
)

515 
	`ßve_buf„r
 (
b
);

518 
	`‰ì_buf„r
 (
b
);

519 
	`‰ì
 (
b
);

522  
löes_found
 != 0;

523 
	}
}

527 
uötmax_t


528 
	$gë_fú°_löe_ö_buf„r
 ()

530 i‡(
hód
 =
NULL
 && !
	`lﬂd_buf„r
 ())

531 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("input disappeared"));

533  
hód
->
fú°_avaûabÀ
;

534 
	}
}

540 
c°rög
 *

541 
	$ªmove_löe
 ()

546 
buf„r_ªc‹d
 *
¥ev_buf
 = 
NULL
;

548 
c°rög
 *
löe
;

549 
löe
 *
l
;

551 i‡(
¥ev_buf
)

553 
	`‰ì_buf„r
 (
¥ev_buf
);

554 
	`‰ì
 (
¥ev_buf
);

555 
¥ev_buf
 = 
NULL
;

558 i‡(
hód
 =
NULL
 && !
	`lﬂd_buf„r
 ())

559  
NULL
;

561 i‡(
cuºít_löe
 < 
hód
->
fú°_avaûabÀ
)

562 
cuºít_löe
 = 
hód
->
fú°_avaûabÀ
;

564 ++(
hód
->
fú°_avaûabÀ
);

566 
l
 = 
hód
->
cuº_löe
;

568 
löe
 = &
l
->
°¨ts
[l->
ªåõve_ödex
];

571 i‡(++
l
->
ªåõve_ödex
 =l->
u£d
)

574 
hód
->
cuº_löe
 = 
l
->
√xt
;

575 i‡(
hód
->
cuº_löe
 =
NULL
 || hód->cuº_löe->
u£d
 == 0)

580 
¥ev_buf
 = 
hód
;

581 
hód
 = hód->
√xt
;

585  
löe
;

586 
	}
}

591 
c°rög
 *

592 
	$föd_löe
 (
uötmax_t
 
löíum
)

594 
buf„r_ªc‹d
 *
b
;

596 i‡(
hód
 =
NULL
 && !
	`lﬂd_buf„r
 ())

597  
NULL
;

599 i‡(
löíum
 < 
hód
->
°¨t_löe
)

600  
NULL
;

602 
b
 = 
hód
;;)

604 i‡(
löíum
 < 
b
->
°¨t_löe
 + b->
num_löes
)

607 
löe
 *
l
;

608 
size_t
 
off£t
;

610 
l
 = 
b
->
löe_°¨t
;

611 
off£t
 = 
löíum
 - 
b
->
°¨t_löe
;

613 
off£t
 >
CTRL_SIZE
)

615 
l
 =Ü->
√xt
;

616 
off£t
 -
CTRL_SIZE
;

618  &
l
->
°¨ts
[
off£t
];

620 i‡(
b
->
√xt
 =
NULL
 && !
	`lﬂd_buf„r
 ())

621  
NULL
;

622 
b
 = b->
√xt
;

624 
	}
}

628 
boﬁ


629 
	$no_m‹e_löes
 ()

631  
	`föd_löe
 (
cuºít_löe
 + 1Ë=
NULL
;

632 
	}
}

637 
	$£t_öput_fûe
 (c⁄° *
«me
)

639 i‡(! 
	`STREQ
 (
«me
, "-"Ë&& 
	`fd_ª›í
 (
STDIN_FILENO
,Çame, 
O_RDONLY
, 0) < 0)

640 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ o≥¿%†f‹Ñódög"), 
	`quŸe
 (
«me
));

641 
	}
}

649 
	$wrôe_to_fûe
 (
uötmax_t
 
œ°_löe
, 
boﬁ
 
ign‹e
, 
¨gnum
)

651 
c°rög
 *
löe
;

652 
uötmax_t
 
fú°_löe
;

653 
uötmax_t
 
löes
;

654 
uötmax_t
 
i
;

656 
fú°_löe
 = 
	`gë_fú°_löe_ö_buf„r
 ();

658 i‡(
fú°_löe
 > 
œ°_löe
)

660 
	`îr‹
 (0, 0, 
	`_
("%s:Üöênumbî ouào‡ønge"), 
globÆ_¨gv
[
¨gnum
]);

661 
	`˛ónup_Áèl
 ();

664 
löes
 = 
œ°_löe
 - 
fú°_löe
;

666 
i
 = 0; i < 
löes
; i++)

668 
löe
 = 
	`ªmove_löe
 ();

669 i‡(
löe
 =
NULL
)

671 
	`îr‹
 (0, 0, 
	`_
("%s:Üöênumbî ouào‡ønge"), 
globÆ_¨gv
[
¨gnum
]);

672 
	`˛ónup_Áèl
 ();

674 i‡(!
ign‹e
)

675 
	`ßve_löe_to_fûe
 (
löe
);

677 
	}
}

682 
	$dump_ª°_of_fûe
 ()

684 
c°rög
 *
löe
;

686 (
löe
 = 
	`ªmove_löe
 ()Ë!
NULL
)

687 
	`ßve_löe_to_fûe
 (
löe
);

688 
	}
}

693 
	$h™dÀ_löe_îr‹
 (c⁄° 
c⁄åﬁ
 *, 
uötmax_t
)

694 
ATTRIBUTE_NORETURN
;

696 
	$h™dÀ_löe_îr‹
 (c⁄° 
c⁄åﬁ
 *
p
, 
uötmax_t
 
ª≥tôi⁄
)

698 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

700 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s:ÜineÇumber out ofÑange"),

701 
¥ogøm_«me
, 
	`quŸe
 (
	`umaxto°r
 (
p
->
löes_ªquúed
, 
buf
)));

702 i‡(
ª≥tôi⁄
)

703 
	`Ârötf
 (
°dîr
, 
	`_
(" o¿ª≥tôi⁄ %s\n"), 
	`umaxto°r
 (
ª≥tôi⁄
, 
buf
));

705 
	`Ârötf
 (
°dîr
, "\n");

707 
	`˛ónup_Áèl
 ();

708 
	}
}

716 
	$¥o˚ss_löe_cou¡
 (c⁄° 
c⁄åﬁ
 *
p
, 
uötmax_t
 
ª≥tôi⁄
)

718 
uötmax_t
 
löíum
;

719 
uötmax_t
 
œ°_löe_to_ßve
 = 
p
->
löes_ªquúed
 * (
ª≥tôi⁄
 + 1);

720 
c°rög
 *
löe
;

722 
	`¸óã_ouçut_fûe
 ();

724 
löíum
 = 
	`gë_fú°_löe_ö_buf„r
 ();

726 
löíum
++ < 
œ°_löe_to_ßve
)

728 
löe
 = 
	`ªmove_löe
 ();

729 i‡(
löe
 =
NULL
)

730 
	`h™dÀ_löe_îr‹
 (
p
, 
ª≥tôi⁄
);

731 
	`ßve_löe_to_fûe
 (
löe
);

734 
	`˛o£_ouçut_fûe
 ();

738 i‡(
	`no_m‹e_löes
 ())

739 
	`h™dÀ_löe_îr‹
 (
p
, 
ª≥tôi⁄
);

740 
	}
}

742 
	$ªgexp_îr‹
 (
c⁄åﬁ
 *, 
uötmax_t
, 
boﬁ
Ë
ATTRIBUTE_NORETURN
;

744 
	$ªgexp_îr‹
 (
c⁄åﬁ
 *
p
, 
uötmax_t
 
ª≥tôi⁄
, 
boﬁ
 
ign‹e
)

746 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: matchÇot found"),

747 
¥ogøm_«me
, 
	`quŸe
 (
globÆ_¨gv
[
p
->
¨gnum
]));

749 i‡(
ª≥tôi⁄
)

751 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

752 
	`Ârötf
 (
°dîr
, 
	`_
(" o¿ª≥tôi⁄ %s\n"), 
	`umaxto°r
 (
ª≥tôi⁄
, 
buf
));

755 
	`Ârötf
 (
°dîr
, "\n");

757 i‡(!
ign‹e
)

759 
	`dump_ª°_of_fûe
 ();

760 
	`˛o£_ouçut_fûe
 ();

762 
	`˛ónup_Áèl
 ();

763 
	}
}

770 
	$¥o˚ss_ªgexp
 (
c⁄åﬁ
 *
p
, 
uötmax_t
 
ª≥tôi⁄
)

772 
c°rög
 *
löe
;

773 
size_t
 
löe_Àn
;

774 
uötmax_t
 
bªak_löe
;

775 
boﬁ
 
ign‹e
 = 
p
->ignore;

776 
ªgoff_t
 
ªt
;

778 i‡(!
ign‹e
)

779 
	`¸óã_ouçut_fûe
 ();

784 i‡(
p
->
off£t
 >= 0)

786 
åue
)

788 
löe
 = 
	`föd_löe
 (++
cuºít_löe
);

789 i‡(
löe
 =
NULL
)

791 i‡(
p
->
ª≥©_f‹evî
)

793 i‡(!
ign‹e
)

795 
	`dump_ª°_of_fûe
 ();

796 
	`˛o£_ouçut_fûe
 ();

798 
	`exô
 (
EXIT_SUCCESS
);

801 
	`ªgexp_îr‹
 (
p
, 
ª≥tôi⁄
, 
ign‹e
);

803 
löe_Àn
 = 
löe
->
Àn
;

804 i‡(
löe
->
°r
[
löe_Àn
 - 1] == '\n')

805 
löe_Àn
--;

806 
ªt
 = 
	`ª_£¨ch
 (&
p
->
ª_compûed
, 
löe
->
°r
, 
löe_Àn
,

807 0, 
löe_Àn
, 
NULL
);

808 i‡(
ªt
 == -2)

810 
	`îr‹
 (0, 0, 
	`_
("error inÑegularÉxpression search"));

811 
	`˛ónup_Áèl
 ();

813 i‡(
ªt
 == -1)

815 
löe
 = 
	`ªmove_löe
 ();

816 i‡(!
ign‹e
)

817 
	`ßve_löe_to_fûe
 (
löe
);

826 
åue
)

828 
löe
 = 
	`föd_löe
 (++
cuºít_löe
);

829 i‡(
löe
 =
NULL
)

831 i‡(
p
->
ª≥©_f‹evî
)

833 i‡(!
ign‹e
)

835 
	`dump_ª°_of_fûe
 ();

836 
	`˛o£_ouçut_fûe
 ();

838 
	`exô
 (
EXIT_SUCCESS
);

841 
	`ªgexp_îr‹
 (
p
, 
ª≥tôi⁄
, 
ign‹e
);

843 
löe_Àn
 = 
löe
->
Àn
;

844 i‡(
löe
->
°r
[
löe_Àn
 - 1] == '\n')

845 
löe_Àn
--;

846 
ªt
 = 
	`ª_£¨ch
 (&
p
->
ª_compûed
, 
löe
->
°r
, 
löe_Àn
,

847 0, 
löe_Àn
, 
NULL
);

848 i‡(
ªt
 == -2)

850 
	`îr‹
 (0, 0, 
	`_
("error inÑegularÉxpression search"));

851 
	`˛ónup_Áèl
 ();

853 i‡(
ªt
 != -1)

859 
bªak_löe
 = 
cuºít_löe
 + 
p
->
off£t
;

861 
	`wrôe_to_fûe
 (
bªak_löe
, 
ign‹e
, 
p
->
¨gnum
);

863 i‡(!
ign‹e
)

864 
	`˛o£_ouçut_fûe
 ();

866 i‡(
p
->
off£t
 > 0)

867 
cuºít_löe
 = 
bªak_löe
;

868 
	}
}

873 
	$•lô_fûe
 ()

875 
size_t
 
i
;

877 
i
 = 0; i < 
c⁄åﬁ_u£d
; i++)

879 
uötmax_t
 
j
;

880 i‡(
c⁄åﬁs
[
i
].
ªgex¥
)

882 
j
 = 0; (
c⁄åﬁs
[
i
].
ª≥©_f‹evî


883 || 
j
 <
c⁄åﬁs
[
i
].
ª≥©
); j++)

884 
	`¥o˚ss_ªgexp
 (&
c⁄åﬁs
[
i
], 
j
);

888 
j
 = 0; (
c⁄åﬁs
[
i
].
ª≥©_f‹evî


889 || 
j
 <
c⁄åﬁs
[
i
].
ª≥©
); j++)

890 
	`¥o˚ss_löe_cou¡
 (&
c⁄åﬁs
[
i
], 
j
);

894 
	`¸óã_ouçut_fûe
 ();

895 
	`dump_ª°_of_fûe
 ();

896 
	`˛o£_ouçut_fûe
 ();

897 
	}
}

907 
	$make_fûíame
 (
num
)

909 
	`°r˝y
 (
fûíame_•a˚
, 
¥efix
);

910 i‡(
suffix
)

911 
	`•rötf
 (
fûíame_•a˚
 + 
	`°æí
 (
¥efix
), 
suffix
, 
num
);

913 
	`•rötf
 (
fûíame_•a˚
 + 
	`°æí
 (
¥efix
), "%0*u", 
digôs
, 
num
);

914  
fûíame_•a˚
;

915 
	}
}

920 
	$¸óã_ouçut_fûe
 ()

922 
boﬁ
 
f›í_ok
;

923 
f›í_î∫o
;

925 
ouçut_fûíame
 = 
	`make_fûíame
 (
fûes_¸óãd
);

927 i‡(
fûes_¸óãd
 =
UINT_MAX
)

929 
f›í_ok
 = 
Ál£
;

930 
f›í_î∫o
 = 
EOVERFLOW
;

935 
sig£t_t
 
ﬁd£t
;

936 
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &
ﬁd£t
);

937 
ouçut_°ªam
 = 
	`f›í
 (
ouçut_fûíame
, "w");

938 
f›í_ok
 = (
ouçut_°ªam
 !
NULL
);

939 
f›í_î∫o
 = 
î∫o
;

940 
fûes_¸óãd
 +
f›í_ok
;

941 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁd£t
, 
NULL
);

944 i‡(! 
f›í_ok
)

946 
	`îr‹
 (0, 
f›í_î∫o
, "%s", 
ouçut_fûíame
);

947 
	`˛ónup_Áèl
 ();

949 
byãs_wrôãn
 = 0;

950 
	}
}

956 
	$dñëe_Æl_fûes
 (
boﬁ
 
ö_sig«l_h™dÀr
)

958 
i
;

960 i‡(! 
ªmove_fûes
)

963 
i
 = 0; i < 
fûes_¸óãd
; i++)

965 c⁄° *
«me
 = 
	`make_fûíame
 (
i
);

966 i‡(
	`u∆ök
 (
«me
Ë!0 && !
ö_sig«l_h™dÀr
)

967 
	`îr‹
 (0, 
î∫o
, "%s", 
«me
);

970 
fûes_¸óãd
 = 0;

971 
	}
}

977 
	$˛o£_ouçut_fûe
 ()

979 i‡(
ouçut_°ªam
)

981 i‡(
	`„º‹
 (
ouçut_°ªam
))

983 
	`îr‹
 (0, 0, 
	`_
("wrôêîr‹ f‹ %s"), 
	`quŸe
 (
ouçut_fûíame
));

984 
ouçut_°ªam
 = 
NULL
;

985 
	`˛ónup_Áèl
 ();

987 i‡(
	`f˛o£
 (
ouçut_°ªam
) != 0)

989 
	`îr‹
 (0, 
î∫o
, "%s", 
ouçut_fûíame
);

990 
ouçut_°ªam
 = 
NULL
;

991 
	`˛ónup_Áèl
 ();

993 i‡(
byãs_wrôãn
 =0 && 
ñide_em±y_fûes
)

995 
sig£t_t
 
ﬁd£t
;

996 
boﬁ
 
u∆ök_ok
;

997 
u∆ök_î∫o
;

1000 
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &
ﬁd£t
);

1001 
u∆ök_ok
 = (
	`u∆ök
 (
ouçut_fûíame
) == 0);

1002 
u∆ök_î∫o
 = 
î∫o
;

1003 
fûes_¸óãd
 -
u∆ök_ok
;

1004 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁd£t
, 
NULL
);

1006 i‡(! 
u∆ök_ok
)

1007 
	`îr‹
 (0, 
u∆ök_î∫o
, "%s", 
ouçut_fûíame
);

1011 i‡(!
suµªss_cou¡
)

1013 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

1014 
	`Ârötf
 (
°dout
, "%s\n", 
	`umaxto°r
 (
byãs_wrôãn
, 
buf
));

1017 
ouçut_°ªam
 = 
NULL
;

1019 
	}
}

1025 
	$ßve_löe_to_fûe
 (c⁄° 
c°rög
 *
löe
)

1027 
	`fwrôe
 (
löe
->
°r
,  (),Üöe->
Àn
, 
ouçut_°ªam
);

1028 
byãs_wrôãn
 +
löe
->
Àn
;

1029 
	}
}

1033 
c⁄åﬁ
 *

1034 
	$√w_c⁄åﬁ_ªc‹d
 ()

1036 
size_t
 
c⁄åﬁ_Æloˇãd
 = 0;

1037 
c⁄åﬁ
 *
p
;

1039 i‡(
c⁄åﬁ_u£d
 =
c⁄åﬁ_Æloˇãd
)

1040 
c⁄åﬁs
 = 
	`X2NREALLOC
 (c⁄åﬁs, &
c⁄åﬁ_Æloˇãd
);

1041 
p
 = &
c⁄åﬁs
[
c⁄åﬁ_u£d
++];

1042 
p
->
ªgex¥
 = 
Ál£
;

1043 
p
->
ª≥©
 = 0;

1044 
p
->
ª≥©_f‹evî
 = 
Ál£
;

1045 
p
->
löes_ªquúed
 = 0;

1046 
p
->
off£t
 = 0;

1047  
p
;

1048 
	}
}

1056 
	$check_f‹_off£t
 (
c⁄åﬁ
 *
p
, c⁄° *
°r
, c⁄° *
num
)

1058 i‡(
	`x°πoimax
 (
num
, 
NULL
, 10, &
p
->
off£t
, ""Ë!
LONGINT_OK
)

1059 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: i¡egîÉx≥˘edá·î dñimôî"), 
°r
);

1060 
	}
}

1068 
	$∑r£_ª≥©_cou¡
 (
¨gnum
, 
c⁄åﬁ
 *
p
, *
°r
)

1070 
uötmax_t
 
vÆ
;

1071 *
íd
;

1073 
íd
 = 
°r
 + 
	`°æí
 (str) - 1;

1074 i‡(*
íd
 != '}')

1075 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: '}' i†ªquúed i¿ª≥© cou¡"), 
°r
);

1076 *
íd
 = '\0';

1078 i‡(
°r
+1 =
íd
-1 && *(str+1) == '*')

1079 
p
->
ª≥©_f‹evî
 = 
åue
;

1082 i‡(
	`x°πoumax
 (
°r
 + 1, 
NULL
, 10, &
vÆ
, ""Ë!
LONGINT_OK
)

1084 
	`îr‹
 (
EXIT_FAILURE
, 0,

1085 
	`_
("%s}: integerÑequired between '{'ánd '}'"),

1086 
globÆ_¨gv
[
¨gnum
]);

1088 
p
->
ª≥©
 = 
vÆ
;

1091 *
íd
 = '}';

1092 
	}
}

1100 
c⁄åﬁ
 *

1101 
	$exåa˘_ªgexp
 (
¨gnum
, 
boﬁ
 
ign‹e
, c⁄° *
°r
)

1103 
size_t
 
Àn
;

1104 
dñim
 = *
°r
;

1105 c⁄° *
˛osög_dñim
;

1106 
c⁄åﬁ
 *
p
;

1107 c⁄° *
îr
;

1109 
˛osög_dñim
 = 
	`°ºchr
 (
°r
 + 1, 
dñim
);

1110 i‡(
˛osög_dñim
 =
NULL
)

1111 
	`îr‹
 (
EXIT_FAILURE
, 0,

1112 
	`_
("%s: closög dñimôî '%c' missög"), 
°r
, 
dñim
);

1114 
Àn
 = 
˛osög_dñim
 - 
°r
 - 1;

1115 
p
 = 
	`√w_c⁄åﬁ_ªc‹d
 ();

1116 
p
->
¨gnum
 =árgnum;

1117 
p
->
ign‹e
 = ignore;

1119 
p
->
ªgex¥
 = 
åue
;

1120 
p
->
ª_compûed
.
buf„r
 = 
NULL
;

1121 
p
->
ª_compûed
.
Æloˇãd
 = 0;

1122 
p
->
ª_compûed
.
Á°m≠
 = 
	`xmÆloc
 (
UCHAR_MAX
 + 1);

1123 
p
->
ª_compûed
.
å™¶©e
 = 
NULL
;

1124 
ª_sy¡ax_›ti⁄s
 =

1125 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

1126 
îr
 = 
	`ª_compûe_∑âîn
 (
°r
 + 1, 
Àn
, &
p
->
ª_compûed
);

1127 i‡(
îr
)

1129 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÑeguœ∏ex¥essi⁄: %s"), 
°r
, 
îr
);

1130 
	`˛ónup_Áèl
 ();

1133 i‡(
˛osög_dñim
[1])

1134 
	`check_f‹_off£t
 (
p
, 
°r
, 
˛osög_dñim
 + 1);

1136  
p
;

1137 
	}
}

1143 
	$∑r£_∑âîns
 (
¨gc
, 
°¨t
, **
¨gv
)

1145 
i
;

1146 
c⁄åﬁ
 *
p
;

1147 
uötmax_t
 
vÆ
;

1148 
uötmax_t
 
œ°_vÆ
 = 0;

1150 
i
 = 
°¨t
; i < 
¨gc
; i++)

1152 i‡(*
¨gv
[
i
] == '/' || *argv[i] == '%')

1154 
p
 = 
	`exåa˘_ªgexp
 (
i
, *
¨gv
[i] == '%',árgv[i]);

1158 
p
 = 
	`√w_c⁄åﬁ_ªc‹d
 ();

1159 
p
->
¨gnum
 = 
i
;

1161 i‡(
	`x°πoumax
 (
¨gv
[
i
], 
NULL
, 10, &
vÆ
, ""Ë!
LONGINT_OK
)

1162 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆidÖ©ã∫"), 
¨gv
[
i
]);

1163 i‡(
vÆ
 == 0)

1164 
	`îr‹
 (
EXIT_FAILURE
, 0,

1165 
	`_
("%s:ÜineÇumber must be greaterÅhan zero"),

1166 
¨gv
[
i
]);

1167 i‡(
vÆ
 < 
œ°_vÆ
)

1169 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

1170 
	`îr‹
 (
EXIT_FAILURE
, 0,

1171 
	`_
("lineÇumber %s is smallerÅhanÖrecedingÜineÇumber, %s"),

1172 
	`quŸe
 (
¨gv
[
i
]), 
	`umaxto°r
 (
œ°_vÆ
, 
buf
));

1175 i‡(
vÆ
 =
œ°_vÆ
)

1176 
	`îr‹
 (0, 0,

1177 
	`_
("warning:ÜineÇumber %s isÅhe sameásÖrecedingÜineÇumber"),

1178 
	`quŸe
 (
¨gv
[
i
]));

1180 
œ°_vÆ
 = 
vÆ
;

1182 
p
->
löes_ªquúed
 = 
vÆ
;

1185 i‡(
i
 + 1 < 
¨gc
 && *
¨gv
[i + 1] == '{')

1188 
i
++;

1189 
	`∑r£_ª≥©_cou¡
 (
i
, 
p
, 
¨gv
[i]);

1192 
	}
}

1197 íum { 
	mFLAG_THOUSANDS
 = 1, 
	mFLAG_ALTERNATIVE
 = 2 };

1201 
size_t


1202 
	$gë_f‹m©_Êags
 (c⁄° *
f‹m©
, *
Êags_±r
)

1204 
Êags
 = 0;

1206 
size_t
 
cou¡
 = 0; ; count++)

1208 
f‹m©
[
cou¡
])

1215 
Êags
 |
FLAG_THOUSANDS
;

1219 
Êags
 |
FLAG_ALTERNATIVE
;

1223 *
Êags_±r
 = 
Êags
;

1224  
cou¡
;

1227 
	}
}

1233 
	$check_f‹m©_c⁄v_ty≥
 (*
f‹m©
, 
Êags
)

1235 
ch
 = *
f‹m©
;

1236 
com∑tibÀ_Êags
 = 
FLAG_THOUSANDS
;

1238 
ch
)

1242 *
f‹m©
 = 'u';

1251 
com∑tibÀ_Êags
 = 
FLAG_ALTERNATIVE
;

1255 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("missing conversion specifier in suffix"));

1259 i‡(
	`i•röt
 (
ch
))

1260 
	`îr‹
 (
EXIT_FAILURE
, 0,

1261 
	`_
("övÆid c⁄vîsi⁄ s≥cifõ∏ö suffix: %c"), 
ch
);

1263 
	`îr‹
 (
EXIT_FAILURE
, 0,

1264 
	`_
("övÆid c⁄vîsi⁄ s≥cifõ∏ö suffix: \\%.3o"), 
ch
);

1267 i‡(
Êags
 & ~ 
com∑tibÀ_Êags
)

1268 
	`îr‹
 (
EXIT_FAILURE
, 0,

1269 
	`_
("invalid flags in conversion specification: %%%c%c"),

1270 (
Êags
 & ~ 
com∑tibÀ_Êags
 & 
FLAG_ALTERNATIVE
 ? '#' : '\''), 
ch
);

1271 
	}
}

1276 
size_t


1277 
	$max_out
 (*
f‹m©
)

1279 
boﬁ
 
≥r˚¡
 = 
Ál£
;

1281 *
f
 = 
f‹m©
; *f; f++)

1282 i‡(*
f
 == '%' && *++f != '%')

1284 i‡(
≥r˚¡
)

1285 
	`îr‹
 (
EXIT_FAILURE
, 0,

1286 
	`_
("too many %% conversion specifications in suffix"));

1287 
≥r˚¡
 = 
åue
;

1288 
Êags
;

1289 
f
 +
	`gë_f‹m©_Êags
 (f, &
Êags
);

1290 
	`ISDIGIT
 (*
f
))

1291 
f
++;

1292 i‡(*
f
 == '.')

1293 
	`ISDIGIT
 (*++
f
))

1295 
	`check_f‹m©_c⁄v_ty≥
 (
f
, 
Êags
);

1298 i‡(! 
≥r˚¡
)

1299 
	`îr‹
 (
EXIT_FAILURE
, 0,

1300 
	`_
("missing %% conversion specification in suffix"));

1302 
maxÀn
 = 
	`¢¥ötf
 (
NULL
, 0, 
f‹m©
, 
UINT_MAX
);

1303 i‡(! (0 <
maxÀn
 && maxÀ¿<
SIZE_MAX
))

1304 
	`xÆloc_dõ
 ();

1305  
maxÀn
;

1306 
	}
}

1309 
	$maö
 (
¨gc
, **
¨gv
)

1311 
›tc
;

1312 
vÆ
;

1314 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1315 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1316 
	`£éoˇÀ
 (
LC_ALL
, "");

1317 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1318 
	`ãxtdomaö
 (
PACKAGE
);

1320 
	`©exô
 (
˛o£_°dout
);

1322 
globÆ_¨gv
 = 
¨gv
;

1323 
c⁄åﬁs
 = 
NULL
;

1324 
c⁄åﬁ_u£d
 = 0;

1325 
suµªss_cou¡
 = 
Ál£
;

1326 
ªmove_fûes
 = 
åue
;

1327 
¥efix
 = 
DEFAULT_PREFIX
;

1329 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "f:b:kn:sqz", 
l⁄g›ts
, 
NULL
)) != -1)

1330 
›tc
)

1333 
¥efix
 = 
›èrg
;

1337 
suffix
 = 
›èrg
;

1341 
ªmove_fûes
 = 
Ál£
;

1345 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
vÆ
, ""Ë!
LONGINT_OK


1346 || 
	`MIN
 (
INT_MAX
, 
SIZE_MAX
Ë< 
vÆ
)

1347 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆidÇumbî"), 
›èrg
);

1348 
digôs
 = 
vÆ
;

1353 
suµªss_cou¡
 = 
åue
;

1357 
ñide_em±y_fûes
 = 
åue
;

1360 
ˇ£_GETOPT_HELP_CHAR
;

1362 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1365 
	`ußge
 (
EXIT_FAILURE
);

1368 i‡(
¨gc
 - 
›töd
 < 2)

1370 i‡(
¨gc
 <
›töd
)

1371 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

1373 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

1374 
	`ußge
 (
EXIT_FAILURE
);

1377 
size_t
 
¥efix_Àn
 = 
	`°æí
 (
¥efix
);

1378 
size_t
 
max_digô_°rög_Àn


1379 (
suffix


1380 ? 
	`max_out
 (
suffix
)

1381 : 
	`MAX
 (
	`INT_STRLEN_BOUND
 (), 
digôs
));

1382 i‡(
SIZE_MAX
 - 1 - 
¥efix_Àn
 < 
max_digô_°rög_Àn
)

1383 
	`xÆloc_dõ
 ();

1384 
fûíame_•a˚
 = 
	`xmÆloc
 (
¥efix_Àn
 + 
max_digô_°rög_Àn
 + 1);

1386 
	`£t_öput_fûe
 (
¨gv
[
›töd
++]);

1388 
	`∑r£_∑âîns
 (
¨gc
, 
›töd
, 
¨gv
);

1391 
i
;

1392 c⁄° 
sig
[] =

1395 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

1396 #ifde‡
SIGPOLL


1397 
SIGPOLL
,

1399 #ifde‡
SIGPROF


1400 
SIGPROF
,

1402 #ifde‡
SIGVTALRM


1403 
SIGVTALRM
,

1405 #ifde‡
SIGXCPU


1406 
SIGXCPU
,

1408 #ifde‡
SIGXFSZ


1409 
SIGXFSZ
,

1412 íum { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

1414 
siga˘i⁄
 
a˘
;

1416 
	`sigem±y£t
 (&
ˇught_sig«ls
);

1417 
i
 = 0; i < 
nsigs
; i++)

1419 
	`siga˘i⁄
 (
sig
[
i
], 
NULL
, &
a˘
);

1420 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

1421 
	`sigadd£t
 (&
ˇught_sig«ls
, 
sig
[
i
]);

1424 
a˘
.
ß_h™dÀr
 = 
öãºu±_h™dÀr
;

1425 
a˘
.
ß_mask
 = 
ˇught_sig«ls
;

1426 
a˘
.
ß_Êags
 = 0;

1428 
i
 = 0; i < 
nsigs
; i++)

1429 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
sig
[
i
]))

1430 
	`siga˘i⁄
 (
sig
[
i
], &
a˘
, 
NULL
);

1433 
	`•lô_fûe
 ();

1435 i‡(
	`˛o£
 (
STDIN_FILENO
) != 0)

1437 
	`îr‹
 (0, 
î∫o
, 
	`_
("readÉrror"));

1438 
	`˛ónup_Áèl
 ();

1441 
	`exô
 (
EXIT_SUCCESS
);

1442 
	}
}

1445 
	$ußge
 (
°©us
)

1447 i‡(
°©us
 !
EXIT_SUCCESS
)

1448 
	`emô_åy_hñp
 ();

1451 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... FILE PATTERN...\n\
"),

1454 
¥ogøm_«me
);

1455 
	`Âuts
 (
	`_
("\
Öõ˚†o‡FILE sï¨©ed by PATTERN(sËtÿfûe†'xx00', 'xx01', ...,\n\
 ouçuàbyã cou¡†o‡óchÖõ˚Åÿ°™d¨d ouçut.\n\
"), 
°dout
);

1460 
	`emô_m™d©‹y_¨g_nŸe
 ();

1462 
	`Âuts
 (
	`_
("\
-b, --suffix-f‹m©=FORMAT u£ s¥öt‡FORMAT in°ód o‡%02d\n\
-f, --¥efix=PREFIX u£ PREFIX in°ód o‡'xx'\n\
-k, --kìp-fûe† dÿnŸÑemovêouçuàfûe†⁄Éº‹s\n\
"), 
°dout
);

1467 
	`Âuts
 (
	`_
("\
-n, --digôs=DIGITS u£ s≥cifõdÇumbî o‡digô†ö°ód o‡2\n\
-s, --quõt, --sûíà dÿnŸÖröàcou¡†o‡ouçuàfûêsizes\n\
-z, --ñide-em±y-fûe†Ñemovêem±y ouçuàfûes\n\
"), 
°dout
);

1472 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

1473 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

1474 
	`Âuts
 (
	`_
("\
\n\
 sènd¨d i≈uài‡FILE i†-. Each PATTERN may be:\n\
"), 
°dout
);

1478 
	`Âuts
 (
	`_
("\
\n\
 c›y u∞tÿbuànŸ in˛udög s≥cifõdÜöênumbî\n\
/REGEXP/[OFFSET] c›y u∞tÿbuànŸ in˛udögá m©chögÜöe\n\
%REGEXP%[OFFSET] skùÅo, buànŸ in˛udögá m©chögÜöe\n\
{INTEGER}Ñïóàthê¥eviou†∑âî¿•ecifõdÇumbî o‡times\n\
{*}Ñïóàthê¥eviou†∑âî¿a†m™yÅime†a†possibÀ\n\
\n\
ÜöêOFFSET i†®ªquúed '+' o∏'-' fﬁlowed byáÖosôivêöãgî.\n\
"), 
°dout
);

1488 
	`emô_™cûœry_öfo
 ();

1490 
	`exô
 (
°©us
);

1491 
	}
}

	@cut.c

25 
	~<c⁄fig.h
>

27 
	~<°dio.h
>

28 
	~<as£π.h
>

29 
	~<gë›t.h
>

30 
	~<sys/ty≥s.h
>

31 
	~"sy°em.h
"

33 
	~"îr‹.h
"

34 
	~"Ádvi£.h
"

35 
	~"gëndñim2.h
"

36 
	~"hash.h
"

37 
	~"quŸe.h
"

38 
	~"x°∫dup.h
"

41 
	#PROGRAM_NAME
 "cut"

	)

43 
	#AUTHORS
 \

44 
	`¥›î_«me
 ("David M. Ihnat"), \

45 
	`¥›î_«me
 ("David MacKenzie"), \

46 
	`¥›î_«me
 ("Jim Meyîög")

	)

48 
	#FATAL_ERROR
(
Mesßge
) \

51 
	`îr‹
 (0, 0, (
Mesßge
)); \

52 
	`ußge
 (
EXIT_FAILURE
); \

54 0)

	)

60 
	#ADD_RANGE_PAIR
(
Ω
, 
low
, 
high
) \

63 i‡(
low
 =0 || 
high
 == 0) \

64 
	`FATAL_ERROR
 (
	`_
("fieldsándÖositionsáreÇumbered from 1")); \

65 i‡(
n_Ω
 >
n_Ω_Æloˇãd
) \

67 (
Ω
Ë
	`X2NREALLOC
 (Ω, &
n_Ω_Æloˇãd
); \

69 
Ω
[
n_Ω
].
lo
 = (
low
); \

70 
Ω
[
n_Ω
].
hi
 = (
high
); \

71 ++
n_Ω
; \

73 0)

	)

75 
	sønge_∑ú


77 
size_t
 
	mlo
;

78 
size_t
 
	mhi
;

88 *
	gfõld_1_buf„r
;

91 
size_t
 
	gfõld_1_bufsize
;

97 
size_t
 
	gmax_ønge_ídpoöt
;

101 
size_t
 
	geﬁ_ønge_°¨t
;

111 *
	g¥öèbÀ_fõld
;

113 
	e›î©ög_mode


115 
	mundeföed_mode
,

118 
	mbyã_mode
,

121 
	mfõld_mode


124 
›î©ög_mode
 
	g›î©ög_mode
;

129 
boﬁ
 
	gsuµªss_n⁄_dñimôed
;

133 
boﬁ
 
	gcom∂emít
;

136 
	gdñim
;

139 
boﬁ
 
	gouçut_dñimôî_•ecifõd
;

142 
size_t
 
	gouçut_dñimôî_Àngth
;

146 *
	gouçut_dñimôî_°rög
;

149 
boﬁ
 
	ghave_ªad_°dö
;

151 
	#HT_RANGE_START_INDEX_INITIAL_CAPACITY
 31

	)

158 
Hash_èbÀ
 *
	gønge_°¨t_ht
;

164 
	mOUTPUT_DELIMITER_OPTION
 = 
CHAR_MAX
 + 1,

165 
	mCOMPLEMENT_OPTION


168 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

170 {"byãs", 
ªquúed_¨gumít
, 
NULL
, 'b'},

171 {"ch¨a˘îs", 
ªquúed_¨gumít
, 
NULL
, 'c'},

172 {"fõlds", 
ªquúed_¨gumít
, 
NULL
, 'f'},

173 {"dñimôî", 
ªquúed_¨gumít
, 
NULL
, 'd'},

174 {"⁄ly-dñimôed", 
no_¨gumít
, 
NULL
, 's'},

175 {"ouçut-dñimôî", 
ªquúed_¨gumít
, 
NULL
, 
OUTPUT_DELIMITER_OPTION
},

176 {"com∂emít", 
no_¨gumít
, 
NULL
, 
COMPLEMENT_OPTION
},

177 {
GETOPT_HELP_OPTION_DECL
},

178 {
GETOPT_VERSION_OPTION_DECL
},

179 {
NULL
, 0, NULL, 0}

183 
	$ußge
 (
°©us
)

185 i‡(
°©us
 !
EXIT_SUCCESS
)

186 
	`emô_åy_hñp
 ();

189 
	`¥ötf
 (
	`_
("\
: %s OPTION... [FILE]...\n\
"),

192 
¥ogøm_«me
);

193 
	`Âuts
 (
	`_
("\
 sñe˘edÖ¨t†o‡löe†‰omÉach FILEÅÿ°™d¨d ouçut.\n\
"), 
°dout
);

197 
	`emô_m™d©‹y_¨g_nŸe
 ();

199 
	`Âuts
 (
	`_
("\
-b, --byãs=LIST sñe˘ o∆yÅhe£ byãs\n\
-c, --ch¨a˘îs=LIST sñe˘ o∆yÅhe£ ch¨a˘îs\n\
-d, --dñimôî=DELIM u£ DELIM in°ód o‡TAB f‹ fõld dñimôî\n\
"), 
°dout
);

204 
	`Âuts
 (
	`_
("\
-f, --fõlds=LIST sñe˘ o∆yÅhe£ fõlds;álsÿ¥öà™yÜöe\n\
 c⁄èö†nÿdñimôî ch¨a˘î, u∆ess\n\
 -†›ti⁄ i†•ecifõd\n\
-¿ (ign‹ed)\n\
"), 
°dout
);

210 
	`Âuts
 (
	`_
("\
--com∂emíà com∂emíàthê£ào‡£À˘ed byãs, ch¨a˘îs\n\
 fõlds\n\
"), 
°dout
);

214 
	`Âuts
 (
	`_
("\
-s, --⁄ly-dñimôed dÿnŸÖröàlöe†nŸ c⁄èöög dñimôîs\n\
--ouçut-dñimôî=STRING u£ STRINGá†thêouçuàdñimôî\n\
 deÁu… i†tÿu£Åhêöpuàdñimôî\n\
"), 
°dout
);

219 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

220 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

221 
	`Âuts
 (
	`_
("\
\n\
 o√,ánd o∆y o√ o‡-b, -¯‹ -f. Each LIST i†madêu∞o‡⁄e\n\
, o∏m™yÑ™ge†£∑øãd by commas. Sñe˘ed i≈uài†wrôãn\n\
Åhêßmê‹dîÅh© iài†ªad,ánd i†wrôã¿exa˘ly on˚.\n\
"), 
°dout
);

227 
	`Âuts
 (
	`_
("\
Ñ™gêi†⁄êof:\n\
\n\
 N'th byã, ch¨a˘î o∏fõld, cou¡ed from 1\n\
- from N'th byã, ch¨a˘î o∏fõld,Åÿíd o‡löe\n\
-M from N'thÅÿM'th (ö˛udedËbyã, ch¨a˘î o∏fõld\n\
-M from fú°ÅÿM'th (ö˛udedËbyã, ch¨a˘î o∏fõld\n\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

237 
	`emô_™cûœry_öfo
 ();

239 
	`exô
 (
°©us
);

240 
	}
}

242 
ölöe
 

243 
	$m¨k_ønge_°¨t
 (
size_t
 
i
)

246 *
ít_‰om_èbÀ
 = 
	`hash_ö£π
 (
ønge_°¨t_ht
, (*Ë
i
);

247 i‡(
ít_‰om_èbÀ
 =
NULL
)

250 
	`xÆloc_dõ
 ();

252 
	`as£π
 ((
size_t
Ë
ít_‰om_èbÀ
 =
i
);

253 
	}
}

255 
ölöe
 

256 
	$m¨k_¥öèbÀ_fõld
 (
size_t
 
i
)

258 
size_t
 
n
 = 
i
 / 
CHAR_BIT
;

259 
¥öèbÀ_fõld
[
n
] |(1 << (
i
 % 
CHAR_BIT
));

260 
	}
}

262 
ölöe
 
boﬁ


263 
	$is_¥öèbÀ_fõld
 (
size_t
 
i
)

265 
size_t
 
n
 = 
i
 / 
CHAR_BIT
;

266  (
¥öèbÀ_fõld
[
n
] >> (
i
 % 
CHAR_BIT
)) & 1;

267 
	}
}

269 
size_t


270 
	$hash_öt
 (c⁄° *
x
, 
size_t
 
èbÀsize
)

272 #ifde‡
UINTPTR_MAX


273 
uöçå_t
 
y
 = (uöçå_tË
x
;

275 
size_t
 
y
 = (size_tË
x
;

277  
y
 % 
èbÀsize
;

278 
	}
}

280 
boﬁ


281 
	$hash_com∑ª_öts
 (c⁄° *
x
, c⁄° *
y
)

283  (
x
 =
y
Ë? 
åue
 : 
Ál£
;

284 
	}
}

286 
boﬁ


287 
	$is_ønge_°¨t_ödex
 (
size_t
 
i
)

289  
	`hash_lookup
 (
ønge_°¨t_ht
, (*Ë
i
Ë? 
åue
 : 
Ál£
;

290 
	}
}

297 
boﬁ


298 
	$¥öt_kth
 (
size_t
 
k
, 
boﬁ
 *
ønge_°¨t
)

300 
boﬁ
 
k_£À˘ed


301 ((0 < 
eﬁ_ønge_°¨t
 &&Éﬁ_ønge_°¨à<
k
)

302 || (
k
 <
max_ønge_ídpoöt
 && 
	`is_¥öèbÀ_fõld
 (k)));

304 
boﬁ
 
is_£À˘ed
 = 
k_£À˘ed
 ^ 
com∂emít
;

305 i‡(
ønge_°¨t
 && 
is_£À˘ed
)

306 *
ønge_°¨t
 = 
	`is_ønge_°¨t_ödex
 (
k
);

308  
is_£À˘ed
;

309 
	}
}

314 
	$com∑ª_ønges
 (c⁄° *
a
, c⁄° *
b
)

316 
a_°¨t
 = ((c⁄° 
ønge_∑ú
 *Ë
a
)->
lo
;

317 
b_°¨t
 = ((c⁄° 
ønge_∑ú
 *Ë
b
)->
lo
;

318  
a_°¨t
 < 
b_°¨t
 ? -1 :á_start > b_start;

319 
	}
}

340 
boﬁ


341 
	$£t_fõlds
 (c⁄° *
fõld°r
)

343 
size_t
 
öôül
 = 1;

344 
size_t
 
vÆue
 = 0;

345 
boﬁ
 
lhs_•ecifõd
 = 
Ál£
;

346 
boﬁ
 
rhs_•ecifõd
 = 
Ál£
;

347 
boﬁ
 
dash_found
 = 
Ál£
;

348 
boﬁ
 
fõld_found
 = 
Ál£
;

351 
ønge_∑ú
 *
Ω
 = 
NULL
;

352 
size_t
 
n_Ω
 = 0;

353 
size_t
 
n_Ω_Æloˇãd
 = 0;

354 
size_t
 
i
;

355 
boﬁ
 
ö_digôs
 = 
Ál£
;

360 
åue
)

362 i‡(*
fõld°r
 == '-')

364 
ö_digôs
 = 
Ál£
;

366 i‡(
dash_found
)

367 
	`FATAL_ERROR
 (
	`_
("invalid byte, character or fieldÜist"));

368 
dash_found
 = 
åue
;

369 
fõld°r
++;

371 i‡(
lhs_•ecifõd
 && !
vÆue
)

372 
	`FATAL_ERROR
 (
	`_
("fieldsándÖositionsáreÇumbered from 1"));

374 
öôül
 = (
lhs_•ecifõd
 ? 
vÆue
 : 1);

375 
vÆue
 = 0;

377 i‡(*
fõld°r
 == ','

378 || 
	`isbœnk
 (
	`to_uch¨
 (*
fõld°r
)) || *fieldstr == '\0')

380 
ö_digôs
 = 
Ál£
;

382 i‡(
dash_found
)

384 
dash_found
 = 
Ál£
;

386 i‡(!
lhs_•ecifõd
 && !
rhs_•ecifõd
)

387 
	`FATAL_ERROR
 (
	`_
("invalidÑange withÇoÉndpoint: -"));

391 i‡(!
rhs_•ecifõd
)

395 i‡(
eﬁ_ønge_°¨t
 =0 || 
öôül
 <Éol_range_start)

396 
eﬁ_ønge_°¨t
 = 
öôül
;

397 
fõld_found
 = 
åue
;

402 i‡(
vÆue
 < 
öôül
)

403 
	`FATAL_ERROR
 (
	`_
("invalid decreasingÑange"));

406 i‡(
eﬁ_ønge_°¨t
 != 0)

411 i‡(
öôül
 < 
eﬁ_ønge_°¨t
)

416 i‡(
eﬁ_ønge_°¨t
 <
vÆue
)

419 
eﬁ_ønge_°¨t
 = 
öôül
;

425 
	`ADD_RANGE_PAIR
 (
Ω
, 
öôül
, 
vÆue
);

429 
fõld_found
 = 
åue
;

435 
	`ADD_RANGE_PAIR
 (
Ω
, 
öôül
, 
vÆue
);

436 
fõld_found
 = 
åue
;

438 
vÆue
 = 0;

444 
	`ADD_RANGE_PAIR
 (
Ω
, 
vÆue
, value);

445 
vÆue
 = 0;

446 
fõld_found
 = 
åue
;

449 i‡(*
fõld°r
 == '\0')

454 
fõld°r
++;

455 
lhs_•ecifõd
 = 
Ál£
;

456 
rhs_•ecifõd
 = 
Ál£
;

458 i‡(
	`ISDIGIT
 (*
fõld°r
))

462 c⁄° *
num_°¨t
;

463 i‡(!
ö_digôs
 || !
num_°¨t
)

464 
num_°¨t
 = 
fõld°r
;

465 
ö_digôs
 = 
åue
;

467 i‡(
dash_found
)

468 
rhs_•ecifõd
 = 1;

470 
lhs_•ecifõd
 = 1;

473 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
vÆue
, *
fõld°r
 - '0', 
size_t
))

478 
size_t
 
Àn
 = 
	`°r•n
 (
num_°¨t
, "0123456789");

479 *
bad_num
 = 
	`x°∫dup
 (
num_°¨t
, 
Àn
);

480 i‡(
›î©ög_mode
 =
byã_mode
)

481 
	`îr‹
 (0, 0,

482 
	`_
("byã off£à%†i†toÿœrge"), 
	`quŸe
 (
bad_num
));

484 
	`îr‹
 (0, 0,

485 
	`_
("fõldÇumbî %†i†toÿœrge"), 
	`quŸe
 (
bad_num
));

486 
	`‰ì
 (
bad_num
);

487 
	`exô
 (
EXIT_FAILURE
);

490 
fõld°r
++;

493 
	`FATAL_ERROR
 (
	`_
("invalid byte, character or fieldÜist"));

496 
max_ønge_ídpoöt
 = 0;

497 
i
 = 0; i < 
n_Ω
; i++)

499 i‡(
Ω
[
i
].
hi
 > 
max_ønge_ídpoöt
)

500 
max_ønge_ídpoöt
 = 
Ω
[
i
].
hi
;

507 i‡(
max_ønge_ídpoöt
)

508 
¥öèbÀ_fõld
 = 
	`xzÆloc
 (
max_ønge_ídpoöt
 / 
CHAR_BIT
 + 1);

510 
	`qs‹t
 (
Ω
, 
n_Ω
,  (Ω[0]), 
com∑ª_ønges
);

513 
i
 = 0; i < 
n_Ω
; i++)

516 i‡(
eﬁ_ønge_°¨t
 &&Éﬁ_ønge_°¨à<
Ω
[
i
].
lo
)

521 
size_t
 
rsi_ˇndid©e
 = 
com∂emít
 ? 
Ω
[
i
].
hi
 + 1 :Ñp[i].
lo
;

522 i‡(
ouçut_dñimôî_•ecifõd


523 && !
	`is_¥öèbÀ_fõld
 (
rsi_ˇndid©e
))

524 
	`m¨k_ønge_°¨t
 (
rsi_ˇndid©e
);

526 
size_t
 
j
 = 
Ω
[
i
].
lo
; j <Ω[i].
hi
; j++)

527 
	`m¨k_¥öèbÀ_fõld
 (
j
);

530 i‡(
ouçut_dñimôî_•ecifõd


531 && !
com∂emít


532 && 
eﬁ_ønge_°¨t


533 && 
max_ønge_ídpoöt


534 && (
max_ønge_ídpoöt
 < 
eﬁ_ønge_°¨t


535 || !
	`is_¥öèbÀ_fõld
 (
eﬁ_ønge_°¨t
)))

536 
	`m¨k_ønge_°¨t
 (
eﬁ_ønge_°¨t
);

538 
	`‰ì
 (
Ω
);

540  
fõld_found
;

541 
	}
}

546 
	$cut_byãs
 (
FILE
 *
°ªam
)

548 
size_t
 
byã_idx
;

551 
boﬁ
 
¥öt_dñimôî
;

553 
byã_idx
 = 0;

554 
¥öt_dñimôî
 = 
Ál£
;

557 
c
;

559 
c
 = 
	`gëc
 (
°ªam
);

561 i‡(
c
 == '\n')

563 
	`putch¨
 ('\n');

564 
byã_idx
 = 0;

565 
¥öt_dñimôî
 = 
Ál£
;

567 i‡(
c
 =
EOF
)

569 i‡(
byã_idx
 > 0)

570 
	`putch¨
 ('\n');

575 
boﬁ
 
ønge_°¨t
;

576 
boﬁ
 *
rs
 = 
ouçut_dñimôî_•ecifõd
 ? &
ønge_°¨t
 : 
NULL
;

577 i‡(
	`¥öt_kth
 (++
byã_idx
, 
rs
))

579 i‡(
rs
 && *r†&& 
¥öt_dñimôî
)

581 
	`fwrôe
 (
ouçut_dñimôî_°rög
,  (),

582 
ouçut_dñimôî_Àngth
, 
°dout
);

584 
¥öt_dñimôî
 = 
åue
;

585 
	`putch¨
 (
c
);

589 
	}
}

594 
	$cut_fõlds
 (
FILE
 *
°ªam
)

596 
c
;

597 
size_t
 
fõld_idx
 = 1;

598 
boﬁ
 
found_™y_£À˘ed_fõld
 = 
Ál£
;

599 
boﬁ
 
buf„r_fú°_fõld
;

601 
c
 = 
	`gëc
 (
°ªam
);

602 i‡(
c
 =
EOF
)

605 
	`ungëc
 (
c
, 
°ªam
);

606 
c
 = 0;

614 
buf„r_fú°_fõld
 = (
suµªss_n⁄_dñimôed
 ^ !
	`¥öt_kth
 (1, 
NULL
));

618 i‡(
fõld_idx
 =1 && 
buf„r_fú°_fõld
)

620 
ssize_t
 
Àn
;

621 
size_t
 
n_byãs
;

622 
boﬁ
 
gŸ_löe
;

624 
Àn
 = 
	`gëndñim2
 (&
fõld_1_buf„r
, &
fõld_1_bufsize
, 0,

625 
GETNLINE_NO_LIMIT
, 
dñim
, '\n', 
°ªam
);

626 i‡(
Àn
 < 0)

628 
	`‰ì
 (
fõld_1_buf„r
);

629 
fõld_1_buf„r
 = 
NULL
;

630 i‡(
	`„º‹
 (
°ªam
Ë|| 
	`„of
 (stream))

632 
	`xÆloc_dõ
 ();

635 
n_byãs
 = 
Àn
;

636 
	`as£π
 (
n_byãs
 != 0);

638 
c
 = 0;

639 
gŸ_löe
 = 
fõld_1_buf„r
[
n_byãs
 - 1] == '\n';

644 i‡(
	`to_uch¨
 (
fõld_1_buf„r
[
n_byãs
 - 1]Ë!
dñim
 || 
gŸ_löe
)

646 i‡(
suµªss_n⁄_dñimôed
 && !(
gŸ_löe
 && 
dñim
 == '\n'))

652 
	`fwrôe
 (
fõld_1_buf„r
,  (), 
n_byãs
, 
°dout
);

654 i‡(! 
gŸ_löe
)

655 
	`putch¨
 ('\n');

656 
c
 = '\n';

660 i‡(
	`¥öt_kth
 (1, 
NULL
))

663 
	`fwrôe
 (
fõld_1_buf„r
,  (), 
n_byãs
 - 1, 
°dout
);

664 
found_™y_£À˘ed_fõld
 = 
åue
;

666 ++
fõld_idx
;

669 
¥ev_c
 = 
c
;

671 i‡(
	`¥öt_kth
 (
fõld_idx
, 
NULL
))

673 i‡(
found_™y_£À˘ed_fõld
)

675 
	`fwrôe
 (
ouçut_dñimôî_°rög
,  (),

676 
ouçut_dñimôî_Àngth
, 
°dout
);

678 
found_™y_£À˘ed_fõld
 = 
åue
;

680 (
c
 = 
	`gëc
 (
°ªam
)Ë!
dñim
 && c !'\n' && c !
EOF
)

682 
	`putch¨
 (
c
);

683 
¥ev_c
 = 
c
;

688 (
c
 = 
	`gëc
 (
°ªam
)Ë!
dñim
 && c !'\n' && c !
EOF
)

690 
¥ev_c
 = 
c
;

694 i‡(
c
 ='\n' || c =
EOF
)

696 i‡(
found_™y_£À˘ed_fõld


697 || !(
suµªss_n⁄_dñimôed
 && 
fõld_idx
 == 1))

699 i‡(
c
 ='\n' || 
¥ev_c
 != '\n')

700 
	`putch¨
 ('\n');

702 i‡(
c
 =
EOF
)

704 
fõld_idx
 = 1;

705 
found_™y_£À˘ed_fõld
 = 
Ál£
;

707 i‡(
c
 =
dñim
)

708 
fõld_idx
++;

710 
	}
}

713 
	$cut_°ªam
 (
FILE
 *
°ªam
)

715 i‡(
›î©ög_mode
 =
byã_mode
)

716 
	`cut_byãs
 (
°ªam
);

718 
	`cut_fõlds
 (
°ªam
);

719 
	}
}

724 
boﬁ


725 
	$cut_fûe
 (c⁄° *
fûe
)

727 
FILE
 *
°ªam
;

729 i‡(
	`STREQ
 (
fûe
, "-"))

731 
have_ªad_°dö
 = 
åue
;

732 
°ªam
 = 
°dö
;

736 
°ªam
 = 
	`f›í
 (
fûe
, "r");

737 i‡(
°ªam
 =
NULL
)

739 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

740  
Ál£
;

744 
	`Ádvi£
 (
°ªam
, 
FADVISE_SEQUENTIAL
);

746 
	`cut_°ªam
 (
°ªam
);

748 i‡(
	`„º‹
 (
°ªam
))

750 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

751  
Ál£
;

753 i‡(
	`STREQ
 (
fûe
, "-"))

754 
	`˛óªº
 (
°ªam
);

755 i‡(
	`f˛o£
 (
°ªam
Ë=
EOF
)

757 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

758  
Ál£
;

760  
åue
;

761 
	}
}

764 
	$maö
 (
¨gc
, **
¨gv
)

766 
›tc
;

767 
boﬁ
 
ok
;

768 
boﬁ
 
dñim_•ecifõd
 = 
Ál£
;

769 *
•ec_li°_°rög
 
	`IF_LINT
 ( = 
NULL
);

771 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

772 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

773 
	`£éoˇÀ
 (
LC_ALL
, "");

774 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

775 
	`ãxtdomaö
 (
PACKAGE
);

777 
	`©exô
 (
˛o£_°dout
);

779 
›î©ög_mode
 = 
undeföed_mode
;

782 
suµªss_n⁄_dñimôed
 = 
Ál£
;

784 
dñim
 = '\0';

785 
have_ªad_°dö
 = 
Ál£
;

787 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "b:c:d:f:ns", 
l⁄g›ts
, 
NULL
)) != -1)

789 
›tc
)

794 i‡(
›î©ög_mode
 !
undeföed_mode
)

795 
	`FATAL_ERROR
 (
	`_
("only oneÅype ofÜist may be specified"));

796 
›î©ög_mode
 = 
byã_mode
;

797 
•ec_li°_°rög
 = 
›èrg
;

802 i‡(
›î©ög_mode
 !
undeföed_mode
)

803 
	`FATAL_ERROR
 (
	`_
("only oneÅype ofÜist may be specified"));

804 
›î©ög_mode
 = 
fõld_mode
;

805 
•ec_li°_°rög
 = 
›èrg
;

811 i‡(
›èrg
[0] != '\0' && optarg[1] != '\0')

812 
	`FATAL_ERROR
 (
	`_
("the delimiter must beá single character"));

813 
dñim
 = 
›èrg
[0];

814 
dñim_•ecifõd
 = 
åue
;

817 
OUTPUT_DELIMITER_OPTION
:

818 
ouçut_dñimôî_•ecifõd
 = 
åue
;

821 
ouçut_dñimôî_Àngth
 = (
›èrg
[0] == '\0'

822 ? 1 : 
	`°æí
 (
›èrg
));

823 
ouçut_dñimôî_°rög
 = 
	`x°rdup
 (
›èrg
);

830 
suµªss_n⁄_dñimôed
 = 
åue
;

833 
COMPLEMENT_OPTION
:

834 
com∂emít
 = 
åue
;

837 
ˇ£_GETOPT_HELP_CHAR
;

839 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

842 
	`ußge
 (
EXIT_FAILURE
);

846 i‡(
›î©ög_mode
 =
undeföed_mode
)

847 
	`FATAL_ERROR
 (
	`_
("you must specifyáÜist of bytes, characters, or fields"));

849 i‡(
dñim_•ecifõd
 && 
›î©ög_mode
 !
fõld_mode
)

850 
	`FATAL_ERROR
 (
	`_
("an input delimiter may be specified only\
 operating on fields"));

853 i‡(
suµªss_n⁄_dñimôed
 && 
›î©ög_mode
 !
fõld_mode
)

854 
	`FATAL_ERROR
 (
	`_
("suppressingÇon-delimitedÜines makes sense\n\
\tonly when operating on fields"));

857 i‡(
ouçut_dñimôî_•ecifõd
)

859 
ønge_°¨t_ht
 = 
	`hash_öôülize
 (
HT_RANGE_START_INDEX_INITIAL_CAPACITY
,

860 
NULL
, 
hash_öt
,

861 
hash_com∑ª_öts
, 
NULL
);

862 i‡(
ønge_°¨t_ht
 =
NULL
)

863 
	`xÆloc_dõ
 ();

867 i‡(! 
	`£t_fõlds
 (
•ec_li°_°rög
))

869 i‡(
›î©ög_mode
 =
fõld_mode
)

870 
	`FATAL_ERROR
 (
	`_
("missingÜist of fields"));

872 
	`FATAL_ERROR
 (
	`_
("missingÜist ofÖositions"));

875 i‡(!
dñim_•ecifõd
)

876 
dñim
 = '\t';

878 i‡(
ouçut_dñimôî_°rög
 =
NULL
)

880 
dummy
[2];

881 
dummy
[0] = 
dñim
;

882 
dummy
[1] = '\0';

883 
ouçut_dñimôî_°rög
 = 
dummy
;

884 
ouçut_dñimôî_Àngth
 = 1;

887 i‡(
›töd
 =
¨gc
)

888 
ok
 = 
	`cut_fûe
 ("-");

890 
ok
 = 
åue
; 
›töd
 < 
¨gc
; optind++)

891 
ok
 &
	`cut_fûe
 (
¨gv
[
›töd
]);

893 i‡(
ønge_°¨t_ht
)

894 
	`hash_‰ì
 (
ønge_°¨t_ht
);

896 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

898 
	`îr‹
 (0, 
î∫o
, "-");

899 
ok
 = 
Ál£
;

902 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

903 
	}
}

	@date.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 #i‡
HAVE_LANGINFO_CODESET


24 
	~<œngöfo.h
>

27 
	~"sy°em.h
"

28 
	~"¨gm©ch.h
"

29 
	~"îr‹.h
"

30 
	~"∑r£-d©ëime.h
"

31 
	~"posixtm.h
"

32 
	~"quŸe.h
"

33 
	~"°©-time.h
"

34 
	~"Âröt·ime.h
"

37 
	#PROGRAM_NAME
 "d©e"

	)

39 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

41 
boﬁ
 
show_d©e
 (c⁄° *
f‹m©
, 
time•ec
 
whí
);

43 
	eTime_•ec


46 
	mTIME_SPEC_DATE
,

48 
	mTIME_SPEC_SECONDS
,

50 
	mTIME_SPEC_NS
,

55 
	mTIME_SPEC_HOURS
,

57 
	mTIME_SPEC_MINUTES


60 c⁄° *c⁄° 
	gtime_•ec_°rög
[] =

65 "d©e", "£c⁄ds", "ns", 
NULL


67 
Time_•ec
 c⁄° 
	gtime_•ec
[] =

69 
TIME_SPEC_HOURS
, 
TIME_SPEC_MINUTES
,

70 
TIME_SPEC_DATE
, 
TIME_SPEC_SECONDS
, 
TIME_SPEC_NS


72 
ARGMATCH_VERIFY
 (
time_•ec_°rög
, 
time_•ec
);

75 c⁄° 
	grfc_2822_f‹m©
[] = "%a, %d %b %Y %H:%M:%S %z";

81 
	mRFC_3339_OPTION
 = 
CHAR_MAX
 + 1

84 c⁄° 
	gsh‹t_›ti⁄s
[] = "d:f:I::r:Rs:u";

86 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

88 {"d©e", 
ªquúed_¨gumít
, 
NULL
, 'd'},

89 {"fûe", 
ªquúed_¨gumít
, 
NULL
, 'f'},

90 {"iso-8601", 
›ti⁄Æ_¨gumít
, 
NULL
, 'I'},

91 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 'r'},

92 {"rfc-822", 
no_¨gumít
, 
NULL
, 'R'},

93 {"rfc-2822", 
no_¨gumít
, 
NULL
, 'R'},

94 {"rfc-3339", 
ªquúed_¨gumít
, 
NULL
, 
RFC_3339_OPTION
},

95 {"£t", 
ªquúed_¨gumít
, 
NULL
, 's'},

96 {"u˘", 
no_¨gumít
, 
NULL
, 'u'},

97 {"utc", 
no_¨gumít
, 
NULL
, 'u'},

98 {"univîßl", 
no_¨gumít
, 
NULL
, 'u'},

99 {
GETOPT_HELP_OPTION_DECL
},

100 {
GETOPT_VERSION_OPTION_DECL
},

101 {
NULL
, 0, NULL, 0}

104 #i‡
LOCALTIME_CACHE


105 
	#TZSET
 
	`tz£t
 ()

	)

107 
	#TZSET


	)

110 #ifde‡
_DATE_FMT


111 
	#DATE_FMT_LANGINFO
(Ë
	`∆_œngöfo
 (
_DATE_FMT
)

	)

113 
	#DATE_FMT_LANGINFO
(Ë""

	)

117 
	$ußge
 (
°©us
)

119 i‡(
°©us
 !
EXIT_SUCCESS
)

120 
	`emô_åy_hñp
 ();

123 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [+FORMAT]\n\
: %s [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]\n\
"),

127 
¥ogøm_«me
,Örogram_name);

128 
	`Âuts
 (
	`_
("\
ÅhêcuºíàtimêöÅhêgiví FORMAT, o∏£àthêsy°em d©e.\n\
"), 
°dout
);

132 
	`emô_m™d©‹y_¨g_nŸe
 ();

134 
	`Âuts
 (
	`_
("\
-d, --d©e=STRING di•œyÅimêdes¸ibed by STRING,ÇŸ 'now'\n\
-f, --fûe=DATEFILEÜikê--d©ê⁄˚ f‹ÉachÜöêo‡DATEFILE\n\
-I[TIMESPEC], --iso-8601[=TIMESPEC] ouçuàd©e/timêö ISO 8601 f‹m©.\n\
='d©e' f‹ d©ê⁄ly (thêdeÁu…),\n\
'hours', 'möuãs', '£c⁄ds', o∏'ns' f‹ d©e\n\
ÅimêtÿthêödiˇãdÖªcisi⁄.\n\
"), 
°dout
);

142 
	`Âuts
 (
	`_
("\
-r, --ª„ªn˚=FILE di•œyÅhêœ° modifiˇti⁄Åimêo‡FILE\n\
-R, --rfc-2822 ouçuàd©ê™dÅimêö RFC 2822 f‹m©.\n\
: M⁄, 07 Aug 2006 12:34:56 -0600\n\
"), 
°dout
);

147 
	`Âuts
 (
	`_
("\
--rfc-3339=TIMESPEC ouçuàd©ê™dÅimêö RFC 3339 f‹m©.\n\
='d©e', '£c⁄ds', o∏'ns' f‹\n\
ándÅimêtÿthêödiˇãdÖªcisi⁄.\n\
ándÅimêcomp⁄ít†¨ê£∑øãd by\n\
 sögÀ s∑˚: 2006-08-07 12:34:56-06:00\n\
-s, --£t=STRING sëÅimêdes¸ibed by STRING\n\
-u, --utc, --univîß»Öröà‹ së Co‹dö©ed Univîß»Time\n\
"), 
°dout
);

156 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

157 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

158 
	`Âuts
 (
	`_
("\
\n\
 c⁄åﬁ†thêouçut. I¡î¥ëed sequí˚†¨e:\n\
\n\
%%áÜôîÆ %\n\
%®ÜoˇÀ'†abbªvüãd wìkdayÇamê”.g., Sun)\n\
"), 
°dout
);

165 
	`Âuts
 (
	`_
("\
%AÜoˇÀ'†fuŒ wìkdayÇamê”.g., Sunday)\n\
%bÜoˇÀ'†abbªvüãd m⁄thÇamê”.g., J™)\n\
%BÜoˇÀ'†fuŒ m⁄thÇamê”.g., J™u¨y)\n\
%¯ÜoˇÀ'†d©ê™dÅimê”.g., Thu M¨ 3 23:05:25 2005)\n\
"), 
°dout
);

171 
	`Âuts
 (
	`_
("\
%C cítury;Üikê%Y,Éx˚± omôÜa°Åwÿdigô†”.g., 20)\n\
%d day o‡m⁄th (e.g., 01)\n\
%D d©e; samêa†%m/%d/%y\n\
%ê day o‡m⁄th, s∑˚Öadded; samêa†%_d\n\
"), 
°dout
);

177 
	`Âuts
 (
	`_
("\
%F fuŒ d©e; samêa†%Y-%m-%d\n\
%gÜa°Åwÿdigô†o‡yó∏o‡ISO wìkÇumbî (£ê%G)\n\
%G yó∏o‡ISO wìkÇumbî (£ê%V);Ç‹mÆly u£fu»⁄ly wôh %V\n\
"), 
°dout
);

182 
	`Âuts
 (
	`_
("\
%h samêa†%b\n\
%H hou∏(00..23)\n\
%I hou∏(01..12)\n\
%j day o‡yó∏(001..366)\n\
"), 
°dout
);

188 
	`Âuts
 (
	`_
("\
%k hour, s∑˚Öadded ( 0..23); samêa†%_H\n\
%» hour, s∑˚Öadded ( 1..12); samêa†%_I\n\
%m m⁄th (01..12)\n\
%M möuã (00..59)\n\
"), 
°dout
);

194 
	`Âuts
 (
	`_
("\
%¿áÇewlöe\n\
%NÇ™o£c⁄d†(000000000..999999999)\n\
%∞ÜoˇÀ'†equivÆíào‡eôhî AM o∏PM; bœnk i‡nŸ known\n\
%PÜikê%p, buàlowî ca£\n\
%∏ÜoˇÀ'†12-hou∏˛ockÅimê”.g., 11:11:04 PM)\n\
%R 24-hou∏hou∏™d möuã; samêa†%H:%M\n\
%† sec⁄d†sö˚ 1970-01-01 00:00:00 UTC\n\
"), 
°dout
);

203 
	`Âuts
 (
	`_
("\
%S sec⁄d (00..60)\n\
%àáÅab\n\
%TÅime; samêa†%H:%M:%S\n\
%u day o‡wìk (1..7); 1 i†M⁄day\n\
"), 
°dout
);

209 
	`Âuts
 (
	`_
("\
%U wìkÇumbî o‡yór, wôh Sundayá†fú° day o‡wìk (00..53)\n\
%V ISO wìkÇumbî, wôh M⁄dayá†fú° day o‡wìk (01..53)\n\
%w day o‡wìk (0..6); 0 i†Sunday\n\
%W wìkÇumbî o‡yór, wôh M⁄dayá†fú° day o‡wìk (00..53)\n\
"), 
°dout
);

215 
	`Âuts
 (
	`_
("\
%xÜoˇÀ'†d©êª¥e£¡©i⁄ (e.g., 12/31/99)\n\
%XÜoˇÀ'†timêª¥e£¡©i⁄ (e.g., 23:13:48)\n\
%yÜa°Åwÿdigô†o‡yó∏(00..99)\n\
%Y yór\n\
"), 
°dout
);

221 
	`Âuts
 (
	`_
("\
%z +hhmmÇumîi¯timêz⁄ê”.g., -0400)\n\
%:z +hh:mmÇumîi¯timêz⁄ê”.g., -04:00)\n\
%::z +hh:mm:s†numîi¯timêz⁄ê”.g., -04:00:00)\n\
%:::zÇumîi¯timêz⁄êwôh :Åÿ√˚sßryÖªcisi⁄ (e.g., -04, +05:30)\n\
%ZáÕhabëi¯timêz⁄êabbªvüti⁄ (e.g., EDT)\n\
\n\
 deÁu…, d©ê∑d†numîi¯fõld†wôh zî€s.\n\
"), 
°dout
);

230 
	`Âuts
 (
	`_
("\
 fﬁlowög o±i⁄Æ fœg†may fﬁlow '%':\n\
\n\
- (hyphíËdÿnŸÖadÅhêfõld\n\
_ (undîsc‹eË∑d wôh s∑˚s\n\
0 (zîoË∑d wôh zîos\n\
^ u£ uµî ca£ i‡possibÀ\n\
# u£ oµosôêˇ£ i‡possibÀ\n\
"), 
°dout
);

239 
	`Âuts
 (
	`_
("\
\n\
ány fœg†come†™ o±i⁄Æ fõld width,á†®decimÆÇumbî;\n\
á¿›ti⁄Æ modifõr, which i†eôhî\n\
Åÿu£ÅhêloˇÀ'†Æã∫©êª¥e£¡©i⁄†i‡avaûabÀ, or\n\
Åÿu£ÅhêloˇÀ'†Æã∫©ênumîi¯symbﬁ†i‡avaûabÀ.\n\
"), 
°dout
);

246 
	`Âuts
 (
	`_
("\
\n\
:\n\
 sec⁄d†sö˚Åhêïoch (1970-01-01 UTCËtÿ®d©e\n\
$ d©ê--d©e='@2147483647'\n\
\n\
Åhêtimê⁄Åhêwe° cﬂ° o‡thêUS (u£Åz£À˘(1Ëtÿföd TZ)\n\
$ TZ='Amîiˇ/Los_Angñes' d©e\n\
\n\
Åhêloˇ»timêf‹ 9AMÇexàFriday o¿thêwe° cﬂ° o‡thêUS\n\
$ d©ê--d©e='TZ=\"Amîiˇ/Los_Angñes\" 09:00ÇexàFri'\n\
"), 
°dout
);

258 
	`emô_™cûœry_öfo
 ();

260 
	`exô
 (
°©us
);

261 
	}
}

268 
boﬁ


269 
	$b©ch_c⁄vît
 (c⁄° *
öput_fûíame
, c⁄° *
f‹m©
)

271 
boﬁ
 
ok
;

272 
FILE
 *
ö_°ªam
;

273 *
löe
;

274 
size_t
 
buÊí
;

275 
time•ec
 
whí
;

277 i‡(
	`STREQ
 (
öput_fûíame
, "-"))

279 
öput_fûíame
 = 
	`_
("standard input");

280 
ö_°ªam
 = 
°dö
;

284 
ö_°ªam
 = 
	`f›í
 (
öput_fûíame
, "r");

285 i‡(
ö_°ªam
 =
NULL
)

287 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
öput_fûíame
));

291 
löe
 = 
NULL
;

292 
buÊí
 = 0;

293 
ok
 = 
åue
;

296 
ssize_t
 
löe_Àngth
 = 
	`gëlöe
 (&
löe
, &
buÊí
, 
ö_°ªam
);

297 i‡(
löe_Àngth
 < 0)

303 i‡(! 
	`∑r£_d©ëime
 (&
whí
, 
löe
, 
NULL
))

305 i‡(
löe
[
löe_Àngth
 - 1] == '\n')

306 
löe
[
löe_Àngth
 - 1] = '\0';

307 
	`îr‹
 (0, 0, 
	`_
("övÆid d©ê%s"), 
	`quŸe
 (
löe
));

308 
ok
 = 
Ál£
;

312 
ok
 &
	`show_d©e
 (
f‹m©
, 
whí
);

316 i‡(
	`f˛o£
 (
ö_°ªam
Ë=
EOF
)

317 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
öput_fûíame
));

319 
	`‰ì
 (
löe
);

321  
ok
;

322 
	}
}

325 
	$maö
 (
¨gc
, **
¨gv
)

327 
›tc
;

328 c⁄° *
d©e°r
 = 
NULL
;

329 c⁄° *
£t_d©e°r
 = 
NULL
;

330 
time•ec
 
whí
;

331 
boﬁ
 
£t_d©e
 = 
Ál£
;

332 c⁄° *
f‹m©
 = 
NULL
;

333 *
b©ch_fûe
 = 
NULL
;

334 *
ª„ªn˚
 = 
NULL
;

335 
°©
 
ªf°©s
;

336 
boﬁ
 
ok
;

337 
›ti⁄_•ecifõd_d©e
;

339 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

340 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

341 
	`£éoˇÀ
 (
LC_ALL
, "");

342 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

343 
	`ãxtdomaö
 (
PACKAGE
);

345 
	`©exô
 (
˛o£_°dout
);

347 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, 
NULL
))

350 c⁄° *
√w_f‹m©
 = 
NULL
;

352 
›tc
)

355 
d©e°r
 = 
›èrg
;

358 
b©ch_fûe
 = 
›èrg
;

360 
RFC_3339_OPTION
:

362 c⁄° 
rfc_3339_f‹m©
[][32] =

368 
Time_•ec
 
i
 =

369 
	`XARGMATCH
 ("--rfc-3339", 
›èrg
,

370 
time_•ec_°rög
 + 2, 
time_•ec
 + 2);

371 
√w_f‹m©
 = 
rfc_3339_f‹m©
[
i
];

376 c⁄° 
iso_8601_f‹m©
[][32] =

384 
Time_•ec
 
i
 =

385 (
›èrg


386 ? 
	`XARGMATCH
 ("--iso-8601", 
›èrg
, 
time_•ec_°rög
, 
time_•ec
)

387 : 
TIME_SPEC_DATE
);

388 
√w_f‹m©
 = 
iso_8601_f‹m©
[
i
];

392 
ª„ªn˚
 = 
›èrg
;

395 
√w_f‹m©
 = 
rfc_2822_f‹m©
;

398 
£t_d©e°r
 = 
›èrg
;

399 
£t_d©e
 = 
åue
;

405 i‡(
	`puãnv
 (
	`bad_ˇ°
 ("TZ=UTC0")) != 0)

406 
	`xÆloc_dõ
 ();

407 
TZSET
;

409 
ˇ£_GETOPT_HELP_CHAR
;

410 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

412 
	`ußge
 (
EXIT_FAILURE
);

415 i‡(
√w_f‹m©
)

417 i‡(
f‹m©
)

418 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output formats specified"));

419 
f‹m©
 = 
√w_f‹m©
;

423 
›ti⁄_•ecifõd_d©e
 = ((
d©e°r
 ? 1 : 0)

424 + (
b©ch_fûe
 ? 1 : 0)

425 + (
ª„ªn˚
 ? 1 : 0));

427 i‡(
›ti⁄_•ecifõd_d©e
 > 1)

429 
	`îr‹
 (0, 0,

430 
	`_
("the optionsÅo specify dates forÖrintingáre mutuallyÉxclusive"));

431 
	`ußge
 (
EXIT_FAILURE
);

434 i‡(
£t_d©e
 && 
›ti⁄_•ecifõd_d©e
)

436 
	`îr‹
 (0, 0,

437 
	`_
("the optionsÅoÖrintánd setÅheÅime mayÇot be usedÅogether"));

438 
	`ußge
 (
EXIT_FAILURE
);

441 i‡(
›töd
 < 
¨gc
)

443 i‡(
›töd
 + 1 < 
¨gc
)

445 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

446 
	`ußge
 (
EXIT_FAILURE
);

449 i‡(
¨gv
[
›töd
][0] == '+')

451 i‡(
f‹m©
)

452 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output formats specified"));

453 
f‹m©
 = 
¨gv
[
›töd
++] + 1;

455 i‡(
£t_d©e
 || 
›ti⁄_•ecifõd_d©e
)

457 
	`îr‹
 (0, 0,

458 
	`_
("theárgument %sÜacksáÜeading '+';\n"

461 
	`quŸe
 (
¨gv
[
›töd
]));

462 
	`ußge
 (
EXIT_FAILURE
);

466 i‡(!
f‹m©
)

468 
f‹m©
 = 
	`DATE_FMT_LANGINFO
 ();

469 i‡(! *
f‹m©
)

478 
f‹m©
 = "%a %b %e %H:%M:%S %Z %Y";

482 i‡(
b©ch_fûe
 !
NULL
)

483 
ok
 = 
	`b©ch_c⁄vît
 (
b©ch_fûe
, 
f‹m©
);

486 
boﬁ
 
vÆid_d©e
 = 
åue
;

487 
ok
 = 
åue
;

489 i‡(!
›ti⁄_•ecifõd_d©e
 && !
£t_d©e
)

491 i‡(
›töd
 < 
¨gc
)

495 
£t_d©e
 = 
åue
;

496 
d©e°r
 = 
¨gv
[
›töd
];

497 
vÆid_d©e
 = 
	`posixtime
 (&
whí
.
tv_£c
,

498 
d©e°r
,

499 (
PDS_TRAILING_YEAR


500 | 
PDS_CENTURY
 | 
PDS_SECONDS
));

501 
whí
.
tv_n£c
 = 0;

506 
	`gëtime
 (&
whí
);

512 i‡(
ª„ªn˚
 !
NULL
)

514 i‡(
	`°©
 (
ª„ªn˚
, &
ªf°©s
) != 0)

515 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
ª„ªn˚
);

516 
whí
 = 
	`gë_°©_mtime
 (&
ªf°©s
);

520 i‡(
£t_d©e°r
)

521 
d©e°r
 = 
£t_d©e°r
;

522 
vÆid_d©e
 = 
	`∑r£_d©ëime
 (&
whí
, 
d©e°r
, 
NULL
);

526 i‡(! 
vÆid_d©e
)

527 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid d©ê%s"), 
	`quŸe
 (
d©e°r
));

529 i‡(
£t_d©e
)

533 i‡(
	`£âime
 (&
whí
) != 0)

535 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot set date"));

536 
ok
 = 
Ál£
;

540 
ok
 &
	`show_d©e
 (
f‹m©
, 
whí
);

543 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

544 
	}
}

549 
boﬁ


550 
	$show_d©e
 (c⁄° *
f‹m©
, 
time•ec
 
whí
)

552 
tm
 *tm;

554 
tm
 = 
	`loˇ…ime
 (&
whí
.
tv_£c
);

555 i‡(! 
tm
)

557 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

558 
	`îr‹
 (0, 0, 
	`_
("timê%†i†ouào‡ønge"), 
	`timëo°r
 (
whí
.
tv_£c
, 
buf
));

559  
Ál£
;

562 i‡(
f‹m©
 =
rfc_2822_f‹m©
)

563 
	`£éoˇÀ
 (
LC_TIME
, "C");

564 
	`Âröt·ime
 (
°dout
, 
f‹m©
, 
tm
, 0, 
whí
.
tv_n£c
);

565 
	`Âutc
 ('\n', 
°dout
);

566 i‡(
f‹m©
 =
rfc_2822_f‹m©
)

567 
	`£éoˇÀ
 (
LC_TIME
, "");

569  
åue
;

570 
	}
}

	@dd.c

19 
	~<c⁄fig.h
>

21 
	#SWAB_ALIGN_OFFSET
 2

	)

23 
	~<as£π.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<sig«l.h
>

26 
	~<gë›t.h
>

28 
	~"sy°em.h
"

29 
	~"˛o£-°ªam.h
"

30 
	~"îr‹.h
"

31 
	~"fd-ª›í.h
"

32 
	~"gëhrxtime.h
"

33 
	~"hum™.h
"

34 
	~"l⁄g-›ti⁄s.h
"

35 
	~"quŸe.h
"

36 
	~"quŸórg.h
"

37 
	~"x°πﬁ.h
"

38 
	~"xtime.h
"

41 
	#PROGRAM_NAME
 "dd"

	)

43 
	#AUTHORS
 \

44 
	`¥›î_«me
 ("Paul Rubin"), \

45 
	`¥›î_«me
 ("David MacKenzie"), \

46 
	`¥›î_«me
 ("Stu¨àKemp")

	)

50 #i‚de‡
SA_NOCLDSTOP


51 
	#SA_NOCLDSTOP
 0

	)

52 
	#sig¥ocmask
(
How
, 
Së
, 
O£t
Ë

	)

53 
	#sig£t_t
 

	)

54 #i‡! 
HAVE_SIGINTERRUPT


55 
	#sigöãºu±
(
sig
, 
Êag
Ë

	)

60 #i‚de‡
SA_RESETHAND


61 
	#SA_RESETHAND
 0

	)

64 #i‚de‡
SIGINFO


65 
	#SIGINFO
 
SIGUSR1


	)

70 #i‚de‡
O_CIO


71 
	#O_CIO
 0

	)

76 #unde‡
O_NOCACHE


78 #i‡! 
HAVE_FDATASYNC


79 
	#fd©async
(
fd
Ë(
î∫o
 = 
ENOSYS
, -1)

	)

82 
	#ouçut_ch¨
(
c
) \

85 
obuf
[
oc
++] = (
c
); \

86 i‡(
oc
 >
ouçut_blocksize
) \

87 
	`wrôe_ouçut
 (); \

89 0)

	)

92 
	#DEFAULT_BLOCKSIZE
 512

	)

97 
	#INPUT_BLOCK_SLOP
 (2 * 
SWAB_ALIGN_OFFSET
 + 2 * 
∑ge_size
 - 1)

	)

98 
	#OUTPUT_BLOCK_SLOP
 (
∑ge_size
 - 1)

	)

105 
	#MAX_BLOCKSIZE
(
¶›
Ë
	`MIN
 (
SIZE_MAX
 - (¶›), MIN (
SSIZE_MAX
, 
OFF_T_MAX
))

	)

110 
	mC_ASCII
 = 01,

112 
	mC_EBCDIC
 = 02,

113 
	mC_IBM
 = 04,

114 
	mC_BLOCK
 = 010,

115 
	mC_UNBLOCK
 = 020,

116 
	mC_LCASE
 = 040,

117 
	mC_UCASE
 = 0100,

118 
	mC_SWAB
 = 0200,

119 
	mC_NOERROR
 = 0400,

120 
	mC_NOTRUNC
 = 01000,

121 
	mC_SYNC
 = 02000,

125 
	mC_TWOBUFS
 = 04000,

127 
	mC_NOCREAT
 = 010000,

128 
	mC_EXCL
 = 020000,

129 
	mC_FDATASYNC
 = 040000,

130 
	mC_FSYNC
 = 0100000,

132 
	mC_SPARSE
 = 0200000

138 
	mSTATUS_NOXFER
 = 01,

139 
	mSTATUS_NOCOUNTS
 = 02,

140 
	mSTATUS_LAST
 = 
STATUS_NOCOUNTS
,

141 
	mSTATUS_NONE
 = 
STATUS_LAST
 | (STATUS_LAST - 1)

145 c⁄° *
	göput_fûe
 = 
NULL
;

148 c⁄° *
	gouçut_fûe
 = 
NULL
;

151 
size_t
 
	g∑ge_size
;

154 
size_t
 
	göput_blocksize
 = 0;

157 
size_t
 
	gouçut_blocksize
 = 0;

160 
size_t
 
	gc⁄vîsi⁄_blocksize
 = 0;

163 
uötmax_t
 
	gskù_ªc‹ds
 = 0;

167 
size_t
 
	gskù_byãs
 = 0;

170 
uötmax_t
 
	g£ek_ªc‹ds
 = 0;

174 
uötmax_t
 
	g£ek_byãs
 = 0;

177 
boﬁ
 
	gföÆ_›_was_£ek
;

180 
uötmax_t
 
	gmax_ªc‹ds
 = (uintmax_t) -1;

183 
size_t
 
	gmax_byãs
 = 0;

186 
	gc⁄vîsi⁄s_mask
 = 0;

189 
	göput_Êags
 = 0;

190 
	gouçut_Êags
 = 0;

193 
	g°©us_Êags
 = 0;

196 
boﬁ
 
	gå™¶©i⁄_√eded
 = 
Ál£
;

199 
uötmax_t
 
	gw_∑πül
 = 0;

202 
uötmax_t
 
	gw_fuŒ
 = 0;

205 
uötmax_t
 
	gr_∑πül
 = 0;

208 
uötmax_t
 
	gr_fuŒ
 = 0;

211 
uötmax_t
 
	gw_byãs
 = 0;

214 
xtime_t
 
	g°¨t_time
;

217 
boﬁ
 
	göput_£ekabÀ
;

221 
	göput_£ek_î∫o
;

225 
uötmax_t
 
	göput_off£t
;

226 
boﬁ
 
	göput_off£t_ovîÊow
;

229 
boﬁ
 
	gw¨n_∑πül_ªad
;

232 
uötmax_t
 
	gr_åunˇã
 = 0;

236 
	g√wlöe_ch¨a˘î
 = '\n';

237 
	g•a˚_ch¨a˘î
 = ' ';

240 *
	gobuf
;

243 
size_t
 
	goc
 = 0;

246 
size_t
 
	gcﬁ
 = 0;

249 
sig£t_t
 
	gˇught_sig«ls
;

252 
sig_©omic_t
 vﬁ©ûê
	göãºu±_sig«l
;

255 
sig_©omic_t
 vﬁ©ûê
	göfo_sig«l_cou¡
;

258 
boﬁ
 
	gi_noˇche
, 
	go_noˇche
;

261 
	$ssize_t
 (*
úód_‚c
Ë(
fd
, *
buf
, 
size_t
 
size
);

264 
	#LONGEST_SYMBOL
 "cou¡_byãs"

	)

267 
	ssymbﬁ_vÆue


269 
symbﬁ
[ 
LONGEST_SYMBOL
];

270 
vÆue
;

274 
symbﬁ_vÆue
 c⁄° 
c⁄vîsi⁄s
[] =

276 {"ascii", 
C_ASCII
 | 
C_TWOBUFS
},

277 {"ebcdic", 
C_EBCDIC
 | 
C_TWOBUFS
},

278 {"ibm", 
C_IBM
 | 
C_TWOBUFS
},

279 {"block", 
C_BLOCK
 | 
C_TWOBUFS
},

280 {"unblock", 
C_UNBLOCK
 | 
C_TWOBUFS
},

281 {"lˇ£", 
C_LCASE
 | 
C_TWOBUFS
},

282 {"uˇ£", 
C_UCASE
 | 
C_TWOBUFS
},

283 {"•¨£", 
C_SPARSE
},

284 {"swab", 
C_SWAB
 | 
C_TWOBUFS
},

285 {"n€º‹", 
C_NOERROR
},

286 {"no¸ót", 
C_NOCREAT
},

287 {"ex˛", 
C_EXCL
},

288 {"nŸrunc", 
C_NOTRUNC
},

289 {"sync", 
C_SYNC
},

290 {"fd©async", 
C_FDATASYNC
},

291 {"fsync", 
C_FSYNC
},

293 
	}
};

295 
	#FFS_MASK
(
x
Ë((xË^ ((xË& ((xË- 1)))

	)

300 
	mv
 = ~(0

301 | 
O_APPEND


302 | 
O_BINARY


303 | 
O_CIO


304 | 
O_DIRECT


305 | 
O_DIRECTORY


306 | 
O_DSYNC


307 | 
O_NOATIME


308 | 
O_NOCTTY


309 | 
O_NOFOLLOW


310 | 
O_NOLINKS


311 | 
O_NONBLOCK


312 | 
O_SYNC


313 | 
O_TEXT


317 
	mO_FULLBLOCK
 = 
FFS_MASK
 (
v
),

318 
	mv2
 = 
v
 ^ 
O_FULLBLOCK
,

320 
	mO_NOCACHE
 = 
FFS_MASK
 (
v2
),

321 
	mv3
 = 
v2
 ^ 
O_NOCACHE
,

323 
	mO_COUNT_BYTES
 = 
FFS_MASK
 (
v3
),

324 
	mv4
 = 
v3
 ^ 
O_COUNT_BYTES
,

326 
	mO_SKIP_BYTES
 = 
FFS_MASK
 (
v4
),

327 
	mv5
 = 
v4
 ^ 
O_SKIP_BYTES
,

329 
	mO_SEEK_BYTES
 = 
FFS_MASK
 (
v5
)

333 
vîify
 (
O_FULLBLOCK
 != 0);

334 
vîify
 (
O_NOCACHE
 != 0);

335 
vîify
 (
O_COUNT_BYTES
 != 0);

336 
vîify
 (
O_SKIP_BYTES
 != 0);

337 
vîify
 (
O_SEEK_BYTES
 != 0);

339 
	#MULTIPLE_BITS_SET
(
i
Ë(((iË& ((iË- 1)Ë!0)

	)

342 
vîify
 ( ! 
MULTIPLE_BITS_SET
 (
O_FULLBLOCK
));

343 
vîify
 ( ! 
MULTIPLE_BITS_SET
 (
O_NOCACHE
));

344 
vîify
 ( ! 
MULTIPLE_BITS_SET
 (
O_COUNT_BYTES
));

345 
vîify
 ( ! 
MULTIPLE_BITS_SET
 (
O_SKIP_BYTES
));

346 
vîify
 ( ! 
MULTIPLE_BITS_SET
 (
O_SEEK_BYTES
));

349 
symbﬁ_vÆue
 c⁄° 
	gÊags
[] =

351 {"≠≥nd", 
O_APPEND
},

352 {"bö¨y", 
O_BINARY
},

353 {"cio", 
O_CIO
},

354 {"dúe˘", 
O_DIRECT
},

355 {"dúe˘‹y", 
O_DIRECTORY
},

356 {"dsync", 
O_DSYNC
},

357 {"nﬂtime", 
O_NOATIME
},

358 {"noˇche", 
O_NOCACHE
},

359 {"no˘ty", 
O_NOCTTY
},

360 {"nofﬁlow", 
HAVE_WORKING_O_NOFOLLOW
 ? 
O_NOFOLLOW
 : 0},

361 {"nﬁöks", 
O_NOLINKS
},

362 {"n⁄block", 
O_NONBLOCK
},

363 {"sync", 
O_SYNC
},

364 {"ãxt", 
O_TEXT
},

365 {"fuŒblock", 
O_FULLBLOCK
},

366 {"cou¡_byãs", 
O_COUNT_BYTES
},

367 {"skù_byãs", 
O_SKIP_BYTES
},

368 {"£ek_byãs", 
O_SEEK_BYTES
},

373 
symbﬁ_vÆue
 c⁄° 
	g°©u£s
[] =

375 {"nox„r", 
STATUS_NOXFER
},

376 {"n⁄e", 
STATUS_NONE
},

381 
	gå™s_èbÀ
[256];

383 c⁄° 
	gascii_to_ebcdic
[] =

419 c⁄° 
	gascii_to_ibm
[] =

455 c⁄° 
	gebcdic_to_ascii
[] =

492 
boﬁ
 
	g˛o£_°dout_ªquúed
 = 
åue
;

506 
	$maybe_˛o£_°dout
 ()

508 i‡(
˛o£_°dout_ªquúed
)

509 
	`˛o£_°dout
 ();

510 i‡(
	`˛o£_°ªam
 (
°dîr
) != 0)

511 
	`_exô
 (
EXIT_FAILURE
);

512 
	}
}

515 
	$ußge
 (
°©us
)

517 i‡(
°©us
 !
EXIT_SUCCESS
)

518 
	`emô_åy_hñp
 ();

521 
	`¥ötf
 (
	`_
("\
: %s [OPERAND]...\n\
: %s OPTION\n\
"),

525 
¥ogøm_«me
,Örogram_name);

526 
	`Âuts
 (
	`_
("\
á fûe, c⁄vîtögánd f‹m©tögácc‹dögÅÿthê›î™ds.\n\
\n\
=BYTESÑódánd wrôêu∞tÿBYTES byã†©áÅime\n\
=BYTES c⁄vîàBYTES byã†©áÅime\n\
=CONVS c⁄vîàthêfûêa†≥∏thêcomm®£∑øãd symbﬁÜi°\n\
=N c›y o∆y N i≈uàblocks\n\
=BYTESÑód u∞tÿBYTES byã†©áÅimê(deÁu…: 512)\n\
"), 
°dout
);

535 
	`Âuts
 (
	`_
("\
=FILEÑód from FILE in°ód o‡°dö\n\
=FLAGSÑódá†≥∏thêcomm®£∑øãd symbﬁÜi°\n\
=BYTES wrôêBYTES byã†©áÅimê(deÁu…: 512)\n\
=FILE wrôêtÿFILE in°ód o‡°dout\n\
=FLAGS wrôêa†≥∏thêcomm®£∑øãd symbﬁÜi°\n\
=N skù N obs-sized block†© sèπ o‡ouçut\n\
=N skù N ibs-sized block†© sèπ o‡öput\n\
=WHICH WHICH infÿtÿsuµªs†ouçuâögÅÿ°dîr;\n\
'nox„r' suµªs£†å™s„∏°©s, 'n⁄e' suµªs£†Æl\n\
"), 
°dout
);

546 
	`Âuts
 (
	`_
("\
\n\
ánd BYTES may bêfﬁlowed byÅhêfﬁlowög mu…ùliˇtivêsuffixes:\n\
 =1, w =2, b =512, kB =1000, K =1024, MB =1000*1000, M =1024*1024, xM =M\n\
 =1000*1000*1000, G =1024*1024*1024,ánd sÿ⁄ f‹ T, P, E, Z, Y.\n\
\n\
 CONV symbﬁ may be:\n\
\n\
"), 
°dout
);

555 
	`Âuts
 (
	`_
("\
 from EBCDICÅÿASCII\n\
 from ASCIIÅÿEBCDIC\n\
 from ASCIIÅÿÆã∫©êEBCDIC\n\
ÖadÇewlöe-ãrmö©edÑec‹d†wôh s∑˚†tÿcbs-size\n\
Ñïœ˚Åøûög s∑˚†ö cbs-sizêªc‹d†wôhÇewlöe\n\
 ch™gêuµî ca£Åÿlowî ca£\n\
 ch™gêlowî ca£Åÿuµî ca£\n\
ÅryÅÿ£ekÑ©hîÅh™ wrôêthêouçuàf‹ NUL i≈uàblocks\n\
 sw≠ÉvîyÖaú o‡öpuàbyãs\n\
ÖadÉvîy i≈uàblock wôh NUL†tÿibs-size; whí u£d\n\
 block o∏unblock,Öad wôh s∑˚†øthîÅh™ NULs\n\
"), 
°dout
);

568 
	`Âuts
 (
	`_
("\
 faû i‡thêouçuàfûêÆªadyÉxi°s\n\
 dÿnŸ cª©êthêouçuàfûe\n\
 dÿnŸÅrunˇãÅhêouçuàfûe\n\
 c⁄töuêa·îÑódÉº‹s\n\
ÖhysiˇŒy wrôêouçuàfûêd©®bef‹êföishög\n\
Üikewi£, buàÆsÿwrôêmëad©a\n\
"), 
°dout
);

576 
	`Âuts
 (
	`_
("\
\n\
 FLAG symbﬁ may be:\n\
\n\
áµíd modê(make†£n£ o∆y f‹ ouçut; c⁄vÚŸrun¯sugge°ed)\n\
"), 
°dout
);

582 i‡(
O_CIO
)

583 
	`Âuts
 (
	`_
(" ciÿ u£ c⁄cuºíàI/O f‹ d©a\n"), 
°dout
);

584 i‡(
O_DIRECT
)

585 
	`Âuts
 (
	`_
(" dúe˘ u£ dúe˘ I/O f‹ d©a\n"), 
°dout
);

586 i‡(
O_DIRECTORY
)

587 
	`Âuts
 (
	`_
(" dúe˘‹y faû u∆es†®dúe˘‹y\n"), 
°dout
);

588 i‡(
O_DSYNC
)

589 
	`Âuts
 (
	`_
(" dsyn¯ u£ synchr⁄ized I/O f‹ d©a\n"), 
°dout
);

590 i‡(
O_SYNC
)

591 
	`Âuts
 (
	`_
(" syn¯Üikewi£, buàÆsÿf‹ mëad©a\n"), 
°dout
);

592 
	`Âuts
 (
	`_
(" fullblockáccumulate full blocks of input (iflag only)\n"),

593 
°dout
);

594 i‡(
O_NONBLOCK
)

595 
	`Âuts
 (
	`_
("Ç⁄block u£Ç⁄-blockög I/O\n"), 
°dout
);

596 i‡(
O_NOATIME
)

597 
	`Âuts
 (
	`_
("Çﬂtimê dÿnŸ upd©êac˚s†time\n"), 
°dout
);

598 #i‡
HAVE_POSIX_FADVISE


599 i‡(
O_NOCACHE
)

600 
	`Âuts
 (
	`_
("Çoˇchê disˇrd cached d©a\n"), 
°dout
);

602 i‡(
O_NOCTTY
)

603 
	`Âuts
 (
	`_
("Çoctty doÇotássign controllingÅerminal from file\n"),

604 
°dout
);

605 i‡(
HAVE_WORKING_O_NOFOLLOW
)

606 
	`Âuts
 (
	`_
("Çofﬁlow dÿnŸ fﬁlow symlöks\n"), 
°dout
);

607 i‡(
O_NOLINKS
)

608 
	`Âuts
 (
	`_
("Çﬁök† faû i‡mu…ùly-löked\n"), 
°dout
);

609 i‡(
O_BINARY
)

610 
	`Âuts
 (
	`_
(" bö¨y u£ bö¨y I/O f‹ d©a\n"), 
°dout
);

611 i‡(
O_TEXT
)

612 
	`Âuts
 (
	`_
("Åexà u£ÅexàI/O f‹ d©a\n"), 
°dout
);

613 i‡(
O_COUNT_BYTES
)

614 
	`Âuts
 (
	`_
(" cou¡_byã†Åª© 'cou¡=N'á†®byã cou¡ (iÊag o∆y)\n\
"), 
°dout
);

616 i‡(
O_SKIP_BYTES
)

617 
	`Âuts
 (
	`_
(" skù_byã†Åª© 'skù=N'á†®byã cou¡ (iÊag o∆y)\n\
"), 
°dout
);

619 i‡(
O_SEEK_BYTES
)

620 
	`Âuts
 (
	`_
(" sìk_byã†Åª© '£ek=N'á†®byã cou¡ (oÊag o∆y)\n\
"), 
°dout
);

624 c⁄° *
sigöfo_«me
 = (
SIGINFO
 =
SIGUSR1
 ? "USR1" : "INFO");

625 
	`¥ötf
 (
	`_
("\
\n\
á %s signalÅoáÑunning 'dd'Örocess makes it\n\
 I/O statisticsÅo standardÉrrorándÅhenÑesume copying.\n\
\n\
$ dd if=/dev/zero of=/dev/null&Öid=$!\n\
$ kill -%s $pid; sleep 1; kill $pid\n\
18335302+0Ñecords in\n\
18335302+0Ñecords out\n\
9387674624 bytes (9.4 GB) copied, 34.6279 seconds, 271 MB/s\n\
\n\
áre:\n\
\n\
"),

639 
sigöfo_«me
, siginfo_name);

642 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

643 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

644 
	`emô_™cûœry_öfo
 ();

646 
	`exô
 (
°©us
);

647 
	}
}

650 
	$å™¶©e_ch¨£t
 (c⁄° *
√w_å™s
)

652 
i
;

654 
i
 = 0; i < 256; i++)

655 
å™s_èbÀ
[
i
] = 
√w_å™s
[trans_table[i]];

656 
å™¶©i⁄_√eded
 = 
åue
;

657 
	}
}

661 
ölöe
 
boﬁ


662 
	$mu…ùÀ_bôs_£t
 (
i
)

664  
	`MULTIPLE_BITS_SET
 (
i
);

665 
	}
}

670 
	$¥öt_°©s
 ()

672 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

673 
hum™_›ts
 =

674 (
hum™_autosˇÀ
 | 
hum™_round_to_√¨e°


675 | 
hum™_•a˚_bef‹e_unô
 | 
hum™_SI
 | 
hum™_B
);

676 
dñè_s
;

677 c⁄° *
byãs_≥r_£c⁄d
;

679 i‡((
°©us_Êags
 & 
STATUS_NONE
) == STATUS_NONE)

682 
	`Ârötf
 (
°dîr
,

683 
	`_
("%"
PRIuMAX
"+%"PRIuMAX"Ñecords in\n"

684 "%"
PRIuMAX
"+%"PRIuMAX"Ñecords out\n"),

685 
r_fuŒ
, 
r_∑πül
, 
w_fuŒ
, 
w_∑πül
);

687 i‡(
r_åunˇã
 != 0)

688 
	`Ârötf
 (
°dîr
,

689 
	`ngëãxt
 ("%"
PRIuMAX
"ÅruncatedÑecord\n",

690 "%"
PRIuMAX
"ÅruncatedÑecords\n",

691 
	`£À˘_∂uøl
 (
r_åunˇã
)),

692 
r_åunˇã
);

694 i‡(
°©us_Êags
 & 
STATUS_NOXFER
)

700 
	`Ârötf
 (
°dîr
,

701 
	`ngëãxt
 ("%"
PRIuMAX
" byte (%s) copied",

702 "%"
PRIuMAX
" bytes (%s) copied",

703 
	`£À˘_∂uøl
 (
w_byãs
)),

704 
w_byãs
,

705 
	`hum™_ªadabÀ
 (
w_byãs
, 
hbuf
, 
hum™_›ts
, 1, 1));

707 
xtime_t
 
now
 = 
	`gëhrxtime
 ();

708 i‡(
°¨t_time
 < 
now
)

710 
XTIME_PRECISIONe0
 = 
XTIME_PRECISION
;

711 
uötmax_t
 
dñè_xtime
 = 
now
;

712 
dñè_xtime
 -
°¨t_time
;

713 
dñè_s
 = 
dñè_xtime
 / 
XTIME_PRECISIONe0
;

714 
byãs_≥r_£c⁄d
 = 
	`hum™_ªadabÀ
 (
w_byãs
, 
hbuf
, 
hum™_›ts
,

715 
XTIME_PRECISION
, 
dñè_xtime
);

719 
dñè_s
 = 0;

720 
byãs_≥r_£c⁄d
 = 
	`_
("Infinity B");

733 
	`Ârötf
 (
°dîr
, 
	`_
(", %g s, %s/s\n"), 
dñè_s
, 
byãs_≥r_£c⁄d
);

734 
	}
}

739 
	$öãºu±_h™dÀr
 (
sig
)

741 i‡(! 
SA_RESETHAND
)

742 
	`sig«l
 (
sig
, 
SIG_DFL
);

743 
öãºu±_sig«l
 = 
sig
;

744 
	}
}

749 
	$sigöfo_h™dÀr
 (
sig
)

751 i‡(! 
SA_NOCLDSTOP
)

752 
	`sig«l
 (
sig
, 
sigöfo_h™dÀr
);

753 
öfo_sig«l_cou¡
++;

754 
	}
}

759 
	$ö°Æl_sig«l_h™dÀrs
 ()

761 
boﬁ
 
ˇtch_sigöfo
 = ! (
SIGINFO
 =
SIGUSR1
 && 
	`gëív
 ("POSIXLY_CORRECT"));

763 #i‡
SA_NOCLDSTOP


765 
siga˘i⁄
 
a˘
;

766 
	`sigem±y£t
 (&
ˇught_sig«ls
);

767 i‡(
ˇtch_sigöfo
)

769 
	`siga˘i⁄
 (
SIGINFO
, 
NULL
, &
a˘
);

770 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

771 
	`sigadd£t
 (&
ˇught_sig«ls
, 
SIGINFO
);

773 
	`siga˘i⁄
 (
SIGINT
, 
NULL
, &
a˘
);

774 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

775 
	`sigadd£t
 (&
ˇught_sig«ls
, 
SIGINT
);

776 
a˘
.
ß_mask
 = 
ˇught_sig«ls
;

778 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
SIGINFO
))

780 
a˘
.
ß_h™dÀr
 = 
sigöfo_h™dÀr
;

781 
a˘
.
ß_Êags
 = 0;

782 
	`siga˘i⁄
 (
SIGINFO
, &
a˘
, 
NULL
);

785 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
SIGINT
))

787 
a˘
.
ß_h™dÀr
 = 
öãºu±_h™dÀr
;

788 
a˘
.
ß_Êags
 = 
SA_NODEFER
 | 
SA_RESETHAND
;

789 
	`siga˘i⁄
 (
SIGINT
, &
a˘
, 
NULL
);

794 i‡(
ˇtch_sigöfo
 && 
	`sig«l
 (
SIGINFO
, 
SIG_IGN
) != SIG_IGN)

796 
	`sig«l
 (
SIGINFO
, 
sigöfo_h™dÀr
);

797 
	`sigöãºu±
 (
SIGINFO
, 1);

799 i‡(
	`sig«l
 (
SIGINT
, 
SIG_IGN
) != SIG_IGN)

801 
	`sig«l
 (
SIGINT
, 
öãºu±_h™dÀr
);

802 
	`sigöãºu±
 (
SIGINT
, 1);

805 
	}
}

808 
	$˛ónup
 ()

810 i‡(
	`˛o£
 (
STDIN_FILENO
) < 0)

811 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

812 
	`_
("˛osög i≈uàfûê%s"), 
	`quŸe
 (
öput_fûe
));

817 i‡(
	`˛o£
 (
STDOUT_FILENO
) < 0)

818 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

819 
	`_
("˛osög ouçuàfûê%s"), 
	`quŸe
 (
ouçut_fûe
));

820 
	}
}

827 
	$¥o˚ss_sig«ls
 ()

829 
öãºu±_sig«l
 || 
öfo_sig«l_cou¡
)

831 
öãºu±
;

832 
öfos
;

833 
sig£t_t
 
ﬁd£t
;

835 
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &
ﬁd£t
);

839 
öãºu±
 = 
öãºu±_sig«l
;

840 
öfos
 = 
öfo_sig«l_cou¡
;

842 i‡(
öfos
)

843 
öfo_sig«l_cou¡
 = 
öfos
 - 1;

845 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁd£t
, 
NULL
);

847 i‡(
öãºu±
)

848 
	`˛ónup
 ();

849 
	`¥öt_°©s
 ();

850 i‡(
öãºu±
)

851 
	`øi£
 (
öãºu±
);

853 
	}
}

855 
ATTRIBUTE_NORETURN


856 
	$quô
 (
code
)

858 
	`˛ónup
 ();

859 
	`¥öt_°©s
 ();

860 
	`¥o˚ss_sig«ls
 ();

861 
	`exô
 (
code
);

862 
	}
}

868 
off_t


869 
	$ˇche_round
 (
fd
, 
off_t
 
Àn
)

871 
off_t
 
i_≥ndög
, 
o_≥ndög
;

872 
off_t
 *
≥ndög
 = (
fd
 =
STDIN_FILENO
 ? &
i_≥ndög
 : &
o_≥ndög
);

874 i‡(
Àn
)

876 
off_t
 
c_≥ndög
 = *
≥ndög
 + 
Àn
;

877 *
≥ndög
 = 
c_≥ndög
 % 
∑ge_size
;

878 i‡(
c_≥ndög
 > *
≥ndög
)

879 
Àn
 = 
c_≥ndög
 - *
≥ndög
;

881 
Àn
 = 0;

884 
Àn
 = *
≥ndög
;

886  
Àn
;

887 
	}
}

893 
boﬁ


894 
	$övÆid©e_ˇche
 (
fd
, 
off_t
 
Àn
)

896 
adv_ªt
 = -1;

899 
off_t
 
˛í
 = 
	`ˇche_round
 (
fd
, 
Àn
);

900 i‡(
Àn
 && !
˛í
)

901  
åue
;

902 i‡(!
Àn
 && !
˛í
 && 
max_ªc‹ds
)

903  
åue
;

904 
off_t
 
≥ndög
 = 
Àn
 ? 
	`ˇche_round
 (
fd
, 0) : 0;

906 i‡(
fd
 =
STDIN_FILENO
)

908 i‡(
öput_£ekabÀ
)

912 #i‡
HAVE_POSIX_FADVISE


913 
adv_ªt
 = 
	`posix_Ádvi£
 (
fd
, 
öput_off£t
 - 
˛í
 - 
≥ndög
, clen,

914 
POSIX_FADV_DONTNEED
);

916 
î∫o
 = 
ENOTSUP
;

920 
î∫o
 = 
ESPIPE
;

922 i‡(
fd
 =
STDOUT_FILENO
)

924 
off_t
 
ouçut_off£t
 = -2;

926 i‡(
ouçut_off£t
 != -1)

928 i‡(0 > 
ouçut_off£t
)

930 
ouçut_off£t
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
);

931 
ouçut_off£t
 -
˛í
 + 
≥ndög
;

933 i‡(0 <
ouçut_off£t
)

935 #i‡
HAVE_POSIX_FADVISE


936 
adv_ªt
 = 
	`posix_Ádvi£
 (
fd
, 
ouçut_off£t
, 
˛í
,

937 
POSIX_FADV_DONTNEED
);

939 
î∫o
 = 
ENOTSUP
;

941 
ouçut_off£t
 +
˛í
 + 
≥ndög
;

946  
adv_ªt
 !-1 ? 
åue
 : 
Ál£
;

947 
	}
}

953 
ssize_t


954 
	$úód
 (
fd
, *
buf
, 
size_t
 
size
)

956 
ssize_t
 
ƒód
;

960 
	`¥o˚ss_sig«ls
 ();

961 
ƒód
 = 
	`ªad
 (
fd
, 
buf
, 
size
);

963 
ƒód
 < 0 && 
î∫o
 =
EINTR
);

965 i‡(0 < 
ƒód
 && 
w¨n_∑πül_ªad
)

967 
ssize_t
 
¥ev_ƒód
;

969 i‡(0 < 
¥ev_ƒód
 &&Öªv_ƒód < 
size
)

971 
uötmax_t
 
¥ev
 = 
¥ev_ƒód
;

972 
	`îr‹
 (0, 0, 
	`ngëãxt
 (("w¨nög:Ö¨tü»ªad (%"
PRIuMAX
" byte); "

974 ("w¨nög:Ö¨tü»ªad (%"
PRIuMAX
" bytes); "

976 
	`£À˘_∂uøl
 (
¥ev
)),

977 
¥ev
);

978 
w¨n_∑πül_ªad
 = 
Ál£
;

981 
¥ev_ƒód
 = 
ƒód
;

984  
ƒód
;

985 
	}
}

988 
ssize_t


989 
	$úód_fuŒblock
 (
fd
, *
buf
, 
size_t
 
size
)

991 
ssize_t
 
ƒód
 = 0;

993 0 < 
size
)

995 
ssize_t
 
ncuº
 = 
	`úód
 (
fd
, 
buf
, 
size
);

996 i‡(
ncuº
 < 0)

997  
ncuº
;

998 i‡(
ncuº
 == 0)

1000 
ƒód
 +
ncuº
;

1001 
buf
 +
ncuº
;

1002 
size
 -
ncuº
;

1005  
ƒód
;

1006 
	}
}

1013 
size_t


1014 
	$iwrôe
 (
fd
, c⁄° *
buf
, 
size_t
 
size
)

1016 
size_t
 
tŸÆ_wrôãn
 = 0;

1018 i‡((
ouçut_Êags
 & 
O_DIRECT
Ë&& 
size
 < 
ouçut_blocksize
)

1020 
ﬁd_Êags
 = 
	`f˙é
 (
STDOUT_FILENO
, 
F_GETFL
);

1021 i‡(
	`f˙é
 (
STDOUT_FILENO
, 
F_SETFL
, 
ﬁd_Êags
 & ~
O_DIRECT
) != 0)

1022 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÅurn off O_DIRECT: %s"),

1023 
	`quŸe
 (
ouçut_fûe
));

1030 
	`övÆid©e_ˇche
 (
STDOUT_FILENO
, 0);

1034 
c⁄vîsi⁄s_mask
 |
C_FSYNC
;

1037 
tŸÆ_wrôãn
 < 
size
)

1039 
ssize_t
 
nwrôãn
 = 0;

1040 
	`¥o˚ss_sig«ls
 ();

1043 
föÆ_›_was_£ek
 = 
Ál£
;

1044 i‡((
c⁄vîsi⁄s_mask
 & 
C_SPARSE
Ë&& 
	`is_nul
 (
buf
, 
size
))

1046 i‡(
	`l£ek
 (
fd
, 
size
, 
SEEK_CUR
) < 0)

1048 
c⁄vîsi⁄s_mask
 &~
C_SPARSE
;

1053 
föÆ_›_was_£ek
 = 
åue
;

1054 
nwrôãn
 = 
size
;

1058 i‡(!
nwrôãn
)

1059 
nwrôãn
 = 
	`wrôe
 (
fd
, 
buf
 + 
tŸÆ_wrôãn
, 
size
 -Åotal_written);

1061 i‡(
nwrôãn
 < 0)

1063 i‡(
î∫o
 !
EINTR
)

1066 i‡(
nwrôãn
 == 0)

1071 
î∫o
 = 
ENOSPC
;

1075 
tŸÆ_wrôãn
 +
nwrôãn
;

1078 i‡(
o_noˇche
 && 
tŸÆ_wrôãn
)

1079 
	`övÆid©e_ˇche
 (
fd
, 
tŸÆ_wrôãn
);

1081  
tŸÆ_wrôãn
;

1082 
	}
}

1087 
	$wrôe_ouçut
 ()

1089 
size_t
 
nwrôãn
 = 
	`iwrôe
 (
STDOUT_FILENO
, 
obuf
, 
ouçut_blocksize
);

1090 
w_byãs
 +
nwrôãn
;

1091 i‡(
nwrôãn
 !
ouçut_blocksize
)

1093 
	`îr‹
 (0, 
î∫o
, 
	`_
("wrôögÅÿ%s"), 
	`quŸe
 (
ouçut_fûe
));

1094 i‡(
nwrôãn
 != 0)

1095 
w_∑πül
++;

1096 
	`quô
 (
EXIT_FAILURE
);

1099 
w_fuŒ
++;

1100 
oc
 = 0;

1101 
	}
}

1105 
boﬁ
 
_GL_ATTRIBUTE_PURE


1106 
	$›î™d_m©ches
 (c⁄° *
°r
, c⁄° *
∑âîn
, 
dñim
)

1108 *
∑âîn
)

1109 i‡(*
°r
++ !*
∑âîn
++)

1110  
Ál£
;

1111  !*
°r
 || *°∏=
dñim
;

1112 
	}
}

1119 
	$∑r£_symbﬁs
 (c⁄° *
°r
, 
symbﬁ_vÆue
 c⁄° *
èbÀ
,

1120 c⁄° *
îr‹_msgid
)

1122 
vÆue
 = 0;

1124 
åue
)

1126 c⁄° *
°rcomma
 = 
	`°rchr
 (
°r
, ',');

1127 
symbﬁ_vÆue
 c⁄° *
íåy
;

1129 
íåy
 = 
èbÀ
;

1130 ! (
	`›î™d_m©ches
 (
°r
, 
íåy
->
symbﬁ
, ','Ë&&É¡ry->
vÆue
);

1131 
íåy
++)

1133 i‡(! 
íåy
->
symbﬁ
[0])

1135 
size_t
 
¶í
 = 
°rcomma
 ? såcomm®- 
°r
 : 
	`°æí
 (str);

1136 
	`îr‹
 (0, 0, "%s: %s", 
	`_
(
îr‹_msgid
),

1137 
	`quŸórg_n_°yÀ_mem
 (0, 
loˇÀ_quŸög_°yÀ
, 
°r
, 
¶í
));

1138 
	`ußge
 (
EXIT_FAILURE
);

1142 
vÆue
 |
íåy
->value;

1143 i‡(!
°rcomma
)

1145 
°r
 = 
°rcomma
 + 1;

1148  
vÆue
;

1149 
	}
}

1155 
uötmax_t


1156 
	$∑r£_öãgî
 (c⁄° *
°r
, 
boﬁ
 *
övÆid
)

1158 
uötmax_t
 
n
;

1159 *
suffix
;

1160 
°πﬁ_îr‹
 
e
 = 
	`x°πoumax
 (
°r
, &
suffix
, 10, &
n
, "bcEGkKMPTwYZ0");

1162 i‡(
e
 =
LONGINT_INVALID_SUFFIX_CHAR
 && *
suffix
 == 'x')

1164 
uötmax_t
 
mu…ùlõr
 = 
	`∑r£_öãgî
 (
suffix
 + 1, 
övÆid
);

1166 i‡(
mu…ùlõr
 !0 && 
n
 * multiplier / multiplier !=Ç)

1168 *
övÆid
 = 
åue
;

1172 
n
 *
mu…ùlõr
;

1174 i‡(
e
 !
LONGINT_OK
)

1176 *
övÆid
 = 
åue
;

1180  
n
;

1181 
	}
}

1185 
boﬁ
 
_GL_ATTRIBUTE_PURE


1186 
	$›î™d_is
 (c⁄° *
›î™d
, c⁄° *
«me
)

1188  
	`›î™d_m©ches
 (
›î™d
, 
«me
, '=');

1189 
	}
}

1192 
	$sˇ«rgs
 (
¨gc
, *c⁄° *
¨gv
)

1194 
i
;

1195 
size_t
 
blocksize
 = 0;

1196 
uötmax_t
 
cou¡
 = (uintmax_t) -1;

1197 
uötmax_t
 
skù
 = 0;

1198 
uötmax_t
 
£ek
 = 0;

1200 
i
 = 
›töd
; i < 
¨gc
; i++)

1202 c⁄° *
«me
 = 
¨gv
[
i
];

1203 c⁄° *
vÆ
 = 
	`°rchr
 (
«me
, '=');

1205 i‡(
vÆ
 =
NULL
)

1207 
	`îr‹
 (0, 0, 
	`_
("uƒecognized o≥ønd %s"), 
	`quŸe
 (
«me
));

1208 
	`ußge
 (
EXIT_FAILURE
);

1210 
vÆ
++;

1212 i‡(
	`›î™d_is
 (
«me
, "if"))

1213 
öput_fûe
 = 
vÆ
;

1214 i‡(
	`›î™d_is
 (
«me
, "of"))

1215 
ouçut_fûe
 = 
vÆ
;

1216 i‡(
	`›î™d_is
 (
«me
, "conv"))

1217 
c⁄vîsi⁄s_mask
 |
	`∑r£_symbﬁs
 (
vÆ
, 
c⁄vîsi⁄s
,

1218 
	`N_
("invalid conversion"));

1219 i‡(
	`›î™d_is
 (
«me
, "iflag"))

1220 
öput_Êags
 |
	`∑r£_symbﬁs
 (
vÆ
, 
Êags
,

1221 
	`N_
("invalid input flag"));

1222 i‡(
	`›î™d_is
 (
«me
, "oflag"))

1223 
ouçut_Êags
 |
	`∑r£_symbﬁs
 (
vÆ
, 
Êags
,

1224 
	`N_
("invalid output flag"));

1225 i‡(
	`›î™d_is
 (
«me
, "status"))

1226 
°©us_Êags
 |
	`∑r£_symbﬁs
 (
vÆ
, 
°©u£s
,

1227 
	`N_
("invalid status flag"));

1230 
boﬁ
 
övÆid
 = 
Ál£
;

1231 
uötmax_t
 
n
 = 
	`∑r£_öãgî
 (
vÆ
, &
övÆid
);

1233 i‡(
	`›î™d_is
 (
«me
, "ibs"))

1235 
övÆid
 |! (0 < 
n
 &&Ç <
	`MAX_BLOCKSIZE
 (
INPUT_BLOCK_SLOP
));

1236 
öput_blocksize
 = 
n
;

1238 i‡(
	`›î™d_is
 (
«me
, "obs"))

1240 
övÆid
 |! (0 < 
n
 &&Ç <
	`MAX_BLOCKSIZE
 (
OUTPUT_BLOCK_SLOP
));

1241 
ouçut_blocksize
 = 
n
;

1243 i‡(
	`›î™d_is
 (
«me
, "bs"))

1245 
övÆid
 |! (0 < 
n
 &&Ç <
	`MAX_BLOCKSIZE
 (
INPUT_BLOCK_SLOP
));

1246 
blocksize
 = 
n
;

1248 i‡(
	`›î™d_is
 (
«me
, "cbs"))

1250 
övÆid
 |! (0 < 
n
 &&Ç <
SIZE_MAX
);

1251 
c⁄vîsi⁄_blocksize
 = 
n
;

1253 i‡(
	`›î™d_is
 (
«me
, "skip"))

1254 
skù
 = 
n
;

1255 i‡(
	`›î™d_is
 (
«me
, "seek"))

1256 
£ek
 = 
n
;

1257 i‡(
	`›î™d_is
 (
«me
, "count"))

1258 
cou¡
 = 
n
;

1261 
	`îr‹
 (0, 0, 
	`_
("uƒecognized o≥ønd %s"), 
	`quŸe
 (
«me
));

1262 
	`ußge
 (
EXIT_FAILURE
);

1265 i‡(
övÆid
)

1266 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆidÇumbî %s"), 
	`quŸe
 (
vÆ
));

1270 i‡(
blocksize
)

1271 
öput_blocksize
 = 
ouçut_blocksize
 = 
blocksize
;

1276 
c⁄vîsi⁄s_mask
 |
C_TWOBUFS
;

1279 i‡(
öput_blocksize
 == 0)

1280 
öput_blocksize
 = 
DEFAULT_BLOCKSIZE
;

1281 i‡(
ouçut_blocksize
 == 0)

1282 
ouçut_blocksize
 = 
DEFAULT_BLOCKSIZE
;

1283 i‡(
c⁄vîsi⁄_blocksize
 == 0)

1284 
c⁄vîsi⁄s_mask
 &~(
C_BLOCK
 | 
C_UNBLOCK
);

1286 i‡(
öput_Êags
 & (
O_DSYNC
 | 
O_SYNC
))

1287 
öput_Êags
 |
O_RSYNC
;

1289 i‡(
ouçut_Êags
 & 
O_FULLBLOCK
)

1291 
	`îr‹
 (0, 0, "%s: %s", 
	`_
("invalid output flag"), "'fullblock'");

1292 
	`ußge
 (
EXIT_FAILURE
);

1295 i‡(
öput_Êags
 & 
O_SEEK_BYTES
)

1297 
	`îr‹
 (0, 0, "%s: %s", 
	`_
("invalid input flag"), "'seek_bytes'");

1298 
	`ußge
 (
EXIT_FAILURE
);

1301 i‡(
ouçut_Êags
 & (
O_COUNT_BYTES
 | 
O_SKIP_BYTES
))

1303 
	`îr‹
 (0, 0, "%s: %s", 
	`_
("invalid output flag"),

1304 
ouçut_Êags
 & 
O_COUNT_BYTES
 ? "'count_bytes'" : "'skip_bytes'");

1305 
	`ußge
 (
EXIT_FAILURE
);

1308 i‡(
öput_Êags
 & 
O_SKIP_BYTES
 && 
skù
 != 0)

1310 
skù_ªc‹ds
 = 
skù
 / 
öput_blocksize
;

1311 
skù_byãs
 = 
skù
 % 
öput_blocksize
;

1313 i‡(
skù
 != 0)

1314 
skù_ªc‹ds
 = 
skù
;

1316 i‡(
öput_Êags
 & 
O_COUNT_BYTES
 && 
cou¡
 !(
uötmax_t
) -1)

1318 
max_ªc‹ds
 = 
cou¡
 / 
öput_blocksize
;

1319 
max_byãs
 = 
cou¡
 % 
öput_blocksize
;

1321 i‡(
cou¡
 !(
uötmax_t
) -1)

1322 
max_ªc‹ds
 = 
cou¡
;

1324 i‡(
ouçut_Êags
 & 
O_SEEK_BYTES
 && 
£ek
 != 0)

1326 
£ek_ªc‹ds
 = 
£ek
 / 
ouçut_blocksize
;

1327 
£ek_byãs
 = 
£ek
 % 
ouçut_blocksize
;

1329 i‡(
£ek
 != 0)

1330 
£ek_ªc‹ds
 = 
£ek
;

1336 
w¨n_∑πül_ªad
 =

1337 (! (
c⁄vîsi⁄s_mask
 & 
C_TWOBUFS
Ë&& ! (
öput_Êags
 & 
O_FULLBLOCK
)

1338 && (
skù_ªc‹ds


1339 || (0 < 
max_ªc‹ds
 && max_ªc‹d†< (
uötmax_t
) -1)

1340 || (
öput_Êags
 | 
ouçut_Êags
Ë& 
O_DIRECT
));

1342 
úód_‚c
 = ((
öput_Êags
 & 
O_FULLBLOCK
)

1343 ? 
úód_fuŒblock


1344 : 
úód
);

1345 
öput_Êags
 &~
O_FULLBLOCK
;

1347 i‡(
	`mu…ùÀ_bôs_£t
 (
c⁄vîsi⁄s_mask
 & (
C_ASCII
 | 
C_EBCDIC
 | 
C_IBM
)))

1348 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combineányÅwo of {ascii,ebcdic,ibm}"));

1349 i‡(
	`mu…ùÀ_bôs_£t
 (
c⁄vîsi⁄s_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)))

1350 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine blockánd unblock"));

1351 i‡(
	`mu…ùÀ_bôs_£t
 (
c⁄vîsi⁄s_mask
 & (
C_LCASE
 | 
C_UCASE
)))

1352 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combineÜcaseánd ucase"));

1353 i‡(
	`mu…ùÀ_bôs_£t
 (
c⁄vîsi⁄s_mask
 & (
C_EXCL
 | 
C_NOCREAT
)))

1354 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combineÉxclándÇocreat"));

1355 i‡(
	`mu…ùÀ_bôs_£t
 (
öput_Êags
 & (
O_DIRECT
 | 
O_NOCACHE
))

1356 || 
	`mu…ùÀ_bôs_£t
 (
ouçut_Êags
 & (
O_DIRECT
 | 
O_NOCACHE
)))

1357 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine directándÇocache"));

1359 i‡(
öput_Êags
 & 
O_NOCACHE
)

1361 
i_noˇche
 = 
åue
;

1362 
öput_Êags
 &~
O_NOCACHE
;

1364 i‡(
ouçut_Êags
 & 
O_NOCACHE
)

1366 
o_noˇche
 = 
åue
;

1367 
ouçut_Êags
 &~
O_NOCACHE
;

1369 
	}
}

1374 
	$≠∂y_å™¶©i⁄s
 ()

1376 
i
;

1378 i‡(
c⁄vîsi⁄s_mask
 & 
C_ASCII
)

1379 
	`å™¶©e_ch¨£t
 (
ebcdic_to_ascii
);

1381 i‡(
c⁄vîsi⁄s_mask
 & 
C_UCASE
)

1383 
i
 = 0; i < 256; i++)

1384 
å™s_èbÀ
[
i
] = 
	`touµî
 (trans_table[i]);

1385 
å™¶©i⁄_√eded
 = 
åue
;

1387 i‡(
c⁄vîsi⁄s_mask
 & 
C_LCASE
)

1389 
i
 = 0; i < 256; i++)

1390 
å™s_èbÀ
[
i
] = 
	`tﬁowî
 (trans_table[i]);

1391 
å™¶©i⁄_√eded
 = 
åue
;

1394 i‡(
c⁄vîsi⁄s_mask
 & 
C_EBCDIC
)

1396 
	`å™¶©e_ch¨£t
 (
ascii_to_ebcdic
);

1397 
√wlöe_ch¨a˘î
 = 
ascii_to_ebcdic
['\n'];

1398 
•a˚_ch¨a˘î
 = 
ascii_to_ebcdic
[' '];

1400 i‡(
c⁄vîsi⁄s_mask
 & 
C_IBM
)

1402 
	`å™¶©e_ch¨£t
 (
ascii_to_ibm
);

1403 
√wlöe_ch¨a˘î
 = 
ascii_to_ibm
['\n'];

1404 
•a˚_ch¨a˘î
 = 
ascii_to_ibm
[' '];

1406 
	}
}

1412 
	$å™¶©e_buf„r
 (*
buf
, 
size_t
 
ƒód
)

1414 *
˝
;

1415 
size_t
 
i
;

1417 
i
 = 
ƒód
, 
˝
 = 
buf
; i; i--, cp++)

1418 *
˝
 = 
å™s_èbÀ
[
	`to_uch¨
 (*cp)];

1419 
	}
}

1423 
boﬁ
 
	gch¨_is_ßved
 = 
Ál£
;

1426 
	gßved_ch¨
;

1433 
	$swab_buf„r
 (*
buf
, 
size_t
 *
ƒód
)

1435 *
buf°¨t
 = 
buf
;

1436 *
˝
;

1437 
size_t
 
i
;

1440 i‡(
ch¨_is_ßved
)

1442 *--
buf°¨t
 = 
ßved_ch¨
;

1443 (*
ƒód
)++;

1444 
ch¨_is_ßved
 = 
Ál£
;

1447 i‡(*
ƒód
 & 1)

1450 
ßved_ch¨
 = 
buf°¨t
[--*
ƒód
];

1451 
ch¨_is_ßved
 = 
åue
;

1458 
˝
 = 
buf°¨t
 + *
ƒód
;

1459 
i
 = *
ƒód
 / 2; i; i--, 
˝
 -= 2)

1460 *
˝
 = *(cp - 2);

1462  ++
buf°¨t
;

1463 
	}
}

1469 
	$adv™˚_öput_off£t
 (
uötmax_t
 
off£t
)

1471 
öput_off£t
 +
off£t
;

1472 i‡(
öput_off£t
 < 
off£t
)

1473 
öput_off£t_ovîÊow
 = 
åue
;

1474 
	}
}

1490 #ifde‡
__löux__


1492 
	~<sys/mtio.h
>

1494 
	#MT_SAME_POSITION
(
P
, 
Q
) \

1495 ((
P
).
mt_ªsid
 =(
Q
).mt_resid \

1496 && (
P
).
mt_fûío
 =(
Q
).mt_fileno \

1497 && (
P
).
mt_blkno
 =(
Q
).mt_blkno)

	)

1499 
off_t


1500 
	$skù_vü_l£ek
 (c⁄° *
fûíame
, 
fdesc
, 
off_t
 
off£t
, 
whí˚
)

1502 
mtgë
 
s1
;

1503 
mtgë
 
s2
;

1504 
boﬁ
 
gŸ_‹igöÆ_è≥_posôi⁄
 = (
	`io˘l
 (
fdesc
, 
MTIOCGET
, &
s1
) == 0);

1508 
off_t
 
√w_posôi⁄
 = 
	`l£ek
 (
fdesc
, 
off£t
, 
whí˚
);

1509 i‡(0 <
√w_posôi⁄


1510 && 
gŸ_‹igöÆ_è≥_posôi⁄


1511 && 
	`io˘l
 (
fdesc
, 
MTIOCGET
, &
s2
) == 0

1512 && 
	`MT_SAME_POSITION
 (
s1
, 
s2
))

1514 
	`îr‹
 (0, 0, 
	`_
("warning: workingároundÜseek kernel bug for file (%s)\n\
 mt_type=0x%0lx -- see <sys/mtio.h> forÅheÜist ofÅypes"),

1516 
fûíame
, 
s2
.
mt_ty≥
);

1517 
î∫o
 = 0;

1518 
√w_posôi⁄
 = -1;

1521  
√w_posôi⁄
;

1522 
	}
}

1524 
	#skù_vü_l£ek
(
Fûíame
, 
Fd
, 
Off£t
, 
Whí˚
Ë
	`l£ek
 (Fd, Off£t, Whí˚)

	)

1536 
uötmax_t


1537 
	$skù
 (
fdesc
, c⁄° *
fûe
, 
uötmax_t
 
ªc‹ds
, 
size_t
 
blocksize
,

1538 
size_t
 *
byãs
, *
buf
)

1540 
uötmax_t
 
off£t
 = 
ªc‹ds
 * 
blocksize
 + *
byãs
;

1546 
î∫o
 = 0;

1547 i‡(
ªc‹ds
 <
OFF_T_MAX
 / 
blocksize


1548 && 0 <
	`skù_vü_l£ek
 (
fûe
, 
fdesc
, 
off£t
, 
SEEK_CUR
))

1550 i‡(
fdesc
 =
STDIN_FILENO
)

1552 
°©
 
°
;

1553 i‡(
	`f°©
 (
STDIN_FILENO
, &
°
) != 0)

1554 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
fûe
));

1555 i‡(
	`ußbÀ_°_size
 (&
°
Ë&& st.
°_size
 < 
öput_off£t
 + 
off£t
)

1560 
ªc‹ds
 = ( 
off£t
 - 
°
.
°_size
 ) / 
blocksize
;

1561 
off£t
 = 
°
.
°_size
 - 
öput_off£t
;

1564 
ªc‹ds
 = 0;

1565 
	`adv™˚_öput_off£t
 (
off£t
);

1569 
ªc‹ds
 = 0;

1570 *
byãs
 = 0;

1572  
ªc‹ds
;

1576 
l£ek_î∫o
 = 
î∫o
;

1583 i‡((
	`skù_vü_l£ek
 (
fûe
, 
fdesc
, 0, 
SEEK_END
)) >= 0)

1588 i‡(!
l£ek_î∫o
)

1597 
l£ek_î∫o
 = 
EOVERFLOW
;

1600 i‡(
fdesc
 =
STDIN_FILENO
)

1601 
	`îr‹
 (0, 
l£ek_î∫o
, 
	`_
("%s: c™nŸ skù"), 
	`quŸe
 (
fûe
));

1603 
	`îr‹
 (0, 
l£ek_î∫o
, 
	`_
("%s: c™nŸ sìk"), 
	`quŸe
 (
fûe
));

1606 
	`quô
 (
EXIT_FAILURE
);

1612 
ssize_t
 
ƒód
 = 
	`úód_‚c
 (
fdesc
, 
buf
, 
ªc‹ds
 ? 
blocksize
 : *
byãs
);

1613 i‡(
ƒód
 < 0)

1615 i‡(
fdesc
 =
STDIN_FILENO
)

1617 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûe
));

1618 i‡(
c⁄vîsi⁄s_mask
 & 
C_NOERROR
)

1619 
	`¥öt_°©s
 ();

1622 
	`îr‹
 (0, 
l£ek_î∫o
, 
	`_
("%s: c™nŸ sìk"), 
	`quŸe
 (
fûe
));

1623 
	`quô
 (
EXIT_FAILURE
);

1625 i‡(
ƒód
 == 0)

1627 i‡(
fdesc
 =
STDIN_FILENO
)

1628 
	`adv™˚_öput_off£t
 (
ƒód
);

1630 i‡(
ªc‹ds
 != 0)

1631 
ªc‹ds
--;

1633 *
byãs
 = 0;

1635 
ªc‹ds
 || *
byãs
);

1637  
ªc‹ds
;

1639 
	}
}

1647 
boﬁ


1648 
	$adv™˚_öput_a·î_ªad_îr‹
 (
size_t
 
nbyãs
)

1650 i‡(! 
öput_£ekabÀ
)

1652 i‡(
öput_£ek_î∫o
 =
ESPIPE
)

1653  
åue
;

1654 
î∫o
 = 
öput_£ek_î∫o
;

1658 
off_t
 
off£t
;

1659 
	`adv™˚_öput_off£t
 (
nbyãs
);

1660 
öput_off£t_ovîÊow
 |(
OFF_T_MAX
 < 
öput_off£t
);

1661 i‡(
öput_off£t_ovîÊow
)

1663 
	`îr‹
 (0, 0, 
	`_
("offset overflow whileÑeading file %s"),

1664 
	`quŸe
 (
öput_fûe
));

1665  
Ál£
;

1667 
off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

1668 i‡(0 <
off£t
)

1670 
off_t
 
diff
;

1671 i‡(
off£t
 =
öput_off£t
)

1672  
åue
;

1673 
diff
 = 
öput_off£t
 - 
off£t
;

1674 i‡(! (0 <
diff
 && dif‡<
nbyãs
))

1675 
	`îr‹
 (0, 0, 
	`_
("warning: invalid file offsetáfter failedÑead"));

1676 i‡(0 <
	`skù_vü_l£ek
 (
öput_fûe
, 
STDIN_FILENO
, 
diff
, 
SEEK_CUR
))

1677  
åue
;

1678 i‡(
î∫o
 == 0)

1679 
	`îr‹
 (0, 0, 
	`_
("cannot workáround kernel bugáfteráll"));

1683 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: c™nŸ sìk"), 
	`quŸe
 (
öput_fûe
));

1684  
Ál£
;

1685 
	}
}

1690 
	$c›y_sim∂e
 (c⁄° *
buf
, 
size_t
 
ƒód
)

1692 c⁄° *
°¨t
 = 
buf
;

1696 
size_t
 
n‰ì
 = 
	`MIN
 (
ƒód
, 
ouçut_blocksize
 - 
oc
);

1698 
	`mem˝y
 (
obuf
 + 
oc
, 
°¨t
, 
n‰ì
);

1700 
ƒód
 -
n‰ì
;

1701 
°¨t
 +
n‰ì
;

1702 
oc
 +
n‰ì
;

1703 i‡(
oc
 >
ouçut_blocksize
)

1704 
	`wrôe_ouçut
 ();

1706 
ƒód
 != 0);

1707 
	}
}

1714 
	$c›y_wôh_block
 (c⁄° *
buf
, 
size_t
 
ƒód
)

1716 
size_t
 
i
;

1718 
i
 = 
ƒód
; i; i--, 
buf
++)

1720 i‡(*
buf
 =
√wlöe_ch¨a˘î
)

1722 i‡(
cﬁ
 < 
c⁄vîsi⁄_blocksize
)

1724 
size_t
 
j
;

1725 
j
 = 
cﬁ
; j < 
c⁄vîsi⁄_blocksize
; j++)

1726 
	`ouçut_ch¨
 (
•a˚_ch¨a˘î
);

1728 
cﬁ
 = 0;

1732 i‡(
cﬁ
 =
c⁄vîsi⁄_blocksize
)

1733 
r_åunˇã
++;

1734 i‡(
cﬁ
 < 
c⁄vîsi⁄_blocksize
)

1735 
	`ouçut_ch¨
 (*
buf
);

1736 
cﬁ
++;

1739 
	}
}

1746 
	$c›y_wôh_unblock
 (c⁄° *
buf
, 
size_t
 
ƒód
)

1748 
size_t
 
i
;

1749 
c
;

1750 
size_t
 
≥ndög_•a˚s
 = 0;

1752 
i
 = 0; i < 
ƒód
; i++)

1754 
c
 = 
buf
[
i
];

1756 i‡(
cﬁ
++ >
c⁄vîsi⁄_blocksize
)

1758 
cﬁ
 = 
≥ndög_•a˚s
 = 0;

1759 
i
--;

1760 
	`ouçut_ch¨
 (
√wlöe_ch¨a˘î
);

1762 i‡(
c
 =
•a˚_ch¨a˘î
)

1763 
≥ndög_•a˚s
++;

1768 
≥ndög_•a˚s
)

1770 
	`ouçut_ch¨
 (
•a˚_ch¨a˘î
);

1771 --
≥ndög_•a˚s
;

1773 
	`ouçut_ch¨
 (
c
);

1776 
	}
}

1782 
	$£t_fd_Êags
 (
fd
, 
add_Êags
, c⁄° *
«me
)

1785 
add_Êags
 &~ (
O_NOCTTY
 | 
O_NOFOLLOW
);

1787 i‡(
add_Êags
)

1789 
ﬁd_Êags
 = 
	`f˙é
 (
fd
, 
F_GETFL
);

1790 
√w_Êags
 = 
ﬁd_Êags
 | 
add_Êags
;

1791 
boﬁ
 
ok
 = 
åue
;

1792 i‡(
ﬁd_Êags
 < 0)

1793 
ok
 = 
Ál£
;

1794 i‡(
ﬁd_Êags
 !
√w_Êags
)

1796 i‡(
√w_Êags
 & (
O_DIRECTORY
 | 
O_NOLINKS
))

1800 
°©
 
°
;

1801 i‡(
	`f°©
 (
fd
, &
°
) != 0)

1802 
ok
 = 
Ál£
;

1803 i‡((
√w_Êags
 & 
O_DIRECTORY
Ë&& ! 
	`S_ISDIR
 (
°
.
°_mode
))

1805 
î∫o
 = 
ENOTDIR
;

1806 
ok
 = 
Ál£
;

1808 i‡((
√w_Êags
 & 
O_NOLINKS
Ë&& 1 < 
°
.
°_∆ök
)

1810 
î∫o
 = 
EMLINK
;

1811 
ok
 = 
Ál£
;

1813 
√w_Êags
 &~ (
O_DIRECTORY
 | 
O_NOLINKS
);

1816 i‡(
ok
 && 
ﬁd_Êags
 !
√w_Êags


1817 && 
	`f˙é
 (
fd
, 
F_SETFL
, 
√w_Êags
) == -1)

1818 
ok
 = 
Ál£
;

1821 i‡(!
ok
)

1822 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("£âög fœg†f‹ %s"), 
	`quŸe
 (
«me
));

1824 
	}
}

1827 
	$hum™_size
 (
size_t
 
n
)

1829 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

1830 
hum™_›ts
 =

1831 (
hum™_autosˇÀ
 | 
hum™_round_to_√¨e°
 | 
hum™_ba£_1024


1832 | 
hum™_•a˚_bef‹e_unô
 | 
hum™_SI
 | 
hum™_B
);

1833  
	`hum™_ªadabÀ
 (
n
, 
hbuf
, 
hum™_›ts
, 1, 1);

1834 
	}
}

1839 
	$dd_c›y
 ()

1841 *
ibuf
, *
buf°¨t
;

1844 *
ªÆ_buf
;

1845 *
ªÆ_obuf
;

1846 
ssize_t
 
ƒód
;

1850 
size_t
 
∑πªad
 = 0;

1852 
exô_°©us
 = 
EXIT_SUCCESS
;

1853 
size_t
 
n_byãs_ªad
;

1872 
ªÆ_buf
 = 
	`mÆloc
 (
öput_blocksize
 + 
INPUT_BLOCK_SLOP
);

1873 i‡(!
ªÆ_buf
)

1874 
	`îr‹
 (
EXIT_FAILURE
, 0,

1875 
	`_
("memoryÉxhausted by input buffer of size %zu bytes (%s)"),

1876 
öput_blocksize
, 
	`hum™_size
 (input_blocksize));

1878 
ibuf
 = 
ªÆ_buf
;

1879 
ibuf
 +
SWAB_ALIGN_OFFSET
;

1881 
ibuf
 = 
	`±r_Æign
 (ibuf, 
∑ge_size
);

1883 i‡(
c⁄vîsi⁄s_mask
 & 
C_TWOBUFS
)

1886 
ªÆ_obuf
 = 
	`mÆloc
 (
ouçut_blocksize
 + 
OUTPUT_BLOCK_SLOP
);

1887 i‡(!
ªÆ_obuf
)

1888 
	`îr‹
 (
EXIT_FAILURE
, 0,

1889 
	`_
("memoryÉxhausted by output buffer of size %zu bytes (%s)"),

1890 
ouçut_blocksize
, 
	`hum™_size
 (output_blocksize));

1891 
obuf
 = 
	`±r_Æign
 (
ªÆ_obuf
, 
∑ge_size
);

1895 
ªÆ_obuf
 = 
NULL
;

1896 
obuf
 = 
ibuf
;

1901 
	`as£π
 ( (
uöçå_t
Ë<
OUTPUT_BLOCK_SLOP
);

1902 
	`mem£t
 (
obuf
 + 
ouçut_blocksize
, 1,  (
uöçå_t
));

1904 i‡(
skù_ªc‹ds
 !0 || 
skù_byãs
 != 0)

1906 
uötmax_t
 
us_byãs
 = 
öput_off£t
 + (
skù_ªc‹ds
 * 
öput_blocksize
)

1907 + 
skù_byãs
;

1908 
uötmax_t
 
us_blocks
 = 
	`skù
 (
STDIN_FILENO
, 
öput_fûe
,

1909 
skù_ªc‹ds
, 
öput_blocksize
, &
skù_byãs
,

1910 
ibuf
);

1911 
us_byãs
 -
öput_off£t
;

1919 i‡(
us_blocks
 || (!
öput_off£t_ovîÊow
 && 
us_byãs
))

1921 
	`îr‹
 (0, 0,

1922 
	`_
("%s: c™nŸ skùÅÿ•ecifõd off£t"), 
	`quŸe
 (
öput_fûe
));

1926 i‡(
£ek_ªc‹ds
 !0 || 
£ek_byãs
 != 0)

1928 
size_t
 
byãs
 = 
£ek_byãs
;

1929 
uötmax_t
 
wrôe_ªc‹ds
 = 
	`skù
 (
STDOUT_FILENO
, 
ouçut_fûe
,

1930 
£ek_ªc‹ds
, 
ouçut_blocksize
, &
byãs
,

1931 
obuf
);

1933 i‡(
wrôe_ªc‹ds
 !0 || 
byãs
 != 0)

1935 
	`mem£t
 (
obuf
, 0, 
wrôe_ªc‹ds
 ? 
ouçut_blocksize
 : 
byãs
);

1939 
size_t
 
size
 = 
wrôe_ªc‹ds
 ? 
ouçut_blocksize
 : 
byãs
;

1940 i‡(
	`iwrôe
 (
STDOUT_FILENO
, 
obuf
, 
size
) != size)

1942 
	`îr‹
 (0, 
î∫o
, 
	`_
("wrôögÅÿ%s"), 
	`quŸe
 (
ouçut_fûe
));

1943 
	`quô
 (
EXIT_FAILURE
);

1946 i‡(
wrôe_ªc‹ds
 != 0)

1947 
wrôe_ªc‹ds
--;

1949 
byãs
 = 0;

1951 
wrôe_ªc‹ds
 || 
byãs
);

1955 i‡(
max_ªc‹ds
 =0 && 
max_byãs
 == 0)

1956  
exô_°©us
;

1960 i‡(
r_∑πül
 + 
r_fuŒ
 >
max_ªc‹ds
 + !!
max_byãs
)

1966 i‡((
c⁄vîsi⁄s_mask
 & 
C_SYNC
Ë&& (c⁄vîsi⁄s_mask & 
C_NOERROR
))

1967 
	`mem£t
 (
ibuf
,

1968 (
c⁄vîsi⁄s_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)) ? ' ' : '\0',

1969 
öput_blocksize
);

1971 i‡(
r_∑πül
 + 
r_fuŒ
 >
max_ªc‹ds
)

1972 
ƒód
 = 
	`úód_‚c
 (
STDIN_FILENO
, 
ibuf
, 
max_byãs
);

1974 
ƒód
 = 
	`úód_‚c
 (
STDIN_FILENO
, 
ibuf
, 
öput_blocksize
);

1976 i‡(
ƒód
 >0 && 
i_noˇche
)

1977 
	`övÆid©e_ˇche
 (
STDIN_FILENO
, 
ƒód
);

1979 i‡(
ƒód
 == 0)

1982 i‡(
ƒód
 < 0)

1984 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
öput_fûe
));

1985 i‡(
c⁄vîsi⁄s_mask
 & 
C_NOERROR
)

1987 
	`¥öt_°©s
 ();

1988 
size_t
 
bad_p‹ti⁄
 = 
öput_blocksize
 - 
∑πªad
;

1992 
	`övÆid©e_ˇche
 (
STDIN_FILENO
, 
bad_p‹ti⁄
);

1995 i‡(!
	`adv™˚_öput_a·î_ªad_îr‹
 (
bad_p‹ti⁄
))

1997 
exô_°©us
 = 
EXIT_FAILURE
;

2000 
öput_£ekabÀ
 = 
Ál£
;

2001 
öput_£ek_î∫o
 = 
ESPIPE
;

2003 i‡((
c⁄vîsi⁄s_mask
 & 
C_SYNC
Ë&& !
∑πªad
)

2006 
ƒód
 = 0;

2013 
exô_°©us
 = 
EXIT_FAILURE
;

2018 
n_byãs_ªad
 = 
ƒód
;

2019 
	`adv™˚_öput_off£t
 (
ƒód
);

2021 i‡(
n_byãs_ªad
 < 
öput_blocksize
)

2023 
r_∑πül
++;

2024 
∑πªad
 = 
n_byãs_ªad
;

2025 i‡(
c⁄vîsi⁄s_mask
 & 
C_SYNC
)

2027 i‡(!(
c⁄vîsi⁄s_mask
 & 
C_NOERROR
))

2029 
	`mem£t
 (
ibuf
 + 
n_byãs_ªad
,

2030 (
c⁄vîsi⁄s_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)) ? ' ' : '\0',

2031 
öput_blocksize
 - 
n_byãs_ªad
);

2032 
n_byãs_ªad
 = 
öput_blocksize
;

2037 
r_fuŒ
++;

2038 
∑πªad
 = 0;

2041 i‡(
ibuf
 =
obuf
)

2043 
size_t
 
nwrôãn
 = 
	`iwrôe
 (
STDOUT_FILENO
, 
obuf
, 
n_byãs_ªad
);

2044 
w_byãs
 +
nwrôãn
;

2045 i‡(
nwrôãn
 !
n_byãs_ªad
)

2047 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹ wrôög %s"), 
	`quŸe
 (
ouçut_fûe
));

2048  
EXIT_FAILURE
;

2050 i‡(
n_byãs_ªad
 =
öput_blocksize
)

2051 
w_fuŒ
++;

2053 
w_∑πül
++;

2059 i‡(
å™¶©i⁄_√eded
)

2060 
	`å™¶©e_buf„r
 (
ibuf
, 
n_byãs_ªad
);

2062 i‡(
c⁄vîsi⁄s_mask
 & 
C_SWAB
)

2063 
buf°¨t
 = 
	`swab_buf„r
 (
ibuf
, &
n_byãs_ªad
);

2065 
buf°¨t
 = 
ibuf
;

2067 i‡(
c⁄vîsi⁄s_mask
 & 
C_BLOCK
)

2068 
	`c›y_wôh_block
 (
buf°¨t
, 
n_byãs_ªad
);

2069 i‡(
c⁄vîsi⁄s_mask
 & 
C_UNBLOCK
)

2070 
	`c›y_wôh_unblock
 (
buf°¨t
, 
n_byãs_ªad
);

2072 
	`c›y_sim∂e
 (
buf°¨t
, 
n_byãs_ªad
);

2076 i‡(
ch¨_is_ßved
)

2078 i‡(
c⁄vîsi⁄s_mask
 & 
C_BLOCK
)

2079 
	`c›y_wôh_block
 (&
ßved_ch¨
, 1);

2080 i‡(
c⁄vîsi⁄s_mask
 & 
C_UNBLOCK
)

2081 
	`c›y_wôh_unblock
 (&
ßved_ch¨
, 1);

2083 
	`ouçut_ch¨
 (
ßved_ch¨
);

2086 i‡((
c⁄vîsi⁄s_mask
 & 
C_BLOCK
Ë&& 
cﬁ
 > 0)

2090 
size_t
 
i
;

2091 
i
 = 
cﬁ
; i < 
c⁄vîsi⁄_blocksize
; i++)

2092 
	`ouçut_ch¨
 (
•a˚_ch¨a˘î
);

2095 i‡(
cﬁ
 && (
c⁄vîsi⁄s_mask
 & 
C_UNBLOCK
))

2098 
	`ouçut_ch¨
 (
√wlöe_ch¨a˘î
);

2102 i‡(
oc
 != 0)

2104 
size_t
 
nwrôãn
 = 
	`iwrôe
 (
STDOUT_FILENO
, 
obuf
, 
oc
);

2105 
w_byãs
 +
nwrôãn
;

2106 i‡(
nwrôãn
 != 0)

2107 
w_∑πül
++;

2108 i‡(
nwrôãn
 !
oc
)

2110 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹ wrôög %s"), 
	`quŸe
 (
ouçut_fûe
));

2111  
EXIT_FAILURE
;

2117 i‡(
föÆ_›_was_£ek
)

2119 
°©
 
°dout_°©
;

2120 i‡(
	`f°©
 (
STDOUT_FILENO
, &
°dout_°©
) != 0)

2122 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
ouçut_fûe
));

2123  
EXIT_FAILURE
;

2125 i‡(
	`S_ISREG
 (
°dout_°©
.
°_mode
Ë|| 
	`S_TYPEISSHM
 (&stdout_stat))

2127 
off_t
 
ouçut_off£t
 = 
	`l£ek
 (
STDOUT_FILENO
, 0, 
SEEK_CUR
);

2128 i‡(
ouçut_off£t
 > 
°dout_°©
.
°_size
)

2130 i‡(
	`·runˇã
 (
STDOUT_FILENO
, 
ouçut_off£t
) != 0)

2132 
	`îr‹
 (0, 
î∫o
,

2133 
	`_
("ÁûedÅÿåunˇãÅÿ%" 
PRIdMAX
 " bytes"

2135 (
ötmax_t
Ë
ouçut_off£t
, 
	`quŸe
 (
ouçut_fûe
));

2136  
EXIT_FAILURE
;

2142 i‡((
c⁄vîsi⁄s_mask
 & 
C_FDATASYNC
Ë&& 
	`fd©async
 (
STDOUT_FILENO
) != 0)

2144 i‡(
î∫o
 !
ENOSYS
 &&Éºnÿ!
EINVAL
)

2146 
	`îr‹
 (0, 
î∫o
, 
	`_
("fd©asyn¯Áûed f‹ %s"), 
	`quŸe
 (
ouçut_fûe
));

2147 
exô_°©us
 = 
EXIT_FAILURE
;

2149 
c⁄vîsi⁄s_mask
 |
C_FSYNC
;

2152 i‡(
c⁄vîsi⁄s_mask
 & 
C_FSYNC
)

2153 
	`fsync
 (
STDOUT_FILENO
) != 0)

2154 i‡(
î∫o
 !
EINTR
)

2156 
	`îr‹
 (0, 
î∫o
, 
	`_
("fsyn¯Áûed f‹ %s"), 
	`quŸe
 (
ouçut_fûe
));

2157  
EXIT_FAILURE
;

2160  
exô_°©us
;

2161 
	}
}

2164 
	$maö
 (
¨gc
, **
¨gv
)

2166 
i
;

2167 
exô_°©us
;

2168 
off_t
 
off£t
;

2170 
	`ö°Æl_sig«l_h™dÀrs
 ();

2172 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

2173 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

2174 
	`£éoˇÀ
 (
LC_ALL
, "");

2175 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

2176 
	`ãxtdomaö
 (
PACKAGE
);

2179 
	`©exô
 (
maybe_˛o£_°dout
);

2181 
∑ge_size
 = 
	`gë∑gesize
 ();

2183 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
Vîsi⁄
,

2184 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

2185 
˛o£_°dout_ªquúed
 = 
Ál£
;

2187 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

2188 
	`ußge
 (
EXIT_FAILURE
);

2191 
i
 = 0; i < 256; i++)

2192 
å™s_èbÀ
[
i
] = i;

2195 
	`sˇ«rgs
 (
¨gc
, 
¨gv
);

2197 
	`≠∂y_å™¶©i⁄s
 ();

2199 i‡(
öput_fûe
 =
NULL
)

2201 
öput_fûe
 = 
	`_
("standard input");

2202 
	`£t_fd_Êags
 (
STDIN_FILENO
, 
öput_Êags
, 
öput_fûe
);

2206 i‡(
	`fd_ª›í
 (
STDIN_FILENO
, 
öput_fûe
, 
O_RDONLY
 | 
öput_Êags
, 0) < 0)

2207 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ›í %s"), 
	`quŸe
 (
öput_fûe
));

2210 
off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

2211 
öput_£ekabÀ
 = (0 <
off£t
);

2212 
öput_off£t
 = 
	`MAX
 (0, 
off£t
);

2213 
öput_£ek_î∫o
 = 
î∫o
;

2215 i‡(
ouçut_fûe
 =
NULL
)

2217 
ouçut_fûe
 = 
	`_
("standard output");

2218 
	`£t_fd_Êags
 (
STDOUT_FILENO
, 
ouçut_Êags
, 
ouçut_fûe
);

2222 
mode_t
 
≥rms
 = 
MODE_RW_UGO
;

2223 
›ts


2224 (
ouçut_Êags


2225 | (
c⁄vîsi⁄s_mask
 & 
C_NOCREAT
 ? 0 : 
O_CREAT
)

2226 | (
c⁄vîsi⁄s_mask
 & 
C_EXCL
 ? 
O_EXCL
 : 0)

2227 | (
£ek_ªc‹ds
 || (
c⁄vîsi⁄s_mask
 & 
C_NOTRUNC
Ë? 0 : 
O_TRUNC
));

2232 i‡((! 
£ek_ªc‹ds


2233 || 
	`fd_ª›í
 (
STDOUT_FILENO
, 
ouçut_fûe
, 
O_RDWR
 | 
›ts
, 
≥rms
) < 0)

2234 && (
	`fd_ª›í
 (
STDOUT_FILENO
, 
ouçut_fûe
, 
O_WRONLY
 | 
›ts
, 
≥rms
)

2236 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo open %s"),

2237 
	`quŸe
 (
ouçut_fûe
));

2239 i‡(
£ek_ªc‹ds
 !0 && !(
c⁄vîsi⁄s_mask
 & 
C_NOTRUNC
))

2241 
uötmax_t
 
size
 = 
£ek_ªc‹ds
 * 
ouçut_blocksize
 + 
£ek_byãs
;

2242 
obs
 = 
ouçut_blocksize
;

2244 i‡(
OFF_T_MAX
 / 
ouçut_blocksize
 < 
£ek_ªc‹ds
)

2245 
	`îr‹
 (
EXIT_FAILURE
, 0,

2246 
	`_
("offsetÅooÜarge: "

2247 "ˇ¬ŸÅrunˇãÅÿ®Àngth o‡£ek=%"
PRIuMAX
""

2249 
£ek_ªc‹ds
, 
obs
);

2251 i‡(
	`·runˇã
 (
STDOUT_FILENO
, 
size
) != 0)

2258 
·runˇã_î∫o
 = 
î∫o
;

2259 
°©
 
°dout_°©
;

2260 i‡(
	`f°©
 (
STDOUT_FILENO
, &
°dout_°©
) != 0)

2261 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot fstat %s"),

2262 
	`quŸe
 (
ouçut_fûe
));

2263 i‡(
	`S_ISREG
 (
°dout_°©
.
°_mode
)

2264 || 
	`S_ISDIR
 (
°dout_°©
.
°_mode
)

2265 || 
	`S_TYPEISSHM
 (&
°dout_°©
))

2266 
	`îr‹
 (
EXIT_FAILURE
, 
·runˇã_î∫o
,

2267 
	`_
("ÁûedÅÿåunˇãÅÿ%"
PRIuMAX
" bytes"

2269 
size
, 
	`quŸe
 (
ouçut_fûe
));

2274 
°¨t_time
 = 
	`gëhrxtime
 ();

2276 
exô_°©us
 = 
	`dd_c›y
 ();

2278 i‡(
max_ªc‹ds
 =0 && 
max_byãs
 == 0)

2281 i‡(
i_noˇche
 && !
	`övÆid©e_ˇche
 (
STDIN_FILENO
, 0))

2283 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo discard cache for: %s"),

2284 
	`quŸe
 (
öput_fûe
));

2285 
exô_°©us
 = 
EXIT_FAILURE
;

2287 i‡(
o_noˇche
 && !
	`övÆid©e_ˇche
 (
STDOUT_FILENO
, 0))

2289 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo discard cache for: %s"),

2290 
	`quŸe
 (
ouçut_fûe
));

2291 
exô_°©us
 = 
EXIT_FAILURE
;

2294 i‡(
max_ªc‹ds
 !(
uötmax_t
) -1)

2298 i‡(
i_noˇche
)

2299 
	`övÆid©e_ˇche
 (
STDIN_FILENO
, 0);

2300 i‡(
o_noˇche
)

2301 
	`övÆid©e_ˇche
 (
STDOUT_FILENO
, 0);

2304 
	`quô
 (
exô_°©us
);

2305 
	}
}

	@df.c

21 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<gë›t.h
>

25 
	~<as£π.h
>

27 
	~"sy°em.h
"

28 
	~"ˇn⁄iˇlize.h
"

29 
	~"îr‹.h
"

30 
	~"fsußge.h
"

31 
	~"hum™.h
"

32 
	~"mbßlign.h
"

33 
	~"mbswidth.h
"

34 
	~"mou¡li°.h
"

35 
	~"quŸe.h
"

36 
	~"föd-mou¡-poöt.h
"

39 
	#PROGRAM_NAME
 "df"

	)

41 
	#AUTHORS
 \

42 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

43 
	`¥›î_«me
 ("David MacKenzie"), \

44 
	`¥›î_«me
 ("Pau»Eggît")

	)

48 
	sdevli°


50 
dev_t
 
	mdev_num
;

51 
mou¡_íåy
 *
	mme
;

52 
devli°
 *
	m√xt
;

57 
boﬁ
 
	gshow_Æl_fs
;

60 
boﬁ
 
	gshow_loˇl_fs
;

64 
boﬁ
 
	gshow_li°ed_fs
;

67 
	ghum™_ouçut_›ts
;

70 
uötmax_t
 
	gouçut_block_size
;

73 
boﬁ
 
	gfûe_sy°ems_¥o˚s£d
;

79 
boﬁ
 
	gªquúe_sync
;

82 
	gexô_°©us
;

86 
	sfs_ty≥_li°


88 *
	mfs_«me
;

89 
fs_ty≥_li°
 *
	mfs_√xt
;

103 
fs_ty≥_li°
 *
	gfs_£À˘_li°
;

108 
fs_ty≥_li°
 *
	gfs_ex˛ude_li°
;

111 
mou¡_íåy
 *
	gmou¡_li°
;

114 
boﬁ
 
	g¥öt_ty≥
;

117 
boﬁ
 
	g¥öt_gønd_tŸÆ
;

120 
fs_ußge
 
	ggønd_fsu
;

125 
	mDEFAULT_MODE
,

126 
	mINODES_MODE
,

127 
	mHUMAN_MODE
,

128 
	mPOSIX_MODE
,

129 
	mOUTPUT_MODE


131 
	ghódî_mode
 = 
DEFAULT_MODE
;

136 
	mSOURCE_FIELD
,

137 
	mFSTYPE_FIELD
,

138 
	mSIZE_FIELD
,

139 
	mUSED_FIELD
,

140 
	mAVAIL_FIELD
,

141 
	mPCENT_FIELD
,

142 
	mITOTAL_FIELD
,

143 
	mIUSED_FIELD
,

144 
	mIAVAIL_FIELD
,

145 
	mIPCENT_FIELD
,

146 
	mTARGET_FIELD


147 } 
	tdi•œy_fõld_t
;

152 
	mBLOCK_FLD
,

153 
	mINODE_FLD
,

154 
	mOTHER_FLD


155 } 
	tfõld_ty≥_t
;

158 
	sfõld_d©a_t


160 
di•œy_fõld_t
 
	mfõld
;

161 c⁄° *
	m¨g
;

162 
fõld_ty≥_t
 
	mfõld_ty≥
;

163 c⁄° *
	mˇ±i⁄
;

164 
size_t
 
	mwidth
;

165 
mbs_Æign_t
 
	mÆign
;

166 
boﬁ
 
	mu£d
;

170 
fõld_d©a_t
 
	gfõld_d©a
[] = {

171 [
SOURCE_FIELD
] = { SOURCE_FIELD,

172 "sour˚", 
OTHER_FLD
, 
N_
("Fûesy°em"), 14, 
MBS_ALIGN_LEFT
, 
Ál£
 },

174 [
FSTYPE_FIELD
] = { FSTYPE_FIELD,

175 "f°y≥", 
OTHER_FLD
, 
N_
("Ty≥"), 4, 
MBS_ALIGN_LEFT
, 
Ál£
 },

177 [
SIZE_FIELD
] = { SIZE_FIELD,

178 "size", 
BLOCK_FLD
, 
N_
("blocks"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

180 [
USED_FIELD
] = { USED_FIELD,

181 "u£d", 
BLOCK_FLD
, 
N_
("U£d"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

183 [
AVAIL_FIELD
] = { AVAIL_FIELD,

184 "avaû", 
BLOCK_FLD
, 
N_
("AvaûabÀ"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

186 [
PCENT_FIELD
] = { PCENT_FIELD,

187 "p˚¡", 
BLOCK_FLD
, 
N_
("U£%"), 4, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

189 [
ITOTAL_FIELD
] = { ITOTAL_FIELD,

190 "ôŸÆ", 
INODE_FLD
, 
N_
("Inodes"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

192 [
IUSED_FIELD
] = { IUSED_FIELD,

193 "iu£d", 
INODE_FLD
, 
N_
("IU£d"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

195 [
IAVAIL_FIELD
] = { IAVAIL_FIELD,

196 "üvaû", 
INODE_FLD
, 
N_
("IFªe"), 5, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

198 [
IPCENT_FIELD
] = { IPCENT_FIELD,

199 "ù˚¡", 
INODE_FLD
, 
N_
("IU£%"), 4, 
MBS_ALIGN_RIGHT
, 
Ál£
 },

201 [
TARGET_FIELD
] = { TARGET_FIELD,

202 "èrgë", 
OTHER_FLD
, 
N_
("Mou¡ed on"), 0, 
MBS_ALIGN_LEFT
, 
Ál£
 }

205 c⁄° *
	gÆl_¨gs_°rög
 =

209 
fõld_d©a_t
 **
	gcﬁumns
;

212 
size_t
 
	gncﬁumns
;

215 
	sfõld_vÆues_t


217 
uötmax_t
 
	möput_unôs
;

218 
uötmax_t
 
	mouçut_unôs
;

219 
uötmax_t
 
	mtŸÆ
;

220 
uötmax_t
 
	mavaûabÀ
;

221 
boﬁ
 
	m√g©e_avaûabÀ
;

222 
uötmax_t
 
	mavaûabÀ_to_roŸ
;

223 
uötmax_t
 
	mu£d
;

224 
boﬁ
 
	m√g©e_u£d
;

228 ***
	gèbÀ
;

231 
size_t
 
	gƒows
;

237 
	mNO_SYNC_OPTION
 = 
CHAR_MAX
 + 1,

238 
	mSYNC_OPTION
,

239 
	mTOTAL_OPTION
,

240 
	mOUTPUT_OPTION
,

241 
	mMEGABYTES_OPTION


244 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

246 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

247 {"block-size", 
ªquúed_¨gumít
, 
NULL
, 'B'},

248 {"öodes", 
no_¨gumít
, 
NULL
, 'i'},

249 {"hum™-ªadabÀ", 
no_¨gumít
, 
NULL
, 'h'},

250 {"si", 
no_¨gumít
, 
NULL
, 'H'},

251 {"loˇl", 
no_¨gumít
, 
NULL
, 'l'},

252 {"megabyãs", 
no_¨gumít
, 
NULL
, 
MEGABYTES_OPTION
},

253 {"ouçut", 
›ti⁄Æ_¨gumít
, 
NULL
, 
OUTPUT_OPTION
},

254 {"p‹èbûôy", 
no_¨gumít
, 
NULL
, 'P'},

255 {"¥öt-ty≥", 
no_¨gumít
, 
NULL
, 'T'},

256 {"sync", 
no_¨gumít
, 
NULL
, 
SYNC_OPTION
},

257 {"no-sync", 
no_¨gumít
, 
NULL
, 
NO_SYNC_OPTION
},

258 {"tŸÆ", 
no_¨gumít
, 
NULL
, 
TOTAL_OPTION
},

259 {"ty≥", 
ªquúed_¨gumít
, 
NULL
, 't'},

260 {"ex˛ude-ty≥", 
ªquúed_¨gumít
, 
NULL
, 'x'},

261 {
GETOPT_HELP_OPTION_DECL
},

262 {
GETOPT_VERSION_OPTION_DECL
},

263 {
NULL
, 0, NULL, 0}

271 
	$hide_¥obÀm©ic_ch¨s
 (*
˚Œ
)

273 *
p
 = 
˚Œ
;

274 *
p
)

276 i‡(
	`is˙ål
 (
	`to_uch¨
 (*
p
)))

277 *
p
 = '?';

278 
p
++;

280  
˚Œ
;

281 
	}
}

287 
	$Æloc_èbÀ_row
 ()

289 
ƒows
++;

290 
èbÀ
 = 
	`xƒóŒoc
 (èbÀ, 
ƒows
,  (*));

291 
èbÀ
[
ƒows
 - 1] = 
	`xnmÆloc
 (
ncﬁumns
,  (*));

292 
	}
}

298 
	$¥öt_èbÀ
 ()

300 
size_t
 
row
;

302 
row
 = 0;Ñow < 
ƒows
;Ñow++)

304 
size_t
 
cﬁ
;

305 
cﬁ
 = 0; cﬁ < 
ncﬁumns
; col++)

307 *
˚Œ
 = 
èbÀ
[
row
][
cﬁ
];

313 i‡(
cﬁ
 != 0)

314 
	`putch¨
 (' ');

316 
Êags
 = 0;

317 i‡(
cﬁ
 =
ncﬁumns
 - 1)

318 
Êags
 = 
MBA_NO_RIGHT_PAD
;

320 
size_t
 
width
 = 
cﬁumns
[
cﬁ
]->width;

321 
˚Œ
 = 
	`ambßlign
 (˚Œ, &
width
, 
cﬁumns
[
cﬁ
]->
Æign
, 
Êags
);

323 
	`Âuts
 (
˚Œ
 ? cñ»: 
èbÀ
[
row
][
cﬁ
], 
°dout
);

324 
	`‰ì
 (
˚Œ
);

326 
	`IF_LINT
 (
	`‰ì
 (
èbÀ
[
row
][
cﬁ
]));

328 
	`putch¨
 ('\n');

329 
	`IF_LINT
 (
	`‰ì
 (
èbÀ
[
row
]));

332 
	`IF_LINT
 (
	`‰ì
 (
èbÀ
));

333 
	}
}

339 
	$Æloc_fõld
 (
f
, c⁄° *
c
)

341 
ncﬁumns
++;

342 
cﬁumns
 = 
	`xƒóŒoc
 (cﬁumns, 
ncﬁumns
,  (
fõld_d©a_t
 *));

343 
cﬁumns
[
ncﬁumns
 - 1] = &
fõld_d©a
[
f
];

344 i‡(
c
 !
NULL
)

345 
cﬁumns
[
ncﬁumns
 - 1]->
ˇ±i⁄
 = 
c
;

347 i‡(
fõld_d©a
[
f
].
u£d
)

348 
	`as£π
 (!"field used");

351 
fõld_d©a
[
f
].
u£d
 = 
åue
;

352 
	}
}

358 
	$decode_ouçut_¨g
 (c⁄° *
¨g
)

360 *
¨g_wrôabÀ
 = 
	`x°rdup
 (
¨g
);

361 *
s
 = 
¨g_wrôabÀ
;

365 *
comma
 = 
	`°rchr
 (
s
, ',');

368 i‡(
comma
)

369 *
comma
++ = 0;

372 
di•œy_fõld_t
 
fõld
 = -1;

373 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
fõld_d©a
); i++)

375 i‡(
	`STREQ
 (
fõld_d©a
[
i
].
¨g
, 
s
))

377 
fõld
 = 
i
;

381 i‡(
fõld
 == -1)

383 
	`îr‹
 (0, 0, 
	`_
("›ti⁄ --ouçut: fõld '%s' unknown"), 
s
);

384 
	`ußge
 (
EXIT_FAILURE
);

387 i‡(
fõld_d©a
[
fõld
].
u£d
)

390 
	`îr‹
 (0, 0, 
	`_
("option --output: field '%s' used moreÅhan once"),

391 
fõld_d©a
[
fõld
].
¨g
);

392 
	`ußge
 (
EXIT_FAILURE
);

395 
fõld
)

397 
SOURCE_FIELD
:

398 
FSTYPE_FIELD
:

399 
USED_FIELD
:

400 
PCENT_FIELD
:

401 
ITOTAL_FIELD
:

402 
IUSED_FIELD
:

403 
IAVAIL_FIELD
:

404 
IPCENT_FIELD
:

405 
TARGET_FIELD
:

406 
	`Æloc_fõld
 (
fõld
, 
NULL
);

409 
SIZE_FIELD
:

410 
	`Æloc_fõld
 (
fõld
, 
	`N_
("Size"));

413 
AVAIL_FIELD
:

414 
	`Æloc_fõld
 (
fõld
, 
	`N_
("Avail"));

418 
	`as£π
 (!"invalid field");

420 
s
 = 
comma
;

422 
s
);

424 
	`‰ì
 (
¨g_wrôabÀ
);

425 
	}
}

429 
	$gë_fõld_li°
 ()

431 
hódî_mode
)

433 
DEFAULT_MODE
:

434 
	`Æloc_fõld
 (
SOURCE_FIELD
, 
NULL
);

435 i‡(
¥öt_ty≥
)

436 
	`Æloc_fõld
 (
FSTYPE_FIELD
, 
NULL
);

437 
	`Æloc_fõld
 (
SIZE_FIELD
, 
NULL
);

438 
	`Æloc_fõld
 (
USED_FIELD
, 
NULL
);

439 
	`Æloc_fõld
 (
AVAIL_FIELD
, 
NULL
);

440 
	`Æloc_fõld
 (
PCENT_FIELD
, 
NULL
);

441 
	`Æloc_fõld
 (
TARGET_FIELD
, 
NULL
);

444 
HUMAN_MODE
:

445 
	`Æloc_fõld
 (
SOURCE_FIELD
, 
NULL
);

446 i‡(
¥öt_ty≥
)

447 
	`Æloc_fõld
 (
FSTYPE_FIELD
, 
NULL
);

449 
	`Æloc_fõld
 (
SIZE_FIELD
, 
	`N_
("Size"));

450 
	`Æloc_fõld
 (
USED_FIELD
, 
NULL
);

451 
	`Æloc_fõld
 (
AVAIL_FIELD
, 
	`N_
("Avail"));

452 
	`Æloc_fõld
 (
PCENT_FIELD
, 
NULL
);

453 
	`Æloc_fõld
 (
TARGET_FIELD
, 
NULL
);

456 
INODES_MODE
:

457 
	`Æloc_fõld
 (
SOURCE_FIELD
, 
NULL
);

458 i‡(
¥öt_ty≥
)

459 
	`Æloc_fõld
 (
FSTYPE_FIELD
, 
NULL
);

460 
	`Æloc_fõld
 (
ITOTAL_FIELD
, 
NULL
);

461 
	`Æloc_fõld
 (
IUSED_FIELD
, 
NULL
);

462 
	`Æloc_fõld
 (
IAVAIL_FIELD
, 
NULL
);

463 
	`Æloc_fõld
 (
IPCENT_FIELD
, 
NULL
);

464 
	`Æloc_fõld
 (
TARGET_FIELD
, 
NULL
);

467 
POSIX_MODE
:

468 
	`Æloc_fõld
 (
SOURCE_FIELD
, 
NULL
);

469 i‡(
¥öt_ty≥
)

470 
	`Æloc_fõld
 (
FSTYPE_FIELD
, 
NULL
);

471 
	`Æloc_fõld
 (
SIZE_FIELD
, 
NULL
);

472 
	`Æloc_fõld
 (
USED_FIELD
, 
NULL
);

473 
	`Æloc_fõld
 (
AVAIL_FIELD
, 
NULL
);

474 
	`Æloc_fõld
 (
PCENT_FIELD
, 
	`N_
("Capacity"));

475 
	`Æloc_fõld
 (
TARGET_FIELD
, 
NULL
);

478 
OUTPUT_MODE
:

479 i‡(!
ncﬁumns
)

482 
	`decode_ouçut_¨g
 (
Æl_¨gs_°rög
);

487 
	`as£π
 (!"invalid header_mode");

489 
	}
}

494 
	$gë_hódî
 ()

496 
size_t
 
cﬁ
;

498 
	`Æloc_èbÀ_row
 ();

500 
cﬁ
 = 0; cﬁ < 
ncﬁumns
; col++)

502 *
˚Œ
 = 
NULL
;

503 c⁄° *
hódî
 = 
	`_
(
cﬁumns
[
cﬁ
]->
ˇ±i⁄
);

505 i‡(
cﬁumns
[
cﬁ
]->
fõld
 =
SIZE_FIELD


506 && (
hódî_mode
 =
DEFAULT_MODE


507 || (
hódî_mode
 =
OUTPUT_MODE


508 && !(
hum™_ouçut_›ts
 & 
hum™_autosˇÀ
))))

510 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

512 
›ts
 = (
hum™_suµªss_poöt_zîo


513 | 
hum™_autosˇÀ
 | 
hum™_SI


514 | (
hum™_ouçut_›ts


515 & (
hum™_group_digôs
 | 
hum™_ba£_1024
 | 
hum™_B
)));

520 
uötmax_t
 
q1000
 = 
ouçut_block_size
;

521 
uötmax_t
 
q1024
 = 
ouçut_block_size
;

522 
boﬁ
 
divisibÀ_by_1000
;

523 
boﬁ
 
divisibÀ_by_1024
;

527 
divisibÀ_by_1000
 = 
q1000
 % 1000 == 0; q1000 /= 1000;

528 
divisibÀ_by_1024
 = 
q1024
 % 1024 == 0; q1024 /= 1024;

530 
divisibÀ_by_1000
 & 
divisibÀ_by_1024
);

532 i‡(
divisibÀ_by_1000
 < 
divisibÀ_by_1024
)

533 
›ts
 |
hum™_ba£_1024
;

534 i‡(
divisibÀ_by_1024
 < 
divisibÀ_by_1000
)

535 
›ts
 &~
hum™_ba£_1024
;

536 i‡(! (
›ts
 & 
hum™_ba£_1024
))

537 
›ts
 |
hum™_B
;

539 *
num
 = 
	`hum™_ªadabÀ
 (
ouçut_block_size
, 
buf
, 
›ts
, 1, 1);

542 
hódî
 = 
	`N_
("blocks");

545 i‡(
	`a•rötf
 (&
˚Œ
, 
	`_
("%s-%s"), 
num
, 
hódî
) == -1)

546 
˚Œ
 = 
NULL
;

548 i‡(
hódî_mode
 =
POSIX_MODE
 && 
cﬁumns
[
cﬁ
]->
fõld
 =
SIZE_FIELD
)

550 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

551 *
num
 = 
	`umaxto°r
 (
ouçut_block_size
, 
buf
);

554 i‡(
	`a•rötf
 (&
˚Œ
, 
	`_
("%s-%s"), 
num
, 
hódî
) == -1)

555 
˚Œ
 = 
NULL
;

558 
˚Œ
 = 
	`°rdup
 (
hódî
);

560 i‡(!
˚Œ
)

561 
	`xÆloc_dõ
 ();

563 
	`hide_¥obÀm©ic_ch¨s
 (
˚Œ
);

565 
èbÀ
[
ƒows
 - 1][
cﬁ
] = 
˚Œ
;

567 
cﬁumns
[
cﬁ
]->
width
 = 
	`MAX
 (cﬁumns[cﬁ]->width, 
	`mbswidth
 (
˚Œ
, 0));

569 
	}
}

573 
boﬁ
 
_GL_ATTRIBUTE_PURE


574 
	$£À˘ed_f°y≥
 (c⁄° *
f°y≥
)

576 c⁄° 
fs_ty≥_li°
 *
f•
;

578 i‡(
fs_£À˘_li°
 =
NULL
 || 
f°y≥
 == NULL)

579  
åue
;

580 
f•
 = 
fs_£À˘_li°
; f•; f• = f•->
fs_√xt
)

581 i‡(
	`STREQ
 (
f°y≥
, 
f•
->
fs_«me
))

582  
åue
;

583  
Ál£
;

584 
	}
}

588 
boﬁ
 
_GL_ATTRIBUTE_PURE


589 
	$ex˛uded_f°y≥
 (c⁄° *
f°y≥
)

591 c⁄° 
fs_ty≥_li°
 *
f•
;

593 i‡(
fs_ex˛ude_li°
 =
NULL
 || 
f°y≥
 == NULL)

594  
Ál£
;

595 
f•
 = 
fs_ex˛ude_li°
; f•; f• = f•->
fs_√xt
)

596 i‡(
	`STREQ
 (
f°y≥
, 
f•
->
fs_«me
))

597  
åue
;

598  
Ál£
;

599 
	}
}

608 
	$fûãr_mou¡_li°
 ()

610 
mou¡_íåy
 *
me
;

613 
devli°
 *
devli°_hód
 = 
NULL
;

616 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

618 
°©
 
buf
;

619 
devli°
 *devlist;

621 i‡(-1 =
	`°©
 (
me
->
me_mou¡dú
, &
buf
))

628 i‡(
	`°rchr
 (
me
->
me_dev«me
, '/'))

631 
devli°
 = 
devli°_hód
; devli°; devli° = devli°->
√xt
)

632 i‡(
devli°
->
dev_num
 =
buf
.
°_dev
)

635 i‡(
devli°
)

638 i‡–!
	`°rchr
 (
devli°
->
me
->
me_dev«me
, '/')

639 || ( 
	`°æí
 (
devli°
->
me
->
me_mou¡dú
)

640 > 
	`°æí
 (
me
->
me_mou¡dú
)))

643 
devli°
->
me
 = me;

651 
devli°
 = 
	`xmÆloc
 ( *devlist);

652 
devli°
->
me
 = me;

653 
devli°
->
dev_num
 = 
buf
.
°_dev
;

654 
devli°
->
√xt
 = 
devli°_hód
;

655 
devli°_hód
 = 
devli°
;

659 
mou¡_li°
 = 
NULL
;

660 
devli°_hód
)

663 
me
 = 
devli°_hód
->me;

664 
me
->
me_√xt
 = 
mou¡_li°
;

665 
mou¡_li°
 = 
me
;

667 
devli°
 *devli° = 
devli°_hód
->
√xt
;

668 
	`‰ì
 (
devli°_hód
);

669 
devli°_hód
 = 
devli°
;

671 
	}
}

677 
boﬁ


678 
	$known_vÆue
 (
uötmax_t
 
n
)

680  
n
 < 
UINTMAX_MAX
 - 1;

681 
	}
}

691 
	$df_ªadabÀ
 (
boﬁ
 
√g©ive
, 
uötmax_t
 
n
, *
buf
,

692 
uötmax_t
 
öput_unôs
, uötmax_à
ouçut_unôs
)

694 i‡(! 
	`known_vÆue
 (
n
Ë&& !
√g©ive
)

698 *
p
 = 
	`hum™_ªadabÀ
 (
√g©ive
 ? -
n
 :Ç, 
buf
 +Çegative,

699 
hum™_ouçut_›ts
, 
öput_unôs
, 
ouçut_unôs
);

700 i‡(
√g©ive
)

701 *--
p
 = '-';

702  
p
;

704 
	}
}

707 
	#LOG_EQ
(
a
, 
b
Ë(!◊Ë=!(b))

	)

714 
	$add_uöt_wôh_√g_Êag
 (
uötmax_t
 *
de°
, 
boﬁ
 *
de°_√g
,

715 
uötmax_t
 
§c
, 
boﬁ
 
§c_√g
)

717 i‡(
	`LOG_EQ
 (*
de°_√g
, 
§c_√g
))

719 *
de°
 +
§c
;

723 i‡(*
de°_√g
)

724 *
de°
 = -*dest;

726 i‡(
§c_√g
)

727 
§c
 = -src;

729 i‡(
§c
 < *
de°
)

730 *
de°
 -
§c
;

733 *
de°
 = 
§c
 - *dest;

734 *
de°_√g
 = 
§c_√g
;

737 i‡(*
de°_√g
)

738 *
de°
 = -*dest;

739 
	}
}

744 
boﬁ
 
_GL_ATTRIBUTE_PURE


745 
	$has_uuid_suffix
 (c⁄° *
s
)

747 
size_t
 
Àn
 = 
	`°æí
 (
s
);

748  (36 < 
Àn


749 && 
	`°r•n
 (
s
 + 
Àn
 - 36, "-0123456789abcdefABCDEF") == 36);

750 
	}
}

755 
	$gë_fõld_vÆues
 (
fõld_vÆues_t
 *
bv
,

756 
fõld_vÆues_t
 *
iv
,

757 c⁄° 
fs_ußge
 *
fsu
)

760 
iv
->
öput_unôs
 = iv->
ouçut_unôs
 = 1;

761 
iv
->
tŸÆ
 = 
fsu
->
fsu_fûes
;

762 
iv
->
avaûabÀ
 = iv->
avaûabÀ_to_roŸ
 = 
fsu
->
fsu_f‰ì
;

763 
iv
->
√g©e_avaûabÀ
 = 
Ál£
;

765 
iv
->
u£d
 = 
UINTMAX_MAX
;

766 
iv
->
√g©e_u£d
 = 
Ál£
;

767 i‡(
	`known_vÆue
 (
iv
->
tŸÆ
Ë&& known_vÆuê(iv->
avaûabÀ_to_roŸ
))

769 
iv
->
u£d
 = iv->
tŸÆ
 - iv->
avaûabÀ_to_roŸ
;

770 
iv
->
√g©e_u£d
 = (iv->
tŸÆ
 < iv->
avaûabÀ_to_roŸ
);

774 
bv
->
öput_unôs
 = 
fsu
->
fsu_blocksize
;

775 
bv
->
ouçut_unôs
 = 
ouçut_block_size
;

776 
bv
->
tŸÆ
 = 
fsu
->
fsu_blocks
;

777 
bv
->
avaûabÀ
 = 
fsu
->
fsu_bavaû
;

778 
bv
->
avaûabÀ_to_roŸ
 = 
fsu
->
fsu_b‰ì
;

779 
bv
->
√g©e_avaûabÀ
 = (
fsu
->
fsu_bavaû_t›_bô_£t


780 && 
	`known_vÆue
 (
fsu
->
fsu_bavaû
));

782 
bv
->
u£d
 = 
UINTMAX_MAX
;

783 
bv
->
√g©e_u£d
 = 
Ál£
;

784 i‡(
	`known_vÆue
 (
bv
->
tŸÆ
Ë&& known_vÆuê(bv->
avaûabÀ_to_roŸ
))

786 
bv
->
u£d
 = bv->
tŸÆ
 - bv->
avaûabÀ_to_roŸ
;

787 
bv
->
√g©e_u£d
 = (bv->
tŸÆ
 < bv->
avaûabÀ_to_roŸ
);

789 
	}
}

793 
	$add_to_gønd_tŸÆ
 (
fõld_vÆues_t
 *
bv
, fõld_vÆues_à*
iv
)

795 i‡(
	`known_vÆue
 (
iv
->
tŸÆ
))

796 
gønd_fsu
.
fsu_fûes
 +
iv
->
tŸÆ
;

797 i‡(
	`known_vÆue
 (
iv
->
avaûabÀ
))

798 
gønd_fsu
.
fsu_f‰ì
 +
iv
->
avaûabÀ
;

800 i‡(
	`known_vÆue
 (
bv
->
tŸÆ
))

801 
gønd_fsu
.
fsu_blocks
 +
bv
->
öput_unôs
 * bv->
tŸÆ
;

802 i‡(
	`known_vÆue
 (
bv
->
avaûabÀ_to_roŸ
))

803 
gønd_fsu
.
fsu_b‰ì
 +
bv
->
öput_unôs
 * bv->
avaûabÀ_to_roŸ
;

804 i‡(
	`known_vÆue
 (
bv
->
avaûabÀ
))

805 
	`add_uöt_wôh_√g_Êag
 (&
gønd_fsu
.
fsu_bavaû
,

806 &
gønd_fsu
.
fsu_bavaû_t›_bô_£t
,

807 
bv
->
öput_unôs
 * bv->
avaûabÀ
,

808 
bv
->
√g©e_avaûabÀ
);

809 
	}
}

827 
	$gë_dev
 (c⁄° *
disk
, c⁄° *
mou¡_poöt
,

828 c⁄° *
°©_fûe
, c⁄° *
f°y≥
,

829 
boﬁ
 
me_dummy
, boﬁ 
me_ªmŸe
,

830 c⁄° 
fs_ußge
 *
f‹˚_fsu
,

831 
boﬁ
 
¥o˚ss_Æl
)

833 i‡(
me_ªmŸe
 && 
show_loˇl_fs
)

836 i‡(
me_dummy
 && !
show_Æl_fs
 && !
show_li°ed_fs
)

839 i‡(!
	`£À˘ed_f°y≥
 (
f°y≥
Ë|| 
	`ex˛uded_f°y≥
 (fstype))

846 i‡(!
°©_fûe
)

847 
°©_fûe
 = 
mou¡_poöt
 ? mou¡_poöà: 
disk
;

849 
fs_ußge
 
fsu
;

850 i‡(
f‹˚_fsu
)

851 
fsu
 = *
f‹˚_fsu
;

852 i‡(
	`gë_fs_ußge
 (
°©_fûe
, 
disk
, &
fsu
))

854 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸe
 (
°©_fûe
));

855 
exô_°©us
 = 
EXIT_FAILURE
;

859 i‡(
fsu
.
fsu_blocks
 =0 && !
show_Æl_fs
 && !
show_li°ed_fs
)

862 i‡(! 
f‹˚_fsu
)

863 
fûe_sy°ems_¥o˚s£d
 = 
åue
;

865 
	`Æloc_èbÀ_row
 ();

867 i‡(! 
disk
)

868 
disk
 = "-";

870 *
dev_«me
 = 
	`x°rdup
 (
disk
);

871 *
ªsﬁved_dev
;

879 i‡(
¥o˚ss_Æl


880 && 
	`has_uuid_suffix
 (
dev_«me
)

881 && (
ªsﬁved_dev
 = 
	`ˇn⁄iˇlize_fûíame_mode
 (
dev_«me
, 
CAN_EXISTING
)))

883 
	`‰ì
 (
dev_«me
);

884 
dev_«me
 = 
ªsﬁved_dev
;

887 i‡(! 
f°y≥
)

888 
f°y≥
 = "-";

890 
fõld_vÆues_t
 
block_vÆues
;

891 
fõld_vÆues_t
 
öode_vÆues
;

892 
	`gë_fõld_vÆues
 (&
block_vÆues
, &
öode_vÆues
, &
fsu
);

895 i‡(
¥öt_gønd_tŸÆ
 && ! 
f‹˚_fsu
)

896 
	`add_to_gønd_tŸÆ
 (&
block_vÆues
, &
öode_vÆues
);

898 
size_t
 
cﬁ
;

899 
cﬁ
 = 0; cﬁ < 
ncﬁumns
; col++)

901 
buf
[
LONGEST_HUMAN_READABLE
 + 2];

902 *
˚Œ
;

904 
fõld_vÆues_t
 *
v
;

905 
cﬁumns
[
cﬁ
]->
fõld_ty≥
)

907 
BLOCK_FLD
:

908 
v
 = &
block_vÆues
;

910 
INODE_FLD
:

911 
v
 = &
öode_vÆues
;

913 
OTHER_FLD
:

914 
v
 = 
NULL
;

917 
	`as£π
 (!"bad field_type");

920 
cﬁumns
[
cﬁ
]->
fõld
)

922 
SOURCE_FIELD
:

923 
˚Œ
 = 
	`x°rdup
 (
dev_«me
);

926 
FSTYPE_FIELD
:

927 
˚Œ
 = 
	`x°rdup
 (
f°y≥
);

930 
SIZE_FIELD
:

931 
ITOTAL_FIELD
:

932 
˚Œ
 = 
	`x°rdup
 (
	`df_ªadabÀ
 (
Ál£
, 
v
->
tŸÆ
, 
buf
,

933 
v
->
öput_unôs
, v->
ouçut_unôs
));

936 
USED_FIELD
:

937 
IUSED_FIELD
:

938 
˚Œ
 = 
	`x°rdup
 (
	`df_ªadabÀ
 (
v
->
√g©e_u£d
, v->
u£d
, 
buf
,

939 
v
->
öput_unôs
, v->
ouçut_unôs
));

942 
AVAIL_FIELD
:

943 
IAVAIL_FIELD
:

944 
˚Œ
 = 
	`x°rdup
 (
	`df_ªadabÀ
 (
v
->
√g©e_avaûabÀ
, v->
avaûabÀ
, 
buf
,

945 
v
->
öput_unôs
, v->
ouçut_unôs
));

948 
PCENT_FIELD
:

949 
IPCENT_FIELD
:

951 
p˘
 = -1;

952 i‡(! 
	`known_vÆue
 (
v
->
u£d
Ë|| ! known_vÆuê(v->
avaûabÀ
))

954 i‡(!
v
->
√g©e_u£d


955 && 
v
->
u£d
 <
	`TYPE_MAXIMUM
 (
uötmax_t
) / 100

956 && 
v
->
u£d
 + v->
avaûabÀ
 != 0

957 && (
v
->
u£d
 + v->
avaûabÀ
 < v->used)

958 =
v
->
√g©e_avaûabÀ
)

960 
uötmax_t
 
u100
 = 
v
->
u£d
 * 100;

961 
uötmax_t
 
n⁄roŸ_tŸÆ
 = 
v
->
u£d
 + v->
avaûabÀ
;

962 
p˘
 = 
u100
 / 
n⁄roŸ_tŸÆ
 + (u100 %Çonroot_total != 0);

971 
u
 = 
v
->
√g©e_u£d
 ? - (Ë- v->
u£d
 : v->used;

972 
a
 = 
v
->
√g©e_avaûabÀ


973 ? - (Ë- 
v
->
avaûabÀ
 : v->available;

974 
n⁄roŸ_tŸÆ
 = 
u
 + 
a
;

975 i‡(
n⁄roŸ_tŸÆ
)

977 
lù˘
 = 
p˘
 = 
u
 * 100 / 
n⁄roŸ_tŸÆ
;

978 
ù˘
 = 
lù˘
;

982 i‡(
ù˘
 - 1 < 
p˘
 &&Öct <= ipct + 1)

983 
p˘
 = 
ù˘
 + (ipct <Öct);

987 i‡(0 <
p˘
)

989 i‡(
	`a•rötf
 (&
˚Œ
, "%.0f%%", 
p˘
) == -1)

990 
˚Œ
 = 
NULL
;

993 
˚Œ
 = 
	`°rdup
 ("-");

995 i‡(!
˚Œ
)

996 
	`xÆloc_dõ
 ();

1001 
TARGET_FIELD
:

1002 #ifde‡
HIDE_AUTOMOUNT_PREFIX


1006 i‡(
	`STRNCMP_LIT
 (
mou¡_poöt
, "/auto/") == 0)

1007 
mou¡_poöt
 += 5;

1008 i‡(
	`STRNCMP_LIT
 (
mou¡_poöt
, "/tmp_mnt/") == 0)

1009 
mou¡_poöt
 += 8;

1011 
˚Œ
 = 
	`x°rdup
 (
mou¡_poöt
);

1015 
	`as£π
 (!"unhandled field");

1018 i‡(!
˚Œ
)

1019 
	`as£π
 (!"empty cell");

1021 
	`hide_¥obÀm©ic_ch¨s
 (
˚Œ
);

1022 
cﬁumns
[
cﬁ
]->
width
 = 
	`MAX
 (cﬁumns[cﬁ]->width, 
	`mbswidth
 (
˚Œ
, 0));

1023 
èbÀ
[
ƒows
 - 1][
cﬁ
] = 
˚Œ
;

1025 
	`‰ì
 (
dev_«me
);

1026 
	}
}

1030 
boﬁ


1031 
	$gë_disk
 (c⁄° *
disk
)

1033 
mou¡_íåy
 c⁄° *
me
;

1034 
mou¡_íåy
 c⁄° *
be°_m©ch
 = 
NULL
;

1036 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

1037 i‡(
	`STREQ
 (
disk
, 
me
->
me_dev«me
))

1038 
be°_m©ch
 = 
me
;

1040 i‡(
be°_m©ch
)

1042 
	`gë_dev
 (
be°_m©ch
->
me_dev«me
, be°_m©ch->
me_mou¡dú
, 
NULL
,

1043 
be°_m©ch
->
me_ty≥
, be°_m©ch->
me_dummy
,

1044 
be°_m©ch
->
me_ªmŸe
, 
NULL
, 
Ál£
);

1045  
åue
;

1048  
Ál£
;

1049 
	}
}

1055 
	$gë_poöt
 (c⁄° *
poöt
, c⁄° 
°©
 *
°©p
)

1057 
°©
 
disk_°©s
;

1058 
mou¡_íåy
 *
me
;

1059 
mou¡_íåy
 c⁄° *
be°_m©ch
 = 
NULL
;

1064 *
ªsﬁved
 = 
	`ˇn⁄iˇlize_fûe_«me
 (
poöt
);

1065 i‡(
ªsﬁved
 &&Ñesolved[0] == '/')

1067 
size_t
 
ªsﬁved_Àn
 = 
	`°æí
 (
ªsﬁved
);

1068 
size_t
 
be°_m©ch_Àn
 = 0;

1070 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

1071 i‡(!
	`STREQ
 (
me
->
me_ty≥
, "lofs")

1072 && (!
be°_m©ch
 || be°_m©ch->
me_dummy
 || !
me
->me_dummy))

1074 
size_t
 
Àn
 = 
	`°æí
 (
me
->
me_mou¡dú
);

1075 i‡(
be°_m©ch_Àn
 <
Àn
 &&Üí <
ªsﬁved_Àn


1076 && (
Àn
 == 1

1077 || ((
Àn
 =
ªsﬁved_Àn
 || 
ªsﬁved
[len] == '/')

1078 && 
	`STREQ_LEN
 (
me
->
me_mou¡dú
, 
ªsﬁved
, 
Àn
))))

1080 
be°_m©ch
 = 
me
;

1081 
be°_m©ch_Àn
 = 
Àn
;

1085 
	`‰ì
 (
ªsﬁved
);

1086 i‡(
be°_m©ch


1087 && (
	`°©
 (
be°_m©ch
->
me_mou¡dú
, &
disk_°©s
) != 0

1088 || 
disk_°©s
.
°_dev
 !
°©p
->st_dev))

1089 
be°_m©ch
 = 
NULL
;

1091 i‡(! 
be°_m©ch
)

1092 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

1094 i‡(
me
->
me_dev
 =(
dev_t
) -1)

1096 i‡(
	`°©
 (
me
->
me_mou¡dú
, &
disk_°©s
) == 0)

1097 
me
->
me_dev
 = 
disk_°©s
.
°_dev
;

1103 i‡(
î∫o
 =
EIO
)

1105 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸe
 (
me
->
me_mou¡dú
));

1106 
exô_°©us
 = 
EXIT_FAILURE
;

1110 
me
->
me_dev
 = (
dev_t
) -2;

1114 i‡(
°©p
->
°_dev
 =
me
->
me_dev


1115 && !
	`STREQ
 (
me
->
me_ty≥
, "lofs")

1116 && (!
be°_m©ch
 || be°_m©ch->
me_dummy
 || !
me
->me_dummy))

1119 i‡(
	`°©
 (
me
->
me_mou¡dú
, &
disk_°©s
) != 0

1120 || 
disk_°©s
.
°_dev
 !
me
->
me_dev
)

1121 
me
->
me_dev
 = (
dev_t
) -2;

1123 
be°_m©ch
 = 
me
;

1127 i‡(
be°_m©ch
)

1128 
	`gë_dev
 (
be°_m©ch
->
me_dev«me
, be°_m©ch->
me_mou¡dú
, 
poöt
,

1129 
be°_m©ch
->
me_ty≥
, be°_m©ch->
me_dummy
, be°_m©ch->
me_ªmŸe
,

1130 
NULL
, 
Ál£
);

1138 *
mp
 = 
	`föd_mou¡_poöt
 (
poöt
, 
°©p
);

1139 i‡(
mp
)

1141 
	`gë_dev
 (
NULL
, 
mp
, NULL, NULL, 
Ál£
, false, NULL, false);

1142 
	`‰ì
 (
mp
);

1145 
	}
}

1151 
	$gë_íåy
 (c⁄° *
«me
, 
°©
 c⁄° *
°©p
)

1153 i‡((
	`S_ISBLK
 (
°©p
->
°_mode
Ë|| 
	`S_ISCHR
 (statp->st_mode))

1154 && 
	`gë_disk
 (
«me
))

1157 
	`gë_poöt
 (
«me
, 
°©p
);

1158 
	}
}

1164 
	$gë_Æl_íåõs
 ()

1166 
mou¡_íåy
 *
me
;

1168 i‡(!
show_Æl_fs
)

1169 
	`fûãr_mou¡_li°
 ();

1171 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

1172 
	`gë_dev
 (
me
->
me_dev«me
, me->
me_mou¡dú
, 
NULL
, me->
me_ty≥
,

1173 
me
->
me_dummy
, me->
me_ªmŸe
, 
NULL
, 
åue
);

1174 
	}
}

1179 
	$add_fs_ty≥
 (c⁄° *
f°y≥
)

1181 
fs_ty≥_li°
 *
f•
;

1183 
f•
 = 
	`xmÆloc
 ( *fsp);

1184 
f•
->
fs_«me
 = (*Ë
f°y≥
;

1185 
f•
->
fs_√xt
 = 
fs_£À˘_li°
;

1186 
fs_£À˘_li°
 = 
f•
;

1187 
	}
}

1192 
	$add_ex˛uded_fs_ty≥
 (c⁄° *
f°y≥
)

1194 
fs_ty≥_li°
 *
f•
;

1196 
f•
 = 
	`xmÆloc
 ( *fsp);

1197 
f•
->
fs_«me
 = (*Ë
f°y≥
;

1198 
f•
->
fs_√xt
 = 
fs_ex˛ude_li°
;

1199 
fs_ex˛ude_li°
 = 
f•
;

1200 
	}
}

1203 
	$ußge
 (
°©us
)

1205 i‡(
°©us
 !
EXIT_SUCCESS
)

1206 
	`emô_åy_hñp
 ();

1209 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]...\n"), 
¥ogøm_«me
);

1210 
	`Âuts
 (
	`_
("\
 inf‹m©i⁄ábouàthêfûêsy°em o¿whichÉach FILEÑesides,\n\
áŒ fûêsy°em†by deÁu….\n\
"), 
°dout
);

1215 
	`emô_m™d©‹y_¨g_nŸe
 ();

1217 
	`Âuts
 (
	`_
("\
-a, --Æ» in˛udêdummy fûêsy°ems\n\
-B, --block-size=SIZE sˇÀ size†by SIZE bef‹ê¥ötögÅhem. E.g.,\n\
'-BM'Öröt†size†ö unô†o‡1,048,576 byãs.\n\
 SIZE f‹m© bñow.\n\
--tŸÆÖrodu˚á gøndÅŸÆ\n\
-h, --hum™-ªadabÀÖröàsize†ö hum™ÑódabÀ f‹m© (e.g., 1K 234M 2G)\
\n\
-H, --sòÜikewi£, buàu£Öowî†o‡1000ÇŸ 1024\n\
"), 
°dout
);

1227 
	`Âuts
 (
	`_
("\
-i, --öode†Üi° inodêöf‹m©i⁄ in°ód o‡block ußge\n\
-kÜikê--block-size=1K\n\
-l, --loˇ»ÜimôÜi°ögÅÿloˇ»fûêsy°ems\n\
--no-syn¯ dÿnŸ invokêsyn¯bef‹êgëtög ußgêöfÿ(deÁu…)\
\n\
"), 
°dout
);

1234 
	`Âuts
 (
	`_
("\
--ouçut[=FIELD_LIST] u£Åhêouçuàf‹m© deföed by FIELD_LIST,\n\
ÖröàÆ»fõld†i‡FIELD_LIST i†omôãd.\n\
-P, --p‹èbûôy u£ÅhêPOSIX ouçuàf‹m©\n\
--syn¯ invokêsyn¯bef‹êgëtög ußgêöfo\n\
-t, --ty≥=TYPEÜimôÜi°ögÅÿfûêsy°em†o‡ty≥ TYPE\n\
-T, --¥öt-ty≥Öröàfûêsy°emÅy≥\n\
-x, --ex˛ude-ty≥=TYPEÜimôÜi°ögÅÿfûêsy°em†nŸ o‡ty≥ TYPE\n\
-v (ign‹ed)\n\
"), 
°dout
);

1244 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

1245 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

1246 
	`emô_blocksize_nŸe
 ("DF");

1247 
	`emô_size_nŸe
 ();

1248 
	`Âuts
 (
	`_
("\n\
_LIST i†®comma-£∑øãdÜi° o‡cﬁumn†tÿbêö˛uded. VÆid\n\
Çame†¨e: 'sour˚', 'f°y≥', 'ôŸÆ', 'iu£d', 'üvaû', 'ù˚¡',\n\
'size', 'u£d', 'avaû', 'p˚¡'ánd 'èrgë' (£êöfÿ∑ge).\n\
"), 
°dout
);

1253 
	`emô_™cûœry_öfo
 ();

1255 
	`exô
 (
°©us
);

1256 
	}
}

1259 
	$maö
 (
¨gc
, **
¨gv
)

1261 
°©
 *
°©s
 
	`IF_LINT
 ( = 0);

1263 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1264 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1265 
	`£éoˇÀ
 (
LC_ALL
, "");

1266 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1267 
	`ãxtdomaö
 (
PACKAGE
);

1269 
	`©exô
 (
˛o£_°dout
);

1271 
fs_£À˘_li°
 = 
NULL
;

1272 
fs_ex˛ude_li°
 = 
NULL
;

1273 
show_Æl_fs
 = 
Ál£
;

1274 
show_li°ed_fs
 = 
Ál£
;

1275 
hum™_ouçut_›ts
 = -1;

1276 
¥öt_ty≥
 = 
Ál£
;

1277 
fûe_sy°ems_¥o˚s£d
 = 
Ál£
;

1278 
exô_°©us
 = 
EXIT_SUCCESS
;

1279 
¥öt_gønd_tŸÆ
 = 
Ál£
;

1280 
gønd_fsu
.
fsu_blocksize
 = 1;

1283 
boﬁ
 
posix_f‹m©
 = 
Ál£
;

1285 c⁄° *
msg_mut_ex˛
 = 
	`_
("options %sánd %sáre mutuallyÉxclusive");

1287 
åue
)

1289 
oi
 = -1;

1290 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "aB:iF:hHklmPTt:vx:", 
l⁄g_›ti⁄s
,

1291 &
oi
);

1292 i‡(
c
 == -1)

1295 
c
)

1298 
show_Æl_fs
 = 
åue
;

1302 
°πﬁ_îr‹
 
e
 = 
	`hum™_›ti⁄s
 (
›èrg
, &
hum™_ouçut_›ts
,

1303 &
ouçut_block_size
);

1304 i‡(
e
 !
LONGINT_OK
)

1305 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

1309 i‡(
hódî_mode
 =
OUTPUT_MODE
)

1311 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-i", "--output");

1312 
	`ußge
 (
EXIT_FAILURE
);

1314 
hódî_mode
 = 
INODES_MODE
;

1317 
hum™_ouçut_›ts
 = 
hum™_autosˇÀ
 | 
hum™_SI
 | 
hum™_ba£_1024
;

1318 
ouçut_block_size
 = 1;

1321 
hum™_ouçut_›ts
 = 
hum™_autosˇÀ
 | 
hum™_SI
;

1322 
ouçut_block_size
 = 1;

1325 
hum™_ouçut_›ts
 = 0;

1326 
ouçut_block_size
 = 1024;

1329 
show_loˇl_fs
 = 
åue
;

1331 
MEGABYTES_OPTION
:

1335 
	`îr‹
 (0, 0, "%s%s", 
	`_
("warning: "),

1336 
	`_
("long option '--megabytes' is deprecated"

1339 
hum™_ouçut_›ts
 = 0;

1340 
ouçut_block_size
 = 1024 * 1024;

1343 i‡(
hódî_mode
 =
OUTPUT_MODE
)

1345 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-T", "--output");

1346 
	`ußge
 (
EXIT_FAILURE
);

1348 
¥öt_ty≥
 = 
åue
;

1351 i‡(
hódî_mode
 =
OUTPUT_MODE
)

1353 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-P", "--output");

1354 
	`ußge
 (
EXIT_FAILURE
);

1356 
posix_f‹m©
 = 
åue
;

1358 
SYNC_OPTION
:

1359 
ªquúe_sync
 = 
åue
;

1361 
NO_SYNC_OPTION
:

1362 
ªquúe_sync
 = 
Ál£
;

1368 
	`add_fs_ty≥
 (
›èrg
);

1375 
	`add_ex˛uded_fs_ty≥
 (
›èrg
);

1378 
OUTPUT_OPTION
:

1379 i‡(
hódî_mode
 =
INODES_MODE
)

1381 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-i", "--output");

1382 
	`ußge
 (
EXIT_FAILURE
);

1384 i‡(
posix_f‹m©
 && 
hódî_mode
 =
DEFAULT_MODE
)

1386 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-P", "--output");

1387 
	`ußge
 (
EXIT_FAILURE
);

1389 i‡(
¥öt_ty≥
)

1391 
	`îr‹
 (0, 0, 
msg_mut_ex˛
, "-T", "--output");

1392 
	`ußge
 (
EXIT_FAILURE
);

1394 
hódî_mode
 = 
OUTPUT_MODE
;

1395 i‡(
›èrg
)

1396 
	`decode_ouçut_¨g
 (
›èrg
);

1399 
TOTAL_OPTION
:

1400 
¥öt_gønd_tŸÆ
 = 
åue
;

1403 
ˇ£_GETOPT_HELP_CHAR
;

1404 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1407 
	`ußge
 (
EXIT_FAILURE
);

1411 i‡(
hum™_ouçut_›ts
 == -1)

1413 i‡(
posix_f‹m©
)

1415 
hum™_ouçut_›ts
 = 0;

1416 
ouçut_block_size
 = (
	`gëív
 ("POSIXLY_CORRECT") ? 512 : 1024);

1419 
	`hum™_›ti⁄s
 (
	`gëív
 ("DF_BLOCK_SIZE"),

1420 &
hum™_ouçut_›ts
, &
ouçut_block_size
);

1423 i‡(
hódî_mode
 =
INODES_MODE
 || hódî_modê=
OUTPUT_MODE
)

1425 i‡(
hum™_ouçut_›ts
 & 
hum™_autosˇÀ
)

1426 
hódî_mode
 = 
HUMAN_MODE
;

1427 i‡(
posix_f‹m©
)

1428 
hódî_mode
 = 
POSIX_MODE
;

1432 
boﬁ
 
m©ch
 = 
Ál£
;

1433 
fs_ty≥_li°
 *
fs_ö˛
;

1434 
fs_ö˛
 = 
fs_£À˘_li°
; fs_ö˛; fs_ö˛ = fs_ö˛->
fs_√xt
)

1436 
fs_ty≥_li°
 *
fs_ex˛
;

1437 
fs_ex˛
 = 
fs_ex˛ude_li°
; fs_ex˛; fs_ex˛ = fs_ex˛->
fs_√xt
)

1439 i‡(
	`STREQ
 (
fs_ö˛
->
fs_«me
, 
fs_ex˛
->fs_name))

1441 
	`îr‹
 (0, 0,

1442 
	`_
("file systemÅype %s both selectedándÉxcluded"),

1443 
	`quŸe
 (
fs_ö˛
->
fs_«me
));

1444 
m©ch
 = 
åue
;

1449 i‡(
m©ch
)

1450 
	`exô
 (
EXIT_FAILURE
);

1453 i‡(
›töd
 < 
¨gc
)

1455 
i
;

1460 
°©s
 = 
	`xnmÆloc
 (
¨gc
 - 
›töd
,  *stats);

1461 
i
 = 
›töd
; i < 
¨gc
; ++i)

1465 
fd
 = 
	`›í
 (
¨gv
[
i
], 
O_RDONLY
 | 
O_NOCTTY
);

1466 i‡((
fd
 < 0 || 
	`f°©
 (fd, &
°©s
[
i
 - 
›töd
]))

1467 && 
	`°©
 (
¨gv
[
i
], &
°©s
[ò- 
›töd
]))

1469 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸe
 (
¨gv
[
i
]));

1470 
exô_°©us
 = 
EXIT_FAILURE
;

1471 
¨gv
[
i
] = 
NULL
;

1473 i‡(0 <
fd
)

1474 
	`˛o£
 (
fd
);

1478 
mou¡_li°
 =

1479 
	`ªad_fûe_sy°em_li°
 ((
fs_£À˘_li°
 !
NULL


1480 || 
fs_ex˛ude_li°
 !
NULL


1481 || 
¥öt_ty≥


1482 || 
fõld_d©a
[
FSTYPE_FIELD
].
u£d


1483 || 
show_loˇl_fs
));

1485 i‡(
mou¡_li°
 =
NULL
)

1491 
°©us
 = 0;

1492 i‡–! (
›töd
 < 
¨gc
)

1493 || (
show_Æl_fs


1494 || 
show_loˇl_fs


1495 || 
fs_£À˘_li°
 !
NULL


1496 || 
fs_ex˛ude_li°
 !
NULL
))

1498 
°©us
 = 
EXIT_FAILURE
;

1500 c⁄° *
w¨nög
 = (
°©us
 =0 ? 
	`_
("Warning: ") : "");

1501 
	`îr‹
 (
°©us
, 
î∫o
, "%s%s", 
w¨nög
,

1502 
	`_
("cannotÑeadÅable of mounted file systems"));

1505 i‡(
ªquúe_sync
)

1506 
	`sync
 ();

1508 
	`gë_fõld_li°
 ();

1509 
	`gë_hódî
 ();

1511 i‡(
›töd
 < 
¨gc
)

1513 
i
;

1516 
show_li°ed_fs
 = 
åue
;

1518 
i
 = 
›töd
; i < 
¨gc
; ++i)

1519 i‡(
¨gv
[
i
])

1520 
	`gë_íåy
 (
¨gv
[
i
], &
°©s
[ò- 
›töd
]);

1523 
	`gë_Æl_íåõs
 ();

1525 i‡(
fûe_sy°ems_¥o˚s£d
)

1527 i‡(
¥öt_gønd_tŸÆ
)

1528 
	`gë_dev
 ("total",

1529 (
fõld_d©a
[
SOURCE_FIELD
].
u£d
 ? "-" : "total"),

1530 
NULL
, NULL, 
Ál£
, fÆ£, &
gønd_fsu
, false);

1532 
	`¥öt_èbÀ
 ();

1538 i‡(
exô_°©us
 =
EXIT_SUCCESS
)

1539 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("no file systemsÖrocessed"));

1542 
	`IF_LINT
 (
	`‰ì
 (
cﬁumns
));

1544 
	`exô
 (
exô_°©us
);

1545 
	}
}

	@dircolors.c

18 
	~<c⁄fig.h
>

20 
	~<sys/ty≥s.h
>

21 
	~<gë›t.h
>

23 
	~"sy°em.h
"

24 
	~"dúcﬁ‹s.h
"

25 
	~"c-°rˇ£.h
"

26 
	~"îr‹.h
"

27 
	~"ob°ack.h
"

28 
	~"quŸe.h
"

29 
	~"°dio--.h
"

30 
	~"x°∫dup.h
"

33 
	#PROGRAM_NAME
 "dúcﬁ‹s"

	)

35 
	#AUTHORS
 
	`¥›î_«me
 ("H. Pëî Anvö")

	)

37 
	#ob°ack_chunk_Æloc
 
mÆloc


	)

38 
	#ob°ack_chunk_‰ì
 
‰ì


	)

40 
	eShñl_sy¡ax


42 
	mSHELL_SYNTAX_BOURNE
,

43 
	mSHELL_SYNTAX_C
,

44 
	mSHELL_SYNTAX_UNKNOWN


47 
	#APPEND_CHAR
(
C
Ë
	`ob°ack_1grow
 (&
lsc_ob°ack
, C)

	)

48 
	#APPEND_TWO_CHAR_STRING
(
S
) \

51 
	`APPEND_CHAR
 (
S
[0]); \

52 
	`APPEND_CHAR
 (
S
[1]); \

54 0)

	)

58 
ob°ack
 
	glsc_ob°ack
;

60 c⁄° *c⁄° 
	g¶ack_codes
[] =

67 "MULTIHARDLINK", "CLRTOEOL", 
NULL


70 c⁄° *c⁄° 
	gls_codes
[] =

74 "su", "su", "sg", "sg", "°", "ow", "ow", "tw", "tw", "ˇ", "mh", "˛", 
NULL


76 
vîify
 (
ARRAY_CARDINALITY
 (
¶ack_codes
Ë=ARRAY_CARDINALITY (
ls_codes
));

78 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

80 {"bou∫e-shñl", 
no_¨gumít
, 
NULL
, 'b'},

81 {"sh", 
no_¨gumít
, 
NULL
, 'b'},

82 {"csh", 
no_¨gumít
, 
NULL
, 'c'},

83 {"c-shñl", 
no_¨gumít
, 
NULL
, 'c'},

84 {"¥öt-d©aba£", 
no_¨gumít
, 
NULL
, 'p'},

85 {
GETOPT_HELP_OPTION_DECL
},

86 {
GETOPT_VERSION_OPTION_DECL
},

87 {
NULL
, 0, NULL, 0}

91 
	$ußge
 (
°©us
)

93 i‡(
°©us
 !
EXIT_SUCCESS
)

94 
	`emô_åy_hñp
 ();

97 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]\n"), 
¥ogøm_«me
);

98 
	`Âuts
 (
	`_
("\
 comm™d†tÿ£àthêLS_COLORSÉnvú⁄míàv¨übÀ.\n\
\n\
 f‹m© o‡ouçut:\n\
-b, --sh, --bou∫e-shñ» ouçuàBou∫êshñ»codêtÿ£àLS_COLORS\n\
-c, --csh, --c-shñ» ouçuàC shñ»codêtÿ£àLS_COLORS\n\
-p, --¥öt-d©aba£ ouçuàdeÁu…s\n\
"), 
°dout
);

106 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

107 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

108 
	`Âuts
 (
	`_
("\
\n\
 FILE i†•ecifõd,Ñód iàtÿdëîmöêwhich cﬁ‹†tÿu£ f‹ which\n\
Åy≥†™dÉxãnsi⁄s. Othîwi£,áÖªcompûed d©aba£ i†u£d.\n\
 dëaû†⁄Åhêf‹m© o‡the£ fûes,Ñu¿'dúcﬁ‹†--¥öt-d©aba£'.\n\
"), 
°dout
);

114 
	`emô_™cûœry_öfo
 ();

117 
	`exô
 (
°©us
);

118 
	}
}

123 
Shñl_sy¡ax


124 
	$guess_shñl_sy¡ax
 ()

126 *
shñl
;

128 
shñl
 = 
	`gëív
 ("SHELL");

129 i‡(
shñl
 =
NULL
 || *shell == '\0')

130  
SHELL_SYNTAX_UNKNOWN
;

132 
shñl
 = 
	`œ°_comp⁄ít
 (shell);

134 i‡(
	`STREQ
 (
shñl
, "csh") || STREQ (shell, "tcsh"))

135  
SHELL_SYNTAX_C
;

137  
SHELL_SYNTAX_BOURNE
;

138 
	}
}

141 
	$∑r£_löe
 (c⁄° *
löe
, **
keyw‹d
, **
¨g
)

143 c⁄° *
p
;

144 c⁄° *
keyw‹d_°¨t
;

145 c⁄° *
¨g_°¨t
;

147 *
keyw‹d
 = 
NULL
;

148 *
¨g
 = 
NULL
;

150 
p
 = 
löe
; 
	`is•a˚
 (
	`to_uch¨
 (*p)); ++p)

154 i‡(*
p
 == '\0' || *p == '#')

157 
keyw‹d_°¨t
 = 
p
;

159 !
	`is•a˚
 (
	`to_uch¨
 (*
p
)) && *p != '\0')

161 ++
p
;

164 *
keyw‹d
 = 
	`x°∫dup
 (
keyw‹d_°¨t
, 
p
 - keyword_start);

165 i‡(*
p
 == '\0')

170 ++
p
;

172 
	`is•a˚
 (
	`to_uch¨
 (*
p
)));

174 i‡(*
p
 == '\0' || *p == '#')

177 
¨g_°¨t
 = 
p
;

179 *
p
 != '\0' && *p != '#')

180 ++
p
;

182 --
p
; 
	`is•a˚
 (
	`to_uch¨
 (*p)); --p)

184 ++
p
;

186 *
¨g
 = 
	`x°∫dup
 (
¨g_°¨t
, 
p
 -árg_start);

187 
	}
}

193 
	$≠≥nd_quŸed
 (c⁄° *
°r
)

195 
boﬁ
 
√ed_back¶ash
 = 
åue
;

197 *
°r
 != '\0')

199 *
°r
)

202 
	`APPEND_CHAR
 ('\'');

203 
	`APPEND_CHAR
 ('\\');

204 
	`APPEND_CHAR
 ('\'');

205 
√ed_back¶ash
 = 
åue
;

210 
√ed_back¶ash
 = !need_backslash;

215 i‡(
√ed_back¶ash
)

216 
	`APPEND_CHAR
 ('\\');

220 
√ed_back¶ash
 = 
åue
;

224 
	`APPEND_CHAR
 (*
°r
);

225 ++
°r
;

227 
	}
}

236 
boﬁ


237 
	$dc_∑r£_°ªam
 (
FILE
 *
Â
, c⁄° *
fûíame
)

239 
size_t
 
löe_numbî
 = 0;

240 c⁄° *
√xt_G_löe
 = 
G_löe
;

241 *
öput_löe
 = 
NULL
;

242 
size_t
 
öput_löe_size
 = 0;

243 c⁄° *
löe
;

244 c⁄° *
ãrm
;

245 
boﬁ
 
ok
 = 
åue
;

248 íum { 
ST_TERMNO
, 
ST_TERMYES
, 
ST_TERMSURE
, 
ST_GLOBAL
 } 
°©e
 = ST_GLOBAL;

251 
ãrm
 = 
	`gëív
 ("TERM");

252 i‡(
ãrm
 =
NULL
 || *term == '\0')

253 
ãrm
 = "none";

257 *
keywd
, *
¨g
;

258 
boﬁ
 
uƒecognized
;

260 ++
löe_numbî
;

262 i‡(
Â
)

264 i‡(
	`gëlöe
 (&
öput_löe
, &
öput_löe_size
, 
Â
) <= 0)

266 
	`‰ì
 (
öput_löe
);

269 
löe
 = 
öput_löe
;

273 i‡(
√xt_G_löe
 =
G_löe
 +  G_line)

275 
löe
 = 
√xt_G_löe
;

276 
√xt_G_löe
 +
	`°æí
 (next_G_line) + 1;

279 
	`∑r£_löe
 (
löe
, &
keywd
, &
¨g
);

281 i‡(
keywd
 =
NULL
)

284 i‡(
¨g
 =
NULL
)

286 
	`îr‹
 (0, 0, 
	`_
("%s:%lu: invalidÜine; missing secondÅoken"),

287 
fûíame
, (Ë
löe_numbî
);

288 
ok
 = 
Ál£
;

289 
	`‰ì
 (
keywd
);

293 
uƒecognized
 = 
Ál£
;

294 i‡(
	`c_°rˇ£cmp
 (
keywd
, "TERM") == 0)

296 i‡(
	`STREQ
 (
¨g
, 
ãrm
))

297 
°©e
 = 
ST_TERMSURE
;

298 i‡(
°©e
 !
ST_TERMSURE
)

299 
°©e
 = 
ST_TERMNO
;

303 i‡(
°©e
 =
ST_TERMSURE
)

304 
°©e
 = 
ST_TERMYES
;

306 i‡(
°©e
 !
ST_TERMNO
)

308 i‡(
keywd
[0] == '.')

310 
	`APPEND_CHAR
 ('*');

311 
	`≠≥nd_quŸed
 (
keywd
);

312 
	`APPEND_CHAR
 ('=');

313 
	`≠≥nd_quŸed
 (
¨g
);

314 
	`APPEND_CHAR
 (':');

316 i‡(
keywd
[0] == '*')

318 
	`≠≥nd_quŸed
 (
keywd
);

319 
	`APPEND_CHAR
 ('=');

320 
	`≠≥nd_quŸed
 (
¨g
);

321 
	`APPEND_CHAR
 (':');

323 i‡(
	`c_°rˇ£cmp
 (
keywd
, "OPTIONS") == 0

324 || 
	`c_°rˇ£cmp
 (
keywd
, "COLOR") == 0

325 || 
	`c_°rˇ£cmp
 (
keywd
, "EIGHTBIT") == 0)

331 
i
;

333 
i
 = 0; 
¶ack_codes
[i] !
NULL
; ++i)

334 i‡(
	`c_°rˇ£cmp
 (
keywd
, 
¶ack_codes
[
i
]) == 0)

337 i‡(
¶ack_codes
[
i
] !
NULL
)

339 
	`APPEND_TWO_CHAR_STRING
 (
ls_codes
[
i
]);

340 
	`APPEND_CHAR
 ('=');

341 
	`≠≥nd_quŸed
 (
¨g
);

342 
	`APPEND_CHAR
 (':');

346 
uƒecognized
 = 
åue
;

352 
uƒecognized
 = 
åue
;

356 i‡(
uƒecognized
 && (
°©e
 =
ST_TERMSURE
 || sèã =
ST_TERMYES
))

358 
	`îr‹
 (0, 0, 
	`_
("%s:%lu: unrecognized keyword %s"),

359 (
fûíame
 ? 
	`quŸe
 (fûíameË: 
	`_
("<internal>")),

360 (Ë
löe_numbî
, 
keywd
);

361 
ok
 = 
Ál£
;

364 
	`‰ì
 (
keywd
);

365 
	`‰ì
 (
¨g
);

368  
ok
;

369 
	}
}

371 
boﬁ


372 
	$dc_∑r£_fûe
 (c⁄° *
fûíame
)

374 
boﬁ
 
ok
;

376 i‡(! 
	`STREQ
 (
fûíame
, "-"Ë&& 
	`‰e›í
 (fûíame, "r", 
°dö
Ë=
NULL
)

378 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

379  
Ál£
;

382 
ok
 = 
	`dc_∑r£_°ªam
 (
°dö
, 
fûíame
);

384 i‡(
	`f˛o£
 (
°dö
) != 0)

386 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸe
 (
fûíame
));

387  
Ál£
;

390  
ok
;

391 
	}
}

394 
	$maö
 (
¨gc
, **
¨gv
)

396 
boﬁ
 
ok
 = 
åue
;

397 
›tc
;

398 
Shñl_sy¡ax
 
sy¡ax
 = 
SHELL_SYNTAX_UNKNOWN
;

399 
boﬁ
 
¥öt_d©aba£
 = 
Ál£
;

401 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

402 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

403 
	`£éoˇÀ
 (
LC_ALL
, "");

404 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

405 
	`ãxtdomaö
 (
PACKAGE
);

407 
	`©exô
 (
˛o£_°dout
);

409 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "b˝", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

410 
›tc
)

413 
sy¡ax
 = 
SHELL_SYNTAX_BOURNE
;

417 
sy¡ax
 = 
SHELL_SYNTAX_C
;

421 
¥öt_d©aba£
 = 
åue
;

424 
ˇ£_GETOPT_HELP_CHAR
;

426 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

429 
	`ußge
 (
EXIT_FAILURE
);

432 
¨gc
 -
›töd
;

433 
¨gv
 +
›töd
;

437 i‡(
¥öt_d©aba£
 && 
sy¡ax
 !
SHELL_SYNTAX_UNKNOWN
)

439 
	`îr‹
 (0, 0,

440 
	`_
("the optionsÅo output dircolors' internal databaseánd\n"

442 
	`ußge
 (
EXIT_FAILURE
);

445 i‡(!
¥öt_d©aba£
 < 
¨gc
)

447 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[!
¥öt_d©aba£
]));

448 i‡(
¥öt_d©aba£
)

449 
	`Ârötf
 (
°dîr
, "%s\n",

450 
	`_
("file operands cannot be combined with "

452 
	`ußge
 (
EXIT_FAILURE
);

455 i‡(
¥öt_d©aba£
)

457 c⁄° *
p
 = 
G_löe
;

458 
p
 - 
G_löe
 <  G_line)

460 
	`puts
 (
p
);

461 
p
 +
	`°æí
 (p) + 1;

467 i‡(
sy¡ax
 =
SHELL_SYNTAX_UNKNOWN
)

469 
sy¡ax
 = 
	`guess_shñl_sy¡ax
 ();

470 i‡(
sy¡ax
 =
SHELL_SYNTAX_UNKNOWN
)

472 
	`îr‹
 (
EXIT_FAILURE
, 0,

473 
	`_
("no SHELLÉnvironment variable,ándÇo shellÅype option given"));

477 
	`ob°ack_öô
 (&
lsc_ob°ack
);

478 i‡(
¨gc
 == 0)

479 
ok
 = 
	`dc_∑r£_°ªam
 (
NULL
, NULL);

481 
ok
 = 
	`dc_∑r£_fûe
 (
¨gv
[0]);

483 i‡(
ok
)

485 
size_t
 
Àn
 = 
	`ob°ack_obje˘_size
 (&
lsc_ob°ack
);

486 *
s
 = 
	`ob°ack_föish
 (&
lsc_ob°ack
);

487 c⁄° *
¥efix
;

488 c⁄° *
suffix
;

490 i‡(
sy¡ax
 =
SHELL_SYNTAX_BOURNE
)

492 
¥efix
 = "LS_COLORS='";

493 
suffix
 = "';\nexport LS_COLORS\n";

497 
¥efix
 = "setenv LS_COLORS '";

498 
suffix
 = "'\n";

500 
	`Âuts
 (
¥efix
, 
°dout
);

501 
	`fwrôe
 (
s
, 1, 
Àn
, 
°dout
);

502 
	`Âuts
 (
suffix
, 
°dout
);

506 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

507 
	}
}

	@dircolors.h

1 c⁄° 
	gG_löe
[] =

	@dirname.c

20 
	~<c⁄fig.h
>

21 
	~<gë›t.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

29 
	#PROGRAM_NAME
 "dú«me"

	)

31 
	#AUTHORS
 \

32 
	`¥›î_«me
 ("David MacKenzie"), \

33 
	`¥›î_«me
 ("Jim Meyîög")

	)

35 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

37 {"zîo", 
no_¨gumít
, 
NULL
, 'z'},

38 {
GETOPT_HELP_OPTION_DECL
},

39 {
GETOPT_VERSION_OPTION_DECL
},

40 {
NULL
, 0, NULL, 0}

44 
	$ußge
 (
°©us
)

46 i‡(
°©us
 !
EXIT_SUCCESS
)

47 
	`emô_åy_hñp
 ();

50 
	`¥ötf
 (
	`_
("\
: %s [OPTION] NAME...\n\
"),

53 
¥ogøm_«me
);

54 
	`Âuts
 (
	`_
("\
Éach NAME wôh it†œ°Ç⁄-¶ash comp⁄íà™dÅøûög sœshes\n\
; i‡NAME c⁄èö†nÿ/'s, ouçuà'.' (mónögÅhêcuºíàdúe˘‹y).\n\
\n\
"), 
°dout
);

59 
	`Âuts
 (
	`_
("\
-z, --zîÿ sï¨©êouçuàwôh NULÑ©hîÅh™Çewlöe\n\
"), 
°dout
);

62 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

63 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

64 
	`¥ötf
 (
	`_
("\
\n\
:\n\
%s /usr/bin/ -> \"/usr\"\n\
%s dir1/str dir2/str -> \"dir1\" followed by \"dir2\"\n\
%s stdio.h -> \".\"\n\
"),

71 
¥ogøm_«me
,Örogram_name,Örogram_name);

72 
	`emô_™cûœry_öfo
 ();

74 
	`exô
 (
°©us
);

75 
	}
}

78 
	$maö
 (
¨gc
, **
¨gv
)

80 c⁄° 
dŸ
 = '.';

81 
boﬁ
 
u£_nuls
 = 
Ál£
;

82 c⁄° *
ªsu…
;

83 
size_t
 
Àn
;

85 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

86 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

87 
	`£éoˇÀ
 (
LC_ALL
, "");

88 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

89 
	`ãxtdomaö
 (
PACKAGE
);

91 
	`©exô
 (
˛o£_°dout
);

93 
åue
)

95 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "z", 
l⁄g›ts
, 
NULL
);

97 i‡(
c
 == -1)

100 
c
)

103 
u£_nuls
 = 
åue
;

106 
ˇ£_GETOPT_HELP_CHAR
;

107 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

110 
	`ußge
 (
EXIT_FAILURE
);

114 i‡(
¨gc
 < 
›töd
 + 1)

116 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

117 
	`ußge
 (
EXIT_FAILURE
);

120 ; 
›töd
 < 
¨gc
; optind++)

122 
ªsu…
 = 
¨gv
[
›töd
];

123 
Àn
 = 
	`dú_Àn
 (
ªsu…
);

125 i‡(! 
Àn
)

127 
ªsu…
 = &
dŸ
;

128 
Àn
 = 1;

131 
	`fwrôe
 (
ªsu…
, 1, 
Àn
, 
°dout
);

132 
	`putch¨
 (
u£_nuls
 ? '\0' :'\n');

135 
	`exô
 (
EXIT_SUCCESS
);

136 
	}
}

	@du.c

26 
	~<c⁄fig.h
>

27 
	~<gë›t.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<as£π.h
>

30 
	~"sy°em.h
"

31 
	~"¨gm©ch.h
"

32 
	~"¨gv-ôî.h
"

33 
	~"di-£t.h
"

34 
	~"îr‹.h
"

35 
	~"ex˛ude.h
"

36 
	~"Âröt·ime.h
"

37 
	~"hum™.h
"

38 
	~"mou¡li°.h
"

39 
	~"quŸe.h
"

40 
	~"quŸórg.h
"

41 
	~"°©-size.h
"

42 
	~"°©-time.h
"

43 
	~"°dio--.h
"

44 
	~"x·s.h
"

45 
	~"x°πﬁ.h
"

47 
boﬁ
 
·s_debug
;

50 
	#PROGRAM_NAME
 "du"

	)

52 
	#AUTHORS
 \

53 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

54 
	`¥›î_«me
 ("David MacKenzie"), \

55 
	`¥›î_«me
 ("Paul Eggert"), \

56 
	`¥›î_«me
 ("Jim Meyîög")

	)

58 #i‡
DU_DEBUG


59 
	#FTS_CROSS_CHECK
(
Fts
Ë
	`·s_¸oss_check
 (Fts)

	)

61 
	#FTS_CROSS_CHECK
(
Fts
)

	)

66 
di_£t
 *
	gdi_fûes
;

69 
di_£t
 *
	gdi_m¡
;

73 
size_t
 
	g¥ev_Àvñ
;

76 
	sduöfo


79 
uötmax_t
 
	msize
;

83 
time•ec
 
	mtmax
;

87 
ölöe
 

88 
	$duöfo_öô
 (
duöfo
 *
a
)

90 
a
->
size
 = 0;

91 
a
->
tmax
.
tv_£c
 = 
	`TYPE_MINIMUM
 (
time_t
);

92 
a
->
tmax
.
tv_n£c
 = -1;

93 
	}
}

96 
ölöe
 

97 
	$duöfo_£t
 (
duöfo
 *
a
, 
uötmax_t
 
size
, 
time•ec
 
tmax
)

99 
a
->
size
 = size;

100 
a
->
tmax
 =Åmax;

101 
	}
}

104 
ölöe
 

105 
	$duöfo_add
 (
duöfo
 *
a
, duöfÿc⁄° *
b
)

107 
uötmax_t
 
sum
 = 
a
->
size
 + 
b
->size;

108 
a
->
size
 =á->sizê<
sum
 ? sum : 
UINTMAX_MAX
;

109 i‡(
	`time•ec_cmp
 (
a
->
tmax
, 
b
->tmax) < 0)

110 
a
->
tmax
 = 
b
->tmax;

111 
	}
}

114 
	sduÀvñ


117 
duöfo
 
	mít
;

120 
duöfo
 
	msubdú
;

124 
boﬁ
 
	g›t_Æl
 = 
Ál£
;

128 
boﬁ
 
	g≠∑ª¡_size
 = 
Ál£
;

131 
boﬁ
 
	g›t_cou¡_Æl
 = 
Ál£
;

134 
boﬁ
 
	ghash_Æl
;

137 
boﬁ
 
	g›t_nul_ãrmö©e_ouçut
 = 
Ál£
;

140 
boﬁ
 
	g¥öt_gønd_tŸÆ
 = 
Ál£
;

143 
boﬁ
 
	g›t_£∑øã_dús
 = 
Ál£
;

148 
size_t
 
	gmax_dïth
 = 
SIZE_MAX
;

152 
ötmax_t
 
	g›t_thªshﬁd
 = 0;

155 
	ghum™_ouçut_›ts
;

158 
boﬁ
 
	g›t_time
 = 
Ál£
;

162 
	etime_ty≥


164 
	mtime_mtime
,

165 
	mtime_˘ime
,

166 
	mtime_©ime


169 
time_ty≥
 
	gtime_ty≥
 = 
time_mtime
;

172 c⁄° *
	gtime_°yÀ
 = 
NULL
;

175 c⁄° *
	gtime_f‹m©
 = 
NULL
;

178 
uötmax_t
 
	gouçut_block_size
;

181 
ex˛ude
 *
	gex˛ude
;

184 
duöfo
 
	gtŸ_dui
;

186 
	#IS_DIR_TYPE
(
Ty≥
) \

187 ((
Ty≥
Ë=
FTS_DP
 \

188 || (
Ty≥
Ë=
FTS_DNR
)

	)

194 
	mAPPARENT_SIZE_OPTION
 = 
CHAR_MAX
 + 1,

195 
	mEXCLUDE_OPTION
,

196 
	mFILES0_FROM_OPTION
,

197 
	mHUMAN_SI_OPTION
,

198 
	mFTS_DEBUG
,

199 
	mTIME_OPTION
,

200 
	mTIME_STYLE_OPTION


203 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

205 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

206 {"≠∑ª¡-size", 
no_¨gumít
, 
NULL
, 
APPARENT_SIZE_OPTION
},

207 {"block-size", 
ªquúed_¨gumít
, 
NULL
, 'B'},

208 {"byãs", 
no_¨gumít
, 
NULL
, 'b'},

209 {"cou¡-löks", 
no_¨gumít
, 
NULL
, 'l'},

211 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'L'},

212 {"dîe„ªn˚-¨gs", 
no_¨gumít
, 
NULL
, 'D'},

213 {"ex˛ude", 
ªquúed_¨gumít
, 
NULL
, 
EXCLUDE_OPTION
},

214 {"ex˛ude-‰om", 
ªquúed_¨gumít
, 
NULL
, 'X'},

215 {"fûes0-‰om", 
ªquúed_¨gumít
, 
NULL
, 
FILES0_FROM_OPTION
},

216 {"hum™-ªadabÀ", 
no_¨gumít
, 
NULL
, 'h'},

217 {"si", 
no_¨gumít
, 
NULL
, 
HUMAN_SI_OPTION
},

218 {"max-dïth", 
ªquúed_¨gumít
, 
NULL
, 'd'},

219 {"nuŒ", 
no_¨gumít
, 
NULL
, '0'},

220 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'P'},

221 {"⁄e-fûe-sy°em", 
no_¨gumít
, 
NULL
, 'x'},

222 {"£∑øã-dús", 
no_¨gumít
, 
NULL
, 'S'},

223 {"summ¨ize", 
no_¨gumít
, 
NULL
, 's'},

224 {"tŸÆ", 
no_¨gumít
, 
NULL
, 'c'},

225 {"thªshﬁd", 
ªquúed_¨gumít
, 
NULL
, 't'},

226 {"time", 
›ti⁄Æ_¨gumít
, 
NULL
, 
TIME_OPTION
},

227 {"time-°yÀ", 
ªquúed_¨gumít
, 
NULL
, 
TIME_STYLE_OPTION
},

228 {
GETOPT_HELP_OPTION_DECL
},

229 {
GETOPT_VERSION_OPTION_DECL
},

230 {
NULL
, 0, NULL, 0}

233 c⁄° *c⁄° 
	gtime_¨gs
[] =

235 "©ime", "ac˚ss", "u£", "˘ime", "°©us", 
NULL


237 
time_ty≥
 c⁄° 
	gtime_ty≥s
[] =

239 
time_©ime
,Åime_©ime,Åime_©ime, 
time_˘ime
,Åime_ctime

241 
ARGMATCH_VERIFY
 (
time_¨gs
, 
time_ty≥s
);

246 
	etime_°yÀ


248 
	mfuŒ_iso_time_°yÀ
,

249 
	ml⁄g_iso_time_°yÀ
,

250 
	miso_time_°yÀ


253 c⁄° *c⁄° 
	gtime_°yÀ_¨gs
[] =

255 "fuŒ-iso", "l⁄g-iso", "iso", 
NULL


257 
time_°yÀ
 c⁄° 
	gtime_°yÀ_ty≥s
[] =

259 
fuŒ_iso_time_°yÀ
, 
l⁄g_iso_time_°yÀ
, 
iso_time_°yÀ


261 
ARGMATCH_VERIFY
 (
time_°yÀ_¨gs
, 
time_°yÀ_ty≥s
);

264 
	$ußge
 (
°©us
)

266 i‡(
°©us
 !
EXIT_SUCCESS
)

267 
	`emô_åy_hñp
 ();

270 
	`¥ötf
 (
	`_
("\
: %†[OPTION]... [FILE]...\n\
: %†[OPTION]... --fûes0-‰om=F\n\
"), 
¥ogøm_«me
,Örogram_name);

274 
	`Âuts
 (
	`_
("\
 disk ußgêo‡óch FILE,Ñecursivñy f‹ dúe˘‹õs.\n\
"), 
°dout
);

278 
	`emô_m™d©‹y_¨g_nŸe
 ();

280 
	`Âuts
 (
	`_
("\
-0, --nuŒÉndÉach ouçuàlöêwôh 0 byãÑ©hîÅh™Çewlöe\n\
-a, --Æ» wrôêcou¡†f‹áŒ fûes,ÇŸ ju° dúe˘‹õs\n\
--≠∑ª¡-sizêÖröà≠∑ª¡ sizes,Ñ©hîÅh™ disk ußge;á…hough\
\n\
áµ¨íàsizêi†usuÆly smÆÀr, iàmay be\n\
 duêtÿhﬁe†ö ('•¨£'Ëfûes, i¡î«l\n\
, indúe˘ blocks,ándÅhêlike\n\
"), 
°dout
);

289 
	`Âuts
 (
	`_
("\
-B, --block-size=SIZE sˇÀ size†by SIZE bef‹ê¥ötögÅhem. E.g.,\n\
'-BM'Öröt†size†ö unô†o‡1,048,576 byãs.\n\
 SIZE f‹m© bñow.\n\
-b, --byã†ÉquivÆíàtÿ'--≠∑ª¡-sizê--block-size=1'\n\
-c, --tŸÆÖrodu˚á gøndÅŸÆ\n\
-D, --dîe„ªn˚-¨g† dîe„ªn˚ o∆y symlök†th©áªÜi°ed o¿the\n\
Üöe\n\
-d, --max-dïth=NÖröàthêtŸÆ f‹á dúe˘‹y (‹ fûe, wôh --Æl)\n\
 i‡ô i†N o∏„wîÜevñ†bñowÅhêcomm™d\n\
árgumít; --max-dïth=0 i†thêßmêas\n\
--summ¨ize\n\
"), 
°dout
);

302 
	`Âuts
 (
	`_
("\
--fûes0-‰om=F summ¨izêdisk ußgêo‡thêNUL-ãrmö©ed fûe\n\
 s≥cifõd i¿fûêF;\n\
 F i†-ÅhíÑódÇame†‰om sènd¨d i≈ut\n\
-HÉquivÆíàtÿ--dîe„ªn˚-¨g†(-D)\n\
-h, --hum™-ªadabÀÖröàsize†ö hum™ÑódabÀ f‹m© (e.g., 1K 234M 2G)\
\n\
"), 
°dout
);

310 
	`Âuts
 (
	`_
("\
-kÜikê--block-size=1K\n\
-L, --dîe„ªn˚ dîe„ªn˚áŒ symbﬁi¯löks\n\
-l, --cou¡-lök† cou¡ size†m™yÅime†i‡h¨dÜöked\n\
-mÜikê--block-size=1M\n\
"), 
°dout
);

316 
	`Âuts
 (
	`_
("\
-P, --no-dîe„ªn˚ d⁄'àfﬁlowány symbﬁi¯lök†—hi†i†thêdeÁu…)\n\
-S, --£∑øã-dú† dÿnŸ in˛udêsizêo‡subdúe˘‹õs\n\
--sòÜikê-h, buàu£Öowî†o‡1000ÇŸ 1024\n\
-s, --summ¨izê di•œy o∆yáÅŸÆ f‹Éachárgumít\n\
"), 
°dout
);

322 
	`Âuts
 (
	`_
("\
-t, --thªshﬁd=SIZEÉx˛udêíåõ†smÆÀ∏th™ SIZE i‡posôive,\n\
É¡rõ†gª©îÅh™ SIZE i‡√g©ive\n\
--timê showÅimêo‡thêœ° modifiˇti⁄ o‡™y fûêöÅhe\n\
, o∏™y o‡ô†subdúe˘‹õs\n\
--time=WORD showÅimêa†WORD in°ód o‡modifiˇti⁄Åime:\n\
,ác˚ss, u£, ctimê‹ sètus\n\
--time-°yÀ=STYLE showÅime†usög styÀ STYLE:\n\
-iso,Ü⁄g-iso, iso, +FORMAT\n\
 i†öãΩªãdÜikê'd©e'\n\
"), 
°dout
);

333 
	`Âuts
 (
	`_
("\
-X, --ex˛ude-‰om=FILEÉx˛udêfûe†th© m©chányÖ©ã∫ i¿FILE\n\
--ex˛ude=PATTERNÉx˛udêfûe†th© m©ch PATTERN\n\
-x, --⁄e-fûe-sy°em skù dúe˘‹õ†⁄ dif„ª¡ fûêsy°ems\n\
"), 
°dout
);

338 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

339 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

340 
	`emô_blocksize_nŸe
 ("DU");

341 
	`emô_size_nŸe
 ();

342 
	`emô_™cûœry_öfo
 ();

344 
	`exô
 (
°©us
);

345 
	}
}

350 
boﬁ


351 
	$hash_ös
 (
di_£t
 *di_£t, 
öo_t
 
öo
, 
dev_t
 
dev
)

353 
ö£πed
 = 
	`di_£t_ö£π
 (
di_£t
, 
dev
, 
öo
);

354 i‡(
ö£πed
 < 0)

355 
	`xÆloc_dõ
 ();

356  
ö£πed
;

357 
	}
}

364 
	$show_d©e
 (c⁄° *
f‹m©
, 
time•ec
 
whí
)

366 
tm
 *tm = 
	`loˇ…ime
 (&
whí
.
tv_£c
);

367 i‡(! 
tm
)

369 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

370 *
whí_°r
 = 
	`timëo°r
 (
whí
.
tv_£c
, 
buf
);

371 
	`îr‹
 (0, 0, 
	`_
("timê%†i†ouào‡ønge"), 
whí_°r
);

372 
	`Âuts
 (
whí_°r
, 
°dout
);

376 
	`Âröt·ime
 (
°dout
, 
f‹m©
, 
tm
, 0, 
whí
.
tv_n£c
);

377 
	}
}

382 
	$¥öt_⁄ly_size
 (
uötmax_t
 
n_byãs
)

384 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

385 
	`Âuts
 ((
n_byãs
 =
UINTMAX_MAX


386 ? 
	`_
("Infinity")

387 : 
	`hum™_ªadabÀ
 (
n_byãs
, 
buf
, 
hum™_ouçut_›ts
,

388 1, 
ouçut_block_size
)),

389 
°dout
);

390 
	}
}

395 
	$¥öt_size
 (c⁄° 
duöfo
 *
pdui
, c⁄° *
°rög
)

397 
	`¥öt_⁄ly_size
 (
pdui
->
size
);

398 i‡(
›t_time
)

400 
	`putch¨
 ('\t');

401 
	`show_d©e
 (
time_f‹m©
, 
pdui
->
tmax
);

403 
	`¥ötf
 ("\t%s%c", 
°rög
, 
›t_nul_ãrmö©e_ouçut
 ? '\0' : '\n');

404 
	`fÊush
 (
°dout
);

405 
	}
}

412 
boﬁ


413 
	$¥o˚ss_fûe
 (
FTS
 *
·s
, 
FTSENT
 *
ít
)

415 
boﬁ
 
ok
 = 
åue
;

416 
duöfo
 
dui
;

417 
duöfo
 
dui_to_¥öt
;

418 
size_t
 
Àvñ
;

419 
size_t
 
n_Æloc
;

428 
duÀvñ
 *
dulvl
;

430 c⁄° *
fûe
 = 
ít
->
·s_∑th
;

431 c⁄° 
°©
 *
sb
 = 
ít
->
·s_°©p
;

432 
öfo
 = 
ít
->
·s_öfo
;

434 i‡(
öfo
 =
FTS_DNR
)

437 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("ˇ¬ŸÑód dúe˘‹y %s"), 
	`quŸe
 (
fûe
));

438 
ok
 = 
Ál£
;

440 i‡(
öfo
 !
FTS_DP
)

442 
boﬁ
 
ex˛uded
 = 
	`ex˛uded_fûe_«me
 (
ex˛ude
, 
fûe
);

443 i‡(! 
ex˛uded
)

447 i‡(
öfo
 =
FTS_NSOK
)

449 
	`·s_£t
 (
·s
, 
ít
, 
FTS_AGAIN
);

450 
FTSENT
 c⁄° *
e
 = 
	`·s_ªad
 (
·s
);

451 
	`as£π
 (
e
 =
ít
);

452 
öfo
 = 
ít
->
·s_öfo
;

455 i‡(
öfo
 =
FTS_NS
 || infÿ=
FTS_SLNONE
)

457 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("ˇ¬Ÿác˚s†%s"), 
	`quŸe
 (
fûe
));

458  
Ál£
;

466 i‡(
·s
->
·s_›ti⁄s
 & 
FTS_XDEV


467 && 
FTS_ROOTLEVEL
 < 
ít
->
·s_Àvñ


468 && 
·s
->
·s_dev
 !
sb
->
°_dev
)

469 
ex˛uded
 = 
åue
;

472 i‡(
ex˛uded


473 || (! 
›t_cou¡_Æl


474 && (
hash_Æl
 || (! 
	`S_ISDIR
 (
sb
->
°_mode
Ë&& 1 < sb->
°_∆ök
))

475 && ! 
	`hash_ös
 (
di_fûes
, 
sb
->
°_öo
, sb->
°_dev
)))

480 i‡(
öfo
 =
FTS_D
)

482 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

483 
FTSENT
 c⁄° *
e
 = 
	`·s_ªad
 (
·s
);

484 
	`as£π
 (
e
 =
ít
);

487  
åue
;

490 
öfo
)

492 
FTS_D
:

493  
åue
;

495 
FTS_ERR
:

497 
	`îr‹
 (0, 
ít
->
·s_î∫o
, "%s", 
	`quŸe
 (
fûe
));

498 
ok
 = 
Ál£
;

501 
FTS_DC
:

502 i‡(
	`cy˛e_w¨nög_ªquúed
 (
·s
, 
ít
))

506 i‡(
	`di_£t_lookup
 (
di_m¡
, 
sb
->
°_dev
, sb->
°_öo
))

507 
	`îr‹
 (0, 0, 
	`_
("mountÖoint %sálreadyÅraversed"),

508 
	`quŸe
 (
fûe
));

510 
	`emô_cy˛e_w¨nög
 (
fûe
);

511  
Ál£
;

513  
åue
;

517 
	`duöfo_£t
 (&
dui
,

518 (
≠∑ª¡_size


519 ? 
	`MAX
 (0, 
sb
->
°_size
)

520 : (
uötmax_t
Ë
	`ST_NBLOCKS
 (*
sb
Ë* 
ST_NBLOCKSIZE
),

521 (
time_ty≥
 =
time_mtime
 ? 
	`gë_°©_mtime
 (
sb
)

522 : 
time_ty≥
 =
time_©ime
 ? 
	`gë_°©_©ime
 (
sb
)

523 : 
	`gë_°©_˘ime
 (
sb
)));

525 
Àvñ
 = 
ít
->
·s_Àvñ
;

526 
dui_to_¥öt
 = 
dui
;

528 i‡(
n_Æloc
 == 0)

530 
n_Æloc
 = 
Àvñ
 + 10;

531 
dulvl
 = 
	`xˇŒoc
 (
n_Æloc
,  *dulvl);

535 i‡(
Àvñ
 =
¥ev_Àvñ
)

539 i‡(
Àvñ
 > 
¥ev_Àvñ
)

545 
size_t
 
i
;

547 i‡(
n_Æloc
 <
Àvñ
)

549 
dulvl
 = 
	`xƒóŒoc
 (dulvl, 
Àvñ
, 2 *  *dulvl);

550 
n_Æloc
 = 
Àvñ
 * 2;

553 
i
 = 
¥ev_Àvñ
 + 1; i <
Àvñ
; i++)

555 
	`duöfo_öô
 (&
dulvl
[
i
].
ít
);

556 
	`duöfo_öô
 (&
dulvl
[
i
].
subdú
);

567 
	`as£π
 (
Àvñ
 =
¥ev_Àvñ
 - 1);

568 
	`duöfo_add
 (&
dui_to_¥öt
, &
dulvl
[
¥ev_Àvñ
].
ít
);

569 i‡(!
›t_£∑øã_dús
)

570 
	`duöfo_add
 (&
dui_to_¥öt
, &
dulvl
[
¥ev_Àvñ
].
subdú
);

571 
	`duöfo_add
 (&
dulvl
[
Àvñ
].
subdú
, &dulvl[
¥ev_Àvñ
].
ít
);

572 
	`duöfo_add
 (&
dulvl
[
Àvñ
].
subdú
, &dulvl[
¥ev_Àvñ
].subdir);

576 
¥ev_Àvñ
 = 
Àvñ
;

580 i‡(! (
›t_£∑øã_dús
 && 
	`IS_DIR_TYPE
 (
öfo
)))

581 
	`duöfo_add
 (&
dulvl
[
Àvñ
].
ít
, &
dui
);

585 
	`duöfo_add
 (&
tŸ_dui
, &
dui
);

587 i‡((
	`IS_DIR_TYPE
 (
öfo
Ë&& 
Àvñ
 <
max_dïth
)

588 || (
›t_Æl
 && 
Àvñ
 <
max_dïth
)

589 || 
Àvñ
 == 0)

592 i‡(
›t_thªshﬁd
 < 0

593 ? 
dui_to_¥öt
.
size
 <-
›t_thªshﬁd


594 : 
dui_to_¥öt
.
size
 >
›t_thªshﬁd
)

595 
	`¥öt_size
 (&
dui_to_¥öt
, 
fûe
);

598  
ok
;

599 
	}
}

606 
boﬁ


607 
	$du_fûes
 (**
fûes
, 
bô_Êags
)

609 
boﬁ
 
ok
 = 
åue
;

611 i‡(*
fûes
)

613 
FTS
 *
·s
 = 
	`x·s_›í
 (
fûes
, 
bô_Êags
, 
NULL
);

617 
FTSENT
 *
ít
;

619 
ít
 = 
	`·s_ªad
 (
·s
);

620 i‡(
ít
 =
NULL
)

622 i‡(
î∫o
 != 0)

624 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_read failed: %s"),

625 
	`quŸórg_cﬁ⁄
 (
·s
->
·s_∑th
));

626 
ok
 = 
Ál£
;

632 
¥ev_Àvñ
 = 0;

635 
	`FTS_CROSS_CHECK
 (
·s
);

637 
ok
 &
	`¥o˚ss_fûe
 (
·s
, 
ít
);

640 i‡(
	`·s_˛o£
 (
·s
) != 0)

642 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_close failed"));

643 
ok
 = 
Ál£
;

647  
ok
;

648 
	}
}

653 
	$fûl_mou¡_èbÀ
 ()

655 
mou¡_íåy
 *
m¡_ít
 = 
	`ªad_fûe_sy°em_li°
 (
Ál£
);

656 
m¡_ít
)

658 
mou¡_íåy
 *
m¡_‰ì
;

659 i‡(!
m¡_ít
->
me_ªmŸe
 && !m¡_ít->
me_dummy
)

661 
°©
 
buf
;

662 i‡(!
	`°©
 (
m¡_ít
->
me_mou¡dú
, &
buf
))

663 
	`hash_ös
 (
di_m¡
, 
buf
.
°_öo
, buf.
°_dev
);

671 
m¡_‰ì
 = 
m¡_ít
;

672 
m¡_ít
 = m¡_ít->
me_√xt
;

674 
	`‰ì
 (
m¡_‰ì
->
me_dev«me
);

675 
	`‰ì
 (
m¡_‰ì
->
me_mou¡dú
);

676 i‡(
m¡_‰ì
->
me_ty≥_mÆlo˚d
)

677 
	`‰ì
 (
m¡_‰ì
->
me_ty≥
);

678 
	`‰ì
 (
m¡_‰ì
);

680 
	}
}

683 
	$maö
 (
¨gc
, **
¨gv
)

685 *
cwd_⁄ly
[2];

686 
boﬁ
 
max_dïth_•ecifõd
 = 
Ál£
;

687 
boﬁ
 
ok
 = 
åue
;

688 *
fûes_‰om
 = 
NULL
;

691 
bô_Êags
 = 
FTS_NOSTAT
;

695 
symlök_dîef_bôs
 = 
FTS_PHYSICAL
;

698 
boﬁ
 
›t_summ¨ize_⁄ly
 = 
Ál£
;

700 
cwd_⁄ly
[0] = 
	`bad_ˇ°
 (".");

701 
cwd_⁄ly
[1] = 
NULL
;

703 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

704 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

705 
	`£éoˇÀ
 (
LC_ALL
, "");

706 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

707 
	`ãxtdomaö
 (
PACKAGE
);

709 
	`©exô
 (
˛o£_°dout
);

711 
ex˛ude
 = 
	`√w_ex˛ude
 ();

713 
	`hum™_›ti⁄s
 (
	`gëív
 ("DU_BLOCK_SIZE"),

714 &
hum™_ouçut_›ts
, &
ouçut_block_size
);

716 
åue
)

718 
oi
 = -1;

719 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "0abd:chHklmst:xB:DLPSX:",

720 
l⁄g_›ti⁄s
, &
oi
);

721 i‡(
c
 == -1)

724 
c
)

726 #i‡
DU_DEBUG


727 
FTS_DEBUG
:

728 
·s_debug
 = 
åue
;

733 
›t_nul_ãrmö©e_ouçut
 = 
åue
;

737 
›t_Æl
 = 
åue
;

740 
APPARENT_SIZE_OPTION
:

741 
≠∑ª¡_size
 = 
åue
;

745 
≠∑ª¡_size
 = 
åue
;

746 
hum™_ouçut_›ts
 = 0;

747 
ouçut_block_size
 = 1;

751 
¥öt_gønd_tŸÆ
 = 
åue
;

755 
hum™_ouçut_›ts
 = 
hum™_autosˇÀ
 | 
hum™_SI
 | 
hum™_ba£_1024
;

756 
ouçut_block_size
 = 1;

759 
HUMAN_SI_OPTION
:

760 
hum™_ouçut_›ts
 = 
hum™_autosˇÀ
 | 
hum™_SI
;

761 
ouçut_block_size
 = 1;

765 
hum™_ouçut_›ts
 = 0;

766 
ouçut_block_size
 = 1024;

771 
tmp_ul⁄g
;

772 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË=
LONGINT_OK


773 && 
tmp_ul⁄g
 <
SIZE_MAX
)

775 
max_dïth_•ecifõd
 = 
åue
;

776 
max_dïth
 = 
tmp_ul⁄g
;

780 
	`îr‹
 (0, 0, 
	`_
("invalid maximum depth %s"),

781 
	`quŸe
 (
›èrg
));

782 
ok
 = 
Ál£
;

788 
hum™_ouçut_›ts
 = 0;

789 
ouçut_block_size
 = 1024 * 1024;

793 
›t_cou¡_Æl
 = 
åue
;

797 
›t_summ¨ize_⁄ly
 = 
åue
;

802 
°πﬁ_îr‹
 
e
;

803 
e
 = 
	`x°πoimax
 (
›èrg
, 
NULL
, 0, &
›t_thªshﬁd
, "kKmMGTPEZY0");

804 i‡(
e
 !
LONGINT_OK
)

805 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

806 i‡(
›t_thªshﬁd
 =0 && *
›èrg
 == '-')

809 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid --thresholdárgument '-0'"));

815 
bô_Êags
 |
FTS_XDEV
;

820 
°πﬁ_îr‹
 
e
 = 
	`hum™_›ti⁄s
 (
›èrg
, &
hum™_ouçut_›ts
,

821 &
ouçut_block_size
);

822 i‡(
e
 !
LONGINT_OK
)

823 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

829 
symlök_dîef_bôs
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

833 
symlök_dîef_bôs
 = 
FTS_LOGICAL
;

837 
symlök_dîef_bôs
 = 
FTS_PHYSICAL
;

841 
›t_£∑øã_dús
 = 
åue
;

845 i‡(
	`add_ex˛ude_fûe
 (
add_ex˛ude
, 
ex˛ude
, 
›èrg
,

846 
EXCLUDE_WILDCARDS
, '\n'))

848 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸórg_cﬁ⁄
 (
›èrg
));

849 
ok
 = 
Ál£
;

853 
FILES0_FROM_OPTION
:

854 
fûes_‰om
 = 
›èrg
;

857 
EXCLUDE_OPTION
:

858 
	`add_ex˛ude
 (
ex˛ude
, 
›èrg
, 
EXCLUDE_WILDCARDS
);

861 
TIME_OPTION
:

862 
›t_time
 = 
åue
;

863 
time_ty≥
 =

864 (
›èrg


865 ? 
	`XARGMATCH
 ("--time", 
›èrg
, 
time_¨gs
, 
time_ty≥s
)

866 : 
time_mtime
);

869 
TIME_STYLE_OPTION
:

870 
time_°yÀ
 = 
›èrg
;

873 
ˇ£_GETOPT_HELP_CHAR
;

875 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

878 
ok
 = 
Ál£
;

882 i‡(!
ok
)

883 
	`ußge
 (
EXIT_FAILURE
);

885 i‡(
›t_Æl
 && 
›t_summ¨ize_⁄ly
)

887 
	`îr‹
 (0, 0, 
	`_
("cannot both summarizeánd showállÉntries"));

888 
	`ußge
 (
EXIT_FAILURE
);

891 i‡(
›t_summ¨ize_⁄ly
 && 
max_dïth_•ecifõd
 && 
max_dïth
 == 0)

893 
	`îr‹
 (0, 0,

894 
	`_
("warning: summarizing isÅhe sameás using --max-depth=0"));

897 i‡(
›t_summ¨ize_⁄ly
 && 
max_dïth_•ecifõd
 && 
max_dïth
 != 0)

899 
d
 = 
max_dïth
;

900 
	`îr‹
 (0, 0, 
	`_
("w¨nög: summ¨izög c⁄Êi˘†wôh --max-dïth=%lu"), 
d
);

901 
	`ußge
 (
EXIT_FAILURE
);

904 i‡(
›t_summ¨ize_⁄ly
)

905 
max_dïth
 = 0;

908 i‡(
›t_time
)

910 i‡(! 
time_°yÀ
)

912 
time_°yÀ
 = 
	`gëív
 ("TIME_STYLE");

915 i‡(! 
time_°yÀ
 || 
	`STREQ
 (time_style, "locale"))

916 
time_°yÀ
 = "long-iso";

917 i‡(*
time_°yÀ
 == '+')

921 *
p
 = 
	`°rchr
 (
time_°yÀ
, '\n');

922 i‡(
p
)

923 *
p
 = '\0';

928 c⁄° 
posix_¥efix
[] = "posix-";

929 
	`°∫cmp
 (
time_°yÀ
, 
posix_¥efix
, Öosix_prefix - 1)

931 
time_°yÀ
 + 
posix_¥efix
 - 1;

935 i‡(*
time_°yÀ
 == '+')

936 
time_f‹m©
 = 
time_°yÀ
 + 1;

939 
	`XARGMATCH
 ("timê°yÀ", 
time_°yÀ
,

940 
time_°yÀ_¨gs
, 
time_°yÀ_ty≥s
))

942 
fuŒ_iso_time_°yÀ
:

943 
time_f‹m©
 = "%Y-%m-%d %H:%M:%S.%N %z";

946 
l⁄g_iso_time_°yÀ
:

947 
time_f‹m©
 = "%Y-%m-%d %H:%M";

950 
iso_time_°yÀ
:

951 
time_f‹m©
 = "%Y-%m-%d";

957 
¨gv_ôî©‹
 *
ai
;

958 i‡(
fûes_‰om
)

962 i‡(
›töd
 < 
¨gc
)

964 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

965 
	`Ârötf
 (
°dîr
, "%s\n",

966 
	`_
("file operands cannot be combined with --files0-from"));

967 
	`ußge
 (
EXIT_FAILURE
);

970 i‡(! (
	`STREQ
 (
fûes_‰om
, "-"Ë|| 
	`‰e›í
 (fûes_‰om, "r", 
°dö
)))

971 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

972 
	`quŸe
 (
fûes_‰om
));

974 
ai
 = 
	`¨gv_ôî_öô_°ªam
 (
°dö
);

978 
hash_Æl
 = 
åue
;

982 **
fûes
 = (
›töd
 < 
¨gc
 ? 
¨gv
 + o±öd : 
cwd_⁄ly
);

983 
ai
 = 
	`¨gv_ôî_öô_¨gv
 (
fûes
);

988 
hash_Æl
 = (
›töd
 + 1 < 
¨gc
 || 
symlök_dîef_bôs
 =
FTS_LOGICAL
);

991 i‡(!
ai
)

992 
	`xÆloc_dõ
 ();

996 
di_m¡
 = 
	`di_£t_Æloc
 ();

997 i‡(!
di_m¡
)

998 
	`xÆloc_dõ
 ();

1000 
	`fûl_mou¡_èbÀ
 ();

1002 
di_fûes
 = 
	`di_£t_Æloc
 ();

1003 i‡(!
di_fûes
)

1004 
	`xÆloc_dõ
 ();

1008 i‡(
›t_cou¡_Æl
 || ! 
hash_Æl
)

1009 
bô_Êags
 |
FTS_TIGHT_CYCLE_CHECK
;

1011 
bô_Êags
 |
symlök_dîef_bôs
;

1012 *
ãmp_¨gv
[] = { 
NULL
, NULL };

1014 
åue
)

1016 
boﬁ
 
skù_fûe
 = 
Ál£
;

1017 
¨gv_ôî_îr
 
ai_îr
;

1018 *
fûe_«me
 = 
	`¨gv_ôî
 (
ai
, &
ai_îr
);

1019 i‡(!
fûe_«me
)

1021 
ai_îr
)

1023 
AI_ERR_EOF
:

1024 
¨gv_ôî_d⁄e
;

1025 
AI_ERR_READ
:

1026 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑeadÉrror"),

1027 
	`quŸórg_cﬁ⁄
 (
fûes_‰om
));

1028 
ok
 = 
Ál£
;

1029 
¨gv_ôî_d⁄e
;

1030 
AI_ERR_MEM
:

1031 
	`xÆloc_dõ
 ();

1033 
	`as£π
 (!"unexpectedÉrror code fromárgv_iter");

1036 i‡(
fûes_‰om
 && 
	`STREQ
 (fûes_‰om, "-"Ë&& STREQ (
fûe_«me
, "-"))

1040 
	`îr‹
 (0, 0, 
	`_
("whenÑeading fileÇames from stdin, "

1042 
	`quŸe
 (
fûe_«me
));

1043 
skù_fûe
 = 
åue
;

1050 i‡(!
fûe_«me
[0])

1056 i‡(
fûes_‰om
 =
NULL
)

1057 
	`îr‹
 (0, 0, "%s", 
	`_
("invalid zero-length fileÇame"));

1063 
fûe_numbî
 = 
	`¨gv_ôî_n_¨gs
 (
ai
);

1064 
	`îr‹
 (0, 0, "%s:%lu: %s", 
	`quŸórg_cﬁ⁄
 (
fûes_‰om
),

1065 
fûe_numbî
, 
	`_
("invalid zero-length fileÇame"));

1067 
skù_fûe
 = 
åue
;

1070 i‡(
skù_fûe
)

1071 
ok
 = 
Ál£
;

1074 
ãmp_¨gv
[0] = 
fûe_«me
;

1075 
ok
 &
	`du_fûes
 (
ãmp_¨gv
, 
bô_Êags
);

1078 
¨gv_ôî_d⁄e
:

1080 
	`¨gv_ôî_‰ì
 (
ai
);

1081 
	`di_£t_‰ì
 (
di_fûes
);

1082 
	`di_£t_‰ì
 (
di_m¡
);

1084 i‡(
fûes_‰om
 && (
	`„º‹
 (
°dö
Ë|| 
	`f˛o£
 (°döË!0Ë&& 
ok
)

1085 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûes_‰om
));

1087 i‡(
¥öt_gønd_tŸÆ
)

1088 
	`¥öt_size
 (&
tŸ_dui
, 
	`_
("total"));

1090 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1091 
	}
}

	@echo.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<sys/ty≥s.h
>

20 
	~"sy°em.h
"

23 
	#PROGRAM_NAME
 "echo"

	)

25 
	#AUTHORS
 \

26 
	`¥›î_«me
 ("Brian Fox"), \

27 
	`¥›î_«me
 ("Chë Ramey")

	)

30 #i‚de‡
DEFAULT_ECHO_TO_XPG


31 íum { 
	mDEFAULT_ECHO_TO_XPG
 = 
Ál£
 };

35 
	$ußge
 (
°©us
)

37 i‡(
°©us
 !
EXIT_SUCCESS
)

38 
	`emô_åy_hñp
 ();

41 
	`¥ötf
 (
	`_
("\
: %†[SHORT-OPTION]... [STRING]...\n\
: %†LONG-OPTION\n\
"), 
¥ogøm_«me
,Örogram_name);

45 
	`Âuts
 (
	`_
("\
ÅhêSTRING(sËtÿ°™d¨d ouçut.\n\
\n\
-¿ dÿnŸ ouçuàthêåaûögÇewlöe\n\
"), 
°dout
);

50 
	`Âuts
 (
	`_
(
DEFAULT_ECHO_TO_XPG


51 ? 
	`N_
("\
-eÉnable interpretation of backslashÉscapes (default)\n\
-E disable interpretation of backslashÉscapes\n")

54 : 
	`N_
("\
-eÉnable interpretation of backslashÉscapes\n\
-E disable interpretation of backslashÉscapes (default)\n")),

57 
°dout
);

58 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

59 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

60 
	`Âuts
 (
	`_
("\
\n\
 -êi†öÉf„˘,Åhêfﬁlowög sequí˚†¨êªcognized:\n\
\n\
"), 
°dout
);

65 
	`Âuts
 (
	`_
("\
\\\\ back¶ash\n\
\\®áÀπ (BEL)\n\
\\b back•a˚\n\
\\¯Örodu˚Çÿfuπhî ouçut\n\
\\êÉsˇ≥\n\
\\‡ f‹m fìd\n\
\\¿ÇewÜöe\n\
\\∏ c¨rügêªtu∫\n\
\\à h‹iz⁄è»èb\n\
\\v vîtiˇ»èb\n\
"), 
°dout
);

77 
	`Âuts
 (
	`_
("\
\\0NNN byã wôh o˘Æ vÆuêNNN (1Åÿ3 digôs)\n\
\\xHH byã wôh hexadecimÆ vÆuêHH (1Åÿ2 digôs)\n\
"), 
°dout
);

81 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

82 
	`emô_™cûœry_öfo
 ();

84 
	`exô
 (
°©us
);

85 
	}
}

89 
	$hextobö
 (
c
)

91 
c
)

93 :  
c
 - '0';

101 
	}
}

108 
	$maö
 (
¨gc
, **
¨gv
)

110 
boﬁ
 
di•œy_ªtu∫
 = 
åue
;

111 
boﬁ
 
Ælow_›ti⁄s
 =

112 (! 
	`gëív
 ("POSIXLY_CORRECT")

113 || (! 
DEFAULT_ECHO_TO_XPG
 && 1 < 
¨gc
 && 
	`STREQ
 (
¨gv
[1], "-n")));

118 
boﬁ
 
do_v9
 = 
DEFAULT_ECHO_TO_XPG
;

120 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

121 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

122 
	`£éoˇÀ
 (
LC_ALL
, "");

123 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

124 
	`ãxtdomaö
 (
PACKAGE
);

126 
	`©exô
 (
˛o£_°dout
);

130 i‡(
Ælow_›ti⁄s
 && 
¨gc
 == 2)

132 i‡(
	`STREQ
 (
¨gv
[1], "--help"))

133 
	`ußge
 (
EXIT_SUCCESS
);

135 i‡(
	`STREQ
 (
¨gv
[1], "--version"))

137 
	`vîsi⁄_ëc
 (
°dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
, 
AUTHORS
,

138 (*Ë
NULL
);

139 
	`exô
 (
EXIT_SUCCESS
);

143 --
¨gc
;

144 ++
¨gv
;

146 i‡(
Ælow_›ti⁄s
)

147 
¨gc
 > 0 && *
¨gv
[0] == '-')

149 c⁄° *
ãmp
 = 
¨gv
[0] + 1;

150 
size_t
 
i
;

156 
i
 = 0; 
ãmp
[i]; i++)

157 
ãmp
[
i
])

162 
ju°_echo
;

165 i‡(
i
 == 0)

166 
ju°_echo
;

170 *
ãmp
)

171 *
ãmp
++)

174 
do_v9
 = 
åue
;

178 
do_v9
 = 
Ál£
;

182 
di•œy_ªtu∫
 = 
Ál£
;

186 
¨gc
--;

187 
¨gv
++;

190 
ju°_echo
:

192 i‡(
do_v9
)

194 
¨gc
 > 0)

196 c⁄° *
s
 = 
¨gv
[0];

197 
c
;

199 (
c
 = *
s
++))

201 i‡(
c
 ='\\' && *
s
)

203 
c
 = *
s
++)

205 'a': 
c
 = '\a'; ;

206 'b': 
c
 = '\b'; ;

207 'c': 
	`exô
 (
EXIT_SUCCESS
);

208 'e': 
c
 = '\x1B'; ;

209 'f': 
c
 = '\f'; ;

210 'n': 
c
 = '\n'; ;

211 'r': 
c
 = '\r'; ;

212 't': 
c
 = '\t'; ;

213 'v': 
c
 = '\v'; ;

216 
ch
 = *
s
;

217 i‡(! 
	`isxdigô
 (
ch
))

218 
nŸ_™_esˇ≥
;

219 
s
++;

220 
c
 = 
	`hextobö
 (
ch
);

221 
ch
 = *
s
;

222 i‡(
	`isxdigô
 (
ch
))

224 
s
++;

225 
c
 = c * 16 + 
	`hextobö
 (
ch
);

230 
c
 = 0;

231 i‡(! ('0' <*
s
 && *s <= '7'))

233 
c
 = *
s
++;

237 
c
 -= '0';

238 i‡('0' <*
s
 && *s <= '7')

239 
c
 = c * 8 + (*
s
++ - '0');

240 i‡('0' <*
s
 && *s <= '7')

241 
c
 = c * 8 + (*
s
++ - '0');

245 
nŸ_™_esˇ≥
:

246 : 
	`putch¨
 ('\\'); ;

249 
	`putch¨
 (
c
);

251 
¨gc
--;

252 
¨gv
++;

253 i‡(
¨gc
 > 0)

254 
	`putch¨
 (' ');

259 
¨gc
 > 0)

261 
	`Âuts
 (
¨gv
[0], 
°dout
);

262 
¨gc
--;

263 
¨gv
++;

264 i‡(
¨gc
 > 0)

265 
	`putch¨
 (' ');

269 i‡(
di•œy_ªtu∫
)

270 
	`putch¨
 ('\n');

271 
	`exô
 (
EXIT_SUCCESS
);

272 
	}
}

	@env.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

24 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"quŸe.h
"

29 
	#PROGRAM_NAME
 "ív"

	)

31 
	#AUTHORS
 \

32 
	`¥›î_«me
 ("Richard Mlynarik"), \

33 
	`¥›î_«me
 ("David MacKízõ")

	)

35 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

37 {"ign‹e-ívú⁄mít", 
no_¨gumít
, 
NULL
, 'i'},

38 {"nuŒ", 
no_¨gumít
, 
NULL
, '0'},

39 {"un£t", 
ªquúed_¨gumít
, 
NULL
, 'u'},

40 {
GETOPT_HELP_OPTION_DECL
},

41 {
GETOPT_VERSION_OPTION_DECL
},

42 {
NULL
, 0, NULL, 0}

46 
	$ußge
 (
°©us
)

48 i‡(
°©us
 !
EXIT_SUCCESS
)

49 
	`emô_åy_hñp
 ();

52 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [-] [NAME=VALUE]... [COMMAND [ARG]...]\n"),

54 
¥ogøm_«me
);

55 
	`Âuts
 (
	`_
("\
Éach NAMEÅÿVALUE i¿thêívú⁄míà™dÑu¿COMMAND.\n\
"), 
°dout
);

59 
	`emô_m™d©‹y_¨g_nŸe
 ();

61 
	`Âuts
 (
	`_
("\
-i, --ign‹e-ívú⁄míà sèπ wôhá¿em±yÉnvú⁄mít\n\
-0, --nuŒÉndÉach ouçuàlöêwôh 0 byãÑ©hîÅh™Çewlöe\n\
-u, --un£t=NAMEÑemovêv¨übÀ fromÅhêívú⁄mít\n\
"), 
°dout
);

66 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

67 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

68 
	`Âuts
 (
	`_
("\
\n\
 mîê- im∂õ†-i. I‡nÿCOMMAND,Öröàthêªsu…ögÉnvú⁄mít.\n\
"), 
°dout
);

72 
	`emô_™cûœry_öfo
 ();

74 
	`exô
 (
°©us
);

75 
	}
}

78 
	$maö
 (
¨gc
, **
¨gv
)

80 
›tc
;

81 
boﬁ
 
ign‹e_ívú⁄mít
 = 
Ál£
;

82 
boﬁ
 
›t_nul_ãrmö©e_ouçut
 = 
Ál£
;

84 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

85 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

86 
	`£éoˇÀ
 (
LC_ALL
, "");

87 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

88 
	`ãxtdomaö
 (
PACKAGE
);

90 
	`öôülize_exô_Áûuª
 (
EXIT_CANCELED
);

91 
	`©exô
 (
˛o£_°dout
);

93 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+iu:0", 
l⁄g›ts
, 
NULL
)) != -1)

95 
›tc
)

98 
ign‹e_ívú⁄mít
 = 
åue
;

103 
›t_nul_ãrmö©e_ouçut
 = 
åue
;

105 
ˇ£_GETOPT_HELP_CHAR
;

106 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

108 
	`ußge
 (
EXIT_CANCELED
);

112 i‡(
›töd
 < 
¨gc
 && 
	`STREQ
 (
¨gv
[optind], "-"))

113 
ign‹e_ívú⁄mít
 = 
åue
;

115 i‡(
ign‹e_ívú⁄mít
)

117 *
dummy_ívú⁄
[] = { 
NULL
 };

118 
ívú⁄
 = 
dummy_ívú⁄
;

121 
›töd
 = 0;

122 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+iu:0", 
l⁄g›ts
, 
NULL
)) != -1)

123 i‡(
›tc
 ='u' && 
	`un£ãnv
 (
›èrg
))

124 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("ˇ¬Ÿ un£à%s"), 
	`quŸe
 (
›èrg
));

126 i‡(
›töd
 < 
¨gc
 && 
	`STREQ
 (
¨gv
[optind], "-"))

127 ++
›töd
;

129 *
eq
;

130 
›töd
 < 
¨gc
 && (
eq
 = 
	`°rchr
 (
¨gv
[optind], '=')))

132 i‡(
	`puãnv
 (
¨gv
[
›töd
]))

134 *
eq
 = '\0';

135 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot set %s"),

136 
	`quŸe
 (
¨gv
[
›töd
]));

138 
›töd
++;

142 i‡(
¨gc
 <
›töd
)

144 *c⁄° *
e
 = 
ívú⁄
;

145 *
e
)

146 
	`¥ötf
 ("%s%c", *
e
++, 
›t_nul_ãrmö©e_ouçut
 ? '\0' : '\n');

147 
	`exô
 (
EXIT_SUCCESS
);

150 i‡(
›t_nul_ãrmö©e_ouçut
)

152 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot specify --null (-0) with command"));

153 
	`ußge
 (
EXIT_CANCELED
);

156 
	`execvp
 (
¨gv
[
›töd
], &argv[optind]);

159 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

160 
	`îr‹
 (0, 
î∫o
, "%s", 
¨gv
[
›töd
]);

161 
	`exô
 (
exô_°©us
);

163 
	}
}

	@expand.c

35 
	~<c⁄fig.h
>

37 
	~<°dio.h
>

38 
	~<gë›t.h
>

39 
	~<sys/ty≥s.h
>

40 
	~"sy°em.h
"

41 
	~"îr‹.h
"

42 
	~"Ádvi£.h
"

43 
	~"quŸe.h
"

44 
	~"x°∫dup.h
"

47 
	#PROGRAM_NAME
 "ex∑nd"

	)

49 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

53 
boﬁ
 
	gc⁄vît_ítúe_löe
;

56 
uötmax_t
 
	gèb_size
;

61 
uötmax_t
 *
	gèb_li°
;

64 
size_t
 
	gn_èbs_Æloˇãd
;

68 
size_t
 
	gfú°_‰ì_èb
;

71 **
	gfûe_li°
;

74 *
	g°dö_¨gv
[] =

76 (*Ë"-", 
NULL


80 
boﬁ
 
	ghave_ªad_°dö
;

83 
	gexô_°©us
;

85 c⁄° 
	gsh‹t›ts
[] = "it:0::1::2::3::4::5::6::7::8::9::";

87 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

89 {"èbs", 
ªquúed_¨gumít
, 
NULL
, 't'},

90 {"öôül", 
no_¨gumít
, 
NULL
, 'i'},

91 {
GETOPT_HELP_OPTION_DECL
},

92 {
GETOPT_VERSION_OPTION_DECL
},

93 {
NULL
, 0, NULL, 0}

97 
	$ußge
 (
°©us
)

99 i‡(
°©us
 !
EXIT_SUCCESS
)

100 
	`emô_åy_hñp
 ();

103 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

106 
¥ogøm_«me
);

107 
	`Âuts
 (
	`_
("\
Åab†öÉach FILEÅÿ•a˚s, wrôögÅÿ°™d¨d ouçut.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

112 
	`emô_m™d©‹y_¨g_nŸe
 ();

114 
	`Âuts
 (
	`_
("\
-i, --öôü» dÿnŸ c⁄vîàèb†a·îÇ⁄ bœnks\n\
-t, --èbs=NUMBER havêèb†NUMBER ch¨a˘î†≠¨t,ÇŸ 8\n\
"), 
°dout
);

118 
	`Âuts
 (
	`_
("\
-t, --èbs=LIST u£ comm®£∑øãdÜi° o‡ex∂icôÅabÖosôi⁄s\n\
"), 
°dout
);

121 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

122 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

123 
	`emô_™cûœry_öfo
 ();

125 
	`exô
 (
°©us
);

126 
	}
}

131 
	$add_èb_°›
 (
uötmax_t
 
èbvÆ
)

133 i‡(
fú°_‰ì_èb
 =
n_èbs_Æloˇãd
)

134 
èb_li°
 = 
	`X2NREALLOC
 (èb_li°, &
n_èbs_Æloˇãd
);

135 
èb_li°
[
fú°_‰ì_èb
++] = 
èbvÆ
;

136 
	}
}

142 
	$∑r£_èb_°›s
 (c⁄° *
°›s
)

144 
boﬁ
 
have_èbvÆ
 = 
Ál£
;

145 
uötmax_t
 
èbvÆ
 
	`IF_LINT
 ( = 0);

146 c⁄° *
num_°¨t
 
	`IF_LINT
 ( = 
NULL
);

147 
boﬁ
 
ok
 = 
åue
;

149 ; *
°›s
; stops++)

151 i‡(*
°›s
 =',' || 
	`isbœnk
 (
	`to_uch¨
 (*stops)))

153 i‡(
have_èbvÆ
)

154 
	`add_èb_°›
 (
èbvÆ
);

155 
have_èbvÆ
 = 
Ál£
;

157 i‡(
	`ISDIGIT
 (*
°›s
))

159 i‡(!
have_èbvÆ
)

161 
èbvÆ
 = 0;

162 
have_èbvÆ
 = 
åue
;

163 
num_°¨t
 = 
°›s
;

167 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
èbvÆ
, *
°›s
 - '0', 
uötmax_t
))

169 
size_t
 
Àn
 = 
	`°r•n
 (
num_°¨t
, "0123456789");

170 *
bad_num
 = 
	`x°∫dup
 (
num_°¨t
, 
Àn
);

171 
	`îr‹
 (0, 0, 
	`_
("èb st› i†toÿœrgê%s"), 
	`quŸe
 (
bad_num
));

172 
	`‰ì
 (
bad_num
);

173 
ok
 = 
Ál£
;

174 
°›s
 = 
num_°¨t
 + 
Àn
 - 1;

179 
	`îr‹
 (0, 0, 
	`_
("tab size contains invalid character(s): %s"),

180 
	`quŸe
 (
°›s
));

181 
ok
 = 
Ál£
;

186 i‡(!
ok
)

187 
	`exô
 (
EXIT_FAILURE
);

189 i‡(
have_èbvÆ
)

190 
	`add_èb_°›
 (
èbvÆ
);

191 
	}
}

197 
	$vÆid©e_èb_°›s
 (
uötmax_t
 c⁄° *
èbs
, 
size_t
 
íåõs
)

199 
uötmax_t
 
¥ev_èb
 = 0;

200 
size_t
 
i
;

202 
i
 = 0; i < 
íåõs
; i++)

204 i‡(
èbs
[
i
] == 0)

205 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tab size cannot be 0"));

206 i‡(
èbs
[
i
] <
¥ev_èb
)

207 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tab sizes must beáscending"));

208 
¥ev_èb
 = 
èbs
[
i
];

210 
	}
}

217 
FILE
 *

218 
	$√xt_fûe
 (
FILE
 *
Â
)

220 *
¥ev_fûe
;

221 *
fûe
;

223 i‡(
Â
)

225 i‡(
	`„º‹
 (
Â
))

227 
	`îr‹
 (0, 
î∫o
, "%s", 
¥ev_fûe
);

228 
exô_°©us
 = 
EXIT_FAILURE
;

230 i‡(
	`STREQ
 (
¥ev_fûe
, "-"))

231 
	`˛óªº
 (
Â
);

232 i‡(
	`f˛o£
 (
Â
) != 0)

234 
	`îr‹
 (0, 
î∫o
, "%s", 
¥ev_fûe
);

235 
exô_°©us
 = 
EXIT_FAILURE
;

239 (
fûe
 = *
fûe_li°
++Ë!
NULL
)

241 i‡(
	`STREQ
 (
fûe
, "-"))

243 
have_ªad_°dö
 = 
åue
;

244 
Â
 = 
°dö
;

247 
Â
 = 
	`f›í
 (
fûe
, "r");

248 i‡(
Â
)

250 
¥ev_fûe
 = 
fûe
;

251 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

252  
Â
;

254 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

255 
exô_°©us
 = 
EXIT_FAILURE
;

257  
NULL
;

258 
	}
}

264 
	$ex∑nd
 ()

267 
FILE
 *
Â
 = 
	`√xt_fûe
 (
NULL
);

269 i‡(!
Â
)

272 
åue
)

275 
c
;

278 
boﬁ
 
c⁄vît
 = 
åue
;

285 
uötmax_t
 
cﬁumn
 = 0;

288 
size_t
 
èb_ödex
 = 0;

295 (
c
 = 
	`gëc
 (
Â
)Ë< 0 && (Â = 
	`√xt_fûe
 (fp)))

298 i‡(
c⁄vît
)

300 i‡(
c
 == '\t')

303 
uötmax_t
 
√xt_èb_cﬁumn
;

305 i‡(
èb_size
)

306 
√xt_èb_cﬁumn
 = 
cﬁumn
 + (
èb_size
 - column %Åab_size);

308 
åue
)

309 i‡(
èb_ödex
 =
fú°_‰ì_èb
)

311 
√xt_èb_cﬁumn
 = 
cﬁumn
 + 1;

316 
uötmax_t
 
èb
 = 
èb_li°
[
èb_ödex
++];

317 i‡(
cﬁumn
 < 
èb
)

319 
√xt_èb_cﬁumn
 = 
èb
;

324 i‡(
√xt_èb_cﬁumn
 < 
cﬁumn
)

325 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("inputÜine isÅooÜong"));

327 ++
cﬁumn
 < 
√xt_èb_cﬁumn
)

328 i‡(
	`putch¨
 (' ') < 0)

329 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

331 
c
 = ' ';

333 i‡(
c
 == '\b')

337 
cﬁumn
 -= !!column;

338 
èb_ödex
 -= !!tab_index;

342 
cﬁumn
++;

343 i‡(!
cﬁumn
)

344 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("inputÜine isÅooÜong"));

347 
c⁄vît
 &
c⁄vît_ítúe_löe
 || !! 
	`isbœnk
 (
c
);

350 i‡(
c
 < 0)

353 i‡(
	`putch¨
 (
c
) < 0)

354 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

356 
c
 != '\n');

358 
	}
}

361 
	$maö
 (
¨gc
, **
¨gv
)

363 
c
;

365 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

366 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

367 
	`£éoˇÀ
 (
LC_ALL
, "");

368 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

369 
	`ãxtdomaö
 (
PACKAGE
);

371 
	`©exô
 (
˛o£_°dout
);

373 
have_ªad_°dö
 = 
Ál£
;

374 
exô_°©us
 = 
EXIT_SUCCESS
;

375 
c⁄vît_ítúe_löe
 = 
åue
;

376 
èb_li°
 = 
NULL
;

377 
fú°_‰ì_èb
 = 0;

379 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t›ts
, 
l⁄g›ts
, 
NULL
)) != -1)

381 
c
)

384 
c⁄vît_ítúe_löe
 = 
Ál£
;

388 
	`∑r£_èb_°›s
 (
›èrg
);

393 i‡(
›èrg
)

394 
	`∑r£_èb_°›s
 (
›èrg
 - 1);

397 
èb_°›
[2];

398 
èb_°›
[0] = 
c
;

399 
èb_°›
[1] = '\0';

400 
	`∑r£_èb_°›s
 (
èb_°›
);

404 
ˇ£_GETOPT_HELP_CHAR
;

406 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

409 
	`ußge
 (
EXIT_FAILURE
);

413 
	`vÆid©e_èb_°›s
 (
èb_li°
, 
fú°_‰ì_èb
);

415 i‡(
fú°_‰ì_èb
 == 0)

416 
èb_size
 = 8;

417 i‡(
fú°_‰ì_èb
 == 1)

418 
èb_size
 = 
èb_li°
[0];

420 
èb_size
 = 0;

422 
fûe_li°
 = (
›töd
 < 
¨gc
 ? &
¨gv
[›töd] : 
°dö_¨gv
);

424 
	`ex∑nd
 ();

426 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
) != 0)

427 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

429 
	`exô
 (
exô_°©us
);

430 
	}
}

	@expr.c

31 
	~<c⁄fig.h
>

32 
	~<°dio.h
>

33 
	~<sys/ty≥s.h
>

34 
	~"sy°em.h
"

36 
	~<ªgex.h
>

37 
	~"îr‹.h
"

38 
	~"l⁄g-›ti⁄s.h
"

39 
	~"quŸórg.h
"

40 
	~"°∫umcmp.h
"

41 
	~"x°πﬁ.h
"

45 
vîify
 (
SIZE_MAX
 <
ULONG_MAX
);

47 
	$öãgî_ovîÊow
 (Ë
ATTRIBUTE_NORETURN
;

49 #i‚de‡
HAVE_GMP


50 
	#HAVE_GMP
 0

	)

53 #i‡
HAVE_GMP


54 
	~<gmp.h
>

57 
ötmax_t
 
	tmpz_t
[1];

58 
	$mpz_˛ór
 (
mpz_t
 
z
Ë{ (Ëz; 
	}
}

59 
	$mpz_öô_£t_ui
 (
mpz_t
 
z
, 
i
Ë{ z[0] = i; 
	}
}

61 
	$mpz_öô_£t_°r
 (
mpz_t
 
z
, *
s
, 
ba£
)

63  
	`x°πoimax
 (
s
, 
NULL
, 
ba£
, 
z
, NULLË=
LONGINT_OK
 ? 0 : -1;

64 
	}
}

66 
	$mpz_add
 (
mpz_t
 
r
, mpz_à
a0
, mpz_à
b0
)

68 
ötmax_t
 
a
 = 
a0
[0];

69 
ötmax_t
 
b
 = 
b0
[0];

70 
ötmax_t
 
vÆ
 = 
a
 + 
b
;

71 i‡((
vÆ
 < 
a
Ë!(
b
 < 0))

72 
	`öãgî_ovîÊow
 ('+');

73 
r
[0] = 
vÆ
;

74 
	}
}

76 
	$mpz_sub
 (
mpz_t
 
r
, mpz_à
a0
, mpz_à
b0
)

78 
ötmax_t
 
a
 = 
a0
[0];

79 
ötmax_t
 
b
 = 
b0
[0];

80 
ötmax_t
 
vÆ
 = 
a
 - 
b
;

81 i‡((
a
 < 
vÆ
Ë!(
b
 < 0))

82 
	`öãgî_ovîÊow
 ('-');

83 
r
[0] = 
vÆ
;

84 
	}
}

86 
	$mpz_mul
 (
mpz_t
 
r
, mpz_à
a0
, mpz_à
b0
)

88 
ötmax_t
 
a
 = 
a0
[0];

89 
ötmax_t
 
b
 = 
b0
[0];

90 
ötmax_t
 
vÆ
 = 
a
 * 
b
;

91 i‡(! (
a
 =0 || 
b
 == 0

92 || ((
vÆ
 < 0Ë=((
a
 < 0Ë^ (
b
 < 0)) && val /á == b)))

93 
	`öãgî_ovîÊow
 ('*');

94 
r
[0] = 
vÆ
;

95 
	}
}

97 
	$mpz_tdiv_q
 (
mpz_t
 
r
, mpz_à
a0
, mpz_à
b0
)

99 
ötmax_t
 
a
 = 
a0
[0];

100 
ötmax_t
 
b
 = 
b0
[0];

103 i‡(
a
 < - 
INTMAX_MAX
 && 
b
 == -1)

104 
	`öãgî_ovîÊow
 ('/');

105 
r
[0] = 
a
 / 
b
;

106 
	}
}

108 
	$mpz_tdiv_r
 (
mpz_t
 
r
, mpz_à
a0
, mpz_à
b0
)

110 
ötmax_t
 
a
 = 
a0
[0];

111 
ötmax_t
 
b
 = 
b0
[0];

114 
r
[0] = 
a
 < - 
INTMAX_MAX
 && 
b
 == -1 ? 0 :á % b;

115 
	}
}

117 
	$mpz_gë_°r
 (c⁄° *
°r
, 
ba£
, 
mpz_t
 
z
)

119 (Ë
°r
; (Ë
ba£
;

120 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

121  
	`x°rdup
 (
	`imaxto°r
 (
z
[0], 
buf
));

122 
	}
}

124 
	$mpz_sgn
 (
mpz_t
 
z
)

126  
z
[0] < 0 ? -1 : 0 < z[0];

127 
	}
}

129 
	$mpz_fôs_ul⁄g_p
 (
mpz_t
 
z
)

131  0 <
z
[0] && z[0] <
ULONG_MAX
;

132 
	}
}

134 
	$mpz_gë_ui
 (
mpz_t
 
z
)

136  
z
[0];

137 
	}
}

139 
	$mpz_out_°r
 (
FILE
 *
°ªam
, 
ba£
, 
mpz_t
 
z
)

141 (Ë
ba£
;

142 
buf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

143  
	`Âuts
 (
	`imaxto°r
 (
z
[0], 
buf
), 
°ªam
Ë!
EOF
;

144 
	}
}

148 
	#PROGRAM_NAME
 "ex¥"

	)

150 
	#AUTHORS
 \

151 
	`¥›î_«me
 ("Mike Parker"), \

152 
	`¥›î_«me
 ("James Youngman"), \

153 
	`¥›î_«me
 ("Pau»Eggît")

	)

161 
	mEXPR_INVALID
 = 2,

165 
	mEXPR_FAILURE


169 
	evÆty≥


171 
	möãgî
,

172 
	m°rög


174 
vÆty≥
 
	tTYPE
;

177 
	svÆöfo


179 
TYPE
 
	mty≥
;

182 
mpz_t
 
	mi
;

183 *
	ms
;

184 } 
	mu
;

186 
vÆöfo
 
	tVALUE
;

189 **
	g¨gs
;

191 
VALUE
 *
evÆ
 (
boﬁ
);

192 
boﬁ
 
nom‹órgs
 ();

193 
boﬁ
 
nuŒ
 (
VALUE
 *
v
);

194 
¥ötv
 (
VALUE
 *
v
);

197 
	$ußge
 (
°©us
)

199 i‡(
°©us
 !
EXIT_SUCCESS
)

200 
	`emô_åy_hñp
 ();

203 
	`¥ötf
 (
	`_
("\
: %s EXPRESSION\n\
: %s OPTION\n\
"),

207 
¥ogøm_«me
,Örogram_name);

208 
	`putch¨
 ('\n');

209 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

210 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

211 
	`Âuts
 (
	`_
("\
\n\
ÅhêvÆuêo‡EXPRESSIONÅÿ°™d¨d ouçut. A bœnkÜöêbñow\n\
 in¸ósögÖª˚dí˚ groups. EXPRESSION may be:\n\
\n\
1 | ARG2 ARG1 i‡ô i†√ôhîÇuŒÇ‹ 0, othîwi£ ARG2\n\
\n\
1 & ARG2 ARG1 i‡√ôhîárgumíài†nuŒ o∏0, othîwi£ 0\n\
"), 
°dout
);

220 
	`Âuts
 (
	`_
("\
\n\
1 < ARG2 ARG1 i†Às†th™ ARG2\n\
1 <ARG2 ARG1 i†Às†th™ o∏equÆÅÿARG2\n\
1 = ARG2 ARG1 i†equÆÅÿARG2\n\
1 !ARG2 ARG1 i†u√quÆÅÿARG2\n\
1 >ARG2 ARG1 i†gª©îÅh™ o∏equÆÅÿARG2\n\
1 > ARG2 ARG1 i†gª©îÅh™ ARG2\n\
"), 
°dout
);

229 
	`Âuts
 (
	`_
("\
\n\
1 + ARG2árôhmëi¯sum o‡ARG1ánd ARG2\n\
1 - ARG2árôhmëi¯dif„ªn˚ o‡ARG1ánd ARG2\n\
"), 
°dout
);

236 
	`Âuts
 (
	`_
("\
\n\
1 * ARG2árôhmëi¯¥odu˘ o‡ARG1ánd ARG2\n\
1 / ARG2árôhmëi¯quŸõ¡ o‡ARG1 divided by ARG2\n\
1 % ARG2árôhmëi¯ªmaödî o‡ARG1 divided by ARG2\n\
"), 
°dout
);

242 
	`Âuts
 (
	`_
("\
\n\
 : REGEXPánch‹edÖ©ã∫ m©ch o‡REGEXP i¿STRING\n\
\n\
 STRING REGEXP samêa†STRING : REGEXP\n\
 STRING POS LENGTH sub°rög o‡STRING, POS cou¡ed from 1\n\
 STRING CHARS index i¿STRING whîê™y CHARS i†found, o∏0\n\
 STRINGÜígth o‡STRING\n\
"), 
°dout
);

251 
	`Âuts
 (
	`_
("\
+ TOKEN i¡î¥ë TOKENá†®°rög,Éví i‡ô i†a\n\
Üikê'm©ch' o∏™ o≥øt‹Üikê'/'\n\
\n\
–EXPRESSION ) vÆuêo‡EXPRESSION\n\
"), 
°dout
);

257 
	`Âuts
 (
	`_
("\
\n\
Åh© m™y o≥øt‹†√edÅÿbêesˇ≥d o∏quŸed f‹ shñls.\n\
áªárôhmëi¯i‡bŸh ARG†¨ênumbîs,Él£Üexicogøphiˇl.\n\
 m©che†ªtu∫Åhê°rög m©ched bëwì¿\\–™d \\Ë‹ÇuŒ; if\n\
\\–™d \\Ë¨ênŸ u£d,ÅheyÑëu∫Åhênumbî o‡ch¨a˘î†m©ched o∏0.\n\
"), 
°dout
);

264 
	`Âuts
 (
	`_
("\
\n\
 sètu†i†0 i‡EXPRESSION i†√ôhîÇuŒÇ‹ 0, 1 i‡EXPRESSION i†nuŒ\n\
 0, 2 i‡EXPRESSION i†sy¡a˘iˇŒy invÆid,ánd 3 i‡™Éº‹ occuºed.\n\
"), 
°dout
);

269 
	`emô_™cûœry_öfo
 ();

271 
	`exô
 (
°©us
);

272 
	}
}

276 
	$sy¡ax_îr‹
 ()

278 
	`îr‹
 (
EXPR_INVALID
, 0, 
	`_
("syntaxÉrror"));

279 
	}
}

283 
	$öãgî_ovîÊow
 (
›
)

285 
	`îr‹
 (
EXPR_FAILURE
, 
ERANGE
, "%c", 
›
);

286 
	`ab‹t
 ();

287 
	}
}

289 
	$dõ
 (
î∫o_vÆ
, c⁄° *
msg
)

290 
ATTRIBUTE_NORETURN
;

292 
	$dõ
 (
î∫o_vÆ
, c⁄° *
msg
)

294 
	`îr‹
 (
EXPR_FAILURE
, 
î∫o_vÆ
, "%s", 
msg
);

295 
	`ab‹t
 ();

296 
	}
}

299 
	$maö
 (
¨gc
, **
¨gv
)

301 
VALUE
 *
v
;

303 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

304 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

305 
	`£éoˇÀ
 (
LC_ALL
, "");

306 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

307 
	`ãxtdomaö
 (
PACKAGE
);

309 
	`öôülize_exô_Áûuª
 (
EXPR_FAILURE
);

310 
	`©exô
 (
˛o£_°dout
);

312 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
VERSION
,

313 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

317 
u_¨gc
 = 
¨gc
;

318 i‡(1 < 
u_¨gc
 && 
	`STREQ
 (
¨gv
[1], "--"))

320 --
u_¨gc
;

321 ++
¨gv
;

324 i‡(
u_¨gc
 <= 1)

326 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

327 
	`ußge
 (
EXPR_INVALID
);

330 
¨gs
 = 
¨gv
 + 1;

332 
v
 = 
	`evÆ
 (
åue
);

333 i‡(!
	`nom‹órgs
 ())

334 
	`sy¡ax_îr‹
 ();

335 
	`¥ötv
 (
v
);

337 
	`exô
 (
	`nuŒ
 (
v
));

338 
	}
}

342 
VALUE
 *

343 
	$öt_vÆue
 (
i
)

345 
VALUE
 *
v
 = 
	`xmÆloc
 ( *v);

346 
v
->
ty≥
 = 
öãgî
;

347 
	`mpz_öô_£t_ui
 (
v
->
u
.
i
, i);

348  
v
;

349 
	}
}

353 
VALUE
 *

354 
	$°r_vÆue
 (c⁄° *
s
)

356 
VALUE
 *
v
 = 
	`xmÆloc
 ( *v);

357 
v
->
ty≥
 = 
°rög
;

358 
v
->
u
.
s
 = 
	`x°rdup
 (s);

359  
v
;

360 
	}
}

365 
	$‰ìv
 (
VALUE
 *
v
)

367 i‡(
v
->
ty≥
 =
°rög
)

368 
	`‰ì
 (
v
->
u
.
s
);

370 
	`mpz_˛ór
 (
v
->
u
.
i
);

371 
	`‰ì
 (
v
);

372 
	}
}

377 
	$¥ötv
 (
VALUE
 *
v
)

379 
v
->
ty≥
)

381 
öãgî
:

382 
	`mpz_out_°r
 (
°dout
, 10, 
v
->
u
.
i
);

383 
	`putch¨
 ('\n');

385 
°rög
:

386 
	`puts
 (
v
->
u
.
s
);

389 
	`ab‹t
 ();

391 
	}
}

395 
boﬁ
 
_GL_ATTRIBUTE_PURE


396 
	$nuŒ
 (
VALUE
 *
v
)

398 
v
->
ty≥
)

400 
öãgî
:

401  
	`mpz_sgn
 (
v
->
u
.
i
) == 0;

402 
°rög
:

404 c⁄° *
˝
 = 
v
->
u
.
s
;

405 i‡(*
˝
 == '\0')

406  
åue
;

408 
˝
 += (*cp == '-');

412 i‡(*
˝
 != '0')

413  
Ál£
;

415 *++
˝
);

417  
åue
;

420 
	`ab‹t
 ();

422 
	}
}

426 
boﬁ
 
_GL_ATTRIBUTE_PURE


427 
	$looks_like_öãgî
 (c⁄° *
˝
)

429 
˝
 += (*cp == '-');

432 i‡(! 
	`ISDIGIT
 (*
˝
))

433  
Ál£
;

434 *++
˝
);

436  
åue
;

437 
	}
}

442 
	$to°rög
 (
VALUE
 *
v
)

444 
v
->
ty≥
)

446 
öãgî
:

448 *
s
 = 
	`mpz_gë_°r
 (
NULL
, 10, 
v
->
u
.
i
);

449 
	`mpz_˛ór
 (
v
->
u
.
i
);

450 
v
->
u
.
s
 = s;

451 
v
->
ty≥
 = 
°rög
;

454 
°rög
:

457 
	`ab‹t
 ();

459 
	}
}

463 
boﬁ


464 
	$tﬂrôh
 (
VALUE
 *
v
)

466 
v
->
ty≥
)

468 
öãgî
:

469  
åue
;

470 
°rög
:

472 *
s
 = 
v
->
u
.s;

474 i‡(! 
	`looks_like_öãgî
 (
s
))

475  
Ál£
;

476 i‡(
	`mpz_öô_£t_°r
 (
v
->
u
.
i
, 
s
, 10Ë!0 && !
HAVE_GMP
)

477 
	`îr‹
 (
EXPR_FAILURE
, 
ERANGE
, "%s", 
s
);

478 
	`‰ì
 (
s
);

479 
v
->
ty≥
 = 
öãgî
;

480  
åue
;

483 
	`ab‹t
 ();

485 
	}
}

490 
size_t


491 
	$gësize
 (
mpz_t
 
i
)

493 i‡(
	`mpz_sgn
 (
i
) < 0)

494  
SIZE_MAX
;

495 i‡(
	`mpz_fôs_ul⁄g_p
 (
i
))

497 
ul
 = 
	`mpz_gë_ui
 (
i
);

498 i‡(
ul
 < 
SIZE_MAX
)

499  
ul
;

501  
SIZE_MAX
 - 1;

502 
	}
}

507 
boﬁ


508 
	$√xèrg
 (c⁄° *
°r
)

510 i‡(*
¨gs
 =
NULL
)

511  
Ál£
;

514 
boﬁ
 
r
 = 
	`STREQ
 (*
¨gs
, 
°r
);

515 
¨gs
 +
r
;

516  
r
;

518 
	}
}

522 
boﬁ


523 
	$nom‹órgs
 ()

525  *
¨gs
 == 0;

526 
	}
}

528 #ifde‡
EVAL_TRACE


532 
	$åa˚
 (
fxn
)

533 *
fxn
;

535 **
a
;

537 
	`¥ötf
 ("%s:", 
fxn
);

538 
a
 = 
¨gs
; *a;á++)

539 
	`¥ötf
 (" %s", *
a
);

540 
	`putch¨
 ('\n');

541 
	}
}

548 
VALUE
 *

549 
	$docﬁ⁄
 (
VALUE
 *
sv
, VALUE *
pv
)

551 
VALUE
 *
v
 
	`IF_LINT
 ( = 
NULL
);

552 c⁄° *
îrmsg
;

553 
ª_∑âîn_buf„r
 
ª_buf„r
;

554 
Á°m≠
[
UCHAR_MAX
 + 1];

555 
ª_ªgi°îs
 
ª_ªgs
;

556 
ªgoff_t
 
m©chÀn
;

558 
	`to°rög
 (
sv
);

559 
	`to°rög
 (
pv
);

561 
ª_ªgs
.
num_ªgs
 = 0;

562 
ª_ªgs
.
°¨t
 = 
NULL
;

563 
ª_ªgs
.
íd
 = 
NULL
;

565 
ª_buf„r
.
buf„r
 = 
NULL
;

566 
ª_buf„r
.
Æloˇãd
 = 0;

567 
ª_buf„r
.
Á°m≠
 = fastmap;

568 
ª_buf„r
.
å™¶©e
 = 
NULL
;

569 
ª_sy¡ax_›ti⁄s
 =

570 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

571 
îrmsg
 = 
	`ª_compûe_∑âîn
 (
pv
->
u
.
s
, 
	`°æí
 (pv->u.s), &
ª_buf„r
);

572 i‡(
îrmsg
)

573 
	`îr‹
 (
EXPR_INVALID
, 0, "%s", 
îrmsg
);

574 
ª_buf„r
.
√wlöe_™ch‹
 = 0;

576 
m©chÀn
 = 
	`ª_m©ch
 (&
ª_buf„r
, 
sv
->
u
.
s
, 
	`°æí
 (sv->u.s), 0, &
ª_ªgs
);

577 i‡(0 <
m©chÀn
)

580 i‡(
ª_buf„r
.
ª_nsub
 > 0)

582 
sv
->
u
.
s
[
ª_ªgs
.
íd
[1]] = '\0';

583 
v
 = 
	`°r_vÆue
 (
sv
->
u
.
s
 + 
ª_ªgs
.
°¨t
[1]);

586 
v
 = 
	`öt_vÆue
 (
m©chÀn
);

588 i‡(
m©chÀn
 == -1)

591 i‡(
ª_buf„r
.
ª_nsub
 > 0)

592 
v
 = 
	`°r_vÆue
 ("");

594 
v
 = 
	`öt_vÆue
 (0);

597 
	`îr‹
 (
EXPR_FAILURE
,

598 (
m©chÀn
 =-2 ? 
î∫o
 : 
EOVERFLOW
),

599 
	`_
("error inÑegularÉxpression matcher"));

601 i‡(0 < 
ª_ªgs
.
num_ªgs
)

603 
	`‰ì
 (
ª_ªgs
.
°¨t
);

604 
	`‰ì
 (
ª_ªgs
.
íd
);

606 
ª_buf„r
.
Á°m≠
 = 
NULL
;

607 
	`ªg‰ì
 (&
ª_buf„r
);

608  
v
;

609 
	}
}

613 
VALUE
 *

614 
	$evÆ7
 (
boﬁ
 
evÆu©e
)

616 
VALUE
 *
v
;

618 #ifde‡
EVAL_TRACE


619 
	`åa˚
 ("eval7");

621 i‡(
	`nom‹órgs
 ())

622 
	`sy¡ax_îr‹
 ();

624 i‡(
	`√xèrg
 ("("))

626 
v
 = 
	`evÆ
 (
evÆu©e
);

627 i‡(!
	`√xèrg
 (")"))

628 
	`sy¡ax_îr‹
 ();

629  
v
;

632 i‡(
	`√xèrg
 (")"))

633 
	`sy¡ax_îr‹
 ();

635  
	`°r_vÆue
 (*
¨gs
++);

636 
	}
}

640 
VALUE
 *

641 
	$evÆ6
 (
boﬁ
 
evÆu©e
)

643 
VALUE
 *
l
;

644 
VALUE
 *
r
;

645 
VALUE
 *
v
;

646 
VALUE
 *
i1
;

647 
VALUE
 *
i2
;

649 #ifde‡
EVAL_TRACE


650 
	`åa˚
 ("eval6");

652 i‡(
	`√xèrg
 ("+"))

654 i‡(
	`nom‹órgs
 ())

655 
	`sy¡ax_îr‹
 ();

656  
	`°r_vÆue
 (*
¨gs
++);

658 i‡(
	`√xèrg
 ("length"))

660 
r
 = 
	`evÆ6
 (
evÆu©e
);

661 
	`to°rög
 (
r
);

662 
v
 = 
	`öt_vÆue
 (
	`°æí
 (
r
->
u
.
s
));

663 
	`‰ìv
 (
r
);

664  
v
;

666 i‡(
	`√xèrg
 ("match"))

668 
l
 = 
	`evÆ6
 (
evÆu©e
);

669 
r
 = 
	`evÆ6
 (
evÆu©e
);

670 i‡(
evÆu©e
)

672 
v
 = 
	`docﬁ⁄
 (
l
, 
r
);

673 
	`‰ìv
 (
l
);

676 
v
 = 
l
;

677 
	`‰ìv
 (
r
);

678  
v
;

680 i‡(
	`√xèrg
 ("index"))

682 
size_t
 
pos
;

684 
l
 = 
	`evÆ6
 (
evÆu©e
);

685 
r
 = 
	`evÆ6
 (
evÆu©e
);

686 
	`to°rög
 (
l
);

687 
	`to°rög
 (
r
);

688 
pos
 = 
	`°rc•n
 (
l
->
u
.
s
, 
r
->u.s);

689 
v
 = 
	`öt_vÆue
 (
l
->
u
.
s
[
pos
] ?Öos + 1 : 0);

690 
	`‰ìv
 (
l
);

691 
	`‰ìv
 (
r
);

692  
v
;

694 i‡(
	`√xèrg
 ("substr"))

696 
size_t
 
Œí
;

697 
l
 = 
	`evÆ6
 (
evÆu©e
);

698 
i1
 = 
	`evÆ6
 (
evÆu©e
);

699 
i2
 = 
	`evÆ6
 (
evÆu©e
);

700 
	`to°rög
 (
l
);

701 
Œí
 = 
	`°æí
 (
l
->
u
.
s
);

703 i‡(!
	`tﬂrôh
 (
i1
Ë|| !tﬂrôh (
i2
))

704 
v
 = 
	`°r_vÆue
 ("");

707 
size_t
 
pos
 = 
	`gësize
 (
i1
->
u
.
i
);

708 
size_t
 
Àn
 = 
	`gësize
 (
i2
->
u
.
i
);

710 i‡(
Œí
 < 
pos
 ||Öo†=0 || 
Àn
 =0 ||Üí =
SIZE_MAX
)

711 
v
 = 
	`°r_vÆue
 ("");

714 
size_t
 
vÀn
 = 
	`MIN
 (
Àn
, 
Œí
 - 
pos
 + 1);

715 *
vlim
;

716 
v
 = 
	`xmÆloc
 ( *v);

717 
v
->
ty≥
 = 
°rög
;

718 
v
->
u
.
s
 = 
	`xmÆloc
 (
vÀn
 + 1);

719 
vlim
 = 
	`memp˝y
 (
v
->
u
.
s
, 
l
->u.†+ 
pos
 - 1, 
vÀn
);

720 *
vlim
 = '\0';

723 
	`‰ìv
 (
l
);

724 
	`‰ìv
 (
i1
);

725 
	`‰ìv
 (
i2
);

726  
v
;

729  
	`evÆ7
 (
evÆu©e
);

730 
	}
}

735 
VALUE
 *

736 
	$evÆ5
 (
boﬁ
 
evÆu©e
)

738 
VALUE
 *
l
;

739 
VALUE
 *
r
;

740 
VALUE
 *
v
;

742 #ifde‡
EVAL_TRACE


743 
	`åa˚
 ("eval5");

745 
l
 = 
	`evÆ6
 (
evÆu©e
);

748 i‡(
	`√xèrg
 (":"))

750 
r
 = 
	`evÆ6
 (
evÆu©e
);

751 i‡(
evÆu©e
)

753 
v
 = 
	`docﬁ⁄
 (
l
, 
r
);

754 
	`‰ìv
 (
l
);

755 
l
 = 
v
;

757 
	`‰ìv
 (
r
);

760  
l
;

762 
	}
}

766 
VALUE
 *

767 
	$evÆ4
 (
boﬁ
 
evÆu©e
)

769 
VALUE
 *
l
;

770 
VALUE
 *
r
;

771 íum { 
mu…ùly
, 
divide
, 
mod
 } 
fxn
;

773 #ifde‡
EVAL_TRACE


774 
	`åa˚
 ("eval4");

776 
l
 = 
	`evÆ5
 (
evÆu©e
);

779 i‡(
	`√xèrg
 ("*"))

780 
fxn
 = 
mu…ùly
;

781 i‡(
	`√xèrg
 ("/"))

782 
fxn
 = 
divide
;

783 i‡(
	`√xèrg
 ("%"))

784 
fxn
 = 
mod
;

786  
l
;

787 
r
 = 
	`evÆ5
 (
evÆu©e
);

788 i‡(
evÆu©e
)

790 i‡(!
	`tﬂrôh
 (
l
Ë|| !tﬂrôh (
r
))

791 
	`îr‹
 (
EXPR_INVALID
, 0, 
	`_
("non-integerárgument"));

792 i‡(
fxn
 !
mu…ùly
 && 
	`mpz_sgn
 (
r
->
u
.
i
) == 0)

793 
	`îr‹
 (
EXPR_INVALID
, 0, 
	`_
("division by zero"));

794 ((
fxn
 =
mu…ùly
 ? 
mpz_mul


795 : 
fxn
 =
divide
 ? 
mpz_tdiv_q


796 : 
mpz_tdiv_r
)

797 (
l
->
u
.
i
,Ü->u.i, 
r
->u.i));

799 
	`‰ìv
 (
r
);

801 
	}
}

805 
VALUE
 *

806 
	$evÆ3
 (
boﬁ
 
evÆu©e
)

808 
VALUE
 *
l
;

809 
VALUE
 *
r
;

810 íum { 
∂us
, 
möus
 } 
fxn
;

812 #ifde‡
EVAL_TRACE


813 
	`åa˚
 ("eval3");

815 
l
 = 
	`evÆ4
 (
evÆu©e
);

818 i‡(
	`√xèrg
 ("+"))

819 
fxn
 = 
∂us
;

820 i‡(
	`√xèrg
 ("-"))

821 
fxn
 = 
möus
;

823  
l
;

824 
r
 = 
	`evÆ4
 (
evÆu©e
);

825 i‡(
evÆu©e
)

827 i‡(!
	`tﬂrôh
 (
l
Ë|| !tﬂrôh (
r
))

828 
	`îr‹
 (
EXPR_INVALID
, 0, 
	`_
("non-integerárgument"));

829 (
fxn
 =
∂us
 ? 
mpz_add
 : 
mpz_sub
Ë(
l
->
u
.
i
,Ü->u.i, 
r
->u.i);

831 
	`‰ìv
 (
r
);

833 
	}
}

837 
VALUE
 *

838 
	$evÆ2
 (
boﬁ
 
evÆu©e
)

840 
VALUE
 *
l
;

842 #ifde‡
EVAL_TRACE


843 
	`åa˚
 ("eval2");

845 
l
 = 
	`evÆ3
 (
evÆu©e
);

848 
VALUE
 *
r
;

851 
Àss_th™
, 
Àss_equÆ
, 
equÆ
, 
nŸ_equÆ
, 
gª©î_equÆ
, 
gª©î_th™


852 } 
fxn
;

853 
boﬁ
 
vÆ
 = 
Ál£
;

855 i‡(
	`√xèrg
 ("<"))

856 
fxn
 = 
Àss_th™
;

857 i‡(
	`√xèrg
 ("<="))

858 
fxn
 = 
Àss_equÆ
;

859 i‡(
	`√xèrg
 ("=") ||Çextarg ("=="))

860 
fxn
 = 
equÆ
;

861 i‡(
	`√xèrg
 ("!="))

862 
fxn
 = 
nŸ_equÆ
;

863 i‡(
	`√xèrg
 (">="))

864 
fxn
 = 
gª©î_equÆ
;

865 i‡(
	`√xèrg
 (">"))

866 
fxn
 = 
gª©î_th™
;

868  
l
;

869 
r
 = 
	`evÆ3
 (
evÆu©e
);

871 i‡(
evÆu©e
)

873 
cmp
;

874 
	`to°rög
 (
l
);

875 
	`to°rög
 (
r
);

877 i‡(
	`looks_like_öãgî
 (
l
->
u
.
s
Ë&&Üooks_like_öãgî (
r
->u.s))

878 
cmp
 = 
	`°rötcmp
 (
l
->
u
.
s
, 
r
->u.s);

881 
î∫o
 = 0;

882 
cmp
 = 
	`°rcﬁl
 (
l
->
u
.
s
, 
r
->u.s);

884 i‡(
î∫o
)

886 
	`îr‹
 (0, 
î∫o
, 
	`_
("string comparison failed"));

887 
	`îr‹
 (0, 0, 
	`_
("set LC_ALL='C'Åo workároundÅheÖroblem"));

888 
	`îr‹
 (
EXPR_INVALID
, 0,

889 
	`_
("the strings compared were %sánd %s"),

890 
	`quŸórg_n_°yÀ
 (0, 
loˇÀ_quŸög_°yÀ
, 
l
->
u
.
s
),

891 
	`quŸórg_n_°yÀ
 (1, 
loˇÀ_quŸög_°yÀ
, 
r
->
u
.
s
));

895 
fxn
)

897 
Àss_th™
: 
vÆ
 = (
cmp
 < 0); ;

898 
Àss_equÆ
: 
vÆ
 = (
cmp
 <= 0); ;

899 
equÆ
: 
vÆ
 = (
cmp
 == 0); ;

900 
nŸ_equÆ
: 
vÆ
 = (
cmp
 != 0); ;

901 
gª©î_equÆ
: 
vÆ
 = (
cmp
 >= 0); ;

902 
gª©î_th™
: 
vÆ
 = (
cmp
 > 0); ;

903 : 
	`ab‹t
 ();

907 
	`‰ìv
 (
l
);

908 
	`‰ìv
 (
r
);

909 
l
 = 
	`öt_vÆue
 (
vÆ
);

911 
	}
}

915 
VALUE
 *

916 
	$evÆ1
 (
boﬁ
 
evÆu©e
)

918 
VALUE
 *
l
;

919 
VALUE
 *
r
;

921 #ifde‡
EVAL_TRACE


922 
	`åa˚
 ("eval1");

924 
l
 = 
	`evÆ2
 (
evÆu©e
);

927 i‡(
	`√xèrg
 ("&"))

929 
r
 = 
	`evÆ2
 (
evÆu©e
 && !
	`nuŒ
 (
l
));

930 i‡(
	`nuŒ
 (
l
Ë||ÇuŒ (
r
))

932 
	`‰ìv
 (
l
);

933 
	`‰ìv
 (
r
);

934 
l
 = 
	`öt_vÆue
 (0);

937 
	`‰ìv
 (
r
);

940  
l
;

942 
	}
}

946 
VALUE
 *

947 
	$evÆ
 (
boﬁ
 
evÆu©e
)

949 
VALUE
 *
l
;

950 
VALUE
 *
r
;

952 #ifde‡
EVAL_TRACE


953 
	`åa˚
 ("eval");

955 
l
 = 
	`evÆ1
 (
evÆu©e
);

958 i‡(
	`√xèrg
 ("|"))

960 
r
 = 
	`evÆ1
 (
evÆu©e
 && 
	`nuŒ
 (
l
));

961 i‡(
	`nuŒ
 (
l
))

963 
	`‰ìv
 (
l
);

964 
l
 = 
r
;

965 i‡(
	`nuŒ
 (
l
))

967 
	`‰ìv
 (
l
);

968 
l
 = 
	`öt_vÆue
 (0);

972 
	`‰ìv
 (
r
);

975  
l
;

977 
	}
}

	@extent-scan.c

19 
	~<c⁄fig.h
>

20 
	~<sys/ty≥s.h
>

21 
	~<sys/io˘l.h
>

22 
	~<sys/ut¢ame.h
>

23 
	~<as£π.h
>

25 
	~"sy°em.h
"

26 
	~"exã¡-sˇn.h
"

27 
	~"fõm≠.h
"

28 
	~"x°πﬁ.h
"

34 
boﬁ


35 
	$exã¡_√ed_sync
 ()

41  
åue
;

43 #i‡
FIEMAP_BEHAVIOR_IS_DEFINED_AND_USABLE


44 
√ed_sync
 = -1;

46 i‡(
√ed_sync
 == -1)

48 
ut¢ame
 
«me
;

49 
√ed_sync
 = 0;

51 #ifde‡
__löux__


52 i‡(
	`u«me
 (&
«me
Ë!-1 && 
	`STRNCMP_LIT
 («me.
ªÀa£
, "2.6.") == 0)

54 
vÆ
;

55 i‡(
	`x°πoul
 (
«me
.
ªÀa£
 + 4, 
NULL
, 10, &
vÆ
, NULLË=
LONGINT_OK
)

57 i‡(
vÆ
 < 39)

58 
√ed_sync
 = 1;

64  
√ed_sync
;

66 
	}
}

71 
	$exã¡_sˇn_öô
 (
§c_fd
, 
exã¡_sˇn
 *
sˇn
)

73 
sˇn
->
fd
 = 
§c_fd
;

74 
sˇn
->
ei_cou¡
 = 0;

75 
sˇn
->
ext_öfo
 = 
NULL
;

76 
sˇn
->
sˇn_°¨t
 = 0;

77 
sˇn
->
öôül_sˇn_Áûed
 = 
Ál£
;

78 
sˇn
->
hô_föÆ_exã¡
 = 
Ál£
;

79 
sˇn
->
fm_Êags
 = 
	`exã¡_√ed_sync
 (Ë? 
FIEMAP_FLAG_SYNC
 : 0;

80 
	}
}

82 #ifde‡
__löux__


83 #i‚de‡
FS_IOC_FIEMAP


84 
	#FS_IOC_FIEMAP
 
	`_IOWR
 ('f', 11, 
fõm≠
)

	)

88 
boﬁ


89 
	$exã¡_sˇn_ªad
 (
exã¡_sˇn
 *
sˇn
)

91 
si
 = 0;

92 
exã¡_öfo
 *
œ°_ei
 = 
sˇn
->
ext_öfo
;

94 
åue
)

96 uni⁄ { 
fõm≠
 
f
; 
c
[4096]; } 
fõm≠_buf
;

97 
fõm≠
 *fõm≠ = &
fõm≠_buf
.
f
;

98 
fõm≠_exã¡
 *
fm_exã¡s
 = &
fõm≠
->fm_extents[0];

99 íum { 
cou¡
 = ( 
fõm≠_buf
 -  *
fõm≠
)/ *
fm_exã¡s
 };

100 
	`vîify
 (
cou¡
 > 1);

105 
	`mem£t
 (&
fõm≠_buf
, 0,  fiemap_buf);

107 
fõm≠
->
fm_°¨t
 = 
sˇn
->
sˇn_°¨t
;

108 
fõm≠
->
fm_Êags
 = 
sˇn
->fm_flags;

109 
fõm≠
->
fm_exã¡_cou¡
 = 
cou¡
;

110 
fõm≠
->
fm_Àngth
 = 
FIEMAP_MAX_OFFSET
 - 
sˇn
->
sˇn_°¨t
;

114 i‡(
	`io˘l
 (
sˇn
->
fd
, 
FS_IOC_FIEMAP
, 
fõm≠
) < 0)

116 i‡(
sˇn
->
sˇn_°¨t
 == 0)

117 
sˇn
->
öôül_sˇn_Áûed
 = 
åue
;

118  
Ál£
;

122 i‡(
fõm≠
->
fm_m≠≥d_exã¡s
 == 0)

124 
sˇn
->
hô_föÆ_exã¡
 = 
åue
;

125  
sˇn
->
sˇn_°¨t
 != 0;

128 
	`as£π
 (
sˇn
->
ei_cou¡
 <
SIZE_MAX
 - 
fõm≠
->
fm_m≠≥d_exã¡s
);

129 
sˇn
->
ei_cou¡
 +
fõm≠
->
fm_m≠≥d_exã¡s
;

133 
size_t
 
¥ev_idx
 = 
œ°_ei
 - 
sˇn
->
ext_öfo
;

134 
sˇn
->
ext_öfo
 = 
	`xƒóŒoc
 (sˇn->ext_öfo, sˇn->
ei_cou¡
,

135  (
exã¡_öfo
));

136 
œ°_ei
 = 
sˇn
->
ext_öfo
 + 
¥ev_idx
;

139 
i
 = 0;

140 
i
 = 0; i < 
fõm≠
->
fm_m≠≥d_exã¡s
; i++)

142 
	`as£π
 (
fm_exã¡s
[
i
].
„_logiˇl


143 <
OFF_T_MAX
 - 
fm_exã¡s
[
i
].
„_Àngth
);

145 i‡(
si
 && 
œ°_ei
->
ext_Êags


146 =(
fm_exã¡s
[
i
].
„_Êags
 & ~
FIEMAP_EXTENT_LAST
)

147 && (
œ°_ei
->
ext_logiˇl
 +Üa°_ei->
ext_Àngth


148 =
fm_exã¡s
[
i
].
„_logiˇl
))

151 
œ°_ei
->
ext_Àngth
 +
fm_exã¡s
[
i
].
„_Àngth
;

153 
œ°_ei
->
ext_Êags
 = 
fm_exã¡s
[
i
].
„_Êags
;

155 i‡((
si
 =0 && 
sˇn
->
sˇn_°¨t
 > 
fm_exã¡s
[
i
].
„_logiˇl
)

156 || (
si
 && (
œ°_ei
->
ext_logiˇl
 +Üa°_ei->
ext_Àngth


157 > 
fm_exã¡s
[
i
].
„_logiˇl
)))

163 
uöt64_t
 
√w_logiˇl
;

164 
uöt64_t
 
Àngth_adju°
;

165 i‡(
si
 == 0)

166 
√w_logiˇl
 = 
sˇn
->
sˇn_°¨t
;

171 
√w_logiˇl
 = 
œ°_ei
->
ext_logiˇl
 +Üa°_ei->
ext_Àngth
;

173 
Àngth_adju°
 = 
√w_logiˇl
 - 
fm_exã¡s
[
i
].
„_logiˇl
;

175 i‡(
Àngth_adju°
 < 
fm_exã¡s
[
i
].
„_Àngth
)

177 i‡(
sˇn
->
sˇn_°¨t
 == 0)

178 
sˇn
->
öôül_sˇn_Áûed
 = 
åue
;

179  
Ál£
;

181 
fm_exã¡s
[
i
].
„_logiˇl
 = 
√w_logiˇl
;

182 
fm_exã¡s
[
i
].
„_Àngth
 -
Àngth_adju°
;

184 
i
--;

189 
œ°_ei
 = 
sˇn
->
ext_öfo
 + 
si
;

190 
œ°_ei
->
ext_logiˇl
 = 
fm_exã¡s
[
i
].
„_logiˇl
;

191 
œ°_ei
->
ext_Àngth
 = 
fm_exã¡s
[
i
].
„_Àngth
;

192 
œ°_ei
->
ext_Êags
 = 
fm_exã¡s
[
i
].
„_Êags
;

193 
si
++;

197 i‡(
œ°_ei
->
ext_Êags
 & 
FIEMAP_EXTENT_LAST
)

198 
sˇn
->
hô_föÆ_exã¡
 = 
åue
;

202 i‡(
si
 > 
cou¡
 && !
sˇn
->
hô_föÆ_exã¡
)

203 
œ°_ei
 = 
sˇn
->
ext_öfo
 + --
si
 - 1;

206 
sˇn
->
ei_cou¡
 = 
si
;

208 i‡(
sˇn
->
hô_föÆ_exã¡
)

211 
sˇn
->
sˇn_°¨t
 = 
œ°_ei
->
ext_logiˇl
 +Üa°_ei->
ext_Àngth
;

213 i‡(
si
 >
cou¡
)

217  
åue
;

218 
	}
}

220 
boﬁ


221 
	$exã¡_sˇn_ªad
 (
exã¡_sˇn
 *
sˇn
 
ATTRIBUTE_UNUSED
)

223 
sˇn
->
öôül_sˇn_Áûed
 = 
åue
;

224 
î∫o
 = 
ENOTSUP
;

225  
Ál£
;

226 
	}
}

	@extent-scan.h

19 #i‚de‡
EXTENT_SCAN_H


20 
	#EXTENT_SCAN_H


	)

23 
	sexã¡_öfo


26 
off_t
 
	mext_logiˇl
;

29 
uöt64_t
 
	mext_Àngth
;

32 
uöt32_t
 
	mext_Êags
;

36 
	sexã¡_sˇn


39 
	mfd
;

42 
off_t
 
	msˇn_°¨t
;

45 
uöt32_t
 
	mfm_Êags
;

48 
uöt32_t
 
	mei_cou¡
;

52 
boﬁ
 
	möôül_sˇn_Áûed
;

55 
boﬁ
 
	mhô_föÆ_exã¡
;

58 
exã¡_öfo
 *
	mext_öfo
;

61 
exã¡_sˇn_öô
 (
§c_fd
, 
exã¡_sˇn
 *
sˇn
);

63 
boﬁ
 
exã¡_sˇn_ªad
 (
exã¡_sˇn
 *
sˇn
);

65 
ölöe
 

66 
	$exã¡_sˇn_‰ì
 (
exã¡_sˇn
 *
sˇn
)

68 
	`‰ì
 (
sˇn
->
ext_öfo
);

69 
sˇn
->
ext_öfo
 = 
NULL
;

70 
sˇn
->
ei_cou¡
 = 0;

71 
	}
}

	@factor.c

87 
	~<c⁄fig.h
>

88 
	~<gë›t.h
>

89 
	~<°dio.h
>

90 #i‡
HAVE_GMP


91 
	~<gmp.h
>

92 #i‡!
HAVE_DECL_MPZ_INITS


93 
	~<°d¨g.h
>

97 
	~<as£π.h
>

99 
	~"sy°em.h
"

100 
	~"îr‹.h
"

101 
	~"quŸe.h
"

102 
	~"ªadtokís.h
"

103 
	~"x°πﬁ.h
"

106 
	#PROGRAM_NAME
 "Á˘‹"

	)

108 
	#AUTHORS
 \

109 
	`¥›î_«me
 ("Paul Rubin"), \

110 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

111 
	`¥›î_«me_utf8
 ("Nõl†MﬁÀr", "Nõl†M\303\266Œî")

	)

114 
	#DELIM
 "\n\à"

	)

116 #i‚de‡
STAT_SQUFOF


117 
	#STAT_SQUFOF
 0

	)

120 #i‚de‡
USE_LONGLONG_H


126 #i‡
LONG_MAX
 =
INTMAX_MAX


127 
	#USE_LONGLONG_H
 1

	)

131 #i‡
USE_LONGLONG_H


136 #i‡
UINTMAX_MAX
 =
UINT32_MAX


137 
	#W_TYPE_SIZE
 32

	)

138 #ñi‡
UINTMAX_MAX
 =
UINT64_MAX


139 
	#W_TYPE_SIZE
 64

	)

140 #ñi‡
UINTMAX_MAX
 =
UINT128_MAX


141 
	#W_TYPE_SIZE
 128

	)

144 
	#UWty≥
 
uötmax_t


	)

145 
	#UHWty≥
 

	)

146 #unde‡
UDWty≥


147 #i‡
HAVE_ATTRIBUTE_MODE


148 
	tUQIty≥
 
	t__©åibuã__
 ((
	tmode
 (
	tQI
)));

149 
	tSIty≥
 
	t__©åibuã__
 ((
	tmode
 (
	tSI
)));

150 
	tUSIty≥
 
	t__©åibuã__
 ((
	tmode
 (
	tSI
)));

151 
	tDIty≥
 
	t__©åibuã__
 ((
	tmode
 (
	tDI
)));

152 
	tUDIty≥
 
	t__©åibuã__
 ((
	tmode
 (
	tDI
)));

154 
	tUQIty≥
;

155 
	tSIty≥
;

156 
	tUSIty≥
;

157 #i‡
HAVE_LONG_LONG_INT


158 
	tDIty≥
;

159 
	tUDIty≥
;

161 
	tDIty≥
;

162 
	tUDIty≥
;

165 
	#LONGLONG_STANDALONE


	)

166 
	#ASSERT
(
x
Ë

	)

167 
	#__GMP_DECLSPEC


	)

168 
	#__˛z_èb
 
Á˘‹_˛z_èb


	)

169 #i‚de‡
__GMP_GNUC_PREREQ


170 
	#__GMP_GNUC_PREREQ
(
a
,
b
Ë1

	)

175 #i‡
__GMP_GNUC_PREREQ
 (1,1Ë&& 
deföed
 
__˛z_èb


176 
	$ASSERT
 (1)

177 
__GMP_DECLSPEC


180 #i‡
_ARCH_PPC


181 
	#HAVE_HOST_CPU_FAMILY_powîpc
 1

	)

183 
	~"l⁄gl⁄g.h
"

184 #ifde‡
COUNT_LEADING_ZEROS_NEED_CLZ_TAB


185 c⁄° 
Á˘‹_˛z_èb
[129] =

192 
	}
};

197 
	#W_TYPE_SIZE
 (8 *  (
uötmax_t
))

	)

198 
	#__Œ_B
 ((
uötmax_t
Ë1 << (
W_TYPE_SIZE
 / 2))

	)

199 
	#__Œ_low∑π
(
t
Ë((
uötmax_t
Ë—Ë& (
__Œ_B
 - 1))

	)

200 
	#__Œ_high∑π
(
t
Ë((
uötmax_t
Ë—Ë>> (
W_TYPE_SIZE
 / 2))

	)

204 #i‡!
deföed
 
__˛z_èb
 && !deföed 
UHWty≥


210 
	eÆg_ty≥
 { 
	mALG_POLLARD_RHO
 = 1, 
	mALG_SQUFOF
 = 2 };

212 
Æg_ty≥
 
	gÆg
;

215 
	#MAX_NFACTS
 26

	)

219 
	mDEV_DEBUG_OPTION
 = 
CHAR_MAX
 + 1

222 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

224 {"-debug", 
no_¨gumít
, 
NULL
, 
DEV_DEBUG_OPTION
},

225 {
GETOPT_HELP_OPTION_DECL
},

226 {
GETOPT_VERSION_OPTION_DECL
},

227 {
NULL
, 0, NULL, 0}

230 
	sÁ˘‹s


232 
uötmax_t
 
	m∂¨ge
[2];

233 
uötmax_t
 
	mp
[
MAX_NFACTS
];

234 
	me
[
MAX_NFACTS
];

235 
	mnÁ˘‹s
;

238 #i‡
HAVE_GMP


239 
	smp_Á˘‹s


241 
mpz_t
 *
	mp
;

242 *
	me
;

243 
	mnÁ˘‹s
;

247 
Á˘‹
 (
uötmax_t
, uötmax_t, 
Á˘‹s
 *);

249 #i‚de‡
umul_µmm


250 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

252 
uötmax_t
 
__x0
, 
__x1
, 
__x2
, 
__x3
; \

253 
__ul
, 
__vl
, 
__uh
, 
__vh
; \

254 
uötmax_t
 
__u
 = (
u
), 
__v
 = (
v
); \

256 
__ul
 = 
	`__Œ_low∑π
 (
__u
); \

257 
__uh
 = 
	`__Œ_high∑π
 (
__u
); \

258 
__vl
 = 
	`__Œ_low∑π
 (
__v
); \

259 
__vh
 = 
	`__Œ_high∑π
 (
__v
); \

261 
__x0
 = (
uötmax_t
Ë
__ul
 * 
__vl
; \

262 
__x1
 = (
uötmax_t
Ë
__ul
 * 
__vh
; \

263 
__x2
 = (
uötmax_t
Ë
__uh
 * 
__vl
; \

264 
__x3
 = (
uötmax_t
Ë
__uh
 * 
__vh
; \

266 
__x1
 +
	`__Œ_high∑π
 (
__x0
); \

267 
__x1
 +
__x2
; \

268 i‡(
__x1
 < 
__x2
) \

269 
__x3
 +
__Œ_B
; \

271 (
w1
Ë
__x3
 + 
	`__Œ_high∑π
 (
__x1
); \

272 (
w0
Ë(
__x1
 << 
W_TYPE_SIZE
 / 2Ë+ 
	`__Œ_low∑π
 (
__x0
); \

273 } 0)

	)

276 #i‡!
deföed
 
udiv_q∫nd
 || deföed 
UDIV_NEEDS_NORMALIZATION


280 #unde‡
udiv_q∫nd


281 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

283 
uötmax_t
 
__d1
, 
__d0
, 
__q
, 
__r1
, 
__r0
; \

285 
	`as£π
 ((
n1
Ë< (
d
)); \

286 
__d1
 = (
d
); 
__d0
 = 0; \

287 
__r1
 = (
n1
); 
__r0
 = (
n0
); \

288 
__q
 = 0; \

289 
__i
 = 
W_TYPE_SIZE
; __i > 0; __i--) \

291 
	`rsh2
 (
__d1
, 
__d0
, __d1, __d0, 1); \

292 
__q
 <<= 1; \

293 i‡(
	`ge2
 (
__r1
, 
__r0
, 
__d1
, 
__d0
)) \

295 
__q
++; \

296 
	`sub_ddmmss
 (
__r1
, 
__r0
, __r1, __r0, 
__d1
, 
__d0
); \

299 (
r
Ë
__r0
; \

300 (
q
Ë
__q
; \

301 } 0)

	)

304 #i‡!
deföed
 
add_sßØa


305 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

307 
uötmax_t
 
_add_x
; \

308 
_add_x
 = (
Æ
Ë+ (
bl
); \

309 (
sh
Ë(
ah
Ë+ (
bh
Ë+ (
_add_x
 < (
Æ
)); \

310 (
¶
Ë
_add_x
; \

311 } 0)

	)

314 
	#rsh2
(
rh
, 
æ
, 
ah
, 
Æ
, 
˙t
) \

316 (
æ
Ë((
ah
Ë<< (
W_TYPE_SIZE
 - (
˙t
))Ë| ((
Æ
) >> (cnt)); \

317 (
rh
Ë(
ah
Ë>> (
˙t
); \

318 } 0)

	)

320 
	#lsh2
(
rh
, 
æ
, 
ah
, 
Æ
, 
˙t
) \

322 (
rh
Ë((
ah
Ë<< 
˙t
Ë| ((
Æ
Ë>> (
W_TYPE_SIZE
 - (cnt))); \

323 (
æ
Ë(
Æ
Ë<< (
˙t
); \

324 } 0)

	)

326 
	#ge2
(
ah
, 
Æ
, 
bh
, 
bl
) \

327 ((
ah
Ë> (
bh
Ë|| (◊hË=(bhË&& (
Æ
Ë>(
bl
)))

	)

329 
	#gt2
(
ah
, 
Æ
, 
bh
, 
bl
) \

330 ((
ah
Ë> (
bh
Ë|| (◊hË=(bhË&& (
Æ
Ë> (
bl
)))

	)

332 #i‚de‡
sub_ddmmss


333 
	#sub_ddmmss
(
rh
, 
æ
, 
ah
, 
Æ
, 
bh
, 
bl
) \

335 
uötmax_t
 
_cy
; \

336 
_cy
 = (
Æ
Ë< (
bl
); \

337 (
æ
Ë(
Æ
Ë- (
bl
); \

338 (
rh
Ë(
ah
Ë- (
bh
Ë- 
_cy
; \

339 } 0)

	)

342 #i‚de‡
cou¡_Àadög_zîos


343 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) do { \

344 
uötmax_t
 
__˛z_x
 = (
x
); \

345 
__˛z_c
; \

346 
__˛z_c
 = 0; \

347 (
__˛z_x
 & ((
uötmax_t
Ë0xf‡<< (
W_TYPE_SIZE
 - 8))) == 0; \

348 
__˛z_c
 += 8) \

349 
__˛z_x
 <<= 8; \

350 ; (
ötmax_t
)
__˛z_x
 >0; 
__˛z_c
++) \

351 
__˛z_x
 <<= 1; \

352 (
cou¡
Ë
__˛z_c
; \

353 } 0)

	)

356 #i‚de‡
cou¡_åaûög_zîos


357 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) do { \

358 
uötmax_t
 
__˘z_x
 = (
x
); \

359 
__˘z_c
 = 0; \

360 (
__˘z_x
 & 1) == 0) \

362 
__˘z_x
 >>= 1; \

363 
__˘z_c
++; \

365 (
cou¡
Ë
__˘z_c
; \

366 } 0)

	)

370 
	#submod
(
r
,
a
,
b
,
n
) \

372 
uötmax_t
 
_t
 = - (uötmax_tË(
a
 < 
b
); \

373 (
r
Ë((
n
Ë& 
_t
Ë+ (
a
Ë- (
b
); \

374 } 0)

	)

376 
	#addmod
(
r
,
a
,
b
,
n
) \

377 
	`submod
 ((
r
), (
a
), ((
n
Ë- (
b
)), (n))

	)

382 
	#addmod2
(
r1
, 
r0
, 
a1
, 
a0
, 
b1
, 
b0
, 
n1
, 
n0
) \

384 
	`add_sßØa
 ((
r1
), (
r0
), (
a1
), (
a0
), (
b1
), (
b0
)); \

385 i‡(
	`ge2
 ((
r1
), (
r0
), (
n1
), (
n0
))) \

386 
	`sub_ddmmss
 ((
r1
), (
r0
), (r1), (r0), (
n1
), (
n0
)); \

387 } 0)

	)

388 
	#submod2
(
r1
, 
r0
, 
a1
, 
a0
, 
b1
, 
b0
, 
n1
, 
n0
) \

390 
	`sub_ddmmss
 ((
r1
), (
r0
), (
a1
), (
a0
), (
b1
), (
b0
)); \

391 i‡((
ötmax_t
Ë(
r1
) < 0) \

392 
	`add_sßØa
 ((
r1
), (
r0
), (r1), (r0), (
n1
), (
n0
)); \

393 } 0)

	)

395 
	#HIGHBIT_TO_MASK
(
x
) \

396 (((
ötmax_t
)-1 >> 1) < 0 \

397 ? (
uötmax_t
)((
ötmax_t
)(
x
Ë>> (
W_TYPE_SIZE
 - 1)) \

398 : ((
x
Ë& ((
uötmax_t
Ë1 << (
W_TYPE_SIZE
 - 1)) \

399 ? 
UINTMAX_MAX
 : (
uötmax_t
Ë0))

	)

403 
uötmax_t


404 
	$mod2
 (
uötmax_t
 *
r1
, uötmax_à
a1
, uötmax_à
a0
, uötmax_à
d1
, uötmax_à
d0
)

406 
˙td
, 
˙è
;

408 
	`as£π
 (
d1
 != 0);

410 i‡(
a1
 == 0)

412 *
r1
 = 0;

413  
a0
;

416 
	`cou¡_Àadög_zîos
 (
˙td
, 
d1
);

417 
	`cou¡_Àadög_zîos
 (
˙è
, 
a1
);

418 
˙t
 = 
˙td
 - 
˙è
;

419 
	`lsh2
 (
d1
, 
d0
, d1, d0, 
˙t
);

420 
i
 = 0; i < 
˙t
; i++)

422 i‡(
	`ge2
 (
a1
, 
a0
, 
d1
, 
d0
))

423 
	`sub_ddmmss
 (
a1
, 
a0
,á1,á0, 
d1
, 
d0
);

424 
	`rsh2
 (
d1
, 
d0
, d1, d0, 1);

427 *
r1
 = 
a1
;

428  
a0
;

429 
	}
}

431 
uötmax_t
 
_GL_ATTRIBUTE_CONST


432 
	$gcd_odd
 (
uötmax_t
 
a
, uötmax_à
b
)

434 i‡–(
b
 & 1) == 0)

436 
uötmax_t
 
t
 = 
b
;

437 
b
 = 
a
;

438 
a
 = 
t
;

440 i‡(
a
 == 0)

441  
b
;

444 
b
 >>= 1;

448 
uötmax_t
 
t
;

449 
uötmax_t
 
bgè
;

451 (
a
 & 1) == 0)

452 
a
 >>= 1;

453 
a
 >>= 1;

455 
t
 = 
a
 - 
b
;

456 i‡(
t
 == 0)

457  (
a
 << 1) + 1;

459 
bgè
 = 
	`HIGHBIT_TO_MASK
 (
t
);

462 
b
 +(
bgè
 & 
t
);

465 
a
 = (
t
 ^ 
bgè
) - bgta;

467 
	}
}

469 
uötmax_t


470 
	$gcd2_odd
 (
uötmax_t
 *
r1
, uötmax_à
a1
, uötmax_à
a0
, uötmax_à
b1
, uötmax_à
b0
)

472 (
a0
 & 1) == 0)

473 
	`rsh2
 (
a1
, 
a0
,á1,á0, 1);

474 (
b0
 & 1) == 0)

475 
	`rsh2
 (
b1
, 
b0
, b1, b0, 1);

479 i‡((
b1
 | 
a1
) == 0)

481 *
r1
 = 0;

482  
	`gcd_odd
 (
b0
, 
a0
);

485 i‡(
	`gt2
 (
a1
, 
a0
, 
b1
, 
b0
))

487 
	`sub_ddmmss
 (
a1
, 
a0
,á1,á0, 
b1
, 
b0
);

489 
	`rsh2
 (
a1
, 
a0
,á1,á0, 1);

490 (
a0
 & 1) == 0);

492 i‡(
	`gt2
 (
b1
, 
b0
, 
a1
, 
a0
))

494 
	`sub_ddmmss
 (
b1
, 
b0
, b1, b0, 
a1
, 
a0
);

496 
	`rsh2
 (
b1
, 
b0
, b1, b0, 1);

497 (
b0
 & 1) == 0);

503 *
r1
 = 
a1
;

504  
a0
;

505 
	}
}

508 
	$Á˘‹_ö£π_mu…ùlicôy
 (
Á˘‹s
 *factors,

509 
uötmax_t
 
¥ime
, 
m
)

511 
nÁ˘‹s
 = 
Á˘‹s
->nfactors;

512 
uötmax_t
 *
p
 = 
Á˘‹s
->p;

513 *
e
 = 
Á˘‹s
->e;

516 
i
;

517 
i
 = 
nÁ˘‹s
 - 1; i >= 0; i--)

519 i‡(
p
[
i
] <
¥ime
)

523 i‡(
i
 < 0 || 
p
[i] !
¥ime
)

525 
j
 = 
nÁ˘‹s
 - 1; j > 
i
; j--)

527 
p
[
j
 + 1] =Ö[j];

528 
e
[
j
 + 1] =É[j];

530 
p
[
i
 + 1] = 
¥ime
;

531 
e
[
i
 + 1] = 
m
;

532 
Á˘‹s
->
nÁ˘‹s
 =Çfactors + 1;

536 
e
[
i
] +
m
;

538 
	}
}

540 
	#Á˘‹_ö£π
(
f
, 
p
Ë
	`Á˘‹_ö£π_mu…ùlicôy
 (f,Ö, 1)

	)

543 
	$Á˘‹_ö£π_œrge
 (
Á˘‹s
 *factors,

544 
uötmax_t
 
p1
, uötmax_à
p0
)

546 i‡(
p1
 > 0)

548 
	`as£π
 (
Á˘‹s
->
∂¨ge
[1] == 0);

549 
Á˘‹s
->
∂¨ge
[0] = 
p0
;

550 
Á˘‹s
->
∂¨ge
[1] = 
p1
;

553 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
p0
);

554 
	}
}

556 #i‡
HAVE_GMP


558 #i‡!
HAVE_DECL_MPZ_INITS


560 
	#mpz_öôs
(...Ë
	`mpz_va_öô
 (
mpz_öô
, 
__VA_ARGS__
)

	)

561 
	#mpz_˛órs
(...Ë
	`mpz_va_öô
 (
mpz_˛ór
, 
__VA_ARGS__
)

	)

564 
mpz_va_öô
 ((*
mpz_sögÀ_öô
)(
mpz_t
), ...)

566 
va_li°
 
≠
;

568 
	`va_°¨t
 (
≠
, 
mpz_sögÀ_öô
);

570 
mpz_t
 *
mpz
;

571 (
mpz
 = 
	`va_¨g
 (
≠
, 
mpz_t
 *)))

572 
	`mpz_sögÀ_öô
 (*
mpz
);

574 
	`va_íd
 (
≠
);

575 
	}
}

578 
mp_Á˘‹
 (
mpz_t
, 
mp_Á˘‹s
 *);

581 
	$mp_Á˘‹_öô
 (
mp_Á˘‹s
 *
Á˘‹s
)

583 
Á˘‹s
->
p
 = 
NULL
;

584 
Á˘‹s
->
e
 = 
NULL
;

585 
Á˘‹s
->
nÁ˘‹s
 = 0;

586 
	}
}

589 
	$mp_Á˘‹_˛ór
 (
mp_Á˘‹s
 *
Á˘‹s
)

591 
i
 = 0; i < 
Á˘‹s
->
nÁ˘‹s
; i++)

592 
	`mpz_˛ór
 (
Á˘‹s
->
p
[
i
]);

594 
	`‰ì
 (
Á˘‹s
->
p
);

595 
	`‰ì
 (
Á˘‹s
->
e
);

596 
	}
}

599 
	$mp_Á˘‹_ö£π
 (
mp_Á˘‹s
 *
Á˘‹s
, 
mpz_t
 
¥ime
)

601 
nÁ˘‹s
 = 
Á˘‹s
->nfactors;

602 
mpz_t
 *
p
 = 
Á˘‹s
->p;

603 *
e
 = 
Á˘‹s
->e;

604 
i
;

607 
i
 = 
nÁ˘‹s
 - 1; i >= 0; i--)

609 i‡(
	`mpz_cmp
 (
p
[
i
], 
¥ime
) <= 0)

613 i‡(
i
 < 0 || 
	`mpz_cmp
 (
p
[i], 
¥ime
) != 0)

615 
p
 = 
	`xªÆloc
 (p, (
nÁ˘‹s
 + 1) * Ö[0]);

616 
e
 = 
	`xªÆloc
 (e, (
nÁ˘‹s
 + 1) * É[0]);

618 
	`mpz_öô
 (
p
[
nÁ˘‹s
]);

619 
j
 = 
nÁ˘‹s
 - 1; j > 
i
; j--)

621 
	`mpz_£t
 (
p
[
j
 + 1],Ö[j]);

622 
e
[
j
 + 1] =É[j];

624 
	`mpz_£t
 (
p
[
i
 + 1], 
¥ime
);

625 
e
[
i
 + 1] = 1;

627 
Á˘‹s
->
p
 =Ö;

628 
Á˘‹s
->
e
 =É;

629 
Á˘‹s
->
nÁ˘‹s
 =Çfactors + 1;

633 
e
[
i
] += 1;

635 
	}
}

638 
	$mp_Á˘‹_ö£π_ui
 (
mp_Á˘‹s
 *
Á˘‹s
, 
¥ime
)

640 
mpz_t
 
pz
;

642 
	`mpz_öô_£t_ui
 (
pz
, 
¥ime
);

643 
	`mp_Á˘‹_ö£π
 (
Á˘‹s
, 
pz
);

644 
	`mpz_˛ór
 (
pz
);

645 
	}
}

650 íum { 
	mW
 =  (
uötmax_t
Ë* 
CHAR_BIT
 };

653 
vîify
 (
UINTMAX_MAX
 >> (
W
 - 1) == 1);

655 
	#P
(
a
,
b
,
c
,
d
Ëa,

	)

656 c⁄° 
	g¥imes_diff
[] = {

657 
	~"¥imes.h
"

660 #unde‡
P


662 
	#PRIMES_PTAB_ENTRIES
 \

663 ( (
¥imes_diff
Ë/  (¥imes_diff[0]Ë- 8 + 1)

	)

665 
	#P
(
a
,
b
,
c
,
d
Ëb,

	)

666 c⁄° 
	g¥imes_diff8
[] = {

667 
	~"¥imes.h
"

670 #unde‡
P


672 
	s¥imes_dèb


674 
uötmax_t
 
	mböv
, 
	mlim
;

677 
	#P
(
a
,
b
,
c
,
d
Ë{c,d},

	)

678 c⁄° 
¥imes_dèb
 
	g¥imes_dèb
[] = {

679 
	~"¥imes.h
"

682 #unde‡
P


686 
vîify
 (
W
 <
WIDE_UINT_BITS
);

690 
boﬁ
 
	gdev_debug
 = 
Ál£
;

696 
ölöe
 

697 
	$devmsg
 (c⁄° *
fmt
, ...)

699 i‡(
dev_debug
)

701 
va_li°
 
≠
;

702 
	`va_°¨t
 (
≠
, 
fmt
);

703 
	`vÂrötf
 (
°dîr
, 
fmt
, 
≠
);

704 
	`va_íd
 (
≠
);

706 
	}
}

709 
boﬁ
 
	gÊag_¥ove_¥imÆôy
 = 
åue
;

712 
	#MR_REPS
 25

	)

714 #ifde‡
__GNUC__


715 
	#LIKELY
(
c⁄d
Ë
	`__buûtö_ex≥˘
 ((c⁄d), 1)

	)

716 
	#UNLIKELY
(
c⁄d
Ë
	`__buûtö_ex≥˘
 ((c⁄d), 0)

	)

718 
	#LIKELY
(
c⁄d
Ë(c⁄d)

	)

719 
	#UNLIKELY
(
c⁄d
Ë(c⁄d)

	)

723 
	$Á˘‹_ö£π_ªföd
 (
Á˘‹s
 *Á˘‹s, 
uötmax_t
 
p
, 
i
,

724 
off
)

726 
j
 = 0; j < 
off
; j++)

727 
p
 +
¥imes_diff
[
i
 + 
j
];

728 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
p
);

729 
	}
}

764 
uötmax_t


765 
	$Á˘‹_usög_divisi⁄
 (
uötmax_t
 *
t1p
, uötmax_à
t1
, uötmax_à
t0
,

766 
Á˘‹s
 *factors)

768 i‡(
t0
 % 2 == 0)

770 
˙t
;

772 i‡(
t0
 == 0)

774 
	`cou¡_åaûög_zîos
 (
˙t
, 
t1
);

775 
t0
 = 
t1
 >> 
˙t
;

776 
t1
 = 0;

777 
˙t
 +
W_TYPE_SIZE
;

781 
	`cou¡_åaûög_zîos
 (
˙t
, 
t0
);

782 
	`rsh2
 (
t1
, 
t0
,Å1,Å0, 
˙t
);

785 
	`Á˘‹_ö£π_mu…ùlicôy
 (
Á˘‹s
, 2, 
˙t
);

788 
uötmax_t
 
p
 = 3;

789 
i
;

790 
i
 = 0; 
t1
 > 0 && i < 
PRIMES_PTAB_ENTRIES
; i++)

794 
uötmax_t
 
q1
, 
q0
, 
hi
, 
lo
 
ATTRIBUTE_UNUSED
;

796 
q0
 = 
t0
 * 
¥imes_dèb
[
i
].
böv
;

797 
	`umul_µmm
 (
hi
, 
lo
, 
q0
, 
p
);

798 i‡(
hi
 > 
t1
)

800 
hi
 = 
t1
 - hi;

801 
q1
 = 
hi
 * 
¥imes_dèb
[
i
].
böv
;

802 i‡(
	`LIKELY
 (
q1
 > 
¥imes_dèb
[
i
].
lim
))

804 
t1
 = 
q1
; 
t0
 = 
q0
;

805 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
p
);

807 
p
 +
¥imes_diff
[
i
 + 1];

809 i‡(
t1p
)

810 *
t1p
 = 
t1
;

812 
	#DIVBLOCK
(
I
) \

816 
q
 = 
t0
 * 
pd
[
I
].
böv
; \

817 i‡(
	`LIKELY
 (
q
 > 
pd
[
I
].
lim
)) \

819 
t0
 = 
q
; \

820 
	`Á˘‹_ö£π_ªföd
 (
Á˘‹s
, 
p
, 
i
 + 1, 
I
); \

822 } 0)

	)

824 ; 
i
 < 
PRIMES_PTAB_ENTRIES
; i += 8)

826 
uötmax_t
 
q
;

827 c⁄° 
¥imes_dèb
 *
pd
 = &¥imes_dèb[
i
];

828 
	`DIVBLOCK
 (0);

829 
	`DIVBLOCK
 (1);

830 
	`DIVBLOCK
 (2);

831 
	`DIVBLOCK
 (3);

832 
	`DIVBLOCK
 (4);

833 
	`DIVBLOCK
 (5);

834 
	`DIVBLOCK
 (6);

835 
	`DIVBLOCK
 (7);

837 
p
 +
¥imes_diff8
[
i
];

838 i‡(
p
 *Ö > 
t0
)

842  
t0
;

843 
	}
}

845 #i‡
HAVE_GMP


847 
	$mp_Á˘‹_usög_divisi⁄
 (
mpz_t
 
t
, 
mp_Á˘‹s
 *
Á˘‹s
)

849 
mpz_t
 
q
;

850 
p
;

852 
	`devmsg
 ("[trial division] ");

854 
	`mpz_öô
 (
q
);

856 
p
 = 
	`mpz_sˇn1
 (
t
, 0);

857 
	`mpz_div_2exp
 (
t
,Å, 
p
);

858 
p
)

860 
	`mp_Á˘‹_ö£π_ui
 (
Á˘‹s
, 2);

861 --
p
;

864 
p
 = 3;

865 
i
 = 1; i <
PRIMES_PTAB_ENTRIES
;)

867 i‡(! 
	`mpz_divisibÀ_ui_p
 (
t
, 
p
))

869 
p
 +
¥imes_diff
[
i
++];

870 i‡(
	`mpz_cmp_ui
 (
t
, 
p
 *Ö) < 0)

875 
	`mpz_tdiv_q_ui
 (
t
,Å, 
p
);

876 
	`mp_Á˘‹_ö£π_ui
 (
Á˘‹s
, 
p
);

880 
	`mpz_˛ór
 (
q
);

881 
	}
}

885 c⁄° 
	gbövît_èbÀ
[128] =

906 
	#böv
(
öv
,
n
) \

908 
uötmax_t
 
__n
 = (
n
); \

909 
uötmax_t
 
__öv
; \

911 
__öv
 = 
bövît_èbÀ
[(
__n
 / 2) & 0x7F]; \

912 i‡(
W_TYPE_SIZE
 > 8Ë
__öv
 = 2 * __öv - __öv * __öv * 
__n
; \

913 i‡(
W_TYPE_SIZE
 > 16Ë
__öv
 = 2 * __öv - __öv * __öv * 
__n
; \

914 i‡(
W_TYPE_SIZE
 > 32Ë
__öv
 = 2 * __öv - __öv * __öv * 
__n
; \

916 i‡(
W_TYPE_SIZE
 > 64) \

918 
__övbôs
 = 64; \

920 
__öv
 = 2 * __öv - __öv * __öv * 
__n
; \

921 
__övbôs
 *= 2; \

922 } 
__övbôs
 < 
W_TYPE_SIZE
); \

925 (
öv
Ë
__öv
; \

926 } 0)

	)

929 
	#divexa˘_21
(
q1
, 
q0
, 
u1
, 
u0
, 
d
) \

931 
uötmax_t
 
_di
, 
_q0
; \

932 
	`böv
 (
_di
, (
d
)); \

933 
_q0
 = (
u0
Ë* 
_di
; \

934 i‡((
u1
Ë>(
d
)) \

936 
uötmax_t
 
_p1
, 
_p0
 
ATTRIBUTE_UNUSED
; \

937 
	`umul_µmm
 (
_p1
, 
_p0
, 
_q0
, 
d
); \

938 (
q1
Ë((
u1
Ë- 
_p1
Ë* 
_di
; \

939 (
q0
Ë
_q0
; \

943 (
q0
Ë
_q0
; \

944 (
q1
) = 0; \

946 } 0)

	)

949 
	#ªdcify
(
r_¥im
, 
r
, 
n
) \

951 
uötmax_t
 
_ªdcify_q
 
ATTRIBUTE_UNUSED
; \

952 
	`udiv_q∫nd
 (
_ªdcify_q
, 
r_¥im
, 
r
, 0, 
n
); \

953 } 0)

	)

956 
	#ªdcify2
(
r1
, 
r0
, 
x
, 
n1
, 
n0
) \

958 
uötmax_t
 
_r1
, 
_r0
, 
_i
; \

959 i‡((
x
Ë< (
n1
)) \

961 
_r1
 = (
x
); 
_r0
 = 0; \

962 
_i
 = 
W_TYPE_SIZE
; \

966 
_r1
 = 0; 
_r0
 = (
x
); \

967 
_i
 = 2*
W_TYPE_SIZE
; \

969 
_i
-- > 0) \

971 
	`lsh2
 (
_r1
, 
_r0
, _r1, _r0, 1); \

972 i‡(
	`ge2
 (
_r1
, 
_r0
, (
n1
), (
n0
))) \

973 
	`sub_ddmmss
 (
_r1
, 
_r0
, _r1, _r0, (
n1
), (
n0
)); \

975 (
r1
Ë
_r1
; \

976 (
r0
Ë
_r0
; \

977 } 0)

	)

981 
ölöe
 
uötmax_t


982 
	$muÃedc
 (
uötmax_t
 
a
, uötmax_à
b
, uötmax_à
m
, uötmax_à
mi
)

984 
uötmax_t
 
rh
, 
æ
, 
q
, 
th
, 
é
 
ATTRIBUTE_UNUSED
, 
xh
;

986 
	`umul_µmm
 (
rh
, 
æ
, 
a
, 
b
);

987 
q
 = 
æ
 * 
mi
;

988 
	`umul_µmm
 (
th
, 
é
, 
q
, 
m
);

989 
xh
 = 
rh
 - 
th
;

990 i‡(
rh
 < 
th
)

991 
xh
 +
m
;

993  
xh
;

994 
	}
}

999 
uötmax_t


1000 
	$muÃedc2
 (
uötmax_t
 *
r1p
,

1001 
uötmax_t
 
a1
, uötmax_à
a0
, uötmax_à
b1
, uötmax_à
b0
,

1002 
uötmax_t
 
m1
, uötmax_à
m0
, uötmax_à
mi
)

1004 
uötmax_t
 
r1
, 
r0
, 
q
, 
p1
, 
p0
 
ATTRIBUTE_UNUSED
, 
t1
, 
t0
, 
s1
, 
s0
;

1005 
mi
 = -mi;

1006 
	`as£π
 ( (
a1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1007 
	`as£π
 ( (
b1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1008 
	`as£π
 ( (
m1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1023 
	`umul_µmm
 (
t1
, 
t0
, 
a0
, 
b0
);

1024 
	`umul_µmm
 (
r1
, 
r0
, 
a0
, 
b1
);

1025 
q
 = 
mi
 * 
t0
;

1026 
	`umul_µmm
 (
p1
, 
p0
, 
q
, 
m0
);

1027 
	`umul_µmm
 (
s1
, 
s0
, 
q
, 
m1
);

1028 
r0
 +(
t0
 != 0);

1029 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 0, 
p1
);

1030 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 0, 
t1
);

1031 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 
s1
, 
s0
);

1048 
	`umul_µmm
 (
t1
, 
t0
, 
a1
, 
b0
);

1049 
	`umul_µmm
 (
s1
, 
s0
, 
a1
, 
b1
);

1050 
	`add_sßØa
 (
t1
, 
t0
,Å1,Å0, 0, 
r0
);

1051 
q
 = 
mi
 * 
t0
;

1052 
	`add_sßØa
 (
r1
, 
r0
, 
s1
, 
s0
, 0,Ñ1);

1053 
	`umul_µmm
 (
p1
, 
p0
, 
q
, 
m0
);

1054 
	`umul_µmm
 (
s1
, 
s0
, 
q
, 
m1
);

1055 
r0
 +(
t0
 != 0);

1056 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 0, 
p1
);

1057 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 0, 
t1
);

1058 
	`add_sßØa
 (
r1
, 
r0
,Ñ1,Ñ0, 
s1
, 
s0
);

1060 i‡(
	`ge2
 (
r1
, 
r0
, 
m1
, 
m0
))

1061 
	`sub_ddmmss
 (
r1
, 
r0
,Ñ1,Ñ0, 
m1
, 
m0
);

1063 *
r1p
 = 
r1
;

1064  
r0
;

1065 
	}
}

1067 
uötmax_t
 
_GL_ATTRIBUTE_CONST


1068 
	$powm
 (
uötmax_t
 
b
, uötmax_à
e
, uötmax_à
n
, uötmax_à
ni
, uötmax_à
⁄e
)

1070 
uötmax_t
 
y
 = 
⁄e
;

1072 i‡(
e
 & 1)

1073 
y
 = 
b
;

1075 
e
 != 0)

1077 
b
 = 
	`muÃedc
 (b, b, 
n
, 
ni
);

1078 
e
 >>= 1;

1080 i‡(
e
 & 1)

1081 
y
 = 
	`muÃedc
 (y, 
b
, 
n
, 
ni
);

1084  
y
;

1085 
	}
}

1087 
uötmax_t


1088 
	$powm2
 (
uötmax_t
 *
r1m
,

1089 c⁄° 
uötmax_t
 *
bp
, c⁄° uötmax_à*
ï
, c⁄° uötmax_à*
≈
,

1090 
uötmax_t
 
ni
, c⁄° uötmax_à*
⁄e
)

1092 
uötmax_t
 
r1
, 
r0
, 
b1
, 
b0
, 
n1
, 
n0
;

1093 
i
;

1094 
uötmax_t
 
e
;

1096 
b0
 = 
bp
[0];

1097 
b1
 = 
bp
[1];

1098 
n0
 = 
≈
[0];

1099 
n1
 = 
≈
[1];

1101 
r0
 = 
⁄e
[0];

1102 
r1
 = 
⁄e
[1];

1104 
e
 = 
ï
[0], 
i
 = 
W_TYPE_SIZE
; i > 0; i--,É >>= 1)

1106 i‡(
e
 & 1)

1108 
r0
 = 
	`muÃedc2
 (
r1m
, 
r1
,Ñ0, 
b1
, 
b0
, 
n1
, 
n0
, 
ni
);

1109 
r1
 = *
r1m
;

1111 
b0
 = 
	`muÃedc2
 (
r1m
, 
b1
, b0, b1, b0, 
n1
, 
n0
, 
ni
);

1112 
b1
 = *
r1m
;

1114 
e
 = 
ï
[1];É > 0;É >>= 1)

1116 i‡(
e
 & 1)

1118 
r0
 = 
	`muÃedc2
 (
r1m
, 
r1
,Ñ0, 
b1
, 
b0
, 
n1
, 
n0
, 
ni
);

1119 
r1
 = *
r1m
;

1121 
b0
 = 
	`muÃedc2
 (
r1m
, 
b1
, b0, b1, b0, 
n1
, 
n0
, 
ni
);

1122 
b1
 = *
r1m
;

1124 *
r1m
 = 
r1
;

1125  
r0
;

1126 
	}
}

1128 
boﬁ
 
_GL_ATTRIBUTE_CONST


1129 
	$mûÀºabö
 (
uötmax_t
 
n
, uötmax_à
ni
, uötmax_à
b
, uötmax_à
q
,

1130 
k
, 
uötmax_t
 
⁄e
)

1132 
uötmax_t
 
y
 = 
	`powm
 (
b
, 
q
, 
n
, 
ni
, 
⁄e
);

1134 
uötmax_t
 
nm1
 = 
n
 - 
⁄e
;

1136 i‡(
y
 =
⁄e
 || y =
nm1
)

1137  
åue
;

1139 
i
 = 1; i < 
k
; i++)

1141 
y
 = 
	`muÃedc
 (y, y, 
n
, 
ni
);

1143 i‡(
y
 =
nm1
)

1144  
åue
;

1145 i‡(
y
 =
⁄e
)

1146  
Ál£
;

1148  
Ál£
;

1149 
	}
}

1151 
boﬁ


1152 
	$mûÀºabö2
 (c⁄° 
uötmax_t
 *
≈
, uötmax_à
ni
, c⁄° uötmax_à*
bp
,

1153 c⁄° 
uötmax_t
 *
qp
, 
k
, c⁄° uötmax_à*
⁄e
)

1155 
uötmax_t
 
y1
, 
y0
, 
nm1_1
, 
nm1_0
, 
r1m
;

1157 
y0
 = 
	`powm2
 (&
r1m
, 
bp
, 
qp
, 
≈
, 
ni
, 
⁄e
);

1158 
y1
 = 
r1m
;

1160 i‡(
y0
 =
⁄e
[0] && 
y1
 == one[1])

1161  
åue
;

1163 
	`sub_ddmmss
 (
nm1_1
, 
nm1_0
, 
≈
[1],Çp[0], 
⁄e
[1], one[0]);

1165 i‡(
y0
 =
nm1_0
 && 
y1
 =
nm1_1
)

1166  
åue
;

1168 
i
 = 1; i < 
k
; i++)

1170 
y0
 = 
	`muÃedc2
 (&
r1m
, 
y1
, y0, y1, y0, 
≈
[1],Çp[0], 
ni
);

1171 
y1
 = 
r1m
;

1173 i‡(
y0
 =
nm1_0
 && 
y1
 =
nm1_1
)

1174  
åue
;

1175 i‡(
y0
 =
⁄e
[0] && 
y1
 == one[1])

1176  
Ál£
;

1178  
Ál£
;

1179 
	}
}

1181 #i‡
HAVE_GMP


1182 
boﬁ


1183 
	$mp_mûÀºabö
 (
mpz_§˝å
 
n
, mpz_§˝å 
nm1
, 
mpz_±r
 
x
, mpz_±∏
y
,

1184 
mpz_§˝å
 
q
, 
k
)

1186 
	`mpz_powm
 (
y
, 
x
, 
q
, 
n
);

1188 i‡(
	`mpz_cmp_ui
 (
y
, 1Ë=0 || 
	`mpz_cmp
 (y, 
nm1
) == 0)

1189  
åue
;

1191 
i
 = 1; i < 
k
; i++)

1193 
	`mpz_powm_ui
 (
y
, y, 2, 
n
);

1194 i‡(
	`mpz_cmp
 (
y
, 
nm1
) == 0)

1195  
åue
;

1196 i‡(
	`mpz_cmp_ui
 (
y
, 1) == 0)

1197  
Ál£
;

1199  
Ál£
;

1200 
	}
}

1205 
boﬁ


1206 
	$¥ime_p
 (
uötmax_t
 
n
)

1208 
k
;

1209 
boﬁ
 
is_¥ime
;

1210 
uötmax_t
 
a_¥im
, 
⁄e
, 
ni
;

1211 
Á˘‹s
 factors;

1213 i‡(
n
 <= 1)

1214  
Ál£
;

1217 i‡(
n
 < (
uötmax_t
Ë
FIRST_OMITTED_PRIME
 * FIRST_OMITTED_PRIME)

1218  
åue
;

1221 
uötmax_t
 
q
 = 
n
 - 1;

1222 
k
 = 0; (
q
 & 1) == 0; k++)

1223 
q
 >>= 1;

1225 
uötmax_t
 
a
 = 2;

1226 
	`böv
 (
ni
, 
n
);

1227 
	`ªdcify
 (
⁄e
, 1, 
n
);

1228 
	`addmod
 (
a_¥im
, 
⁄e
, o√, 
n
);

1231 i‡(!
	`mûÀºabö
 (
n
, 
ni
, 
a_¥im
, 
q
, 
k
, 
⁄e
))

1232  
Ál£
;

1234 i‡(
Êag_¥ove_¥imÆôy
)

1237 
	`Á˘‹
 (0, 
n
 - 1, &
Á˘‹s
);

1242 
r
 = 0;Ñ < 
PRIMES_PTAB_ENTRIES
;Ñ++)

1244 i‡(
Êag_¥ove_¥imÆôy
)

1246 
is_¥ime
 = 
åue
;

1247 
i
 = 0; i < 
Á˘‹s
.
nÁ˘‹s
 && 
is_¥ime
; i++)

1249 
is_¥ime


1250 
	`powm
 (
a_¥im
, (
n
 - 1Ë/ 
Á˘‹s
.
p
[
i
],Ç, 
ni
, 
⁄e
) != one;

1256 
is_¥ime
 = (
r
 =
MR_REPS
 - 1);

1259 i‡(
is_¥ime
)

1260  
åue
;

1262 
a
 +
¥imes_diff
[
r
];

1268 
uötmax_t
 
s1
, 
s0
;

1269 
	`umul_µmm
 (
s1
, 
s0
, 
⁄e
, 
a
);

1270 i‡(
	`LIKELY
 (
s1
 == 0))

1271 
a_¥im
 = 
s0
 % 
n
;

1274 
uötmax_t
 
dummy
 
ATTRIBUTE_UNUSED
;

1275 
	`udiv_q∫nd
 (
dummy
, 
a_¥im
, 
s1
, 
s0
, 
n
);

1279 i‡(!
	`mûÀºabö
 (
n
, 
ni
, 
a_¥im
, 
q
, 
k
, 
⁄e
))

1280  
Ál£
;

1283 
	`îr‹
 (0, 0, 
	`_
("LucasÖrimeÅest failure. This shouldÇot happen"));

1284 
	`ab‹t
 ();

1285 
	}
}

1287 
boﬁ


1288 
	$¥ime2_p
 (
uötmax_t
 
n1
, uötmax_à
n0
)

1290 
uötmax_t
 
q
[2], 
nm1
[2];

1291 
uötmax_t
 
a_¥im
[2];

1292 
uötmax_t
 
⁄e
[2];

1293 
uötmax_t
 
«
[2];

1294 
uötmax_t
 
ni
;

1295 
k
;

1296 
Á˘‹s
 factors;

1298 i‡(
n1
 == 0)

1299  
	`¥ime_p
 (
n0
);

1301 
nm1
[1] = 
n1
 - (
n0
 == 0);

1302 
nm1
[0] = 
n0
 - 1;

1303 i‡(
nm1
[0] == 0)

1305 
	`cou¡_åaûög_zîos
 (
k
, 
nm1
[1]);

1307 
q
[0] = 
nm1
[1] >> 
k
;

1308 
q
[1] = 0;

1309 
k
 +
W_TYPE_SIZE
;

1313 
	`cou¡_åaûög_zîos
 (
k
, 
nm1
[0]);

1314 
	`rsh2
 (
q
[1], q[0], 
nm1
[1],Çm1[0], 
k
);

1317 
uötmax_t
 
a
 = 2;

1318 
	`böv
 (
ni
, 
n0
);

1319 
	`ªdcify2
 (
⁄e
[1], o√[0], 1, 
n1
, 
n0
);

1320 
	`addmod2
 (
a_¥im
[1],á_¥im[0], 
⁄e
[1], o√[0], o√[1], o√[0], 
n1
, 
n0
);

1323 
«
[0] = 
n0
;

1324 
«
[1] = 
n1
;

1326 i‡(!
	`mûÀºabö2
 (
«
, 
ni
, 
a_¥im
, 
q
, 
k
, 
⁄e
))

1327  
Ál£
;

1329 i‡(
Êag_¥ove_¥imÆôy
)

1332 
	`Á˘‹
 (
nm1
[1],Çm1[0], &
Á˘‹s
);

1337 
r
 = 0;Ñ < 
PRIMES_PTAB_ENTRIES
;Ñ++)

1339 
boﬁ
 
is_¥ime
;

1340 
uötmax_t
 
e
[2], 
y
[2];

1342 i‡(
Êag_¥ove_¥imÆôy
)

1344 
is_¥ime
 = 
åue
;

1345 i‡(
Á˘‹s
.
∂¨ge
[1])

1347 
uötmax_t
 
pi
;

1348 
	`böv
 (
pi
, 
Á˘‹s
.
∂¨ge
[0]);

1349 
e
[0] = 
pi
 * 
nm1
[0];

1350 
e
[1] = 0;

1351 
y
[0] = 
	`powm2
 (&y[1], 
a_¥im
, 
e
, 
«
, 
ni
, 
⁄e
);

1352 
is_¥ime
 = (
y
[0] !
⁄e
[0] || y[1] != one[1]);

1354 
i
 = 0; i < 
Á˘‹s
.
nÁ˘‹s
 && 
is_¥ime
; i++)

1359 i‡(
Á˘‹s
.
p
[
i
] == 2)

1360 
	`rsh2
 (
e
[1],É[0], 
nm1
[1],Çm1[0], 1);

1362 
	`divexa˘_21
 (
e
[1],É[0], 
nm1
[1],Çm1[0], 
Á˘‹s
.
p
[
i
]);

1363 
y
[0] = 
	`powm2
 (&y[1], 
a_¥im
, 
e
, 
«
, 
ni
, 
⁄e
);

1364 
is_¥ime
 = (
y
[0] !
⁄e
[0] || y[1] != one[1]);

1370 
is_¥ime
 = (
r
 =
MR_REPS
 - 1);

1373 i‡(
is_¥ime
)

1374  
åue
;

1376 
a
 +
¥imes_diff
[
r
];

1377 
	`ªdcify2
 (
a_¥im
[1],á_¥im[0], 
a
, 
n1
, 
n0
);

1379 i‡(!
	`mûÀºabö2
 (
«
, 
ni
, 
a_¥im
, 
q
, 
k
, 
⁄e
))

1380  
Ál£
;

1383 
	`îr‹
 (0, 0, 
	`_
("LucasÖrimeÅest failure. This shouldÇot happen"));

1384 
	`ab‹t
 ();

1385 
	}
}

1387 #i‡
HAVE_GMP


1388 
boﬁ


1389 
	$mp_¥ime_p
 (
mpz_t
 
n
)

1391 
boﬁ
 
is_¥ime
;

1392 
mpz_t
 
q
, 
a
, 
nm1
, 
tmp
;

1393 
mp_Á˘‹s
 
Á˘‹s
;

1395 i‡(
	`mpz_cmp_ui
 (
n
, 1) <= 0)

1396  
Ál£
;

1399 i‡(
	`mpz_cmp_ui
 (
n
, (Ë
FIRST_OMITTED_PRIME
 * FIRST_OMITTED_PRIME) < 0)

1400  
åue
;

1402 
	`mpz_öôs
 (
q
, 
a
, 
nm1
, 
tmp
, 
NULL
);

1405 
	`mpz_sub_ui
 (
nm1
, 
n
, 1);

1408 
k
 = 
	`mpz_sˇn1
 (
nm1
, 0);

1409 
	`mpz_tdiv_q_2exp
 (
q
, 
nm1
, 
k
);

1411 
	`mpz_£t_ui
 (
a
, 2);

1414 i‡(!
	`mp_mûÀºabö
 (
n
, 
nm1
, 
a
, 
tmp
, 
q
, 
k
))

1416 
is_¥ime
 = 
Ál£
;

1417 
ªt2
;

1420 i‡(
Êag_¥ove_¥imÆôy
)

1423 
	`mpz_£t
 (
tmp
, 
nm1
);

1424 
	`mp_Á˘‹
 (
tmp
, &
Á˘‹s
);

1429 
r
 = 0;Ñ < 
PRIMES_PTAB_ENTRIES
;Ñ++)

1431 i‡(
Êag_¥ove_¥imÆôy
)

1433 
is_¥ime
 = 
åue
;

1434 
i
 = 0; i < 
Á˘‹s
.
nÁ˘‹s
 && 
is_¥ime
; i++)

1436 
	`mpz_divexa˘
 (
tmp
, 
nm1
, 
Á˘‹s
.
p
[
i
]);

1437 
	`mpz_powm
 (
tmp
, 
a
,Åmp, 
n
);

1438 
is_¥ime
 = 
	`mpz_cmp_ui
 (
tmp
, 1) != 0;

1444 
is_¥ime
 = (
r
 =
MR_REPS
 - 1);

1447 i‡(
is_¥ime
)

1448 
ªt1
;

1450 
	`mpz_add_ui
 (
a
,á, 
¥imes_diff
[
r
]);

1452 i‡(!
	`mp_mûÀºabö
 (
n
, 
nm1
, 
a
, 
tmp
, 
q
, 
k
))

1454 
is_¥ime
 = 
Ál£
;

1455 
ªt1
;

1459 
	`îr‹
 (0, 0, 
	`_
("LucasÖrimeÅest failure. This shouldÇot happen"));

1460 
	`ab‹t
 ();

1462 
ªt1
:

1463 i‡(
Êag_¥ove_¥imÆôy
)

1464 
	`mp_Á˘‹_˛ór
 (&
Á˘‹s
);

1465 
ªt2
:

1466 
	`mpz_˛órs
 (
q
, 
a
, 
nm1
, 
tmp
, 
NULL
);

1468  
is_¥ime
;

1469 
	}
}

1473 
	$Á˘‹_usög_pﬁœrd_rho
 (
uötmax_t
 
n
, 
a
,

1474 
Á˘‹s
 *factors)

1476 
uötmax_t
 
x
, 
z
, 
y
, 
P
, 
t
, 
ni
, 
g
;

1478 
k
 = 1;

1479 
l
 = 1;

1481 
	`ªdcify
 (
P
, 1, 
n
);

1482 
	`addmod
 (
x
, 
P
, P, 
n
);

1483 
y
 = 
z
 = 
x
;

1485 
n
 != 1)

1487 
	`as£π
 (
a
 < 
n
);

1489 
	`böv
 (
ni
, 
n
);

1495 
x
 = 
	`muÃedc
 (x, x, 
n
, 
ni
);

1496 
	`addmod
 (
x
, x, 
a
, 
n
);

1498 
	`submod
 (
t
, 
z
, 
x
, 
n
);

1499 
P
 = 
	`muÃedc
 (P, 
t
, 
n
, 
ni
);

1501 i‡(
k
 % 32 == 1)

1503 i‡(
	`gcd_odd
 (
P
, 
n
) != 1)

1504 
Á˘‹_found
;

1505 
y
 = 
x
;

1508 --
k
 != 0);

1510 
z
 = 
x
;

1511 
k
 = 
l
;

1512 
l
 = 2 *Ü;

1513 
i
 = 0; i < 
k
; i++)

1515 
x
 = 
	`muÃedc
 (x, x, 
n
, 
ni
);

1516 
	`addmod
 (
x
, x, 
a
, 
n
);

1518 
y
 = 
x
;

1521 
Á˘‹_found
:

1524 
y
 = 
	`muÃedc
 (y, y, 
n
, 
ni
);

1525 
	`addmod
 (
y
, y, 
a
, 
n
);

1527 
	`submod
 (
t
, 
z
, 
y
, 
n
);

1528 
g
 = 
	`gcd_odd
 (
t
, 
n
);

1530 
g
 == 1);

1532 
n
 =Ç / 
g
;

1534 i‡(!
	`¥ime_p
 (
g
))

1535 
	`Á˘‹_usög_pﬁœrd_rho
 (
g
, 
a
 + 1, 
Á˘‹s
);

1537 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
g
);

1539 i‡(
	`¥ime_p
 (
n
))

1541 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
n
);

1545 
x
 = x % 
n
;

1546 
z
 = z % 
n
;

1547 
y
 = y % 
n
;

1549 
	}
}

1552 
	$Á˘‹_usög_pﬁœrd_rho2
 (
uötmax_t
 
n1
, uötmax_à
n0
, 
a
,

1553 
Á˘‹s
 *factors)

1555 
uötmax_t
 
x1
, 
x0
, 
z1
, 
z0
, 
y1
, 
y0
, 
P1
, 
P0
, 
t1
, 
t0
, 
ni
, 
g1
, 
g0
, 
r1m
;

1557 
k
 = 1;

1558 
l
 = 1;

1560 
	`ªdcify2
 (
P1
, 
P0
, 1, 
n1
, 
n0
);

1561 
	`addmod2
 (
x1
, 
x0
, 
P1
, 
P0
, P1, P0, 
n1
, 
n0
);

1562 
y1
 = 
z1
 = 
x1
;

1563 
y0
 = 
z0
 = 
x0
;

1565 
n1
 !0 || 
n0
 != 1)

1567 
	`böv
 (
ni
, 
n0
);

1573 
x0
 = 
	`muÃedc2
 (&
r1m
, 
x1
, x0, x1, x0, 
n1
, 
n0
, 
ni
);

1574 
x1
 = 
r1m
;

1575 
	`addmod2
 (
x1
, 
x0
, x1, x0, 0, (
uötmax_t
Ë
a
, 
n1
, 
n0
);

1577 
	`submod2
 (
t1
, 
t0
, 
z1
, 
z0
, 
x1
, 
x0
, 
n1
, 
n0
);

1578 
P0
 = 
	`muÃedc2
 (&
r1m
, 
P1
, P0, 
t1
, 
t0
, 
n1
, 
n0
, 
ni
);

1579 
P1
 = 
r1m
;

1581 i‡(
k
 % 32 == 1)

1583 
g0
 = 
	`gcd2_odd
 (&
g1
, 
P1
, 
P0
, 
n1
, 
n0
);

1584 i‡(
g1
 !0 || 
g0
 != 1)

1585 
Á˘‹_found
;

1586 
y1
 = 
x1
; 
y0
 = 
x0
;

1589 --
k
 != 0);

1591 
z1
 = 
x1
; 
z0
 = 
x0
;

1592 
k
 = 
l
;

1593 
l
 = 2 *Ü;

1594 
i
 = 0; i < 
k
; i++)

1596 
x0
 = 
	`muÃedc2
 (&
r1m
, 
x1
, x0, x1, x0, 
n1
, 
n0
, 
ni
);

1597 
x1
 = 
r1m
;

1598 
	`addmod2
 (
x1
, 
x0
, x1, x0, 0, (
uötmax_t
Ë
a
, 
n1
, 
n0
);

1600 
y1
 = 
x1
; 
y0
 = 
x0
;

1603 
Á˘‹_found
:

1606 
y0
 = 
	`muÃedc2
 (&
r1m
, 
y1
, y0, y1, y0, 
n1
, 
n0
, 
ni
);

1607 
y1
 = 
r1m
;

1608 
	`addmod2
 (
y1
, 
y0
, y1, y0, 0, (
uötmax_t
Ë
a
, 
n1
, 
n0
);

1610 
	`submod2
 (
t1
, 
t0
, 
z1
, 
z0
, 
y1
, 
y0
, 
n1
, 
n0
);

1611 
g0
 = 
	`gcd2_odd
 (&
g1
, 
t1
, 
t0
, 
n1
, 
n0
);

1613 
g1
 =0 && 
g0
 == 1);

1615 i‡(
g1
 == 0)

1618 
	`divexa˘_21
 (
n1
, 
n0
,Ç1,Ç0, 
g0
);

1620 i‡(!
	`¥ime_p
 (
g0
))

1621 
	`Á˘‹_usög_pﬁœrd_rho
 (
g0
, 
a
 + 1, 
Á˘‹s
);

1623 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
g0
);

1629 
uötmax_t
 
göv
;

1631 
	`böv
 (
göv
, 
g0
);

1632 
n0
 = 
göv
 *Ç0;

1633 
n1
 = 0;

1635 i‡(!
	`¥ime2_p
 (
g1
, 
g0
))

1636 
	`Á˘‹_usög_pﬁœrd_rho2
 (
g1
, 
g0
, 
a
 + 1, 
Á˘‹s
);

1638 
	`Á˘‹_ö£π_œrge
 (
Á˘‹s
, 
g1
, 
g0
);

1641 i‡(
n1
 == 0)

1643 i‡(
	`¥ime_p
 (
n0
))

1645 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
n0
);

1649 
	`Á˘‹_usög_pﬁœrd_rho
 (
n0
, 
a
, 
Á˘‹s
);

1653 i‡(
	`¥ime2_p
 (
n1
, 
n0
))

1655 
	`Á˘‹_ö£π_œrge
 (
Á˘‹s
, 
n1
, 
n0
);

1659 
x0
 = 
	`mod2
 (&
x1
, x1, x0, 
n1
, 
n0
);

1660 
z0
 = 
	`mod2
 (&
z1
, z1, z0, 
n1
, 
n0
);

1661 
y0
 = 
	`mod2
 (&
y1
, y1, y0, 
n1
, 
n0
);

1663 
	}
}

1665 #i‡
HAVE_GMP


1667 
	$mp_Á˘‹_usög_pﬁœrd_rho
 (
mpz_t
 
n
, 
a
,

1668 
mp_Á˘‹s
 *
Á˘‹s
)

1670 
mpz_t
 
x
, 
z
, 
y
, 
P
;

1671 
mpz_t
 
t
, 
t2
;

1673 
	`devmsg
 ("[pﬁœrd-rhÿ(%lu)] ", 
a
);

1675 
	`mpz_öôs
 (
t
, 
t2
, 
NULL
);

1676 
	`mpz_öô_£t_si
 (
y
, 2);

1677 
	`mpz_öô_£t_si
 (
x
, 2);

1678 
	`mpz_öô_£t_si
 (
z
, 2);

1679 
	`mpz_öô_£t_ui
 (
P
, 1);

1681 
k
 = 1;

1682 
l
 = 1;

1684 
	`mpz_cmp_ui
 (
n
, 1) != 0)

1690 
	`mpz_mul
 (
t
, 
x
, x);

1691 
	`mpz_mod
 (
x
, 
t
, 
n
);

1692 
	`mpz_add_ui
 (
x
, x, 
a
);

1694 
	`mpz_sub
 (
t
, 
z
, 
x
);

1695 
	`mpz_mul
 (
t2
, 
P
, 
t
);

1696 
	`mpz_mod
 (
P
, 
t2
, 
n
);

1698 i‡(
k
 % 32 == 1)

1700 
	`mpz_gcd
 (
t
, 
P
, 
n
);

1701 i‡(
	`mpz_cmp_ui
 (
t
, 1) != 0)

1702 
Á˘‹_found
;

1703 
	`mpz_£t
 (
y
, 
x
);

1706 --
k
 != 0);

1708 
	`mpz_£t
 (
z
, 
x
);

1709 
k
 = 
l
;

1710 
l
 = 2 *Ü;

1711 
i
 = 0; i < 
k
; i++)

1713 
	`mpz_mul
 (
t
, 
x
, x);

1714 
	`mpz_mod
 (
x
, 
t
, 
n
);

1715 
	`mpz_add_ui
 (
x
, x, 
a
);

1717 
	`mpz_£t
 (
y
, 
x
);

1720 
Á˘‹_found
:

1723 
	`mpz_mul
 (
t
, 
y
, y);

1724 
	`mpz_mod
 (
y
, 
t
, 
n
);

1725 
	`mpz_add_ui
 (
y
, y, 
a
);

1727 
	`mpz_sub
 (
t
, 
z
, 
y
);

1728 
	`mpz_gcd
 (
t
,Å, 
n
);

1730 
	`mpz_cmp_ui
 (
t
, 1) == 0);

1732 
	`mpz_divexa˘
 (
n
,Ç, 
t
);

1734 i‡(!
	`mp_¥ime_p
 (
t
))

1736 
	`devmsg
 ("[composite factor--restartingÖollard-rho] ");

1737 
	`mp_Á˘‹_usög_pﬁœrd_rho
 (
t
, 
a
 + 1, 
Á˘‹s
);

1741 
	`mp_Á˘‹_ö£π
 (
Á˘‹s
, 
t
);

1744 i‡(
	`mp_¥ime_p
 (
n
))

1746 
	`mp_Á˘‹_ö£π
 (
Á˘‹s
, 
n
);

1750 
	`mpz_mod
 (
x
, x, 
n
);

1751 
	`mpz_mod
 (
z
, z, 
n
);

1752 
	`mpz_mod
 (
y
, y, 
n
);

1755 
	`mpz_˛órs
 (
P
, 
t2
, 
t
, 
z
, 
x
, 
y
, 
NULL
);

1756 
	}
}

1761 
uötmax_t
 
_GL_ATTRIBUTE_CONST


1762 
	$isqπ
 (
uötmax_t
 
n
)

1764 
uötmax_t
 
x
;

1765 
c
;

1766 i‡(
n
 == 0)

1769 
	`cou¡_Àadög_zîos
 (
c
, 
n
);

1772 
x
 = (
uötmax_t
Ë1 << ((
W_TYPE_SIZE
 + 1 - 
c
) / 2);

1776 
uötmax_t
 
y
 = (
x
 + 
n
/x) / 2;

1777 i‡(
y
 >
x
)

1778  
x
;

1780 
x
 = 
y
;

1782 
	}
}

1784 
uötmax_t
 
_GL_ATTRIBUTE_CONST


1785 
	$isqπ2
 (
uötmax_t
 
nh
, uötmax_à
∆
)

1787 
shi·
;

1788 
uötmax_t
 
x
;

1791 
	`as£π
 (
nh
 < ((
uötmax_t
Ë1 << (
W_TYPE_SIZE
 - 2)));

1793 i‡(
nh
 == 0)

1794  
	`isqπ
 (
∆
);

1796 
	`cou¡_Àadög_zîos
 (
shi·
, 
nh
);

1797 
shi·
 &= ~1;

1800 
x
 = 
	`isqπ
 ( (
nh
 << 
shi·
Ë+ (
∆
 >> (
W_TYPE_SIZE
 - shift))) + 1;

1801 
x
 <<(
W_TYPE_SIZE
 - 
shi·
) / 2;

1806 
uötmax_t
 
r
 
ATTRIBUTE_UNUSED
;

1807 
uötmax_t
 
q
, 
y
;

1808 
	`udiv_q∫nd
 (
q
, 
r
, 
nh
, 
∆
, 
x
);

1809 
y
 = (
x
 + 
q
) / 2;

1811 i‡(
y
 >
x
)

1813 
uötmax_t
 
hi
, 
lo
;

1814 
	`umul_µmm
 (
hi
, 
lo
, 
x
 + 1, x + 1);

1815 
	`as£π
 (
	`gt2
 (
hi
, 
lo
, 
nh
, 
∆
));

1817 
	`umul_µmm
 (
hi
, 
lo
, 
x
, x);

1818 
	`as£π
 (
	`ge2
 (
nh
, 
∆
, 
hi
, 
lo
));

1819 
	`sub_ddmmss
 (
hi
, 
lo
, 
nh
, 
∆
, hi,Üo);

1820 
	`as£π
 (
hi
 == 0);

1822  
x
;

1825 
x
 = 
y
;

1827 
	}
}

1830 
	#MAGIC64
 ((
uöt64_t
Ë0x0202021202030213ULL)

	)

1831 
	#MAGIC63
 ((
uöt64_t
Ë0x0402483012450293ULL)

	)

1832 
	#MAGIC65
 ((
uöt64_t
Ë0x218a019866014613ULL)

	)

1833 
	#MAGIC11
 0x23b

	)

1836 
uötmax_t
 
_GL_ATTRIBUTE_CONST


1837 
	$is_squ¨e
 (
uötmax_t
 
x
)

1841 i‡(((
MAGIC64
 >> (
x
 & 63)) & 1)

1842 && ((
MAGIC63
 >> (
x
 % 63)) & 1)

1844 && ((
MAGIC65
 >> ((
x
 % 65) & 63)) & 1)

1845 && ((
MAGIC11
 >> (
x
 % 11) & 1)))

1847 
uötmax_t
 
r
 = 
	`isqπ
 (
x
);

1848 i‡(
r
*∏=
x
)

1849  
r
;

1852 
	}
}

1855 c⁄° 
	gövèb
[0x81] =

1878 
	#div_smÆlq
(
q
, 
r
, 
u
, 
d
) \

1880 i‡((
u
Ë/ 0x40 < (
d
)) \

1882 
_˙t
; \

1883 
uötmax_t
 
_döv
, 
_mask
, 
_q
, 
_r
; \

1884 
	`cou¡_Àadög_zîos
 (
_˙t
, (
d
)); \

1885 
_r
 = (
u
); \

1886 i‡(
	`UNLIKELY
 (
_˙t
 > (
W_TYPE_SIZE
 - 8))) \

1888 
_döv
 = 
övèb
[((
d
Ë<< (
_˙t
 + 8 - 
W_TYPE_SIZE
)) - 0x80]; \

1889 
_q
 = 
_döv
 * 
_r
 >> (8 + 
W_TYPE_SIZE
 - 
_˙t
); \

1893 
_döv
 = 
övèb
[((
d
Ë>> (
W_TYPE_SIZE
 - 8 - 
_˙t
)) - 0x7f]; \

1894 
_q
 = 
_döv
 * (
_r
 >> (
W_TYPE_SIZE
 - 3 - 
_˙t
)) >> 11; \

1896 
_r
 -
_q
*(
d
); \

1898 
_mask
 = -(
uötmax_t
Ë(
_r
 >(
d
)); \

1899 (
r
Ë
_r
 - (
_mask
 & (
d
)); \

1900 (
q
Ë
_q
 - 
_mask
; \

1901 
	`as£π
 ( (
q
Ë* (
d
Ë+ (
r
Ë=
u
); \

1905 
uötmax_t
 
_q
 = (
u
Ë/ (
d
); \

1906 (
r
Ë(
u
Ë- 
_q
 * (
d
); \

1907 (
q
Ë
_q
; \

1909 } 0)

	)

1946 
	#QUEUE_SIZE
 50

	)

1948 #i‡
STAT_SQUFOF


1949 
	#Q_FREQ_SIZE
 50

	)

1951 
	gq_‰eq
[
Q_FREQ_SIZE
 + 1];

1952 
	#MIN
(
a
,
b
Ë(◊Ë< (bË? (aË: (b))

	)

1957 
boﬁ


1958 
	$Á˘‹_usög_squfof
 (
uötmax_t
 
n1
, uötmax_à
n0
, 
Á˘‹s
 *factors)

1968 c⁄° 
mu…ùlõrs_1
[] =

1972 c⁄° 
mu…ùlõrs_3
[] =

1977 c⁄° *
m
;

1979 °ru˘ { 
uötmax_t
 
Q
; uötmax_à
P
; } 
queue
[
QUEUE_SIZE
];

1981 i‡(
n1
 >((
uötmax_t
Ë1 << (
W_TYPE_SIZE
 - 2)))

1982  
Ál£
;

1984 
uötmax_t
 
sqπ_n
 = 
	`isqπ2
 (
n1
, 
n0
);

1986 i‡(
n0
 =
sqπ_n
 * sqrt_n)

1988 
uötmax_t
 
p1
, 
p0
;

1990 
	`umul_µmm
 (
p1
, 
p0
, 
sqπ_n
, sqrt_n);

1991 
	`as£π
 (
p0
 =
n0
);

1993 i‡(
n1
 =
p1
)

1995 i‡(
	`¥ime_p
 (
sqπ_n
))

1996 
	`Á˘‹_ö£π_mu…ùlicôy
 (
Á˘‹s
, 
sqπ_n
, 2);

1999 
Á˘‹s
 
f
;

2001 
f
.
nÁ˘‹s
 = 0;

2002 i‡(!
	`Á˘‹_usög_squfof
 (0, 
sqπ_n
, &
f
))

2005 
	`Á˘‹_usög_pﬁœrd_rho
 (
sqπ_n
, 1, &
f
);

2008 
i
 = 0; i < 
f
.
nÁ˘‹s
; i++)

2009 
	`Á˘‹_ö£π_mu…ùlicôy
 (
Á˘‹s
, 
f
.
p
[
i
], 2*f.
e
[i]);

2011  
åue
;

2016 
m
 = (
n0
 % 4 =1Ë? 
mu…ùlõrs_3
 : 
mu…ùlõrs_1
;

2017 *
m
; m++)

2019 
uötmax_t
 
S
, 
Dh
, 
Dl
, 
Q1
, 
Q
, 
P
, 
L
, 
L1
, 
B
;

2020 
i
;

2021 
mu
 = *
m
;

2022 
qpos
 = 0;

2024 
	`as£π
 (
mu
 * 
n0
 % 4 == 3);

2036 i‡(
n1
 == 0)

2038 i‡((
uötmax_t
Ë
mu
*mu*mu >
n0
 / 64)

2043 i‡(
n1
 > ((
uötmax_t
Ë1 << (
W_TYPE_SIZE
 - 2)Ë/ 
mu
)

2046 
	`umul_µmm
 (
Dh
, 
Dl
, 
n0
, 
mu
);

2047 
Dh
 +
n1
 * 
mu
;

2049 
	`as£π
 (
Dl
 % 4 != 1);

2050 
	`as£π
 (
Dh
 < (
uötmax_t
Ë1 << (
W_TYPE_SIZE
 - 2));

2052 
S
 = 
	`isqπ2
 (
Dh
, 
Dl
);

2054 
Q1
 = 1;

2055 
P
 = 
S
;

2058 
Q
 = 
Dl
 - 
P
*P;

2060 
L
 = 
	`isqπ
 (2*
S
);

2061 
B
 = 2*
L
;

2062 
L1
 = 
mu
 * 2 * 
L
;

2067 
i
 = 0; i <
B
; i++)

2069 
uötmax_t
 
q
, 
P1
, 
t
, 
ªm
;

2071 
	`div_smÆlq
 (
q
, 
ªm
, 
S
+
P
, 
Q
);

2072 
P1
 = 
S
 - 
ªm
;

2074 #i‡
STAT_SQUFOF


2075 
	`as£π
 (
q
 > 0);

2076 
q_‰eq
[0]++;

2077 
q_‰eq
[
	`MIN
 (
q
, 
Q_FREQ_SIZE
)]++;

2080 i‡(
Q
 <
L1
)

2082 
uötmax_t
 
g
 = 
Q
;

2084 i‡–(
Q
 & 1) == 0)

2085 
g
 /= 2;

2087 
g
 /
	`gcd_odd
 (g, 
mu
);

2089 i‡(
g
 <
L
)

2091 i‡(
qpos
 >
QUEUE_SIZE
)

2092 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("squfof queue overflow"));

2093 
queue
[
qpos
].
Q
 = 
g
;

2094 
queue
[
qpos
].
P
 = P % 
g
;

2095 
qpos
++;

2101 
t
 = 
Q1
 + 
q
 * (
P
 - 
P1
);

2102 
Q1
 = 
Q
;

2103 
Q
 = 
t
;

2104 
P
 = 
P1
;

2106 i‡–(
i
 & 1) == 0)

2108 
uötmax_t
 
r
 = 
	`is_squ¨e
 (
Q
);

2109 i‡(
r
)

2111 
j
 = 0; j < 
qpos
; j++)

2113 i‡(
queue
[
j
].
Q
 =
r
)

2115 i‡(
r
 == 1)

2117 
√xt_mu…ùlõr
;

2120 i‡(
P
 >
queue
[
j
].P)

2121 
t
 = 
P
 - 
queue
[
j
].P;

2123 
t
 = 
queue
[
j
].
P
 - P;

2124 i‡(
t
 % 
r
 == 0)

2128 
	`memmove
 (
queue
, queuê+ 
j
 + 1,

2129 (
qpos
 - 
j
 - 1Ë*  (
queue
[0]));

2130 
qpos
 -(
j
 + 1);

2132 
√xt_i
;

2138 
Q1
 = 
r
;

2139 
	`as£π
 (
S
 >
P
);

2140 
P
 +
r
 * ((
S
 - P) /Ñ);

2146 
uötmax_t
 
hi
, 
lo
;

2147 
	`umul_µmm
 (
hi
, 
lo
, 
P
, P);

2148 
	`sub_ddmmss
 (
hi
, 
lo
, 
Dh
, 
Dl
, hi,Üo);

2149 
	`udiv_q∫nd
 (
Q
, 
ªm
, 
hi
, 
lo
, 
Q1
);

2150 
	`as£π
 (
ªm
 == 0);

2159 
	`div_smÆlq
 (
q
, 
ªm
, 
S
+
P
, 
Q
);

2160 
P1
 = 
S
 - 
ªm
;

2162 #i‡
STAT_SQUFOF


2163 
q_‰eq
[0]++;

2164 
q_‰eq
[
	`MIN
 (
q
, 
Q_FREQ_SIZE
)]++;

2166 i‡(
P
 =
P1
)

2168 
t
 = 
Q1
 + 
q
 * (
P
 - 
P1
);

2169 
Q1
 = 
Q
;

2170 
Q
 = 
t
;

2171 
P
 = 
P1
;

2174 i‡–(
Q
 & 1) == 0)

2175 
Q
 /= 2;

2176 
Q
 /
	`gcd_odd
 (Q, 
mu
);

2178 
	`as£π
 (
Q
 > 1 && (
n1
 || Q < 
n0
));

2180 i‡(
	`¥ime_p
 (
Q
))

2181 
	`Á˘‹_ö£π
 (
Á˘‹s
, 
Q
);

2182 i‡(!
	`Á˘‹_usög_squfof
 (0, 
Q
, 
Á˘‹s
))

2183 
	`Á˘‹_usög_pﬁœrd_rho
 (
Q
, 2, 
Á˘‹s
);

2185 
	`divexa˘_21
 (
n1
, 
n0
,Ç1,Ç0, 
Q
);

2187 i‡(
	`¥ime2_p
 (
n1
, 
n0
))

2188 
	`Á˘‹_ö£π_œrge
 (
Á˘‹s
, 
n1
, 
n0
);

2191 i‡(!
	`Á˘‹_usög_squfof
 (
n1
, 
n0
, 
Á˘‹s
))

2193 i‡(
n1
 == 0)

2194 
	`Á˘‹_usög_pﬁœrd_rho
 (
n0
, 1, 
Á˘‹s
);

2196 
	`Á˘‹_usög_pﬁœrd_rho2
 (
n1
, 
n0
, 1, 
Á˘‹s
);

2200  
åue
;

2203 
√xt_i
:;

2205 
√xt_mu…ùlõr
:;

2207  
Ál£
;

2208 
	}
}

2213 
	$Á˘‹
 (
uötmax_t
 
t1
, uötmax_à
t0
, 
Á˘‹s
 *factors)

2215 
Á˘‹s
->
nÁ˘‹s
 = 0;

2216 
Á˘‹s
->
∂¨ge
[1] = 0;

2218 i‡(
t1
 =0 && 
t0
 < 2)

2221 
t0
 = 
	`Á˘‹_usög_divisi⁄
 (&
t1
,Å1,Å0, 
Á˘‹s
);

2223 i‡(
t1
 =0 && 
t0
 < 2)

2226 i‡(
	`¥ime2_p
 (
t1
, 
t0
))

2227 
	`Á˘‹_ö£π_œrge
 (
Á˘‹s
, 
t1
, 
t0
);

2230 i‡(
Æg
 =
ALG_SQUFOF
)

2231 i‡(
	`Á˘‹_usög_squfof
 (
t1
, 
t0
, 
Á˘‹s
))

2234 i‡(
t1
 == 0)

2235 
	`Á˘‹_usög_pﬁœrd_rho
 (
t0
, 1, 
Á˘‹s
);

2237 
	`Á˘‹_usög_pﬁœrd_rho2
 (
t1
, 
t0
, 1, 
Á˘‹s
);

2239 
	}
}

2241 #i‡
HAVE_GMP


2245 
	$mp_Á˘‹
 (
mpz_t
 
t
, 
mp_Á˘‹s
 *
Á˘‹s
)

2247 
	`mp_Á˘‹_öô
 (
Á˘‹s
);

2249 i‡(
	`mpz_sgn
 (
t
) != 0)

2251 
	`mp_Á˘‹_usög_divisi⁄
 (
t
, 
Á˘‹s
);

2253 i‡(
	`mpz_cmp_ui
 (
t
, 1) != 0)

2255 
	`devmsg
 ("[isÇumberÖrime?] ");

2256 i‡(
	`mp_¥ime_p
 (
t
))

2257 
	`mp_Á˘‹_ö£π
 (
Á˘‹s
, 
t
);

2259 
	`mp_Á˘‹_usög_pﬁœrd_rho
 (
t
, 1, 
Á˘‹s
);

2262 
	}
}

2265 
°πﬁ_îr‹


2266 
	$°πo2uötmax
 (
uötmax_t
 *
hù
, uötmax_à*
l›
, c⁄° *
s
)

2268 
lo_ˇºy
;

2269 
uötmax_t
 
hi
 = 0, 
lo
 = 0;

2271 
°πﬁ_îr‹
 
îr
 = 
LONGINT_INVALID
;

2276 
c
 = *
s
;

2277 i‡(
c
 == ' ')

2278 
s
++;

2279 i‡(
c
 == '+')

2281 
s
++;

2289 c⁄° *
p
 = 
s
;

2292 
c
 = *
p
++;

2293 i‡(
c
 == 0)

2296 i‡(
	`UNLIKELY
 (!
	`ISDIGIT
 (
c
)))

2298 
îr
 = 
LONGINT_INVALID
;

2302 
îr
 = 
LONGINT_OK
;

2305 ;
îr
 =
LONGINT_OK
;)

2307 
c
 = *
s
++;

2308 i‡(
c
 == 0)

2311 
c
 -= '0';

2313 i‡(
	`UNLIKELY
 (
hi
 > ~(
uötmax_t
)0 / 10))

2315 
îr
 = 
LONGINT_OVERFLOW
;

2318 
hi
 = 10 * hi;

2320 
lo_ˇºy
 = (
lo
 >> (
W_TYPE_SIZE
 - 3)) + (lo >> (W_TYPE_SIZE - 1));

2321 
lo_ˇºy
 +10 * 
lo
 < 2 *Üo;

2323 
lo
 = 10 *Üo;

2324 
lo
 +
c
;

2326 
lo_ˇºy
 +
lo
 < 
c
;

2327 
hi
 +
lo_ˇºy
;

2328 i‡(
	`UNLIKELY
 (
hi
 < 
lo_ˇºy
))

2330 
îr
 = 
LONGINT_OVERFLOW
;

2335 *
hù
 = 
hi
;

2336 *
l›
 = 
lo
;

2338  
îr
;

2339 
	}
}

2342 
	$¥öt_uötmaxes
 (
uötmax_t
 
t1
, uötmax_à
t0
)

2344 
uötmax_t
 
q
, 
r
;

2346 i‡(
t1
 == 0)

2347 
	`¥ötf
 ("%"
PRIuMAX
, 
t0
);

2352 
q
 = 
t1
 / 1000000000;

2353 
r
 = 
t1
 % 1000000000;

2354 
	`udiv_q∫nd
 (
t0
, 
r
,Ñ,Å0, 1000000000);

2355 
	`¥öt_uötmaxes
 (
q
, 
t0
);

2356 
	`¥ötf
 ("%09u", (Ë
r
);

2358 
	}
}

2362 
	$¥öt_Á˘‹s_sögÀ
 (
uötmax_t
 
t1
, uötmax_à
t0
)

2364 
Á˘‹s
 factors;

2366 
	`¥öt_uötmaxes
 (
t1
, 
t0
);

2367 
	`putch¨
 (':');

2369 
	`Á˘‹
 (
t1
, 
t0
, &
Á˘‹s
);

2371 
j
 = 0; j < 
Á˘‹s
.
nÁ˘‹s
; j++)

2372 
k
 = 0; k < 
Á˘‹s
.
e
[
j
]; k++)

2374 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

2375 
	`putch¨
 (' ');

2376 
	`Âuts
 (
	`umaxto°r
 (
Á˘‹s
.
p
[
j
], 
buf
), 
°dout
);

2379 i‡(
Á˘‹s
.
∂¨ge
[1])

2381 
	`putch¨
 (' ');

2382 
	`¥öt_uötmaxes
 (
Á˘‹s
.
∂¨ge
[1], factors.plarge[0]);

2384 
	`putch¨
 ('\n');

2385 
	}
}

2392 
boﬁ


2393 
	$¥öt_Á˘‹s
 (c⁄° *
öput
)

2395 
uötmax_t
 
t1
, 
t0
;

2401 
°πﬁ_îr‹
 
îr
 = 
	`°πo2uötmax
 (&
t1
, &
t0
, 
öput
);

2403 
îr
)

2405 
LONGINT_OK
:

2406 i‡(((
t1
 << 1) >> 1) ==Å1)

2408 
	`devmsg
 ("[using single-precisionárithmetic] ");

2409 
	`¥öt_Á˘‹s_sögÀ
 (
t1
, 
t0
);

2410  
åue
;

2414 
LONGINT_OVERFLOW
:

2419 
	`îr‹
 (0, 0, 
	`_
("%†i†nŸá vÆidÖosôivêöãgî"), 
	`quŸe
 (
öput
));

2420  
Ál£
;

2423 #i‡
HAVE_GMP


2424 
	`devmsg
 ("[usingárbitrary-precisionárithmetic] ");

2425 
mpz_t
 
t
;

2426 
mp_Á˘‹s
 
Á˘‹s
;

2428 
	`mpz_öô_£t_°r
 (
t
, 
öput
, 10);

2430 
	`gmp_¥ötf
 ("%Zd:", 
t
);

2431 
	`mp_Á˘‹
 (
t
, &
Á˘‹s
);

2433 
j
 = 0; j < 
Á˘‹s
.
nÁ˘‹s
; j++)

2434 
k
 = 0; k < 
Á˘‹s
.
e
[
j
]; k++)

2435 
	`gmp_¥ötf
 (" %Zd", 
Á˘‹s
.
p
[
j
]);

2437 
	`mp_Á˘‹_˛ór
 (&
Á˘‹s
);

2438 
	`mpz_˛ór
 (
t
);

2439 
	`putch¨
 ('\n');

2440  
åue
;

2442 
	`îr‹
 (0, 0, 
	`_
("%†i†toÿœrge"), 
	`quŸe
 (
öput
));

2443  
Ál£
;

2445 
	}
}

2448 
	$ußge
 (
°©us
)

2450 i‡(
°©us
 !
EXIT_SUCCESS
)

2451 
	`emô_åy_hñp
 ();

2454 
	`¥ötf
 (
	`_
("\
: %s [NUMBER]...\n\
: %s OPTION\n\
"),

2458 
¥ogøm_«me
,Örogram_name);

2459 
	`Âuts
 (
	`_
("\
Åhê¥imêÁ˘‹†o‡óch s≥cifõd i¡egî NUMBER. I‡n⁄e\n\
 s≥cifõd o¿thêcomm™dÜöe,ÑódÅhem from sènd¨d i≈ut.\n\
\n\
"), 
°dout
);

2464 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

2465 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

2466 
	`emô_™cûœry_öfo
 ();

2468 
	`exô
 (
°©us
);

2469 
	}
}

2471 
boﬁ


2472 
	$do_°dö
 ()

2474 
boﬁ
 
ok
 = 
åue
;

2475 
tokí_buf„r
 
tokíbuf„r
;

2477 
	`öô_tokíbuf„r
 (&
tokíbuf„r
);

2479 
åue
)

2481 
size_t
 
tokí_Àngth
 = 
	`ªadtokí
 (
°dö
, 
DELIM
,  (DELIM) - 1,

2482 &
tokíbuf„r
);

2483 i‡(
tokí_Àngth
 =(
size_t
) -1)

2485 
ok
 &
	`¥öt_Á˘‹s
 (
tokíbuf„r
.
buf„r
);

2487 
	`‰ì
 (
tokíbuf„r
.
buf„r
);

2489  
ok
;

2490 
	}
}

2493 
	$maö
 (
¨gc
, **
¨gv
)

2495 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

2496 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

2497 
	`£éoˇÀ
 (
LC_ALL
, "");

2498 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

2499 
	`ãxtdomaö
 (
PACKAGE
);

2501 
	`©exô
 (
˛o£_°dout
);

2503 
Æg
 = 
ALG_POLLARD_RHO
;

2505 
c
;

2506 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

2508 
c
)

2510 
DEV_DEBUG_OPTION
:

2511 
dev_debug
 = 
åue
;

2515 
Æg
 = 
ALG_SQUFOF
;

2519 
Êag_¥ove_¥imÆôy
 = 
Ál£
;

2522 
ˇ£_GETOPT_HELP_CHAR
;

2524 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2527 
	`ußge
 (
EXIT_FAILURE
);

2531 #i‡
STAT_SQUFOF


2532 i‡(
Æg
 =
ALG_SQUFOF
)

2533 
	`mem£t
 (
q_‰eq
, 0,  (q_freq));

2536 
boﬁ
 
ok
;

2537 i‡(
¨gc
 <
›töd
)

2538 
ok
 = 
	`do_°dö
 ();

2541 
ok
 = 
åue
;

2542 
i
 = 
›töd
; i < 
¨gc
; i++)

2543 i‡(! 
	`¥öt_Á˘‹s
 (
¨gv
[
i
]))

2544 
ok
 = 
Ál£
;

2547 #i‡
STAT_SQUFOF


2548 i‡(
Æg
 =
ALG_SQUFOF
 && 
q_‰eq
[0] > 0)

2550 
acc_f
;

2551 
	`¥ötf
 ("q fªq. cum. fªq.—ŸÆ: %d)\n", 
q_‰eq
[0]);

2552 
i
 = 1, 
acc_f
 = 0.0; i <
Q_FREQ_SIZE
; i++)

2554 
f
 = (Ë
q_‰eq
[
i
] / q_freq[0];

2555 
acc_f
 +
f
;

2556 
	`¥ötf
 ("%s%d %.2f%% %.2f%%\n", 
i
 =
Q_FREQ_SIZE
 ? ">=" : "", i,

2557 100.0 * 
f
, 100.0 * 
acc_f
);

2562 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

2563 
	}
}

	@false.c

1 
	#EXIT_STATUS
 
EXIT_FAILURE


	)

2 
	~"åue.c
"

	@fiemap.h

9 #i‚de‡
_LINUX_FIEMAP_H


10 
	#_LINUX_FIEMAP_H


	)

12 
	~<°döt.h
>

14 
	sfõm≠_exã¡


18 
uöt64_t
 
	m„_logiˇl
;

22 
uöt64_t
 
	m„_physiˇl
;

25 
uöt64_t
 
	m„_Àngth
;

27 
uöt64_t
 
	m„_ª£rved64
[2];

30 
uöt32_t
 
	m„_Êags
;

32 
uöt32_t
 
	m„_ª£rved
[3];

35 
	sfõm≠


38 
uöt64_t
 
	mfm_°¨t
;

41 
uöt64_t
 
	mfm_Àngth
;

44 
uöt32_t
 
	mfm_Êags
;

47 
uöt32_t
 
	mfm_m≠≥d_exã¡s
;

50 
uöt32_t
 
	mfm_exã¡_cou¡
;

52 
uöt32_t
 
	mfm_ª£rved
;

58 #ifde‡
__löux__


59 
fõm≠_exã¡
 
	mfm_exã¡s
[0];

64 
	#FIEMAP_MAX_OFFSET
 (~0ULL)

	)

67 
	#FIEMAP_FLAG_SYNC
 0x00000001

	)

70 
	#FIEMAP_FLAG_XATTR
 0x00000002

	)

72 
	#FIEMAP_FLAGS_COMPAT
 (
FIEMAP_FLAG_SYNC
 | 
FIEMAP_FLAG_XATTR
)

	)

75 
	#FIEMAP_EXTENT_LAST
 0x00000001

	)

78 
	#FIEMAP_EXTENT_UNKNOWN
 0x00000002

	)

81 
	#FIEMAP_EXTENT_DELALLOC
 0x00000004

	)

84 
	#FIEMAP_EXTENT_ENCODED
 0x00000008

	)

87 
	#FIEMAP_EXTENT_DATA_ENCRYPTED
 0x00000080

	)

90 
	#FIEMAP_EXTENT_NOT_ALIGNED
 0x00000100

	)

93 
	#FIEMAP_EXTENT_DATA_INLINE
 0x00000200

	)

96 
	#FIEMAP_EXTENT_DATA_TAIL
 0x00000400

	)

99 
	#FIEMAP_EXTENT_UNWRITTEN
 0x00000800

	)

102 
	#FIEMAP_EXTENT_MERGED
 0x00001000

	)

105 
	#FIEMAP_EXTENT_SHARED
 0x00002000

	)

	@find-mount-point.c

17 
	~<c⁄fig.h
>

18 
	~<sys/ty≥s.h
>

20 
	~"sy°em.h
"

21 
	~"îr‹.h
"

22 
	~"quŸe.h
"

23 
	~"ßve-cwd.h
"

24 
	~"xgëcwd.h
"

25 
	~"föd-mou¡-poöt.h
"

32 
	$föd_mou¡_poöt
 (c⁄° *
fûe
, 
°©
 c⁄° *
fûe_°©
)

34 
ßved_cwd
 
cwd
;

35 
°©
 
œ°_°©
;

36 *
mp
 = 
NULL
;

38 i‡(
	`ßve_cwd
 (&
cwd
) != 0)

40 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot get current directory"));

41  
NULL
;

44 i‡(
	`S_ISDIR
 (
fûe_°©
->
°_mode
))

47 
œ°_°©
 = *
fûe_°©
;

48 i‡(
	`chdú
 (
fûe
) < 0)

50 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ ch™gêtÿdúe˘‹y %s"), 
	`quŸe
 (
fûe
));

51  
NULL
;

57 *
xdú
 = 
	`dú_«me
 (
fûe
);

58 *
dú
;

59 
	`ASSIGN_STRDUPA
 (
dú
, 
xdú
);

60 
	`‰ì
 (
xdú
);

62 i‡(
	`chdú
 (
dú
) < 0)

64 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ ch™gêtÿdúe˘‹y %s"), 
	`quŸe
 (
dú
));

65  
NULL
;

68 i‡(
	`°©
 (".", &
œ°_°©
) < 0)

70 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot stat current directory (now %s)"),

71 
	`quŸe
 (
dú
));

72 
d⁄e
;

79 
åue
)

81 
°©
 
°
;

82 i‡(
	`°©
 ("..", &
°
) < 0)

84 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (".."));

85 
d⁄e
;

87 i‡(
°
.
°_dev
 !
œ°_°©
.°_dev || st.
°_öo
 ==Üast_stat.st_ino)

90 i‡(
	`chdú
 ("..") < 0)

92 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ ch™gêtÿdúe˘‹y %s"), 
	`quŸe
 (".."));

93 
d⁄e
;

95 
œ°_°©
 = 
°
;

99 
mp
 = 
	`xgëcwd
 ();

101 
d⁄e
:

104 
ßve_î∫o
 = 
î∫o
;

105 i‡(
	`ª°‹e_cwd
 (&
cwd
) != 0)

106 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

107 
	`_
("failedÅoÑeturnÅo initial working directory"));

108 
	`‰ì_cwd
 (&
cwd
);

109 
î∫o
 = 
ßve_î∫o
;

112  
mp
;

113 
	}
}

	@find-mount-point.h

17 *
föd_mou¡_poöt
 (c⁄° *, 
°©
 const *);

	@fmt.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

23 
	~<as£π.h
>

27 
	#w‹d
 
unu£d_w‹d_ty≥


	)

29 
	~"sy°em.h
"

30 
	~"îr‹.h
"

31 
	~"Ádvi£.h
"

32 
	~"quŸe.h
"

33 
	~"x°πﬁ.h
"

36 
	#PROGRAM_NAME
 "fmt"

	)

38 
	#AUTHORS
 
	`¥›î_«me
 ("Ros†P©îs⁄")

	)

44 
	#WIDTH
 75

	)

48 
	#LEEWAY
 7

	)

52 
	#DEF_INDENT
 3

	)

65 
	tCOST
;

67 
	#MAXCOST
 
	`TYPE_MAXIMUM
 (
COST
)

	)

69 
	#SQR
(
n
Ë(“Ë* (n))

	)

70 
	#EQUIV
(
n
Ë
	`SQR
 ((
COST
Ë“))

	)

73 
	#SHORT_COST
(
n
Ë
	`EQUIV
 (“Ë* 10)

	)

76 
	#RAGGED_COST
(
n
Ë(
	`SHORT_COST
 (nË/ 2)

	)

79 
	#LINE_COST
 
	`EQUIV
 (70)

	)

83 
	#WIDOW_COST
(
n
Ë(
	`EQUIV
 (200Ë/ (“Ë+ 2))

	)

87 
	#ORPHAN_COST
(
n
Ë(
	`EQUIV
 (150Ë/ (“Ë+ 2))

	)

90 
	#SENTENCE_BONUS
 
	`EQUIV
 (50)

	)

97 
	#NOBREAK_COST
 
	`EQUIV
 (600)

	)

100 
	#PAREN_BONUS
 
	`EQUIV
 (40)

	)

103 
	#PUNCT_BONUS
 
	`EQUIV
(40)

	)

106 
	#LINE_CREDIT
 
	`EQUIV
(3)

	)

115 
	#MAXWORDS
 1000

	)

116 
	#MAXCHARS
 5000

	)

120 
	#is›í
(
c
Ë(
	`°rchr
 ("(['`\"", cË!
NULL
)

	)

121 
	#is˛o£
(
c
Ë(
	`°rchr
 (")]'\"", cË!
NULL
)

	)

122 
	#i•îiod
(
c
Ë(
	`°rchr
 (".?!", cË!
NULL
)

	)

126 
	#TABWIDTH
 8

	)

130 
W‹d
 
	tWORD
;

132 
	sW‹d


137 c⁄° *
	mãxt
;

138 
	mÀngth
;

139 
	m•a˚
;

140 
	m∑ªn
:1;

141 
	m≥riod
:1;

142 
	mpun˘
:1;

143 
	mföÆ
:1;

147 
	mlöe_Àngth
;

148 
COST
 
	mbe°_co°
;

149 
WORD
 *
	m√xt_bªak
;

154 
£t_¥efix
 (*
p
);

155 
fmt
 (
FILE
 *
f
);

156 
boﬁ
 
gë_∑øgøph
 (
FILE
 *
f
);

157 
gë_löe
 (
FILE
 *
f
, 
c
);

158 
gë_¥efix
 (
FILE
 *
f
);

159 
gë_•a˚
 (
FILE
 *
f
, 
c
);

160 
c›y_ª°
 (
FILE
 *
f
, 
c
);

161 
boﬁ
 
ßme_∑ø
 (
c
);

162 
Êush_∑øgøph
 ();

163 
fmt_∑øgøph
 ();

164 
check_pun˘u©i⁄
 (
WORD
 *
w
);

165 
COST
 
ba£_co°
 (
WORD
 *
this
);

166 
COST
 
löe_co°
 (
WORD
 *
√xt
, 
Àn
);

167 
put_∑øgøph
 (
WORD
 *
föish
);

168 
put_löe
 (
WORD
 *
w
, 
ödít
);

169 
put_w‹d
 (
WORD
 *
w
);

170 
put_•a˚
 (
•a˚
);

175 
boﬁ
 
	g¸own
;

178 
boﬁ
 
	gègged
;

181 
boﬁ
 
	g•lô
;

184 
boﬁ
 
	gunif‹m
;

187 c⁄° *
	g¥efix
;

191 
	gmax_width
;

196 
	g¥efix_fuŒ_Àngth
;

199 
	g¥efix_Àad_•a˚
;

202 
	g¥efix_Àngth
;

205 
	ggﬂl_width
;

210 
	gö_cﬁumn
;

213 
	gout_cﬁumn
;

217 
	g∑øbuf
[
MAXCHARS
];

220 *
	gw±r
;

224 
WORD
 
	gw‹d
[
MAXWORDS
];

229 
WORD
 *
	gw‹d_limô
;

233 
boﬁ
 
	gèbs
;

236 
	g¥efix_ödít
;

239 
	gfú°_ödít
;

242 
	gŸhî_ödít
;

252 
	g√xt_ch¨
;

256 
	g√xt_¥efix_ödít
;

261 
	gœ°_löe_Àngth
;

264 
	$ußge
 (
°©us
)

266 i‡(
°©us
 !
EXIT_SUCCESS
)

267 
	`emô_åy_hñp
 ();

270 
	`¥ötf
 (
	`_
("Ußge: %†[-WIDTH] [OPTION]... [FILE]...\n"), 
¥ogøm_«me
);

271 
	`Âuts
 (
	`_
("\
ÉachÖ¨agøph i¿thêFILE(s), wrôögÅÿ°™d¨d ouçut.\n\
 o±i⁄ -WIDTH i†™ábbªvüãd f‹m o‡--width=DIGITS.\n\
"), 
°dout
);

276 
	`emô_m™d©‹y_¨g_nŸe
 ();

278 
	`Âuts
 (
	`_
("\
-c, --crown-marginÖreserve indentation of firstÅwoÜines\n\
-p, --prefix=STRINGÑeformat onlyÜines beginning with STRING,\n\
ÅheÖrefixÅoÑeformattedÜines\n\
-s, --split-only splitÜongÜines, but doÇotÑefill\n\
"),

284 
°dout
);

287 
	`Âuts
 (
	`_
("\
-t, --ègged-∑øgøph indíèti⁄ o‡fú°Üöêdif„ª¡ from sec⁄d\n\
-u, --unif‹m-•acög o√ s∑˚ bëwì¿w‹ds,Åwÿa·î síãn˚s\n\
-w, --width=WIDTH maximumÜöêwidth (deÁu… o‡75 cﬁumns)\n\
-g, --gﬂl=WIDTH gﬂ»width (deÁu… o‡93% o‡width)\n\
"), 
°dout
);

293 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

294 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

295 
	`Âuts
 (
	`_
("\
\n\
Ço FILE, or when FILE is -,Ñead standard input.\n"),

298 
°dout
);

299 
	`emô_™cûœry_öfo
 ();

301 
	`exô
 (
°©us
);

302 
	}
}

306 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

308 {"¸own-m¨gö", 
no_¨gumít
, 
NULL
, 'c'},

309 {"¥efix", 
ªquúed_¨gumít
, 
NULL
, 'p'},

310 {"•lô-⁄ly", 
no_¨gumít
, 
NULL
, 's'},

311 {"ègged-∑øgøph", 
no_¨gumít
, 
NULL
, 't'},

312 {"unif‹m-•acög", 
no_¨gumít
, 
NULL
, 'u'},

313 {"width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

314 {"gﬂl", 
ªquúed_¨gumít
, 
NULL
, 'g'},

315 {
GETOPT_HELP_OPTION_DECL
},

316 {
GETOPT_VERSION_OPTION_DECL
},

317 {
NULL
, 0, NULL, 0},

321 
	$maö
 (
¨gc
, **
¨gv
)

323 
›tch¨
;

324 
boﬁ
 
ok
 = 
åue
;

325 c⁄° *
max_width_›ti⁄
 = 
NULL
;

326 c⁄° *
gﬂl_width_›ti⁄
 = 
NULL
;

328 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

329 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

330 
	`£éoˇÀ
 (
LC_ALL
, "");

331 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

332 
	`ãxtdomaö
 (
PACKAGE
);

334 
	`©exô
 (
˛o£_°dout
);

336 
¸own
 = 
ègged
 = 
•lô
 = 
unif‹m
 = 
Ál£
;

337 
max_width
 = 
WIDTH
;

338 
¥efix
 = "";

339 
¥efix_Àngth
 = 
¥efix_Àad_•a˚
 = 
¥efix_fuŒ_Àngth
 = 0;

341 i‡(
¨gc
 > 1 && 
¨gv
[1][0] ='-' && 
	`ISDIGIT
 (argv[1][1]))

344 
max_width_›ti⁄
 = 
¨gv
[1] + 1;

347 
¨gv
[1] =árgv[0];

348 
¨gv
++;

349 
¨gc
--;

352 (
›tch¨
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "0123456789cstuw:p:g:",

353 
l⁄g_›ti⁄s
, 
NULL
))

355 
›tch¨
)

358 i‡(
	`ISDIGIT
 (
›tch¨
))

359 
	`îr‹
 (0, 0, 
	`_
("invalid option -- %c; -WIDTH isÑecognized\
 when it isÅhe first\noption; use -w N instead"),

361 
›tch¨
);

362 
	`ußge
 (
EXIT_FAILURE
);

365 
¸own
 = 
åue
;

369 
•lô
 = 
åue
;

373 
ègged
 = 
åue
;

377 
unif‹m
 = 
åue
;

381 
max_width_›ti⁄
 = 
›èrg
;

385 
gﬂl_width_›ti⁄
 = 
›èrg
;

389 
	`£t_¥efix
 (
›èrg
);

392 
ˇ£_GETOPT_HELP_CHAR
;

394 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

398 i‡(
max_width_›ti⁄
)

402 
tmp
;

403 i‡(! (
	`x°πoul
 (
max_width_›ti⁄
, 
NULL
, 10, &
tmp
, ""Ë=
LONGINT_OK


404 && 
tmp
 <
MAXCHARS
 / 2))

405 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid width: %s"),

406 
	`quŸe
 (
max_width_›ti⁄
));

407 
max_width
 = 
tmp
;

410 i‡(
gﬂl_width_›ti⁄
)

413 
tmp
;

414 i‡(! (
	`x°πoul
 (
gﬂl_width_›ti⁄
, 
NULL
, 10, &
tmp
, ""Ë=
LONGINT_OK


415 && 
tmp
 <
max_width
))

416 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid width: %s"),

417 
	`quŸe
 (
gﬂl_width_›ti⁄
));

418 
gﬂl_width
 = 
tmp
;

419 i‡(
max_width_›ti⁄
 =
NULL
)

420 
max_width
 = 
gﬂl_width
 + 10;

424 
gﬂl_width
 = 
max_width
 * (2 * (100 - 
LEEWAY
) + 1) / 200;

427 i‡(
›töd
 =
¨gc
)

428 
	`fmt
 (
°dö
);

431 ; 
›töd
 < 
¨gc
; optind++)

433 *
fûe
 = 
¨gv
[
›töd
];

434 i‡(
	`STREQ
 (
fûe
, "-"))

435 
	`fmt
 (
°dö
);

438 
FILE
 *
ö_°ªam
;

439 
ö_°ªam
 = 
	`f›í
 (
fûe
, "r");

440 i‡(
ö_°ªam
 !
NULL
)

442 
	`fmt
 (
ö_°ªam
);

443 i‡(
	`f˛o£
 (
ö_°ªam
Ë=
EOF
)

445 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

446 
ok
 = 
Ál£
;

451 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

452 
	`quŸe
 (
fûe
));

453 
ok
 = 
Ál£
;

459 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

460 
	}
}

466 
	$£t_¥efix
 (*
p
)

468 *
s
;

470 
¥efix_Àad_•a˚
 = 0;

471 *
p
 == ' ')

473 
¥efix_Àad_•a˚
++;

474 
p
++;

476 
¥efix
 = 
p
;

477 
¥efix_fuŒ_Àngth
 = 
	`°æí
 (
p
);

478 
s
 = 
p
 + 
¥efix_fuŒ_Àngth
;

479 
s
 > 
p
 && s[-1] == ' ')

480 
s
--;

481 *
s
 = '\0';

482 
¥efix_Àngth
 = 
s
 - 
p
;

483 
	}
}

488 
	$fmt
 (
FILE
 *
f
)

490 
	`Ádvi£
 (
f
, 
FADVISE_SEQUENTIAL
);

491 
èbs
 = 
Ál£
;

492 
Ÿhî_ödít
 = 0;

493 
√xt_ch¨
 = 
	`gë_¥efix
 (
f
);

494 
	`gë_∑øgøph
 (
f
))

496 
	`fmt_∑øgøph
 ();

497 
	`put_∑øgøph
 (
w‹d_limô
);

499 
	}
}

505 
	$£t_Ÿhî_ödít
 (
boﬁ
 
ßme_∑øgøph
)

507 i‡(
•lô
)

508 
Ÿhî_ödít
 = 
fú°_ödít
;

509 i‡(
¸own
)

511 
Ÿhî_ödít
 = (
ßme_∑øgøph
 ? 
ö_cﬁumn
 : 
fú°_ödít
);

513 i‡(
ègged
)

515 i‡(
ßme_∑øgøph
 && 
ö_cﬁumn
 !
fú°_ödít
)

517 
Ÿhî_ödít
 = 
ö_cﬁumn
;

525 i‡(
Ÿhî_ödít
 =
fú°_ödít
)

526 
Ÿhî_ödít
 = 
fú°_ödít
 =0 ? 
DEF_INDENT
 : 0;

530 
Ÿhî_ödít
 = 
fú°_ödít
;

532 
	}
}

549 
boﬁ


550 
	$gë_∑øgøph
 (
FILE
 *
f
)

552 
c
;

554 
œ°_löe_Àngth
 = 0;

555 
c
 = 
√xt_ch¨
;

559 
c
 ='\n' || c =
EOF


560 || 
√xt_¥efix_ödít
 < 
¥efix_Àad_•a˚


561 || 
ö_cﬁumn
 < 
√xt_¥efix_ödít
 + 
¥efix_fuŒ_Àngth
)

563 
c
 = 
	`c›y_ª°
 (
f
, c);

564 i‡(
c
 =
EOF
)

566 
√xt_ch¨
 = 
EOF
;

567  
Ál£
;

569 
	`putch¨
 ('\n');

570 
c
 = 
	`gë_¥efix
 (
f
);

575 
¥efix_ödít
 = 
√xt_¥efix_ödít
;

576 
fú°_ödít
 = 
ö_cﬁumn
;

577 
w±r
 = 
∑øbuf
;

578 
w‹d_limô
 = 
w‹d
;

579 
c
 = 
	`gë_löe
 (
f
, c);

580 
	`£t_Ÿhî_ödít
 (
	`ßme_∑ø
 (
c
));

584 i‡(
•lô
)

588 i‡(
¸own
)

590 i‡(
	`ßme_∑ø
 (
c
))

594 
c
 = 
	`gë_löe
 (
f
, c);

596 
	`ßme_∑ø
 (
c
Ë&& 
ö_cﬁumn
 =
Ÿhî_ödít
);

599 i‡(
ègged
)

601 i‡(
	`ßme_∑ø
 (
c
Ë&& 
ö_cﬁumn
 !
fú°_ödít
)

605 
c
 = 
	`gë_löe
 (
f
, c);

607 
	`ßme_∑ø
 (
c
Ë&& 
ö_cﬁumn
 =
Ÿhî_ödít
);

612 
	`ßme_∑ø
 (
c
Ë&& 
ö_cﬁumn
 =
Ÿhî_ödít
)

613 
c
 = 
	`gë_löe
 (
f
, c);

618 
	`as£π
 (
w‹d
 < 
w‹d_limô
);

620 (
w‹d_limô
 - 1)->
≥riod
 = (w‹d_limô - 1)->
föÆ
 = 
åue
;

621 
√xt_ch¨
 = 
c
;

622  
åue
;

623 
	}
}

631 
	$c›y_ª°
 (
FILE
 *
f
, 
c
)

633 c⁄° *
s
;

635 
out_cﬁumn
 = 0;

636 i‡(
ö_cﬁumn
 > 
√xt_¥efix_ödít
 || (
c
 !'\n' && c !
EOF
))

638 
	`put_•a˚
 (
√xt_¥efix_ödít
);

639 
s
 = 
¥efix
; 
out_cﬁumn
 !
ö_cﬁumn
 && *s; out_column++)

640 
	`putch¨
 (*
s
++);

641 i‡(
c
 !
EOF
 && c != '\n')

642 
	`put_•a˚
 (
ö_cﬁumn
 - 
out_cﬁumn
);

643 i‡(
c
 =
EOF
 && 
ö_cﬁumn
 >
√xt_¥efix_ödít
 + 
¥efix_Àngth
)

644 
	`putch¨
 ('\n');

646 
c
 !'\n' && c !
EOF
)

648 
	`putch¨
 (
c
);

649 
c
 = 
	`gëc
 (
f
);

651  
c
;

652 
	}
}

658 
boﬁ


659 
	$ßme_∑ø
 (
c
)

661  (
√xt_¥efix_ödít
 =
¥efix_ödít


662 && 
ö_cﬁumn
 >
√xt_¥efix_ödít
 + 
¥efix_fuŒ_Àngth


663 && 
c
 !'\n' && c !
EOF
);

664 
	}
}

675 
	$gë_löe
 (
FILE
 *
f
, 
c
)

677 
°¨t
;

678 *
íd_of_∑øbuf
;

679 
WORD
 *
íd_of_w‹d
;

681 
íd_of_∑øbuf
 = &
∑øbuf
[
MAXCHARS
];

682 
íd_of_w‹d
 = &
w‹d
[
MAXWORDS
 - 2];

689 
w‹d_limô
->
ãxt
 = 
w±r
;

692 i‡(
w±r
 =
íd_of_∑øbuf
)

694 
	`£t_Ÿhî_ödít
 (
åue
);

695 
	`Êush_∑øgøph
 ();

697 *
w±r
++ = 
c
;

698 
c
 = 
	`gëc
 (
f
);

700 
c
 !
EOF
 && !
	`is•a˚
 (c));

701 
ö_cﬁumn
 +
w‹d_limô
->
Àngth
 = 
w±r
 - w‹d_limô->
ãxt
;

702 
	`check_pun˘u©i⁄
 (
w‹d_limô
);

706 
°¨t
 = 
ö_cﬁumn
;

707 
c
 = 
	`gë_•a˚
 (
f
, c);

708 
w‹d_limô
->
•a˚
 = 
ö_cﬁumn
 - 
°¨t
;

709 
w‹d_limô
->
föÆ
 = (
c
 =
EOF


710 || (
w‹d_limô
->
≥riod


711 && (
c
 ='\n' || 
w‹d_limô
->
•a˚
 > 1)));

712 i‡(
c
 ='\n' || c =
EOF
 || 
unif‹m
)

713 
w‹d_limô
->
•a˚
 = w‹d_limô->
föÆ
 ? 2 : 1;

714 i‡(
w‹d_limô
 =
íd_of_w‹d
)

716 
	`£t_Ÿhî_ödít
 (
åue
);

717 
	`Êush_∑øgøph
 ();

719 
w‹d_limô
++;

721 
c
 !'\n' && c !
EOF
);

722  
	`gë_¥efix
 (
f
);

723 
	}
}

729 
	$gë_¥efix
 (
FILE
 *
f
)

731 
c
;

733 
ö_cﬁumn
 = 0;

734 
c
 = 
	`gë_•a˚
 (
f
, 
	`gëc
 (f));

735 i‡(
¥efix_Àngth
 == 0)

736 
√xt_¥efix_ödít
 = 
¥efix_Àad_•a˚
 < 
ö_cﬁumn
 ?

737 
¥efix_Àad_•a˚
 : 
ö_cﬁumn
;

740 c⁄° *
p
;

741 
√xt_¥efix_ödít
 = 
ö_cﬁumn
;

742 
p
 = 
¥efix
; *p != '\0';Ö++)

744 
pc
 = *
p
;

745 i‡(
c
 !
pc
)

746  
c
;

747 
ö_cﬁumn
++;

748 
c
 = 
	`gëc
 (
f
);

750 
c
 = 
	`gë_•a˚
 (
f
, c);

752  
c
;

753 
	}
}

759 
	$gë_•a˚
 (
FILE
 *
f
, 
c
)

761 
åue
)

763 i‡(
c
 == ' ')

764 
ö_cﬁumn
++;

765 i‡(
c
 == '\t')

767 
èbs
 = 
åue
;

768 
ö_cﬁumn
 = (ö_cﬁum¿/ 
TABWIDTH
 + 1) * TABWIDTH;

771  
c
;

772 
c
 = 
	`gëc
 (
f
);

774 
	}
}

779 
	$check_pun˘u©i⁄
 (
WORD
 *
w
)

781 c⁄° *
°¨t
 = 
w
->
ãxt
;

782 c⁄° *
föish
 = 
°¨t
 + (
w
->
Àngth
 - 1);

783 
fö
 = *
föish
;

785 
w
->
∑ªn
 = 
	`is›í
 (*
°¨t
);

786 
w
->
pun˘
 = !! 
	`i•un˘
 (
fö
);

787 
°¨t
 < 
föish
 && 
	`is˛o£
 (*finish))

788 
föish
--;

789 
w
->
≥riod
 = 
	`i•îiod
 (*
föish
);

790 
	}
}

796 
	$Êush_∑øgøph
 ()

798 
WORD
 *
•lô_poöt
;

799 
WORD
 *
w
;

800 
shi·
;

801 
COST
 
be°_bªak
;

805 i‡(
w‹d_limô
 =
w‹d
)

807 
	`fwrôe
 (
∑øbuf
,  *∑øbuf, 
w±r
 -Ö¨abuf, 
°dout
);

808 
w±r
 = 
∑øbuf
;

818 
	`fmt_∑øgøph
 ();

822 
•lô_poöt
 = 
w‹d_limô
;

823 
be°_bªak
 = 
MAXCOST
;

824 
w
 = 
w‹d
->
√xt_bªak
; w !
w‹d_limô
; w = w->next_break)

826 i‡(
w
->
be°_co°
 - w->
√xt_bªak
->be°_co° < 
be°_bªak
)

828 
•lô_poöt
 = 
w
;

829 
be°_bªak
 = 
w
->
be°_co°
 - w->
√xt_bªak
->best_cost;

831 i‡(
be°_bªak
 <
MAXCOST
 - 
LINE_CREDIT
)

832 
be°_bªak
 +
LINE_CREDIT
;

834 
	`put_∑øgøph
 (
•lô_poöt
);

839 
	`memmove
 (
∑øbuf
, 
•lô_poöt
->
ãxt
, 
w±r
 - split_point->text);

840 
shi·
 = 
•lô_poöt
->
ãxt
 - 
∑øbuf
;

841 
w±r
 -
shi·
;

845 
w
 = 
•lô_poöt
; w <
w‹d_limô
; w++)

846 
w
->
ãxt
 -
shi·
;

851 
	`memmove
 (
w‹d
, 
•lô_poöt
, (
w‹d_limô
 - split_point + 1) *  *word);

852 
w‹d_limô
 -
•lô_poöt
 - 
w‹d
;

853 
	}
}

860 
	$fmt_∑øgøph
 ()

862 
WORD
 *
°¨t
, *
w
;

863 
Àn
;

864 
COST
 
wco°
, 
be°
;

865 
ßved_Àngth
;

867 
w‹d_limô
->
be°_co°
 = 0;

868 
ßved_Àngth
 = 
w‹d_limô
->
Àngth
;

869 
w‹d_limô
->
Àngth
 = 
max_width
;

871 
°¨t
 = 
w‹d_limô
 - 1; sèπ >
w‹d
; start--)

873 
be°
 = 
MAXCOST
;

874 
Àn
 = 
°¨t
 =
w‹d
 ? 
fú°_ödít
 : 
Ÿhî_ödít
;

878 
w
 = 
°¨t
;

879 
Àn
 +
w
->
Àngth
;

882 
w
++;

886 
wco°
 = 
	`löe_co°
 (
w
, 
Àn
Ë+ w->
be°_co°
;

887 i‡(
°¨t
 =
w‹d
 && 
œ°_löe_Àngth
 > 0)

888 
wco°
 +
	`RAGGED_COST
 (
Àn
 - 
œ°_löe_Àngth
);

889 i‡(
wco°
 < 
be°
)

891 
be°
 = 
wco°
;

892 
°¨t
->
√xt_bªak
 = 
w
;

893 
°¨t
->
löe_Àngth
 = 
Àn
;

900 i‡(
w
 =
w‹d_limô
)

903 
Àn
 +(
w
 - 1)->
•a˚
 + w->
Àngth
;

905 
Àn
 < 
max_width
);

906 
°¨t
->
be°_co°
 = 
be°
 + 
	`ba£_co°
 (start);

909 
w‹d_limô
->
Àngth
 = 
ßved_Àngth
;

910 
	}
}

915 
COST


916 
	$ba£_co°
 (
WORD
 *
this
)

918 
COST
 
co°
;

920 
co°
 = 
LINE_COST
;

922 i‡(
this
 > 
w‹d
)

924 i‡((
this
 - 1)->
≥riod
)

926 i‡((
this
 - 1)->
föÆ
)

927 
co°
 -
SENTENCE_BONUS
;

929 
co°
 +
NOBREAK_COST
;

931 i‡((
this
 - 1)->
pun˘
)

932 
co°
 -
PUNCT_BONUS
;

933 i‡(
this
 > 
w‹d
 + 1 && (thi†- 2)->
föÆ
)

934 
co°
 +
	`WIDOW_COST
 ((
this
 - 1)->
Àngth
);

937 i‡(
this
->
∑ªn
)

938 
co°
 -
PAREN_BONUS
;

939 i‡(
this
->
föÆ
)

940 
co°
 +
	`ORPHAN_COST
 (
this
->
Àngth
);

942  
co°
;

943 
	}
}

948 
COST


949 
	$löe_co°
 (
WORD
 *
√xt
, 
Àn
)

951 
n
;

952 
COST
 
co°
;

954 i‡(
√xt
 =
w‹d_limô
)

956 
n
 = 
gﬂl_width
 - 
Àn
;

957 
co°
 = 
	`SHORT_COST
 (
n
);

958 i‡(
√xt
->
√xt_bªak
 !
w‹d_limô
)

960 
n
 = 
Àn
 - 
√xt
->
löe_Àngth
;

961 
co°
 +
	`RAGGED_COST
 (
n
);

963  
co°
;

964 
	}
}

970 
	$put_∑øgøph
 (
WORD
 *
föish
)

972 
WORD
 *
w
;

974 
	`put_löe
 (
w‹d
, 
fú°_ödít
);

975 
w
 = 
w‹d
->
√xt_bªak
; w !
föish
; w = w->next_break)

976 
	`put_löe
 (
w
, 
Ÿhî_ödít
);

977 
	}
}

983 
	$put_löe
 (
WORD
 *
w
, 
ödít
)

985 
WORD
 *
ídlöe
;

987 
out_cﬁumn
 = 0;

988 
	`put_•a˚
 (
¥efix_ödít
);

989 
	`Âuts
 (
¥efix
, 
°dout
);

990 
out_cﬁumn
 +
¥efix_Àngth
;

991 
	`put_•a˚
 (
ödít
 - 
out_cﬁumn
);

993 
ídlöe
 = 
w
->
√xt_bªak
 - 1;

994 ; 
w
 !
ídlöe
; w++)

996 
	`put_w‹d
 (
w
);

997 
	`put_•a˚
 (
w
->
•a˚
);

999 
	`put_w‹d
 (
w
);

1000 
œ°_löe_Àngth
 = 
out_cﬁumn
;

1001 
	`putch¨
 ('\n');

1002 
	}
}

1007 
	$put_w‹d
 (
WORD
 *
w
)

1009 c⁄° *
s
;

1010 
n
;

1012 
s
 = 
w
->
ãxt
;

1013 
n
 = 
w
->
Àngth
;Ç != 0;Ç--)

1014 
	`putch¨
 (*
s
++);

1015 
out_cﬁumn
 +
w
->
Àngth
;

1016 
	}
}

1021 
	$put_•a˚
 (
•a˚
)

1023 
•a˚_èrgë
, 
èb_èrgë
;

1025 
•a˚_èrgë
 = 
out_cﬁumn
 + 
•a˚
;

1026 i‡(
èbs
)

1028 
èb_èrgë
 = 
•a˚_èrgë
 / 
TABWIDTH
 * TABWIDTH;

1029 i‡(
out_cﬁumn
 + 1 < 
èb_èrgë
)

1030 
out_cﬁumn
 < 
èb_èrgë
)

1032 
	`putch¨
 ('\t');

1033 
out_cﬁumn
 = (out_cﬁum¿/ 
TABWIDTH
 + 1) * TABWIDTH;

1036 
out_cﬁumn
 < 
•a˚_èrgë
)

1038 
	`putch¨
 (' ');

1039 
out_cﬁumn
++;

1041 
	}
}

	@fold.c

19 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<gë›t.h
>

23 
	~<sys/ty≥s.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"Ádvi£.h
"

28 
	~"quŸe.h
"

29 
	~"x°πﬁ.h
"

31 
	#TAB_WIDTH
 8

	)

34 
	#PROGRAM_NAME
 "fﬁd"

	)

36 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

39 
boﬁ
 
	gbªak_•a˚s
;

42 
boﬁ
 
	gcou¡_byãs
;

45 
boﬁ
 
	ghave_ªad_°dö
;

47 c⁄° 
	gsh‹t›ts
[] = "bsw:0::1::2::3::4::5::6::7::8::9::";

49 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

51 {"byãs", 
no_¨gumít
, 
NULL
, 'b'},

52 {"•a˚s", 
no_¨gumít
, 
NULL
, 's'},

53 {"width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

54 {
GETOPT_HELP_OPTION_DECL
},

55 {
GETOPT_VERSION_OPTION_DECL
},

56 {
NULL
, 0, NULL, 0}

60 
	$ußge
 (
°©us
)

62 i‡(
°©us
 !
EXIT_SUCCESS
)

63 
	`emô_åy_hñp
 ();

66 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

69 
¥ogøm_«me
);

70 
	`Âuts
 (
	`_
("\
 i≈uàlöe†öÉach FILE (°™d¨d i≈uàby deÁu…), wrôögÅo\n\
 ouçut.\n\
"), 
°dout
);

75 
	`emô_m™d©‹y_¨g_nŸe
 ();

77 
	`Âuts
 (
	`_
("\
-b, --byã† cou¡ byã†øthîÅh™ cﬁumns\n\
-s, --•a˚† bªakáà•a˚s\n\
-w, --width=WIDTH u£ WIDTH cﬁumn†ö°ód o‡80\n\
"), 
°dout
);

82 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

83 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

84 
	`emô_™cûœry_öfo
 ();

86 
	`exô
 (
°©us
);

87 
	}
}

93 
size_t


94 
	$adju°_cﬁumn
 (
size_t
 
cﬁumn
, 
c
)

96 i‡(!
cou¡_byãs
)

98 i‡(
c
 == '\b')

100 i‡(
cﬁumn
 > 0)

101 
cﬁumn
--;

103 i‡(
c
 == '\r')

104 
cﬁumn
 = 0;

105 i‡(
c
 == '\t')

106 
cﬁumn
 +
TAB_WIDTH
 - column % TAB_WIDTH;

108 
cﬁumn
++;

111 
cﬁumn
++;

112  
cﬁumn
;

113 
	}
}

119 
boﬁ


120 
	$fﬁd_fûe
 (c⁄° *
fûíame
, 
size_t
 
width
)

122 
FILE
 *
i°ªam
;

123 
c
;

124 
size_t
 
cﬁumn
 = 0;

125 
size_t
 
off£t_out
 = 0;

126 *
löe_out
 = 
NULL
;

127 
size_t
 
Æloˇãd_out
 = 0;

128 
ßved_î∫o
;

130 i‡(
	`STREQ
 (
fûíame
, "-"))

132 
i°ªam
 = 
°dö
;

133 
have_ªad_°dö
 = 
åue
;

136 
i°ªam
 = 
	`f›í
 (
fûíame
, "r");

138 i‡(
i°ªam
 =
NULL
)

140 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

141  
Ál£
;

144 
	`Ádvi£
 (
i°ªam
, 
FADVISE_SEQUENTIAL
);

146 (
c
 = 
	`gëc
 (
i°ªam
)Ë!
EOF
)

148 i‡(
off£t_out
 + 1 >
Æloˇãd_out
)

149 
löe_out
 = 
	`X2REALLOC
 (löe_out, &
Æloˇãd_out
);

151 i‡(
c
 == '\n')

153 
löe_out
[
off£t_out
++] = 
c
;

154 
	`fwrôe
 (
löe_out
,  (), 
off£t_out
, 
°dout
);

155 
cﬁumn
 = 
off£t_out
 = 0;

159 
ªsˇn
:

160 
cﬁumn
 = 
	`adju°_cﬁumn
 (cﬁumn, 
c
);

162 i‡(
cﬁumn
 > 
width
)

167 i‡(
bªak_•a˚s
)

169 
boﬁ
 
found_bœnk
 = 
Ál£
;

170 
size_t
 
logiˇl_íd
 = 
off£t_out
;

173 
logiˇl_íd
)

175 --
logiˇl_íd
;

176 i‡(
	`isbœnk
 (
	`to_uch¨
 (
löe_out
[
logiˇl_íd
])))

178 
found_bœnk
 = 
åue
;

183 i‡(
found_bœnk
)

185 
size_t
 
i
;

188 
logiˇl_íd
++;

189 
	`fwrôe
 (
löe_out
,  (), (
size_t
Ë
logiˇl_íd
,

190 
°dout
);

191 
	`putch¨
 ('\n');

194 
	`memmove
 (
löe_out
,Üöe_ouà+ 
logiˇl_íd
,

195 
off£t_out
 - 
logiˇl_íd
);

196 
off£t_out
 -
logiˇl_íd
;

197 
cﬁumn
 = 
i
 = 0; i < 
off£t_out
; i++)

198 
cﬁumn
 = 
	`adju°_cﬁumn
 (cﬁumn, 
löe_out
[
i
]);

199 
ªsˇn
;

203 i‡(
off£t_out
 == 0)

205 
löe_out
[
off£t_out
++] = 
c
;

209 
löe_out
[
off£t_out
++] = '\n';

210 
	`fwrôe
 (
löe_out
,  (), (
size_t
Ë
off£t_out
, 
°dout
);

211 
cﬁumn
 = 
off£t_out
 = 0;

212 
ªsˇn
;

215 
löe_out
[
off£t_out
++] = 
c
;

218 
ßved_î∫o
 = 
î∫o
;

220 i‡(
off£t_out
)

221 
	`fwrôe
 (
löe_out
,  (), (
size_t
Ë
off£t_out
, 
°dout
);

223 i‡(
	`„º‹
 (
i°ªam
))

225 
	`îr‹
 (0, 
ßved_î∫o
, "%s", 
fûíame
);

226 i‡(!
	`STREQ
 (
fûíame
, "-"))

227 
	`f˛o£
 (
i°ªam
);

228  
Ál£
;

230 i‡(!
	`STREQ
 (
fûíame
, "-"Ë&& 
	`f˛o£
 (
i°ªam
Ë=
EOF
)

232 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

233  
Ál£
;

236  
åue
;

237 
	}
}

240 
	$maö
 (
¨gc
, **
¨gv
)

242 
size_t
 
width
 = 80;

243 
i
;

244 
›tc
;

245 
boﬁ
 
ok
;

247 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

248 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

249 
	`£éoˇÀ
 (
LC_ALL
, "");

250 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

251 
	`ãxtdomaö
 (
PACKAGE
);

253 
	`©exô
 (
˛o£_°dout
);

255 
bªak_•a˚s
 = 
cou¡_byãs
 = 
have_ªad_°dö
 = 
Ál£
;

257 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t›ts
, 
l⁄g›ts
, 
NULL
)) != -1)

259 
›èrgbuf
[2];

261 
›tc
)

264 
cou¡_byãs
 = 
åue
;

268 
bªak_•a˚s
 = 
åue
;

273 i‡(
›èrg
)

274 
›èrg
--;

277 
›èrgbuf
[0] = 
›tc
;

278 
›èrgbuf
[1] = '\0';

279 
›èrg
 = 
›èrgbuf
;

284 
tmp_ul⁄g
;

285 i‡(! (
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
tmp_ul⁄g
, ""Ë=
LONGINT_OK


286 && 0 < 
tmp_ul⁄g
 &&Åmp_ul⁄g < 
SIZE_MAX
 - 
TAB_WIDTH
))

287 
	`îr‹
 (
EXIT_FAILURE
, 0,

288 
	`_
("övÆidÇumbî o‡cﬁumns: %s"), 
	`quŸe
 (
›èrg
));

289 
width
 = 
tmp_ul⁄g
;

293 
ˇ£_GETOPT_HELP_CHAR
;

295 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

298 
	`ußge
 (
EXIT_FAILURE
);

302 i‡(
¨gc
 =
›töd
)

303 
ok
 = 
	`fﬁd_fûe
 ("-", 
width
);

306 
ok
 = 
åue
;

307 
i
 = 
›töd
; i < 
¨gc
; i++)

308 
ok
 &
	`fﬁd_fûe
 (
¨gv
[
i
], 
width
);

311 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

312 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

314 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

315 
	}
}

	@fs-is-local.h

4 
ölöe
 

5 
	$is_loˇl_fs_ty≥
 (
magic
)

7 
magic
)

9 
S_MAGIC_ADFS
:  1;

10 
S_MAGIC_AFFS
:  1;

11 
S_MAGIC_AFS
:  0;

12 
S_MAGIC_ANON_INODE_FS
:  1;

13 
S_MAGIC_AUFS
:  0;

14 
S_MAGIC_AUTOFS
:  1;

15 
S_MAGIC_BEFS
:  1;

16 
S_MAGIC_BDEVFS
:  1;

17 
S_MAGIC_BFS
:  1;

18 
S_MAGIC_BINFMTFS
:  1;

19 
S_MAGIC_BTRFS
:  1;

20 
S_MAGIC_CEPH
:  0;

21 
S_MAGIC_CGROUP
:  1;

22 
S_MAGIC_CIFS
:  0;

23 
S_MAGIC_CODA
:  0;

24 
S_MAGIC_COH
:  1;

25 
S_MAGIC_CRAMFS
:  1;

26 
S_MAGIC_CRAMFS_WEND
:  1;

27 
S_MAGIC_DEBUGFS
:  1;

28 
S_MAGIC_DEVFS
:  1;

29 
S_MAGIC_DEVPTS
:  1;

30 
S_MAGIC_ECRYPTFS
:  1;

31 
S_MAGIC_EFS
:  1;

32 
S_MAGIC_EXT
:  1;

33 
S_MAGIC_EXT2
:  1;

34 
S_MAGIC_EXT2_OLD
:  1;

35 
S_MAGIC_FAT
:  1;

36 
S_MAGIC_FHGFS
:  0;

37 
S_MAGIC_FUSEBLK
:  0;

38 
S_MAGIC_FUSECTL
:  0;

39 
S_MAGIC_FUTEXFS
:  1;

40 
S_MAGIC_GFS
:  0;

41 
S_MAGIC_GPFS
:  0;

42 
S_MAGIC_HFS
:  1;

43 
S_MAGIC_HPFS
:  1;

44 
S_MAGIC_HUGETLBFS
:  1;

45 
S_MAGIC_MTD_INODE_FS
:  1;

46 
S_MAGIC_INOTIFYFS
:  1;

47 
S_MAGIC_ISOFS
:  1;

48 
S_MAGIC_ISOFS_R_WIN
:  1;

49 
S_MAGIC_ISOFS_WIN
:  1;

50 
S_MAGIC_JFFS
:  1;

51 
S_MAGIC_JFFS2
:  1;

52 
S_MAGIC_JFS
:  1;

53 
S_MAGIC_KAFS
:  0;

54 
S_MAGIC_LUSTRE
:  0;

55 
S_MAGIC_MINIX
:  1;

56 
S_MAGIC_MINIX_30
:  1;

57 
S_MAGIC_MINIX_V2
:  1;

58 
S_MAGIC_MINIX_V2_30
:  1;

59 
S_MAGIC_MINIX_V3
:  1;

60 
S_MAGIC_MQUEUE
:  1;

61 
S_MAGIC_MSDOS
:  1;

62 
S_MAGIC_NCP
:  0;

63 
S_MAGIC_NFS
:  0;

64 
S_MAGIC_NFSD
:  0;

65 
S_MAGIC_NILFS
:  1;

66 
S_MAGIC_NTFS
:  1;

67 
S_MAGIC_OPENPROM
:  1;

68 
S_MAGIC_OCFS2
:  0;

69 
S_MAGIC_PANFS
:  0;

70 
S_MAGIC_PIPEFS
:  0;

71 
S_MAGIC_PROC
:  1;

72 
S_MAGIC_PSTOREFS
:  1;

73 
S_MAGIC_QNX4
:  1;

74 
S_MAGIC_QNX6
:  1;

75 
S_MAGIC_RAMFS
:  1;

76 
S_MAGIC_REISERFS
:  1;

77 
S_MAGIC_ROMFS
:  1;

78 
S_MAGIC_RPC_PIPEFS
:  1;

79 
S_MAGIC_SECURITYFS
:  1;

80 
S_MAGIC_SELINUX
:  1;

81 
S_MAGIC_SMB
:  0;

82 
S_MAGIC_SOCKFS
:  1;

83 
S_MAGIC_SQUASHFS
:  1;

84 
S_MAGIC_SYSFS
:  1;

85 
S_MAGIC_SYSV2
:  1;

86 
S_MAGIC_SYSV4
:  1;

87 
S_MAGIC_TMPFS
:  1;

88 
S_MAGIC_UDF
:  1;

89 
S_MAGIC_UFS
:  1;

90 
S_MAGIC_UFS_BYTESWAPPED
:  1;

91 
S_MAGIC_USBDEVFS
:  1;

92 
S_MAGIC_V9FS
:  1;

93 
S_MAGIC_VMHGFS
:  0;

94 
S_MAGIC_VXFS
:  1;

95 
S_MAGIC_VZFS
:  1;

96 
S_MAGIC_XENFS
:  1;

97 
S_MAGIC_XENIX
:  1;

98 
S_MAGIC_XFS
:  1;

99 
S_MAGIC_XIAFS
:  1;

100 
S_MAGIC_ZFS
:  1;

103 
	}
}

	@fs.h

5 #i‡
deföed
 
__löux__


6 
	#S_MAGIC_ADFS
 0xADF5

	)

7 
	#S_MAGIC_AFFS
 0xADFF

	)

8 
	#S_MAGIC_AFS
 0x5346414F

	)

9 
	#S_MAGIC_ANON_INODE_FS
 0x09041934

	)

10 
	#S_MAGIC_AUFS
 0x61756673

	)

11 
	#S_MAGIC_AUTOFS
 0x0187

	)

12 
	#S_MAGIC_BEFS
 0x42465331

	)

13 
	#S_MAGIC_BDEVFS
 0x62646576

	)

14 
	#S_MAGIC_BFS
 0x1BADFACE

	)

15 
	#S_MAGIC_BINFMTFS
 0x42494E4D

	)

16 
	#S_MAGIC_BTRFS
 0x9123683E

	)

17 
	#S_MAGIC_CEPH
 0x00C36400

	)

18 
	#S_MAGIC_CGROUP
 0x0027E0EB

	)

19 
	#S_MAGIC_CIFS
 0xFF534D42

	)

20 
	#S_MAGIC_CODA
 0x73757245

	)

21 
	#S_MAGIC_COH
 0x012FF7B7

	)

22 
	#S_MAGIC_CRAMFS
 0x28CD3D45

	)

23 
	#S_MAGIC_CRAMFS_WEND
 0x453DCD28

	)

24 
	#S_MAGIC_DEBUGFS
 0x64626720

	)

25 
	#S_MAGIC_DEVFS
 0x1373

	)

26 
	#S_MAGIC_DEVPTS
 0x1CD1

	)

27 
	#S_MAGIC_ECRYPTFS
 0xF15F

	)

28 
	#S_MAGIC_EFS
 0x00414A53

	)

29 
	#S_MAGIC_EXT
 0x137D

	)

30 
	#S_MAGIC_EXT2
 0xEF53

	)

31 
	#S_MAGIC_EXT2_OLD
 0xEF51

	)

32 
	#S_MAGIC_FAT
 0x4006

	)

33 
	#S_MAGIC_FHGFS
 0x19830326

	)

34 
	#S_MAGIC_FUSEBLK
 0x65735546

	)

35 
	#S_MAGIC_FUSECTL
 0x65735543

	)

36 
	#S_MAGIC_FUTEXFS
 0x0BAD1DEA

	)

37 
	#S_MAGIC_GFS
 0x1161970

	)

38 
	#S_MAGIC_GPFS
 0x47504653

	)

39 
	#S_MAGIC_HFS
 0x4244

	)

40 
	#S_MAGIC_HPFS
 0xF995E849

	)

41 
	#S_MAGIC_HUGETLBFS
 0x958458F6

	)

42 
	#S_MAGIC_MTD_INODE_FS
 0x11307854

	)

43 
	#S_MAGIC_INOTIFYFS
 0x2BAD1DEA

	)

44 
	#S_MAGIC_ISOFS
 0x9660

	)

45 
	#S_MAGIC_ISOFS_R_WIN
 0x4004

	)

46 
	#S_MAGIC_ISOFS_WIN
 0x4000

	)

47 
	#S_MAGIC_JFFS
 0x07C0

	)

48 
	#S_MAGIC_JFFS2
 0x72B6

	)

49 
	#S_MAGIC_JFS
 0x3153464A

	)

50 
	#S_MAGIC_KAFS
 0x6B414653

	)

51 
	#S_MAGIC_LUSTRE
 0x0BD00BD0

	)

52 
	#S_MAGIC_MINIX
 0x137F

	)

53 
	#S_MAGIC_MINIX_30
 0x138F

	)

54 
	#S_MAGIC_MINIX_V2
 0x2468

	)

55 
	#S_MAGIC_MINIX_V2_30
 0x2478

	)

56 
	#S_MAGIC_MINIX_V3
 0x4D5A

	)

57 
	#S_MAGIC_MQUEUE
 0x19800202

	)

58 
	#S_MAGIC_MSDOS
 0x4D44

	)

59 
	#S_MAGIC_NCP
 0x564C

	)

60 
	#S_MAGIC_NFS
 0x6969

	)

61 
	#S_MAGIC_NFSD
 0x6E667364

	)

62 
	#S_MAGIC_NILFS
 0x3434

	)

63 
	#S_MAGIC_NTFS
 0x5346544E

	)

64 
	#S_MAGIC_OPENPROM
 0x9FA1

	)

65 
	#S_MAGIC_OCFS2
 0x7461636f

	)

66 
	#S_MAGIC_PANFS
 0xAAD7AAEA

	)

67 
	#S_MAGIC_PIPEFS
 0x50495045

	)

68 
	#S_MAGIC_PROC
 0x9FA0

	)

69 
	#S_MAGIC_PSTOREFS
 0x6165676C

	)

70 
	#S_MAGIC_QNX4
 0x002F

	)

71 
	#S_MAGIC_QNX6
 0x68191122

	)

72 
	#S_MAGIC_RAMFS
 0x858458F6

	)

73 
	#S_MAGIC_REISERFS
 0x52654973

	)

74 
	#S_MAGIC_ROMFS
 0x7275

	)

75 
	#S_MAGIC_RPC_PIPEFS
 0x67596969

	)

76 
	#S_MAGIC_SECURITYFS
 0x73636673

	)

77 
	#S_MAGIC_SELINUX
 0xF97CFF8C

	)

78 
	#S_MAGIC_SMB
 0x517B

	)

79 
	#S_MAGIC_SOCKFS
 0x534F434B

	)

80 
	#S_MAGIC_SQUASHFS
 0x73717368

	)

81 
	#S_MAGIC_SYSFS
 0x62656572

	)

82 
	#S_MAGIC_SYSV2
 0x012FF7B6

	)

83 
	#S_MAGIC_SYSV4
 0x012FF7B5

	)

84 
	#S_MAGIC_TMPFS
 0x01021994

	)

85 
	#S_MAGIC_UDF
 0x15013346

	)

86 
	#S_MAGIC_UFS
 0x00011954

	)

87 
	#S_MAGIC_UFS_BYTESWAPPED
 0x54190100

	)

88 
	#S_MAGIC_USBDEVFS
 0x9FA2

	)

89 
	#S_MAGIC_V9FS
 0x01021997

	)

90 
	#S_MAGIC_VMHGFS
 0xBACBACBC

	)

91 
	#S_MAGIC_VXFS
 0xA501FCF5

	)

92 
	#S_MAGIC_VZFS
 0x565A4653

	)

93 
	#S_MAGIC_XENFS
 0xABBA1974

	)

94 
	#S_MAGIC_XENIX
 0x012FF7B4

	)

95 
	#S_MAGIC_XFS
 0x58465342

	)

96 
	#S_MAGIC_XIAFS
 0x012FD16D

	)

97 
	#S_MAGIC_ZFS
 0x2FC12FC1

	)

98 #ñi‡
deföed
 
__GNU__


99 
	~<hurd/hurd_ty≥s.h
>

	@getlimits.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<Êﬂt.h
>

24 
	~"sy°em.h
"

25 
	~"l⁄g-›ti⁄s.h
"

27 
	#PROGRAM_NAME
 "gëlimôs"

	)

29 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("Padøig Bødy", "P\303\241døig Bødy")

	)

31 #i‚de‡
TIME_T_MAX


32 
	#TIME_T_MAX
 
	`TYPE_MAXIMUM
 (
time_t
)

	)

35 #i‚de‡
TIME_T_MIN


36 
	#TIME_T_MIN
 
	`TYPE_MINIMUM
 (
time_t
)

	)

39 #i‚de‡
SSIZE_MIN


40 
	#SSIZE_MIN
 
	`TYPE_MINIMUM
 (
ssize_t
)

	)

43 #i‚de‡
PID_T_MIN


44 
	#PID_T_MIN
 
	`TYPE_MINIMUM
 (
pid_t
)

	)

50 
	#SIZE_MIN
 0

	)

51 
	#UCHAR_MIN
 0

	)

52 
	#UINT_MIN
 0

	)

53 
	#ULONG_MIN
 0

	)

54 
	#UINTMAX_MIN
 0

	)

55 
	#UID_T_MIN
 0

	)

56 
	#GID_T_MIN
 0

	)

59 
	$ußge
 (
°©us
)

61 i‡(
°©us
 !
EXIT_SUCCESS
)

62 
	`emô_åy_hñp
 ();

65 
	`¥ötf
 (
	`_
("\
: %s\n\
"), 
¥ogøm_«me
);

69 
	`Âuts
 (
	`_
("\
Öœtf‹m dïídíàlimô†öá f‹m© u£fu»f‹ shñ»s¸ùts.\n\
\n\
"), 
°dout
);

73 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

74 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

75 
	`emô_™cûœry_öfo
 ();

77 
	`exô
 (
°©us
);

78 
	}
}

85 
	$decimÆ_absvÆ_add_⁄e
 (*
buf
)

87 
boﬁ
 
√g©ive
 = (
buf
[1] == '-');

88 *
ab¢um
 = 
buf
 + 1 + 
√g©ive
;

89 *
p
 = 
ab¢um
 + 
	`°æí
 (absnum);

90 
ab¢um
[-1] = '0';

91 *--
p
 == '9')

92 *
p
 = '0';

93 ++*
p
;

94 *
ªsu…
 = 
	`MIN
 (
ab¢um
, 
p
);

95 i‡(
√g©ive
)

96 *--
ªsu…
 = '-';

97  
ªsu…
;

98 
	}
}

101 
	$maö
 (
¨gc
, **
¨gv
)

103 
limô
[1 + 
	`MAX
 (
	`INT_BUFSIZE_BOUND
 (
ötmax_t
),

104 
	`INT_BUFSIZE_BOUND
 (
uötmax_t
))];

106 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

107 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

108 
	`£éoˇÀ
 (
LC_ALL
, "");

109 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

110 
	`ãxtdomaö
 (
PACKAGE
);

112 
	`öôülize_exô_Áûuª
 (
EXIT_FAILURE
);

113 
	`©exô
 (
˛o£_°dout
);

115 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
VERSION
,

116 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

118 
	#¥öt_öt
(
TYPE
) \

119 
	`•rötf
 (
limô
 + 1, "%"
PRIuMAX
, (
uötmax_t
Ë
TYPE
##
_MAX
); \

120 
	`¥ötf
 (#TYPE"_MAX=%s\n", 
limô
 + 1); \

121 
	`¥ötf
 (#TYPE"_OFLOW=%s\n", 
	`decimÆ_absvÆ_add_⁄e
 (
limô
)); \

122 i‡(
TYPE
##
_MIN
) \

124 
	`•rötf
 (
limô
 + 1, "%"
PRIdMAX
, (
ötmax_t
Ë
TYPE
##
_MIN
); \

125 
	`¥ötf
 (#TYPE"_MIN=%s\n", 
limô
 + 1); \

126 
	`¥ötf
 (#TYPE"_UFLOW=%s\n", 
	`decimÆ_absvÆ_add_⁄e
 (
limô
)); \

127 }

	)

129 
	#¥öt_Êﬂt
(
TYPE
) \

130 
	`¥ötf
 (#TYPE"_MIN=%Le\n", ()
TYPE
##
_MIN
); \

131 
	`¥ötf
 (#TYPE"_MAX=%Le\n", ()
TYPE
##
_MAX
);

	)

134 
	`¥öt_öt
 (
CHAR
);

135 
	`¥öt_öt
 (
SCHAR
);

136 
	`¥öt_öt
 (
UCHAR
);

137 
	`¥öt_öt
 (
SHRT
);

138 
	`¥öt_öt
 (
INT
);

139 
	`¥öt_öt
 (
UINT
);

140 
	`¥öt_öt
 (
LONG
);

141 
	`¥öt_öt
 (
ULONG
);

142 
	`¥öt_öt
 (
SIZE
);

143 
	`¥öt_öt
 (
SSIZE
);

144 
	`¥öt_öt
 (
TIME_T
);

145 
	`¥öt_öt
 (
UID_T
);

146 
	`¥öt_öt
 (
GID_T
);

147 
	`¥öt_öt
 (
PID_T
);

148 
	`¥öt_öt
 (
OFF_T
);

149 
	`¥öt_öt
 (
INTMAX
);

150 
	`¥öt_öt
 (
UINTMAX
);

153 
	`¥öt_Êﬂt
 (
FLT
);

154 
	`¥öt_Êﬂt
 (
DBL
);

155 
	`¥öt_Êﬂt
 (
LDBL
);

156 
	}
}

	@group-list.c

21 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<pwd.h
>

25 
	~<gΩ.h
>

27 
	~"sy°em.h
"

28 
	~"îr‹.h
"

29 
	~"mgëgroups.h
"

30 
	~"quŸe.h
"

31 
	~"group-li°.h
"

35 
boﬁ


36 
	$¥öt_group_li°
 (c⁄° *
u£∫ame
,

37 
uid_t
 
ruid
, 
gid_t
 
rgid
, gid_à
egid
,

38 
boﬁ
 
u£_«mes
)

40 
boﬁ
 
ok
 = 
åue
;

41 
∑sswd
 *
pwd
 = 
NULL
;

43 i‡(
u£∫ame
)

45 
pwd
 = 
	`gëpwuid
 (
ruid
);

46 i‡(
pwd
 =
NULL
)

47 
ok
 = 
Ál£
;

50 i‡(!
	`¥öt_group
 (
rgid
, 
u£_«mes
))

51 
ok
 = 
Ál£
;

53 i‡(
egid
 !
rgid
)

55 
	`putch¨
 (' ');

56 i‡(!
	`¥öt_group
 (
egid
, 
u£_«mes
))

57 
ok
 = 
Ál£
;

61 
gid_t
 *
groups
;

62 
i
;

64 
n_groups
 = 
	`xgëgroups
 (
u£∫ame
, (
pwd
 ?Öwd->
pw_gid
 : 
egid
), &
groups
);

65 i‡(
n_groups
 < 0)

67 i‡(
u£∫ame
)

69 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get groups for user %s"),

70 
	`quŸe
 (
u£∫ame
));

74 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get groups forÅhe currentÖrocess"));

76  
Ál£
;

79 
i
 = 0; i < 
n_groups
; i++)

80 i‡(
groups
[
i
] !
rgid
 && groups[i] !
egid
)

82 
	`putch¨
 (' ');

83 i‡(!
	`¥öt_group
 (
groups
[
i
], 
u£_«mes
))

84 
ok
 = 
Ál£
;

86 
	`‰ì
 (
groups
);

88  
ok
;

89 
	}
}

95 
	$gidto°r_±r
 (
gid_t
 c⁄° *
gid
)

97 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

98  
	`umaxto°r
 (*
gid
, 
buf
);

99 
	}
}

100 
	#gidto°r
(
g
Ë
	`gidto°r_±r
 (&(g))

	)

103 
boﬁ


104 
	$¥öt_group
 (
gid_t
 
gid
, 
boﬁ
 
u£_«me
)

106 
group
 *
gΩ
 = 
NULL
;

107 
boﬁ
 
ok
 = 
åue
;

109 i‡(
u£_«me
)

111 
gΩ
 = 
	`gëgrgid
 (
gid
);

112 i‡(
gΩ
 =
NULL
)

114 
	`îr‹
 (0, 0, 
	`_
("cannot findÇame for group ID %lu"),

115 (Ë
gid
);

116 
ok
 = 
Ál£
;

120 *
s
 = 
gΩ
 ? gΩ->
gr_«me
 : 
	`gidto°r
 (
gid
);

121 
	`Âuts
 (
s
, 
°dout
);

122  
ok
;

123 
	}
}

	@group-list.h

18 
boﬁ
 
¥öt_group
 (
gid_t
, bool);

19 
boﬁ
 
¥öt_group_li°
 (c⁄° *, 
uid_t
, 
gid_t
, gid_t, bool);

	@groups.c

20 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<pwd.h
>

24 
	~<gΩ.h
>

25 
	~<gë›t.h
>

27 
	~"sy°em.h
"

28 
	~"îr‹.h
"

29 
	~"group-li°.h
"

32 
	#PROGRAM_NAME
 "groups"

	)

34 
	#AUTHORS
 \

35 
	`¥›î_«me
 ("David MacKenzie"), \

36 
	`¥›î_«me
 ("Jame†Youngm™")

	)

39 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

41 {
GETOPT_HELP_OPTION_DECL
},

42 {
GETOPT_VERSION_OPTION_DECL
},

43 {
NULL
, 0, NULL, 0}

47 
	$ußge
 (
°©us
)

49 i‡(
°©us
 !
EXIT_SUCCESS
)

50 
	`emô_åy_hñp
 ();

53 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [USERNAME]...\n"), 
¥ogøm_«me
);

54 
	`Âuts
 (
	`_
("\
 group memberships forÉach USERNAME or, ifÇo USERNAME is specified, for\
\n\
 currentÖrocess (which may differ ifÅhe groups database has changed).\n"),

58 
°dout
);

59 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

60 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

61 
	`emô_™cûœry_öfo
 ();

63 
	`exô
 (
°©us
);

64 
	}
}

67 
	$maö
 (
¨gc
, **
¨gv
)

69 
›tc
;

70 
boﬁ
 
ok
 = 
åue
;

71 
gid_t
 
rgid
, 
egid
;

72 
uid_t
 
ruid
;

74 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

75 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

76 
	`£éoˇÀ
 (
LC_ALL
, "");

77 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

78 
	`ãxtdomaö
 (
PACKAGE
);

80 
	`©exô
 (
˛o£_°dout
);

85 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
l⁄g›ts
, 
NULL
)) != -1)

87 
›tc
)

89 
ˇ£_GETOPT_HELP_CHAR
;

90 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

92 
	`ußge
 (
EXIT_FAILURE
);

96 i‡(
›töd
 =
¨gc
)

99 
uid_t
 
NO_UID
 = -1;

100 
gid_t
 
NO_GID
 = -1;

102 
î∫o
 = 0;

103 
ruid
 = 
	`gëuid
 ();

104 i‡(
ruid
 =
NO_UID
 && 
î∫o
)

105 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÑeal UID"));

107 
î∫o
 = 0;

108 
egid
 = 
	`gëegid
 ();

109 i‡(
egid
 =
NO_GID
 && 
î∫o
)

110 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÉffective GID"));

112 
î∫o
 = 0;

113 
rgid
 = 
	`gëgid
 ();

114 i‡(
rgid
 =
NO_GID
 && 
î∫o
)

115 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÑeal GID"));

117 i‡(!
	`¥öt_group_li°
 (
NULL
, 
ruid
, 
rgid
, 
egid
, 
åue
))

118 
ok
 = 
Ál£
;

119 
	`putch¨
 ('\n');

124 
›töd
 < 
¨gc
)

126 
∑sswd
 *
pwd
 = 
	`gëpw«m
 (
¨gv
[
›töd
]);

127 i‡(
pwd
 =
NULL
)

128 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s:Çÿsuch u£r"), 
¨gv
[
›töd
]);

129 
ruid
 = 
pwd
->
pw_uid
;

130 
rgid
 = 
egid
 = 
pwd
->
pw_gid
;

132 
	`¥ötf
 ("%†: ", 
¨gv
[
›töd
]);

133 i‡(!
	`¥öt_group_li°
 (
¨gv
[
›töd
++], 
ruid
, 
rgid
, 
egid
, 
åue
))

134 
ok
 = 
Ál£
;

135 
	`putch¨
 ('\n');

139 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

140 
	}
}

	@head.c

26 
	~<c⁄fig.h
>

28 
	~<°dio.h
>

29 
	~<gë›t.h
>

30 
	~<sys/ty≥s.h
>

32 
	~"sy°em.h
"

34 
	~"îr‹.h
"

35 
	~"fuŒ-ªad.h
"

36 
	~"quŸe.h
"

37 
	~"ß„-ªad.h
"

38 
	~"x‰e›í.h
"

39 
	~"x°πﬁ.h
"

42 
	#PROGRAM_NAME
 "hód"

	)

44 
	#AUTHORS
 \

45 
	`¥›î_«me
 ("David MacKenzie"), \

46 
	`¥›î_«me
 ("Jim Meyîög")

	)

49 
	#DEFAULT_NUMBER
 10

	)

55 
boﬁ
 
	g¥esume_öput_pùe
;

58 
boﬁ
 
	g¥öt_hódîs
;

61 
	ehódî_mode


63 
	mmu…ùÀ_fûes
, 
	mÆways
, 
	m√vî


67 
boﬁ
 
	ghave_ªad_°dö
;

69 
	eC›y_fd_°©us


71 
	mCOPY_FD_OK
 = 0,

72 
	mCOPY_FD_READ_ERROR
,

73 
	mCOPY_FD_WRITE_ERROR
,

74 
	mCOPY_FD_UNEXPECTED_EOF


81 
	mPRESUME_INPUT_PIPE_OPTION
 = 
CHAR_MAX
 + 1

84 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

86 {"byãs", 
ªquúed_¨gumít
, 
NULL
, 'c'},

87 {"löes", 
ªquúed_¨gumít
, 
NULL
, 'n'},

88 {"-¥esume-öput-pùe", 
no_¨gumít
, 
NULL
,

89 
PRESUME_INPUT_PIPE_OPTION
},

90 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

91 {"sûít", 
no_¨gumít
, 
NULL
, 'q'},

92 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

93 {
GETOPT_HELP_OPTION_DECL
},

94 {
GETOPT_VERSION_OPTION_DECL
},

95 {
NULL
, 0, NULL, 0}

99 
	$ußge
 (
°©us
)

101 i‡(
°©us
 !
EXIT_SUCCESS
)

102 
	`emô_åy_hñp
 ();

105 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

108 
¥ogøm_«me
);

109 
	`Âuts
 (
	`_
("\
Åhêfú° 10Üöe†o‡óch FILEÅÿ°™d¨d ouçut.\n\
 m‹êth™ o√ FILE,Öª˚dêóch wôhá hódî givögÅhêfûê«me.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

115 
	`emô_m™d©‹y_¨g_nŸe
 ();

117 
	`Âuts
 (
	`_
("\
-c, --byãs=[-]KÖröàthêfú° K byã†o‡óch fûe;\n\
ÅhêÀadög '-',ÖröàÆ»buàthêœ°\n\
 byã†o‡óch fûe\n\
-n, --löes=[-]KÖröàthêfú° KÜöe†ö°ód o‡thêfú° 10;\n\
ÅhêÀadög '-',ÖröàÆ»buàthêœ°\n\
Üöe†o‡óch fûe\n\
"), 
°dout
);

125 
	`Âuts
 (
	`_
("\
-q, --quõt, --sûíàÇevîÖröàhódî†givög fûê«mes\n\
-v, --vîbo£álway†¥öàhódî†givög fûê«mes\n\
"), 
°dout
);

129 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

130 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

131 
	`Âuts
 (
	`_
("\
\n\
 may havê®mu…ùlõ∏suffix:\n\
 512, kB 1000, K 1024, MB 1000*1000, M 1024*1024,\n\
 1000*1000*1000, G 1024*1024*1024,ánd sÿ⁄ f‹ T, P, E, Z, Y.\n\
"), 
°dout
);

137 
	`emô_™cûœry_öfo
 ();

139 
	`exô
 (
°©us
);

140 
	}
}

143 
	$dügno£_c›y_fd_Áûuª
 (
C›y_fd_°©us
 
îr
, c⁄° *
fûíame
)

145 
îr
)

147 
COPY_FD_READ_ERROR
:

148 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

150 
COPY_FD_WRITE_ERROR
:

151 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹ wrôög %s"), 
	`quŸe
 (
fûíame
));

153 
COPY_FD_UNEXPECTED_EOF
:

154 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: fûêha†shrunkÅoÿmuch"), 
	`quŸe
 (
fûíame
));

157 
	`ab‹t
 ();

159 
	}
}

162 
	$wrôe_hódî
 (c⁄° *
fûíame
)

164 
boﬁ
 
fú°_fûe
 = 
åue
;

166 
	`¥ötf
 ("%s==> %†<==\n", (
fú°_fûe
 ? "" : "\n"), 
fûíame
);

167 
fú°_fûe
 = 
Ál£
;

168 
	}
}

173 
C›y_fd_°©us


174 
	$c›y_fd
 (
§c_fd
, 
FILE
 *
o_°ªam
, 
uötmax_t
 
n_byãs
)

176 
buf
[
BUFSIZ
];

177 c⁄° 
size_t
 
buf_size
 =  (
buf
);

180 0 < 
n_byãs
)

182 
size_t
 
n_to_ªad
 = 
	`MIN
 (
buf_size
, 
n_byãs
);

183 
size_t
 
n_ªad
 = 
	`ß„_ªad
 (
§c_fd
, 
buf
, 
n_to_ªad
);

184 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

185  
COPY_FD_READ_ERROR
;

187 
n_byãs
 -
n_ªad
;

189 i‡(
n_ªad
 =0 && 
n_byãs
 != 0)

190  
COPY_FD_UNEXPECTED_EOF
;

192 i‡(
	`fwrôe
 (
buf
, 1, 
n_ªad
, 
o_°ªam
) <Ç_read)

193  
COPY_FD_WRITE_ERROR
;

196  
COPY_FD_OK
;

197 
	}
}

202 
boﬁ


203 
	$ñide_èû_byãs_pùe
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_ñide_0
)

205 
size_t
 
n_ñide
 = 
n_ñide_0
;

207 #i‚de‡
HEAD_TAIL_PIPE_READ_BUFSIZE


208 
	#HEAD_TAIL_PIPE_READ_BUFSIZE
 
BUFSIZ


	)

210 
	#READ_BUFSIZE
 
HEAD_TAIL_PIPE_READ_BUFSIZE


	)

216 #i‚de‡
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD


217 
	#HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
 1024 * 1024

	)

220 #i‡
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
 < 2 * 
READ_BUFSIZE


224 i‡(
SIZE_MAX
 < 
n_ñide_0
 + 
READ_BUFSIZE
)

226 
umax_buf
[
	`INT_BUFSIZE_BOUND
 (
n_ñide_0
)];

227 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s:Çumber of bytes isÅooÜarge"),

228 
	`umaxto°r
 (
n_ñide_0
, 
umax_buf
));

242 i‡(
n_ñide
 <
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
)

244 
boﬁ
 
ok
 = 
åue
;

245 
boﬁ
 
fú°
 = 
åue
;

246 
boﬁ
 
eof
 = 
Ál£
;

247 
size_t
 
n_to_ªad
 = 
READ_BUFSIZE
 + 
n_ñide
;

248 
boﬁ
 
i
;

249 *
b
[2];

250 
b
[0] = 
	`xnmÆloc
 (2, 
n_to_ªad
);

251 
b
[1] = b[0] + 
n_to_ªad
;

253 
i
 = 
Ál£
; ! 
eof
 ; i = !i)

255 
size_t
 
n_ªad
 = 
	`fuŒ_ªad
 (
fd
, 
b
[
i
], 
n_to_ªad
);

256 
size_t
 
dñè
 = 0;

257 i‡(
n_ªad
 < 
n_to_ªad
)

259 i‡(
î∫o
 != 0)

261 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

262 
ok
 = 
Ál£
;

267 i‡(
n_ªad
 <
n_ñide
)

269 i‡(
fú°
)

277 
dñè
 = 
n_ñide
 - 
n_ªad
;

280 
eof
 = 
åue
;

285 i‡–! 
fú°
)

290 
	`fwrôe
 (
b
[!
i
] + 
READ_BUFSIZE
, 1, 
n_ñide
 - 
dñè
, 
°dout
);

292 
fú°
 = 
Ál£
;

294 i‡(
n_ñide
 < 
n_ªad


295 && 
	`fwrôe
 (
b
[
i
], 1, 
n_ªad
 - 
n_ñide
, 
°dout
) <Ç_read -Ç_elide)

297 
	`îr‹
 (0, 
î∫o
, 
	`_
("writeÉrror"));

298 
ok
 = 
Ál£
;

303 
	`‰ì
 (
b
[0]);

304  
ok
;

311 
boﬁ
 
ok
 = 
åue
;

312 
boﬁ
 
eof
 = 
Ál£
;

313 
size_t
 
n_ªad
;

314 
boﬁ
 
buf„ªd_íough
;

315 
size_t
 
i
, 
i_√xt
;

316 **
b
;

318 
size_t
 
ªm
 = 
READ_BUFSIZE
 - (
n_ñide
 % READ_BUFSIZE);

319 
size_t
 
n_ñide_round
 = 
n_ñide
 + 
ªm
;

320 
size_t
 
n_bufs
 = 
n_ñide_round
 / 
READ_BUFSIZE
 + 1;

321 
b
 = 
	`xˇŒoc
 (
n_bufs
,  *b);

323 
buf„ªd_íough
 = 
Ál£
;

324 
i
 = 0, 
i_√xt
 = 1; !
eof
; i = i_√xt, i_√xà(i_√xà+ 1Ë% 
n_bufs
)

326 i‡(
b
[
i
] =
NULL
)

327 
b
[
i
] = 
	`xmÆloc
 (
READ_BUFSIZE
);

328 
n_ªad
 = 
	`fuŒ_ªad
 (
fd
, 
b
[
i
], 
READ_BUFSIZE
);

329 i‡(
n_ªad
 < 
READ_BUFSIZE
)

331 i‡(
î∫o
 != 0)

333 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

334 
ok
 = 
Ál£
;

335 
‰ì_mem
;

337 
eof
 = 
åue
;

340 i‡(
i
 + 1 =
n_bufs
)

341 
buf„ªd_íough
 = 
åue
;

343 i‡(
buf„ªd_íough
)

345 i‡(
	`fwrôe
 (
b
[
i_√xt
], 1, 
n_ªad
, 
°dout
) <Ç_read)

347 
	`îr‹
 (0, 
î∫o
, 
	`_
("writeÉrror"));

348 
ok
 = 
Ál£
;

349 
‰ì_mem
;

355 i‡(
ªm
)

357 i‡(
buf„ªd_íough
)

359 
size_t
 
n_byãs_À·_ö_b_i
 = 
READ_BUFSIZE
 - 
n_ªad
;

360 i‡(
ªm
 < 
n_byãs_À·_ö_b_i
)

362 
	`fwrôe
 (
b
[
i
] + 
n_ªad
, 1, 
ªm
, 
°dout
);

366 
	`fwrôe
 (
b
[
i
] + 
n_ªad
, 1, 
n_byãs_À·_ö_b_i
, 
°dout
);

367 
	`fwrôe
 (
b
[
i_√xt
], 1, 
ªm
 - 
n_byãs_À·_ö_b_i
, 
°dout
);

370 i‡(
i
 + 1 =
n_bufs
)

384 
size_t
 
y
 = 
READ_BUFSIZE
 - 
ªm
;

385 
size_t
 
x
 = 
n_ªad
 - 
y
;

386 
	`fwrôe
 (
b
[
i_√xt
], 1, 
x
, 
°dout
);

390 
‰ì_mem
:

391 
i
 = 0; i < 
n_bufs
; i++)

392 
	`‰ì
 (
b
[
i
]);

393 
	`‰ì
 (
b
);

395  
ok
;

397 
	}
}

406 
boﬁ


407 
	$ñide_èû_byãs_fûe
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_ñide
)

409 
°©
 
°©s
;

411 i‡(
¥esume_öput_pùe
 || 
	`f°©
 (
fd
, &
°©s
Ë|| ! 
	`S_ISREG
 (°©s.
°_mode
))

413  
	`ñide_èû_byãs_pùe
 (
fûíame
, 
fd
, 
n_ñide
);

417 
off_t
 
cuºít_pos
, 
íd_pos
;

418 
uötmax_t
 
byãs_ªmaöög
;

419 
off_t
 
diff
;

420 
C›y_fd_°©us
 
îr
;

422 i‡((
cuºít_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) == -1

423 || (
íd_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)) == -1)

425 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÜ£ek %s"), 
	`quŸe
 (
fûíame
));

426  
Ál£
;

431 
byãs_ªmaöög
 = (
diff
 = 
íd_pos
 - 
cuºít_pos
) < 0 ? 0 : diff;

433 i‡(
byãs_ªmaöög
 <
n_ñide
)

434  
åue
;

438 i‡(
	`l£ek
 (
fd
, 0, 
cuºít_pos
) == -1)

440 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannotÜseek backÅo originalÖosition"),

441 
	`quŸe
 (
fûíame
));

442  
Ál£
;

445 
îr
 = 
	`c›y_fd
 (
fd
, 
°dout
, 
byãs_ªmaöög
 - 
n_ñide
);

446 i‡(
îr
 =
COPY_FD_OK
)

447  
åue
;

449 
	`dügno£_c›y_fd_Áûuª
 (
îr
, 
fûíame
);

450  
Ál£
;

452 
	}
}

459 
boﬁ


460 
	$ñide_èû_löes_pùe
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_ñide
)

462 
	slöebuf„r


464 
buf„r
[
BUFSIZ
];

465 
size_t
 
nbyãs
;

466 
size_t
 
∆öes
;

467 
löebuf„r
 *
√xt
;

469 
löebuf„r
 
	tLBUFFER
;

470 
LBUFFER
 *
fú°
, *
œ°
, *
tmp
;

471 
size_t
 
tŸÆ_löes
 = 0;

472 
boﬁ
 
ok
 = 
åue
;

473 
size_t
 
n_ªad
;

475 
fú°
 = 
œ°
 = 
	`xmÆloc
 ( (
LBUFFER
));

476 
fú°
->
nbyãs
 = fú°->
∆öes
 = 0;

477 
fú°
->
√xt
 = 
NULL
;

478 
tmp
 = 
	`xmÆloc
 ( (
LBUFFER
));

485 
n_ªad
 = 
	`ß„_ªad
 (
fd
, 
tmp
->
buf„r
, 
BUFSIZ
);

486 i‡(
n_ªad
 =0 ||Ç_ªad =
SAFE_READ_ERROR
)

488 
tmp
->
nbyãs
 = 
n_ªad
;

489 
tmp
->
∆öes
 = 0;

490 
tmp
->
√xt
 = 
NULL
;

494 c⁄° *
buf„r_íd
 = 
tmp
->
buf„r
 + 
n_ªad
;

495 c⁄° *
p
 = 
tmp
->
buf„r
;

496 (
p
 = 
	`memchr
 (p, '\n', 
buf„r_íd
 -Ö)))

498 ++
p
;

499 ++
tmp
->
∆öes
;

502 
tŸÆ_löes
 +
tmp
->
∆öes
;

507 i‡(
tmp
->
nbyãs
 + 
œ°
->nbyã†< 
BUFSIZ
)

509 
	`mem˝y
 (&
œ°
->
buf„r
[œ°->
nbyãs
], 
tmp
->buffer,Åmp->nbytes);

510 
œ°
->
nbyãs
 +
tmp
->nbytes;

511 
œ°
->
∆öes
 +
tmp
->nlines;

520 
œ°
 =Üa°->
√xt
 = 
tmp
;

521 i‡(
n_ñide
 < 
tŸÆ_löes
 - 
fú°
->
∆öes
)

523 
	`fwrôe
 (
fú°
->
buf„r
, 1, fú°->
nbyãs
, 
°dout
);

524 
tmp
 = 
fú°
;

525 
tŸÆ_löes
 -
fú°
->
∆öes
;

526 
fú°
 = fú°->
√xt
;

529 
tmp
 = 
	`xmÆloc
 ( (
LBUFFER
));

533 
	`‰ì
 (
tmp
);

535 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

537 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

538 
ok
 = 
Ál£
;

539 
‰ì_lbuf„rs
;

544 i‡(
œ°
->
nbyãs
 &&Üa°->
buf„r
[last->nbytes - 1] != '\n')

546 ++
œ°
->
∆öes
;

547 ++
tŸÆ_löes
;

550 
tmp
 = 
fú°
; 
n_ñide
 < 
tŸÆ_löes
 -Åmp->
∆öes
;Åm∞tmp->
√xt
)

552 
	`fwrôe
 (
tmp
->
buf„r
, 1,Åmp->
nbyãs
, 
°dout
);

553 
tŸÆ_löes
 -
tmp
->
∆öes
;

557 i‡(
n_ñide
 < 
tŸÆ_löes
)

559 
size_t
 
n
 = 
tŸÆ_löes
 - 
n_ñide
;

560 c⁄° *
buf„r_íd
 = 
tmp
->
buf„r
 +Åmp->
nbyãs
;

561 c⁄° *
p
 = 
tmp
->
buf„r
;

562 
n
 && (
p
 = 
	`memchr
 (p, '\n', 
buf„r_íd
 -Ö)))

564 ++
p
;

565 ++
tmp
->
∆öes
;

566 --
n
;

568 
	`fwrôe
 (
tmp
->
buf„r
, 1, 
p
 -Åmp->buf„r, 
°dout
);

571 
‰ì_lbuf„rs
:

572 
fú°
)

574 
tmp
 = 
fú°
->
√xt
;

575 
	`‰ì
 (
fú°
);

576 
fú°
 = 
tmp
;

578  
ok
;

579 
	}
}

592 
boﬁ


593 
	$ñide_èû_löes_£ekabÀ
 (c⁄° *
¥ëty_fûíame
, 
fd
,

594 
uötmax_t
 
n_löes
,

595 
off_t
 
°¨t_pos
, off_à
íd_pos
)

597 
buf„r
[
BUFSIZ
];

598 
size_t
 
byãs_ªad
;

599 
off_t
 
pos
 = 
íd_pos
;

603 
byãs_ªad
 = (
pos
 - 
°¨t_pos
Ë% 
BUFSIZ
;

604 i‡(
byãs_ªad
 == 0)

605 
byãs_ªad
 = 
BUFSIZ
;

608 
pos
 -
byãs_ªad
;

609 i‡(
	`l£ek
 (
fd
, 
pos
, 
SEEK_SET
) < 0)

611 
off£t_buf
[
	`INT_BUFSIZE_BOUND
 (
pos
)];

612 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannot seekÅo offset %s"),

613 
¥ëty_fûíame
, 
	`of·o°r
 (
pos
, 
off£t_buf
));

614  
Ál£
;

616 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, bytes_read);

617 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

619 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

620  
Ál£
;

624 i‡(
byãs_ªad
 && 
buf„r
[bytes_read - 1] != '\n')

625 --
n_löes
;

631 
size_t
 
n
 = 
byãs_ªad
;

632 
n
)

634 c⁄° *
∆
;

635 
∆
 = 
	`memrchr
 (
buf„r
, '\n', 
n
);

636 i‡(
∆
 =
NULL
)

638 
n
 = 
∆
 - 
buf„r
;

639 i‡(
n_löes
-- == 0)

644 i‡(
°¨t_pos
 < 
pos
)

646 
C›y_fd_°©us
 
îr
;

647 i‡(
	`l£ek
 (
fd
, 
°¨t_pos
, 
SEEK_SET
) < 0)

650 
	`îr‹
 (0, 
î∫o
,

652 
	`quŸe
 (
¥ëty_fûíame
));

653  
Ál£
;

656 
îr
 = 
	`c›y_fd
 (
fd
, 
°dout
, 
pos
 - 
°¨t_pos
);

657 i‡(
îr
 !
COPY_FD_OK
)

659 
	`dügno£_c›y_fd_Áûuª
 (
îr
, 
¥ëty_fûíame
);

660  
Ál£
;

668 
	`fwrôe
 (
buf„r
, 1, 
n
 + 1, 
°dout
);

671 i‡(
	`l£ek
 (
fd
, 
pos
 + 
n
 + 1, 
SEEK_SET
) < 0)

673 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: failedÅoÑeset fileÖointer"),

674 
	`quŸe
 (
¥ëty_fûíame
));

675  
Ál£
;

677  
åue
;

682 i‡(
pos
 =
°¨t_pos
)

685  
åue
;

687 
pos
 -
BUFSIZ
;

688 i‡(
	`l£ek
 (
fd
, 
pos
, 
SEEK_SET
) < 0)

690 
off£t_buf
[
	`INT_BUFSIZE_BOUND
 (
pos
)];

691 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannot seekÅo offset %s"),

692 
¥ëty_fûíame
, 
	`of·o°r
 (
pos
, 
off£t_buf
));

693  
Ál£
;

696 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
BUFSIZ
);

697 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

699 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

700  
Ál£
;

705 i‡(
byãs_ªad
 == 0)

706  
åue
;

708 
	}
}

714 
boﬁ


715 
	$ñide_èû_löes_fûe
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_ñide
)

717 i‡(!
¥esume_öput_pùe
)

724 
off_t
 
°¨t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
);

725 
off_t
 
íd_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

726 i‡(0 <
°¨t_pos
 && sèπ_po†< 
íd_pos
)

729 i‡(
íd_pos
 == 0)

730  
åue
;

732  
	`ñide_èû_löes_£ekabÀ
 (
fûíame
, 
fd
, 
n_ñide
,

733 
°¨t_pos
, 
íd_pos
);

740  
	`ñide_èû_löes_pùe
 (
fûíame
, 
fd
, 
n_ñide
);

741 
	}
}

743 
boﬁ


744 
	$hód_byãs
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
byãs_to_wrôe
)

746 
buf„r
[
BUFSIZ
];

747 
size_t
 
byãs_to_ªad
 = 
BUFSIZ
;

749 
byãs_to_wrôe
)

751 
size_t
 
byãs_ªad
;

752 i‡(
byãs_to_wrôe
 < 
byãs_to_ªad
)

753 
byãs_to_ªad
 = 
byãs_to_wrôe
;

754 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
byãs_to_ªad
);

755 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

757 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

758  
Ál£
;

760 i‡(
byãs_ªad
 == 0)

762 i‡(
	`fwrôe
 (
buf„r
, 1, 
byãs_ªad
, 
°dout
) < bytes_read)

763 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

764 
byãs_to_wrôe
 -
byãs_ªad
;

766  
åue
;

767 
	}
}

769 
boﬁ


770 
	$hód_löes
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
löes_to_wrôe
)

772 
buf„r
[
BUFSIZ
];

774 
löes_to_wrôe
)

776 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
BUFSIZ
);

777 
size_t
 
byãs_to_wrôe
 = 0;

779 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

781 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
fûíame
));

782  
Ál£
;

784 i‡(
byãs_ªad
 == 0)

786 
byãs_to_wrôe
 < 
byãs_ªad
)

787 i‡(
buf„r
[
byãs_to_wrôe
++] ='\n' && --
löes_to_wrôe
 == 0)

789 
off_t
 
n_byãs_∑°_EOL
 = 
byãs_ªad
 - 
byãs_to_wrôe
;

793 i‡(
	`l£ek
 (
fd
, -
n_byãs_∑°_EOL
, 
SEEK_CUR
) < 0)

795 
e
 = 
î∫o
;

796 
°©
 
°
;

797 i‡(
	`f°©
 (
fd
, &
°
Ë!0 || 
	`S_ISREG
 (°.
°_mode
))

798 
	`îr‹
 (0, 
e
, 
	`_
("cannotÑeposition fileÖointer for %s"),

799 
	`quŸe
 (
fûíame
));

803 i‡(
	`fwrôe
 (
buf„r
, 1, 
byãs_to_wrôe
, 
°dout
) < bytes_to_write)

804 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

806  
åue
;

807 
	}
}

809 
boﬁ


810 
	$hód
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_unôs
, 
boﬁ
 
cou¡_löes
,

811 
boﬁ
 
ñide_‰om_íd
)

813 i‡(
¥öt_hódîs
)

814 
	`wrôe_hódî
 (
fûíame
);

816 i‡(
ñide_‰om_íd
)

818 i‡(
cou¡_löes
)

820  
	`ñide_èû_löes_fûe
 (
fûíame
, 
fd
, 
n_unôs
);

824  
	`ñide_èû_byãs_fûe
 (
fûíame
, 
fd
, 
n_unôs
);

827 i‡(
cou¡_löes
)

828  
	`hód_löes
 (
fûíame
, 
fd
, 
n_unôs
);

830  
	`hód_byãs
 (
fûíame
, 
fd
, 
n_unôs
);

831 
	}
}

833 
boﬁ


834 
	$hód_fûe
 (c⁄° *
fûíame
, 
uötmax_t
 
n_unôs
, 
boﬁ
 
cou¡_löes
,

835 
boﬁ
 
ñide_‰om_íd
)

837 
fd
;

838 
boﬁ
 
ok
;

839 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûíame
, "-");

841 i‡(
is_°dö
)

843 
have_ªad_°dö
 = 
åue
;

844 
fd
 = 
STDIN_FILENO
;

845 
fûíame
 = 
	`_
("standard input");

846 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

847 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

851 
fd
 = 
	`›í
 (
fûíame
, 
O_RDONLY
 | 
O_BINARY
);

852 i‡(
fd
 < 0)

854 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ o≥¿%†f‹Ñódög"), 
	`quŸe
 (
fûíame
));

855  
Ál£
;

859 
ok
 = 
	`hód
 (
fûíame
, 
fd
, 
n_unôs
, 
cou¡_löes
, 
ñide_‰om_íd
);

860 i‡(!
is_°dö
 && 
	`˛o£
 (
fd
) != 0)

862 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿ˛o£ %s"), 
	`quŸe
 (
fûíame
));

863  
Ál£
;

865  
ok
;

866 
	}
}

874 
uötmax_t


875 
	$°rög_to_öãgî
 (
boﬁ
 
cou¡_löes
, c⁄° *
n_°rög
)

877 
°πﬁ_îr‹
 
s_îr
;

878 
uötmax_t
 
n
;

880 
s_îr
 = 
	`x°πoumax
 (
n_°rög
, 
NULL
, 10, &
n
, "bkKmMGTPEZY0");

882 i‡(
s_îr
 =
LONGINT_OVERFLOW
)

884 
	`îr‹
 (
EXIT_FAILURE
, 0,

885 
	`_
("%s: %†i†sÿœrgêth© iài†nŸÑïª£¡abÀ"), 
n_°rög
,

886 
cou¡_löes
 ? 
	`_
("number ofÜines") : _("number of bytes"));

889 i‡(
s_îr
 !
LONGINT_OK
)

891 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s: %s", 
n_°rög
,

892 (
cou¡_löes


893 ? 
	`_
("invalidÇumber ofÜines")

894 : 
	`_
("invalidÇumber of bytes")));

897  
n
;

898 
	}
}

901 
	$maö
 (
¨gc
, **
¨gv
)

903 
hódî_mode
 hódî_modê
mu…ùÀ_fûes
;

904 
boﬁ
 
ok
 = 
åue
;

905 
c
;

906 
size_t
 
i
;

909 
uötmax_t
 
n_unôs
 = 
DEFAULT_NUMBER
;

913 
boﬁ
 
cou¡_löes
 = 
åue
;

917 
boﬁ
 
ñide_‰om_íd
 = 
Ál£
;

921 c⁄° *c⁄° 
deÁu…_fûe_li°
[] = {"-", 
NULL
};

922 c⁄° *c⁄° *
fûe_li°
;

924 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

925 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

926 
	`£éoˇÀ
 (
LC_ALL
, "");

927 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

928 
	`ãxtdomaö
 (
PACKAGE
);

930 
	`©exô
 (
˛o£_°dout
);

932 
have_ªad_°dö
 = 
Ál£
;

934 
¥öt_hódîs
 = 
Ál£
;

936 i‡(1 < 
¨gc
 && 
¨gv
[1][0] ='-' && 
	`ISDIGIT
 (argv[1][1]))

938 *
a
 = 
¨gv
[1];

939 *
n_°rög
 = ++
a
;

940 *
íd_n_°rög
;

941 
mu…ùlõr_ch¨
 = 0;

945 dÿ++
a
;

946 
	`ISDIGIT
 (*
a
));

949 
íd_n_°rög
 = 
a
;

952 ; *
a
;á++)

954 *
a
)

957 
cou¡_löes
 = 
Ál£
;

958 
mu…ùlõr_ch¨
 = 0;

964 
cou¡_löes
 = 
Ál£
;

965 
mu…ùlõr_ch¨
 = *
a
;

969 
cou¡_löes
 = 
åue
;

973 
hódî_mode
 = 
√vî
;

977 
hódî_mode
 = 
Æways
;

981 
	`îr‹
 (0, 0, 
	`_
("övÆidÅøûög o±i⁄ -- %c"), *
a
);

982 
	`ußge
 (
EXIT_FAILURE
);

988 *
íd_n_°rög
 = 
mu…ùlõr_ch¨
;

989 i‡(
mu…ùlõr_ch¨
)

990 *(++
íd_n_°rög
) = 0;

992 
n_unôs
 = 
	`°rög_to_öãgî
 (
cou¡_löes
, 
n_°rög
);

995 
¨gv
[1] =árgv[0];

996 
¨gv
++;

997 
¨gc
--;

1000 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "c:n:qv0123456789", 
l⁄g_›ti⁄s
, 
NULL
))

1003 
c
)

1005 
PRESUME_INPUT_PIPE_OPTION
:

1006 
¥esume_öput_pùe
 = 
åue
;

1010 
cou¡_löes
 = 
Ál£
;

1011 
ñide_‰om_íd
 = (*
›èrg
 == '-');

1012 i‡(
ñide_‰om_íd
)

1013 ++
›èrg
;

1014 
n_unôs
 = 
	`°rög_to_öãgî
 (
cou¡_löes
, 
›èrg
);

1018 
cou¡_löes
 = 
åue
;

1019 
ñide_‰om_íd
 = (*
›èrg
 == '-');

1020 i‡(
ñide_‰om_íd
)

1021 ++
›èrg
;

1022 
n_unôs
 = 
	`°rög_to_öãgî
 (
cou¡_löes
, 
›èrg
);

1026 
hódî_mode
 = 
√vî
;

1030 
hódî_mode
 = 
Æways
;

1033 
ˇ£_GETOPT_HELP_CHAR
;

1035 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1038 i‡(
	`ISDIGIT
 (
c
))

1039 
	`îr‹
 (0, 0, 
	`_
("övÆidÅøûög o±i⁄ -- %c"), 
c
);

1040 
	`ußge
 (
EXIT_FAILURE
);

1044 i‡(
hódî_mode
 =
Æways


1045 || (
hódî_mode
 =
mu…ùÀ_fûes
 && 
›töd
 < 
¨gc
 - 1))

1046 
¥öt_hódîs
 = 
åue
;

1048 i‡–! 
cou¡_löes
 && 
ñide_‰om_íd
 && 
OFF_T_MAX
 < 
n_unôs
)

1050 
umax_buf
[
	`INT_BUFSIZE_BOUND
 (
n_unôs
)];

1051 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s:Çumber of bytes isÅooÜarge"),

1052 
	`umaxto°r
 (
n_unôs
, 
umax_buf
));

1055 
fûe_li°
 = (
›töd
 < 
¨gc


1056 ? (c⁄° *c⁄° *Ë&
¨gv
[
›töd
]

1057 : 
deÁu…_fûe_li°
);

1059 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

1060 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

1062 
i
 = 0; 
fûe_li°
[i]; ++i)

1063 
ok
 &
	`hód_fûe
 (
fûe_li°
[
i
], 
n_unôs
, 
cou¡_löes
, 
ñide_‰om_íd
);

1065 i‡(
have_ªad_°dö
 && 
	`˛o£
 (
STDIN_FILENO
) < 0)

1066 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

1068 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1069 
	}
}

	@hostid.c

20 
	~<c⁄fig.h
>

21 
	~<gë›t.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

25 
	~"sy°em.h
"

26 
	~"l⁄g-›ti⁄s.h
"

27 
	~"îr‹.h
"

28 
	~"quŸe.h
"

31 
	#PROGRAM_NAME
 "ho°id"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

36 
	$ußge
 (
°©us
)

38 i‡(
°©us
 !
EXIT_SUCCESS
)

39 
	`emô_åy_hñp
 ();

42 
	`¥ötf
 (
	`_
("\
: %†[OPTION]\n\
Åhênumîi¯idítifõ∏(ö hexadecimÆËf‹Åhêcuºíàho°.\n\
\n\
"), 
¥ogøm_«me
);

47 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

48 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

49 
	`emô_™cûœry_öfo
 ();

51 
	`exô
 (
°©us
);

52 
	}
}

55 
	$maö
 (
¨gc
, **
¨gv
)

57 
id
;

59 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

60 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

61 
	`£éoˇÀ
 (
LC_ALL
, "");

62 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

63 
	`ãxtdomaö
 (
PACKAGE
);

65 
	`©exô
 (
˛o£_°dout
);

67 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

68 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

69 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

70 
	`ußge
 (
EXIT_FAILURE
);

72 i‡(
›töd
 < 
¨gc
)

74 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

75 
	`ußge
 (
EXIT_FAILURE
);

78 
id
 = 
	`gëho°id
 ();

83 
id
 &= 0xffffffff;

85 
	`¥ötf
 ("%08x\n", 
id
);

87 
	`exô
 (
EXIT_SUCCESS
);

88 
	}
}

	@hostname.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"l⁄g-›ti⁄s.h
"

26 
	~"îr‹.h
"

27 
	~"quŸe.h
"

28 
	~"xgëho°«me.h
"

31 
	#PROGRAM_NAME
 "ho°«me"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

35 #i‡!
deföed
 
HAVE_SETHOSTNAME
 && deföed 
HAVE_SYSINFO
 && \

36 
deföed
 
	gHAVE_SYS_SYSTEMINFO_H


37 
	~<sys/sy°emöfo.h
>

40 
	$£tho°«me
 (*
«me
, 
size_t
 
«mñí
)

43  (
	`sysöfo
 (
SI_SET_HOSTNAME
, 
«me
, 
«mñí
) < 0 ? -1 : 0);

44 
	}
}

46 
	#HAVE_SETHOSTNAME
 1

	)

50 
	$ußge
 (
°©us
)

52 i‡(
°©us
 !
EXIT_SUCCESS
)

53 
	`emô_åy_hñp
 ();

56 
	`¥ötf
 (
	`_
("\
: %s [NAME]\n\
: %s OPTION\n\
 or setÅhe hostname ofÅhe current system.\n\
\n\
"),

62 
¥ogøm_«me
,Örogram_name);

63 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

64 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

65 
	`emô_™cûœry_öfo
 ();

67 
	`exô
 (
°©us
);

68 
	}
}

71 
	$maö
 (
¨gc
, **
¨gv
)

73 *
ho°«me
;

75 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

76 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

77 
	`£éoˇÀ
 (
LC_ALL
, "");

78 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

79 
	`ãxtdomaö
 (
PACKAGE
);

81 
	`©exô
 (
˛o£_°dout
);

83 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

84 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

85 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

86 
	`ußge
 (
EXIT_FAILURE
);

88 i‡(
¨gc
 =
›töd
 + 1)

90 #ifde‡
HAVE_SETHOSTNAME


92 c⁄° *
«me
 = 
¨gv
[
›töd
];

93 i‡(
	`£tho°«me
 (
«me
, 
	`°æí
 (name)) != 0)

94 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ sëÇamêtÿ%s"), 
	`quŸe
 (
«me
));

96 
	`îr‹
 (
EXIT_FAILURE
, 0,

97 
	`_
("cannot set hostname;Åhis systemÜacksÅhe functionality"));

101 i‡(
¨gc
 <
›töd
)

103 
ho°«me
 = 
	`xgëho°«me
 ();

104 i‡(
ho°«me
 =
NULL
)

105 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot determine hostname"));

106 
	`¥ötf
 ("%s\n", 
ho°«me
);

109 i‡(
›töd
 + 1 < 
¨gc
)

111 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

112 
	`ußge
 (
EXIT_FAILURE
);

115 
	`exô
 (
EXIT_SUCCESS
);

116 
	}
}

	@id.c

20 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<pwd.h
>

24 
	~<gΩ.h
>

25 
	~<gë›t.h
>

26 
	~<£löux/£löux.h
>

28 
	~"sy°em.h
"

29 
	~"îr‹.h
"

30 
	~"mgëgroups.h
"

31 
	~"quŸe.h
"

32 
	~"group-li°.h
"

35 
	#PROGRAM_NAME
 "id"

	)

37 
	#AUTHORS
 \

38 
	`¥›î_«me
 ("Arnold Robbins"), \

39 
	`¥›î_«me
 ("David MacKízõ")

	)

42 
	gju°_c⁄ãxt
 = 0;

44 
¥öt_u£r
 (
uid_t
 
uid
);

45 
¥öt_fuŒ_öfo
 (c⁄° *
u£∫ame
);

48 
boﬁ
 
	gu£_«me
 = 
Ál£
;

51 
uid_t
 
	gruid
, 
	geuid
;

52 
gid_t
 
	grgid
, 
	gegid
;

55 
boﬁ
 
	gok
 = 
åue
;

59 
£curôy_c⁄ãxt_t
 
	gc⁄ãxt
 = 
NULL
;

61 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

63 {"c⁄ãxt", 
no_¨gumít
, 
NULL
, 'Z'},

64 {"group", 
no_¨gumít
, 
NULL
, 'g'},

65 {"groups", 
no_¨gumít
, 
NULL
, 'G'},

66 {"«me", 
no_¨gumít
, 
NULL
, 'n'},

67 {"ªÆ", 
no_¨gumít
, 
NULL
, 'r'},

68 {"u£r", 
no_¨gumít
, 
NULL
, 'u'},

69 {
GETOPT_HELP_OPTION_DECL
},

70 {
GETOPT_VERSION_OPTION_DECL
},

71 {
NULL
, 0, NULL, 0}

75 
	$ußge
 (
°©us
)

77 i‡(
°©us
 !
EXIT_SUCCESS
)

78 
	`emô_åy_hñp
 ();

81 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [USERNAME]\n"), 
¥ogøm_«me
);

82 
	`Âuts
 (
	`_
("\
 u£∏™d grou∞öf‹m©i⁄ f‹Åhê•ecifõd USERNAME,\n\
 (whí USERNAME omôãdËf‹Åhêcuºíàu£r.\n\
\n\
-® ign‹e, f‹ com∑tibûôy wôh othî vîsi⁄s\n\
-Z, --c⁄ãxàÖröà⁄lyÅhê£curôy c⁄ãxào‡thêcuºíàu£r\n\
-g, --grou∞Öröà⁄lyÅhêef„˘ivêgrou∞ID\n\
-G, --group†ÖröàÆ»grou∞IDs\n\
-n, --«mêÖröà®«mêö°ód o‡®numbî, f‹ -ugG\n\
-r, --ªÆÖröàthêªÆ ID in°ód o‡thêef„˘ivêID, wôh -ugG\n\
-u, --u£∏Öröà⁄lyÅhêef„˘ivêu£∏ID\n\
"), 
°dout
);

94 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

95 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

96 
	`Âuts
 (
	`_
("\
\n\
ány OPTION,Öröàsomêu£fu»£ào‡idítifõd inf‹m©i⁄.\n\
"), 
°dout
);

100 
	`emô_™cûœry_öfo
 ();

102 
	`exô
 (
°©us
);

103 
	}
}

106 
	$maö
 (
¨gc
, **
¨gv
)

108 
›tc
;

109 
£löux_íabÀd
 = (
	`is_£löux_íabÀd
 () > 0);

112 
boﬁ
 
ju°_group_li°
 = 
Ál£
;

114 
boﬁ
 
ju°_group
 = 
Ál£
;

116 
boﬁ
 
u£_ªÆ
 = 
Ál£
;

118 
boﬁ
 
ju°_u£r
 = 
Ál£
;

120 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

121 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

122 
	`£éoˇÀ
 (
LC_ALL
, "");

123 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

124 
	`ãxtdomaö
 (
PACKAGE
);

126 
	`©exô
 (
˛o£_°dout
);

128 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "agƒuGZ", 
l⁄g›ts
, 
NULL
)) != -1)

130 
›tc
)

138 i‡(!
£löux_íabÀd
)

139 
	`îr‹
 (
EXIT_FAILURE
, 0,

140 
	`_
("--context (-Z) works only onán SELinux-enabled kernel"));

141 
ju°_c⁄ãxt
 = 1;

145 
ju°_group
 = 
åue
;

148 
u£_«me
 = 
åue
;

151 
u£_ªÆ
 = 
åue
;

154 
ju°_u£r
 = 
åue
;

157 
ju°_group_li°
 = 
åue
;

159 
ˇ£_GETOPT_HELP_CHAR
;

160 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

162 
	`ußge
 (
EXIT_FAILURE
);

166 
size_t
 
n_ids
 = 
¨gc
 - 
›töd
;

167 i‡(1 < 
n_ids
)

169 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

170 
	`ußge
 (
EXIT_FAILURE
);

173 i‡(
n_ids
 && 
ju°_c⁄ãxt
)

174 
	`îr‹
 (
EXIT_FAILURE
, 0,

175 
	`_
("cannotÖrint security context when user specified"));

177 i‡(
ju°_u£r
 + 
ju°_group
 + 
ju°_group_li°
 + 
ju°_c⁄ãxt
 > 1)

178 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannotÖrint \"only\" of moreÅhan one choice"));

180 
boﬁ
 
deÁu…_f‹m©
 = (
ju°_u£r
 + 
ju°_group
 + 
ju°_group_li°


181 + 
ju°_c⁄ãxt
 == 0);

183 i‡(
deÁu…_f‹m©
 && (
u£_ªÆ
 || 
u£_«me
))

184 
	`îr‹
 (
EXIT_FAILURE
, 0,

185 
	`_
("cannotÖrint onlyÇames orÑeal IDs in default format"));

192 i‡(
£löux_íabÀd


193 && 
n_ids
 == 0

194 && (
ju°_c⁄ãxt


195 || (
deÁu…_f‹m©
 && ! 
	`gëív
 ("POSIXLY_CORRECT"))))

198 i‡(
	`gëc⁄
 (&
c⁄ãxt
Ë&& 
ju°_c⁄ãxt
)

199 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("can't getÖrocess context"));

202 i‡(
n_ids
 == 1)

204 
∑sswd
 *
pwd
 = 
	`gëpw«m
 (
¨gv
[
›töd
]);

205 i‡(
pwd
 =
NULL
)

206 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s:Çÿsuch u£r"), 
¨gv
[
›töd
]);

207 
ruid
 = 
euid
 = 
pwd
->
pw_uid
;

208 
rgid
 = 
egid
 = 
pwd
->
pw_gid
;

215 
uid_t
 
NO_UID
 = -1;

216 
gid_t
 
NO_GID
 = -1;

218 i‡(
ju°_u£r
 ? !
u£_ªÆ


219 : !
ju°_group
 && !
ju°_group_li°
 && !
ju°_c⁄ãxt
)

221 
î∫o
 = 0;

222 
euid
 = 
	`gëeuid
 ();

223 i‡(
euid
 =
NO_UID
 && 
î∫o
)

224 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÉffective UID"));

227 i‡(
ju°_u£r
 ? 
u£_ªÆ


228 : !
ju°_group
 && (
ju°_group_li°
 || !
ju°_c⁄ãxt
))

230 
î∫o
 = 0;

231 
ruid
 = 
	`gëuid
 ();

232 i‡(
ruid
 =
NO_UID
 && 
î∫o
)

233 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÑeal UID"));

236 i‡(!
ju°_u£r
 && (
ju°_group
 || 
ju°_group_li°
 || !
ju°_c⁄ãxt
))

238 
î∫o
 = 0;

239 
egid
 = 
	`gëegid
 ();

240 i‡(
egid
 =
NO_GID
 && 
î∫o
)

241 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÉffective GID"));

243 
î∫o
 = 0;

244 
rgid
 = 
	`gëgid
 ();

245 i‡(
rgid
 =
NO_GID
 && 
î∫o
)

246 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÑeal GID"));

250 i‡(
ju°_u£r
)

252 
	`¥öt_u£r
 (
u£_ªÆ
 ? 
ruid
 : 
euid
);

254 i‡(
ju°_group
)

256 i‡(!
	`¥öt_group
 (
u£_ªÆ
 ? 
rgid
 : 
egid
, 
u£_«me
))

257 
ok
 = 
Ál£
;

259 i‡(
ju°_group_li°
)

261 i‡(!
	`¥öt_group_li°
 (
¨gv
[
›töd
], 
ruid
, 
rgid
, 
egid
, 
u£_«me
))

262 
ok
 = 
Ál£
;

264 i‡(
ju°_c⁄ãxt
)

266 
	`Âuts
 (
c⁄ãxt
, 
°dout
);

270 
	`¥öt_fuŒ_öfo
 (
¨gv
[
›töd
]);

272 
	`putch¨
 ('\n');

274 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

275 
	}
}

281 
	$gidto°r_±r
 (
gid_t
 c⁄° *
gid
)

283 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

284  
	`umaxto°r
 (*
gid
, 
buf
);

285 
	}
}

286 
	#gidto°r
(
g
Ë
	`gidto°r_±r
 (&(g))

	)

292 
	$uidto°r_±r
 (
uid_t
 c⁄° *
uid
)

294 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

295  
	`umaxto°r
 (*
uid
, 
buf
);

296 
	}
}

297 
	#uidto°r
(
u
Ë
	`uidto°r_±r
 (&(u))

	)

302 
	$¥öt_u£r
 (
uid_t
 
uid
)

304 
∑sswd
 *
pwd
 = 
NULL
;

306 i‡(
u£_«me
)

308 
pwd
 = 
	`gëpwuid
 (
uid
);

309 i‡(
pwd
 =
NULL
)

311 
	`îr‹
 (0, 0, 
	`_
("cannot findÇame for user ID %s"),

312 
	`uidto°r
 (
uid
));

313 
ok
 = 
Ál£
;

317 *
s
 = 
pwd
 ?Öwd->
pw_«me
 : 
	`uidto°r
 (
uid
);

318 
	`Âuts
 (
s
, 
°dout
);

319 
	}
}

324 
	$¥öt_fuŒ_öfo
 (c⁄° *
u£∫ame
)

326 
∑sswd
 *
pwd
;

327 
group
 *
gΩ
;

329 
	`¥ötf
 (
	`_
("uid=%s"), 
	`uidto°r
 (
ruid
));

330 
pwd
 = 
	`gëpwuid
 (
ruid
);

331 i‡(
pwd
)

332 
	`¥ötf
 ("(%s)", 
pwd
->
pw_«me
);

334 
	`¥ötf
 (
	`_
(" gid=%s"), 
	`gidto°r
 (
rgid
));

335 
gΩ
 = 
	`gëgrgid
 (
rgid
);

336 i‡(
gΩ
)

337 
	`¥ötf
 ("(%s)", 
gΩ
->
gr_«me
);

339 i‡(
euid
 !
ruid
)

341 
	`¥ötf
 (
	`_
("Éuid=%s"), 
	`uidto°r
 (
euid
));

342 
pwd
 = 
	`gëpwuid
 (
euid
);

343 i‡(
pwd
)

344 
	`¥ötf
 ("(%s)", 
pwd
->
pw_«me
);

347 i‡(
egid
 !
rgid
)

349 
	`¥ötf
 (
	`_
("Égid=%s"), 
	`gidto°r
 (
egid
));

350 
gΩ
 = 
	`gëgrgid
 (
egid
);

351 i‡(
gΩ
)

352 
	`¥ötf
 ("(%s)", 
gΩ
->
gr_«me
);

356 
gid_t
 *
groups
;

357 
i
;

359 
n_groups
 = 
	`xgëgroups
 (
u£∫ame
, (
pwd
 ?Öwd->
pw_gid
 : -1),

360 &
groups
);

361 i‡(
n_groups
 < 0)

363 i‡(
u£∫ame
)

365 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get groups for user %s"),

366 
	`quŸe
 (
u£∫ame
));

370 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get groups forÅhe currentÖrocess"));

372 
ok
 = 
Ál£
;

376 i‡(
n_groups
 > 0)

377 
	`Âuts
 (
	`_
(" groups="), 
°dout
);

378 
i
 = 0; i < 
n_groups
; i++)

380 i‡(
i
 > 0)

381 
	`putch¨
 (',');

382 
	`Âuts
 (
	`gidto°r
 (
groups
[
i
]), 
°dout
);

383 
gΩ
 = 
	`gëgrgid
 (
groups
[
i
]);

384 i‡(
gΩ
)

385 
	`¥ötf
 ("(%s)", 
gΩ
->
gr_«me
);

387 
	`‰ì
 (
groups
);

392 i‡(
c⁄ãxt
)

393 
	`¥ötf
 (
	`_
(" c⁄ãxt=%s"), 
c⁄ãxt
);

394 
	}
}

	@install.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<sig«l.h
>

24 
	~<pwd.h
>

25 
	~<gΩ.h
>

26 
	~<£löux/£löux.h
>

27 
	~<sys/waô.h
>

29 
	~"sy°em.h
"

30 
	~"backupfûe.h
"

31 
	~"îr‹.h
"

32 
	~"˝-hash.h
"

33 
	~"c›y.h
"

34 
	~"fûíameˇt.h
"

35 
	~"fuŒ-ªad.h
"

36 
	~"mk™˚sdús.h
"

37 
	~"mkdú-p.h
"

38 
	~"modech™ge.h
"

39 
	~"¥og-Ârötf.h
"

40 
	~"quŸe.h
"

41 
	~"quŸórg.h
"

42 
	~"ßvewd.h
"

43 
	~"°©-time.h
"

44 
	~"utimís.h
"

45 
	~"x°πﬁ.h
"

48 
	#PROGRAM_NAME
 "ö°Æl"

	)

50 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

52 
	g£löux_íabÀd
 = 0;

53 
boﬁ
 
	gu£_deÁu…_£löux_c⁄ãxt
 = 
åue
;

55 #i‡! 
HAVE_ENDGRENT


56 
	#ídgª¡
(Ë((Ë0)

	)

59 #i‡! 
HAVE_ENDPWENT


60 
	#ídpwít
(Ë((Ë0)

	)

63 #i‡! 
HAVE_LCHOWN


64 
	#lchown
(
«me
, 
uid
, 
gid
Ë
	`chown
 («me, uid, gid)

	)

67 #i‡! 
HAVE_MATCHPATHCON_INIT_PREFIX


68 
	#m©ch∑thc⁄_öô_¥efix
(
a
, 
p
Ë

	)

73 *
	gow√r_«me
;

76 
uid_t
 
	gow√r_id
;

80 *
	ggroup_«me
;

83 
gid_t
 
	ggroup_id
;

85 
	#DEFAULT_MODE
 (
S_IRWXU
 | 
S_IRGRP
 | 
S_IXGRP
 | 
S_IROTH
 | 
S_IXOTH
)

	)

89 
mode_t
 
	gmode
 = 
DEFAULT_MODE
;

92 
mode_t
 
	gdú_mode
 = 
DEFAULT_MODE
;

98 
mode_t
 
	gdú_mode_bôs
 = 
CHMOD_MODE_BITS
;

101 
boﬁ
 
	gc›y_⁄ly_if_√eded
;

104 
boﬁ
 
	g°rù_fûes
;

107 
boﬁ
 
	gdú_¨g
;

110 c⁄° *
	g°rù_¥ogøm
 = "strip";

116 
	mPRESERVE_CONTEXT_OPTION
 = 
CHAR_MAX
 + 1,

117 
	mSTRIP_PROGRAM_OPTION


120 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

122 {"backup", 
›ti⁄Æ_¨gumít
, 
NULL
, 'b'},

123 {"com∑ª", 
no_¨gumít
, 
NULL
, 'C'},

124 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

125 {"dúe˘‹y", 
no_¨gumít
, 
NULL
, 'd'},

126 {"group", 
ªquúed_¨gumít
, 
NULL
, 'g'},

127 {"mode", 
ªquúed_¨gumít
, 
NULL
, 'm'},

128 {"no-èrgë-dúe˘‹y", 
no_¨gumít
, 
NULL
, 'T'},

129 {"ow√r", 
ªquúed_¨gumít
, 
NULL
, 'o'},

130 {"¥e£rve-time°amps", 
no_¨gumít
, 
NULL
, 'p'},

131 {"¥e£rve-c⁄ãxt", 
no_¨gumít
, 
NULL
, 
PRESERVE_CONTEXT_OPTION
},

132 {"°rù", 
no_¨gumít
, 
NULL
, 's'},

133 {"°rù-¥ogøm", 
ªquúed_¨gumít
, 
NULL
, 
STRIP_PROGRAM_OPTION
},

134 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 'S'},

135 {"èrgë-dúe˘‹y", 
ªquúed_¨gumít
, 
NULL
, 't'},

136 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

137 {
GETOPT_HELP_OPTION_DECL
},

138 {
GETOPT_VERSION_OPTION_DECL
},

139 {
NULL
, 0, NULL, 0}

144 
boﬁ


145 
	$have_ßme_c⁄ã¡
 (
a_fd
, 
b_fd
)

147 íum { 
CMP_BLOCK_SIZE
 = 4096 };

148 
a_buff
[
CMP_BLOCK_SIZE
];

149 
b_buff
[
CMP_BLOCK_SIZE
];

151 
size_t
 
size
;

152 0 < (
size
 = 
	`fuŒ_ªad
 (
a_fd
, 
a_buff
, á_buff))) {

153 i‡(
size
 !
	`fuŒ_ªad
 (
b_fd
, 
b_buff
,  b_buff))

154  
Ál£
;

156 i‡(
	`memcmp
 (
a_buff
, 
b_buff
, 
size
) != 0)

157  
Ál£
;

160  
size
 == 0;

161 
	}
}

164 
boﬁ


165 
	$exåa_mode
 (
mode_t
 
öput
)

167 
mode_t
 
mask
 = 
S_IRWXUGO
 | 
S_IFMT
;

168  !! (
öput
 & ~ 
mask
);

169 
	}
}

172 
boﬁ


173 
	$√ed_c›y
 (c⁄° *
§c_«me
, c⁄° *
de°_«me
,

174 c⁄° 
˝_›ti⁄s
 *
x
)

176 
°©
 
§c_sb
, 
de°_sb
;

177 
§c_fd
, 
de°_fd
;

178 
boﬁ
 
c⁄ã¡_m©ch
;

180 i‡(
	`exåa_mode
 (
mode
))

181  
åue
;

184 i‡(
	`l°©
 (
§c_«me
, &
§c_sb
) != 0)

185  
åue
;

187 i‡(
	`l°©
 (
de°_«me
, &
de°_sb
) != 0)

188  
åue
;

190 i‡(!
	`S_ISREG
 (
§c_sb
.
°_mode
Ë|| !S_ISREG (
de°_sb
.st_mode)

191 || 
	`exåa_mode
 (
§c_sb
.
°_mode
Ë||Éxåa_modê(
de°_sb
.st_mode))

192  
åue
;

194 i‡(
§c_sb
.
°_size
 !
de°_sb
.st_size

195 || (
de°_sb
.
°_mode
 & 
CHMOD_MODE_BITS
Ë!
mode
)

196  
åue
;

198 i‡(
ow√r_id
 =(
uid_t
) -1)

200 
î∫o
 = 0;

201 
uid_t
 
ruid
 = 
	`gëuid
 ();

202 i‡((
ruid
 =(
uid_t
Ë-1 && 
î∫o
Ë|| 
de°_sb
.
°_uid
 !=Ñuid)

203  
åue
;

205 i‡(
de°_sb
.
°_uid
 !
ow√r_id
)

206  
åue
;

208 i‡(
group_id
 =(
uid_t
) -1)

210 
î∫o
 = 0;

211 
gid_t
 
rgid
 = 
	`gëgid
 ();

212 i‡((
rgid
 =(
uid_t
Ë-1 && 
î∫o
Ë|| 
de°_sb
.
°_gid
 !=Ñgid)

213  
åue
;

215 i‡(
de°_sb
.
°_gid
 !
group_id
)

216  
åue
;

219 i‡(
£löux_íabÀd
 && 
x
->
¥e£rve_£curôy_c⁄ãxt
)

221 
£curôy_c⁄ãxt_t
 
fûe_sc⁄ãxt
 = 
NULL
;

222 
£curôy_c⁄ãxt_t
 
to_sc⁄ãxt
 = 
NULL
;

223 
boﬁ
 
sc⁄ãxt_m©ch
;

225 i‡(
	`gëfûec⁄
 (
§c_«me
, &
fûe_sc⁄ãxt
) == -1)

226  
åue
;

228 i‡(
	`gëfûec⁄
 (
de°_«me
, &
to_sc⁄ãxt
) == -1)

230 
	`‰ìc⁄
 (
fûe_sc⁄ãxt
);

231  
åue
;

234 
sc⁄ãxt_m©ch
 = 
	`STREQ
 (
fûe_sc⁄ãxt
, 
to_sc⁄ãxt
);

236 
	`‰ìc⁄
 (
fûe_sc⁄ãxt
);

237 
	`‰ìc⁄
 (
to_sc⁄ãxt
);

238 i‡(!
sc⁄ãxt_m©ch
)

239  
åue
;

243 
§c_fd
 = 
	`›í
 (
§c_«me
, 
O_RDONLY
 | 
O_BINARY
);

244 i‡(
§c_fd
 < 0)

245  
åue
;

247 
de°_fd
 = 
	`›í
 (
de°_«me
, 
O_RDONLY
 | 
O_BINARY
);

248 i‡(
de°_fd
 < 0)

250 
	`˛o£
 (
§c_fd
);

251  
åue
;

254 
c⁄ã¡_m©ch
 = 
	`have_ßme_c⁄ã¡
 (
§c_fd
, 
de°_fd
);

256 
	`˛o£
 (
§c_fd
);

257 
	`˛o£
 (
de°_fd
);

258  !
c⁄ã¡_m©ch
;

259 
	}
}

262 
	$˝_›ti⁄_öô
 (
˝_›ti⁄s
 *
x
)

264 
	`˝_›ti⁄s_deÁu…
 (
x
);

265 
x
->
c›y_as_ªguœr
 = 
åue
;

266 
x
->
ªÊök_mode
 = 
REFLINK_NEVER
;

267 
x
->
dîe„ªn˚
 = 
DEREF_ALWAYS
;

268 
x
->
u∆ök_de°_bef‹e_›íög
 = 
åue
;

269 
x
->
u∆ök_de°_a·î_Áûed_›í
 = 
Ál£
;

270 
x
->
h¨d_lök
 = 
Ál£
;

271 
x
->
öãø˘ive
 = 
I_UNSPECIFIED
;

272 
x
->
move_mode
 = 
Ál£
;

273 
x
->
⁄e_fûe_sy°em
 = 
Ál£
;

274 
x
->
¥e£rve_ow√rshù
 = 
Ál£
;

275 
x
->
¥e£rve_löks
 = 
Ál£
;

276 
x
->
¥e£rve_mode
 = 
Ál£
;

277 
x
->
¥e£rve_time°amps
 = 
Ál£
;

278 
x
->
ex∂icô_no_¥e£rve_mode
 = 
Ál£
;

279 
x
->
ªdu˚_dügno°ics
=
Ál£
;

280 
x
->
d©a_c›y_ªquúed
 = 
åue
;

281 
x
->
ªquúe_¥e£rve
 = 
Ál£
;

282 
x
->
ªquúe_¥e£rve_c⁄ãxt
 = 
Ál£
;

283 
x
->
ªquúe_¥e£rve_x©å
 = 
Ál£
;

284 
x
->
ªcursive
 = 
Ál£
;

285 
x
->
•¨£_mode
 = 
SPARSE_AUTO
;

286 
x
->
symbﬁic_lök
 = 
Ál£
;

287 
x
->
backup_ty≥
 = 
no_backups
;

292 
x
->
£t_mode
 = 
åue
;

293 
x
->
mode
 = 
S_IRUSR
 | 
S_IWUSR
;

294 
x
->
°dö_ây
 = 
Ál£
;

296 
x
->
›í_d™glög_de°_symlök
 = 
Ál£
;

297 
x
->
upd©e
 = 
Ál£
;

298 
x
->
¥e£rve_£curôy_c⁄ãxt
 = 
Ál£
;

299 
x
->
¥e£rve_x©å
 = 
Ál£
;

300 
x
->
vîbo£
 = 
Ál£
;

301 
x
->
de°_öfo
 = 
NULL
;

302 
x
->
§c_öfo
 = 
NULL
;

303 
	}
}

305 #ifde‡
ENABLE_MATCHPATHCON


310 
	$£tdeÁu…fûec⁄
 (c⁄° *
fûe
)

312 
°©
 
°
;

313 
£curôy_c⁄ãxt_t
 
sc⁄ãxt
 = 
NULL
;

314 
boﬁ
 
fú°_ˇŒ
 = 
åue
;

316 i‡(
£löux_íabÀd
 != 1)

321 i‡(
	`l°©
 (
fûe
, &
°
) != 0)

324 i‡(
fú°_ˇŒ
 && 
	`IS_ABSOLUTE_FILE_NAME
 (
fûe
))

333 c⁄° *
p0
;

334 c⁄° *
p
 = 
fûe
 + 1;

335 
	`ISSLASH
 (*
p
))

336 ++
p
;

339 
p0
 = 
p
 - 1;

341 i‡(*
p
)

343 *
¥efix
;

346 ++
p
;

348 *
p
 && !
	`ISSLASH
 (*p));

350 
¥efix
 = 
	`mÆloc
 (
p
 - 
p0
 + 2);

351 i‡(
¥efix
)

353 
	`°p˝y
 (
	`°≤˝y
 (
¥efix
, 
p0
, 
p
 -Ö0), "/");

354 
	`m©ch∑thc⁄_öô_¥efix
 (
NULL
, 
¥efix
);

355 
	`‰ì
 (
¥efix
);

359 
fú°_ˇŒ
 = 
Ál£
;

363 i‡((
	`m©ch∑thc⁄
 (
fûe
, 
°
.
°_mode
, &
sc⁄ãxt
) != 0)

364 || 
	`STREQ
 (
sc⁄ãxt
, "<<none>>"))

366 i‡(
sc⁄ãxt
 !
NULL
)

367 
	`‰ìc⁄
 (
sc⁄ãxt
);

371 i‡(
	`l£tfûec⁄
 (
fûe
, 
sc⁄ãxt
Ë< 0 && 
î∫o
 !
ENOTSUP
)

372 
	`îr‹
 (0, 
î∫o
,

373 
	`_
("warning: %s: failedÅo change contextÅo %s"),

374 
	`quŸórg_cﬁ⁄
 (
fûe
), 
sc⁄ãxt
);

376 
	`‰ìc⁄
 (
sc⁄ãxt
);

378 
	}
}

381 
	$£tdeÁu…fûec⁄
 (c⁄° *
fûe
)

383 (Ë
fûe
;

384 
	}
}

392 
boﬁ


393 
	$èrgë_dúe˘‹y_›î™d
 (c⁄° *
fûe
)

395 c⁄° *
b
 = 
	`œ°_comp⁄ít
 (
fûe
);

396 
size_t
 
bÀn
 = 
	`°æí
 (
b
);

397 
boﬁ
 
looks_like_a_dú
 = (
bÀn
 =0 || 
	`ISSLASH
 (
b
[blen - 1]));

398 
°©
 
°
;

399 
îr
 = (
	`°©
 (
fûe
, &
°
Ë=0 ? 0 : 
î∫o
);

400 
boﬁ
 
is_a_dú
 = !
îr
 && 
	`S_ISDIR
 (
°
.
°_mode
);

401 i‡(
îr
 &&Éº !
ENOENT
)

402 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
fûe
));

403 i‡(
is_a_dú
 < 
looks_like_a_dú
)

404 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("èrgë %†i†nŸá dúe˘‹y"), 
	`quŸe
 (
fûe
));

405  
is_a_dú
;

406 
	}
}

410 
	$™noun˚_mkdú
 (c⁄° *
dú
, *
›ti⁄s
)

412 
˝_›ti⁄s
 c⁄° *
x
 = 
›ti⁄s
;

413 i‡(
x
->
vîbo£
)

414 
	`¥og_Ârötf
 (
°dout
, 
	`_
("¸ótög dúe˘‹y %s"), 
	`quŸe
 (
dú
));

415 
	}
}

421 
	$make_™˚°‹
 (c⁄° *
dú
, c⁄° *
comp⁄ít
, *
›ti⁄s
)

423 
r
 = 
	`mkdú
 (
comp⁄ít
, 
DEFAULT_MODE
);

424 i‡(
r
 == 0)

425 
	`™noun˚_mkdú
 (
dú
, 
›ti⁄s
);

426  
r
;

427 
	}
}

431 
	$¥o˚ss_dú
 (*
dú
, 
ßvewd
 *
wd
, *
›ti⁄s
)

433  (
	`make_dú_∑ª¡s
 (
dú
, 
wd
,

434 
make_™˚°‹
, 
›ti⁄s
,

435 
dú_mode
, 
™noun˚_mkdú
,

436 
dú_mode_bôs
, 
ow√r_id
, 
group_id
, 
Ál£
)

437 ? 
EXIT_SUCCESS


438 : 
EXIT_FAILURE
);

439 
	}
}

444 
boﬁ


445 
	$c›y_fûe
 (c⁄° *
‰om
, c⁄° *
to
, c⁄° 
˝_›ti⁄s
 *
x
)

447 
boﬁ
 
c›y_öto_£lf
;

449 i‡(
c›y_⁄ly_if_√eded
 && !
	`√ed_c›y
 (
‰om
, 
to
, 
x
))

450  
åue
;

458  
	`c›y
 (
‰om
, 
to
, 
Ál£
, 
x
, &
c›y_öto_£lf
, 
NULL
);

459 
	}
}

464 
boﬁ


465 
	$ch™ge_©åibuãs
 (c⁄° *
«me
)

467 
boﬁ
 
ok
 = 
Ál£
;

480 i‡(! (
ow√r_id
 =(
uid_t
Ë-1 && 
group_id
 =(
gid_t
) -1)

481 && 
	`lchown
 (
«me
, 
ow√r_id
, 
group_id
) != 0)

482 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ ch™gêow√rshù o‡%s"), 
	`quŸe
 (
«me
));

483 i‡(
	`chmod
 (
«me
, 
mode
) != 0)

484 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ ch™gê≥rmissi⁄†o‡%s"), 
	`quŸe
 (
«me
));

486 
ok
 = 
åue
;

488 i‡(
u£_deÁu…_£löux_c⁄ãxt
)

489 
	`£tdeÁu…fûec⁄
 (
«me
);

491  
ok
;

492 
	}
}

497 
boﬁ


498 
	$ch™ge_time°amps
 (
°©
 c⁄° *
§c_sb
, c⁄° *
de°
)

500 
time•ec
Åimespec[2];

501 
time•ec
[0] = 
	`gë_°©_©ime
 (
§c_sb
);

502 
time•ec
[1] = 
	`gë_°©_mtime
 (
§c_sb
);

504 i‡(
	`utimís
 (
de°
, 
time•ec
))

506 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sëÅimê°amp†f‹ %s"), 
	`quŸe
 (
de°
));

507  
Ál£
;

509  
åue
;

510 
	}
}

519 
	$°rù
 (c⁄° *
«me
)

521 
°©us
;

522 
pid_t
 
pid
 = 
	`f‹k
 ();

524 
pid
)

527 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("fork system call failed"));

530 
	`exe˛p
 (
°rù_¥ogøm
, såù_¥ogøm, 
«me
, 
NULL
);

531 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬ŸÑu¿%s"), 
°rù_¥ogøm
);

534 i‡(
	`waôpid
 (
pid
, &
°©us
, 0) < 0)

535 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("waiting for strip"));

536 i‡(! 
	`WIFEXITED
 (
°©us
Ë|| 
	`WEXITSTATUS
 (status))

537 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("stripÖrocessÅerminatedábnormally"));

540 
	}
}

545 
	$gë_ids
 ()

547 
∑sswd
 *
pw
;

548 
group
 *
gr
;

550 i‡(
ow√r_«me
)

552 
pw
 = 
	`gëpw«m
 (
ow√r_«me
);

553 i‡(
pw
 =
NULL
)

555 
tmp
;

556 i‡(
	`x°πoul
 (
ow√r_«me
, 
NULL
, 0, &
tmp
, NULLË!
LONGINT_OK


557 || 
UID_T_MAX
 < 
tmp
)

558 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid u£∏%s"), 
	`quŸe
 (
ow√r_«me
));

559 
ow√r_id
 = 
tmp
;

562 
ow√r_id
 = 
pw
->
pw_uid
;

563 
	`ídpwít
 ();

566 
ow√r_id
 = (
uid_t
) -1;

568 i‡(
group_«me
)

570 
gr
 = 
	`gëg∫am
 (
group_«me
);

571 i‡(
gr
 =
NULL
)

573 
tmp
;

574 i‡(
	`x°πoul
 (
group_«me
, 
NULL
, 0, &
tmp
, NULLË!
LONGINT_OK


575 || 
GID_T_MAX
 < 
tmp
)

576 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid grou∞%s"), 
	`quŸe
 (
group_«me
));

577 
group_id
 = 
tmp
;

580 
group_id
 = 
gr
->
gr_gid
;

581 
	`ídgª¡
 ();

584 
group_id
 = (
gid_t
) -1;

585 
	}
}

588 
	$ußge
 (
°©us
)

590 i‡(
°©us
 !
EXIT_SUCCESS
)

591 
	`emô_åy_hñp
 ();

594 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
: %s [OPTION]... -d DIRECTORY...\n\
"),

600 
¥ogøm_«me
,Örogram_name,Örogram_name,Örogram_name);

601 
	`Âuts
 (
	`_
("\
\n\
 in°Æ»¥ogøm c›õ†fûe†(o·í ju° compûedËötÿde°ö©i⁄\n\
 you choo£. I‡you w™àtÿdow∆ﬂdánd in°Æ»®ªady-to-u£\n\
 o¿®GNU/Löux sy°em, you should in°ód bêusögáÖackagêm™agî\n\
 yum(1Ë‹á±-gë(1).\n\
\n\
Åhêfú°Åhªêf‹ms, c›y SOURCEÅÿDEST o∏mu…ùÀ SOURCE(sËto\n\
Éxi°ög DIRECTORY, whûê£âögÖîmissi⁄ mode†™d ow√r/group.\n\
Åhê4th f‹m, cª©êÆ»comp⁄ít†o‡thêgiví DIRECTORY(õs).\n\
"), 
°dout
);

613 
	`emô_m™d©‹y_¨g_nŸe
 ();

615 
	`Âuts
 (
	`_
("\
--backup[=CONTROL] makê®backu∞o‡óchÉxi°ög de°ö©i⁄ fûe\n\
-bÜikê--backu∞buàd€†nŸác˚±á¿¨gumít\n\
-¯ (ign‹ed)\n\
-C, --com∑ª com∑ªÉachÖaú o‡sour˚ánd de°ö©i⁄ fûes,ánd\n\
 somêˇ£s, dÿnŸ modifyÅhêde°ö©i⁄áàÆl\n\
-d, --dúe˘‹yÅª©áŒárgumít†a†dúe˘‹yÇames; cª©êÆl\n\
 o‡thê•ecifõd dúe˘‹õs\n\
"), 
°dout
);

624 
	`Âuts
 (
	`_
("\
-D cª©êÆ»Àadög comp⁄ít†o‡DESTÉx˚±Åhêœ°,\n\
 c›y SOURCEÅÿDEST\n\
-g, --group=GROUP së grou∞ow√rshù, in°ód o‡¥o˚ss' cuºíàgroup\n\
-m, --mode=MODE sëÖîmissi⁄ modê◊†ö chmod), in°ód o‡rwxr-xr-x\n\
-o, --ow√r=OWNER së ow√rshù (su≥r-u£∏⁄ly)\n\
"), 
°dout
);

631 
	`Âuts
 (
	`_
("\
-p, --¥e£rve-time°amp†áµlyác˚ss/modifiˇti⁄Åime†o‡SOURCE fûes\n\
 c‹ª•⁄dög de°ö©i⁄ fûes\n\
-s, --°rù såù symbﬁÅabÀs\n\
--°rù-¥ogøm=PROGRAMÖrogøm u£dÅÿ°rù bö¨õs\n\
-S, --suffix=SUFFIX ovîridêthêusuÆ backu∞suffix\n\
-t, --èrgë-dúe˘‹y=DIRECTORY c›yáŒ SOURCEárgumít†ötÿDIRECTORY\n\
-T, --no-èrgë-dúe˘‹yÅª© DESTá†®n‹mÆ fûe\n\
-v, --vîbo£Öröàthê«mêo‡óch dúe˘‹yá†ô i†¸óãd\n\
"), 
°dout
);

641 
	`Âuts
 (
	`_
("\
--¥e£rve-c⁄ãxàÖª£rvêSELöux securôy c⁄ãxt\n\
-Z, --c⁄ãxt=CONTEXT së SELöux securôy c⁄ãxào‡fûe†™d dúe˘‹õs\
\n\
"), 
°dout
);

647 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

648 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

649 
	`Âuts
 (
	`_
("\
\n\
 backu∞suffix i†'~', u∆es†£àwôh --suffix o∏SIMPLE_BACKUP_SUFFIX.\n\
 vîsi⁄ c⁄åﬁ mëhod may bê£À˘ed vüÅhê--backu∞›ti⁄ o∏through\n\
 VERSION_CONTROLÉnvú⁄míàv¨übÀ. Hîê¨êthêvÆues:\n\
\n\
"), 
°dout
);

656 
	`Âuts
 (
	`_
("\
, of‡Çevî makêbackup†”ví i‡--backu∞i†giví)\n\
,Å makênumbîed backups\n\
,ÇûÇumbîed i‡numbîed backup†exi°, sim∂êŸhîwi£\n\
,Çevîálway†makêsim∂êbackups\n\
"), 
°dout
);

662 
	`emô_™cûœry_öfo
 ();

664 
	`exô
 (
°©us
);

665 
	}
}

671 
boﬁ


672 
	$ö°Æl_fûe_ö_fûe
 (c⁄° *
‰om
, c⁄° *
to
,

673 c⁄° 
˝_›ti⁄s
 *
x
)

675 
°©
 
‰om_sb
;

676 i‡(
x
->
¥e£rve_time°amps
 && 
	`°©
 (
‰om
, &
‰om_sb
) != 0)

678 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
‰om
));

679  
Ál£
;

681 i‡(! 
	`c›y_fûe
 (
‰om
, 
to
, 
x
))

682  
Ál£
;

683 i‡(
°rù_fûes
)

684 
	`°rù
 (
to
);

685 i‡(
x
->
¥e£rve_time°amps
 && (
°rù_fûes
 || ! 
	`S_ISREG
 (
‰om_sb
.
°_mode
))

686 && ! 
	`ch™ge_time°amps
 (&
‰om_sb
, 
to
))

687  
Ál£
;

688  
	`ch™ge_©åibuãs
 (
to
);

689 
	}
}

694 
boﬁ


695 
	$ö°Æl_fûe_ö_fûe_∑ª¡s
 (c⁄° *
‰om
, *
to
,

696 
˝_›ti⁄s
 *
x
)

698 
boﬁ
 
ßve_w‹kög_dúe˘‹y
 =

699 ! (
	`IS_ABSOLUTE_FILE_NAME
 (
‰om
Ë&& IS_ABSOLUTE_FILE_NAME (
to
));

700 
°©us
 = 
EXIT_SUCCESS
;

702 
ßvewd
 
wd
;

703 
	`ßvewd_öô
 (&
wd
);

704 i‡(! 
ßve_w‹kög_dúe˘‹y
)

705 
	`ßvewd_föish
 (&
wd
);

707 i‡(
	`mk™˚sdús
 (
to
, &
wd
, 
make_™˚°‹
, 
x
) == -1)

709 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ cª©êdúe˘‹y %s"), 
to
);

710 
°©us
 = 
EXIT_FAILURE
;

713 i‡(
ßve_w‹kög_dúe˘‹y
)

715 
ª°‹e_ªsu…
 = 
	`ßvewd_ª°‹e
 (&
wd
, 
°©us
);

716 
ª°‹e_î∫o
 = 
î∫o
;

717 
	`ßvewd_föish
 (&
wd
);

718 i‡(
EXIT_SUCCESS
 < 
ª°‹e_ªsu…
)

719  
Ál£
;

720 i‡(
ª°‹e_ªsu…
 < 0 && 
°©us
 =
EXIT_SUCCESS
)

722 
	`îr‹
 (0, 
ª°‹e_î∫o
, 
	`_
("ˇ¬Ÿ cª©êdúe˘‹y %s"), 
to
);

723  
Ál£
;

727  (
°©us
 =
EXIT_SUCCESS
 && 
	`ö°Æl_fûe_ö_fûe
 (
‰om
, 
to
, 
x
));

728 
	}
}

734 
boﬁ


735 
	$ö°Æl_fûe_ö_dú
 (c⁄° *
‰om
, c⁄° *
to_dú
,

736 c⁄° 
˝_›ti⁄s
 *
x
)

738 c⁄° *
‰om_ba£
 = 
	`œ°_comp⁄ít
 (
‰om
);

739 *
to
 = 
	`fûe_«me_c⁄ˇt
 (
to_dú
, 
‰om_ba£
, 
NULL
);

740 
boﬁ
 
ªt
 = 
	`ö°Æl_fûe_ö_fûe
 (
‰om
, 
to
, 
x
);

741 
	`‰ì
 (
to
);

742  
ªt
;

743 
	}
}

746 
	$maö
 (
¨gc
, **
¨gv
)

748 
›tc
;

749 
exô_°©us
 = 
EXIT_SUCCESS
;

750 c⁄° *
•ecifõd_mode
 = 
NULL
;

751 
boﬁ
 
make_backups
 = 
Ál£
;

752 *
backup_suffix_°rög
;

753 *
vîsi⁄_c⁄åﬁ_°rög
 = 
NULL
;

754 
boﬁ
 
mkdú_™d_ö°Æl
 = 
Ál£
;

755 
˝_›ti⁄s
 
x
;

756 c⁄° *
èrgë_dúe˘‹y
 = 
NULL
;

757 
boﬁ
 
no_èrgë_dúe˘‹y
 = 
Ál£
;

758 
n_fûes
;

759 **
fûe
;

760 
boﬁ
 
°rù_¥ogøm_•ecifõd
 = 
Ál£
;

761 
£curôy_c⁄ãxt_t
 
sc⁄ãxt
 = 
NULL
;

763 
£löux_íabÀd
 = (0 < 
	`is_£löux_íabÀd
 ());

765 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

766 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

767 
	`£éoˇÀ
 (
LC_ALL
, "");

768 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

769 
	`ãxtdomaö
 (
PACKAGE
);

771 
	`©exô
 (
˛o£_°dö
);

773 
	`˝_›ti⁄_öô
 (&
x
);

775 
ow√r_«me
 = 
NULL
;

776 
group_«me
 = 
NULL
;

777 
°rù_fûes
 = 
Ál£
;

778 
dú_¨g
 = 
Ál£
;

779 
	`umask
 (0);

783 
backup_suffix_°rög
 = 
	`gëív
 ("SIMPLE_BACKUP_SUFFIX");

785 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "bcCsDdg:m:o:±:TvS:Z:", 
l⁄g_›ti⁄s
,

786 
NULL
)) != -1)

788 
›tc
)

791 
make_backups
 = 
åue
;

792 i‡(
›èrg
)

793 
vîsi⁄_c⁄åﬁ_°rög
 = 
›èrg
;

798 
c›y_⁄ly_if_√eded
 = 
åue
;

801 
°rù_fûes
 = 
åue
;

802 #ifde‡
SIGCHLD


804 
	`sig«l
 (
SIGCHLD
, 
SIG_DFL
);

807 
STRIP_PROGRAM_OPTION
:

808 
°rù_¥ogøm
 = 
	`x°rdup
 (
›èrg
);

809 
°rù_¥ogøm_•ecifõd
 = 
åue
;

812 
dú_¨g
 = 
åue
;

815 
mkdú_™d_ö°Æl
 = 
åue
;

818 
x
.
vîbo£
 = 
åue
;

821 
group_«me
 = 
›èrg
;

824 
•ecifõd_mode
 = 
›èrg
;

827 
ow√r_«me
 = 
›èrg
;

830 
x
.
¥e£rve_time°amps
 = 
åue
;

833 
make_backups
 = 
åue
;

834 
backup_suffix_°rög
 = 
›èrg
;

837 i‡(
èrgë_dúe˘‹y
)

838 
	`îr‹
 (
EXIT_FAILURE
, 0,

839 
	`_
("multipleÅarget directories specified"));

842 
°©
 
°
;

843 i‡(
	`°©
 (
›èrg
, &
°
) != 0)

844 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅoáccess %s"),

845 
	`quŸe
 (
›èrg
));

846 i‡(! 
	`S_ISDIR
 (
°
.
°_mode
))

847 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

848 
	`quŸe
 (
›èrg
));

850 
èrgë_dúe˘‹y
 = 
›èrg
;

853 
no_èrgë_dúe˘‹y
 = 
åue
;

856 
PRESERVE_CONTEXT_OPTION
:

857 i‡–! 
£löux_íabÀd
)

859 
	`îr‹
 (0, 0, 
	`_
("WARNING: ignoring --preserve-context; "

863 
x
.
¥e£rve_£curôy_c⁄ãxt
 = 
åue
;

864 
u£_deÁu…_£löux_c⁄ãxt
 = 
Ál£
;

867 i‡–! 
£löux_íabÀd
)

869 
	`îr‹
 (0, 0, 
	`_
("WARNING: ignoring --context (-Z); "

873 
sc⁄ãxt
 = 
›èrg
;

874 
u£_deÁu…_£löux_c⁄ãxt
 = 
Ál£
;

876 
ˇ£_GETOPT_HELP_CHAR
;

877 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

879 
	`ußge
 (
EXIT_FAILURE
);

884 i‡(
dú_¨g
 && 
°rù_fûes
)

885 
	`îr‹
 (
EXIT_FAILURE
, 0,

886 
	`_
("the strip option mayÇot be used when installingá directory"));

887 i‡(
dú_¨g
 && 
èrgë_dúe˘‹y
)

888 
	`îr‹
 (
EXIT_FAILURE
, 0,

889 
	`_
("target directoryÇotállowed when installingá directory"));

891 i‡(
x
.
¥e£rve_£curôy_c⁄ãxt
 && 
sc⁄ãxt
 !
NULL
)

892 
	`îr‹
 (
EXIT_FAILURE
, 0,

893 
	`_
("cannot forceÅarget contextÅo %sándÖreserve it"),

894 
	`quŸe
 (
sc⁄ãxt
));

896 i‡(
backup_suffix_°rög
)

897 
sim∂e_backup_suffix
 = 
	`x°rdup
 (
backup_suffix_°rög
);

899 
x
.
backup_ty≥
 = (
make_backups


900 ? 
	`xgë_vîsi⁄
 (
	`_
("backupÅype"),

901 
vîsi⁄_c⁄åﬁ_°rög
)

902 : 
no_backups
);

904 i‡(
sc⁄ãxt
 && 
	`£tfs¸óãc⁄
 (scontext) < 0)

905 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

906 
	`_
("failedÅo set default file creation contextÅo %s"),

907 
	`quŸe
 (
sc⁄ãxt
));

909 
n_fûes
 = 
¨gc
 - 
›töd
;

910 
fûe
 = 
¨gv
 + 
›töd
;

912 i‡(
n_fûes
 <! (
dú_¨g
 || 
èrgë_dúe˘‹y
))

914 i‡(
n_fûes
 <= 0)

915 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

917 
	`îr‹
 (0, 0, 
	`_
("missing destination file operandáfter %s"),

918 
	`quŸe
 (
fûe
[0]));

919 
	`ußge
 (
EXIT_FAILURE
);

922 i‡(
no_èrgë_dúe˘‹y
)

924 i‡(
èrgë_dúe˘‹y
)

925 
	`îr‹
 (
EXIT_FAILURE
, 0,

926 
	`_
("cannot combine --target-directory (-t) "

928 i‡(2 < 
n_fûes
)

930 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
fûe
[2]));

931 
	`ußge
 (
EXIT_FAILURE
);

934 i‡(! (
dú_¨g
 || 
èrgë_dúe˘‹y
))

936 i‡(2 <
n_fûes
 && 
	`èrgë_dúe˘‹y_›î™d
 (
fûe
[n_files - 1]))

937 
èrgë_dúe˘‹y
 = 
fûe
[--
n_fûes
];

938 i‡(2 < 
n_fûes
)

939 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

940 
	`quŸe
 (
fûe
[
n_fûes
 - 1]));

943 i‡(
•ecifõd_mode
)

945 
mode_ch™ge
 *
ch™ge
 = 
	`mode_compûe
 (
•ecifõd_mode
);

946 i‡(!
ch™ge
)

947 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid modê%s"), 
	`quŸe
 (
•ecifõd_mode
));

948 
mode
 = 
	`mode_adju°
 (0, 
Ál£
, 0, 
ch™ge
, 
NULL
);

949 
dú_mode
 = 
	`mode_adju°
 (0, 
åue
, 0, 
ch™ge
, &
dú_mode_bôs
);

950 
	`‰ì
 (
ch™ge
);

953 i‡(
°rù_¥ogøm_•ecifõd
 && !
°rù_fûes
)

954 
	`îr‹
 (0, 0, 
	`_
("WARNING: ignoring --strip-program optionás -s option was "

957 i‡(
c›y_⁄ly_if_√eded
 && 
x
.
¥e£rve_time°amps
)

959 
	`îr‹
 (0, 0, 
	`_
("options --compare (-C)ánd --preserve-timestampsáre "

961 
	`ußge
 (
EXIT_FAILURE
);

964 i‡(
c›y_⁄ly_if_√eded
 && 
°rù_fûes
)

966 
	`îr‹
 (0, 0, 
	`_
("options --compare (-C)ánd --stripáre mutually "

968 
	`ußge
 (
EXIT_FAILURE
);

971 i‡(
c›y_⁄ly_if_√eded
 && 
	`exåa_mode
 (
mode
))

972 
	`îr‹
 (0, 0, 
	`_
("the --compare (-C) option is ignored when you"

975 
	`gë_ids
 ();

977 i‡(
dú_¨g
)

978 
exô_°©us
 = 
	`ßvewd_¥o˚ss_fûes
 (
n_fûes
, 
fûe
, 
¥o˚ss_dú
, &
x
);

983 
	`hash_öô
 ();

985 i‡(!
èrgë_dúe˘‹y
)

987 i‡(! (
mkdú_™d_ö°Æl


988 ? 
	`ö°Æl_fûe_ö_fûe_∑ª¡s
 (
fûe
[0], fûe[1], &
x
)

989 : 
	`ö°Æl_fûe_ö_fûe
 (
fûe
[0], fûe[1], &
x
)))

990 
exô_°©us
 = 
EXIT_FAILURE
;

994 
i
;

995 
	`de°_öfo_öô
 (&
x
);

996 
i
 = 0; i < 
n_fûes
; i++)

997 i‡(! 
	`ö°Æl_fûe_ö_dú
 (
fûe
[
i
], 
èrgë_dúe˘‹y
, &
x
))

998 
exô_°©us
 = 
EXIT_FAILURE
;

1002 
	`exô
 (
exô_°©us
);

1003 
	}
}

	@ioblksize.h

20 
	~"°©-size.h
"

67 íum { 
	mIO_BUFSIZE
 = 64*1024 };

68 
ölöe
 
size_t


69 
	$io_blksize
 (
°©
 
sb
)

71  
	`MAX
 (
IO_BUFSIZE
, 
	`ST_BLKSIZE
 (
sb
));

72 
	}
}

	@join.c

19 
	~<c⁄fig.h
>

21 
	~<as£π.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<gë›t.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"Ádvi£.h
"

28 
	~"h¨d-loˇÀ.h
"

29 
	~"löebuf„r.h
"

30 
	~"memˇ£cmp.h
"

31 
	~"quŸe.h
"

32 
	~"°dio--.h
"

33 
	~"xmemcﬁl.h
"

34 
	~"x°πﬁ.h
"

35 
	~"¨gm©ch.h
"

38 
	#PROGRAM_NAME
 "joö"

	)

40 
	#AUTHORS
 
	`¥›î_«me
 ("MikêH´πñ")

	)

42 
	#joö
 
sy°em_joö


	)

44 
	#SWAPLINES
(
a
, 
b
) do { \

45 
löe
 *
tmp
 = 
a
; \

46 
a
 = 
b
; \

47 
b
 = 
tmp
; \

48 } 0);

	)

52 
	souéi°


56 
	mfûe
;

59 
size_t
 
	mfõld
;

61 
ouéi°
 *
	m√xt
;

65 
	sfõld


67 *
	mbeg
;

68 
size_t
 
	mÀn
;

72 
	slöe


74 
löebuf„r
 
	mbuf
;

75 
size_t
 
	mnfõlds
;

76 
size_t
 
	mnfõlds_Æloˇãd
;

77 
fõld
 *
	mfõlds
;

82 
	s£q


84 
size_t
 
	mcou¡
;

85 
size_t
 
	mÆloc
;

86 
löe
 **
	mlöes
;

90 
löe
 *
	g¥evlöe
[2] = {
NULL
, NULL};

93 
uötmax_t
 
	glöe_no
[2] = {0, 0};

96 *
	gg_«mes
[2];

101 
löe
 *
	g•¨ñöe
[2] = {
NULL
, NULL};

104 
boﬁ
 
	gh¨d_LC_COLLATE
;

107 
boﬁ
 
	g¥öt_u≈aúabÀs_1
, 
	g¥öt_u≈aúabÀs_2
;

110 
boﬁ
 
	g¥öt_∑úabÀs
;

113 
boﬁ
 
	g£í_u≈aúabÀ
;

116 
boﬁ
 
	gissued_dis‹dî_w¨nög
[2];

119 c⁄° *
	gem±y_fûÀr
;

122 
boﬁ
 
	gautof‹m©
;

125 
size_t
 
	gautocou¡_1
;

126 
size_t
 
	gautocou¡_2
;

129 
size_t
 
	gjoö_fõld_1
 = 
SIZE_MAX
;

130 
size_t
 
	gjoö_fõld_2
 = 
SIZE_MAX
;

133 
ouéi°
 
	gouéi°_hód
;

136 
ouéi°
 *
	gouéi°_íd
 = &
ouéi°_hód
;

141 
	gèb
 = -1;

146 
	mCHECK_ORDER_DEFAULT
,

147 
	mCHECK_ORDER_ENABLED
,

148 
	mCHECK_ORDER_DISABLED


149 } 
	gcheck_öput_‹dî
;

153 
	mCHECK_ORDER_OPTION
 = 
CHAR_MAX
 + 1,

154 
	mNOCHECK_ORDER_OPTION
,

155 
	mHEADER_LINE_OPTION


159 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

161 {"ign‹e-ˇ£", 
no_¨gumít
, 
NULL
, 'i'},

162 {"check-‹dî", 
no_¨gumít
, 
NULL
, 
CHECK_ORDER_OPTION
},

163 {"nocheck-‹dî", 
no_¨gumít
, 
NULL
, 
NOCHECK_ORDER_OPTION
},

164 {"hódî", 
no_¨gumít
, 
NULL
, 
HEADER_LINE_OPTION
},

165 {
GETOPT_HELP_OPTION_DECL
},

166 {
GETOPT_VERSION_OPTION_DECL
},

167 {
NULL
, 0, NULL, 0}

171 
löe
 
	guni_bœnk
;

174 
boﬁ
 
	gign‹e_ˇ£
;

178 
boﬁ
 
	gjoö_hódî_löes
;

181 
	$ußge
 (
°©us
)

183 i‡(
°©us
 !
EXIT_SUCCESS
)

184 
	`emô_åy_hñp
 ();

187 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... FILE1 FILE2\n\
"),

190 
¥ogøm_«me
);

191 
	`Âuts
 (
	`_
("\
ÉachÖaú o‡öpuàlöe†wôh idítiˇ»joö fõlds, wrôê®löêto\n\
 ouçut. ThêdeÁu… joö fõld i†thêfú°, dñimôed\n\
 whôe•a˚. Whí FILE1 o∏FILE2 (nŸ bŸhËi†-,Ñód sènd¨d i≈ut.\n\
\n\
-®FILENUMálsÿ¥öàu≈aúabÀÜöe†‰om fûêFILENUM, whîe\n\
 i†1 o∏2, c‹ª•⁄dögÅÿFILE1 o∏FILE2\n\
-êEMPTYÑïœ˚ missög i≈uàfõld†wôh EMPTY\n\
"), 
°dout
);

200 
	`Âuts
 (
	`_
("\
-i, --ign‹e-ˇ£ ign‹êdif„ªn˚†ö ca£ whí com∑rög fõlds\n\
-j FIELDÉquivÆíàtÿ'-1 FIELD -2 FIELD'\n\
-ÿFORMAT obey FORMAT whûêc⁄°ru˘ög ouçuàlöe\n\
-àCHAR u£ CHARá†öpuà™d ouçuàfõld sï¨©‹\n\
"), 
°dout
);

206 
	`Âuts
 (
	`_
("\
-v FILENUMÜikê-®FILENUM, buàsuµªs†joöed ouçuàlöes\n\
-1 FIELD joö o¿thi†FIELD o‡fûê1\n\
-2 FIELD joö o¿thi†FIELD o‡fûê2\n\
--check-‹dî checkÅh©Åhêöpuài†c‹ª˘ly s‹ãd,Éví\n\
áŒ i≈uàlöe†¨ê∑úabÀ\n\
--nocheck-‹dî dÿnŸ checkÅh©Åhêöpuài†c‹ª˘ly s‹ãd\n\
--hódîÅª©Åhêfú°ÜöêöÉach fûêa†fõld hódîs,\n\
Åhem wôhouàåyögÅÿ∑úÅhem\n\
"), 
°dout
);

216 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

217 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

218 
	`Âuts
 (
	`_
("\
\n\
 -àCHAR i†giví,Üódög bœnk†£∑øã fõld†™dáª ign‹ed,\n\
 fõld†¨ê£∑øãd by CHAR. Any FIELD i†®fõldÇumbî cou¡ed\n\
 1. FORMAT i†⁄ê‹ m‹êcomm®‹ bœnk sï¨©ed s≥cifiˇti⁄s,\n\
 beög 'FILENUM.FIELD' o∏'0'. DeÁu… FORMAT ouçut†thêjoö fõld,\n\
Ñemaöög fõld†‰om FILE1,Åhêªmaöög fõld†‰om FILE2,áŒ\n\
 by CHAR. I‡FORMAT i†thêkeyw‹d 'auto',ÅhíÅhêfú°\n\
 o‡óch fûêdëîmöe†thênumbî o‡fõld†ouçuàf‹ÉachÜöe.\n\
\n\
: FILE1ánd FILE2 mu° bês‹ãd o¿thêjoö fõlds.\n\
.g., u£ \"s‹à-k 1b,1\" i‡'joö' ha†nÿ›ti⁄s,\n\
 u£ \"joö -à''\" i‡'s‹t' ha†nÿ›ti⁄s.\n\
, com∑ris⁄†h⁄‹ÅhêruÀ†•ecifõd by 'LC_COLLATE'.\n\
Åhêöpuài†nŸ s‹ãdánd somêlöe†ˇ¬Ÿ bêjoöed,á\n\
 mesßgêwû»bêgiví.\n\
"), 
°dout
);

235 
	`emô_™cûœry_öfo
 ();

237 
	`exô
 (
°©us
);

238 
	}
}

243 
	$exåa˘_fõld
 (
löe
 *löe, *
fõld
, 
size_t
 
Àn
)

245 i‡(
löe
->
nfõlds
 >löe->
nfõlds_Æloˇãd
)

247 
löe
->
fõlds
 = 
	`X2NREALLOC
 (löe->fõlds, &löe->
nfõlds_Æloˇãd
);

249 
löe
->
fõlds
[löe->
nfõlds
].
beg
 = 
fõld
;

250 
löe
->
fõlds
[löe->
nfõlds
].
Àn
 =Üen;

251 ++(
löe
->
nfõlds
);

252 
	}
}

257 
	$xfõlds
 (
löe
 *line)

259 *
±r
 = 
löe
->
buf
.
buf„r
;

260 c⁄° *
lim
 = 
±r
 + 
löe
->
buf
.
Àngth
 - 1;

262 i‡(
±r
 =
lim
)

265 i‡(0 <
èb
 &&Åab != '\n')

267 *
£p
;

268 ; (
£p
 = 
	`memchr
 (
±r
, 
èb
, 
lim
 -Öå)Ë!
NULL
;Ötr = sep + 1)

269 
	`exåa˘_fõld
 (
löe
, 
±r
, 
£p
 -Ötr);

271 i‡(
èb
 < 0)

274 
	`isbœnk
 (
	`to_uch¨
 (*
±r
)))

275 i‡(++
±r
 =
lim
)

280 *
£p
;

281 
£p
 = 
±r
 + 1; sï !
lim
 && ! 
	`isbœnk
 (
	`to_uch¨
 (*sep)); sep++)

283 
	`exåa˘_fõld
 (
löe
, 
±r
, 
£p
 -Ötr);

284 i‡(
£p
 =
lim
)

286 
±r
 = 
£p
 + 1;Öå !
lim
 && 
	`isbœnk
 (
	`to_uch¨
 (*ptr));Ötr++)

289 
±r
 !
lim
);

292 
	`exåa˘_fõld
 (
löe
, 
±r
, 
lim
 -Ötr);

293 
	}
}

296 
	$‰ìlöe
 (
löe
 *line)

298 i‡(
löe
 =
NULL
)

300 
	`‰ì
 (
löe
->
fõlds
);

301 
löe
->
fõlds
 = 
NULL
;

302 
	`‰ì
 (
löe
->
buf
.
buf„r
);

303 
löe
->
buf
.
buf„r
 = 
NULL
;

304 
	}
}

312 
	$keycmp
 (
löe
 c⁄° *
löe1
, löêc⁄° *
löe2
,

313 
size_t
 
jf_1
, size_à
jf_2
)

316 *
beg1
;

317 *
beg2
;

319 
size_t
 
Àn1
;

320 
size_t
 
Àn2
;

321 
diff
;

323 i‡(
jf_1
 < 
löe1
->
nfõlds
)

325 
beg1
 = 
löe1
->
fõlds
[
jf_1
].
beg
;

326 
Àn1
 = 
löe1
->
fõlds
[
jf_1
].
Àn
;

330 
beg1
 = 
NULL
;

331 
Àn1
 = 0;

334 i‡(
jf_2
 < 
löe2
->
nfõlds
)

336 
beg2
 = 
löe2
->
fõlds
[
jf_2
].
beg
;

337 
Àn2
 = 
löe2
->
fõlds
[
jf_2
].
Àn
;

341 
beg2
 = 
NULL
;

342 
Àn2
 = 0;

345 i‡(
Àn1
 == 0)

346  
Àn2
 == 0 ? 0 : -1;

347 i‡(
Àn2
 == 0)

350 i‡(
ign‹e_ˇ£
)

354 
diff
 = 
	`memˇ£cmp
 (
beg1
, 
beg2
, 
	`MIN
 (
Àn1
, 
Àn2
));

358 i‡(
h¨d_LC_COLLATE
)

359  
	`xmemcﬁl
 (
beg1
, 
Àn1
, 
beg2
, 
Àn2
);

360 
diff
 = 
	`memcmp
 (
beg1
, 
beg2
, 
	`MIN
 (
Àn1
, 
Àn2
));

363 i‡(
diff
)

364  
diff
;

365  
Àn1
 < 
Àn2
 ? -1 :Üen1 !=Üen2;

366 
	}
}

380 
	$check_‹dî
 (c⁄° 
löe
 *
¥ev
,

381 c⁄° 
löe
 *
cuºít
,

382 
wh©fûe
)

384 i‡(
check_öput_‹dî
 !
CHECK_ORDER_DISABLED


385 && ((
check_öput_‹dî
 =
CHECK_ORDER_ENABLED
Ë|| 
£í_u≈aúabÀ
))

387 i‡(!
issued_dis‹dî_w¨nög
[
wh©fûe
-1])

389 
size_t
 
joö_fõld
 = 
wh©fûe
 =1 ? 
joö_fõld_1
 : 
joö_fõld_2
;

390 i‡(
	`keycmp
 (
¥ev
, 
cuºít
, 
joö_fõld
, join_field) > 0)

393 
size_t
 
Àn
 = 
cuºít
->
buf
.
Àngth
;

394 i‡(0 < 
Àn
 && 
cuºít
->
buf
.
buf„r
[len - 1] == '\n')

395 --
Àn
;

399 
Àn
 = 
	`MIN
 (
INT_MAX
,Üen);

401 
	`îr‹
 ((
check_öput_‹dî
 =
CHECK_ORDER_ENABLED


402 ? 
EXIT_FAILURE
 : 0),

403 0, 
	`_
("%s:%"
PRIuMAX
": isÇot sorted: %.*s"),

404 
g_«mes
[
wh©fûe
 - 1], 
löe_no
[whatfile - 1],

405 (Ë
Àn
, 
cuºít
->
buf
.
buf„r
);

409 
issued_dis‹dî_w¨nög
[
wh©fûe
-1] = 
åue
;

413 
	}
}

415 
ölöe
 

416 
	$ª£t_löe
 (
löe
 *line)

418 
löe
->
nfõlds
 = 0;

419 
	}
}

421 
löe
 *

422 
	$öô_löï
 (
löe
 **
löï
)

424 
löe
 *löê
	`xˇŒoc
 (1,  *line);

425 *
löï
 = 
löe
;

426  
löe
;

427 
	}
}

432 
boﬁ


433 
	$gë_löe
 (
FILE
 *
Â
, 
löe
 **
löï
, 
which
)

435 
löe
 *löê*
löï
;

437 i‡(
löe
 =
¥evlöe
[
which
 - 1])

439 
	`SWAPLINES
 (
löe
, 
•¨ñöe
[
which
 - 1]);

440 *
löï
 = 
löe
;

443 i‡(
löe
)

444 
	`ª£t_löe
 (
löe
);

446 
löe
 = 
	`öô_löï
 (
löï
);

448 i‡(! 
	`ªadlöebuf„r
 (&
löe
->
buf
, 
Â
))

450 i‡(
	`„º‹
 (
Â
))

451 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

452 
	`‰ìlöe
 (
löe
);

453  
Ál£
;

455 ++
löe_no
[
which
 - 1];

457 
	`xfõlds
 (
löe
);

459 i‡(
¥evlöe
[
which
 - 1])

460 
	`check_‹dî
 (
¥evlöe
[
which
 - 1], 
löe
, which);

462 
¥evlöe
[
which
 - 1] = 
löe
;

463  
åue
;

464 
	}
}

467 
	$‰ì_•¨ñöe
 ()

469 
size_t
 
i
;

471 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
•¨ñöe
); i++)

473 i‡(
•¨ñöe
[
i
])

475 
	`‰ìlöe
 (
•¨ñöe
[
i
]);

476 
	`‰ì
 (
•¨ñöe
[
i
]);

479 
	}
}

482 
	$öô£q
 (
£q
 *seq)

484 
£q
->
cou¡
 = 0;

485 
£q
->
Æloc
 = 0;

486 
£q
->
löes
 = 
NULL
;

487 
	}
}

491 
boﬁ


492 
	$gë£q
 (
FILE
 *
Â
, 
£q
 *£q, 
whichfûe
)

494 i‡(
£q
->
cou¡
 =£q->
Æloc
)

496 
size_t
 
i
;

497 
£q
->
löes
 = 
	`X2NREALLOC
 (£q->löes, &£q->
Æloc
);

498 
i
 = 
£q
->
cou¡
; i < seq->
Æloc
; i++)

499 
£q
->
löes
[
i
] = 
NULL
;

502 i‡(
	`gë_löe
 (
Â
, &
£q
->
löes
[£q->
cou¡
], 
whichfûe
))

504 ++
£q
->
cou¡
;

505  
åue
;

507  
Ál£
;

508 
	}
}

512 
boﬁ


513 
	$adv™˚_£q
 (
FILE
 *
Â
, 
£q
 *£q, 
boﬁ
 
fú°
, 
whichfûe
)

515 i‡(
fú°
)

516 
£q
->
cou¡
 = 0;

518  
	`gë£q
 (
Â
, 
£q
, 
whichfûe
);

519 
	}
}

522 
	$dñ£q
 (
£q
 *seq)

524 
size_t
 
i
;

525 
i
 = 0; i < 
£q
->
Æloc
; i++)

527 
	`‰ìlöe
 (
£q
->
löes
[
i
]);

528 
	`‰ì
 (
£q
->
löes
[
i
]);

530 
	`‰ì
 (
£q
->
löes
);

531 
	}
}

538 
	$¥fõld
 (
size_t
 
n
, 
löe
 const *line)

540 
size_t
 
Àn
;

542 i‡(
n
 < 
löe
->
nfõlds
)

544 
Àn
 = 
löe
->
fõlds
[
n
].len;

545 i‡(
Àn
)

546 
	`fwrôe
 (
löe
->
fõlds
[
n
].
beg
, 1, 
Àn
, 
°dout
);

547 i‡(
em±y_fûÀr
)

548 
	`Âuts
 (
em±y_fûÀr
, 
°dout
);

550 i‡(
em±y_fûÀr
)

551 
	`Âuts
 (
em±y_fûÀr
, 
°dout
);

552 
	}
}

557 
	$¥fõlds
 (
löe
 c⁄° *löe, 
size_t
 
joö_fõld
, size_à
autocou¡
)

559 
size_t
 
i
;

560 
size_t
 
nfõlds
 = 
autof‹m©
 ? 
autocou¡
 : 
löe
->nfields;

561 
ouçut_£∑øt‹
 = 
èb
 < 0 ? ' ' :Åab;

563 
i
 = 0; i < 
joö_fõld
 && i < 
nfõlds
; ++i)

565 
	`putch¨
 (
ouçut_£∑øt‹
);

566 
	`¥fõld
 (
i
, 
löe
);

568 
i
 = 
joö_fõld
 + 1; i < 
nfõlds
; ++i)

570 
	`putch¨
 (
ouçut_£∑øt‹
);

571 
	`¥fõld
 (
i
, 
löe
);

573 
	}
}

578 
	$¥joö
 (
löe
 c⁄° *
löe1
, löêc⁄° *
löe2
)

580 c⁄° 
ouéi°
 *outlist;

581 
ouçut_£∑øt‹
 = 
èb
 < 0 ? ' ' :Åab;

582 
size_t
 
fõld
;

583 
löe
 const *line;

585 
ouéi°
 = 
ouéi°_hód
.
√xt
;

586 i‡(
ouéi°
)

588 c⁄° 
ouéi°
 *
o
;

590 
o
 = 
ouéi°
;

593 i‡(
o
->
fûe
 == 0)

595 i‡(
löe1
 =&
uni_bœnk
)

597 
löe
 = 
löe2
;

598 
fõld
 = 
joö_fõld_2
;

602 
löe
 = 
löe1
;

603 
fõld
 = 
joö_fõld_1
;

608 
löe
 = (
o
->
fûe
 =1 ? 
löe1
 : 
löe2
);

609 
fõld
 = 
o
->field;

611 
	`¥fõld
 (
fõld
, 
löe
);

612 
o
 = o->
√xt
;

613 i‡(
o
 =
NULL
)

615 
	`putch¨
 (
ouçut_£∑øt‹
);

617 
	`putch¨
 ('\n');

621 i‡(
löe1
 =&
uni_bœnk
)

623 
löe
 = 
löe2
;

624 
fõld
 = 
joö_fõld_2
;

628 
löe
 = 
löe1
;

629 
fõld
 = 
joö_fõld_1
;

633 
	`¥fõld
 (
fõld
, 
löe
);

636 
	`¥fõlds
 (
löe1
, 
joö_fõld_1
, 
autocou¡_1
);

637 
	`¥fõlds
 (
löe2
, 
joö_fõld_2
, 
autocou¡_2
);

639 
	`putch¨
 ('\n');

641 
	}
}

646 
	$joö
 (
FILE
 *
Â1
, FILE *
Â2
)

648 
£q
 
£q1
, 
£q2
;

649 
diff
;

650 
boﬁ
 
eof1
, 
eof2
;

652 
	`Ádvi£
 (
Â1
, 
FADVISE_SEQUENTIAL
);

653 
	`Ádvi£
 (
Â2
, 
FADVISE_SEQUENTIAL
);

656 
	`öô£q
 (&
£q1
);

657 
	`gë£q
 (
Â1
, &
£q1
, 1);

658 
	`öô£q
 (&
£q2
);

659 
	`gë£q
 (
Â2
, &
£q2
, 2);

661 i‡(
autof‹m©
)

663 
autocou¡_1
 = 
£q1
.
cou¡
 ? seq1.
löes
[0]->
nfõlds
 : 0;

664 
autocou¡_2
 = 
£q2
.
cou¡
 ? seq2.
löes
[0]->
nfõlds
 : 0;

667 i‡(
joö_hódî_löes
 && (
£q1
.
cou¡
 || 
£q2
.count))

669 
löe
 c⁄° *
hlöe1
 = 
£q1
.
cou¡
 ? seq1.
löes
[0] : &
uni_bœnk
;

670 
löe
 c⁄° *
hlöe2
 = 
£q2
.
cou¡
 ? seq2.
löes
[0] : &
uni_bœnk
;

671 
	`¥joö
 (
hlöe1
, 
hlöe2
);

672 
¥evlöe
[0] = 
NULL
;

673 
¥evlöe
[1] = 
NULL
;

674 i‡(
£q1
.
cou¡
)

675 
	`adv™˚_£q
 (
Â1
, &
£q1
, 
åue
, 1);

676 i‡(
£q2
.
cou¡
)

677 
	`adv™˚_£q
 (
Â2
, &
£q2
, 
åue
, 2);

680 
£q1
.
cou¡
 && 
£q2
.count)

682 
size_t
 
i
;

683 
diff
 = 
	`keycmp
 (
£q1
.
löes
[0], 
£q2
.lines[0],

684 
joö_fõld_1
, 
joö_fõld_2
);

685 i‡(
diff
 < 0)

687 i‡(
¥öt_u≈aúabÀs_1
)

688 
	`¥joö
 (
£q1
.
löes
[0], &
uni_bœnk
);

689 
	`adv™˚_£q
 (
Â1
, &
£q1
, 
åue
, 1);

690 
£í_u≈aúabÀ
 = 
åue
;

693 i‡(
diff
 > 0)

695 i‡(
¥öt_u≈aúabÀs_2
)

696 
	`¥joö
 (&
uni_bœnk
, 
£q2
.
löes
[0]);

697 
	`adv™˚_£q
 (
Â2
, &
£q2
, 
åue
, 2);

698 
£í_u≈aúabÀ
 = 
åue
;

704 
eof1
 = 
Ál£
;

706 i‡(!
	`adv™˚_£q
 (
Â1
, &
£q1
, 
Ál£
, 1))

708 
eof1
 = 
åue
;

709 ++
£q1
.
cou¡
;

712 !
	`keycmp
 (
£q1
.
löes
[£q1.
cou¡
 - 1], 
£q2
.lines[0],

713 
joö_fõld_1
, 
joö_fõld_2
));

717 
eof2
 = 
Ál£
;

719 i‡(!
	`adv™˚_£q
 (
Â2
, &
£q2
, 
Ál£
, 2))

721 
eof2
 = 
åue
;

722 ++
£q2
.
cou¡
;

725 !
	`keycmp
 (
£q1
.
löes
[0], 
£q2
.löes[£q2.
cou¡
 - 1],

726 
joö_fõld_1
, 
joö_fõld_2
));

728 i‡(
¥öt_∑úabÀs
)

730 
i
 = 0; i < 
£q1
.
cou¡
 - 1; ++i)

732 
size_t
 
j
;

733 
j
 = 0; j < 
£q2
.
cou¡
 - 1; ++j)

734 
	`¥joö
 (
£q1
.
löes
[
i
], 
£q2
.löes[
j
]);

738 i‡(!
eof1
)

740 
	`SWAPLINES
 (
£q1
.
löes
[0], seq1.löes[£q1.
cou¡
 - 1]);

741 
£q1
.
cou¡
 = 1;

744 
£q1
.
cou¡
 = 0;

746 i‡(!
eof2
)

748 
	`SWAPLINES
 (
£q2
.
löes
[0], seq2.löes[£q2.
cou¡
 - 1]);

749 
£q2
.
cou¡
 = 1;

752 
£q2
.
cou¡
 = 0;

759 
löe
 *löê
NULL
;

760 
boﬁ
 
checkèû
 = 
Ál£
;

762 i‡(
check_öput_‹dî
 !
CHECK_ORDER_DISABLED


763 && !(
issued_dis‹dî_w¨nög
[0] && issued_disorder_warning[1]))

764 
checkèû
 = 
åue
;

766 i‡((
¥öt_u≈aúabÀs_1
 || 
checkèû
Ë&& 
£q1
.
cou¡
)

768 i‡(
¥öt_u≈aúabÀs_1
)

769 
	`¥joö
 (
£q1
.
löes
[0], &
uni_bœnk
);

770 i‡(
£q2
.
cou¡
)

771 
£í_u≈aúabÀ
 = 
åue
;

772 
	`gë_löe
 (
Â1
, &
löe
, 1))

774 i‡(
¥öt_u≈aúabÀs_1
)

775 
	`¥joö
 (
löe
, &
uni_bœnk
);

776 i‡(
issued_dis‹dî_w¨nög
[0] && !
¥öt_u≈aúabÀs_1
)

781 i‡((
¥öt_u≈aúabÀs_2
 || 
checkèû
Ë&& 
£q2
.
cou¡
)

783 i‡(
¥öt_u≈aúabÀs_2
)

784 
	`¥joö
 (&
uni_bœnk
, 
£q2
.
löes
[0]);

785 i‡(
£q1
.
cou¡
)

786 
£í_u≈aúabÀ
 = 
åue
;

787 
	`gë_löe
 (
Â2
, &
löe
, 2))

789 i‡(
¥öt_u≈aúabÀs_2
)

790 
	`¥joö
 (&
uni_bœnk
, 
löe
);

791 i‡(
issued_dis‹dî_w¨nög
[1] && !
¥öt_u≈aúabÀs_2
)

796 
	`‰ìlöe
 (
löe
);

797 
	`‰ì
 (
löe
);

799 
	`dñ£q
 (&
£q1
);

800 
	`dñ£q
 (&
£q2
);

801 
	}
}

806 
	$add_fõld
 (
fûe
, 
size_t
 
fõld
)

808 
ouéi°
 *
o
;

810 
	`as£π
 (
fûe
 == 0 || file == 1 || file == 2);

811 
	`as£π
 (
fûe
 !0 || 
fõld
 == 0);

813 
o
 = 
	`xmÆloc
 ( *o);

814 
o
->
fûe
 = file;

815 
o
->
fõld
 = field;

816 
o
->
√xt
 = 
NULL
;

819 
ouéi°_íd
->
√xt
 = 
o
;

820 
ouéi°_íd
 = 
o
;

821 
	}
}

829 
size_t


830 
	$°rög_to_joö_fõld
 (c⁄° *
°r
)

832 
size_t
 
ªsu…
;

833 
vÆ
;

834 
	`vîify
 (
SIZE_MAX
 <
ULONG_MAX
);

836 
°πﬁ_îr‹
 
s_îr
 = 
	`x°πoul
 (
°r
, 
NULL
, 10, &
vÆ
, "");

837 i‡(
s_îr
 =
LONGINT_OVERFLOW
 || (s_î∏=
LONGINT_OK
 && 
SIZE_MAX
 < 
vÆ
))

838 
vÆ
 = 
SIZE_MAX
;

839 i‡(
s_îr
 !
LONGINT_OK
 || 
vÆ
 == 0)

840 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid fõldÇumbî: %s"), 
	`quŸe
 (
°r
));

842 
ªsu…
 = 
vÆ
 - 1;

844  
ªsu…
;

845 
	}
}

852 
	$decode_fõld_•ec
 (c⁄° *
s
, *
fûe_ödex
, 
size_t
 *
fõld_ödex
)

855 
s
[0])

858 i‡(
s
[1])

861 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid fõld s≥cifõr: %s"), 
	`quŸe
 (
s
));

863 *
fûe_ödex
 = 0;

864 *
fõld_ödex
 = 0;

869 i‡(
s
[1] != '.')

870 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid fõld s≥cifõr: %s"), 
	`quŸe
 (
s
));

871 *
fûe_ödex
 = 
s
[0] - '0';

872 *
fõld_ödex
 = 
	`°rög_to_joö_fõld
 (
s
 + 2);

876 
	`îr‹
 (
EXIT_FAILURE
, 0,

877 
	`_
("övÆid fûênumbî i¿fõld s≥c: %s"), 
	`quŸe
 (
s
));

882 
	`ab‹t
 ();

886 
	}
}

891 
	$add_fõld_li°
 (*
°r
)

893 *
p
 = 
°r
;

897 
fûe_ödex
;

898 
size_t
 
fõld_ödex
;

899 c⁄° *
•ec_ôem
 = 
p
;

901 
p
 = 
	`°Ωbrk
 (p, ", \t");

902 i‡(
p
)

903 *
p
++ = '\0';

904 
	`decode_fõld_•ec
 (
•ec_ôem
, &
fûe_ödex
, &
fõld_ödex
);

905 
	`add_fõld
 (
fûe_ödex
, 
fõld_ödex
);

907 
p
);

908 
	}
}

914 
	$£t_joö_fõld
 (
size_t
 *
v¨
, size_à
vÆ
)

916 i‡(*
v¨
 !
SIZE_MAX
 && *v¨ !
vÆ
)

918 
v¨1
 = *
v¨
 + 1;

919 
vÆ1
 = 
vÆ
 + 1;

920 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("incompatible join fields %lu, %lu"),

921 
v¨1
, 
vÆ1
);

923 *
v¨
 = 
vÆ
;

924 
	}
}

928 
	e›î™d_°©us


932 
	mMUST_BE_OPERAND
,

936 
	mMIGHT_BE_J1_ARG
,

937 
	mMIGHT_BE_J2_ARG
,

941 
	mMIGHT_BE_O_ARG


948 
	$add_fûe_«me
 (*
«me
, *
«mes
[2],

949 
›î™d_°©us
[2], 
j›ti⁄_cou¡
[2], *
nfûes
,

950 *
¥ev_›tc_°©us
, *
›tc_°©us
)

952 
n
 = *
nfûes
;

954 i‡(
n
 == 2)

956 
boﬁ
 
›0
 = (
›î™d_°©us
[0] =
MUST_BE_OPERAND
);

957 *
¨g
 = 
«mes
[
›0
];

958 
›î™d_°©us
[
›0
])

960 
MUST_BE_OPERAND
:

961 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
«me
));

962 
	`ußge
 (
EXIT_FAILURE
);

964 
MIGHT_BE_J1_ARG
:

965 
j›ti⁄_cou¡
[0]--;

966 
	`£t_joö_fõld
 (&
joö_fõld_1
, 
	`°rög_to_joö_fõld
 (
¨g
));

969 
MIGHT_BE_J2_ARG
:

970 
j›ti⁄_cou¡
[1]--;

971 
	`£t_joö_fõld
 (&
joö_fõld_2
, 
	`°rög_to_joö_fõld
 (
¨g
));

974 
MIGHT_BE_O_ARG
:

975 
	`add_fõld_li°
 (
¨g
);

978 i‡(!
›0
)

980 
›î™d_°©us
[0] = operand_status[1];

981 
«mes
[0] =Çames[1];

983 
n
 = 1;

986 
›î™d_°©us
[
n
] = *
¥ev_›tc_°©us
;

987 
«mes
[
n
] = 
«me
;

988 *
nfûes
 = 
n
 + 1;

989 i‡(*
¥ev_›tc_°©us
 =
MIGHT_BE_O_ARG
)

990 *
›tc_°©us
 = 
MIGHT_BE_O_ARG
;

991 
	}
}

994 
	$maö
 (
¨gc
, **
¨gv
)

996 
›tc_°©us
;

997 
¥ev_›tc_°©us
 = 
MUST_BE_OPERAND
;

998 
›î™d_°©us
[2];

999 
j›ti⁄_cou¡
[2] = { 0, 0 };

1000 
FILE
 *
Â1
, *
Â2
;

1001 
›tc
;

1002 
nfûes
 = 0;

1003 
i
;

1005 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1006 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1007 
	`£éoˇÀ
 (
LC_ALL
, "");

1008 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1009 
	`ãxtdomaö
 (
PACKAGE
);

1010 
h¨d_LC_COLLATE
 = 
	`h¨d_loˇÀ
 (
LC_COLLATE
);

1012 
	`©exô
 (
˛o£_°dout
);

1013 
	`©exô
 (
‰ì_•¨ñöe
);

1015 
¥öt_∑úabÀs
 = 
åue
;

1016 
£í_u≈aúabÀ
 = 
Ál£
;

1017 
issued_dis‹dî_w¨nög
[0] = issued_dis‹dî_w¨nög[1] = 
Ál£
;

1018 
check_öput_‹dî
 = 
CHECK_ORDER_DEFAULT
;

1020 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "-a:e:i1:2:j:o:t:v:",

1021 
l⁄g›ts
, 
NULL
))

1024 
›tc_°©us
 = 
MUST_BE_OPERAND
;

1026 
›tc
)

1029 
¥öt_∑úabÀs
 = 
Ál£
;

1034 
vÆ
;

1035 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
vÆ
, ""Ë!
LONGINT_OK


1036 || (
vÆ
 != 1 && val != 2))

1037 
	`îr‹
 (
EXIT_FAILURE
, 0,

1038 
	`_
("övÆid fõldÇumbî: %s"), 
	`quŸe
 (
›èrg
));

1039 i‡(
vÆ
 == 1)

1040 
¥öt_u≈aúabÀs_1
 = 
åue
;

1042 
¥öt_u≈aúabÀs_2
 = 
åue
;

1047 i‡(
em±y_fûÀr
 && ! 
	`STREQ
 (em±y_fûÀr, 
›èrg
))

1048 
	`îr‹
 (
EXIT_FAILURE
, 0,

1049 
	`_
("conflictingÉmpty-fieldÑeplacement strings"));

1050 
em±y_fûÀr
 = 
›èrg
;

1054 
ign‹e_ˇ£
 = 
åue
;

1058 
	`£t_joö_fõld
 (&
joö_fõld_1
, 
	`°rög_to_joö_fõld
 (
›èrg
));

1062 
	`£t_joö_fõld
 (&
joö_fõld_2
, 
	`°rög_to_joö_fõld
 (
›èrg
));

1066 i‡((
›èrg
[0] == '1' || optarg[0] == '2') && !optarg[1]

1067 && 
›èrg
 =
¨gv
[
›töd
 - 1] + 2)

1070 
boﬁ
 
is_j2
 = (
›èrg
[0] == '2');

1071 
j›ti⁄_cou¡
[
is_j2
]++;

1072 
›tc_°©us
 = 
MIGHT_BE_J1_ARG
 + 
is_j2
;

1076 
	`£t_joö_fõld
 (&
joö_fõld_1
, 
	`°rög_to_joö_fõld
 (
›èrg
));

1077 
	`£t_joö_fõld
 (&
joö_fõld_2
, 
joö_fõld_1
);

1082 i‡(
	`STREQ
 (
›èrg
, "auto"))

1083 
autof‹m©
 = 
åue
;

1086 
	`add_fõld_li°
 (
›èrg
);

1087 
›tc_°©us
 = 
MIGHT_BE_O_ARG
;

1093 
√wèb
 = 
›èrg
[0];

1094 i‡(! 
√wèb
)

1095 
√wèb
 = '\n';

1096 i‡(
›èrg
[1])

1098 i‡(
	`STREQ
 (
›èrg
, "\\0"))

1099 
√wèb
 = '\0';

1101 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multi-characterÅab %s"),

1102 
	`quŸe
 (
›èrg
));

1104 i‡(0 <
èb
 &&Åab !
√wèb
)

1105 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("incompatibleÅabs"));

1106 
èb
 = 
√wèb
;

1110 
NOCHECK_ORDER_OPTION
:

1111 
check_öput_‹dî
 = 
CHECK_ORDER_DISABLED
;

1114 
CHECK_ORDER_OPTION
:

1115 
check_öput_‹dî
 = 
CHECK_ORDER_ENABLED
;

1119 
	`add_fûe_«me
 (
›èrg
, 
g_«mes
, 
›î™d_°©us
, 
j›ti⁄_cou¡
,

1120 &
nfûes
, &
¥ev_›tc_°©us
, &
›tc_°©us
);

1123 
HEADER_LINE_OPTION
:

1124 
joö_hódî_löes
 = 
åue
;

1127 
ˇ£_GETOPT_HELP_CHAR
;

1129 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1132 
	`ußge
 (
EXIT_FAILURE
);

1135 
¥ev_›tc_°©us
 = 
›tc_°©us
;

1139 
¥ev_›tc_°©us
 = 
MUST_BE_OPERAND
;

1140 
›töd
 < 
¨gc
)

1141 
	`add_fûe_«me
 (
¨gv
[
›töd
++], 
g_«mes
, 
›î™d_°©us
, 
j›ti⁄_cou¡
,

1142 &
nfûes
, &
¥ev_›tc_°©us
, &
›tc_°©us
);

1144 i‡(
nfûes
 != 2)

1146 i‡(
nfûes
 == 0)

1147 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

1149 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

1150 
	`ußge
 (
EXIT_FAILURE
);

1155 
i
 = 0; i < 2; i++)

1156 i‡(
j›ti⁄_cou¡
[
i
] != 0)

1158 
	`£t_joö_fõld
 (&
joö_fõld_1
, 
i
);

1159 
	`£t_joö_fõld
 (&
joö_fõld_2
, 
i
);

1162 i‡(
joö_fõld_1
 =
SIZE_MAX
)

1163 
joö_fõld_1
 = 0;

1164 i‡(
joö_fõld_2
 =
SIZE_MAX
)

1165 
joö_fõld_2
 = 0;

1167 
Â1
 = 
	`STREQ
 (
g_«mes
[0], "-"Ë? 
°dö
 : 
	`f›í
 (g_names[0], "r");

1168 i‡(!
Â1
)

1169 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
g_«mes
[0]);

1170 
Â2
 = 
	`STREQ
 (
g_«mes
[1], "-"Ë? 
°dö
 : 
	`f›í
 (g_names[1], "r");

1171 i‡(!
Â2
)

1172 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
g_«mes
[1]);

1173 i‡(
Â1
 =
Â2
)

1174 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("both files cannot be standard input"));

1175 
	`joö
 (
Â1
, 
Â2
);

1177 i‡(
	`f˛o£
 (
Â1
) != 0)

1178 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
g_«mes
[0]);

1179 i‡(
	`f˛o£
 (
Â2
) != 0)

1180 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
g_«mes
[1]);

1182 i‡(
issued_dis‹dî_w¨nög
[0] || issued_disorder_warning[1])

1183 
	`exô
 (
EXIT_FAILURE
);

1185 
	`exô
 (
EXIT_SUCCESS
);

1186 
	}
}

	@kill.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<sig«l.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"sig2°r.h
"

28 
	~"›î™d2sig.h
"

31 
	#PROGRAM_NAME
 "kûl"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("Pau»Eggît")

	)

35 #i‡! (
HAVE_DECL_STRSIGNAL
 || 
deföed
 
°rsig«l
)

36 #i‡! (
HAVE_DECL_SYS_SIGLIST
 || 
deföed
 
sys_sigli°
)

37 #i‡
HAVE_DECL__SYS_SIGLIST
 || 
deföed
 
_sys_sigli°


38 
	#sys_sigli°
 
_sys_sigli°


	)

39 #ñi‡
HAVE_DECL___SYS_SIGLIST
 || 
deföed
 
__sys_sigli°


40 
	#sys_sigli°
 
__sys_sigli°


	)

43 #i‡
HAVE_DECL_SYS_SIGLIST
 || 
deföed
 
sys_sigli°


44 
	#°rsig«l
(
signum
Ë(0 <(signumË&& (signumË<
SIGNUM_BOUND
 \

45 ? 
sys_sigli°
[
signum
] \

46 : 0)

	)

48 #i‚de‡
°rsig«l


49 
	#°rsig«l
(
signum
Ë0

	)

53 c⁄° 
	gsh‹t_›ti⁄s
[] =

59 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

61 {"li°", 
no_¨gumít
, 
NULL
, 'l'},

62 {"sig«l", 
ªquúed_¨gumít
, 
NULL
, 's'},

63 {"èbÀ", 
no_¨gumít
, 
NULL
, 't'},

64 {
GETOPT_HELP_OPTION_DECL
},

65 {
GETOPT_VERSION_OPTION_DECL
},

66 {
NULL
, 0, NULL, 0}

70 
	$ußge
 (
°©us
)

72 i‡(
°©us
 !
EXIT_SUCCESS
)

73 
	`emô_åy_hñp
 ();

76 
	`¥ötf
 (
	`_
("\
: %s [-s SIGNAL | -SIGNAL] PID...\n\
: %s -l [SIGNAL]...\n\
: %s -t [SIGNAL]...\n\
"),

81 
¥ogøm_«me
,Örogram_name,Örogram_name);

82 
	`Âuts
 (
	`_
("\
 sig«l†tÿ¥o˚s£s, o∏li° sig«ls.\n\
"), 
°dout
);

86 
	`emô_m™d©‹y_¨g_nŸe
 ();

88 
	`Âuts
 (
	`_
("\
-s, --sig«l=SIGNAL, -SIGNAL\n\
Åhê«mê‹Çumbî o‡thêsig«»tÿbê£¡\n\
-l, --li°Üi° sig«»«mes, o∏c⁄vîàsig«»«me†to/‰omÇumbîs\n\
-t, --èbÀÖröà®èbÀ o‡sig«»öf‹m©i⁄\n\
"), 
°dout
);

94 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

95 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

96 
	`Âuts
 (
	`_
("\n\
 may bê®sig«»«mêlikê'HUP', o∏®sig«»numbîÜikê'1',\n\
Åhêexô sètu†o‡®¥o˚s†ãrmö©ed byá sig«l.\n\
 i†™ i¡egî; i‡√g©ivêô idítifõ†®¥o˚s†group.\n\
"), 
°dout
);

101 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

102 
	`emô_™cûœry_öfo
 ();

104 
	`exô
 (
°©us
);

105 
	}
}

112 
	$¥öt_èbÀ_row
 (
num_width
, 
signum
,

113 
«me_width
, c⁄° *
sig«me
)

115 c⁄° *
des¸ùti⁄
 = 
	`°rsig«l
 (
signum
);

116 
	`¥ötf
 ("%*d %-*†%s\n", 
num_width
, 
signum
, 
«me_width
, 
sig«me
,

117 
des¸ùti⁄
 ? description : "?");

118 
	}
}

125 
	$li°_sig«ls
 (
boﬁ
 
èbÀ
, *c⁄° *
¨gv
)

127 
signum
;

128 
°©us
 = 
EXIT_SUCCESS
;

129 
sig«me
[
SIG2STR_MAX
];

131 i‡(
èbÀ
)

133 
«me_width
 = 0;

136 
num_width
 = 1;

137 
signum
 = 1; signum <
SIGNUM_BOUND
 / 10; signum *= 10)

138 
num_width
++;

141 
signum
 = 1; signum <
SIGNUM_BOUND
; signum++)

142 i‡(
	`sig2°r
 (
signum
, 
sig«me
) == 0)

144 
size_t
 
Àn
 = 
	`°æí
 (
sig«me
);

145 i‡(
«me_width
 < 
Àn
)

146 
«me_width
 = 
Àn
;

149 i‡(
¨gv
)

150 ; *
¨gv
;árgv++)

152 
signum
 = 
	`›î™d2sig
 (*
¨gv
, 
sig«me
);

153 i‡(
signum
 < 0)

154 
°©us
 = 
EXIT_FAILURE
;

156 
	`¥öt_èbÀ_row
 (
num_width
, 
signum
, 
«me_width
, 
sig«me
);

159 
signum
 = 1; signum <
SIGNUM_BOUND
; signum++)

160 i‡(
	`sig2°r
 (
signum
, 
sig«me
) == 0)

161 
	`¥öt_èbÀ_row
 (
num_width
, 
signum
, 
«me_width
, 
sig«me
);

165 i‡(
¨gv
)

166 ; *
¨gv
;árgv++)

168 
signum
 = 
	`›î™d2sig
 (*
¨gv
, 
sig«me
);

169 i‡(
signum
 < 0)

170 
°©us
 = 
EXIT_FAILURE
;

173 i‡(
	`ISDIGIT
 (**
¨gv
))

174 
	`puts
 (
sig«me
);

176 
	`¥ötf
 ("%d\n", 
signum
);

180 
signum
 = 1; signum <
SIGNUM_BOUND
; signum++)

181 i‡(
	`sig2°r
 (
signum
, 
sig«me
) == 0)

182 
	`puts
 (
sig«me
);

185  
°©us
;

186 
	}
}

192 
	$£nd_sig«ls
 (
signum
, *c⁄° *
¨gv
)

194 
°©us
 = 
EXIT_SUCCESS
;

195 c⁄° *
¨g
 = *
¨gv
;

199 *
ídp
;

200 
ötmax_t
 
n
 = (
î∫o
 = 0, 
	`°πoimax
 (
¨g
, &
ídp
, 10));

201 
pid_t
 
pid
 = 
n
;

203 i‡(
î∫o
 =
ERANGE
 || 
pid
 !
n
 || 
¨g
 =
ídp
 || *endp)

205 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÖro˚s†id"), 
¨g
);

206 
°©us
 = 
EXIT_FAILURE
;

208 i‡(
	`kûl
 (
pid
, 
signum
) != 0)

210 
	`îr‹
 (0, 
î∫o
, "%s", 
¨g
);

211 
°©us
 = 
EXIT_FAILURE
;

214 (
¨g
 = *++
¨gv
));

216  
°©us
;

217 
	}
}

220 
	$maö
 (
¨gc
, **
¨gv
)

222 
›tc
;

223 
boﬁ
 
li°
 = 
Ál£
;

224 
boﬁ
 
èbÀ
 = 
Ál£
;

225 
signum
 = -1;

226 
sig«me
[
SIG2STR_MAX
];

228 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

229 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

230 
	`£éoˇÀ
 (
LC_ALL
, "");

231 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

232 
	`ãxtdomaö
 (
PACKAGE
);

234 
	`©exô
 (
˛o£_°dout
);

236 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, 
NULL
))

238 
›tc
)

242 i‡(
›töd
 != 2)

245 
›töd
--;

246 
no_m‹e_›ti⁄s
;

255 i‡(! 
›èrg
)

256 
›èrg
 = 
¨gv
[
›töd
 - 1] + 
	`°æí
 (argv[optind - 1]);

257 i‡(
›èrg
 !
¨gv
[
›töd
 - 1] + 2)

259 
	`îr‹
 (0, 0, 
	`_
("övÆid o±i⁄ -- %c"), 
›tc
);

260 
	`ußge
 (
EXIT_FAILURE
);

262 
›èrg
--;

266 i‡(0 <
signum
)

268 
	`îr‹
 (0, 0, 
	`_
("%s: mu…ùÀ sig«l†•ecifõd"), 
›èrg
);

269 
	`ußge
 (
EXIT_FAILURE
);

271 
signum
 = 
	`›î™d2sig
 (
›èrg
, 
sig«me
);

272 i‡(
signum
 < 0)

273 
	`ußge
 (
EXIT_FAILURE
);

277 
èbÀ
 = 
åue
;

280 i‡(
li°
)

282 
	`îr‹
 (0, 0, 
	`_
("multiple -l or -t options specified"));

283 
	`ußge
 (
EXIT_FAILURE
);

285 
li°
 = 
åue
;

288 
ˇ£_GETOPT_HELP_CHAR
;

289 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

291 
	`ußge
 (
EXIT_FAILURE
);

293 
no_m‹e_›ti⁄s
:

295 i‡(
signum
 < 0)

296 
signum
 = 
SIGTERM
;

297 i‡(
li°
)

299 
	`îr‹
 (0, 0, 
	`_
("cannot combine signal with -l or -t"));

300 
	`ußge
 (
EXIT_FAILURE
);

303 i‡–! 
li°
 && 
¨gc
 <
›töd
)

305 
	`îr‹
 (0, 0, 
	`_
("noÖrocess ID specified"));

306 
	`ußge
 (
EXIT_FAILURE
);

309  (
li°


310 ? 
	`li°_sig«ls
 (
èbÀ
, 
›töd
 < 
¨gc
 ? 
¨gv
 + o±öd : 
NULL
)

311 : 
	`£nd_sig«ls
 (
signum
, 
¨gv
 + 
›töd
));

312 
	}
}

	@lbracket.c

1 
	#LBRACKET
 1

	)

2 
	~"ã°.c
"

	@libstdbuf.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<°dlib.h
>

22 
	~"sy°em.h
"

23 
	~"vîify.h
"

62 
	$fûío_to_«me
 (c⁄° 
fd
)

64 c⁄° *
ªt
 = 
NULL
;

66 
fd
)

69 
ªt
 = "stdin";

72 
ªt
 = "stdout";

75 
ªt
 = "stderr";

78 
ªt
 = "unknown";

82  
ªt
;

83 
	}
}

86 
	$≠∂y_mode
 (
FILE
 *
°ªam
, c⁄° *
mode
)

88 *
buf
 = 
NULL
;

89 
£tvbuf_mode
;

90 
size_t
 
size
 = 0;

92 i‡(*
mode
 == '0')

93 
£tvbuf_mode
 = 
_IONBF
;

94 i‡(*
mode
 == 'L')

95 
£tvbuf_mode
 = 
_IOLBF
;

98 
£tvbuf_mode
 = 
_IOFBF
;

99 
	`vîify
 (
SIZE_MAX
 <
ULONG_MAX
);

100 
size
 = 
	`°πoul
 (
mode
, 
NULL
, 10);

101 i‡(
size
 > 0)

103 i‡(!(
buf
 = 
	`mÆloc
 (
size
)))

108 
	`Ârötf
 (
°dîr
,

109 
	`_
("ÁûedÅÿÆloˇãá %" 
PRIuMAX


110 " byã stdiÿbuf„r\n"), (
uötmax_t
Ë
size
);

116 
	`Ârötf
 (
°dîr
, 
	`_
("invalid buffering mode %s for %s\n"),

117 
mode
, 
	`fûío_to_«me
 (
	`fûío
 (
°ªam
)));

122 i‡(
	`£tvbuf
 (
°ªam
, 
buf
, 
£tvbuf_mode
, 
size
) != 0)

124 
	`Ârötf
 (
°dîr
, 
	`_
("couldÇot set buffering of %sÅo mode %s\n"),

125 
	`fûío_to_«me
 (
	`fûío
 (
°ªam
)), 
mode
);

126 
	`‰ì
 (
buf
);

128 
	}
}

130 
__©åibuã__
 ((
c⁄°ru˘‹
)) 

131 
	$°dbuf
 ()

133 *
e_mode
 = 
	`gëív
 ("_STDBUF_E");

134 *
i_mode
 = 
	`gëív
 ("_STDBUF_I");

135 *
o_mode
 = 
	`gëív
 ("_STDBUF_O");

136 i‡(
e_mode
)

137 
	`≠∂y_mode
 (
°dîr
, 
e_mode
);

138 i‡(
i_mode
)

139 
	`≠∂y_mode
 (
°dö
, 
i_mode
);

140 i‡(
o_mode
)

141 
	`≠∂y_mode
 (
°dout
, 
o_mode
);

142 
	}
}

	@link.c

23 
	~<c⁄fig.h
>

24 
	~<°dio.h
>

25 
	~<gë›t.h
>

26 
	~<sys/ty≥s.h
>

28 
	~"sy°em.h
"

29 
	~"îr‹.h
"

30 
	~"l⁄g-›ti⁄s.h
"

31 
	~"quŸe.h
"

34 
	#PROGRAM_NAME
 "lök"

	)

36 
	#AUTHORS
 
	`¥›î_«me
 ("Mich´»St⁄e")

	)

39 
	$ußge
 (
°©us
)

41 i‡(
°©us
 !
EXIT_SUCCESS
)

42 
	`emô_åy_hñp
 ();

45 
	`¥ötf
 (
	`_
("\
: %†FILE1 FILE2\n\
: %†OPTION\n"), 
¥ogøm_«me
,Örogram_name);

48 
	`Âuts
 (
	`_
("CallÅheÜink functionÅo createáÜinkÇamed FILE2\
ánÉxisting FILE1.\n\n"),

50 
°dout
);

51 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

52 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

53 
	`emô_™cûœry_öfo
 ();

55 
	`exô
 (
°©us
);

56 
	}
}

59 
	$maö
 (
¨gc
, **
¨gv
)

61 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

62 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

63 
	`£éoˇÀ
 (
LC_ALL
, "");

64 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`ãxtdomaö
 (
PACKAGE
);

67 
	`©exô
 (
˛o£_°dout
);

69 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

70 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

71 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

72 
	`ußge
 (
EXIT_FAILURE
);

74 i‡(
¨gc
 < 
›töd
 + 2)

76 i‡(
¨gc
 < 
›töd
 + 1)

77 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

79 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

80 
	`ußge
 (
EXIT_FAILURE
);

83 i‡(
›töd
 + 2 < 
¨gc
)

85 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 2]));

86 
	`ußge
 (
EXIT_FAILURE
);

89 i‡(
	`lök
 (
¨gv
[
›töd
],árgv[optind + 1]) != 0)

90 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot createÜink %sÅo %s"),

91 
	`quŸe_n
 (0, 
¨gv
[
›töd
 + 1]), quote_n (1,árgv[optind]));

93 
	`exô
 (
EXIT_SUCCESS
);

94 
	}
}

	@ln.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

24 
	~"sy°em.h
"

25 
	~"backupfûe.h
"

26 
	~"îr‹.h
"

27 
	~"fûíameˇt.h
"

28 
	~"fûe-£t.h
"

29 
	~"hash.h
"

30 
	~"hash-åùÀ.h
"

31 
	~"quŸe.h
"

32 
	~"ªÕ©h.h
"

33 
	~"ßme.h
"

34 
	~"ye¢o.h
"

35 
	~"ˇn⁄iˇlize.h
"

38 
	#PROGRAM_NAME
 " "

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Mike Parker"), \

42 
	`¥›î_«me
 ("David MacKízõ")

	)

45 
backup_ty≥
 
	gbackup_ty≥
;

48 
boﬁ
 
	gsymbﬁic_lök
;

51 
boﬁ
 
	gªœtive
;

54 
boﬁ
 
	glogiˇl
 = !!
LINK_FOLLOWS_SYMLINKS
;

57 
boﬁ
 
	göãø˘ive
;

60 
boﬁ
 
	gªmove_exi°ög_fûes
;

63 
boﬁ
 
	gvîbo£
;

69 
boﬁ
 
	gh¨d_dú_lök
;

75 
boﬁ
 
	gdîe„ªn˚_de°_dú_symlöks
 = 
åue
;

81 
Hash_èbÀ
 *
	gde°_£t
;

84 íum { 
	mDEST_INFO_INITIAL_CAPACITY
 = 61 };

86 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

88 {"backup", 
›ti⁄Æ_¨gumít
, 
NULL
, 'b'},

89 {"dúe˘‹y", 
no_¨gumít
, 
NULL
, 'F'},

90 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'n'},

91 {"no-èrgë-dúe˘‹y", 
no_¨gumít
, 
NULL
, 'T'},

92 {"f‹˚", 
no_¨gumít
, 
NULL
, 'f'},

93 {"öãø˘ive", 
no_¨gumít
, 
NULL
, 'i'},

94 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 'S'},

95 {"èrgë-dúe˘‹y", 
ªquúed_¨gumít
, 
NULL
, 't'},

96 {"logiˇl", 
no_¨gumít
, 
NULL
, 'L'},

97 {"physiˇl", 
no_¨gumít
, 
NULL
, 'P'},

98 {"ªœtive", 
no_¨gumít
, 
NULL
, 'r'},

99 {"symbﬁic", 
no_¨gumít
, 
NULL
, 's'},

100 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

111 
boﬁ


112 
	$èrgë_dúe˘‹y_›î™d
 (c⁄° *
fûe
)

114 c⁄° *
b
 = 
	`œ°_comp⁄ít
 (
fûe
);

115 
size_t
 
bÀn
 = 
	`°æí
 (
b
);

116 
boﬁ
 
looks_like_a_dú
 = (
bÀn
 =0 || 
	`ISSLASH
 (
b
[blen - 1]));

117 
°©
 
°
;

118 
°©_ªsu…
 =

119 (
dîe„ªn˚_de°_dú_symlöks
 ? 
	`°©
 (
fûe
, &
°
Ë: 
	`l°©
 (file, &st));

120 
îr
 = (
°©_ªsu…
 =0 ? 0 : 
î∫o
);

121 
boﬁ
 
is_a_dú
 = !
îr
 && 
	`S_ISDIR
 (
°
.
°_mode
);

122 i‡(
îr
 &&Éº !
ENOENT
)

123 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
fûe
));

124 i‡(
is_a_dú
 < 
looks_like_a_dú
)

125 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("èrgë %†i†nŸá dúe˘‹y"), 
	`quŸe
 (
fûe
));

126  
is_a_dú
;

127 
	}
}

133 
	$c⁄vît_abs_ªl
 (c⁄° *
‰om
, c⁄° *
èrgë
)

135 *
ªÆèrgë
 = 
	`ˇn⁄iˇlize_fûíame_mode
 (
èrgë
, 
CAN_MISSING
);

136 *
ªÆ‰om
 = 
	`ˇn⁄iˇlize_fûíame_mode
 (
‰om
, 
CAN_MISSING
);

139 *
ªœtive_‰om
 = 
	`xmÆloc
 (
PATH_MAX
);

142 
ªÆèrgë
[
	`dú_Àn
 (realtarget)] = '\0';

144 i‡(!
	`ªÕ©h
 (
ªÆ‰om
, 
ªÆèrgë
, 
ªœtive_‰om
, 
PATH_MAX
))

146 
	`‰ì
 (
ªœtive_‰om
);

147 
ªœtive_‰om
 = 
NULL
;

150 
	`‰ì
 (
ªÆèrgë
);

151 
	`‰ì
 (
ªÆ‰om
);

153  
ªœtive_‰om
 ?Ññ©ive_‰om : 
	`x°rdup
 (
‰om
);

154 
	}
}

160 
boﬁ


161 
	$do_lök
 (c⁄° *
sour˚
, c⁄° *
de°
)

163 
°©
 
sour˚_°©s
;

164 
°©
 
de°_°©s
;

165 *
de°_backup
 = 
NULL
;

166 *
ªl_sour˚
 = 
NULL
;

167 
boﬁ
 
de°_l°©_ok
 = 
Ál£
;

168 
boﬁ
 
sour˚_is_dú
 = 
Ál£
;

169 
boﬁ
 
ok
;

171 i‡(!
symbﬁic_lök
)

177 i‡((
logiˇl
 ? 
	`°©
 (
sour˚
, &
sour˚_°©s
)

178 : 
	`l°©
 (
sour˚
, &
sour˚_°©s
))

181 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
sour˚
));

182  
Ál£
;

185 i‡(
	`S_ISDIR
 (
sour˚_°©s
.
°_mode
))

187 
sour˚_is_dú
 = 
åue
;

188 i‡(! 
h¨d_dú_lök
)

190 
	`îr‹
 (0, 0, 
	`_
("%s: hardÜinkÇotállowed for directory"),

191 
	`quŸe
 (
sour˚
));

192  
Ál£
;

197 i‡(
ªmove_exi°ög_fûes
 || 
öãø˘ive
 || 
backup_ty≥
 !
no_backups
)

199 
de°_l°©_ok
 = (
	`l°©
 (
de°
, &
de°_°©s
) == 0);

200 i‡(!
de°_l°©_ok
 && 
î∫o
 !
ENOENT
)

202 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
de°
));

203  
Ál£
;

209 i‡(
de°_l°©_ok


210 && 
de°_£t
 !
NULL


211 && 
	`£í_fûe
 (
de°_£t
, 
de°
, &
de°_°©s
))

213 
	`îr‹
 (0, 0,

214 
	`_
("willÇot overwrite just-created %s with %s"),

215 
	`quŸe_n
 (0, 
de°
), quŸe_¿(1, 
sour˚
));

216  
Ál£
;

224 i‡((
ªmove_exi°ög_fûes


230 || (!
symbﬁic_lök
 && 
backup_ty≥
 !
no_backups
))

231 && 
de°_l°©_ok


237 && (
backup_ty≥
 =
no_backups
 || !
symbﬁic_lök
)

238 && (!
symbﬁic_lök
 || 
	`°©
 (
sour˚
, &
sour˚_°©s
) == 0)

239 && 
	`SAME_INODE
 (
sour˚_°©s
, 
de°_°©s
)

244 && (
sour˚_°©s
.
°_∆ök
 =1 || 
	`ßme_«me
 (
sour˚
, 
de°
)))

246 
	`îr‹
 (0, 0, 
	`_
("%sánd %sáreÅhe same file"),

247 
	`quŸe_n
 (0, 
sour˚
), quŸe_¿(1, 
de°
));

248  
Ál£
;

251 i‡(
de°_l°©_ok
)

253 i‡(
	`S_ISDIR
 (
de°_°©s
.
°_mode
))

255 
	`îr‹
 (0, 0, 
	`_
("%s: c™nŸ ovîwrôêdúe˘‹y"), 
	`quŸe
 (
de°
));

256  
Ál£
;

258 i‡(
öãø˘ive
)

260 
	`Ârötf
 (
°dîr
, 
	`_
("%s:Ñïœ˚ %s? "), 
¥ogøm_«me
, 
	`quŸe
 (
de°
));

261 i‡(!
	`ye¢o
 ())

262  
åue
;

263 
ªmove_exi°ög_fûes
 = 
åue
;

266 i‡(
backup_ty≥
 !
no_backups
)

268 
de°_backup
 = 
	`föd_backup_fûe_«me
 (
de°
, 
backup_ty≥
);

269 i‡(
	`ª«me
 (
de°
, 
de°_backup
) != 0)

271 
ª«me_î∫o
 = 
î∫o
;

272 
	`‰ì
 (
de°_backup
);

273 
de°_backup
 = 
NULL
;

274 i‡(
ª«me_î∫o
 !
ENOENT
)

276 
	`îr‹
 (0, 
ª«me_î∫o
, 
	`_
("ˇ¬Ÿ backu∞%s"), 
	`quŸe
 (
de°
));

277  
Ál£
;

283 i‡(
ªœtive
)

284 
sour˚
 = 
ªl_sour˚
 = 
	`c⁄vît_abs_ªl
 (sour˚, 
de°
);

286 
ok
 = ((
symbﬁic_lök
 ? 
	`symlök
 (
sour˚
, 
de°
)

287 : 
	`lök©
 (
AT_FDCWD
, 
sour˚
, AT_FDCWD, 
de°
,

288 
logiˇl
 ? 
AT_SYMLINK_FOLLOW
 : 0))

310 i‡(!
ok
 && 
î∫o
 =
EEXIST
 && (
ªmove_exi°ög_fûes
 || 
de°_backup
))

312 i‡(
	`u∆ök
 (
de°
) != 0)

314 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
de°
));

315 
	`‰ì
 (
de°_backup
);

316 
	`‰ì
 (
ªl_sour˚
);

317  
Ál£
;

320 
ok
 = ((
symbﬁic_lök
 ? 
	`symlök
 (
sour˚
, 
de°
)

321 : 
	`lök©
 (
AT_FDCWD
, 
sour˚
, AT_FDCWD, 
de°
,

322 
logiˇl
 ? 
AT_SYMLINK_FOLLOW
 : 0))

326 i‡(
ok
)

330 
	`ªc‹d_fûe
 (
de°_£t
, 
de°
, &
sour˚_°©s
);

332 i‡(
vîbo£
)

334 i‡(
de°_backup
)

335 
	`¥ötf
 ("%†~ ", 
	`quŸe
 (
de°_backup
));

336 
	`¥ötf
 ("%†%c> %s\n", 
	`quŸe_n
 (0, 
de°
), (
symbﬁic_lök
 ? '-' : '='),

337 
	`quŸe_n
 (1, 
sour˚
));

342 
	`îr‹
 (0, 
î∫o
,

343 (
symbﬁic_lök


344 ? (
î∫o
 !
ENAMETOOLONG
 && *
sour˚


345 ? 
	`_
("failedÅo create symbolicÜink %s")

346 : 
	`_
("failedÅo create symbolicÜink %s -> %s"))

347 : (
î∫o
 =
EMLINK
 && !
sour˚_is_dú


348 ? 
	`_
("failedÅo create hardÜinkÅo %.0s%s")

349 : (
î∫o
 =
EDQUOT
 ||Éºnÿ=
EEXIST
 ||Éºnÿ=
ENOSPC


350 || 
î∫o
 =
EROFS
)

351 ? 
	`_
("failedÅo create hardÜink %s")

352 : 
	`_
("failedÅo create hardÜink %s => %s"))),

353 
	`quŸe_n
 (0, 
de°
), quŸe_¿(1, 
sour˚
));

355 i‡(
de°_backup
)

357 i‡(
	`ª«me
 (
de°_backup
, 
de°
) != 0)

358 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ un-backu∞%s"), 
	`quŸe
 (
de°
));

362 
	`‰ì
 (
de°_backup
);

363 
	`‰ì
 (
ªl_sour˚
);

364  
ok
;

365 
	}
}

368 
	$ußge
 (
°©us
)

370 i‡(
°©us
 !
EXIT_SUCCESS
)

371 
	`emô_åy_hñp
 ();

374 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [-T] TARGET LINK_NAME (1st form)\n\
: %s [OPTION]... TARGET (2nd form)\n\
: %s [OPTION]... TARGET... DIRECTORY (3rd form)\n\
: %s [OPTION]... -t DIRECTORY TARGET... (4th form)\n\
"),

380 
¥ogøm_«me
,Örogram_name,Örogram_name,Örogram_name);

381 
	`Âuts
 (
	`_
("\
Åhê1° f‹m, cª©ê®lökÅÿTARGET wôhÅhê«mêLINK_NAME.\n\
Åhê2nd f‹m, cª©ê®lökÅÿTARGET i¿thêcuºíàdúe˘‹y.\n\
Åhê3rdánd 4th f‹ms, cª©êlök†tÿóch TARGET i¿DIRECTORY.\n\
 h¨dÜök†by deÁu…, symbﬁi¯lök†wôh --symbﬁic.\n\
 deÁu…,Éach de°ö©i⁄ («mêo‡√wÜökËshouldÇŸáÃódyÉxi°.\n\
 cª©ög h¨dÜöks,Éach TARGET mu°Éxi°. Symbﬁi¯löks\n\
 hﬁdárbôøryÅext; i‡œã∏ªsﬁved,áÑñ©ivêlök is\n\
 i¿ªœti⁄Åÿô†∑ª¡ dúe˘‹y.\n\
"), 
°dout
);

392 
	`emô_m™d©‹y_¨g_nŸe
 ();

394 
	`Âuts
 (
	`_
("\
--backup[=CONTROL] makê®backu∞o‡óchÉxi°ög de°ö©i⁄ fûe\n\
-bÜikê--backu∞buàd€†nŸác˚±á¿¨gumít\n\
-d, -F, --dúe˘‹yáŒowÅhêsu≥ru£∏tÿ©ãm±Åÿh¨dÜök\n\
 (nŸe: wû»¥obably faû duêto\n\
Ñe°ri˘i⁄s,Éví f‹Åhêsu≥ru£r)\n\
-f, --f‹˚Ñemovêexi°ög de°ö©i⁄ fûes\n\
"), 
°dout
);

402 
	`Âuts
 (
	`_
("\
-i, --öãø˘ivêÖrom± whëhîÅÿªmovêde°ö©i⁄s\n\
-L, --logiˇ» dîe„ªn˚ TARGET†th©áª symbﬁi¯löks\n\
-n, --no-dîe„ªn˚Åª© LINK_NAMEá†®n‹mÆ fûêif\n\
 i†®symbﬁi¯lökÅÿ®dúe˘‹y\n\
-P, --physiˇ» makêh¨dÜök†dúe˘lyÅÿsymbﬁi¯löks\n\
-r, --ªœtivê cª©êsymbﬁi¯lök†ªœtivêtÿlökÜoˇti⁄\n\
-s, --symbﬁi¯ makêsymbﬁi¯lök†ö°ód o‡h¨dÜöks\n\
"), 
°dout
);

411 
	`Âuts
 (
	`_
("\
-S, --suffix=SUFFIX ovîridêthêusuÆ backu∞suffix\n\
-t, --èrgë-dúe˘‹y=DIRECTORY s≥cifyÅhêDIRECTORY i¿whichÅÿ¸óã\n\
Üöks\n\
-T, --no-èrgë-dúe˘‹yÅª© LINK_NAMEá†®n‹mÆ fûêÆways\n\
-v, --vîbo£Öröà«mêo‡óchÜöked fûe\n\
"), 
°dout
);

418 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

419 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

420 
	`Âuts
 (
	`_
("\
\n\
 backu∞suffix i†'~', u∆es†£àwôh --suffix o∏SIMPLE_BACKUP_SUFFIX.\n\
 vîsi⁄ c⁄åﬁ mëhod may bê£À˘ed vüÅhê--backu∞›ti⁄ o∏through\n\
 VERSION_CONTROLÉnvú⁄míàv¨übÀ. Hîê¨êthêvÆues:\n\
\n\
"), 
°dout
);

427 
	`Âuts
 (
	`_
("\
, of‡Çevî makêbackup†”ví i‡--backu∞i†giví)\n\
,Å makênumbîed backups\n\
,ÇûÇumbîed i‡numbîed backup†exi°, sim∂êŸhîwi£\n\
,Çevîálway†makêsim∂êbackups\n\
"), 
°dout
);

433 
	`¥ötf
 (
	`_
("\
\n\
 -†ign‹e†-Lánd -P. Othîwi£,Åhêœ° o±i⁄ s≥cifõd c⁄åﬁs\n\
 whíá TARGET i†®symbﬁi¯lök, deÁu…ögÅÿ%s.\n\
"), 
LINK_FOLLOWS_SYMLINKS
 ? "-L" : "-P");

438 
	`emô_™cûœry_öfo
 ();

440 
	`exô
 (
°©us
);

441 
	}
}

444 
	$maö
 (
¨gc
, **
¨gv
)

446 
c
;

447 
boﬁ
 
ok
;

448 
boﬁ
 
make_backups
 = 
Ál£
;

449 *
backup_suffix_°rög
;

450 *
vîsi⁄_c⁄åﬁ_°rög
 = 
NULL
;

451 c⁄° *
èrgë_dúe˘‹y
 = 
NULL
;

452 
boﬁ
 
no_èrgë_dúe˘‹y
 = 
Ál£
;

453 
n_fûes
;

454 **
fûe
;

456 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

457 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

458 
	`£éoˇÀ
 (
LC_ALL
, "");

459 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

460 
	`ãxtdomaö
 (
PACKAGE
);

462 
	`©exô
 (
˛o£_°dö
);

466 
backup_suffix_°rög
 = 
	`gëív
 ("SIMPLE_BACKUP_SUFFIX");

468 
symbﬁic_lök
 = 
ªmove_exi°ög_fûes
 = 
öãø˘ive
 = 
vîbo£


469 
h¨d_dú_lök
 = 
Ál£
;

471 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "bdför°:vFLPS:T", 
l⁄g_›ti⁄s
, 
NULL
))

474 
c
)

477 
make_backups
 = 
åue
;

478 i‡(
›èrg
)

479 
vîsi⁄_c⁄åﬁ_°rög
 = 
›èrg
;

483 
h¨d_dú_lök
 = 
åue
;

486 
ªmove_exi°ög_fûes
 = 
åue
;

487 
öãø˘ive
 = 
Ál£
;

490 
ªmove_exi°ög_fûes
 = 
Ál£
;

491 
öãø˘ive
 = 
åue
;

494 
logiˇl
 = 
åue
;

497 
dîe„ªn˚_de°_dú_symlöks
 = 
Ál£
;

500 
logiˇl
 = 
Ál£
;

503 
ªœtive
 = 
åue
;

506 
symbﬁic_lök
 = 
åue
;

509 i‡(
èrgë_dúe˘‹y
)

510 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÅarget directories specified"));

513 
°©
 
°
;

514 i‡(
	`°©
 (
›èrg
, &
°
) != 0)

515 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅoáccess %s"),

516 
	`quŸe
 (
›èrg
));

517 i‡(! 
	`S_ISDIR
 (
°
.
°_mode
))

518 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

519 
	`quŸe
 (
›èrg
));

521 
èrgë_dúe˘‹y
 = 
›èrg
;

524 
no_èrgë_dúe˘‹y
 = 
åue
;

527 
vîbo£
 = 
åue
;

530 
make_backups
 = 
åue
;

531 
backup_suffix_°rög
 = 
›èrg
;

533 
ˇ£_GETOPT_HELP_CHAR
;

534 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

536 
	`ußge
 (
EXIT_FAILURE
);

541 
n_fûes
 = 
¨gc
 - 
›töd
;

542 
fûe
 = 
¨gv
 + 
›töd
;

544 i‡(
n_fûes
 <= 0)

546 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

547 
	`ußge
 (
EXIT_FAILURE
);

550 i‡(
no_èrgë_dúe˘‹y
)

552 i‡(
èrgë_dúe˘‹y
)

553 
	`îr‹
 (
EXIT_FAILURE
, 0,

554 
	`_
("cannot combine --target-directory "

556 i‡(
n_fûes
 != 2)

558 i‡(
n_fûes
 < 2)

559 
	`îr‹
 (0, 0,

560 
	`_
("missing destination file operandáfter %s"),

561 
	`quŸe
 (
fûe
[0]));

563 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
fûe
[2]));

564 
	`ußge
 (
EXIT_FAILURE
);

567 i‡(!
èrgë_dúe˘‹y
)

569 i‡(
n_fûes
 < 2)

570 
èrgë_dúe˘‹y
 = ".";

571 i‡(2 <
n_fûes
 && 
	`èrgë_dúe˘‹y_›î™d
 (
fûe
[n_files - 1]))

572 
èrgë_dúe˘‹y
 = 
fûe
[--
n_fûes
];

573 i‡(2 < 
n_fûes
)

574 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

575 
	`quŸe
 (
fûe
[
n_fûes
 - 1]));

578 i‡(
backup_suffix_°rög
)

579 
sim∂e_backup_suffix
 = 
	`x°rdup
 (
backup_suffix_°rög
);

581 
backup_ty≥
 = (
make_backups


582 ? 
	`xgë_vîsi⁄
 (
	`_
("backu∞ty≥"), 
vîsi⁄_c⁄åﬁ_°rög
)

583 : 
no_backups
);

585 i‡(
ªœtive
 && !
symbﬁic_lök
)

587 
	`îr‹
 (
EXIT_FAILURE
, 0,

588 
	`_
("cannot do --relative without --symbolic"));

592 i‡(
èrgë_dúe˘‹y
)

594 
i
;

599 i‡(2 <
n_fûes


600 && 
ªmove_exi°ög_fûes


603 && ! 
symbﬁic_lök


606 && 
backup_ty≥
 !
numbîed_backups
)

609 
de°_£t
 = 
	`hash_öôülize
 (
DEST_INFO_INITIAL_CAPACITY
,

610 
NULL
,

611 
åùÀ_hash
,

612 
åùÀ_com∑ª
,

613 
åùÀ_‰ì
);

614 i‡(
de°_£t
 =
NULL
)

615 
	`xÆloc_dõ
 ();

618 
ok
 = 
åue
;

619 
i
 = 0; i < 
n_fûes
; ++i)

621 *
de°_ba£
;

622 *
de°
 = 
	`fûe_«me_c⁄ˇt
 (
èrgë_dúe˘‹y
,

623 
	`œ°_comp⁄ít
 (
fûe
[
i
]),

624 &
de°_ba£
);

625 
	`°rù_åaûög_¶ashes
 (
de°_ba£
);

626 
ok
 &
	`do_lök
 (
fûe
[
i
], 
de°
);

627 
	`‰ì
 (
de°
);

631 
ok
 = 
	`do_lök
 (
fûe
[0], file[1]);

633 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

634 
	}
}

	@logname.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<sys/ty≥s.h
>

20 
	~<gë›t.h
>

22 
	~"sy°em.h
"

23 
	~"îr‹.h
"

24 
	~"l⁄g-›ti⁄s.h
"

25 
	~"quŸe.h
"

28 
	#PROGRAM_NAME
 "log«me"

	)

30 
	#AUTHORS
 
	`¥›î_«me
 ("FIXME: unknown")

	)

33 
	$ußge
 (
°©us
)

35 i‡(
°©us
 !
EXIT_SUCCESS
)

36 
	`emô_åy_hñp
 ();

39 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]\n"), 
¥ogøm_«me
);

40 
	`Âuts
 (
	`_
("\
Åhê«mêo‡thêcuºíàu£r.\n\
\n\
"), 
°dout
);

44 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

45 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

46 
	`emô_™cûœry_öfo
 ();

48 
	`exô
 (
°©us
);

49 
	}
}

52 
	$maö
 (
¨gc
, **
¨gv
)

54 *
˝
;

56 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

57 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

58 
	`£éoˇÀ
 (
LC_ALL
, "");

59 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

60 
	`ãxtdomaö
 (
PACKAGE
);

62 
	`©exô
 (
˛o£_°dout
);

64 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

65 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

66 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

67 
	`ußge
 (
EXIT_FAILURE
);

69 i‡(
›töd
 < 
¨gc
)

71 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

72 
	`ußge
 (
EXIT_FAILURE
);

76 
˝
 = 
	`gëlogö
 ();

77 i‡(
˝
)

79 
	`puts
 (
˝
);

80 
	`exô
 (
EXIT_SUCCESS
);

84 
	`îr‹
 (0, 0, 
	`_
("noÜoginÇame"));

85 
	`exô
 (
EXIT_FAILURE
);

86 
	}
}

	@longlong.h

42 
	#__BITS4
 (
W_TYPE_SIZE
 / 4)

	)

43 
	#__Œ_B
 ((
UWty≥
Ë1 << (
W_TYPE_SIZE
 / 2))

	)

44 
	#__Œ_low∑π
(
t
Ë((
UWty≥
Ë—Ë& (
__Œ_B
 - 1))

	)

45 
	#__Œ_high∑π
(
t
Ë((
UWty≥
Ë—Ë>> (
W_TYPE_SIZE
 / 2))

	)

49 #i‚de‡
__MPN


50 
	#__MPN
(
x
Ë
__
##
	)
x

140 #ifde‡
_LONG_LONG_LIMB


141 
	#cou¡_Àadög_zîos_gcc_˛z
(
cou¡
,
x
) \

143 
	`ASSERT
 ((
x
) != 0); \

144 (
cou¡
Ë
	`__buûtö_˛zŒ
 (
x
); \

145 } 0)

	)

147 
	#cou¡_Àadög_zîos_gcc_˛z
(
cou¡
,
x
) \

149 
	`ASSERT
 ((
x
) != 0); \

150 (
cou¡
Ë
	`__buûtö_˛zl
 (
x
); \

151 } 0)

	)

154 #ifde‡
_LONG_LONG_LIMB


155 
	#cou¡_åaûög_zîos_gcc_˘z
(
cou¡
,
x
) \

157 
	`ASSERT
 ((
x
) != 0); \

158 (
cou¡
Ë
	`__buûtö_˘zŒ
 (
x
); \

159 } 0)

	)

161 
	#cou¡_åaûög_zîos_gcc_˘z
(
cou¡
,
x
) \

163 
	`ASSERT
 ((
x
) != 0); \

164 (
cou¡
Ë
	`__buûtö_˘zl
 (
x
); \

165 } 0)

	)

171 #i‡! 
deföed
 (
NO_ASM
)

173 #i‡
deföed
 (
__Æpha
Ë&& 
W_TYPE_SIZE
 == 64

175 #i‡
deföed
 (
__GNUC__
)

176 #i‡
__GMP_GNUC_PREREQ
 (3,3)

177 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

179 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

180 (
ph
Ë
	`__buûtö_Æpha_umulh
 (
__m0
, 
__m1
); \

181 (
∂
Ë
__m0
 * 
__m1
; \

182 } 0)

	)

184 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

186 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

187 
	`__asm__
 ("umulh %r1,%2,%0" \

188 : "Ù" (
ph
) \

189 : "%rJ" (
m0
), "rI" (
m1
)); \

190 (
∂
Ë
__m0
 * 
__m1
; \

191 } 0)

	)

193 
	#UMUL_TIME
 18

	)

195 
	~<machöe/buûtös.h
>

196 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

198 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

199 (
ph
Ë
	`__UMULH
 (
m0
, 
m1
); \

200 (
∂
Ë
__m0
 * 
__m1
; \

201 } 0)

	)

203 #i‚de‡
LONGLONG_STANDALONE


204 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

205 dÿ{ 
UWty≥
 
__di
; \

206 
__di
 = 
	`__MPN
(
övît_limb
Ë(
d
); \

207 
	`udiv_q∫nd_¥eöv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

208 } 0)

	)

209 
	#UDIV_PREINV_ALWAYS
 1

	)

210 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

211 
	#UDIV_TIME
 220

	)

216 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

218 #i‡
deföed
 (
__GNUC__
Ë&& 
HAVE_HOST_CPU_Æpha_CIX


219 
	#cou¡_Àadög_zîos
(
COUNT
,
X
) \

220 
	`__asm__
("˘lz %1,%0" : "Ù"(
COUNT
Ë: "r"(
X
))

	)

221 
	#cou¡_åaûög_zîos
(
COUNT
,
X
) \

222 
	`__asm__
("˘tz %1,%0" : "Ù"(
COUNT
Ë: "r"(
X
))

	)

225 #i‡! 
deföed
 (
cou¡_Àadög_zîos
) \

226 && 
deföed
 (
__GNUC__
Ë&& ! 
	$deföed
 (
LONGLONG_STANDALONE
)

231 
	#ALPHA_CMPBGE_0
(
d°
, 
§c
) \

232 dÿ{ 
	`asm
 ("cmpbgê$31, %1, %0" : "Ù" (
d°
Ë: "r" (
§c
)); 
	}
} 0)

	)

236 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

238 
UWty≥
 
__˛z__b
, 
__˛z__c
, 
__˛z__x
 = (
x
); \

239 
	`ALPHA_CMPBGE_0
 (
__˛z__b
, 
__˛z__x
); \

240 
__˛z__b
 = 
__˛z_èb
 [(__clz__b >> 1) ^ 0x7F]; \

241 
__˛z__b
 = __clz__b * 8 - 7; \

242 
__˛z__x
 >>
__˛z__b
; \

243 
__˛z__c
 = 
__˛z_èb
 [
__˛z__x
]; \

244 
__˛z__b
 = 65 - __clz__b; \

245 (
cou¡
Ë
__˛z__b
 - 
__˛z__c
; \

246 } 0)

	)

247 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

250 #i‡! 
deföed
 (
cou¡_Àadög_zîos
Ë&& ! deföed (
LONGLONG_STANDALONE
)

251 #i‡
HAVE_ATTRIBUTE_CONST


252 
	$__MPN
(
cou¡_Àadög_zîos
Ë(
UDIty≥
Ë
	`__©åibuã__
 ((const));

254 
	$__MPN
(
cou¡_Àadög_zîos
Ë(
UDIty≥
);

256 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

257 ((
cou¡
Ë
	`__MPN
(
cou¡_Àadög_zîos
Ë(
x
))

	)

261 #i‡
	`deföed
 (
__AVR
Ë&& 
W_TYPE_SIZE
 == 8

262 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

264 
__p
 = (Ë(
m0
Ë* (
m1
); \

265 (
ph
Ë
__p
 >> 8; \

266 (
∂
Ë
__p
; \

267 
	}
} 0)

	)

270 #i‡
deföed
 (
_CRAY
Ë&& 
W_TYPE_SIZE
 == 64

271 
	~<öåösics.h
>

272 
	#UDIV_PREINV_ALWAYS
 1

	)

273 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

274 
	#UDIV_TIME
 220

	)

275 
	$__MPN
(
cou¡_Àadög_zîos
Ë(
UDIty≥
);

276 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

277 ((
cou¡
Ë
	`_Àadz
 ((
UWty≥
Ë(
x
)))

	)

278 #i‡
	`deföed
 (
_CRAYIEEE
)

279 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

281 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

282 (
ph
Ë
	`_öt_mu…_uµî
 (
m0
, 
m1
); \

283 (
∂
Ë
__m0
 * 
__m1
; \

284 
	}
} 0)

	)

285 #i‚de‡
LONGLONG_STANDALONE


286 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

287 dÿ{ 
UWty≥
 
__di
; \

288 
__di
 = 
	`__MPN
(
övît_limb
Ë(
d
); \

289 
	`udiv_q∫nd_¥eöv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

290 } 0)

	)

295 #i‡
deföed
 (
__ü64
Ë&& 
W_TYPE_SIZE
 == 64

300 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

302 
UWty≥
 
__x
; \

303 
__x
 = (
Æ
Ë- (
bl
); \

304 i‡((
Æ
Ë< (
bl
)) \

305 (
sh
Ë(
ah
Ë- (
bh
) - 1; \

307 (
sh
Ë(
ah
Ë- (
bh
); \

308 (
¶
Ë
__x
; \

309 } 0)

	)

310 #i‡
deföed
 (
__GNUC__
Ë&& ! deföed (
__INTEL_COMPILER
)

314 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

315 
	`__asm__
 ("xma.hu %0 = %2, %3, f0\n\txma.l %1 = %2, %3, f0" \

316 : "=&f" (
ph
), "=f" (
∂
) \

317 : "f" (
m0
), "f" (
m1
))

	)

318 
	#UMUL_TIME
 14

	)

319 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

321 
UWty≥
 
_x
 = (
x
), 
_y
, 
_a
, 
_c
; \

322 
	`__asm__
 ("mux1 %0 = %1, @ªv" : "Ù" (
_y
Ë: "r" (
_x
)); \

323 
	`__asm__
 ("czx1.»%0 = %1" : "Ù" (
_a
Ë: "r" (-
_y
 | _y)); \

324 
_c
 = (
_a
 - 1) << 3; \

325 
_x
 >>
_c
; \

326 i‡(
_x
 >= 1 << 4) \

327 
_x
 >>4, 
_c
 += 4; \

328 i‡(
_x
 >= 1 << 2) \

329 
_x
 >>2, 
_c
 += 2; \

330 
_c
 +
_x
 >> 1; \

331 (
cou¡
Ë
W_TYPE_SIZE
 - 1 - 
_c
; \

332 } 0)

	)

335 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) \

337 
UWty≥
 
__˘z_x
 = (
x
); \

338 
	`__asm__
 ("popcnt %0 = %1" \

339 : "Ù" (
cou¡
) \

340 : "r" ((
__˘z_x
-1) & ~__ctz_x)); \

341 } 0)

	)

343 #i‡
deföed
 (
__INTEL_COMPILER
)

344 
	~<ü64öåö.h
>

345 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

347 
UWty≥
 
_m0
 = (
m0
), 
_m1
 = (
m1
); \

348 
ph
 = 
	`_m64_xmahu
 (
_m0
, 
_m1
, 0); \

349 
∂
 = 
_m0
 * 
_m1
; \

350 } 0)

	)

352 #i‚de‡
LONGLONG_STANDALONE


353 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

354 dÿ{ 
UWty≥
 
__di
; \

355 
__di
 = 
	`__MPN
(
övît_limb
Ë(
d
); \

356 
	`udiv_q∫nd_¥eöv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

357 } 0)

	)

358 
	#UDIV_PREINV_ALWAYS
 1

	)

359 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

361 
	#UDIV_TIME
 220

	)

365 #i‡
deföed
 (
__GNUC__
)

369 #i‡
__GNUC__
 < 2

370 
	#__CLOBBER_CC


	)

371 
	#__AND_CLOBBER_CC


	)

373 
	#__CLOBBER_CC
 : "cc"

	)

374 
	#__AND_CLOBBER_CC
 , "cc"

	)

377 #i‡(
deföed
 (
__a29k__
Ë|| deföed (
_AM29K
)Ë&& 
W_TYPE_SIZE
 == 32

378 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

379 
	`__asm__
 ("add %1,%4,%5\n\taddc %0,%2,%3" \

380 : "Ù" (
sh
), "=&r" (
¶
) \

381 : "r" (
ah
), "rI" (
bh
), "%r" (
Æ
), "rI" (
bl
))

	)

382 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

383 
	`__asm__
 ("sub %1,%4,%5\n\tsubc %0,%2,%3" \

384 : "Ù" (
sh
), "=&r" (
¶
) \

385 : "r" (
ah
), "rI" (
bh
), "r" (
Æ
), "rI" (
bl
))

	)

386 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

388 
USIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

389 
	`__asm__
 ("multiplu %0,%1,%2" \

390 : "Ù" (
xl
) \

391 : "r" (
__m0
), "r" (
__m1
)); \

392 
	`__asm__
 ("multmu %0,%1,%2" \

393 : "Ù" (
xh
) \

394 : "r" (
__m0
), "r" (
__m1
)); \

395 } 0)

	)

396 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

397 
	`__asm__
 ("dividu %0,%3,%4" \

398 : "Ù" (
q
), "=q" (
r
) \

399 : "1" (
n1
), "r" (
n0
), "r" (
d
))

	)

400 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

401 
	`__asm__
 ("clz %0,%1" \

402 : "Ù" (
cou¡
) \

403 : "r" (
x
))

	)

404 
	#COUNT_LEADING_ZEROS_0
 32

	)

407 #i‡
deföed
 (
__¨c__
)

408 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

409 
	`__asm__
 ("add.f\t%1, %4, %5\n\tadc\t%0, %2, %3" \

410 : "Ù" (
sh
), \

411 "=&r" (
¶
) \

412 : "r" ((
USIty≥
Ë(
ah
)), \

413 "rIJ" ((
USIty≥
Ë(
bh
)), \

414 "%r" ((
USIty≥
Ë(
Æ
)), \

415 "rIJ" ((
USIty≥
Ë(
bl
)))

	)

416 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

417 
	`__asm__
 ("sub.f\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

418 : "Ù" (
sh
), \

419 "=&r" (
¶
) \

420 : "r" ((
USIty≥
Ë(
ah
)), \

421 "rIJ" ((
USIty≥
Ë(
bh
)), \

422 "r" ((
USIty≥
Ë(
Æ
)), \

423 "rIJ" ((
USIty≥
Ë(
bl
)))

	)

426 #i‡
deföed
 (
__¨m__
Ë&& 
W_TYPE_SIZE
 == 32

427 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

428 
	`__asm__
 ("adds\t%1, %4, %5\n\tadc\t%0, %2, %3" \

429 : "Ù" (
sh
), "=&r" (
¶
) \

430 : "r" (
ah
), "rI" (
bh
), "%r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
)

	)

431 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

433 i‡(
	`__buûtö_c⁄°™t_p
 (
Æ
)) \

435 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
)) \

436 
	`__asm__
 ("rsbs\t%1, %5, %4\n\trsc\t%0, %3, %2" \

437 : "Ù" (
sh
), "=&r" (
¶
) \

438 : "rI" (
ah
), "r" (
bh
), "rI" (
Æ
), "r" (
bl
Ë
__CLOBBER_CC
); \

440 
	`__asm__
 ("rsbs\t%1, %5, %4\n\tsbc\t%0, %2, %3" \

441 : "Ù" (
sh
), "=&r" (
¶
) \

442 : "r" (
ah
), "rI" (
bh
), "rI" (
Æ
), "r" (
bl
Ë
__CLOBBER_CC
); \

444 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
)) \

446 i‡(
	`__buûtö_c⁄°™t_p
 (
bl
)) \

447 
	`__asm__
 ("subs\t%1, %4, %5\n\trsc\t%0, %3, %2" \

448 : "Ù" (
sh
), "=&r" (
¶
) \

449 : "rI" (
ah
), "r" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
); \

451 
	`__asm__
 ("rsbs\t%1, %5, %4\n\trsc\t%0, %3, %2" \

452 : "Ù" (
sh
), "=&r" (
¶
) \

453 : "rI" (
ah
), "r" (
bh
), "rI" (
Æ
), "r" (
bl
Ë
__CLOBBER_CC
); \

455 i‡(
	`__buûtö_c⁄°™t_p
 (
bl
)) \

457 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
)) \

458 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

459 : "Ù" (
sh
), "=&r" (
¶
) \

460 : "r" (
ah
), "rI" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
); \

462 
	`__asm__
 ("subs\t%1, %4, %5\n\trsc\t%0, %3, %2" \

463 : "Ù" (
sh
), "=&r" (
¶
) \

464 : "rI" (
ah
), "r" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
); \

467 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

468 : "Ù" (
sh
), "=&r" (
¶
) \

469 : "r" (
ah
), "rI" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
);\

470 } 0)

	)

471 #i‡1 || 
deföed
 (
__¨m_m__
)

472 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

473 
	`__asm__
 ("umuŒ %0,%1,%2,%3" : "=&r" (
xl
), "=&r" (
xh
Ë: "r" (
a
), "r" (
b
))

	)

474 
	#UMUL_TIME
 5

	)

475 
	#smul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

476 
	`__asm__
 ("smuŒ %0,%1,%2,%3" : "=&r" (
xl
), "=&r" (
xh
Ë: "r" (
a
), "r" (
b
))

	)

477 #i‚de‡
LONGLONG_STANDALONE


478 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

479 dÿ{ 
UWty≥
 
__di
; \

480 
__di
 = 
	`__MPN
(
övît_limb
Ë(
d
); \

481 
	`udiv_q∫nd_¥eöv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

482 } 0)

	)

483 
	#UDIV_PREINV_ALWAYS
 1

	)

484 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

485 
	#UDIV_TIME
 70

	)

488 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

489 
	`__asm__
 ("%@ Inlined umul_ppmm\n" \

502 : "=&r" (
xh
), "Ù" (
xl
) \

503 : "r" (
a
), "r" (
b
) \

504 : "r0", "r1", "r2")

	)

505 
	#UMUL_TIME
 20

	)

506 #i‚de‡
LONGLONG_STANDALONE


507 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

508 dÿ{ 
UWty≥
 
__r
; \

509 (
q
Ë
	`__MPN
(
udiv_q∫nd
Ë(&
__r
, (
n1
), (
n0
), (
d
)); \

510 (
r
Ë
__r
; \

511 } 0)

	)

512 
UWty≥
 
	$__MPN
(
udiv_q∫nd
Ë(
UWty≥
 *, UWtype, UWtype, UWtype);

513 
	#UDIV_TIME
 200

	)

517 #i‡
	`deföed
 (
__ARM_ARCH_5__
Ë|| deföed (
__ARM_ARCH_5T__
) || \

518 
	`deföed
 (
__ARM_ARCH_5E__
Ë|| deföed (
__ARM_ARCH_5TE__
)|| \

519 
	`deföed
 (
__ARM_ARCH_6__
Ë|| deföed (
__ARM_ARCH_6J__
) || \

520 
	`deföed
 (
__ARM_ARCH_6K__
Ë|| deföed (
__ARM_ARCH_6Z__
) || \

521 
	`deföed
 (
__ARM_ARCH_6ZK__
)|| deföed (
__ARM_ARCH_6T2__
)|| \

522 
	`deföed
 (
__ARM_ARCH_6M__
Ë|| deföed (
__ARM_ARCH_7__
) || \

523 
	`deföed
 (
__ARM_ARCH_7A__
Ë|| deföed (
__ARM_ARCH_7R__
) || \

524 
	`deföed
 (
__ARM_ARCH_7M__
Ë|| 
	$deföed
 (
__ARM_ARCH_7EM__
)

525 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

526 
	`__asm__
 ("˛z\t%0, %1" : "Ù" (
cou¡
Ë: "r" (
x
))

	)

527 
	#COUNT_LEADING_ZEROS_0
 32

	)

531 #i‡
	`deföed
 (
__Ørch64__
Ë&& 
W_TYPE_SIZE
 == 64

532 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

533 
	`__asm__
 ("adds\t%1, %4, %5\n\tadc\t%0, %2, %3" \

534 : "Ù" (
sh
), "=&r" (
¶
) \

535 : "r" (
ah
), "rZ" (
bh
), "%r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
)

	)

536 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

538 i‡(
	`__buûtö_c⁄°™t_p
 (
bl
)) \

540 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

541 : "Ù" (
sh
), "=&r" (
¶
) \

542 : "r" (
ah
), "r" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
); \

545 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

546 : "Ù" (
sh
), "=&r" (
¶
) \

547 : "r" (
ah
), "rZ" (
bh
), "r" (
Æ
), "rI" (
bl
Ë
__CLOBBER_CC
);\

548 
	}
} 0)

	)

549 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

551 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

552 
	`__asm__
 ("umulh\t%0, %1, %2" : "Ù" (
ph
Ë: "r" (
m0
), "r" (
m1
)); \

553 (
∂
Ë
__m0
 * 
__m1
; \

554 } 0)

	)

555 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

556 
	`__asm__
 ("˛z\t%0, %1" : "Ù" (
cou¡
Ë: "r" (
x
))

	)

557 
	#COUNT_LEADING_ZEROS_0
 64

	)

560 #i‡
deföed
 (
__˛ù≥r__
Ë&& 
W_TYPE_SIZE
 == 32

561 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

562 ({uni⁄ {
UDIty≥
 
__Œ
; \

563 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

564 } 
__x
; \

565 
	`__asm__
 ("mulwux %2,%0" \

566 : "Ù" (
__x
.
__Œ
) \

567 : "%0" ((
USIty≥
)(
u
)), "r" ((USIty≥)(
v
))); \

568 (
w1
Ë
__x
.
__i
.
__h
; (
w0
Ë__x.__i.
__l
;})

	)

569 
	#smul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

570 ({uni⁄ {
DIty≥
 
__Œ
; \

571 °ru˘ {
SIty≥
 
__l
, 
__h
;} 
__i
; \

572 } 
__x
; \

573 
	`__asm__
 ("mulwx %2,%0" \

574 : "Ù" (
__x
.
__Œ
) \

575 : "%0" ((
SIty≥
)(
u
)), "r" ((SIty≥)(
v
))); \

576 (
w1
Ë
__x
.
__i
.
__h
; (
w0
Ë__x.__i.
__l
;})

	)

577 
	#__umulsidi3
(
u
, 
v
) \

578 ({
UDIty≥
 
__w
; \

579 
	`__asm__
 ("mulwux %2,%0" \

580 : "Ù" (
__w
Ë: "%0" ((
USIty≥
)(
u
)), "r" ((USIty≥)(
v
))); \

581 
__w
; })

	)

585 #i‡
deföed
 (
__uxp__
Ë&& 
W_TYPE_SIZE
 == 32

586 
	#umul_µmm
(
ph
, 
∂
, 
u
, 
v
) \

588 uni⁄ {
UDIty≥
 
__Œ
; \

589 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

590 } 
__x
; \

591 
	`__asm__
 ("mu….lu %1,%2,%0" : "Ù" (
__x
.
__Œ
Ë: "%r" (
u
), "rK" (
v
));\

592 (
ph
Ë
__x
.
__i
.
__h
; \

593 (
∂
Ë
__x
.
__i
.
__l
; \

594 } 0)

	)

595 
	#smul_µmm
(
ph
, 
∂
, 
u
, 
v
) \

597 uni⁄ {
UDIty≥
 
__Œ
; \

598 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

599 } 
__x
; \

600 
	`__asm__
 ("mu….»%1,%2,%0" : "Ù" (
__x
.
__Œ
Ë: "%r" (
u
), "rK" (
v
)); \

601 (
ph
Ë
__x
.
__i
.
__h
; \

602 (
∂
Ë
__x
.
__i
.
__l
; \

603 } 0)

	)

606 #i‡
deföed
 (
__gmi¸o__
Ë&& 
W_TYPE_SIZE
 == 32

607 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

608 
	`__asm__
 ("add.w %5,%1\n\taddx %3,%0" \

609 : "=g" (
sh
), "=&g" (
¶
) \

610 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

611 "%1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

612 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

613 
	`__asm__
 ("sub.w %5,%1\n\tsubx %3,%0" \

614 : "=g" (
sh
), "=&g" (
¶
) \

615 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

616 "1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

617 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

618 
	`__asm__
 ("mulx %3,%0,%1" \

619 : "=g" (
ph
), "Ù" (
∂
) \

620 : "%0" ((
USIty≥
)(
m0
)), "g" ((USIty≥)(
m1
)))

	)

621 
	#udiv_q∫nd
(
q
, 
r
, 
nh
, 
∆
, 
d
) \

622 
	`__asm__
 ("divx %4,%0,%1" \

623 : "=g" (
q
), "Ù" (
r
) \

624 : "1" ((
USIty≥
)(
nh
)), "0" ((USIty≥)(
∆
)), "g" ((USIty≥)(
d
)))

	)

625 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

626 
	`__asm__
 ("bsch/1 %1,%0" \

627 : "=g" (
cou¡
Ë: "g" ((
USIty≥
)(
x
)), "0" ((USIty≥)0))

	)

630 #i‡
deföed
 (
__hµa
Ë&& 
W_TYPE_SIZE
 == 32

631 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

632 
	`__asm__
 ("add%I5 %5,%r4,%1\n\taddc %r2,%r3,%0" \

633 : "Ù" (
sh
), "=&r" (
¶
) \

634 : "rM" (
ah
), "rM" (
bh
), "%rM" (
Æ
), "rI" (
bl
))

	)

635 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

636 
	`__asm__
 ("sub%I4 %4,%r5,%1\n\tsubb %r2,%r3,%0" \

637 : "Ù" (
sh
), "=&r" (
¶
) \

638 : "rM" (
ah
), "rM" (
bh
), "rI" (
Æ
), "rM" (
bl
))

	)

639 #i‡
deföed
 (
_PA_RISC1_1
)

640 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

642 uni⁄ {
UDIty≥
 
__Œ
; \

643 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

644 } 
__x
; \

645 
	`__asm__
 ("xmpyu %1,%2,%0" : "=*f" (
__x
.
__Œ
Ë: "*f" (
u
), "*f" (
v
)); \

646 (
wh
Ë
__x
.
__i
.
__h
; \

647 (
wl
Ë
__x
.
__i
.
__l
; \

648 } 0)

	)

649 
	#UMUL_TIME
 8

	)

650 
	#UDIV_TIME
 60

	)

652 
	#UMUL_TIME
 40

	)

653 
	#UDIV_TIME
 80

	)

655 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

657 
USIty≥
 
__tmp
; \

658 
	`__asm__
 ( \

674 : "Ù" (
cou¡
), "Ù" (
__tmp
Ë: "1" (
x
)); \

675 } 0)

	)

681 #i‡
deföed
 (
__hµa
Ë&& 
W_TYPE_SIZE
 =64 && ! deföed (
_LONG_LONG_LIMB
)

682 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

683 
	`__asm__
 ("add%I5 %5,%r4,%1\n\tadd,dc %r2,%r3,%0" \

684 : "Ù" (
sh
), "=&r" (
¶
) \

685 : "rM" (
ah
), "rM" (
bh
), "%rM" (
Æ
), "rI" (
bl
))

	)

686 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

687 
	`__asm__
 ("sub%I4 %4,%r5,%1\n\tsub,db %r2,%r3,%0" \

688 : "Ù" (
sh
), "=&r" (
¶
) \

689 : "rM" (
ah
), "rM" (
bh
), "rI" (
Æ
), "rM" (
bl
))

	)

692 #i‡(
deföed
 (
__i370__
Ë|| deföed (
__s390__
Ë|| deföed (
__mvs__
)Ë&& 
W_TYPE_SIZE
 == 32

693 #i‡
deföed
 (
__z¨ch__
Ë|| deföed (
HAVE_HOST_CPU_s390_z¨ch
)

694 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

696  
	`__asm__
 ("alr\t%1,%5\n\talcr\t%0,%3" \

702 : "Ù" (
sh
), "=&r" (
¶
) \

703 : "0" (
ah
), "r" (
bh
), "%1" (
Æ
), "r" (
bl
)
__CLOBBER_CC
); \

704 } 0)

	)

705 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

707  
	`__asm__
 ("slr\t%1,%5\n\tslbr\t%0,%3" \

713 : "Ù" (
sh
), "=&r" (
¶
) \

714 : "0" (
ah
), "r" (
bh
), "1" (
Æ
), "r" (
bl
Ë
__CLOBBER_CC
); \

715 } 0)

	)

716 #i‡
__GMP_GNUC_PREREQ
 (4,5)

717 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

719 uni⁄ {
UDIty≥
 
__Œ
; \

720 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

721 } 
__x
; \

722 
__x
.
__Œ
 = (
UDIty≥
Ë(
m0
Ë* (UDIty≥Ë(
m1
); \

723 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

724 } 0)

	)

729 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

731 uni⁄ {
UDIty≥
 
__Œ
; \

732 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

733 } 
__x
; \

734 
	`__asm__
 ("mlr\t%0,%2" \

735 : "Ù" (
__x
.
__Œ
) \

736 : "%0" (
m0
), "r" (
m1
)); \

737 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

738 } 0)

	)

740 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

746 
USIty≥
 
__r0
 
	`__asm__
 ("0"); \

747 
USIty≥
 
__r1
 
	`__asm__
 ("1"Ë(
m0
); \

748 
	`__asm__
 ("mlr\t%0,%3" \

749 : "Ù" (
__r0
), "Ù" (
__r1
) \

750 : "r" (
__r1
), "r" (
m1
)); \

751 (
xh
Ë
__r0
; (
xl
Ë
__r1
; \

752 } 0)

	)

758 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

760 uni⁄ {
UDIty≥
 
__Œ
; \

761 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

762 } 
__x
; \

763 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

764 
	`__asm__
 ("dlr\t%0,%2" \

765 : "Ù" (
__x
.
__Œ
) \

766 : "0" (
__x
.
__Œ
), "r" (
d
)); \

767 (
q
Ë
__x
.
__i
.
__l
; (
r
Ë__x.__i.
__h
; \

768 } 0)

	)

770 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

772 
USIty≥
 
__r0
 
	`__asm__
 ("0"Ë(
n1
); \

773 
USIty≥
 
__r1
 
	`__asm__
 ("1"Ë(
n0
); \

774 
	`__asm__
 ("dlr\t%0,%4" \

775 : "Ù" (
__r0
), "Ù" (
__r1
) \

776 : "r" (
__r0
), "r" (
__r1
), "r" (
d
)); \

777 (
q
Ë
__r1
; (
r
Ë
__r0
; \

778 } 0)

	)

782 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

784 uni⁄ {
DIty≥
 
__Œ
; \

785 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

786 } 
__x
; \

787 
	`__asm__
 ("mr\t%0,%2" \

788 : "Ù" (
__x
.
__Œ
) \

789 : "%0" (
m0
), "r" (
m1
)); \

790 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

791 } 0)

	)

793 
	#sdiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

795 uni⁄ {
DIty≥
 
__Œ
; \

796 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

797 } 
__x
; \

798 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

799 
	`__asm__
 ("dr\t%0,%2" \

800 : "Ù" (
__x
.
__Œ
) \

801 : "0" (
__x
.
__Œ
), "r" (
d
)); \

802 (
q
Ë
__x
.
__i
.
__l
; (
r
Ë__x.__i.
__h
; \

803 } 0)

	)

807 #i‡
deföed
 (
__s390x__
Ë&& 
W_TYPE_SIZE
 == 64

812 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

814 
	`__asm__
 ("algr\t%1,%5\n\talcgr\t%0,%3" \

815 : "Ù" (
sh
), "=&r" (
¶
) \

816 : "0" ((
UDIty≥
)(
ah
)), "r" ((UDIty≥)(
bh
)), \

817 "%1" ((
UDIty≥
)(
Æ
)), "r" ((UDIty≥)(
bl
)Ë
__CLOBBER_CC
); \

818 } 0)

	)

819 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

821 
	`__asm__
 ("slgr\t%1,%5\n\tslbgr\t%0,%3" \

822 : "Ù" (
sh
), "=&r" (
¶
) \

823 : "0" ((
UDIty≥
)(
ah
)), "r" ((UDIty≥)(
bh
)), \

824 "1" ((
UDIty≥
)(
Æ
)), "r" ((UDIty≥)(
bl
)Ë
__CLOBBER_CC
); \

825 } 0)

	)

826 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

828 uni⁄ {
	`__©åibuã__
 ((
	`mode
(
TI
))Ë
__Œ
; \

829 °ru˘ {
UDIty≥
 
__h
, 
__l
;} 
__i
; \

830 } 
__x
; \

831 
	`__asm__
 ("mlgr\t%0,%2" \

832 : "Ù" (
__x
.
__Œ
) \

833 : "%0" ((
UDIty≥
)(
m0
)), "r" ((UDIty≥)(
m1
))); \

834 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

835 } 0)

	)

836 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

838 uni⁄ {
	`__©åibuã__
 ((
	`mode
(
TI
))Ë
__Œ
; \

839 °ru˘ {
UDIty≥
 
__h
, 
__l
;} 
__i
; \

840 } 
__x
; \

841 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

842 
	`__asm__
 ("dlgr\t%0,%2" \

843 : "Ù" (
__x
.
__Œ
) \

844 : "0" (
__x
.
__Œ
), "r" ((
UDIty≥
)(
d
))); \

845 (
q
Ë
__x
.
__i
.
__l
; (
r
Ë__x.__i.
__h
; \

846 } 0)

	)

848 
	#cou¡_Àadög_zîos
(
˙t
, 
x
) \

850 uni⁄ {
	`__©åibuã__
 ((
	`mode
(
TI
))Ë
__Œ
; \

851 °ru˘ {
UDIty≥
 
__h
, 
__l
;} 
__i
; \

852 } 
__˛r_˙t
; \

853 
	`__asm__
 ("flogr\t%0,%1" \

854 : "Ù" (
__˛r_˙t
.
__Œ
) \

855 : "r" (
x
Ë
__CLOBBER_CC
); \

856 (
˙t
Ë
__˛r_˙t
.
__i
.
__h
; \

857 } 0)

	)

861 #i‡(
deföed
 (
__i386__
Ë|| deföed (
__i486__
)Ë&& 
W_TYPE_SIZE
 == 32

862 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

863 
	`__asm__
 ("addl %5,%k1\n\tadcl %3,%k0" \

864 : "Ù" (
sh
), "=&r" (
¶
) \

865 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

866 "%1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

867 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

868 
	`__asm__
 ("subl %5,%k1\n\tsbbl %3,%k0" \

869 : "Ù" (
sh
), "=&r" (
¶
) \

870 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

871 "1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

872 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

873 
	`__asm__
 ("mull %3" \

874 : "˜" (
w0
), "=d" (
w1
) \

875 : "%0" ((
USIty≥
)(
u
)), "rm" ((USIty≥)(
v
)))

	)

876 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
dx
) \

877 
	`__asm__
 ("divl %4" \

878 : "˜" (
q
), "=d" (
r
) \

879 : "0" ((
USIty≥
)(
n0
)), "1" ((USIty≥)(
n1
)), "rm" ((USIty≥)(
dx
)))

	)

881 #i‡
HAVE_HOST_CPU_i586
 || 
HAVE_HOST_CPU_≥¡ium
 || 
HAVE_HOST_CPU_≥¡iummmx


888 #i‡
HAVE_HOST_CPU_≥¡iummmx
 && ! 
deföed
 (
LONGLONG_STANDALONE
)

907 
	#cou¡_Àadög_zîos
(
c
,
n
) \

909 
USIty≥
 
__n
 = (
n
); \

910 
USIty≥
 
__shi·
; \

911 
	`__asm__
 ("cmpl $0x1000000, %1\n" \

917 : "=&r" (
__shi·
Ë: "r" (
__n
)); \

918 
__shi·
 = __shift*8 + 24 + 1; \

919 (
c
Ë32 + 1 - 
__shi·
 - 
__˛z_èb
[
__n
 >> __shift]; \

920 } 0)

	)

921 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

922 
	#COUNT_LEADING_ZEROS_0
 31

	)

931 
	#cou¡_Àadög_zîos
(
c
,
n
) \

934 
d
; \

935 
a
[2]; \

936 } 
__u
; \

937 
	`ASSERT
 ((
n
) != 0); \

938 
__u
.
d
 = (
UWty≥
Ë(
n
); \

939 (
c
Ë0x3FF + 31 - (
__u
.
a
[1] >> 20); \

940 } 0)

	)

941 
	#COUNT_LEADING_ZEROS_0
 (0x3FF + 31)

	)

946 #i‡
__GMP_GNUC_PREREQ
 (3,4)

947 
	#cou¡_Àadög_zîos
(
cou¡
,
x
Ë
	`cou¡_Àadög_zîos_gcc_˛z
(cou¡,x)

	)

955 #i‡! 
deföed
 (
cou¡_Àadög_zîos
Ë&& 
__GNUC__
 < 3 \

956 && (
	gHAVE_HOST_CPU_i386
 \

957 || 
	gHAVE_HOST_CPU_i686
 \

958 || 
	gHAVE_HOST_CPU_≥¡ium¥o
 \

959 || 
	gHAVE_HOST_CPU_≥¡ium2
 \

960 || 
	gHAVE_HOST_CPU_≥¡ium3
)

961 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

963 
USIty≥
 
__cbtmp
; \

964 
	`ASSERT
 ((
x
) != 0); \

965 
	`__asm__
 ("b§»%1,%0" : "Ù" (
__cbtmp
Ë: "rm" ((
USIty≥
)(
x
))); \

966 (
cou¡
Ë31 - 
__cbtmp
; \

967 } 0)

	)

970 #i‚de‡
cou¡_Àadög_zîos


971 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

973 
USIty≥
 
__cbtmp
; \

974 
	`ASSERT
 ((
x
) != 0); \

975 
	`__asm__
 ("b§»%1,%0" : "Ù" (
__cbtmp
Ë: "rm" ((
USIty≥
)(
x
))); \

976 (
cou¡
Ë
__cbtmp
 ^ 31; \

977 } 0)

	)

980 #i‡
__GMP_GNUC_PREREQ
 (3,4)

981 
	#cou¡_åaûög_zîos
(
cou¡
,
x
Ë
	`cou¡_åaûög_zîos_gcc_˘z
(cou¡,x)

	)

984 #i‚de‡
cou¡_åaûög_zîos


985 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) \

987 
	`ASSERT
 ((
x
) != 0); \

988 
	`__asm__
 ("bsÊ %1,%k0" : "Ù" (
cou¡
Ë: "rm" ((
USIty≥
)(
x
))); \

989 } 0)

	)

994 #i‚de‡
UMUL_TIME


995 
	#UMUL_TIME
 10

	)

997 #i‚de‡
UDIV_TIME


998 
	#UDIV_TIME
 40

	)

1002 #i‡
deföed
 (
__amd64__
Ë&& 
W_TYPE_SIZE
 == 64

1003 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1004 
	`__asm__
 ("addq %5,%q1\n\tadcq %3,%q0" \

1005 : "Ù" (
sh
), "=&r" (
¶
) \

1006 : "0" ((
UDIty≥
)(
ah
)), "rme" ((UDIty≥)(
bh
)), \

1007 "%1" ((
UDIty≥
)(
Æ
)), "rme" ((UDIty≥)(
bl
)))

	)

1008 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1009 
	`__asm__
 ("subq %5,%q1\n\tsbbq %3,%q0" \

1010 : "Ù" (
sh
), "=&r" (
¶
) \

1011 : "0" ((
UDIty≥
)(
ah
)), "rme" ((UDIty≥)(
bh
)), \

1012 "1" ((
UDIty≥
)(
Æ
)), "rme" ((UDIty≥)(
bl
)))

	)

1013 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1014 
	`__asm__
 ("mulq %3" \

1015 : "˜" (
w0
), "=d" (
w1
) \

1016 : "%0" ((
UDIty≥
)(
u
)), "rm" ((UDIty≥)(
v
)))

	)

1017 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
dx
) \

1018 
	`__asm__
 ("divq %4" \

1019 : "˜" (
q
), "=d" (
r
) \

1020 : "0" ((
UDIty≥
)(
n0
)), "1" ((UDIty≥)(
n1
)), "rm" ((UDIty≥)(
dx
)))

	)

1022 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1024 
UDIty≥
 
__cbtmp
; \

1025 
	`ASSERT
 ((
x
) != 0); \

1026 
	`__asm__
 ("b§q %1,%0" : "Ù" (
__cbtmp
Ë: "rm" ((
UDIty≥
)(
x
))); \

1027 (
cou¡
Ë
__cbtmp
 ^ 63; \

1028 } 0)

	)

1031 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) \

1033 
	`ASSERT
 ((
x
) != 0); \

1034 
	`__asm__
 ("bsfq %1,%q0" : "Ù" (
cou¡
Ë: "rm" ((
UDIty≥
)(
x
))); \

1035 } 0)

	)

1038 #i‡
deföed
 (
__i860__
Ë&& 
W_TYPE_SIZE
 == 32

1039 
	#rshi·_rhlc
(
r
,
h
,
l
,
c
) \

1040 
	`__asm__
 ("shr %3,r0,r0\;shrd %1,%2,%0" \

1041 "Ù" (
r
Ë: "r" (
h
), "r" (
l
), "∫" (
c
))

	)

1044 #i‡
deföed
 (
__i960__
Ë&& 
W_TYPE_SIZE
 == 32

1045 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1046 
	`__asm__
 ("cmpo 1,0\;addc %5,%4,%1\;addc %3,%2,%0" \

1047 : "Ù" (
sh
), "=&r" (
¶
) \

1048 : "dI" (
ah
), "dI" (
bh
), "%dI" (
Æ
), "dI" (
bl
))

	)

1049 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1050 
	`__asm__
 ("cmpo 0,0\;subc %5,%4,%1\;subc %3,%2,%0" \

1051 : "Ù" (
sh
), "=&r" (
¶
) \

1052 : "dI" (
ah
), "dI" (
bh
), "dI" (
Æ
), "dI" (
bl
))

	)

1053 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1054 ({uni⁄ {
UDIty≥
 
__Œ
; \

1055 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1056 } 
__x
; \

1057 
	`__asm__
 ("emul %2,%1,%0" \

1058 : "=d" (
__x
.
__Œ
Ë: "%dI" (
u
), "dI" (
v
)); \

1059 (
w1
Ë
__x
.
__i
.
__h
; (
w0
Ë__x.__i.
__l
;})

	)

1060 
	#__umulsidi3
(
u
, 
v
) \

1061 ({
UDIty≥
 
__w
; \

1062 
	`__asm__
 ("emu»%2,%1,%0" : "=d" (
__w
Ë: "%dI" (
u
), "dI" (
v
)); \

1063 
__w
; })

	)

1064 
	#udiv_q∫nd
(
q
, 
r
, 
nh
, 
∆
, 
d
) \

1066 uni⁄ {
UDIty≥
 
__Œ
; \

1067 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1068 } 
__¬
; \

1069 
__¬
.
__i
.
__h
 = (
nh
); __¬.__i.
__l
 = (
∆
); \

1070 
	`__asm__
 ("ediv %d,%n,%0" \

1071 : "=d" (
__rq
.
__Œ
Ë: "dI" (
__¬
.__Œ), "dI" (
d
)); \

1072 (
r
Ë
__rq
.
__i
.
__l
; (
q
Ë__rq.__i.
__h
; \

1073 } 0)

	)

1074 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1076 
USIty≥
 
__cbtmp
; \

1077 
	`__asm__
 ("sˇnbô %1,%0" : "Ù" (
__cbtmp
Ë: "r" (
x
)); \

1078 (
cou¡
Ë
__cbtmp
 ^ 31; \

1079 } 0)

	)

1080 
	#COUNT_LEADING_ZEROS_0
 (-32Ë

	)

1081 #i‡
deföed
 (
__i960mx
)

1082 
	#rshi·_rhlc
(
r
,
h
,
l
,
c
) \

1084 uni⁄ {
UDIty≥
 
__Œ
; \

1085 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1086 } 
__¬
; \

1087 
__¬
.
__i
.
__h
 = (
h
); __¬.__i.
__l
 = (
l
); \

1088 
	`__asm__
 ("shª %2,%1,%0" : "=d" (
r
Ë: "dI" (
__¬
.
__Œ
), "dI" (
c
)); \

1089 }

	)

1093 #i‡(
deföed
 (
__mc68000__
Ë|| deföed (
__mc68020__
Ë|| deföed(
mc68020
) \

1094 || 
deföed
 (
__m68k__
Ë|| deföed (
__mc5200__
Ë|| deföed (
__mc5206e__
) \

1095 || 
deföed
 (
__mc5307__
)Ë&& 
	gW_TYPE_SIZE
 == 32

1096 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1097 
	`__asm__
 ("add%.l %5,%1\n\taddx%.l %3,%0" \

1098 : "=d" (
sh
), "=&d" (
¶
) \

1099 : "0" ((
USIty≥
)(
ah
)), "d" ((USIty≥)(
bh
)), \

1100 "%1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1101 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1102 
	`__asm__
 ("sub%.l %5,%1\n\tsubx%.l %3,%0" \

1103 : "=d" (
sh
), "=&d" (
¶
) \

1104 : "0" ((
USIty≥
)(
ah
)), "d" ((USIty≥)(
bh
)), \

1105 "1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1107 #i‡
deföed
 (
__mc68020__
Ë|| deföed(
mc68020
) \

1108 || 
deföed
 (
__mc68030__
Ë|| deföed (
mc68030
) \

1109 || 
deföed
 (
__mc68040__
Ë|| deföed (
mc68040
) \

1110 || 
deföed
 (
__m˝u32__
Ë|| deföed (
m˝u32
) \

1111 || 
	$deföed
 (
__NeXT__
)

1112 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1113 
	`__asm__
 ("mulu%.l %3,%1:%0" \

1114 : "=d" (
w0
), "=d" (
w1
) \

1115 : "%0" ((
USIty≥
)(
u
)), "dmi" ((USIty≥)(
v
)))

	)

1116 
	#UMUL_TIME
 45

	)

1117 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1118 
	`__asm__
 ("divu%.l %4,%1:%0" \

1119 : "=d" (
q
), "=d" (
r
) \

1120 : "0" ((
USIty≥
)(
n0
)), "1" ((USIty≥)(
n1
)), "dmi" ((USIty≥)(
d
)))

	)

1121 
	#UDIV_TIME
 90

	)

1122 
	#sdiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1123 
	`__asm__
 ("divs%.l %4,%1:%0" \

1124 : "=d" (
q
), "=d" (
r
) \

1125 : "0" ((
USIty≥
)(
n0
)), "1" ((USIty≥)(
n1
)), "dmi" ((USIty≥)(
d
)))

	)

1127 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

1128 dÿ{ 
USIty≥
 
__umul_tmp1
, 
__umul_tmp2
; \

1129 
	`__asm__
 ("| Inlined umul_ppmm\n" \

1151 : "=&d" (
xh
), "=&d" (
xl
), \

1152 "=d" (
__umul_tmp1
), "=&d" (
__umul_tmp2
) \

1153 : "%2" ((
USIty≥
)(
a
)), "d" ((USIty≥)(
b
))); \

1154 
	}
} 0)

	)

1155 
	#UMUL_TIME
 100

	)

1156 
	#UDIV_TIME
 400

	)

1161 #i‡(
deföed
 (
__mc68020__
Ë|| deföed (
mc68020
) \

1162 || 
deföed
 (
__mc68030__
Ë|| deföed (
mc68030
) \

1163 || 
deföed
 (
__mc68040__
Ë|| deföed (
mc68040
) \

1164 || 
deföed
 (
__mc68060__
Ë|| deföed (
mc68060
) \

1165 || 
deföed
 (
__NeXT__
)) \

1166 && ! 
	$deföed
 (
__m˝u32__
)

1167 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1168 
	`__asm__
 ("bfffo %1{%b2:%b2},%0" \

1169 : "=d" (
cou¡
) \

1170 : "od" ((
USIty≥
Ë(
x
)), "n" (0))

	)

1171 
	#COUNT_LEADING_ZEROS_0
 32

	)

1175 #i‡
	`deföed
 (
__m88000__
Ë&& 
W_TYPE_SIZE
 == 32

1176 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1177 
	`__asm__
 ("addu.co %1,%r4,%r5\n\taddu.ci %0,%r2,%r3" \

1178 : "Ù" (
sh
), "=&r" (
¶
) \

1179 : "rJ" (
ah
), "rJ" (
bh
), "%rJ" (
Æ
), "rJ" (
bl
))

	)

1180 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1181 
	`__asm__
 ("subu.co %1,%r4,%r5\n\tsubu.ci %0,%r2,%r3" \

1182 : "Ù" (
sh
), "=&r" (
¶
) \

1183 : "rJ" (
ah
), "rJ" (
bh
), "rJ" (
Æ
), "rJ" (
bl
))

	)

1184 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1186 
USIty≥
 
__cbtmp
; \

1187 
	`__asm__
 ("ff1 %0,%1" : "Ù" (
__cbtmp
Ë: "r" (
x
)); \

1188 (
cou¡
Ë
__cbtmp
 ^ 31; \

1189 
	}
} 0)

	)

1190 
	#COUNT_LEADING_ZEROS_0
 63

	)

1191 #i‡
deföed
 (
__m88110__
)

1192 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1194 uni⁄ {
UDIty≥
 
__Œ
; \

1195 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

1196 } 
__x
; \

1197 
	`__asm__
 ("mulu.d %0,%1,%2" : "Ù" (
__x
.
__Œ
Ë: "r" (
u
), "r" (
v
)); \

1198 (
wh
Ë
__x
.
__i
.
__h
; \

1199 (
wl
Ë
__x
.
__i
.
__l
; \

1200 } 0)

	)

1201 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1202 ({uni⁄ {
UDIty≥
 
__Œ
; \

1203 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

1204 } 
__x
, 
__q
; \

1205 
__x
.
__i
.
__h
 = (
n1
); __x.__i.
__l
 = (
n0
); \

1206 
	`__asm__
 ("divu.d %0,%1,%2" \

1207 : "Ù" (
__q
.
__Œ
Ë: "r" (
__x
.__Œ), "r" (
d
)); \

1208 (
r
Ë(
n0
Ë- 
__q
.
__l
 * (
d
); (
q
Ë__q.__l; })

	)

1209 
	#UMUL_TIME
 5

	)

1210 
	#UDIV_TIME
 25

	)

1212 
	#UMUL_TIME
 17

	)

1213 
	#UDIV_TIME
 150

	)

1217 #i‡
deföed
 (
__mùs
Ë&& 
W_TYPE_SIZE
 == 32

1218 #i‡
__GMP_GNUC_PREREQ
 (4,4)

1219 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1221 
UDIty≥
 
__Œ
 = (UDIty≥)(
u
Ë* (
v
); \

1222 
w1
 = 
__Œ
 >> 32; \

1223 
w0
 = 
__Œ
; \

1224 } 0)

	)

1226 #i‡!
deföed
 (
umul_µmm
Ë&& 
__GMP_GNUC_PREREQ
 (2,7)

1227 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1228 
	`__asm__
 ("mu…u %2,%3" : "ˆ" (
w0
), "=h" (
w1
Ë: "d" (
u
), "d" (
v
))

	)

1230 #i‡!
deföed
 (
umul_µmm
)

1231 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1232 
	`__asm__
 ("multu %2,%3\n\tmflo %0\n\tmfhi %1" \

1233 : "=d" (
w0
), "=d" (
w1
Ë: "d" (
u
), "d" (
v
))

	)

1235 
	#UMUL_TIME
 10

	)

1236 
	#UDIV_TIME
 100

	)

1239 #i‡(
deföed
 (
__mùs
Ë&& __mù†>3Ë&& 
W_TYPE_SIZE
 == 64

1240 #i‡
__GMP_GNUC_PREREQ
 (4,4)

1241 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1243 
	t__Œ_UTIty≥
 
	t__©åibuã__
((
	tmode
(
	tTI
))); \

1244 
__Œ_UTIty≥
 
__Œ
 = (__Œ_UTIty≥)(
u
Ë* (
v
); \

1245 
w1
 = 
__Œ
 >> 64; \

1246 
w0
 = 
__Œ
; \

1247 } 0)

	)

1249 #i‡!
deföed
 (
umul_µmm
Ë&& 
__GMP_GNUC_PREREQ
 (2,7)

1250 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1251 
	`__asm__
 ("dmu…u %2,%3" : "ˆ" (
w0
), "=h" (
w1
Ë: "d" (
u
), "d" (
v
))

	)

1253 #i‡!
deföed
 (
umul_µmm
)

1254 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1255 
	`__asm__
 ("dmultu %2,%3\n\tmflo %0\n\tmfhi %1" \

1256 : "=d" (
w0
), "=d" (
w1
Ë: "d" (
u
), "d" (
v
))

	)

1258 
	#UMUL_TIME
 20

	)

1259 
	#UDIV_TIME
 140

	)

1262 #i‡
deföed
 (
__mmix__
Ë&& 
W_TYPE_SIZE
 == 64

1263 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1264 
	`__asm__
 ("MULU %0,%2,%3" : "Ù" (
w0
), "=z" (
w1
Ë: "r" (
u
), "r" (
v
))

	)

1267 #i‡
deföed
 (
__ns32000__
Ë&& 
W_TYPE_SIZE
 == 32

1268 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1269 ({uni⁄ {
UDIty≥
 
__Œ
; \

1270 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1271 } 
__x
; \

1272 
	`__asm__
 ("meid %2,%0" \

1273 : "=g" (
__x
.
__Œ
) \

1274 : "%0" ((
USIty≥
)(
u
)), "g" ((USIty≥)(
v
))); \

1275 (
w1
Ë
__x
.
__i
.
__h
; (
w0
Ë__x.__i.
__l
;})

	)

1276 
	#__umulsidi3
(
u
, 
v
) \

1277 ({
UDIty≥
 
__w
; \

1278 
	`__asm__
 ("meid %2,%0" \

1279 : "=g" (
__w
) \

1280 : "%0" ((
USIty≥
)(
u
)), "g" ((USIty≥)(
v
))); \

1281 
__w
; })

	)

1282 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1283 ({uni⁄ {
UDIty≥
 
__Œ
; \

1284 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1285 } 
__x
; \

1286 
__x
.
__i
.
__h
 = (
n1
); __x.__i.
__l
 = (
n0
); \

1287 
	`__asm__
 ("deid %2,%0" \

1288 : "=g" (
__x
.
__Œ
) \

1289 : "0" (
__x
.
__Œ
), "g" ((
USIty≥
)(
d
))); \

1290 (
r
Ë
__x
.
__i
.
__l
; (
q
Ë__x.__i.
__h
; })

	)

1291 
	#cou¡_åaûög_zîos
(
cou¡
,
x
) \

1293 
	`__asm__
 ("ffsd %2,%0" \

1294 : "Ù" (
cou¡
) \

1295 : "0" ((
USIty≥
Ë0), "r" ((USIty≥Ë(
x
))); \

1296 } 0)

	)

1318 #i‡(
HAVE_HOST_CPU_FAMILY_powî
 || 
HAVE_HOST_CPU_FAMILY_powîpc
) \

1319 && 
	gW_TYPE_SIZE
 == 32

1320 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1322 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
) && (bh) == 0) \

1323 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{aze|addze} %0,%2" \

1324 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "%r" (
Æ
), "rI" (
bl
));\

1325 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
Ë&& (bhË=~(
USIty≥
) 0) \

1326 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{ame|addme} %0,%2" \

1327 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "%r" (
Æ
), "rI" (
bl
));\

1329 
	`__asm__
 ("{a%I5|add%I5c} %1,%4,%5\n\t{ae|adde} %0,%2,%3" \

1330 : "Ù" (
sh
), "=&r" (
¶
) \

1331 : "r" (
ah
), "r" (
bh
), "%r" (
Æ
), "rI" (
bl
)); \

1332 } 0)

	)

1333 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1335 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
) && (ah) == 0) \

1336 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfze|subfze} %0,%2" \

1337 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "r" (
bl
));\

1338 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
Ë&& (ahË=~(
USIty≥
) 0) \

1339 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfme|subfme} %0,%2" \

1340 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "r" (
bl
));\

1341 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
) && (bh) == 0) \

1342 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{ame|addme} %0,%2" \

1343 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "r" (
bl
));\

1344 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
Ë&& (bhË=~(
USIty≥
) 0) \

1345 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{aze|addze} %0,%2" \

1346 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "r" (
bl
));\

1348 
	`__asm__
 ("{sf%I4|subf%I4c} %1,%5,%4\n\t{sfe|subfe} %0,%3,%2" \

1349 : "Ù" (
sh
), "=&r" (
¶
) \

1350 : "r" (
ah
), "r" (
bh
), "rI" (
Æ
), "r" (
bl
)); \

1351 } 0)

	)

1352 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1353 
	`__asm__
 ("{˙éz|˙ézw} %0,%1" : "Ù" (
cou¡
Ë: "r" (
x
))

	)

1354 
	#COUNT_LEADING_ZEROS_0
 32

	)

1355 #i‡
HAVE_HOST_CPU_FAMILY_powîpc


1356 #i‡
__GMP_GNUC_PREREQ
 (4,4)

1357 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1359 
UDIty≥
 
__Œ
 = (UDIty≥)(
u
Ë* (
v
); \

1360 
w1
 = 
__Œ
 >> 32; \

1361 
w0
 = 
__Œ
; \

1362 } 0)

	)

1364 #i‡!
deföed
 (
umul_µmm
)

1365 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1367 
USIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1368 
	`__asm__
 ("mulhwu %0,%1,%2" : "Ù" (
ph
Ë: "%r" (
m0
), "r" (
m1
)); \

1369 (
∂
Ë
__m0
 * 
__m1
; \

1370 } 0)

	)

1372 
	#UMUL_TIME
 15

	)

1373 
	#smul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1375 
SIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1376 
	`__asm__
 ("mulhw %0,%1,%2" : "Ù" (
ph
Ë: "%r" (
m0
), "r" (
m1
)); \

1377 (
∂
Ë
__m0
 * 
__m1
; \

1378 } 0)

	)

1379 
	#SMUL_TIME
 14

	)

1380 
	#UDIV_TIME
 120

	)

1382 
	#UMUL_TIME
 8

	)

1383 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1384 
	`__asm__
 ("mu»%0,%2,%3" : "Ù" (
xh
), "=q" (
xl
Ë: "r" (
m0
), "r" (
m1
))

	)

1385 
	#SMUL_TIME
 4

	)

1386 
	#sdiv_q∫nd
(
q
, 
r
, 
nh
, 
∆
, 
d
) \

1387 
	`__asm__
 ("div %0,%2,%4" : "Ù" (
q
), "=q" (
r
Ë: "r" (
nh
), "1" (
∆
), "r" (
d
))

	)

1388 
	#UDIV_TIME
 100

	)

1394 #i‡
HAVE_HOST_CPU_FAMILY_powîpc
 && 
W_TYPE_SIZE
 == 64

1395 #i‡!
deföed
 (
_LONG_LONG_LIMB
)

1398 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1400 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
) && (bh) == 0) \

1401 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{aze|addze} %0,%2" \

1402 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "%r" (
Æ
), "rI" (
bl
));\

1403 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
Ë&& (bhË=~(
UDIty≥
) 0) \

1404 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{ame|addme} %0,%2" \

1405 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "%r" (
Æ
), "rI" (
bl
));\

1407 
	`__asm__
 ("{a%I5|add%I5c} %1,%4,%5\n\t{ae|adde} %0,%2,%3" \

1408 : "Ù" (
sh
), "=&r" (
¶
) \

1409 : "r" (
ah
), "r" (
bh
), "%r" (
Æ
), "rI" (
bl
)); \

1410 } 0)

	)

1413 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1415 i‡(
	`__buûtö_c⁄°™t_p
 (
bl
) && bl > -0x8000 && bl <= 0x8000) { \

1416 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
) && (ah) == 0) \

1417 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{sfze|subfze} %0,%2" \

1418 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "*rI" (-
bl
)); \

1419 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
Ë&& (ahË=~(
UDIty≥
) 0) \

1420 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{sfme|subfme} %0,%2" \

1421 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "*rI" (-
bl
)); \

1422 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
) && (bh) == 0) \

1423 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{ame|addme} %0,%2" \

1424 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "*rI" (-
bl
)); \

1425 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
Ë&& (bhË=~(
UDIty≥
) 0) \

1426 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{aze|addze} %0,%2" \

1427 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "*rI" (-
bl
)); \

1429 
	`__asm__
 ("{ai|addic} %1,%4,%5\n\t{sfe|subfe} %0,%3,%2" \

1430 : "Ù" (
sh
), "=&r" (
¶
) \

1431 : "r" (
ah
), "r" (
bh
), "rI" (
Æ
), "*rI" (-
bl
)); \

1433 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
) && (ah) == 0) \

1434 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfze|subfze} %0,%2" \

1435 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "r" (
bl
)); \

1436 i‡(
	`__buûtö_c⁄°™t_p
 (
ah
Ë&& (ahË=~(
UDIty≥
) 0) \

1437 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfme|subfme} %0,%2" \

1438 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
bh
), "rI" (
Æ
), "r" (
bl
)); \

1439 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
) && (bh) == 0) \

1440 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{ame|addme} %0,%2" \

1441 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "r" (
bl
)); \

1442 i‡(
	`__buûtö_c⁄°™t_p
 (
bh
Ë&& (bhË=~(
UDIty≥
) 0) \

1443 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{aze|addze} %0,%2" \

1444 : "Ù" (
sh
), "=&r" (
¶
Ë: "r" (
ah
), "rI" (
Æ
), "r" (
bl
)); \

1446 
	`__asm__
 ("{sf%I4|subf%I4c} %1,%5,%4\n\t{sfe|subfe} %0,%3,%2" \

1447 : "Ù" (
sh
), "=&r" (
¶
) \

1448 : "r" (
ah
), "r" (
bh
), "rI" (
Æ
), "r" (
bl
)); \

1450 } 0)

	)

1452 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1453 
	`__asm__
 ("˙ézd %0,%1" : "Ù" (
cou¡
Ë: "r" (
x
))

	)

1454 
	#COUNT_LEADING_ZEROS_0
 64

	)

1455 #i‡0 && 
__GMP_GNUC_PREREQ
 (4,4)

1456 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1458 
	t__Œ_UTIty≥
 
	t__©åibuã__
((
	tmode
(
	tTI
))); \

1459 
__Œ_UTIty≥
 
__Œ
 = (__Œ_UTIty≥)(
u
Ë* (
v
); \

1460 
w1
 = 
__Œ
 >> 64; \

1461 
w0
 = 
__Œ
; \

1462 } 0)

	)

1464 #i‡!
deföed
 (
umul_µmm
)

1465 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1467 
UDIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1468 
	`__asm__
 ("mulhdu %0,%1,%2" : "Ù" (
ph
Ë: "%r" (
m0
), "r" (
m1
)); \

1469 (
∂
Ë
__m0
 * 
__m1
; \

1470 } 0)

	)

1472 
	#UMUL_TIME
 15

	)

1473 
	#smul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1475 
DIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1476 
	`__asm__
 ("mulhd %0,%1,%2" : "Ù" (
ph
Ë: "%r" (
m0
), "r" (
m1
)); \

1477 (
∂
Ë
__m0
 * 
__m1
; \

1478 } 0)

	)

1479 
	#SMUL_TIME
 14

	)

1480 
	#UDIV_TIME
 120

	)

1483 #i‡
deföed
 (
__pyr__
Ë&& 
W_TYPE_SIZE
 == 32

1484 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1485 
	`__asm__
 ("addw %5,%1\n\taddwc %3,%0" \

1486 : "Ù" (
sh
), "=&r" (
¶
) \

1487 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

1488 "%1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1489 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1490 
	`__asm__
 ("subw %5,%1\n\tsubwb %3,%0" \

1491 : "Ù" (
sh
), "=&r" (
¶
) \

1492 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

1493 "1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1495 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1496 ({uni⁄ {
UDIty≥
 
__Œ
; \

1497 °ru˘ {
USIty≥
 
__h
, 
__l
;} 
__i
; \

1498 } 
__x
; \

1499 
	`__asm__
 ("movw %1,%R0\n\tuemul %2,%0" \

1500 : "=&r" (
__x
.
__Œ
) \

1501 : "g" ((
USIty≥
Ë(
u
)), "g" ((USIty≥)(
v
))); \

1502 (
w1
Ë
__x
.
__i
.
__h
; (
w0
Ë__x.__i.
__l
;})

	)

1505 #i‡
deföed
 (
__ibm032__
Ë && 
W_TYPE_SIZE
 == 32

1506 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1507 
	`__asm__
 ("a %1,%5\n\tae %0,%3" \

1508 : "Ù" (
sh
), "=&r" (
¶
) \

1509 : "0" ((
USIty≥
)(
ah
)), "r" ((USIty≥)(
bh
)), \

1510 "%1" ((
USIty≥
)(
Æ
)), "r" ((USIty≥)(
bl
)))

	)

1511 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1512 
	`__asm__
 ("s %1,%5\n\tse %0,%3" \

1513 : "Ù" (
sh
), "=&r" (
¶
) \

1514 : "0" ((
USIty≥
)(
ah
)), "r" ((USIty≥)(
bh
)), \

1515 "1" ((
USIty≥
)(
Æ
)), "r" ((USIty≥)(
bl
)))

	)

1516 
	#smul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1517 
	`__asm__
 ( \

1538 : "Ù" (
ph
), "Ù" (
∂
) \

1539 : "%r" ((
USIty≥
)(
m0
)), "r" ((USIty≥)(
m1
)) \

1540 : "r2")

	)

1541 
	#UMUL_TIME
 20

	)

1542 
	#UDIV_TIME
 200

	)

1543 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1545 i‡((
x
) >= 0x10000) \

1546 
	`__asm__
 ("clz %0,%1" \

1547 : "Ù" (
cou¡
Ë: "r" ((
USIty≥
)(
x
) >> 16)); \

1550 
	`__asm__
 ("clz %0,%1" \

1551 : "Ù" (
cou¡
Ë: "r" ((
USIty≥
)(
x
))); \

1552 (
cou¡
) += 16; \

1554 } 0)

	)

1557 #i‡(
deföed
 (
__SH2__
Ë|| deföed (
__SH3__
Ë|| deföed (
__SH4__
)Ë&& 
W_TYPE_SIZE
 == 32

1558 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1559 
	`__asm__
 ("dmulu.l %2,%3\n\tsts macl,%1\n\tsts mach,%0" \

1560 : "Ù" (
w1
), "Ù" (
w0
Ë: "r" (
u
), "r" (
v
Ë: "ma˛", "mach")

	)

1561 
	#UMUL_TIME
 5

	)

1564 #i‡
deföed
 (
__•¨c__
Ë&& 
W_TYPE_SIZE
 == 32

1565 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1566 
	`__asm__
 ("addcc %r4,%5,%1\n\taddx %r2,%3,%0" \

1567 : "Ù" (
sh
), "=&r" (
¶
) \

1568 : "rJ" (
ah
), "rI" (
bh
),"%rJ" (
Æ
), "rI" (
bl
) \

1569 
__CLOBBER_CC
)

	)

1570 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1571 
	`__asm__
 ("subcc %r4,%5,%1\n\tsubx %r2,%3,%0" \

1572 : "Ù" (
sh
), "=&r" (
¶
) \

1573 : "rJ" (
ah
), "rI" (
bh
), "rJ" (
Æ
), "rI" (
bl
) \

1574 
__CLOBBER_CC
)

	)

1577 #i‡
deföed
 (
__•¨c_v9__
Ë|| deföed (
__•¨cv9
)

1582 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1583 
	`__asm__
 ("mulx %2,%3,%%g1; srl %%g1,0,%1; srlx %%g1,32,%0" : \

1584 "Ù" (
w1
), "Ù" (
w0
Ë: "r" (
u
), "r" (
v
Ë: "g1")

	)

1587 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1588 
	`__asm__
 ("umu»%2,%3,%1;rd %%y,%0" : "Ù" (
w1
), "Ù" (
w0
Ë: "r" (
u
), "r" (
v
))

	)

1591 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1593 
USIty≥
 
__q
; \

1594 
	`__asm__
 ("mov %1,%%y;nop;nop;nop;udiv %2,%3,%0" \

1595 : "Ù" (
__q
Ë: "r" (
n1
), "r" (
n0
), "r" (
d
)); \

1596 (
r
Ë(
n0
Ë- 
__q
 * (
d
); \

1597 (
q
Ë
__q
; \

1598 } 0)

	)

1600 #i‡
deföed
 (
__•¨c_v8__
) \

1601 || 
deföed
 (
__•¨cv8
) \

1602 || 
	gHAVE_HOST_CPU_su≥r•¨c


1607 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1608 
	`__asm__
 ("umu»%2,%3,%1;rd %%y,%0" : "Ù" (
w1
), "Ù" (
w0
Ë: "r" (
u
), "r" (
v
))

	)

1609 
	#UMUL_TIME
 5

	)

1611 #i‡
HAVE_HOST_CPU_su≥r•¨c


1612 
	#UDIV_TIME
 60

	)

1616 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1618 
USIty≥
 
__q
; \

1619 
	`__asm__
 ("mov %1,%%y;nop;nop;nop;udiv %2,%3,%0" \

1620 : "Ù" (
__q
Ë: "r" (
n1
), "r" (
n0
), "r" (
d
)); \

1621 (
r
Ë(
n0
Ë- 
__q
 * (
d
); \

1622 (
q
Ë
__q
; \

1623 } 0)

	)

1624 
	#UDIV_TIME
 25

	)

1628 #i‡
deföed
 (
__•¨˛ôe__
)

1631 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1632 
	`__asm__
 ("umu»%2,%3,%1;rd %%y,%0" : "Ù" (
w1
), "Ù" (
w0
Ë: "r" (
u
), "r" (
v
))

	)

1633 
	#UMUL_TIME
 5

	)

1634 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1635 
	`__asm__
 ("! Inlined udiv_qrnnd\n" \

1674 : "Ù" (
q
), "Ù" (
r
Ë: "r" (
n1
), "r" (
n0
), "rI" (
d
) \

1675 : "%g1" 
__AND_CLOBBER_CC
)

	)

1676 
	#UDIV_TIME
 37

	)

1677 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

1678 
	`__asm__
 ("sˇ¿%1,1,%0" : "Ù" (
cou¡
Ë: "r" (
x
))

	)

1686 #i‚de‡
umul_µmm


1687 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1688 
	`__asm__
 ("! Inlined umul_ppmm\n" \

1728 : "Ù" (
w1
), "Ù" (
w0
Ë: "%rI" (
u
), "r" (
v
) \

1729 : "%g1", "%g2" 
__AND_CLOBBER_CC
)

	)

1730 
	#UMUL_TIME
 39

	)

1732 #i‚de‡
udiv_q∫nd


1733 #i‚de‡
LONGLONG_STANDALONE


1734 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1735 dÿ{ 
UWty≥
 
__r
; \

1736 (
q
Ë
	`__MPN
(
udiv_q∫nd
Ë(&
__r
, (
n1
), (
n0
), (
d
)); \

1737 (
r
Ë
__r
; \

1738 } 0)

	)

1739 
UWty≥
 
	$__MPN
(
udiv_q∫nd
Ë(
UWty≥
 *, UWtype, UWtype, UWtype);

1740 #i‚de‡
UDIV_TIME


1741 
	#UDIV_TIME
 140

	)

1747 #i‡
	`deföed
 (
__•¨c__
Ë&& 
W_TYPE_SIZE
 == 64

1748 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1749 
	`__asm__
 ( \

1753 : "Ù" (
sh
), "=&r" (
¶
) \

1754 : "rJ" (
ah
), "rI" (
bh
), "%rJ" (
Æ
), "rI" (
bl
), \

1755 "%rJ" ((
Æ
Ë>> 32), "rI" ((
bl
) >> 32) \

1756 
__CLOBBER_CC
)

	)

1757 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1758 
	`__asm__
 ( \

1762 : "Ù" (
sh
), "=&r" (
¶
) \

1763 : "rJ" (
ah
), "rI" (
bh
), "rJ" (
Æ
), "rI" (
bl
), \

1764 "rJ" ((
Æ
Ë>> 32), "rI" ((
bl
) >> 32) \

1765 
__CLOBBER_CC
)

	)

1768 #i‡
	`deföed
 (
__vax__
Ë&& 
W_TYPE_SIZE
 == 32

1769 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1770 
	`__asm__
 ("addl2 %5,%1\n\tadwc %3,%0" \

1771 : "=g" (
sh
), "=&g" (
¶
) \

1772 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

1773 "%1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1774 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1775 
	`__asm__
 ("subl2 %5,%1\n\tsbwc %3,%0" \

1776 : "=g" (
sh
), "=&g" (
¶
) \

1777 : "0" ((
USIty≥
)(
ah
)), "g" ((USIty≥)(
bh
)), \

1778 "1" ((
USIty≥
)(
Æ
)), "g" ((USIty≥)(
bl
)))

	)

1779 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1781 uni⁄ {
UDIty≥
 
__Œ
; \

1782 °ru˘ {
USIty≥
 
__l
, 
__h
;} 
__i
; \

1783 } 
__x
; \

1784 
USIty≥
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1785 
	`__asm__
 ("emul %1,%2,$0,%0" \

1786 : "=g" (
__x
.
__Œ
Ë: "g" (
__m0
), "g" (
__m1
)); \

1787 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

1788 
	}
} 0)

	)

1789 
	#sdiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1791 uni⁄ {
DIty≥
 
__Œ
; \

1792 °ru˘ {
SIty≥
 
__l
, 
__h
;} 
__i
; \

1793 } 
__x
; \

1794 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

1795 
	`__asm__
 ("ediv %3,%2,%0,%1" \

1796 : "=g" (
q
), "=g" (
r
Ë: "g" (
__x
.
__Œ
), "g" (
d
)); \

1797 } 0)

	)

1801 
	#cou¡_åaûög_zîos
(
cou¡
,
x
) \

1803 
	`__asm__
 ("ffs 0, 31, %1, %0" \

1804 : "=g" (
cou¡
) \

1805 : "g" ((
USIty≥
Ë(
x
))); \

1806 } 0)

	)

1810 #i‡
deföed
 (
__z8000__
Ë&& 
W_TYPE_SIZE
 == 16

1811 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1812 
	`__asm__
 ("add %H1,%H5\n\tadc %H0,%H3" \

1813 : "Ù" (
sh
), "=&r" (
¶
) \

1814 : "0" (()(
ah
)), "r" (()(
bh
)), \

1815 "%1" (()(
Æ
)), "rQR" (()(
bl
)))

	)

1816 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1817 
	`__asm__
 ("sub %H1,%H5\n\tsbc %H0,%H3" \

1818 : "Ù" (
sh
), "=&r" (
¶
) \

1819 : "0" (()(
ah
)), "r" (()(
bh
)), \

1820 "1" (()(
Æ
)), "rQR" (()(
bl
)))

	)

1821 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1823 uni⁄ {
__Œ
; \

1824 °ru˘ {
__h
, 
__l
;} 
__i
; \

1825 } 
__x
; \

1826 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1827 
	`__asm__
 ("mult %S0,%H3" \

1828 : "Ù" (
__x
.
__i
.
__h
), "Ù" (__x.__i.
__l
) \

1829 : "%1" (
m0
), "rQR" (
m1
)); \

1830 (
xh
Ë
__x
.
__i
.
__h
; (
xl
Ë__x.__i.
__l
; \

1831 (
xh
Ë+((((sig√d Ë
__m0
 >> 15Ë& 
__m1
) \

1832 + (((sig√d Ë
__m1
 >> 15Ë& 
__m0
)); \

1833 } 0)

	)

1842 #i‡!
deföed
 (
umul_µmm
Ë&& deföed (
__umulsidi3
)

1843 
	#umul_µmm
(
ph
, 
∂
, 
m0
, 
m1
) \

1845 
UDWty≥
 
__Œ
 = 
	`__umulsidi3
 (
m0
, 
m1
); \

1846 
ph
 = (
UWty≥
Ë(
__Œ
 >> 
W_TYPE_SIZE
); \

1847 
∂
 = (
UWty≥
Ë
__Œ
; \

1848 }

	)

1851 #i‡!
deföed
 (
__umulsidi3
)

1852 
	#__umulsidi3
(
u
, 
v
) \

1853 ({
UWty≥
 
__hi
, 
__lo
; \

1854 
	`umul_µmm
 (
__hi
, 
__lo
, 
u
, 
v
); \

1855 ((
UDWty≥
Ë
__hi
 << 
W_TYPE_SIZE
Ë| 
__lo
; })

	)

1864 
	#m≤_umul_µmm
 
	`__MPN
(
umul_µmm
)

	)

1865 
UWty≥
 
m≤_umul_µmm
 (UWtype *, UWtype, UWtype);

1867 #i‡! 
deföed
 (
umul_µmm
Ë&& 
HAVE_NATIVE_m≤_umul_µmm
 \

1868 && ! 
	$deföed
 (
LONGLONG_STANDALONE
)

1869 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1871 
UWty≥
 
__umul_µmm__p0
; \

1872 (
wh
Ë
	`m≤_umul_µmm
 (&
__umul_µmm__p0
, (
UWty≥
Ë(
u
), (UWty≥Ë(
v
)); \

1873 (
wl
Ë
__umul_µmm__p0
; \

1874 
	}
} 0)

	)

1877 
	#m≤_umul_µmm_r
 
	`__MPN
(
umul_µmm_r
)

	)

1878 
UWty≥
 
m≤_umul_µmm_r
 (UWtype, UWtype, UWtype *);

1880 #i‡! 
deföed
 (
umul_µmm
Ë&& 
HAVE_NATIVE_m≤_umul_µmm_r
 \

1881 && ! 
	$deföed
 (
LONGLONG_STANDALONE
)

1882 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1884 
UWty≥
 
__umul_µmm__p0
; \

1885 (
wh
Ë
	`m≤_umul_µmm_r
 ((
UWty≥
Ë(
u
), (UWty≥Ë(
v
), &
__umul_µmm__p0
); \

1886 (
wl
Ë
__umul_µmm__p0
; \

1887 
	}
} 0)

	)

1890 
	#m≤_udiv_q∫nd
 
	`__MPN
(
udiv_q∫nd
)

	)

1891 
UWty≥
 
m≤_udiv_q∫nd
 (UWtype *, UWtype, UWtype, UWtype);

1893 #i‡! 
deföed
 (
udiv_q∫nd
Ë&& 
HAVE_NATIVE_m≤_udiv_q∫nd
 \

1894 && ! 
	$deföed
 (
LONGLONG_STANDALONE
)

1895 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1897 
UWty≥
 
__udiv_q∫nd__r
; \

1898 (
q
Ë
	`m≤_udiv_q∫nd
 (&
__udiv_q∫nd__r
, \

1899 (
UWty≥
Ë(
n1
), (UWty≥Ë(
n0
), (UWty≥Ë
d
); \

1900 (
r
Ë
__udiv_q∫nd__r
; \

1901 
	}
} 0)

	)

1904 
	#m≤_udiv_q∫nd_r
 
	`__MPN
(
udiv_q∫nd_r
)

	)

1905 
UWty≥
 
m≤_udiv_q∫nd_r
 (UWtype, UWtype, UWtype, UWtype *);

1907 #i‡! 
deföed
 (
udiv_q∫nd
Ë&& 
HAVE_NATIVE_m≤_udiv_q∫nd_r
 \

1908 && ! 
	$deföed
 (
LONGLONG_STANDALONE
)

1909 
	#udiv_q∫nd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1911 
UWty≥
 
__udiv_q∫nd__r
; \

1912 (
q
Ë
	`m≤_udiv_q∫nd_r
 ((
UWty≥
Ë(
n1
), (UWty≥Ë(
n0
), (UWty≥Ë
d
, \

1913 &
__udiv_q∫nd__r
); \

1914 (
r
Ë
__udiv_q∫nd__r
; \

1915 
	}
} 0)

	)

1921 #i‡!
deföed
 (
add_sßØa
)

1922 
	#add_sßØa
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1924 
UWty≥
 
__x
; \

1925 
__x
 = (
Æ
Ë+ (
bl
); \

1926 (
sh
Ë(
ah
Ë+ (
bh
Ë+ (
__x
 < (
Æ
)); \

1927 (
¶
Ë
__x
; \

1928 } 0)

	)

1931 #i‡!
deföed
 (
sub_ddmmss
)

1932 
	#sub_ddmmss
(
sh
, 
¶
, 
ah
, 
Æ
, 
bh
, 
bl
) \

1934 
UWty≥
 
__x
; \

1935 
__x
 = (
Æ
Ë- (
bl
); \

1936 (
sh
Ë(
ah
Ë- (
bh
Ë- ((
Æ
Ë< (
bl
)); \

1937 (
¶
Ë
__x
; \

1938 } 0)

	)

1943 #i‡!
deföed
 (
umul_µmm
Ë&& deföed (
smul_µmm
)

1944 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1946 
UWty≥
 
__w1
; \

1947 
UWty≥
 
__xm0
 = (
u
), 
__xm1
 = (
v
); \

1948 
	`smul_µmm
 (
__w1
, 
w0
, 
__xm0
, 
__xm1
); \

1949 (
w1
Ë
__w1
 + (-(
__xm0
 >> (
W_TYPE_SIZE
 - 1)Ë& 
__xm1
) \

1950 + (-(
__xm1
 >> (
W_TYPE_SIZE
 - 1)Ë& 
__xm0
); \

1951 } 0)

	)

1964 #i‡!
deföed
 (
umul_µmm
)

1965 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1967 
UWty≥
 
__x0
, 
__x1
, 
__x2
, 
__x3
; \

1968 
UHWty≥
 
__ul
, 
__vl
, 
__uh
, 
__vh
; \

1969 
UWty≥
 
__u
 = (
u
), 
__v
 = (
v
); \

1971 
__ul
 = 
	`__Œ_low∑π
 (
__u
); \

1972 
__uh
 = 
	`__Œ_high∑π
 (
__u
); \

1973 
__vl
 = 
	`__Œ_low∑π
 (
__v
); \

1974 
__vh
 = 
	`__Œ_high∑π
 (
__v
); \

1976 
__x0
 = (
UWty≥
Ë
__ul
 * 
__vl
; \

1977 
__x1
 = (
UWty≥
Ë
__ul
 * 
__vh
; \

1978 
__x2
 = (
UWty≥
Ë
__uh
 * 
__vl
; \

1979 
__x3
 = (
UWty≥
Ë
__uh
 * 
__vh
; \

1981 
__x1
 +
	`__Œ_high∑π
 (
__x0
); \

1982 
__x1
 +
__x2
; \

1983 i‡(
__x1
 < 
__x2
) \

1984 
__x3
 +
__Œ_B
; \

1986 (
w1
Ë
__x3
 + 
	`__Œ_high∑π
 (
__x1
); \

1987 (
w0
Ë(
__x1
 << 
W_TYPE_SIZE
/2Ë+ 
	`__Œ_low∑π
 (
__x0
); \

1988 } 0)

	)

1993 #i‡!
deföed
 (
smul_µmm
)

1994 
	#smul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1996 
UWty≥
 
__w1
; \

1997 
UWty≥
 
__xm0
 = (
u
), 
__xm1
 = (
v
); \

1998 
	`umul_µmm
 (
__w1
, 
w0
, 
__xm0
, 
__xm1
); \

1999 (
w1
Ë
__w1
 - (-(
__xm0
 >> (
W_TYPE_SIZE
 - 1)Ë& 
__xm1
) \

2000 - (-(
__xm1
 >> (
W_TYPE_SIZE
 - 1)Ë& 
__xm0
); \

2001 } 0)

	)

2005 
	#__udiv_q∫nd_c
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

2007 
UWty≥
 
__d1
, 
__d0
, 
__q1
, 
__q0
, 
__r1
, 
__r0
, 
__m
; \

2009 
	`ASSERT
 ((
d
) != 0); \

2010 
	`ASSERT
 ((
n1
Ë< (
d
)); \

2012 
__d1
 = 
	`__Œ_high∑π
 (
d
); \

2013 
__d0
 = 
	`__Œ_low∑π
 (
d
); \

2015 
__q1
 = (
n1
Ë/ 
__d1
; \

2016 
__r1
 = (
n1
Ë- 
__q1
 * 
__d1
; \

2017 
__m
 = 
__q1
 * 
__d0
; \

2018 
__r1
 = __r1 * 
__Œ_B
 | 
	`__Œ_high∑π
 (
n0
); \

2019 i‡(
__r1
 < 
__m
) \

2021 
__q1
--, 
__r1
 +(
d
); \

2022 i‡(
__r1
 >(
d
)) \

2023 i‡(
__r1
 < 
__m
) \

2024 
__q1
--, 
__r1
 +(
d
); \

2026 
__r1
 -
__m
; \

2028 
__q0
 = 
__r1
 / 
__d1
; \

2029 
__r0
 = 
__r1
 - 
__q0
 * 
__d1
; \

2030 
__m
 = 
__q0
 * 
__d0
; \

2031 
__r0
 = __r0 * 
__Œ_B
 | 
	`__Œ_low∑π
 (
n0
); \

2032 i‡(
__r0
 < 
__m
) \

2034 
__q0
--, 
__r0
 +(
d
); \

2035 i‡(
__r0
 >(
d
)) \

2036 i‡(
__r0
 < 
__m
) \

2037 
__q0
--, 
__r0
 +(
d
); \

2039 
__r0
 -
__m
; \

2041 (
q
Ë
__q1
 * 
__Œ_B
 | 
__q0
; \

2042 (
r
Ë
__r0
; \

2043 } 0)

	)

2047 #i‡!
deföed
 (
udiv_q∫nd
Ë&& deföed (
sdiv_q∫nd
)

2048 
	#udiv_q∫nd
(
q
, 
r
, 
nh
, 
∆
, 
d
) \

2050 
UWty≥
 
__r
; \

2051 (
q
Ë
	`__MPN
(
udiv_w_sdiv
Ë(&
__r
, 
nh
, 
∆
, 
d
); \

2052 (
r
Ë
__r
; \

2053 } 0)

	)

2054 
__GMP_DECLSPEC
 
UWty≥
 
	$__MPN
(
udiv_w_sdiv
Ë(
UWty≥
 *, UWtype, UWtype, UWtype);

2058 #i‡!
	`deföed
 (
udiv_q∫nd
)

2059 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

2060 
	#udiv_q∫nd
 
__udiv_q∫nd_c


	)

2063 #i‡!
	`deföed
 (
cou¡_Àadög_zîos
)

2064 
	#cou¡_Àadög_zîos
(
cou¡
, 
x
) \

2066 
UWty≥
 
__xr
 = (
x
); \

2067 
UWty≥
 
__a
; \

2069 i‡(
W_TYPE_SIZE
 == 32) \

2071 
__a
 = 
__xr
 < ((
UWty≥
Ë1 << 2*
__BITS4
) \

2072 ? (
__xr
 < ((
UWty≥
Ë1 << 
__BITS4
) ? 1 : __BITS4 + 1) \

2073 : (
__xr
 < ((
UWty≥
Ë1 << 3*
__BITS4
) ? 2*__BITS4 + 1 \

2074 : 3*
__BITS4
 + 1); \

2078 
__a
 = 
W_TYPE_SIZE
 - 8; __a > 0; __a -= 8) \

2079 i‡(((
__xr
 >> 
__a
) & 0xff) != 0) \

2081 ++
__a
; \

2084 (
cou¡
Ë
W_TYPE_SIZE
 + 1 - 
__a
 - 
__˛z_èb
[
__xr
 >> __a]; \

2085 
	}
} 0)

	)

2087 
	#COUNT_LEADING_ZEROS_0
 (
W_TYPE_SIZE
 - 1)

	)

2088 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

2089 
	#COUNT_LEADING_ZEROS_SLOW


	)

2093 #i‡
HAVE_HOST_CPU_FAMILY_x86
 && 
WANT_FAT_BINARY


2094 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

2097 #ifde‡
COUNT_LEADING_ZEROS_NEED_CLZ_TAB


2098 c⁄° 
__GMP_DECLSPEC
 
__˛z_èb
[129];

2101 #i‡!
deföed
 (
cou¡_åaûög_zîos
)

2102 #i‡!
deföed
 (
COUNT_LEADING_ZEROS_SLOW
)

2104 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) \

2106 
UWty≥
 
__˘z_x
 = (
x
); \

2107 
UWty≥
 
__˘z_c
; \

2108 
	`ASSERT
 (
__˘z_x
 != 0); \

2109 
	`cou¡_Àadög_zîos
 (
__˘z_c
, 
__˘z_x
 & -__ctz_x); \

2110 (
cou¡
Ë
W_TYPE_SIZE
 - 1 - 
__˘z_c
; \

2111 } 0)

	)

2116 
	#cou¡_åaûög_zîos
(
cou¡
, 
x
) \

2118 
UWty≥
 
__˘z_x
 = (
x
); \

2119 
__˘z_c
; \

2121 i‡(
	`LIKELY
 ((
__˘z_x
 & 0xff) != 0)) \

2122 (
cou¡
Ë
__˛z_èb
[
__˘z_x
 & -__ctz_x] - 2; \

2125 
__˘z_c
 = 8 - 2; __˘z_¯< 
W_TYPE_SIZE
 - 2; __ctz_c += 8) \

2127 
__˘z_x
 >>= 8; \

2128 i‡(
	`LIKELY
 ((
__˘z_x
 & 0xff) != 0)) \

2132 (
cou¡
Ë
__˘z_c
 + 
__˛z_èb
[
__˘z_x
 & -__ctz_x]; \

2134 } 0)

	)

2138 #i‚de‡
UDIV_NEEDS_NORMALIZATION


2139 
	#UDIV_NEEDS_NORMALIZATION
 0

	)

2144 #i‚de‡
UDIV_PREINV_ALWAYS


2145 
	#UDIV_PREINV_ALWAYS
 0

	)

2149 #i‚de‡
UMUL_TIME


2150 
	#UMUL_TIME
 1

	)

2153 #i‚de‡
UDIV_TIME


2154 
	#UDIV_TIME
 
UMUL_TIME


	)

	@ls-dir.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_MULTI_COL
;

	@ls-ls.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_LS
;

	@ls-vdir.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_LONG_FORMAT
;

	@ls.c

38 
	~<c⁄fig.h
>

39 
	~<sys/ty≥s.h
>

41 
	~<ãrmios.h
>

42 #i‡
HAVE_STROPTS_H


43 
	~<°r›ts.h
>

45 
	~<sys/io˘l.h
>

47 #ifde‡
WINSIZE_IN_PTEM


48 
	~<sys/°ªam.h
>

49 
	~<sys/±em.h
>

52 
	~<°dio.h
>

53 
	~<as£π.h
>

54 
	~<£tjmp.h
>

55 
	~<pwd.h
>

56 
	~<gë›t.h
>

57 
	~<sig«l.h
>

58 
	~<£löux/£löux.h
>

59 
	~<wch¨.h
>

61 #i‡
HAVE_LANGINFO_CODESET


62 
	~<œngöfo.h
>

67 #i‚de‡
SA_NOCLDSTOP


68 
	#SA_NOCLDSTOP
 0

	)

69 
	#sig¥ocmask
(
How
, 
Së
, 
O£t
Ë

	)

70 
	#sig£t_t
 

	)

71 #i‡! 
HAVE_SIGINTERRUPT


72 
	#sigöãºu±
(
sig
, 
Êag
Ë

	)

80 #i‚de‡
SA_RESTART


81 
	#SA_RESTART
 0

	)

84 
	~"sy°em.h
"

85 
	~<‚m©ch.h
>

87 
	~"a˛.h
"

88 
	~"¨gm©ch.h
"

89 
	~"dev-öo.h
"

90 
	~"îr‹.h
"

91 
	~"fûíameˇt.h
"

92 
	~"h¨d-loˇÀ.h
"

93 
	~"hash.h
"

94 
	~"hum™.h
"

95 
	~"fûemode.h
"

96 
	~"fûevîcmp.h
"

97 
	~"idˇche.h
"

98 
	~"ls.h
"

99 
	~"mbswidth.h
"

100 
	~"mps‹t.h
"

101 
	~"ob°ack.h
"

102 
	~"quŸe.h
"

103 
	~"quŸórg.h
"

104 
	~"°©-size.h
"

105 
	~"°©-time.h
"

106 
	~"°r·ime.h
"

107 
	~"x°πﬁ.h
"

108 
	~"¨ódlök.h
"

109 
	~"mbßlign.h
"

114 #ifde‡
HAVE_CAP


115 
	~<sys/ˇ∑bûôy.h
>

118 
	#PROGRAM_NAME
 (
ls_mode
 =
LS_LS
 ? "ls" \

119 : (
ls_mode
 =
LS_MULTI_COL
 \

120 ? "dú" : "vdú"))

	)

122 
	#AUTHORS
 \

123 
	`¥›î_«me
 ("Richard M. Stallman"), \

124 
	`¥›î_«me
 ("David MacKízõ")

	)

126 
	#ob°ack_chunk_Æloc
 
mÆloc


	)

127 
	#ob°ack_chunk_‰ì
 
‰ì


	)

131 
	#l⁄gdiff
(
a
, 
b
Ë(◊Ë< (bË? -1 : (aË> (b))

	)

143 #i‚de‡
READDIR_LIES_ABOUT_MOUNTPOINT_D_INO


144 
	#READDIR_LIES_ABOUT_MOUNTPOINT_D_INO
 1

	)

147 #i‡
READDIR_LIES_ABOUT_MOUNTPOINT_D_INO


148 
	#RELIABLE_D_INO
(
dp
Ë
NOT_AN_INODE_NUMBER


	)

150 
	#RELIABLE_D_INO
(
dp
Ë
	`D_INO
 (dp)

	)

153 #i‡! 
HAVE_STRUCT_STAT_ST_AUTHOR


154 
	#°_auth‹
 
°_uid


	)

157 
	efûëy≥


159 
	munknown
,

160 
	mfifo
,

161 
	mch¨dev
,

162 
	mdúe˘‹y
,

163 
	mblockdev
,

164 
	mn‹mÆ
,

165 
	msymbﬁic_lök
,

166 
	msock
,

167 
	mwhôeout
,

168 
	m¨g_dúe˘‹y


173 c⁄° 
	gfûëy≥_Àâî
[] = "?pcdb-lswd";

177 
vîify
 ( 
fûëy≥_Àâî
 - 1 =
¨g_dúe˘‹y
 + 1);

179 
	#FILETYPE_INDICATORS
 \

181 
C_ORPHAN
, 
C_FIFO
, 
C_CHR
, 
C_DIR
, 
C_BLK
, 
C_FILE
, \

182 
C_LINK
, 
C_SOCK
, 
C_FILE
, 
C_DIR
 \

183 }

	)

185 
	ea˛_ty≥


187 
	mACL_T_NONE
,

188 
	mACL_T_SELINUX_ONLY
,

189 
	mACL_T_YES


192 
	sfûeöfo


195 *
	m«me
;

198 *
	mlök«me
;

200 
°©
 
	m°©
;

202 
fûëy≥
 
	mfûëy≥
;

206 
mode_t
 
	mlökmode
;

209 
£curôy_c⁄ãxt_t
 
	msc⁄ãxt
;

211 
boﬁ
 
	m°©_ok
;

215 
boﬁ
 
	mlökok
;

219 
a˛_ty≥
 
	ma˛_ty≥
;

222 
boﬁ
 
	mhas_ˇ∑bûôy
;

225 
	#LEN_STR_PAIR
(
s
Ë (sË- 1, 
	)
s

231 
	sbö_°r


233 
size_t
 
	mÀn
;

234 c⁄° *
	m°rög
;

237 #i‡! 
HAVE_TCGETPGRP


238 
	#tcgëpgΩ
(
Fd
Ë0

	)

241 
size_t
 
quŸe_«me
 (
FILE
 *
out
, c⁄° *
«me
,

242 
quŸög_›ti⁄s
 c⁄° *
›ti⁄s
,

243 
size_t
 *
width
);

244 *
make_lök_«me
 (c⁄° *
«me
, c⁄° *
lök«me
);

245 
decode_swôches
 (
¨gc
, **
¨gv
);

246 
boﬁ
 
fûe_ign‹ed
 (c⁄° *
«me
);

247 
uötmax_t
 
gobbÀ_fûe
 (c⁄° *
«me
, 
fûëy≥
 
ty≥
,

248 
öo_t
 
öode
, 
boﬁ
 
comm™d_löe_¨g
,

249 c⁄° *
dú«me
);

250 
boﬁ
 
¥öt_cﬁ‹_ödiˇt‹
 (c⁄° 
fûeöfo
 *
f
,

251 
boﬁ
 
symlök_èrgë
);

252 
put_ödiˇt‹
 (c⁄° 
bö_°r
 *
öd
);

253 
add_ign‹e_∑âîn
 (c⁄° *
∑âîn
);

254 
©èch
 (*
de°
, c⁄° *
dú«me
, c⁄° *
«me
);

255 
˛ór_fûes
 ();

256 
exåa˘_dús_‰om_fûes
 (c⁄° *
dú«me
,

257 
boﬁ
 
comm™d_löe_¨g
);

258 
gë_lök_«me
 (c⁄° *
fûíame
, 
fûeöfo
 *
f
,

259 
boﬁ
 
comm™d_löe_¨g
);

260 
ödít
 (
size_t
 
‰om
, size_à
to
);

261 
size_t
 
ˇlcuœã_cﬁumns
 (
boﬁ
 
by_cﬁumns
);

262 
¥öt_cuºít_fûes
 ();

263 
¥öt_dú
 (c⁄° *
«me
, c⁄° *
ªÆ«me
,

264 
boﬁ
 
comm™d_löe_¨g
);

265 
size_t
 
¥öt_fûe_«me_™d_‰ûls
 (c⁄° 
fûeöfo
 *
f
,

266 
size_t
 
°¨t_cﬁ
);

267 
¥öt_h‹iz⁄èl
 ();

268 
f‹m©_u£r_width
 (
uid_t
 
u
);

269 
f‹m©_group_width
 (
gid_t
 
g
);

270 
¥öt_l⁄g_f‹m©
 (c⁄° 
fûeöfo
 *
f
);

271 
¥öt_m™y_≥r_löe
 ();

272 
size_t
 
¥öt_«me_wôh_quŸög
 (c⁄° 
fûeöfo
 *
f
,

273 
boﬁ
 
symlök_èrgë
,

274 
ob°ack
 *
°ack
,

275 
size_t
 
°¨t_cﬁ
);

276 
¥ï_n⁄_fûíame_ãxt
 ();

277 
boﬁ
 
¥öt_ty≥_ödiˇt‹
 (boﬁ 
°©_ok
, 
mode_t
 
mode
,

278 
fûëy≥
 
ty≥
);

279 
¥öt_wôh_commas
 ();

280 
queue_dúe˘‹y
 (c⁄° *
«me
, c⁄° *
ªÆ«me
,

281 
boﬁ
 
comm™d_löe_¨g
);

282 
s‹t_fûes
 ();

283 
∑r£_ls_cﬁ‹
 ();

287 
	#INITIAL_TABLE_SIZE
 30

	)

296 
Hash_èbÀ
 *
	ga˘ive_dú_£t
;

298 
	#LOOP_DETECT
 (!!
a˘ive_dú_£t
)

	)

307 
fûeöfo
 *
	gcwd_fûe
;

310 
size_t
 
	gcwd_n_Æloc
;

313 
size_t
 
	gcwd_n_u£d
;

317 **
	gs‹ãd_fûe
;

318 
size_t
 
	gs‹ãd_fûe_Æloc
;

325 
boﬁ
 
	gcﬁ‹_symlök_as_ª„ª¡
;

328 
	#FILE_OR_LINK_MODE
(
Fûe
) \

329 ((
cﬁ‹_symlök_as_ª„ª¡
 && (
Fûe
)->
lökok
) \

330 ? (
Fûe
)->
lökmode
 : (Fûe)->
°©
.
°_mode
)

	)

335 
	s≥ndög


337 *
	m«me
;

341 *
	mªÆ«me
;

342 
boﬁ
 
	mcomm™d_löe_¨g
;

343 
≥ndög
 *
	m√xt
;

346 
≥ndög
 *
	g≥ndög_dús
;

351 
time•ec
 
	gcuºít_time
;

353 
boﬁ
 
	g¥öt_sc⁄ãxt
;

354 
	gUNKNOWN_SECURITY_CONTEXT
[] = "?";

359 
boﬁ
 
	g™y_has_a˛
;

365 
	göode_numbî_width
;

366 
	gblock_size_width
;

367 
	g∆ök_width
;

368 
	gsc⁄ãxt_width
;

369 
	gow√r_width
;

370 
	ggroup_width
;

371 
	gauth‹_width
;

372 
	gmaj‹_devi˚_numbî_width
;

373 
	gmö‹_devi˚_numbî_width
;

374 
	gfûe_size_width
;

387 
	ef‹m©


389 
	ml⁄g_f‹m©
,

390 
	m⁄e_≥r_löe
,

391 
	mm™y_≥r_löe
,

392 
	mh‹iz⁄èl
,

393 
	mwôh_commas


396 
f‹m©
 
	gf‹m©
;

401 
	etime_°yÀ


403 
	mfuŒ_iso_time_°yÀ
,

404 
	ml⁄g_iso_time_°yÀ
,

405 
	miso_time_°yÀ
,

406 
	mloˇÀ_time_°yÀ


409 c⁄° *c⁄° 
	gtime_°yÀ_¨gs
[] =

411 "fuŒ-iso", "l⁄g-iso", "iso", "loˇÀ", 
NULL


413 
time_°yÀ
 c⁄° 
	gtime_°yÀ_ty≥s
[] =

415 
fuŒ_iso_time_°yÀ
, 
l⁄g_iso_time_°yÀ
, 
iso_time_°yÀ
,

416 
loˇÀ_time_°yÀ


418 
ARGMATCH_VERIFY
 (
time_°yÀ_¨gs
, 
time_°yÀ_ty≥s
);

424 
	etime_ty≥


426 
	mtime_mtime
,

427 
	mtime_˘ime
,

428 
	mtime_©ime
,

429 
	mtime_numty≥s


432 
time_ty≥
 
	gtime_ty≥
;

438 
	es‹t_ty≥


440 
	ms‹t_n⁄e
 = -1,

441 
	ms‹t_«me
,

442 
	ms‹t_exãnsi⁄
,

443 
	ms‹t_size
,

444 
	ms‹t_vîsi⁄
,

445 
	ms‹t_time
,

446 
	ms‹t_numty≥s


449 
s‹t_ty≥
 
	gs‹t_ty≥
;

457 
boﬁ
 
	gs‹t_ªvî£
;

461 
boﬁ
 
	g¥öt_ow√r
 = 
åue
;

465 
boﬁ
 
	g¥öt_auth‹
;

469 
boﬁ
 
	g¥öt_group
 = 
åue
;

474 
boﬁ
 
	gnumîic_ids
;

478 
boﬁ
 
	g¥öt_block_size
;

481 
	ghum™_ouçut_›ts
;

484 
uötmax_t
 
	gouçut_block_size
;

487 
	gfûe_hum™_ouçut_›ts
;

488 
uötmax_t
 
	gfûe_ouçut_block_size
 = 1;

493 
boﬁ
 
	gdúed
;

502 
	eödiˇt‹_°yÀ


504 
	mn⁄e
,

505 
	m¶ash
,

506 
	mfûe_ty≥
,

507 
	m˛assify


510 
ödiˇt‹_°yÀ
 
	gödiˇt‹_°yÀ
;

513 c⁄° *c⁄° 
	gödiˇt‹_°yÀ_¨gs
[] =

515 "n⁄e", "¶ash", "fûe-ty≥", "˛assify", 
NULL


517 
ödiˇt‹_°yÀ
 c⁄° 
	gödiˇt‹_°yÀ_ty≥s
[] =

519 
n⁄e
, 
¶ash
, 
fûe_ty≥
, 
˛assify


521 
ARGMATCH_VERIFY
 (
ödiˇt‹_°yÀ_¨gs
, 
ödiˇt‹_°yÀ_ty≥s
);

527 
boﬁ
 
	g¥öt_wôh_cﬁ‹
;

533 
boﬁ
 
	gu£d_cﬁ‹
 = 
Ál£
;

535 
	ecﬁ‹_ty≥


537 
	mcﬁ‹_√vî
,

538 
	mcﬁ‹_Æways
,

539 
	mcﬁ‹_if_ây


542 
	eDîe„ªn˚_symlök


544 
	mDEREF_UNDEFINED
 = 1,

545 
	mDEREF_NEVER
,

546 
	mDEREF_COMMAND_LINE_ARGUMENTS
,

547 
	mDEREF_COMMAND_LINE_SYMLINK_TO_DIR
,

548 
	mDEREF_ALWAYS


551 
	eödiˇt‹_no


553 
	mC_LEFT
, 
	mC_RIGHT
, 
	mC_END
, 
	mC_RESET
, 
	mC_NORM
, 
	mC_FILE
, 
	mC_DIR
, 
	mC_LINK
,

554 
	mC_FIFO
, 
	mC_SOCK
,

555 
	mC_BLK
, 
	mC_CHR
, 
	mC_MISSING
, 
	mC_ORPHAN
, 
	mC_EXEC
, 
	mC_DOOR
, 
	mC_SETUID
, 
	mC_SETGID
,

556 
	mC_STICKY
, 
	mC_OTHER_WRITABLE
, 
	mC_STICKY_OTHER_WRITABLE
, 
	mC_CAP
, 
	mC_MULTIHARDLINK
,

557 
	mC_CLR_TO_EOL


560 c⁄° *c⁄° 
	gödiˇt‹_«me
[]=

564 "ow", "tw", "ˇ", "mh", "˛", 
NULL


567 
	scﬁ‹_ext_ty≥


569 
bö_°r
 
	mext
;

570 
bö_°r
 
	m£q
;

571 
cﬁ‹_ext_ty≥
 *
	m√xt
;

574 
bö_°r
 
	gcﬁ‹_ödiˇt‹
[] =

576 { 
LEN_STR_PAIR
 ("\033[") },

577 { 
LEN_STR_PAIR
 ("m") },

578 { 0, 
NULL
 },

579 { 
LEN_STR_PAIR
 ("0") },

580 { 0, 
NULL
 },

581 { 0, 
NULL
 },

582 { 
LEN_STR_PAIR
 ("01;34") },

583 { 
LEN_STR_PAIR
 ("01;36") },

584 { 
LEN_STR_PAIR
 ("33") },

585 { 
LEN_STR_PAIR
 ("01;35") },

586 { 
LEN_STR_PAIR
 ("01;33") },

587 { 
LEN_STR_PAIR
 ("01;33") },

588 { 0, 
NULL
 },

589 { 0, 
NULL
 },

590 { 
LEN_STR_PAIR
 ("01;32") },

591 { 
LEN_STR_PAIR
 ("01;35") },

592 { 
LEN_STR_PAIR
 ("37;41") },

593 { 
LEN_STR_PAIR
 ("30;43") },

594 { 
LEN_STR_PAIR
 ("37;44") },

595 { 
LEN_STR_PAIR
 ("34;42") },

596 { 
LEN_STR_PAIR
 ("30;42") },

597 { 
LEN_STR_PAIR
 ("30;41") },

598 { 0, 
NULL
 },

599 { 
LEN_STR_PAIR
 ("\033[K") },

603 
cﬁ‹_ext_ty≥
 *
	gcﬁ‹_ext_li°
 = 
NULL
;

606 *
	gcﬁ‹_buf
;

611 
boﬁ
 
	gcheck_symlök_cﬁ‹
;

615 
boﬁ
 
	g¥öt_öode
;

620 
Dîe„ªn˚_symlök
 
	gdîe„ªn˚
;

625 
boﬁ
 
	gªcursive
;

630 
boﬁ
 
	gimmedüã_dús
;

634 
boﬁ
 
	gdúe˘‹õs_fú°
;

642 
	mIGNORE_DEFAULT
,

645 
	mIGNORE_DOT_AND_DOTDOT
,

648 
	mIGNORE_MINIMAL


649 } 
	gign‹e_mode
;

656 
	sign‹e_∑âîn


658 c⁄° *
	m∑âîn
;

659 
ign‹e_∑âîn
 *
	m√xt
;

662 
ign‹e_∑âîn
 *
	gign‹e_∑âîns
;

666 
ign‹e_∑âîn
 *
	ghide_∑âîns
;

677 
boﬁ
 
	gqm¨k_fu¬y_ch¨s
;

681 
quŸög_›ti⁄s
 *
	gfûíame_quŸög_›ti⁄s
;

682 
quŸög_›ti⁄s
 *
	gdú«me_quŸög_›ti⁄s
;

686 
size_t
 
	gèbsize
;

690 
boﬁ
 
	g¥öt_dú_«me
;

695 
size_t
 
	glöe_Àngth
;

700 
boﬁ
 
	gf‹m©_√eds_°©
;

705 
boﬁ
 
	gf‹m©_√eds_ty≥
;

713 íum { 
	mTIME_STAMP_LEN_MAXIMUM
 = 
MAX
 (1000, 
INT_STRLEN_BOUND
 (
time_t
)) };

718 c⁄° *
	gl⁄g_time_f‹m©
[2] =

732 
N_
("%b %e %Y"),

745 
N_
("%b %e %H:%M")

750 
sig£t_t
 
	gˇught_sig«ls
;

754 
sig_©omic_t
 vﬁ©ûê
	göãºu±_sig«l
;

758 
sig_©omic_t
 vﬁ©ûê
	g°›_sig«l_cou¡
;

762 
	gexô_°©us
;

771 
	mLS_MINOR_PROBLEM
 = 1,

775 
	mLS_FAILURE
 = 2

782 
	mAUTHOR_OPTION
 = 
CHAR_MAX
 + 1,

783 
	mBLOCK_SIZE_OPTION
,

784 
	mCOLOR_OPTION
,

785 
	mDEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
,

786 
	mFILE_TYPE_INDICATOR_OPTION
,

787 
	mFORMAT_OPTION
,

788 
	mFULL_TIME_OPTION
,

789 
	mGROUP_DIRECTORIES_FIRST_OPTION
,

790 
	mHIDE_OPTION
,

791 
	mINDICATOR_STYLE_OPTION
,

792 
	mQUOTING_STYLE_OPTION
,

793 
	mSHOW_CONTROL_CHARS_OPTION
,

794 
	mSI_OPTION
,

795 
	mSORT_OPTION
,

796 
	mTIME_OPTION
,

797 
	mTIME_STYLE_OPTION


800 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

802 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

803 {"esˇ≥", 
no_¨gumít
, 
NULL
, 'b'},

804 {"dúe˘‹y", 
no_¨gumít
, 
NULL
, 'd'},

805 {"dúed", 
no_¨gumít
, 
NULL
, 'D'},

806 {"fuŒ-time", 
no_¨gumít
, 
NULL
, 
FULL_TIME_OPTION
},

807 {"group-dúe˘‹õs-fú°", 
no_¨gumít
, 
NULL
,

808 
GROUP_DIRECTORIES_FIRST_OPTION
},

809 {"hum™-ªadabÀ", 
no_¨gumít
, 
NULL
, 'h'},

810 {"öode", 
no_¨gumít
, 
NULL
, 'i'},

811 {"kibibyãs", 
no_¨gumít
, 
NULL
, 'k'},

812 {"numîic-uid-gid", 
no_¨gumít
, 
NULL
, 'n'},

813 {"no-group", 
no_¨gumít
, 
NULL
, 'G'},

814 {"hide-c⁄åﬁ-ch¨s", 
no_¨gumít
, 
NULL
, 'q'},

815 {"ªvî£", 
no_¨gumít
, 
NULL
, 'r'},

816 {"size", 
no_¨gumít
, 
NULL
, 's'},

817 {"width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

818 {"Æmo°-Æl", 
no_¨gumít
, 
NULL
, 'A'},

819 {"ign‹e-backups", 
no_¨gumít
, 
NULL
, 'B'},

820 {"˛assify", 
no_¨gumít
, 
NULL
, 'F'},

821 {"fûe-ty≥", 
no_¨gumít
, 
NULL
, 
FILE_TYPE_INDICATOR_OPTION
},

822 {"si", 
no_¨gumít
, 
NULL
, 
SI_OPTION
},

823 {"dîe„ªn˚-comm™d-löe", 
no_¨gumít
, 
NULL
, 'H'},

824 {"dîe„ªn˚-comm™d-löe-symlök-to-dú", 
no_¨gumít
, 
NULL
,

825 
DEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
},

826 {"hide", 
ªquúed_¨gumít
, 
NULL
, 
HIDE_OPTION
},

827 {"ign‹e", 
ªquúed_¨gumít
, 
NULL
, 'I'},

828 {"ödiˇt‹-°yÀ", 
ªquúed_¨gumít
, 
NULL
, 
INDICATOR_STYLE_OPTION
},

829 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'L'},

830 {"lôîÆ", 
no_¨gumít
, 
NULL
, 'N'},

831 {"quŸe-«me", 
no_¨gumít
, 
NULL
, 'Q'},

832 {"quŸög-°yÀ", 
ªquúed_¨gumít
, 
NULL
, 
QUOTING_STYLE_OPTION
},

833 {"ªcursive", 
no_¨gumít
, 
NULL
, 'R'},

834 {"f‹m©", 
ªquúed_¨gumít
, 
NULL
, 
FORMAT_OPTION
},

835 {"show-c⁄åﬁ-ch¨s", 
no_¨gumít
, 
NULL
, 
SHOW_CONTROL_CHARS_OPTION
},

836 {"s‹t", 
ªquúed_¨gumít
, 
NULL
, 
SORT_OPTION
},

837 {"èbsize", 
ªquúed_¨gumít
, 
NULL
, 'T'},

838 {"time", 
ªquúed_¨gumít
, 
NULL
, 
TIME_OPTION
},

839 {"time-°yÀ", 
ªquúed_¨gumít
, 
NULL
, 
TIME_STYLE_OPTION
},

840 {"cﬁ‹", 
›ti⁄Æ_¨gumít
, 
NULL
, 
COLOR_OPTION
},

841 {"block-size", 
ªquúed_¨gumít
, 
NULL
, 
BLOCK_SIZE_OPTION
},

842 {"c⁄ãxt", 
no_¨gumít
, 0, 'Z'},

843 {"auth‹", 
no_¨gumít
, 
NULL
, 
AUTHOR_OPTION
},

844 {
GETOPT_HELP_OPTION_DECL
},

845 {
GETOPT_VERSION_OPTION_DECL
},

846 {
NULL
, 0, NULL, 0}

849 c⁄° *c⁄° 
	gf‹m©_¨gs
[] =

852 "vîtiˇl", "sögÀ-cﬁumn", 
NULL


854 
f‹m©
 c⁄° 
	gf‹m©_ty≥s
[] =

856 
l⁄g_f‹m©
,Ü⁄g_f‹m©, 
wôh_commas
, 
h‹iz⁄èl
, horizontal,

857 
m™y_≥r_löe
, 
⁄e_≥r_löe


859 
ARGMATCH_VERIFY
 (
f‹m©_¨gs
, 
f‹m©_ty≥s
);

861 c⁄° *c⁄° 
	gs‹t_¨gs
[] =

863 "n⁄e", "time", "size", "exãnsi⁄", "vîsi⁄", 
NULL


865 
s‹t_ty≥
 c⁄° 
	gs‹t_ty≥s
[] =

867 
s‹t_n⁄e
, 
s‹t_time
, 
s‹t_size
, 
s‹t_exãnsi⁄
, 
s‹t_vîsi⁄


869 
ARGMATCH_VERIFY
 (
s‹t_¨gs
, 
s‹t_ty≥s
);

871 c⁄° *c⁄° 
	gtime_¨gs
[] =

873 "©ime", "ac˚ss", "u£", "˘ime", "°©us", 
NULL


875 
time_ty≥
 c⁄° 
	gtime_ty≥s
[] =

877 
time_©ime
,Åime_©ime,Åime_©ime, 
time_˘ime
,Åime_ctime

879 
ARGMATCH_VERIFY
 (
time_¨gs
, 
time_ty≥s
);

881 c⁄° *c⁄° 
	gcﬁ‹_¨gs
[] =

886 "auto", "ây", "if-ây", 
NULL


888 
cﬁ‹_ty≥
 c⁄° 
	gcﬁ‹_ty≥s
[] =

890 
cﬁ‹_Æways
, color_always, color_always,

891 
cﬁ‹_√vî
, color_never, color_never,

892 
cﬁ‹_if_ây
, color_if_tty, color_if_tty

894 
ARGMATCH_VERIFY
 (
cﬁ‹_¨gs
, 
cﬁ‹_ty≥s
);

897 
	scﬁumn_öfo


899 
boﬁ
 
	mvÆid_Àn
;

900 
size_t
 
	mlöe_Àn
;

901 
size_t
 *
	mcﬁ_¨r
;

905 
cﬁumn_öfo
 *
	gcﬁumn_öfo
;

908 
size_t
 
	gmax_idx
;

912 
	#MIN_COLUMN_WIDTH
 3

	)

920 
size_t
 
	gdúed_pos
;

922 
	#DIRED_PUTCHAR
(
c
Ëdÿ{
	`putch¨
 ((c)); ++
dúed_pos
;} 0)

	)

925 
	#DIRED_FPUTS
(
s
, 
°ªam
, 
s_Àn
) \

926 dÿ{
	`Âuts
 (
s
, 
°ªam
); 
dúed_pos
 +
s_Àn
;} 0)

	)

929 
	#DIRED_FPUTS_LITERAL
(
s
, 
°ªam
) \

930 dÿ{
	`Âuts
 (
s
, 
°ªam
); 
dúed_pos
 + (sË- 1;} 0)

	)

932 
	#DIRED_INDENT
() \

935 i‡(
dúed
) \

936 
	`DIRED_FPUTS_LITERAL
 (" ", 
°dout
); \

938 0)

	)

941 
ob°ack
 
	gdúed_ob°ack
;

948 
ob°ack
 
	gsubdúed_ob°ack
;

951 
	#PUSH_CURRENT_DIRED_POS
(
obs
) \

954 i‡(
dúed
) \

955 
	`ob°ack_grow
 (
obs
, &
dúed_pos
,  (dired_pos)); \

957 0)

	)

962 
ob°ack
 
	gdev_öo_ob°ack
;

965 
	#DEV_INO_PUSH
(
Dev
, 
Ino
) \

968 
dev_öo
 *
di
; \

969 
	`ob°ack_bœnk
 (&
dev_öo_ob°ack
,  (
dev_öo
)); \

970 
di
 = -1 + (
dev_öo
 *Ë
	`ob°ack_√xt_‰ì
 (&
dev_öo_ob°ack
); \

971 
di
->
°_dev
 = (
Dev
); \

972 
di
->
°_öo
 = (
Ino
); \

974 0)

	)

978 
dev_öo


979 
	$dev_öo_p›
 ()

981 
	`as£π
 ( (
dev_öo
Ë<
	`ob°ack_obje˘_size
 (&
dev_öo_ob°ack
));

982 
	`ob°ack_bœnk
 (&
dev_öo_ob°ack
, -(Ë( (
dev_öo
)));

983  *(
dev_öo
 *Ë
	`ob°ack_√xt_‰ì
 (&
dev_öo_ob°ack
);

984 
	}
}

1003 
	$dúed_dump_ob°ack
 (c⁄° *
¥efix
, 
ob°ack
 *
os
)

1005 
size_t
 
n_pos
;

1007 
n_pos
 = 
	`ob°ack_obje˘_size
 (
os
Ë/  (
dúed_pos
);

1008 i‡(
n_pos
 > 0)

1010 
size_t
 
i
;

1011 
size_t
 *
pos
;

1013 
pos
 = (
size_t
 *Ë
	`ob°ack_föish
 (
os
);

1014 
	`Âuts
 (
¥efix
, 
°dout
);

1015 
i
 = 0; i < 
n_pos
; i++)

1016 
	`¥ötf
 (" %lu", (Ë
pos
[
i
]);

1017 
	`putch¨
 ('\n');

1019 
	}
}

1030 íum { 
	mMAX_MON_WIDTH
 = 5 };

1034 
	gabm⁄
[12][
MAX_MON_WIDTH
 * 2 * 
MB_LEN_MAX
 + 1];

1036 
size_t
 
	gªquúed_m⁄_width
;

1038 
size_t


1039 
	$abm⁄_öô
 ()

1041 #ifde‡
HAVE_NL_LANGINFO


1042 
ªquúed_m⁄_width
 = 
MAX_MON_WIDTH
;

1043 
size_t
 
cuº_max_width
;

1046 
cuº_max_width
 = 
ªquúed_m⁄_width
;

1047 
ªquúed_m⁄_width
 = 0;

1048 
i
 = 0; i < 12; i++)

1050 
size_t
 
width
 = 
cuº_max_width
;

1052 
size_t
 
ªq
 = 
	`mbßlign
 (
	`∆_œngöfo
 (
ABMON_1
 + 
i
),

1053 
abm⁄
[
i
],  (abmon[i]),

1054 &
width
, 
MBS_ALIGN_LEFT
, 0);

1056 i‡(
ªq
 =(
size_t
Ë-1 ||Ñeq > (
abm⁄
[
i
]))

1058 
ªquúed_m⁄_width
 = 0;

1059  
ªquúed_m⁄_width
;

1062 
ªquúed_m⁄_width
 = 
	`MAX
 (ªquúed_m⁄_width, 
width
);

1065 
cuº_max_width
 > 
ªquúed_m⁄_width
);

1068  
ªquúed_m⁄_width
;

1069 
	}
}

1071 
size_t


1072 
	$dev_öo_hash
 (c⁄° *
x
, 
size_t
 
èbÀ_size
)

1074 
dev_öo
 c⁄° *
p
 = 
x
;

1075  (
uötmax_t
Ë
p
->
°_öo
 % 
èbÀ_size
;

1076 
	}
}

1078 
boﬁ


1079 
	$dev_öo_com∑ª
 (c⁄° *
x
, c⁄° *
y
)

1081 
dev_öo
 c⁄° *
a
 = 
x
;

1082 
dev_öo
 c⁄° *
b
 = 
y
;

1083  
	`SAME_INODE
 (*
a
, *
b
Ë? 
åue
 : 
Ál£
;

1084 
	}
}

1087 
	$dev_öo_‰ì
 (*
x
)

1089 
	`‰ì
 (
x
);

1090 
	}
}

1096 
boﬁ


1097 
	$visô_dú
 (
dev_t
 
dev
, 
öo_t
 
öo
)

1099 
dev_öo
 *
ít
;

1100 
dev_öo
 *
ít_‰om_èbÀ
;

1101 
boﬁ
 
found_m©ch
;

1103 
ít
 = 
	`xmÆloc
 ( *ent);

1104 
ít
->
°_öo
 = 
öo
;

1105 
ít
->
°_dev
 = 
dev
;

1108 
ít_‰om_èbÀ
 = 
	`hash_ö£π
 (
a˘ive_dú_£t
, 
ít
);

1110 i‡(
ít_‰om_èbÀ
 =
NULL
)

1113 
	`xÆloc_dõ
 ();

1116 
found_m©ch
 = (
ít_‰om_èbÀ
 !
ít
);

1118 i‡(
found_m©ch
)

1121 
	`‰ì
 (
ít
);

1124  
found_m©ch
;

1125 
	}
}

1128 
	$‰ì_≥ndög_ít
 (
≥ndög
 *
p
)

1130 
	`‰ì
 (
p
->
«me
);

1131 
	`‰ì
 (
p
->
ªÆ«me
);

1132 
	`‰ì
 (
p
);

1133 
	}
}

1135 
boﬁ


1136 
	$is_cﬁ‹ed
 (
ödiˇt‹_no
 
ty≥
)

1138 
size_t
 
Àn
 = 
cﬁ‹_ödiˇt‹
[
ty≥
].len;

1139 c⁄° *
s
 = 
cﬁ‹_ödiˇt‹
[
ty≥
].
°rög
;

1140  ! (
Àn
 == 0

1141 || (
Àn
 =1 && 
	`STRNCMP_LIT
 (
s
, "0") == 0)

1142 || (
Àn
 =2 && 
	`STRNCMP_LIT
 (
s
, "00") == 0));

1143 
	}
}

1146 
	$ª°‹e_deÁu…_cﬁ‹
 ()

1148 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_LEFT
]);

1149 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_RIGHT
]);

1150 
	}
}

1153 
	$£t_n‹mÆ_cﬁ‹
 ()

1155 i‡(
¥öt_wôh_cﬁ‹
 && 
	`is_cﬁ‹ed
 (
C_NORM
))

1157 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_LEFT
]);

1158 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_NORM
]);

1159 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_RIGHT
]);

1161 
	}
}

1166 
	$sigh™dÀr
 (
sig
)

1168 i‡(! 
SA_NOCLDSTOP
)

1169 
	`sig«l
 (
sig
, 
SIG_IGN
);

1170 i‡(! 
öãºu±_sig«l
)

1171 
öãºu±_sig«l
 = 
sig
;

1172 
	}
}

1177 
	$°›h™dÀr
 (
sig
)

1179 i‡(! 
SA_NOCLDSTOP
)

1180 
	`sig«l
 (
sig
, 
°›h™dÀr
);

1181 i‡(! 
öãºu±_sig«l
)

1182 
°›_sig«l_cou¡
++;

1183 
	}
}

1192 
	$¥o˚ss_sig«ls
 ()

1194 
öãºu±_sig«l
 || 
°›_sig«l_cou¡
)

1196 
sig
;

1197 
°›s
;

1198 
sig£t_t
 
ﬁd£t
;

1200 i‡(
u£d_cﬁ‹
)

1201 
	`ª°‹e_deÁu…_cﬁ‹
 ();

1202 
	`fÊush
 (
°dout
);

1204 
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &
ﬁd£t
);

1208 
sig
 = 
öãºu±_sig«l
;

1209 
°›s
 = 
°›_sig«l_cou¡
;

1214 i‡(
°›s
)

1216 
°›_sig«l_cou¡
 = 
°›s
 - 1;

1217 
sig
 = 
SIGSTOP
;

1220 
	`sig«l
 (
sig
, 
SIG_DFL
);

1223 
	`øi£
 (
sig
);

1224 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁd£t
, 
NULL
);

1229 
	}
}

1232 
	$maö
 (
¨gc
, **
¨gv
)

1234 
i
;

1235 
≥ndög
 *
thi•íd
;

1236 
n_fûes
;

1239 c⁄° 
sig
[] =

1242 
SIGTSTP
,

1245 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

1246 #ifde‡
SIGPOLL


1247 
SIGPOLL
,

1249 #ifde‡
SIGPROF


1250 
SIGPROF
,

1252 #ifde‡
SIGVTALRM


1253 
SIGVTALRM
,

1255 #ifde‡
SIGXCPU


1256 
SIGXCPU
,

1258 #ifde‡
SIGXFSZ


1259 
SIGXFSZ
,

1262 íum { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

1264 #i‡! 
SA_NOCLDSTOP


1265 
boﬁ
 
ˇught_sig
[
nsigs
];

1268 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1269 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1270 
	`£éoˇÀ
 (
LC_ALL
, "");

1271 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1272 
	`ãxtdomaö
 (
PACKAGE
);

1274 
	`öôülize_exô_Áûuª
 (
LS_FAILURE
);

1275 
	`©exô
 (
˛o£_°dout
);

1277 
	`as£π
 (
	`ARRAY_CARDINALITY
 (
cﬁ‹_ödiˇt‹
) + 1

1278 =
	`ARRAY_CARDINALITY
 (
ödiˇt‹_«me
));

1280 
exô_°©us
 = 
EXIT_SUCCESS
;

1281 
¥öt_dú_«me
 = 
åue
;

1282 
≥ndög_dús
 = 
NULL
;

1284 
cuºít_time
.
tv_£c
 = 
	`TYPE_MINIMUM
 (
time_t
);

1285 
cuºít_time
.
tv_n£c
 = -1;

1287 
i
 = 
	`decode_swôches
 (
¨gc
, 
¨gv
);

1289 i‡(
¥öt_wôh_cﬁ‹
)

1290 
	`∑r£_ls_cﬁ‹
 ();

1294 i‡(
¥öt_wôh_cﬁ‹
)

1297 i‡(
	`is_cﬁ‹ed
 (
C_ORPHAN
)

1298 || (
	`is_cﬁ‹ed
 (
C_EXEC
Ë&& 
cﬁ‹_symlök_as_ª„ª¡
)

1299 || (
	`is_cﬁ‹ed
 (
C_MISSING
Ë&& 
f‹m©
 =
l⁄g_f‹m©
))

1300 
check_symlök_cﬁ‹
 = 
åue
;

1306 i‡(0 <
	`tcgëpgΩ
 (
STDOUT_FILENO
))

1308 
j
;

1309 #i‡
SA_NOCLDSTOP


1310 
siga˘i⁄
 
a˘
;

1312 
	`sigem±y£t
 (&
ˇught_sig«ls
);

1313 
j
 = 0; j < 
nsigs
; j++)

1315 
	`siga˘i⁄
 (
sig
[
j
], 
NULL
, &
a˘
);

1316 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

1317 
	`sigadd£t
 (&
ˇught_sig«ls
, 
sig
[
j
]);

1320 
a˘
.
ß_mask
 = 
ˇught_sig«ls
;

1321 
a˘
.
ß_Êags
 = 
SA_RESTART
;

1323 
j
 = 0; j < 
nsigs
; j++)

1324 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
sig
[
j
]))

1326 
a˘
.
ß_h™dÀr
 = 
sig
[
j
] =
SIGTSTP
 ? 
°›h™dÀr
 : 
sigh™dÀr
;

1327 
	`siga˘i⁄
 (
sig
[
j
], &
a˘
, 
NULL
);

1330 
j
 = 0; j < 
nsigs
; j++)

1332 
ˇught_sig
[
j
] = (
	`sig«l
 (
sig
[j], 
SIG_IGN
) != SIG_IGN);

1333 i‡(
ˇught_sig
[
j
])

1335 
	`sig«l
 (
sig
[
j
], sig[j] =
SIGTSTP
 ? 
°›h™dÀr
 : 
sigh™dÀr
);

1336 
	`sigöãºu±
 (
sig
[
j
], 0);

1343 i‡(
dîe„ªn˚
 =
DEREF_UNDEFINED
)

1344 
dîe„ªn˚
 = ((
immedüã_dús


1345 || 
ödiˇt‹_°yÀ
 =
˛assify


1346 || 
f‹m©
 =
l⁄g_f‹m©
)

1347 ? 
DEREF_NEVER


1348 : 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
);

1352 i‡(
ªcursive
)

1354 
a˘ive_dú_£t
 = 
	`hash_öôülize
 (
INITIAL_TABLE_SIZE
, 
NULL
,

1355 
dev_öo_hash
,

1356 
dev_öo_com∑ª
,

1357 
dev_öo_‰ì
);

1358 i‡(
a˘ive_dú_£t
 =
NULL
)

1359 
	`xÆloc_dõ
 ();

1361 
	`ob°ack_öô
 (&
dev_öo_ob°ack
);

1364 
f‹m©_√eds_°©
 = 
s‹t_ty≥
 =
s‹t_time
 || s‹t_ty≥ =
s‹t_size


1365 || 
f‹m©
 =
l⁄g_f‹m©


1366 || 
¥öt_sc⁄ãxt


1367 || 
¥öt_block_size
;

1368 
f‹m©_√eds_ty≥
 = (! 
f‹m©_√eds_°©


1369 && (
ªcursive


1370 || 
¥öt_wôh_cﬁ‹


1371 || 
ödiˇt‹_°yÀ
 !
n⁄e


1372 || 
dúe˘‹õs_fú°
));

1374 i‡(
dúed
)

1376 
	`ob°ack_öô
 (&
dúed_ob°ack
);

1377 
	`ob°ack_öô
 (&
subdúed_ob°ack
);

1380 
cwd_n_Æloc
 = 100;

1381 
cwd_fûe
 = 
	`xnmÆloc
 (
cwd_n_Æloc
,  *cwd_file);

1382 
cwd_n_u£d
 = 0;

1384 
	`˛ór_fûes
 ();

1386 
n_fûes
 = 
¨gc
 - 
i
;

1388 i‡(
n_fûes
 <= 0)

1390 i‡(
immedüã_dús
)

1391 
	`gobbÀ_fûe
 (".", 
dúe˘‹y
, 
NOT_AN_INODE_NUMBER
, 
åue
, "");

1393 
	`queue_dúe˘‹y
 (".", 
NULL
, 
åue
);

1397 
	`gobbÀ_fûe
 (
¨gv
[
i
++], 
unknown
, 
NOT_AN_INODE_NUMBER
, 
åue
, "");

1398 
i
 < 
¨gc
);

1400 i‡(
cwd_n_u£d
)

1402 
	`s‹t_fûes
 ();

1403 i‡(!
immedüã_dús
)

1404 
	`exåa˘_dús_‰om_fûes
 (
NULL
, 
åue
);

1412 i‡(
cwd_n_u£d
)

1414 
	`¥öt_cuºít_fûes
 ();

1415 i‡(
≥ndög_dús
)

1416 
	`DIRED_PUTCHAR
 ('\n');

1418 i‡(
n_fûes
 <1 && 
≥ndög_dús
 &&Öídög_dús->
√xt
 == 0)

1419 
¥öt_dú_«me
 = 
Ál£
;

1421 
≥ndög_dús
)

1423 
thi•íd
 = 
≥ndög_dús
;

1424 
≥ndög_dús
 =Öídög_dús->
√xt
;

1426 i‡(
LOOP_DETECT
)

1428 i‡(
thi•íd
->
«me
 =
NULL
)

1434 
dev_öo
 
di
 = 
	`dev_öo_p›
 ();

1435 
dev_öo
 *
found
 = 
	`hash_dñëe
 (
a˘ive_dú_£t
, &
di
);

1437 
	`as£π
 (
found
);

1438 
	`dev_öo_‰ì
 (
found
);

1439 
	`‰ì_≥ndög_ít
 (
thi•íd
);

1444 
	`¥öt_dú
 (
thi•íd
->
«me
,Åhi•íd->
ªÆ«me
,

1445 
thi•íd
->
comm™d_löe_¨g
);

1447 
	`‰ì_≥ndög_ít
 (
thi•íd
);

1448 
¥öt_dú_«me
 = 
åue
;

1451 i‡(
¥öt_wôh_cﬁ‹
)

1453 
j
;

1455 i‡(
u£d_cﬁ‹
)

1459 i‡(!(
cﬁ‹_ödiˇt‹
[
C_LEFT
].
Àn
 == 2

1460 && 
	`memcmp
 (
cﬁ‹_ödiˇt‹
[
C_LEFT
].
°rög
, "\033[", 2) == 0

1461 && 
cﬁ‹_ödiˇt‹
[
C_RIGHT
].
Àn
 == 1

1462 && 
cﬁ‹_ödiˇt‹
[
C_RIGHT
].
°rög
[0] == 'm'))

1463 
	`ª°‹e_deÁu…_cﬁ‹
 ();

1465 
	`fÊush
 (
°dout
);

1468 #i‡
SA_NOCLDSTOP


1469 
j
 = 0; j < 
nsigs
; j++)

1470 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
sig
[
j
]))

1471 
	`sig«l
 (
sig
[
j
], 
SIG_DFL
);

1473 
j
 = 0; j < 
nsigs
; j++)

1474 i‡(
ˇught_sig
[
j
])

1475 
	`sig«l
 (
sig
[
j
], 
SIG_DFL
);

1482 
j
 = 
°›_sig«l_cou¡
; j; j--)

1483 
	`øi£
 (
SIGSTOP
);

1484 
j
 = 
öãºu±_sig«l
;

1485 i‡(
j
)

1486 
	`øi£
 (
j
);

1489 i‡(
dúed
)

1492 
	`dúed_dump_ob°ack
 ("//DIRED//", &
dúed_ob°ack
);

1493 
	`dúed_dump_ob°ack
 ("//SUBDIRED//", &
subdúed_ob°ack
);

1494 
	`¥ötf
 ("//DIRED-OPTIONS// --quoting-style=%s\n",

1495 
quŸög_°yÀ_¨gs
[
	`gë_quŸög_°yÀ
 (
fûíame_quŸög_›ti⁄s
)]);

1498 i‡(
LOOP_DETECT
)

1500 
	`as£π
 (
	`hash_gë_n_íåõs
 (
a˘ive_dú_£t
) == 0);

1501 
	`hash_‰ì
 (
a˘ive_dú_£t
);

1504 
	`exô
 (
exô_°©us
);

1505 
	}
}

1511 
	$decode_swôches
 (
¨gc
, **
¨gv
)

1513 *
time_°yÀ_›ti⁄
 = 
NULL
;

1515 
boﬁ
 
s‹t_ty≥_•ecifõd
 = 
Ál£
;

1516 
boﬁ
 
kibibyãs_•ecifõd
 = 
Ál£
;

1518 
qm¨k_fu¬y_ch¨s
 = 
Ál£
;

1522 
ls_mode
)

1524 
LS_MULTI_COL
:

1526 
f‹m©
 = 
m™y_≥r_löe
;

1527 
	`£t_quŸög_°yÀ
 (
NULL
, 
esˇ≥_quŸög_°yÀ
);

1530 
LS_LONG_FORMAT
:

1532 
f‹m©
 = 
l⁄g_f‹m©
;

1533 
	`£t_quŸög_°yÀ
 (
NULL
, 
esˇ≥_quŸög_°yÀ
);

1536 
LS_LS
:

1538 i‡(
	`ißây
 (
STDOUT_FILENO
))

1540 
f‹m©
 = 
m™y_≥r_löe
;

1542 
qm¨k_fu¬y_ch¨s
 = 
åue
;

1546 
f‹m©
 = 
⁄e_≥r_löe
;

1547 
qm¨k_fu¬y_ch¨s
 = 
Ál£
;

1552 
	`ab‹t
 ();

1555 
time_ty≥
 = 
time_mtime
;

1556 
s‹t_ty≥
 = 
s‹t_«me
;

1557 
s‹t_ªvî£
 = 
Ál£
;

1558 
numîic_ids
 = 
Ál£
;

1559 
¥öt_block_size
 = 
Ál£
;

1560 
ödiˇt‹_°yÀ
 = 
n⁄e
;

1561 
¥öt_öode
 = 
Ál£
;

1562 
dîe„ªn˚
 = 
DEREF_UNDEFINED
;

1563 
ªcursive
 = 
Ál£
;

1564 
immedüã_dús
 = 
Ál£
;

1565 
ign‹e_mode
 = 
IGNORE_DEFAULT
;

1566 
ign‹e_∑âîns
 = 
NULL
;

1567 
hide_∑âîns
 = 
NULL
;

1568 
¥öt_sc⁄ãxt
 = 
Ál£
;

1572 c⁄° *
q_°yÀ
 = 
	`gëív
 ("QUOTING_STYLE");

1573 i‡(
q_°yÀ
)

1575 
i
 = 
	`ARGMATCH
 (
q_°yÀ
, 
quŸög_°yÀ_¨gs
, 
quŸög_°yÀ_vÆs
);

1576 i‡(0 <
i
)

1577 
	`£t_quŸög_°yÀ
 (
NULL
, 
quŸög_°yÀ_vÆs
[
i
]);

1579 
	`îr‹
 (0, 0,

1580 
	`_
("ignoring invalid value ofÉnvironment variable QUOTING_STYLE: %s"),

1581 
	`quŸórg
 (
q_°yÀ
));

1585 
löe_Àngth
 = 80;

1587 c⁄° *
p
 = 
	`gëív
 ("COLUMNS");

1588 i‡(
p
 && *p)

1590 
tmp_ul⁄g
;

1591 i‡(
	`x°πoul
 (
p
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË=
LONGINT_OK


1592 && 0 < 
tmp_ul⁄g
 &&Åmp_ul⁄g <
SIZE_MAX
)

1594 
löe_Àngth
 = 
tmp_ul⁄g
;

1598 
	`îr‹
 (0, 0,

1599 
	`_
("ignoring invalid width inÉnvironment variable COLUMNS: %s"),

1600 
	`quŸórg
 (
p
));

1605 #ifde‡
TIOCGWINSZ


1607 
wösize
 
ws
;

1609 i‡(
	`io˘l
 (
STDOUT_FILENO
, 
TIOCGWINSZ
, &
ws
) != -1

1610 && 0 < 
ws
.
ws_cﬁ
 && ws.ws_cﬁ =(
size_t
) ws.ws_col)

1611 
löe_Àngth
 = 
ws
.
ws_cﬁ
;

1616 c⁄° *
p
 = 
	`gëív
 ("TABSIZE");

1617 
èbsize
 = 8;

1618 i‡(
p
)

1620 
tmp_ul⁄g
;

1621 i‡(
	`x°πoul
 (
p
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË=
LONGINT_OK


1622 && 
tmp_ul⁄g
 <
SIZE_MAX
)

1624 
èbsize
 = 
tmp_ul⁄g
;

1628 
	`îr‹
 (0, 0,

1629 
	`_
("ignoring invalidÅab size inÉnvironment variable TABSIZE: %s"),

1630 
	`quŸórg
 (
p
));

1635 
åue
)

1637 
oi
 = -1;

1638 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
,

1640 
l⁄g_›ti⁄s
, &
oi
);

1641 i‡(
c
 == -1)

1644 
c
)

1647 
ign‹e_mode
 = 
IGNORE_MINIMAL
;

1651 
	`£t_quŸög_°yÀ
 (
NULL
, 
esˇ≥_quŸög_°yÀ
);

1655 
time_ty≥
 = 
time_˘ime
;

1659 
immedüã_dús
 = 
åue
;

1664 
ign‹e_mode
 = 
IGNORE_MINIMAL
;

1665 
s‹t_ty≥
 = 
s‹t_n⁄e
;

1666 
s‹t_ty≥_•ecifõd
 = 
åue
;

1668 i‡(
f‹m©
 =
l⁄g_f‹m©
)

1669 
f‹m©
 = (
	`ißây
 (
STDOUT_FILENO
Ë? 
m™y_≥r_löe
 : 
⁄e_≥r_löe
);

1670 
¥öt_block_size
 = 
Ál£
;

1671 
¥öt_wôh_cﬁ‹
 = 
Ál£
;

1674 
FILE_TYPE_INDICATOR_OPTION
:

1675 
ödiˇt‹_°yÀ
 = 
fûe_ty≥
;

1679 
f‹m©
 = 
l⁄g_f‹m©
;

1680 
¥öt_ow√r
 = 
Ál£
;

1684 
fûe_hum™_ouçut_›ts
 = 
hum™_ouçut_›ts
 =

1685 
hum™_autosˇÀ
 | 
hum™_SI
 | 
hum™_ba£_1024
;

1686 
fûe_ouçut_block_size
 = 
ouçut_block_size
 = 1;

1690 
¥öt_öode
 = 
åue
;

1694 
kibibyãs_•ecifõd
 = 
åue
;

1698 
f‹m©
 = 
l⁄g_f‹m©
;

1702 
f‹m©
 = 
wôh_commas
;

1706 
numîic_ids
 = 
åue
;

1707 
f‹m©
 = 
l⁄g_f‹m©
;

1711 
f‹m©
 = 
l⁄g_f‹m©
;

1712 
¥öt_group
 = 
Ál£
;

1716 
ödiˇt‹_°yÀ
 = 
¶ash
;

1720 
qm¨k_fu¬y_ch¨s
 = 
åue
;

1724 
s‹t_ªvî£
 = 
åue
;

1728 
¥öt_block_size
 = 
åue
;

1732 
s‹t_ty≥
 = 
s‹t_time
;

1733 
s‹t_ty≥_•ecifõd
 = 
åue
;

1737 
time_ty≥
 = 
time_©ime
;

1741 
s‹t_ty≥
 = 
s‹t_vîsi⁄
;

1742 
s‹t_ty≥_•ecifõd
 = 
åue
;

1747 
tmp_ul⁄g
;

1748 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË!
LONGINT_OK


1749 || ! (0 < 
tmp_ul⁄g
 &&Åmp_ul⁄g <
SIZE_MAX
))

1750 
	`îr‹
 (
LS_FAILURE
, 0, 
	`_
("invalidÜine width: %s"),

1751 
	`quŸórg
 (
›èrg
));

1752 
löe_Àngth
 = 
tmp_ul⁄g
;

1757 
f‹m©
 = 
h‹iz⁄èl
;

1761 i‡(
ign‹e_mode
 =
IGNORE_DEFAULT
)

1762 
ign‹e_mode
 = 
IGNORE_DOT_AND_DOTDOT
;

1766 
	`add_ign‹e_∑âîn
 ("*~");

1767 
	`add_ign‹e_∑âîn
 (".*~");

1771 
f‹m©
 = 
m™y_≥r_löe
;

1775 
dúed
 = 
åue
;

1779 
ödiˇt‹_°yÀ
 = 
˛assify
;

1783 
¥öt_group
 = 
Ál£
;

1787 
dîe„ªn˚
 = 
DEREF_COMMAND_LINE_ARGUMENTS
;

1790 
DEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
:

1791 
dîe„ªn˚
 = 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
;

1795 
	`add_ign‹e_∑âîn
 (
›èrg
);

1799 
dîe„ªn˚
 = 
DEREF_ALWAYS
;

1803 
	`£t_quŸög_°yÀ
 (
NULL
, 
lôîÆ_quŸög_°yÀ
);

1807 
	`£t_quŸög_°yÀ
 (
NULL
, 
c_quŸög_°yÀ
);

1811 
ªcursive
 = 
åue
;

1815 
s‹t_ty≥
 = 
s‹t_size
;

1816 
s‹t_ty≥_•ecifõd
 = 
åue
;

1821 
tmp_ul⁄g
;

1822 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË!
LONGINT_OK


1823 || 
SIZE_MAX
 < 
tmp_ul⁄g
)

1824 
	`îr‹
 (
LS_FAILURE
, 0, 
	`_
("invalidÅab size: %s"),

1825 
	`quŸórg
 (
›èrg
));

1826 
èbsize
 = 
tmp_ul⁄g
;

1831 
s‹t_ty≥
 = 
s‹t_n⁄e
;

1832 
s‹t_ty≥_•ecifõd
 = 
åue
;

1836 
s‹t_ty≥
 = 
s‹t_exãnsi⁄
;

1837 
s‹t_ty≥_•ecifõd
 = 
åue
;

1842 i‡(
f‹m©
 !
l⁄g_f‹m©
)

1843 
f‹m©
 = 
⁄e_≥r_löe
;

1846 
AUTHOR_OPTION
:

1847 
¥öt_auth‹
 = 
åue
;

1850 
HIDE_OPTION
:

1852 
ign‹e_∑âîn
 *
hide
 = 
	`xmÆloc
 ( *hide);

1853 
hide
->
∑âîn
 = 
›èrg
;

1854 
hide
->
√xt
 = 
hide_∑âîns
;

1855 
hide_∑âîns
 = 
hide
;

1859 
SORT_OPTION
:

1860 
s‹t_ty≥
 = 
	`XARGMATCH
 ("--s‹t", 
›èrg
, 
s‹t_¨gs
, 
s‹t_ty≥s
);

1861 
s‹t_ty≥_•ecifõd
 = 
åue
;

1864 
GROUP_DIRECTORIES_FIRST_OPTION
:

1865 
dúe˘‹õs_fú°
 = 
åue
;

1868 
TIME_OPTION
:

1869 
time_ty≥
 = 
	`XARGMATCH
 ("--time", 
›èrg
, 
time_¨gs
, 
time_ty≥s
);

1872 
FORMAT_OPTION
:

1873 
f‹m©
 = 
	`XARGMATCH
 ("--f‹m©", 
›èrg
, 
f‹m©_¨gs
, 
f‹m©_ty≥s
);

1876 
FULL_TIME_OPTION
:

1877 
f‹m©
 = 
l⁄g_f‹m©
;

1878 
time_°yÀ_›ti⁄
 = 
	`bad_ˇ°
 ("full-iso");

1881 
COLOR_OPTION
:

1883 
i
;

1884 i‡(
›èrg
)

1885 
i
 = 
	`XARGMATCH
 ("--cﬁ‹", 
›èrg
, 
cﬁ‹_¨gs
, 
cﬁ‹_ty≥s
);

1889 
i
 = 
cﬁ‹_Æways
;

1891 
¥öt_wôh_cﬁ‹
 = (
i
 =
cﬁ‹_Æways


1892 || (
i
 =
cﬁ‹_if_ây


1893 && 
	`ißây
 (
STDOUT_FILENO
)));

1895 i‡(
¥öt_wôh_cﬁ‹
)

1900 
èbsize
 = 0;

1905 
INDICATOR_STYLE_OPTION
:

1906 
ödiˇt‹_°yÀ
 = 
	`XARGMATCH
 ("--ödiˇt‹-°yÀ", 
›èrg
,

1907 
ödiˇt‹_°yÀ_¨gs
,

1908 
ödiˇt‹_°yÀ_ty≥s
);

1911 
QUOTING_STYLE_OPTION
:

1912 
	`£t_quŸög_°yÀ
 (
NULL
,

1913 
	`XARGMATCH
 ("--quŸög-°yÀ", 
›èrg
,

1914 
quŸög_°yÀ_¨gs
,

1915 
quŸög_°yÀ_vÆs
));

1918 
TIME_STYLE_OPTION
:

1919 
time_°yÀ_›ti⁄
 = 
›èrg
;

1922 
SHOW_CONTROL_CHARS_OPTION
:

1923 
qm¨k_fu¬y_ch¨s
 = 
Ál£
;

1926 
BLOCK_SIZE_OPTION
:

1928 
°πﬁ_îr‹
 
e
 = 
	`hum™_›ti⁄s
 (
›èrg
, &
hum™_ouçut_›ts
,

1929 &
ouçut_block_size
);

1930 i‡(
e
 !
LONGINT_OK
)

1931 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 0, 
l⁄g_›ti⁄s
, 
›èrg
);

1932 
fûe_hum™_ouçut_›ts
 = 
hum™_ouçut_›ts
;

1933 
fûe_ouçut_block_size
 = 
ouçut_block_size
;

1937 
SI_OPTION
:

1938 
fûe_hum™_ouçut_›ts
 = 
hum™_ouçut_›ts
 =

1939 
hum™_autosˇÀ
 | 
hum™_SI
;

1940 
fûe_ouçut_block_size
 = 
ouçut_block_size
 = 1;

1944 
¥öt_sc⁄ãxt
 = 
åue
;

1947 
ˇ£_GETOPT_HELP_CHAR
;

1949 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1952 
	`ußge
 (
LS_FAILURE
);

1956 i‡(! 
ouçut_block_size
)

1958 c⁄° *
ls_block_size
 = 
	`gëív
 ("LS_BLOCK_SIZE");

1959 
	`hum™_›ti⁄s
 (
ls_block_size
,

1960 &
hum™_ouçut_›ts
, &
ouçut_block_size
);

1961 i‡(
ls_block_size
 || 
	`gëív
 ("BLOCK_SIZE"))

1963 
fûe_hum™_ouçut_›ts
 = 
hum™_ouçut_›ts
;

1964 
fûe_ouçut_block_size
 = 
ouçut_block_size
;

1966 i‡(
kibibyãs_•ecifõd
)

1968 
hum™_ouçut_›ts
 = 0;

1969 
ouçut_block_size
 = 1024;

1973 
max_idx
 = 
	`MAX
 (1, 
löe_Àngth
 / 
MIN_COLUMN_WIDTH
);

1975 
fûíame_quŸög_›ti⁄s
 = 
	`˛⁄e_quŸög_›ti⁄s
 (
NULL
);

1976 i‡(
	`gë_quŸög_°yÀ
 (
fûíame_quŸög_›ti⁄s
Ë=
esˇ≥_quŸög_°yÀ
)

1977 
	`£t_ch¨_quŸög
 (
fûíame_quŸög_›ti⁄s
, ' ', 1);

1978 i‡(
fûe_ty≥
 <
ödiˇt‹_°yÀ
)

1980 c⁄° *
p
;

1981 
p
 = "*=>@|" + 
ödiˇt‹_°yÀ
 - 
fûe_ty≥
; *p;Ö++)

1982 
	`£t_ch¨_quŸög
 (
fûíame_quŸög_›ti⁄s
, *
p
, 1);

1985 
dú«me_quŸög_›ti⁄s
 = 
	`˛⁄e_quŸög_›ti⁄s
 (
NULL
);

1986 
	`£t_ch¨_quŸög
 (
dú«me_quŸög_›ti⁄s
, ':', 1);

1991 i‡(
dúed
 && 
f‹m©
 !
l⁄g_f‹m©
)

1992 
dúed
 = 
Ál£
;

2002 i‡((
time_ty≥
 =
time_˘ime
 ||Åime_ty≥ =
time_©ime
)

2003 && !
s‹t_ty≥_•ecifõd
 && 
f‹m©
 !
l⁄g_f‹m©
)

2005 
s‹t_ty≥
 = 
s‹t_time
;

2008 i‡(
f‹m©
 =
l⁄g_f‹m©
)

2010 *
°yÀ
 = 
time_°yÀ_›ti⁄
;

2011 c⁄° 
posix_¥efix
[] = "posix-";

2013 i‡(! 
°yÀ
)

2014 i‡(! (
°yÀ
 = 
	`gëív
 ("TIME_STYLE")))

2015 
°yÀ
 = 
	`bad_ˇ°
 ("locale");

2017 
	`STREQ_LEN
 (
°yÀ
, 
posix_¥efix
, Öosix_prefix - 1))

2019 i‡(! 
	`h¨d_loˇÀ
 (
LC_TIME
))

2020  
›töd
;

2021 
°yÀ
 + 
posix_¥efix
 - 1;

2024 i‡(*
°yÀ
 == '+')

2026 *
p0
 = 
°yÀ
 + 1;

2027 *
p1
 = 
	`°rchr
 (
p0
, '\n');

2028 i‡(! 
p1
)

2029 
p1
 = 
p0
;

2032 i‡(
	`°rchr
 (
p1
 + 1, '\n'))

2033 
	`îr‹
 (
LS_FAILURE
, 0, 
	`_
("invalidÅime style format %s"),

2034 
	`quŸe
 (
p0
));

2035 *
p1
++ = '\0';

2037 
l⁄g_time_f‹m©
[0] = 
p0
;

2038 
l⁄g_time_f‹m©
[1] = 
p1
;

2042 
±rdiff_t
 
ªs
 = 
	`¨gm©ch
 (
°yÀ
, 
time_°yÀ_¨gs
,

2043 (c⁄° *Ë
time_°yÀ_ty≥s
,

2044  (*
time_°yÀ_ty≥s
));

2045 i‡(
ªs
 < 0)

2050 
	`¨gm©ch_övÆid
 ("timê°yÀ", 
°yÀ
, 
ªs
);

2057 
	`Âuts
 (
	`_
("VÆidárgumít†¨e:\n"), 
°dîr
);

2058 c⁄° *c⁄° *
p
 = 
time_°yÀ_¨gs
;

2059 *
p
)

2060 
	`Ârötf
 (
°dîr
, " - [posix-]%s\n", *
p
++);

2061 
	`Âuts
 (
	`_
(" - +FORMAT (e.g., +%H:%M) forá 'date'-style"

2062 " f‹m©\n"), 
°dîr
);

2063 
	`ußge
 (
LS_FAILURE
);

2065 
ªs
)

2067 
fuŒ_iso_time_°yÀ
:

2068 
l⁄g_time_f‹m©
[0] =Üong_time_format[1] =

2072 
l⁄g_iso_time_°yÀ
:

2073 
l⁄g_time_f‹m©
[0] =Üong_time_format[1] = "%Y-%m-%d %H:%M";

2076 
iso_time_°yÀ
:

2077 
l⁄g_time_f‹m©
[0] = "%Y-%m-%d ";

2078 
l⁄g_time_f‹m©
[1] = "%m-%d %H:%M";

2081 
loˇÀ_time_°yÀ
:

2082 i‡(
	`h¨d_loˇÀ
 (
LC_TIME
))

2084 
i
;

2085 
i
 = 0; i < 2; i++)

2086 
l⁄g_time_f‹m©
[
i
] =

2087 
	`dcgëãxt
 (
NULL
, 
l⁄g_time_f‹m©
[
i
], 
LC_TIME
);

2093 i‡(
	`°r°r
 (
l⁄g_time_f‹m©
[0], "%b")

2094 || 
	`°r°r
 (
l⁄g_time_f‹m©
[1], "%b"))

2095 i‡(!
	`abm⁄_öô
 ())

2096 
	`îr‹
 (0, 0, 
	`_
("error initializing month strings"));

2099  
›töd
;

2100 
	}
}

2115 
boﬁ


2116 
	$gë_funky_°rög
 (**
de°
, c⁄° **
§c
, 
boﬁ
 
equÆs_íd
,

2117 
size_t
 *
ouçut_cou¡
)

2119 
num
;

2120 
size_t
 
cou¡
;

2122 
ST_GND
, 
ST_BACKSLASH
, 
ST_OCTAL
, 
ST_HEX
, 
ST_CARET
, 
ST_END
, 
ST_ERROR


2123 } 
°©e
;

2124 c⁄° *
p
;

2125 *
q
;

2127 
p
 = *
§c
;

2128 
q
 = *
de°
;

2130 
cou¡
 = 0;

2131 
num
 = 0;

2133 
°©e
 = 
ST_GND
;

2134 
°©e
 < 
ST_END
)

2136 
°©e
)

2138 
ST_GND
:

2139 *
p
)

2143 
°©e
 = 
ST_END
;

2146 
°©e
 = 
ST_BACKSLASH
;

2147 ++
p
;

2150 
°©e
 = 
ST_CARET
;

2151 ++
p
;

2154 i‡(
equÆs_íd
)

2156 
°©e
 = 
ST_END
;

2161 *(
q
++Ë*(
p
++);

2162 ++
cou¡
;

2167 
ST_BACKSLASH
:

2168 *
p
)

2178 
°©e
 = 
ST_OCTAL
;

2179 
num
 = *
p
 - '0';

2183 
°©e
 = 
ST_HEX
;

2184 
num
 = 0;

2187 
num
 = '\a';

2190 
num
 = '\b';

2193 
num
 = 27;

2196 
num
 = '\f';

2199 
num
 = '\n';

2202 
num
 = '\r';

2205 
num
 = '\t';

2208 
num
 = '\v';

2211 
num
 = 127;

2214 
num
 = ' ';

2217 
°©e
 = 
ST_ERROR
;

2220 
num
 = *
p
;

2223 i‡(
°©e
 =
ST_BACKSLASH
)

2225 *(
q
++Ë
num
;

2226 ++
cou¡
;

2227 
°©e
 = 
ST_GND
;

2229 ++
p
;

2232 
ST_OCTAL
:

2233 i‡(*
p
 < '0' || *p > '7')

2235 *(
q
++Ë
num
;

2236 ++
cou¡
;

2237 
°©e
 = 
ST_GND
;

2240 
num
 = (num << 3Ë+ (*(
p
++) - '0');

2243 
ST_HEX
:

2244 *
p
)

2256 
num
 = (num << 4Ë+ (*(
p
++) - '0');

2264 
num
 = (num << 4Ë+ (*(
p
++) - 'a') + 10;

2272 
num
 = (num << 4Ë+ (*(
p
++) - 'A') + 10;

2275 *(
q
++Ë
num
;

2276 ++
cou¡
;

2277 
°©e
 = 
ST_GND
;

2282 
ST_CARET
:

2283 
°©e
 = 
ST_GND
;

2284 i‡(*
p
 >= '@' && *p <= '~')

2286 *(
q
++Ë*(
p
++) & 037;

2287 ++
cou¡
;

2289 i‡(*
p
 == '?')

2291 *(
q
++) = 127;

2292 ++
cou¡
;

2295 
°©e
 = 
ST_ERROR
;

2299 
	`ab‹t
 ();

2303 *
de°
 = 
q
;

2304 *
§c
 = 
p
;

2305 *
ouçut_cou¡
 = 
cou¡
;

2307  
°©e
 !
ST_ERROR
;

2308 
	}
}

2310 
	e∑r£_°©e


2312 
	mPS_START
 = 1,

2313 
	mPS_2
,

2314 
	mPS_3
,

2315 
	mPS_4
,

2316 
	mPS_DONE
,

2317 
	mPS_FAIL


2321 
	$∑r£_ls_cﬁ‹
 ()

2323 c⁄° *
p
;

2324 *
buf
;

2325 
öd_no
;

2326 
œbñ
[3];

2327 
cﬁ‹_ext_ty≥
 *
ext
;

2329 i‡((
p
 = 
	`gëív
 ("LS_COLORS")Ë=
NULL
 || *p == '\0')

2332 
ext
 = 
NULL
;

2333 
	`°r˝y
 (
œbñ
, "??");

2339 
buf
 = 
cﬁ‹_buf
 = 
	`x°rdup
 (
p
);

2341 
∑r£_°©e
 
°©e
 = 
PS_START
;

2342 
åue
)

2344 
°©e
)

2346 
PS_START
:

2347 *
p
)

2350 ++
p
;

2359 
ext
 = 
	`xmÆloc
 ( *ext);

2360 
ext
->
√xt
 = 
cﬁ‹_ext_li°
;

2361 
cﬁ‹_ext_li°
 = 
ext
;

2363 ++
p
;

2364 
ext
->ext.
°rög
 = 
buf
;

2366 
°©e
 = (
	`gë_funky_°rög
 (&
buf
, &
p
, 
åue
, &
ext
->ext.
Àn
)

2367 ? 
PS_4
 : 
PS_FAIL
);

2371 
°©e
 = 
PS_DONE
;

2372 
d⁄e
;

2375 
œbñ
[0] = *(
p
++);

2376 
°©e
 = 
PS_2
;

2381 
PS_2
:

2382 i‡(*
p
)

2384 
œbñ
[1] = *(
p
++);

2385 
°©e
 = 
PS_3
;

2388 
°©e
 = 
PS_FAIL
;

2391 
PS_3
:

2392 
°©e
 = 
PS_FAIL
;

2393 i‡(*(
p
++) == '=')

2395 
öd_no
 = 0; 
ödiˇt‹_«me
[öd_no] !
NULL
; ++ind_no)

2397 i‡(
	`STREQ
 (
œbñ
, 
ödiˇt‹_«me
[
öd_no
]))

2399 
cﬁ‹_ödiˇt‹
[
öd_no
].
°rög
 = 
buf
;

2400 
°©e
 = (
	`gë_funky_°rög
 (&
buf
, &
p
, 
Ál£
,

2401 &
cﬁ‹_ödiˇt‹
[
öd_no
].
Àn
)

2402 ? 
PS_START
 : 
PS_FAIL
);

2406 i‡(
°©e
 =
PS_FAIL
)

2407 
	`îr‹
 (0, 0, 
	`_
("uƒecognizedÖªfix: %s"), 
	`quŸórg
 (
œbñ
));

2411 
PS_4
:

2412 i‡(*(
p
++) == '=')

2414 
ext
->
£q
.
°rög
 = 
buf
;

2415 
°©e
 = (
	`gë_funky_°rög
 (&
buf
, &
p
, 
Ál£
, &
ext
->
£q
.
Àn
)

2416 ? 
PS_START
 : 
PS_FAIL
);

2419 
°©e
 = 
PS_FAIL
;

2422 
PS_FAIL
:

2423 
d⁄e
;

2426 
	`ab‹t
 ();

2429 
d⁄e
:

2431 i‡(
°©e
 =
PS_FAIL
)

2433 
cﬁ‹_ext_ty≥
 *
e
;

2434 
cﬁ‹_ext_ty≥
 *
e2
;

2436 
	`îr‹
 (0, 0,

2437 
	`_
("unparsable value for LS_COLORSÉnvironment variable"));

2438 
	`‰ì
 (
cﬁ‹_buf
);

2439 
e
 = 
cﬁ‹_ext_li°
;É !
NULL
; )

2441 
e2
 = 
e
;

2442 
e
 =É->
√xt
;

2443 
	`‰ì
 (
e2
);

2445 
¥öt_wôh_cﬁ‹
 = 
Ál£
;

2448 i‡(
cﬁ‹_ödiˇt‹
[
C_LINK
].
Àn
 == 6

2449 && !
	`STRNCMP_LIT
 (
cﬁ‹_ödiˇt‹
[
C_LINK
].
°rög
, "target"))

2450 
cﬁ‹_symlök_as_ª„ª¡
 = 
åue
;

2451 
	}
}

2457 
	$£t_exô_°©us
 (
boﬁ
 
£rious
)

2459 i‡(
£rious
)

2460 
exô_°©us
 = 
LS_FAILURE
;

2461 i‡(
exô_°©us
 =
EXIT_SUCCESS
)

2462 
exô_°©us
 = 
LS_MINOR_PROBLEM
;

2463 
	}
}

2470 
	$fûe_Áûuª
 (
boﬁ
 
£rious
, c⁄° *
mesßge
, c⁄° *
fûe
)

2472 
	`îr‹
 (0, 
î∫o
, 
mesßge
, 
	`quŸórg_cﬁ⁄
 (
fûe
));

2473 
	`£t_exô_°©us
 (
£rious
);

2474 
	}
}

2487 
	$queue_dúe˘‹y
 (c⁄° *
«me
, c⁄° *
ªÆ«me
, 
boﬁ
 
comm™d_löe_¨g
)

2489 
≥ndög
 *
√w
 = 
	`xmÆloc
 ( *new);

2490 
√w
->
ªÆ«me
 =Ñó amê? 
	`x°rdup
 (ªÆ«meË: 
NULL
;

2491 
√w
->
«me
 =Çamê? 
	`x°rdup
 («meË: 
NULL
;

2492 
√w
->
comm™d_löe_¨g
 = command_line_arg;

2493 
√w
->
√xt
 = 
≥ndög_dús
;

2494 
≥ndög_dús
 = 
√w
;

2495 
	}
}

2503 
	$¥öt_dú
 (c⁄° *
«me
, c⁄° *
ªÆ«me
, 
boﬁ
 
comm™d_löe_¨g
)

2505 
DIR
 *
dúp
;

2506 
dúít
 *
√xt
;

2507 
uötmax_t
 
tŸÆ_blocks
 = 0;

2508 
boﬁ
 
fú°
 = 
åue
;

2510 
î∫o
 = 0;

2511 
dúp
 = 
	`›ídú
 (
«me
);

2512 i‡(!
dúp
)

2514 
	`fûe_Áûuª
 (
comm™d_löe_¨g
, 
	`_
("ˇ¬Ÿ o≥¿dúe˘‹y %s"), 
«me
);

2518 i‡(
LOOP_DETECT
)

2520 
°©
 
dú_°©
;

2521 
fd
 = 
	`dúfd
 (
dúp
);

2524 i‡((0 <
fd


2525 ? 
	`f°©
 (
fd
, &
dú_°©
)

2526 : 
	`°©
 (
«me
, &
dú_°©
)) < 0)

2528 
	`fûe_Áûuª
 (
comm™d_löe_¨g
,

2529 
	`_
("ˇ¬Ÿ dëîmöêdevi˚ánd inodêo‡%s"), 
«me
);

2530 
	`˛o£dú
 (
dúp
);

2536 i‡(
	`visô_dú
 (
dú_°©
.
°_dev
, dú_°©.
°_öo
))

2538 
	`îr‹
 (0, 0, 
	`_
("%s:ÇotÜistingálready-listed directory"),

2539 
	`quŸórg_cﬁ⁄
 (
«me
));

2540 
	`˛o£dú
 (
dúp
);

2541 
	`£t_exô_°©us
 (
åue
);

2545 
	`DEV_INO_PUSH
 (
dú_°©
.
°_dev
, dú_°©.
°_öo
);

2548 i‡(
ªcursive
 || 
¥öt_dú_«me
)

2550 i‡(!
fú°
)

2551 
	`DIRED_PUTCHAR
 ('\n');

2552 
fú°
 = 
Ál£
;

2553 
	`DIRED_INDENT
 ();

2554 
	`PUSH_CURRENT_DIRED_POS
 (&
subdúed_ob°ack
);

2555 
dúed_pos
 +
	`quŸe_«me
 (
°dout
, 
ªÆ«me
 ?Ñó amê: 
«me
,

2556 
dú«me_quŸög_›ti⁄s
, 
NULL
);

2557 
	`PUSH_CURRENT_DIRED_POS
 (&
subdúed_ob°ack
);

2558 
	`DIRED_FPUTS_LITERAL
 (":\n", 
°dout
);

2564 
	`˛ór_fûes
 ();

2570 
î∫o
 = 0;

2571 
√xt
 = 
	`ªaddú
 (
dúp
);

2572 i‡(
√xt
)

2574 i‡(! 
	`fûe_ign‹ed
 (
√xt
->
d_«me
))

2576 
fûëy≥
 
ty≥
 = 
unknown
;

2578 #i‡
HAVE_STRUCT_DIRENT_D_TYPE


2579 
√xt
->
d_ty≥
)

2581 
DT_BLK
: 
ty≥
 = 
blockdev
; ;

2582 
DT_CHR
: 
ty≥
 = 
ch¨dev
; ;

2583 
DT_DIR
: 
ty≥
 = 
dúe˘‹y
; ;

2584 
DT_FIFO
: 
ty≥
 = 
fifo
; ;

2585 
DT_LNK
: 
ty≥
 = 
symbﬁic_lök
; ;

2586 
DT_REG
: 
ty≥
 = 
n‹mÆ
; ;

2587 
DT_SOCK
: 
ty≥
 = 
sock
; ;

2588 #ifde‡
DT_WHT


2589 
DT_WHT
: 
ty≥
 = 
whôeout
; ;

2593 
tŸÆ_blocks
 +
	`gobbÀ_fûe
 (
√xt
->
d_«me
, 
ty≥
,

2594 
	`RELIABLE_D_INO
 (
√xt
),

2595 
Ál£
, 
«me
);

2601 i‡(
f‹m©
 =
⁄e_≥r_löe
 && 
s‹t_ty≥
 =
s‹t_n⁄e


2602 && !
¥öt_block_size
 && !
ªcursive
)

2607 
	`s‹t_fûes
 ();

2608 
	`¥öt_cuºít_fûes
 ();

2609 
	`˛ór_fûes
 ();

2613 i‡(
î∫o
 != 0)

2615 
	`fûe_Áûuª
 (
comm™d_löe_¨g
, 
	`_
("ªadög dúe˘‹y %s"), 
«me
);

2616 i‡(
î∫o
 !
EOVERFLOW
)

2625 
	`¥o˚ss_sig«ls
 ();

2628 i‡(
	`˛o£dú
 (
dúp
) != 0)

2630 
	`fûe_Áûuª
 (
comm™d_löe_¨g
, 
	`_
("˛osög dúe˘‹y %s"), 
«me
);

2635 
	`s‹t_fûes
 ();

2640 i‡(
ªcursive
)

2641 
	`exåa˘_dús_‰om_fûes
 (
«me
, 
comm™d_löe_¨g
);

2643 i‡(
f‹m©
 =
l⁄g_f‹m©
 || 
¥öt_block_size
)

2645 c⁄° *
p
;

2646 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

2648 
	`DIRED_INDENT
 ();

2649 
p
 = 
	`_
("total");

2650 
	`DIRED_FPUTS
 (
p
, 
°dout
, 
	`°æí
 (p));

2651 
	`DIRED_PUTCHAR
 (' ');

2652 
p
 = 
	`hum™_ªadabÀ
 (
tŸÆ_blocks
, 
buf
, 
hum™_ouçut_›ts
,

2653 
ST_NBLOCKSIZE
, 
ouçut_block_size
);

2654 
	`DIRED_FPUTS
 (
p
, 
°dout
, 
	`°æí
 (p));

2655 
	`DIRED_PUTCHAR
 ('\n');

2658 i‡(
cwd_n_u£d
)

2659 
	`¥öt_cuºít_fûes
 ();

2660 
	}
}

2666 
	$add_ign‹e_∑âîn
 (c⁄° *
∑âîn
)

2668 
ign‹e_∑âîn
 *
ign‹e
;

2670 
ign‹e
 = 
	`xmÆloc
 ( *ignore);

2671 
ign‹e
->
∑âîn
 =Öattern;

2673 
ign‹e
->
√xt
 = 
ign‹e_∑âîns
;

2674 
ign‹e_∑âîns
 = 
ign‹e
;

2675 
	}
}

2679 
boﬁ


2680 
	$∑âîns_m©ch
 (
ign‹e_∑âîn
 c⁄° *
∑âîns
, c⁄° *
fûe
)

2682 
ign‹e_∑âîn
 c⁄° *
p
;

2683 
p
 = 
∑âîns
;Ö;Ö =Ö->
√xt
)

2684 i‡(
	`‚m©ch
 (
p
->
∑âîn
, 
fûe
, 
FNM_PERIOD
) == 0)

2685  
åue
;

2686  
Ál£
;

2687 
	}
}

2691 
boﬁ


2692 
	$fûe_ign‹ed
 (c⁄° *
«me
)

2694  ((
ign‹e_mode
 !
IGNORE_MINIMAL


2695 && 
«me
[0] == '.'

2696 && (
ign‹e_mode
 =
IGNORE_DEFAULT
 || ! 
«me
[1 + (name[1] == '.')]))

2697 || (
ign‹e_mode
 =
IGNORE_DEFAULT


2698 && 
	`∑âîns_m©ch
 (
hide_∑âîns
, 
«me
))

2699 || 
	`∑âîns_m©ch
 (
ign‹e_∑âîns
, 
«me
));

2700 
	}
}

2706 
uötmax_t


2707 
	$unsig√d_fûe_size
 (
off_t
 
size
)

2709  
size
 + (sizê< 0Ë* ((
uötmax_t
Ë
OFF_T_MAX
 - 
OFF_T_MIN
 + 1);

2710 
	}
}

2712 #ifde‡
HAVE_CAP


2714 
boﬁ


2715 
	$has_ˇ∑bûôy
 (c⁄° *
«me
)

2717 *
ªsu…
;

2718 
boﬁ
 
has_ˇp
;

2720 
ˇp_t
 
ˇp_d
 = 
	`ˇp_gë_fûe
 (
«me
);

2721 i‡(
ˇp_d
 =
NULL
)

2722  
Ál£
;

2724 
ªsu…
 = 
	`ˇp_to_ãxt
 (
ˇp_d
, 
NULL
);

2725 
	`ˇp_‰ì
 (
ˇp_d
);

2726 i‡(!
ªsu…
)

2727  
Ál£
;

2730 
has_ˇp
 = !!*
ªsu…
;

2732 
	`ˇp_‰ì
 (
ªsu…
);

2733  
has_ˇp
;

2734 
	}
}

2736 
boﬁ


2737 
	$has_ˇ∑bûôy
 (c⁄° *
«me
 
ATTRIBUTE_UNUSED
)

2739 
î∫o
 = 
ENOTSUP
;

2740  
Ál£
;

2741 
	}
}

2747 
	$‰ì_ít
 (
fûeöfo
 *
f
)

2749 
	`‰ì
 (
f
->
«me
);

2750 
	`‰ì
 (
f
->
lök«me
);

2751 i‡(
f
->
sc⁄ãxt
 !
UNKNOWN_SECURITY_CONTEXT
)

2752 
	`‰ìc⁄
 (
f
->
sc⁄ãxt
);

2753 
	}
}

2757 
	$˛ór_fûes
 ()

2759 
size_t
 
i
;

2761 
i
 = 0; i < 
cwd_n_u£d
; i++)

2763 
fûeöfo
 *
f
 = 
s‹ãd_fûe
[
i
];

2764 
	`‰ì_ít
 (
f
);

2767 
cwd_n_u£d
 = 0;

2768 
™y_has_a˛
 = 
Ál£
;

2769 
öode_numbî_width
 = 0;

2770 
block_size_width
 = 0;

2771 
∆ök_width
 = 0;

2772 
ow√r_width
 = 0;

2773 
group_width
 = 0;

2774 
auth‹_width
 = 0;

2775 
sc⁄ãxt_width
 = 0;

2776 
maj‹_devi˚_numbî_width
 = 0;

2777 
mö‹_devi˚_numbî_width
 = 0;

2778 
fûe_size_width
 = 0;

2779 
	}
}

2783 
boﬁ


2784 
	$î∫o_unsuµ‹ãd
 (
îr
)

2786  (
îr
 =
EINVAL


2787 || 
îr
 =
ENOSYS


2788 || 
îr
 =
ENOTSUP


2789 || 
îr
 =
EOPNOTSUPP
);

2790 
	}
}

2796 
	$gëfûec⁄_ˇche
 (c⁄° *
fûe
, 
fûeöfo
 *
f
, 
boﬁ
 
dîef
)

2800 
dev_t
 
unsuµ‹ãd_devi˚
;

2802 i‡(
f
->
°©
.
°_dev
 =
unsuµ‹ãd_devi˚
)

2804 
î∫o
 = 
ENOTSUP
;

2807 
r
 = (
dîef


2808 ? 
	`gëfûec⁄
 (
fûe
, &
f
->
sc⁄ãxt
)

2809 : 
	`lgëfûec⁄
 (
fûe
, &
f
->
sc⁄ãxt
));

2810 i‡(
r
 < 0 && 
	`î∫o_unsuµ‹ãd
 (
î∫o
))

2811 
unsuµ‹ãd_devi˚
 = 
f
->
°©
.
°_dev
;

2812  
r
;

2813 
	}
}

2819 
	$fûe_has_a˛_ˇche
 (c⁄° *
fûe
, 
fûeöfo
 *
f
)

2823 
dev_t
 
unsuµ‹ãd_devi˚
;

2825 i‡(
f
->
°©
.
°_dev
 =
unsuµ‹ãd_devi˚
)

2827 
î∫o
 = 
ENOTSUP
;

2833 
î∫o
 = 0;

2834 
n
 = 
	`fûe_has_a˛
 (
fûe
, &
f
->
°©
);

2835 i‡(
n
 <0 && 
	`î∫o_unsuµ‹ãd
 (
î∫o
))

2836 
unsuµ‹ãd_devi˚
 = 
f
->
°©
.
°_dev
;

2837  
n
;

2838 
	}
}

2843 
boﬁ


2844 
	$has_ˇ∑bûôy_ˇche
 (c⁄° *
fûe
, 
fûeöfo
 *
f
)

2848 
dev_t
 
unsuµ‹ãd_devi˚
;

2850 i‡(
f
->
°©
.
°_dev
 =
unsuµ‹ãd_devi˚
)

2852 
î∫o
 = 
ENOTSUP
;

2856 
boﬁ
 
b
 = 
	`has_ˇ∑bûôy
 (
fûe
);

2857 i‡–!
b
 && 
	`î∫o_unsuµ‹ãd
 (
î∫o
))

2858 
unsuµ‹ãd_devi˚
 = 
f
->
°©
.
°_dev
;

2859  
b
;

2860 
	}
}

2865 
uötmax_t


2866 
	$gobbÀ_fûe
 (c⁄° *
«me
, 
fûëy≥
 
ty≥
, 
öo_t
 
öode
,

2867 
boﬁ
 
comm™d_löe_¨g
, c⁄° *
dú«me
)

2869 
uötmax_t
 
blocks
 = 0;

2870 
fûeöfo
 *
f
;

2874 
	`as£π
 (! 
comm™d_löe_¨g
 || 
öode
 =
NOT_AN_INODE_NUMBER
);

2876 i‡(
cwd_n_u£d
 =
cwd_n_Æloc
)

2878 
cwd_fûe
 = 
	`xƒóŒoc
 (cwd_fûe, 
cwd_n_Æloc
, 2 *  *cwd_file);

2879 
cwd_n_Æloc
 *= 2;

2882 
f
 = &
cwd_fûe
[
cwd_n_u£d
];

2883 
	`mem£t
 (
f
, '\0',  *f);

2884 
f
->
°©
.
°_öo
 = 
öode
;

2885 
f
->
fûëy≥
 = 
ty≥
;

2887 i‡(
comm™d_löe_¨g


2888 || 
f‹m©_√eds_°©


2892 || (
ty≥
 =
dúe˘‹y
 && 
¥öt_wôh_cﬁ‹


2893 && (
	`is_cﬁ‹ed
 (
C_OTHER_WRITABLE
)

2894 || 
	`is_cﬁ‹ed
 (
C_STICKY
)

2895 || 
	`is_cﬁ‹ed
 (
C_STICKY_OTHER_WRITABLE
)))

2898 || ((
¥öt_öode
 || 
f‹m©_√eds_ty≥
)

2899 && (
ty≥
 =
symbﬁic_lök
 ||Åy≥ =
unknown
)

2900 && (
dîe„ªn˚
 =
DEREF_ALWAYS


2901 || (
comm™d_löe_¨g
 && 
dîe„ªn˚
 !
DEREF_NEVER
)

2902 || 
cﬁ‹_symlök_as_ª„ª¡
 || 
check_symlök_cﬁ‹
))

2905 || (
¥öt_öode
 && 
öode
 =
NOT_AN_INODE_NUMBER
)

2906 || (
f‹m©_√eds_ty≥


2907 && (
ty≥
 =
unknown
 || 
comm™d_löe_¨g


2911 || (
ty≥
 =
n‹mÆ
 && (
ödiˇt‹_°yÀ
 =
˛assify


2918 || (
¥öt_wôh_cﬁ‹


2919 && (
	`is_cﬁ‹ed
 (
C_EXEC
)

2920 || 
	`is_cﬁ‹ed
 (
C_SETUID
)

2921 || 
	`is_cﬁ‹ed
 (
C_SETGID
)

2922 || 
	`is_cﬁ‹ed
 (
C_CAP
)))

2927 *
absﬁuã_«me
;

2928 
boﬁ
 
do_dîef
;

2929 
îr
;

2931 i‡(
«me
[0] ='/' || 
dú«me
[0] == 0)

2932 
absﬁuã_«me
 = (*Ë
«me
;

2935 
absﬁuã_«me
 = 
	`Æloˇ
 (
	`°æí
 (
«me
Ë+ såÀ¿(
dú«me
) + 2);

2936 
	`©èch
 (
absﬁuã_«me
, 
dú«me
, 
«me
);

2939 
dîe„ªn˚
)

2941 
DEREF_ALWAYS
:

2942 
îr
 = 
	`°©
 (
absﬁuã_«me
, &
f
->
°©
);

2943 
do_dîef
 = 
åue
;

2946 
DEREF_COMMAND_LINE_ARGUMENTS
:

2947 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
:

2948 i‡(
comm™d_löe_¨g
)

2950 
boﬁ
 
√ed_l°©
;

2951 
îr
 = 
	`°©
 (
absﬁuã_«me
, &
f
->
°©
);

2952 
do_dîef
 = 
åue
;

2954 i‡(
dîe„ªn˚
 =
DEREF_COMMAND_LINE_ARGUMENTS
)

2957 
√ed_l°©
 = (
îr
 < 0

2958 ? 
î∫o
 =
ENOENT


2959 : ! 
	`S_ISDIR
 (
f
->
°©
.
°_mode
));

2960 i‡(!
√ed_l°©
)

2970 
îr
 = 
	`l°©
 (
absﬁuã_«me
, &
f
->
°©
);

2971 
do_dîef
 = 
Ál£
;

2975 i‡(
îr
 != 0)

2980 
	`fûe_Áûuª
 (
comm™d_löe_¨g
,

2981 
	`_
("ˇ¬Ÿác˚s†%s"), 
absﬁuã_«me
);

2982 i‡(
comm™d_löe_¨g
)

2985 
f
->
«me
 = 
	`x°rdup
 (name);

2986 
cwd_n_u£d
++;

2991 
f
->
°©_ok
 = 
åue
;

2994 i‡((
ty≥
 =
n‹mÆ
 || 
	`S_ISREG
 (
f
->
°©
.
°_mode
))

2995 && 
¥öt_wôh_cﬁ‹
 && 
	`is_cﬁ‹ed
 (
C_CAP
))

2996 
f
->
has_ˇ∑bûôy
 = 
	`has_ˇ∑bûôy_ˇche
 (
absﬁuã_«me
, f);

2998 i‡(
f‹m©
 =
l⁄g_f‹m©
 || 
¥öt_sc⁄ãxt
)

3000 
boﬁ
 
have_£löux
 = 
Ál£
;

3001 
boﬁ
 
have_a˛
 = 
Ál£
;

3002 
©å_Àn
 = 
	`gëfûec⁄_ˇche
 (
absﬁuã_«me
, 
f
, 
do_dîef
);

3003 
îr
 = (
©å_Àn
 < 0);

3005 i‡(
îr
 == 0)

3006 
have_£löux
 = ! 
	`STREQ
 ("u∆abñed", 
f
->
sc⁄ãxt
);

3009 
f
->
sc⁄ãxt
 = 
UNKNOWN_SECURITY_CONTEXT
;

3015 i‡(
î∫o
 =
ENOTSUP
 ||Éºnÿ=
EOPNOTSUPP
 ||Éºnÿ=
ENODATA
)

3016 
îr
 = 0;

3019 i‡(
îr
 =0 && 
f‹m©
 =
l⁄g_f‹m©
)

3021 
n
 = 
	`fûe_has_a˛_ˇche
 (
absﬁuã_«me
, 
f
);

3022 
îr
 = (
n
 < 0);

3023 
have_a˛
 = (0 < 
n
);

3026 
f
->
a˛_ty≥
 = (!
have_£löux
 && !
have_a˛


3027 ? 
ACL_T_NONE


3028 : (
have_£löux
 && !
have_a˛


3029 ? 
ACL_T_SELINUX_ONLY


3030 : 
ACL_T_YES
));

3031 
™y_has_a˛
 |
f
->
a˛_ty≥
 !
ACL_T_NONE
;

3033 i‡(
îr
)

3034 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸórg_cﬁ⁄
 (
absﬁuã_«me
));

3037 i‡(
	`S_ISLNK
 (
f
->
°©
.
°_mode
)

3038 && (
f‹m©
 =
l⁄g_f‹m©
 || 
check_symlök_cﬁ‹
))

3040 
°©
 
lök°©s
;

3042 
	`gë_lök_«me
 (
absﬁuã_«me
, 
f
, 
comm™d_löe_¨g
);

3043 *
lök«me
 = 
	`make_lök_«me
 (
absﬁuã_«me
, 
f
->linkname);

3047 i‡(
lök«me


3048 && (
fûe_ty≥
 <
ödiˇt‹_°yÀ
 || 
check_symlök_cﬁ‹
)

3049 && 
	`°©
 (
lök«me
, &
lök°©s
) == 0)

3051 
f
->
lökok
 = 
åue
;

3056 i‡(!
comm™d_löe_¨g
 || 
f‹m©
 =
l⁄g_f‹m©


3057 || !
	`S_ISDIR
 (
lök°©s
.
°_mode
))

3061 
f
->
lökmode
 = 
lök°©s
.
°_mode
;

3064 
	`‰ì
 (
lök«me
);

3067 i‡(
	`S_ISLNK
 (
f
->
°©
.
°_mode
))

3068 
f
->
fûëy≥
 = 
symbﬁic_lök
;

3069 i‡(
	`S_ISDIR
 (
f
->
°©
.
°_mode
))

3071 i‡(
comm™d_löe_¨g
 && !
immedüã_dús
)

3072 
f
->
fûëy≥
 = 
¨g_dúe˘‹y
;

3074 
f
->
fûëy≥
 = 
dúe˘‹y
;

3077 
f
->
fûëy≥
 = 
n‹mÆ
;

3079 
blocks
 = 
	`ST_NBLOCKS
 (
f
->
°©
);

3080 i‡(
f‹m©
 =
l⁄g_f‹m©
 || 
¥öt_block_size
)

3082 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

3083 
Àn
 = 
	`mbswidth
 (
	`hum™_ªadabÀ
 (
blocks
, 
buf
, 
hum™_ouçut_›ts
,

3084 
ST_NBLOCKSIZE
, 
ouçut_block_size
),

3086 i‡(
block_size_width
 < 
Àn
)

3087 
block_size_width
 = 
Àn
;

3090 i‡(
f‹m©
 =
l⁄g_f‹m©
)

3092 i‡(
¥öt_ow√r
)

3094 
Àn
 = 
	`f‹m©_u£r_width
 (
f
->
°©
.
°_uid
);

3095 i‡(
ow√r_width
 < 
Àn
)

3096 
ow√r_width
 = 
Àn
;

3099 i‡(
¥öt_group
)

3101 
Àn
 = 
	`f‹m©_group_width
 (
f
->
°©
.
°_gid
);

3102 i‡(
group_width
 < 
Àn
)

3103 
group_width
 = 
Àn
;

3106 i‡(
¥öt_auth‹
)

3108 
Àn
 = 
	`f‹m©_u£r_width
 (
f
->
°©
.
°_auth‹
);

3109 i‡(
auth‹_width
 < 
Àn
)

3110 
auth‹_width
 = 
Àn
;

3114 i‡(
¥öt_sc⁄ãxt
)

3116 
Àn
 = 
	`°æí
 (
f
->
sc⁄ãxt
);

3117 i‡(
sc⁄ãxt_width
 < 
Àn
)

3118 
sc⁄ãxt_width
 = 
Àn
;

3121 i‡(
f‹m©
 =
l⁄g_f‹m©
)

3123 
b
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3124 
b_Àn
 = 
	`°æí
 (
	`umaxto°r
 (
f
->
°©
.
°_∆ök
, 
b
));

3125 i‡(
∆ök_width
 < 
b_Àn
)

3126 
∆ök_width
 = 
b_Àn
;

3128 i‡(
	`S_ISCHR
 (
f
->
°©
.
°_mode
Ë|| 
	`S_ISBLK
 (f->stat.st_mode))

3130 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3131 
Àn
 = 
	`°æí
 (
	`umaxto°r
 (
	`maj‹
 (
f
->
°©
.
°_rdev
), 
buf
));

3132 i‡(
maj‹_devi˚_numbî_width
 < 
Àn
)

3133 
maj‹_devi˚_numbî_width
 = 
Àn
;

3134 
Àn
 = 
	`°æí
 (
	`umaxto°r
 (
	`mö‹
 (
f
->
°©
.
°_rdev
), 
buf
));

3135 i‡(
mö‹_devi˚_numbî_width
 < 
Àn
)

3136 
mö‹_devi˚_numbî_width
 = 
Àn
;

3137 
Àn
 = 
maj‹_devi˚_numbî_width
 + 2 + 
mö‹_devi˚_numbî_width
;

3138 i‡(
fûe_size_width
 < 
Àn
)

3139 
fûe_size_width
 = 
Àn
;

3143 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

3144 
uötmax_t
 
size
 = 
	`unsig√d_fûe_size
 (
f
->
°©
.
°_size
);

3145 
Àn
 = 
	`mbswidth
 (
	`hum™_ªadabÀ
 (
size
, 
buf
,

3146 
fûe_hum™_ouçut_›ts
,

3147 1, 
fûe_ouçut_block_size
),

3149 i‡(
fûe_size_width
 < 
Àn
)

3150 
fûe_size_width
 = 
Àn
;

3155 i‡(
¥öt_öode
)

3157 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3158 
Àn
 = 
	`°æí
 (
	`umaxto°r
 (
f
->
°©
.
°_öo
, 
buf
));

3159 i‡(
öode_numbî_width
 < 
Àn
)

3160 
öode_numbî_width
 = 
Àn
;

3163 
f
->
«me
 = 
	`x°rdup
 (name);

3164 
cwd_n_u£d
++;

3166  
blocks
;

3167 
	}
}

3170 
boﬁ


3171 
	$is_dúe˘‹y
 (c⁄° 
fûeöfo
 *
f
)

3173  
f
->
fûëy≥
 =
dúe˘‹y
 || f->fûëy≥ =
¨g_dúe˘‹y
;

3174 
	}
}

3181 
	$gë_lök_«me
 (c⁄° *
fûíame
, 
fûeöfo
 *
f
, 
boﬁ
 
comm™d_löe_¨g
)

3183 
f
->
lök«me
 = 
	`¨ódlök_wôh_size
 (
fûíame
, f->
°©
.
°_size
);

3184 i‡(
f
->
lök«me
 =
NULL
)

3185 
	`fûe_Áûuª
 (
comm™d_löe_¨g
, 
	`_
("cannotÑead symbolicÜink %s"),

3186 
fûíame
);

3187 
	}
}

3195 
	$make_lök_«me
 (c⁄° *
«me
, c⁄° *
lök«me
)

3197 i‡(!
lök«me
)

3198  
NULL
;

3200 i‡(
	`IS_ABSOLUTE_FILE_NAME
 (
lök«me
))

3201  
	`x°rdup
 (
lök«me
);

3205 
size_t
 
¥efix_Àn
 = 
	`dú_Àn
 (
«me
);

3206 i‡(
¥efix_Àn
 == 0)

3207  
	`x°rdup
 (
lök«me
);

3209 *
p
 = 
	`xmÆloc
 (
¥efix_Àn
 + 1 + 
	`°æí
 (
lök«me
) + 1);

3214 i‡–! 
	`ISSLASH
 (
«me
[
¥efix_Àn
 - 1]))

3215 ++
¥efix_Àn
;

3217 
	`°p˝y
 (
	`°≤˝y
 (
p
, 
«me
, 
¥efix_Àn
), 
lök«me
);

3218  
p
;

3219 
	}
}

3224 
boﬁ


3225 
	$ba£«me_is_dŸ_‹_dŸdŸ
 (c⁄° *
«me
)

3227 c⁄° *
ba£
 = 
	`œ°_comp⁄ít
 (
«me
);

3228  
	`dŸ_‹_dŸdŸ
 (
ba£
);

3229 
	}
}

3240 
	$exåa˘_dús_‰om_fûes
 (c⁄° *
dú«me
, 
boﬁ
 
comm™d_löe_¨g
)

3242 
size_t
 
i
;

3243 
size_t
 
j
;

3244 
boﬁ
 
ign‹e_dŸ_™d_dŸ_dŸ
 = (
dú«me
 !
NULL
);

3246 i‡(
dú«me
 && 
LOOP_DETECT
)

3251 
	`queue_dúe˘‹y
 (
NULL
, 
dú«me
, 
Ál£
);

3256 
i
 = 
cwd_n_u£d
; i-- != 0; )

3258 
fûeöfo
 *
f
 = 
s‹ãd_fûe
[
i
];

3260 i‡(
	`is_dúe˘‹y
 (
f
)

3261 && (! 
ign‹e_dŸ_™d_dŸ_dŸ


3262 || ! 
	`ba£«me_is_dŸ_‹_dŸdŸ
 (
f
->
«me
)))

3264 i‡(!
dú«me
 || 
f
->
«me
[0] == '/')

3265 
	`queue_dúe˘‹y
 (
f
->
«me
, f->
lök«me
, 
comm™d_löe_¨g
);

3268 *
«me
 = 
	`fûe_«me_c⁄ˇt
 (
dú«me
, 
f
->«me, 
NULL
);

3269 
	`queue_dúe˘‹y
 (
«me
, 
f
->
lök«me
, 
comm™d_löe_¨g
);

3270 
	`‰ì
 (
«me
);

3272 i‡(
f
->
fûëy≥
 =
¨g_dúe˘‹y
)

3273 
	`‰ì_ít
 (
f
);

3280 
i
 = 0, 
j
 = 0; i < 
cwd_n_u£d
; i++)

3282 
fûeöfo
 *
f
 = 
s‹ãd_fûe
[
i
];

3283 
s‹ãd_fûe
[
j
] = 
f
;

3284 
j
 +(
f
->
fûëy≥
 !
¨g_dúe˘‹y
);

3286 
cwd_n_u£d
 = 
j
;

3287 
	}
}

3292 
jmp_buf
 
	gÁûed_°rcﬁl
;

3295 
	$x°rcﬁl
 (c⁄° *
a
, c⁄° *
b
)

3297 
diff
;

3298 
î∫o
 = 0;

3299 
diff
 = 
	`°rcﬁl
 (
a
, 
b
);

3300 i‡(
î∫o
)

3302 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot compare fileÇames %sánd %s"),

3303 
	`quŸe_n
 (0, 
a
), quŸe_¿(1, 
b
));

3304 
	`£t_exô_°©us
 (
Ál£
);

3305 
	`l⁄gjmp
 (
Áûed_°rcﬁl
, 1);

3307  
diff
;

3308 
	}
}

3312 c⁄° *
	tV
;

3313 (*
	tqs‹tFunc
)(
	tV
 
	ta
, V 
	tb
);

3318 
	#DIRFIRST_CHECK
(
a
, 
b
) \

3321 
boﬁ
 
a_is_dú
 = 
	`is_dúe˘‹y
 ((
fûeöfo
 c⁄° *Ë
a
); \

3322 
boﬁ
 
b_is_dú
 = 
	`is_dúe˘‹y
 ((
fûeöfo
 c⁄° *Ë
b
); \

3323 i‡(
a_is_dú
 && !
b_is_dú
) \

3325 i‡(!
a_is_dú
 && 
b_is_dú
) \

3327 
	}
} \

3328 0)

	)

3335 
	#DEFINE_SORT_FUNCTIONS
(
key_«me
, 
key_cmp_func
) \

3337 
x°rcﬁl_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3338 {  
	`key_cmp_func
 (
a
, 
b
, 
x°rcﬁl
); } \

3339 
°rcmp_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3340 {  
	`key_cmp_func
 (
a
, 
b
, 
°rcmp
); } \

3343 
ªv_x°rcﬁl_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3344 {  
	`key_cmp_func
 (
b
, 
a
, 
x°rcﬁl
); } \

3345 
ªv_°rcmp_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3346 {  
	`key_cmp_func
 (
b
, 
a
, 
°rcmp
); } \

3349 
x°rcﬁl_df_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3350 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (a, b, 
x°rcﬁl
); } \

3351 
°rcmp_df_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3352 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (a, b, 
°rcmp
); } \

3355 
ªv_x°rcﬁl_df_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3356 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (b,á, 
x°rcﬁl
); } \

3357 
ªv_°rcmp_df_
##
	`key_«me
 (
V
 
a
, V 
b
) \

3358 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (b,á, 
°rcmp
); }

	)

3360 
ölöe
 

3361 
cmp_˘ime
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3362 (*
cmp
) (const *, const *))

3364 
diff
 = 
	`time•ec_cmp
 (
	`gë_°©_˘ime
 (&
b
->
°©
),

3365 
	`gë_°©_˘ime
 (&
a
->
°©
));

3366  
diff
 ? dif‡: 
	`cmp
 (
a
->
«me
, 
b
->name);

3367 
	}
}

3369 
ölöe
 

3370 
cmp_mtime
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3371 (*
cmp
) (const *, const *))

3373 
diff
 = 
	`time•ec_cmp
 (
	`gë_°©_mtime
 (&
b
->
°©
),

3374 
	`gë_°©_mtime
 (&
a
->
°©
));

3375  
diff
 ? dif‡: 
	`cmp
 (
a
->
«me
, 
b
->name);

3376 
	}
}

3378 
ölöe
 

3379 
cmp_©ime
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3380 (*
cmp
) (const *, const *))

3382 
diff
 = 
	`time•ec_cmp
 (
	`gë_°©_©ime
 (&
b
->
°©
),

3383 
	`gë_°©_©ime
 (&
a
->
°©
));

3384  
diff
 ? dif‡: 
	`cmp
 (
a
->
«me
, 
b
->name);

3385 
	}
}

3387 
ölöe
 

3388 
cmp_size
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3389 (*
cmp
) (const *, const *))

3391 
diff
 = 
	`l⁄gdiff
 (
b
->
°©
.
°_size
, 
a
->stat.st_size);

3392  
diff
 ? dif‡: 
	`cmp
 (
a
->
«me
, 
b
->name);

3393 
	}
}

3395 
ölöe
 

3396 
cmp_«me
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3397 (*
cmp
) (const *, const *))

3399  
	`cmp
 (
a
->
«me
, 
b
->name);

3400 
	}
}

3405 
ölöe
 

3406 
cmp_exãnsi⁄
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
,

3407 (*
cmp
) (const *, const *))

3409 c⁄° *
ba£1
 = 
	`°ºchr
 (
a
->
«me
, '.');

3410 c⁄° *
ba£2
 = 
	`°ºchr
 (
b
->
«me
, '.');

3411 
diff
 = 
	`cmp
 (
ba£1
 ? ba£1 : "", 
ba£2
 ? base2 : "");

3412  
diff
 ? dif‡: 
	`cmp
 (
a
->
«me
, 
b
->name);

3413 
	}
}

3415 
	$DEFINE_SORT_FUNCTIONS
 (
˘ime
, 
cmp_˘ime
)

3416 
	$DEFINE_SORT_FUNCTIONS
 (
mtime
, 
cmp_mtime
)

3417 
	$DEFINE_SORT_FUNCTIONS
 (
©ime
, 
cmp_©ime
)

3418 
	$DEFINE_SORT_FUNCTIONS
 (
size
, 
cmp_size
)

3419 
	$DEFINE_SORT_FUNCTIONS
 (
«me
, 
cmp_«me
)

3420 
	$DEFINE_SORT_FUNCTIONS
 (
exãnsi⁄
, 
cmp_exãnsi⁄
)

3431 
ölöe
 

3432 
	$cmp_vîsi⁄
 (
fûeöfo
 c⁄° *
a
, fûeöfÿc⁄° *
b
)

3434  
	`fûevîcmp
 (
a
->
«me
, 
b
->name);

3435 
	}
}

3437 
	$x°rcﬁl_vîsi⁄
 (
V
 
a
, V 
b
)

3438 {  
	`cmp_vîsi⁄
 (
a
, 
b
); 
	}
}

3439 
	$ªv_x°rcﬁl_vîsi⁄
 (
V
 
a
, V 
b
)

3440 {  
	`cmp_vîsi⁄
 (
b
, 
a
); 
	}
}

3441 
	$x°rcﬁl_df_vîsi⁄
 (
V
 
a
, V 
b
)

3442 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`cmp_vîsi⁄
 (a, b); 
	}
}

3443 
	$ªv_x°rcﬁl_df_vîsi⁄
 (
V
 
a
, V 
b
)

3444 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`cmp_vîsi⁄
 (b,á); 
	}
}

3457 
	#LIST_SORTFUNCTION_VARIANTS
(
key_«me
) \

3460 { 
x°rcﬁl_
##
key_«me
, 
x°rcﬁl_df_
##key_name }, \

3461 { 
ªv_x°rcﬁl_
##
key_«me
, 
ªv_x°rcﬁl_df_
##key_name }, \

3464 { 
°rcmp_
##
key_«me
, 
°rcmp_df_
##key_name }, \

3465 { 
ªv_°rcmp_
##
key_«me
, 
ªv_°rcmp_df_
##key_name }, \

3467 }

	)

3469 
qs‹tFunc
 c⁄° 
	gs‹t_fun˘i⁄s
[][2][2][2] =

3471 
LIST_SORTFUNCTION_VARIANTS
 (
«me
),

3472 
LIST_SORTFUNCTION_VARIANTS
 (
exãnsi⁄
),

3473 
LIST_SORTFUNCTION_VARIANTS
 (
size
),

3477 { 
x°rcﬁl_vîsi⁄
, 
x°rcﬁl_df_vîsi⁄
 },

3478 { 
ªv_x°rcﬁl_vîsi⁄
, 
ªv_x°rcﬁl_df_vîsi⁄
 },

3486 { 
NULL
, NULL },

3487 { 
NULL
, NULL },

3492 
LIST_SORTFUNCTION_VARIANTS
 (
mtime
),

3493 
LIST_SORTFUNCTION_VARIANTS
 (
˘ime
),

3494 
LIST_SORTFUNCTION_VARIANTS
 (
©ime
)

3505 
vîify
 (
ARRAY_CARDINALITY
 (
s‹t_fun˘i⁄s
)

3506 =
s‹t_numty≥s
 + 
time_numty≥s
 - 1 );

3511 
	$öôülize_‹dîög_ve˘‹
 ()

3513 
size_t
 
i
;

3514 
i
 = 0; i < 
cwd_n_u£d
; i++)

3515 
s‹ãd_fûe
[
i
] = &
cwd_fûe
[i];

3516 
	}
}

3521 
	$s‹t_fûes
 ()

3523 
boﬁ
 
u£_°rcmp
;

3525 i‡(
s‹ãd_fûe_Æloc
 < 
cwd_n_u£d
 + cwd_n_used / 2)

3527 
	`‰ì
 (
s‹ãd_fûe
);

3528 
s‹ãd_fûe
 = 
	`xnmÆloc
 (
cwd_n_u£d
, 3 *  *sorted_file);

3529 
s‹ãd_fûe_Æloc
 = 3 * 
cwd_n_u£d
;

3532 
	`öôülize_‹dîög_ve˘‹
 ();

3534 i‡(
s‹t_ty≥
 =
s‹t_n⁄e
)

3542 i‡(! 
	`£tjmp
 (
Áûed_°rcﬁl
))

3543 
u£_°rcmp
 = 
Ál£
;

3546 
u£_°rcmp
 = 
åue
;

3547 
	`as£π
 (
s‹t_ty≥
 !
s‹t_vîsi⁄
);

3548 
	`öôülize_‹dîög_ve˘‹
 ();

3552 
	`mps‹t
 ((c⁄° **Ë
s‹ãd_fûe
, 
cwd_n_u£d
,

3553 
s‹t_fun˘i⁄s
[
s‹t_ty≥
 + (s‹t_ty≥ =
s‹t_time
 ? 
time_ty≥
 : 0)]

3554 [
u£_°rcmp
][
s‹t_ªvî£
]

3555 [
dúe˘‹õs_fú°
]);

3556 
	}
}

3561 
	$¥öt_cuºít_fûes
 ()

3563 
size_t
 
i
;

3565 
f‹m©
)

3567 
⁄e_≥r_löe
:

3568 
i
 = 0; i < 
cwd_n_u£d
; i++)

3570 
	`¥öt_fûe_«me_™d_‰ûls
 (
s‹ãd_fûe
[
i
], 0);

3571 
	`putch¨
 ('\n');

3575 
m™y_≥r_löe
:

3576 
	`¥öt_m™y_≥r_löe
 ();

3579 
h‹iz⁄èl
:

3580 
	`¥öt_h‹iz⁄èl
 ();

3583 
wôh_commas
:

3584 
	`¥öt_wôh_commas
 ();

3587 
l⁄g_f‹m©
:

3588 
i
 = 0; i < 
cwd_n_u£d
; i++)

3590 
	`£t_n‹mÆ_cﬁ‹
 ();

3591 
	`¥öt_l⁄g_f‹m©
 (
s‹ãd_fûe
[
i
]);

3592 
	`DIRED_PUTCHAR
 ('\n');

3596 
	}
}

3602 
size_t


3603 
	$Æign_n°r·ime
 (*
buf
, 
size_t
 
size
, c⁄° *
fmt
, 
tm
 const *tm,

3604 
__utc
, 
__ns
)

3606 c⁄° *
nfmt
 = 
fmt
;

3609 
Ωl_fmt
[ (
abm⁄
[0]) + 100];

3610 c⁄° *
pb
;

3611 i‡(
ªquúed_m⁄_width
 && (
pb
 = 
	`°r°r
 (
fmt
, "%b")))

3613 i‡(
	`°æí
 (
fmt
Ë< ( (
Ωl_fmt
Ë-  (
abm⁄
[0]) + 2))

3615 *
pfmt
 = 
Ωl_fmt
;

3616 
nfmt
 = 
Ωl_fmt
;

3618 
pfmt
 = 
	`memp˝y
 (pfmt, 
fmt
, 
pb
 - fmt);

3619 
pfmt
 = 
	`°p˝y
 (pfmt, 
abm⁄
[
tm
->
tm_m⁄
]);

3620 
	`°r˝y
 (
pfmt
, 
pb
 + 2);

3623 
size_t
 
ªt
 = 
	`n°r·ime
 (
buf
, 
size
, 
nfmt
, 
tm
, 
__utc
, 
__ns
);

3624  
ªt
;

3625 
	}
}

3631 
	$l⁄g_time_ex≥˘ed_width
 ()

3633 
width
 = -1;

3635 i‡(
width
 < 0)

3637 
time_t
 
ïoch
 = 0;

3638 
tm
 c⁄° *tm = 
	`loˇ…ime
 (&
ïoch
);

3639 
buf
[
TIME_STAMP_LEN_MAXIMUM
 + 1];

3648 i‡(
tm
)

3650 
size_t
 
Àn
 =

3651 
	`Æign_n°r·ime
 (
buf
,  buf, 
l⁄g_time_f‹m©
[0], 
tm
, 0, 0);

3652 i‡(
Àn
 != 0)

3653 
width
 = 
	`mb¢width
 (
buf
, 
Àn
, 0);

3656 i‡(
width
 < 0)

3657 
width
 = 0;

3660  
width
;

3661 
	}
}

3667 
	$f‹m©_u£r_‹_group
 (c⁄° *
«me
, 
id
, 
width
)

3669 
size_t
 
Àn
;

3671 i‡(
«me
)

3673 
width_g≠
 = 
width
 - 
	`mbswidth
 (
«me
, 0);

3674 
∑d
 = 
	`MAX
 (0, 
width_g≠
);

3675 
	`Âuts
 (
«me
, 
°dout
);

3676 
Àn
 = 
	`°æí
 (
«me
Ë+ 
∑d
;

3679 
	`putch¨
 (' ');

3680 
∑d
--);

3684 
	`¥ötf
 ("%*lu ", 
width
, 
id
);

3685 
Àn
 = 
width
;

3688 
dúed_pos
 +
Àn
 + 1;

3689 
	}
}

3695 
	$f‹m©_u£r
 (
uid_t
 
u
, 
width
, 
boﬁ
 
°©_ok
)

3697 
	`f‹m©_u£r_‹_group
 (! 
°©_ok
 ? "?" :

3698 (
numîic_ids
 ? 
NULL
 : 
	`gëu£r
 (
u
)), u, 
width
);

3699 
	}
}

3704 
	$f‹m©_group
 (
gid_t
 
g
, 
width
, 
boﬁ
 
°©_ok
)

3706 
	`f‹m©_u£r_‹_group
 (! 
°©_ok
 ? "?" :

3707 (
numîic_ids
 ? 
NULL
 : 
	`gëgroup
 (
g
)), g, 
width
);

3708 
	}
}

3713 
	$f‹m©_u£r_‹_group_width
 (c⁄° *
«me
, 
id
)

3715 i‡(
«me
)

3717 
Àn
 = 
	`mbswidth
 (
«me
, 0);

3718  
	`MAX
 (0, 
Àn
);

3722 
buf
[
	`INT_BUFSIZE_BOUND
 (
id
)];

3723 
	`•rötf
 (
buf
, "%lu", 
id
);

3724  
	`°æí
 (
buf
);

3726 
	}
}

3731 
	$f‹m©_u£r_width
 (
uid_t
 
u
)

3733  
	`f‹m©_u£r_‹_group_width
 (
numîic_ids
 ? 
NULL
 : 
	`gëu£r
 (
u
), u);

3734 
	}
}

3739 
	$f‹m©_group_width
 (
gid_t
 
g
)

3741  
	`f‹m©_u£r_‹_group_width
 (
numîic_ids
 ? 
NULL
 : 
	`gëgroup
 (
g
), g);

3742 
	}
}

3748 
	$f‹m©_öode
 (*
buf
, 
size_t
 
buÊí
, c⁄° 
fûeöfo
 *
f
)

3750 
	`as£π
 (
	`INT_BUFSIZE_BOUND
 (
uötmax_t
Ë<
buÊí
);

3751  (
f
->
°©_ok
 && f->
°©
.
°_öo
 !
NOT_AN_INODE_NUMBER


3752 ? 
	`umaxto°r
 (
f
->
°©
.
°_öo
, 
buf
)

3754 
	}
}

3758 
	$¥öt_l⁄g_f‹m©
 (c⁄° 
fûeöfo
 *
f
)

3760 
modebuf
[12];

3761 
buf


3762 [
LONGEST_HUMAN_READABLE
 + 1

3763 + 
LONGEST_HUMAN_READABLE
 + 1

3764 +  (
modebuf
) - 1 + 1

3765 + 
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)

3766 + 
LONGEST_HUMAN_READABLE
 + 2

3767 + 
LONGEST_HUMAN_READABLE
 + 1

3768 + 
TIME_STAMP_LEN_MAXIMUM
 + 1

3770 
size_t
 
s
;

3771 *
p
;

3772 
time•ec
 
whí_time•ec
;

3773 
tm
 *
whí_loˇl
;

3777 i‡(
f
->
°©_ok
)

3778 
	`fûemode°rög
 (&
f
->
°©
, 
modebuf
);

3781 
modebuf
[0] = 
fûëy≥_Àâî
[
f
->
fûëy≥
];

3782 
	`mem£t
 (
modebuf
 + 1, '?', 10);

3783 
modebuf
[11] = '\0';

3785 i‡(! 
™y_has_a˛
)

3786 
modebuf
[10] = '\0';

3787 i‡(
f
->
a˛_ty≥
 =
ACL_T_SELINUX_ONLY
)

3788 
modebuf
[10] = '.';

3789 i‡(
f
->
a˛_ty≥
 =
ACL_T_YES
)

3790 
modebuf
[10] = '+';

3792 
time_ty≥
)

3794 
time_˘ime
:

3795 
whí_time•ec
 = 
	`gë_°©_˘ime
 (&
f
->
°©
);

3797 
time_mtime
:

3798 
whí_time•ec
 = 
	`gë_°©_mtime
 (&
f
->
°©
);

3800 
time_©ime
:

3801 
whí_time•ec
 = 
	`gë_°©_©ime
 (&
f
->
°©
);

3804 
	`ab‹t
 ();

3807 
p
 = 
buf
;

3809 i‡(
¥öt_öode
)

3811 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3812 
	`•rötf
 (
p
, "%*†", 
öode_numbî_width
,

3813 
	`f‹m©_öode
 (
hbuf
,  hbuf, 
f
));

3816 
p
 +
	`°æí
 (p);

3819 i‡(
¥öt_block_size
)

3821 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

3822 c⁄° *
blocks
 =

3823 (! 
f
->
°©_ok


3825 : 
	`hum™_ªadabÀ
 (
	`ST_NBLOCKS
 (
f
->
°©
), 
hbuf
, 
hum™_ouçut_›ts
,

3826 
ST_NBLOCKSIZE
, 
ouçut_block_size
));

3827 
∑d
;

3828 
∑d
 = 
block_size_width
 - 
	`mbswidth
 (
blocks
, 0); 0 <Öad;Öad--)

3829 *
p
++ = ' ';

3830 (*
p
++ = *
blocks
++))

3832 
p
[-1] = ' ';

3838 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3839 
	`•rötf
 (
p
, "%†%*†", 
modebuf
, 
∆ök_width
,

3840 ! 
f
->
°©_ok
 ? "?" : 
	`umaxto°r
 (f->
°©
.
°_∆ök
, 
hbuf
));

3845 
p
 +
	`°æí
 (p);

3847 
	`DIRED_INDENT
 ();

3849 i‡(
¥öt_ow√r
 || 
¥öt_group
 || 
¥öt_auth‹
 || 
¥öt_sc⁄ãxt
)

3851 
	`DIRED_FPUTS
 (
buf
, 
°dout
, 
p
 - buf);

3853 i‡(
¥öt_ow√r
)

3854 
	`f‹m©_u£r
 (
f
->
°©
.
°_uid
, 
ow√r_width
, f->
°©_ok
);

3856 i‡(
¥öt_group
)

3857 
	`f‹m©_group
 (
f
->
°©
.
°_gid
, 
group_width
, f->
°©_ok
);

3859 i‡(
¥öt_auth‹
)

3860 
	`f‹m©_u£r
 (
f
->
°©
.
°_auth‹
, 
auth‹_width
, f->
°©_ok
);

3862 i‡(
¥öt_sc⁄ãxt
)

3863 
	`f‹m©_u£r_‹_group
 (
f
->
sc⁄ãxt
, 0, 
sc⁄ãxt_width
);

3865 
p
 = 
buf
;

3868 i‡(
f
->
°©_ok


3869 && (
	`S_ISCHR
 (
f
->
°©
.
°_mode
Ë|| 
	`S_ISBLK
 (f->stat.st_mode)))

3871 
maj‹buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3872 
mö‹buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

3873 
bœnks_width
 = (
fûe_size_width


3874 - (
maj‹_devi˚_numbî_width
 + 2

3875 + 
mö‹_devi˚_numbî_width
));

3876 
	`•rötf
 (
p
, "%*s, %*s ",

3877 
maj‹_devi˚_numbî_width
 + 
	`MAX
 (0, 
bœnks_width
),

3878 
	`umaxto°r
 (
	`maj‹
 (
f
->
°©
.
°_rdev
), 
maj‹buf
),

3879 
mö‹_devi˚_numbî_width
,

3880 
	`umaxto°r
 (
	`mö‹
 (
f
->
°©
.
°_rdev
), 
mö‹buf
));

3881 
p
 +
fûe_size_width
 + 1;

3885 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

3886 c⁄° *
size
 =

3887 (! 
f
->
°©_ok


3889 : 
	`hum™_ªadabÀ
 (
	`unsig√d_fûe_size
 (
f
->
°©
.
°_size
),

3890 
hbuf
, 
fûe_hum™_ouçut_›ts
, 1,

3891 
fûe_ouçut_block_size
));

3892 
∑d
;

3893 
∑d
 = 
fûe_size_width
 - 
	`mbswidth
 (
size
, 0); 0 <Öad;Öad--)

3894 *
p
++ = ' ';

3895 (*
p
++ = *
size
++))

3897 
p
[-1] = ' ';

3900 
whí_loˇl
 = 
	`loˇ…ime
 (&
whí_time•ec
.
tv_£c
);

3901 
s
 = 0;

3902 *
p
 = '\1';

3904 i‡(
f
->
°©_ok
 && 
whí_loˇl
)

3906 
time•ec
 
six_m⁄ths_ago
;

3907 
boﬁ
 
ª˚¡
;

3908 c⁄° *
fmt
;

3913 i‡(
	`time•ec_cmp
 (
cuºít_time
, 
whí_time•ec
) < 0)

3919 
	`gëtime
 (&
cuºít_time
);

3926 
six_m⁄ths_ago
.
tv_£c
 = 
cuºít_time
.tv_sec - 31556952 / 2;

3927 
six_m⁄ths_ago
.
tv_n£c
 = 
cuºít_time
.tv_nsec;

3929 
ª˚¡
 = (
	`time•ec_cmp
 (
six_m⁄ths_ago
, 
whí_time•ec
) < 0

3930 && (
	`time•ec_cmp
 (
whí_time•ec
, 
cuºít_time
) < 0));

3931 
fmt
 = 
l⁄g_time_f‹m©
[
ª˚¡
];

3935 
s
 = 
	`Æign_n°r·ime
 (
p
, 
TIME_STAMP_LEN_MAXIMUM
 + 1, 
fmt
,

3936 
whí_loˇl
, 0, 
whí_time•ec
.
tv_n£c
);

3939 i‡(
s
 || !*
p
)

3941 
p
 +
s
;

3942 *
p
++ = ' ';

3945 *
p
 = '\0';

3951 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
ötmax_t
)];

3952 
	`•rötf
 (
p
, "%*†", 
	`l⁄g_time_ex≥˘ed_width
 (),

3953 (! 
f
->
°©_ok


3955 : 
	`timëo°r
 (
whí_time•ec
.
tv_£c
, 
hbuf
)));

3957 
p
 +
	`°æí
 (p);

3960 
	`DIRED_FPUTS
 (
buf
, 
°dout
, 
p
 - buf);

3961 
size_t
 
w
 = 
	`¥öt_«me_wôh_quŸög
 (
f
, 
Ál£
, &
dúed_ob°ack
, 
p
 - 
buf
);

3963 i‡(
f
->
fûëy≥
 =
symbﬁic_lök
)

3965 i‡(
f
->
lök«me
)

3967 
	`DIRED_FPUTS_LITERAL
 (" -> ", 
°dout
);

3968 
	`¥öt_«me_wôh_quŸög
 (
f
, 
åue
, 
NULL
, (
p
 - 
buf
Ë+ 
w
 + 4);

3969 i‡(
ödiˇt‹_°yÀ
 !
n⁄e
)

3970 
	`¥öt_ty≥_ödiˇt‹
 (
åue
, 
f
->
lökmode
, 
unknown
);

3973 i‡(
ödiˇt‹_°yÀ
 !
n⁄e
)

3974 
	`¥öt_ty≥_ödiˇt‹
 (
f
->
°©_ok
, f->
°©
.
°_mode
, f->
fûëy≥
);

3975 
	}
}

3983 
size_t


3984 
	$quŸe_«me
 (
FILE
 *
out
, c⁄° *
«me
, 
quŸög_›ti⁄s
 c⁄° *
›ti⁄s
,

3985 
size_t
 *
width
)

3987 
smÆlbuf
[
BUFSIZ
];

3988 
size_t
 
Àn
 = 
	`quŸórg_buf„r
 (
smÆlbuf
,  smÆlbuf, 
«me
, -1, 
›ti⁄s
);

3989 *
buf
;

3990 
size_t
 
di•œyed_width
 
	`IF_LINT
 ( = 0);

3992 i‡(
Àn
 <  
smÆlbuf
)

3993 
buf
 = 
smÆlbuf
;

3996 
buf
 = 
	`Æloˇ
 (
Àn
 + 1);

3997 
	`quŸórg_buf„r
 (
buf
, 
Àn
 + 1, 
«me
, -1, 
›ti⁄s
);

4000 i‡(
qm¨k_fu¬y_ch¨s
)

4002 i‡(
MB_CUR_MAX
 > 1)

4004 c⁄° *
p
 = 
buf
;

4005 c⁄° *
∂imô
 = 
buf
 + 
Àn
;

4006 *
q
 = 
buf
;

4007 
di•œyed_width
 = 0;

4009 
p
 < 
∂imô
)

4010 *
p
)

4033 *
q
++ = *
p
++;

4034 
di•œyed_width
 += 1;

4041 
mb°©e_t
 
mb°©e
 = { 0, };

4044 
wch¨_t
 
wc
;

4045 
size_t
 
byãs
;

4046 
w
;

4048 
byãs
 = 
	`mbπowc
 (&
wc
, 
p
, 
∂imô
 -Ö, &
mb°©e
);

4050 i‡(
byãs
 =(
size_t
) -1)

4055 
p
++;

4056 *
q
++ = '?';

4057 
di•œyed_width
 += 1;

4061 i‡(
byãs
 =(
size_t
) -2)

4066 
p
 = 
∂imô
;

4067 *
q
++ = '?';

4068 
di•œyed_width
 += 1;

4072 i‡(
byãs
 == 0)

4074 
byãs
 = 1;

4076 
w
 = 
	`wcwidth
 (
wc
);

4077 i‡(
w
 >= 0)

4081 ; 
byãs
 > 0; --bytes)

4082 *
q
++ = *
p
++;

4083 
di•œyed_width
 +
w
;

4090 
p
 +
byãs
;

4091 *
q
++ = '?';

4092 
di•œyed_width
 += 1;

4095 ! 
	`mbsöô
 (&
mb°©e
));

4101 
Àn
 = 
q
 - 
buf
;

4105 *
p
 = 
buf
;

4106 c⁄° *
∂imô
 = 
buf
 + 
Àn
;

4108 
p
 < 
∂imô
)

4110 i‡(! 
	`i•röt
 (
	`to_uch¨
 (*
p
)))

4111 *
p
 = '?';

4112 
p
++;

4114 
di•œyed_width
 = 
Àn
;

4117 i‡(
width
 !
NULL
)

4119 i‡(
MB_CUR_MAX
 > 1)

4120 
di•œyed_width
 = 
	`mb¢width
 (
buf
, 
Àn
, 0);

4123 c⁄° *
p
 = 
buf
;

4124 c⁄° *
∂imô
 = 
buf
 + 
Àn
;

4126 
di•œyed_width
 = 0;

4127 
p
 < 
∂imô
)

4129 i‡(
	`i•röt
 (
	`to_uch¨
 (*
p
)))

4130 
di•œyed_width
++;

4131 
p
++;

4136 i‡(
out
 !
NULL
)

4137 
	`fwrôe
 (
buf
, 1, 
Àn
, 
out
);

4138 i‡(
width
 !
NULL
)

4139 *
width
 = 
di•œyed_width
;

4140  
Àn
;

4141 
	}
}

4143 
size_t


4144 
	$¥öt_«me_wôh_quŸög
 (c⁄° 
fûeöfo
 *
f
,

4145 
boﬁ
 
symlök_èrgë
,

4146 
ob°ack
 *
°ack
,

4147 
size_t
 
°¨t_cﬁ
)

4149 c⁄° * 
«me
 = 
symlök_èrgë
 ? 
f
->
lök«me
 : f->name;

4151 
boﬁ
 
u£d_cﬁ‹_this_time


4152 (
¥öt_wôh_cﬁ‹


4153 && (
	`¥öt_cﬁ‹_ödiˇt‹
 (
f
, 
symlök_èrgë
)

4154 || 
	`is_cﬁ‹ed
 (
C_NORM
)));

4156 i‡(
°ack
)

4157 
	`PUSH_CURRENT_DIRED_POS
 (
°ack
);

4159 
size_t
 
width
 = 
	`quŸe_«me
 (
°dout
, 
«me
, 
fûíame_quŸög_›ti⁄s
, 
NULL
);

4160 
dúed_pos
 +
width
;

4162 i‡(
°ack
)

4163 
	`PUSH_CURRENT_DIRED_POS
 (
°ack
);

4165 
	`¥o˚ss_sig«ls
 ();

4166 i‡(
u£d_cﬁ‹_this_time
)

4168 
	`¥ï_n⁄_fûíame_ãxt
 ();

4169 i‡(
°¨t_cﬁ
 / 
löe_Àngth
 !(°¨t_cﬁ + 
width
 - 1) /Üine_length)

4170 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_CLR_TO_EOL
]);

4173  
width
;

4174 
	}
}

4177 
	$¥ï_n⁄_fûíame_ãxt
 ()

4179 i‡(
cﬁ‹_ödiˇt‹
[
C_END
].
°rög
 !
NULL
)

4180 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_END
]);

4183 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_LEFT
]);

4184 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_RESET
]);

4185 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_RIGHT
]);

4187 
	}
}

4193 
size_t


4194 
	$¥öt_fûe_«me_™d_‰ûls
 (c⁄° 
fûeöfo
 *
f
, 
size_t
 
°¨t_cﬁ
)

4196 
buf
[
	`MAX
 (
LONGEST_HUMAN_READABLE
 + 1, 
	`INT_BUFSIZE_BOUND
 (
uötmax_t
))];

4198 
	`£t_n‹mÆ_cﬁ‹
 ();

4200 i‡(
¥öt_öode
)

4201 
	`¥ötf
 ("%*†", 
f‹m©
 =
wôh_commas
 ? 0 : 
öode_numbî_width
,

4202 
	`f‹m©_öode
 (
buf
,  buf, 
f
));

4204 i‡(
¥öt_block_size
)

4205 
	`¥ötf
 ("%*†", 
f‹m©
 =
wôh_commas
 ? 0 : 
block_size_width
,

4206 ! 
f
->
°©_ok
 ? "?"

4207 : 
	`hum™_ªadabÀ
 (
	`ST_NBLOCKS
 (
f
->
°©
), 
buf
, 
hum™_ouçut_›ts
,

4208 
ST_NBLOCKSIZE
, 
ouçut_block_size
));

4210 i‡(
¥öt_sc⁄ãxt
)

4211 
	`¥ötf
 ("%*†", 
f‹m©
 =
wôh_commas
 ? 0 : 
sc⁄ãxt_width
, 
f
->
sc⁄ãxt
);

4213 
size_t
 
width
 = 
	`¥öt_«me_wôh_quŸög
 (
f
, 
Ál£
, 
NULL
, 
°¨t_cﬁ
);

4215 i‡(
ödiˇt‹_°yÀ
 !
n⁄e
)

4216 
width
 +
	`¥öt_ty≥_ödiˇt‹
 (
f
->
°©_ok
, f->
°©
.
°_mode
, f->
fûëy≥
);

4218  
width
;

4219 
	}
}

4224 
	$gë_ty≥_ödiˇt‹
 (
boﬁ
 
°©_ok
, 
mode_t
 
mode
, 
fûëy≥
 
ty≥
)

4226 
c
;

4228 i‡(
°©_ok
 ? 
	`S_ISREG
 (
mode
Ë: 
ty≥
 =
n‹mÆ
)

4230 i‡(
°©_ok
 && 
ödiˇt‹_°yÀ
 =
˛assify
 && (
mode
 & 
S_IXUGO
))

4231 
c
 = '*';

4233 
c
 = 0;

4237 i‡(
°©_ok
 ? 
	`S_ISDIR
 (
mode
Ë: 
ty≥
 =
dúe˘‹y
 ||Åy≥ =
¨g_dúe˘‹y
)

4238 
c
 = '/';

4239 i‡(
ödiˇt‹_°yÀ
 =
¶ash
)

4240 
c
 = 0;

4241 i‡(
°©_ok
 ? 
	`S_ISLNK
 (
mode
Ë: 
ty≥
 =
symbﬁic_lök
)

4242 
c
 = '@';

4243 i‡(
°©_ok
 ? 
	`S_ISFIFO
 (
mode
Ë: 
ty≥
 =
fifo
)

4244 
c
 = '|';

4245 i‡(
°©_ok
 ? 
	`S_ISSOCK
 (
mode
Ë: 
ty≥
 =
sock
)

4246 
c
 = '=';

4247 i‡(
°©_ok
 && 
	`S_ISDOOR
 (
mode
))

4248 
c
 = '>';

4250 
c
 = 0;

4252  
c
;

4253 
	}
}

4255 
boﬁ


4256 
	$¥öt_ty≥_ödiˇt‹
 (
boﬁ
 
°©_ok
, 
mode_t
 
mode
, 
fûëy≥
 
ty≥
)

4258 
c
 = 
	`gë_ty≥_ödiˇt‹
 (
°©_ok
, 
mode
, 
ty≥
);

4259 i‡(
c
)

4260 
	`DIRED_PUTCHAR
 (
c
);

4261  !!
c
;

4262 
	}
}

4265 
boﬁ


4266 
	$¥öt_cﬁ‹_ödiˇt‹
 (c⁄° 
fûeöfo
 *
f
, 
boﬁ
 
symlök_èrgë
)

4268 
ödiˇt‹_no
 
ty≥
;

4269 
cﬁ‹_ext_ty≥
 *
ext
;

4270 
size_t
 
Àn
;

4272 c⁄° * 
«me
;

4273 
mode_t
 
mode
;

4274 
lökok
;

4275 i‡(
symlök_èrgë
)

4277 
«me
 = 
f
->
lök«me
;

4278 
mode
 = 
f
->
lökmode
;

4279 
lökok
 = 
f
->linkok ? 0 : -1;

4283 
«me
 = 
f
->name;

4284 
mode
 = 
	`FILE_OR_LINK_MODE
 (
f
);

4285 
lökok
 = 
f
->linkok;

4290 i‡(
lökok
 =-1 && 
	`is_cﬁ‹ed
 (
C_MISSING
))

4291 
ty≥
 = 
C_MISSING
;

4292 i‡(!
f
->
°©_ok
)

4294 
ödiˇt‹_no
 
fûëy≥_ödiˇt‹
[] = 
FILETYPE_INDICATORS
;

4295 
ty≥
 = 
fûëy≥_ödiˇt‹
[
f
->
fûëy≥
];

4299 i‡(
	`S_ISREG
 (
mode
))

4301 
ty≥
 = 
C_FILE
;

4303 i‡((
mode
 & 
S_ISUID
Ë!0 && 
	`is_cﬁ‹ed
 (
C_SETUID
))

4304 
ty≥
 = 
C_SETUID
;

4305 i‡((
mode
 & 
S_ISGID
Ë!0 && 
	`is_cﬁ‹ed
 (
C_SETGID
))

4306 
ty≥
 = 
C_SETGID
;

4307 i‡(
	`is_cﬁ‹ed
 (
C_CAP
Ë&& 
f
->
has_ˇ∑bûôy
)

4308 
ty≥
 = 
C_CAP
;

4309 i‡((
mode
 & 
S_IXUGO
Ë!0 && 
	`is_cﬁ‹ed
 (
C_EXEC
))

4310 
ty≥
 = 
C_EXEC
;

4311 i‡((1 < 
f
->
°©
.
°_∆ök
Ë&& 
	`is_cﬁ‹ed
 (
C_MULTIHARDLINK
))

4312 
ty≥
 = 
C_MULTIHARDLINK
;

4314 i‡(
	`S_ISDIR
 (
mode
))

4316 
ty≥
 = 
C_DIR
;

4318 i‡((
mode
 & 
S_ISVTX
Ë&& (modê& 
S_IWOTH
)

4319 && 
	`is_cﬁ‹ed
 (
C_STICKY_OTHER_WRITABLE
))

4320 
ty≥
 = 
C_STICKY_OTHER_WRITABLE
;

4321 i‡((
mode
 & 
S_IWOTH
Ë!0 && 
	`is_cﬁ‹ed
 (
C_OTHER_WRITABLE
))

4322 
ty≥
 = 
C_OTHER_WRITABLE
;

4323 i‡((
mode
 & 
S_ISVTX
Ë!0 && 
	`is_cﬁ‹ed
 (
C_STICKY
))

4324 
ty≥
 = 
C_STICKY
;

4326 i‡(
	`S_ISLNK
 (
mode
))

4327 
ty≥
 = 
C_LINK
;

4328 i‡(
	`S_ISFIFO
 (
mode
))

4329 
ty≥
 = 
C_FIFO
;

4330 i‡(
	`S_ISSOCK
 (
mode
))

4331 
ty≥
 = 
C_SOCK
;

4332 i‡(
	`S_ISBLK
 (
mode
))

4333 
ty≥
 = 
C_BLK
;

4334 i‡(
	`S_ISCHR
 (
mode
))

4335 
ty≥
 = 
C_CHR
;

4336 i‡(
	`S_ISDOOR
 (
mode
))

4337 
ty≥
 = 
C_DOOR
;

4341 
ty≥
 = 
C_ORPHAN
;

4346 
ext
 = 
NULL
;

4347 i‡(
ty≥
 =
C_FILE
)

4351 
Àn
 = 
	`°æí
 (
«me
);

4352 
«me
 +
Àn
;

4353 
ext
 = 
cﬁ‹_ext_li°
;Éxà!
NULL
;Éxàext->
√xt
)

4355 i‡(
ext
->ext.
Àn
 <=Üen

4356 && 
	`STREQ_LEN
 (
«me
 - 
ext
->ext.
Àn
,Éxt->ext.
°rög
,

4357 
ext
->ext.
Àn
))

4363 i‡(
ty≥
 =
C_LINK
 && !
lökok
)

4365 i‡(
cﬁ‹_symlök_as_ª„ª¡
 || 
	`is_cﬁ‹ed
 (
C_ORPHAN
))

4366 
ty≥
 = 
C_ORPHAN
;

4370 c⁄° 
bö_°r
 *c⁄° 
s


4371 
ext
 ? &”xt->
£q
Ë: &
cﬁ‹_ödiˇt‹
[
ty≥
];

4372 i‡(
s
->
°rög
 !
NULL
)

4375 i‡(
	`is_cﬁ‹ed
 (
C_NORM
))

4376 
	`ª°‹e_deÁu…_cﬁ‹
 ();

4377 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_LEFT
]);

4378 
	`put_ödiˇt‹
 (
s
);

4379 
	`put_ödiˇt‹
 (&
cﬁ‹_ödiˇt‹
[
C_RIGHT
]);

4380  
åue
;

4383  
Ál£
;

4385 
	}
}

4389 
	$put_ödiˇt‹
 (c⁄° 
bö_°r
 *
öd
)

4391 i‡(! 
u£d_cﬁ‹
)

4393 
u£d_cﬁ‹
 = 
åue
;

4394 
	`¥ï_n⁄_fûíame_ãxt
 ();

4397 
	`fwrôe
 (
öd
->
°rög
, ind->
Àn
, 1, 
°dout
);

4398 
	}
}

4400 
size_t


4401 
	$Àngth_of_fûe_«me_™d_‰ûls
 (c⁄° 
fûeöfo
 *
f
)

4403 
size_t
 
Àn
 = 0;

4404 
size_t
 
«me_width
;

4405 
buf
[
	`MAX
 (
LONGEST_HUMAN_READABLE
 + 1, 
	`INT_BUFSIZE_BOUND
 (
uötmax_t
))];

4407 i‡(
¥öt_öode
)

4408 
Àn
 +1 + (
f‹m©
 =
wôh_commas


4409 ? 
	`°æí
 (
	`umaxto°r
 (
f
->
°©
.
°_öo
, 
buf
))

4410 : 
öode_numbî_width
);

4412 i‡(
¥öt_block_size
)

4413 
Àn
 +1 + (
f‹m©
 =
wôh_commas


4414 ? 
	`°æí
 (! 
f
->
°©_ok
 ? "?"

4415 : 
	`hum™_ªadabÀ
 (
	`ST_NBLOCKS
 (
f
->
°©
), 
buf
,

4416 
hum™_ouçut_›ts
, 
ST_NBLOCKSIZE
,

4417 
ouçut_block_size
))

4418 : 
block_size_width
);

4420 i‡(
¥öt_sc⁄ãxt
)

4421 
Àn
 +1 + (
f‹m©
 =
wôh_commas
 ? 
	`°æí
 (
f
->
sc⁄ãxt
Ë: 
sc⁄ãxt_width
);

4423 
	`quŸe_«me
 (
NULL
, 
f
->
«me
, 
fûíame_quŸög_›ti⁄s
, &
«me_width
);

4424 
Àn
 +
«me_width
;

4426 i‡(
ödiˇt‹_°yÀ
 !
n⁄e
)

4428 
c
 = 
	`gë_ty≥_ödiˇt‹
 (
f
->
°©_ok
, f->
°©
.
°_mode
, f->
fûëy≥
);

4429 
Àn
 +(
c
 != 0);

4432  
Àn
;

4433 
	}
}

4436 
	$¥öt_m™y_≥r_löe
 ()

4438 
size_t
 
row
;

4439 
size_t
 
cﬁs
 = 
	`ˇlcuœã_cﬁumns
 (
åue
);

4440 
cﬁumn_öfo
 c⁄° *
löe_fmt
 = &cﬁumn_öfo[
cﬁs
 - 1];

4444 
size_t
 
rows
 = 
cwd_n_u£d
 / 
cﬁs
 + (cwd_n_used % cols != 0);

4446 
row
 = 0;Ñow < 
rows
;Ñow++)

4448 
size_t
 
cﬁ
 = 0;

4449 
size_t
 
fûe¢o
 = 
row
;

4450 
size_t
 
pos
 = 0;

4455 
fûeöfo
 c⁄° *
f
 = 
s‹ãd_fûe
[
fûe¢o
];

4456 
size_t
 
«me_Àngth
 = 
	`Àngth_of_fûe_«me_™d_‰ûls
 (
f
);

4457 
size_t
 
max_«me_Àngth
 = 
löe_fmt
->
cﬁ_¨r
[
cﬁ
++];

4458 
	`¥öt_fûe_«me_™d_‰ûls
 (
f
, 
pos
);

4460 
fûe¢o
 +
rows
;

4461 i‡(
fûe¢o
 >
cwd_n_u£d
)

4464 
	`ödít
 (
pos
 + 
«me_Àngth
,Öo†+ 
max_«me_Àngth
);

4465 
pos
 +
max_«me_Àngth
;

4467 
	`putch¨
 ('\n');

4469 
	}
}

4472 
	$¥öt_h‹iz⁄èl
 ()

4474 
size_t
 
fûe¢o
;

4475 
size_t
 
pos
 = 0;

4476 
size_t
 
cﬁs
 = 
	`ˇlcuœã_cﬁumns
 (
Ál£
);

4477 
cﬁumn_öfo
 c⁄° *
löe_fmt
 = &cﬁumn_öfo[
cﬁs
 - 1];

4478 
fûeöfo
 c⁄° *
f
 = 
s‹ãd_fûe
[0];

4479 
size_t
 
«me_Àngth
 = 
	`Àngth_of_fûe_«me_™d_‰ûls
 (
f
);

4480 
size_t
 
max_«me_Àngth
 = 
löe_fmt
->
cﬁ_¨r
[0];

4483 
	`¥öt_fûe_«me_™d_‰ûls
 (
f
, 0);

4486 
fûe¢o
 = 1; fûe¢ÿ< 
cwd_n_u£d
; ++filesno)

4488 
size_t
 
cﬁ
 = 
fûe¢o
 % 
cﬁs
;

4490 i‡(
cﬁ
 == 0)

4492 
	`putch¨
 ('\n');

4493 
pos
 = 0;

4497 
	`ödít
 (
pos
 + 
«me_Àngth
,Öo†+ 
max_«me_Àngth
);

4498 
pos
 +
max_«me_Àngth
;

4501 
f
 = 
s‹ãd_fûe
[
fûe¢o
];

4502 
	`¥öt_fûe_«me_™d_‰ûls
 (
f
, 
pos
);

4504 
«me_Àngth
 = 
	`Àngth_of_fûe_«me_™d_‰ûls
 (
f
);

4505 
max_«me_Àngth
 = 
löe_fmt
->
cﬁ_¨r
[
cﬁ
];

4507 
	`putch¨
 ('\n');

4508 
	}
}

4511 
	$¥öt_wôh_commas
 ()

4513 
size_t
 
fûe¢o
;

4514 
size_t
 
pos
 = 0;

4516 
fûe¢o
 = 0; fûe¢ÿ< 
cwd_n_u£d
; filesno++)

4518 
fûeöfo
 c⁄° *
f
 = 
s‹ãd_fûe
[
fûe¢o
];

4519 
size_t
 
Àn
 = 
	`Àngth_of_fûe_«me_™d_‰ûls
 (
f
);

4521 i‡(
fûe¢o
 != 0)

4523 
£∑øt‹
;

4525 i‡(
pos
 + 
Àn
 + 2 < 
löe_Àngth
)

4527 
pos
 += 2;

4528 
£∑øt‹
 = ' ';

4532 
pos
 = 0;

4533 
£∑øt‹
 = '\n';

4536 
	`putch¨
 (',');

4537 
	`putch¨
 (
£∑øt‹
);

4540 
	`¥öt_fûe_«me_™d_‰ûls
 (
f
, 
pos
);

4541 
pos
 +
Àn
;

4543 
	`putch¨
 ('\n');

4544 
	}
}

4550 
	$ödít
 (
size_t
 
‰om
, size_à
to
)

4552 
‰om
 < 
to
)

4554 i‡(
èbsize
 !0 && 
to
 /Åabsizê> (
‰om
 + 1) /Åabsize)

4556 
	`putch¨
 ('\t');

4557 
‰om
 +
èbsize
 - from %Åabsize;

4561 
	`putch¨
 (' ');

4562 
‰om
++;

4565 
	}
}

4572 
	$©èch
 (*
de°
, c⁄° *
dú«me
, c⁄° *
«me
)

4574 c⁄° *
dú«mï
 = 
dú«me
;

4577 i‡(
dú«me
[0] != '.' || dirname[1] != 0)

4579 *
dú«mï
)

4580 *
de°
++ = *
dú«mï
++;

4582 i‡(
dú«mï
 > 
dú«me
 && dirnamep[-1] != '/')

4583 *
de°
++ = '/';

4585 *
«me
)

4586 *
de°
++ = *
«me
++;

4587 *
de°
 = 0;

4588 
	}
}

4595 
	$öô_cﬁumn_öfo
 ()

4597 
size_t
 
i
;

4598 
size_t
 
max_cﬁs
 = 
	`MIN
 (
max_idx
, 
cwd_n_u£d
);

4601 
size_t
 
cﬁumn_öfo_Æloc
;

4603 i‡(
cﬁumn_öfo_Æloc
 < 
max_cﬁs
)

4605 
size_t
 
√w_cﬁumn_öfo_Æloc
;

4606 
size_t
 *
p
;

4608 i‡(
max_cﬁs
 < 
max_idx
 / 2)

4615 
cﬁumn_öfo
 = 
	`xƒóŒoc
 (cﬁumn_öfo, 
max_cﬁs
,

4616 2 *  *
cﬁumn_öfo
);

4617 
√w_cﬁumn_öfo_Æloc
 = 2 * 
max_cﬁs
;

4621 
cﬁumn_öfo
 = 
	`xƒóŒoc
 (cﬁumn_öfo, 
max_idx
,  *column_info);

4622 
√w_cﬁumn_öfo_Æloc
 = 
max_idx
;

4630 
size_t
 
cﬁumn_öfo_growth
 = 
√w_cﬁumn_öfo_Æloc
 - 
cﬁumn_öfo_Æloc
;

4631 
size_t
 
s
 = 
cﬁumn_öfo_Æloc
 + 1 + 
√w_cﬁumn_öfo_Æloc
;

4632 
size_t
 
t
 = 
s
 * 
cﬁumn_öfo_growth
;

4633 i‡(
s
 < 
√w_cﬁumn_öfo_Æloc
 || 
t
 / 
cﬁumn_öfo_growth
 != s)

4634 
	`xÆloc_dõ
 ();

4635 
p
 = 
	`xnmÆloc
 (
t
 / 2,  *p);

4639 
i
 = 
cﬁumn_öfo_Æloc
; i < 
√w_cﬁumn_öfo_Æloc
; i++)

4641 
cﬁumn_öfo
[
i
].
cﬁ_¨r
 = 
p
;

4642 
p
 +
i
 + 1;

4645 
cﬁumn_öfo_Æloc
 = 
√w_cﬁumn_öfo_Æloc
;

4648 
i
 = 0; i < 
max_cﬁs
; ++i)

4650 
size_t
 
j
;

4652 
cﬁumn_öfo
[
i
].
vÆid_Àn
 = 
åue
;

4653 
cﬁumn_öfo
[
i
].
löe_Àn
 = (ò+ 1Ë* 
MIN_COLUMN_WIDTH
;

4654 
j
 = 0; j <
i
; ++j)

4655 
cﬁumn_öfo
[
i
].
cﬁ_¨r
[
j
] = 
MIN_COLUMN_WIDTH
;

4657 
	}
}

4662 
size_t


4663 
	$ˇlcuœã_cﬁumns
 (
boﬁ
 
by_cﬁumns
)

4665 
size_t
 
fûe¢o
;

4666 
size_t
 
cﬁs
;

4671 
size_t
 
max_cﬁs
 = 
	`MIN
 (
max_idx
, 
cwd_n_u£d
);

4673 
	`öô_cﬁumn_öfo
 ();

4676 
fûe¢o
 = 0; fûe¢ÿ< 
cwd_n_u£d
; ++filesno)

4678 
fûeöfo
 c⁄° *
f
 = 
s‹ãd_fûe
[
fûe¢o
];

4679 
size_t
 
«me_Àngth
 = 
	`Àngth_of_fûe_«me_™d_‰ûls
 (
f
);

4680 
size_t
 
i
;

4682 
i
 = 0; i < 
max_cﬁs
; ++i)

4684 i‡(
cﬁumn_öfo
[
i
].
vÆid_Àn
)

4686 
size_t
 
idx
 = (
by_cﬁumns


4687 ? 
fûe¢o
 / ((
cwd_n_u£d
 + 
i
) / (i + 1))

4688 : 
fûe¢o
 % (
i
 + 1));

4689 
size_t
 
ªÆ_Àngth
 = 
«me_Àngth
 + (
idx
 =
i
 ? 0 : 2);

4691 i‡(
cﬁumn_öfo
[
i
].
cﬁ_¨r
[
idx
] < 
ªÆ_Àngth
)

4693 
cﬁumn_öfo
[
i
].
löe_Àn
 +(
ªÆ_Àngth


4694 - 
cﬁumn_öfo
[
i
].
cﬁ_¨r
[
idx
]);

4695 
cﬁumn_öfo
[
i
].
cﬁ_¨r
[
idx
] = 
ªÆ_Àngth
;

4696 
cﬁumn_öfo
[
i
].
vÆid_Àn
 = (cﬁumn_öfo[i].
löe_Àn


4697 < 
löe_Àngth
);

4704 
cﬁs
 = 
max_cﬁs
; 1 < cols; --cols)

4706 i‡(
cﬁumn_öfo
[
cﬁs
 - 1].
vÆid_Àn
)

4710  
cﬁs
;

4711 
	}
}

4714 
	$ußge
 (
°©us
)

4716 i‡(
°©us
 !
EXIT_SUCCESS
)

4717 
	`emô_åy_hñp
 ();

4720 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]...\n"), 
¥ogøm_«me
);

4721 
	`Âuts
 (
	`_
("\
 inf‹m©i⁄ábouàthêFILE†—hêcuºíàdúe˘‹y by deÁu…).\n\
É¡rõ†ÆphabëiˇŒy i‡n⁄êo‡-c·uvSUXÇ‹ --s‹ài†•ecifõd.\n\
"), 
°dout
);

4726 
	`emô_m™d©‹y_¨g_nŸe
 ();

4728 
	`Âuts
 (
	`_
("\
-a, --Æ» dÿnŸ ign‹êíåõ†°¨tög wôh .\n\
-A, --Æmo°-Æ» dÿnŸÜi° im∂õd .ánd ..\n\
--auth‹ wôh -l,Öröàthêauth‹ o‡óch fûe\n\
-b, --esˇ≥ÖröàC-°yÀÉsˇ≥†f‹Ç⁄gøphi¯ch¨a˘îs\n\
"), 
°dout
);

4734 
	`Âuts
 (
	`_
("\
--block-size=SIZE sˇÀ size†by SIZE bef‹ê¥ötögÅhem. E.g.,\n\
'--block-size=M'Öröt†size†ö unô†of\n\
1,048,576 byãs. Sì SIZE f‹m© bñow.\n\
-B, --ign‹e-backup† dÿnŸÜi° im∂õdÉ¡rõ†ídög wôh ~\n\
-¯ wôh -…: s‹àby,ánd show, ctimê—imêo‡œ°\n\
 o‡fûê°©u†öf‹m©i⁄)\n\
 -l: show ctimê™d s‹àbyÇame\n\
: s‹àby ctime,Çewe° fú°\n\
"), 
°dout
);

4744 
	`Âuts
 (
	`_
("\
-CÜi°É¡rõ†by cﬁumns\n\
--cﬁ‹[=WHEN] cﬁ‹izêthêouçut. WHEN deÁu…†tÿ'Æways'\n\
 c™ bê'√vî' o∏'auto'. M‹êöfÿbñow\n\
-d, --dúe˘‹yÜi° dúe˘‹yÉ¡rõ†ö°ód o‡c⁄ã¡s,\n\
 dÿnŸ dîe„ªn˚ symbﬁi¯löks\n\
-D, --dúed gíî©êouçuàdesig√d f‹ Emacs' dúed mode\n\
"), 
°dout
);

4752 
	`Âuts
 (
	`_
("\
-‡ dÿnŸ s‹t,É«bÀ -aU, dißbÀ -l†--cﬁ‹\n\
-F, --˛assifyáµíd indiˇt‹ (⁄êo‡*/=>@|Ëtÿíåõs\n\
--fûe-ty≥Üikewi£,Éx˚± dÿnŸáµíd '*'\n\
--f‹m©=WORDá¸os†-x, comma†-m, h‹iz⁄è»-x,Ü⁄g -l,\n\
-cﬁum¿-1, vîbo£ -l, vîtiˇ»-C\n\
--fuŒ-timêÜikê-»--time-°yÀ=fuŒ-iso\n\
"), 
°dout
);

4760 
	`Âuts
 (
	`_
("\
-gÜikê-l, buàdÿnŸÜi° ow√r\n\
"), 
°dout
);

4763 
	`Âuts
 (
	`_
("\
--group-dúe˘‹õs-fú°\n\
 dúe˘‹õ†bef‹êfûes.\n\
 wôhá --s‹à›ti⁄, buà™y\n\
 o‡--s‹tÚ⁄ê(-UËdißbÀ†groupög\n\
"), 
°dout
);

4769 
	`Âuts
 (
	`_
("\
-G, --no-grou∞ i¿®l⁄gÜi°ög, d⁄'à¥öàgrou∞«mes\n\
-h, --hum™-ªadabÀ wôh -l,Öröàsize†ö hum™ÑódabÀ f‹m©\n\
”.g., 1K 234M 2G)\n\
--sòÜikewi£, buàu£Öowî†o‡1000ÇŸ 1024\n\
"), 
°dout
);

4775 
	`Âuts
 (
	`_
("\
-H, --dîe„ªn˚-comm™d-löe\n\
 symbﬁi¯lök†li°ed o¿thêcomm™dÜöe\n\
--dîe„ªn˚-comm™d-löe-symlök-to-dú\n\
Éach comm™dÜöêsymbﬁi¯lök\n\
Öoöt†tÿ®dúe˘‹y\n\
--hide=PATTERN dÿnŸÜi° im∂õdÉ¡rõ†m©chög shñ»PATTERN\
\n\
(ovîriddí by -®‹ -A)\n\
"), 
°dout
);

4785 
	`Âuts
 (
	`_
("\
--ödiˇt‹-°yÀ=WORDáµíd indiˇt‹ wôh styÀ WORDÅÿíåyÇames:\
\n\
 (deÁu…), sœsh (-p),\n\
-ty≥ (--fûe-ty≥), cœssify (-F)\n\
-i, --öodêÖröàthêödexÇumbî o‡óch fûe\n\
-I, --ign‹e=PATTERN dÿnŸÜi° im∂õdÉ¡rõ†m©chög shñ»PATTERN\
\n\
-k, --kibibyã† u£ 1024-byã blocks\n\
"), 
°dout
);

4795 
	`Âuts
 (
	`_
("\
-» u£áÜ⁄gÜi°ög f‹m©\n\
-L, --dîe„ªn˚ whí showög fûêöf‹m©i⁄ f‹á symbﬁic\n\
, show inf‹m©i⁄ f‹Åhêfûêthêlök\n\
Ñ©hîÅh™ f‹Åhêlök it£lf\n\
-m fû»width wôhá comm®£∑øãdÜi° o‡íåõs\
\n\
"), 
°dout
);

4803 
	`Âuts
 (
	`_
("\
-n, --numîic-uid-gidÜikê-l, buàli°Çumîi¯u£∏™d grou∞IDs\n\
-N, --lôîÆÖröàøwÉ¡ryÇame†(d⁄'àåóàe.g. c⁄åﬁ\n\
 s≥cüŒy)\n\
-ÿÜikê-l, buàdÿnŸÜi° grou∞öf‹m©i⁄\n\
-p, --ödiˇt‹-°yÀ=¶ash\n\
 / indiˇt‹Åÿdúe˘‹õs\n\
"), 
°dout
);

4811 
	`Âuts
 (
	`_
("\
-q, --hide-c⁄åﬁ-ch¨†Öröà? in°ód o‡n⁄ gøphi¯ch¨a˘îs\n\
--show-c⁄åﬁ-ch¨† showÇ⁄ gøphi¯ch¨a˘î†as-i†(deÁu…\n\
Örogøm i†'ls'ánd ouçuài†®ãrmöÆ)\n\
-Q, --quŸe-«mêÉn˛o£É¡ryÇame†ö doubÀ quŸes\n\
--quŸög-°yÀ=WORD u£ quŸög styÀ WORD f‹É¡ryÇames:\n\
,ÜoˇÀ, shñl, shñl-Æways, c,Ésˇ≥\
\n\
"), 
°dout
);

4820 
	`Âuts
 (
	`_
("\
-r, --ªvî£Ñevî£ ordî whûês‹tög\n\
-R, --ªcursivêÜi° subdúe˘‹õ†ªcursivñy\n\
-s, --sizêÖröàthêÆloˇãd sizêo‡óch fûe, i¿blocks\n\
"), 
°dout
);

4825 
	`Âuts
 (
	`_
("\
-S s‹àby fûêsize\n\
--s‹t=WORD s‹àby WORD in°ód o‡«me:Ç⁄ê-U,\n\
 -X, sizê-S,Åimê-t, vîsi⁄ -v\n\
--time=WORD wôh -l, showÅimêa†WORD in°ód o‡modifiˇti⁄\
\n\
:átimê-u,ác˚s†-u, u£ -u, ctimê-c,\n\
 sètu†-c; u£ s≥cifõdÅimêa†s‹àkey\n\
 --s‹tÒime\n\
"), 
°dout
);

4835 
	`Âuts
 (
	`_
("\
--time-°yÀ=STYLE wôh -l, showÅime†usög styÀ STYLE:\n\
-iso,Ü⁄g-iso, iso,ÜoˇÀ, +FORMAT.\n\
 i†öãΩªãdÜikê'd©e'; i‡FORMAT is\n\
1<√wlöe>FORMAT2, FORMAT1áµlõ†to\n\
-ª˚¡ fûe†™d FORMAT2Åÿª˚¡ fûes;\n\
 STYLE i†¥efixed wôh 'posix-', STYLE\n\
Éf„˘ o∆y outsidêthêPOSIXÜoˇÀ\n\
"), 
°dout
);

4844 
	`Âuts
 (
	`_
("\
-à s‹àby modifiˇti⁄Åime,Çewe° fú°\n\
-T, --èbsize=COLSássumêèb st›†©Éach COLS in°ód o‡8\n\
"), 
°dout
);

4848 
	`Âuts
 (
	`_
("\
-u wôh -…: s‹àby,ánd show,ác˚s†time\n\
 -l: showác˚s†timê™d s‹àbyÇame\n\
: s‹àbyác˚s†time\n\
-U dÿnŸ s‹t;Üi°É¡rõ†ö dúe˘‹y ordî\n\
-vÇ©uø»s‹ào‡(vîsi⁄Ënumbî†wôhöÅext\n\
"), 
°dout
);

4855 
	`Âuts
 (
	`_
("\
-w, --width=COLSássumês¸ì¿width in°ód o‡cuºíàvÆue\n\
-xÜi°É¡rõ†byÜöe†ö°ód o‡by cﬁumns\n\
-X s‹àÆphabëiˇŒy byÉ¡ryÉxãnsi⁄\n\
-Z, --c⁄ãxàÖröà™y SELöux securôy c⁄ãxào‡óch fûe\n\
-1Üi° o√ fûê≥∏löe\n\
"), 
°dout
);

4862 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

4863 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

4864 
	`emô_size_nŸe
 ();

4865 
	`Âuts
 (
	`_
("\
\n\
 cﬁ‹Åÿdi°öguish fûêty≥†i†dißbÀd bŸh by deÁu…ánd\n\
 --cﬁ‹Úevî. Wôh --cﬁ‹˜uto,Ü†emô†cﬁ‹ code†⁄ly whí\n\
 ouçuài†c⁄√˘edÅÿ®ãrmöÆ. ThêLS_COLORSÉnvú⁄mít\n\
 c™ ch™gêthê£âögs. U£Åhêdúcﬁ‹†comm™dÅÿ£àô.\n\
"), 
°dout
);

4872 
	`Âuts
 (
	`_
("\
\n\
 sètus:\n\
0 i‡OK,\n\
1 i‡mö‹ÖrobÀm†”.g., c™nŸác˚s†subdúe˘‹y),\n\
2 i‡£riou†åoubÀ (e.g., c™nŸác˚s†comm™d-löê¨gumít).\n\
"), 
°dout
);

4879 
	`emô_™cûœry_öfo
 ();

4881 
	`exô
 (
°©us
);

4882 
	}
}

	@ls.h

2 
	#LS_LS
 1

	)

5 
	#LS_MULTI_COL
 2

	)

8 
	#LS_LONG_FORMAT
 3

	)

10 
ls_mode
;

	@make-prime-list.c

20 
	~<c⁄fig.h
>

22 
	~<limôs.h
>

23 
	~<°döt.h
>

24 
	~<öây≥s.h
>

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<°dlib.h
>

28 
	~<î∫o.h
>

31 #unde‡
f˛o£


32 #unde‡
mÆloc


33 #unde‡
°ªº‹


41 #i‚de‡
wide_uöt


42 #i‡4 < 
__GNUC__
 + (6 <
__GNUC_MINOR__
Ë&& 
ULONG_MAX
 >> 31 >> 31 >> 1 != 0

43 
	t__öt128
 
	twide_uöt
;

45 
uötmax_t
 
	twide_uöt
;

49 
	s¥ime


51 
	mp
;

52 
wide_uöt
 
	mpöv
;

53 
wide_uöt
 
	mlim
;

56 
wide_uöt
 
_GL_ATTRIBUTE_CONST


57 
	$bövît
 (
wide_uöt
 
a
)

59 
wide_uöt
 
x
 = 0xf5397db1 >> (4*((
a
/2) & 0x7));

62 
wide_uöt
 
y
 = 2*
x
 - x*x*
a
;

63 i‡(
y
 =
x
)

64  
x
;

65 
x
 = 
y
;

67 
	}
}

70 
	$¥o˚ss_¥ime
 (
¥ime
 *
öfo
, 
p
)

72 
wide_uöt
 
max
 = -1;

73 
öfo
->
p
 =Ö;

74 
öfo
->
pöv
 = 
	`bövît
 (
p
);

75 
öfo
->
lim
 = 
max
 / 
p
;

76 
	}
}

79 
	$¥öt_wide_uöt
 (
wide_uöt
 
n
, 
√°ög
, 
wide_uöt_bôs
)

84 
hex_digôs_≥r_lôîÆ
 = 7;

85 
bôs_≥r_lôîÆ
 = 
hex_digôs_≥r_lôîÆ
 * 4;

87 
ªmaödî
 = 
n
 & ((1 << 
bôs_≥r_lôîÆ
) - 1);

89 i‡(
n
 !
ªmaödî
)

91 
√eds_∑ª¡he£s
 = 
n
 >> 
bôs_≥r_lôîÆ
 >> bits_per_literal != 0;

92 i‡(
√eds_∑ª¡he£s
)

93 
	`¥ötf
 ("(");

94 
	`¥öt_wide_uöt
 (
n
 >> 
bôs_≥r_lôîÆ
, 
√°ög
 + 1, 
wide_uöt_bôs
);

95 i‡(
√eds_∑ª¡he£s
)

96 
	`¥ötf
 (")\n%*s", 
√°ög
 + 3, "");

97 
	`¥ötf
 (" << %d | ", 
bôs_≥r_lôîÆ
);

99 i‡(
√°ög
)

101 
	`¥ötf
 ("(uintmax_t) ");

102 
hex_digôs_≥r_lôîÆ


103 ((
wide_uöt_bôs
 - 1Ë% 
bôs_≥r_lôîÆ
) % 4 + 1;

106 
	`¥ötf
 ("0x%0*xU", 
hex_digôs_≥r_lôîÆ
, 
ªmaödî
);

107 
	}
}

110 
	$ouçut_¥imes
 (c⁄° 
¥ime
 *
¥imes
, 
≈rimes
)

112 
i
;

113 
p
;

114 
is_¥ime
;

119 
wide_uöt_bôs
 = 0;

120 
wide_uöt
 
mask
 = -1;

121 
wide_uöt_bôs
 = 0; 
mask
; wide_uint_bits++)

122 
mask
 >>= 1;

124 
	`puts
 ("/* Generated file -- DO NOT EDIT */\n");

125 
	`¥ötf
 ("#deföêWIDE_UINT_BITS %u\n", 
wide_uöt_bôs
);

127 
i
 = 0, 
p
 = 2; i < 
≈rimes
; i++)

129 
d8
 = 
i
 + 8 < 
≈rimes
 ? 
¥imes
[ò+ 8].
p
 -Örimes[i].p : 0xff;

130 i‡(255 < 
d8
)

131 
	`ab‹t
 ();

132 
	`¥ötf
 ("P (%u, %u,\¿ (", 
¥imes
[
i
].
p
 -Ö, 
d8
);

133 
	`¥öt_wide_uöt
 (
¥imes
[
i
].
pöv
, 0, 
wide_uöt_bôs
);

134 
	`¥ötf
 ("),\¿ UINTMAX_MAX / %d)\n", 
¥imes
[
i
].
p
);

135 
p
 = 
¥imes
[
i
].p;

138 
	`¥ötf
 ("\n#undef FIRST_OMITTED_PRIME\n");

143 
p
 += 2;

144 
i
 = 0, 
is_¥ime
 = 1; is_prime; i++)

146 i‡(
¥imes
[
i
].
p
 *Örimes[i].p >Ö)

148 i‡(
p
 * 
¥imes
[
i
].
pöv
 <¥imes[i].
lim
)

150 
is_¥ime
 = 0;

155 !
is_¥ime
);

157 
	`¥ötf
 ("#deföêFIRST_OMITTED_PRIME %u\n", 
p
);

158 
	}
}

161 
	$xÆloc
 (
size_t
 
s
)

163 *
p
 = 
	`mÆloc
 (
s
);

164 i‡(
p
)

165  
p
;

167 
	`Ârötf
 (
°dîr
, "Virtual memoryÉxhausted.\n");

168 
	`exô
 (
EXIT_FAILURE
);

169 
	}
}

172 
	$maö
 (
¨gc
, **
¨gv
)

174 
limô
;

176 *
sõve
;

177 
size_t
 
size
, 
i
;

179 
¥ime
 *
¥ime_li°
;

180 
≈rimes
;

182 i‡(
¨gc
 != 2)

184 
	`Ârötf
 (
°dîr
, "Usage: %s LIMIT\n"

185 "Produ˚†®li° o‡oddÖrime†<LIMIT\n", 
¨gv
[0]);

186  
EXIT_FAILURE
;

188 
limô
 = 
	`©oi
 (
¨gv
[1]);

189 i‡(
limô
 < 3)

190 
	`exô
 (
EXIT_SUCCESS
);

193 i‡–!(
limô
 & 1))

194 
limô
--;

196 
size
 = (
limô
-1)/2;

198 
sõve
 = 
	`xÆloc
 (
size
);

199 
	`mem£t
 (
sõve
, 1, 
size
);

201 
¥ime_li°
 = 
	`xÆloc
 (
size
 *  (*prime_list));

202 
≈rimes
 = 0;

204 
i
 = 0; i < 
size
;)

206 
p
 = 3+2*
i
;

207 
j
;

209 
	`¥o˚ss_¥ime
 (&
¥ime_li°
[
≈rimes
++], 
p
);

211 
j
 = (
p
*∞- 3)/2; j < 
size
; j+=Ö)

212 
sõve
[
j
] = 0;

214 
i
 < 
size
 && 
sõve
[++i] == 0)

218 
	`ouçut_¥imes
 (
¥ime_li°
, 
≈rimes
);

220 i‡(
	`„º‹
 (
°dout
Ë+ 
	`f˛o£
 (stdout))

222 
	`Ârötf
 (
°dîr
, "wrôêîr‹: %s\n", 
	`°ªº‹
 (
î∫o
));

223  
EXIT_FAILURE
;

226  
EXIT_SUCCESS
;

227 
	}
}

	@md5sum.c

19 
	~<c⁄fig.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

26 #i‡
HASH_ALGO_MD5


27 
	~"md5.h
"

29 #i‡
HASH_ALGO_SHA1


30 
	~"sha1.h
"

32 #i‡
HASH_ALGO_SHA256
 || 
HASH_ALGO_SHA224


33 
	~"sha256.h
"

35 #i‡
HASH_ALGO_SHA512
 || 
HASH_ALGO_SHA384


36 
	~"sha512.h
"

38 
	~"îr‹.h
"

39 
	~"Ádvi£.h
"

40 
	~"°dio--.h
"

41 
	~"x‰e›í.h
"

44 #i‡
HASH_ALGO_MD5


45 
	#PROGRAM_NAME
 "md5sum"

	)

46 
	#DIGEST_TYPE_STRING
 "MD5"

	)

47 
	#DIGEST_STREAM
 
md5_°ªam


	)

48 
	#DIGEST_BITS
 128

	)

49 
	#DIGEST_REFERENCE
 "RFC 1321"

	)

50 
	#DIGEST_ALIGN
 4

	)

51 #ñi‡
HASH_ALGO_SHA1


52 
	#PROGRAM_NAME
 "sha1sum"

	)

53 
	#DIGEST_TYPE_STRING
 "SHA1"

	)

54 
	#DIGEST_STREAM
 
sha1_°ªam


	)

55 
	#DIGEST_BITS
 160

	)

56 
	#DIGEST_REFERENCE
 "FIPS-180-1"

	)

57 
	#DIGEST_ALIGN
 4

	)

58 #ñi‡
HASH_ALGO_SHA256


59 
	#PROGRAM_NAME
 "sha256sum"

	)

60 
	#DIGEST_TYPE_STRING
 "SHA256"

	)

61 
	#DIGEST_STREAM
 
sha256_°ªam


	)

62 
	#DIGEST_BITS
 256

	)

63 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

64 
	#DIGEST_ALIGN
 4

	)

65 #ñi‡
HASH_ALGO_SHA224


66 
	#PROGRAM_NAME
 "sha224sum"

	)

67 
	#DIGEST_TYPE_STRING
 "SHA224"

	)

68 
	#DIGEST_STREAM
 
sha224_°ªam


	)

69 
	#DIGEST_BITS
 224

	)

70 
	#DIGEST_REFERENCE
 "RFC 3874"

	)

71 
	#DIGEST_ALIGN
 4

	)

72 #ñi‡
HASH_ALGO_SHA512


73 
	#PROGRAM_NAME
 "sha512sum"

	)

74 
	#DIGEST_TYPE_STRING
 "SHA512"

	)

75 
	#DIGEST_STREAM
 
sha512_°ªam


	)

76 
	#DIGEST_BITS
 512

	)

77 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

78 
	#DIGEST_ALIGN
 8

	)

79 #ñi‡
HASH_ALGO_SHA384


80 
	#PROGRAM_NAME
 "sha384sum"

	)

81 
	#DIGEST_TYPE_STRING
 "SHA384"

	)

82 
	#DIGEST_STREAM
 
sha384_°ªam


	)

83 
	#DIGEST_BITS
 384

	)

84 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

85 
	#DIGEST_ALIGN
 8

	)

90 
	#DIGEST_HEX_BYTES
 (
DIGEST_BITS
 / 4)

	)

91 
	#DIGEST_BIN_BYTES
 (
DIGEST_BITS
 / 8)

	)

93 
	#AUTHORS
 \

94 
	`¥›î_«me
 ("Ulrich Drepper"), \

95 
	`¥›î_«me
 ("Scott Miller"), \

96 
	`¥›î_«me
 ("David Mad‹e")

	)

100 
	#MIN_DIGEST_LINE_LENGTH
 \

101 (
DIGEST_HEX_BYTES
 \

103 + 1 )

	)

106 
boﬁ
 
	ghave_ªad_°dö
;

109 
size_t
 
	gmö_dige°_löe_Àngth
;

112 
size_t
 
	gdige°_hex_byãs
;

116 
boﬁ
 
	g°©us_⁄ly
 = 
Ál£
;

120 
boﬁ
 
	gw¨n
 = 
Ál£
;

123 
boﬁ
 
	gquõt
 = 
Ál£
;

127 
boﬁ
 
	g°ri˘
 = 
Ál£
;

130 
	gbsd_ªvî£d
 = -1;

136 
	mSTATUS_OPTION
 = 
CHAR_MAX
 + 1,

137 
	mQUIET_OPTION
,

138 
	mSTRICT_OPTION
,

139 
	mTAG_OPTION


142 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

144 { "bö¨y", 
no_¨gumít
, 
NULL
, 'b' },

145 { "check", 
no_¨gumít
, 
NULL
, 'c' },

146 { "quõt", 
no_¨gumít
, 
NULL
, 
QUIET_OPTION
 },

147 { "°©us", 
no_¨gumít
, 
NULL
, 
STATUS_OPTION
 },

148 { "ãxt", 
no_¨gumít
, 
NULL
, 't' },

149 { "w¨n", 
no_¨gumít
, 
NULL
, 'w' },

150 { "°ri˘", 
no_¨gumít
, 
NULL
, 
STRICT_OPTION
 },

151 { "èg", 
no_¨gumít
, 
NULL
, 
TAG_OPTION
 },

152 { 
GETOPT_HELP_OPTION_DECL
 },

153 { 
GETOPT_VERSION_OPTION_DECL
 },

154 { 
NULL
, 0, NULL, 0 }

158 
	$ußge
 (
°©us
)

160 i‡(
°©us
 !
EXIT_SUCCESS
)

161 
	`emô_åy_hñp
 ();

164 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
 or check %s (%d-bit) checksums.\n\
Ço FILE, or when FILE is -,Ñead standard input.\n\
\n\
"),

170 
¥ogøm_«me
,

171 
DIGEST_TYPE_STRING
,

172 
DIGEST_BITS
);

173 i‡(
O_BINARY
)

174 
	`Âuts
 (
	`_
("\
-b, --bö¨yÑód i¿bö¨y modê(deÁu… u∆es†ªadögÅty stdö)\n\
"), 
°dout
);

178 
	`Âuts
 (
	`_
("\
-b, --bö¨yÑód i¿bö¨y mode\n\
"), 
°dout
);

181 
	`¥ötf
 (
	`_
("\
-c, --checkÑead %s sums fromÅhe FILEsánd checkÅhem\n"),

183 
DIGEST_TYPE_STRING
);

184 
	`Âuts
 (
	`_
("\
--èg cª©ê®BSD-°yÀ checksum\n\
"), 
°dout
);

187 i‡(
O_BINARY
)

188 
	`Âuts
 (
	`_
("\
-t, --ãxàÑód i¿ãxàmodê(deÁu… i‡ªadögÅty stdö)\n\
"), 
°dout
);

192 
	`Âuts
 (
	`_
("\
-t, --ãxàÑód i¿ãxàmodê(deÁu…)\n\
"), 
°dout
);

195 
	`Âuts
 (
	`_
("\
\n\
 fﬁlowögÅhªê›ti⁄†¨êu£fu»⁄ly whí vîifyög checksums:\n\
--quõà d⁄'à¥öàOK f‹Éach suc˚ssfuŒy vîifõd fûe\n\
--°©u† d⁄'àouçuà™ythög, sètu†codêshow†suc˚ss\n\
-w, --w¨¿ w¨¿abouàim¥›îly f‹m©ãd checksumÜöes\n\
\n\
"), 
°dout
);

203 
	`Âuts
 (
	`_
("\
--°ri˘ wôh --check,ÉxôÇ⁄-zîÿf‹ány invÆid i≈ut\n\
"), 
°dout
);

206 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

207 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

208 
	`¥ötf
 (
	`_
("\
\n\
 sumsáre computedás described in %s. When checking,Åhe input\n\
 beá former output ofÅhisÖrogram. The default mode isÅoÖrint\n\
Üine with checksum,á character indicating input mode ('*' for binary,\n\
 forÅext),ándÇame forÉach FILE.\n"),

214 
DIGEST_REFERENCE
);

215 
	`emô_™cûœry_öfo
 ();

218 
	`exô
 (
°©us
);

219 
	}
}

221 
	#ISWHITE
(
c
Ë((cË=' ' || (cË='\t')

	)

232 
	$fûíame_u√sˇ≥
 (*
s
, 
size_t
 
s_Àn
)

234 *
d°
 = 
s
;

236 
size_t
 
i
 = 0; i < 
s_Àn
; i++)

238 
s
[
i
])

241 i‡(
i
 =
s_Àn
 - 1)

244  
NULL
;

246 ++
i
;

247 
s
[
i
])

250 *
d°
++ = '\n';

253 *
d°
++ = '\\';

257  
NULL
;

263  
NULL
;

266 *
d°
++ = 
s
[
i
];

270 i‡(
d°
 < 
s
 + 
s_Àn
)

271 *
d°
 = '\0';

273  
s
;

274 
	}
}

280 
boﬁ


281 
	$bsd_•lô_3
 (*
s
, 
size_t
 
s_Àn
, **
hex_dige°
,

282 **
fûe_«me
, 
boﬁ
 
esˇ≥d_fûíame
)

284 
size_t
 
i
;

286 i‡(
s_Àn
 == 0)

287  
Ál£
;

290 
i
 = 
s_Àn
 - 1;

291 
i
 && 
s
[i] != ')')

292 
i
--;

294 i‡(
s
[
i
] != ')')

295  
Ál£
;

297 *
fûe_«me
 = 
s
;

299 i‡(
esˇ≥d_fûíame
 && 
	`fûíame_u√sˇ≥
 (
s
, 
i
Ë=
NULL
)

300  
Ál£
;

302 
s
[
i
++] = '\0';

304 
	`ISWHITE
 (
s
[
i
]))

305 
i
++;

307 i‡(
s
[
i
] != '=')

308  
Ál£
;

310 
i
++;

312 
	`ISWHITE
 (
s
[
i
]))

313 
i
++;

315 *
hex_dige°
 = (*Ë&
s
[
i
];

316  
åue
;

317 
	}
}

323 
boﬁ


324 
	$•lô_3
 (*
s
, 
size_t
 
s_Àn
,

325 **
hex_dige°
, *
bö¨y
, **
fûe_«me
)

327 
boﬁ
 
esˇ≥d_fûíame
 = 
Ál£
;

328 
size_t
 
Ægo_«me_Àn
;

330 
size_t
 
i
 = 0;

331 
	`ISWHITE
 (
s
[
i
]))

332 ++
i
;

334 i‡(
s
[
i
] == '\\')

336 ++
i
;

337 
esˇ≥d_fûíame
 = 
åue
;

342 
Ægo_«me_Àn
 = 
	`°æí
 (
DIGEST_TYPE_STRING
);

343 i‡(
	`STREQ_LEN
 (
s
 + 
i
, 
DIGEST_TYPE_STRING
, 
Ægo_«me_Àn
))

345 i‡(
s
[
i
 + 
Ægo_«me_Àn
] == ' ')

346 ++
i
;

347 i‡(
s
[
i
 + 
Ægo_«me_Àn
] == '(')

349 *
bö¨y
 = 0;

350  
	`bsd_•lô_3
 (
s
 + 
i
 + 
Ægo_«me_Àn
 + 1,

351 
s_Àn
 - (
i
 + 
Ægo_«me_Àn
 + 1),

352 
hex_dige°
, 
fûe_«me
, 
esˇ≥d_fûíame
);

360 i‡(
s_Àn
 - 
i
 < 
mö_dige°_löe_Àngth
 + (
s
[i] == '\\'))

361  
Ál£
;

363 *
hex_dige°
 = (*Ë&
s
[
i
];

368 
i
 +
dige°_hex_byãs
;

369 i‡(!
	`ISWHITE
 (
s
[
i
]))

370  
Ál£
;

372 
s
[
i
++] = '\0';

375 i‡((
s_Àn
 - 
i
 =1Ë|| (
s
[i] != ' ' && s[i] != '*'))

383 i‡(
bsd_ªvî£d
 == 0)

384  
Ál£
;

385 
bsd_ªvî£d
 = 1;

387 i‡(
bsd_ªvî£d
 != 1)

389 
bsd_ªvî£d
 = 0;

390 *
bö¨y
 = (
s
[
i
++] == '*');

395 *
fûe_«me
 = &
s
[
i
];

397 i‡(
esˇ≥d_fûíame
)

398  
	`fûíame_u√sˇ≥
 (&
s
[
i
], 
s_Àn
 - iË!
NULL
;

400  
åue
;

401 
	}
}

405 
boﬁ
 
_GL_ATTRIBUTE_PURE


406 
	$hex_digôs
 (c⁄° *
s
)

408 
i
;

409 
i
 = 0; i < 
dige°_hex_byãs
; i++)

411 i‡(!
	`isxdigô
 (*
s
))

412  
Ál£
;

413 ++
s
;

415  *
s
 == '\0';

416 
	}
}

429 
boﬁ


430 
	$dige°_fûe
 (c⁄° *
fûíame
, *
bö¨y
, *
bö_ªsu…
)

432 
FILE
 *
Â
;

433 
îr
;

434 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûíame
, "-");

436 i‡(
is_°dö
)

438 
have_ªad_°dö
 = 
åue
;

439 
Â
 = 
°dö
;

440 i‡(
O_BINARY
 && *
bö¨y
)

442 i‡(*
bö¨y
 < 0)

443 *
bö¨y
 = ! 
	`ißây
 (
STDIN_FILENO
);

444 i‡(*
bö¨y
)

445 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

450 
Â
 = 
	`f›í
 (
fûíame
, (
O_BINARY
 && *
bö¨y
 ? "rb" : "r"));

451 i‡(
Â
 =
NULL
)

453 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

454  
Ál£
;

458 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

460 
îr
 = 
	`DIGEST_STREAM
 (
Â
, 
bö_ªsu…
);

461 i‡(
îr
)

463 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

464 i‡(
Â
 !
°dö
)

465 
	`f˛o£
 (
Â
);

466  
Ál£
;

469 i‡(!
is_°dö
 && 
	`f˛o£
 (
Â
) != 0)

471 
	`îr‹
 (0, 
î∫o
, "%s", 
fûíame
);

472  
Ál£
;

475  
åue
;

476 
	}
}

478 
boﬁ


479 
	$dige°_check
 (c⁄° *
checkfûe_«me
)

481 
FILE
 *
checkfûe_°ªam
;

482 
uötmax_t
 
n_misf‹m©ãd_löes
 = 0;

483 
uötmax_t
 
n_¥›îly_f‹m©ãd_löes
 = 0;

484 
uötmax_t
 
n_im¥›îly_f‹m©ãd_löes
 = 0;

485 
uötmax_t
 
n_mism©ched_checksums
 = 0;

486 
uötmax_t
 
n_›í_‹_ªad_Áûuªs
 = 0;

487 
bö_buf„r_u«lig√d
[
DIGEST_BIN_BYTES
 + 
DIGEST_ALIGN
];

489 *
bö_buf„r
 = 
	`±r_Æign
 (
bö_buf„r_u«lig√d
, 
DIGEST_ALIGN
);

490 
uötmax_t
 
löe_numbî
;

491 *
löe
;

492 
size_t
 
löe_ch¨s_Æloˇãd
;

493 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
checkfûe_«me
, "-");

495 i‡(
is_°dö
)

497 
have_ªad_°dö
 = 
åue
;

498 
checkfûe_«me
 = 
	`_
("standard input");

499 
checkfûe_°ªam
 = 
°dö
;

503 
checkfûe_°ªam
 = 
	`f›í
 (
checkfûe_«me
, "r");

504 i‡(
checkfûe_°ªam
 =
NULL
)

506 
	`îr‹
 (0, 
î∫o
, "%s", 
checkfûe_«me
);

507  
Ál£
;

511 
löe_numbî
 = 0;

512 
löe
 = 
NULL
;

513 
löe_ch¨s_Æloˇãd
 = 0;

516 *
fûíame
 
	`IF_LINT
 ( = 
NULL
);

517 
bö¨y
;

518 *
hex_dige°
 
	`IF_LINT
 ( = 
NULL
);

519 
ssize_t
 
löe_Àngth
;

521 ++
löe_numbî
;

522 i‡(
löe_numbî
 == 0)

523 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s:Åoo many checksumÜines"),

524 
checkfûe_«me
);

526 
löe_Àngth
 = 
	`gëlöe
 (&
löe
, &
löe_ch¨s_Æloˇãd
, 
checkfûe_°ªam
);

527 i‡(
löe_Àngth
 <= 0)

531 i‡(
löe
[0] == '#')

535 i‡(
löe
[
löe_Àngth
 - 1] == '\n')

536 
löe
[--
löe_Àngth
] = '\0';

538 i‡(! (
	`•lô_3
 (
löe
, 
löe_Àngth
, &
hex_dige°
, &
bö¨y
, &
fûíame
)

539 && ! (
is_°dö
 && 
	`STREQ
 (
fûíame
, "-"))

540 && 
	`hex_digôs
 (
hex_dige°
)))

542 ++
n_misf‹m©ãd_löes
;

544 i‡(
w¨n
)

546 
	`îr‹
 (0, 0,

547 
	`_
("%s: %" 
PRIuMAX


549 
checkfûe_«me
, 
löe_numbî
,

550 
DIGEST_TYPE_STRING
);

553 ++
n_im¥›îly_f‹m©ãd_löes
;

557 c⁄° 
bö2hex
[] = { '0', '1', '2', '3',

561 
boﬁ
 
ok
;

563 ++
n_¥›îly_f‹m©ãd_löes
;

565 
ok
 = 
	`dige°_fûe
 (
fûíame
, &
bö¨y
, 
bö_buf„r
);

567 i‡(!
ok
)

569 ++
n_›í_‹_ªad_Áûuªs
;

570 i‡(!
°©us_⁄ly
)

572 
	`¥ötf
 (
	`_
("%s: FAILED o≥¿‹Ñód\n"), 
fûíame
);

577 
size_t
 
dige°_bö_byãs
 = 
dige°_hex_byãs
 / 2;

578 
size_t
 
˙t
;

581 
˙t
 = 0; c¡ < 
dige°_bö_byãs
; ++cnt)

583 i‡(
	`tﬁowî
 (
hex_dige°
[2 * 
˙t
])

584 !
bö2hex
[
bö_buf„r
[
˙t
] >> 4]

585 || (
	`tﬁowî
 (
hex_dige°
[2 * 
˙t
 + 1])

586 !(
bö2hex
[
bö_buf„r
[
˙t
] & 0xf])))

589 i‡(
˙t
 !
dige°_bö_byãs
)

590 ++
n_mism©ched_checksums
;

592 i‡(!
°©us_⁄ly
)

594 i‡(
˙t
 !
dige°_bö_byãs
)

595 
	`¥ötf
 ("%s: %s\n", 
fûíame
, 
	`_
("FAILED"));

596 i‡(!
quõt
)

597 
	`¥ötf
 ("%s: %s\n", 
fûíame
, 
	`_
("OK"));

602 !
	`„of
 (
checkfûe_°ªam
Ë&& !
	`„º‹
 (checkfile_stream));

604 
	`‰ì
 (
löe
);

606 i‡(
	`„º‹
 (
checkfûe_°ªam
))

608 
	`îr‹
 (0, 0, 
	`_
("%s:ÑódÉº‹"), 
checkfûe_«me
);

609  
Ál£
;

612 i‡(!
is_°dö
 && 
	`f˛o£
 (
checkfûe_°ªam
) != 0)

614 
	`îr‹
 (0, 
î∫o
, "%s", 
checkfûe_«me
);

615  
Ál£
;

618 i‡(
n_¥›îly_f‹m©ãd_löes
 == 0)

621 
	`îr‹
 (0, 0, 
	`_
("%s:ÇoÖroperly formatted %s checksumÜines found"),

622 
checkfûe_«me
, 
DIGEST_TYPE_STRING
);

626 i‡(!
°©us_⁄ly
)

628 i‡(
n_misf‹m©ãd_löes
 != 0)

629 
	`îr‹
 (0, 0,

630 (
ngëãxt


631 ("WARNING: %" 
PRIuMAX
 "Üine is improperly formatted",

632 "WARNING: %" 
PRIuMAX
 "Üinesáre improperly formatted",

633 
	`£À˘_∂uøl
 (
n_misf‹m©ãd_löes
))),

634 
n_misf‹m©ãd_löes
);

636 i‡(
n_›í_‹_ªad_Áûuªs
 != 0)

637 
	`îr‹
 (0, 0,

638 (
ngëãxt


639 ("WARNING: %" 
PRIuMAX
 "Üisted file couldÇot beÑead",

640 "WARNING: %" 
PRIuMAX
 "Üisted files couldÇot beÑead",

641 
	`£À˘_∂uøl
 (
n_›í_‹_ªad_Áûuªs
))),

642 
n_›í_‹_ªad_Áûuªs
);

644 i‡(
n_mism©ched_checksums
 != 0)

645 
	`îr‹
 (0, 0,

646 (
ngëãxt


647 ("WARNING: %" 
PRIuMAX
 " computed checksum did NOT match",

648 "WARNING: %" 
PRIuMAX
 " computed checksums did NOT match",

649 
	`£À˘_∂uøl
 (
n_mism©ched_checksums
))),

650 
n_mism©ched_checksums
);

654  (
n_¥›îly_f‹m©ãd_löes
 != 0

655 && 
n_mism©ched_checksums
 == 0

656 && 
n_›í_‹_ªad_Áûuªs
 == 0

657 && (!
°ri˘
 || 
n_im¥›îly_f‹m©ãd_löes
 == 0));

658 
	}
}

661 
	$¥öt_fûíame
 (c⁄° *
fûe
)

665 *
fûe
)

667 *
fûe
)

670 
	`Âuts
 ("\\n", 
°dout
);

674 
	`Âuts
 ("\\\\", 
°dout
);

678 
	`putch¨
 (*
fûe
);

681 
fûe
++;

683 
	}
}

686 
	$maö
 (
¨gc
, **
¨gv
)

688 
bö_buf„r_u«lig√d
[
DIGEST_BIN_BYTES
 + 
DIGEST_ALIGN
];

690 *
bö_buf„r
 = 
	`±r_Æign
 (
bö_buf„r_u«lig√d
, 
DIGEST_ALIGN
);

691 
boﬁ
 
do_check
 = 
Ál£
;

692 
›t
;

693 
boﬁ
 
ok
 = 
åue
;

694 
bö¨y
 = -1;

695 
boﬁ
 
¥efix_èg
 = 
Ál£
;

698 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

699 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

700 
	`£éoˇÀ
 (
LC_ALL
, "");

701 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

702 
	`ãxtdomaö
 (
PACKAGE
);

704 
	`©exô
 (
˛o£_°dout
);

708 
	`£tvbuf
 (
°dout
, 
NULL
, 
_IOLBF
, 0);

710 (
›t
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "b˘w", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

711 
›t
)

714 
bö¨y
 = 1;

717 
do_check
 = 
åue
;

719 
STATUS_OPTION
:

720 
°©us_⁄ly
 = 
åue
;

721 
w¨n
 = 
Ál£
;

722 
quõt
 = 
Ál£
;

725 
bö¨y
 = 0;

728 
°©us_⁄ly
 = 
Ál£
;

729 
w¨n
 = 
åue
;

730 
quõt
 = 
Ál£
;

732 
QUIET_OPTION
:

733 
°©us_⁄ly
 = 
Ál£
;

734 
w¨n
 = 
Ál£
;

735 
quõt
 = 
åue
;

737 
STRICT_OPTION
:

738 
°ri˘
 = 
åue
;

740 
TAG_OPTION
:

741 
¥efix_èg
 = 
åue
;

742 
bö¨y
 = 1;

744 
ˇ£_GETOPT_HELP_CHAR
;

745 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

747 
	`ußge
 (
EXIT_FAILURE
);

750 
mö_dige°_löe_Àngth
 = 
MIN_DIGEST_LINE_LENGTH
;

751 
dige°_hex_byãs
 = 
DIGEST_HEX_BYTES
;

753 i‡(
¥efix_èg
 && !
bö¨y
)

760 
	`îr‹
 (0, 0, 
	`_
("--tag doesÇot support --text mode"));

761 
	`ußge
 (
EXIT_FAILURE
);

764 i‡(
¥efix_èg
 && 
do_check
)

766 
	`îr‹
 (0, 0, 
	`_
("the --tag option is meaningless when "

768 
	`ußge
 (
EXIT_FAILURE
);

771 i‡(0 <
bö¨y
 && 
do_check
)

773 
	`îr‹
 (0, 0, 
	`_
("the --binaryánd --text optionsáre meaningless when "

775 
	`ußge
 (
EXIT_FAILURE
);

778 i‡(
°©us_⁄ly
 && !
do_check
)

780 
	`îr‹
 (0, 0,

781 
	`_
("the --status option is meaningful only when verifying checksums"));

782 
	`ußge
 (
EXIT_FAILURE
);

785 i‡(
w¨n
 && !
do_check
)

787 
	`îr‹
 (0, 0,

788 
	`_
("the --warn option is meaningful only when verifying checksums"));

789 
	`ußge
 (
EXIT_FAILURE
);

792 i‡(
quõt
 && !
do_check
)

794 
	`îr‹
 (0, 0,

795 
	`_
("the --quiet option is meaningful only when verifying checksums"));

796 
	`ußge
 (
EXIT_FAILURE
);

799 i‡(
°ri˘
 & !
do_check
)

801 
	`îr‹
 (0, 0,

802 
	`_
("the --strict option is meaningful only when verifying checksums"));

803 
	`ußge
 (
EXIT_FAILURE
);

806 i‡(!
O_BINARY
 && 
bö¨y
 < 0)

807 
bö¨y
 = 0;

809 i‡(
›töd
 =
¨gc
)

810 
¨gv
[
¨gc
++] = 
	`bad_ˇ°
 ("-");

812 ; 
›töd
 < 
¨gc
; ++optind)

814 *
fûe
 = 
¨gv
[
›töd
];

816 i‡(
do_check
)

817 
ok
 &
	`dige°_check
 (
fûe
);

820 
fûe_is_bö¨y
 = 
bö¨y
;

822 i‡(! 
	`dige°_fûe
 (
fûe
, &
fûe_is_bö¨y
, 
bö_buf„r
))

823 
ok
 = 
Ál£
;

826 i‡(
¥efix_èg
)

828 i‡(
	`°rchr
 (
fûe
, '\n') || strchr (file, '\\'))

829 
	`putch¨
 ('\\');

831 
	`Âuts
 (
DIGEST_TYPE_STRING
, 
°dout
);

832 
	`Âuts
 (" (", 
°dout
);

833 
	`¥öt_fûíame
 (
fûe
);

834 
	`Âuts
 ("Ë", 
°dout
);

837 
size_t
 
i
;

841 i‡(!
¥efix_èg
 && (
	`°rchr
 (
fûe
, '\n') || strchr (file, '\\')))

842 
	`putch¨
 ('\\');

844 
i
 = 0; i < (
dige°_hex_byãs
 / 2); ++i)

845 
	`¥ötf
 ("%02x", 
bö_buf„r
[
i
]);

847 i‡(!
¥efix_èg
)

849 
	`putch¨
 (' ');

851 
	`putch¨
 (
fûe_is_bö¨y
 ? '*' : ' ');

853 
	`¥öt_fûíame
 (
fûe
);

856 
	`putch¨
 ('\n');

861 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

862 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard input"));

864 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

865 
	}
}

	@mkdir.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<£löux/£löux.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"mkdú-p.h
"

28 
	~"modech™ge.h
"

29 
	~"¥og-Ârötf.h
"

30 
	~"quŸe.h
"

31 
	~"ßvewd.h
"

34 
	#PROGRAM_NAME
 "mkdú"

	)

36 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

38 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

40 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

41 {"mode", 
ªquúed_¨gumít
, 
NULL
, 'm'},

42 {"∑ª¡s", 
no_¨gumít
, 
NULL
, 'p'},

43 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

44 {
GETOPT_HELP_OPTION_DECL
},

45 {
GETOPT_VERSION_OPTION_DECL
},

46 {
NULL
, 0, NULL, 0}

50 
	$ußge
 (
°©us
)

52 i‡(
°©us
 !
EXIT_SUCCESS
)

53 
	`emô_åy_hñp
 ();

56 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... DIRECTORY...\n"), 
¥ogøm_«me
);

57 
	`Âuts
 (
	`_
("\
ÅhêDIRECTORY(õs), i‡they dÿnŸáÃódyÉxi°.\n\
"), 
°dout
);

61 
	`emô_m™d©‹y_¨g_nŸe
 ();

63 
	`Âuts
 (
	`_
("\
-m, --mode=MODE së fûêmodê◊†ö chmod),ÇŸáÙwx - umask\n\
-p, --∑ª¡†Çÿîr‹ i‡exi°ög, makê∑ª¡ dúe˘‹õ†a†√eded\n\
-v, --vîbo£Öröà®mesßgêf‹Éach cª©ed dúe˘‹y\n\
-Z, --c⁄ãxt=CTX sëÅhêSELöux securôy c⁄ãxào‡óch cª©ed\n\
ÅÿCTX\n\
"), 
°dout
);

70 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

71 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

72 
	`emô_™cûœry_öfo
 ();

74 
	`exô
 (
°©us
);

75 
	}
}

78 
	smkdú_›ti⁄s


82 (*
	mmake_™˚°‹_fun˘i⁄
) (const *, const *, *);

85 
mode_t
 
	m™˚°‹_mode
;

88 
mode_t
 
	mmode
;

91 
mode_t
 
	mmode_bôs
;

94 c⁄° *
	m¸óãd_dúe˘‹y_f‹m©
;

99 
	$™noun˚_mkdú
 (c⁄° *
dú
, *
›ti⁄s
)

101 
mkdú_›ti⁄s
 c⁄° *
o
 = 
›ti⁄s
;

102 i‡(
o
->
¸óãd_dúe˘‹y_f‹m©
)

103 
	`¥og_Ârötf
 (
°dout
, 
o
->
¸óãd_dúe˘‹y_f‹m©
, 
	`quŸe
 (
dú
));

104 
	}
}

112 
	$make_™˚°‹
 (c⁄° *
dú
, c⁄° *
comp⁄ít
, *
›ti⁄s
)

114 
mkdú_›ti⁄s
 c⁄° *
o
 = 
›ti⁄s
;

115 
r
 = 
	`mkdú
 (
comp⁄ít
, 
o
->
™˚°‹_mode
);

116 i‡(
r
 == 0)

118 
r
 = ! (
o
->
™˚°‹_mode
 & 
S_IRUSR
);

119 
	`™noun˚_mkdú
 (
dú
, 
›ti⁄s
);

121  
r
;

122 
	}
}

126 
	$¥o˚ss_dú
 (*
dú
, 
ßvewd
 *
wd
, *
›ti⁄s
)

128 
mkdú_›ti⁄s
 c⁄° *
o
 = 
›ti⁄s
;

129  (
	`make_dú_∑ª¡s
 (
dú
, 
wd
, 
o
->
make_™˚°‹_fun˘i⁄
, 
›ti⁄s
,

130 
o
->
mode
, 
™noun˚_mkdú
,

131 
o
->
mode_bôs
, (
uid_t
Ë-1, (
gid_t
Ë-1, 
åue
)

132 ? 
EXIT_SUCCESS


133 : 
EXIT_FAILURE
);

134 
	}
}

137 
	$maö
 (
¨gc
, **
¨gv
)

139 c⁄° *
•ecifõd_mode
 = 
NULL
;

140 
›tc
;

141 
£curôy_c⁄ãxt_t
 
sc⁄ãxt
 = 
NULL
;

142 
mkdú_›ti⁄s
 
›ti⁄s
;

144 
›ti⁄s
.
make_™˚°‹_fun˘i⁄
 = 
NULL
;

145 
›ti⁄s
.
mode
 = 
S_IRWXUGO
;

146 
›ti⁄s
.
mode_bôs
 = 0;

147 
›ti⁄s
.
¸óãd_dúe˘‹y_f‹m©
 = 
NULL
;

149 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

150 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

151 
	`£éoˇÀ
 (
LC_ALL
, "");

152 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

153 
	`ãxtdomaö
 (
PACKAGE
);

155 
	`©exô
 (
˛o£_°dout
);

157 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "pm:vZ:", 
l⁄g›ts
, 
NULL
)) != -1)

159 
›tc
)

162 
›ti⁄s
.
make_™˚°‹_fun˘i⁄
 = 
make_™˚°‹
;

165 
•ecifõd_mode
 = 
›èrg
;

168 
›ti⁄s
.
¸óãd_dúe˘‹y_f‹m©
 = 
	`_
("created directory %s");

171 
sc⁄ãxt
 = 
›èrg
;

173 
ˇ£_GETOPT_HELP_CHAR
;

174 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

176 
	`ußge
 (
EXIT_FAILURE
);

180 i‡(
›töd
 =
¨gc
)

182 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

183 
	`ußge
 (
EXIT_FAILURE
);

186 i‡(
sc⁄ãxt
 && 
	`£tfs¸óãc⁄
 (scontext) < 0)

187 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

188 
	`_
("failedÅo set default file creation contextÅo %s"),

189 
	`quŸe
 (
sc⁄ãxt
));

191 i‡(
›ti⁄s
.
make_™˚°‹_fun˘i⁄
 || 
•ecifõd_mode
)

193 
mode_t
 
umask_vÆue
 = 
	`umask
 (0);

195 
›ti⁄s
.
™˚°‹_mode
 = (
S_IRWXUGO
 & ~
umask_vÆue
Ë| (
S_IWUSR
 | 
S_IXUSR
);

197 i‡(
•ecifõd_mode
)

199 
mode_ch™ge
 *
ch™ge
 = 
	`mode_compûe
 (
•ecifõd_mode
);

200 i‡(!
ch™ge
)

201 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode %s"),

202 
	`quŸe
 (
•ecifõd_mode
));

203 
›ti⁄s
.
mode
 = 
	`mode_adju°
 (
S_IRWXUGO
, 
åue
, 
umask_vÆue
, 
ch™ge
,

204 &
›ti⁄s
.
mode_bôs
);

205 
	`‰ì
 (
ch™ge
);

208 
›ti⁄s
.
mode
 = 
S_IRWXUGO
 & ~
umask_vÆue
;

211 
	`exô
 (
	`ßvewd_¥o˚ss_fûes
 (
¨gc
 - 
›töd
, 
¨gv
 + optind,

212 
¥o˚ss_dú
, &
›ti⁄s
));

213 
	}
}

	@mkfifo.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<£löux/£löux.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"modech™ge.h
"

28 
	~"quŸe.h
"

31 
	#PROGRAM_NAME
 "mkfifo"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

35 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

37 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

38 {"mode", 
ªquúed_¨gumít
, 
NULL
, 'm'},

39 {
GETOPT_HELP_OPTION_DECL
},

40 {
GETOPT_VERSION_OPTION_DECL
},

41 {
NULL
, 0, NULL, 0}

45 
	$ußge
 (
°©us
)

47 i‡(
°©us
 !
EXIT_SUCCESS
)

48 
	`emô_åy_hñp
 ();

51 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... NAME...\n"), 
¥ogøm_«me
);

52 
	`Âuts
 (
	`_
("\
ÇamedÖùe†(FIFOsËwôhÅhêgiví NAMEs.\n\
"), 
°dout
);

56 
	`emô_m™d©‹y_¨g_nŸe
 ();

58 
	`Âuts
 (
	`_
("\
-m, --mode=MODE së fûê≥rmissi⁄ bô†tÿMODE,ÇŸáÙw - umask\n\
"), 
°dout
);

61 
	`Âuts
 (
	`_
("\
-Z, --c⁄ãxt=CTX sëÅhêSELöux securôy c⁄ãxào‡óch NAMEÅÿCTX\n\
"), 
°dout
);

64 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

65 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

66 
	`emô_™cûœry_öfo
 ();

68 
	`exô
 (
°©us
);

69 
	}
}

72 
	$maö
 (
¨gc
, **
¨gv
)

74 
mode_t
 
√wmode
;

75 c⁄° *
•ecifõd_mode
 = 
NULL
;

76 
exô_°©us
 = 
EXIT_SUCCESS
;

77 
›tc
;

78 
£curôy_c⁄ãxt_t
 
sc⁄ãxt
 = 
NULL
;

80 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

81 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

82 
	`£éoˇÀ
 (
LC_ALL
, "");

83 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

84 
	`ãxtdomaö
 (
PACKAGE
);

86 
	`©exô
 (
˛o£_°dout
);

88 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "m:Z:", 
l⁄g›ts
, 
NULL
)) != -1)

90 
›tc
)

93 
•ecifõd_mode
 = 
›èrg
;

96 
sc⁄ãxt
 = 
›èrg
;

98 
ˇ£_GETOPT_HELP_CHAR
;

99 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

101 
	`ußge
 (
EXIT_FAILURE
);

105 i‡(
›töd
 =
¨gc
)

107 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

108 
	`ußge
 (
EXIT_FAILURE
);

111 i‡(
sc⁄ãxt
 && 
	`£tfs¸óãc⁄
 (scontext) < 0)

112 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

113 
	`_
("failedÅo set default file creation contextÅo %s"),

114 
	`quŸe
 (
sc⁄ãxt
));

116 
√wmode
 = 
MODE_RW_UGO
;

117 i‡(
•ecifõd_mode
)

119 
mode_ch™ge
 *
ch™ge
 = 
	`mode_compûe
 (
•ecifõd_mode
);

120 i‡(!
ch™ge
)

121 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode"));

122 
√wmode
 = 
	`mode_adju°
 (√wmode, 
Ál£
, 
	`umask
 (0), 
ch™ge
, 
NULL
);

123 
	`‰ì
 (
ch™ge
);

124 i‡(
√wmode
 & ~
S_IRWXUGO
)

125 
	`îr‹
 (
EXIT_FAILURE
, 0,

126 
	`_
("mode must specify only fileÖermission bits"));

129 ; 
›töd
 < 
¨gc
; ++optind)

130 i‡(
	`mkfifo
 (
¨gv
[
›töd
], 
√wmode
) != 0)

132 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ cª©êfifÿ%s"), 
	`quŸe
 (
¨gv
[
›töd
]));

133 
exô_°©us
 = 
EXIT_FAILURE
;

136 
	`exô
 (
exô_°©us
);

137 
	}
}

	@mknod.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<£löux/£löux.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"modech™ge.h
"

28 
	~"quŸe.h
"

29 
	~"x°πﬁ.h
"

32 
	#PROGRAM_NAME
 "mknod"

	)

34 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

36 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

38 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

39 {"mode", 
ªquúed_¨gumít
, 
NULL
, 'm'},

40 {
GETOPT_HELP_OPTION_DECL
},

41 {
GETOPT_VERSION_OPTION_DECL
},

42 {
NULL
, 0, NULL, 0}

46 
	$ußge
 (
°©us
)

48 i‡(
°©us
 !
EXIT_SUCCESS
)

49 
	`emô_åy_hñp
 ();

52 
	`¥ötf
 (
	`_
("Usage: %s [OPTION]... NAME TYPE [MAJOR MINOR]\n"),

53 
¥ogøm_«me
);

54 
	`Âuts
 (
	`_
("\
Åhê•ecü»fûêNAME o‡thêgiví TYPE.\n\
"), 
°dout
);

58 
	`emô_m™d©‹y_¨g_nŸe
 ();

60 
	`Âuts
 (
	`_
("\
-m, --mode=MODE së fûê≥rmissi⁄ bô†tÿMODE,ÇŸáÙw - umask\n\
"), 
°dout
);

63 
	`Âuts
 (
	`_
("\
-Z, --c⁄ãxt=CTX sëÅhêSELöux securôy c⁄ãxào‡NAMEÅÿCTX\n\
"), 
°dout
);

66 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

67 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

68 
	`Âuts
 (
	`_
("\
\n\
 MAJORánd MINOR mu° bê•ecifõd whí TYPE i†b, c, o∏u,ándÅhey\n\
 bêomôãd whí TYPE i†p. I‡MAJOR o∏MINOR begö†wôh 0x o∏0X,\n\
 i†öãΩªãdá†hexadecimÆ; othîwi£, i‡ô begö†wôh 0,á†o˘Æ;\n\
,á†decimÆ. TYPE may be:\n\
"), 
°dout
);

75 
	`Âuts
 (
	`_
("\
\n\
 cª©ê®block (buf„ªdË•ecü»fûe\n\
, u cª©ê®ch¨a˘î (unbuf„ªdË•ecü»fûe\n\
 cª©ê®FIFO\n\
"), 
°dout
);

81 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

82 
	`emô_™cûœry_öfo
 ();

84 
	`exô
 (
°©us
);

85 
	}
}

88 
	$maö
 (
¨gc
, **
¨gv
)

90 
mode_t
 
√wmode
;

91 c⁄° *
•ecifõd_mode
 = 
NULL
;

92 
›tc
;

93 
ex≥˘ed_›î™ds
;

94 
mode_t
 
node_ty≥
;

95 
£curôy_c⁄ãxt_t
 
sc⁄ãxt
 = 
NULL
;

97 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

98 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

99 
	`£éoˇÀ
 (
LC_ALL
, "");

100 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

101 
	`ãxtdomaö
 (
PACKAGE
);

103 
	`©exô
 (
˛o£_°dout
);

105 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "m:Z:", 
l⁄g›ts
, 
NULL
)) != -1)

107 
›tc
)

110 
•ecifõd_mode
 = 
›èrg
;

113 
sc⁄ãxt
 = 
›èrg
;

115 
ˇ£_GETOPT_HELP_CHAR
;

116 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

118 
	`ußge
 (
EXIT_FAILURE
);

122 
√wmode
 = 
MODE_RW_UGO
;

123 i‡(
•ecifõd_mode
)

125 
mode_ch™ge
 *
ch™ge
 = 
	`mode_compûe
 (
•ecifõd_mode
);

126 i‡(!
ch™ge
)

127 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode"));

128 
√wmode
 = 
	`mode_adju°
 (√wmode, 
Ál£
, 
	`umask
 (0), 
ch™ge
, 
NULL
);

129 
	`‰ì
 (
ch™ge
);

130 i‡(
√wmode
 & ~
S_IRWXUGO
)

131 
	`îr‹
 (
EXIT_FAILURE
, 0,

132 
	`_
("mode must specify only fileÖermission bits"));

138 
ex≥˘ed_›î™ds
 = (
¨gc
 <
›töd


139 || (
›töd
 + 1 < 
¨gc
 && 
¨gv
[optind + 1][0] == 'p')

142 i‡(
¨gc
 - 
›töd
 < 
ex≥˘ed_›î™ds
)

144 i‡(
¨gc
 <
›töd
)

145 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

147 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

148 i‡(
ex≥˘ed_›î™ds
 =4 && 
¨gc
 - 
›töd
 == 2)

149 
	`Ârötf
 (
°dîr
, "%s\n",

150 
	`_
("Special filesÑequire majoránd minor deviceÇumbers."));

151 
	`ußge
 (
EXIT_FAILURE
);

154 i‡(
ex≥˘ed_›î™ds
 < 
¨gc
 - 
›töd
)

156 
	`îr‹
 (0, 0, 
	`_
("extra operand %s"),

157 
	`quŸe
 (
¨gv
[
›töd
 + 
ex≥˘ed_›î™ds
]));

158 i‡(
ex≥˘ed_›î™ds
 =2 && 
¨gc
 - 
›töd
 == 4)

159 
	`Ârötf
 (
°dîr
, "%s\n",

160 
	`_
("Fifos doÇot have majoránd minor deviceÇumbers."));

161 
	`ußge
 (
EXIT_FAILURE
);

164 i‡(
sc⁄ãxt
 && 
	`£tfs¸óãc⁄
 (scontext) < 0)

165 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

166 
	`_
("failedÅo set default file creation contextÅo %s"),

167 
	`quŸe
 (
sc⁄ãxt
));

172 
¨gv
[
›töd
 + 1][0])

175 #i‚de‡
S_IFBLK


176 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("block special filesÇot supported"));

178 
node_ty≥
 = 
S_IFBLK
;

180 
block_‹_ch¨a˘î
;

184 #i‚de‡
S_IFCHR


185 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("character special filesÇot supported"));

187 
node_ty≥
 = 
S_IFCHR
;

189 
block_‹_ch¨a˘î
;

191 
block_‹_ch¨a˘î
:

193 c⁄° *
s_maj‹
 = 
¨gv
[
›töd
 + 2];

194 c⁄° *
s_mö‹
 = 
¨gv
[
›töd
 + 3];

195 
uötmax_t
 
i_maj‹
, 
i_mö‹
;

196 
dev_t
 
devi˚
;

198 i‡(
	`x°πoumax
 (
s_maj‹
, 
NULL
, 0, &
i_maj‹
, NULLË!
LONGINT_OK


199 || 
i_maj‹
 !(
maj‹_t
) i_major)

200 
	`îr‹
 (
EXIT_FAILURE
, 0,

201 
	`_
("övÆid maj‹ devi˚Çumbî %s"), 
	`quŸe
 (
s_maj‹
));

203 i‡(
	`x°πoumax
 (
s_mö‹
, 
NULL
, 0, &
i_mö‹
, NULLË!
LONGINT_OK


204 || 
i_mö‹
 !(
mö‹_t
) i_minor)

205 
	`îr‹
 (
EXIT_FAILURE
, 0,

206 
	`_
("övÆid mö‹ devi˚Çumbî %s"), 
	`quŸe
 (
s_mö‹
));

208 
devi˚
 = 
	`makedev
 (
i_maj‹
, 
i_mö‹
);

209 #ifde‡
NODEV


210 i‡(
devi˚
 =
NODEV
)

211 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid devi˚ %†%s"), 
s_maj‹
, 
s_mö‹
);

214 i‡(
	`mknod
 (
¨gv
[
›töd
], 
√wmode
 | 
node_ty≥
, 
devi˚
) != 0)

215 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
¨gv
[
›töd
]));

220 i‡(
	`mkfifo
 (
¨gv
[
›töd
], 
√wmode
) != 0)

221 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
¨gv
[
›töd
]));

225 
	`îr‹
 (0, 0, 
	`_
("övÆid devi˚Åy≥ %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

226 
	`ußge
 (
EXIT_FAILURE
);

229 
	`exô
 (
EXIT_SUCCESS
);

230 
	}
}

	@mktemp.c

19 
	~<c⁄fig.h
>

20 
	~<sys/ty≥s.h
>

21 
	~<gë›t.h
>

23 
	~"sy°em.h
"

25 
	~"˛o£-°ªam.h
"

26 
	~"îr‹.h
"

27 
	~"fûíameˇt.h
"

28 
	~"quŸe.h
"

29 
	~"°dio--.h
"

30 
	~"ãm≤ame.h
"

33 
	#PROGRAM_NAME
 "mkãmp"

	)

35 
	#AUTHORS
 \

36 
	`¥›î_«me
 ("Jim Meyering"), \

37 
	`¥›î_«me
 ("Eri¯Bœke")

	)

39 c⁄° *
	gdeÁu…_ãm∂©e
 = "tmp.XXXXXXXXXX";

45 
	mSUFFIX_OPTION
 = 
CHAR_MAX
 + 1,

46 
	mTMPDIR_OPTION


49 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

51 {"dúe˘‹y", 
no_¨gumít
, 
NULL
, 'd'},

52 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

53 {"dry-run", 
no_¨gumít
, 
NULL
, 'u'},

54 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 
SUFFIX_OPTION
},

55 {"tmpdú", 
›ti⁄Æ_¨gumít
, 
NULL
, 
TMPDIR_OPTION
},

56 {
GETOPT_HELP_OPTION_DECL
},

57 {
GETOPT_VERSION_OPTION_DECL
},

58 {
NULL
, 0, NULL, 0}

62 
	$ußge
 (
°©us
)

64 i‡(
°©us
 !
EXIT_SUCCESS
)

65 
	`emô_åy_hñp
 ();

68 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [TEMPLATE]\n"), 
¥ogøm_«me
);

69 
	`Âuts
 (
	`_
("\
áÅemp‹¨y fûê‹ dúe˘‹y, sa„ly,ándÖröàô†«me.\n\
 mu° c⁄èöáàÀa° 3 c⁄£cutivê'X'†öÜa° comp⁄ít.\n\
 TEMPLATE i†nŸ s≥cifõd, u£Åmp.XXXXXXXXXX,ánd --tmpdú i†im∂õd.\n\
"), 
°dout
);

74 
	`Âuts
 (
	`_
("\
áª cª©ed u+rw,ánd dúe˘‹õ†u+rwx, möu†umaskÑe°ri˘i⁄s.\n\
"), 
°dout
);

77 
	`Âuts
 ("\n", 
°dout
);

78 
	`Âuts
 (
	`_
("\
-d, --dúe˘‹y cª©ê®dúe˘‹y,ÇŸá fûe\n\
-u, --dry-ru¿ dÿnŸ cª©ê™ythög; mîñyÖröà®«mê(unß„)\n\
-q, --quõà suµªs†dügno°ic†abouàfûe/dú-¸óti⁄ faûuª\n\
"), 
°dout
);

83 
	`Âuts
 (
	`_
("\
--suffix=SUFFáµíd SUFFÅÿTEMPLATE. SUFF mu°ÇŸ c⁄èö sœsh.\n\
 o±i⁄ i†im∂õd i‡TEMPLATE d€†nŸÉnd i¿X.\n\
"), 
°dout
);

87 
	`Âuts
 (
	`_
("\
--tmpdú[=DIR] i¡î¥ë TEMPLATEÑñ©ivêtÿDIR. I‡DIR i†nŸ\n\
, u£ $TMPDIR i‡£t,Él£ /tmp. Wôh\n\
 o±i⁄, TEMPLATE mu°ÇŸ bê™ábsﬁuãÇame.\n\
 wôh -t, TEMPLATE may c⁄èö sœshes, but\n\
 cª©e†⁄lyÅhêföÆ comp⁄ít\n\
"), 
°dout
);

94 
	`Âuts
 ("\n", 
°dout
);

95 
	`Âuts
 (
	`_
("\
-∞DIR u£ DIRá†®¥efix; im∂õ†-à[dïªˇãd]\n\
-à i¡î¥ë TEMPLATEá†®sögÀ fûê«mêcomp⁄ít,\n\
Åÿ®dúe˘‹y: $TMPDIR, i‡£t;Él£Åhe\n\
 s≥cifõd vü -p;Él£ /tm∞[dïªˇãd]\n\
"), 
°dout
);

101 
	`Âuts
 ("\n", 
°dout
);

102 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

103 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

104 
	`emô_™cûœry_öfo
 ();

107 
	`exô
 (
°©us
);

108 
	}
}

110 
size_t


111 
	$cou¡_c⁄£cutive_X_s
 (c⁄° *
s
, 
size_t
 
Àn
)

113 
size_t
 
n
 = 0;

114  ; 
Àn
 && 
s
[len-1] == 'X';Üen--)

115 ++
n
;

116  
n
;

117 
	}
}

120 
	$mk°emp_Àn
 (*
tm∂
, 
size_t
 
suff_Àn
, size_à
x_Àn
, 
boﬁ
 
dry_run
)

122  
	`gí_ãm≤ame_Àn
 (
tm∂
, 
suff_Àn
, 0, 
dry_run
 ? 
GT_NOCREATE
 : 
GT_FILE
,

123 
x_Àn
);

124 
	}
}

127 
	$mkdãmp_Àn
 (*
tm∂
, 
size_t
 
suff_Àn
, size_à
x_Àn
, 
boﬁ
 
dry_run
)

129  
	`gí_ãm≤ame_Àn
 (
tm∂
, 
suff_Àn
, 0, 
dry_run
 ? 
GT_NOCREATE
 : 
GT_DIR
,

130 
x_Àn
);

131 
	}
}

134 
boﬁ
 
	g°dout_˛o£d
;

141 
	$maybe_˛o£_°dout
 ()

143 i‡(!
°dout_˛o£d
)

144 
	`˛o£_°dout
 ();

145 i‡(
	`˛o£_°ªam
 (
°dîr
) != 0)

146 
	`_exô
 (
EXIT_FAILURE
);

147 
	}
}

150 
	$maö
 (
¨gc
, **
¨gv
)

152 c⁄° *
de°_dú
;

153 c⁄° *
de°_dú_¨g
 = 
NULL
;

154 
boﬁ
 
suµªss_°dîr
 = 
Ál£
;

155 
c
;

156 
n_¨gs
;

157 *
ãm∂©e
;

158 *
suffix
 = 
NULL
;

159 
boﬁ
 
u£_de°_dú
 = 
Ál£
;

160 
boﬁ
 
dïªˇãd_t_›ti⁄
 = 
Ál£
;

161 
boﬁ
 
¸óã_dúe˘‹y
 = 
Ál£
;

162 
boﬁ
 
dry_run
 = 
Ál£
;

163 
°©us
 = 
EXIT_SUCCESS
;

164 
size_t
 
x_cou¡
;

165 
size_t
 
suffix_Àn
;

166 *
de°_«me
;

168 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

169 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

170 
	`£éoˇÀ
 (
LC_ALL
, "");

171 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

172 
	`ãxtdomaö
 (
PACKAGE
);

174 
	`©exô
 (
maybe_˛o£_°dout
);

176 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "dp:qtuV", 
l⁄g›ts
, 
NULL
)) != -1)

178 
c
)

181 
¸óã_dúe˘‹y
 = 
åue
;

184 
de°_dú_¨g
 = 
›èrg
;

185 
u£_de°_dú
 = 
åue
;

188 
suµªss_°dîr
 = 
åue
;

191 
u£_de°_dú
 = 
åue
;

192 
dïªˇãd_t_›ti⁄
 = 
åue
;

195 
dry_run
 = 
åue
;

198 
TMPDIR_OPTION
:

199 
u£_de°_dú
 = 
åue
;

200 
de°_dú_¨g
 = 
›èrg
;

203 
SUFFIX_OPTION
:

204 
suffix
 = 
›èrg
;

207 
ˇ£_GETOPT_HELP_CHAR
;

211 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

213 
	`ußge
 (
EXIT_FAILURE
);

217 i‡(
suµªss_°dîr
)

221 i‡(!
	`‰e›í
 ("/dev/nuŒ", "wb", 
°dîr
))

222 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

223 
	`_
("failedÅoÑedirect stderrÅo /dev/null"));

226 
n_¨gs
 = 
¨gc
 - 
›töd
;

227 i‡(2 <
n_¨gs
)

229 
	`îr‹
 (0, 0, 
	`_
("too manyÅemplates"));

230 
	`ußge
 (
EXIT_FAILURE
);

233 i‡(
n_¨gs
 == 0)

235 
u£_de°_dú
 = 
åue
;

236 
ãm∂©e
 = (*Ë
deÁu…_ãm∂©e
;

240 
ãm∂©e
 = 
¨gv
[
›töd
];

243 i‡(
suffix
)

245 
size_t
 
Àn
 = 
	`°æí
 (
ãm∂©e
);

246 i‡(!
Àn
 || 
ãm∂©e
[len - 1] != 'X')

248 
	`îr‹
 (
EXIT_FAILURE
, 0,

249 
	`_
("with --suffix,Åemplate %s mustÉnd in X"),

250 
	`quŸe
 (
ãm∂©e
));

252 
suffix_Àn
 = 
	`°æí
 (
suffix
);

253 
de°_«me
 = 
	`xch¨Æloc
 (
Àn
 + 
suffix_Àn
 + 1);

254 
	`mem˝y
 (
de°_«me
, 
ãm∂©e
, 
Àn
);

255 
	`mem˝y
 (
de°_«me
 + 
Àn
, 
suffix
, 
suffix_Àn
 + 1);

256 
ãm∂©e
 = 
de°_«me
;

257 
suffix
 = 
de°_«me
 + 
Àn
;

261 
ãm∂©e
 = 
	`x°rdup
 (template);

262 
suffix
 = 
	`°ºchr
 (
ãm∂©e
, 'X');

263 i‡(!
suffix
)

264 
suffix
 = 
	`°rchr
 (
ãm∂©e
, '\0');

266 
suffix
++;

267 
suffix_Àn
 = 
	`°æí
 (
suffix
);

271 i‡(
suffix_Àn
 && 
	`œ°_comp⁄ít
 (
suffix
) != suffix)

273 
	`îr‹
 (
EXIT_FAILURE
, 0,

274 
	`_
("invalid suffix %s, contains directory separator"),

275 
	`quŸe
 (
suffix
));

277 
x_cou¡
 = 
	`cou¡_c⁄£cutive_X_s
 (
ãm∂©e
, 
suffix
 -Åemplate);

278 i‡(
x_cou¡
 < 3)

279 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("toÿ„w X'†öÅem∂©ê%s"), 
	`quŸe
 (
ãm∂©e
));

281 i‡(
u£_de°_dú
)

283 i‡(
dïªˇãd_t_›ti⁄
)

285 *
ív
 = 
	`gëív
 ("TMPDIR");

286 
de°_dú
 = (
ív
 && *env

287 ? 
ív


288 : (
de°_dú_¨g
 ? dest_dir_arg : "/tmp"));

290 i‡(
	`œ°_comp⁄ít
 (
ãm∂©e
) !=Åemplate)

291 
	`îr‹
 (
EXIT_FAILURE
, 0,

292 
	`_
("invalidÅemplate, %s, contains directory separator"),

293 
	`quŸe
 (
ãm∂©e
));

297 i‡(
de°_dú_¨g
 && *dest_dir_arg)

298 
de°_dú
 = 
de°_dú_¨g
;

301 *
ív
 = 
	`gëív
 ("TMPDIR");

302 
de°_dú
 = (
ív
 && *env ?Énv : "/tmp");

304 i‡(
	`IS_ABSOLUTE_FILE_NAME
 (
ãm∂©e
))

305 
	`îr‹
 (
EXIT_FAILURE
, 0,

306 
	`_
("invalidÅemplate, %s; with --tmpdir,"

308 
	`quŸe
 (
ãm∂©e
));

311 
de°_«me
 = 
	`fûe_«me_c⁄ˇt
 (
de°_dú
, 
ãm∂©e
, 
NULL
);

312 
	`‰ì
 (
ãm∂©e
);

313 
ãm∂©e
 = 
de°_«me
;

319 
de°_«me
 = 
	`x°rdup
 (
ãm∂©e
);

321 i‡(
¸óã_dúe˘‹y
)

323 
îr
 = 
	`mkdãmp_Àn
 (
de°_«me
, 
suffix_Àn
, 
x_cou¡
, 
dry_run
);

324 i‡(
îr
 != 0)

326 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo create directory viaÅemplate %s"),

327 
	`quŸe
 (
ãm∂©e
));

328 
°©us
 = 
EXIT_FAILURE
;

333 
fd
 = 
	`mk°emp_Àn
 (
de°_«me
, 
suffix_Àn
, 
x_cou¡
, 
dry_run
);

334 i‡(
fd
 < 0 || (!
dry_run
 && 
	`˛o£
 (fd) != 0))

336 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo create file viaÅemplate %s"),

337 
	`quŸe
 (
ãm∂©e
));

338 
°©us
 = 
EXIT_FAILURE
;

342 i‡(
°©us
 =
EXIT_SUCCESS
)

344 
	`puts
 (
de°_«me
);

347 i‡(!
dry_run
 && ((
°dout_˛o£d
 = 
åue
), 
	`˛o£_°ªam
 (
°dout
) != 0))

349 
ßved_î∫o
 = 
î∫o
;

350 
	`ªmove
 (
de°_«me
);

351 
	`îr‹
 (
EXIT_FAILURE
, 
ßved_î∫o
, 
	`_
("writeÉrror"));

355 #ifde‡
löt


356 
	`‰ì
 (
de°_«me
);

357 
	`‰ì
 (
ãm∂©e
);

360 
	`exô
 (
°©us
);

361 
	}
}

	@mv.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<as£π.h
>

24 
	~<£löux/£löux.h
>

26 
	~"sy°em.h
"

27 
	~"backupfûe.h
"

28 
	~"c›y.h
"

29 
	~"˝-hash.h
"

30 
	~"îr‹.h
"

31 
	~"fûíameˇt.h
"

32 
	~"quŸe.h
"

33 
	~"ªmove.h
"

34 
	~"roŸ-dev-öo.h
"

35 
	~"¥iv-£t.h
"

38 
	#PROGRAM_NAME
 "mv"

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Mike Parker"), \

42 
	`¥›î_«me
 ("David MacKenzie"), \

43 
	`¥›î_«me
 ("Jim Meyîög")

	)

49 
	mSTRIP_TRAILING_SLASHES_OPTION
 = 
CHAR_MAX
 + 1

53 
boﬁ
 
	gªmove_åaûög_¶ashes
;

55 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

57 {"backup", 
›ti⁄Æ_¨gumít
, 
NULL
, 'b'},

58 {"f‹˚", 
no_¨gumít
, 
NULL
, 'f'},

59 {"öãø˘ive", 
no_¨gumít
, 
NULL
, 'i'},

60 {"no-˛obbî", 
no_¨gumít
, 
NULL
, 'n'},

61 {"no-èrgë-dúe˘‹y", 
no_¨gumít
, 
NULL
, 'T'},

62 {"°rù-åaûög-¶ashes", 
no_¨gumít
, 
NULL
, 
STRIP_TRAILING_SLASHES_OPTION
},

63 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 'S'},

64 {"èrgë-dúe˘‹y", 
ªquúed_¨gumít
, 
NULL
, 't'},

65 {"upd©e", 
no_¨gumít
, 
NULL
, 'u'},

66 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

73 
	$rm_›ti⁄_öô
 (
rm_›ti⁄s
 *
x
)

75 
x
->
ign‹e_missög_fûes
 = 
Ál£
;

76 
x
->
ªmove_em±y_dúe˘‹õs
 = 
åue
;

77 
x
->
ªcursive
 = 
åue
;

78 
x
->
⁄e_fûe_sy°em
 = 
Ál£
;

82 
x
->
öãø˘ive
 = 
RMI_NEVER
;

83 
x
->
°dö_ây
 = 
Ál£
;

85 
x
->
vîbo£
 = 
Ál£
;

91 
x
->
ªquúe_ª°‹e_cwd
 = 
åue
;

94 
dev_öo
 
dev_öo_buf
;

95 
x
->
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

96 i‡(
x
->
roŸ_dev_öo
 =
NULL
)

97 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

98 
	`quŸe
 ("/"));

100 
	}
}

103 
	$˝_›ti⁄_öô
 (
˝_›ti⁄s
 *
x
)

105 
boﬁ
 
£löux_íabÀd
 = (0 < 
	`is_£löux_íabÀd
 ());

107 
	`˝_›ti⁄s_deÁu…
 (
x
);

108 
x
->
c›y_as_ªguœr
 = 
Ál£
;

109 
x
->
ªÊök_mode
 = 
REFLINK_NEVER
;

110 
x
->
dîe„ªn˚
 = 
DEREF_NEVER
;

111 
x
->
u∆ök_de°_bef‹e_›íög
 = 
Ál£
;

112 
x
->
u∆ök_de°_a·î_Áûed_›í
 = 
Ál£
;

113 
x
->
h¨d_lök
 = 
Ál£
;

114 
x
->
öãø˘ive
 = 
I_UNSPECIFIED
;

115 
x
->
move_mode
 = 
åue
;

116 
x
->
⁄e_fûe_sy°em
 = 
Ál£
;

117 
x
->
¥e£rve_ow√rshù
 = 
åue
;

118 
x
->
¥e£rve_löks
 = 
åue
;

119 
x
->
¥e£rve_mode
 = 
åue
;

120 
x
->
¥e£rve_time°amps
 = 
åue
;

121 
x
->
ex∂icô_no_¥e£rve_mode

Ál£
;

122 
x
->
¥e£rve_£curôy_c⁄ãxt
 = 
£löux_íabÀd
;

123 
x
->
ªdu˚_dügno°ics
 = 
Ál£
;

124 
x
->
d©a_c›y_ªquúed
 = 
åue
;

125 
x
->
ªquúe_¥e£rve
 = 
Ál£
;

126 
x
->
ªquúe_¥e£rve_c⁄ãxt
 = 
Ál£
;

127 
x
->
¥e£rve_x©å
 = 
åue
;

128 
x
->
ªquúe_¥e£rve_x©å
 = 
Ál£
;

129 
x
->
ªcursive
 = 
åue
;

130 
x
->
•¨£_mode
 = 
SPARSE_AUTO
;

131 
x
->
symbﬁic_lök
 = 
Ál£
;

132 
x
->
£t_mode
 = 
Ál£
;

133 
x
->
mode
 = 0;

134 
x
->
°dö_ây
 = 
	`ißây
 (
STDIN_FILENO
);

136 
x
->
›í_d™glög_de°_symlök
 = 
Ál£
;

137 
x
->
upd©e
 = 
Ál£
;

138 
x
->
vîbo£
 = 
Ál£
;

139 
x
->
de°_öfo
 = 
NULL
;

140 
x
->
§c_öfo
 = 
NULL
;

141 
	}
}

147 
boﬁ


148 
	$èrgë_dúe˘‹y_›î™d
 (c⁄° *
fûe
)

150 
°©
 
°
;

151 
îr
 = (
	`°©
 (
fûe
, &
°
Ë=0 ? 0 : 
î∫o
);

152 
boﬁ
 
is_a_dú
 = !
îr
 && 
	`S_ISDIR
 (
°
.
°_mode
);

153 i‡(
îr
 &&Éº !
ENOENT
)

154 
	`îr‹
 (
EXIT_FAILURE
, 
îr
, 
	`_
("ÁûedÅÿac˚s†%s"), 
	`quŸe
 (
fûe
));

155  
is_a_dú
;

156 
	}
}

162 
boﬁ


163 
	$do_move
 (c⁄° *
sour˚
, c⁄° *
de°
, c⁄° 
˝_›ti⁄s
 *
x
)

165 
boﬁ
 
c›y_öto_£lf
;

166 
boﬁ
 
ª«me_suc˚eded
;

167 
boﬁ
 
ok
 = 
	`c›y
 (
sour˚
, 
de°
, 
Ál£
, 
x
, &
c›y_öto_£lf
, &
ª«me_suc˚eded
);

169 i‡(
ok
)

171 c⁄° *
dú_to_ªmove
;

172 i‡(
c›y_öto_£lf
)

185 
dú_to_ªmove
 = 
NULL
;

186 
ok
 = 
Ál£
;

188 i‡(
ª«me_suc˚eded
)

192 
dú_to_ªmove
 = 
NULL
;

218 
dú_to_ªmove
 = 
sour˚
;

221 i‡(
dú_to_ªmove
 !
NULL
)

223 
rm_›ti⁄s
Ñm_options;

224 
RM_°©us
 
°©us
;

225 c⁄° *
dú
[2];

227 
	`rm_›ti⁄_öô
 (&
rm_›ti⁄s
);

228 
rm_›ti⁄s
.
vîbo£
 = 
x
->verbose;

229 
dú
[0] = 
dú_to_ªmove
;

230 
dú
[1] = 
NULL
;

232 
°©us
 = 
	`rm
 ((*Ë
dú
, &
rm_›ti⁄s
);

233 
	`as£π
 (
	`VALID_STATUS
 (
°©us
));

234 i‡(
°©us
 =
RM_ERROR
)

235 
ok
 = 
Ál£
;

239  
ok
;

240 
	}
}

246 
boﬁ


247 
	$movefûe
 (*
sour˚
, *
de°
, 
boﬁ
 
de°_is_dú
,

248 c⁄° 
˝_›ti⁄s
 *
x
)

250 
boﬁ
 
ok
;

259 i‡(
ªmove_åaûög_¶ashes
)

260 
	`°rù_åaûög_¶ashes
 (
sour˚
);

262 i‡(
de°_is_dú
)

265 c⁄° *
§c_ba£«me
 = 
	`œ°_comp⁄ít
 (
sour˚
);

266 *
√w_de°
 = 
	`fûe_«me_c⁄ˇt
 (
de°
, 
§c_ba£«me
, 
NULL
);

267 
	`°rù_åaûög_¶ashes
 (
√w_de°
);

268 
ok
 = 
	`do_move
 (
sour˚
, 
√w_de°
, 
x
);

269 
	`‰ì
 (
√w_de°
);

273 
ok
 = 
	`do_move
 (
sour˚
, 
de°
, 
x
);

276  
ok
;

277 
	}
}

280 
	$ußge
 (
°©us
)

282 i‡(
°©us
 !
EXIT_SUCCESS
)

283 
	`emô_åy_hñp
 ();

286 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
"),

291 
¥ogøm_«me
,Örogram_name,Örogram_name);

292 
	`Âuts
 (
	`_
("\
 SOURCEÅÿDEST, o∏movêSOURCE(sËtÿDIRECTORY.\n\
"), 
°dout
);

296 
	`emô_m™d©‹y_¨g_nŸe
 ();

298 
	`Âuts
 (
	`_
("\
--backup[=CONTROL] makê®backu∞o‡óchÉxi°ög de°ö©i⁄ fûe\
\n\
-bÜikê--backu∞buàd€†nŸác˚±á¿¨gumít\n\
-f, --f‹˚ dÿnŸÖrom± bef‹êovîwrôög\n\
-i, --öãø˘ivêÖrom± bef‹êovîwrôe\n\
-n, --no-˛obbî dÿnŸ ovîwrôê™Éxi°ög fûe\n\
 you s≥cify m‹êth™ o√ o‡-i, -f, -n, o∆yÅhêföÆ o√Åake†ef„˘.\n\
"), 
°dout
);

307 
	`Âuts
 (
	`_
("\
--°rù-åaûög-¶ashe†Ñemovê™yÅøûög sœshe†‰omÉach SOURCE\n\
\n\
-S, --suffix=SUFFIX ovîridêthêusuÆ backu∞suffix\n\
"), 
°dout
);

312 
	`Âuts
 (
	`_
("\
-t, --èrgë-dúe˘‹y=DIRECTORY movêÆ»SOURCEárgumít†ötÿDIRECTORY\n\
-T, --no-èrgë-dúe˘‹yÅª© DESTá†®n‹mÆ fûe\n\
-u, --upd©ê movê⁄ly whíÅhêSOURCE fûêi†√wî\n\
Åhêde°ö©i⁄ fûê‹ whíÅhe\n\
 fûêi†missög\n\
-v, --vîbo£Éx∂aö wh© i†beög d⁄e\n\
"), 
°dout
);

320 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

321 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

322 
	`Âuts
 (
	`_
("\
\n\
 backu∞suffix i†'~', u∆es†£àwôh --suffix o∏SIMPLE_BACKUP_SUFFIX.\n\
 vîsi⁄ c⁄åﬁ mëhod may bê£À˘ed vüÅhê--backu∞›ti⁄ o∏through\n\
 VERSION_CONTROLÉnvú⁄míàv¨übÀ. Hîê¨êthêvÆues:\n\
\n\
"), 
°dout
);

329 
	`Âuts
 (
	`_
("\
, of‡Çevî makêbackup†”ví i‡--backu∞i†giví)\n\
,Å makênumbîed backups\n\
,ÇûÇumbîed i‡numbîed backup†exi°, sim∂êŸhîwi£\n\
,Çevîálway†makêsim∂êbackups\n\
"), 
°dout
);

335 
	`emô_™cûœry_öfo
 ();

337 
	`exô
 (
°©us
);

338 
	}
}

341 
	$maö
 (
¨gc
, **
¨gv
)

343 
c
;

344 
boﬁ
 
ok
;

345 
boﬁ
 
make_backups
 = 
Ál£
;

346 *
backup_suffix_°rög
;

347 *
vîsi⁄_c⁄åﬁ_°rög
 = 
NULL
;

348 
˝_›ti⁄s
 
x
;

349 *
èrgë_dúe˘‹y
 = 
NULL
;

350 
boﬁ
 
no_èrgë_dúe˘‹y
 = 
Ál£
;

351 
n_fûes
;

352 **
fûe
;

354 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

355 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

356 
	`£éoˇÀ
 (
LC_ALL
, "");

357 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

358 
	`ãxtdomaö
 (
PACKAGE
);

360 
	`©exô
 (
˛o£_°dö
);

362 
	`˝_›ti⁄_öô
 (&
x
);

365 
	`¥iv_£t_ªmove_lökdú
 ();

369 
backup_suffix_°rög
 = 
	`gëív
 ("SIMPLE_BACKUP_SUFFIX");

371 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "bföt:uvS:T", 
l⁄g_›ti⁄s
, 
NULL
))

374 
c
)

377 
make_backups
 = 
åue
;

378 i‡(
›èrg
)

379 
vîsi⁄_c⁄åﬁ_°rög
 = 
›èrg
;

382 
x
.
öãø˘ive
 = 
I_ALWAYS_YES
;

385 
x
.
öãø˘ive
 = 
I_ASK_USER
;

388 
x
.
öãø˘ive
 = 
I_ALWAYS_NO
;

390 
STRIP_TRAILING_SLASHES_OPTION
:

391 
ªmove_åaûög_¶ashes
 = 
åue
;

394 i‡(
èrgë_dúe˘‹y
)

395 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÅarget directories specified"));

398 
°©
 
°
;

399 i‡(
	`°©
 (
›èrg
, &
°
) != 0)

400 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅoáccess %s"),

401 
	`quŸe
 (
›èrg
));

402 i‡(! 
	`S_ISDIR
 (
°
.
°_mode
))

403 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

404 
	`quŸe
 (
›èrg
));

406 
èrgë_dúe˘‹y
 = 
›èrg
;

409 
no_èrgë_dúe˘‹y
 = 
åue
;

412 
x
.
upd©e
 = 
åue
;

415 
x
.
vîbo£
 = 
åue
;

418 
make_backups
 = 
åue
;

419 
backup_suffix_°rög
 = 
›èrg
;

421 
ˇ£_GETOPT_HELP_CHAR
;

422 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

424 
	`ußge
 (
EXIT_FAILURE
);

428 
n_fûes
 = 
¨gc
 - 
›töd
;

429 
fûe
 = 
¨gv
 + 
›töd
;

431 i‡(
n_fûes
 <!
èrgë_dúe˘‹y
)

433 i‡(
n_fûes
 <= 0)

434 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

436 
	`îr‹
 (0, 0, 
	`_
("missing destination file operandáfter %s"),

437 
	`quŸe
 (
fûe
[0]));

438 
	`ußge
 (
EXIT_FAILURE
);

441 i‡(
no_èrgë_dúe˘‹y
)

443 i‡(
èrgë_dúe˘‹y
)

444 
	`îr‹
 (
EXIT_FAILURE
, 0,

445 
	`_
("cannot combine --target-directory (-t) "

447 i‡(2 < 
n_fûes
)

449 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
fûe
[2]));

450 
	`ußge
 (
EXIT_FAILURE
);

453 i‡(!
èrgë_dúe˘‹y
)

455 
	`as£π
 (2 <
n_fûes
);

456 i‡(
	`èrgë_dúe˘‹y_›î™d
 (
fûe
[
n_fûes
 - 1]))

457 
èrgë_dúe˘‹y
 = 
fûe
[--
n_fûes
];

458 i‡(2 < 
n_fûes
)

459 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("target %s isÇotá directory"),

460 
	`quŸe
 (
fûe
[
n_fûes
 - 1]));

463 i‡(
make_backups
 && 
x
.
öãø˘ive
 =
I_ALWAYS_NO
)

465 
	`îr‹
 (0, 0,

466 
	`_
("options --backupánd --no-clobberáre mutuallyÉxclusive"));

467 
	`ußge
 (
EXIT_FAILURE
);

470 i‡(
backup_suffix_°rög
)

471 
sim∂e_backup_suffix
 = 
	`x°rdup
 (
backup_suffix_°rög
);

473 
x
.
backup_ty≥
 = (
make_backups


474 ? 
	`xgë_vîsi⁄
 (
	`_
("backupÅype"),

475 
vîsi⁄_c⁄åﬁ_°rög
)

476 : 
no_backups
);

478 
	`hash_öô
 ();

480 i‡(
èrgë_dúe˘‹y
)

482 
i
;

487 i‡(2 <
n_fûes
)

488 
	`de°_öfo_öô
 (&
x
);

490 
ok
 = 
åue
;

491 
i
 = 0; i < 
n_fûes
; ++i)

492 
ok
 &
	`movefûe
 (
fûe
[
i
], 
èrgë_dúe˘‹y
, 
åue
, &
x
);

495 
ok
 = 
	`movefûe
 (
fûe
[0], fûe[1], 
Ál£
, &
x
);

497 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

498 
	}
}

	@nice.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

26 #i‡! 
HAVE_NICE


29 
	~<sys/ªsour˚.h
>

32 
	~"îr‹.h
"

33 
	~"quŸe.h
"

34 
	~"x°πﬁ.h
"

37 
	#PROGRAM_NAME
 "ni˚"

	)

39 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

41 #i‡
HAVE_NICE


42 
	#GET_NICENESS
(Ë
	`ni˚
 (0)

	)

44 
	#GET_NICENESS
(Ë
	`gë¥i‹ôy
 (
PRIO_PROCESS
, 0)

	)

47 #i‚de‡
NZERO


48 
	#NZERO
 20

	)

52 #i‡
NZERO
 == 0

53 #unde‡
NZERO


54 
	#NZERO
 20

	)

57 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

59 {"adju°mít", 
ªquúed_¨gumít
, 
NULL
, 'n'},

60 {
GETOPT_HELP_OPTION_DECL
},

61 {
GETOPT_VERSION_OPTION_DECL
},

62 {
NULL
, 0, NULL, 0}

66 
	$ußge
 (
°©us
)

68 i‡(
°©us
 !
EXIT_SUCCESS
)

69 
	`emô_åy_hñp
 ();

72 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION] [COMMAND [ARG]...]\n"), 
¥ogøm_«me
);

73 
	`¥ötf
 (
	`_
("\
 COMMAND withánádjustedÇiceness, whicháffectsÖrocess scheduling.\n\
Ço COMMAND,ÖrintÅhe currentÇiceness. Niceness valuesÑange from\n\
%d (most favorableÅoÅheÖrocess)Åo %d (least favorableÅoÅheÖrocess).\n\
"),

78 - 
NZERO
, NZERO - 1);

80 
	`emô_m™d©‹y_¨g_nŸe
 ();

82 
	`Âuts
 (
	`_
("\
-n, --adju°mít=Nádd i¡egî NÅÿthêni˚√s†(deÁu… 10)\n\
"), 
°dout
);

85 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

86 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

87 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

88 
	`emô_™cûœry_öfo
 ();

90 
	`exô
 (
°©us
);

91 
	}
}

93 
boﬁ


94 
	$≥rm_ªœãd_î∫o
 (
îr
)

96  
îr
 =
EACCES
 ||Éº =
EPERM
;

97 
	}
}

100 
	$maö
 (
¨gc
, **
¨gv
)

102 
cuºít_ni˚√ss
;

103 
adju°mít
 = 10;

104 c⁄° *
adju°mít_giví
 = 
NULL
;

105 
boﬁ
 
ok
;

106 
i
;

108 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

109 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

110 
	`£éoˇÀ
 (
LC_ALL
, "");

111 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

112 
	`ãxtdomaö
 (
PACKAGE
);

114 
	`öôülize_exô_Áûuª
 (
EXIT_CANCELED
);

115 
	`©exô
 (
˛o£_°dout
);

117 
i
 = 1; i < 
¨gc
; )

119 c⁄° *
s
 = 
¨gv
[
i
];

121 i‡(
s
[0] ='-' && 
	`ISDIGIT
 (s[1 + (s[1] == '-' || s[1] == '+')]))

123 
adju°mít_giví
 = 
s
 + 1;

124 ++
i
;

128 
c
;

129 
Áke_¨gc
 = 
¨gc
 - (
i
 - 1);

130 **
Áke_¨gv
 = 
¨gv
 + (
i
 - 1);

133 
Áke_¨gv
[0] = 
¨gv
[0];

136 
›töd
 = 0;

138 
c
 = 
	`gë›t_l⁄g
 (
Áke_¨gc
, 
Áke_¨gv
, "+n:", 
l⁄g›ts
, 
NULL
);

139 
i
 +
›töd
 - 1;

141 
c
)

144 
adju°mít_giví
 = 
›èrg
;

150 
ˇ£_GETOPT_HELP_CHAR
;

152 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

155 
	`ußge
 (
EXIT_CANCELED
);

159 i‡(
c
 == -1)

164 i‡(
adju°mít_giví
)

169 íum { 
MIN_ADJUSTMENT
 = 1 - 2 * 
NZERO
, 
MAX_ADJUSTMENT
 = 2 * NZERO - 1 };

170 
tmp
;

171 i‡(
LONGINT_OVERFLOW
 < 
	`x°πﬁ
 (
adju°mít_giví
, 
NULL
, 10, &
tmp
, ""))

172 
	`îr‹
 (
EXIT_CANCELED
, 0, 
	`_
("invalidádjustment %s"),

173 
	`quŸe
 (
adju°mít_giví
));

174 
adju°mít
 = 
	`MAX
 (
MIN_ADJUSTMENT
, 
	`MIN
 (
tmp
, 
MAX_ADJUSTMENT
));

177 i‡(
i
 =
¨gc
)

179 i‡(
adju°mít_giví
)

181 
	`îr‹
 (0, 0, 
	`_
("a command must be given withánádjustment"));

182 
	`ußge
 (
EXIT_CANCELED
);

185 
î∫o
 = 0;

186 
cuºít_ni˚√ss
 = 
	`GET_NICENESS
 ();

187 i‡(
cuºít_ni˚√ss
 =-1 && 
î∫o
 != 0)

188 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot getÇiceness"));

189 
	`¥ötf
 ("%d\n", 
cuºít_ni˚√ss
);

190 
	`exô
 (
EXIT_SUCCESS
);

193 
î∫o
 = 0;

194 #i‡
HAVE_NICE


195 
ok
 = (
	`ni˚
 (
adju°mít
Ë!-1 || 
î∫o
 == 0);

197 
cuºít_ni˚√ss
 = 
	`GET_NICENESS
 ();

198 i‡(
cuºít_ni˚√ss
 =-1 && 
î∫o
 != 0)

199 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot getÇiceness"));

200 
ok
 = (
	`£çri‹ôy
 (
PRIO_PROCESS
, 0, 
cuºít_ni˚√ss
 + 
adju°mít
) == 0);

202 i‡(!
ok
)

204 
	`îr‹
 (
	`≥rm_ªœãd_î∫o
 (
î∫o
) ? 0

205 : 
EXIT_CANCELED
, 
î∫o
, 
	`_
("cannot setÇiceness"));

211 i‡(
	`„º‹
 (
°dîr
))

212 
	`exô
 (
EXIT_CANCELED
);

215 
	`execvp
 (
¨gv
[
i
], &argv[i]);

218 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

219 
	`îr‹
 (0, 
î∫o
, "%s", 
¨gv
[
i
]);

220 
	`exô
 (
exô_°©us
);

222 
	}
}

	@nl.c

20 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<gë›t.h
>

26 
	~"sy°em.h
"

28 
	~<ªgex.h
>

30 
	~"îr‹.h
"

31 
	~"Ádvi£.h
"

32 
	~"löebuf„r.h
"

33 
	~"quŸe.h
"

34 
	~"x°πﬁ.h
"

37 
	#PROGRAM_NAME
 "∆"

	)

39 
	#AUTHORS
 \

40 
	`¥›î_«me
 ("Scott Bartram"), \

41 
	`¥›î_«me
 ("David MacKízõ")

	)

47 c⁄° 
	gFORMAT_RIGHT_NOLZ
[] = "%*" 
PRIdMAX
 "%s";

50 c⁄° 
	gFORMAT_RIGHT_LZ
[] = "%0*" 
PRIdMAX
 "%s";

53 c⁄° 
	gFORMAT_LEFT
[] = "%-*" 
PRIdMAX
 "%s";

56 c⁄° 
	gDEFAULT_SECTION_DELIMITERS
[] = "\\:";

60 
	e£˘i⁄


62 
	mHódî
, 
	mBody
, 
	mFoŸî
, 
	mText


66 c⁄° *
	gbody_ty≥
 = "t";

69 c⁄° *
	ghódî_ty≥
 = "n";

72 c⁄° *
	gfoŸî_ty≥
 = "n";

75 c⁄° *
	gcuºít_ty≥
;

78 
ª_∑âîn_buf„r
 
	gbody_ªgex
;

81 
ª_∑âîn_buf„r
 
	ghódî_ªgex
;

84 
ª_∑âîn_buf„r
 
	gfoŸî_ªgex
;

87 
	gbody_Á°m≠
[
UCHAR_MAX
 + 1];

88 
	ghódî_Á°m≠
[
UCHAR_MAX
 + 1];

89 
	gfoŸî_Á°m≠
[
UCHAR_MAX
 + 1];

92 
ª_∑âîn_buf„r
 *
	gcuºít_ªgex
 = 
NULL
;

95 c⁄° *
	g£∑øt‹_°r
 = "\t";

98 c⁄° *
	g£˘i⁄_dñ
 = 
DEFAULT_SECTION_DELIMITERS
;

101 *
	ghódî_dñ
 = 
NULL
;

104 
size_t
 
	ghódî_dñ_Àn
;

107 *
	gbody_dñ
 = 
NULL
;

110 
size_t
 
	gbody_dñ_Àn
;

113 *
	gfoŸî_dñ
 = 
NULL
;

116 
size_t
 
	gfoŸî_dñ_Àn
;

119 
löebuf„r
 
	glöe_buf
;

122 *
	g¥öt_no_löe_fmt
 = 
NULL
;

125 
ötmax_t
 
	g°¨tög_löe_numbî
 = 1;

128 
ötmax_t
 
	g∑ge_ö¸
 = 1;

131 
boﬁ
 
	gª£t_numbîs
 = 
åue
;

134 
ötmax_t
 
	gbœnk_joö
 = 1;

137 
	glöío_width
 = 6;

140 c⁄° *
	glöío_f‹m©
 = 
FORMAT_RIGHT_NOLZ
;

143 
ötmax_t
 
	glöe_no
;

146 
boﬁ
 
	ghave_ªad_°dö
;

148 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

150 {"hódî-numbîög", 
ªquúed_¨gumít
, 
NULL
, 'h'},

151 {"body-numbîög", 
ªquúed_¨gumít
, 
NULL
, 'b'},

152 {"foŸî-numbîög", 
ªquúed_¨gumít
, 
NULL
, 'f'},

153 {"°¨tög-löe-numbî", 
ªquúed_¨gumít
, 
NULL
, 'v'},

154 {"löe-ö¸emít", 
ªquúed_¨gumít
, 
NULL
, 'i'},

155 {"no-ªnumbî", 
no_¨gumít
, 
NULL
, 'p'},

156 {"joö-bœnk-löes", 
ªquúed_¨gumít
, 
NULL
, 'l'},

157 {"numbî-£∑øt‹", 
ªquúed_¨gumít
, 
NULL
, 's'},

158 {"numbî-width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

159 {"numbî-f‹m©", 
ªquúed_¨gumít
, 
NULL
, 'n'},

160 {"£˘i⁄-dñimôî", 
ªquúed_¨gumít
, 
NULL
, 'd'},

161 {
GETOPT_HELP_OPTION_DECL
},

162 {
GETOPT_VERSION_OPTION_DECL
},

163 {
NULL
, 0, NULL, 0}

169 
	$ußge
 (
°©us
)

171 i‡(
°©us
 !
EXIT_SUCCESS
)

172 
	`emô_åy_hñp
 ();

175 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

178 
¥ogøm_«me
);

179 
	`Âuts
 (
	`_
("\
Éach FILEÅÿ°™d¨d ouçut, wôhÜöênumbî†added.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

184 
	`emô_m™d©‹y_¨g_nŸe
 ();

186 
	`Âuts
 (
	`_
("\
-b, --body-numbîög=STYLE u£ STYLE f‹Çumbîög bodyÜöes\n\
-d, --£˘i⁄-dñimôî=CC u£ CC f‹ sï¨©ögÜogiˇ»∑ges\n\
-f, --foŸî-numbîög=STYLE u£ STYLE f‹Çumbîög foŸîÜöes\n\
"), 
°dout
);

191 
	`Âuts
 (
	`_
("\
-h, --hódî-numbîög=STYLE u£ STYLE f‹Çumbîög hódîÜöes\n\
-i, --löe-ö¸emít=NUMBERÜöênumbî in¸emíà©ÉachÜöe\n\
-l, --joö-bœnk-löes=NUMBER grou∞o‡NUMBERÉm±yÜöe†cou¡edá†⁄e\n\
-n, --numbî-f‹m©=FORMAT in£πÜöênumbî†acc‹dögÅÿFORMAT\n\
-p, --no-ªnumbî dÿnŸÑe£àlöênumbî†©Üogiˇ»∑ges\n\
-s, --numbî-£∑øt‹=STRINGádd STRINGá·î (possibÀËlöênumbî\n\
"), 
°dout
);

199 
	`Âuts
 (
	`_
("\
-v, --°¨tög-löe-numbî=NUMBER fú°Üöênumbî o¿óchÜogiˇ»∑ge\n\
-w, --numbî-width=NUMBER u£ NUMBER cﬁumn†f‹Üöênumbîs\n\
"), 
°dout
);

203 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

204 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

205 
	`Âuts
 (
	`_
("\
\n\
 deÁu…, sñe˘†-v1 -i1 -l1 -sTAB -w6 -ƒ¿-h¿-bà-‚. CCáª\n\
 dñimôî ch¨a˘î†f‹ sï¨©ögÜogiˇ»∑ges,á missög\n\
 ch¨a˘î im∂õ†:. Ty≥ \\\\ f‹ \\. STYLE i†⁄êof:\n\
"), 
°dout
);

211 
	`Âuts
 (
	`_
("\
\n\
ÇumbîáŒÜöes\n\
Çumbî o∆yÇ⁄em±yÜöes\n\
ÇumbîÇÿlöes\n\
Çumbî o∆yÜöe†th© c⁄èöá m©ch f‹Åhêbasi¯ªguœr\n\
, BRE\n\
\n\
 i†⁄êof:\n\
\n\
Üe· ju°ifõd,ÇÿÀadög zîos\n\
Ñighàju°ifõd,ÇÿÀadög zîos\n\
Ñighàju°ifõd,Üódög zîos\n\
\n\
"), 
°dout
);

226 
	`emô_™cûœry_öfo
 ();

228 
	`exô
 (
°©us
);

229 
	}
}

234 
boﬁ


235 
	$buûd_ty≥_¨g
 (c⁄° **
ty≥p
,

236 
ª_∑âîn_buf„r
 *
ªgexp
, *
Á°m≠
)

238 c⁄° *
îrmsg
;

239 
boﬁ
 
rvÆ
 = 
åue
;

241 *
›èrg
)

246 *
ty≥p
 = 
›èrg
;

249 *
ty≥p
 = 
›èrg
++;

250 
ªgexp
->
buf„r
 = 
NULL
;

251 
ªgexp
->
Æloˇãd
 = 0;

252 
ªgexp
->
Á°m≠
 = fastmap;

253 
ªgexp
->
å™¶©e
 = 
NULL
;

254 
ª_sy¡ax_›ti⁄s
 =

255 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

256 
îrmsg
 = 
	`ª_compûe_∑âîn
 (
›èrg
, 
	`°æí
 (›èrg), 
ªgexp
);

257 i‡(
îrmsg
)

258 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s", 
îrmsg
);

261 
rvÆ
 = 
Ál£
;

264  
rvÆ
;

265 
	}
}

270 
	$¥öt_löío
 ()

272 
ötmax_t
 
√xt_löe_no
;

274 
	`¥ötf
 (
löío_f‹m©
, 
löío_width
, 
löe_no
, 
£∑øt‹_°r
);

276 
√xt_löe_no
 = 
löe_no
 + 
∑ge_ö¸
;

277 i‡(
√xt_löe_no
 < 
löe_no
)

278 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("lineÇumber overflow"));

279 
löe_no
 = 
√xt_löe_no
;

280 
	}
}

285 
	$¥oc_hódî
 ()

287 
cuºít_ty≥
 = 
hódî_ty≥
;

288 
cuºít_ªgex
 = &
hódî_ªgex
;

289 i‡(
ª£t_numbîs
)

290 
löe_no
 = 
°¨tög_löe_numbî
;

291 
	`putch¨
 ('\n');

292 
	}
}

297 
	$¥oc_body
 ()

299 
cuºít_ty≥
 = 
body_ty≥
;

300 
cuºít_ªgex
 = &
body_ªgex
;

301 
	`putch¨
 ('\n');

302 
	}
}

307 
	$¥oc_foŸî
 ()

309 
cuºít_ty≥
 = 
foŸî_ty≥
;

310 
cuºít_ªgex
 = &
foŸî_ªgex
;

311 
	`putch¨
 ('\n');

312 
	}
}

317 
	$¥oc_ãxt
 ()

319 
ötmax_t
 
bœnk_löes
 = 0;

321 *
cuºít_ty≥
)

324 i‡(
bœnk_joö
 > 1)

326 i‡(1 < 
löe_buf
.
Àngth
 || ++
bœnk_löes
 =
bœnk_joö
)

328 
	`¥öt_löío
 ();

329 
bœnk_löes
 = 0;

332 
	`Âuts
 (
¥öt_no_löe_fmt
, 
°dout
);

335 
	`¥öt_löío
 ();

338 i‡(1 < 
löe_buf
.
Àngth
)

339 
	`¥öt_löío
 ();

341 
	`Âuts
 (
¥öt_no_löe_fmt
, 
°dout
);

344 
	`Âuts
 (
¥öt_no_löe_fmt
, 
°dout
);

347 
	`ª_£¨ch
 (
cuºít_ªgex
, 
löe_buf
.
buf„r
,Üöe_buf.
Àngth
 - 1,

348 0, 
löe_buf
.
Àngth
 - 1, 
NULL
))

351 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("error inÑegularÉxpression search"));

354 
	`Âuts
 (
¥öt_no_löe_fmt
, 
°dout
);

358 
	`¥öt_löío
 ();

362 
	`fwrôe
 (
löe_buf
.
buf„r
,  (),Üöe_buf.
Àngth
, 
°dout
);

363 
	}
}

367 
£˘i⁄


368 
	$check_£˘i⁄
 ()

370 
size_t
 
Àn
 = 
löe_buf
.
Àngth
 - 1;

372 i‡(
Àn
 < 2 || 
	`memcmp
 (
löe_buf
.
buf„r
, 
£˘i⁄_dñ
, 2))

373  
Text
;

374 i‡(
Àn
 =
hódî_dñ_Àn


375 && !
	`memcmp
 (
löe_buf
.
buf„r
, 
hódî_dñ
, 
hódî_dñ_Àn
))

376  
Hódî
;

377 i‡(
Àn
 =
body_dñ_Àn


378 && !
	`memcmp
 (
löe_buf
.
buf„r
, 
body_dñ
, 
body_dñ_Àn
))

379  
Body
;

380 i‡(
Àn
 =
foŸî_dñ_Àn


381 && !
	`memcmp
 (
löe_buf
.
buf„r
, 
foŸî_dñ
, 
foŸî_dñ_Àn
))

382  
FoŸî
;

383  
Text
;

384 
	}
}

389 
	$¥o˚ss_fûe
 (
FILE
 *
Â
)

391 
	`ªadlöebuf„r
 (&
löe_buf
, 
Â
))

393 
	`check_£˘i⁄
 ())

395 
Hódî
:

396 
	`¥oc_hódî
 ();

398 
Body
:

399 
	`¥oc_body
 ();

401 
FoŸî
:

402 
	`¥oc_foŸî
 ();

404 
Text
:

405 
	`¥oc_ãxt
 ();

409 
	}
}

414 
boﬁ


415 
	$∆_fûe
 (c⁄° *
fûe
)

417 
FILE
 *
°ªam
;

419 i‡(
	`STREQ
 (
fûe
, "-"))

421 
have_ªad_°dö
 = 
åue
;

422 
°ªam
 = 
°dö
;

426 
°ªam
 = 
	`f›í
 (
fûe
, "r");

427 i‡(
°ªam
 =
NULL
)

429 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

430  
Ál£
;

434 
	`Ádvi£
 (
°ªam
, 
FADVISE_SEQUENTIAL
);

436 
	`¥o˚ss_fûe
 (
°ªam
);

438 i‡(
	`„º‹
 (
°ªam
))

440 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

441  
Ál£
;

443 i‡(
	`STREQ
 (
fûe
, "-"))

444 
	`˛óªº
 (
°ªam
);

445 i‡(
	`f˛o£
 (
°ªam
Ë=
EOF
)

447 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

448  
Ál£
;

450  
åue
;

451 
	}
}

454 
	$maö
 (
¨gc
, **
¨gv
)

456 
c
;

457 
size_t
 
Àn
;

458 
boﬁ
 
ok
 = 
åue
;

460 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

461 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

462 
	`£éoˇÀ
 (
LC_ALL
, "");

463 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

464 
	`ãxtdomaö
 (
PACKAGE
);

466 
	`©exô
 (
˛o£_°dout
);

468 
have_ªad_°dö
 = 
Ál£
;

470 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "h:b:f:v:i:∂:s:w:n:d:", 
l⁄g›ts
,

471 
NULL
)) != -1)

473 
c
)

476 i‡(! 
	`buûd_ty≥_¨g
 (&
hódî_ty≥
, &
hódî_ªgex
, 
hódî_Á°m≠
))

478 
	`îr‹
 (0, 0, 
	`_
("invalid headerÇumbering style: %s"),

479 
	`quŸe
 (
›èrg
));

480 
ok
 = 
Ál£
;

484 i‡(! 
	`buûd_ty≥_¨g
 (&
body_ty≥
, &
body_ªgex
, 
body_Á°m≠
))

486 
	`îr‹
 (0, 0, 
	`_
("invalid bodyÇumbering style: %s"),

487 
	`quŸe
 (
›èrg
));

488 
ok
 = 
Ál£
;

492 i‡(! 
	`buûd_ty≥_¨g
 (&
foŸî_ty≥
, &
foŸî_ªgex
, 
foŸî_Á°m≠
))

494 
	`îr‹
 (0, 0, 
	`_
("invalid footerÇumbering style: %s"),

495 
	`quŸe
 (
›èrg
));

496 
ok
 = 
Ál£
;

500 i‡(
	`x°πoimax
 (
›èrg
, 
NULL
, 10, &
°¨tög_löe_numbî
, "")

501 !
LONGINT_OK
)

503 
	`îr‹
 (0, 0, 
	`_
("invalid startingÜineÇumber: %s"),

504 
	`quŸe
 (
›èrg
));

505 
ok
 = 
Ál£
;

509 i‡(! (
	`x°πoimax
 (
›èrg
, 
NULL
, 10, &
∑ge_ö¸
, ""Ë=
LONGINT_OK


510 && 0 < 
∑ge_ö¸
))

512 
	`îr‹
 (0, 0, 
	`_
("invalidÜineÇumber increment: %s"),

513 
	`quŸe
 (
›èrg
));

514 
ok
 = 
Ál£
;

518 
ª£t_numbîs
 = 
Ál£
;

521 i‡(! (
	`x°πoimax
 (
›èrg
, 
NULL
, 10, &
bœnk_joö
, ""Ë=
LONGINT_OK


522 && 0 < 
bœnk_joö
))

524 
	`îr‹
 (0, 0, 
	`_
("invalidÇumber of blankÜines: %s"),

525 
	`quŸe
 (
›èrg
));

526 
ok
 = 
Ál£
;

530 
£∑øt‹_°r
 = 
›èrg
;

534 
tmp_l⁄g
;

535 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


536 || 
tmp_l⁄g
 <0 ||Åmp_l⁄g > 
INT_MAX
)

538 
	`îr‹
 (0, 0, 
	`_
("invalidÜineÇumber field width: %s"),

539 
	`quŸe
 (
›èrg
));

540 
ok
 = 
Ál£
;

544 
löío_width
 = 
tmp_l⁄g
;

549 i‡(
	`STREQ
 (
›èrg
, "ln"))

550 
löío_f‹m©
 = 
FORMAT_LEFT
;

551 i‡(
	`STREQ
 (
›èrg
, "rn"))

552 
löío_f‹m©
 = 
FORMAT_RIGHT_NOLZ
;

553 i‡(
	`STREQ
 (
›èrg
, "rz"))

554 
löío_f‹m©
 = 
FORMAT_RIGHT_LZ
;

557 
	`îr‹
 (0, 0, 
	`_
("invalidÜineÇumbering format: %s"),

558 
	`quŸe
 (
›èrg
));

559 
ok
 = 
Ál£
;

563 
£˘i⁄_dñ
 = 
›èrg
;

565 
ˇ£_GETOPT_HELP_CHAR
;

566 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

568 
ok
 = 
Ál£
;

573 i‡(!
ok
)

574 
	`ußge
 (
EXIT_FAILURE
);

577 
Àn
 = 
	`°æí
 (
£˘i⁄_dñ
);

579 
hódî_dñ_Àn
 = 
Àn
 * 3;

580 
hódî_dñ
 = 
	`xmÆloc
 (
hódî_dñ_Àn
 + 1);

581 
	`°p˝y
 (°p˝y (°p˝y (
hódî_dñ
, 
£˘i⁄_dñ
), section_del), section_del);

583 
body_dñ_Àn
 = 
Àn
 * 2;

584 
body_dñ
 = 
	`xmÆloc
 (
body_dñ_Àn
 + 1);

585 
	`°p˝y
 (°p˝y (
body_dñ
, 
£˘i⁄_dñ
), section_del);

587 
foŸî_dñ_Àn
 = 
Àn
;

588 
foŸî_dñ
 = 
	`xmÆloc
 (
foŸî_dñ_Àn
 + 1);

589 
	`°p˝y
 (
foŸî_dñ
, 
£˘i⁄_dñ
);

592 
	`öôbuf„r
 (&
löe_buf
);

595 
Àn
 = 
	`°æí
 (
£∑øt‹_°r
);

596 
¥öt_no_löe_fmt
 = 
	`xmÆloc
 (
löío_width
 + 
Àn
 + 1);

597 
	`mem£t
 (
¥öt_no_löe_fmt
, ' ', 
löío_width
 + 
Àn
);

598 
¥öt_no_löe_fmt
[
löío_width
 + 
Àn
] = '\0';

600 
löe_no
 = 
°¨tög_löe_numbî
;

601 
cuºít_ty≥
 = 
body_ty≥
;

602 
cuºít_ªgex
 = &
body_ªgex
;

606 i‡(
›töd
 =
¨gc
)

607 
ok
 = 
	`∆_fûe
 ("-");

609 ; 
›töd
 < 
¨gc
; optind++)

610 
ok
 &
	`∆_fûe
 (
¨gv
[
›töd
]);

612 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

613 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

615 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

616 
	}
}

	@nohup.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<sig«l.h
>

25 
	~"sy°em.h
"

27 
	~"˛€xec.h
"

28 
	~"îr‹.h
"

29 
	~"fûíameˇt.h
"

30 
	~"fd-ª›í.h
"

31 
	~"l⁄g-›ti⁄s.h
"

32 
	~"quŸe.h
"

33 
	~"uni°d--.h
"

35 
	#PROGRAM_NAME
 "nohup"

	)

37 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

43 
	mPOSIX_NOHUP_FAILURE
 = 127

47 
	$ußge
 (
°©us
)

49 i‡(
°©us
 !
EXIT_SUCCESS
)

50 
	`emô_åy_hñp
 ();

53 
	`¥ötf
 (
	`_
("\
: %s COMMAND [ARG]...\n\
: %s OPTION\n\
"),

57 
¥ogøm_«me
,Örogram_name);

59 
	`Âuts
 (
	`_
("\
 COMMAND, ign‹ög h™gu∞sig«ls.\n\
\n\
"), 
°dout
);

63 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

64 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

65 
	`¥ötf
 (
	`_
("\n\
 standard input isáÅerminal,Ñedirect it from /dev/null.\n\
 standard output isáÅerminal,áppend outputÅo 'nohup.out' ifÖossible,\n\
'$HOME/nohup.out' otherwise.\n\
 standardÉrror isáÅerminal,Ñedirect itÅo standard output.\n\
 save outputÅo FILE, use '%s COMMAND > FILE'.\n"),

71 
¥ogøm_«me
);

72 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

73 
	`emô_™cûœry_öfo
 ();

75 
	`exô
 (
°©us
);

76 
	}
}

79 
	$maö
 (
¨gc
, **
¨gv
)

81 
out_fd
 = 
STDOUT_FILENO
;

82 
ßved_°dîr_fd
 = 
STDERR_FILENO
;

83 
boﬁ
 
ign‹ög_öput
;

84 
boﬁ
 
ªdúe˘ög_°dout
;

85 
boﬁ
 
°dout_is_˛o£d
;

86 
boﬁ
 
ªdúe˘ög_°dîr
;

87 
exô_öã∫Æ_Áûuª
;

89 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

90 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

91 
	`£éoˇÀ
 (
LC_ALL
, "");

92 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

93 
	`ãxtdomaö
 (
PACKAGE
);

99 
exô_öã∫Æ_Áûuª
 = (
	`gëív
 ("POSIXLY_CORRECT")

100 ? 
POSIX_NOHUP_FAILURE
 : 
EXIT_CANCELED
);

101 
	`öôülize_exô_Áûuª
 (
exô_öã∫Æ_Áûuª
);

102 
	`©exô
 (
˛o£_°dout
);

104 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

105 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

106 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+", 
NULL
, NULL) != -1)

107 
	`ußge
 (
exô_öã∫Æ_Áûuª
);

109 i‡(
¨gc
 <
›töd
)

111 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

112 
	`ußge
 (
exô_öã∫Æ_Áûuª
);

115 
ign‹ög_öput
 = 
	`ißây
 (
STDIN_FILENO
);

116 
ªdúe˘ög_°dout
 = 
	`ißây
 (
STDOUT_FILENO
);

117 
°dout_is_˛o£d
 = (!
ªdúe˘ög_°dout
 && 
î∫o
 =
EBADF
);

118 
ªdúe˘ög_°dîr
 = 
	`ißây
 (
STDERR_FILENO
);

123 i‡(
ign‹ög_öput
)

125 i‡(
	`fd_ª›í
 (
STDIN_FILENO
, "/dev/nuŒ", 
O_WRONLY
, 0) < 0)

127 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÑender standard input unusable"));

128 
	`exô
 (
exô_öã∫Æ_Áûuª
);

130 i‡(!
ªdúe˘ög_°dout
 && !
ªdúe˘ög_°dîr
)

131 
	`îr‹
 (0, 0, 
	`_
("ignoring input"));

138 i‡(
ªdúe˘ög_°dout
 || (
ªdúe˘ög_°dîr
 && 
°dout_is_˛o£d
))

140 *
ö_home
 = 
NULL
;

141 c⁄° *
fûe
 = "nohup.out";

142 
Êags
 = 
O_CREAT
 | 
O_WRONLY
 | 
O_APPEND
;

143 
mode_t
 
mode
 = 
S_IRUSR
 | 
S_IWUSR
;

144 
mode_t
 
umask_vÆue
 = 
	`umask
 (~
mode
);

145 
out_fd
 = (
ªdúe˘ög_°dout


146 ? 
	`fd_ª›í
 (
STDOUT_FILENO
, 
fûe
, 
Êags
, 
mode
)

147 : 
	`›í
 (
fûe
, 
Êags
, 
mode
));

149 i‡(
out_fd
 < 0)

151 
ßved_î∫o
 = 
î∫o
;

152 c⁄° *
home
 = 
	`gëív
 ("HOME");

153 i‡(
home
)

155 
ö_home
 = 
	`fûe_«me_c⁄ˇt
 (
home
, 
fûe
, 
NULL
);

156 
out_fd
 = (
ªdúe˘ög_°dout


157 ? 
	`fd_ª›í
 (
STDOUT_FILENO
, 
ö_home
, 
Êags
, 
mode
)

158 : 
	`›í
 (
ö_home
, 
Êags
, 
mode
));

160 i‡(
out_fd
 < 0)

162 
ßved_î∫o2
 = 
î∫o
;

163 
	`îr‹
 (0, 
ßved_î∫o
, 
	`_
("ÁûedÅÿ›í %s"), 
	`quŸe
 (
fûe
));

164 i‡(
ö_home
)

165 
	`îr‹
 (0, 
ßved_î∫o2
, 
	`_
("failedÅo open %s"),

166 
	`quŸe
 (
ö_home
));

167 
	`exô
 (
exô_öã∫Æ_Áûuª
);

169 
fûe
 = 
ö_home
;

172 
	`umask
 (
umask_vÆue
);

173 
	`îr‹
 (0, 0,

174 
	`_
(
ign‹ög_öput


175 ? 
	`N_
("ignoring inputándáppending outputÅo %s")

176 : 
	`N_
("appending outputÅo %s")),

177 
	`quŸe
 (
fûe
));

178 
	`‰ì
 (
ö_home
);

182 i‡(
ªdúe˘ög_°dîr
)

188 
ßved_°dîr_fd
 = 
	`dup
 (
STDERR_FILENO
);

190 i‡(0 <
ßved_°dîr_fd


191 && 
	`£t_˛€xec_Êag
 (
ßved_°dîr_fd
, 
åue
) != 0)

192 
	`îr‹
 (
exô_öã∫Æ_Áûuª
, 
î∫o
,

193 
	`_
("failedÅo setÅhe copy of stderrÅo close onÉxec"));

195 i‡(!
ªdúe˘ög_°dout
)

196 
	`îr‹
 (0, 0,

197 
	`_
(
ign‹ög_öput


198 ? 
	`N_
("ignoring inputándÑedirecting stderrÅo stdout")

199 : 
	`N_
("redirecting stderrÅo stdout")));

201 i‡(
	`dup2
 (
out_fd
, 
STDERR_FILENO
) < 0)

202 
	`îr‹
 (
exô_öã∫Æ_Áûuª
, 
î∫o
,

203 
	`_
("failedÅoÑedirect standardÉrror"));

205 i‡(
°dout_is_˛o£d
)

206 
	`˛o£
 (
out_fd
);

215 i‡(
	`„º‹
 (
°dîr
))

216 
	`exô
 (
exô_öã∫Æ_Áûuª
);

218 
	`sig«l
 (
SIGHUP
, 
SIG_IGN
);

221 
exô_°©us
;

222 
ßved_î∫o
;

223 **
cmd
 = 
¨gv
 + 
›töd
;

225 
	`execvp
 (*
cmd
, cmd);

226 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

227 
ßved_î∫o
 = 
î∫o
;

235 i‡(
	`dup2
 (
ßved_°dîr_fd
, 
STDERR_FILENO
) == STDERR_FILENO)

236 
	`îr‹
 (0, 
ßved_î∫o
, 
	`_
("ÁûedÅÿru¿comm™d %s"), 
	`quŸe
 (*
cmd
));

238 
	`exô
 (
exô_°©us
);

240 
	}
}

	@nproc.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"≈roc.h
"

27 
	~"quŸe.h
"

28 
	~"x°πﬁ.h
"

31 
	#PROGRAM_NAME
 "≈roc"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("Giu£µêS¸iv™o")

	)

37 
	mALL_OPTION
 = 
CHAR_MAX
 + 1,

38 
	mIGNORE_OPTION


41 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

43 {"Æl", 
no_¨gumít
, 
NULL
, 
ALL_OPTION
},

44 {"ign‹e", 
ªquúed_¨gumít
, 
NULL
, 
IGNORE_OPTION
},

45 {
GETOPT_HELP_OPTION_DECL
},

46 {
GETOPT_VERSION_OPTION_DECL
},

47 {
NULL
, 0, NULL, 0}

51 
	$ußge
 (
°©us
)

53 i‡(
°©us
 !
EXIT_SUCCESS
)

54 
	`emô_åy_hñp
 ();

57 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]...\n"), 
¥ogøm_«me
);

58 
	`Âuts
 (
	`_
("\
Åhênumbî o‡¥o˚ssög unô†avaûabÀÅÿthêcuºíà¥o˚ss,\n\
 may bêÀs†th™Åhênumbî o‡⁄löê¥o˚ss‹s\n\
\n\
"), 
°dout
);

63 
	`Âuts
 (
	`_
("\
--Æ»Öröàthênumbî o‡ö°ÆÀdÖro˚ss‹s\n\
--ign‹e=N i‡possibÀ,Éx˛udêNÖro˚ssög unôs\n\
"), 
°dout
);

68 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

69 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

70 
	`emô_™cûœry_öfo
 ();

72 
	`exô
 (
°©us
);

73 
	}
}

76 
	$maö
 (
¨gc
, **
¨gv
)

78 
≈roc
, 
ign‹e
 = 0;

79 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

80 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

81 
	`£éoˇÀ
 (
LC_ALL
, "");

82 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

83 
	`ãxtdomaö
 (
PACKAGE
);

85 
	`©exô
 (
˛o£_°dout
);

87 
≈roc_quîy
 
mode
 = 
NPROC_CURRENT_OVERRIDABLE
;

91 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
l⁄g›ts
, 
NULL
);

92 i‡(
c
 == -1)

94 
c
)

96 
ˇ£_GETOPT_HELP_CHAR
;

98 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

100 
ALL_OPTION
:

101 
mode
 = 
NPROC_ALL
;

104 
IGNORE_OPTION
:

105 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
ign‹e
, ""Ë!
LONGINT_OK
)

107 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÇumbîÅÿign‹e"), 
›èrg
);

108 
	`ußge
 (
EXIT_FAILURE
);

113 
	`ußge
 (
EXIT_FAILURE
);

117 i‡(
¨gc
 !
›töd
)

119 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

120 
	`ußge
 (
EXIT_FAILURE
);

123 
≈roc
 = 
	`num_¥o˚ss‹s
 (
mode
);

125 i‡(
ign‹e
 < 
≈roc
)

126 
≈roc
 -
ign‹e
;

128 
≈roc
 = 1;

130 
	`¥ötf
 ("%lu\n", 
≈roc
);

132 
	`exô
 (
EXIT_SUCCESS
);

133 
	}
}

	@numfmt.c

17 
	~<c⁄fig.h
>

18 
	~<Êﬂt.h
>

19 
	~<gë›t.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<œngöfo.h
>

24 
	~"mbßlign.h
"

25 
	~"¨gm©ch.h
"

26 
	~"îr‹.h
"

27 
	~"quŸe.h
"

28 
	~"sy°em.h
"

29 
	~"x°πﬁ.h
"

30 
	~"x°∫dup.h
"

33 
	#PROGRAM_NAME
 "numfmt"

	)

35 
	#AUTHORS
 
	`¥›î_«me
 ("Asß‡G‹d⁄")

	)

38 íum { 
	mEXIT_CONVERSION_WARNINGS
 = 2 };

42 
	mFROM_OPTION
 = 
CHAR_MAX
 + 1,

43 
	mFROM_UNIT_OPTION
,

44 
	mTO_OPTION
,

45 
	mTO_UNIT_OPTION
,

46 
	mROUND_OPTION
,

47 
	mSUFFIX_OPTION
,

48 
	mGROUPING_OPTION
,

49 
	mPADDING_OPTION
,

50 
	mFIELD_OPTION
,

51 
	mDEBUG_OPTION
,

52 
	mDEV_DEBUG_OPTION
,

53 
	mHEADER_OPTION
,

54 
	mFORMAT_OPTION
,

55 
	mINVALID_OPTION


58 
	esˇÀ_ty≥


60 
	msˇÀ_n⁄e
,

61 
	msˇÀ_auto
,

62 
	msˇÀ_SI
,

63 
	msˇÀ_IEC
,

64 
	msˇÀ_IEC_I


67 c⁄° *c⁄° 
	gsˇÀ_‰om_¨gs
[] =

69 "n⁄e", "auto", "si", "õc", "õc-i", 
NULL


72 
sˇÀ_ty≥
 c⁄° 
	gsˇÀ_‰om_ty≥s
[] =

74 
sˇÀ_n⁄e
, 
sˇÀ_auto
, 
sˇÀ_SI
, 
sˇÀ_IEC
, 
sˇÀ_IEC_I


77 c⁄° *c⁄° 
	gsˇÀ_to_¨gs
[] =

79 "n⁄e", "si", "õc", "õc-i", 
NULL


82 
sˇÀ_ty≥
 c⁄° 
	gsˇÀ_to_ty≥s
[] =

84 
sˇÀ_n⁄e
, 
sˇÀ_SI
, 
sˇÀ_IEC
, 
sˇÀ_IEC_I


88 
	eround_ty≥


90 
	mround_˚ûög
,

91 
	mround_Êo‹
,

92 
	mround_‰om_zîo
,

93 
	mround_to_zîo
,

94 
	mround_√¨e°
,

97 c⁄° *c⁄° 
	ground_¨gs
[] =

99 "up", "down", "‰om-zîo", "tow¨ds-zîo", "√¨e°", 
NULL


102 
round_ty≥
 c⁄° 
	ground_ty≥s
[] =

104 
round_˚ûög
, 
round_Êo‹
, 
round_‰om_zîo
, 
round_to_zîo
, 
round_√¨e°


108 
	eövÆ_ty≥


110 
	mövÆ_ab‹t
,

111 
	mövÆ_Áû
,

112 
	mövÆ_w¨n
,

113 
	mövÆ_ign‹e


116 c⁄° *c⁄° 
	gövÆ_¨gs
[] =

118 "ab‹t", "Áû", "w¨n", "ign‹e", 
NULL


121 
övÆ_ty≥
 c⁄° 
	gövÆ_ty≥s
[] =

123 
övÆ_ab‹t
, 
övÆ_Áû
, 
övÆ_w¨n
, 
övÆ_ign‹e


126 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

128 {"‰om", 
ªquúed_¨gumít
, 
NULL
, 
FROM_OPTION
},

129 {"‰om-unô", 
ªquúed_¨gumít
, 
NULL
, 
FROM_UNIT_OPTION
},

130 {"to", 
ªquúed_¨gumít
, 
NULL
, 
TO_OPTION
},

131 {"to-unô", 
ªquúed_¨gumít
, 
NULL
, 
TO_UNIT_OPTION
},

132 {"round", 
ªquúed_¨gumít
, 
NULL
, 
ROUND_OPTION
},

133 {"∑ddög", 
ªquúed_¨gumít
, 
NULL
, 
PADDING_OPTION
},

134 {"suffix", 
ªquúed_¨gumít
, 
NULL
, 
SUFFIX_OPTION
},

135 {"groupög", 
no_¨gumít
, 
NULL
, 
GROUPING_OPTION
},

136 {"dñimôî", 
ªquúed_¨gumít
, 
NULL
, 'd'},

137 {"fõld", 
ªquúed_¨gumít
, 
NULL
, 
FIELD_OPTION
},

138 {"debug", 
no_¨gumít
, 
NULL
, 
DEBUG_OPTION
},

139 {"-debug", 
no_¨gumít
, 
NULL
, 
DEV_DEBUG_OPTION
},

140 {"hódî", 
›ti⁄Æ_¨gumít
, 
NULL
, 
HEADER_OPTION
},

141 {"f‹m©", 
ªquúed_¨gumít
, 
NULL
, 
FORMAT_OPTION
},

142 {"övÆid", 
ªquúed_¨gumít
, 
NULL
, 
INVALID_OPTION
},

143 {
GETOPT_HELP_OPTION_DECL
},

144 {
GETOPT_VERSION_OPTION_DECL
},

145 {
NULL
, 0, NULL, 0}

149 íum { 
	mDELIMITER_DEFAULT
 = 
CHAR_MAX
 + 1 };

153 íum { 
	mMAX_UNSCALED_DIGITS
 = 18 };

159 íum { 
	mMAX_ACCEPTABLE_DIGITS
 = 27 };

161 
sˇÀ_ty≥
 
	gsˇÀ_‰om
 = 
sˇÀ_n⁄e
;

162 
sˇÀ_ty≥
 
	gsˇÀ_to
 = 
sˇÀ_n⁄e
;

163 
round_ty≥
 
	g_round
 = 
round_‰om_zîo
;

164 
övÆ_ty≥
 
	g_övÆid
 = 
övÆ_ab‹t
;

165 c⁄° *
	gsuffix
 = 
NULL
;

166 
uötmax_t
 
	g‰om_unô_size
 = 1;

167 
uötmax_t
 
	gto_unô_size
 = 1;

168 
	ggroupög
 = 0;

169 *
	g∑ddög_buf„r
 = 
NULL
;

170 
size_t
 
	g∑ddög_buf„r_size
 = 0;

171 
	g∑ddög_width
 = 0;

172 c⁄° *
	gf‹m©_°r
 = 
NULL
;

173 *
	gf‹m©_°r_¥efix
 = 
NULL
;

174 *
	gf‹m©_°r_suffix
 = 
NULL
;

177 
	gc⁄v_exô_code
 = 
EXIT_CONVERSION_WARNINGS
;

181 
	gauto_∑ddög
 = 0;

182 
mbs_Æign_t
 
	g∑ddög_Æignmít
 = 
MBS_ALIGN_RIGHT
;

183 
	gfõld
 = 1;

184 
	gdñimôî
 = 
DELIMITER_DEFAULT
;

187 
uötmax_t
 
	ghódî
 = 0;

191 
boﬁ
 
	gdebug
;

194 c⁄° *
	gdecimÆ_poöt
;

195 
	gdecimÆ_poöt_Àngth
;

198 
boﬁ
 
	gdev_debug
 = 
Ál£
;

204 
ölöe
 

205 
	$devmsg
 (c⁄° *
fmt
, ...)

207 i‡(
dev_debug
)

209 
va_li°
 
≠
;

210 
	`va_°¨t
 (
≠
, 
fmt
);

211 
	`vÂrötf
 (
°dîr
, 
fmt
, 
≠
);

212 
	`va_íd
 (
≠
);

214 
	}
}

216 
ölöe
 

217 
	$deÁu…_sˇÀ_ba£
 (
sˇÀ_ty≥
 
sˇÀ
)

219 
sˇÀ
)

221 
sˇÀ_IEC
:

222 
sˇÀ_IEC_I
:

225 
sˇÀ_n⁄e
:

226 
sˇÀ_auto
:

227 
sˇÀ_SI
:

231 
	}
}

233 
ölöe
 

234 
	$vÆid_suffix
 (c⁄° 
suf
)

236 c⁄° *
vÆid_suffixes
 = "KMGTPEZY";

237  (
	`°rchr
 (
vÆid_suffixes
, 
suf
Ë!
NULL
);

238 
	}
}

240 
ölöe
 

241 
	$suffix_powî
 (c⁄° 
suf
)

243 
suf
)

272 
	}
}

274 
ölöe
 const *

275 
	$suffix_powî_ch¨a˘î
 (
powî
)

277 
powî
)

309 
	}
}

313 
	$powîld
 (
ba£
, 
x
)

315 
ªsu…
 = 
ba£
;

316 i‡(
x
 == 0)

322 --
x
)

323 
ªsu…
 *
ba£
;

324  
ªsu…
;

325 
	}
}

328 
ölöe
 

329 
	$ab¶d
 (
vÆ
)

331  
vÆ
 < 0 ? -val : val;

332 
	}
}

339 
	$ex∂d
 (
vÆ
, 
ba£
, *
x
)

341 
powî
 = 0;

343 i‡(
vÆ
 >-
LDBL_MAX
 && val <= LDBL_MAX)

345 
	`ab¶d
 (
vÆ
Ë>
ba£
)

347 ++
powî
;

348 
vÆ
 /
ba£
;

351 i‡(
x
)

352 *
x
 = 
powî
;

353  
vÆ
;

354 
	}
}

358 
ölöe
 
ötmax_t


359 
	$sim∂e_round_˚ûög
 (
vÆ
)

361 
ötmax_t
 
ötvÆ
 = 
vÆ
;

362 i‡(
ötvÆ
 < 
vÆ
)

363 
ötvÆ
++;

364  
ötvÆ
;

365 
	}
}

369 
ölöe
 
ötmax_t


370 
	$sim∂e_round_Êo‹
 (
vÆ
)

372  -
	`sim∂e_round_˚ûög
 (-
vÆ
);

373 
	}
}

377 
ölöe
 
ötmax_t


378 
	$sim∂e_round_‰om_zîo
 (
vÆ
)

380  
vÆ
 < 0 ? 
	`sim∂e_round_Êo‹
 (vÆË: 
	`sim∂e_round_˚ûög
 (val);

381 
	}
}

385 
ölöe
 
ötmax_t


386 
	$sim∂e_round_to_zîo
 (
vÆ
)

388  
vÆ
;

389 
	}
}

393 
ölöe
 
ötmax_t


394 
	$sim∂e_round_√¨e°
 (
vÆ
)

396  
vÆ
 < 0 ? val - 0.5 : val + 0.5;

397 
	}
}

399 
ölöe
 
ötmax_t


400 
	$sim∂e_round
 (
vÆ
, 
round_ty≥
 
t
)

402 
t
)

404 
round_˚ûög
:

405  
	`sim∂e_round_˚ûög
 (
vÆ
);

407 
round_Êo‹
:

408  
	`sim∂e_round_Êo‹
 (
vÆ
);

410 
round_‰om_zîo
:

411  
	`sim∂e_round_‰om_zîo
 (
vÆ
);

413 
round_to_zîo
:

414  
	`sim∂e_round_to_zîo
 (
vÆ
);

416 
round_√¨e°
:

417  
	`sim∂e_round_√¨e°
 (
vÆ
);

423 
	}
}

425 
	esim∂e_°πod_îr‹


427 
	mSSE_OK
 = 0,

428 
	mSSE_OK_PRECISION_LOSS
,

429 
	mSSE_OVERFLOW
,

430 
	mSSE_INVALID_NUMBER
,

433 
	mSSE_VALID_BUT_FORBIDDEN_SUFFIX
,

434 
	mSSE_INVALID_SUFFIX
,

435 
	mSSE_MISSING_I_SUFFIX


454 
sim∂e_°πod_îr‹


455 
	$sim∂e_°πod_öt
 (c⁄° *
öput_°r
,

456 **
íd±r
, *
vÆue
, 
boﬁ
 *
√g©ive
)

458 
sim∂e_°πod_îr‹
 
e
 = 
SSE_OK
;

460 
vÆ
 = 0;

461 
digôs
 = 0;

463 i‡(*
öput_°r
 == '-')

465 
öput_°r
++;

466 *
√g©ive
 = 
åue
;

469 *
√g©ive
 = 
Ál£
;

471 *
íd±r
 = (*Ë
öput_°r
;

472 *
íd±r
 && 
	`isdigô
 (**endptr))

474 
digô
 = (**
íd±r
) - '0';

477 i‡(
digô
 < 0 || digit > 9)

478  
SSE_INVALID_NUMBER
;

480 i‡(
digôs
 > 
MAX_UNSCALED_DIGITS
)

481 
e
 = 
SSE_OK_PRECISION_LOSS
;

483 ++
digôs
;

484 i‡(
digôs
 > 
MAX_ACCEPTABLE_DIGITS
)

485  
SSE_OVERFLOW
;

487 
vÆ
 *= 10;

488 
vÆ
 +
digô
;

490 ++(*
íd±r
);

492 i‡(
digôs
 == 0)

493  
SSE_INVALID_NUMBER
;

494 i‡(*
√g©ive
)

495 
vÆ
 = -val;

497 i‡(
vÆue
)

498 *
vÆue
 = 
vÆ
;

500  
e
;

501 
	}
}

517 
sim∂e_°πod_îr‹


518 
	$sim∂e_°πod_Êﬂt
 (c⁄° *
öput_°r
,

519 **
íd±r
,

520 *
vÆue
,

521 
size_t
 *
¥ecisi⁄
)

523 
boﬁ
 
√g©ive
;

524 
sim∂e_°πod_îr‹
 
e
 = 
SSE_OK
;

526 i‡(
¥ecisi⁄
)

527 *
¥ecisi⁄
 = 0;

530 
e
 = 
	`sim∂e_°πod_öt
 (
öput_°r
, 
íd±r
, 
vÆue
, &
√g©ive
);

531 i‡(
e
 !
SSE_OK
 &&É !
SSE_OK_PRECISION_LOSS
)

532  
e
;

536 i‡(
	`STREQ_LEN
 (*
íd±r
, 
decimÆ_poöt
, 
decimÆ_poöt_Àngth
))

538 *
±r2
;

539 
vÆ_‰ac
 = 0;

540 
boﬁ
 
√g_‰ac
;

542 (*
íd±r
Ë+
decimÆ_poöt_Àngth
;

543 
sim∂e_°πod_îr‹
 
e2
 =

544 
	`sim∂e_°πod_öt
 (*
íd±r
, &
±r2
, &
vÆ_‰ac
, &
√g_‰ac
);

545 i‡(
e2
 !
SSE_OK
 &&É2 !
SSE_OK_PRECISION_LOSS
)

546  
e2
;

547 i‡(
e2
 =
SSE_OK_PRECISION_LOSS
)

548 
e
 = 
e2
;

549 i‡(
√g_‰ac
)

550  
SSE_INVALID_NUMBER
;

553 
size_t
 
exp⁄ít
 = 
±r2
 - *
íd±r
;

555 
vÆ_‰ac
 = ((ËvÆ_‰acË/ 
	`powîld
 (10, 
exp⁄ít
);

557 i‡(
vÆue
)

559 i‡(
√g©ive
)

560 *
vÆue
 -
vÆ_‰ac
;

562 *
vÆue
 +
vÆ_‰ac
;

565 i‡(
¥ecisi⁄
)

566 *
¥ecisi⁄
 = 
exp⁄ít
;

568 *
íd±r
 = 
±r2
;

570  
e
;

571 
	}
}

592 
sim∂e_°πod_îr‹


593 
	$sim∂e_°πod_hum™
 (c⁄° *
öput_°r
,

594 **
íd±r
, *
vÆue
, 
size_t
 *
¥ecisi⁄
,

595 
sˇÀ_ty≥
 
Ælowed_sˇlög
)

597 
powî
 = 0;

599 
sˇÀ_ba£
 = 
	`deÁu…_sˇÀ_ba£
 (
Ælowed_sˇlög
);

601 
	`devmsg
 ("simple_strtod_human:\n input string: '%s'\n "

602 "loˇÀ decimÆ-poöt: '%s'\n", 
öput_°r
, 
decimÆ_poöt
);

604 
sim∂e_°πod_îr‹
 
e
 =

605 
	`sim∂e_°πod_Êﬂt
 (
öput_°r
, 
íd±r
, 
vÆue
, 
¥ecisi⁄
);

606 i‡(
e
 !
SSE_OK
 &&É !
SSE_OK_PRECISION_LOSS
)

607  
e
;

609 
	`devmsg
 ("ÖarsedÇumeric value: %Lf\n"

610 " i≈uà¥ecisi⁄ = %d\n", *
vÆue
, ()*
¥ecisi⁄
);

612 i‡(**
íd±r
 != '\0')

617 
	`isbœnk
 (**
íd±r
))

618 (*
íd±r
)++;

620 i‡(!
	`vÆid_suffix
 (**
íd±r
))

621  
SSE_INVALID_SUFFIX
;

623 i‡(
Ælowed_sˇlög
 =
sˇÀ_n⁄e
)

624  
SSE_VALID_BUT_FORBIDDEN_SUFFIX
;

626 
powî
 = 
	`suffix_powî
 (**
íd±r
);

627 (*
íd±r
)++;

629 i‡(
Ælowed_sˇlög
 =
sˇÀ_auto
 && **
íd±r
 == 'i')

633 
sˇÀ_ba£
 = 1024;

634 (*
íd±r
)++;

635 
	`devmsg
 (" Auto-scaling, found 'i', switchingÅo base %d\n",

636 
sˇÀ_ba£
);

639 *
¥ecisi⁄
 = 0;

642 i‡(
Ælowed_sˇlög
 =
sˇÀ_IEC_I
)

644 i‡(**
íd±r
 == 'i')

645 (*
íd±r
)++;

647  
SSE_MISSING_I_SUFFIX
;

650 
mu…ùlõr
 = 
	`powîld
 (
sˇÀ_ba£
, 
powî
);

652 
	`devmsg
 (" suffixÖowî=%d^%d = %Lf\n", 
sˇÀ_ba£
, 
powî
, 
mu…ùlõr
);

655 (*
vÆue
Ë(*vÆueË* 
mu…ùlõr
;

657 
	`devmsg
 ("Ñëu∫ög vÆue: %L‡(%LG)\n", *
vÆue
, *value);

659  
e
;

660 
	}
}

664 
	$sim∂e_°πod_Áèl
 (
sim∂e_°πod_îr‹
 
îr
, c⁄° *
öput_°r
)

666 c⁄° *
msgid
 = 
NULL
;

668 
îr
)

670 
SSE_OK_PRECISION_LOSS
:

671 
SSE_OK
:

673 
	`ab‹t
 ();

675 
SSE_OVERFLOW
:

676 
msgid
 = 
	`N_
("valueÅooÜargeÅo be converted: '%s'");

679 
SSE_INVALID_NUMBER
:

680 
msgid
 = 
	`N_
("invalidÇumber: '%s'");

683 
SSE_VALID_BUT_FORBIDDEN_SUFFIX
:

684 
msgid
 = 
	`N_
("rejecting suffix in input: '%s' (consider using --from)");

687 
SSE_INVALID_SUFFIX
:

688 
msgid
 = 
	`N_
("invalid suffix in input: '%s'");

691 
SSE_MISSING_I_SUFFIX
:

692 
msgid
 = 
	`N_
("missing 'i' suffix in input: '%s' (e.g Ki/Mi/Gi)");

697 i‡(
_övÆid
 !
övÆ_ign‹e
)

698 
	`îr‹
 (
c⁄v_exô_code
, 0, 
	`gëãxt
 (
msgid
), 
öput_°r
);

699 
	}
}

703 
	$doubÀ_to_hum™
 (
vÆ
, 
¥ecisi⁄
,

704 *
buf
, 
size_t
 
buf_size
,

705 
sˇÀ_ty≥
 
sˇÀ
, 
group
, 
round_ty≥
 
round
)

707 
	`devmsg
 ("double_to_human:\n");

709 i‡(
sˇÀ
 =
sˇÀ_n⁄e
)

711 
vÆ
 *
	`powîld
 (10, 
¥ecisi⁄
);

712 
vÆ
 = 
	`sim∂e_round
 (vÆ, 
round
);

713 
vÆ
 /
	`powîld
 (10, 
¥ecisi⁄
);

715 
	`devmsg
 ((
group
) ?

717 "Çÿsˇlög,Ñëu∫ög vÆue: %.*Lf\n", 
¥ecisi⁄
, 
vÆ
);

719 
i
 = 
	`¢¥ötf
 (
buf
, 
buf_size
, (
group
) ? "%'.*Lf" : "%.*Lf",

720 
¥ecisi⁄
, 
vÆ
);

721 i‡(
i
 < 0 || i >(Ë
buf_size
)

722 
	`îr‹
 (
EXIT_FAILURE
, 0,

723 
	`_
("ÁûedÅÿ¥ï¨êvÆuê'%Lf' f‹Örötög"), 
vÆ
);

728 
sˇÀ_ba£
 = 
	`deÁu…_sˇÀ_ba£
 (
sˇÀ
);

731 
powî
 = 0;

732 
vÆ
 = 
	`ex∂d
 (vÆ, 
sˇÀ_ba£
, &
powî
);

733 
	`devmsg
 (" sˇÀd vÆuêtÿ%L‡* %0.‡^ %d\n", 
vÆ
, 
sˇÀ_ba£
, 
powî
);

736 
ãn_‹_Àss
 = 0;

737 i‡(
	`ab¶d
 (
vÆ
) < 10)

741 
ãn_‹_Àss
 = 1;

742 
vÆ
 *= 10;

744 
vÆ
 = 
	`sim∂e_round
 (vÆ, 
round
);

748 i‡(
	`ab¶d
 (
vÆ
Ë>
sˇÀ_ba£
)

750 
vÆ
 /
sˇÀ_ba£
;

751 
powî
++;

753 i‡(
ãn_‹_Àss
)

754 
vÆ
 /= 10;

758 
show_decimÆ_poöt
 = (
vÆ
 !0Ë&& (
	`ab¶d
 (vÆË< 10Ë&& (
powî
 > 0);

761 
	`devmsg
 ("á·îÑoundög, vÆue=%L‡* %0.‡^ %d\n", 
vÆ
, 
sˇÀ_ba£
, 
powî
);

763 
	`¢¥ötf
 (
buf
, 
buf_size
, (
show_decimÆ_poöt
) ? "%.1Lf%s" : "%.0Lf%s",

764 
vÆ
, 
	`suffix_powî_ch¨a˘î
 (
powî
));

766 i‡(
sˇÀ
 =
sˇÀ_IEC_I
 && 
powî
 > 0)

767 
	`°∫ˇt
 (
buf
, "i", 
buf_size
 - 
	`°æí
 (buf) - 1);

769 
	`devmsg
 ("Ñëu∫ög vÆue: '%s'\n", 
buf
);

772 
	}
}

777 
uötmax_t


778 
	$unô_to_umax
 (c⁄° *
n_°rög
)

780 
°πﬁ_îr‹
 
s_îr
;

781 *
íd
 = 
NULL
;

782 
uötmax_t
 
n
;

784 
s_îr
 = 
	`x°πoumax
 (
n_°rög
, &
íd
, 10, &
n
, "KMGTPEZY");

786 i‡(
s_îr
 !
LONGINT_OK
 || *
íd
 || 
n
 == 0)

787 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid unô size: '%s'"), 
n_°rög
);

789  
n
;

790 
	}
}

794 
	$£tup_∑ddög_buf„r
 (
size_t
 
mö_size
)

796 i‡(
∑ddög_buf„r_size
 > 
mö_size
)

799 
∑ddög_buf„r_size
 = 
mö_size
 + 1;

800 
∑ddög_buf„r
 = 
	`ªÆloc
 (∑ddög_buf„r, 
∑ddög_buf„r_size
);

801 i‡(!
∑ddög_buf„r
)

802 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

803 
∑ddög_buf„r_size
);

804 
	}
}

807 
	$ußge
 (
°©us
)

809 i‡(
°©us
 !
EXIT_SUCCESS
)

810 
	`emô_åy_hñp
 ();

813 
	`¥ötf
 (
	`_
("\
: %†[OPTION]... [NUMBER]...\n\
"), 
¥ogøm_«me
);

816 
	`Âuts
 (
	`_
("\
 NUMBER(s), o∏thênumbî†‰om sènd¨d i≈uài‡n⁄ê¨ê•ecifõd.\n\
"), 
°dout
);

819 
	`emô_m™d©‹y_¨g_nŸe
 ();

820 
	`Âuts
 (
	`_
("\
--debugÖröàw¨nög†abouàövÆid i≈ut\n\
"), 
°dout
);

823 
	`Âuts
 (
	`_
("\
-d, --dñimôî=X u£ X in°ód o‡whôe•a˚ f‹ fõld dñimôî\n\
"), 
°dout
);

826 
	`Âuts
 (
	`_
("\
--fõld=NÑïœ˚Åhênumbî i¿öpuàfõld N (deÁu… i†1)\n\
"), 
°dout
);

829 
	`Âuts
 (
	`_
("\
--f‹m©=FORMAT u£Öröt‡°yÀ flﬂtög-poöàFORMAT;\n\
 FORMAT bñow f‹ dëaûs\n\
"), 
°dout
);

833 
	`Âuts
 (
	`_
("\
--‰om=UNITáuto-sˇÀ i≈uànumbî†tÿUNITs; deÁu… i†'n⁄e';\n\
 UNIT bñow\n\
"), 
°dout
);

837 
	`Âuts
 (
	`_
("\
--‰om-unô=N s≥cifyÅhêöpuàunô sizê(ö°ód o‡thêdeÁu… 1)\n\
"), 
°dout
);

840 
	`Âuts
 (
	`_
("\
--groupög u£ÜoˇÀ-deföed groupög o‡digôs,É.g. 1,000,000\n\
(which món†ô ha†nÿef„˘ i¿thêC/POSIXÜoˇÀ)\n\
"), 
°dout
);

844 
	`Âuts
 (
	`_
("\
--hódî[=N]Öröà(wôhouàc⁄vîtögËthêfú° N hódîÜöes;\n\
 deÁu…†tÿ1 i‡nŸ s≥cifõd\n\
"), 
°dout
);

848 
	`Âuts
 (
	`_
("\
--övÆid=MODE faûuª modêf‹ invÆidÇumbîs: MODE c™ be:\n\
 (deÁu…), faû, w¨n, ign‹e\n\
"), 
°dout
);

852 
	`Âuts
 (
	`_
("\
--∑ddög=NÖadÅhêouçuàtÿN ch¨a˘îs;ÖosôivêN wûl\n\
-Æign;Çeg©ivêN wû»À·-Æign;\n\
 i†ign‹ed i‡thêouçuài†widîÅh™ N;\n\
 deÁu… i†tÿautom©iˇŒyÖad i‡®whôe•a˚\n\
 found\n\
"), 
°dout
);

859 
	`Âuts
 (
	`_
("\
--round=METHOD u£ METHOD f‹Ñoundög whí sˇlög; METHOD c™ be:\n\
, down, from-zîÿ(deÁu…),Åow¨ds-zîo,Çóª°\n\
"), 
°dout
);

863 
	`Âuts
 (
	`_
("\
--suffix=SUFFIXádd SUFFIXÅÿouçuànumbîs,ándác˚± o±i⁄Æ\n\
 i¿öpuànumbîs\n\
"), 
°dout
);

867 
	`Âuts
 (
	`_
("\
--to=UNITáuto-sˇÀ ouçuànumbî†tÿUNITs; sì UNIT bñow\n\
"), 
°dout
);

870 
	`Âuts
 (
	`_
("\
--to-unô=NÅhêouçuàunô sizê(ö°ód o‡thêdeÁu… 1)\n\
"), 
°dout
);

874 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

875 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

877 
	`Âuts
 (
	`_
("\
\n\
 o±i⁄s:\n"), 
°dout
);

880 
	`Âuts
 (
	`_
("\
Çÿauto-sˇlög i†d⁄e; suffixe†wû»åiggîá¿îr‹\n\
"), 
°dout
);

883 
	`Âuts
 (
	`_
("\
ác˚± o±i⁄Æ sögÀ/twÿÀâî suffix:\n\
1K = 1000,\n\
1Kò1024,\n\
1M = 1000000,\n\
1Mò1048576,\n"), 
°dout
);

889 
	`Âuts
 (
	`_
("\
ác˚± o±i⁄Æ sögÀÜëã∏suffix:\n\
1K = 1000,\n\
1M = 1000000,\n\
...\n"), 
°dout
);

894 
	`Âuts
 (
	`_
("\
ác˚± o±i⁄Æ sögÀÜëã∏suffix:\n\
1K = 1024,\n\
1M = 1048576,\n\
...\n"), 
°dout
);

899 
	`Âuts
 (
	`_
("\
-òác˚± o±i⁄ÆÅwo-Àâî suffix:\n\
1Kò1024,\n\
1Mò1048576,\n\
...\n"), 
°dout
);

905 
	`Âuts
 (
	`_
("\n\
 mu° bêsuôabÀ f‹Örötög o√ flﬂtög-poöà¨gumíà'%f'.\n\
 quŸê(%'fËwû»íabÀ --groupög (i‡suµ‹ãd by cuºíàloˇÀ).\n\
 width vÆuê(%10fËwû»∑d ouçut. O±i⁄ÆÇeg©ivêwidth vÆues\n\
(%-10fËwû»À·-∑d ouçut.\n\
"), 
°dout
);

912 
	`¥ötf
 (
	`_
("\n\
 sètu†i†0 i‡Æ»öpuànumbî†wîêsuc˚ssfuŒy c⁄vîãd.\n\
 deÁu…, %†wû»°›áàthêfú° c⁄vîsi⁄Éº‹ wôhÉxô sètu†2.\n\
 --övÆid='Áû'á w¨nög i†¥öãd f‹Éach c⁄vîsi⁄Éº‹\n\
Åhêexô sètu†i†2. Wôh --övÆid='w¨n'Éach c⁄vîsi⁄Éº‹ is\n\
, buàthêexô sètu†i†0. Wôh --övÆid='ign‹e' c⁄vîsi⁄\n\
áªÇŸ dügno£dándÅhêexô sètu†i†0.\n\
"), 
¥ogøm_«me
);

921 
	`¥ötf
 (
	`_
("\n\
:\n\
$ %s --to=si 1000\n\
-> \"1.0K\"\n\
$ %s --to=iec 2048\n\
-> \"2.0K\"\n\
$ %s --to=iec-i 4096\n\
-> \"4.0Ki\"\n\
$Écho 1K | %s --from=si\n\
-> \"1000\"\n\
$Écho 1K | %s --from=iec\n\
-> \"1024\"\n\
$ df | %s --header --field 2 --to=si\n\
$Üs -l | %s --header --field 5 --to=iec\n\
$Üs -lh | %s --header --field 5 --from=iec --padding=10\n\
$Üs -lh | %s --header --field 5 --from=iec --format %%10f\n"),

937 
¥ogøm_«me
,Örogram_name,Örogram_name,

938 
¥ogøm_«me
,Örogram_name,Örogram_name,

939 
¥ogøm_«me
,Örogram_name,Örogram_name);

940 
	`emô_™cûœry_öfo
 ();

942 
	`exô
 (
°©us
);

943 
	}
}

962 
	$∑r£_f‹m©_°rög
 (c⁄° *
fmt
)

964 
size_t
 
i
;

965 
size_t
 
¥efix_Àn
 = 0;

966 
size_t
 
suffix_pos
;

967 
∑d
 = 0;

968 *
íd±r
 = 
NULL
;

970 
i
 = 0; !(
fmt
[i] == '%' && fmt[i + 1] != '%'); i += (fmt[i] == '%') + 1)

972 i‡(!
fmt
[
i
])

973 
	`îr‹
 (
EXIT_FAILURE
, 0,

974 
	`_
("f‹m© %†ha†nÿ%% dúe˘ive"), 
	`quŸe
 (
fmt
));

975 
¥efix_Àn
++;

978 
i
++;

979 
i
 +
	`°r•n
 (
fmt
 + i, " ");

980 i‡(
fmt
[
i
] == '\'')

982 
groupög
 = 1;

983 
i
++;

985 
i
 +
	`°r•n
 (
fmt
 + i, " ");

986 
î∫o
 = 0;

987 
∑d
 = 
	`°πﬁ
 (
fmt
 + 
i
, &
íd±r
, 10);

988 i‡(
î∫o
 =
ERANGE
)

989 
	`îr‹
 (
EXIT_FAILURE
, 0,

990 
	`_
("övÆid f‹m© %†(width ovîÊow)"), 
	`quŸe
 (
fmt
));

992 i‡(
íd±r
 !(
fmt
 + 
i
Ë&& 
∑d
 != 0)

994 i‡(
∑d
 < 0)

996 
∑ddög_Æignmít
 = 
MBS_ALIGN_LEFT
;

997 
∑ddög_width
 = -
∑d
;

1001 
∑ddög_width
 = 
∑d
;

1004 
i
 = 
íd±r
 - 
fmt
;

1006 i‡(
fmt
[
i
] == '\0')

1007 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("f‹m© %†íd†ö %%"), 
	`quŸe
 (
fmt
));

1009 i‡(
fmt
[
i
] != 'f')

1010 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid format %s,"

1012 
	`quŸe
 (
fmt
));

1013 
i
++;

1014 
suffix_pos
 = 
i
;

1016 ; 
fmt
[
i
] != '\0'; i += (fmt[i] == '%') + 1)

1017 i‡(
fmt
[
i
] == '%' && fmt[i + 1] != '%')

1018 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("format %s hasÅoo many %% directives"),

1019 
	`quŸe
 (
fmt
));

1021 i‡(
¥efix_Àn
)

1023 
f‹m©_°r_¥efix
 = 
	`x°∫dup
 (
fmt
, 
¥efix_Àn
);

1024 i‡(!
f‹m©_°r_¥efix
)

1025 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

1026 
¥efix_Àn
 + 1);

1028 i‡(
fmt
[
suffix_pos
] != '\0')

1030 
f‹m©_°r_suffix
 = 
	`°rdup
 (
fmt
 + 
suffix_pos
);

1031 i‡(!
f‹m©_°r_suffix
)

1032 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

1033 
	`°æí
 (
fmt
 + 
suffix_pos
));

1036 
	`devmsg
 ("format String:\n input: %s\n grouping: %s\n"

1039 
	`quŸe
 (
fmt
), (
groupög
) ? "yes" : "no",

1040 
∑ddög_width
,

1041 (
∑ddög_Æignmít
 =
MBS_ALIGN_LEFT
) ? "Left" : "Right",

1042 
f‹m©_°r_¥efix
, 
f‹m©_°r_suffix
);

1043 
	}
}

1053 
sim∂e_°πod_îr‹


1054 
	$∑r£_hum™_numbî
 (c⁄° *
°r
, *
vÆue
,

1055 
size_t
 *
¥ecisi⁄
)

1057 *
±r
 = 
NULL
;

1059 
sim∂e_°πod_îr‹
 
e
 =

1060 
	`sim∂e_°πod_hum™
 (
°r
, &
±r
, 
vÆue
, 
¥ecisi⁄
, 
sˇÀ_‰om
);

1061 i‡(
e
 !
SSE_OK
 &&É !
SSE_OK_PRECISION_LOSS
)

1063 
	`sim∂e_°πod_Áèl
 (
e
, 
°r
);

1064  
e
;

1067 i‡(
±r
 && *ptr != '\0')

1069 i‡(
_övÆid
 !
övÆ_ign‹e
)

1070 
	`îr‹
 (
c⁄v_exô_code
, 0, 
	`_
("invalid suffix in input '%s': '%s'"),

1071 
°r
, 
±r
);

1072 
e
 = 
SSE_INVALID_SUFFIX
;

1074  
e
;

1075 
	}
}

1081 
	$¥ï¨e_∑dded_numbî
 (c⁄° 
vÆ
, 
size_t
 
¥ecisi⁄
)

1084 
buf
[128];

1087 
x
;

1088 
	`ex∂d
 (
vÆ
, 10, &
x
);

1089 i‡(
sˇÀ_to
 =
sˇÀ_n⁄e
 && 
x
 > 
MAX_UNSCALED_DIGITS
)

1091 i‡(
_övÆid
 !
övÆ_ign‹e
)

1092 
	`îr‹
 (
c⁄v_exô_code
, 0, 
	`_
("valueÅooÜargeÅo beÖrinted: '%Lg'"

1093 " (c⁄sidî usög --to)"), 
vÆ
);

1097 i‡(
x
 > 
MAX_ACCEPTABLE_DIGITS
 - 1)

1099 i‡(
_övÆid
 !
övÆ_ign‹e
)

1100 
	`îr‹
 (
c⁄v_exô_code
, 0, 
	`_
("valueÅooÜargeÅo beÖrinted: '%Lg'"

1101 " (ˇ¬Ÿ h™dÀ vÆue†> 999Y)"), 
vÆ
);

1105 
	`doubÀ_to_hum™
 (
vÆ
, 
¥ecisi⁄
, 
buf
,  (buf), 
sˇÀ_to
, 
groupög
,

1106 
_round
);

1107 i‡(
suffix
)

1108 
	`°∫ˇt
 (
buf
, 
suffix
,  (bufË- 
	`°æí
 (buf) -1);

1110 
	`devmsg
 ("f‹m©tög ouçut:\¿ vÆue: %Lf\¿ hum™ized: '%s'\n", 
vÆ
, 
buf
);

1112 i‡(
∑ddög_width
 && 
	`°æí
 (
buf
) <Öadding_width)

1114 
size_t
 
w
 = 
∑ddög_width
;

1115 
	`mbßlign
 (
buf
, 
∑ddög_buf„r
, 
∑ddög_buf„r_size
, &
w
,

1116 
∑ddög_Æignmít
, 
MBA_UNIBYTE_ONLY
);

1118 
	`devmsg
 (" A·îÖaddög: '%s'\n", 
∑ddög_buf„r
);

1122 
	`£tup_∑ddög_buf„r
 (
	`°æí
 (
buf
) + 1);

1123 
	`°r˝y
 (
∑ddög_buf„r
, 
buf
);

1127 
	}
}

1130 
	$¥öt_∑dded_numbî
 ()

1132 i‡(
f‹m©_°r_¥efix
)

1133 
	`Âuts
 (
f‹m©_°r_¥efix
, 
°dout
);

1135 
	`Âuts
 (
∑ddög_buf„r
, 
°dout
);

1137 i‡(
f‹m©_°r_suffix
)

1138 
	`Âuts
 (
f‹m©_°r_suffix
, 
°dout
);

1139 
	}
}

1144 
	$¥o˚ss_suffixed_numbî
 (*
ãxt
, *
ªsu…
, 
size_t
 *
¥ecisi⁄
)

1146 i‡(
suffix
 && 
	`°æí
 (
ãxt
) > strlen (suffix))

1148 *
possibÀ_suffix
 = 
ãxt
 + 
	`°æí
 (ãxtË- såÀ¿(
suffix
);

1150 i‡(
	`STREQ
 (
suffix
, 
possibÀ_suffix
))

1153 *
possibÀ_suffix
 = '\0';

1154 
	`devmsg
 ("åimmög suffix '%s'\n", 
suffix
);

1157 
	`devmsg
 ("no valid suffix found\n");

1161 *
p
 = 
ãxt
;

1162 *
p
 && 
	`isbœnk
 (*p))

1163 ++
p
;

1164 c⁄° 
skù_cou¡
 = 
ãxt
 - 
p
;

1167 i‡(
auto_∑ddög
)

1169 i‡(
skù_cou¡
 > 0 || 
fõld
 > 1)

1171 
∑ddög_width
 = 
	`°æí
 (
ãxt
);

1172 
	`£tup_∑ddög_buf„r
 (
∑ddög_width
);

1176 
∑ddög_width
 = 0;

1178 
	`devmsg
 ("£âög Auto-PaddögÅÿ%ld ch¨a˘îs\n", 
∑ddög_width
);

1181 
vÆ
 = 0;

1182 
sim∂e_°πod_îr‹
 
e
 = 
	`∑r£_hum™_numbî
 (
p
, &
vÆ
, 
¥ecisi⁄
);

1183 i‡(
e
 =
SSE_OK_PRECISION_LOSS
 && 
debug
)

1184 
	`îr‹
 (0, 0, 
	`_
("œrgêöpuàvÆuê'%s':ÖossibÀÖªcisi⁄Üoss"), 
p
);

1186 i‡(
‰om_unô_size
 !1 || 
to_unô_size
 != 1)

1187 
vÆ
 = (vÆ * 
‰om_unô_size
Ë/ 
to_unô_size
;

1189 *
ªsu…
 = 
vÆ
;

1191  (
e
 =
SSE_OK
 ||É =
SSE_OK_PRECISION_LOSS
);

1192 
	}
}

1197 
ölöe
 *

1198 
__©åibuã
 ((
puª
))

1199 
	$skù_fõlds
 (*
buf
, 
fõlds
)

1201 *
±r
 = 
buf
;

1202 i‡(
dñimôî
 !
DELIMITER_DEFAULT
)

1204 i‡(*
±r
 =
dñimôî
)

1205 
fõlds
--;

1206 *
±r
 && 
fõlds
--)

1208 *
±r
 && *±∏=
dñimôî
)

1209 ++
±r
;

1210 *
±r
 && *±∏!
dñimôî
)

1211 ++
±r
;

1215 *
±r
 && 
fõlds
--)

1217 *
±r
 && 
	`isbœnk
 (*ptr))

1218 ++
±r
;

1219 *
±r
 && !
	`isbœnk
 (*ptr))

1220 ++
±r
;

1222  
±r
;

1223 
	}
}

1237 
	$exåa˘_fõlds
 (*
löe
, 
_fõld
,

1238 ** 
_¥efix
, ** 
_d©a
, ** 
_suffix
)

1240 *
±r
 = 
löe
;

1241 *
_¥efix
 = 
NULL
;

1242 *
_d©a
 = 
NULL
;

1243 *
_suffix
 = 
NULL
;

1245 
	`devmsg
 ("exåa˘ög Fõlds:\¿ i≈ut: '%s'\¿ fõld: %d\n", 
löe
, 
_fõld
);

1247 i‡(
fõld
 > 1)

1250 *
_¥efix
 = 
löe
;

1251 
±r
 = 
	`skù_fõlds
 (
löe
, 
fõld
 - 1);

1252 i‡(*
±r
 == '\0')

1255 
	`devmsg
 (" TOO FEW FIELDS!\¿Öªfix: '%s'\n", *
_¥efix
);

1259 *
±r
 = '\0';

1260 ++
±r
;

1263 *
_d©a
 = 
±r
;

1264 *
_suffix
 = 
	`skù_fõlds
 (*
_d©a
, 1);

1265 i‡(**
_suffix
)

1269 **
_suffix
 = '\0';

1270 ++(*
_suffix
);

1273 *
_suffix
 = 
NULL
;

1275 
	`devmsg
 ("Örefix: '%s'\nÇumber: '%s'\n suffix: '%s'\n",

1276 *
_¥efix
, *
_d©a
, *
_suffix
);

1277 
	}
}

1283 
	$¥o˚ss_löe
 (*
löe
, 
boﬁ
 
√wlöe
)

1285 *
¥e
, *
num
, *
suf
;

1286 
vÆ
 = 0;

1287 
size_t
 
¥ecisi⁄
 = 0;

1288 
vÆid_numbî
 = 0;

1290 
	`exåa˘_fõlds
 (
löe
, 
fõld
, &
¥e
, &
num
, &
suf
);

1291 i‡(!
num
)

1292 i‡(
_övÆid
 !
övÆ_ign‹e
)

1293 
	`îr‹
 (
c⁄v_exô_code
, 0, 
	`_
("inputÜine isÅoo short, "

1295 
fõld
);

1297 i‡(
num
)

1299 
vÆid_numbî
 = 
	`¥o˚ss_suffixed_numbî
 (
num
, &
vÆ
, &
¥ecisi⁄
);

1300 i‡(
vÆid_numbî
)

1301 
vÆid_numbî
 = 
	`¥ï¨e_∑dded_numbî
 (
vÆ
, 
¥ecisi⁄
);

1304 i‡(
¥e
)

1305 
	`Âuts
 (
¥e
, 
°dout
);

1307 i‡(
¥e
 && 
num
)

1308 
	`Âutc
 ((
dñimôî
 =
DELIMITER_DEFAULT
Ë? ' ' : dñimôî, 
°dout
);

1310 i‡(
vÆid_numbî
)

1312 
	`¥öt_∑dded_numbî
 ();

1316 i‡(
num
)

1317 
	`Âuts
 (
num
, 
°dout
);

1320 i‡(
suf
)

1322 
	`Âutc
 ((
dñimôî
 =
DELIMITER_DEFAULT
Ë? ' ' : dñimôî, 
°dout
);

1323 
	`Âuts
 (
suf
, 
°dout
);

1326 i‡(
√wlöe
)

1327 
	`putch¨
 ('\n');

1329  
vÆid_numbî
;

1330 
	}
}

1333 
	$maö
 (
¨gc
, **
¨gv
)

1335 
vÆid_numbîs
 = 1;

1337 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1338 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1339 
	`£éoˇÀ
 (
LC_ALL
, "");

1340 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1341 
	`ãxtdomaö
 (
PACKAGE
);

1343 
decimÆ_poöt
 = 
	`∆_œngöfo
 (
RADIXCHAR
);

1344 i‡(
decimÆ_poöt
 =
NULL
 || 
	`°æí
 (decimal_point) == 0)

1345 
decimÆ_poöt
 = ".";

1346 
decimÆ_poöt_Àngth
 = 
	`°æí
 (
decimÆ_poöt
);

1348 
	`©exô
 (
˛o£_°dout
);

1350 
åue
)

1352 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "d:", 
l⁄g›ts
, 
NULL
);

1354 i‡(
c
 == -1)

1357 
c
)

1359 
FROM_OPTION
:

1360 
sˇÀ_‰om
 = 
	`XARGMATCH
 ("--‰om", 
›èrg
,

1361 
sˇÀ_‰om_¨gs
, 
sˇÀ_‰om_ty≥s
);

1364 
FROM_UNIT_OPTION
:

1365 
‰om_unô_size
 = 
	`unô_to_umax
 (
›èrg
);

1368 
TO_OPTION
:

1369 
sˇÀ_to
 =

1370 
	`XARGMATCH
 ("--to", 
›èrg
, 
sˇÀ_to_¨gs
, 
sˇÀ_to_ty≥s
);

1373 
TO_UNIT_OPTION
:

1374 
to_unô_size
 = 
	`unô_to_umax
 (
›èrg
);

1377 
ROUND_OPTION
:

1378 
_round
 = 
	`XARGMATCH
 ("--round", 
›èrg
, 
round_¨gs
, 
round_ty≥s
);

1381 
GROUPING_OPTION
:

1382 
groupög
 = 1;

1385 
PADDING_OPTION
:

1386 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
∑ddög_width
, ""Ë!
LONGINT_OK


1387 || 
∑ddög_width
 == 0)

1388 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆidÖaddög vÆuê'%s'"), 
›èrg
);

1389 i‡(
∑ddög_width
 < 0)

1391 
∑ddög_Æignmít
 = 
MBS_ALIGN_LEFT
;

1392 
∑ddög_width
 = -padding_width;

1398 
FIELD_OPTION
:

1399 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
fõld
, ""Ë!
LONGINT_OK


1400 || 
fõld
 <= 0)

1401 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid fõld vÆuê'%s'"), 
›èrg
);

1406 i‡(
›èrg
[0] != '\0' && optarg[1] != '\0')

1407 
	`îr‹
 (
EXIT_FAILURE
, 0,

1408 
	`_
("the delimiter must beá single character"));

1409 
dñimôî
 = 
›èrg
[0];

1412 
SUFFIX_OPTION
:

1413 
suffix
 = 
›èrg
;

1416 
DEBUG_OPTION
:

1417 
debug
 = 
åue
;

1420 
DEV_DEBUG_OPTION
:

1421 
dev_debug
 = 
åue
;

1422 
debug
 = 
åue
;

1425 
HEADER_OPTION
:

1426 i‡(
›èrg
)

1428 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
hódî
, ""Ë!
LONGINT_OK


1429 || 
hódî
 == 0)

1430 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid header value '%s'"),

1431 
›èrg
);

1435 
hódî
 = 1;

1439 
FORMAT_OPTION
:

1440 
f‹m©_°r
 = 
›èrg
;

1443 
INVALID_OPTION
:

1444 
_övÆid
 = 
	`XARGMATCH
 ("--övÆid", 
›èrg
, 
övÆ_¨gs
, 
övÆ_ty≥s
);

1447 
ˇ£_GETOPT_HELP_CHAR
;

1448 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1451 
	`ußge
 (
EXIT_FAILURE
);

1455 i‡(
f‹m©_°r
 !
NULL
 && 
groupög
)

1456 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("--grouping cannot be combined with --format"));

1457 i‡(
f‹m©_°r
 !
NULL
 && 
∑ddög_width
 > 0)

1458 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("--padding cannot be combined with --format"));

1461 i‡(
debug
 && 
sˇÀ_‰om
 =
sˇÀ_n⁄e
 && 
sˇÀ_to
 == scale_none

1462 && !
groupög
 && (
∑ddög_width
 =0Ë&& (
f‹m©_°r
 =
NULL
))

1463 
	`îr‹
 (0, 0, 
	`_
("no conversion option specified"));

1465 i‡(
f‹m©_°r
)

1466 
	`∑r£_f‹m©_°rög
 (
f‹m©_°r
);

1468 i‡(
groupög
)

1470 i‡(
sˇÀ_to
 !
sˇÀ_n⁄e
)

1471 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("grouping cannot be combined with --to"));

1472 i‡(
debug
 && (
	`°æí
 (
	`∆_œngöfo
 (
THOUSEP
)) == 0))

1473 
	`îr‹
 (0, 0, 
	`_
("grouping hasÇoÉffect inÅhisÜocale"));

1477 
	`£tup_∑ddög_buf„r
 (
∑ddög_width
);

1478 
auto_∑ddög
 = (
∑ddög_width
 =0 && 
dñimôî
 =
DELIMITER_DEFAULT
);

1480 i‡(
_övÆid
 !
övÆ_ab‹t
)

1481 
c⁄v_exô_code
 = 0;

1483 i‡(
¨gc
 > 
›töd
)

1485 i‡(
debug
 && 
hódî
)

1486 
	`îr‹
 (0, 0, 
	`_
("--header ignored with command-line input"));

1488 ; 
›töd
 < 
¨gc
; optind++)

1489 
vÆid_numbîs
 &
	`¥o˚ss_löe
 (
¨gv
[
›töd
], 
åue
);

1493 *
löe
 = 
NULL
;

1494 
size_t
 
löe_Æloˇãd
 = 0;

1495 
ssize_t
 
Àn
;

1497 
hódî
-- && 
	`gëlöe
 (&
löe
, &
löe_Æloˇãd
, 
°dö
) > 0)

1498 
	`Âuts
 (
löe
, 
°dout
);

1500 (
Àn
 = 
	`gëlöe
 (&
löe
, &
löe_Æloˇãd
, 
°dö
)) > 0)

1502 
boﬁ
 
√wlöe
 = 
löe
[
Àn
 - 1] == '\n';

1503 i‡(
√wlöe
)

1504 
löe
[
Àn
 - 1] = '\0';

1505 
vÆid_numbîs
 &
	`¥o˚ss_löe
 (
löe
, 
√wlöe
);

1508 
	`IF_LINT
 (
	`‰ì
 (
löe
));

1510 i‡(
	`„º‹
 (
°dö
))

1511 
	`îr‹
 (0, 
î∫o
, 
	`_
("errorÑeading input"));

1514 
	`‰ì
 (
∑ddög_buf„r
);

1515 
	`‰ì
 (
f‹m©_°r_¥efix
);

1516 
	`‰ì
 (
f‹m©_°r_suffix
);

1519 i‡(
debug
 && !
vÆid_numbîs
)

1520 
	`îr‹
 (0, 0, 
	`_
("failedÅo convert some ofÅhe inputÇumbers"));

1522 
exô_°©us
 = 
EXIT_SUCCESS
;

1523 i‡(!
vÆid_numbîs
 && 
_övÆid
 !
övÆ_w¨n
 && _övÆid !
övÆ_ign‹e
)

1524 
exô_°©us
 = 
EXIT_CONVERSION_WARNINGS
;

1526 
	`exô
 (
exô_°©us
);

1527 
	}
}

	@od.c

19 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<as£π.h
>

23 
	~<gë›t.h
>

24 
	~<sys/ty≥s.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"·ﬂ°r.h
"

28 
	~"quŸe.h
"

29 
	~"x‰e›í.h
"

30 
	~"x¥ötf.h
"

31 
	~"x°πﬁ.h
"

34 
	#PROGRAM_NAME
 "od"

	)

36 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

39 
	#DEFAULT_BYTES_PER_BLOCK
 16

	)

41 #i‡
HAVE_UNSIGNED_LONG_LONG_INT


42 
	tunsig√d_l⁄g_l⁄g_öt
;

46 
	tunsig√d_l⁄g_l⁄g_öt
;

49 
	esize_•ec


51 
	mNO_SIZE
,

52 
	mCHAR
,

53 
	mSHORT
,

54 
	mINT
,

55 
	mLONG
,

56 
	mLONG_LONG
,

58 
	mFLOAT_SINGLE
,

59 
	mFLOAT_DOUBLE
,

60 
	mFLOAT_LONG_DOUBLE
,

61 
	mN_SIZE_SPECS


64 
	eouçut_f‹m©


66 
	mSIGNED_DECIMAL
,

67 
	mUNSIGNED_DECIMAL
,

68 
	mOCTAL
,

69 
	mHEXADECIMAL
,

70 
	mFLOATING_POINT
,

71 
	mNAMED_CHARACTER
,

72 
	mCHARACTER


75 
	#MAX_INTEGRAL_TYPE_SIZE
  (
unsig√d_l⁄g_l⁄g_öt
)

	)

83 
	mFMT_BYTES_ALLOCATED
 =

85 + 
MAX
 ( "ld",

86 
MAX
 ( 
PRIdMAX
,

87 
MAX
 ( 
PRIoMAX
,

88 
MAX
 ( 
PRIuMAX
,

89  
PRIxMAX
)))))

93 
vîify
 (
MAX_INTEGRAL_TYPE_SIZE
 * 
CHAR_BIT
 / 3 <= 99);

97 
	st•ec


99 
ouçut_f‹m©
 
	mfmt
;

100 
size_•ec
 
	msize
;

105 (*
	m¥öt_fun˘i⁄
Ë(
size_t
 
	mfõlds
, size_à
	mbœnk
, c⁄° *
	md©a
,

106 c⁄° *
	mfmt
, 
	mwidth
, 
	m∑d
);

107 
	mfmt_°rög
[
FMT_BYTES_ALLOCATED
];

108 
boﬁ
 
	mhexl_mode_åaûî
;

109 
	mfõld_width
;

110 
	m∑d_width
;

123 c⁄° 
	gbyãs_to_o˘_digôs
[] =

126 c⁄° 
	gbyãs_to_sig√d_dec_digôs
[] =

129 c⁄° 
	gbyãs_to_unsig√d_dec_digôs
[] =

132 c⁄° 
	gbyãs_to_hex_digôs
[] =

138 
vîify
 (
MAX_INTEGRAL_TYPE_SIZE
 < 
ARRAY_CARDINALITY
 (
byãs_to_hex_digôs
));

141 
vîify
 ( 
byãs_to_o˘_digôs
 = 
byãs_to_sig√d_dec_digôs
);

142 
vîify
 ( 
byãs_to_o˘_digôs
 = 
byãs_to_unsig√d_dec_digôs
);

143 
vîify
 ( 
byãs_to_o˘_digôs
 = 
byãs_to_hex_digôs
);

146 c⁄° 
	gwidth_byãs
[] =

153  (
unsig√d_l⁄g_l⁄g_öt
),

161 
vîify
 (
ARRAY_CARDINALITY
 (
width_byãs
Ë=
N_SIZE_SPECS
);

164 c⁄° 
	gch¨«me
[33][4] =

174 
	gaddªss_ba£
;

178 
	#MAX_ADDRESS_LENGTH
 \

179 (( (
uötmax_t
Ë* 
CHAR_BIT
 + CHAR_BIT - 1Ë/ 3)

	)

182 
	gaddªss_∑d_Àn
;

185 
size_t
 
	g°rög_mö
;

188 
boﬁ
 
	gÊag_dump_°rögs
;

193 
boﬁ
 
	gåadôi⁄Æ
;

196 
boﬁ
 
	gÊag_p£udo_°¨t
;

200 
uötmax_t
 
	gp£udo_off£t
;

204 (*
f‹m©_addªss
Ë(
uötmax_t
, );

207 
uötmax_t
 
n_byãs_to_skù
 = 0;

211 
boﬁ
 
limô_byãs_to_f‹m©
 = 
Ál£
;

214 
uötmax_t
 
max_byãs_to_f‹m©
;

217 
uötmax_t
 
íd_off£t
;

222 
boﬁ
 
abbªvüã_du∂iˇã_blocks
 = 
åue
;

225 
t•ec
 *
•ec
;

228 
size_t
 
n_•ecs
;

231 
size_t
 
n_•ecs_Æloˇãd
;

237 
size_t
 
byãs_≥r_block
;

241 c⁄° *
öput_fûíame
;

244 c⁄° *c⁄° *
fûe_li°
;

248 c⁄° *c⁄° 
deÁu…_fûe_li°
[] = {"-", 
NULL
};

251 
FILE
 *
	gö_°ªam
;

254 
boﬁ
 
	ghave_ªad_°dö
;

257 
size_•ec
 
	göãgøl_ty≥_size
[
MAX_INTEGRAL_TYPE_SIZE
 + 1];

259 
	#MAX_FP_TYPE_SIZE
  ()

	)

260 
size_•ec
 
	gÂ_ty≥_size
[
MAX_FP_TYPE_SIZE
 + 1];

262 c⁄° 
	gsh‹t_›ti⁄s
[] = "A:aBbcDdeFfHhIij:LlN:OoS:st:vw::Xx";

268 
	mTRADITIONAL_OPTION
 = 
CHAR_MAX
 + 1

271 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

273 {"skù-byãs", 
ªquúed_¨gumít
, 
NULL
, 'j'},

274 {"addªss-ødix", 
ªquúed_¨gumít
, 
NULL
, 'A'},

275 {"ªad-byãs", 
ªquúed_¨gumít
, 
NULL
, 'N'},

276 {"f‹m©", 
ªquúed_¨gumít
, 
NULL
, 't'},

277 {"ouçut-du∂iˇãs", 
no_¨gumít
, 
NULL
, 'v'},

278 {"°rögs", 
›ti⁄Æ_¨gumít
, 
NULL
, 'S'},

279 {"åadôi⁄Æ", 
no_¨gumít
, 
NULL
, 
TRADITIONAL_OPTION
},

280 {"width", 
›ti⁄Æ_¨gumít
, 
NULL
, 'w'},

282 {
GETOPT_HELP_OPTION_DECL
},

283 {
GETOPT_VERSION_OPTION_DECL
},

284 {
NULL
, 0, NULL, 0}

288 
	$ußge
 (
°©us
)

290 i‡(
°©us
 !
EXIT_SUCCESS
)

291 
	`emô_åy_hñp
 ();

294 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [-abcdfilosx]... [FILE] [[+]OFFSET[.][b]]\n\
: %s --traditional [OPTION]... [FILE] [[+]OFFSET[.][b] [+][LABEL][.][b]]\n\
"),

299 
¥ogøm_«me
,Örogram_name,Örogram_name);

300 
	`Âuts
 (
	`_
("\n\
á¿u«mbiguou†ª¥e£¡©i⁄, o˘Æ byã†by deÁu…,\n\
 FILEÅÿ°™d¨d ouçut. Wôh m‹êth™ o√ FILEárgumít,\n\
Åhem i¿thêli°ed ordîÅÿf‹mÅhêöput.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
\n\
"), 
°dout
);

307 
	`Âuts
 (
	`_
("\
 fú°ánd sec⁄d cÆ»f‹m©†bŸháµly,Åhê£c⁄d f‹m© i†assumed\n\
Åhêœ° o≥ønd begö†wôh + o∏(i‡thîê¨ê2 o≥øndsË®digô.\n\
 OFFSET o≥ønd món†-j OFFSET. LABEL i†thêp£udo-addªss\n\
 fú° byãÖröãd, in¸emíãd whí dum∞i†¥ogªssög.\n\
 OFFSETánd LABEL,á 0x o∏0XÖªfix indiˇã†hexadecimÆ;\n\
 may bê. f‹ o˘Æánd b f‹ mu…ùly by 512.\n\
"), 
°dout
);

316 
	`emô_m™d©‹y_¨g_nŸe
 ();

318 
	`Âuts
 (
	`_
("\
-A, --addªss-ødix=RADIX ouçuàf‹m© f‹ fûêoff£ts. RADIX i†⁄e\n\
 [doxn], f‹ DecimÆ, O˘Æ, Hex o∏N⁄e\n\
-j, --skù-byãs=BYTES skù BYTES i≈uàbyã†fú°\n\
"), 
°dout
);

323 
	`Âuts
 (
	`_
("\
-N, --ªad-byãs=BYTESÜimô dum∞tÿBYTES i≈uàbyãs\n\
-S BYTES, --°rögs[=BYTES] ouçuà°rög†o‡©Üó° BYTES gøphi¯ch¨s.\
\n\
3 i†im∂õd whí BYTES i†nŸ s≥cifõd\n\
-t, --f‹m©=TYPE sñe˘ ouçuàf‹m© o∏f‹m©s\n\
-v, --ouçut-du∂iˇã† dÿnŸ u£ *Åÿm¨kÜöêsuµªssi⁄\n\
-w[BYTES], --width[=BYTES] ouçuàBYTES byã†≥∏ouçuàlöe.\n\
32 i†im∂õd whí BYTES i†nŸ s≥cifõd\n\
--åadôi⁄Æác˚±árgumít†öÅhúd f‹mábove\n\
"), 
°dout
);

334 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

335 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

336 
	`Âuts
 (
	`_
("\
\n\
\n\
 f‹m© s≥cifiˇti⁄†may bêöãrmixed;Åheyáccumuœã:\n\
-® samêa†-àa, sñe˘Çamed ch¨a˘îs, ign‹ög high-‹dî bô\n\
-b samêa†-ào1, sñe˘ o˘Æ byãs\n\
-¯ samêa†-àc, sñe˘ ASCII ch¨a˘î†‹ back¶ashÉsˇ≥s\n\
-d samêa†-àu2, sñe˘ unsig√d decimÆ 2-byã unôs\n\
"), 
°dout
);

345 
	`Âuts
 (
	`_
("\
-‡ samêa†-àfF, sñe˘ flﬂts\n\
-ò samêa†-àdI, sñe˘ decimÆ i¡s\n\
-» samêa†-àdL, sñe˘ decimÆÜ⁄gs\n\
-ÿ samêa†-ào2, sñe˘ o˘Æ 2-byã unôs\n\
-† samêa†-àd2, sñe˘ decimÆ 2-byã unôs\n\
-x samêa†-àx2, sñe˘ hexadecimÆ 2-byã unôs\n\
"), 
°dout
);

353 
	`Âuts
 (
	`_
("\
\n\
\n\
 i†madêu∞o‡⁄ê‹ m‹êo‡the£ s≥cifiˇti⁄s:\n\
Çamed ch¨a˘î, ign‹ög high-‹dî bô\n\
 ASCII ch¨a˘î o∏back¶ashÉsˇ≥\n\
"), 
°dout
);

360 
	`Âuts
 (
	`_
("\
[SIZE] sig√d decimÆ, SIZE byã†≥∏öãgî\n\
[SIZE] flﬂtögÖoöt, SIZE byã†≥∏öãgî\n\
[SIZE] o˘Æ, SIZE byã†≥∏öãgî\n\
[SIZE] unsig√d decimÆ, SIZE byã†≥∏öãgî\n\
[SIZE] hexadecimÆ, SIZE byã†≥∏öãgî\n\
"), 
°dout
);

367 
	`Âuts
 (
	`_
("\
\n\
 i†®numbî. F‹ TYPE i¿[doux], SIZE mayálsÿbêC f‹\n\
(ch¨), S f‹ sizeof(sh‹t), I f‹ sizeof(ötË‹ L f‹\n\
÷⁄g). I‡TYPE i†f, SIZE mayálsÿbêF f‹ sizeof(Êﬂt), D\n\
 sizeof(doubÀË‹ L f‹ sizeof÷⁄g doubÀ).\n\
"), 
°dout
);

374 
	`Âuts
 (
	`_
("\
\n\
á z suffixÅÿ™yÅy≥ di•œy†¥öèbÀ ch¨a˘î†©Åhêíd of\n\
 ouçuàlöe.\n\
"), 
°dout
);

379 
	`Âuts
 (
	`_
("\
\n\
\n\
 i†hex wôh 0x o∏0XÖªfix,ánd may havê®mu…ùlõ∏suffix:\n\
 512\n\
 1000\n\
 1024\n\
 1000*1000\n\
 1024*1024\n\
 sÿ⁄ f‹ G, T, P, E, Z, Y.\n\
"), 
°dout
);

390 
	`emô_™cûœry_öfo
 ();

392 
	`exô
 (
°©us
);

393 
	}
}

397 
	#PRINT_FIELDS
(
N
, 
T
, 
FMT_STRING
, 
ACTION
) \

399 
	`N
 (
size_t
 
fõlds
, size_à
bœnk
, c⁄° *
block
, \

400 c⁄° *
FMT_STRING
, 
width
, 
∑d
) \

402 
T
 c⁄° *
p
 = 
block
; \

403 
size_t
 
i
; \

404 
∑d_ªmaöög
 = 
∑d
; \

405 
i
 = 
fõlds
; 
bœnk
 < i; i--) \

407 
√xt_∑d
 = 
∑d
 * (
i
 - 1Ë/ 
fõlds
; \

408 
adju°ed_width
 = 
∑d_ªmaöög
 - 
√xt_∑d
 + 
width
; \

409 
T
 
x
 = *
p
++; \

410 
ACTION
; \

411 
∑d_ªmaöög
 = 
√xt_∑d
; \

413 }

	)

415 
	#PRINT_TYPE
(
N
, 
T
) \

416 
	`PRINT_FIELDS
 (
N
, 
T
, 
fmt_°rög
, 
	`x¥ötf
 (fmt_°rög, 
adju°ed_width
, 
x
))

	)

418 
	#PRINT_FLOATTYPE
(
N
, 
T
, 
FTOASTR
, 
BUFSIZE
) \

419 
	`PRINT_FIELDS
 (
N
, 
T
, 
fmt_°rög
 
ATTRIBUTE_UNUSED
, \

420 
buf
[
BUFSIZE
]; \

421 
	`FTOASTR
 (
buf
,  buf, 0, 0, 
x
); \

422 
	`x¥ötf
 ("%*s", 
adju°ed_width
, 
buf
))

	)

424 
	$PRINT_TYPE
 (
¥öt_s_ch¨
, signed )

425 
	$PRINT_TYPE
 (
¥öt_ch¨
, )

426 
	$PRINT_TYPE
 (
¥öt_s_sh‹t
, )

427 
	$PRINT_TYPE
 (
¥öt_sh‹t
, )

428 
	$PRINT_TYPE
 (
¥öt_öt
, )

429 
	$PRINT_TYPE
 (
¥öt_l⁄g
, )

430 
	$PRINT_TYPE
 (
¥öt_l⁄g_l⁄g
, 
unsig√d_l⁄g_l⁄g_öt
)

432 
	$PRINT_FLOATTYPE
 (
¥öt_Êﬂt
, , 
·ﬂ°r
, 
FLT_BUFSIZE_BOUND
)

433 
	$PRINT_FLOATTYPE
 (
¥öt_doubÀ
, , 
dtﬂ°r
, 
DBL_BUFSIZE_BOUND
)

434 
	$PRINT_FLOATTYPE
 (
¥öt_l⁄g_doubÀ
, , 
ldtﬂ°r
, 
LDBL_BUFSIZE_BOUND
)

436 #unde‡
PRINT_TYPE


437 #unde‡
PRINT_FLOATTYPE


440 
	$dump_hexl_mode_åaûî
 (
size_t
 
n_byãs
, c⁄° *
block
)

442 
size_t
 
i
;

443 
	`Âuts
 (" >", 
°dout
);

444 
i
 = 
n_byãs
; i > 0; i--)

446 
c
 = *
block
++;

447 
c2
 = (
	`i•röt
 (
c
) ? c : '.');

448 
	`putch¨
 (
c2
);

450 
	`putch¨
 ('<');

451 
	}
}

454 
	$¥öt_«med_ascii
 (
size_t
 
fõlds
, size_à
bœnk
, c⁄° *
block
,

455 c⁄° *
unu£d_fmt_°rög
 
ATTRIBUTE_UNUSED
,

456 
width
, 
∑d
)

458 c⁄° *
p
 = 
block
;

459 
size_t
 
i
;

460 
∑d_ªmaöög
 = 
∑d
;

461 
i
 = 
fõlds
; 
bœnk
 < i; i--)

463 
√xt_∑d
 = 
∑d
 * (
i
 - 1Ë/ 
fõlds
;

464 
masked_c
 = *
p
++ & 0x7f;

465 c⁄° *
s
;

466 
buf
[2];

468 i‡(
masked_c
 == 127)

469 
s
 = "del";

470 i‡(
masked_c
 <= 040)

471 
s
 = 
ch¨«me
[
masked_c
];

474 
buf
[0] = 
masked_c
;

475 
buf
[1] = 0;

476 
s
 = 
buf
;

479 
	`x¥ötf
 ("%*s", 
∑d_ªmaöög
 - 
√xt_∑d
 + 
width
, 
s
);

480 
∑d_ªmaöög
 = 
√xt_∑d
;

482 
	}
}

485 
	$¥öt_ascii
 (
size_t
 
fõlds
, size_à
bœnk
, c⁄° *
block
,

486 c⁄° *
unu£d_fmt_°rög
 
ATTRIBUTE_UNUSED
, 
width
,

487 
∑d
)

489 c⁄° *
p
 = 
block
;

490 
size_t
 
i
;

491 
∑d_ªmaöög
 = 
∑d
;

492 
i
 = 
fõlds
; 
bœnk
 < i; i--)

494 
√xt_∑d
 = 
∑d
 * (
i
 - 1Ë/ 
fõlds
;

495 
c
 = *
p
++;

496 c⁄° *
s
;

497 
buf
[4];

499 
c
)

502 
s
 = "\\0";

506 
s
 = "\\a";

510 
s
 = "\\b";

514 
s
 = "\\f";

518 
s
 = "\\n";

522 
s
 = "\\r";

526 
s
 = "\\t";

530 
s
 = "\\v";

534 
	`•rötf
 (
buf
, (
	`i•röt
 (
c
) ? "%c" : "%03o"), c);

535 
s
 = 
buf
;

538 
	`x¥ötf
 ("%*s", 
∑d_ªmaöög
 - 
√xt_∑d
 + 
width
, 
s
);

539 
∑d_ªmaöög
 = 
√xt_∑d
;

541 
	}
}

551 
boﬁ


552 
	$sim∂e_°πoul
 (c⁄° *
s
, c⁄° **
p
, *
vÆ
)

554 
sum
;

556 
sum
 = 0;

557 
	`ISDIGIT
 (*
s
))

559 
c
 = *
s
++ - '0';

560 i‡(
sum
 > (
ULONG_MAX
 - 
c
) / 10)

561  
Ál£
;

562 
sum
 = sum * 10 + 
c
;

564 *
p
 = 
s
;

565 *
vÆ
 = 
sum
;

566  
åue
;

567 
	}
}

588 
boﬁ


589 
	$decode_⁄e_f‹m©
 (c⁄° *
s_‹ig
, c⁄° *
s
, c⁄° **
√xt
,

590 
t•ec
 *tspec)

592 
size_•ec
 size_spec;

593 
size
;

594 
ouçut_f‹m©
 
fmt
;

595 (*
¥öt_fun˘i⁄
Ë(
size_t
, size_t, const *, const *,

597 c⁄° *
p
;

598 
c
;

599 
fõld_width
;

601 
	`as£π
 (
t•ec
 !
NULL
);

603 *
s
)

609 
c
 = *
s
;

610 ++
s
;

611 *
s
)

614 ++
s
;

615 
size
 =  ();

619 ++
s
;

620 
size
 =  ();

624 ++
s
;

625 
size
 =  ();

629 ++
s
;

630 
size
 =  ();

634 i‡(! 
	`sim∂e_°πoul
 (
s
, &
p
, &
size
))

639 
	`îr‹
 (0, 0, 
	`_
("övÆidÅy≥ såög %s"), 
	`quŸe
 (
s_‹ig
));

640  
Ál£
;

642 i‡(
p
 =
s
)

643 
size
 =  ();

646 i‡(
MAX_INTEGRAL_TYPE_SIZE
 < 
size


647 || 
öãgøl_ty≥_size
[
size
] =
NO_SIZE
)

649 
	`îr‹
 (0, 0, 
	`_
("invalidÅype string %s;\nthis system"

651 
	`quŸe
 (
s_‹ig
), 
size
);

652  
Ál£
;

654 
s
 = 
p
;

659 
	#ISPEC_TO_FORMAT
(
S≥c
, 
Mö_f‹m©
, 
L⁄g_f‹m©
, 
Max_f‹m©
) \

660 ((
S≥c
Ë=
LONG_LONG
 ? (
Max_f‹m©
) \

661 : ((
S≥c
Ë=
LONG
 ? (
L⁄g_f‹m©
) \

662 : (
Mö_f‹m©
))) \

663 

	)

664 
size_•ec
 = 
öãgøl_ty≥_size
[
size
];

666 
c
)

669 
fmt
 = 
SIGNED_DECIMAL
;

670 
fõld_width
 = 
byãs_to_sig√d_dec_digôs
[
size
];

671 
	`•rötf
 (
t•ec
->
fmt_°rög
, "%%*%s",

672 
	`ISPEC_TO_FORMAT
 (
size_•ec
, "d", "ld", 
PRIdMAX
));

676 
fmt
 = 
OCTAL
;

677 
	`•rötf
 (
t•ec
->
fmt_°rög
, "%%*.%d%s",

678 (
fõld_width
 = 
byãs_to_o˘_digôs
[
size
]),

679 
	`ISPEC_TO_FORMAT
 (
size_•ec
, "o", "lo", 
PRIoMAX
));

683 
fmt
 = 
UNSIGNED_DECIMAL
;

684 
fõld_width
 = 
byãs_to_unsig√d_dec_digôs
[
size
];

685 
	`•rötf
 (
t•ec
->
fmt_°rög
, "%%*%s",

686 
	`ISPEC_TO_FORMAT
 (
size_•ec
, "u", "lu", 
PRIuMAX
));

690 
fmt
 = 
HEXADECIMAL
;

691 
	`•rötf
 (
t•ec
->
fmt_°rög
, "%%*.%d%s",

692 (
fõld_width
 = 
byãs_to_hex_digôs
[
size
]),

693 
	`ISPEC_TO_FORMAT
 (
size_•ec
, "x", "lx", 
PRIxMAX
));

697 
	`ab‹t
 ();

700 
	`as£π
 (
	`°æí
 (
t•ec
->
fmt_°rög
Ë< 
FMT_BYTES_ALLOCATED
);

702 
size_•ec
)

704 
CHAR
:

705 
¥öt_fun˘i⁄
 = (
fmt
 =
SIGNED_DECIMAL


706 ? 
¥öt_s_ch¨


707 : 
¥öt_ch¨
);

710 
SHORT
:

711 
¥öt_fun˘i⁄
 = (
fmt
 =
SIGNED_DECIMAL


712 ? 
¥öt_s_sh‹t


713 : 
¥öt_sh‹t
);

716 
INT
:

717 
¥öt_fun˘i⁄
 = 
¥öt_öt
;

720 
LONG
:

721 
¥öt_fun˘i⁄
 = 
¥öt_l⁄g
;

724 
LONG_LONG
:

725 
¥öt_fun˘i⁄
 = 
¥öt_l⁄g_l⁄g
;

729 
	`ab‹t
 ();

734 
fmt
 = 
FLOATING_POINT
;

735 ++
s
;

736 *
s
)

739 ++
s
;

740 
size
 =  ();

744 ++
s
;

745 
size
 =  ();

749 ++
s
;

750 
size
 =  ();

754 i‡(! 
	`sim∂e_°πoul
 (
s
, &
p
, &
size
))

759 
	`îr‹
 (0, 0, 
	`_
("övÆidÅy≥ såög %s"), 
	`quŸe
 (
s_‹ig
));

760  
Ál£
;

762 i‡(
p
 =
s
)

763 
size
 =  ();

766 i‡(
size
 > 
MAX_FP_TYPE_SIZE


767 || 
Â_ty≥_size
[
size
] =
NO_SIZE
)

769 
	`îr‹
 (0, 0,

770 
	`_
("invalidÅype string %s;\n"

773 
	`quŸe
 (
s_‹ig
), 
size
);

774  
Ál£
;

776 
s
 = 
p
;

780 
size_•ec
 = 
Â_ty≥_size
[
size
];

783 
lc⁄v
 c⁄° *
loˇÀ
 = 
	`loˇÀc⁄v
 ();

784 
size_t
 
decimÆ_poöt_Àn
 =

785 (
loˇÀ
->
decimÆ_poöt
[0] ? 
	`°æí
 (locale->decimal_point) : 1);

787 
size_•ec
)

789 
FLOAT_SINGLE
:

790 
¥öt_fun˘i⁄
 = 
¥öt_Êﬂt
;

791 
fõld_width
 = 
	`FLT_STRLEN_BOUND_L
 (
decimÆ_poöt_Àn
);

794 
FLOAT_DOUBLE
:

795 
¥öt_fun˘i⁄
 = 
¥öt_doubÀ
;

796 
fõld_width
 = 
	`DBL_STRLEN_BOUND_L
 (
decimÆ_poöt_Àn
);

799 
FLOAT_LONG_DOUBLE
:

800 
¥öt_fun˘i⁄
 = 
¥öt_l⁄g_doubÀ
;

801 
fõld_width
 = 
	`LDBL_STRLEN_BOUND_L
 (
decimÆ_poöt_Àn
);

805 
	`ab‹t
 ();

812 ++
s
;

813 
fmt
 = 
NAMED_CHARACTER
;

814 
size_•ec
 = 
CHAR
;

815 
¥öt_fun˘i⁄
 = 
¥öt_«med_ascii
;

816 
fõld_width
 = 3;

820 ++
s
;

821 
fmt
 = 
CHARACTER
;

822 
size_•ec
 = 
CHAR
;

823 
¥öt_fun˘i⁄
 = 
¥öt_ascii
;

824 
fõld_width
 = 3;

828 
	`îr‹
 (0, 0, 
	`_
("invalid character '%c' inÅype string %s"),

829 *
s
, 
	`quŸe
 (
s_‹ig
));

830  
Ál£
;

833 
t•ec
->
size
 = 
size_•ec
;

834 
t•ec
->
fmt
 = fmt;

835 
t•ec
->
¥öt_fun˘i⁄
 =Örint_function;

837 
t•ec
->
fõld_width
 = field_width;

838 
t•ec
->
hexl_mode_åaûî
 = (*
s
 == 'z');

839 i‡(
t•ec
->
hexl_mode_åaûî
)

840 
s
++;

842 i‡(
√xt
 !
NULL
)

843 *
√xt
 = 
s
;

845  
åue
;

846 
	}
}

855 
boﬁ


856 
	$›í_√xt_fûe
 ()

858 
boﬁ
 
ok
 = 
åue
;

862 
öput_fûíame
 = *
fûe_li°
;

863 i‡(
öput_fûíame
 =
NULL
)

864  
ok
;

865 ++
fûe_li°
;

867 i‡(
	`STREQ
 (
öput_fûíame
, "-"))

869 
öput_fûíame
 = 
	`_
("standard input");

870 
ö_°ªam
 = 
°dö
;

871 
have_ªad_°dö
 = 
åue
;

872 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

873 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

877 
ö_°ªam
 = 
	`f›í
 (
öput_fûíame
, (
O_BINARY
 ? "rb" : "r"));

878 i‡(
ö_°ªam
 =
NULL
)

880 
	`îr‹
 (0, 
î∫o
, "%s", 
öput_fûíame
);

881 
ok
 = 
Ál£
;

885 
ö_°ªam
 =
NULL
);

887 i‡(
limô_byãs_to_f‹m©
 && !
Êag_dump_°rögs
)

888 
	`£tvbuf
 (
ö_°ªam
, 
NULL
, 
_IONBF
, 0);

890  
ok
;

891 
	}
}

900 
boﬁ


901 
	$check_™d_˛o£
 (
ö_î∫o
)

903 
boﬁ
 
ok
 = 
åue
;

905 i‡(
ö_°ªam
 !
NULL
)

907 i‡(
	`„º‹
 (
ö_°ªam
))

909 
	`îr‹
 (0, 
ö_î∫o
, 
	`_
("%s:ÑódÉº‹"), 
öput_fûíame
);

910 i‡(! 
	`STREQ
 (
fûe_li°
[-1], "-"))

911 
	`f˛o£
 (
ö_°ªam
);

912 
ok
 = 
Ál£
;

914 i‡(! 
	`STREQ
 (
fûe_li°
[-1], "-"Ë&& 
	`f˛o£
 (
ö_°ªam
) != 0)

916 
	`îr‹
 (0, 
î∫o
, "%s", 
öput_fûíame
);

917 
ok
 = 
Ál£
;

920 
ö_°ªam
 = 
NULL
;

923 i‡(
	`„º‹
 (
°dout
))

925 
	`îr‹
 (0, 0, 
	`_
("writeÉrror"));

926 
ok
 = 
Ál£
;

929  
ok
;

930 
	}
}

936 
boﬁ


937 
	$decode_f‹m©_°rög
 (c⁄° *
s
)

939 c⁄° *
s_‹ig
 = 
s
;

940 
	`as£π
 (
s
 !
NULL
);

942 *
s
 != '\0')

944 c⁄° *
√xt
;

946 i‡(
n_•ecs_Æloˇãd
 <
n_•ecs
)

947 
•ec
 = 
	`X2NREALLOC
 (•ec, &
n_•ecs_Æloˇãd
);

949 i‡(! 
	`decode_⁄e_f‹m©
 (
s_‹ig
, 
s
, &
√xt
, &
•ec
[
n_•ecs
]))

950  
Ál£
;

952 
	`as£π
 (
s
 !
√xt
);

953 
s
 = 
√xt
;

954 ++
n_•ecs
;

957  
åue
;

958 
	}
}

967 
boﬁ


968 
	$skù
 (
uötmax_t
 
n_skù
)

970 
boﬁ
 
ok
 = 
åue
;

971 
ö_î∫o
 = 0;

973 i‡(
n_skù
 == 0)

974  
åue
;

976 
ö_°ªam
 !
NULL
)

978 
°©
 
fûe_°©s
;

990 i‡(
	`f°©
 (
	`fûío
 (
ö_°ªam
), &
fûe_°©s
) == 0)

998 i‡(
	`S_ISREG
 (
fûe_°©s
.
°_mode
Ë&& 0 < fûe_°©s.
°_size
)

1000 i‡((
uötmax_t
Ë
fûe_°©s
.
°_size
 < 
n_skù
)

1001 
n_skù
 -
fûe_°©s
.
°_size
;

1004 i‡(
	`f£eko
 (
ö_°ªam
, 
n_skù
, 
SEEK_CUR
) != 0)

1006 
ö_î∫o
 = 
î∫o
;

1007 
ok
 = 
Ál£
;

1009 
n_skù
 = 0;

1018 
buf
[
BUFSIZ
];

1019 
size_t
 
n_byãs_ªad
, 
n_byãs_to_ªad
 = 
BUFSIZ
;

1021 0 < 
n_skù
)

1023 i‡(
n_skù
 < 
n_byãs_to_ªad
)

1024 
n_byãs_to_ªad
 = 
n_skù
;

1025 
n_byãs_ªad
 = 
	`‰ód
 (
buf
, 1, 
n_byãs_to_ªad
, 
ö_°ªam
);

1026 
n_skù
 -
n_byãs_ªad
;

1027 i‡(
n_byãs_ªad
 !
n_byãs_to_ªad
)

1029 
ö_î∫o
 = 
î∫o
;

1030 
ok
 = 
Ál£
;

1031 
n_skù
 = 0;

1037 i‡(
n_skù
 == 0)

1043 
	`îr‹
 (0, 
î∫o
, "%s", 
öput_fûíame
);

1044 
ok
 = 
Ál£
;

1047 
ok
 &
	`check_™d_˛o£
 (
ö_î∫o
);

1049 
ok
 &
	`›í_√xt_fûe
 ();

1052 i‡(
n_skù
 != 0)

1053 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot skipÖastÉnd of combined input"));

1055  
ok
;

1056 
	}
}

1059 
	$f‹m©_addªss_n⁄e
 (
uötmax_t
 
addªss
 
ATTRIBUTE_UNUSED
,

1060 
c
 
ATTRIBUTE_UNUSED
)

1062 
	}
}

1065 
	$f‹m©_addªss_°d
 (
uötmax_t
 
addªss
, 
c
)

1067 
buf
[
MAX_ADDRESS_LENGTH
 + 2];

1068 *
p
 = 
buf
 +  buf;

1069 c⁄° *
pbound
;

1071 *--
p
 = '\0';

1072 *--
p
 = 
c
;

1073 
pbound
 = 
p
 - 
addªss_∑d_Àn
;

1077 
addªss_ba£
)

1081 *--
p
 = '0' + (
addªss
 & 7);

1082 (
addªss
 >>= 3) != 0);

1087 *--
p
 = '0' + (
addªss
 % 10);

1088 (
addªss
 /= 10) != 0);

1093 *--
p
 = "0123456789abcdef"[
addªss
 & 15];

1094 (
addªss
 >>= 4) != 0);

1098 
pbound
 < 
p
)

1099 *--
p
 = '0';

1101 
	`Âuts
 (
p
, 
°dout
);

1102 
	}
}

1105 
	$f‹m©_addªss_∑ªn
 (
uötmax_t
 
addªss
, 
c
)

1107 
	`putch¨
 ('(');

1108 
	`f‹m©_addªss_°d
 (
addªss
, ')');

1109 i‡(
c
)

1110 
	`putch¨
 (
c
);

1111 
	}
}

1114 
	$f‹m©_addªss_œbñ
 (
uötmax_t
 
addªss
, 
c
)

1116 
	`f‹m©_addªss_°d
 (
addªss
, ' ');

1117 
	`f‹m©_addªss_∑ªn
 (
addªss
 + 
p£udo_off£t
, 
c
);

1118 
	}
}

1131 
	$wrôe_block
 (
uötmax_t
 
cuºít_off£t
, 
size_t
 
n_byãs
,

1132 c⁄° *
¥ev_block
, c⁄° *
cuº_block
)

1134 
boﬁ
 
fú°
 = 
åue
;

1135 
boﬁ
 
¥ev_∑ú_equÆ
 = 
Ál£
;

1137 
	#EQUAL_BLOCKS
(
b1
, 
b2
Ë(
	`memcmp
 (b1, b2, 
byãs_≥r_block
Ë=0)

	)

1139 i‡(
abbªvüã_du∂iˇã_blocks


1140 && !
fú°
 && 
n_byãs
 =
byãs_≥r_block


1141 && 
	`EQUAL_BLOCKS
 (
¥ev_block
, 
cuº_block
))

1143 i‡(
¥ev_∑ú_equÆ
)

1150 
	`¥ötf
 ("*\n");

1151 
¥ev_∑ú_equÆ
 = 
åue
;

1156 
size_t
 
i
;

1158 
¥ev_∑ú_equÆ
 = 
Ál£
;

1159 
i
 = 0; i < 
n_•ecs
; i++)

1161 
d©um_width
 = 
width_byãs
[
•ec
[
i
].
size
];

1162 
fõlds_≥r_block
 = 
byãs_≥r_block
 / 
d©um_width
;

1163 
bœnk_fõlds
 = (
byãs_≥r_block
 - 
n_byãs
Ë/ 
d©um_width
;

1164 i‡(
i
 == 0)

1165 
	`f‹m©_addªss
 (
cuºít_off£t
, '\0');

1167 
	`¥ötf
 ("%*s", 
addªss_∑d_Àn
, "");

1168 (*
•ec
[
i
].
¥öt_fun˘i⁄
Ë(
fõlds_≥r_block
, 
bœnk_fõlds
,

1169 
cuº_block
, 
•ec
[
i
].
fmt_°rög
,

1170 
•ec
[
i
].
fõld_width
, s≥c[i].
∑d_width
);

1171 i‡(
•ec
[
i
].
hexl_mode_åaûî
)

1174 
fõld_width
 = 
•ec
[
i
].field_width;

1175 
∑d_width
 = (
•ec
[
i
].∑d_width * 
bœnk_fõlds


1176 / 
fõlds_≥r_block
);

1177 
	`¥ötf
 ("%*s", 
bœnk_fõlds
 * 
fõld_width
 + 
∑d_width
, "");

1178 
	`dump_hexl_mode_åaûî
 (
n_byãs
, 
cuº_block
);

1180 
	`putch¨
 ('\n');

1183 
fú°
 = 
Ál£
;

1184 
	}
}

1197 
boﬁ


1198 
	$ªad_ch¨
 (*
c
)

1200 
boﬁ
 
ok
 = 
åue
;

1202 *
c
 = 
EOF
;

1204 
ö_°ªam
 !
NULL
)

1206 *
c
 = 
	`fgëc
 (
ö_°ªam
);

1208 i‡(*
c
 !
EOF
)

1211 
ok
 &
	`check_™d_˛o£
 (
î∫o
);

1213 
ok
 &
	`›í_√xt_fûe
 ();

1216  
ok
;

1217 
	}
}

1233 
boﬁ


1234 
	$ªad_block
 (
size_t
 
n
, *
block
, size_à*
n_byãs_ö_buf„r
)

1236 
boﬁ
 
ok
 = 
åue
;

1238 
	`as£π
 (0 < 
n
 &&Ç <
byãs_≥r_block
);

1240 *
n_byãs_ö_buf„r
 = 0;

1242 i‡(
n
 == 0)

1243  
åue
;

1245 
ö_°ªam
 !
NULL
)

1247 
size_t
 
n_√eded
;

1248 
size_t
 
n_ªad
;

1250 
n_√eded
 = 
n
 - *
n_byãs_ö_buf„r
;

1251 
n_ªad
 = 
	`‰ód
 (
block
 + *
n_byãs_ö_buf„r
, 1, 
n_√eded
, 
ö_°ªam
);

1253 *
n_byãs_ö_buf„r
 +
n_ªad
;

1255 i‡(
n_ªad
 =
n_√eded
)

1258 
ok
 &
	`check_™d_˛o£
 (
î∫o
);

1260 
ok
 &
	`›í_√xt_fûe
 ();

1263  
ok
;

1264 
	}
}

1269 
_GL_ATTRIBUTE_PURE


1270 
	$gë_lcm
 ()

1272 
size_t
 
i
;

1273 
l_c_m
 = 1;

1275 
i
 = 0; i < 
n_•ecs
; i++)

1276 
l_c_m
 = 
	`lcm
 (l_c_m, 
width_byãs
[
•ec
[
i
].
size
]);

1277  
l_c_m
;

1278 
	}
}

1283 
boﬁ


1284 
	$∑r£_ﬁd_off£t
 (c⁄° *
s
, 
uötmax_t
 *
off£t
)

1286 
ødix
;

1288 i‡(*
s
 == '\0')

1289  
Ál£
;

1292 i‡(
s
[0] == '+')

1293 ++
s
;

1298 i‡(
	`°rchr
 (
s
, '.'Ë!
NULL
)

1299 
ødix
 = 10;

1302 i‡(
s
[0] == '0' && (s[1] == 'x' || s[1] == 'X'))

1303 
ødix
 = 16;

1305 
ødix
 = 8;

1308  
	`x°πoumax
 (
s
, 
NULL
, 
ødix
, 
off£t
, "Bb"Ë=
LONGINT_OK
;

1309 
	}
}

1323 
boﬁ


1324 
	$dump
 ()

1326 *
block
[2];

1327 
uötmax_t
 
cuºít_off£t
;

1328 
boﬁ
 
idx
 = 
Ál£
;

1329 
boﬁ
 
ok
 = 
åue
;

1330 
size_t
 
n_byãs_ªad
;

1332 
block
[0] = 
	`xnmÆloc
 (2, 
byãs_≥r_block
);

1333 
block
[1] = block[0] + 
byãs_≥r_block
;

1335 
cuºít_off£t
 = 
n_byãs_to_skù
;

1337 i‡(
limô_byãs_to_f‹m©
)

1341 
size_t
 
n_√eded
;

1342 i‡(
cuºít_off£t
 >
íd_off£t
)

1344 
n_byãs_ªad
 = 0;

1347 
n_√eded
 = 
	`MIN
 (
íd_off£t
 - 
cuºít_off£t
,

1348 (
uötmax_t
Ë
byãs_≥r_block
);

1349 
ok
 &
	`ªad_block
 (
n_√eded
, 
block
[
idx
], &
n_byãs_ªad
);

1350 i‡(
n_byãs_ªad
 < 
byãs_≥r_block
)

1352 
	`as£π
 (
n_byãs_ªad
 =
byãs_≥r_block
);

1353 
	`wrôe_block
 (
cuºít_off£t
, 
n_byãs_ªad
,

1354 
block
[!
idx
], block[idx]);

1355 
cuºít_off£t
 +
n_byãs_ªad
;

1356 
idx
 = !idx;

1363 
ok
 &
	`ªad_block
 (
byãs_≥r_block
, 
block
[
idx
], &
n_byãs_ªad
);

1364 i‡(
n_byãs_ªad
 < 
byãs_≥r_block
)

1366 
	`as£π
 (
n_byãs_ªad
 =
byãs_≥r_block
);

1367 
	`wrôe_block
 (
cuºít_off£t
, 
n_byãs_ªad
,

1368 
block
[!
idx
], block[idx]);

1369 
cuºít_off£t
 +
n_byãs_ªad
;

1370 
idx
 = !idx;

1374 i‡(
n_byãs_ªad
 > 0)

1376 
l_c_m
;

1377 
size_t
 
byãs_to_wrôe
;

1379 
l_c_m
 = 
	`gë_lcm
 ();

1383 
byãs_to_wrôe
 = 
l_c_m
 * ((
n_byãs_ªad
 +Ü_c_m - 1) /Ü_c_m);

1385 
	`mem£t
 (
block
[
idx
] + 
n_byãs_ªad
, 0, 
byãs_to_wrôe
 -Ç_bytes_read);

1386 
	`wrôe_block
 (
cuºít_off£t
, 
n_byãs_ªad
, 
block
[!
idx
], block[idx]);

1387 
cuºít_off£t
 +
n_byãs_ªad
;

1390 
	`f‹m©_addªss
 (
cuºít_off£t
, '\n');

1392 i‡(
limô_byãs_to_f‹m©
 && 
cuºít_off£t
 >
íd_off£t
)

1393 
ok
 &
	`check_™d_˛o£
 (0);

1395 
	`‰ì
 (
block
[0]);

1397  
ok
;

1398 
	}
}

1406 
boﬁ


1407 
	$dump_°rögs
 ()

1409 
size_t
 
bufsize
 = 
	`MAX
 (100, 
°rög_mö
);

1410 *
buf
 = 
	`xmÆloc
 (
bufsize
);

1411 
uötmax_t
 
addªss
 = 
n_byãs_to_skù
;

1412 
boﬁ
 
ok
 = 
åue
;

1416 
size_t
 
i
;

1417 
c
;

1420 
åylöe
:

1422 i‡(
limô_byãs_to_f‹m©


1423 && (
íd_off£t
 < 
°rög_mö
 ||Énd_off£à- såög_mö <
addªss
))

1426 
i
 = 0; i < 
°rög_mö
; i++)

1428 
ok
 &
	`ªad_ch¨
 (&
c
);

1429 
addªss
++;

1430 i‡(
c
 < 0)

1432 
	`‰ì
 (
buf
);

1433  
ok
;

1435 i‡(! 
	`i•röt
 (
c
))

1437 
åylöe
;

1438 
buf
[
i
] = 
c
;

1443 !
limô_byãs_to_f‹m©
 || 
addªss
 < 
íd_off£t
)

1445 i‡(
i
 =
bufsize
)

1447 
buf
 = 
	`X2REALLOC
 (buf, &
bufsize
);

1449 
ok
 &
	`ªad_ch¨
 (&
c
);

1450 
addªss
++;

1451 i‡(
c
 < 0)

1453 
	`‰ì
 (
buf
);

1454  
ok
;

1456 i‡(
c
 == '\0')

1458 i‡(! 
	`i•röt
 (
c
))

1459 
åylöe
;

1460 
buf
[
i
++] = 
c
;

1465 
buf
[
i
] = 0;

1466 
	`f‹m©_addªss
 (
addªss
 - 
i
 - 1, ' ');

1468 
i
 = 0; (
c
 = 
buf
[i]); i++)

1470 
c
)

1473 
	`Âuts
 ("\\a", 
°dout
);

1477 
	`Âuts
 ("\\b", 
°dout
);

1481 
	`Âuts
 ("\\f", 
°dout
);

1485 
	`Âuts
 ("\\n", 
°dout
);

1489 
	`Âuts
 ("\\r", 
°dout
);

1493 
	`Âuts
 ("\\t", 
°dout
);

1497 
	`Âuts
 ("\\v", 
°dout
);

1501 
	`putc
 (
c
, 
°dout
);

1504 
	`putch¨
 ('\n');

1510 
	`‰ì
 (
buf
);

1512 
ok
 &
	`check_™d_˛o£
 (0);

1513  
ok
;

1514 
	}
}

1517 
	$maö
 (
¨gc
, **
¨gv
)

1519 
n_fûes
;

1520 
size_t
 
i
;

1521 
l_c_m
;

1522 
size_t
 
desúed_width
 
	`IF_LINT
 ( = 0);

1523 
boﬁ
 
modîn
 = 
Ál£
;

1524 
boﬁ
 
width_•ecifõd
 = 
Ál£
;

1525 
boﬁ
 
ok
 = 
åue
;

1526 
size_t
 
width_≥r_block
 = 0;

1527 c⁄° 
mu…ùlõrs
[] = "bEGKkMmPTYZ0";

1531 
uötmax_t
 
p£udo_°¨t
 
	`IF_LINT
 ( = 0);

1533 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1534 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1535 
	`£éoˇÀ
 (
LC_ALL
, "");

1536 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1537 
	`ãxtdomaö
 (
PACKAGE
);

1539 
	`©exô
 (
˛o£_°dout
);

1541 
i
 = 0; i <
MAX_INTEGRAL_TYPE_SIZE
; i++)

1542 
öãgøl_ty≥_size
[
i
] = 
NO_SIZE
;

1544 
öãgøl_ty≥_size
[ ()] = 
CHAR
;

1545 
öãgøl_ty≥_size
[ ()] = 
SHORT
;

1546 
öãgøl_ty≥_size
[ ()] = 
INT
;

1547 
öãgøl_ty≥_size
[ ()] = 
LONG
;

1548 #i‡
HAVE_UNSIGNED_LONG_LONG_INT


1551 
öãgøl_ty≥_size
[ (
unsig√d_l⁄g_l⁄g_öt
)] = 
LONG_LONG
;

1554 
i
 = 0; i <
MAX_FP_TYPE_SIZE
; i++)

1555 
Â_ty≥_size
[
i
] = 
NO_SIZE
;

1557 
Â_ty≥_size
[ ()] = 
FLOAT_SINGLE
;

1561 
Â_ty≥_size
[ ()] = 
FLOAT_LONG_DOUBLE
;

1562 
Â_ty≥_size
[ ()] = 
FLOAT_DOUBLE
;

1564 
n_•ecs
 = 0;

1565 
n_•ecs_Æloˇãd
 = 0;

1566 
•ec
 = 
NULL
;

1568 
f‹m©_addªss
 = 
f‹m©_addªss_°d
;

1569 
addªss_ba£
 = 8;

1570 
addªss_∑d_Àn
 = 7;

1571 
Êag_dump_°rögs
 = 
Ál£
;

1573 
åue
)

1575 
uötmax_t
 
tmp
;

1576 
°πﬁ_îr‹
 
s_îr
;

1577 
oi
 = -1;

1578 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, &
oi
);

1579 i‡(
c
 == -1)

1582 
c
)

1585 
modîn
 = 
åue
;

1586 
›èrg
[0])

1589 
f‹m©_addªss
 = 
f‹m©_addªss_°d
;

1590 
addªss_ba£
 = 10;

1591 
addªss_∑d_Àn
 = 7;

1594 
f‹m©_addªss
 = 
f‹m©_addªss_°d
;

1595 
addªss_ba£
 = 8;

1596 
addªss_∑d_Àn
 = 7;

1599 
f‹m©_addªss
 = 
f‹m©_addªss_°d
;

1600 
addªss_ba£
 = 16;

1601 
addªss_∑d_Àn
 = 6;

1604 
f‹m©_addªss
 = 
f‹m©_addªss_n⁄e
;

1605 
addªss_∑d_Àn
 = 0;

1608 
	`îr‹
 (
EXIT_FAILURE
, 0,

1609 
	`_
("invalid outputáddressÑadix '%c';\
 must be one character from [doxn]"),

1611 
›èrg
[0]);

1617 
modîn
 = 
åue
;

1618 
s_îr
 = 
	`x°πoumax
 (
›èrg
, 
NULL
, 0, &
n_byãs_to_skù
, 
mu…ùlõrs
);

1619 i‡(
s_îr
 !
LONGINT_OK
)

1620 
	`x°πﬁ_Áèl
 (
s_îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

1624 
modîn
 = 
åue
;

1625 
limô_byãs_to_f‹m©
 = 
åue
;

1627 
s_îr
 = 
	`x°πoumax
 (
›èrg
, 
NULL
, 0, &
max_byãs_to_f‹m©
,

1628 
mu…ùlõrs
);

1629 i‡(
s_îr
 !
LONGINT_OK
)

1630 
	`x°πﬁ_Áèl
 (
s_îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

1634 
modîn
 = 
åue
;

1635 i‡(
›èrg
 =
NULL
)

1636 
°rög_mö
 = 3;

1639 
s_îr
 = 
	`x°πoumax
 (
›èrg
, 
NULL
, 0, &
tmp
, 
mu…ùlõrs
);

1640 i‡(
s_îr
 !
LONGINT_OK
)

1641 
	`x°πﬁ_Áèl
 (
s_îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

1645 i‡(
SIZE_MAX
 < 
tmp
)

1646 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%†i†toÿœrge"), 
›èrg
);

1648 
°rög_mö
 = 
tmp
;

1650 
Êag_dump_°rögs
 = 
åue
;

1654 
modîn
 = 
åue
;

1655 
ok
 &
	`decode_f‹m©_°rög
 (
›èrg
);

1659 
modîn
 = 
åue
;

1660 
abbªvüã_du∂iˇã_blocks
 = 
Ál£
;

1663 
TRADITIONAL_OPTION
:

1664 
åadôi⁄Æ
 = 
åue
;

1674 
	#CASE_OLD_ARG
(
ﬁd_ch¨
,
√w_°rög
) \

1675 
ﬁd_ch¨
: \

1676 
ok
 &
	`decode_f‹m©_°rög
 (
√w_°rög
); \

1677 

	)

1679 
	`CASE_OLD_ARG
 ('a', "a");

1680 
	`CASE_OLD_ARG
 ('b', "o1");

1681 
	`CASE_OLD_ARG
 ('c', "c");

1682 
	`CASE_OLD_ARG
 ('D', "u4");

1683 
	`CASE_OLD_ARG
 ('d', "u2");

1685 
	`CASE_OLD_ARG
 ('e', "fD");

1686 
	`CASE_OLD_ARG
 ('f', "fF");

1688 
	`CASE_OLD_ARG
 ('H', "x4");

1689 
	`CASE_OLD_ARG
 ('i', "dI");

1691 
	`CASE_OLD_ARG
 ('l', "dL");

1692 
	`CASE_OLD_ARG
 ('O', "o4");

1694 
	`CASE_OLD_ARG
 ('o', "o2");

1695 
	`CASE_OLD_ARG
 ('s', "d2");

1697 
	`CASE_OLD_ARG
 ('x', "x2");

1699 #unde‡
CASE_OLD_ARG


1702 
modîn
 = 
åue
;

1703 
width_•ecifõd
 = 
åue
;

1704 i‡(
›èrg
 =
NULL
)

1706 
desúed_width
 = 32;

1710 
uötmax_t
 
w_tmp
;

1711 
s_îr
 = 
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
w_tmp
, "");

1712 i‡(
s_îr
 !
LONGINT_OK
)

1713 
	`x°πﬁ_Áèl
 (
s_îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
›èrg
);

1714 i‡(
SIZE_MAX
 < 
w_tmp
)

1715 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%†i†toÿœrge"), 
›èrg
);

1716 
desúed_width
 = 
w_tmp
;

1720 
ˇ£_GETOPT_HELP_CHAR
;

1722 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1725 
	`ußge
 (
EXIT_FAILURE
);

1730 i‡(!
ok
)

1731 
	`exô
 (
EXIT_FAILURE
);

1733 i‡(
Êag_dump_°rögs
 && 
n_•ecs
 > 0)

1734 
	`îr‹
 (
EXIT_FAILURE
, 0,

1735 
	`_
("noÅype may be specified when dumping strings"));

1737 
n_fûes
 = 
¨gc
 - 
›töd
;

1751 i‡(!
modîn
 || 
åadôi⁄Æ
)

1753 
uötmax_t
 
o1
;

1754 
uötmax_t
 
o2
;

1756 
n_fûes
)

1759 i‡((
åadôi⁄Æ
 || 
¨gv
[
›töd
][0] == '+')

1760 && 
	`∑r£_ﬁd_off£t
 (
¨gv
[
›töd
], &
o1
))

1762 
n_byãs_to_skù
 = 
o1
;

1763 --
n_fûes
;

1764 ++
¨gv
;

1769 i‡((
åadôi⁄Æ
 || 
¨gv
[
›töd
 + 1][0] == '+'

1770 || 
	`ISDIGIT
 (
¨gv
[
›töd
 + 1][0]))

1771 && 
	`∑r£_ﬁd_off£t
 (
¨gv
[
›töd
 + 1], &
o2
))

1773 i‡(
åadôi⁄Æ
 && 
	`∑r£_ﬁd_off£t
 (
¨gv
[
›töd
], &
o1
))

1775 
n_byãs_to_skù
 = 
o1
;

1776 
Êag_p£udo_°¨t
 = 
åue
;

1777 
p£udo_°¨t
 = 
o2
;

1778 
¨gv
 += 2;

1779 
n_fûes
 -= 2;

1783 
n_byãs_to_skù
 = 
o2
;

1784 --
n_fûes
;

1785 
¨gv
[
›töd
 + 1] =árgv[optind];

1786 ++
¨gv
;

1792 i‡(
åadôi⁄Æ


1793 && 
	`∑r£_ﬁd_off£t
 (
¨gv
[
›töd
 + 1], &
o1
)

1794 && 
	`∑r£_ﬁd_off£t
 (
¨gv
[
›töd
 + 2], &
o2
))

1796 
n_byãs_to_skù
 = 
o1
;

1797 
Êag_p£udo_°¨t
 = 
åue
;

1798 
p£udo_°¨t
 = 
o2
;

1799 
¨gv
[
›töd
 + 2] =árgv[optind];

1800 
¨gv
 += 2;

1801 
n_fûes
 -= 2;

1806 i‡(
åadôi⁄Æ
 && 1 < 
n_fûes
)

1808 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

1809 
	`îr‹
 (0, 0, "%s",

1810 
	`_
("compatibility mode supportsát most one file"));

1811 
	`ußge
 (
EXIT_FAILURE
);

1815 i‡(
Êag_p£udo_°¨t
)

1817 i‡(
f‹m©_addªss
 =
f‹m©_addªss_n⁄e
)

1819 
addªss_ba£
 = 8;

1820 
addªss_∑d_Àn
 = 7;

1821 
f‹m©_addªss
 = 
f‹m©_addªss_∑ªn
;

1824 
f‹m©_addªss
 = 
f‹m©_addªss_œbñ
;

1827 i‡(
limô_byãs_to_f‹m©
)

1829 
íd_off£t
 = 
n_byãs_to_skù
 + 
max_byãs_to_f‹m©
;

1830 i‡(
íd_off£t
 < 
n_byãs_to_skù
)

1831 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("skip-bytes +Ñead-bytes isÅooÜarge"));

1834 i‡(
n_•ecs
 == 0)

1835 
	`decode_f‹m©_°rög
 ("oS");

1837 i‡(
n_fûes
 > 0)

1842 
fûe_li°
 = (c⁄° *c⁄° *Ë&
¨gv
[
›töd
];

1850 
fûe_li°
 = 
deÁu…_fûe_li°
;

1854 
ok
 = 
	`›í_√xt_fûe
 ();

1855 i‡(
ö_°ªam
 =
NULL
)

1856 
˛ónup
;

1859 
ok
 &
	`skù
 (
n_byãs_to_skù
);

1860 i‡(
ö_°ªam
 =
NULL
)

1861 
˛ónup
;

1863 
p£udo_off£t
 = (
Êag_p£udo_°¨t
 ? 
p£udo_°¨t
 - 
n_byãs_to_skù
 : 0);

1866 
l_c_m
 = 
	`gë_lcm
 ();

1868 i‡(
width_•ecifõd
)

1870 i‡(
desúed_width
 !0 && desúed_width % 
l_c_m
 == 0)

1871 
byãs_≥r_block
 = 
desúed_width
;

1874 
	`îr‹
 (0, 0, 
	`_
("warning: invalid width %lu; using %d instead"),

1875 (Ë
desúed_width
, 
l_c_m
);

1876 
byãs_≥r_block
 = 
l_c_m
;

1881 i‡(
l_c_m
 < 
DEFAULT_BYTES_PER_BLOCK
)

1882 
byãs_≥r_block
 = 
l_c_m
 * (
DEFAULT_BYTES_PER_BLOCK
 /Ü_c_m);

1884 
byãs_≥r_block
 = 
l_c_m
;

1888 
i
 = 0; i < 
n_•ecs
; i++)

1890 
fõlds_≥r_block
 = 
byãs_≥r_block
 / 
width_byãs
[
•ec
[
i
].
size
];

1891 
block_width
 = (
•ec
[
i
].
fõld_width
 + 1Ë* 
fõlds_≥r_block
;

1892 i‡(
width_≥r_block
 < 
block_width
)

1893 
width_≥r_block
 = 
block_width
;

1895 
i
 = 0; i < 
n_•ecs
; i++)

1897 
fõlds_≥r_block
 = 
byãs_≥r_block
 / 
width_byãs
[
•ec
[
i
].
size
];

1898 
block_width
 = 
•ec
[
i
].
fõld_width
 * 
fõlds_≥r_block
;

1899 
•ec
[
i
].
∑d_width
 = 
width_≥r_block
 - 
block_width
;

1902 #ifde‡
DEBUG


1903 
	`¥ötf
 ("lcm=%d, width_≥r_block=%zu\n", 
l_c_m
, 
width_≥r_block
);

1904 
i
 = 0; i < 
n_•ecs
; i++)

1906 
fõlds_≥r_block
 = 
byãs_≥r_block
 / 
width_byãs
[
•ec
[
i
].
size
];

1907 
	`as£π
 (
byãs_≥r_block
 % 
width_byãs
[
•ec
[
i
].
size
] == 0);

1908 
	`as£π
 (1 <
•ec
[
i
].
∑d_width
 / 
fõlds_≥r_block
);

1909 
	`¥ötf
 ("%d: fmt=\"%s\" in_width=%d out_width=%dÖad=%d\n",

1910 
i
, 
•ec
[i].
fmt_°rög
, 
width_byãs
[•ec[i].
size
],

1911 
•ec
[
i
].
fõld_width
, s≥c[i].
∑d_width
);

1915 
ok
 &(
Êag_dump_°rögs
 ? 
	`dump_°rögs
 (Ë: 
	`dump
 ());

1917 
˛ónup
:

1919 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

1920 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard input"));

1922 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1923 
	}
}

	@operand2sig.c

24 
	~<c⁄fig.h
>

25 
	~<°dio.h
>

26 
	~<sys/ty≥s.h
>

27 
	~<sys/waô.h
>

29 
	~"sy°em.h
"

30 
	~"îr‹.h
"

31 
	~"sig2°r.h
"

32 
	~"›î™d2sig.h
"

35 
	$›î™d2sig
 (c⁄° *
›î™d
, *
sig«me
)

37 
signum
;

39 i‡(
	`ISDIGIT
 (*
›î™d
))

41 *
ídp
;

42 
l
 = (
î∫o
 = 0, 
	`°πﬁ
 (
›î™d
, &
ídp
, 10));

43 
i
 = 
l
;

44 
signum
 = (
›î™d
 =
ídp
 || *íd∞|| 
î∫o
 || 
i
 !
l
 ? -1

45 : 
	`WIFSIGNALED
 (
i
Ë? 
	`WTERMSIG
 (i) : i);

51 *
upˇ£d
 = 
	`x°rdup
 (
›î™d
);

52 *
p
;

53 
p
 = 
upˇ£d
; *p;Ö++)

54 i‡(
	`°rchr
 ("abcdefghijklmn›qr°uvwxyz", *
p
))

55 *
p
 += 'A' - 'a';

59 i‡(!(
	`°r2sig
 (
upˇ£d
, &
signum
) == 0

60 || (
upˇ£d
[0] == 'S' && upcased[1] == 'I' && upcased[2] == 'G'

61 && 
	`°r2sig
 (
upˇ£d
 + 3, &
signum
) == 0)))

62 
signum
 = -1;

64 
	`‰ì
 (
upˇ£d
);

67 i‡(
signum
 < 0 || 
	`sig2°r
 (signum, 
sig«me
) != 0)

69 
	`îr‹
 (0, 0, 
	`_
("%s: invÆid sig«l"), 
›î™d
);

73  
signum
;

74 
	}
}

	@operand2sig.h

18 
›î™d2sig
 (c⁄° *
›î™d
, *
sig«me
);

	@paste.c

38 
	~<c⁄fig.h
>

40 
	~<°dio.h
>

41 
	~<gë›t.h
>

42 
	~<sys/ty≥s.h
>

43 
	~"sy°em.h
"

44 
	~"îr‹.h
"

45 
	~"Ádvi£.h
"

46 
	~"quŸórg.h
"

49 
	#PROGRAM_NAME
 "∑°e"

	)

51 
	#AUTHORS
 \

52 
	`¥›î_«me
 ("David M. Ihnat"), \

53 
	`¥›î_«me
 ("David MacKízõ")

	)

56 
	#EMPTY_DELIM
 '\0'

	)

59 
boﬁ
 
	ghave_ªad_°dö
;

63 
boﬁ
 
	g£rül_mîge
;

66 *
	gdñims
;

69 c⁄° *
	gdñim_íd
;

71 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

73 {"£rül", 
no_¨gumít
, 
NULL
, 's'},

74 {"dñimôîs", 
ªquúed_¨gumít
, 
NULL
, 'd'},

75 {
GETOPT_HELP_OPTION_DECL
},

76 {
GETOPT_VERSION_OPTION_DECL
},

77 {
NULL
, 0, NULL, 0}

89 
	$cﬁœp£_esˇ≥s
 (c⁄° *
°Ωå
)

91 *
°rout
 = 
	`x°rdup
 (
°Ωå
);

92 
boﬁ
 
back¶ash_©_íd
 = 
Ál£
;

94 
dñims
 = 
°rout
;

96 *
°Ωå
)

98 i‡(*
°Ωå
 != '\\')

99 *
°rout
++ = *
°Ωå
++;

102 *++
°Ωå
)

105 *
°rout
++ = 
EMPTY_DELIM
;

109 *
°rout
++ = '\b';

113 *
°rout
++ = '\f';

117 *
°rout
++ = '\n';

121 *
°rout
++ = '\r';

125 *
°rout
++ = '\t';

129 *
°rout
++ = '\v';

133 *
°rout
++ = '\\';

137 
back¶ash_©_íd
 = 
åue
;

138 
d⁄e
;

141 *
°rout
++ = *
°Ωå
;

144 
°Ωå
++;

148 
d⁄e
:

150 
dñim_íd
 = 
°rout
;

151  
back¶ash_©_íd
 ? 1 : 0;

152 
	}
}

156 
	$wrôe_îr‹
 (Ë
ATTRIBUTE_NORETURN
;

158 
	$wrôe_îr‹
 ()

160 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

161 
	`ab‹t
 ();

162 
	}
}

166 
ölöe
 

167 
	$xputch¨
 (
c
)

169 i‡(
	`putch¨
 (
c
) < 0)

170 
	`wrôe_îr‹
 ();

171 
	}
}

177 
boﬁ


178 
	$∑°e_∑øŒñ
 (
size_t
 
nfûes
, **
‚am±r
)

180 
boﬁ
 
ok
 = 
åue
;

185 *
dñbuf
 = 
	`xmÆloc
 (
nfûes
 + 2);

189 
FILE
 **
fûïå
 = 
	`xnmÆloc
 (
nfûes
 + 1,  *fileptr);

192 
size_t
 
fûes_›í
;

195 
boﬁ
 
›íed_°dö
 = 
Ál£
;

201 
fûes_›í
 = 0; fûes_›í < 
nfûes
; ++files_open)

203 i‡(
	`STREQ
 (
‚am±r
[
fûes_›í
], "-"))

205 
have_ªad_°dö
 = 
åue
;

206 
fûïå
[
fûes_›í
] = 
°dö
;

210 
fûïå
[
fûes_›í
] = 
	`f›í
 (
‚am±r
[files_open], "r");

211 i‡(
fûïå
[
fûes_›í
] =
NULL
)

212 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
‚am±r
[
fûes_›í
]);

213 i‡(
	`fûío
 (
fûïå
[
fûes_›í
]Ë=
STDIN_FILENO
)

214 
›íed_°dö
 = 
åue
;

215 
	`Ádvi£
 (
fûïå
[
fûes_›í
], 
FADVISE_SEQUENTIAL
);

219 i‡(
›íed_°dö
 && 
have_ªad_°dö
)

220 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("standard input is closed"));

226 
fûes_›í
)

229 
boﬁ
 
somed⁄e
 = 
Ál£
;

230 c⁄° *
dñim±r
 = 
dñims
;

231 
size_t
 
dñims_ßved
 = 0;

232 
size_t
 
i
;

234 
i
 = 0; i < 
nfûes
 && 
fûes_›í
; i++)

236 
chr
 
	`IF_LINT
 ( = 0);

237 
îr
 
	`IF_LINT
 ( = 0);

238 
size_t
 
löe_Àngth
 = 0;

240 i‡(
fûïå
[
i
])

242 
chr
 = 
	`gëc
 (
fûïå
[
i
]);

243 
îr
 = 
î∫o
;

244 i‡(
chr
 !
EOF
 && 
dñims_ßved
)

246 i‡(
	`fwrôe
 (
dñbuf
, 1, 
dñims_ßved
, 
°dout
) != delims_saved)

247 
	`wrôe_îr‹
 ();

248 
dñims_ßved
 = 0;

251 
chr
 !
EOF
)

253 
löe_Àngth
++;

254 i‡(
chr
 == '\n')

256 
	`xputch¨
 (
chr
);

257 
chr
 = 
	`gëc
 (
fûïå
[
i
]);

258 
îr
 = 
î∫o
;

262 i‡(
löe_Àngth
 == 0)

266 i‡(
fûïå
[
i
])

268 i‡(
	`„º‹
 (
fûïå
[
i
]))

270 
	`îr‹
 (0, 
îr
, "%s", 
‚am±r
[
i
]);

271 
ok
 = 
Ál£
;

273 i‡(
fûïå
[
i
] =
°dö
)

274 
	`˛óªº
 (
fûïå
[
i
]);

275 i‡(
	`f˛o£
 (
fûïå
[
i
]Ë=
EOF
)

277 
	`îr‹
 (0, 
î∫o
, "%s", 
‚am±r
[
i
]);

278 
ok
 = 
Ál£
;

281 
fûïå
[
i
] = 
NULL
;

282 
fûes_›í
--;

285 i‡(
i
 + 1 =
nfûes
)

289 i‡(
somed⁄e
)

292 i‡(
dñims_ßved
)

294 i‡(
	`fwrôe
 (
dñbuf
, 1, 
dñims_ßved
, 
°dout
)

295 !
dñims_ßved
)

296 
	`wrôe_îr‹
 ();

297 
dñims_ßved
 = 0;

299 
	`xputch¨
 ('\n');

306 i‡(*
dñim±r
 !
EMPTY_DELIM
)

307 
dñbuf
[
dñims_ßved
++] = *
dñim±r
;

308 i‡(++
dñim±r
 =
dñim_íd
)

309 
dñim±r
 = 
dñims
;

315 
somed⁄e
 = 
åue
;

318 i‡(
i
 + 1 !
nfûes
)

320 i‡(
chr
 !'\n' && ch∏!
EOF
)

321 
	`xputch¨
 (
chr
);

322 i‡(*
dñim±r
 !
EMPTY_DELIM
)

323 
	`xputch¨
 (*
dñim±r
);

324 i‡(++
dñim±r
 =
dñim_íd
)

325 
dñim±r
 = 
dñims
;

331 
c
 = (
chr
 =
EOF
 ? '\n' : chr);

332 
	`xputch¨
 (
c
);

337 
	`‰ì
 (
fûïå
);

338 
	`‰ì
 (
dñbuf
);

339  
ok
;

340 
	}
}

346 
boﬁ


347 
	$∑°e_£rül
 (
size_t
 
nfûes
, **
‚am±r
)

349 
boﬁ
 
ok
 = 
åue
;

350 
ch¨√w
, 
ch¨ﬁd
;

351 c⁄° *
dñim±r
;

352 
FILE
 *
fûïå
;

354 ; 
nfûes
;Çfûes--, 
‚am±r
++)

356 
ßved_î∫o
;

357 
boﬁ
 
is_°dö
 = 
	`STREQ
 (*
‚am±r
, "-");

358 i‡(
is_°dö
)

360 
have_ªad_°dö
 = 
åue
;

361 
fûïå
 = 
°dö
;

365 
fûïå
 = 
	`f›í
 (*
‚am±r
, "r");

366 i‡(
fûïå
 =
NULL
)

368 
	`îr‹
 (0, 
î∫o
, "%s", *
‚am±r
);

369 
ok
 = 
Ál£
;

372 
	`Ádvi£
 (
fûïå
, 
FADVISE_SEQUENTIAL
);

375 
dñim±r
 = 
dñims
;

377 
ch¨ﬁd
 = 
	`gëc
 (
fûïå
);

378 
ßved_î∫o
 = 
î∫o
;

379 i‡(
ch¨ﬁd
 !
EOF
)

387 (
ch¨√w
 = 
	`gëc
 (
fûïå
)Ë!
EOF
)

390 i‡(
ch¨ﬁd
 == '\n')

392 i‡(*
dñim±r
 !
EMPTY_DELIM
)

393 
	`xputch¨
 (*
dñim±r
);

395 i‡(++
dñim±r
 =
dñim_íd
)

396 
dñim±r
 = 
dñims
;

399 
	`xputch¨
 (
ch¨ﬁd
);

401 
ch¨ﬁd
 = 
ch¨√w
;

403 
ßved_î∫o
 = 
î∫o
;

406 
	`xputch¨
 (
ch¨ﬁd
);

409 i‡(
ch¨ﬁd
 != '\n')

410 
	`xputch¨
 ('\n');

412 i‡(
	`„º‹
 (
fûïå
))

414 
	`îr‹
 (0, 
ßved_î∫o
, "%s", *
‚am±r
);

415 
ok
 = 
Ál£
;

417 i‡(
is_°dö
)

418 
	`˛óªº
 (
fûïå
);

419 i‡(
	`f˛o£
 (
fûïå
Ë=
EOF
)

421 
	`îr‹
 (0, 
î∫o
, "%s", *
‚am±r
);

422 
ok
 = 
Ál£
;

425  
ok
;

426 
	}
}

429 
	$ußge
 (
°©us
)

431 i‡(
°©us
 !
EXIT_SUCCESS
)

432 
	`emô_åy_hñp
 ();

435 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

438 
¥ogøm_«me
);

439 
	`Âuts
 (
	`_
("\
Üöe†c⁄si°ög o‡thê£quítüŒy c‹ª•⁄dögÜöe†‰om\n\
 FILE, sï¨©ed by TABs,Åÿ°™d¨d ouçut.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

445 
	`emô_m™d©‹y_¨g_nŸe
 ();

447 
	`Âuts
 (
	`_
("\
-d, --dñimôîs=LISTÑeu£ ch¨a˘î†‰om LIST in°ód o‡TABs\n\
-s, --£rü»Öa°ê⁄êfûê©áÅimêö°ód o‡öÖ¨ÆÀl\n\
"), 
°dout
);

451 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

452 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

454 
	`emô_™cûœry_öfo
 ();

456 
	`exô
 (
°©us
);

457 
	}
}

460 
	$maö
 (
¨gc
, **
¨gv
)

462 
›tc
;

463 
boﬁ
 
ok
;

464 c⁄° *
dñim_¨g
 = "\t";

466 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

467 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

468 
	`£éoˇÀ
 (
LC_ALL
, "");

469 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

470 
	`ãxtdomaö
 (
PACKAGE
);

472 
	`©exô
 (
˛o£_°dout
);

474 
have_ªad_°dö
 = 
Ál£
;

475 
£rül_mîge
 = 
Ál£
;

477 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "d:s", 
l⁄g›ts
, 
NULL
)) != -1)

479 
›tc
)

483 
dñim_¨g
 = (
›èrg
[0] == '\0' ? "\\0" : optarg);

487 
£rül_mîge
 = 
åue
;

490 
ˇ£_GETOPT_HELP_CHAR
;

492 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

495 
	`ußge
 (
EXIT_FAILURE
);

499 i‡(
›töd
 =
¨gc
)

500 
¨gv
[
¨gc
++] = 
	`bad_ˇ°
 ("-");

502 i‡(
	`cﬁœp£_esˇ≥s
 (
dñim_¨g
))

506 
	`£t_quŸög_°yÀ
 (
NULL
, 
esˇ≥_quŸög_°yÀ
);

507 
	`îr‹
 (
EXIT_FAILURE
, 0,

508 
	`_
("delimiterÜistÉnds withán unescaped backslash: %s"),

509 
	`quŸórg_cﬁ⁄
 (
dñim_¨g
));

512 i‡(!
£rül_mîge
)

513 
ok
 = 
	`∑°e_∑øŒñ
 (
¨gc
 - 
›töd
, &
¨gv
[optind]);

515 
ok
 = 
	`∑°e_£rül
 (
¨gc
 - 
›töd
, &
¨gv
[optind]);

517 
	`‰ì
 (
dñims
);

519 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

520 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

521 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

522 
	}
}

	@pathchk.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<gë›t.h
>

20 
	~<sys/ty≥s.h
>

21 
	~<wch¨.h
>

23 
	~"sy°em.h
"

24 
	~"îr‹.h
"

25 
	~"quŸe.h
"

26 
	~"quŸórg.h
"

29 
	#PROGRAM_NAME
 "∑thchk"

	)

31 
	#AUTHORS
 \

32 
	`¥›î_«me
 ("Paul Eggert"), \

33 
	`¥›î_«me
 ("David MacKenzie"), \

34 
	`¥›î_«me
 ("Jim Meyîög")

	)

36 #i‚de‡
_POSIX_PATH_MAX


37 
	#_POSIX_PATH_MAX
 256

	)

39 #i‚de‡
_POSIX_NAME_MAX


40 
	#_POSIX_NAME_MAX
 14

	)

43 #ifde‡
_XOPEN_NAME_MAX


44 
	#NAME_MAX_MINIMUM
 
_XOPEN_NAME_MAX


	)

46 
	#NAME_MAX_MINIMUM
 
_POSIX_NAME_MAX


	)

48 #ifde‡
_XOPEN_PATH_MAX


49 
	#PATH_MAX_MINIMUM
 
_XOPEN_PATH_MAX


	)

51 
	#PATH_MAX_MINIMUM
 
_POSIX_PATH_MAX


	)

54 #i‡! (
HAVE_PATHCONF
 && 
deföed
 
_PC_NAME_MAX
 && deföed 
_PC_PATH_MAX
)

55 #i‚de‡
_PC_NAME_MAX


56 
	#_PC_NAME_MAX
 0

	)

57 
	#_PC_PATH_MAX
 1

	)

59 #i‚de‡
∑thc⁄f


60 
	#∑thc⁄f
(
fûe
, 
Êag
) \

61 (
Êag
 =
_PC_NAME_MAX
 ? 
NAME_MAX_MINIMUM
 : 
PATH_MAX_MINIMUM
)

	)

65 
boﬁ
 
vÆid©e_fûe_«me
 (*, bool, bool);

71 
	mPORTABILITY_OPTION
 = 
CHAR_MAX
 + 1

74 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

76 {"p‹èbûôy", 
no_¨gumít
, 
NULL
, 
PORTABILITY_OPTION
},

77 {
GETOPT_HELP_OPTION_DECL
},

78 {
GETOPT_VERSION_OPTION_DECL
},

79 {
NULL
, 0, NULL, 0}

83 
	$ußge
 (
°©us
)

85 i‡(
°©us
 !
EXIT_SUCCESS
)

86 
	`emô_åy_hñp
 ();

89 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... NAME...\n"), 
¥ogøm_«me
);

90 
	`Âuts
 (
	`_
("\
 invÆid o∏u≈‹èbÀ fûê«mes.\n\
\n\
-∞ check f‹ mo° POSIX sy°ems\n\
-P check f‹Ém±yÇame†™dÜódög \"-\"\n\
--p‹èbûôy check f‹áŒ POSIX sy°em†”quivÆíàtÿ-∞-P)\n\
"), 
°dout
);

97 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

98 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

99 
	`emô_™cûœry_öfo
 ();

101 
	`exô
 (
°©us
);

102 
	}
}

105 
	$maö
 (
¨gc
, **
¨gv
)

107 
boﬁ
 
ok
 = 
åue
;

108 
boﬁ
 
check_basic_p‹èbûôy
 = 
Ál£
;

109 
boﬁ
 
check_exåa_p‹èbûôy
 = 
Ál£
;

110 
›tc
;

112 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

113 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

114 
	`£éoˇÀ
 (
LC_ALL
, "");

115 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

116 
	`ãxtdomaö
 (
PACKAGE
);

118 
	`©exô
 (
˛o£_°dout
);

120 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+pP", 
l⁄g›ts
, 
NULL
)) != -1)

122 
›tc
)

124 
PORTABILITY_OPTION
:

125 
check_basic_p‹èbûôy
 = 
åue
;

126 
check_exåa_p‹èbûôy
 = 
åue
;

130 
check_basic_p‹èbûôy
 = 
åue
;

134 
check_exåa_p‹èbûôy
 = 
åue
;

137 
ˇ£_GETOPT_HELP_CHAR
;

139 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

142 
	`ußge
 (
EXIT_FAILURE
);

146 i‡(
›töd
 =
¨gc
)

148 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

149 
	`ußge
 (
EXIT_FAILURE
);

152 ; 
›töd
 < 
¨gc
; ++optind)

153 
ok
 &
	`vÆid©e_fûe_«me
 (
¨gv
[
›töd
],

154 
check_basic_p‹èbûôy
, 
check_exåa_p‹èbûôy
);

156 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

157 
	}
}

162 
boﬁ


163 
	$no_Àadög_hyphí
 (c⁄° *
fûe
)

165 c⁄° *
p
;

167 
p
 = 
fûe
; (∞
	`°rchr
 (p, '-'));Ö++)

168 i‡(
p
 =
fûe
 ||Ö[-1] == '/')

170 
	`îr‹
 (0, 0, 
	`_
("leading '-' iná component of fileÇame %s"),

171 
	`quŸe
 (
fûe
));

172  
Ál£
;

175  
åue
;

176 
	}
}

181 
boﬁ


182 
	$p‹èbÀ_ch¨s_⁄ly
 (c⁄° *
fûe
, 
size_t
 
fûñí
)

184 
size_t
 
vÆidÀn
 = 
	`°r•n
 (
fûe
,

189 c⁄° *
övÆid
 = 
fûe
 + 
vÆidÀn
;

191 i‡(*
övÆid
)

193 
mb°©e_t
 
mb°©e
 = { 0, };

194 
size_t
 
ch¨Àn
 = 
	`mbæí
 (
övÆid
, 
fûñí
 - 
vÆidÀn
, &
mb°©e
);

195 
	`îr‹
 (0, 0,

196 
	`_
("nonportable character %s in fileÇame %s"),

197 
	`quŸórg_n_°yÀ_mem
 (1, 
loˇÀ_quŸög_°yÀ
, 
övÆid
,

198 (
ch¨Àn
 <
MB_LEN_MAX
 ? charlen : 1)),

199 
	`quŸe_n
 (0, 
fûe
));

200  
Ál£
;

203  
åue
;

204 
	}
}

208 * 
_GL_ATTRIBUTE_PURE


209 
	$comp⁄ít_°¨t
 (*
f
)

211 *
f
 == '/')

212 
f
++;

213  
f
;

214 
	}
}

218 
size_t
 
_GL_ATTRIBUTE_PURE


219 
	$comp⁄ít_Àn
 (c⁄° *
f
)

221 
size_t
 
Àn
;

222 
Àn
 = 1; 
f
[len] != '/' && f[len];Üen++)

224  
Àn
;

225 
	}
}

247 
boﬁ


248 
	$vÆid©e_fûe_«me
 (*
fûe
, 
boﬁ
 
check_basic_p‹èbûôy
,

249 
boﬁ
 
check_exåa_p‹èbûôy
)

251 
size_t
 
fûñí
 = 
	`°æí
 (
fûe
);

254 *
°¨t
;

257 
boﬁ
 
check_comp⁄ít_Àngths
;

260 
boﬁ
 
fûe_exi°s
 = 
Ál£
;

262 i‡(
check_exåa_p‹èbûôy
 && ! 
	`no_Àadög_hyphí
 (
fûe
))

263  
Ál£
;

265 i‡((
check_basic_p‹èbûôy
 || 
check_exåa_p‹èbûôy
)

266 && 
fûñí
 == 0)

272 
	`îr‹
 (0, 0, 
	`_
("empty fileÇame"));

273  
Ál£
;

276 i‡(
check_basic_p‹èbûôy
)

278 i‡(! 
	`p‹èbÀ_ch¨s_⁄ly
 (
fûe
, 
fûñí
))

279  
Ál£
;

288 
°©
 
°
;

289 i‡(
	`l°©
 (
fûe
, &
°
) == 0)

290 
fûe_exi°s
 = 
åue
;

291 i‡(
î∫o
 !
ENOENT
 || 
fûñí
 == 0)

293 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

294  
Ál£
;

298 i‡(
check_basic_p‹èbûôy


299 || (! 
fûe_exi°s
 && 
PATH_MAX_MINIMUM
 <
fûñí
))

301 
size_t
 
maxsize
;

303 i‡(
check_basic_p‹èbûôy
)

304 
maxsize
 = 
_POSIX_PATH_MAX
;

307 
size
;

308 c⁄° *
dú
 = (*
fûe
 == '/' ? "/" : ".");

309 
î∫o
 = 0;

310 
size
 = 
	`∑thc⁄f
 (
dú
, 
_PC_PATH_MAX
);

311 i‡(
size
 < 0 && 
î∫o
 != 0)

313 
	`îr‹
 (0, 
î∫o
,

314 
	`_
("%s: unableÅo determine maximum fileÇameÜength"),

315 
dú
);

316  
Ál£
;

318 
maxsize
 = 
	`MIN
 (
size
, 
SSIZE_MAX
);

321 i‡(
maxsize
 <
fûñí
)

323 
Àn
 = 
fûñí
;

324 
maxÀn
 = 
maxsize
 - 1;

325 
	`îr‹
 (0, 0, 
	`_
("limit %luÉxceeded byÜength %lu of fileÇame %s"),

326 
maxÀn
, 
Àn
, 
	`quŸe
 (
fûe
));

327  
Ál£
;

336 
check_comp⁄ít_Àngths
 = 
check_basic_p‹èbûôy
;

337 i‡(! 
check_comp⁄ít_Àngths
 && ! 
fûe_exi°s
)

339 
°¨t
 = 
fûe
; *(°¨à
	`comp⁄ít_°¨t
 (start)); )

341 
size_t
 
Àngth
 = 
	`comp⁄ít_Àn
 (
°¨t
);

343 i‡(
NAME_MAX_MINIMUM
 < 
Àngth
)

345 
check_comp⁄ít_Àngths
 = 
åue
;

349 
°¨t
 +
Àngth
;

353 i‡(
check_comp⁄ít_Àngths
)

359 
size_t
 
«me_max
 = 
NAME_MAX_MINIMUM
;

362 
size_t
 
known_«me_max
 = (
check_basic_p‹èbûôy
 ? 
_POSIX_NAME_MAX
 : 0);

364 
°¨t
 = 
fûe
; *(°¨à
	`comp⁄ít_°¨t
 (start)); )

366 
size_t
 
Àngth
;

368 i‡(
known_«me_max
)

369 
«me_max
 = 
known_«me_max
;

372 
Àn
;

373 c⁄° *
dú
 = (
°¨t
 =
fûe
 ? "." : file);

374 
c
 = *
°¨t
;

375 
î∫o
 = 0;

376 *
°¨t
 = '\0';

377 
Àn
 = 
	`∑thc⁄f
 (
dú
, 
_PC_NAME_MAX
);

378 *
°¨t
 = 
c
;

379 i‡(0 <
Àn
)

380 
«me_max
 = 
	`MIN
 (
Àn
, 
SSIZE_MAX
);

382 
î∫o
)

386 
«me_max
 = 
SIZE_MAX
;

389 
ENOENT
:

391 
known_«me_max
 = 
«me_max
;

395 *
°¨t
 = '\0';

396 
	`îr‹
 (0, 
î∫o
, "%s", 
dú
);

397 *
°¨t
 = 
c
;

398  
Ál£
;

402 
Àngth
 = 
	`comp⁄ít_Àn
 (
°¨t
);

404 i‡(
«me_max
 < 
Àngth
)

406 
Àn
 = 
Àngth
;

407 
maxÀn
 = 
«me_max
;

408 
c
 = 
°¨t
[
Àn
];

409 
°¨t
[
Àn
] = '\0';

410 
	`îr‹
 (0, 0,

411 
	`_
("limit %luÉxceeded byÜength %lu "

413 
maxÀn
, 
Àn
, 
	`quŸe
 (
°¨t
));

414 
°¨t
[
Àn
] = 
c
;

415  
Ál£
;

418 
°¨t
 +
Àngth
;

422  
åue
;

423 
	}
}

	@pinky.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<pwd.h
>

22 
	~<°dio.h
>

24 
	~<sys/ty≥s.h
>

25 
	~"sy°em.h
"

27 
	~"ˇn⁄-ho°.h
"

28 
	~"îr‹.h
"

29 
	~"h¨d-loˇÀ.h
"

30 
	~"ªadutmp.h
"

33 
	#PROGRAM_NAME
 "pöky"

	)

35 
	#AUTHORS
 \

36 
	`¥›î_«me
 ("Joseph Arceneaux"), \

37 
	`¥›î_«me
 ("David MacKenzie"), \

38 
	`¥›î_«me
 ("Kaveh Ghazi")

	)

40 *
ây«me
 ();

45 
boﬁ
 
	gö˛ude_idÀ
 = 
åue
;

48 
boﬁ
 
	gö˛ude_hódög
 = 
åue
;

51 
boﬁ
 
	gö˛ude_fuŒ«me
 = 
åue
;

54 
boﬁ
 
	gö˛ude_¥oje˘
 = 
åue
;

57 
boﬁ
 
	gö˛ude_∂™
 = 
åue
;

61 
boﬁ
 
	gö˛ude_home_™d_shñl
 = 
åue
;

64 
boﬁ
 
	gdo_sh‹t_f‹m©
 = 
åue
;

67 #ifde‡
HAVE_UT_HOST


68 
boﬁ
 
	gö˛ude_whîe
 = 
åue
;

73 c⁄° *
	gtime_f‹m©
;

74 
	gtime_f‹m©_width
;

76 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

78 {
GETOPT_HELP_OPTION_DECL
},

79 {
GETOPT_VERSION_OPTION_DECL
},

80 {
NULL
, 0, NULL, 0}

85 
size_t
 
_GL_ATTRIBUTE_PURE


86 
	$cou¡_am≥rßnds
 (c⁄° *
°r
)

88 
size_t
 
cou¡
 = 0;

91 i‡(*
°r
 == '&')

92 
cou¡
++;

93 } *
°r
++);

94  
cou¡
;

95 
	}
}

104 
	$¸óã_fuŒ«me
 (c⁄° *
gecos_«me
, c⁄° *
u£r_«me
)

106 
size_t
 
rsize
 = 
	`°æí
 (
gecos_«me
) + 1;

107 *
ªsu…
;

108 *
r
;

109 
size_t
 
am≥rßnds
 = 
	`cou¡_am≥rßnds
 (
gecos_«me
);

111 i‡(
am≥rßnds
 != 0)

113 
size_t
 
uÀn
 = 
	`°æí
 (
u£r_«me
);

114 
size_t
 
¥odu˘
 = 
am≥rßnds
 * 
uÀn
;

115 
rsize
 +
¥odu˘
 - 
am≥rßnds
;

116 i‡(
	`xÆloc_ovîsized
 (
uÀn
, 
am≥rßnds
Ë|| 
rsize
 < 
¥odu˘
)

117 
	`xÆloc_dõ
 ();

120 
r
 = 
ªsu…
 = 
	`xmÆloc
 (
rsize
);

122 *
gecos_«me
)

124 i‡(*
gecos_«me
 == '&')

126 c⁄° *
u«me
 = 
u£r_«me
;

127 i‡(
	`i¶owî
 (
	`to_uch¨
 (*
u«me
)))

128 *
r
++ = 
	`touµî
 (
	`to_uch¨
 (*
u«me
++));

129 *
u«me
)

130 *
r
++ = *
u«me
++;

134 *
r
++ = *
gecos_«me
;

137 
gecos_«me
++;

139 *
r
 = 0;

141  
ªsu…
;

142 
	}
}

148 
	$idÀ_°rög
 (
time_t
 
whí
)

150 
time_t
 
now
 = 0;

151 
buf
[
	`INT_STRLEN_BOUND
 () + 2];

152 
time_t
 
£c⁄ds_idÀ
;

154 i‡(
now
 == 0)

155 
	`time
 (&
now
);

157 
£c⁄ds_idÀ
 = 
now
 - 
whí
;

158 i‡(
£c⁄ds_idÀ
 < 60)

160 i‡(
£c⁄ds_idÀ
 < (24 * 60 * 60))

162 
hours
 = 
£c⁄ds_idÀ
 / (60 * 60);

163 
möuãs
 = (
£c⁄ds_idÀ
 % (60 * 60)) / 60;

164 
	`•rötf
 (
buf
, "%02d:%02d", 
hours
, 
möuãs
);

168 
days
 = 
£c⁄ds_idÀ
 / (24 * 60 * 60);

169 
	`•rötf
 (
buf
, "%lud", 
days
);

171  
buf
;

172 
	}
}

176 
	$time_°rög
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

178 
buf
[
	`INT_STRLEN_BOUND
 (
ötmax_t
) +  "-%m-%d %H:%M"];

186 
time_t
 
t
 = 
	`UT_TIME_MEMBER
 (
utmp_ít
);

187 
tm
 *
tmp
 = 
	`loˇ…ime
 (&
t
);

189 i‡(
tmp
)

191 
	`°r·ime
 (
buf
,  buf, 
time_f‹m©
, 
tmp
);

192  
buf
;

195  
	`timëo°r
 (
t
, 
buf
);

196 
	}
}

201 
	$¥öt_íåy
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

203 
°©
 
°©s
;

204 
time_t
 
œ°_ch™ge
;

205 
mesg
;

207 
	#DEV_DIR_WITH_TRAILING_SLASH
 "/dev/"

	)

208 
	#DEV_DIR_LEN
 ( (
DEV_DIR_WITH_TRAILING_SLASH
Ë- 1)

	)

210 
löe
[ (
utmp_ít
->
ut_löe
Ë+ 
DEV_DIR_LEN
 + 1];

211 *
p
 = 
löe
;

216 i‡–! 
	`IS_ABSOLUTE_FILE_NAME
 (
utmp_ít
->
ut_löe
))

217 
p
 = 
	`°p˝y
 (p, 
DEV_DIR_WITH_TRAILING_SLASH
);

218 
	`°zn˝y
 (
p
, 
utmp_ít
->
ut_löe
,  (utmp_ent->ut_line));

220 i‡(
	`°©
 (
löe
, &
°©s
) == 0)

222 
mesg
 = (
°©s
.
°_mode
 & 
S_IWGRP
) ? ' ' : '*';

223 
œ°_ch™ge
 = 
°©s
.
°_©ime
;

227 
mesg
 = '?';

228 
œ°_ch™ge
 = 0;

231 
	`¥ötf
 ("%-8.*s", 
UT_USER_SIZE
, 
	`UT_USER
 (
utmp_ít
));

233 i‡(
ö˛ude_fuŒ«me
)

235 
∑sswd
 *
pw
;

236 
«me
[
UT_USER_SIZE
 + 1];

238 
	`°zn˝y
 (
«me
, 
	`UT_USER
 (
utmp_ít
), 
UT_USER_SIZE
);

239 
pw
 = 
	`gëpw«m
 (
«me
);

240 i‡(
pw
 =
NULL
)

242 
	`¥ötf
 (" %19s", 
	`_
(" ???"));

245 *c⁄° 
comma
 = 
	`°rchr
 (
pw
->
pw_gecos
, ',');

246 *
ªsu…
;

248 i‡(
comma
)

249 *
comma
 = '\0';

251 
ªsu…
 = 
	`¸óã_fuŒ«me
 (
pw
->
pw_gecos
,Öw->
pw_«me
);

252 
	`¥ötf
 (" %-19.19s", 
ªsu…
);

253 
	`‰ì
 (
ªsu…
);

257 
	`¥ötf
 (" %c%-8.*s",

258 
mesg
, (Ë (
utmp_ít
->
ut_löe
), utmp_ent->ut_line);

260 i‡(
ö˛ude_idÀ
)

262 i‡(
œ°_ch™ge
)

263 
	`¥ötf
 (" %-6s", 
	`idÀ_°rög
 (
œ°_ch™ge
));

266 
	`¥ötf
 (" %-6s", 
	`_
("?????"));

269 
	`¥ötf
 (" %s", 
	`time_°rög
 (
utmp_ít
));

271 #ifde‡
HAVE_UT_HOST


272 i‡(
ö˛ude_whîe
 && 
utmp_ít
->
ut_ho°
[0])

274 
ut_ho°
[ (
utmp_ít
->ut_host) + 1];

275 *
ho°
 = 
NULL
;

276 *
di•œy
 = 
NULL
;

279 
	`°zn˝y
 (
ut_ho°
, 
utmp_ít
->ut_host,  (utmp_ent->ut_host));

282 
di•œy
 = 
	`°rchr
 (
ut_ho°
, ':');

283 i‡(
di•œy
)

284 *
di•œy
++ = '\0';

286 i‡(*
ut_ho°
)

288 
ho°
 = 
	`ˇn⁄_ho°
 (
ut_ho°
);

289 i‡–! 
ho°
)

290 
ho°
 = 
ut_ho°
;

292 i‡(
di•œy
)

293 
	`¥ötf
 (" %s:%s", 
ho°
, 
di•œy
);

295 
	`¥ötf
 (" %s", 
ho°
);

297 i‡(
ho°
 !
ut_ho°
)

298 
	`‰ì
 (
ho°
);

302 
	`putch¨
 ('\n');

303 
	}
}

308 
	$¥öt_l⁄g_íåy
 (c⁄° 
«me
[])

310 
∑sswd
 *
pw
;

312 
pw
 = 
	`gëpw«m
 (
«me
);

314 
	`¥ötf
 (
	`_
("LoginÇame: "));

315 
	`¥ötf
 ("%-28s", 
«me
);

317 
	`¥ötf
 (
	`_
("InÑealÜife: "));

318 i‡(
pw
 =
NULL
)

321 
	`¥ötf
 (" %s", 
	`_
("???\n"));

326 *c⁄° 
comma
 = 
	`°rchr
 (
pw
->
pw_gecos
, ',');

327 *
ªsu…
;

329 i‡(
comma
)

330 *
comma
 = '\0';

332 
ªsu…
 = 
	`¸óã_fuŒ«me
 (
pw
->
pw_gecos
,Öw->
pw_«me
);

333 
	`¥ötf
 (" %s", 
ªsu…
);

334 
	`‰ì
 (
ªsu…
);

337 
	`putch¨
 ('\n');

339 i‡(
ö˛ude_home_™d_shñl
)

341 
	`¥ötf
 (
	`_
("Directory: "));

342 
	`¥ötf
 ("%-29s", 
pw
->
pw_dú
);

343 
	`¥ötf
 (
	`_
("Shell: "));

344 
	`¥ötf
 (" %s", 
pw
->
pw_shñl
);

345 
	`putch¨
 ('\n');

348 i‡(
ö˛ude_¥oje˘
)

350 
FILE
 *
°ªam
;

351 
buf
[1024];

352 c⁄° *c⁄° 
ba£¥oje˘
 = "/.project";

353 *c⁄° 
¥oje˘
 =

354 
	`xmÆloc
 (
	`°æí
 (
pw
->
pw_dú
Ë+ såÀ¿(
ba£¥oje˘
) + 1);

355 
	`°p˝y
 (°p˝y (
¥oje˘
, 
pw
->
pw_dú
), 
ba£¥oje˘
);

357 
°ªam
 = 
	`f›í
 (
¥oje˘
, "r");

358 i‡(
°ªam
)

360 
size_t
 
byãs
;

362 
	`¥ötf
 (
	`_
("Project: "));

364 (
byãs
 = 
	`‰ód
 (
buf
, 1,  (buf), 
°ªam
)) > 0)

365 
	`fwrôe
 (
buf
, 1, 
byãs
, 
°dout
);

366 
	`f˛o£
 (
°ªam
);

369 
	`‰ì
 (
¥oje˘
);

372 i‡(
ö˛ude_∂™
)

374 
FILE
 *
°ªam
;

375 
buf
[1024];

376 c⁄° *c⁄° 
ba£∂™
 = "/.plan";

377 *c⁄° 
∂™
 =

378 
	`xmÆloc
 (
	`°æí
 (
pw
->
pw_dú
Ë+ såÀ¿(
ba£∂™
) + 1);

379 
	`°p˝y
 (°p˝y (
∂™
, 
pw
->
pw_dú
), 
ba£∂™
);

381 
°ªam
 = 
	`f›í
 (
∂™
, "r");

382 i‡(
°ªam
)

384 
size_t
 
byãs
;

386 
	`¥ötf
 (
	`_
("Plan:\n"));

388 (
byãs
 = 
	`‰ód
 (
buf
, 1,  (buf), 
°ªam
)) > 0)

389 
	`fwrôe
 (
buf
, 1, 
byãs
, 
°dout
);

390 
	`f˛o£
 (
°ªam
);

393 
	`‰ì
 (
∂™
);

396 
	`putch¨
 ('\n');

397 
	}
}

403 
	$¥öt_hódög
 ()

405 
	`¥ötf
 ("%-8s", 
	`_
("Login"));

406 i‡(
ö˛ude_fuŒ«me
)

407 
	`¥ötf
 (" %-19s", 
	`_
("Name"));

408 
	`¥ötf
 (" %-9s", 
	`_
(" TTY"));

409 i‡(
ö˛ude_idÀ
)

410 
	`¥ötf
 (" %-6s", 
	`_
("Idle"));

411 
	`¥ötf
 (" %-*s", 
time_f‹m©_width
, 
	`_
("When"));

412 #ifde‡
HAVE_UT_HOST


413 i‡(
ö˛ude_whîe
)

414 
	`¥ötf
 (" %s", 
	`_
("Where"));

416 
	`putch¨
 ('\n');

417 
	}
}

422 
	$sˇn_íåõs
 (
size_t
 
n
, c⁄° 
STRUCT_UTMP
 *
utmp_buf
,

423 c⁄° 
¨gc_«mes
, *c⁄° 
¨gv_«mes
[])

425 i‡(
	`h¨d_loˇÀ
 (
LC_TIME
))

427 
time_f‹m©
 = "%Y-%m-%d %H:%M";

428 
time_f‹m©_width
 = 4 + 1 + 2 + 1 + 2 + 1 + 2 + 1 + 2;

432 
time_f‹m©
 = "%b %e %H:%M";

433 
time_f‹m©_width
 = 3 + 1 + 2 + 1 + 2 + 1 + 2;

436 i‡(
ö˛ude_hódög
)

437 
	`¥öt_hódög
 ();

439 
n
--)

441 i‡(
	`IS_USER_PROCESS
 (
utmp_buf
))

443 i‡(
¨gc_«mes
)

445 
i
;

447 
i
 = 0; i < 
¨gc_«mes
; i++)

448 i‡(
	`°∫cmp
 (
	`UT_USER
 (
utmp_buf
), 
¨gv_«mes
[
i
], 
UT_USER_SIZE
)

451 
	`¥öt_íåy
 (
utmp_buf
);

456 
	`¥öt_íåy
 (
utmp_buf
);

458 
utmp_buf
++;

460 
	}
}

465 
	$sh‹t_pöky
 (c⁄° *
fûíame
,

466 c⁄° 
¨gc_«mes
, *c⁄° 
¨gv_«mes
[])

468 
size_t
 
n_u£rs
;

469 
STRUCT_UTMP
 *
utmp_buf
;

471 i‡(
	`ªad_utmp
 (
fûíame
, &
n_u£rs
, &
utmp_buf
, 0) != 0)

472 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûíame
);

474 
	`sˇn_íåõs
 (
n_u£rs
, 
utmp_buf
, 
¨gc_«mes
, 
¨gv_«mes
);

475 
	}
}

478 
	$l⁄g_pöky
 (c⁄° 
¨gc_«mes
, *c⁄° 
¨gv_«mes
[])

480 
i
;

482 
i
 = 0; i < 
¨gc_«mes
; i++)

483 
	`¥öt_l⁄g_íåy
 (
¨gv_«mes
[
i
]);

484 
	}
}

487 
	$ußge
 (
°©us
)

489 i‡(
°©us
 !
EXIT_SUCCESS
)

490 
	`emô_åy_hñp
 ();

493 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [USER]...\n"), 
¥ogøm_«me
);

494 
	`Âuts
 (
	`_
("\
\n\
-»Örodu˚Ü⁄g f‹m© ouçuàf‹Åhê•ecifõd USERs\n\
-b omôÅhêu£r'†homêdúe˘‹yánd shñ»öÜ⁄g f‹m©\n\
-h omôÅhêu£r'†¥oje˘ fûêöÜ⁄g f‹m©\n\
-∞ omôÅhêu£r'†∂™ fûêöÜ⁄g f‹m©\n\
-† dÿsh‹àf‹m© ouçut,Åhi†i†thêdeÁu…\n\
"), 
°dout
);

502 
	`Âuts
 (
	`_
("\
-‡ omôÅhêlöêo‡cﬁum¿hódög†ö sh‹àf‹m©\n\
-w omôÅhêu£r'†fuŒÇamêö sh‹àf‹m©\n\
-ò omôÅhêu£r'†fuŒÇamê™dÑemŸêho° i¿sh‹àf‹m©\n\
-q omôÅhêu£r'†fuŒÇame,ÑemŸêho°ánd idÀÅime\n\
 sh‹àf‹m©\n\
"), 
°dout
);

509 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

510 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

511 
	`¥ötf
 (
	`_
("\
\n\
Üightweighà'fögî'Örogøm;Öröàu£∏öf‹m©i⁄.\n\
 utm∞fûêwû»bê%s.\n\
"), 
UTMP_FILE
);

516 
	`emô_™cûœry_öfo
 ();

518 
	`exô
 (
°©us
);

519 
	}
}

522 
	$maö
 (
¨gc
, **
¨gv
)

524 
›tc
;

525 
n_u£rs
;

527 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

528 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

529 
	`£éoˇÀ
 (
LC_ALL
, "");

530 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

531 
	`ãxtdomaö
 (
PACKAGE
);

533 
	`©exô
 (
˛o£_°dout
);

535 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "sfwiqbhÕ", 
l⁄g›ts
, 
NULL
)) != -1)

537 
›tc
)

540 
do_sh‹t_f‹m©
 = 
åue
;

544 
do_sh‹t_f‹m©
 = 
Ál£
;

548 
ö˛ude_hódög
 = 
Ál£
;

552 
ö˛ude_fuŒ«me
 = 
Ál£
;

556 
ö˛ude_fuŒ«me
 = 
Ál£
;

557 #ifde‡
HAVE_UT_HOST


558 
ö˛ude_whîe
 = 
Ál£
;

563 
ö˛ude_fuŒ«me
 = 
Ál£
;

564 #ifde‡
HAVE_UT_HOST


565 
ö˛ude_whîe
 = 
Ál£
;

567 
ö˛ude_idÀ
 = 
Ál£
;

571 
ö˛ude_¥oje˘
 = 
Ál£
;

575 
ö˛ude_∂™
 = 
Ál£
;

579 
ö˛ude_home_™d_shñl
 = 
Ál£
;

582 
ˇ£_GETOPT_HELP_CHAR
;

584 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

587 
	`ußge
 (
EXIT_FAILURE
);

591 
n_u£rs
 = 
¨gc
 - 
›töd
;

593 i‡(!
do_sh‹t_f‹m©
 && 
n_u£rs
 == 0)

595 
	`îr‹
 (0, 0, 
	`_
("no username specified;átÜeast one must be\
 when using -l"));

597 
	`ußge
 (
EXIT_FAILURE
);

600 i‡(
do_sh‹t_f‹m©
)

601 
	`sh‹t_pöky
 (
UTMP_FILE
, 
n_u£rs
, 
¨gv
 + 
›töd
);

603 
	`l⁄g_pöky
 (
n_u£rs
, 
¨gv
 + 
›töd
);

605 
	`exô
 (
EXIT_SUCCESS
);

606 
	}
}

	@pr.c

311 
	~<c⁄fig.h
>

313 
	~<gë›t.h
>

314 
	~<sys/ty≥s.h
>

315 
	~"sy°em.h
"

316 
	~"îr‹.h
"

317 
	~"Ádvi£.h
"

318 
	~"h¨d-loˇÀ.h
"

319 
	~"mbswidth.h
"

320 
	~"quŸe.h
"

321 
	~"°©-time.h
"

322 
	~"°dio--.h
"

323 
	~"°r·ime.h
"

324 
	~"x°πﬁ.h
"

327 
	#PROGRAM_NAME
 "¥"

	)

329 
	#AUTHORS
 \

330 
	`¥›î_«me
 ("Pete TerMaat"), \

331 
	`¥›î_«me
 ("Rﬁ™d Hueb√r")

	)

337 
	#ANYWHERE
 0

	)

382 
	gCOLUMN
;

383 
	sCOLUMN


385 
FILE
 *
	mÂ
;

386 c⁄° *
	m«me
;

389 
	mOPEN
,

390 
	mFF_FOUND
,

392 
	mON_HOLD
,

393 
	mCLOSED


395 
	m°©us
;

398 
boﬁ
 (*
¥öt_func
Ë(
	mCOLUMN
 *);

401 (*
	mch¨_func
) ();

403 
	mcuºít_löe
;

404 
	mlöes_°‹ed
;

405 
	mlöes_to_¥öt
;

406 
	m°¨t_posôi⁄
;

407 
boﬁ
 
	mnumbîed
;

408 
boﬁ
 
	mfuŒ_∑ge_¥öãd
;

416 
COLUMN
 
	tCOLUMN
;

418 
ch¨_to_˛ump
 (
c
);

419 
boﬁ
 
ªad_löe
 (
COLUMN
 *
p
);

420 
boﬁ
 
¥öt_∑ge
 ();

421 
boﬁ
 
¥öt_°‹ed
 (
COLUMN
 *
p
);

422 
boﬁ
 
›í_fûe
 (*
«me
, 
COLUMN
 *
p
);

423 
boﬁ
 
skù_to_∑ge
 (
uötmax_t
 
∑ge
);

424 
¥öt_hódî
 ();

425 
∑d_a¸oss_to
 (
posôi⁄
);

426 
add_löe_numbî
 (
COLUMN
 *
p
);

427 
gë›èrg
 (*
¨g
, 
swôch_ch¨
, *
ch¨a˘î
,

428 *
numbî
);

429 
¥öt_fûes
 (
numbî_of_fûes
, **
av
);

430 
öô_∑ømëîs
 (
numbî_of_fûes
);

431 
öô_hódî
 (c⁄° *
fûíame
, 
desc
);

432 
boﬁ
 
öô_Âs
 (
numbî_of_fûes
, **
av
);

433 
öô_funcs
 ();

434 
öô_°‹e_cﬁs
 ();

435 
°‹e_cﬁumns
 ();

436 
bÆ™˚
 (
tŸÆ_°‹ed
);

437 
°‹e_ch¨
 (
c
);

438 
∑d_down
 (
löes
);

439 
ªad_ª°_of_löe
 (
COLUMN
 *
p
);

440 
skù_ªad
 (
COLUMN
 *
p
, 
cﬁumn_numbî
);

441 
¥öt_ch¨
 (
c
);

442 
˛ónup
 ();

443 
¥öt_£p_°rög
 ();

444 
£∑øt‹_°rög
 (c⁄° *
›èrg_S
);

447 
COLUMN
 *
	gcﬁumn_ve˘‹
;

453 *
	gbuff
;

457 
	gbuff_cuºít
;

461 
size_t
 
	gbuff_Æloˇãd
;

467 *
	glöe_ve˘‹
;

474 *
	gíd_ve˘‹
;

477 
boﬁ
 
	g∑øŒñ_fûes
 = 
Ál£
;

481 
boﬁ
 
	gÆign_em±y_cﬁs
;

485 
boﬁ
 
	gem±y_löe
;

492 
boﬁ
 
	gFF_⁄ly
;

497 
boﬁ
 
	gex∂icô_cﬁumns
 = 
Ál£
;

500 
boﬁ
 
	gexåemôõs
 = 
åue
;

504 
boﬁ
 
	gkìp_FF
 = 
Ál£
;

505 
boﬁ
 
	g¥öt_a_FF
 = 
Ál£
;

509 
boﬁ
 
	g¥öt_a_hódî
;

512 
boﬁ
 
	gu£_f‹m_„ed
 = 
Ál£
;

515 
boﬁ
 
	ghave_ªad_°dö
 = 
Ál£
;

518 
boﬁ
 
	g¥öt_a¸oss_Êag
 = 
Ál£
;

521 
boﬁ
 
	g°‹ög_cﬁumns
 = 
åue
;

527 
boﬁ
 
	gbÆ™˚_cﬁumns
 = 
Ál£
;

530 
	glöes_≥r_∑ge
 = 66;

534 íum { 
	mlöes_≥r_hódî
 = 5 };

535 
	glöes_≥r_body
;

536 íum { 
	mlöes_≥r_foŸî
 = 5 };

540 
	gch¨s_≥r_löe
 = 72;

543 
boﬁ
 
	gåunˇã_löes
 = 
Ál£
;

547 
boﬁ
 
	gjoö_löes
 = 
Ál£
;

551 
	gch¨s_≥r_cﬁumn
;

554 
boﬁ
 
	gu¡abify_öput
 = 
Ál£
;

557 
	göput_èb_ch¨
 = '\t';

561 
	gch¨s_≥r_öput_èb
 = 8;

564 
boﬁ
 
	gèbify_ouçut
 = 
Ál£
;

567 
	gouçut_èb_ch¨
 = '\t';

570 
	gch¨s_≥r_ouçut_èb
 = 8;

575 
	g•a˚s_nŸ_¥öãd
;

578 
	gch¨s_≥r_m¨gö
 = 0;

584 
	gouçut_posôi⁄
;

590 
	göput_posôi⁄
;

594 
boﬁ
 
	gÁûed_›ís
 = 
Ál£
;

598 
	#TAB_WIDTH
(
c_
, 
h_
Ë((c_Ë- ((h_Ë% (c_)))

	)

602 
	#POS_AFTER_TAB
(
c_
, 
h_
Ë((h_Ë+ 
	`TAB_WIDTH
 (c_, h_))

	)

605 
	gcﬁumns
 = 1;

609 
uötmax_t
 
	gfú°_∑ge_numbî
 = 0;

610 
uötmax_t
 
	gœ°_∑ge_numbî
 = 
UINTMAX_MAX
;

613 
	gfûes_ªady_to_ªad
 = 0;

616 
uötmax_t
 
	g∑ge_numbî
;

631 
	glöe_numbî
;

634 
boﬁ
 
	gnumbîed_löes
 = 
Ál£
;

637 
	gnumbî_£∑øt‹
 = '\t';

641 
	glöe_cou¡
 = 1;

646 
boﬁ
 
	gskù_cou¡
 = 
åue
;

650 
	g°¨t_löe_num
 = 1;

653 
	gch¨s_≥r_numbî
 = 5;

658 
	gnumbî_width
;

661 *
	gnumbî_buff
;

665 
boﬁ
 
	gu£_esc_£quí˚
 = 
Ál£
;

669 
boﬁ
 
	gu£_˙ål_¥efix
 = 
Ál£
;

672 
boﬁ
 
	gdoubÀ_•a˚
 = 
Ál£
;

676 
	gtŸÆ_fûes
 = 0;

679 
boﬁ
 
	gign‹e_Áûed_›ís
 = 
Ál£
;

683 
boﬁ
 
	gu£_cﬁ_£∑øt‹
 = 
Ál£
;

688 *
	gcﬁ_£p_°rög
 = (*) "";

689 
	gcﬁ_£p_Àngth
 = 0;

690 *
	gcﬁumn_£∑øt‹
 = (*) " ";

691 *
	glöe_£∑øt‹
 = (*) "\t";

695 
	g£∑øt‹s_nŸ_¥öãd
;

699 
	g∑ddög_nŸ_¥öãd
;

703 
boﬁ
 
	g∑d_vîtiˇŒy
;

706 *
	gcu°om_hódî
;

709 c⁄° *
	gd©e_f‹m©
;

712 *
	gd©e_ãxt
;

713 c⁄° *
	gfûe_ãxt
;

716 
	ghódî_width_avaûabÀ
;

718 *
	g˛ump_buff
;

724 
boﬁ
 
	gœ°_löe
 = 
Ál£
;

730 
	mCOLUMNS_OPTION
 = 
CHAR_MAX
 + 1,

731 
	mPAGES_OPTION


734 c⁄° 
	gsh‹t_›ti⁄s
[] =

737 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

739 {"∑ges", 
ªquúed_¨gumít
, 
NULL
, 
PAGES_OPTION
},

740 {"cﬁumns", 
ªquúed_¨gumít
, 
NULL
, 
COLUMNS_OPTION
},

741 {"a¸oss", 
no_¨gumít
, 
NULL
, 'a'},

742 {"show-c⁄åﬁ-ch¨s", 
no_¨gumít
, 
NULL
, 'c'},

743 {"doubÀ-•a˚", 
no_¨gumít
, 
NULL
, 'd'},

744 {"d©e-f‹m©", 
ªquúed_¨gumít
, 
NULL
, 'D'},

745 {"ex∑nd-èbs", 
›ti⁄Æ_¨gumít
, 
NULL
, 'e'},

746 {"f‹m-„ed", 
no_¨gumít
, 
NULL
, 'f'},

747 {"hódî", 
ªquúed_¨gumít
, 
NULL
, 'h'},

748 {"ouçut-èbs", 
›ti⁄Æ_¨gumít
, 
NULL
, 'i'},

749 {"joö-löes", 
no_¨gumít
, 
NULL
, 'J'},

750 {"Àngth", 
ªquúed_¨gumít
, 
NULL
, 'l'},

751 {"mîge", 
no_¨gumít
, 
NULL
, 'm'},

752 {"numbî-löes", 
›ti⁄Æ_¨gumít
, 
NULL
, 'n'},

753 {"fú°-löe-numbî", 
ªquúed_¨gumít
, 
NULL
, 'N'},

754 {"ödít", 
ªquúed_¨gumít
, 
NULL
, 'o'},

755 {"no-fûe-w¨nögs", 
no_¨gumít
, 
NULL
, 'r'},

756 {"£∑øt‹", 
›ti⁄Æ_¨gumít
, 
NULL
, 's'},

757 {"£p-°rög", 
›ti⁄Æ_¨gumít
, 
NULL
, 'S'},

758 {"omô-hódî", 
no_¨gumít
, 
NULL
, 't'},

759 {"omô-∑gö©i⁄", 
no_¨gumít
, 
NULL
, 'T'},

760 {"show-n⁄¥ötög", 
no_¨gumít
, 
NULL
, 'v'},

761 {"width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

762 {"∑ge-width", 
ªquúed_¨gumít
, 
NULL
, 'W'},

763 {
GETOPT_HELP_OPTION_DECL
},

764 {
GETOPT_VERSION_OPTION_DECL
},

765 {
NULL
, 0, NULL, 0}

771 
_GL_ATTRIBUTE_PURE


772 
	$cﬁs_ªady_to_¥öt
 ()

774 
COLUMN
 *
q
;

775 
i
;

776 
n
;

778 
n
 = 0;

779 
q
 = 
cﬁumn_ve˘‹
, 
i
 = 0; i < 
cﬁumns
; ++q, ++i)

780 i‡(
q
->
°©us
 =
OPEN


781 || 
q
->
°©us
 =
FF_FOUND


782 || (
°‹ög_cﬁumns
 && 
q
->
löes_°‹ed
 > 0 && q->
löes_to_¥öt
 > 0))

783 ++
n
;

784  
n
;

785 
	}
}

790 
boﬁ


791 
	$fú°_œ°_∑ge
 (
oi
, 
c
, c⁄° *
∑ges
)

793 *
p
;

794 
uötmax_t
 
fú°
;

795 
uötmax_t
 
œ°
 = 
UINTMAX_MAX
;

796 
°πﬁ_îr‹
 
îr
 = 
	`x°πoumax
 (
∑ges
, &
p
, 10, &
fú°
, "");

797 i‡(
îr
 !
LONGINT_OK
 &&Éº !
LONGINT_INVALID_SUFFIX_CHAR
)

798 
	`x°πﬁ_Áèl
 (
îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
∑ges
);

800 i‡(
p
 =
∑ges
 || !
fú°
)

801  
Ál£
;

803 i‡(*
p
 == ':')

805 c⁄° *
p1
 = 
p
 + 1;

806 
îr
 = 
	`x°πoumax
 (
p1
, &
p
, 10, &
œ°
, "");

807 i‡(
îr
 !
LONGINT_OK
)

808 
	`x°πﬁ_Áèl
 (
îr
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
∑ges
);

809 i‡(
p1
 =
p
 || 
œ°
 < 
fú°
)

810  
Ál£
;

813 i‡(*
p
)

814  
Ál£
;

816 
fú°_∑ge_numbî
 = 
fú°
;

817 
œ°_∑ge_numbî
 = 
œ°
;

818  
åue
;

819 
	}
}

826 
	$∑r£_cﬁumn_cou¡
 (c⁄° *
s
)

828 
tmp_l⁄g
;

829 i‡(
	`x°πﬁ
 (
s
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


830 || !(1 <
tmp_l⁄g
 &&Åmp_l⁄g <
INT_MAX
))

831 
	`îr‹
 (
EXIT_FAILURE
, 0,

832 
	`_
("övÆidÇumbî o‡cﬁumns: %s"), 
	`quŸe
 (
s
));

834 
cﬁumns
 = 
tmp_l⁄g
;

835 
ex∂icô_cﬁumns
 = 
åue
;

836 
	}
}

841 
	$£∑øt‹_°rög
 (c⁄° *
›èrg_S
)

843 
cﬁ_£p_Àngth
 = (Ë
	`°æí
 (
›èrg_S
);

844 
cﬁ_£p_°rög
 = 
	`xmÆloc
 (
cﬁ_£p_Àngth
 + 1);

845 
	`°r˝y
 (
cﬁ_£p_°rög
, 
›èrg_S
);

846 
	}
}

849 
	$maö
 (
¨gc
, **
¨gv
)

851 
n_fûes
;

852 
boﬁ
 
ﬁd_›ti⁄s
 = 
Ál£
;

853 
boﬁ
 
ﬁd_w
 = 
Ál£
;

854 
boﬁ
 
ﬁd_s
 = 
Ál£
;

855 **
fûe_«mes
;

858 *
cﬁumn_cou¡_°rög
 = 
NULL
;

859 
size_t
 
n_digôs
 = 0;

860 
size_t
 
n_Æloc
 = 0;

862 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

863 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

864 
	`£éoˇÀ
 (
LC_ALL
, "");

865 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

866 
	`ãxtdomaö
 (
PACKAGE
);

868 
	`©exô
 (
˛o£_°dout
);

870 
n_fûes
 = 0;

871 
fûe_«mes
 = (
¨gc
 > 1

872 ? 
	`xmÆloc
 ((
¨gc
 - 1) *  (*))

873 : 
NULL
);

875 
åue
)

877 
oi
 = -1;

878 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, &
oi
);

879 i‡(
c
 == -1)

882 i‡(
	`ISDIGIT
 (
c
))

885 i‡(
n_digôs
 + 1 >
n_Æloc
)

886 
cﬁumn_cou¡_°rög


887 
	`X2REALLOC
 (
cﬁumn_cou¡_°rög
, &
n_Æloc
);

888 
cﬁumn_cou¡_°rög
[
n_digôs
++] = 
c
;

889 
cﬁumn_cou¡_°rög
[
n_digôs
] = '\0';

893 
n_digôs
 = 0;

895 
c
)

899 i‡(! (
fú°_∑ge_numbî
 == 0

900 && *
›èrg
 ='+' && 
	`fú°_œ°_∑ge
 (-2, '+', optarg + 1)))

901 
fûe_«mes
[
n_fûes
++] = 
›èrg
;

904 
PAGES_OPTION
:

906 i‡(! 
›èrg
)

907 
	`îr‹
 (
EXIT_FAILURE
, 0,

908 
	`_
("'--pages=FIRST_PAGE[:LAST_PAGE]' missingárgument"));

909 i‡(! 
	`fú°_œ°_∑ge
 (
oi
, 0, 
›èrg
))

910 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalidÖageÑange %s"),

911 
	`quŸe
 (
›èrg
));

915 
COLUMNS_OPTION
:

917 
	`∑r£_cﬁumn_cou¡
 (
›èrg
);

922 
	`‰ì
 (
cﬁumn_cou¡_°rög
);

923 
cﬁumn_cou¡_°rög
 = 
NULL
;

924 
n_Æloc
 = 0;

929 
¥öt_a¸oss_Êag
 = 
åue
;

930 
°‹ög_cﬁumns
 = 
Ál£
;

933 
bÆ™˚_cﬁumns
 = 
åue
;

936 
u£_˙ål_¥efix
 = 
åue
;

939 
doubÀ_•a˚
 = 
åue
;

942 
d©e_f‹m©
 = 
›èrg
;

945 i‡(
›èrg
)

946 
	`gë›èrg
 (
›èrg
, 'e', &
öput_èb_ch¨
,

947 &
ch¨s_≥r_öput_èb
);

949 
u¡abify_öput
 = 
åue
;

953 
u£_f‹m_„ed
 = 
åue
;

956 
cu°om_hódî
 = 
›èrg
;

959 i‡(
›èrg
)

960 
	`gë›èrg
 (
›èrg
, 'i', &
ouçut_èb_ch¨
,

961 &
ch¨s_≥r_ouçut_èb
);

963 
èbify_ouçut
 = 
åue
;

966 
joö_löes
 = 
åue
;

970 
tmp_l⁄g
;

971 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


972 || 
tmp_l⁄g
 <0 ||Åmp_l⁄g > 
INT_MAX
)

974 
	`îr‹
 (
EXIT_FAILURE
, 0,

975 
	`_
("'-l PAGE_LENGTH' invalidÇumber ofÜines: %s"),

976 
	`quŸe
 (
›èrg
));

978 
löes_≥r_∑ge
 = 
tmp_l⁄g
;

982 
∑øŒñ_fûes
 = 
åue
;

983 
°‹ög_cﬁumns
 = 
Ál£
;

986 
numbîed_löes
 = 
åue
;

987 i‡(
›èrg
)

988 
	`gë›èrg
 (
›èrg
, 'n', &
numbî_£∑øt‹
,

989 &
ch¨s_≥r_numbî
);

992 
skù_cou¡
 = 
Ál£
;

994 
tmp_l⁄g
;

995 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


996 || 
tmp_l⁄g
 > 
INT_MAX
)

998 
	`îr‹
 (
EXIT_FAILURE
, 0,

999 
	`_
("'-N NUMBER' invalid startingÜineÇumber: %s"),

1000 
	`quŸe
 (
›èrg
));

1002 
°¨t_löe_num
 = 
tmp_l⁄g
;

1007 
tmp_l⁄g
;

1008 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


1009 || 
tmp_l⁄g
 < 0 ||Åmp_l⁄g > 
INT_MAX
)

1010 
	`îr‹
 (
EXIT_FAILURE
, 0,

1011 
	`_
("'-ÿMARGIN' invÆidÜöêoff£t: %s"), 
	`quŸe
 (
›èrg
));

1012 
ch¨s_≥r_m¨gö
 = 
tmp_l⁄g
;

1016 
ign‹e_Áûed_›ís
 = 
åue
;

1019 
ﬁd_›ti⁄s
 = 
åue
;

1020 
ﬁd_s
 = 
åue
;

1021 i‡(!
u£_cﬁ_£∑øt‹
 && 
›èrg
)

1022 
	`£∑øt‹_°rög
 (
›èrg
);

1025 
ﬁd_s
 = 
Ál£
;

1027 
cﬁ_£p_°rög
 = 
	`bad_ˇ°
 ("");

1028 
cﬁ_£p_Àngth
 = 0;

1029 
u£_cﬁ_£∑øt‹
 = 
åue
;

1030 i‡(
›èrg
)

1031 
	`£∑øt‹_°rög
 (
›èrg
);

1034 
exåemôõs
 = 
Ál£
;

1035 
kìp_FF
 = 
åue
;

1038 
exåemôõs
 = 
Ál£
;

1039 
kìp_FF
 = 
Ál£
;

1042 
u£_esc_£quí˚
 = 
åue
;

1045 
ﬁd_›ti⁄s
 = 
åue
;

1046 
ﬁd_w
 = 
åue
;

1048 
tmp_l⁄g
;

1049 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


1050 || 
tmp_l⁄g
 <0 ||Åmp_l⁄g > 
INT_MAX
)

1051 
	`îr‹
 (
EXIT_FAILURE
, 0,

1052 
	`_
("'-w PAGE_WIDTH' invalidÇumber of characters: %s"),

1053 
	`quŸe
 (
›èrg
));

1054 i‡(!
åunˇã_löes
)

1055 
ch¨s_≥r_löe
 = 
tmp_l⁄g
;

1059 
ﬁd_w
 = 
Ál£
;

1060 
åunˇã_löes
 = 
åue
;

1062 
tmp_l⁄g
;

1063 i‡(
	`x°πﬁ
 (
›èrg
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


1064 || 
tmp_l⁄g
 <0 ||Åmp_l⁄g > 
INT_MAX
)

1065 
	`îr‹
 (
EXIT_FAILURE
, 0,

1066 
	`_
("'-W PAGE_WIDTH' invalidÇumber of characters: %s"),

1067 
	`quŸe
 (
›èrg
));

1068 
ch¨s_≥r_löe
 = 
tmp_l⁄g
;

1071 
ˇ£_GETOPT_HELP_CHAR
;

1072 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1074 
	`ußge
 (
EXIT_FAILURE
);

1079 i‡(
cﬁumn_cou¡_°rög
)

1081 
	`∑r£_cﬁumn_cou¡
 (
cﬁumn_cou¡_°rög
);

1082 
	`‰ì
 (
cﬁumn_cou¡_°rög
);

1085 i‡(! 
d©e_f‹m©
)

1086 
d©e_f‹m©
 = (
	`gëív
 ("POSIXLY_CORRECT"Ë&& !
	`h¨d_loˇÀ
 (
LC_TIME
)

1091 i‡(
fú°_∑ge_numbî
 == 0)

1092 
fú°_∑ge_numbî
 = 1;

1094 i‡(
∑øŒñ_fûes
 && 
ex∂icô_cﬁumns
)

1095 
	`îr‹
 (
EXIT_FAILURE
, 0,

1096 
	`_
("cannot specifyÇumber of columns whenÖrinting inÖarallel"));

1098 i‡(
∑øŒñ_fûes
 && 
¥öt_a¸oss_Êag
)

1099 
	`îr‹
 (
EXIT_FAILURE
, 0,

1100 
	`_
("cannot specify bothÖrintingácrossándÖrinting inÖarallel"));

1106 i‡(
ﬁd_›ti⁄s
)

1108 i‡(
ﬁd_w
)

1110 i‡(
∑øŒñ_fûes
 || 
ex∂icô_cﬁumns
)

1113 
åunˇã_löes
 = 
åue
;

1114 i‡(
ﬁd_s
)

1117 
u£_cﬁ_£∑øt‹
 = 
åue
;

1122 
joö_löes
 = 
åue
;

1124 i‡(!
u£_cﬁ_£∑øt‹
)

1127 i‡(
ﬁd_s
 && (
∑øŒñ_fûes
 || 
ex∂icô_cﬁumns
))

1129 i‡(!
åunˇã_löes
)

1133 
joö_löes
 = 
åue
;

1134 i‡(
cﬁ_£p_Àngth
 > 0)

1136 
u£_cﬁ_£∑øt‹
 = 
åue
;

1142 
u£_cﬁ_£∑øt‹
 = 
åue
;

1147 ; 
›töd
 < 
¨gc
; optind++)

1149 
fûe_«mes
[
n_fûes
++] = 
¨gv
[
›töd
];

1152 i‡(
n_fûes
 == 0)

1155 
	`¥öt_fûes
 (0, 
NULL
);

1159 i‡(
∑øŒñ_fûes
)

1160 
	`¥öt_fûes
 (
n_fûes
, 
fûe_«mes
);

1163 
i
;

1164 
i
 = 0; i < 
n_fûes
; i++)

1165 
	`¥öt_fûes
 (1, &
fûe_«mes
[
i
]);

1169 
	`˛ónup
 ();

1171 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

1172 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard input"));

1173 i‡(
Áûed_›ís
)

1174 
	`exô
 (
EXIT_FAILURE
);

1175 
	`exô
 (
EXIT_SUCCESS
);

1176 
	}
}

1185 
	$gë›èrg
 (*
¨g
, 
swôch_ch¨
, *
ch¨a˘î
, *
numbî
)

1187 i‡(!
	`ISDIGIT
 (*
¨g
))

1188 *
ch¨a˘î
 = *
¨g
++;

1189 i‡(*
¨g
)

1191 
tmp_l⁄g
;

1192 i‡(
	`x°πﬁ
 (
¨g
, 
NULL
, 10, &
tmp_l⁄g
, ""Ë!
LONGINT_OK


1193 || 
tmp_l⁄g
 <0 ||Åmp_l⁄g > 
INT_MAX
)

1195 
	`îr‹
 (0, 0,

1196 
	`_
("'-%c'Éxtra characters or invalidÇumber inÅheárgument: %s"),

1197 
swôch_ch¨
, 
	`quŸe
 (
¨g
));

1198 
	`ußge
 (
EXIT_FAILURE
);

1200 *
numbî
 = 
tmp_l⁄g
;

1202 
	}
}

1207 
	$öô_∑ømëîs
 (
numbî_of_fûes
)

1209 
ch¨s_u£d_by_numbî
 = 0;

1211 
löes_≥r_body
 = 
löes_≥r_∑ge
 - 
löes_≥r_hódî
 - 
löes_≥r_foŸî
;

1212 i‡(
löes_≥r_body
 <= 0)

1214 
exåemôõs
 = 
Ál£
;

1215 
kìp_FF
 = 
åue
;

1217 i‡(
exåemôõs
 =
Ál£
)

1218 
löes_≥r_body
 = 
löes_≥r_∑ge
;

1220 i‡(
doubÀ_•a˚
)

1221 
löes_≥r_body
 =Üines_per_body / 2;

1225 i‡(
numbî_of_fûes
 == 0)

1226 
∑øŒñ_fûes
 = 
Ál£
;

1228 i‡(
∑øŒñ_fûes
)

1229 
cﬁumns
 = 
numbî_of_fûes
;

1233 i‡(
°‹ög_cﬁumns
)

1234 
bÆ™˚_cﬁumns
 = 
åue
;

1237 i‡(
cﬁumns
 > 1)

1239 i‡(!
u£_cﬁ_£∑øt‹
)

1242 i‡(
joö_löes
)

1243 
cﬁ_£p_°rög
 = 
löe_£∑øt‹
;

1245 
cﬁ_£p_°rög
 = 
cﬁumn_£∑øt‹
;

1247 
cﬁ_£p_Àngth
 = 1;

1248 
u£_cﬁ_£∑øt‹
 = 
åue
;

1252 i‡(!
joö_löes
 && *
cﬁ_£p_°rög
 == '\t')

1253 
cﬁ_£p_°rög
 = 
cﬁumn_£∑øt‹
;

1255 
åunˇã_löes
 = 
åue
;

1256 
èbify_ouçut
 = 
åue
;

1259 
°‹ög_cﬁumns
 = 
Ál£
;

1262 i‡(
joö_löes
)

1263 
åunˇã_löes
 = 
Ál£
;

1265 i‡(
numbîed_löes
)

1267 
ch¨s_≥r_deÁu…_èb
 = 8;

1269 
löe_cou¡
 = 
°¨t_löe_num
;

1277 i‡(
numbî_£∑øt‹
 == '\t')

1278 
numbî_width
 = (
ch¨s_≥r_numbî


1279 + 
	`TAB_WIDTH
 (
ch¨s_≥r_deÁu…_èb
, 
ch¨s_≥r_numbî
));

1281 
numbî_width
 = 
ch¨s_≥r_numbî
 + 1;

1285 i‡(
∑øŒñ_fûes
)

1286 
ch¨s_u£d_by_numbî
 = 
numbî_width
;

1289 
ch¨s_≥r_cﬁumn
 = (
ch¨s_≥r_löe
 - 
ch¨s_u£d_by_numbî


1290 - (
cﬁumns
 - 1Ë* 
cﬁ_£p_Àngth
) / columns;

1292 i‡(
ch¨s_≥r_cﬁumn
 < 1)

1293 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("page widthÅooÇarrow"));

1295 i‡(
numbîed_löes
)

1297 
	`‰ì
 (
numbî_buff
);

1298 
numbî_buff
 = 
	`xmÆloc
 (
	`MAX
 (
ch¨s_≥r_numbî
,

1299 
	`INT_STRLEN_BOUND
 (
löe_numbî
)) + 1);

1307 
	`‰ì
 (
˛ump_buff
);

1308 
˛ump_buff
 = 
	`xmÆloc
 (
	`MAX
 (8, 
ch¨s_≥r_öput_èb
));

1309 
	}
}

1322 
boﬁ


1323 
	$öô_Âs
 (
numbî_of_fûes
, **
av
)

1325 
i
, 
fûes_À·
;

1326 
COLUMN
 *
p
;

1327 
FILE
 *
fú°Â
;

1328 c⁄° *
fú°«me
;

1330 
tŸÆ_fûes
 = 0;

1332 
	`‰ì
 (
cﬁumn_ve˘‹
);

1333 
cﬁumn_ve˘‹
 = 
	`xnmÆloc
 (
cﬁumns
,  (
COLUMN
));

1335 i‡(
∑øŒñ_fûes
)

1337 
fûes_À·
 = 
numbî_of_fûes
;

1338 
p
 = 
cﬁumn_ve˘‹
; 
fûes_À·
--; ++p, ++
av
)

1340 i‡(! 
	`›í_fûe
 (*
av
, 
p
))

1342 --
p
;

1343 --
cﬁumns
;

1346 i‡(
cﬁumns
 == 0)

1347  
Ál£
;

1348 
	`öô_hódî
 ("", -1);

1352 
p
 = 
cﬁumn_ve˘‹
;

1353 i‡(
numbî_of_fûes
 > 0)

1355 i‡(! 
	`›í_fûe
 (*
av
, 
p
))

1356  
Ál£
;

1357 
	`öô_hódî
 (*
av
, 
	`fûío
 (
p
->
Â
));

1358 
p
->
löes_°‹ed
 = 0;

1362 
p
->
«me
 = 
	`_
("standard input");

1363 
p
->
Â
 = 
°dö
;

1364 
have_ªad_°dö
 = 
åue
;

1365 
p
->
°©us
 = 
OPEN
;

1366 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

1367 ++
tŸÆ_fûes
;

1368 
	`öô_hódî
 ("", -1);

1369 
p
->
löes_°‹ed
 = 0;

1372 
fú°«me
 = 
p
->
«me
;

1373 
fú°Â
 = 
p
->
Â
;

1374 
i
 = 
cﬁumns
 - 1, ++
p
; i; --i, ++p)

1376 
p
->
«me
 = 
fú°«me
;

1377 
p
->
Â
 = 
fú°Â
;

1378 
p
->
°©us
 = 
OPEN
;

1379 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

1380 
p
->
löes_°‹ed
 = 0;

1383 
fûes_ªady_to_ªad
 = 
tŸÆ_fûes
;

1384  
åue
;

1385 
	}
}

1394 
	$öô_funcs
 ()

1396 
i
, 
h
, 
h_√xt
;

1397 
COLUMN
 *
p
;

1399 
h
 = 
ch¨s_≥r_m¨gö
;

1401 i‡(!
åunˇã_löes
)

1402 
h_√xt
 = 
ANYWHERE
;

1408 i‡(
∑øŒñ_fûes
 && 
numbîed_löes
)

1409 
h_√xt
 = 
h
 + 
ch¨s_≥r_cﬁumn
 + 
numbî_width
;

1411 
h_√xt
 = 
h
 + 
ch¨s_≥r_cﬁumn
;

1416 
h
 = h + 
cﬁ_£p_Àngth
;

1420 
p
 = 
cﬁumn_ve˘‹
, 
i
 = 1; i < 
cﬁumns
; ++p, ++i)

1422 i‡(
°‹ög_cﬁumns
)

1424 
p
->
ch¨_func
 = 
°‹e_ch¨
;

1425 
p
->
¥öt_func
 = 
¥öt_°‹ed
;

1430 
p
->
ch¨_func
 = 
¥öt_ch¨
;

1431 
p
->
¥öt_func
 = 
ªad_löe
;

1436 
p
->
numbîed
 = 
numbîed_löes
 && (!
∑øŒñ_fûes
 || 
i
 == 1);

1437 
p
->
°¨t_posôi⁄
 = 
h
;

1443 i‡(!
åunˇã_löes
)

1445 
h
 = 
ANYWHERE
;

1446 
h_√xt
 = 
ANYWHERE
;

1450 
h
 = 
h_√xt
 + 
cﬁ_£p_Àngth
;

1451 
h_√xt
 = 
h
 + 
ch¨s_≥r_cﬁumn
;

1459 i‡(
°‹ög_cﬁumns
 && 
bÆ™˚_cﬁumns
)

1461 
p
->
ch¨_func
 = 
°‹e_ch¨
;

1462 
p
->
¥öt_func
 = 
¥öt_°‹ed
;

1466 
p
->
ch¨_func
 = 
¥öt_ch¨
;

1467 
p
->
¥öt_func
 = 
ªad_löe
;

1470 
p
->
numbîed
 = 
numbîed_löes
 && (!
∑øŒñ_fûes
 || 
i
 == 1);

1471 
p
->
°¨t_posôi⁄
 = 
h
;

1472 
	}
}

1479 
boﬁ


1480 
	$›í_fûe
 (*
«me
, 
COLUMN
 *
p
)

1482 i‡(
	`STREQ
 (
«me
, "-"))

1484 
p
->
«me
 = 
	`_
("standard input");

1485 
p
->
Â
 = 
°dö
;

1486 
have_ªad_°dö
 = 
åue
;

1490 
p
->
«me
 =Çame;

1491 
p
->
Â
 = 
	`f›í
 (
«me
, "r");

1493 i‡(
p
->
Â
 =
NULL
)

1495 
Áûed_›ís
 = 
åue
;

1496 i‡(!
ign‹e_Áûed_›ís
)

1497 
	`îr‹
 (0, 
î∫o
, "%s", 
«me
);

1498  
Ál£
;

1500 
	`Ádvi£
 (
p
->
Â
, 
FADVISE_SEQUENTIAL
);

1501 
p
->
°©us
 = 
OPEN
;

1502 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

1503 ++
tŸÆ_fûes
;

1504  
åue
;

1505 
	}
}

1513 
	$˛o£_fûe
 (
COLUMN
 *
p
)

1515 
COLUMN
 *
q
;

1516 
i
;

1518 i‡(
p
->
°©us
 =
CLOSED
)

1520 i‡(
	`„º‹
 (
p
->
Â
))

1521 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
p
->
«me
);

1522 i‡(
	`fûío
 (
p
->
Â
Ë!
STDIN_FILENO
 && 
	`f˛o£
 (p->fp) != 0)

1523 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
p
->
«me
);

1525 i‡(!
∑øŒñ_fûes
)

1527 
q
 = 
cﬁumn_ve˘‹
, 
i
 = 
cﬁumns
; i; ++q, --i)

1529 
q
->
°©us
 = 
CLOSED
;

1530 i‡(
q
->
löes_°‹ed
 == 0)

1532 
q
->
löes_to_¥öt
 = 0;

1538 
p
->
°©us
 = 
CLOSED
;

1539 
p
->
löes_to_¥öt
 = 0;

1542 --
fûes_ªady_to_ªad
;

1543 
	}
}

1552 
	$hﬁd_fûe
 (
COLUMN
 *
p
)

1554 
COLUMN
 *
q
;

1555 
i
;

1557 i‡(!
∑øŒñ_fûes
)

1558 
q
 = 
cﬁumn_ve˘‹
, 
i
 = 
cﬁumns
; i; ++q, --i)

1560 i‡(
°‹ög_cﬁumns
)

1561 
q
->
°©us
 = 
FF_FOUND
;

1563 
q
->
°©us
 = 
ON_HOLD
;

1566 
p
->
°©us
 = 
ON_HOLD
;

1568 
p
->
löes_to_¥öt
 = 0;

1569 --
fûes_ªady_to_ªad
;

1570 
	}
}

1576 
	$ª£t_°©us
 ()

1578 
i
 = 
cﬁumns
;

1579 
COLUMN
 *
p
;

1581 
p
 = 
cﬁumn_ve˘‹
; 
i
; --i, ++p)

1582 i‡(
p
->
°©us
 =
ON_HOLD
)

1584 
p
->
°©us
 = 
OPEN
;

1585 
fûes_ªady_to_ªad
++;

1588 i‡(
°‹ög_cﬁumns
)

1590 i‡(
cﬁumn_ve˘‹
->
°©us
 =
CLOSED
)

1592 
fûes_ªady_to_ªad
 = 0;

1594 
fûes_ªady_to_ªad
 = 1;

1596 
	}
}

1608 
	$¥öt_fûes
 (
numbî_of_fûes
, **
av
)

1610 
	`öô_∑ømëîs
 (
numbî_of_fûes
);

1611 i‡(! 
	`öô_Âs
 (
numbî_of_fûes
, 
av
))

1613 i‡(
°‹ög_cﬁumns
)

1614 
	`öô_°‹e_cﬁs
 ();

1616 i‡(
fú°_∑ge_numbî
 > 1)

1618 i‡(!
	`skù_to_∑ge
 (
fú°_∑ge_numbî
))

1621 
∑ge_numbî
 = 
fú°_∑ge_numbî
;

1624 
∑ge_numbî
 = 1;

1626 
	`öô_funcs
 ();

1628 
löe_numbî
 = 
löe_cou¡
;

1629 
	`¥öt_∑ge
 ())

1631 
	}
}

1638 
	$öô_hódî
 (c⁄° *
fûíame
, 
desc
)

1640 *
buf
 = 
NULL
;

1641 
°©
 
°
;

1642 
time•ec
 
t
;

1643 
ns
;

1644 
tm
 *tm;

1647 i‡(
	`STREQ
 (
fûíame
, "-"))

1648 
desc
 = -1;

1649 i‡(0 <
desc
 && 
	`f°©
 (desc, &
°
) == 0)

1650 
t
 = 
	`gë_°©_mtime
 (&
°
);

1653 
time•ec
Åimespec;

1654 i‡(! 
time•ec
.
tv_£c
)

1655 
	`gëtime
 (&
time•ec
);

1656 
t
 = 
time•ec
;

1659 
ns
 = 
t
.
tv_n£c
;

1660 
tm
 = 
	`loˇ…ime
 (&
t
.
tv_£c
);

1661 i‡(
tm
 =
NULL
)

1663 
buf
 = 
	`xmÆloc
 (
	`INT_BUFSIZE_BOUND
 ()

1664 + 
	`MAX
 (10, 
	`INT_BUFSIZE_BOUND
 ()));

1665 
	`•rötf
 (
buf
, "%ld.%09d", (Ë
t
.
tv_£c
, 
ns
);

1669 
size_t
 
bufsize
 = 
	`n°r·ime
 (
NULL
, 
SIZE_MAX
, 
d©e_f‹m©
, 
tm
, 0, 
ns
) + 1;

1670 
buf
 = 
	`xmÆloc
 (
bufsize
);

1671 
	`n°r·ime
 (
buf
, 
bufsize
, 
d©e_f‹m©
, 
tm
, 0, 
ns
);

1674 
	`‰ì
 (
d©e_ãxt
);

1675 
d©e_ãxt
 = 
buf
;

1676 
fûe_ãxt
 = 
cu°om_hódî
 ? cu°om_hódî : 
desc
 < 0 ? "" : 
fûíame
;

1677 
hódî_width_avaûabÀ
 = (
ch¨s_≥r_löe


1678 - 
	`mbswidth
 (
d©e_ãxt
, 0)

1679 - 
	`mbswidth
 (
fûe_ãxt
, 0));

1680 
	}
}

1693 
	$öô_∑ge
 ()

1695 
j
;

1696 
COLUMN
 *
p
;

1698 i‡(
°‹ög_cﬁumns
)

1700 
	`°‹e_cﬁumns
 ();

1701 
j
 = 
cﬁumns
 - 1, 
p
 = 
cﬁumn_ve˘‹
; j; --j, ++p)

1703 
p
->
löes_to_¥öt
 =Ö->
löes_°‹ed
;

1707 i‡(
bÆ™˚_cﬁumns
)

1709 
p
->
löes_to_¥öt
 =Ö->
löes_°‹ed
;

1715 i‡(
p
->
°©us
 =
OPEN
)

1717 
p
->
löes_to_¥öt
 = 
löes_≥r_body
;

1720 
p
->
löes_to_¥öt
 = 0;

1724 
j
 = 
cﬁumns
, 
p
 = 
cﬁumn_ve˘‹
; j; --j, ++p)

1725 i‡(
p
->
°©us
 =
OPEN
)

1727 
p
->
löes_to_¥öt
 = 
löes_≥r_body
;

1730 
p
->
löes_to_¥öt
 = 0;

1731 
	}
}

1738 
	$Æign_cﬁumn
 (
COLUMN
 *
p
)

1740 
∑ddög_nŸ_¥öãd
 = 
p
->
°¨t_posôi⁄
;

1741 i‡(
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
 > 0)

1743 
	`∑d_a¸oss_to
 (
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
);

1744 
∑ddög_nŸ_¥öãd
 = 
ANYWHERE
;

1747 i‡(
u£_cﬁ_£∑øt‹
)

1748 
	`¥öt_£p_°rög
 ();

1750 i‡(
p
->
numbîed
)

1751 
	`add_löe_numbî
 (
p
);

1752 
	}
}

1765 
boﬁ


1766 
	$¥öt_∑ge
 ()

1768 
j
;

1769 
löes_À·_⁄_∑ge
;

1770 
COLUMN
 *
p
;

1779 
boﬁ
 
pv
;

1781 
	`öô_∑ge
 ();

1783 i‡(
	`cﬁs_ªady_to_¥öt
 () == 0)

1784  
Ál£
;

1786 i‡(
exåemôõs
)

1787 
¥öt_a_hódî
 = 
åue
;

1790 
∑d_vîtiˇŒy
 = 
Ál£
;

1791 
pv
 = 
Ál£
;

1793 
löes_À·_⁄_∑ge
 = 
löes_≥r_body
;

1794 i‡(
doubÀ_•a˚
)

1795 
löes_À·_⁄_∑ge
 *= 2;

1797 
löes_À·_⁄_∑ge
 > 0 && 
	`cﬁs_ªady_to_¥öt
 () > 0)

1799 
ouçut_posôi⁄
 = 0;

1800 
•a˚s_nŸ_¥öãd
 = 0;

1801 
£∑øt‹s_nŸ_¥öãd
 = 0;

1802 
∑d_vîtiˇŒy
 = 
Ál£
;

1803 
Æign_em±y_cﬁs
 = 
Ál£
;

1804 
em±y_löe
 = 
åue
;

1806 
j
 = 1, 
p
 = 
cﬁumn_ve˘‹
; j <
cﬁumns
; ++j, ++p)

1808 
öput_posôi⁄
 = 0;

1809 i‡(
p
->
löes_to_¥öt
 > 0 ||Ö->
°©us
 =
FF_FOUND
)

1811 
FF_⁄ly
 = 
Ál£
;

1812 
∑ddög_nŸ_¥öãd
 = 
p
->
°¨t_posôi⁄
;

1813 i‡(!(
p
->
¥öt_func
) (p))

1814 
	`ªad_ª°_of_löe
 (
p
);

1815 
pv
 |
∑d_vîtiˇŒy
;

1817 --
p
->
löes_to_¥öt
;

1818 i‡(
p
->
löes_to_¥öt
 <= 0)

1820 i‡(
	`cﬁs_ªady_to_¥öt
 () <= 0)

1825 i‡(
∑øŒñ_fûes
 && 
p
->
°©us
 !
OPEN
)

1827 i‡(
em±y_löe
)

1828 
Æign_em±y_cﬁs
 = 
åue
;

1829 i‡(
p
->
°©us
 =
CLOSED


1830 || (
p
->
°©us
 =
ON_HOLD
 && 
FF_⁄ly
))

1831 
	`Æign_cﬁumn
 (
p
);

1834 i‡(
∑øŒñ_fûes
)

1837 i‡(
em±y_löe
)

1838 
Æign_em±y_cﬁs
 = 
åue
;

1840 
	`Æign_cﬁumn
 (
p
);

1844 i‡(
u£_cﬁ_£∑øt‹
)

1845 ++
£∑øt‹s_nŸ_¥öãd
;

1848 i‡(
∑d_vîtiˇŒy
)

1850 
	`putch¨
 ('\n');

1851 --
löes_À·_⁄_∑ge
;

1854 i‡(
	`cﬁs_ªady_to_¥öt
 (Ë<0 && !
exåemôõs
)

1857 i‡(
doubÀ_•a˚
 && 
pv
)

1859 
	`putch¨
 ('\n');

1860 --
löes_À·_⁄_∑ge
;

1864 i‡(
löes_À·_⁄_∑ge
 == 0)

1865 
j
 = 1, 
p
 = 
cﬁumn_ve˘‹
; j <
cﬁumns
; ++j, ++p)

1866 i‡(
p
->
°©us
 =
OPEN
)

1867 
p
->
fuŒ_∑ge_¥öãd
 = 
åue
;

1869 
∑d_vîtiˇŒy
 = 
pv
;

1871 i‡(
∑d_vîtiˇŒy
 && 
exåemôõs
)

1872 
	`∑d_down
 (
löes_À·_⁄_∑ge
 + 
löes_≥r_foŸî
);

1873 i‡(
kìp_FF
 && 
¥öt_a_FF
)

1875 
	`putch¨
 ('\f');

1876 
¥öt_a_FF
 = 
Ál£
;

1879 i‡(
œ°_∑ge_numbî
 < ++
∑ge_numbî
)

1880  
Ál£
;

1882 
	`ª£t_°©us
 ();

1884  
åue
;

1885 
	}
}

1902 
	$öô_°‹e_cﬁs
 ()

1904 
tŸÆ_löes
 = 
löes_≥r_body
 * 
cﬁumns
;

1905 
ch¨s_if_åunˇã
 = 
tŸÆ_löes
 * (
ch¨s_≥r_cﬁumn
 + 1);

1907 
	`‰ì
 (
löe_ve˘‹
);

1909 
löe_ve˘‹
 = 
	`xmÆloc
 ((
tŸÆ_löes
 + 1) *  *line_vector);

1911 
	`‰ì
 (
íd_ve˘‹
);

1912 
íd_ve˘‹
 = 
	`xmÆloc
 (
tŸÆ_löes
 *  *end_vector);

1914 
	`‰ì
 (
buff
);

1915 
buff_Æloˇãd
 = (
u£_cﬁ_£∑øt‹


1916 ? 2 * 
ch¨s_if_åunˇã


1917 : 
ch¨s_if_åunˇã
);

1918 
buff
 = 
	`xmÆloc
 (
buff_Æloˇãd
);

1919 
	}
}

1934 
	$°‹e_cﬁumns
 ()

1936 
i
, 
j
;

1937 
löe
 = 0;

1938 
buff_°¨t
;

1939 
œ°_cﬁ
;

1940 
COLUMN
 *
p
;

1942 
buff_cuºít
 = 0;

1943 
buff_°¨t
 = 0;

1945 i‡(
bÆ™˚_cﬁumns
)

1946 
œ°_cﬁ
 = 
cﬁumns
;

1948 
œ°_cﬁ
 = 
cﬁumns
 - 1;

1950 
i
 = 1, 
p
 = 
cﬁumn_ve˘‹
; i <
œ°_cﬁ
; ++i, ++p)

1951 
p
->
löes_°‹ed
 = 0;

1953 
i
 = 1, 
p
 = 
cﬁumn_ve˘‹
; i <
œ°_cﬁ
 && 
fûes_ªady_to_ªad
;

1954 ++
i
, ++
p
)

1956 
p
->
cuºít_löe
 = 
löe
;

1957 
j
 = 
löes_≥r_body
; j && 
fûes_ªady_to_ªad
; --j)

1959 i‡(
p
->
°©us
 =
OPEN
)

1961 
öput_posôi⁄
 = 0;

1963 i‡(!
	`ªad_löe
 (
p
))

1964 
	`ªad_ª°_of_löe
 (
p
);

1966 i‡(
p
->
°©us
 =
OPEN


1967 || 
buff_°¨t
 !
buff_cuºít
)

1969 ++
p
->
löes_°‹ed
;

1970 
löe_ve˘‹
[
löe
] = 
buff_°¨t
;

1971 
íd_ve˘‹
[
löe
++] = 
öput_posôi⁄
;

1972 
buff_°¨t
 = 
buff_cuºít
;

1978 
löe_ve˘‹
[
löe
] = 
buff_°¨t
;

1980 i‡(
bÆ™˚_cﬁumns
)

1981 
	`bÆ™˚
 (
löe
);

1982 
	}
}

1985 
	$bÆ™˚
 (
tŸÆ_°‹ed
)

1987 
COLUMN
 *
p
;

1988 
i
, 
löes
;

1989 
fú°_löe
 = 0;

1991 
i
 = 1, 
p
 = 
cﬁumn_ve˘‹
; i <
cﬁumns
; ++i, ++p)

1993 
löes
 = 
tŸÆ_°‹ed
 / 
cﬁumns
;

1994 i‡(
i
 <
tŸÆ_°‹ed
 % 
cﬁumns
)

1995 ++
löes
;

1997 
p
->
löes_°‹ed
 = 
löes
;

1998 
p
->
cuºít_löe
 = 
fú°_löe
;

2000 
fú°_löe
 +
löes
;

2002 
	}
}

2007 
	$°‹e_ch¨
 (
c
)

2009 i‡(
buff_cuºít
 >
buff_Æloˇãd
)

2012 
buff
 = 
	`X2REALLOC
 (buff, &
buff_Æloˇãd
);

2014 
buff
[
buff_cuºít
++] = 
c
;

2015 
	}
}

2018 
	$add_löe_numbî
 (
COLUMN
 *
p
)

2020 
i
;

2021 *
s
;

2022 
num_width
;

2026 
num_width
 = 
	`•rötf
 (
numbî_buff
, "%*d", 
ch¨s_≥r_numbî
, 
löe_numbî
);

2027 
löe_numbî
++;

2028 
s
 = 
numbî_buff
 + (
num_width
 - 
ch¨s_≥r_numbî
);

2029 
i
 = 
ch¨s_≥r_numbî
; i > 0; i--)

2030 (
p
->
ch¨_func
Ë(*
s
++);

2032 i‡(
cﬁumns
 > 1)

2037 i‡(
numbî_£∑øt‹
 == '\t')

2039 
i
 = 
numbî_width
 - 
ch¨s_≥r_numbî
;

2040 
i
-- > 0)

2041 (
p
->
ch¨_func
) (' ');

2044 (
p
->
ch¨_func
Ë(
numbî_£∑øt‹
);

2051 (
p
->
ch¨_func
Ë(
numbî_£∑øt‹
);

2052 i‡(
numbî_£∑øt‹
 == '\t')

2053 
ouçut_posôi⁄
 = 
	`POS_AFTER_TAB
 (
ch¨s_≥r_ouçut_èb
,

2054 
ouçut_posôi⁄
);

2057 i‡(
åunˇã_löes
 && !
∑øŒñ_fûes
)

2058 
öput_posôi⁄
 +
numbî_width
;

2059 
	}
}

2065 
	$∑d_a¸oss_to
 (
posôi⁄
)

2067 
h
 = 
ouçut_posôi⁄
;

2069 i‡(
èbify_ouçut
)

2070 
•a˚s_nŸ_¥öãd
 = 
posôi⁄
 - 
ouçut_posôi⁄
;

2073 ++
h
 <
posôi⁄
)

2074 
	`putch¨
 (' ');

2075 
ouçut_posôi⁄
 = 
posôi⁄
;

2077 
	}
}

2085 
	$∑d_down
 (
löes
)

2087 
i
;

2089 i‡(
u£_f‹m_„ed
)

2090 
	`putch¨
 ('\f');

2092 
i
 = 
löes
; i; --i)

2093 
	`putch¨
 ('\n');

2094 
	}
}

2103 
	$ªad_ª°_of_löe
 (
COLUMN
 *
p
)

2105 
c
;

2106 
FILE
 *
f
 = 
p
->
Â
;

2108 (
c
 = 
	`gëc
 (
f
)) != '\n')

2110 i‡(
c
 == '\f')

2112 i‡((
c
 = 
	`gëc
 (
f
)) != '\n')

2113 
	`ungëc
 (
c
, 
f
);

2114 i‡(
kìp_FF
)

2115 
¥öt_a_FF
 = 
åue
;

2116 
	`hﬁd_fûe
 (
p
);

2119 i‡(
c
 =
EOF
)

2121 
	`˛o£_fûe
 (
p
);

2125 
	}
}

2137 
	$skù_ªad
 (
COLUMN
 *
p
, 
cﬁumn_numbî
)

2139 
c
;

2140 
FILE
 *
f
 = 
p
->
Â
;

2141 
i
;

2142 
boﬁ
 
sögÀ_ff
 = 
Ál£
;

2143 
COLUMN
 *
q
;

2146 i‡((
c
 = 
	`gëc
 (
f
)Ë='\f' && 
p
->
fuŒ_∑ge_¥öãd
)

2149 i‡((
c
 = 
	`gëc
 (
f
)) == '\n')

2150 
c
 = 
	`gëc
 (
f
);

2152 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

2156 i‡(
c
 == '\f')

2157 
sögÀ_ff
 = 
åue
;

2161 i‡(
œ°_löe
)

2162 
p
->
fuŒ_∑ge_¥öãd
 = 
åue
;

2164 
c
 != '\n')

2166 i‡(
c
 == '\f')

2170 i‡(
œ°_löe
)

2172 i‡(!
∑øŒñ_fûes
)

2173 
q
 = 
cﬁumn_ve˘‹
, 
i
 = 
cﬁumns
; i; ++q, --i)

2174 
q
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

2176 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

2179 i‡((
c
 = 
	`gëc
 (
f
)) != '\n')

2180 
	`ungëc
 (
c
, 
f
);

2181 
	`hﬁd_fûe
 (
p
);

2184 i‡(
c
 =
EOF
)

2186 
	`˛o£_fûe
 (
p
);

2189 
c
 = 
	`gëc
 (
f
);

2192 i‡(
skù_cou¡
)

2193 i‡((!
∑øŒñ_fûes
 || 
cﬁumn_numbî
 =1Ë&& !
sögÀ_ff
)

2194 ++
löe_cou¡
;

2195 
	}
}

2204 
	$¥öt_whôe_•a˚
 ()

2206 
h_√w
;

2207 
h_ﬁd
 = 
ouçut_posôi⁄
;

2208 
gﬂl
 = 
h_ﬁd
 + 
•a˚s_nŸ_¥öãd
;

2210 
gﬂl
 - 
h_ﬁd
 > 1

2211 && (
h_√w
 = 
	`POS_AFTER_TAB
 (
ch¨s_≥r_ouçut_èb
, 
h_ﬁd
)Ë<
gﬂl
)

2213 
	`putch¨
 (
ouçut_èb_ch¨
);

2214 
h_ﬁd
 = 
h_√w
;

2216 ++
h_ﬁd
 <
gﬂl
)

2217 
	`putch¨
 (' ');

2219 
ouçut_posôi⁄
 = 
gﬂl
;

2220 
•a˚s_nŸ_¥öãd
 = 0;

2221 
	}
}

2229 
	$¥öt_£p_°rög
 ()

2231 *
s
;

2232 
l
 = 
cﬁ_£p_Àngth
;

2234 
s
 = 
cﬁ_£p_°rög
;

2236 i‡(
£∑øt‹s_nŸ_¥öãd
 <= 0)

2239 i‡(
•a˚s_nŸ_¥öãd
 > 0)

2240 
	`¥öt_whôe_•a˚
 ();

2244 ; 
£∑øt‹s_nŸ_¥öãd
 > 0; --separators_not_printed)

2246 
l
-- > 0)

2250 i‡(*
s
 == ' ')

2254 
s
++;

2255 ++
•a˚s_nŸ_¥öãd
;

2259 i‡(
•a˚s_nŸ_¥öãd
 > 0)

2260 
	`¥öt_whôe_•a˚
 ();

2261 
	`putch¨
 (*
s
++);

2262 ++
ouçut_posôi⁄
;

2266 i‡(
•a˚s_nŸ_¥öãd
 > 0)

2267 
	`¥öt_whôe_•a˚
 ();

2270 
	}
}

2276 
	$¥öt_˛ump
 (
COLUMN
 *
p
, 
n
, *
˛ump
)

2278 
n
--)

2279 (
p
->
ch¨_func
Ë(*
˛ump
++);

2280 
	}
}

2292 
	$¥öt_ch¨
 (
c
)

2294 i‡(
èbify_ouçut
)

2296 i‡(
c
 == ' ')

2298 ++
•a˚s_nŸ_¥öãd
;

2301 i‡(
•a˚s_nŸ_¥öãd
 > 0)

2302 
	`¥öt_whôe_•a˚
 ();

2305 i‡(! 
	`i•röt
 (
	`to_uch¨
 (
c
)))

2307 i‡(
c
 == '\b')

2308 --
ouçut_posôi⁄
;

2311 ++
ouçut_posôi⁄
;

2313 
	`putch¨
 (
c
);

2314 
	}
}

2319 
boﬁ


2320 
	$skù_to_∑ge
 (
uötmax_t
 
∑ge
)

2322 
uötmax_t
 
n
;

2323 
i
;

2324 
j
;

2325 
COLUMN
 *
p
;

2327 
n
 = 1;Ç < 
∑ge
; ++n)

2329 
i
 = 1; i < 
löes_≥r_body
; ++i)

2331 
j
 = 1, 
p
 = 
cﬁumn_ve˘‹
; j <
cﬁumns
; ++j, ++p)

2332 i‡(
p
->
°©us
 =
OPEN
)

2333 
	`skù_ªad
 (
p
, 
j
);

2335 
œ°_löe
 = 
åue
;

2336 
j
 = 1, 
p
 = 
cﬁumn_ve˘‹
; j <
cﬁumns
; ++j, ++p)

2337 i‡(
p
->
°©us
 =
OPEN
)

2338 
	`skù_ªad
 (
p
, 
j
);

2340 i‡(
°‹ög_cﬁumns
)

2341 
j
 = 1, 
p
 = 
cﬁumn_ve˘‹
; j <
cﬁumns
; ++j, ++p)

2342 i‡(
p
->
°©us
 !
CLOSED
)

2343 
p
->
°©us
 = 
ON_HOLD
;

2345 
	`ª£t_°©us
 ();

2346 
œ°_löe
 = 
Ál£
;

2348 i‡(
fûes_ªady_to_ªad
 < 1)

2352 
	`îr‹
 (0, 0,

2353 
	`_
("°¨tögÖagênumbî %"
PRIuMAX


2354 "Éx˚ed†∑gêcou¡ %"
PRIuMAX
),

2355 
∑ge
, 
n
);

2359  
fûes_ªady_to_ªad
 > 0;

2360 
	}
}

2368 
	$¥öt_hódî
 ()

2370 
∑ge_ãxt
[256 + 
	`INT_STRLEN_BOUND
 (
∑ge_numbî
)];

2371 
avaûabÀ_width
;

2372 
lhs_•a˚s
;

2373 
rhs_•a˚s
;

2375 
ouçut_posôi⁄
 = 0;

2376 
	`∑d_a¸oss_to
 (
ch¨s_≥r_m¨gö
);

2377 
	`¥öt_whôe_•a˚
 ();

2379 i‡(
∑ge_numbî
 == 0)

2380 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("pageÇumber overflow"));

2385 
	`•rötf
 (
∑ge_ãxt
, 
	`_
("Pagê%"
PRIuMAX
), 
∑ge_numbî
);

2386 
avaûabÀ_width
 = 
hódî_width_avaûabÀ
 - 
	`mbswidth
 (
∑ge_ãxt
, 0);

2387 
avaûabÀ_width
 = 
	`MAX
 (0,ávailable_width);

2388 
lhs_•a˚s
 = 
avaûabÀ_width
 >> 1;

2389 
rhs_•a˚s
 = 
avaûabÀ_width
 - 
lhs_•a˚s
;

2391 
	`¥ötf
 ("\n\n%*s%s%*s%s%*s%s\n\n\n",

2392 
ch¨s_≥r_m¨gö
, "",

2393 
d©e_ãxt
, 
lhs_•a˚s
, " ",

2394 
fûe_ãxt
, 
rhs_•a˚s
, " ", 
∑ge_ãxt
);

2396 
¥öt_a_hódî
 = 
Ál£
;

2397 
ouçut_posôi⁄
 = 0;

2398 
	}
}

2421 
boﬁ


2422 
	$ªad_löe
 (
COLUMN
 *
p
)

2424 
c
;

2425 
ch¨s
 
	`IF_LINT
 ( = 0);

2426 
œ°_öput_posôi⁄
;

2427 
j
, 
k
;

2428 
COLUMN
 *
q
;

2431 
c
 = 
	`gëc
 (
p
->
Â
);

2433 
œ°_öput_posôi⁄
 = 
öput_posôi⁄
;

2435 i‡(
c
 ='\f' && 
p
->
fuŒ_∑ge_¥öãd
)

2436 i‡((
c
 = 
	`gëc
 (
p
->
Â
)) == '\n')

2437 
c
 = 
	`gëc
 (
p
->
Â
);

2438 
p
->
fuŒ_∑ge_¥öãd
 = 
Ál£
;

2440 
c
)

2443 i‡((
c
 = 
	`gëc
 (
p
->
Â
)) != '\n')

2444 
	`ungëc
 (
c
, 
p
->
Â
);

2445 
FF_⁄ly
 = 
åue
;

2446 i‡(
¥öt_a_hódî
 && !
°‹ög_cﬁumns
)

2448 
∑d_vîtiˇŒy
 = 
åue
;

2449 
	`¥öt_hódî
 ();

2451 i‡(
kìp_FF
)

2452 
¥öt_a_FF
 = 
åue
;

2453 
	`hﬁd_fûe
 (
p
);

2454  
åue
;

2455 
EOF
:

2456 
	`˛o£_fûe
 (
p
);

2457  
åue
;

2461 
ch¨s
 = 
	`ch¨_to_˛ump
 (
c
);

2464 i‡(
åunˇã_löes
 && 
öput_posôi⁄
 > 
ch¨s_≥r_cﬁumn
)

2466 
öput_posôi⁄
 = 
œ°_öput_posôi⁄
;

2467  
Ál£
;

2470 i‡(
p
->
ch¨_func
 !
°‹e_ch¨
)

2472 
∑d_vîtiˇŒy
 = 
åue
;

2474 i‡(
¥öt_a_hódî
 && !
°‹ög_cﬁumns
)

2475 
	`¥öt_hódî
 ();

2477 i‡(
∑øŒñ_fûes
 && 
Æign_em±y_cﬁs
)

2480 
k
 = 
£∑øt‹s_nŸ_¥öãd
;

2481 
£∑øt‹s_nŸ_¥öãd
 = 0;

2482 
j
 = 1, 
q
 = 
cﬁumn_ve˘‹
; j <
k
; ++j, ++q)

2484 
	`Æign_cﬁumn
 (
q
);

2485 
£∑øt‹s_nŸ_¥öãd
 += 1;

2487 
∑ddög_nŸ_¥öãd
 = 
p
->
°¨t_posôi⁄
;

2488 i‡(
åunˇã_löes
)

2489 
•a˚s_nŸ_¥öãd
 = 
ch¨s_≥r_cﬁumn
;

2491 
•a˚s_nŸ_¥öãd
 = 0;

2492 
Æign_em±y_cﬁs
 = 
Ál£
;

2495 i‡(
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
 > 0)

2497 
	`∑d_a¸oss_to
 (
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
);

2498 
∑ddög_nŸ_¥öãd
 = 
ANYWHERE
;

2501 i‡(
u£_cﬁ_£∑øt‹
)

2502 
	`¥öt_£p_°rög
 ();

2505 i‡(
p
->
numbîed
)

2506 
	`add_löe_numbî
 (
p
);

2508 
em±y_löe
 = 
Ál£
;

2509 i‡(
c
 == '\n')

2510  
åue
;

2512 
	`¥öt_˛ump
 (
p
, 
ch¨s
, 
˛ump_buff
);

2514 
åue
)

2516 
c
 = 
	`gëc
 (
p
->
Â
);

2518 
c
)

2521  
åue
;

2523 i‡((
c
 = 
	`gëc
 (
p
->
Â
)) != '\n')

2524 
	`ungëc
 (
c
, 
p
->
Â
);

2525 i‡(
kìp_FF
)

2526 
¥öt_a_FF
 = 
åue
;

2527 
	`hﬁd_fûe
 (
p
);

2528  
åue
;

2529 
EOF
:

2530 
	`˛o£_fûe
 (
p
);

2531  
åue
;

2534 
œ°_öput_posôi⁄
 = 
öput_posôi⁄
;

2535 
ch¨s
 = 
	`ch¨_to_˛ump
 (
c
);

2536 i‡(
åunˇã_löes
 && 
öput_posôi⁄
 > 
ch¨s_≥r_cﬁumn
)

2538 
öput_posôi⁄
 = 
œ°_öput_posôi⁄
;

2539  
Ál£
;

2542 
	`¥öt_˛ump
 (
p
, 
ch¨s
, 
˛ump_buff
);

2544 
	}
}

2560 
boﬁ


2561 
	$¥öt_°‹ed
 (
COLUMN
 *
p
)

2563 
COLUMN
 *
q
;

2564 
i
;

2566 
löe
 = 
p
->
cuºít_löe
++;

2567 *
fú°
 = &
buff
[
löe_ve˘‹
[
löe
]];

2579 *
œ°
 = &
buff
[
löe_ve˘‹
[
löe
 + 1]];

2581 
∑d_vîtiˇŒy
 = 
åue
;

2583 i‡(
¥öt_a_hódî
)

2584 
	`¥öt_hódî
 ();

2586 i‡(
p
->
°©us
 =
FF_FOUND
)

2588 
i
 = 1, 
q
 = 
cﬁumn_ve˘‹
; i <
cﬁumns
; ++i, ++q)

2589 
q
->
°©us
 = 
ON_HOLD
;

2590 i‡(
cﬁumn_ve˘‹
->
löes_to_¥öt
 <= 0)

2592 i‡(!
exåemôõs
)

2593 
∑d_vîtiˇŒy
 = 
Ál£
;

2594  
åue
;

2598 i‡(
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
 > 0)

2600 
	`∑d_a¸oss_to
 (
∑ddög_nŸ_¥öãd
 - 
cﬁ_£p_Àngth
);

2601 
∑ddög_nŸ_¥öãd
 = 
ANYWHERE
;

2604 i‡(
u£_cﬁ_£∑øt‹
)

2605 
	`¥öt_£p_°rög
 ();

2607 
fú°
 !
œ°
)

2608 
	`¥öt_ch¨
 (*
fú°
++);

2610 i‡(
•a˚s_nŸ_¥öãd
 == 0)

2612 
ouçut_posôi⁄
 = 
p
->
°¨t_posôi⁄
 + 
íd_ve˘‹
[
löe
];

2613 i‡(
p
->
°¨t_posôi⁄
 - 
cﬁ_£p_Àngth
 =
ch¨s_≥r_m¨gö
)

2614 
ouçut_posôi⁄
 -
cﬁ_£p_Àngth
;

2617  
åue
;

2618 
	}
}

2633 
	$ch¨_to_˛ump
 (
c
)

2635 
uc
 = 
c
;

2636 *
s
 = 
˛ump_buff
;

2637 
i
;

2638 
esc_buff
[4];

2639 
width
;

2640 
ch¨s
;

2641 
ch¨s_≥r_c
 = 8;

2643 i‡(
c
 =
öput_èb_ch¨
)

2644 
ch¨s_≥r_c
 = 
ch¨s_≥r_öput_èb
;

2646 i‡(
c
 =
öput_èb_ch¨
 || c == '\t')

2648 
width
 = 
	`TAB_WIDTH
 (
ch¨s_≥r_c
, 
öput_posôi⁄
);

2650 i‡(
u¡abify_öput
)

2652 
i
 = 
width
; i; --i)

2653 *
s
++ = ' ';

2654 
ch¨s
 = 
width
;

2658 *
s
 = 
c
;

2659 
ch¨s
 = 1;

2663 i‡(! 
	`i•röt
 (
uc
))

2665 i‡(
u£_esc_£quí˚
)

2667 
width
 = 4;

2668 
ch¨s
 = 4;

2669 *
s
++ = '\\';

2670 
	`•rötf
 (
esc_buff
, "%03o", 
uc
);

2671 
i
 = 0; i <= 2; ++i)

2672 *
s
++ = 
esc_buff
[
i
];

2674 i‡(
u£_˙ål_¥efix
)

2676 i‡(
uc
 < 0200)

2678 
width
 = 2;

2679 
ch¨s
 = 2;

2680 *
s
++ = '^';

2681 *
s
 = 
c
 ^ 0100;

2685 
width
 = 4;

2686 
ch¨s
 = 4;

2687 *
s
++ = '\\';

2688 
	`•rötf
 (
esc_buff
, "%03o", 
uc
);

2689 
i
 = 0; i <= 2; ++i)

2690 *
s
++ = 
esc_buff
[
i
];

2693 i‡(
c
 == '\b')

2695 
width
 = -1;

2696 
ch¨s
 = 1;

2697 *
s
 = 
c
;

2701 
width
 = 0;

2702 
ch¨s
 = 1;

2703 *
s
 = 
c
;

2708 
width
 = 1;

2709 
ch¨s
 = 1;

2710 *
s
 = 
c
;

2714 i‡(
width
 < 0 && 
öput_posôi⁄
 == 0)

2716 
ch¨s
 = 0;

2717 
öput_posôi⁄
 = 0;

2719 i‡(
width
 < 0 && 
öput_posôi⁄
 <= -width)

2720 
öput_posôi⁄
 = 0;

2722 
öput_posôi⁄
 +
width
;

2724  
ch¨s
;

2725 
	}
}

2733 
	$˛ónup
 ()

2735 
	`‰ì
 (
numbî_buff
);

2736 
	`‰ì
 (
˛ump_buff
);

2737 
	`‰ì
 (
cﬁumn_ve˘‹
);

2738 
	`‰ì
 (
löe_ve˘‹
);

2739 
	`‰ì
 (
íd_ve˘‹
);

2740 
	`‰ì
 (
buff
);

2741 
	}
}

2746 
	$ußge
 (
°©us
)

2748 i‡(
°©us
 !
EXIT_SUCCESS
)

2749 
	`emô_åy_hñp
 ();

2752 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

2755 
¥ogøm_«me
);

2757 
	`Âuts
 (
	`_
("\
 o∏cﬁum«ã FILE(sËf‹Örötög.\n\
"), 
°dout
);

2761 
	`emô_m™d©‹y_¨g_nŸe
 ();

2763 
	`Âuts
 (
	`_
("\
+FIRST_PAGE[:LAST_PAGE], --∑ges=FIRST_PAGE[:LAST_PAGE]\n\
 [°›]Örötög wôhÖagêFIRST_[LAST_]PAGE\n\
-COLUMN, --cﬁumns=COLUMN\n\
 COLUMN cﬁumn†™dÖröàcﬁumn†down,\n\
 -®i†u£d. BÆ™˚Çumbî o‡löe†öÅhe\n\
 o¿óchÖage\n\
"), 
°dout
);

2771 
	`Âuts
 (
	`_
("\
-a, --a¸os†Öröàcﬁumn†a¸os†øthîÅh™ down, u£dÅogëhî\n\
 -COLUMN\n\
-c, --show-c⁄åﬁ-ch¨s\n\
 h©ÇŸ©i⁄ (^GË™d o˘Æ back¶ashÇŸ©i⁄\n\
-d, --doubÀ-•a˚\n\
 s∑˚Åhêouçut\n\
"), 
°dout
);

2779 
	`Âuts
 (
	`_
("\
-D, --d©e-f‹m©=FORMAT\n\
 FORMAT f‹Åhêhódî d©e\n\
-e[CHAR[WIDTH]], --ex∑nd-èbs[=CHAR[WIDTH]]\n\
 i≈uàCHAR†(TABsËtÿèb WIDTH (8)\n\
-F, -f, --f‹m-„ed\n\
 f‹m fìd†ö°ód o‡√wlöe†tÿ£∑øãÖages\n\
(byá 3-löê∑gêhódî wôh -F o∏®5-löêhódî\n\
Åøûî wôhouà-F)\n\
"), 
°dout
);

2789 
	`Âuts
 (
	`_
("\
-h, --hódî=HEADER\n\
á cíãªd HEADER in°ód o‡fûíamêöÖagêhódî,\n\
-h \"\"Öröt†®bœnkÜöe, d⁄'àu£ -h\"\"\n\
-i[CHAR[WIDTH]], --ouçut-èbs[=CHAR[WIDTH]]\n\
 s∑˚†wôh CHAR†(TABsËtÿèb WIDTH (8)\n\
-J, --joö-löe† mîgêfuŒÜöes,Åu∫†of‡-WÜöêåunˇti⁄,Çÿcﬁumn\n\
, --£p-°rög[=STRING] së†£∑øt‹s\n\
"), 
°dout
);

2798 
	`Âuts
 (
	`_
("\
-l, --Àngth=PAGE_LENGTH\n\
Åhê∑gêÀngthÅÿPAGE_LENGTH (66Ëlöes\n\
(deÁu…Çumbî o‡löe†o‡ãxà56,ánd wôh -F 63)\n\
-m, --mîgêÖröàÆ»fûe†öÖ¨ÆÀl, o√ i¿óch cﬁumn,\n\
Üöes, buàjoöÜöe†o‡fuŒÜígth wôh -J\n\
"), 
°dout
);

2805 
	`Âuts
 (
	`_
("\
-n[SEP[DIGITS]], --numbî-löes[=SEP[DIGITS]]\n\
Üöes, u£ DIGITS (5Ëdigôs,Åhí SEP (TAB),\n\
 cou¡ög sèπ†wôh 1°Üöêo‡öpuàfûe\n\
-N, --fú°-löe-numbî=NUMBER\n\
 cou¡ög wôh NUMBERáà1°Üöêo‡fú°\n\
Öröãd (£ê+FIRST_PAGE)\n\
"), 
°dout
);

2813 
	`Âuts
 (
	`_
("\
-o, --ödít=MARGIN\n\
ÉachÜöêwôh MARGIN (zîoË•a˚s, dÿnŸ\n\
 -w o∏-W, MARGIN wû»bêaddedÅÿPAGE_WIDTH\n\
-r, --no-fûe-w¨nögs\n\
 w¨nög whíá fûêˇ¬Ÿ bê›íed\n\
"), 
°dout
);

2820 
	`Âuts
 (
	`_
("\
-s[CHAR], --£∑øt‹[=CHAR]\n\
 cﬁumn†byá sögÀ ch¨a˘î, deÁu… f‹ CHAR\n\
Åhê<TAB> ch¨a˘î wôhouà-wánd \'nÿch¨\' wôh -w\n\
-s[CHAR]Åu∫†of‡löêåunˇti⁄ o‡Æ»3 cﬁumn\n\
 (-COLUMN|-®-COLUMN|-mËex˚± -w i†£t\n\
"), 
°dout
);

2827 
	`Âuts
 (
	`_
("\
-S[STRING], --£p-°rög[=STRING]\n\
 cﬁumn†by STRING,\n\
 -S: DeÁu… sï¨©‹ <TAB> wôh -Jánd <•a˚>\n\
 (ßmêa†-S\" \"),Çÿef„˘ o¿cﬁum¿›ti⁄s\n\
-t, --omô-hódî omôÖagêhódî†™dÅøûîs\n\
"), 
°dout
);

2834 
	`Âuts
 (
	`_
("\
-T, --omô-∑gö©i⁄\n\
Öagêhódî†™dÅøûîs,Élimö©ê™yÖagö©i⁄\n\
 f‹m fìd†£àö i≈uàfûes\n\
-v, --show-n⁄¥ötög\n\
 o˘Æ back¶ashÇŸ©i⁄\n\
-w, --width=PAGE_WIDTH\n\
ÖagêwidthÅÿPAGE_WIDTH (72Ëch¨a˘î†f‹\n\
Åext-cﬁum¿ouçuà⁄ly, -s[ch¨]Åu∫†of‡(72)\n\
"), 
°dout
);

2844 
	`Âuts
 (
	`_
("\
-W, --∑ge-width=PAGE_WIDTH\n\
ÖagêwidthÅÿPAGE_WIDTH (72Ëch¨a˘î†Æways,\n\
Üöes,Éx˚± -J o±i⁄ i†£t,Çÿöãr„ªn˚\n\
 -S o∏-s\n\
"), 
°dout
);

2850 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

2851 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

2852 
	`Âuts
 (
	`_
("\
\n\
-ài†im∂õd i‡PAGE_LENGTH <10. WôhÇÿFILE, o∏whí FILE i†-,Ñód\n\
 i≈ut.\n\
"), 
°dout
);

2857 
	`emô_™cûœry_öfo
 ();

2859 
	`exô
 (
°©us
);

2860 
	}
}

	@primes.h

3 
	#WIDE_UINT_BITS
 128

	)

4 
P
 (1, 26,

5 (((((
uötmax_t
) 0xaaaaU << 28 | 0xaaaaaaaU)

9 
UINTMAX_MAX
 / 3)

10 
P
 (2, 26,

11 (((((
uötmax_t
) 0xccccU << 28 | 0xcccccccU)

15 
UINTMAX_MAX
 / 5)

16 
P
 (2, 30,

17 (((((
uötmax_t
) 0xb6dbU << 28 | 0x6db6db6U)

21 
UINTMAX_MAX
 / 7)

22 
P
 (4, 30,

23 (((((
uötmax_t
) 0xa2e8U << 28 | 0xba2e8baU)

27 
UINTMAX_MAX
 / 11)

28 
P
 (2, 30,

29 (((((
uötmax_t
) 0xc4ecU << 28 | 0x4ec4ec4U)

33 
UINTMAX_MAX
 / 13)

34 
P
 (4, 30,

35 (((((
uötmax_t
) 0xf0f0U << 28 | 0xf0f0f0fU)

39 
UINTMAX_MAX
 / 17)

40 
P
 (2, 34,

41 (((((
uötmax_t
) 0xbca1U << 28 | 0xaf286bcU)

45 
UINTMAX_MAX
 / 19)

46 
P
 (4, 36,

47 (((((
uötmax_t
) 0x4de9U << 28 | 0xbd37a6fU)

51 
UINTMAX_MAX
 / 23)

52 
P
 (6, 32,

53 (((((
uötmax_t
) 0xc234U << 28 | 0xf72c234U)

57 
UINTMAX_MAX
 / 29)

58 
P
 (2, 36,

59 (((((
uötmax_t
) 0xdef7U << 28 | 0xbdef7bdU)

63 
UINTMAX_MAX
 / 31)

64 
P
 (6, 34,

65 (((((
uötmax_t
) 0xc1baU << 28 | 0xcf914c1U)

69 
UINTMAX_MAX
 / 37)

70 
P
 (4, 32,

71 (((((
uötmax_t
) 0x18f9U << 28 | 0xc18f9c1U)

75 
UINTMAX_MAX
 / 41)

76 
P
 (2, 36,

77 (((((
uötmax_t
) 0xbe82U << 28 | 0xfa0be82U)

81 
UINTMAX_MAX
 / 43)

82 
P
 (4, 36,

83 (((((
uötmax_t
) 0x3677U << 28 | 0xd46cefaU)

87 
UINTMAX_MAX
 / 47)

88 
P
 (6, 36,

89 (((((
uötmax_t
) 0x1352U << 28 | 0x1cfb2b7U)

93 
UINTMAX_MAX
 / 53)

94 
P
 (6, 38,

95 (((((
uötmax_t
) 0x8f2fU << 28 | 0xba93868U)

99 
UINTMAX_MAX
 / 59)

100 
P
 (2, 40,

101 (((((
uötmax_t
) 0x14fbU << 28 | 0xcda3ac1U)

105 
UINTMAX_MAX
 / 61)

106 
P
 (6, 36,

107 (((((
uötmax_t
) 0xc2ddU << 28 | 0x9ca81e9U)

111 
UINTMAX_MAX
 / 67)

112 
P
 (4, 36,

113 (((((
uötmax_t
) 0x4f52U << 28 | 0xedf8c9eU)

117 
UINTMAX_MAX
 / 71)

118 
P
 (2, 36,

119 (((((
uötmax_t
) 0x3f1fU << 28 | 0x8fc7e3fU)

123 
UINTMAX_MAX
 / 73)

124 
P
 (6, 34,

125 (((((
uötmax_t
) 0xd5dfU << 28 | 0x984dc5aU)

129 
UINTMAX_MAX
 / 79)

130 
P
 (4, 44,

131 (((((
uötmax_t
) 0x2818U << 28 | 0xacb90f6U)

135 
UINTMAX_MAX
 / 83)

136 
P
 (6, 42,

137 (((((
uötmax_t
) 0xd1faU << 28 | 0x3f47e8fU)

141 
UINTMAX_MAX
 / 89)

142 
P
 (8, 40,

143 (((((
uötmax_t
) 0x5f02U << 28 | 0xa3a0fd5U)

147 
UINTMAX_MAX
 / 97)

148 
P
 (4, 38,

149 (((((
uötmax_t
) 0xc32bU << 28 | 0x16cfd77U)

153 
UINTMAX_MAX
 / 101)

154 
P
 (2, 46,

155 (((((
uötmax_t
) 0xd0c6U << 28 | 0xd5bf60eU)

159 
UINTMAX_MAX
 / 103)

160 
P
 (4, 44,

161 (((((
uötmax_t
) 0xa2b1U << 28 | 0x0bf66e0U)

165 
UINTMAX_MAX
 / 107)

166 
P
 (2, 48,

167 (((((
uötmax_t
) 0xc096U << 28 | 0x4fda6c0U)

171 
UINTMAX_MAX
 / 109)

172 
P
 (4, 50,

173 (((((
uötmax_t
) 0xc090U << 28 | 0xfdbc090U)

177 
UINTMAX_MAX
 / 113)

178 
P
 (14, 40,

179 (((((
uötmax_t
) 0xbf7eU << 28 | 0xfdfbf7eU)

183 
UINTMAX_MAX
 / 127)

184 
P
 (4, 42,

185 (((((
uötmax_t
) 0xf82eU << 28 | 0xe6986d6U)

189 
UINTMAX_MAX
 / 131)

190 
P
 (6, 42,

191 (((((
uötmax_t
) 0x21a2U << 28 | 0x91c0779U)

195 
UINTMAX_MAX
 / 137)

196 
P
 (2, 42,

197 (((((
uötmax_t
) 0xa212U << 28 | 0x6ad1f4fU)

201 
UINTMAX_MAX
 / 139)

202 
P
 (10, 42,

203 (((((
uötmax_t
) 0x93c2U << 28 | 0x25cc74dU)

207 
UINTMAX_MAX
 / 149)

208 
P
 (2, 42,

209 (((((
uötmax_t
) 0x26feU << 28 | 0x4dfc9bfU)

213 
UINTMAX_MAX
 / 151)

214 
P
 (6, 40,

215 (((((
uötmax_t
) 0x0685U << 28 | 0xb4fe5e9U)

219 
UINTMAX_MAX
 / 157)

220 
P
 (6, 36,

221 (((((
uötmax_t
) 0x8bc7U << 28 | 0x75ca99eU)

225 
UINTMAX_MAX
 / 163)

226 
P
 (4, 44,

227 (((((
uötmax_t
) 0x513eU << 28 | 0xd9ad38bU)

231 
UINTMAX_MAX
 / 167)

232 
P
 (6, 50,

233 (((((
uötmax_t
) 0x133cU << 28 | 0xaba736cU)

237 
UINTMAX_MAX
 / 173)

238 
P
 (6, 48,

239 (((((
uötmax_t
) 0x0e4dU << 28 | 0x3aa30a0U)

243 
UINTMAX_MAX
 / 179)

244 
P
 (2, 48,

245 (((((
uötmax_t
) 0x6fbcU << 28 | 0x1c498c0U)

249 
UINTMAX_MAX
 / 181)

250 
P
 (10, 42,

251 (((((
uötmax_t
) 0x7749U << 28 | 0xb79f7f5U)

255 
UINTMAX_MAX
 / 191)

256 
P
 (2, 46,

257 (((((
uötmax_t
) 0x9094U << 28 | 0x8f40feaU)

261 
UINTMAX_MAX
 / 193)

262 
P
 (4, 44,

263 (((((
uötmax_t
) 0x0bb2U << 28 | 0x07cc053U)

267 
UINTMAX_MAX
 / 197)

268 
P
 (2, 52,

269 (((((
uötmax_t
) 0x7a36U << 28 | 0x07b7f5bU)

273 
UINTMAX_MAX
 / 199)

274 
P
 (12, 46,

275 (((((
uötmax_t
) 0x2f51U << 28 | 0x4a026d3U)

279 
UINTMAX_MAX
 / 211)

280 
P
 (12, 40,

281 (((((
uötmax_t
) 0xdd8fU << 28 | 0x7f6d0eeU)

285 
UINTMAX_MAX
 / 223)

286 
P
 (4, 42,

287 (((((
uötmax_t
) 0x766aU << 28 | 0x024168eU)

291 
UINTMAX_MAX
 / 227)

292 
P
 (2, 42,

293 (((((
uötmax_t
) 0x0c4cU << 28 | 0x0478bbcU)

297 
UINTMAX_MAX
 / 229)

298 
P
 (4, 44,

299 (((((
uötmax_t
) 0x758fU << 28 | 0xee6bac7U)

303 
UINTMAX_MAX
 / 233)

304 
P
 (6, 42,

305 (((((
uötmax_t
) 0x077fU << 28 | 0x76e538cU)

309 
UINTMAX_MAX
 / 239)

310 
P
 (2, 42,

311 (((((
uötmax_t
) 0x10feU << 28 | 0xf010fefU)

315 
UINTMAX_MAX
 / 241)

316 
P
 (10, 42,

317 (((((
uötmax_t
) 0xa020U << 28 | 0xa32fefaU)

321 
UINTMAX_MAX
 / 251)

322 
P
 (6, 50,

323 (((((
uötmax_t
) 0xff00U << 28 | 0xff00ff0U)

327 
UINTMAX_MAX
 / 257)

328 
P
 (6, 48,

329 (((((
uötmax_t
) 0xf836U << 28 | 0x826ef73U)

333 
UINTMAX_MAX
 / 263)

334 
P
 (6, 44,

335 (((((
uötmax_t
) 0x3ce8U << 28 | 0x354b2eaU)

339 
UINTMAX_MAX
 / 269)

340 
P
 (2, 46,

341 (((((
uötmax_t
) 0x8715U << 28 | 0xba188f9U)

345 
UINTMAX_MAX
 / 271)

346 
P
 (6, 54,

347 (((((
uötmax_t
) 0xb25eU << 28 | 0x4463cffU)

351 
UINTMAX_MAX
 / 277)

352 
P
 (4, 56,

353 (((((
uötmax_t
) 0x6c69U << 28 | 0xae01d27U)

357 
UINTMAX_MAX
 / 281)

358 
P
 (2, 64,

359 (((((
uötmax_t
) 0xf26eU << 28 | 0x5c44bfcU)

363 
UINTMAX_MAX
 / 283)

364 
P
 (10, 56,

365 (((((
uötmax_t
) 0xb07dU << 28 | 0xd0d1b15U)

369 
UINTMAX_MAX
 / 293)

370 
P
 (14, 46,

371 (((((
uötmax_t
) 0xd2f8U << 28 | 0x7ebfcaaU)

375 
UINTMAX_MAX
 / 307)

376 
P
 (4, 48,

377 (((((
uötmax_t
) 0xbe25U << 28 | 0xdd6d7aaU)

381 
UINTMAX_MAX
 / 311)

382 
P
 (2, 54,

383 (((((
uötmax_t
) 0xbc1dU << 28 | 0x71afd8bU)

387 
UINTMAX_MAX
 / 313)

388 
P
 (4, 56,

389 (((((
uötmax_t
) 0x2ed6U << 28 | 0xd05a72aU)

393 
UINTMAX_MAX
 / 317)

394 
P
 (14, 48,

395 (((((
uötmax_t
) 0x62ffU << 28 | 0x3a018bfU)

399 
UINTMAX_MAX
 / 331)

400 
P
 (6, 46,

401 (((((
uötmax_t
) 0x3fcfU << 28 | 0x61fe7b0U)

405 
UINTMAX_MAX
 / 337)

406 
P
 (10, 42,

407 (((((
uötmax_t
) 0x398bU << 28 | 0x6f668c2U)

411 
UINTMAX_MAX
 / 347)

412 
P
 (2, 48,

413 (((((
uötmax_t
) 0x8c1aU << 28 | 0x682913cU)

417 
UINTMAX_MAX
 / 349)

418 
P
 (4, 48,

419 (((((
uötmax_t
) 0x0b9aU << 28 | 0x7862a0fU)

423 
UINTMAX_MAX
 / 353)

424 
P
 (6, 50,

425 (((((
uötmax_t
) 0xe7c1U << 28 | 0x3f77161U)

429 
UINTMAX_MAX
 / 359)

430 
P
 (8, 52,

431 (((((
uötmax_t
) 0x7318U << 28 | 0x6a06f9bU)

435 
UINTMAX_MAX
 / 367)

436 
P
 (6, 48,

437 (((((
uötmax_t
) 0x7c39U << 28 | 0xa6c708eU)

441 
UINTMAX_MAX
 / 373)

442 
P
 (6, 52,

443 (((((
uötmax_t
) 0x3763U << 28 | 0x4af9ebbU)

447 
UINTMAX_MAX
 / 379)

448 
P
 (4, 50,

449 (((((
uötmax_t
) 0x5035U << 28 | 0x78fb523U)

453 
UINTMAX_MAX
 / 383)

454 
P
 (6, 50,

455 (((((
uötmax_t
) 0xbcdfU << 28 | 0xc0d2975U)

459 
UINTMAX_MAX
 / 389)

460 
P
 (8, 46,

461 (((((
uötmax_t
) 0xf5aeU << 28 | 0xc02944fU)

465 
UINTMAX_MAX
 / 397)

466 
P
 (4, 48,

467 (((((
uötmax_t
) 0xc7d2U << 28 | 0x08f00a3U)

471 
UINTMAX_MAX
 / 401)

472 
P
 (8, 48,

473 (((((
uötmax_t
) 0xd38fU << 28 | 0x55c0280U)

477 
UINTMAX_MAX
 / 409)

478 
P
 (10, 42,

479 (((((
uötmax_t
) 0xca3bU << 28 | 0xe03aa76U)

483 
UINTMAX_MAX
 / 419)

484 
P
 (2, 42,

485 (((((
uötmax_t
) 0x6a69U << 28 | 0xce2344bU)

489 
UINTMAX_MAX
 / 421)

490 
P
 (10, 36,

491 (((((
uötmax_t
) 0xfecfU << 28 | 0xe37d53bU)

495 
UINTMAX_MAX
 / 431)

496 
P
 (2, 46,

497 (((((
uötmax_t
) 0xa58aU << 28 | 0xf00975aU)

501 
UINTMAX_MAX
 / 433)

502 
P
 (6, 48,

503 (((((
uötmax_t
) 0xdc6dU << 28 | 0xa187df5U)

507 
UINTMAX_MAX
 / 439)

508 
P
 (4, 48,

509 (((((
uötmax_t
) 0x8fe4U << 28 | 0x4308ab0U)

513 
UINTMAX_MAX
 / 443)

514 
P
 (6, 50,

515 (((((
uötmax_t
) 0xf1bfU << 28 | 0x0091f5bU)

519 
UINTMAX_MAX
 / 449)

520 
P
 (8, 46,

521 (((((
uötmax_t
) 0x5e1cU << 28 | 0x023d9e8U)

525 
UINTMAX_MAX
 / 457)

526 
P
 (4, 48,

527 (((((
uötmax_t
) 0x7880U << 28 | 0xd53da3dU)

531 
UINTMAX_MAX
 / 461)

532 
P
 (2, 58,

533 (((((
uötmax_t
) 0x1ddbU << 28 | 0x81ef699U)

537 
UINTMAX_MAX
 / 463)

538 
P
 (4, 56,

539 (((((
uötmax_t
) 0xf364U << 28 | 0x5121706U)

543 
UINTMAX_MAX
 / 467)

544 
P
 (12, 62,

545 (((((
uötmax_t
) 0xadb1U << 28 | 0xf8848afU)

549 
UINTMAX_MAX
 / 479)

550 
P
 (8, 60,

551 (((((
uötmax_t
) 0xd9a0U << 28 | 0x541b55aU)

555 
UINTMAX_MAX
 / 487)

556 
P
 (4, 66,

557 (((((
uötmax_t
) 0x673bU << 28 | 0xf592825U)

561 
UINTMAX_MAX
 / 491)

562 
P
 (8, 64,

563 (((((
uötmax_t
) 0x0ddaU << 28 | 0x093c062U)

567 
UINTMAX_MAX
 / 499)

568 
P
 (4, 66,

569 (((((
uötmax_t
) 0xa9fcU << 28 | 0xf24229bU)

573 
UINTMAX_MAX
 / 503)

574 
P
 (6, 62,

575 (((((
uötmax_t
) 0xcbb1U << 28 | 0x8a4f773U)

579 
UINTMAX_MAX
 / 509)

580 
P
 (12, 56,

581 (((((
uötmax_t
) 0x01f7U << 28 | 0x27cce5fU)

585 
UINTMAX_MAX
 / 521)

586 
P
 (2, 64,

587 (((((
uötmax_t
) 0x6da4U << 28 | 0xf4bdeb7U)

591 
UINTMAX_MAX
 / 523)

592 
P
 (18, 52,

593 (((((
uötmax_t
) 0x4d9aU << 28 | 0xbc552cfU)

597 
UINTMAX_MAX
 / 541)

598 
P
 (6, 52,

599 (((((
uötmax_t
) 0x141fU << 28 | 0xd312409U)

603 
UINTMAX_MAX
 / 547)

604 
P
 (10, 44,

605 (((((
uötmax_t
) 0xddfdU << 28 | 0x3e0bf32U)

609 
UINTMAX_MAX
 / 557)

610 
P
 (6, 44,

611 (((((
uötmax_t
) 0xdb2bU << 28 | 0x3278f3bU)

615 
UINTMAX_MAX
 / 563)

616 
P
 (6, 44,

617 (((((
uötmax_t
) 0xcb5cU << 28 | 0x3b636e3U)

621 
UINTMAX_MAX
 / 569)

622 
P
 (2, 46,

623 (((((
uötmax_t
) 0x1bcbU << 28 | 0xfe34e75U)

627 
UINTMAX_MAX
 / 571)

628 
P
 (6, 42,

629 (((((
uötmax_t
) 0x6b5eU << 28 | 0x80aa5efU)

633 
UINTMAX_MAX
 / 577)

634 
P
 (10, 44,

635 (((((
uötmax_t
) 0x9a62U << 28 | 0x8feb110U)

639 
UINTMAX_MAX
 / 587)

640 
P
 (6, 48,

641 (((((
uötmax_t
) 0xbe61U << 28 | 0x909eddeU)

645 
UINTMAX_MAX
 / 593)

646 
P
 (6, 44,

647 (((((
uötmax_t
) 0x4febU << 28 | 0x7c5e05fU)

651 
UINTMAX_MAX
 / 599)

652 
P
 (2, 46,

653 (((((
uötmax_t
) 0x1ff2U << 28 | 0x5e8ff92U)

657 
UINTMAX_MAX
 / 601)

658 
P
 (6, 46,

659 (((((
uötmax_t
) 0x3014U << 28 | 0x3e6b1faU)

663 
UINTMAX_MAX
 / 607)

664 
P
 (6, 46,

665 (((((
uötmax_t
) 0xd491U << 28 | 0x54c6c94U)

669 
UINTMAX_MAX
 / 613)

670 
P
 (4, 44,

671 (((((
uötmax_t
) 0x9b97U << 28 | 0x71454a4U)

675 
UINTMAX_MAX
 / 617)

676 
P
 (2, 54,

677 (((((
uötmax_t
) 0x3abaU << 28 | 0x1b4baefU)

681 
UINTMAX_MAX
 / 619)

682 
P
 (12, 46,

683 (((((
uötmax_t
) 0xcc11U << 28 | 0xd9dd1bfU)

687 
UINTMAX_MAX
 / 631)

688 
P
 (10, 42,

689 (((((
uötmax_t
) 0xff99U << 28 | 0xc27f006U)

693 
UINTMAX_MAX
 / 641)

694 
P
 (2, 48,

695 (((((
uötmax_t
) 0x111eU << 28 | 0xa8032f6U)

699 
UINTMAX_MAX
 / 643)

700 
P
 (4, 54,

701 (((((
uötmax_t
) 0xdd93U << 28 | 0x95f5b66U)

705 
UINTMAX_MAX
 / 647)

706 
P
 (6, 56,

707 (((((
uötmax_t
) 0xa7caU << 28 | 0xaed9303U)

711 
UINTMAX_MAX
 / 653)

712 
P
 (6, 60,

713 (((((
uötmax_t
) 0x2be5U << 28 | 0x958f582U)

717 
UINTMAX_MAX
 / 659)

718 
P
 (2, 66,

719 (((((
uötmax_t
) 0x995eU << 28 | 0x1ca8dbfU)

723 
UINTMAX_MAX
 / 661)

724 
P
 (12, 60,

725 (((((
uötmax_t
) 0x9f00U << 28 | 0x6160ff9U)

729 
UINTMAX_MAX
 / 673)

730 
P
 (4, 62,

731 (((((
uötmax_t
) 0xb33cU << 28 | 0xe15ee9bU)

735 
UINTMAX_MAX
 / 677)

736 
P
 (6, 60,

737 (((((
uötmax_t
) 0xfa00U << 28 | 0xbfe802fU)

741 
UINTMAX_MAX
 / 683)

742 
P
 (8, 60,

743 (((((
uötmax_t
) 0x1c28U << 28 | 0x02f6bcfU)

747 
UINTMAX_MAX
 / 691)

748 
P
 (10, 56,

749 (((((
uötmax_t
) 0xcf6dU << 28 | 0xec4793eU)

753 
UINTMAX_MAX
 / 701)

754 
P
 (8, 52,

755 (((((
uötmax_t
) 0x1e54U << 28 | 0x7da72d2U)

759 
UINTMAX_MAX
 / 709)

760 
P
 (10, 50,

761 (((((
uötmax_t
) 0x7746U << 28 | 0xda9d5fcU)

765 
UINTMAX_MAX
 / 719)

766 
P
 (8, 46,

767 (((((
uötmax_t
) 0xcdffU << 28 | 0x4bb5591U)

771 
UINTMAX_MAX
 / 727)

772 
P
 (6, 54,

773 (((((
uötmax_t
) 0x2c01U << 28 | 0x65a1b3dU)

777 
UINTMAX_MAX
 / 733)

778 
P
 (6, 58,

779 (((((
uötmax_t
) 0xa802U << 28 | 0xc574bddU)

783 
UINTMAX_MAX
 / 739)

784 
P
 (4, 66,

785 (((((
uötmax_t
) 0x5411U << 28 | 0xeaa350fU)

789 
UINTMAX_MAX
 / 743)

790 
P
 (8, 60,

791 (((((
uötmax_t
) 0xfceeU << 28 | 0x9d7c6bbU)

795 
UINTMAX_MAX
 / 751)

796 
P
 (6, 64,

797 (((((
uötmax_t
) 0x4248U << 28 | 0x5eb0874U)

801 
UINTMAX_MAX
 / 757)

802 
P
 (4, 62,

803 (((((
uötmax_t
) 0xe060U << 28 | 0xe20f797U)

807 
UINTMAX_MAX
 / 761)

808 
P
 (8, 58,

809 (((((
uötmax_t
) 0x782dU << 28 | 0x463deb5U)

813 
UINTMAX_MAX
 / 769)

814 
P
 (4, 56,

815 (((((
uötmax_t
) 0x4a2fU << 28 | 0x06f468aU)

819 
UINTMAX_MAX
 / 773)

820 
P
 (14, 52,

821 (((((
uötmax_t
) 0xda44U << 28 | 0x4f5ea87U)

825 
UINTMAX_MAX
 / 787)

826 
P
 (10, 56,

827 (((((
uötmax_t
) 0xfb80U << 28 | 0xcd9225eU)

831 
UINTMAX_MAX
 / 797)

832 
P
 (12, 48,

833 (((((
uötmax_t
) 0x1719U << 28 | 0xa1b36beU)

837 
UINTMAX_MAX
 / 809)

838 
P
 (2, 48,

839 (((((
uötmax_t
) 0x2867U << 28 | 0x894fdcaU)

843 
UINTMAX_MAX
 / 811)

844 
P
 (10, 42,

845 (((((
uötmax_t
) 0x8932U << 28 | 0xd36914eU)

849 
UINTMAX_MAX
 / 821)

850 
P
 (2, 54,

851 (((((
uötmax_t
) 0xdeb7U << 28 | 0x8610cc0U)

855 
UINTMAX_MAX
 / 823)

856 
P
 (4, 54,

857 (((((
uötmax_t
) 0x8fa1U << 28 | 0xe560e3dU)

861 
UINTMAX_MAX
 / 827)

862 
P
 (2, 54,

863 (((((
uötmax_t
) 0x6724U << 28 | 0x2159dccU)

867 
UINTMAX_MAX
 / 829)

868 
P
 (10, 48,

869 (((((
uötmax_t
) 0x5e96U << 28 | 0xbb58ca9U)

873 
UINTMAX_MAX
 / 839)

874 
P
 (14, 54,

875 (((((
uötmax_t
) 0x2450U << 28 | 0x6e7171bU)

879 
UINTMAX_MAX
 / 853)

880 
P
 (4, 54,

881 (((((
uötmax_t
) 0x3743U << 28 | 0x3611535U)

885 
UINTMAX_MAX
 / 857)

886 
P
 (2, 60,

887 (((((
uötmax_t
) 0x232aU << 28 | 0x9df37baU)

891 
UINTMAX_MAX
 / 859)

892 
P
 (4, 66,

893 (((((
uötmax_t
) 0x569eU << 28 | 0x67d2e92U)

897 
UINTMAX_MAX
 / 863)

898 
P
 (14, 60,

899 (((((
uötmax_t
) 0x7e1aU << 28 | 0x457923eU)

903 
UINTMAX_MAX
 / 877)

904 
P
 (4, 60,

905 (((((
uötmax_t
) 0x9764U << 28 | 0x3fed672U)

909 
UINTMAX_MAX
 / 881)

910 
P
 (2, 64,

911 (((((
uötmax_t
) 0xea8bU << 28 | 0xbde5e83U)

915 
UINTMAX_MAX
 / 883)

916 
P
 (4, 66,

917 (((((
uötmax_t
) 0x3d2fU << 28 | 0x9f06a35U)

921 
UINTMAX_MAX
 / 887)

922 
P
 (20, 60,

923 (((((
uötmax_t
) 0x81d5U << 28 | 0xa9a1ba9U)

927 
UINTMAX_MAX
 / 907)

928 
P
 (4, 60,

929 (((((
uötmax_t
) 0x752eU << 28 | 0x5ddb77fU)

933 
UINTMAX_MAX
 / 911)

934 
P
 (8, 58,

935 (((((
uötmax_t
) 0x1abdU << 28 | 0xfafc60fU)

939 
UINTMAX_MAX
 / 919)

940 
P
 (10, 54,

941 (((((
uötmax_t
) 0xac3aU << 28 | 0x6b786c0U)

945 
UINTMAX_MAX
 / 929)

946 
P
 (8, 54,

947 (((((
uötmax_t
) 0x131fU << 28 | 0xf741d81U)

951 
UINTMAX_MAX
 / 937)

952 
P
 (4, 56,

953 (((((
uötmax_t
) 0xc53cU << 28 | 0xaad918cU)

957 
UINTMAX_MAX
 / 941)

958 
P
 (6, 62,

959 (((((
uötmax_t
) 0xea1aU << 28 | 0x7df8f8bU)

963 
UINTMAX_MAX
 / 947)

964 
P
 (6, 60,

965 (((((
uötmax_t
) 0xbb3bU << 28 | 0x5dc0113U)

969 
UINTMAX_MAX
 / 953)

970 
P
 (14, 52,

971 (((((
uötmax_t
) 0x50beU << 28 | 0x9c31c53U)

975 
UINTMAX_MAX
 / 967)

976 
P
 (4, 50,

977 (((((
uötmax_t
) 0x6580U << 28 | 0xec3a008U)

981 
UINTMAX_MAX
 / 971)

982 
P
 (6, 54,

983 (((((
uötmax_t
) 0x1108U << 28 | 0x1f71752U)

987 
UINTMAX_MAX
 / 977)

988 
P
 (6, 50,

989 (((((
uötmax_t
) 0xb81fU << 28 | 0x4053563U)

993 
UINTMAX_MAX
 / 983)

994 
P
 (8, 48,

995 (((((
uötmax_t
) 0x9c8bU << 28 | 0x7ed668eU)

999 
UINTMAX_MAX
 / 991)

1000 
P
 (6, 52,

1001 (((((
uötmax_t
) 0x0291U << 28 | 0x54fdb06U)

1005 
UINTMAX_MAX
 / 997)

1006 
P
 (12, 42,

1007 (((((
uötmax_t
) 0x2240U << 28 | 0x71aa3e6U)

1011 
UINTMAX_MAX
 / 1009)

1012 
P
 (4, 48,

1013 (((((
uötmax_t
) 0x02c7U << 28 | 0xa505cffU)

1017 
UINTMAX_MAX
 / 1013)

1018 
P
 (6, 44,

1019 (((((
uötmax_t
) 0xcafdU << 28 | 0xbd2c779U)

1023 
UINTMAX_MAX
 / 1019)

1024 
P
 (2, 48,

1025 (((((
uötmax_t
) 0x513cU << 28 | 0xedb245bU)

1029 
UINTMAX_MAX
 / 1021)

1030 
P
 (10, 56,

1031 (((((
uötmax_t
) 0x2e6eU << 28 | 0xbe33267U)

1035 
UINTMAX_MAX
 / 1031)

1036 
P
 (2, 58,

1037 (((((
uötmax_t
) 0x007eU << 28 | 0xe2825abU)

1041 
UINTMAX_MAX
 / 1033)

1042 
P
 (6, 54,

1043 (((((
uötmax_t
) 0x2f8dU << 28 | 0xacb84cdU)

1047 
UINTMAX_MAX
 / 1039)

1048 
P
 (10, 48,

1049 (((((
uötmax_t
) 0x01f3U << 28 | 0xcc435b0U)

1053 
UINTMAX_MAX
 / 1049)

1054 
P
 (2, 52,

1055 (((((
uötmax_t
) 0x8c0eU << 28 | 0x9d59e14U)

1059 
UINTMAX_MAX
 / 1051)

1060 
P
 (10, 48,

1061 (((((
uötmax_t
) 0x6e81U << 28 | 0xcf42d5cU)

1065 
UINTMAX_MAX
 / 1061)

1066 
P
 (2, 54,

1067 (((((
uötmax_t
) 0x9c4cU << 28 | 0x1a02688U)

1071 
UINTMAX_MAX
 / 1063)

1072 
P
 (6, 54,

1073 (((((
uötmax_t
) 0x7bcfU << 28 | 0x2599067U)

1077 
UINTMAX_MAX
 / 1069)

1078 
P
 (18, 42,

1079 (((((
uötmax_t
) 0x46a7U << 28 | 0x3667275U)

1083 
UINTMAX_MAX
 / 1087)

1084 
P
 (4, 60,

1085 (((((
uötmax_t
) 0xe720U << 28 | 0x9daecfeU)

1089 
UINTMAX_MAX
 / 1091)

1090 
P
 (2, 60,

1091 (((((
uötmax_t
) 0x194bU << 28 | 0xa6ff4c1U)

1095 
UINTMAX_MAX
 / 1093)

1096 
P
 (4, 66,

1097 (((((
uötmax_t
) 0x777bU << 28 | 0x730c5e4U)

1101 
UINTMAX_MAX
 / 1097)

1102 
P
 (6, 68,

1103 (((((
uötmax_t
) 0x2aefU << 28 | 0xfc49577U)

1107 
UINTMAX_MAX
 / 1103)

1108 
P
 (6, 72,

1109 (((((
uötmax_t
) 0xf1b0U << 28 | 0x213da24U)

1113 
UINTMAX_MAX
 / 1109)

1114 
P
 (8, 70,

1115 (((((
uötmax_t
) 0x8822U << 28 | 0xd60f205U)

1119 
UINTMAX_MAX
 / 1117)

1120 
P
 (6, 70,

1121 (((((
uötmax_t
) 0x3606U << 28 | 0xd6bd351U)

1125 
UINTMAX_MAX
 / 1123)

1126 
P
 (6, 72,

1127 (((((
uötmax_t
) 0x0122U << 28 | 0x3d38ea0U)

1131 
UINTMAX_MAX
 / 1129)

1132 
P
 (22, 62,

1133 (((((
uötmax_t
) 0x78feU << 28 | 0x716e8a5U)

1137 
UINTMAX_MAX
 / 1151)

1138 
P
 (2, 64,

1139 (((((
uötmax_t
) 0xd6ecU << 28 | 0xaef5908U)

1143 
UINTMAX_MAX
 / 1153)

1144 
P
 (10, 60,

1145 (((((
uötmax_t
) 0x7867U << 28 | 0xe595e6eU)

1149 
UINTMAX_MAX
 / 1163)

1150 
P
 (8, 58,

1151 (((((
uötmax_t
) 0xa705U << 28 | 0xe713e4eU)

1155 
UINTMAX_MAX
 / 1171)

1156 
P
 (10, 50,

1157 (((((
uötmax_t
) 0x92c0U << 28 | 0x0ddf7c3U)

1161 
UINTMAX_MAX
 / 1181)

1162 
P
 (6, 50,

1163 (((((
uötmax_t
) 0xab06U << 28 | 0xaf8e205U)

1167 
UINTMAX_MAX
 / 1187)

1168 
P
 (6, 56,

1169 (((((
uötmax_t
) 0xe187U << 28 | 0x673725fU)

1173 
UINTMAX_MAX
 / 1193)

1174 
P
 (8, 58,

1175 (((((
uötmax_t
) 0x57d1U << 28 | 0xf5579b6U)

1179 
UINTMAX_MAX
 / 1201)

1180 
P
 (12, 64,

1181 (((((
uötmax_t
) 0x5f64U << 28 | 0xab5ec29U)

1185 
UINTMAX_MAX
 / 1213)

1186 
P
 (4, 62,

1187 (((((
uötmax_t
) 0x48c8U << 28 | 0x41a1574U)

1191 
UINTMAX_MAX
 / 1217)

1192 
P
 (6, 60,

1193 (((((
uötmax_t
) 0x348aU << 28 | 0x26ef0b8U)

1197 
UINTMAX_MAX
 / 1223)

1198 
P
 (6, 60,

1199 (((((
uötmax_t
) 0x5247U << 28 | 0x3d081faU)

1203 
UINTMAX_MAX
 / 1229)

1204 
P
 (2, 60,

1205 (((((
uötmax_t
) 0x0ec3U << 28 | 0xe6367c5U)

1209 
UINTMAX_MAX
 / 1231)

1210 
P
 (6, 60,

1211 (((((
uötmax_t
) 0xb57fU << 28 | 0x46921bbU)

1215 
UINTMAX_MAX
 / 1237)

1216 
P
 (12, 52,

1217 (((((
uötmax_t
) 0xb2eeU << 28 | 0xfcecf03U)

1221 
UINTMAX_MAX
 / 1249)

1222 
P
 (10, 44,

1223 (((((
uötmax_t
) 0xed4bU << 28 | 0x07ee1b3U)

1227 
UINTMAX_MAX
 / 1259)

1228 
P
 (18, 30,

1229 (((((
uötmax_t
) 0x435bU << 28 | 0x9d5e6bdU)

1233 
UINTMAX_MAX
 / 1277)

1234 
P
 (2, 40,

1235 (((((
uötmax_t
) 0x6013U << 28 | 0x370b023U)

1239 
UINTMAX_MAX
 / 1279)

1240 
P
 (4, 38,

1241 (((((
uötmax_t
) 0x3447U << 28 | 0x089473bU)

1245 
UINTMAX_MAX
 / 1283)

1246 
P
 (6, 38,

1247 (((((
uötmax_t
) 0x0f7dU << 28 | 0xb74fa3dU)

1251 
UINTMAX_MAX
 / 1289)

1252 
P
 (2, 70,

1253 (((((
uötmax_t
) 0x5316U << 28 | 0x02c6b14U)

1257 
UINTMAX_MAX
 / 1291)

1258 
P
 (6, 70,

1259 (((((
uötmax_t
) 0x2128U << 28 | 0xdb7c26aU)

1263 
UINTMAX_MAX
 / 1297)

1264 
P
 (4, 72,

1265 (((((
uötmax_t
) 0xb01cU << 28 | 0x55cadf2U)

1269 
UINTMAX_MAX
 / 1301)

1270 
P
 (2, 78,

1271 (((((
uötmax_t
) 0x3d4cU << 28 | 0x6d3cb58U)

1275 
UINTMAX_MAX
 / 1303)

1276 
P
 (4, 92,

1277 (((((
uötmax_t
) 0x0bc0U << 28 | 0x89e42fcU)

1281 
UINTMAX_MAX
 / 1307)

1282 
P
 (12, 90,

1283 (((((
uötmax_t
) 0x34fcU << 28 | 0x4ff6af1U)

1287 
UINTMAX_MAX
 / 1319)

1288 
P
 (2, 102,

1289 (((((
uötmax_t
) 0x18ffU << 28 | 0xce639c0U)

1293 
UINTMAX_MAX
 / 1321)

1294 
P
 (6, 100,

1295 (((((
uötmax_t
) 0x9b4cU << 28 | 0x33b39aeU)

1299 
UINTMAX_MAX
 / 1327)

1300 
P
 (34, 68,

1301 (((((
uötmax_t
) 0xbbe8U << 28 | 0xad0c9a3U)

1305 
UINTMAX_MAX
 / 1361)

1306 
P
 (6, 66,

1307 (((((
uötmax_t
) 0xa28dU << 28 | 0x33dfca1U)

1311 
UINTMAX_MAX
 / 1367)

1312 
P
 (6, 66,

1313 (((((
uötmax_t
) 0x677bU << 28 | 0x3ed5acdU)

1317 
UINTMAX_MAX
 / 1373)

1318 
P
 (8, 66,

1319 (((((
uötmax_t
) 0xf4e0U << 28 | 0xac06ac6U)

1323 
UINTMAX_MAX
 / 1381)

1324 
P
 (18, 52,

1325 (((((
uötmax_t
) 0x3ba7U << 28 | 0x6f12d90U)

1329 
UINTMAX_MAX
 / 1399)

1330 
P
 (10, 44,

1331 (((((
uötmax_t
) 0x3d69U << 28 | 0x32b0f71U)

1335 
UINTMAX_MAX
 / 1409)

1336 
P
 (14, 36,

1337 (((((
uötmax_t
) 0xb7adU << 28 | 0xf701426U)

1341 
UINTMAX_MAX
 / 1423)

1342 
P
 (4, 44,

1343 (((((
uötmax_t
) 0xd0d1U << 28 | 0x893d2caU)

1347 
UINTMAX_MAX
 / 1427)

1348 
P
 (2, 52,

1349 (((((
uötmax_t
) 0xc00bU << 28 | 0x7721dbcU)

1353 
UINTMAX_MAX
 / 1429)

1354 
P
 (4, 50,

1355 (((((
uötmax_t
) 0xe9d9U << 28 | 0x0e1cf0dU)

1359 
UINTMAX_MAX
 / 1433)

1360 
P
 (6, 48,

1361 (((((
uötmax_t
) 0x8489U << 28 | 0x56fe661U)

1365 
UINTMAX_MAX
 / 1439)

1366 
P
 (8, 42,

1367 (((((
uötmax_t
) 0xfd85U << 28 | 0xed3f28dU)

1371 
UINTMAX_MAX
 / 1447)

1372 
P
 (4, 42,

1373 (((((
uötmax_t
) 0x0a68U << 28 | 0xcca8aacU)

1377 
UINTMAX_MAX
 / 1451)

1378 
P
 (2, 46,

1379 (((((
uötmax_t
) 0x57eaU << 28 | 0xdb877ceU)

1383 
UINTMAX_MAX
 / 1453)

1384 
P
 (6, 52,

1385 (((((
uötmax_t
) 0x1c12U << 28 | 0xf330f43U)

1389 
UINTMAX_MAX
 / 1459)

1390 
P
 (12, 52,

1391 (((((
uötmax_t
) 0x472dU << 28 | 0xc52d6c1U)

1395 
UINTMAX_MAX
 / 1471)

1396 
P
 (10, 50,

1397 (((((
uötmax_t
) 0xda51U << 28 | 0x3e0e2c9U)

1401 
UINTMAX_MAX
 / 1481)

1402 
P
 (2, 60,

1403 (((((
uötmax_t
) 0x442fU << 28 | 0xa4dae2dU)

1407 
UINTMAX_MAX
 / 1483)

1408 
P
 (4, 62,

1409 (((((
uötmax_t
) 0x091fU << 28 | 0xd96fbb2U)

1413 
UINTMAX_MAX
 / 1487)

1414 
P
 (2, 64,

1415 (((((
uötmax_t
) 0x3accU << 28 | 0x97fbdfaU)

1419 
UINTMAX_MAX
 / 1489)

1420 
P
 (4, 66,

1421 (((((
uötmax_t
) 0x4d54U << 28 | 0xe047548U)

1425 
UINTMAX_MAX
 / 1493)

1426 
P
 (6, 68,

1427 (((((
uötmax_t
) 0x7e8cU << 28 | 0x61afbbbU)

1431 
UINTMAX_MAX
 / 1499)

1432 
P
 (12, 60,

1433 (((((
uötmax_t
) 0xc4b3U << 28 | 0x96f4fccU)

1437 
UINTMAX_MAX
 / 1511)

1438 
P
 (12, 56,

1439 (((((
uötmax_t
) 0x9eadU << 28 | 0x21c933fU)

1443 
UINTMAX_MAX
 / 1523)

1444 
P
 (8, 52,

1445 (((((
uötmax_t
) 0x0584U << 28 | 0x992a4deU)

1449 
UINTMAX_MAX
 / 1531)

1450 
P
 (12, 54,

1451 (((((
uötmax_t
) 0x8b08U << 28 | 0x7620d9aU)

1455 
UINTMAX_MAX
 / 1543)

1456 
P
 (6, 52,

1457 (((((
uötmax_t
) 0xc108U << 28 | 0x6dbce6bU)

1461 
UINTMAX_MAX
 / 1549)

1462 
P
 (4, 54,

1463 (((((
uötmax_t
) 0xe478U << 28 | 0xaa1e005U)

1467 
UINTMAX_MAX
 / 1553)

1468 
P
 (6, 50,

1469 (((((
uötmax_t
) 0x5cf1U << 28 | 0x0e9d4faU)

1473 
UINTMAX_MAX
 / 1559)

1474 
P
 (8, 46,

1475 (((((
uötmax_t
) 0x9ecbU << 28 | 0x8ef2c45U)

1479 
UINTMAX_MAX
 / 1567)

1480 
P
 (4, 48,

1481 (((((
uötmax_t
) 0xfb99U << 28 | 0xaa49543U)

1485 
UINTMAX_MAX
 / 1571)

1486 
P
 (8, 42,

1487 (((((
uötmax_t
) 0x7abbU << 28 | 0x187b379U)

1491 
UINTMAX_MAX
 / 1579)

1492 
P
 (4, 44,

1493 (((((
uötmax_t
) 0x3cceU << 28 | 0x5a3d212U)

1497 
UINTMAX_MAX
 / 1583)

1498 
P
 (14, 40,

1499 (((((
uötmax_t
) 0xc6eeU << 28 | 0xd90c05cU)

1503 
UINTMAX_MAX
 / 1597)

1504 
P
 (4, 56,

1505 (((((
uötmax_t
) 0x8798U << 28 | 0x627f99aU)

1509 
UINTMAX_MAX
 / 1601)

1510 
P
 (6, 56,

1511 (((((
uötmax_t
) 0x5233U << 28 | 0x4bab403U)

1515 
UINTMAX_MAX
 / 1607)

1516 
P
 (2, 58,

1517 (((((
uötmax_t
) 0x0e51U << 28 | 0xc7ad43fU)

1521 
UINTMAX_MAX
 / 1609)

1522 
P
 (4, 56,

1523 (((((
uötmax_t
) 0x00a2U << 28 | 0x84ffd75U)

1527 
UINTMAX_MAX
 / 1613)

1528 
P
 (6, 74,

1529 (((((
uötmax_t
) 0xe72cU << 28 | 0xbfa4ebeU)

1533 
UINTMAX_MAX
 / 1619)

1534 
P
 (2, 76,

1535 (((((
uötmax_t
) 0x22beU << 28 | 0x75d04e5U)

1539 
UINTMAX_MAX
 / 1621)

1540 
P
 (6, 72,

1541 (((((
uötmax_t
) 0x84f4U << 28 | 0xd419cdfU)

1545 
UINTMAX_MAX
 / 1627)

1546 
P
 (10, 72,

1547 (((((
uötmax_t
) 0xe83aU << 28 | 0xccdcd04U)

1551 
UINTMAX_MAX
 / 1637)

1552 
P
 (20, 64,

1553 (((((
uötmax_t
) 0x9e34U << 28 | 0x383c8ffU)

1557 
UINTMAX_MAX
 / 1657)

1558 
P
 (6, 60,

1559 (((((
uötmax_t
) 0x2e7dU << 28 | 0x4e5ad2eU)

1563 
UINTMAX_MAX
 / 1663)

1564 
P
 (4, 66,

1565 (((((
uötmax_t
) 0xe596U << 28 | 0x098573aU)

1569 
UINTMAX_MAX
 / 1667)

1570 
P
 (2, 72,

1571 (((((
uötmax_t
) 0x7181U << 28 | 0x4dc42e0U)

1575 
UINTMAX_MAX
 / 1669)

1576 
P
 (24, 54,

1577 (((((
uötmax_t
) 0xa4abU << 28 | 0x2bb32f5U)

1581 
UINTMAX_MAX
 / 1693)

1582 
P
 (4, 56,

1583 (((((
uötmax_t
) 0xa2ecU << 28 | 0x3cf1f87U)

1587 
UINTMAX_MAX
 / 1697)

1588 
P
 (2, 60,

1589 (((((
uötmax_t
) 0x6ff3U << 28 | 0xf223422U)

1593 
UINTMAX_MAX
 / 1699)

1594 
P
 (10, 68,

1595 (((((
uötmax_t
) 0x6c00U << 28 | 0x9963e9dU)

1599 
UINTMAX_MAX
 / 1709)

1600 
P
 (12, 62,

1601 (((((
uötmax_t
) 0x894cU << 28 | 0x02f99a8U)

1605 
UINTMAX_MAX
 / 1721)

1606 
P
 (2, 64,

1607 (((((
uötmax_t
) 0xc8e0U << 28 | 0xa6684d4U)

1611 
UINTMAX_MAX
 / 1723)

1612 
P
 (10, 56,

1613 (((((
uötmax_t
) 0xf8c2U << 28 | 0xfdc8c0aU)

1617 
UINTMAX_MAX
 / 1733)

1618 
P
 (8, 60,

1619 (((((
uötmax_t
) 0xd0a7U << 28 | 0x0a25594U)

1623 
UINTMAX_MAX
 / 1741)

1624 
P
 (6, 64,

1625 (((((
uötmax_t
) 0xdb5dU << 28 | 0xa31878bU)

1629 
UINTMAX_MAX
 / 1747)

1630 
P
 (6, 70,

1631 (((((
uötmax_t
) 0x75b4U << 28 | 0x5a8abbcU)

1635 
UINTMAX_MAX
 / 1753)

1636 
P
 (6, 72,

1637 (((((
uötmax_t
) 0x7e53U << 28 | 0x89d2e22U)

1641 
UINTMAX_MAX
 / 1759)

1642 
P
 (18, 70,

1643 (((((
uötmax_t
) 0xeaf7U << 28 | 0x801270aU)

1647 
UINTMAX_MAX
 / 1777)

1648 
P
 (6, 78,

1649 (((((
uötmax_t
) 0x1ad9U << 28 | 0x60a0cecU)

1653 
UINTMAX_MAX
 / 1783)

1654 
P
 (4, 80,

1655 (((((
uötmax_t
) 0x082aU << 28 | 0x676e737U)

1659 
UINTMAX_MAX
 / 1787)

1660 
P
 (2, 82,

1661 (((((
uötmax_t
) 0x50b4U << 28 | 0xdfcda14U)

1665 
UINTMAX_MAX
 / 1789)

1666 
P
 (12, 72,

1667 (((((
uötmax_t
) 0x1ffbU << 28 | 0x738ffdbU)

1671 
UINTMAX_MAX
 / 1801)

1672 
P
 (10, 66,

1673 (((((
uötmax_t
) 0xa660U << 28 | 0xf8ca6cdU)

1677 
UINTMAX_MAX
 / 1811)

1678 
P
 (12, 56,

1679 (((((
uötmax_t
) 0xed52U << 28 | 0xb6467eaU)

1683 
UINTMAX_MAX
 / 1823)

1684 
P
 (8, 58,

1685 (((((
uötmax_t
) 0xdaf2U << 28 | 0xff4d09aU)

1689 
UINTMAX_MAX
 / 1831)

1690 
P
 (16, 54,

1691 (((((
uötmax_t
) 0x6054U << 28 | 0x454d33bU)

1695 
UINTMAX_MAX
 / 1847)

1696 
P
 (14, 46,

1697 (((((
uötmax_t
) 0xf545U << 28 | 0x31625b1U)

1701 
UINTMAX_MAX
 / 1861)

1702 
P
 (6, 46,

1703 (((((
uötmax_t
) 0x6df8U << 28 | 0x0c1100aU)

1707 
UINTMAX_MAX
 / 1867)

1708 
P
 (4, 60,

1709 (((((
uötmax_t
) 0xaf8bU << 28 | 0xf8e2952U)

1713 
UINTMAX_MAX
 / 1871)

1714 
P
 (2, 60,

1715 (((((
uötmax_t
) 0x4d5cU << 28 | 0x4227171U)

1719 
UINTMAX_MAX
 / 1873)

1720 
P
 (4, 72,

1721 (((((
uötmax_t
) 0xf78bU << 28 | 0x4082eeaU)

1725 
UINTMAX_MAX
 / 1877)

1726 
P
 (2, 72,

1727 (((((
uötmax_t
) 0xf354U << 28 | 0x558f76aU)

1731 
UINTMAX_MAX
 / 1879)

1732 
P
 (10, 84,

1733 (((((
uötmax_t
) 0x0ab4U << 28 | 0xc91d231U)

1737 
UINTMAX_MAX
 / 1889)

1738 
P
 (12, 78,

1739 (((((
uötmax_t
) 0x1b56U << 28 | 0x52256feU)

1743 
UINTMAX_MAX
 / 1901)

1744 
P
 (6, 80,

1745 (((((
uötmax_t
) 0xaca2U << 28 | 0xb39dbc1U)

1749 
UINTMAX_MAX
 / 1907)

1750 
P
 (6, 80,

1751 (((((
uötmax_t
) 0x3856U << 28 | 0xb755c78U)

1755 
UINTMAX_MAX
 / 1913)

1756 
P
 (18, 66,

1757 (((((
uötmax_t
) 0x052bU << 28 | 0x9de5385U)

1761 
UINTMAX_MAX
 / 1931)

1762 
P
 (2, 66,

1763 (((((
uötmax_t
) 0x820dU << 28 | 0x822f698U)

1767 
UINTMAX_MAX
 / 1933)

1768 
P
 (16, 54,

1769 (((((
uötmax_t
) 0xcd09U << 28 | 0x536828fU)

1773 
UINTMAX_MAX
 / 1949)

1774 
P
 (2, 60,

1775 (((((
uötmax_t
) 0x8486U << 28 | 0xe386c1eU)

1779 
UINTMAX_MAX
 / 1951)

1780 
P
 (22, 44,

1781 (((((
uötmax_t
) 0xec68U << 28 | 0x5200c74U)

1785 
UINTMAX_MAX
 / 1973)

1786 
P
 (6, 48,

1787 (((((
uötmax_t
) 0xd8acU << 28 | 0xd298624U)

1791 
UINTMAX_MAX
 / 1979)

1792 
P
 (8, 42,

1793 (((((
uötmax_t
) 0x03ddU << 28 | 0x78b87ecU)

1797 
UINTMAX_MAX
 / 1987)

1798 
P
 (6, 46,

1799 (((((
uötmax_t
) 0x8950U << 28 | 0x062a636U)

1803 
UINTMAX_MAX
 / 1993)

1804 
P
 (4, 56,

1805 (((((
uötmax_t
) 0xa9daU << 28 | 0xd301275U)

1809 
UINTMAX_MAX
 / 1997)

1810 
P
 (2, 64,

1811 (((((
uötmax_t
) 0xfa3cU << 28 | 0xb3cd496U)

1815 
UINTMAX_MAX
 / 1999)

1816 
P
 (4, 66,

1817 (((((
uötmax_t
) 0x5c05U << 28 | 0x9fa1eedU)

1821 
UINTMAX_MAX
 / 2003)

1822 
P
 (8, 70,

1823 (((((
uötmax_t
) 0x8e52U << 28 | 0x3c5712bU)

1827 
UINTMAX_MAX
 / 2011)

1828 
P
 (6, 66,

1829 (((((
uötmax_t
) 0x8de5U << 28 | 0xdaaf67bU)

1833 
UINTMAX_MAX
 / 2017)

1834 
P
 (10, 60,

1835 (((((
uötmax_t
) 0xec2bU << 28 | 0xf35ed8fU)

1839 
UINTMAX_MAX
 / 2027)

1840 
P
 (2, 60,

1841 (((((
uötmax_t
) 0xe8c8U << 28 | 0xdd0cfedU)

1845 
UINTMAX_MAX
 / 2029)

1846 
P
 (10, 60,

1847 (((((
uötmax_t
) 0x65f2U << 28 | 0xb107280U)

1851 
UINTMAX_MAX
 / 2039)

1852 
P
 (14, 58,

1853 (((((
uötmax_t
) 0x44b5U << 28 | 0x0ed6b9cU)

1857 
UINTMAX_MAX
 / 2053)

1858 
P
 (10, 50,

1859 (((((
uötmax_t
) 0x9e96U << 28 | 0xa5899dfU)

1863 
UINTMAX_MAX
 / 2063)

1864 
P
 (6, 60,

1865 (((((
uötmax_t
) 0x49beU << 28 | 0x6c24212U)

1869 
UINTMAX_MAX
 / 2069)

1870 
P
 (12, 50,

1871 (((((
uötmax_t
) 0xd1fdU << 28 | 0xc922526U)

1875 
UINTMAX_MAX
 / 2081)

1876 
P
 (2, 54,

1877 (((((
uötmax_t
) 0xb8d7U << 28 | 0x51f95d0U)

1881 
UINTMAX_MAX
 / 2083)

1882 
P
 (4, 54,

1883 (((((
uötmax_t
) 0x971fU << 28 | 0x47835f8U)

1887 
UINTMAX_MAX
 / 2087)

1888 
P
 (2, 54,

1889 (((((
uötmax_t
) 0x418fU << 28 | 0xfe0a0c7U)

1893 
UINTMAX_MAX
 / 2089)

1894 
P
 (10, 54,

1895 (((((
uötmax_t
) 0xd06fU << 28 | 0x3ae8760U)

1899 
UINTMAX_MAX
 / 2099)

1900 
P
 (12, 50,

1901 (((((
uötmax_t
) 0x16adU << 28 | 0x6a5a779U)

1905 
UINTMAX_MAX
 / 2111)

1906 
P
 (2, 66,

1907 (((((
uötmax_t
) 0xfe0fU << 28 | 0xc007c0fU)

1911 
UINTMAX_MAX
 / 2113)

1912 
P
 (16, 74,

1913 (((((
uötmax_t
) 0x9763U << 28 | 0x3395b43U)

1917 
UINTMAX_MAX
 / 2129)

1918 
P
 (2, 76,

1919 (((((
uötmax_t
) 0x9a20U << 28 | 0xea7f195U)

1923 
UINTMAX_MAX
 / 2131)

1924 
P
 (6, 76,

1925 (((((
uötmax_t
) 0x7285U << 28 | 0xee07e80U)

1929 
UINTMAX_MAX
 / 2137)

1930 
P
 (4, 80,

1931 (((((
uötmax_t
) 0x3dd1U << 28 | 0x5e1a10fU)

1935 
UINTMAX_MAX
 / 2141)

1936 
P
 (2, 94,

1937 (((((
uötmax_t
) 0x4f14U << 28 | 0xe7bff85U)

1941 
UINTMAX_MAX
 / 2143)

1942 
P
 (10, 86,

1943 (((((
uötmax_t
) 0x12e7U << 28 | 0xdccdf10U)

1947 
UINTMAX_MAX
 / 2153)

1948 
P
 (8, 82,

1949 (((((
uötmax_t
) 0xd7b8U << 28 | 0xebfac9aU)

1953 
UINTMAX_MAX
 / 2161)

1954 
P
 (18, 72,

1955 (((((
uötmax_t
) 0xae1cU << 28 | 0xe6bd9efU)

1959 
UINTMAX_MAX
 / 2179)

1960 
P
 (24, 64,

1961 (((((
uötmax_t
) 0x459bU << 28 | 0x5dc70f3U)

1965 
UINTMAX_MAX
 / 2203)

1966 
P
 (4, 62,

1967 (((((
uötmax_t
) 0x4ec2U << 28 | 0xa38d65bU)

1971 
UINTMAX_MAX
 / 2207)

1972 
P
 (6, 60,

1973 (((((
uötmax_t
) 0x525dU << 28 | 0x3cf6a14U)

1977 
UINTMAX_MAX
 / 2213)

1978 
P
 (8, 60,

1979 (((((
uötmax_t
) 0x716bU << 28 | 0x4f6a9e5U)

1983 
UINTMAX_MAX
 / 2221)

1984 
P
 (16, 50,

1985 (((((
uötmax_t
) 0x48abU << 28 | 0x336212fU)

1989 
UINTMAX_MAX
 / 2237)

1990 
P
 (2, 54,

1991 (((((
uötmax_t
) 0xbde9U << 28 | 0xd1944b7U)

1995 
UINTMAX_MAX
 / 2239)

1996 
P
 (4, 54,

1997 (((((
uötmax_t
) 0xb595U << 28 | 0xdb3fccdU)

2001 
UINTMAX_MAX
 / 2243)

2002 
P
 (8, 58,

2003 (((((
uötmax_t
) 0x8a10U << 28 | 0x9aab45fU)

2007 
UINTMAX_MAX
 / 2251)

2008 
P
 (16, 44,

2009 (((((
uötmax_t
) 0x2e69U << 28 | 0x78b763bU)

2013 
UINTMAX_MAX
 / 2267)

2014 
P
 (2, 64,

2015 (((((
uötmax_t
) 0x7e40U << 28 | 0x4f6dc75U)

2019 
UINTMAX_MAX
 / 2269)

2020 
P
 (4, 66,

2021 (((((
uötmax_t
) 0xa706U << 28 | 0x6b72173U)

2025 
UINTMAX_MAX
 / 2273)

2026 
P
 (8, 60,

2027 (((((
uötmax_t
) 0x1165U << 28 | 0x5853800U)

2031 
UINTMAX_MAX
 / 2281)

2032 
P
 (6, 60,

2033 (((((
uötmax_t
) 0xad0dU << 28 | 0xfdfc31bU)

2037 
UINTMAX_MAX
 / 2287)

2038 
P
 (6, 58,

2039 (((((
uötmax_t
) 0x65b5U << 28 | 0x32cc4f0U)

2043 
UINTMAX_MAX
 / 2293)

2044 
P
 (4, 60,

2045 (((((
uötmax_t
) 0xcdbcU << 28 | 0x7622fecU)

2049 
UINTMAX_MAX
 / 2297)

2050 
P
 (12, 62,

2051 (((((
uötmax_t
) 0x37c4U << 28 | 0x92cae49U)

2055 
UINTMAX_MAX
 / 2309)

2056 
P
 (2, 66,

2057 (((((
uötmax_t
) 0xc031U << 28 | 0xa083283U)

2061 
UINTMAX_MAX
 / 2311)

2062 
P
 (22, 48,

2063 (((((
uötmax_t
) 0xc841U << 28 | 0xd685a6aU)

2067 
UINTMAX_MAX
 / 2333)

2068 
P
 (6, 44,

2069 (((((
uötmax_t
) 0xc4c9U << 28 | 0xd2b0364U)

2073 
UINTMAX_MAX
 / 2339)

2074 
P
 (2, 48,

2075 (((((
uötmax_t
) 0xe3c9U << 28 | 0x5290213U)

2079 
UINTMAX_MAX
 / 2341)

2080 
P
 (6, 46,

2081 (((((
uötmax_t
) 0xf02fU << 28 | 0x1ede4bbU)

2085 
UINTMAX_MAX
 / 2347)

2086 
P
 (4, 48,

2087 (((((
uötmax_t
) 0x83f9U << 28 | 0x7773bffU)

2091 
UINTMAX_MAX
 / 2351)

2092 
P
 (6, 54,

2093 (((((
uötmax_t
) 0xd472U << 28 | 0x42b02b7U)

2097 
UINTMAX_MAX
 / 2357)

2098 
P
 (14, 46,

2099 (((((
uötmax_t
) 0xd905U << 28 | 0xb8f4727U)

2103 
UINTMAX_MAX
 / 2371)

2104 
P
 (6, 46,

2105 (((((
uötmax_t
) 0xf2c0U << 28 | 0xc7e3914U)

2109 
UINTMAX_MAX
 / 2377)

2110 
P
 (4, 56,

2111 (((((
uötmax_t
) 0x6c7cU << 28 | 0x4a67008U)

2115 
UINTMAX_MAX
 / 2381)

2116 
P
 (2, 58,

2117 (((((
uötmax_t
) 0x7e55U << 28 | 0xba2c0b9U)

2121 
UINTMAX_MAX
 / 2383)

2122 
P
 (6, 58,

2123 (((((
uötmax_t
) 0xbf46U << 28 | 0xd4d0be4U)

2127 
UINTMAX_MAX
 / 2389)

2128 
P
 (4, 66,

2129 (((((
uötmax_t
) 0x1908U << 28 | 0x738977bU)

2133 
UINTMAX_MAX
 / 2393)

2134 
P
 (6, 68,

2135 (((((
uötmax_t
) 0x6a48U << 28 | 0xc6e8d7fU)

2139 
UINTMAX_MAX
 / 2399)

2140 
P
 (12, 62,

2141 (((((
uötmax_t
) 0x9f7bU << 28 | 0x7cc2f24U)

2145 
UINTMAX_MAX
 / 2411)

2146 
P
 (6, 60,

2147 (((((
uötmax_t
) 0x57ceU << 28 | 0x01e8101U)

2151 
UINTMAX_MAX
 / 2417)

2152 
P
 (6, 80,

2153 (((((
uötmax_t
) 0x22c2U << 28 | 0x9d6cb7dU)

2157 
UINTMAX_MAX
 / 2423)

2158 
P
 (14, 84,

2159 (((((
uötmax_t
) 0x366aU << 28 | 0x190050aU)

2163 
UINTMAX_MAX
 / 2437)

2164 
P
 (4, 90,

2165 (((((
uötmax_t
) 0x7708U << 28 | 0x7eb0665U)

2169 
UINTMAX_MAX
 / 2441)

2170 
P
 (6, 92,

2171 (((((
uötmax_t
) 0x8f53U << 28 | 0x96f6b06U)

2175 
UINTMAX_MAX
 / 2447)

2176 
P
 (12, 84,

2177 (((((
uötmax_t
) 0x0c2eU << 28 | 0x394250fU)

2181 
UINTMAX_MAX
 / 2459)

2182 
P
 (8, 82,

2183 (((((
uötmax_t
) 0x78afU << 28 | 0x29d1b7fU)

2187 
UINTMAX_MAX
 / 2467)

2188 
P
 (6, 78,

2189 (((((
uötmax_t
) 0x1287U << 28 | 0x9bcb69bU)

2193 
UINTMAX_MAX
 / 2473)

2194 
P
 (4, 80,

2195 (((((
uötmax_t
) 0x92c2U << 28 | 0x17c54bfU)

2199 
UINTMAX_MAX
 / 2477)

2200 
P
 (26, 76,

2201 (((((
uötmax_t
) 0xd46eU << 28 | 0x0ce30e3U)

2205 
UINTMAX_MAX
 / 2503)

2206 
P
 (18, 70,

2207 (((((
uötmax_t
) 0xa49bU << 28 | 0x91ec4ccU)

2211 
UINTMAX_MAX
 / 2521)

2212 
P
 (10, 62,

2213 (((((
uötmax_t
) 0x6098U << 28 | 0x1f8eb77U)

2217 
UINTMAX_MAX
 / 2531)

2218 
P
 (8, 70,

2219 (((((
uötmax_t
) 0x62e9U << 28 | 0x505bf44U)

2223 
UINTMAX_MAX
 / 2539)

2224 
P
 (4, 74,

2225 (((((
uötmax_t
) 0xb3cbU << 28 | 0x3fecabfU)

2229 
UINTMAX_MAX
 / 2543)

2230 
P
 (6, 72,

2231 (((((
uötmax_t
) 0xef3aU << 28 | 0x59c92a1U)

2235 
UINTMAX_MAX
 / 2549)

2236 
P
 (2, 82,

2237 (((((
uötmax_t
) 0xe69cU << 28 | 0x5983c36U)

2241 
UINTMAX_MAX
 / 2551)

2242 
P
 (6, 90,

2243 (((((
uötmax_t
) 0x437aU << 28 | 0xa4cb09bU)

2247 
UINTMAX_MAX
 / 2557)

2248 
P
 (22, 78,

2249 (((((
uötmax_t
) 0x1b65U << 28 | 0x8bdca98U)

2253 
UINTMAX_MAX
 / 2579)

2254 
P
 (12, 68,

2255 (((((
uötmax_t
) 0x3ea4U << 28 | 0x3624f3dU)

2259 
UINTMAX_MAX
 / 2591)

2260 
P
 (2, 70,

2261 (((((
uötmax_t
) 0x2d05U << 28 | 0x08fbf3cU)

2265 
UINTMAX_MAX
 / 2593)

2266 
P
 (16, 62,

2267 (((((
uötmax_t
) 0xc716U << 28 | 0xdcc634cU)

2271 
UINTMAX_MAX
 / 2609)

2272 
P
 (8, 60,

2273 (((((
uötmax_t
) 0xe30bU << 28 | 0x71f669dU)

2277 
UINTMAX_MAX
 / 2617)

2278 
P
 (4, 62,

2279 (((((
uötmax_t
) 0xa624U << 28 | 0x238d871U)

2283 
UINTMAX_MAX
 / 2621)

2284 
P
 (12, 54,

2285 (((((
uötmax_t
) 0x6488U << 28 | 0x81e55c1U)

2289 
UINTMAX_MAX
 / 2633)

2290 
P
 (14, 42,

2291 (((((
uötmax_t
) 0x8513U << 28 | 0xd3830beU)

2295 
UINTMAX_MAX
 / 2647)

2296 
P
 (10, 36,

2297 (((((
uötmax_t
) 0x49b5U << 28 | 0x0a4f32fU)

2301 
UINTMAX_MAX
 / 2657)

2302 
P
 (2, 40,

2303 (((((
uötmax_t
) 0xa1f0U << 28 | 0x049f0c9U)

2307 
UINTMAX_MAX
 / 2659)

2308 
P
 (4, 44,

2309 (((((
uötmax_t
) 0x25f8U << 28 | 0xe2df380U)

2313 
UINTMAX_MAX
 / 2663)

2314 
P
 (8, 40,

2315 (((((
uötmax_t
) 0x1654U << 28 | 0xeb02967U)

2319 
UINTMAX_MAX
 / 2671)

2320 
P
 (6, 36,

2321 (((((
uötmax_t
) 0x304aU << 28 | 0xf935d6eU)

2325 
UINTMAX_MAX
 / 2677)

2326 
P
 (6, 36,

2327 (((((
uötmax_t
) 0xef7eU << 28 | 0x3c1c9feU)

2331 
UINTMAX_MAX
 / 2683)

2332 
P
 (4, 42,

2333 (((((
uötmax_t
) 0xd02cU << 28 | 0x34f8dabU)

2337 
UINTMAX_MAX
 / 2687)

2338 
P
 (2, 42,

2339 (((((
uötmax_t
) 0xca7fU << 28 | 0x00185f3U)

2343 
UINTMAX_MAX
 / 2689)

2344 
P
 (4, 48,

2345 (((((
uötmax_t
) 0x613fU << 28 | 0x67e6e76U)

2349 
UINTMAX_MAX
 / 2693)

2350 
P
 (6, 50,

2351 (((((
uötmax_t
) 0x91e1U << 28 | 0x1433fa4U)

2355 
UINTMAX_MAX
 / 2699)

2356 
P
 (8, 46,

2357 (((((
uötmax_t
) 0x99c5U << 28 | 0x2d7ced2U)

2361 
UINTMAX_MAX
 / 2707)

2362 
P
 (4, 56,

2363 (((((
uötmax_t
) 0xe699U << 28 | 0x2a662c6U)

2367 
UINTMAX_MAX
 / 2711)

2368 
P
 (2, 64,

2369 (((((
uötmax_t
) 0x86efU << 28 | 0x7ca673aU)

2373 
UINTMAX_MAX
 / 2713)

2374 
P
 (6, 70,

2375 (((((
uötmax_t
) 0xb29bU << 28 | 0x59ea585U)

2379 
UINTMAX_MAX
 / 2719)

2380 
P
 (10, 62,

2381 (((((
uötmax_t
) 0x2d67U << 28 | 0x181bc45U)

2385 
UINTMAX_MAX
 / 2729)

2386 
P
 (2, 66,

2387 (((((
uötmax_t
) 0xffa0U << 28 | 0x02ffe80U)

2391 
UINTMAX_MAX
 / 2731)

2392 
P
 (10, 60,

2393 (((((
uötmax_t
) 0xef00U << 28 | 0x778c303U)

2397 
UINTMAX_MAX
 / 2741)

2398 
P
 (8, 54,

2399 (((((
uötmax_t
) 0xd453U << 28 | 0x113a63aU)

2403 
UINTMAX_MAX
 / 2749)

2404 
P
 (4, 66,

2405 (((((
uötmax_t
) 0x01c4U << 28 | 0x4cfeca8U)

2409 
UINTMAX_MAX
 / 2753)

2410 
P
 (14, 66,

2411 (((((
uötmax_t
) 0x3887U << 28 | 0x72a189cU)

2415 
UINTMAX_MAX
 / 2767)

2416 
P
 (10, 60,

2417 (((((
uötmax_t
) 0x835dU << 28 | 0x625cbd2U)

2421 
UINTMAX_MAX
 / 2777)

2422 
P
 (12, 54,

2423 (((((
uötmax_t
) 0x8052U << 28 | 0x3e3ba9bU)

2427 
UINTMAX_MAX
 / 2789)

2428 
P
 (2, 60,

2429 (((((
uötmax_t
) 0xced6U << 28 | 0x1518ac7U)

2433 
UINTMAX_MAX
 / 2791)

2434 
P
 (6, 60,

2435 (((((
uötmax_t
) 0x42d0U << 28 | 0x7f67b31U)

2439 
UINTMAX_MAX
 / 2797)

2440 
P
 (4, 60,

2441 (((((
uötmax_t
) 0xa787U << 28 | 0x5b7cc16U)

2445 
UINTMAX_MAX
 / 2801)

2446 
P
 (2, 76,

2447 (((((
uötmax_t
) 0x69abU << 28 | 0x6d816a6U)

2451 
UINTMAX_MAX
 / 2803)

2452 
P
 (16, 68,

2453 (((((
uötmax_t
) 0xace8U << 28 | 0x1dc954bU)

2457 
UINTMAX_MAX
 / 2819)

2458 
P
 (14, 64,

2459 (((((
uötmax_t
) 0x7c3fU << 28 | 0xfa377bbU)

2463 
UINTMAX_MAX
 / 2833)

2464 
P
 (4, 66,

2465 (((((
uötmax_t
) 0x1f0aU << 28 | 0x8ec0eccU)

2469 
UINTMAX_MAX
 / 2837)

2470 
P
 (6, 66,

2471 (((((
uötmax_t
) 0x609eU << 28 | 0x7b00a15U)

2475 
UINTMAX_MAX
 / 2843)

2476 
P
 (8, 66,

2477 (((((
uötmax_t
) 0x7362U << 28 | 0x52ca08cU)

2481 
UINTMAX_MAX
 / 2851)

2482 
P
 (6, 70,

2483 (((((
uötmax_t
) 0xa370U << 28 | 0x463ffa4U)

2487 
UINTMAX_MAX
 / 2857)

2488 
P
 (4, 78,

2489 (((((
uötmax_t
) 0x4586U << 28 | 0x7cbbe80U)

2493 
UINTMAX_MAX
 / 2861)

2494 
P
 (18, 74,

2495 (((((
uötmax_t
) 0x508fU << 28 | 0xb1c027dU)

2499 
UINTMAX_MAX
 / 2879)

2500 
P
 (8, 70,

2501 (((((
uötmax_t
) 0xbc40U << 28 | 0xe8adccbU)

2505 
UINTMAX_MAX
 / 2887)

2506 
P
 (10, 66,

2507 (((((
uötmax_t
) 0x73d9U << 28 | 0x78cc4e1U)

2511 
UINTMAX_MAX
 / 2897)

2512 
P
 (6, 66,

2513 (((((
uötmax_t
) 0x1c21U << 28 | 0x8299f86U)

2517 
UINTMAX_MAX
 / 2903)

2518 
P
 (6, 62,

2519 (((((
uötmax_t
) 0x5da2U << 28 | 0x8a842e1U)

2523 
UINTMAX_MAX
 / 2909)

2524 
P
 (8, 82,

2525 (((((
uötmax_t
) 0x21f6U << 28 | 0xb281b61U)

2529 
UINTMAX_MAX
 / 2917)

2530 
P
 (10, 74,

2531 (((((
uötmax_t
) 0x2e9dU << 28 | 0xf4a1477U)

2535 
UINTMAX_MAX
 / 2927)

2536 
P
 (12, 72,

2537 (((((
uötmax_t
) 0x891aU << 28 | 0x37ebcabU)

2541 
UINTMAX_MAX
 / 2939)

2542 
P
 (14, 66,

2543 (((((
uötmax_t
) 0xccadU << 28 | 0xbad1f78U)

2547 
UINTMAX_MAX
 / 2953)

2548 
P
 (4, 66,

2549 (((((
uötmax_t
) 0xb335U << 28 | 0x6a92a82U)

2553 
UINTMAX_MAX
 / 2957)

2554 
P
 (6, 74,

2555 (((((
uötmax_t
) 0x58bbU << 28 | 0x5017802U)

2559 
UINTMAX_MAX
 / 2963)

2560 
P
 (6, 72,

2561 (((((
uötmax_t
) 0x7501U << 28 | 0xa365242U)

2565 
UINTMAX_MAX
 / 2969)

2566 
P
 (2, 78,

2567 (((((
uötmax_t
) 0x18a4U << 28 | 0xbffa7c4U)

2571 
UINTMAX_MAX
 / 2971)

2572 
P
 (28, 62,

2573 (((((
uötmax_t
) 0xa633U << 28 | 0x0bdd838U)

2577 
UINTMAX_MAX
 / 2999)

2578 
P
 (2, 66,

2579 (((((
uötmax_t
) 0xe2ffU << 28 | 0x0fc80a3U)

2583 
UINTMAX_MAX
 / 3001)

2584 
P
 (10, 68,

2585 (((((
uötmax_t
) 0x1183U << 28 | 0xb2cce6eU)

2589 
UINTMAX_MAX
 / 3011)

2590 
P
 (8, 64,

2591 (((((
uötmax_t
) 0xbfb9U << 28 | 0x73118d8U)

2595 
UINTMAX_MAX
 / 3019)

2596 
P
 (4, 66,

2597 (((((
uötmax_t
) 0xa152U << 28 | 0xbc81bc6U)

2601 
UINTMAX_MAX
 / 3023)

2602 
P
 (14, 72,

2603 (((((
uötmax_t
) 0xaebdU << 28 | 0xa92d6f2U)

2607 
UINTMAX_MAX
 / 3037)

2608 
P
 (4, 78,

2609 (((((
uötmax_t
) 0x890cU << 28 | 0xb62bf18U)

2613 
UINTMAX_MAX
 / 3041)

2614 
P
 (8, 72,

2615 (((((
uötmax_t
) 0x699fU << 28 | 0xc793db6U)

2619 
UINTMAX_MAX
 / 3049)

2620 
P
 (12, 76,

2621 (((((
uötmax_t
) 0x14fdU << 28 | 0xe8c0055U)

2625 
UINTMAX_MAX
 / 3061)

2626 
P
 (6, 96,

2627 (((((
uötmax_t
) 0xa99cU << 28 | 0x01006adU)

2631 
UINTMAX_MAX
 / 3067)

2632 
P
 (12, 88,

2633 (((((
uötmax_t
) 0x59e0U << 28 | 0xe778f96U)

2637 
UINTMAX_MAX
 / 3079)

2638 
P
 (4, 86,

2639 (((((
uötmax_t
) 0x6edaU << 28 | 0x627b0f3U)

2643 
UINTMAX_MAX
 / 3083)

2644 
P
 (6, 92,

2645 (((((
uötmax_t
) 0xf88aU << 28 | 0x9107df8U)

2649 
UINTMAX_MAX
 / 3089)

2650 
P
 (20, 78,

2651 (((((
uötmax_t
) 0xcddaU << 28 | 0x9dee60fU)

2655 
UINTMAX_MAX
 / 3109)

2656 
P
 (10, 72,

2657 (((((
uötmax_t
) 0x4ff1U << 28 | 0x8de982bU)

2661 
UINTMAX_MAX
 / 3119)

2662 
P
 (2, 82,

2663 (((((
uötmax_t
) 0x8fdfU << 28 | 0x30a40ccU)

2667 
UINTMAX_MAX
 / 3121)

2668 
P
 (16, 72,

2669 (((((
uötmax_t
) 0x0ca6U << 28 | 0x26ae799U)

2673 
UINTMAX_MAX
 / 3137)

2674 
P
 (26, 54,

2675 (((((
uötmax_t
) 0x3a1cU << 28 | 0xa6ba507U)

2679 
UINTMAX_MAX
 / 3163)

2680 
P
 (4, 54,

2681 (((((
uötmax_t
) 0x340eU << 28 | 0x8ccfe76U)

2685 
UINTMAX_MAX
 / 3167)

2686 
P
 (2, 60,

2687 (((((
uötmax_t
) 0xe94cU << 28 | 0xd3010cdU)

2691 
UINTMAX_MAX
 / 3169)

2692 
P
 (12, 70,

2693 (((((
uötmax_t
) 0x69d4U << 28 | 0x0f213ccU)

2697 
UINTMAX_MAX
 / 3181)

2698 
P
 (6, 66,

2699 (((((
uötmax_t
) 0xcc45U << 28 | 0x14a4d46U)

2703 
UINTMAX_MAX
 / 3187)

2704 
P
 (4, 66,

2705 (((((
uötmax_t
) 0x6351U << 28 | 0xbffadd9U)

2709 
UINTMAX_MAX
 / 3191)

2710 
P
 (12, 56,

2711 (((((
uötmax_t
) 0x77baU << 28 | 0x4e2aae1U)

2715 
UINTMAX_MAX
 / 3203)

2716 
P
 (6, 62,

2717 (((((
uötmax_t
) 0x8d1fU << 28 | 0x82e96c6U)

2721 
UINTMAX_MAX
 / 3209)

2722 
P
 (8, 82,

2723 (((((
uötmax_t
) 0x0ef5U << 28 | 0xe4c8da5U)

2727 
UINTMAX_MAX
 / 3217)

2728 
P
 (4, 80,

2729 (((((
uötmax_t
) 0x9ccfU << 28 | 0x98fef77U)

2733 
UINTMAX_MAX
 / 3221)

2734 
P
 (8, 78,

2735 (((((
uötmax_t
) 0x9c06U << 28 | 0xa8de9f5U)

2739 
UINTMAX_MAX
 / 3229)

2740 
P
 (22, 62,

2741 (((((
uötmax_t
) 0xdcf5U << 28 | 0x5e929f8U)

2745 
UINTMAX_MAX
 / 3251)

2746 
P
 (2, 66,

2747 (((((
uötmax_t
) 0xcebcU << 28 | 0x664e397U)

2751 
UINTMAX_MAX
 / 3253)

2752 
P
 (4, 66,

2753 (((((
uötmax_t
) 0x921eU << 28 | 0x0671f84U)

2757 
UINTMAX_MAX
 / 3257)

2758 
P
 (2, 70,

2759 (((((
uötmax_t
) 0x4223U << 28 | 0xfa07b2bU)

2763 
UINTMAX_MAX
 / 3259)

2764 
P
 (12, 60,

2765 (((((
uötmax_t
) 0x4ceeU << 28 | 0xdc3bcb1U)

2769 
UINTMAX_MAX
 / 3271)

2770 
P
 (28, 44,

2771 (((((
uötmax_t
) 0x969eU << 28 | 0xc4a2f55U)

2775 
UINTMAX_MAX
 / 3299)

2776 
P
 (2, 46,

2777 (((((
uötmax_t
) 0xd886U << 28 | 0xa176bb8U)

2781 
UINTMAX_MAX
 / 3301)

2782 
P
 (6, 52,

2783 (((((
uötmax_t
) 0xaaecU << 28 | 0xb97a633U)

2787 
UINTMAX_MAX
 / 3307)

2788 
P
 (6, 48,

2789 (((((
uötmax_t
) 0x1a59U << 28 | 0x7af0505U)

2793 
UINTMAX_MAX
 / 3313)

2794 
P
 (6, 52,

2795 (((((
uötmax_t
) 0x76c8U << 28 | 0x6358785U)

2799 
UINTMAX_MAX
 / 3319)

2800 
P
 (4, 50,

2801 (((((
uötmax_t
) 0xb781U << 28 | 0xa8058bfU)

2805 
UINTMAX_MAX
 / 3323)

2806 
P
 (6, 60,

2807 (((((
uötmax_t
) 0xc604U << 28 | 0x75cf8d9U)

2811 
UINTMAX_MAX
 / 3329)

2812 
P
 (2, 60,

2813 (((((
uötmax_t
) 0x9d2aU << 28 | 0x8009d65U)

2817 
UINTMAX_MAX
 / 3331)

2818 
P
 (12, 64,

2819 (((((
uötmax_t
) 0x4053U << 28 | 0x511894dU)

2823 
UINTMAX_MAX
 / 3343)

2824 
P
 (4, 66,

2825 (((((
uötmax_t
) 0xcbfdU << 28 | 0x3f19edcU)

2829 
UINTMAX_MAX
 / 3347)

2830 
P
 (12, 74,

2831 (((((
uötmax_t
) 0x303eU << 28 | 0x309fbe2U)

2835 
UINTMAX_MAX
 / 3359)

2836 
P
 (2, 88,

2837 (((((
uötmax_t
) 0x1123U << 28 | 0x440491fU)

2841 
UINTMAX_MAX
 / 3361)

2842 
P
 (10, 86,

2843 (((((
uötmax_t
) 0x5ae7U << 28 | 0x03df7f3U)

2847 
UINTMAX_MAX
 / 3371)

2848 
P
 (2, 88,

2849 (((((
uötmax_t
) 0x11fcU << 28 | 0xcff5122U)

2853 
UINTMAX_MAX
 / 3373)

2854 
P
 (16, 74,

2855 (((((
uötmax_t
) 0x80cbU << 28 | 0x0c29652U)

2859 
UINTMAX_MAX
 / 3389)

2860 
P
 (2, 76,

2861 (((((
uötmax_t
) 0xc57dU << 28 | 0xffd958dU)

2865 
UINTMAX_MAX
 / 3391)

2866 
P
 (16, 62,

2867 (((((
uötmax_t
) 0x9c4aU << 28 | 0x3cdce8eU)

2871 
UINTMAX_MAX
 / 3407)

2872 
P
 (6, 78,

2873 (((((
uötmax_t
) 0x0cf9U << 28 | 0xeca5ea8U)

2877 
UINTMAX_MAX
 / 3413)

2878 
P
 (20, 66,

2879 (((((
uötmax_t
) 0xfe48U << 28 | 0xee074edU)

2883 
UINTMAX_MAX
 / 3433)

2884 
P
 (16, 62,

2885 (((((
uötmax_t
) 0xa409U << 28 | 0x342e04eU)

2889 
UINTMAX_MAX
 / 3449)

2890 
P
 (8, 60,

2891 (((((
uötmax_t
) 0xe4e5U << 28 | 0x902e357U)

2895 
UINTMAX_MAX
 / 3457)

2896 
P
 (4, 66,

2897 (((((
uötmax_t
) 0x7588U << 28 | 0x9dfe5f6U)

2901 
UINTMAX_MAX
 / 3461)

2902 
P
 (2, 66,

2903 (((((
uötmax_t
) 0x3784U << 28 | 0x6603fdeU)

2907 
UINTMAX_MAX
 / 3463)

2908 
P
 (4, 66,

2909 (((((
uötmax_t
) 0xb450U << 28 | 0xa1daeecU)

2913 
UINTMAX_MAX
 / 3467)

2914 
P
 (2, 70,

2915 (((((
uötmax_t
) 0xfbf0U << 28 | 0xf20d6e5U)

2919 
UINTMAX_MAX
 / 3469)

2920 
P
 (22, 50,

2921 (((((
uötmax_t
) 0xeeb1U << 28 | 0x9bd44b6U)

2925 
UINTMAX_MAX
 / 3491)

2926 
P
 (8, 48,

2927 (((((
uötmax_t
) 0x7386U << 28 | 0x8c53fdfU)

2931 
UINTMAX_MAX
 / 3499)

2932 
P
 (12, 46,

2933 (((((
uötmax_t
) 0xba13U << 28 | 0x65219cfU)

2937 
UINTMAX_MAX
 / 3511)

2938 
P
 (6, 42,

2939 (((((
uötmax_t
) 0xe16dU << 28 | 0xb1887adU)

2943 
UINTMAX_MAX
 / 3517)

2944 
P
 (10, 44,

2945 (((((
uötmax_t
) 0x4cf0U << 28 | 0x1ab5e49U)

2949 
UINTMAX_MAX
 / 3527)

2950 
P
 (2, 52,

2951 (((((
uötmax_t
) 0x6374U << 28 | 0x6df92e5U)

2955 
UINTMAX_MAX
 / 3529)

2956 
P
 (4, 50,

2957 (((((
uötmax_t
) 0x3fc3U << 28 | 0xb6abbabU)

2961 
UINTMAX_MAX
 / 3533)

2962 
P
 (6, 54,

2963 (((((
uötmax_t
) 0x82b6U << 28 | 0x6ef6f53U)

2967 
UINTMAX_MAX
 / 3539)

2968 
P
 (2, 66,

2969 (((((
uötmax_t
) 0x20c0U << 28 | 0x04a07f3U)

2973 
UINTMAX_MAX
 / 3541)

2974 
P
 (6, 66,

2975 (((((
uötmax_t
) 0xfb2aU << 28 | 0x13c68cbU)

2979 
UINTMAX_MAX
 / 3547)

2980 
P
 (10, 60,

2981 (((((
uötmax_t
) 0x8908U << 28 | 0x46d1b90U)

2985 
UINTMAX_MAX
 / 3557)

2986 
P
 (2, 64,

2987 (((((
uötmax_t
) 0xf7baU << 28 | 0x5f17856U)

2991 
UINTMAX_MAX
 / 3559)

2992 
P
 (12, 60,

2993 (((((
uötmax_t
) 0x811cU << 28 | 0x75db26eU)

2997 
UINTMAX_MAX
 / 3571)

2998 
P
 (10, 56,

2999 (((((
uötmax_t
) 0x6fbcU << 28 | 0x83d31afU)

3003 
UINTMAX_MAX
 / 3581)

3004 
P
 (2, 60,

3005 (((((
uötmax_t
) 0xdf7dU << 28 | 0xad8c657U)

3009 
UINTMAX_MAX
 / 3583)

3010 
P
 (10, 66,

3011 (((((
uötmax_t
) 0x48beU << 28 | 0xf2f618aU)

3015 
UINTMAX_MAX
 / 3593)

3016 
P
 (14, 64,

3017 (((((
uötmax_t
) 0x5c8cU << 28 | 0x86d951dU)

3021 
UINTMAX_MAX
 / 3607)

3022 
P
 (6, 60,

3023 (((((
uötmax_t
) 0x3e35U << 28 | 0xfddfd4eU)

3027 
UINTMAX_MAX
 / 3613)

3028 
P
 (4, 60,

3029 (((((
uötmax_t
) 0x3f46U << 28 | 0x480d05dU)

3033 
UINTMAX_MAX
 / 3617)

3034 
P
 (6, 68,

3035 (((((
uötmax_t
) 0xa7f5U << 28 | 0x427da20U)

3039 
UINTMAX_MAX
 / 3623)

3040 
P
 (8, 66,

3041 (((((
uötmax_t
) 0x1756U << 28 | 0x39f44bdU)

3045 
UINTMAX_MAX
 / 3631)

3046 
P
 (6, 64,

3047 (((((
uötmax_t
) 0xf7b1U << 28 | 0xba9905dU)

3051 
UINTMAX_MAX
 / 3637)

3052 
P
 (6, 66,

3053 (((((
uötmax_t
) 0x0ec1U << 28 | 0xcf3b3d3U)

3057 
UINTMAX_MAX
 / 3643)

3058 
P
 (16, 60,

3059 (((((
uötmax_t
) 0x694bU << 28 | 0xe954ddeU)

3063 
UINTMAX_MAX
 / 3659)

3064 
P
 (12, 56,

3065 (((((
uötmax_t
) 0xd628U << 28 | 0x9612455U)

3069 
UINTMAX_MAX
 / 3671)

3070 
P
 (2, 60,

3071 (((((
uötmax_t
) 0x63bcU << 28 | 0xcfb30dbU)

3075 
UINTMAX_MAX
 / 3673)

3076 
P
 (4, 62,

3077 (((((
uötmax_t
) 0x7cf8U << 28 | 0xb08fb32U)

3081 
UINTMAX_MAX
 / 3677)

3082 
P
 (14, 70,

3083 (((((
uötmax_t
) 0x99e7U << 28 | 0xb98849cU)

3087 
UINTMAX_MAX
 / 3691)

3088 
P
 (6, 70,

3089 (((((
uötmax_t
) 0x1767U << 28 | 0xa90721dU)

3093 
UINTMAX_MAX
 / 3697)

3094 
P
 (4, 68,

3095 (((((
uötmax_t
) 0x817cU << 28 | 0xb6e3047U)

3099 
UINTMAX_MAX
 / 3701)

3100 
P
 (8, 70,

3101 (((((
uötmax_t
) 0x916dU << 28 | 0x896be15U)

3105 
UINTMAX_MAX
 / 3709)

3106 
P
 (10, 74,

3107 (((((
uötmax_t
) 0x50e1U << 28 | 0xc7f7bd5U)

3111 
UINTMAX_MAX
 / 3719)

3112 
P
 (8, 70,

3113 (((((
uötmax_t
) 0xc1e7U << 28 | 0xf58f36eU)

3117 
UINTMAX_MAX
 / 3727)

3118 
P
 (6, 70,

3119 (((((
uötmax_t
) 0xe72cU << 28 | 0xc7f8de3U)

3123 
UINTMAX_MAX
 / 3733)

3124 
P
 (6, 82,

3125 (((((
uötmax_t
) 0x81e2U << 28 | 0x02e029aU)

3129 
UINTMAX_MAX
 / 3739)

3130 
P
 (22, 62,

3131 (((((
uötmax_t
) 0x66a5U << 28 | 0x216bc00U)

3135 
UINTMAX_MAX
 / 3761)

3136 
P
 (6, 66,

3137 (((((
uötmax_t
) 0x3442U << 28 | 0x9973536U)

3141 
UINTMAX_MAX
 / 3767)

3142 
P
 (2, 78,

3143 (((((
uötmax_t
) 0xc952U << 28 | 0x869f58aU)

3147 
UINTMAX_MAX
 / 3769)

3148 
P
 (10, 72,

3149 (((((
uötmax_t
) 0xc462U << 28 | 0xe78b7b7U)

3153 
UINTMAX_MAX
 / 3779)

3154 
P
 (14, 60,

3155 (((((
uötmax_t
) 0xa7b8U << 28 | 0x300e09dU)

3159 
UINTMAX_MAX
 / 3793)

3160 
P
 (4, 66,

3161 (((((
uötmax_t
) 0x678fU << 28 | 0x45607afU)

3165 
UINTMAX_MAX
 / 3797)

3166 
P
 (6, 74,

3167 (((((
uötmax_t
) 0x3066U << 28 | 0x51b882dU)

3171 
UINTMAX_MAX
 / 3803)

3172 
P
 (18, 60,

3173 (((((
uötmax_t
) 0x03f3U << 28 | 0xf0b9737U)

3177 
UINTMAX_MAX
 / 3821)

3178 
P
 (2, 66,

3179 (((((
uötmax_t
) 0x824fU << 28 | 0x6b12f35U)

3183 
UINTMAX_MAX
 / 3823)

3184 
P
 (10, 74,

3185 (((((
uötmax_t
) 0xba8aU << 28 | 0x4084821U)

3189 
UINTMAX_MAX
 / 3833)

3190 
P
 (14, 64,

3191 (((((
uötmax_t
) 0x1f9bU << 28 | 0xea70762U)

3195 
UINTMAX_MAX
 / 3847)

3196 
P
 (4, 66,

3197 (((((
uötmax_t
) 0xb7acU << 28 | 0x817ee73U)

3201 
UINTMAX_MAX
 / 3851)

3202 
P
 (2, 66,

3203 (((((
uötmax_t
) 0xf8c2U << 28 | 0x0286585U)

3207 
UINTMAX_MAX
 / 3853)

3208 
P
 (10, 60,

3209 (((((
uötmax_t
) 0x7727U << 28 | 0x2a58ab3U)

3213 
UINTMAX_MAX
 / 3863)

3214 
P
 (14, 52,

3215 (((((
uötmax_t
) 0x61caU << 28 | 0x83edc68U)

3219 
UINTMAX_MAX
 / 3877)

3220 
P
 (4, 50,

3221 (((((
uötmax_t
) 0x74f3U << 28 | 0x8879e60U)

3225 
UINTMAX_MAX
 / 3881)

3226 
P
 (8, 54,

3227 (((((
uötmax_t
) 0x1c6fU << 28 | 0xe7c6996U)

3231 
UINTMAX_MAX
 / 3889)

3232 
P
 (18, 40,

3233 (((((
uötmax_t
) 0x374dU << 28 | 0x408a62aU)

3237 
UINTMAX_MAX
 / 3907)

3238 
P
 (4, 56,

3239 (((((
uötmax_t
) 0xc8e2U << 28 | 0xbdb1524U)

3243 
UINTMAX_MAX
 / 3911)

3244 
P
 (6, 72,

3245 (((((
uötmax_t
) 0xbfc1U << 28 | 0x421336fU)

3249 
UINTMAX_MAX
 / 3917)

3250 
P
 (2, 82,

3251 (((((
uötmax_t
) 0x7daeU << 28 | 0x58b5560U)

3255 
UINTMAX_MAX
 / 3919)

3256 
P
 (4, 80,

3257 (((((
uötmax_t
) 0xf1f8U << 28 | 0x4cbdc3dU)

3261 
UINTMAX_MAX
 / 3923)

3262 
P
 (6, 78,

3263 (((((
uötmax_t
) 0xa6abU << 28 | 0x9f4ec63U)

3267 
UINTMAX_MAX
 / 3929)

3268 
P
 (2, 82,

3269 (((((
uötmax_t
) 0x8198U << 28 | 0x742e1b7U)

3273 
UINTMAX_MAX
 / 3931)

3274 
P
 (12, 76,

3275 (((((
uötmax_t
) 0x5ab3U << 28 | 0x52c7947U)

3279 
UINTMAX_MAX
 / 3943)

3280 
P
 (4, 74,

3281 (((((
uötmax_t
) 0xec69U << 28 | 0x9751239U)

3285 
UINTMAX_MAX
 / 3947)

3286 
P
 (20, 60,

3287 (((((
uötmax_t
) 0xa4e1U << 28 | 0x58dc715U)

3291 
UINTMAX_MAX
 / 3967)

3292 
P
 (22, 60,

3293 (((((
uötmax_t
) 0x4cd1U << 28 | 0xba8fa08U)

3297 
UINTMAX_MAX
 / 3989)

3298 
P
 (12, 50,

3299 (((((
uötmax_t
) 0x48afU << 28 | 0x92759a4U)

3303 
UINTMAX_MAX
 / 4001)

3304 
P
 (2, 54,

3305 (((((
uötmax_t
) 0x9293U << 28 | 0xfc29b25U)

3309 
UINTMAX_MAX
 / 4003)

3310 
P
 (4, 66,

3311 (((((
uötmax_t
) 0xc02cU << 28 | 0xfa2fa91U)

3315 
UINTMAX_MAX
 / 4007)

3316 
P
 (6, 66,

3317 (((((
uötmax_t
) 0x15c0U << 28 | 0xd8627efU)

3321 
UINTMAX_MAX
 / 4013)

3322 
P
 (6, 72,

3323 (((((
uötmax_t
) 0x1143U << 28 | 0x12ca6e3U)

3327 
UINTMAX_MAX
 / 4019)

3328 
P
 (2, 72,

3329 (((((
uötmax_t
) 0xcfadU << 28 | 0x7d3b04aU)

3333 
UINTMAX_MAX
 / 4021)

3334 
P
 (6, 72,

3335 (((((
uötmax_t
) 0x9d46U << 28 | 0x3eef687U)

3339 
UINTMAX_MAX
 / 4027)

3340 
P
 (22, 62,

3341 (((((
uötmax_t
) 0xe98eU << 28 | 0x1152e37U)

3345 
UINTMAX_MAX
 / 4049)

3346 
P
 (2, 76,

3347 (((((
uötmax_t
) 0xa002U << 28 | 0x05affefU)

3351 
UINTMAX_MAX
 / 4051)

3352 
P
 (6, 72,

3353 (((((
uötmax_t
) 0x1d87U << 28 | 0xfb74ed0U)

3357 
UINTMAX_MAX
 / 4057)

3358 
P
 (16, 60,

3359 (((((
uötmax_t
) 0x7051U << 28 | 0x751852fU)

3363 
UINTMAX_MAX
 / 4073)

3364 
P
 (6, 60,

3365 (((((
uötmax_t
) 0x88e1U << 28 | 0x6f867eeU)

3369 
UINTMAX_MAX
 / 4079)

3370 
P
 (12, 62,

3371 (((((
uötmax_t
) 0xe8e8U << 28 | 0xc8bebb9U)

3375 
UINTMAX_MAX
 / 4091)

3376 
P
 (2, 64,

3377 (((((
uötmax_t
) 0xc605U << 28 | 0x20f62e2U)

3381 
UINTMAX_MAX
 / 4093)

3382 
P
 (6, 60,

3383 (((((
uötmax_t
) 0x46c2U << 28 | 0xbb7cd89U)

3387 
UINTMAX_MAX
 / 4099)

3388 
P
 (12, 66,

3389 (((((
uötmax_t
) 0xfc73U << 28 | 0x53e15cbU)

3393 
UINTMAX_MAX
 / 4111)

3394 
P
 (16, 74,

3395 (((((
uötmax_t
) 0x3d78U << 28 | 0xe5c2d68U)

3399 
UINTMAX_MAX
 / 4127)

3400 
P
 (2, 82,

3401 (((((
uötmax_t
) 0x4a66U << 28 | 0x8c7e3baU)

3405 
UINTMAX_MAX
 / 4129)

3406 
P
 (4, 84,

3407 (((((
uötmax_t
) 0x616eU << 28 | 0xb008eb5U)

3411 
UINTMAX_MAX
 / 4133)

3412 
P
 (6, 80,

3413 (((((
uötmax_t
) 0x12bdU << 28 | 0xa25ba9aU)

3417 
UINTMAX_MAX
 / 4139)

3418 
P
 (14, 76,

3419 (((((
uötmax_t
) 0x98dfU << 28 | 0x642b264U)

3423 
UINTMAX_MAX
 / 4153)

3424 
P
 (4, 74,

3425 (((((
uötmax_t
) 0xcc45U << 28 | 0x381a1c7U)

3429 
UINTMAX_MAX
 / 4157)

3430 
P
 (2, 82,

3431 (((((
uötmax_t
) 0x1344U << 28 | 0x23b36d8U)

3435 
UINTMAX_MAX
 / 4159)

3436 
P
 (18, 66,

3437 (((((
uötmax_t
) 0xd614U << 28 | 0x399c587U)

3441 
UINTMAX_MAX
 / 4177)

3442 
P
 (24, 52,

3443 (((((
uötmax_t
) 0x5c04U << 28 | 0x24ce751U)

3447 
UINTMAX_MAX
 / 4201)

3448 
P
 (10, 48,

3449 (((((
uötmax_t
) 0xa4cfU << 28 | 0x6d1fac5U)

3453 
UINTMAX_MAX
 / 4211)

3454 
P
 (6, 44,

3455 (((((
uötmax_t
) 0x16b4U << 28 | 0x4c7d8a9U)

3459 
UINTMAX_MAX
 / 4217)

3460 
P
 (2, 52,

3461 (((((
uötmax_t
) 0x7d2dU << 28 | 0xb0c132cU)

3465 
UINTMAX_MAX
 / 4219)

3466 
P
 (10, 44,

3467 (((((
uötmax_t
) 0xc12aU << 28 | 0x5044c45U)

3471 
UINTMAX_MAX
 / 4229)

3472 
P
 (2, 52,

3473 (((((
uötmax_t
) 0x3b6aU << 28 | 0xabf51beU)

3477 
UINTMAX_MAX
 / 4231)

3478 
P
 (10, 48,

3479 (((((
uötmax_t
) 0x0b0bU << 28 | 0xe43ba38U)

3483 
UINTMAX_MAX
 / 4241)

3484 
P
 (2, 54,

3485 (((((
uötmax_t
) 0x1841U << 28 | 0x2954499U)

3489 
UINTMAX_MAX
 / 4243)

3490 
P
 (10, 74,

3491 (((((
uötmax_t
) 0x67e4U << 28 | 0x8d552c3U)

3495 
UINTMAX_MAX
 / 4253)

3496 
P
 (6, 78,

3497 (((((
uötmax_t
) 0xa030U << 28 | 0x161ea7bU)

3501 
UINTMAX_MAX
 / 4259)

3502 
P
 (2, 78,

3503 (((((
uötmax_t
) 0xf2a9U << 28 | 0x8b90bb7U)

3507 
UINTMAX_MAX
 / 4261)

3508 
P
 (10, 78,

3509 (((((
uötmax_t
) 0xa0c1U << 28 | 0xb926e68U)

3513 
UINTMAX_MAX
 / 4271)

3514 
P
 (2, 84,

3515 (((((
uötmax_t
) 0xc4edU << 28 | 0x7ccb753U)

3519 
UINTMAX_MAX
 / 4273)

3520 
P
 (10, 80,

3521 (((((
uötmax_t
) 0x5305U << 28 | 0xada2a32U)

3525 
UINTMAX_MAX
 / 4283)

3526 
P
 (6, 84,

3527 (((((
uötmax_t
) 0x0b38U << 28 | 0xa4bcd9fU)

3531 
UINTMAX_MAX
 / 4289)

3532 
P
 (8, 94,

3533 (((((
uötmax_t
) 0xc8f3U << 28 | 0x8c6bf3dU)

3537 
UINTMAX_MAX
 / 4297)

3538 
P
 (30, 70,

3539 (((((
uötmax_t
) 0x3ed4U << 28 | 0xdeb0e60U)

3543 
UINTMAX_MAX
 / 4327)

3544 
P
 (10, 72,

3545 (((((
uötmax_t
) 0xe304U << 28 | 0x8b8a2eaU)

3549 
UINTMAX_MAX
 / 4337)

3550 
P
 (2, 82,

3551 (((((
uötmax_t
) 0x63b5U << 28 | 0xa908ca7U)

3555 
UINTMAX_MAX
 / 4339)

3556 
P
 (10, 74,

3557 (((((
uötmax_t
) 0xd58fU << 28 | 0x1940b11U)

3561 
UINTMAX_MAX
 / 4349)

3562 
P
 (8, 84,

3563 (((((
uötmax_t
) 0xa973U << 28 | 0xcee1454U)

3567 
UINTMAX_MAX
 / 4357)

3568 
P
 (6, 84,

3569 (((((
uötmax_t
) 0xc544U << 28 | 0x1f37189U)

3573 
UINTMAX_MAX
 / 4363)

3574 
P
 (10, 78,

3575 (((((
uötmax_t
) 0xc201U << 28 | 0x49b4038U)

3579 
UINTMAX_MAX
 / 4373)

3580 
P
 (18, 66,

3581 (((((
uötmax_t
) 0xfcf7U << 28 | 0xe56a2a8U)

3585 
UINTMAX_MAX
 / 4391)

3586 
P
 (6, 66,

3587 (((((
uötmax_t
) 0xc364U << 28 | 0x3300862U)

3591 
UINTMAX_MAX
 / 4397)

3592 
P
 (12, 72,

3593 (((((
uötmax_t
) 0xa5f1U << 28 | 0xb76bd2bU)

3597 
UINTMAX_MAX
 / 4409)

3598 
P
 (12, 62,

3599 (((((
uötmax_t
) 0x9b97U << 28 | 0x89df750U)

3603 
UINTMAX_MAX
 / 4421)

3604 
P
 (2, 70,

3605 (((((
uötmax_t
) 0x612dU << 28 | 0xe5f44efU)

3609 
UINTMAX_MAX
 / 4423)

3610 
P
 (18, 66,

3611 (((((
uötmax_t
) 0x9811U << 28 | 0x1015369U)

3615 
UINTMAX_MAX
 / 4441)

3616 
P
 (6, 66,

3617 (((((
uötmax_t
) 0xa197U << 28 | 0x1cf4c64U)

3621 
UINTMAX_MAX
 / 4447)

3622 
P
 (4, 66,

3623 (((((
uötmax_t
) 0x0f02U << 28 | 0xeeeb01cU)

3627 
UINTMAX_MAX
 / 4451)

3628 
P
 (6, 62,

3629 (((((
uötmax_t
) 0x8d2eU << 28 | 0x94fe559U)

3633 
UINTMAX_MAX
 / 4457)

3634 
P
 (6, 60,

3635 (((((
uötmax_t
) 0xa84bU << 28 | 0xb74450fU)

3639 
UINTMAX_MAX
 / 4463)

3640 
P
 (18, 66,

3641 (((((
uötmax_t
) 0x495aU << 28 | 0xe4dcfaaU)

3645 
UINTMAX_MAX
 / 4481)

3646 
P
 (2, 66,

3647 (((((
uötmax_t
) 0x6837U << 28 | 0x46fb256U)

3651 
UINTMAX_MAX
 / 4483)

3652 
P
 (10, 68,

3653 (((((
uötmax_t
) 0xf6ffU << 28 | 0x5f8d222U)

3657 
UINTMAX_MAX
 / 4493)

3658 
P
 (14, 60,

3659 (((((
uötmax_t
) 0xd49aU << 28 | 0xb982b2bU)

3663 
UINTMAX_MAX
 / 4507)

3664 
P
 (6, 70,

3665 (((((
uötmax_t
) 0x2f4fU << 28 | 0x04983ffU)

3669 
UINTMAX_MAX
 / 4513)

3670 
P
 (4, 74,

3671 (((((
uötmax_t
) 0xadefU << 28 | 0x566dd5fU)

3675 
UINTMAX_MAX
 / 4517)

3676 
P
 (2, 78,

3677 (((((
uötmax_t
) 0xd118U << 28 | 0x137ccc9U)

3681 
UINTMAX_MAX
 / 4519)

3682 
P
 (4, 80,

3683 (((((
uötmax_t
) 0x01cfU << 28 | 0xa9f7f67U)

3687 
UINTMAX_MAX
 / 4523)

3688 
P
 (24, 74,

3689 (((((
uötmax_t
) 0x9c1fU << 28 | 0x4da38ddU)

3693 
UINTMAX_MAX
 / 4547)

3694 
P
 (2, 88,

3695 (((((
uötmax_t
) 0x41acU << 28 | 0x994bcdcU)

3699 
UINTMAX_MAX
 / 4549)

3700 
P
 (12, 78,

3701 (((((
uötmax_t
) 0x556dU << 28 | 0x480324aU)

3705 
UINTMAX_MAX
 / 4561)

3706 
P
 (6, 76,

3707 (((((
uötmax_t
) 0x9c39U << 28 | 0x2ce6456U)

3711 
UINTMAX_MAX
 / 4567)

3712 
P
 (16, 66,

3713 (((((
uötmax_t
) 0xcdc8U << 28 | 0x79fec56U)

3717 
UINTMAX_MAX
 / 4583)

3718 
P
 (8, 60,

3719 (((((
uötmax_t
) 0x375eU << 28 | 0xf621586U)

3723 
UINTMAX_MAX
 / 4591)

3724 
P
 (6, 60,

3725 (((((
uötmax_t
) 0x75c7U << 28 | 0xfa35597U)

3729 
UINTMAX_MAX
 / 4597)

3730 
P
 (6, 60,

3731 (((((
uötmax_t
) 0x4083U << 28 | 0xb2ce1ccU)

3735 
UINTMAX_MAX
 / 4603)

3736 
P
 (18, 52,

3737 (((((
uötmax_t
) 0x9d9cU << 28 | 0x64622aeU)

3741 
UINTMAX_MAX
 / 4621)

3742 
P
 (16, 42,

3743 (((((
uötmax_t
) 0x02b4U << 28 | 0x87cfdbcU)

3747 
UINTMAX_MAX
 / 4637)

3748 
P
 (2, 52,

3749 (((((
uötmax_t
) 0x32e1U << 28 | 0x4328c7fU)

3753 
UINTMAX_MAX
 / 4639)

3754 
P
 (4, 60,

3755 (((((
uötmax_t
) 0xf929U << 28 | 0xbd10602U)

3759 
UINTMAX_MAX
 / 4643)

3760 
P
 (6, 72,

3761 (((((
uötmax_t
) 0xa0bcU << 28 | 0x8b6d15cU)

3765 
UINTMAX_MAX
 / 4649)

3766 
P
 (2, 72,

3767 (((((
uötmax_t
) 0xf169U << 28 | 0xf4a94f1U)

3771 
UINTMAX_MAX
 / 4651)

3772 
P
 (6, 72,

3773 (((((
uötmax_t
) 0xafdaU << 28 | 0x2e10d23U)

3777 
UINTMAX_MAX
 / 4657)

3778 
P
 (6, 70,

3779 (((((
uötmax_t
) 0x70eeU << 28 | 0x0c3017bU)

3783 
UINTMAX_MAX
 / 4663)

3784 
P
 (10, 78,

3785 (((((
uötmax_t
) 0x2b47U << 28 | 0x45bd0e3U)

3789 
UINTMAX_MAX
 / 4673)

3790 
P
 (6, 80,

3791 (((((
uötmax_t
) 0x5aa8U << 28 | 0x9fc2b8dU)

3795 
UINTMAX_MAX
 / 4679)

3796 
P
 (12, 92,

3797 (((((
uötmax_t
) 0x834dU << 28 | 0x385f9c7U)

3801 
UINTMAX_MAX
 / 4691)

3802 
P
 (12, 84,

3803 (((((
uötmax_t
) 0xcbb0U << 28 | 0x86fea3aU)

3807 
UINTMAX_MAX
 / 4703)

3808 
P
 (18, 68,

3809 (((((
uötmax_t
) 0x4bceU << 28 | 0xc35242bU)

3813 
UINTMAX_MAX
 / 4721)

3814 
P
 (2, 70,

3815 (((((
uötmax_t
) 0x1cf1U << 28 | 0xbea1a20U)

3819 
UINTMAX_MAX
 / 4723)

3820 
P
 (6, 70,

3821 (((((
uötmax_t
) 0x530aU << 28 | 0xaa16d83U)

3825 
UINTMAX_MAX
 / 4729)

3826 
P
 (4, 68,

3827 (((((
uötmax_t
) 0x6dbeU << 28 | 0xc4fd598U)

3831 
UINTMAX_MAX
 / 4733)

3832 
P
 (18, 62,

3833 (((((
uötmax_t
) 0x9327U << 28 | 0xd1e0357U)

3837 
UINTMAX_MAX
 / 4751)

3838 
P
 (8, 58,

3839 (((((
uötmax_t
) 0xfe7eU << 28 | 0x69c1b53U)

3843 
UINTMAX_MAX
 / 4759)

3844 
P
 (24, 48,

3845 (((((
uötmax_t
) 0xdba8U << 28 | 0x6fc17c3U)

3849 
UINTMAX_MAX
 / 4783)

3850 
P
 (4, 74,

3851 (((((
uötmax_t
) 0x4928U << 28 | 0x7ba43b4U)

3855 
UINTMAX_MAX
 / 4787)

3856 
P
 (2, 82,

3857 (((((
uötmax_t
) 0xfd7cU << 28 | 0xd1c2bd5U)

3861 
UINTMAX_MAX
 / 4789)

3862 
P
 (4, 84,

3863 (((((
uötmax_t
) 0x1951U << 28 | 0x21b3d5eU)

3867 
UINTMAX_MAX
 / 4793)

3868 
P
 (6, 90,

3869 (((((
uötmax_t
) 0xced1U << 28 | 0x00e827bU)

3873 
UINTMAX_MAX
 / 4799)

3874 
P
 (2, 102,

3875 (((((
uötmax_t
) 0xe394U << 28 | 0x4a02e12U)

3879 
UINTMAX_MAX
 / 4801)

3880 
P
 (12, 96,

3881 (((((
uötmax_t
) 0x3e2dU << 28 | 0xa2eb33fU)

3885 
UINTMAX_MAX
 / 4813)

3886 
P
 (4, 102,

3887 (((((
uötmax_t
) 0xf205U << 28 | 0xd890fadU)

3891 
UINTMAX_MAX
 / 4817)

3892 
P
 (14, 100,

3893 (((((
uötmax_t
) 0x7974U << 28 | 0xa2271b8U)

3897 
UINTMAX_MAX
 / 4831)

3898 
P
 (30, 72,

3899 (((((
uötmax_t
) 0xf434U << 28 | 0x0837312U)

3903 
UINTMAX_MAX
 / 4861)

3904 
P
 (10, 66,

3905 (((((
uötmax_t
) 0x4c78U << 28 | 0x09ab985U)

3909 
UINTMAX_MAX
 / 4871)

3910 
P
 (6, 66,

3911 (((((
uötmax_t
) 0x9273U << 28 | 0x60376e4U)

3915 
UINTMAX_MAX
 / 4877)

3916 
P
 (12, 62,

3917 (((((
uötmax_t
) 0x47a1U << 28 | 0xbf627e6U)

3921 
UINTMAX_MAX
 / 4889)

3922 
P
 (14, 54,

3923 (((((
uötmax_t
) 0x3f55U << 28 | 0x93b5db8U)

3927 
UINTMAX_MAX
 / 4903)

3928 
P
 (6, 58,

3929 (((((
uötmax_t
) 0x29aaU << 28 | 0xc9d12b8U)

3933 
UINTMAX_MAX
 / 4909)

3934 
P
 (10, 50,

3935 (((((
uötmax_t
) 0x3c51U << 28 | 0x65394caU)

3939 
UINTMAX_MAX
 / 4919)

3940 
P
 (12, 42,

3941 (((((
uötmax_t
) 0xf258U << 28 | 0x91c808bU)

3945 
UINTMAX_MAX
 / 4931)

3946 
P
 (2, 54,

3947 (((((
uötmax_t
) 0x708fU << 28 | 0xa57e92aU)

3951 
UINTMAX_MAX
 / 4933)

3952 
P
 (4, 56,

3953 (((((
uötmax_t
) 0x983dU << 28 | 0xcf2775dU)

3957 
UINTMAX_MAX
 / 4937)

3958 
P
 (6, 56,

3959 (((((
uötmax_t
) 0x729cU << 28 | 0xb7c09bcU)

3963 
UINTMAX_MAX
 / 4943)

3964 
P
 (8, 255,

3965 (((((
uötmax_t
) 0xe8f0U << 28 | 0x5536727U)

3969 
UINTMAX_MAX
 / 4951)

3970 
P
 (6, 255,

3971 (((((
uötmax_t
) 0xbdf2U << 28 | 0x781fd01U)

3975 
UINTMAX_MAX
 / 4957)

3976 
P
 (10, 255,

3977 (((((
uötmax_t
) 0x0439U << 28 | 0xee5f8e3U)

3981 
UINTMAX_MAX
 / 4967)

3982 
P
 (2, 255,

3983 (((((
uötmax_t
) 0x77adU << 28 | 0xfb283c9U)

3987 
UINTMAX_MAX
 / 4969)

3988 
P
 (4, 255,

3989 (((((
uötmax_t
) 0x5d7bU << 28 | 0xe851f3fU)

3993 
UINTMAX_MAX
 / 4973)

3994 
P
 (14, 255,

3995 (((((
uötmax_t
) 0x373cU << 28 | 0x1c8a99bU)

3999 
UINTMAX_MAX
 / 4987)

4000 
P
 (6, 255,

4001 (((((
uötmax_t
) 0x5b50U << 28 | 0xa687decU)

4005 
UINTMAX_MAX
 / 4993)

4006 
P
 (6, 255,

4007 (((((
uötmax_t
) 0x0b44U << 28 | 0x292c4bfU)

4011 
UINTMAX_MAX
 / 4999)

4013 #unde‡
FIRST_OMITTED_PRIME


4014 
	#FIRST_OMITTED_PRIME
 5003

	)

	@printenv.c

30 
	~<c⁄fig.h
>

31 
	~<°dio.h
>

32 
	~<sys/ty≥s.h
>

33 
	~<gë›t.h
>

35 
	~"sy°em.h
"

38 íum { 
	mPRINTENV_FAILURE
 = 2 };

41 
	#PROGRAM_NAME
 "¥öãnv"

	)

43 
	#AUTHORS
 \

44 
	`¥›î_«me
 ("David MacKenzie"), \

45 
	`¥›î_«me
 ("Rich¨d Mly«rik")

	)

47 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

49 {"nuŒ", 
no_¨gumít
, 
NULL
, '0'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$ußge
 (
°©us
)

58 i‡(
°©us
 !
EXIT_SUCCESS
)

59 
	`emô_åy_hñp
 ();

62 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [VARIABLE]...\n\
Åhe values ofÅhe specifiedÉnvironment VARIABLE(s).\n\
Ço VARIABLE is specified,ÖrintÇameánd valueÖairs forÅhemáll.\n\
\n\
"),

68 
¥ogøm_«me
);

69 
	`Âuts
 (
	`_
("\
-0, --nuŒÉndÉach ouçuàlöêwôh 0 byãÑ©hîÅh™Çewlöe\n\
"), 
°dout
);

72 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

73 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

74 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

75 
	`emô_™cûœry_öfo
 ();

77 
	`exô
 (
°©us
);

78 
	}
}

81 
	$maö
 (
¨gc
, **
¨gv
)

83 **
ív
;

84 *
ï
, *
≠
;

85 
i
;

86 
boﬁ
 
ok
;

87 
›tc
;

88 
boﬁ
 
›t_nul_ãrmö©e_ouçut
 = 
Ál£
;

90 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

91 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

92 
	`£éoˇÀ
 (
LC_ALL
, "");

93 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

94 
	`ãxtdomaö
 (
PACKAGE
);

96 
	`öôülize_exô_Áûuª
 (
PRINTENV_FAILURE
);

97 
	`©exô
 (
˛o£_°dout
);

99 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+iu:0", 
l⁄g›ts
, 
NULL
)) != -1)

101 
›tc
)

104 
›t_nul_ãrmö©e_ouçut
 = 
åue
;

106 
ˇ£_GETOPT_HELP_CHAR
;

107 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

109 
	`ußge
 (
PRINTENV_FAILURE
);

113 i‡(
›töd
 >
¨gc
)

115 
ív
 = 
ívú⁄
; *ív !
NULL
; ++env)

116 
	`¥ötf
 ("%s%c", *
ív
, 
›t_nul_ãrmö©e_ouçut
 ? '\0' : '\n');

117 
ok
 = 
åue
;

121 
m©ches
 = 0;

123 
i
 = 
›töd
; i < 
¨gc
; ++i)

125 
boﬁ
 
m©ched
 = 
Ál£
;

128 i‡(
	`°rchr
 (
¨gv
[
i
], '='))

131 
ív
 = 
ívú⁄
; *env; ++env)

133 
ï
 = *
ív
;

134 
≠
 = 
¨gv
[
i
];

135 *
ï
 !'\0' && *
≠
 != '\0' && *ep++ == *ap++)

137 i‡(*
ï
 ='=' && *
≠
 == '\0')

139 
	`¥ötf
 ("%s%c", 
ï
 + 1,

140 
›t_nul_ãrmö©e_ouçut
 ? '\0' : '\n');

141 
m©ched
 = 
åue
;

147 
m©ches
 +
m©ched
;

150 
ok
 = (
m©ches
 =
¨gc
 - 
›töd
);

153 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

154 
	}
}

	@printf.c

49 
	~<c⁄fig.h
>

50 
	~<°dio.h
>

51 
	~<sys/ty≥s.h
>

53 
	~"sy°em.h
"

54 
	~"c-°πod.h
"

55 
	~"îr‹.h
"

56 
	~"quŸe.h
"

57 
	~"unicodeio.h
"

58 
	~"x¥ötf.h
"

61 
	#PROGRAM_NAME
 "¥ötf"

	)

63 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

65 
	#isodigô
(
c
Ë((cË>'0' && (cË<'7')

	)

66 
	#hextobö
(
c
) ((c) >= 'a' && (c) <= 'f' ? (c) - 'a' + 10 : \

67 (
c
Ë>'A' && (cË<'F' ? (cË- 'A' + 10 : (cË- '0')

	)

68 
	#o˘tobö
(
c
Ë((cË- '0')

	)

71 
	gexô_°©us
;

74 
boﬁ
 
	gposixly_c‹ª˘
;

78 c⁄° *c⁄° 
	gcfcc_msg
 =

79 
N_
("warning: %s: character(s) following character constant have been ignored");

82 
	$ußge
 (
°©us
)

84 i‡(
°©us
 !
EXIT_SUCCESS
)

85 
	`emô_åy_hñp
 ();

88 
	`¥ötf
 (
	`_
("\
: %s FORMAT [ARGUMENT]...\n\
: %s OPTION\n\
"),

92 
¥ogøm_«me
,Örogram_name);

93 
	`Âuts
 (
	`_
("\
 ARGUMENT(sËacc‹dögÅÿFORMAT, o∏execuãácc‹dögÅÿOPTION:\n\
\n\
"), 
°dout
);

97 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

98 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

99 
	`Âuts
 (
	`_
("\
\n\
 c⁄åﬁ†thêouçuàa†ö CÖrötf. I¡î¥ëed sequí˚†¨e:\n\
\n\
\\\" doubÀ quŸe\n\
"), 
°dout
);

105 
	`Âuts
 (
	`_
("\
\\\\ back¶ash\n\
\\®áÀπ (BEL)\n\
\\b back•a˚\n\
\\¯Örodu˚Çÿfuπhî ouçut\n\
\\êÉsˇ≥\n\
\\‡ f‹m fìd\n\
\\¿ÇewÜöe\n\
\\∏ c¨rügêªtu∫\n\
\\à h‹iz⁄è»èb\n\
\\v vîtiˇ»èb\n\
"), 
°dout
);

117 
	`Âuts
 (
	`_
("\
\\NNN byã wôh o˘Æ vÆuêNNN (1Åÿ3 digôs)\n\
\\xHH byã wôh hexadecimÆ vÆuêHH (1Åÿ2 digôs)\n\
\\uHHHH Unicodê(ISO/IEC 10646Ëch¨a˘î wôh hex vÆuêHHHH (4 digôs)\n\
\\UHHHHHHHH Unicodêch¨a˘î wôh hex vÆuêHHHHHHHH (8 digôs)\n\
"), 
°dout
);

123 
	`Âuts
 (
	`_
("\
%%á sögÀ %\n\
%b ARGUMENTá†®°rög wôh '\\'Ésˇ≥†öãΩªãd,\n\
Åh© o˘ÆÉsˇ≥†¨êo‡thêf‹m \\0 o∏\\0NNN\n\
\n\
áŒ C f‹m© s≥cifiˇti⁄†ídög wôh o√ o‡diouxX„EgGcs, wôh\n\
 c⁄vîãdÅÿ¥›îÅy≥ fú°. V¨übÀ width†¨êh™dÀd.\n\
"), 
°dout
);

131 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

132 
	`emô_™cûœry_öfo
 ();

134 
	`exô
 (
°©us
);

135 
	}
}

138 
	$vîify_numîic
 (c⁄° *
s
, c⁄° *
íd
)

140 i‡(
î∫o
)

142 
	`îr‹
 (0, 
î∫o
, "%s", 
s
);

143 
exô_°©us
 = 
EXIT_FAILURE
;

145 i‡(*
íd
)

147 i‡(
s
 =
íd
)

148 
	`îr‹
 (0, 0, 
	`_
("%s:Éx≥˘edáÇumîi¯vÆue"), 
s
);

150 
	`îr‹
 (0, 0, 
	`_
("%s: vÆuênŸ com∂ëñy c⁄vîãd"), 
s
);

151 
exô_°©us
 = 
EXIT_FAILURE
;

153 
	}
}

155 
	#STRTOX
(
TYPE
, 
FUNC_NAME
, 
LIB_FUNC_EXPR
) \

156 
TYPE
 \

157 
	`FUNC_NAME
 (c⁄° *
s
) \

159 *
íd
; \

160 
TYPE
 
vÆ
; \

162 i‡((*
s
 == '\"' || *s == '\'') && *(s + 1)) \

164 
ch
 = *++
s
; \

165 
vÆ
 = 
ch
; \

170 i‡(*++
s
 !0 && !
posixly_c‹ª˘
) \

171 
	`îr‹
 (0, 0, 
	`_
(
cfcc_msg
), 
s
); \

175 
î∫o
 = 0; \

176 
vÆ
 = (
LIB_FUNC_EXPR
); \

177 
	`vîify_numîic
 (
s
, 
íd
); \

179  
vÆ
; \

181 

	)

182 
STRTOX
 (
ötmax_t
, 
v°πoimax
, 
	$°πoimax
 (
s
, &
íd
, 0))

183 
	`STRTOX
 (
uötmax_t
, 
v°πoumax
, 
	$°πoumax
 (
s
, &
íd
, 0))

184 
	`STRTOX
 (, 
v°πﬁd
, 
	$c_°πﬁd
 (
s
, &
íd
))

189 
	$¥öt_esc_ch¨
 (
c
)

191 
c
)

194 
	`putch¨
 ('\a');

197 
	`putch¨
 ('\b');

200 
	`exô
 (
EXIT_SUCCESS
);

203 
	`putch¨
 ('\x1B');

206 
	`putch¨
 ('\f');

209 
	`putch¨
 ('\n');

212 
	`putch¨
 ('\r');

215 
	`putch¨
 ('\t');

218 
	`putch¨
 ('\v');

221 
	`putch¨
 (
c
);

224 
	}
}

233 
	$¥öt_esc
 (c⁄° *
esc°¨t
, 
boﬁ
 
o˘Æ_0
)

235 c⁄° *
p
 = 
esc°¨t
 + 1;

236 
esc_vÆue
 = 0;

237 
esc_Àngth
;

239 i‡(*
p
 == 'x')

242 
esc_Àngth
 = 0, ++
p
;

243 
esc_Àngth
 < 2 && 
	`isxdigô
 (
	`to_uch¨
 (*
p
));

244 ++
esc_Àngth
, ++
p
)

245 
esc_vÆue
 =Ésc_vÆuê* 16 + 
	`hextobö
 (*
p
);

246 i‡(
esc_Àngth
 == 0)

247 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("missing hexadecimalÇumber inÉscape"));

248 
	`putch¨
 (
esc_vÆue
);

250 i‡(
	`isodigô
 (*
p
))

255 
esc_Àngth
 = 0, 
p
 +
o˘Æ_0
 && *p == '0';

256 
esc_Àngth
 < 3 && 
	`isodigô
 (*
p
);

257 ++
esc_Àngth
, ++
p
)

258 
esc_vÆue
 =Ésc_vÆuê* 8 + 
	`o˘tobö
 (*
p
);

259 
	`putch¨
 (
esc_vÆue
);

261 i‡(*
p
 && 
	`°rchr
 ("\"\\abcefnrtv", *p))

262 
	`¥öt_esc_ch¨
 (*
p
++);

263 i‡(*
p
 == 'u' || *p == 'U')

265 
esc_ch¨
 = *
p
;

266 
uni_vÆue
;

268 
uni_vÆue
 = 0;

269 
esc_Àngth
 = (
esc_ch¨
 ='u' ? 4 : 8), ++
p
;

270 
esc_Àngth
 > 0;

271 --
esc_Àngth
, ++
p
)

273 i‡(! 
	`isxdigô
 (
	`to_uch¨
 (*
p
)))

274 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("missing hexadecimalÇumber inÉscape"));

275 
uni_vÆue
 = uni_vÆuê* 16 + 
	`hextobö
 (*
p
);

283 i‡((
uni_vÆue
 <= 0x9f

284 && 
uni_vÆue
 != 0x24 && uni_value != 0x40 && uni_value != 0x60)

285 || (
uni_vÆue
 >= 0xd800 && uni_value <= 0xdfff))

286 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid universal characterÇame \\%c%0*x"),

287 
esc_ch¨
, (esc_ch¨ ='u' ? 4 : 8), 
uni_vÆue
);

289 
	`¥öt_unicode_ch¨
 (
°dout
, 
uni_vÆue
, 0);

293 
	`putch¨
 ('\\');

294 i‡(*
p
)

296 
	`putch¨
 (*
p
);

297 
p
++;

300  
p
 - 
esc°¨t
 - 1;

301 
	}
}

306 
	$¥öt_esc_°rög
 (c⁄° *
°r
)

308 ; *
°r
; str++)

309 i‡(*
°r
 == '\\')

310 
°r
 +
	`¥öt_esc
 (°r, 
åue
);

312 
	`putch¨
 (*
°r
);

313 
	}
}

324 
	$¥öt_dúec
 (c⁄° *
°¨t
, 
size_t
 
Àngth
, 
c⁄vîsi⁄
,

325 
boﬁ
 
have_fõld_width
, 
fõld_width
,

326 
boﬁ
 
have_¥ecisi⁄
, 
¥ecisi⁄
,

327 c⁄° *
¨gumít
)

329 *
p
;

335 *
q
;

336 c⁄° *
Àngth_modifõr
;

337 
size_t
 
Àngth_modifõr_Àn
;

339 
c⁄vîsi⁄
)

342 
Àngth_modifõr
 = 
PRIdMAX
;

343 
Àngth_modifõr_Àn
 =  
PRIdMAX
 - 2;

348 
Àngth_modifõr
 = "L";

349 
Àngth_modifõr_Àn
 = 1;

353 
Àngth_modifõr
 = 
°¨t
;

354 
Àngth_modifõr_Àn
 = 0;

358 
p
 = 
	`xmÆloc
 (
Àngth
 + 
Àngth_modifõr_Àn
 + 2);

359 
q
 = 
	`memp˝y
 (
p
, 
°¨t
, 
Àngth
);

360 
q
 = 
	`memp˝y
 (q, 
Àngth_modifõr
, 
Àngth_modifõr_Àn
);

361 *
q
++ = 
c⁄vîsi⁄
;

362 *
q
 = '\0';

365 
c⁄vîsi⁄
)

370 
ötmax_t
 
¨g
 = 
	`v°πoimax
 (
¨gumít
);

371 i‡(!
have_fõld_width
)

373 i‡(!
have_¥ecisi⁄
)

374 
	`x¥ötf
 (
p
, 
¨g
);

376 
	`x¥ötf
 (
p
, 
¥ecisi⁄
, 
¨g
);

380 i‡(!
have_¥ecisi⁄
)

381 
	`x¥ötf
 (
p
, 
fõld_width
, 
¨g
);

383 
	`x¥ötf
 (
p
, 
fõld_width
, 
¥ecisi⁄
, 
¨g
);

393 
uötmax_t
 
¨g
 = 
	`v°πoumax
 (
¨gumít
);

394 i‡(!
have_fõld_width
)

396 i‡(!
have_¥ecisi⁄
)

397 
	`x¥ötf
 (
p
, 
¨g
);

399 
	`x¥ötf
 (
p
, 
¥ecisi⁄
, 
¨g
);

403 i‡(!
have_¥ecisi⁄
)

404 
	`x¥ötf
 (
p
, 
fõld_width
, 
¨g
);

406 
	`x¥ötf
 (
p
, 
fõld_width
, 
¥ecisi⁄
, 
¨g
);

420 
¨g
 = 
	`v°πﬁd
 (
¨gumít
);

421 i‡(!
have_fõld_width
)

423 i‡(!
have_¥ecisi⁄
)

424 
	`x¥ötf
 (
p
, 
¨g
);

426 
	`x¥ötf
 (
p
, 
¥ecisi⁄
, 
¨g
);

430 i‡(!
have_¥ecisi⁄
)

431 
	`x¥ötf
 (
p
, 
fõld_width
, 
¨g
);

433 
	`x¥ötf
 (
p
, 
fõld_width
, 
¥ecisi⁄
, 
¨g
);

439 i‡(!
have_fõld_width
)

440 
	`x¥ötf
 (
p
, *
¨gumít
);

442 
	`x¥ötf
 (
p
, 
fõld_width
, *
¨gumít
);

446 i‡(!
have_fõld_width
)

448 i‡(!
have_¥ecisi⁄
)

449 
	`x¥ötf
 (
p
, 
¨gumít
);

451 
	`x¥ötf
 (
p
, 
¥ecisi⁄
, 
¨gumít
);

455 i‡(!
have_¥ecisi⁄
)

456 
	`x¥ötf
 (
p
, 
fõld_width
, 
¨gumít
);

458 
	`x¥ötf
 (
p
, 
fõld_width
, 
¥ecisi⁄
, 
¨gumít
);

463 
	`‰ì
 (
p
);

464 
	}
}

471 
	$¥öt_f‹m©ãd
 (c⁄° *
f‹m©
, 
¨gc
, **
¨gv
)

473 
ßve_¨gc
 = 
¨gc
;

474 c⁄° *
f
;

475 c⁄° *
dúec_°¨t
;

476 
size_t
 
dúec_Àngth
;

477 
boﬁ
 
have_fõld_width
;

478 
fõld_width
 = 0;

479 
boﬁ
 
have_¥ecisi⁄
;

480 
¥ecisi⁄
 = 0;

481 
ok
[
UCHAR_MAX
 + 1];

483 
f
 = 
f‹m©
; *f; ++f)

485 *
f
)

488 
dúec_°¨t
 = 
f
++;

489 
dúec_Àngth
 = 1;

490 
have_fõld_width
 = 
have_¥ecisi⁄
 = 
Ál£
;

491 i‡(*
f
 == '%')

493 
	`putch¨
 ('%');

496 i‡(*
f
 == 'b')

500 i‡(
¨gc
 > 0)

502 
	`¥öt_esc_°rög
 (*
¨gv
);

503 ++
¨gv
;

504 --
¨gc
;

509 
	`mem£t
 (
ok
, 0,  ok);

510 
ok
['a'] = ok['A'] = ok['c'] = ok['d'] = ok['e'] = ok['E'] =

511 
ok
['f'] = ok['F'] = ok['g'] = ok['G'] = ok['i'] = ok['o'] =

512 
ok
['s'] = ok['u'] = ok['x'] = ok['X'] = 1;

514 ;; 
f
++, 
dúec_Àngth
++)

515 *
f
)

517 #i‡(
__GLIBC__
 =2 && 2 <
__GLIBC_MINOR__
) || 3 <= __GLIBC__

521 
ok
['a'] = ok['A'] = ok['c'] = ok['e'] = ok['E'] =

522 
ok
['o'] = ok['s'] = ok['x'] = ok['X'] = 0;

527 
ok
['c'] = ok['d'] = ok['i'] = ok['s'] = ok['u'] = 0;

530 
ok
['c'] = ok['s'] = 0;

533 
no_m‹e_Êag_ch¨a˘îs
;

535 
no_m‹e_Êag_ch¨a˘îs
:

537 i‡(*
f
 == '*')

539 ++
f
;

540 ++
dúec_Àngth
;

541 i‡(
¨gc
 > 0)

543 
ötmax_t
 
width
 = 
	`v°πoimax
 (*
¨gv
);

544 i‡(
INT_MIN
 <
width
 && width <
INT_MAX
)

545 
fõld_width
 = 
width
;

547 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid field width: %s"),

548 *
¨gv
);

549 ++
¨gv
;

550 --
¨gc
;

553 
fõld_width
 = 0;

554 
have_fõld_width
 = 
åue
;

557 
	`ISDIGIT
 (*
f
))

559 ++
f
;

560 ++
dúec_Àngth
;

562 i‡(*
f
 == '.')

564 ++
f
;

565 ++
dúec_Àngth
;

566 
ok
['c'] = 0;

567 i‡(*
f
 == '*')

569 ++
f
;

570 ++
dúec_Àngth
;

571 i‡(
¨gc
 > 0)

573 
ötmax_t
 
¥ec
 = 
	`v°πoimax
 (*
¨gv
);

574 i‡(
¥ec
 < 0)

579 
¥ecisi⁄
 = -1;

581 i‡(
INT_MAX
 < 
¥ec
)

582 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalidÖrecision: %s"),

583 *
¨gv
);

585 
¥ecisi⁄
 = 
¥ec
;

586 ++
¨gv
;

587 --
¨gc
;

590 
¥ecisi⁄
 = 0;

591 
have_¥ecisi⁄
 = 
åue
;

594 
	`ISDIGIT
 (*
f
))

596 ++
f
;

597 ++
dúec_Àngth
;

601 *
f
 == 'l' || *f == 'L' || *f == 'h'

602 || *
f
 == 'j' || *f == 't' || *f == 'z')

603 ++
f
;

606 
c⁄vîsi⁄
 = *
f
;

607 i‡(! 
ok
[
c⁄vîsi⁄
])

608 
	`îr‹
 (
EXIT_FAILURE
, 0,

609 
	`_
("%.*s: invalid conversion specification"),

610 (Ë(
f
 + 1 - 
dúec_°¨t
), direc_start);

613 
	`¥öt_dúec
 (
dúec_°¨t
, 
dúec_Àngth
, *
f
,

614 
have_fõld_width
, 
fõld_width
,

615 
have_¥ecisi⁄
, 
¥ecisi⁄
,

616 (
¨gc
 <0 ? "" : (¨gc--, *
¨gv
++)));

620 
f
 +
	`¥öt_esc
 (f, 
Ál£
);

624 
	`putch¨
 (*
f
);

628  
ßve_¨gc
 - 
¨gc
;

629 
	}
}

632 
	$maö
 (
¨gc
, **
¨gv
)

634 *
f‹m©
;

635 
¨gs_u£d
;

637 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

638 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

639 
	`£éoˇÀ
 (
LC_ALL
, "");

640 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

641 
	`ãxtdomaö
 (
PACKAGE
);

643 
	`©exô
 (
˛o£_°dout
);

645 
exô_°©us
 = 
EXIT_SUCCESS
;

647 
posixly_c‹ª˘
 = (
	`gëív
 ("POSIXLY_CORRECT"Ë!
NULL
);

651 i‡(
¨gc
 == 2)

653 i‡(
	`STREQ
 (
¨gv
[1], "--help"))

654 
	`ußge
 (
EXIT_SUCCESS
);

656 i‡(
	`STREQ
 (
¨gv
[1], "--version"))

658 
	`vîsi⁄_ëc
 (
°dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
, 
AUTHORS
,

659 (*Ë
NULL
);

660 
	`exô
 (
EXIT_SUCCESS
);

666 i‡(1 < 
¨gc
 && 
	`STREQ
 (
¨gv
[1], "--"))

668 --
¨gc
;

669 ++
¨gv
;

672 i‡(
¨gc
 <= 1)

674 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

675 
	`ußge
 (
EXIT_FAILURE
);

678 
f‹m©
 = 
¨gv
[1];

679 
¨gc
 -= 2;

680 
¨gv
 += 2;

684 
¨gs_u£d
 = 
	`¥öt_f‹m©ãd
 (
f‹m©
, 
¨gc
, 
¨gv
);

685 
¨gc
 -
¨gs_u£d
;

686 
¨gv
 +
¨gs_u£d
;

688 
¨gs_u£d
 > 0 && 
¨gc
 > 0);

690 i‡(
¨gc
 > 0)

691 
	`îr‹
 (0, 0,

692 
	`_
("warning: ignoringÉxcessárguments, starting with %s"),

693 
	`quŸe
 (
¨gv
[0]));

695 
	`exô
 (
exô_°©us
);

696 
	}
}

	@prog-fprintf.c

17 
	~<c⁄fig.h
>

18 
	~<°d¨g.h
>

19 
	~<sys/ty≥s.h
>

21 
	~"sy°em.h
"

23 
	~"¥og-Ârötf.h
"

28 
	$¥og_Ârötf
 (
FILE
 *
Â
, c⁄° *
fmt
, ...)

30 
va_li°
 
≠
;

31 
	`Âuts
 (
¥ogøm_«me
, 
Â
);

32 
	`Âuts
 (": ", 
Â
);

33 
	`va_°¨t
 (
≠
, 
fmt
);

34 
	`vÂrötf
 (
Â
, 
fmt
, 
≠
);

35 
	`va_íd
 (
≠
);

36 
	`Âutc
 ('\n', 
Â
);

37 
	}
}

	@prog-fprintf.h

17 #i‚de‡
PROG_FPRINTF_H


18 
	#PROG_FPRINTF_H


	)

20 
	~<°dio.h
>

22 
	$¥og_Ârötf
 (
FILE
 *
Â
, c⁄° *
fmt
, ...)

23 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

	@ptx.c

20 
	~<c⁄fig.h
>

22 
	~<gë›t.h
>

23 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~<ªgex.h
>

26 
	~"¨gm©ch.h
"

27 
	~"dü¸ô.h
"

28 
	~"îr‹.h
"

29 
	~"Ádvi£.h
"

30 
	~"quŸe.h
"

31 
	~"quŸórg.h
"

32 
	~"ªad-fûe.h
"

33 
	~"°dio--.h
"

34 
	~"x°πﬁ.h
"

37 
	#PROGRAM_NAME
 "±x"

	)

42 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("F. Pö¨d", "Føn\xc3\xa7oi†Pö¨d")

	)

45 
	#CHAR_SET_SIZE
 256

	)

47 
	#ISODIGIT
(
C
Ë((CË>'0' && (CË<'7')

	)

48 
	#HEXTOBIN
(
C
) ((C) >= 'a' && (C) <= 'f' ? (C)-'a'+10 \

49 : (
C
Ë>'A' && (CË<'F' ? (C)-'A'+10 : (C)-'0')

	)

50 
	#OCTTOBIN
(
C
Ë((CË- '0')

	)

54 #i‡
WITH_DMALLOC


55 
	#MALLOC_FUNC_CHECK
 1

	)

56 
	~<dmÆloc.h
>

68 
	eF‹m©


70 
	mUNKNOWN_FORMAT
,

71 
	mDUMB_FORMAT
,

72 
	mROFF_FORMAT
,

73 
	mTEX_FORMAT


76 
boﬁ
 
	ggnu_exãnsi⁄s
 = 
åue
;

77 
boﬁ
 
	gauto_ª„ªn˚
 = 
Ál£
;

78 
boﬁ
 
	göput_ª„ªn˚
 = 
Ál£
;

79 
boﬁ
 
	gright_ª„ªn˚
 = 
Ál£
;

80 
	glöe_width
 = 72;

81 
	gg≠_size
 = 3;

82 c⁄° *
	gåunˇti⁄_°rög
 = "/";

84 c⁄° *
	gma¸o_«me
 = "xx";

85 
F‹m©
 
	gouçut_f‹m©
 = 
UNKNOWN_FORMAT
;

88 
boﬁ
 
	gign‹e_ˇ£
 = 
Ál£
;

89 c⁄° *
	gbªak_fûe
 = 
NULL
;

90 c⁄° *
	g⁄ly_fûe
 = 
NULL
;

91 c⁄° *
	gign‹e_fûe
 = 
NULL
;

94 
	sªgex_d©a


97 c⁄° *
	m°rög
;

100 
ª_∑âîn_buf„r
 
	m∑âîn
;

101 
	mÁ°m≠
[
UCHAR_MAX
 + 1];

104 
ªgex_d©a
 
	gc⁄ãxt_ªgex
;

105 
ªgex_d©a
 
	gw‹d_ªgex
;

113 *
	m°¨t
;

114 *
	míd
;

116 
	tBLOCK
;

120 *
	m°¨t
;

121 
	msize
;

123 
	tWORD
;

127 
WORD
 *
	m°¨t
;

128 
size_t
 
	mÆloc
;

129 
size_t
 
	mÀngth
;

131 
	tWORD_TABLE
;

136 
	gfﬁded_ch¨s
[
CHAR_SET_SIZE
];

139 
ª_ªgi°îs
 
	gc⁄ãxt_ªgs
;

142 
ª_ªgi°îs
 
	gw‹d_ªgs
;

149 
	gw‹d_Á°m≠
[
CHAR_SET_SIZE
];

152 
	gmaximum_w‹d_Àngth
;

155 
	gª„ªn˚_max_width
;

159 
WORD_TABLE
 
	gign‹e_èbÀ
;

160 
WORD_TABLE
 
	g⁄ly_èbÀ
;

164 
	gnumbî_öput_fûes
;

165 
	gtŸÆ_löe_cou¡
;

166 c⁄° **
	göput_fûe_«me
;

167 *
	gfûe_löe_cou¡
;

169 
BLOCK
 
	gãxt_buf„r
;

173 
	#SKIP_NON_WHITE
(
curs‹
, 
limô
) \

174 
curs‹
 < 
limô
 && ! 
	`is•a˚
 (
	`to_uch¨
 (*cursor))) \

175 
curs‹
++

	)

177 
	#SKIP_WHITE
(
curs‹
, 
limô
) \

178 
curs‹
 < 
limô
 && 
	`is•a˚
 (
	`to_uch¨
 (*cursor))) \

179 
curs‹
++

	)

181 
	#SKIP_WHITE_BACKWARDS
(
curs‹
, 
°¨t
) \

182 
curs‹
 > 
°¨t
 && 
	`is•a˚
 (
	`to_uch¨
 (cursor[-1]))) \

183 
curs‹
--

	)

185 
	#SKIP_SOMETHING
(
curs‹
, 
limô
) \

186 i‡(
w‹d_ªgex
.
°rög
) \

188 
ªgoff_t
 
cou¡
; \

189 
cou¡
 = 
	`ª_m©ch
 (&
w‹d_ªgex
.
∑âîn
, 
curs‹
, 
limô
 - curs‹, 0, 
NULL
); \

190 i‡(
cou¡
 == -2) \

191 
	`m©chî_îr‹
 (); \

192 
curs‹
 +
cou¡
 == -1 ? 1 : count; \

194 i‡(
w‹d_Á°m≠
[
	`to_uch¨
 (*
curs‹
)]) \

195 
curs‹
 < 
limô
 && 
w‹d_Á°m≠
[
	`to_uch¨
 (*cursor)]) \

196 
curs‹
++; \

198 
curs‹
++

	)

227 
	tDELTA
;

231 
WORD
 
	mkey
;

232 
DELTA
 
	mÀ·
;

233 
DELTA
 
	mright
;

234 
	mª„ªn˚
;

236 
	tOCCURS
;

241 
OCCURS
 *
	goccurs_èbÀ
[1];

242 
size_t
 
	goccurs_Æloc
[1];

243 
size_t
 
	gnumbî_of_occurs
[1];

249 
	gedôed_Êag
[
CHAR_SET_SIZE
];

251 
	ghÆf_löe_width
;

252 
	gbef‹e_max_width
;

253 
	gkeya·î_max_width
;

254 
	gåunˇti⁄_°rög_Àngth
;

262 
BLOCK
 
	gèû
;

263 
	gèû_åunˇti⁄
;

265 
BLOCK
 
	gbef‹e
;

266 
	gbef‹e_åunˇti⁄
;

268 
BLOCK
 
	gkeya·î
;

269 
	gkeya·î_åunˇti⁄
;

271 
BLOCK
 
	ghód
;

272 
	ghód_åunˇti⁄
;

274 
BLOCK
 
	gª„ªn˚
;

280 
ATTRIBUTE_NORETURN


281 
	$m©chî_îr‹
 ()

283 
	`îr‹
 (0, 
î∫o
, 
	`_
("error inÑegularÉxpression matcher"));

284 
	`exô
 (
EXIT_FAILURE
);

285 
	}
}

294 
	$c›y_u√sˇ≥d_°rög
 (c⁄° *
°rög
)

296 *
ªsu…
;

297 *
curs‹
;

298 
vÆue
;

299 
Àngth
;

301 
ªsu…
 = 
	`xmÆloc
 (
	`°æí
 (
°rög
) + 1);

302 
curs‹
 = 
ªsu…
;

304 *
°rög
)

306 i‡(*
°rög
 == '\\')

308 
°rög
++;

309 *
°rög
)

312 
vÆue
 = 0;

313 
Àngth
 = 0, 
°rög
++;

314 
Àngth
 < 3 && 
	`isxdigô
 (
	`to_uch¨
 (*
°rög
));

315 
Àngth
++, 
°rög
++)

316 
vÆue
 = vÆuê* 16 + 
	`HEXTOBIN
 (*
°rög
);

317 i‡(
Àngth
 == 0)

319 *
curs‹
++ = '\\';

320 *
curs‹
++ = 'x';

323 *
curs‹
++ = 
vÆue
;

327 
vÆue
 = 0;

328 
Àngth
 = 0, 
°rög
++;

329 
Àngth
 < 3 && 
	`ISODIGIT
 (*
°rög
);

330 
Àngth
++, 
°rög
++)

331 
vÆue
 = vÆuê* 8 + 
	`OCTTOBIN
 (*
°rög
);

332 *
curs‹
++ = 
vÆue
;

336 #i‡
__STDC__


337 *
curs‹
++ = '\a';

339 *
curs‹
++ = 7;

341 
°rög
++;

345 *
curs‹
++ = '\b';

346 
°rög
++;

350 *
°rög
)

351 
°rög
++;

355 *
curs‹
++ = '\f';

356 
°rög
++;

360 *
curs‹
++ = '\n';

361 
°rög
++;

365 *
curs‹
++ = '\r';

366 
°rög
++;

370 *
curs‹
++ = '\t';

371 
°rög
++;

375 #i‡
__STDC__


376 *
curs‹
++ = '\v';

378 *
curs‹
++ = 11;

380 
°rög
++;

388 *
curs‹
++ = '\\';

389 *
curs‹
++ = *
°rög
++;

394 *
curs‹
++ = *
°rög
++;

397 *
curs‹
 = '\0';

398  
ªsu…
;

399 
	}
}

406 
	$compûe_ªgex
 (
ªgex_d©a
 *
ªgex
)

408 
ª_∑âîn_buf„r
 *
∑âîn
 = &
ªgex
->pattern;

409 c⁄° *
°rög
 = 
ªgex
->string;

410 c⁄° *
mesßge
;

412 
∑âîn
->
buf„r
 = 
NULL
;

413 
∑âîn
->
Æloˇãd
 = 0;

414 
∑âîn
->
Á°m≠
 = 
ªgex
->fastmap;

415 
∑âîn
->
å™¶©e
 = 
ign‹e_ˇ£
 ? 
fﬁded_ch¨s
 : 
NULL
;

417 
mesßge
 = 
	`ª_compûe_∑âîn
 (
°rög
, 
	`°æí
 (°rög), 
∑âîn
);

418 i‡(
mesßge
)

419 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%†(f‹Ñegex∞%s)"), 
mesßge
, 
	`quŸe
 (
°rög
));

425 
	`ª_compûe_Á°m≠
 (
∑âîn
);

426 
	}
}

434 
	$öôülize_ªgex
 ()

436 
ch¨a˘î
;

440 i‡(
ign‹e_ˇ£
)

441 
ch¨a˘î
 = 0; ch¨a˘î < 
CHAR_SET_SIZE
; character++)

442 
fﬁded_ch¨s
[
ch¨a˘î
] = 
	`touµî
 (character);

451 i‡(
c⁄ãxt_ªgex
.
°rög
)

453 i‡(!*
c⁄ãxt_ªgex
.
°rög
)

454 
c⁄ãxt_ªgex
.
°rög
 = 
NULL
;

456 i‡(
gnu_exãnsi⁄s
 && !
öput_ª„ªn˚
)

457 
c⁄ãxt_ªgex
.
°rög
 = "[.?!][]\"')}]*\\($\\|\t\\| \\)[ \t\n]*";

459 
c⁄ãxt_ªgex
.
°rög
 = "\n";

461 i‡(
c⁄ãxt_ªgex
.
°rög
)

462 
	`compûe_ªgex
 (&
c⁄ãxt_ªgex
);

472 i‡(
w‹d_ªgex
.
°rög
)

473 
	`compûe_ªgex
 (&
w‹d_ªgex
);

474 i‡(!
bªak_fûe
)

476 i‡(
gnu_exãnsi⁄s
)

481 
ch¨a˘î
 = 0; ch¨a˘î < 
CHAR_SET_SIZE
; character++)

482 
w‹d_Á°m≠
[
ch¨a˘î
] = !! 
	`ißÕha
 (character);

489 
	`mem£t
 (
w‹d_Á°m≠
, 1, 
CHAR_SET_SIZE
);

490 
w‹d_Á°m≠
[' '] = 0;

491 
w‹d_Á°m≠
['\t'] = 0;

492 
w‹d_Á°m≠
['\n'] = 0;

495 
	}
}

509 
	$swÆlow_fûe_ö_mem‹y
 (c⁄° *
fûe_«me
, 
BLOCK
 *
block
)

511 
size_t
 
u£d_Àngth
;

516 
boﬁ
 
usög_°dö
 = !
fûe_«me
 || !*fûe_«mê|| 
	`STREQ
 (file_name, "-");

517 i‡(
usög_°dö
)

518 
block
->
°¨t
 = 
	`‰ód_fûe
 (
°dö
, &
u£d_Àngth
);

520 
block
->
°¨t
 = 
	`ªad_fûe
 (
fûe_«me
, &
u£d_Àngth
);

522 i‡(!
block
->
°¨t
)

523 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
usög_°dö
 ? "-" : 
fûe_«me
));

525 
block
->
íd
 = block->
°¨t
 + 
u£d_Àngth
;

526 
	}
}

539 
	$com∑ª_w‹ds
 (c⁄° *
void_fú°
, c⁄° *
void_£c⁄d
)

541 
	#fú°
 ((c⁄° 
WORD
 *Ë
void_fú°
)

	)

542 
	#£c⁄d
 ((c⁄° 
WORD
 *Ë
void_£c⁄d
)

	)

543 
Àngth
;

544 
cou¡î
;

545 
vÆue
;

547 
Àngth
 = 
fú°
->
size
 < 
£c⁄d
->size ? first->size : second->size;

549 i‡(
ign‹e_ˇ£
)

551 
cou¡î
 = 0; cou¡î < 
Àngth
; counter++)

553 
vÆue
 = (
fﬁded_ch¨s
 [
	`to_uch¨
 (
fú°
->
°¨t
[
cou¡î
])]

554 - 
fﬁded_ch¨s
 [
	`to_uch¨
 (
£c⁄d
->
°¨t
[
cou¡î
])]);

555 i‡(
vÆue
 != 0)

556  
vÆue
;

561 
cou¡î
 = 0; cou¡î < 
Àngth
; counter++)

563 
vÆue
 = (
	`to_uch¨
 (
fú°
->
°¨t
[
cou¡î
])

564 - 
	`to_uch¨
 (
£c⁄d
->
°¨t
[
cou¡î
]));

565 i‡(
vÆue
 != 0)

566  
vÆue
;

570  
fú°
->
size
 - 
£c⁄d
->size;

571 #unde‡
fú°


572 #unde‡
£c⁄d


573 
	}
}

582 
	$com∑ª_occurs
 (c⁄° *
void_fú°
, c⁄° *
void_£c⁄d
)

584 
	#fú°
 ((c⁄° 
OCCURS
 *Ë
void_fú°
)

	)

585 
	#£c⁄d
 ((c⁄° 
OCCURS
 *Ë
void_£c⁄d
)

	)

586 
vÆue
;

588 
vÆue
 = 
	`com∑ª_w‹ds
 (&
fú°
->
key
, &
£c⁄d
->key);

589  
vÆue
 =0 ? 
fú°
->
key
.
°¨t
 - 
£c⁄d
->key.start : value;

590 #unde‡
fú°


591 #unde‡
£c⁄d


592 
	}
}

598 
_GL_ATTRIBUTE_PURE


599 
	$£¨ch_èbÀ
 (
WORD
 *
w‹d
, 
WORD_TABLE
 *
èbÀ
)

601 
lowe°
;

602 
highe°
;

603 
middÀ
;

604 
vÆue
;

606 
lowe°
 = 0;

607 
highe°
 = 
èbÀ
->
Àngth
 - 1;

608 
lowe°
 <
highe°
)

610 
middÀ
 = (
lowe°
 + 
highe°
) / 2;

611 
vÆue
 = 
	`com∑ª_w‹ds
 (
w‹d
, 
èbÀ
->
°¨t
 + 
middÀ
);

612 i‡(
vÆue
 < 0)

613 
highe°
 = 
middÀ
 - 1;

614 i‡(
vÆue
 > 0)

615 
lowe°
 = 
middÀ
 + 1;

620 
	}
}

629 
	$s‹t_found_occurs
 ()

634 
	`qs‹t
 (
occurs_èbÀ
[0], 
numbî_of_occurs
[0],  **occurs_table,

635 
com∑ª_occurs
);

636 
	}
}

647 
	$dige°_bªak_fûe
 (c⁄° *
fûe_«me
)

649 
BLOCK
 
fûe_c⁄ã¡s
;

650 *
curs‹
;

652 
	`swÆlow_fûe_ö_mem‹y
 (
fûe_«me
, &
fûe_c⁄ã¡s
);

656 
	`mem£t
 (
w‹d_Á°m≠
, 1, 
CHAR_SET_SIZE
);

657 
curs‹
 = 
fûe_c⁄ã¡s
.
°¨t
; curs‹ < fûe_c⁄ã¡s.
íd
; cursor++)

658 
w‹d_Á°m≠
[
	`to_uch¨
 (*
curs‹
)] = 0;

660 i‡(!
gnu_exãnsi⁄s
)

669 
w‹d_Á°m≠
[' '] = 0;

670 
w‹d_Á°m≠
['\t'] = 0;

671 
w‹d_Á°m≠
['\n'] = 0;

676 
	`‰ì
 (
fûe_c⁄ã¡s
.
°¨t
);

677 
	}
}

687 
	$dige°_w‹d_fûe
 (c⁄° *
fûe_«me
, 
WORD_TABLE
 *
èbÀ
)

689 
BLOCK
 
fûe_c⁄ã¡s
;

690 *
curs‹
;

691 *
w‹d_°¨t
;

693 
	`swÆlow_fûe_ö_mem‹y
 (
fûe_«me
, &
fûe_c⁄ã¡s
);

695 
èbÀ
->
°¨t
 = 
NULL
;

696 
èbÀ
->
Æloc
 = 0;

697 
èbÀ
->
Àngth
 = 0;

701 
curs‹
 = 
fûe_c⁄ã¡s
.
°¨t
;

702 
curs‹
 < 
fûe_c⁄ã¡s
.
íd
)

707 
w‹d_°¨t
 = 
curs‹
;

708 
curs‹
 < 
fûe_c⁄ã¡s
.
íd
 && *cursor != '\n')

709 
curs‹
++;

713 i‡(
curs‹
 > 
w‹d_°¨t
)

715 i‡(
èbÀ
->
Àngth
 =èbÀ->
Æloc
)

717 i‡((
SIZE_MAX
 /  *
èbÀ
->
°¨t
 - 1Ë/ 2 <ÅabÀ->
Æloc
)

718 
	`xÆloc_dõ
 ();

719 
èbÀ
->
Æloc
 =Åable->alloc * 2 + 1;

720 
èbÀ
->
°¨t
 = 
	`xªÆloc
 (table->start,

721 
èbÀ
->
Æloc
 *  *èbÀ->
°¨t
);

724 
èbÀ
->
°¨t
[èbÀ->
Àngth
].°¨à
w‹d_°¨t
;

725 
èbÀ
->
°¨t
[èbÀ->
Àngth
].
size
 = 
curs‹
 - 
w‹d_°¨t
;

726 
èbÀ
->
Àngth
++;

731 i‡(
curs‹
 < 
fûe_c⁄ã¡s
.
íd
)

732 
curs‹
++;

737 
	`qs‹t
 (
èbÀ
->
°¨t
,ÅabÀ->
Àngth
, ÅabÀ->°¨t[0], 
com∑ª_w‹ds
);

738 
	}
}

747 
	$föd_occurs_ö_ãxt
 ()

749 *
curs‹
;

750 *
sˇn
;

751 *
löe_°¨t
;

752 *
löe_sˇn
;

753 
ª„ªn˚_Àngth
;

754 
WORD
 
possibÀ_key
;

755 
OCCURS
 *
occurs_curs‹
;

757 *
c⁄ãxt_°¨t
;

758 *
c⁄ãxt_íd
;

759 *
w‹d_°¨t
;

760 *
w‹d_íd
;

761 *
√xt_c⁄ãxt_°¨t
;

767 
ª„ªn˚_Àngth
 = 0;

778 
löe_°¨t
 = 
ãxt_buf„r
.
°¨t
;

779 
löe_sˇn
 = 
löe_°¨t
;

780 i‡(
öput_ª„ªn˚
)

782 
	`SKIP_NON_WHITE
 (
löe_sˇn
, 
ãxt_buf„r
.
íd
);

783 
ª„ªn˚_Àngth
 = 
löe_sˇn
 - 
löe_°¨t
;

784 
	`SKIP_WHITE
 (
löe_sˇn
, 
ãxt_buf„r
.
íd
);

789 
curs‹
 = 
ãxt_buf„r
.
°¨t
;

790 
curs‹
 < 
ãxt_buf„r
.
íd
;

791 
curs‹
 = 
√xt_c⁄ãxt_°¨t
)

798 
c⁄ãxt_°¨t
 = 
curs‹
;

808 
√xt_c⁄ãxt_°¨t
 = 
ãxt_buf„r
.
íd
;

809 i‡(
c⁄ãxt_ªgex
.
°rög
)

810 
	`ª_£¨ch
 (&
c⁄ãxt_ªgex
.
∑âîn
, 
curs‹
,

811 
ãxt_buf„r
.
íd
 - 
curs‹
,

812 0, 
ãxt_buf„r
.
íd
 - 
curs‹
, &
c⁄ãxt_ªgs
))

815 
	`m©chî_îr‹
 ();

821 
√xt_c⁄ãxt_°¨t
 = 
curs‹
 + 
c⁄ãxt_ªgs
.
íd
[0];

829 
c⁄ãxt_íd
 = 
√xt_c⁄ãxt_°¨t
;

830 
	`SKIP_WHITE_BACKWARDS
 (
c⁄ãxt_íd
, 
c⁄ãxt_°¨t
);

837 i‡(
w‹d_ªgex
.
°rög
)

844 
ªgoff_t
 
r
 = 
	`ª_£¨ch
 (&
w‹d_ªgex
.
∑âîn
, 
curs‹
,

845 
c⁄ãxt_íd
 - 
curs‹
,

846 0, 
c⁄ãxt_íd
 - 
curs‹
, &
w‹d_ªgs
);

847 i‡(
r
 == -2)

848 
	`m©chî_îr‹
 ();

849 i‡(
r
 == -1)

851 
w‹d_°¨t
 = 
curs‹
 + 
w‹d_ªgs
.
°¨t
[0];

852 
w‹d_íd
 = 
curs‹
 + 
w‹d_ªgs
.
íd
[0];

861 
sˇn
 = 
curs‹
;

862 
sˇn
 < 
c⁄ãxt_íd


863 && !
w‹d_Á°m≠
[
	`to_uch¨
 (*
sˇn
)])

864 
sˇn
++;

866 i‡(
sˇn
 =
c⁄ãxt_íd
)

869 
w‹d_°¨t
 = 
sˇn
;

871 
sˇn
 < 
c⁄ãxt_íd


872 && 
w‹d_Á°m≠
[
	`to_uch¨
 (*
sˇn
)])

873 
sˇn
++;

875 
w‹d_íd
 = 
sˇn
;

880 
curs‹
 = 
w‹d_°¨t
;

885 i‡(
w‹d_íd
 =
w‹d_°¨t
)

887 
curs‹
++;

898 
possibÀ_key
.
°¨t
 = 
curs‹
;

899 
possibÀ_key
.
size
 = 
w‹d_íd
 - 
w‹d_°¨t
;

900 
curs‹
 +
possibÀ_key
.
size
;

902 i‡(
possibÀ_key
.
size
 > 
maximum_w‹d_Àngth
)

903 
maximum_w‹d_Àngth
 = 
possibÀ_key
.
size
;

910 i‡(
öput_ª„ªn˚
)

912 
löe_sˇn
 < 
possibÀ_key
.
°¨t
)

913 i‡(*
löe_sˇn
 == '\n')

915 
tŸÆ_löe_cou¡
++;

916 
löe_sˇn
++;

917 
löe_°¨t
 = 
löe_sˇn
;

918 
	`SKIP_NON_WHITE
 (
löe_sˇn
, 
ãxt_buf„r
.
íd
);

919 
ª„ªn˚_Àngth
 = 
löe_sˇn
 - 
löe_°¨t
;

922 
löe_sˇn
++;

923 i‡(
löe_sˇn
 > 
possibÀ_key
.
°¨t
)

937 i‡(
ign‹e_fûe
 && 
	`£¨ch_èbÀ
 (&
possibÀ_key
, &
ign‹e_èbÀ
))

939 i‡(
⁄ly_fûe
 && !
	`£¨ch_èbÀ
 (&
possibÀ_key
, &
⁄ly_èbÀ
))

946 i‡(
numbî_of_occurs
[0] =
occurs_Æloc
[0])

948 i‡((
SIZE_MAX
 /  *
occurs_èbÀ
[0] - 1) / 2

949 < 
occurs_Æloc
[0])

950 
	`xÆloc_dõ
 ();

951 
occurs_Æloc
[0] = occurs_alloc[0] * 2 + 1;

952 
occurs_èbÀ
[0] =

953 
	`xªÆloc
 (
occurs_èbÀ
[0],

954 
occurs_Æloc
[0] *  *
occurs_èbÀ
[0]);

957 
occurs_curs‹
 = 
occurs_èbÀ
[0] + 
numbî_of_occurs
[0];

961 i‡(
auto_ª„ªn˚
)

970 
löe_sˇn
 < 
possibÀ_key
.
°¨t
)

971 i‡(*
löe_sˇn
 == '\n')

973 
tŸÆ_löe_cou¡
++;

974 
löe_sˇn
++;

975 
löe_°¨t
 = 
löe_sˇn
;

976 
	`SKIP_NON_WHITE
 (
löe_sˇn
, 
ãxt_buf„r
.
íd
);

979 
löe_sˇn
++;

981 
occurs_curs‹
->
ª„ªn˚
 = 
tŸÆ_löe_cou¡
;

983 i‡(
öput_ª„ªn˚
)

991 
occurs_curs‹
->
ª„ªn˚


992 (
DELTA
Ë(
löe_°¨t
 - 
possibÀ_key
.
°¨t
);

993 i‡(
ª„ªn˚_Àngth
 > 
ª„ªn˚_max_width
)

994 
ª„ªn˚_max_width
 = 
ª„ªn˚_Àngth
;

999 i‡(
öput_ª„ªn˚
 && 
löe_°¨t
 =
c⁄ãxt_°¨t
)

1001 
	`SKIP_NON_WHITE
 (
c⁄ãxt_°¨t
, 
c⁄ãxt_íd
);

1002 
	`SKIP_WHITE
 (
c⁄ãxt_°¨t
, 
c⁄ãxt_íd
);

1007 
occurs_curs‹
->
key
 = 
possibÀ_key
;

1008 
occurs_curs‹
->
À·
 = 
c⁄ãxt_°¨t
 - 
possibÀ_key
.
°¨t
;

1009 
occurs_curs‹
->
right
 = 
c⁄ãxt_íd
 - 
possibÀ_key
.
°¨t
;

1011 
numbî_of_occurs
[0]++;

1014 
	}
}

1023 
	$¥öt_•a˚s
 (
numbî
)

1025 
cou¡î
;

1027 
cou¡î
 = 
numbî
; counter > 0; counter--)

1028 
	`putch¨
 (' ');

1029 
	}
}

1036 
	$¥öt_fõld
 (
BLOCK
 
fõld
)

1038 *
curs‹
;

1039 
ba£
;

1040 
dü¸ôic
;

1045 
curs‹
 = 
fõld
.
°¨t
; curs‹ < fõld.
íd
; cursor++)

1047 
ch¨a˘î
 = *
curs‹
;

1048 i‡(
edôed_Êag
[
ch¨a˘î
])

1056 
dü¸ôic
 = 
	`todüc
 (
ch¨a˘î
);

1057 i‡(
dü¸ôic
 !0 && 
ouçut_f‹m©
 =
TEX_FORMAT
)

1059 
ba£
 = 
	`toba£
 (
ch¨a˘î
);

1060 
dü¸ôic
)

1064 
ba£
)

1067 
	`Âuts
 ("\\€{}", 
°dout
);

1071 
	`Âuts
 ("\\OE{}", 
°dout
);

1075 
	`Âuts
 ("\\´{}", 
°dout
);

1079 
	`Âuts
 ("\\AE{}", 
°dout
);

1083 
	`putch¨
 (' ');

1088 
	`¥ötf
 ("\\'%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1092 
	`¥ötf
 ("\\'%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1096 
	`¥ötf
 ("\\^%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1100 
	`¥ötf
 ("\\\"%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1104 
	`¥ötf
 ("\\~%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1108 
	`¥ötf
 ("\\c{%c}", 
ba£
);

1112 
ba£
)

1115 
	`Âuts
 ("\\Ø{}", 
°dout
);

1119 
	`Âuts
 ("\\AA{}", 
°dout
);

1123 
	`putch¨
 (' ');

1128 
ba£
)

1131 
	`Âuts
 ("\\o{}", 
°dout
);

1135 
	`Âuts
 ("\\O{}", 
°dout
);

1139 
	`putch¨
 (' ');

1150 
ch¨a˘î
)

1154 
	`putch¨
 ('"');

1155 
	`putch¨
 ('"');

1164 
	`putch¨
 ('\\');

1165 
	`putch¨
 (
ch¨a˘î
);

1172 
	`¥ötf
 ("$\\%c$", 
ch¨a˘î
);

1177 
	`Âuts
 ("\\back¶ash{}", 
°dout
);

1182 
	`putch¨
 (' ');

1186 
	`putch¨
 (*
curs‹
);

1188 
	}
}

1198 
	$fix_ouçut_∑ømëîs
 ()

1200 
fûe_ödex
;

1201 
löe_‹döÆ
;

1202 
‹döÆ_°rög
[12];

1203 
ª„ªn˚_width
;

1204 
ch¨a˘î
;

1205 c⁄° *
curs‹
;

1211 i‡(
auto_ª„ªn˚
)

1213 
ª„ªn˚_max_width
 = 0;

1214 
fûe_ödex
 = 0; fûe_ödex < 
numbî_öput_fûes
; file_index++)

1216 
löe_‹döÆ
 = 
fûe_löe_cou¡
[
fûe_ödex
] + 1;

1217 i‡(
fûe_ödex
 > 0)

1218 
löe_‹döÆ
 -
fûe_löe_cou¡
[
fûe_ödex
 - 1];

1219 
	`•rötf
 (
‹döÆ_°rög
, "%d", 
löe_‹döÆ
);

1220 
ª„ªn˚_width
 = 
	`°æí
 (
‹döÆ_°rög
);

1221 i‡(
öput_fûe_«me
[
fûe_ödex
])

1222 
ª„ªn˚_width
 +
	`°æí
 (
öput_fûe_«me
[
fûe_ödex
]);

1223 i‡(
ª„ªn˚_width
 > 
ª„ªn˚_max_width
)

1224 
ª„ªn˚_max_width
 = 
ª„ªn˚_width
;

1226 
ª„ªn˚_max_width
++;

1227 
ª„ªn˚
.
°¨t
 = 
	`xmÆloc
 ((
size_t
Ë
ª„ªn˚_max_width
 + 1);

1233 i‡((
auto_ª„ªn˚
 || 
öput_ª„ªn˚
Ë&& !
right_ª„ªn˚
)

1234 
löe_width
 -
ª„ªn˚_max_width
 + 
g≠_size
;

1248 
hÆf_löe_width
 = 
löe_width
 / 2;

1249 
bef‹e_max_width
 = 
hÆf_löe_width
 - 
g≠_size
;

1250 
keya·î_max_width
 = 
hÆf_löe_width
;

1256 i‡(
åunˇti⁄_°rög
 && *truncation_string)

1257 
åunˇti⁄_°rög_Àngth
 = 
	`°æí
 (
åunˇti⁄_°rög
);

1259 
åunˇti⁄_°rög
 = 
NULL
;

1261 i‡(
gnu_exãnsi⁄s
)

1286 
bef‹e_max_width
 -2 * 
åunˇti⁄_°rög_Àngth
;

1287 i‡(
bef‹e_max_width
 < 0)

1288 
bef‹e_max_width
 = 0;

1289 
keya·î_max_width
 -2 * 
åunˇti⁄_°rög_Àngth
;

1300 
keya·î_max_width
 -2 * 
åunˇti⁄_°rög_Àngth
 + 1;

1307 
ch¨a˘î
 = 0; ch¨a˘î < 
CHAR_SET_SIZE
; character++)

1308 
edôed_Êag
[
ch¨a˘î
] = !! 
	`is•a˚
 (character);

1309 
edôed_Êag
['\f'] = 1;

1314 
ouçut_f‹m©
)

1316 
UNKNOWN_FORMAT
:

1319 
DUMB_FORMAT
:

1322 
ROFF_FORMAT
:

1326 
edôed_Êag
['"'] = 1;

1329 
TEX_FORMAT
:

1333 
curs‹
 = "$%&#_{}\\"; *cursor; cursor++)

1334 
edôed_Êag
[
	`to_uch¨
 (*
curs‹
)] = 1;

1339 
ch¨a˘î
 = 0200; ch¨a˘î < 
CHAR_SET_SIZE
; character++)

1340 
edôed_Êag
[
ch¨a˘î
] = 
	`todüc
 (character) != 0;

1343 
	}
}

1351 
	$deföe_Æl_fõlds
 (
OCCURS
 *
occurs
)

1353 
èû_max_width
;

1354 
hód_max_width
;

1355 *
curs‹
;

1356 *
À·_c⁄ãxt_°¨t
;

1357 *
right_c⁄ãxt_íd
;

1358 *
À·_fõld_°¨t
;

1359 
fûe_ödex
;

1360 c⁄° *
fûe_«me
;

1361 
löe_‹döÆ
;

1369 
keya·î
.
°¨t
 = 
occurs
->
key
.start;

1370 
keya·î
.
íd
 = keya·î.
°¨t
 + 
occurs
->
key
.
size
;

1371 
À·_c⁄ãxt_°¨t
 = 
keya·î
.
°¨t
 + 
occurs
->
À·
;

1372 
right_c⁄ãxt_íd
 = 
keya·î
.
°¨t
 + 
occurs
->
right
;

1374 
curs‹
 = 
keya·î
.
íd
;

1375 
curs‹
 < 
right_c⁄ãxt_íd


1376 && 
curs‹
 <
keya·î
.
°¨t
 + 
keya·î_max_width
)

1378 
keya·î
.
íd
 = 
curs‹
;

1379 
	`SKIP_SOMETHING
 (
curs‹
, 
right_c⁄ãxt_íd
);

1381 i‡(
curs‹
 <
keya·î
.
°¨t
 + 
keya·î_max_width
)

1382 
keya·î
.
íd
 = 
curs‹
;

1384 
keya·î_åunˇti⁄
 = 
åunˇti⁄_°rög
 && 
keya·î
.
íd
 < 
right_c⁄ãxt_íd
;

1386 
	`SKIP_WHITE_BACKWARDS
 (
keya·î
.
íd
, keya·î.
°¨t
);

1400 i‡(-
occurs
->
À·
 > 
hÆf_löe_width
 + 
maximum_w‹d_Àngth
)

1402 
À·_fõld_°¨t


1403 
keya·î
.
°¨t
 - (
hÆf_löe_width
 + 
maximum_w‹d_Àngth
);

1404 
	`SKIP_SOMETHING
 (
À·_fõld_°¨t
, 
keya·î
.
°¨t
);

1407 
À·_fõld_°¨t
 = 
keya·î
.
°¨t
 + 
occurs
->
À·
;

1415 
bef‹e
.
°¨t
 = 
À·_fõld_°¨t
;

1416 
bef‹e
.
íd
 = 
keya·î
.
°¨t
;

1417 
	`SKIP_WHITE_BACKWARDS
 (
bef‹e
.
íd
, bef‹e.
°¨t
);

1419 
bef‹e
.
°¨t
 + 
bef‹e_max_width
 < bef‹e.
íd
)

1420 
	`SKIP_SOMETHING
 (
bef‹e
.
°¨t
, bef‹e.
íd
);

1422 i‡(
åunˇti⁄_°rög
)

1424 
curs‹
 = 
bef‹e
.
°¨t
;

1425 
	`SKIP_WHITE_BACKWARDS
 (
curs‹
, 
ãxt_buf„r
.
°¨t
);

1426 
bef‹e_åunˇti⁄
 = 
curs‹
 > 
À·_c⁄ãxt_°¨t
;

1429 
bef‹e_åunˇti⁄
 = 0;

1431 
	`SKIP_WHITE
 (
bef‹e
.
°¨t
, 
ãxt_buf„r
.
íd
);

1440 
èû_max_width


1441 
bef‹e_max_width
 - (
bef‹e
.
íd
 - bef‹e.
°¨t
Ë- 
g≠_size
;

1443 i‡(
èû_max_width
 > 0)

1445 
èû
.
°¨t
 = 
keya·î
.
íd
;

1446 
	`SKIP_WHITE
 (
èû
.
°¨t
, 
ãxt_buf„r
.
íd
);

1448 
èû
.
íd
 =Åaû.
°¨t
;

1449 
curs‹
 = 
èû
.
íd
;

1450 
curs‹
 < 
right_c⁄ãxt_íd


1451 && 
curs‹
 < 
èû
.
°¨t
 + 
èû_max_width
)

1453 
èû
.
íd
 = 
curs‹
;

1454 
	`SKIP_SOMETHING
 (
curs‹
, 
right_c⁄ãxt_íd
);

1457 i‡(
curs‹
 < 
èû
.
°¨t
 + 
èû_max_width
)

1458 
èû
.
íd
 = 
curs‹
;

1460 i‡(
èû
.
íd
 >Åaû.
°¨t
)

1462 
keya·î_åunˇti⁄
 = 0;

1463 
èû_åunˇti⁄
 = 
åunˇti⁄_°rög
 && 
èû
.
íd
 < 
right_c⁄ãxt_íd
;

1466 
èû_åunˇti⁄
 = 0;

1468 
	`SKIP_WHITE_BACKWARDS
 (
èû
.
íd
,Åaû.
°¨t
);

1475 
èû
.
°¨t
 = 
NULL
;

1476 
èû
.
íd
 = 
NULL
;

1477 
èû_åunˇti⁄
 = 0;

1486 
hód_max_width


1487 
keya·î_max_width
 - (
keya·î
.
íd
 - keya·î.
°¨t
Ë- 
g≠_size
;

1489 i‡(
hód_max_width
 > 0)

1491 
hód
.
íd
 = 
bef‹e
.
°¨t
;

1492 
	`SKIP_WHITE_BACKWARDS
 (
hód
.
íd
, 
ãxt_buf„r
.
°¨t
);

1494 
hód
.
°¨t
 = 
À·_fõld_°¨t
;

1495 
hód
.
°¨t
 + 
hód_max_width
 < hód.
íd
)

1496 
	`SKIP_SOMETHING
 (
hód
.
°¨t
, hód.
íd
);

1498 i‡(
hód
.
íd
 > hód.
°¨t
)

1500 
bef‹e_åunˇti⁄
 = 0;

1501 
hód_åunˇti⁄
 = (
åunˇti⁄_°rög


1502 && 
hód
.
°¨t
 > 
À·_c⁄ãxt_°¨t
);

1505 
hód_åunˇti⁄
 = 0;

1507 
	`SKIP_WHITE
 (
hód
.
°¨t
, hód.
íd
);

1514 
hód
.
°¨t
 = 
NULL
;

1515 
hód
.
íd
 = 
NULL
;

1516 
hód_åunˇti⁄
 = 0;

1519 i‡(
auto_ª„ªn˚
)

1527 
fûe_ödex
 = 0;

1528 
fûe_löe_cou¡
[
fûe_ödex
] < 
occurs
->
ª„ªn˚
)

1529 
fûe_ödex
++;

1531 
fûe_«me
 = 
öput_fûe_«me
[
fûe_ödex
];

1532 i‡(!
fûe_«me
)

1533 
fûe_«me
 = "";

1535 
löe_‹döÆ
 = 
occurs
->
ª„ªn˚
 + 1;

1536 i‡(
fûe_ödex
 > 0)

1537 
löe_‹döÆ
 -
fûe_löe_cou¡
[
fûe_ödex
 - 1];

1539 
	`•rötf
 (
ª„ªn˚
.
°¨t
, "%s:%d", 
fûe_«me
, 
löe_‹döÆ
);

1540 
ª„ªn˚
.
íd
 =Ñe„ªn˚.
°¨t
 + 
	`°æí
 (reference.start);

1542 i‡(
öput_ª„ªn˚
)

1548 
ª„ªn˚
.
°¨t
 = 
keya·î
.°¨à+ (
DELTA
Ë
occurs
->reference;

1549 
ª„ªn˚
.
íd
 =Ñe„ªn˚.
°¨t
;

1550 
	`SKIP_NON_WHITE
 (
ª„ªn˚
.
íd
, 
right_c⁄ãxt_íd
);

1552 
	}
}

1561 
	$ouçut_⁄e_roff_löe
 ()

1565 
	`¥ötf
 (".%†\"", 
ma¸o_«me
);

1566 
	`¥öt_fõld
 (
èû
);

1567 i‡(
èû_åunˇti⁄
)

1568 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1569 
	`putch¨
 ('"');

1573 
	`Âuts
 (" \"", 
°dout
);

1574 i‡(
bef‹e_åunˇti⁄
)

1575 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1576 
	`¥öt_fõld
 (
bef‹e
);

1577 
	`putch¨
 ('"');

1581 
	`Âuts
 (" \"", 
°dout
);

1582 
	`¥öt_fõld
 (
keya·î
);

1583 i‡(
keya·î_åunˇti⁄
)

1584 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1585 
	`putch¨
 ('"');

1589 
	`Âuts
 (" \"", 
°dout
);

1590 i‡(
hód_åunˇti⁄
)

1591 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1592 
	`¥öt_fõld
 (
hód
);

1593 
	`putch¨
 ('"');

1597 i‡(
auto_ª„ªn˚
 || 
öput_ª„ªn˚
)

1599 
	`Âuts
 (" \"", 
°dout
);

1600 
	`¥öt_fõld
 (
ª„ªn˚
);

1601 
	`putch¨
 ('"');

1604 
	`putch¨
 ('\n');

1605 
	}
}

1612 
	$ouçut_⁄e_ãx_löe
 ()

1614 
BLOCK
 
key
;

1615 
BLOCK
 
a·î
;

1616 *
curs‹
;

1618 
	`¥ötf
 ("\\%†", 
ma¸o_«me
);

1619 
	`putch¨
 ('{');

1620 
	`¥öt_fõld
 (
èû
);

1621 
	`Âuts
 ("}{", 
°dout
);

1622 
	`¥öt_fõld
 (
bef‹e
);

1623 
	`Âuts
 ("}{", 
°dout
);

1624 
key
.
°¨t
 = 
keya·î
.start;

1625 
a·î
.
íd
 = 
keya·î
.end;

1626 
curs‹
 = 
keya·î
.
°¨t
;

1627 
	`SKIP_SOMETHING
 (
curs‹
, 
keya·î
.
íd
);

1628 
key
.
íd
 = 
curs‹
;

1629 
a·î
.
°¨t
 = 
curs‹
;

1630 
	`¥öt_fõld
 (
key
);

1631 
	`Âuts
 ("}{", 
°dout
);

1632 
	`¥öt_fõld
 (
a·î
);

1633 
	`Âuts
 ("}{", 
°dout
);

1634 
	`¥öt_fõld
 (
hód
);

1635 
	`putch¨
 ('}');

1636 i‡(
auto_ª„ªn˚
 || 
öput_ª„ªn˚
)

1638 
	`putch¨
 ('{');

1639 
	`¥öt_fõld
 (
ª„ªn˚
);

1640 
	`putch¨
 ('}');

1642 
	`putch¨
 ('\n');

1643 
	}
}

1650 
	$ouçut_⁄e_dumb_löe
 ()

1652 i‡(!
right_ª„ªn˚
)

1654 i‡(
auto_ª„ªn˚
)

1661 
	`¥öt_fõld
 (
ª„ªn˚
);

1662 
	`putch¨
 (':');

1663 
	`¥öt_•a˚s
 (
ª„ªn˚_max_width


1664 + 
g≠_size


1665 - (
ª„ªn˚
.
íd
 -Ñe„ªn˚.
°¨t
)

1673 
	`¥öt_fõld
 (
ª„ªn˚
);

1674 
	`¥öt_•a˚s
 (
ª„ªn˚_max_width


1675 + 
g≠_size


1676 - (
ª„ªn˚
.
íd
 -Ñe„ªn˚.
°¨t
));

1680 i‡(
èû
.
°¨t
 <Åaû.
íd
)

1684 
	`¥öt_fõld
 (
èû
);

1685 i‡(
èû_åunˇti⁄
)

1686 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1688 
	`¥öt_•a˚s
 (
hÆf_löe_width
 - 
g≠_size


1689 - (
bef‹e
.
íd
 - bef‹e.
°¨t
)

1690 - (
bef‹e_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0)

1691 - (
èû
.
íd
 -Åaû.
°¨t
)

1692 - (
èû_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0));

1695 
	`¥öt_•a˚s
 (
hÆf_löe_width
 - 
g≠_size


1696 - (
bef‹e
.
íd
 - bef‹e.
°¨t
)

1697 - (
bef‹e_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0));

1701 i‡(
bef‹e_åunˇti⁄
)

1702 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1703 
	`¥öt_fõld
 (
bef‹e
);

1705 
	`¥öt_•a˚s
 (
g≠_size
);

1709 
	`¥öt_fõld
 (
keya·î
);

1710 i‡(
keya·î_åunˇti⁄
)

1711 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1713 i‡(
hód
.
°¨t
 < hód.
íd
)

1717 
	`¥öt_•a˚s
 (
hÆf_löe_width


1718 - (
keya·î
.
íd
 - keya·î.
°¨t
)

1719 - (
keya·î_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0)

1720 - (
hód
.
íd
 - hód.
°¨t
)

1721 - (
hód_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0));

1722 i‡(
hód_åunˇti⁄
)

1723 
	`Âuts
 (
åunˇti⁄_°rög
, 
°dout
);

1724 
	`¥öt_fõld
 (
hód
);

1728 i‡((
auto_ª„ªn˚
 || 
öput_ª„ªn˚
Ë&& 
right_ª„ªn˚
)

1729 
	`¥öt_•a˚s
 (
hÆf_löe_width


1730 - (
keya·î
.
íd
 - keya·î.
°¨t
)

1731 - (
keya·î_åunˇti⁄
 ? 
åunˇti⁄_°rög_Àngth
 : 0));

1733 i‡((
auto_ª„ªn˚
 || 
öput_ª„ªn˚
Ë&& 
right_ª„ªn˚
)

1737 
	`¥öt_•a˚s
 (
g≠_size
);

1738 
	`¥öt_fõld
 (
ª„ªn˚
);

1741 
	`putch¨
 ('\n');

1742 
	}
}

1750 
	$gíî©e_Æl_ouçut
 ()

1752 
size_t
 
occurs_ödex
;

1753 
OCCURS
 *
occurs_curs‹
;

1759 
èû
.
°¨t
 = 
NULL
;

1760 
èû
.
íd
 = 
NULL
;

1761 
èû_åunˇti⁄
 = 0;

1763 
hód
.
°¨t
 = 
NULL
;

1764 
hód
.
íd
 = 
NULL
;

1765 
hód_åunˇti⁄
 = 0;

1769 
occurs_curs‹
 = 
occurs_èbÀ
[0];

1771 
occurs_ödex
 = 0; occurs_ödex < 
numbî_of_occurs
[0]; occurs_index++)

1776 
	`deföe_Æl_fõlds
 (
occurs_curs‹
);

1780 
ouçut_f‹m©
)

1782 
UNKNOWN_FORMAT
:

1785 
DUMB_FORMAT
:

1786 
	`ouçut_⁄e_dumb_löe
 ();

1789 
ROFF_FORMAT
:

1790 
	`ouçut_⁄e_roff_löe
 ();

1793 
TEX_FORMAT
:

1794 
	`ouçut_⁄e_ãx_löe
 ();

1800 
occurs_curs‹
++;

1802 
	}
}

1811 
	$ußge
 (
°©us
)

1813 i‡(
°©us
 !
EXIT_SUCCESS
)

1814 
	`emô_åy_hñp
 ();

1817 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [INPUT]... (without -G)\n\
: %s -G [OPTION]... [INPUT [OUTPUT]]\n"),

1820 
¥ogøm_«me
,Örogram_name);

1821 
	`Âuts
 (
	`_
("\
áÖîmuãd index, in˛udög c⁄ãxt, o‡thêw‹d†öÅhêöpuàfûes.\n\
"), 
°dout
);

1825 
	`emô_m™d©‹y_¨g_nŸe
 ();

1827 
	`Âuts
 (
	`_
("\
-A, --auto-ª„ªn˚ ouçuàautom©iˇŒy gíî©edÑe„ªn˚s\n\
-G, --åadôi⁄Æ behavêm‹êlikêSy°em V '±x'\n\
-F, --Êag-åunˇti⁄=STRING u£ STRING f‹ fœggögÜöêåunˇti⁄s\n\
"), 
°dout
);

1832 
	`Âuts
 (
	`_
("\
-M, --ma¸o-«me=STRING ma¸ÿ«mêtÿu£ in°ód o‡'xx'\n\
-O, --f‹m©Ùof‡ gíî©êouçuàa†rof‡dúe˘ives\n\
-R, --right-side-ªf†Öuàª„ªn˚†©Ñight,ÇŸ cou¡ed i¿-w\n\
-S, --£¡í˚-ªgexp=REGEXP f‹Énd o‡löe†‹Énd o‡£¡í˚s\n\
-T, --f‹m©Òex gíî©êouçuàa†TeX dúe˘ives\n\
"), 
°dout
);

1839 
	`Âuts
 (
	`_
("\
-W, --w‹d-ªgexp=REGEXP u£ REGEXPÅÿm©chÉach keyw‹d\n\
-b, --bªak-fûe=FILE w‹d bªak ch¨a˘î†öÅhi†FILE\n\
-f, --ign‹e-ˇ£ fﬁdÜowî ca£Åÿuµî ca£ f‹ s‹tög\n\
-g, --g≠-size=NUMBER g≠ sizêö cﬁumn†bëwì¿ouçuàfõlds\n\
-i, --ign‹e-fûe=FILEÑód ign‹êw‹dÜi° from FILE\n\
-o, --⁄ly-fûe=FILEÑód o∆y w‹dÜi° fromÅhi†FILE\n\
"), 
°dout
);

1847 
	`Âuts
 (
	`_
("\
-r, --ª„ªn˚† fú° fõld o‡óchÜöêi†®ª„ªn˚\n\
-t, --ty≥£t-modê -ÇŸ im∂emíãd -\n\
-w, --width=NUMBER ouçuàwidth i¿cﬁumns,Ñe„ªn˚Éx˛uded\n\
"), 
°dout
);

1852 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

1853 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

1854 
	`Âuts
 (
	`_
("\
\n\
ÇÿFILE o∏i‡FILE i†-,Ñód Sènd¨d I≈ut. '-F /' by deÁu….\n\
"), 
°dout
);

1858 
	`emô_™cûœry_öfo
 ();

1860 
	`exô
 (
°©us
);

1861 
	}
}

1869 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

1871 {"auto-ª„ªn˚", 
no_¨gumít
, 
NULL
, 'A'},

1872 {"bªak-fûe", 
ªquúed_¨gumít
, 
NULL
, 'b'},

1873 {"Êag-åunˇti⁄", 
ªquúed_¨gumít
, 
NULL
, 'F'},

1874 {"ign‹e-ˇ£", 
no_¨gumít
, 
NULL
, 'f'},

1875 {"g≠-size", 
ªquúed_¨gumít
, 
NULL
, 'g'},

1876 {"ign‹e-fûe", 
ªquúed_¨gumít
, 
NULL
, 'i'},

1877 {"ma¸o-«me", 
ªquúed_¨gumít
, 
NULL
, 'M'},

1878 {"⁄ly-fûe", 
ªquúed_¨gumít
, 
NULL
, 'o'},

1879 {"ª„ªn˚s", 
no_¨gumít
, 
NULL
, 'r'},

1880 {"right-side-ªfs", 
no_¨gumít
, 
NULL
, 'R'},

1881 {"f‹m©", 
ªquúed_¨gumít
, 
NULL
, 10},

1882 {"£¡í˚-ªgexp", 
ªquúed_¨gumít
, 
NULL
, 'S'},

1883 {"åadôi⁄Æ", 
no_¨gumít
, 
NULL
, 'G'},

1884 {"ty≥£t-mode", 
no_¨gumít
, 
NULL
, 't'},

1885 {"width", 
ªquúed_¨gumít
, 
NULL
, 'w'},

1886 {"w‹d-ªgexp", 
ªquúed_¨gumít
, 
NULL
, 'W'},

1887 {
GETOPT_HELP_OPTION_DECL
},

1888 {
GETOPT_VERSION_OPTION_DECL
},

1889 {
NULL
, 0, NULL, 0},

1892 c⁄°* c⁄° 
	gf‹m©_¨gs
[] =

1894 "roff", "ãx", 
NULL


1897 
F‹m©
 c⁄° 
	gf‹m©_vÆs
[] =

1899 
ROFF_FORMAT
, 
TEX_FORMAT


1903 
	$maö
 (
¨gc
, **
¨gv
)

1905 
›tch¨
;

1906 
fûe_ödex
;

1910 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1911 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1912 
	`£éoˇÀ
 (
LC_ALL
, "");

1913 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1914 
	`ãxtdomaö
 (
PACKAGE
);

1916 
	`©exô
 (
˛o£_°dout
);

1918 #i‡
HAVE_SETCHRCLASS


1919 
	`£tchr˛ass
 (
NULL
);

1922 
›tch¨
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "AF:GM:ORS:TW:b:i:fg:o:trw:",

1923 
l⁄g_›ti⁄s
, 
NULL
),

1924 
›tch¨
 !
EOF
)

1926 
›tch¨
)

1929 
	`ußge
 (
EXIT_FAILURE
);

1932 
gnu_exãnsi⁄s
 = 
Ál£
;

1936 
bªak_fûe
 = 
›èrg
;

1940 
ign‹e_ˇ£
 = 
åue
;

1945 
tmp_ul⁄g
;

1946 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË!
LONGINT_OK


1947 || ! (0 < 
tmp_ul⁄g
 &&Åmp_ul⁄g <
INT_MAX
))

1948 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid gap width: %s"),

1949 
	`quŸórg
 (
›èrg
));

1950 
g≠_size
 = 
tmp_ul⁄g
;

1955 
ign‹e_fûe
 = 
›èrg
;

1959 
⁄ly_fûe
 = 
›èrg
;

1963 
öput_ª„ªn˚
 = 
åue
;

1972 
tmp_ul⁄g
;

1973 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 0, &
tmp_ul⁄g
, NULLË!
LONGINT_OK


1974 || ! (0 < 
tmp_ul⁄g
 &&Åmp_ul⁄g <
INT_MAX
))

1975 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalidÜine width: %s"),

1976 
	`quŸórg
 (
›èrg
));

1977 
löe_width
 = 
tmp_ul⁄g
;

1982 
auto_ª„ªn˚
 = 
åue
;

1986 
åunˇti⁄_°rög
 = 
	`c›y_u√sˇ≥d_°rög
 (
›èrg
);

1990 
ma¸o_«me
 = 
›èrg
;

1994 
ouçut_f‹m©
 = 
ROFF_FORMAT
;

1998 
right_ª„ªn˚
 = 
åue
;

2002 
c⁄ãxt_ªgex
.
°rög
 = 
	`c›y_u√sˇ≥d_°rög
 (
›èrg
);

2006 
ouçut_f‹m©
 = 
TEX_FORMAT
;

2010 
w‹d_ªgex
.
°rög
 = 
	`c›y_u√sˇ≥d_°rög
 (
›èrg
);

2011 i‡(!*
w‹d_ªgex
.
°rög
)

2012 
w‹d_ªgex
.
°rög
 = 
NULL
;

2016 
ouçut_f‹m©
 = 
	`XARGMATCH
 ("--f‹m©", 
›èrg
,

2017 
f‹m©_¨gs
, 
f‹m©_vÆs
);

2018 
ˇ£_GETOPT_HELP_CHAR
;

2020 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2028 i‡(
›töd
 =
¨gc
)

2033 
öput_fûe_«me
 = 
	`xmÆloc
 ( *input_file_name);

2034 
fûe_löe_cou¡
 = 
	`xmÆloc
 ( *file_line_count);

2035 
numbî_öput_fûes
 = 1;

2036 
öput_fûe_«me
[0] = 
NULL
;

2038 i‡(
gnu_exãnsi⁄s
)

2040 
numbî_öput_fûes
 = 
¨gc
 - 
›töd
;

2041 
öput_fûe_«me
 = 
	`xmÆloc
 (
numbî_öput_fûes
 *  *input_file_name);

2042 
fûe_löe_cou¡
 = 
	`xmÆloc
 (
numbî_öput_fûes
 *  *file_line_count);

2044 
fûe_ödex
 = 0; fûe_ödex < 
numbî_öput_fûes
; file_index++)

2046 i‡(!*
¨gv
[
›töd
] || 
	`STREQ
 (argv[optind], "-"))

2047 
öput_fûe_«me
[
fûe_ödex
] = 
NULL
;

2049 
öput_fûe_«me
[
fûe_ödex
] = 
¨gv
[
›töd
];

2050 
›töd
++;

2058 
numbî_öput_fûes
 = 1;

2059 
öput_fûe_«me
 = 
	`xmÆloc
 ( *input_file_name);

2060 
fûe_löe_cou¡
 = 
	`xmÆloc
 ( *file_line_count);

2061 i‡(!*
¨gv
[
›töd
] || 
	`STREQ
 (argv[optind], "-"))

2062 
öput_fûe_«me
[0] = 
NULL
;

2064 
öput_fûe_«me
[0] = 
¨gv
[
›töd
];

2065 
›töd
++;

2069 i‡(
›töd
 < 
¨gc
)

2071 i‡(! 
	`‰e›í
 (
¨gv
[
›töd
], "w", 
°dout
))

2072 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
¨gv
[
›töd
]);

2073 
›töd
++;

2078 i‡(
›töd
 < 
¨gc
)

2080 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

2081 
	`ußge
 (
EXIT_FAILURE
);

2088 i‡(
ouçut_f‹m©
 =
UNKNOWN_FORMAT
)

2089 
ouçut_f‹m©
 = 
gnu_exãnsi⁄s
 ? 
DUMB_FORMAT
 : 
ROFF_FORMAT
;

2093 
	`öôülize_ªgex
 ();

2097 i‡(
bªak_fûe
)

2098 
	`dige°_bªak_fûe
 (
bªak_fûe
);

2104 i‡(
ign‹e_fûe
)

2106 
	`dige°_w‹d_fûe
 (
ign‹e_fûe
, &
ign‹e_èbÀ
);

2107 i‡(
ign‹e_èbÀ
.
Àngth
 == 0)

2108 
ign‹e_fûe
 = 
NULL
;

2111 i‡(
⁄ly_fûe
)

2113 
	`dige°_w‹d_fûe
 (
⁄ly_fûe
, &
⁄ly_èbÀ
);

2114 i‡(
⁄ly_èbÀ
.
Àngth
 == 0)

2115 
⁄ly_fûe
 = 
NULL
;

2120 
numbî_of_occurs
[0] = 0;

2121 
tŸÆ_löe_cou¡
 = 0;

2122 
maximum_w‹d_Àngth
 = 0;

2123 
ª„ªn˚_max_width
 = 0;

2125 
fûe_ödex
 = 0; fûe_ödex < 
numbî_öput_fûes
; file_index++)

2130 
	`swÆlow_fûe_ö_mem‹y
 (
öput_fûe_«me
[
fûe_ödex
], &
ãxt_buf„r
);

2131 
	`föd_occurs_ö_ãxt
 ();

2137 
tŸÆ_löe_cou¡
++;

2138 
fûe_löe_cou¡
[
fûe_ödex
] = 
tŸÆ_löe_cou¡
;

2143 
	`s‹t_found_occurs
 ();

2144 
	`fix_ouçut_∑ømëîs
 ();

2145 
	`gíî©e_Æl_ouçut
 ();

2149 
	`exô
 (
EXIT_SUCCESS
);

2150 
	}
}

	@pwd.c

17 
	~<c⁄fig.h
>

18 
	~<gë›t.h
>

19 
	~<°dio.h
>

20 
	~<sys/ty≥s.h
>

22 
	~"sy°em.h
"

23 
	~"îr‹.h
"

24 
	~"quŸe.h
"

25 
	~"roŸ-dev-öo.h
"

26 
	~"xgëcwd.h
"

29 
	#PROGRAM_NAME
 "pwd"

	)

31 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

33 
	sfûe_«me


35 *
	mbuf
;

36 
size_t
 
	mn_Æloc
;

37 *
	m°¨t
;

40 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

42 {"logiˇl", 
no_¨gumít
, 
NULL
, 'L'},

43 {"physiˇl", 
no_¨gumít
, 
NULL
, 'P'},

44 {
GETOPT_HELP_OPTION_DECL
},

45 {
GETOPT_VERSION_OPTION_DECL
},

46 {
NULL
, 0, NULL, 0}

50 
	$ußge
 (
°©us
)

52 i‡(
°©us
 !
EXIT_SUCCESS
)

53 
	`emô_åy_hñp
 ();

56 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]...\n"), 
¥ogøm_«me
);

57 
	`Âuts
 (
	`_
("\
ÅhêfuŒ fûíamêo‡thêcuºíàw‹kög dúe˘‹y.\n\
\n\
"), 
°dout
);

61 
	`Âuts
 (
	`_
("\
-L, --logiˇ» u£ PWD fromÉnvú⁄mít,Éví i‡ô c⁄èö†symlöks\n\
-P, --physiˇ»ávoidáŒ symlöks\n\
"), 
°dout
);

65 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

66 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

67 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

68 
	`emô_™cûœry_öfo
 ();

70 
	`exô
 (
°©us
);

71 
	}
}

74 
	$fûe_«me_‰ì
 (
fûe_«me
 *
p
)

76 
	`‰ì
 (
p
->
buf
);

77 
	`‰ì
 (
p
);

78 
	}
}

80 
fûe_«me
 *

81 
	$fûe_«me_öô
 ()

83 
fûe_«me
 *
p
 = 
	`xmÆloc
 ( *p);

87 
p
->
n_Æloc
 = 
	`MIN
 (2 * 
PATH_MAX
, 32 * 1024);

89 
p
->
buf
 = 
	`xmÆloc
 (p->
n_Æloc
);

90 
p
->
°¨t
 =Ö->
buf
 + (p->
n_Æloc
 - 1);

91 
p
->
°¨t
[0] = '\0';

92  
p
;

93 
	}
}

97 
	$fûe_«me_¥ïíd
 (
fûe_«me
 *
p
, c⁄° *
s
, 
size_t
 
s_Àn
)

99 
size_t
 
n_‰ì
 = 
p
->
°¨t
 -Ö->
buf
;

100 i‡(
n_‰ì
 < 1 + 
s_Àn
)

102 
size_t
 
hÆf
 = 
p
->
n_Æloc
 + 1 + 
s_Àn
;

107 *
q
 = 
	`xnmÆloc
 (2, 
hÆf
);

108 
size_t
 
n_u£d
 = 
p
->
n_Æloc
 - 
n_‰ì
;

109 
p
->
°¨t
 = 
q
 + 2 * 
hÆf
 - 
n_u£d
;

110 
	`mem˝y
 (
p
->
°¨t
,Ö->
buf
 + 
n_‰ì
, 
n_u£d
);

111 
	`‰ì
 (
p
->
buf
);

112 
p
->
buf
 = 
q
;

113 
p
->
n_Æloc
 = 2 * 
hÆf
;

116 
p
->
°¨t
 -1 + 
s_Àn
;

117 
p
->
°¨t
[0] = '/';

118 
	`mem˝y
 (
p
->
°¨t
 + 1, 
s
, 
s_Àn
);

119 
	}
}

123 
	$¡h_∑ª¡
 (
size_t
 
n
)

125 *
buf
 = 
	`xnmÆloc
 (3, 
n
);

126 *
p
 = 
buf
;

127 
size_t
 
i
;

129 
i
 = 0; i < 
n
; i++)

131 
	`mem˝y
 (
p
, "../", 3);

132 
p
 += 3;

134 
p
[-1] = '\0';

135  
buf
;

136 
	}
}

150 
	$föd_dú_íåy
 (
°©
 *
dŸ_sb
, 
fûe_«me
 *file_name,

151 
size_t
 
∑ª¡_height
)

153 
DIR
 *
dúp
;

154 
fd
;

155 
°©
 
∑ª¡_sb
;

156 
boﬁ
 
u£_l°©
;

157 
boﬁ
 
found
;

159 
dúp
 = 
	`›ídú
 ("..");

160 i‡(
dúp
 =
NULL
)

161 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot open directory %s"),

162 
	`quŸe
 (
	`¡h_∑ª¡
 (
∑ª¡_height
)));

164 
fd
 = 
	`dúfd
 (
dúp
);

165 i‡((0 <
fd
 ? 
	`fchdú
 (fdË: 
	`chdú
 ("..")) < 0)

166 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo chdirÅo %s"),

167 
	`quŸe
 (
	`¡h_∑ª¡
 (
∑ª¡_height
)));

169 i‡((0 <
fd
 ? 
	`f°©
 (fd, &
∑ª¡_sb
Ë: 
	`°©
 (".", &parent_sb)) < 0)

170 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo stat %s"),

171 
	`quŸe
 (
	`¡h_∑ª¡
 (
∑ª¡_height
)));

175 
u£_l°©
 = (
∑ª¡_sb
.
°_dev
 !
dŸ_sb
->st_dev);

177 
found
 = 
Ál£
;

180 
dúít
 c⁄° *
dp
;

181 
°©
 
ít_sb
;

182 
öo_t
 
öo
;

184 
î∫o
 = 0;

185 i‡((
dp
 = 
	`ªaddú_ign‹ög_dŸ_™d_dŸdŸ
 (
dúp
)Ë=
NULL
)

187 i‡(
î∫o
)

190 
e
 = 
î∫o
;

191 
	`˛o£dú
 (
dúp
);

192 
î∫o
 = 
e
;

195 
dúp
 = 
NULL
;

200 
öo
 = 
	`D_INO
 (
dp
);

202 i‡(
öo
 =
NOT_AN_INODE_NUMBER
 || 
u£_l°©
)

204 i‡(
	`l°©
 (
dp
->
d_«me
, &
ít_sb
) < 0)

209 
öo
 = 
ít_sb
.
°_öo
;

212 i‡(
öo
 !
dŸ_sb
->
°_öo
)

217 i‡–! 
u£_l°©
 || 
ít_sb
.
°_dev
 =
dŸ_sb
->st_dev)

219 
	`fûe_«me_¥ïíd
 (
fûe_«me
, 
dp
->
d_«me
, 
	`_D_EXACT_NAMLEN
 (dp));

220 
found
 = 
åue
;

225 i‡(
dúp
 =
NULL
 || 
	`˛o£dú
 (dirp) != 0)

229 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("reading directory %s"),

230 
	`quŸe
 (
	`¡h_∑ª¡
 (
∑ª¡_height
)));

233 i‡–! 
found
)

234 
	`îr‹
 (
EXIT_FAILURE
, 0,

235 
	`_
("couldn't find directoryÉntry in %s with matching i-node"),

236 
	`quŸe
 (
	`¡h_∑ª¡
 (
∑ª¡_height
)));

238 *
dŸ_sb
 = 
∑ª¡_sb
;

239 
	}
}

265 
	$robu°_gëcwd
 (
fûe_«me
 *file_name)

267 
size_t
 
height
 = 1;

268 
dev_öo
 
dev_öo_buf
;

269 
dev_öo
 *
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

270 
°©
 
dŸ_sb
;

272 i‡(
roŸ_dev_öo
 =
NULL
)

273 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

274 
	`quŸe
 ("/"));

276 i‡(
	`°©
 (".", &
dŸ_sb
) < 0)

277 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ°© %s"), 
	`quŸe
 ("."));

282 i‡(
	`SAME_INODE
 (
dŸ_sb
, *
roŸ_dev_öo
))

285 
	`föd_dú_íåy
 (&
dŸ_sb
, 
fûe_«me
, 
height
++);

289 i‡(
fûe_«me
->
°¨t
[0] == '\0')

290 
	`fûe_«me_¥ïíd
 (
fûe_«me
, "", 0);

291 
	}
}

297 
	$logiˇl_gëcwd
 ()

299 
°©
 
°1
;

300 
°©
 
°2
;

301 *
wd
 = 
	`gëív
 ("PWD");

302 *
p
;

305 i‡(!
wd
 || wd[0] != '/')

306  
NULL
;

307 
p
 = 
wd
;

308 (
p
 = 
	`°r°r
 (p, "/.")))

310 i‡(!
p
[2] ||Ö[2] == '/'

311 || (
p
[2] == '.' && (!p[3] ||Ö[3] == '/')))

312  
NULL
;

313 
p
++;

317 i‡(
	`°©
 (
wd
, &
°1
Ë=0 && sèà(".", &
°2
Ë=0 && 
	`SAME_INODE
 (st1, st2))

318  
wd
;

319  
NULL
;

320 
	}
}

324 
	$maö
 (
¨gc
, **
¨gv
)

326 *
wd
;

328 
boﬁ
 
logiˇl
 = (
	`gëív
 ("POSIXLY_CORRECT"Ë!
NULL
);

330 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

331 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

332 
	`£éoˇÀ
 (
LC_ALL
, "");

333 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

334 
	`ãxtdomaö
 (
PACKAGE
);

336 
	`©exô
 (
˛o£_°dout
);

340 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "LP", 
l⁄g›ts
, 
NULL
);

341 i‡(
c
 == -1)

343 
c
)

346 
logiˇl
 = 
åue
;

349 
logiˇl
 = 
Ál£
;

352 
ˇ£_GETOPT_HELP_CHAR
;

354 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

357 
	`ußge
 (
EXIT_FAILURE
);

361 i‡(
›töd
 < 
¨gc
)

362 
	`îr‹
 (0, 0, 
	`_
("ignoringÇon-optionárguments"));

364 i‡(
logiˇl
)

366 
wd
 = 
	`logiˇl_gëcwd
 ();

367 i‡(
wd
)

369 
	`puts
 (
wd
);

370 
	`exô
 (
EXIT_SUCCESS
);

374 
wd
 = 
	`xgëcwd
 ();

375 i‡(
wd
 !
NULL
)

377 
	`puts
 (
wd
);

378 
	`‰ì
 (
wd
);

382 
fûe_«me
 *fûe_«mê
	`fûe_«me_öô
 ();

383 
	`robu°_gëcwd
 (
fûe_«me
);

384 
	`puts
 (
fûe_«me
->
°¨t
);

385 
	`fûe_«me_‰ì
 (
fûe_«me
);

388 
	`exô
 (
EXIT_SUCCESS
);

389 
	}
}

	@readlink.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"ˇn⁄iˇlize.h
"

26 
	~"îr‹.h
"

27 
	~"¨ódlök.h
"

30 
	#PROGRAM_NAME
 "ªadlök"

	)

32 
	#AUTHORS
 
	`¥›î_«me
 ("Dmôry V. Levö")

	)

35 
boﬁ
 
	gno_√wlöe
;

38 
boﬁ
 
	gvîbo£
;

40 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

42 {"ˇn⁄iˇlize", 
no_¨gumít
, 
NULL
, 'f'},

43 {"ˇn⁄iˇlize-exi°ög", 
no_¨gumít
, 
NULL
, 'e'},

44 {"ˇn⁄iˇlize-missög", 
no_¨gumít
, 
NULL
, 'm'},

45 {"no-√wlöe", 
no_¨gumít
, 
NULL
, 'n'},

46 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

47 {"sûít", 
no_¨gumít
, 
NULL
, 's'},

48 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

49 {"zîo", 
no_¨gumít
, 
NULL
, 'z'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$ußge
 (
°©us
)

58 i‡(
°©us
 !
EXIT_SUCCESS
)

59 
	`emô_åy_hñp
 ();

62 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

63 
	`Âuts
 (
	`_
("Print value ofá symbolicÜink or canonical fileÇame\n\n"),

64 
°dout
);

65 
	`Âuts
 (
	`_
("\
-f, --ˇn⁄iˇlizê c™⁄iˇlizêby fﬁlowögÉvîy symlök in\n\
 comp⁄íào‡thêgivíÇamêªcursivñy;\
\n\
 buàthêœ° comp⁄íàmu°Éxi°\n\
-e, --ˇn⁄iˇlize-exi°ög c™⁄iˇlizêby fﬁlowögÉvîy symlök in\n\
 comp⁄íào‡thêgivíÇamêªcursivñy,\
\n\
 comp⁄ít†mu°Éxi°\n\
"), 
°dout
);

75 
	`Âuts
 (
	`_
("\
-m, --ˇn⁄iˇlize-missög c™⁄iˇlizêby fﬁlowögÉvîy symlök in\n\
 comp⁄íào‡thêgivíÇamêªcursivñy,\
\n\
Ñequúemít†⁄ comp⁄ít†exi°í˚\n\
-n, --no-√wlöê dÿnŸ ouçuàthêåaûög dñimôî\n\
-q, --quõt,\n\
-s, --sûíà suµªs†mo°Éº‹ mesßges\n\
-v, --vîbo£Ñï‹àîr‹ mesßges\n\
-z, --zîÿ sï¨©êouçuàwôh NULÑ©hîÅh™Çewlöe\n\
"), 
°dout
);

86 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

87 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

88 
	`emô_™cûœry_öfo
 ();

90 
	`exô
 (
°©us
);

91 
	}
}

94 
	$maö
 (
¨gc
, **
¨gv
)

97 
ˇn_mode
 = -1;

98 
°©us
 = 
EXIT_SUCCESS
;

99 
›tc
;

100 
boﬁ
 
u£_nuls
 = 
Ál£
;

102 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

103 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

104 
	`£éoˇÀ
 (
LC_ALL
, "");

105 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

106 
	`ãxtdomaö
 (
PACKAGE
);

108 
	`©exô
 (
˛o£_°dout
);

110 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "efmnqsvz", 
l⁄g›ts
, 
NULL
)) != -1)

112 
›tc
)

115 
ˇn_mode
 = 
CAN_EXISTING
;

118 
ˇn_mode
 = 
CAN_ALL_BUT_LAST
;

121 
ˇn_mode
 = 
CAN_MISSING
;

124 
no_√wlöe
 = 
åue
;

128 
vîbo£
 = 
Ál£
;

131 
vîbo£
 = 
åue
;

134 
u£_nuls
 = 
åue
;

136 
ˇ£_GETOPT_HELP_CHAR
;

137 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

139 
	`ußge
 (
EXIT_FAILURE
);

143 i‡(
›töd
 >
¨gc
)

145 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

146 
	`ußge
 (
EXIT_FAILURE
);

149 i‡(
¨gc
 - 
›töd
 > 1)

151 i‡(
no_√wlöe
)

152 
	`îr‹
 (0, 0, 
	`_
("ignoring --no-newline with multipleárguments"));

153 
no_√wlöe
 = 
Ál£
;

156 ; 
›töd
 < 
¨gc
; ++optind)

158 c⁄° *
‚ame
 = 
¨gv
[
›töd
];

159 *
vÆue
 = (
ˇn_mode
 != -1

160 ? 
	`ˇn⁄iˇlize_fûíame_mode
 (
‚ame
, 
ˇn_mode
)

161 : 
	`¨ódlök_wôh_size
 (
‚ame
, 63));

162 i‡(
vÆue
)

164 
	`Âuts
 (
vÆue
, 
°dout
);

165 i‡(! 
no_√wlöe
)

166 
	`putch¨
 (
u£_nuls
 ? '\0' : '\n');

167 
	`‰ì
 (
vÆue
);

171 
°©us
 = 
EXIT_FAILURE
;

172 i‡(
vîbo£
)

173 
	`îr‹
 (0, 
î∫o
, "%s", 
‚ame
);

177  
°©us
;

178 
	}
}

	@realpath.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"ˇn⁄iˇlize.h
"

26 
	~"îr‹.h
"

27 
	~"quŸe.h
"

28 
	~"ªÕ©h.h
"

31 
	#PROGRAM_NAME
 "ªÆ∑th"

	)

33 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("Padøig Bødy", "P\303\241døig Bødy")

	)

37 
	mRELATIVE_TO_OPTION
 = 
CHAR_MAX
 + 1,

38 
	mRELATIVE_BASE_OPTION


41 
boﬁ
 
	gvîbo£
 = 
åue
;

42 
boﬁ
 
	glogiˇl
;

43 
boﬁ
 
	gu£_nuls
;

44 c⁄° *
	gˇn_ªœtive_to
;

45 c⁄° *
	gˇn_ªœtive_ba£
;

47 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

49 {"ˇn⁄iˇlize-exi°ög", 
no_¨gumít
, 
NULL
, 'e'},

50 {"ˇn⁄iˇlize-missög", 
no_¨gumít
, 
NULL
, 'm'},

51 {"ªœtive-to", 
ªquúed_¨gumít
, 
NULL
, 
RELATIVE_TO_OPTION
},

52 {"ªœtive-ba£", 
ªquúed_¨gumít
, 
NULL
, 
RELATIVE_BASE_OPTION
},

53 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

54 {"°rù", 
no_¨gumít
, 
NULL
, 's' },

55 {"no-symlöks", 
no_¨gumít
, 
NULL
, 's'},

56 {"zîo", 
no_¨gumít
, 
NULL
, 'z'},

57 {"logiˇl", 
no_¨gumít
, 
NULL
, 'L'},

58 {"physiˇl", 
no_¨gumít
, 
NULL
, 'P'},

59 {
GETOPT_HELP_OPTION_DECL
},

60 {
GETOPT_VERSION_OPTION_DECL
},

61 {
NULL
, 0, NULL, 0}

65 
	$ußge
 (
°©us
)

67 i‡(
°©us
 !
EXIT_SUCCESS
)

68 
	`emô_åy_hñp
 ();

71 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

72 
	`Âuts
 (
	`_
("\
Åhêªsﬁvedábsﬁuã fûê«me;\n\
 buàthêœ° comp⁄íàmu°Éxi°\n\
\n\
"), 
°dout
);

77 
	`Âuts
 (
	`_
("\
-e, --ˇn⁄iˇlize-exi°ögáŒ comp⁄ít†o‡thê∑th mu°Éxi°\n\
-m, --ˇn⁄iˇlize-missögÇÿcomp⁄ít†o‡thê∑thÇìdÉxi°\n\
-L, --logiˇ»Ñesﬁvê'..' comp⁄ít†bef‹êsymlöks\n\
-P, --physiˇ»Ñesﬁvêsymlök†a†ícou¡îed (deÁu…)\n\
-q, --quõà suµªs†mo°Éº‹ mesßges\n\
--ªœtive-to=FILEÖröàthêªsﬁvedÖ©hÑñ©ivêtÿFILE\n\
--ªœtive-ba£=FILEÖröàabsﬁuãÖ©h†u∆es†∑th†bñow FILE\n\
-s, --°rù, --no-symlök† d⁄'àex∑nd symlöks\n\
-z, --zîÿ sï¨©êouçuàwôh NULÑ©hîÅh™Çewlöe\n\
\n\
"), 
°dout
);

89 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

90 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

91 
	`emô_™cûœry_öfo
 ();

93 
	`exô
 (
°©us
);

94 
	}
}

99 
	$ªÆ∑th_ˇn⁄
 (c⁄° *
‚ame
, 
ˇn_mode
)

101 *
ˇn_‚ame
 = 
	`ˇn⁄iˇlize_fûíame_mode
 (
‚ame
, 
ˇn_mode
);

102 i‡(
logiˇl
 && 
ˇn_‚ame
)

104 
ˇn_mode
 &~
CAN_NOLINKS
;

105 *
ˇn_‚ame2
 = 
	`ˇn⁄iˇlize_fûíame_mode
 (
ˇn_‚ame
, 
ˇn_mode
);

106 
	`‰ì
 (
ˇn_‚ame
);

107  
ˇn_‚ame2
;

109  
ˇn_‚ame
;

110 
	}
}

113 
boﬁ
 
_GL_ATTRIBUTE_PURE


114 
	$∑th_¥efix
 (c⁄° *
¥efix
, c⁄° *
∑th
)

117 
¥efix
++;

118 
∑th
++;

122 i‡(!*
¥efix
)

123  *
∑th
 != '/';

126 i‡(*
¥efix
 == '/' && !prefix[1])

127  *
∑th
 == '/';

130 *
¥efix
 && *
∑th
)

132 i‡(*
¥efix
 !*
∑th
)

134 
¥efix
++;

135 
∑th
++;

137  (!*
¥efix
 && (*
∑th
 == '/' || !*path));

138 
	}
}

140 
boﬁ


141 
	$isdú
 (c⁄° *
∑th
)

143 
°©
 
sb
;

144 i‡(
	`°©
 (
∑th
, &
sb
) != 0)

145 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
∑th
));

146  
	`S_ISDIR
 (
sb
.
°_mode
);

147 
	}
}

149 
boﬁ


150 
	$¥o˚ss_∑th
 (c⁄° *
‚ame
, 
ˇn_mode
)

152 *
ˇn_‚ame
 = 
	`ªÆ∑th_ˇn⁄
 (
‚ame
, 
ˇn_mode
);

153 i‡(!
ˇn_‚ame
)

155 i‡(
vîbo£
)

156 
	`îr‹
 (0, 
î∫o
, "%s", 
	`quŸe
 (
‚ame
));

157  
Ál£
;

160 i‡(!
ˇn_ªœtive_to


161 || (
ˇn_ªœtive_ba£
 && !
	`∑th_¥efix
 (ˇn_ªœtive_ba£, 
ˇn_‚ame
))

162 || (
ˇn_ªœtive_to
 && !
	`ªÕ©h
 (
ˇn_‚ame
, c™_ªœtive_to, 
NULL
, 0)))

163 
	`Âuts
 (
ˇn_‚ame
, 
°dout
);

165 
	`putch¨
 (
u£_nuls
 ? '\0' : '\n');

167 
	`‰ì
 (
ˇn_‚ame
);

169  
åue
;

170 
	}
}

173 
	$maö
 (
¨gc
, **
¨gv
)

175 
boﬁ
 
ok
 = 
åue
;

176 
ˇn_mode
 = 
CAN_ALL_BUT_LAST
;

177 c⁄° *
ªœtive_to
 = 
NULL
;

178 c⁄° *
ªœtive_ba£
 = 
NULL
;

180 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

181 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

182 
	`£éoˇÀ
 (
LC_ALL
, "");

183 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

184 
	`ãxtdomaö
 (
PACKAGE
);

186 
	`©exô
 (
˛o£_°dout
);

190 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "eLmPqsz", 
l⁄g›ts
, 
NULL
);

191 i‡(
c
 == -1)

193 
c
)

196 
ˇn_mode
 &~
CAN_MODE_MASK
;

197 
ˇn_mode
 |
CAN_EXISTING
;

200 
ˇn_mode
 &~
CAN_MODE_MASK
;

201 
ˇn_mode
 |
CAN_MISSING
;

204 
ˇn_mode
 |
CAN_NOLINKS
;

205 
logiˇl
 = 
åue
;

208 
ˇn_mode
 |
CAN_NOLINKS
;

209 
logiˇl
 = 
Ál£
;

212 
ˇn_mode
 &~
CAN_NOLINKS
;

213 
logiˇl
 = 
Ál£
;

216 
vîbo£
 = 
Ál£
;

219 
u£_nuls
 = 
åue
;

221 
RELATIVE_TO_OPTION
:

222 
ªœtive_to
 = 
›èrg
;

224 
RELATIVE_BASE_OPTION
:

225 
ªœtive_ba£
 = 
›èrg
;

227 
ˇ£_GETOPT_HELP_CHAR
;

228 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

230 
	`ußge
 (
EXIT_FAILURE
);

234 i‡(
›töd
 >
¨gc
)

236 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

237 
	`ußge
 (
EXIT_FAILURE
);

240 i‡(
ªœtive_ba£
 && !
ªœtive_to
)

241 
ªœtive_to
 = 
ªœtive_ba£
;

243 
boﬁ
 
√ed_dú
 = (
ˇn_mode
 & 
CAN_MODE_MASK
Ë=
CAN_EXISTING
;

244 i‡(
ªœtive_to
)

246 
ˇn_ªœtive_to
 = 
	`ªÆ∑th_ˇn⁄
 (
ªœtive_to
, 
ˇn_mode
);

247 i‡(!
ˇn_ªœtive_to
)

248 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
ªœtive_to
));

249 i‡(
√ed_dú
 && !
	`isdú
 (
ˇn_ªœtive_to
))

250 
	`îr‹
 (
EXIT_FAILURE
, 
ENOTDIR
, "%s", 
	`quŸe
 (
ªœtive_to
));

252 i‡(
ªœtive_ba£
 =
ªœtive_to
)

253 
ˇn_ªœtive_ba£
 = 
ˇn_ªœtive_to
;

254 i‡(
ªœtive_ba£
)

256 *
ba£
 = 
	`ªÆ∑th_ˇn⁄
 (
ªœtive_ba£
, 
ˇn_mode
);

257 i‡(!
ba£
)

258 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 (
ªœtive_ba£
));

259 i‡(
√ed_dú
 && !
	`isdú
 (
ba£
))

260 
	`îr‹
 (
EXIT_FAILURE
, 
ENOTDIR
, "%s", 
	`quŸe
 (
ªœtive_ba£
));

263 i‡(
	`∑th_¥efix
 (
ba£
, 
ˇn_ªœtive_to
))

264 
ˇn_ªœtive_ba£
 = 
ba£
;

267 
	`‰ì
 (
ba£
);

268 
ˇn_ªœtive_ba£
 = 
ˇn_ªœtive_to
;

269 
ˇn_ªœtive_to
 = 
NULL
;

273 ; 
›töd
 < 
¨gc
; ++optind)

274 
ok
 &
	`¥o˚ss_∑th
 (
¨gv
[
›töd
], 
ˇn_mode
);

276 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

277 
	}
}

	@relpath.c

19 
	~<c⁄fig.h
>

21 
	~"îr‹.h
"

22 
	~"sy°em.h
"

23 
	~"ªÕ©h.h
"

29 
_GL_ATTRIBUTE_PURE


30 
	$∑th_comm⁄_¥efix
 (c⁄° *
∑th1
, c⁄° *
∑th2
)

32 
i
 = 0;

33 
ªt
 = 0;

38 i‡((
∑th1
[1] ='/'Ë!(
∑th2
[1] == '/'))

41 *
∑th1
 && *
∑th2
)

43 i‡(*
∑th1
 !*
∑th2
)

45 i‡(*
∑th1
 == '/')

46 
ªt
 = 
i
 + 1;

47 
∑th1
++;

48 
∑th2
++;

49 
i
++;

52 i‡((!*
∑th1
 && !*
∑th2
)

53 || (!*
∑th1
 && *
∑th2
 == '/')

54 || (!*
∑th2
 && *
∑th1
 == '/'))

55 
ªt
 = 
i
;

57  
ªt
;

58 
	}
}

65 
boﬁ


66 
	$buf„r_‹_ouçut
 (c⁄° * 
°r
, **
pbuf
, 
size_t
 *
∂í
)

68 i‡(*
pbuf
)

70 
size_t
 
¶í
 = 
	`°æí
 (
°r
);

71 i‡(
¶í
 >*
∂í
)

72  
åue
;

73 
	`mem˝y
 (*
pbuf
, 
°r
, 
¶í
 + 1);

74 *
pbuf
 +
¶í
;

75 *
∂í
 -
¶í
;

79 
	`Âuts
 (
°r
, 
°dout
);

82  
Ál£
;

83 
	}
}

87 
boﬁ


88 
	$ªÕ©h
 (c⁄° *
ˇn_‚ame
, c⁄° *
ˇn_ªldú
, *
buf
, 
size_t
 
Àn
)

90 
boﬁ
 
buf_îr
 = 
Ál£
;

93 
comm⁄_ödex
 = 
	`∑th_comm⁄_¥efix
 (
ˇn_ªldú
, 
ˇn_‚ame
);

94 i‡(!
comm⁄_ödex
)

95  
Ál£
;

97 c⁄° *
ª…o_suffix
 = 
ˇn_ªldú
 + 
comm⁄_ödex
;

98 c⁄° *
‚ame_suffix
 = 
ˇn_‚ame
 + 
comm⁄_ödex
;

101 i‡(*
ª…o_suffix
 == '/')

102 
ª…o_suffix
++;

103 i‡(*
‚ame_suffix
 == '/')

104 
‚ame_suffix
++;

108 i‡(*
ª…o_suffix
)

110 
buf_îr
 |
	`buf„r_‹_ouçut
 ("..", &
buf
, &
Àn
);

111 ; *
ª…o_suffix
; ++relto_suffix)

113 i‡(*
ª…o_suffix
 == '/')

114 
buf_îr
 |
	`buf„r_‹_ouçut
 ("/..", &
buf
, &
Àn
);

117 i‡(*
‚ame_suffix
)

119 
buf_îr
 |
	`buf„r_‹_ouçut
 ("/", &
buf
, &
Àn
);

120 
buf_îr
 |
	`buf„r_‹_ouçut
 (
‚ame_suffix
, &
buf
, &
Àn
);

125 
buf_îr
 |
	`buf„r_‹_ouçut
 (*
‚ame_suffix
 ? fname_suffix : ".",

126 &
buf
, &
Àn
);

129 i‡(
buf_îr
)

130 
	`îr‹
 (0, 
ENAMETOOLONG
, "%s", 
	`_
("generatingÑelativeÖath"));

132  !
buf_îr
;

133 
	}
}

	@relpath.h

19 #i‚de‡
_RELPATH_H


20 
	#_RELPATH_H


	)

22 
boﬁ


23 
ªÕ©h
 (c⁄° *
ˇn_‚ame
, c⁄° *
ˇn_ªldú
, *
buf
, 
size_t
 
Àn
);

	@remove.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<as£π.h
>

24 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"fûe-ty≥.h
"

27 
	~"ign‹e-vÆue.h
"

28 
	~"quŸe.h
"

29 
	~"ªmove.h
"

30 
	~"roŸ-dev-öo.h
"

31 
	~"wrôe-™y-fûe.h
"

32 
	~"x·s.h
"

33 
	~"ye¢o.h
"

35 
	eTî«ry


37 
	mT_UNKNOWN
 = 2,

38 
	mT_NO
,

39 
	mT_YES


41 
Tî«ry
 
	tTî«ry
;

46 
	eProm±_a˘i⁄


48 
	mPA_DESCEND_INTO_DIR
 = 2,

49 
	mPA_REMOVE_DIR


54 #i‡! 
HAVE_STRUCT_DIRENT_D_TYPE


57 #unde‡
DT_UNKNOWN


58 #unde‡
DT_DIR


59 #unde‡
DT_LNK


60 
	#DT_UNKNOWN
 0

	)

61 
	#DT_DIR
 1

	)

62 
	#DT_LNK
 2

	)

70 
	$ˇche_f°©©
 (
fd
, c⁄° *
fûe
, 
°©
 *
°
, 
Êag
)

72 i‡(
°
->
°_size
 =-1 && 
	`f°©©
 (
fd
, 
fûe
, st, 
Êag
) != 0)

74 
°
->
°_size
 = -2;

75 
°
->
°_öo
 = 
î∫o
;

77 i‡(0 <
°
->
°_size
)

79 
î∫o
 = (Ë
°
->
°_öo
;

81 
	}
}

84 
ölöe
 
°©
 *

85 
	$ˇche_°©_öô
 (
°©
 *
°
)

87 
°
->
°_size
 = -1;

88  
°
;

89 
	}
}

96 
	$wrôe_¥Ÿe˘ed_n⁄_symlök
 (
fd_cwd
,

97 c⁄° *
fûe
,

98 
°©
 *
buf
)

100 i‡(
	`ˇn_wrôe_™y_fûe
 ())

102 i‡(
	`ˇche_f°©©
 (
fd_cwd
, 
fûe
, 
buf
, 
AT_SYMLINK_NOFOLLOW
) != 0)

104 i‡(
	`S_ISLNK
 (
buf
->
°_mode
))

155 i‡(
	`Ác˚sßt
 (
fd_cwd
, 
fûe
, 
W_OK
, 
AT_EACCESS
) == 0)

158  
î∫o
 =
EACCES
 ? 1 : -1;

160 
	}
}

175 
RM_°©us


176 
	$¥om±
 (
FTS
 c⁄° *
·s
, 
FTSENT
 c⁄° *
ít
, 
boﬁ
 
is_dú
,

177 
rm_›ti⁄s
 c⁄° *
x
, 
Prom±_a˘i⁄
 
mode
,

178 
Tî«ry
 *
is_em±y_p
)

180 
fd_cwd
 = 
·s
->
·s_cwd_fd
;

181 c⁄° *
fuŒ_«me
 = 
ít
->
·s_∑th
;

182 c⁄° *
fûíame
 = 
ít
->
·s_ac˝©h
;

183 i‡(
is_em±y_p
)

184 *
is_em±y_p
 = 
T_UNKNOWN
;

186 
°©
 
°
;

187 
°©
 *
sbuf
 = &
°
;

188 
	`ˇche_°©_öô
 (
sbuf
);

190 
dúít_ty≥
 = 
is_dú
 ? 
DT_DIR
 : 
DT_UNKNOWN
;

191 
wrôe_¥Ÿe˘ed
 = 0;

193 
boﬁ
 
is_em±y
 = 
Ál£
;

194 i‡(
is_em±y_p
)

196 
is_em±y
 = 
	`is_em±y_dú
 (
fd_cwd
, 
fûíame
);

197 *
is_em±y_p
 = 
is_em±y
 ? 
T_YES
 : 
T_NO
;

203 i‡(
ít
->
·s_numbî
)

204  
RM_USER_DECLINED
;

206 i‡(
x
->
öãø˘ive
 =
RMI_NEVER
)

207  
RM_OK
;

209 
wp_î∫o
 = 0;

210 i‡(!
x
->
ign‹e_missög_fûes


211 && ((
x
->
öãø˘ive
 =
RMI_ALWAYS
Ë|| x->
°dö_ây
)

212 && 
dúít_ty≥
 !
DT_LNK
)

214 
wrôe_¥Ÿe˘ed
 = 
	`wrôe_¥Ÿe˘ed_n⁄_symlök
 (
fd_cwd
, 
fûíame
, 
sbuf
);

215 
wp_î∫o
 = 
î∫o
;

218 i‡(
wrôe_¥Ÿe˘ed
 || 
x
->
öãø˘ive
 =
RMI_ALWAYS
)

220 i‡(0 <
wrôe_¥Ÿe˘ed
 && 
dúít_ty≥
 =
DT_UNKNOWN
)

222 i‡(
	`ˇche_f°©©
 (
fd_cwd
, 
fûíame
, 
sbuf
, 
AT_SYMLINK_NOFOLLOW
) == 0)

224 i‡(
	`S_ISLNK
 (
sbuf
->
°_mode
))

225 
dúít_ty≥
 = 
DT_LNK
;

226 i‡(
	`S_ISDIR
 (
sbuf
->
°_mode
))

227 
dúít_ty≥
 = 
DT_DIR
;

233 
wrôe_¥Ÿe˘ed
 = -1;

234 
wp_î∫o
 = 
î∫o
;

238 i‡(0 <
wrôe_¥Ÿe˘ed
)

239 
dúít_ty≥
)

241 
DT_LNK
:

243 i‡(
x
->
öãø˘ive
 !
RMI_ALWAYS
)

244  
RM_OK
;

247 
DT_DIR
:

251 i‡–! (
x
->
ªcursive
 || (x->
ªmove_em±y_dúe˘‹õs
 && 
is_em±y
)))

253 
wrôe_¥Ÿe˘ed
 = -1;

254 
wp_î∫o
 = 
EISDIR
;

259 c⁄° *
quŸed_«me
 = 
	`quŸe
 (
fuŒ_«me
);

261 i‡(
wrôe_¥Ÿe˘ed
 < 0)

263 
	`îr‹
 (0, 
wp_î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
quŸed_«me
);

264  
RM_ERROR
;

268 i‡(
dúít_ty≥
 =
DT_DIR


269 && 
mode
 =
PA_DESCEND_INTO_DIR


270 && !
is_em±y
)

271 
	`Ârötf
 (
°dîr
,

272 (
wrôe_¥Ÿe˘ed


273 ? 
	`_
("%s: descend into write-protected directory %s? ")

274 : 
	`_
("%s: descend into directory %s? ")),

275 
¥ogøm_«me
, 
quŸed_«me
);

278 i‡(
	`ˇche_f°©©
 (
fd_cwd
, 
fûíame
, 
sbuf
, 
AT_SYMLINK_NOFOLLOW
) != 0)

280 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
quŸed_«me
);

281  
RM_ERROR
;

284 
	`Ârötf
 (
°dîr
,

285 (
wrôe_¥Ÿe˘ed


290 ? 
	`_
("%s:Ñemove write-protected %s %s? ")

291 : 
	`_
("%s:Ñemove %s %s? ")),

292 
¥ogøm_«me
, 
	`fûe_ty≥
 (
sbuf
), 
quŸed_«me
);

295 i‡(!
	`ye¢o
 ())

296  
RM_USER_DECLINED
;

298  
RM_OK
;

299 
	}
}

304 
ölöe
 
boﬁ


305 
	$n⁄exi°ít_fûe_î∫o
 (
î∫um
)

319 
î∫um
)

321 
EILSEQ
:

322 
EINVAL
:

323 
ENOENT
:

324 
ENOTDIR
:

325  
åue
;

327  
Ál£
;

329 
	}
}

332 
ölöe
 
boﬁ


333 
	$ign‹abÀ_missög
 (
rm_›ti⁄s
 c⁄° *
x
, 
î∫um
)

335  
x
->
ign‹e_missög_fûes
 && 
	`n⁄exi°ít_fûe_î∫o
 (
î∫um
);

336 
	}
}

340 
	$·s_skù_åì
 (
FTS
 *
·s
, 
FTSENT
 *
ít
)

342 
	`·s_£t
 (
·s
, 
ít
, 
FTS_SKIP
);

344 
	`ign‹e_vÆue
 (
	`·s_ªad
 (
·s
));

345 
	}
}

351 
	$m¨k_™˚°‹_dús
 (
FTSENT
 *
ít
)

353 
FTSENT
 *
p
;

354 
p
 = 
ít
->
·s_∑ª¡
; 
FTS_ROOTLEVEL
 <p->
·s_Àvñ
;Ö =Ö->fts_parent)

356 i‡(
p
->
·s_numbî
)

358 
p
->
·s_numbî
 = 1;

360 
	}
}

365 
RM_°©us


366 
	$exci£
 (
FTS
 *
·s
, 
FTSENT
 *
ít
, 
rm_›ti⁄s
 c⁄° *
x
, 
boﬁ
 
is_dú
)

368 
Êag
 = 
is_dú
 ? 
AT_REMOVEDIR
 : 0;

369 i‡(
	`u∆ök©
 (
·s
->
·s_cwd_fd
, 
ít
->
·s_ac˝©h
, 
Êag
) == 0)

371 i‡(
x
->
vîbo£
)

373 
	`¥ötf
 ((
is_dú


374 ? 
	`_
("removed directory: %s\n")

375 : 
	`_
("ªmoved %s\n")), 
	`quŸe
 (
ít
->
·s_∑th
));

377  
RM_OK
;

384 i‡(
î∫o
 =
EROFS
)

386 
°©
 
°
;

387 i‡–! (
	`l°©©
 (
·s
->
·s_cwd_fd
, 
ít
->
·s_ac˝©h
, &
°
)

388 && 
î∫o
 =
ENOENT
))

389 
î∫o
 = 
EROFS
;

392 i‡(
	`ign‹abÀ_missög
 (
x
, 
î∫o
))

393  
RM_OK
;

400 i‡(
ít
->
·s_öfo
 =
FTS_DNR


401 && (
î∫o
 =
ENOTEMPTY
 ||Éºnÿ=
EISDIR
 ||Éºnÿ=
ENOTDIR


402 || 
î∫o
 =
EEXIST
)

403 && (
ít
->
·s_î∫o
 =
EPERM
 ||É¡->·s_î∫ÿ=
EACCES
))

404 
î∫o
 = 
ít
->
·s_î∫o
;

405 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
ít
->
·s_∑th
));

406 
	`m¨k_™˚°‹_dús
 (
ít
);

407  
RM_ERROR
;

408 
	}
}

416 
RM_°©us


417 
	$rm_·s
 (
FTS
 *
·s
, 
FTSENT
 *
ít
, 
rm_›ti⁄s
 c⁄° *
x
)

419 
ít
->
·s_öfo
)

421 
FTS_D
:

422 i‡(! 
x
->
ªcursive


423 && !(
x
->
ªmove_em±y_dúe˘‹õs


424 && 
	`is_em±y_dú
 (
·s
->
·s_cwd_fd
, 
ít
->
·s_ac˝©h
)))

430 
îr
 = 
x
->
ªmove_em±y_dúe˘‹õs
 ? 
ENOTEMPTY
 : 
EISDIR
;

431 
	`îr‹
 (0, 
îr
, 
	`_
("ˇ¬ŸÑemovê%s"), 
	`quŸe
 (
ít
->
·s_∑th
));

432 
	`m¨k_™˚°‹_dús
 (
ít
);

433 
	`·s_skù_åì
 (
·s
, 
ít
);

434  
RM_ERROR
;

438 i‡(
ít
->
·s_Àvñ
 =
FTS_ROOTLEVEL
)

442 i‡(
	`dŸ_‹_dŸdŸ
 (
	`œ°_comp⁄ít
 (
ít
->
·s_ac˝©h
)))

444 
	`îr‹
 (0, 0, 
	`_
("cannotÑemove directory: %s"),

445 
	`quŸe
 (
ít
->
·s_∑th
));

446 
	`·s_skù_åì
 (
·s
, 
ít
);

447  
RM_ERROR
;

452 i‡(
	`ROOT_DEV_INO_CHECK
 (
x
->
roŸ_dev_öo
, 
ít
->
·s_°©p
))

454 
	`ROOT_DEV_INO_WARN
 (
ít
->
·s_∑th
);

455 
	`·s_skù_åì
 (
·s
, 
ít
);

456  
RM_ERROR
;

461 
Tî«ry
 
is_em±y_dúe˘‹y
;

462 
RM_°©us
 
s
 = 
	`¥om±
 (
·s
, 
ít
, 
åue
 , 
x
,

463 
PA_DESCEND_INTO_DIR
, &
is_em±y_dúe˘‹y
);

465 i‡(
s
 =
RM_OK
 && 
is_em±y_dúe˘‹y
 =
T_YES
)

469 
s
 = 
	`exci£
 (
·s
, 
ít
, 
x
, 
åue
);

470 
	`·s_skù_åì
 (
·s
, 
ít
);

473 i‡(
s
 !
RM_OK
)

475 
	`m¨k_™˚°‹_dús
 (
ít
);

476 
	`·s_skù_åì
 (
·s
, 
ít
);

479  
s
;

482 
FTS_F
:

483 
FTS_NS
:

484 
FTS_SL
:

485 
FTS_SLNONE
:

486 
FTS_DP
:

487 
FTS_DNR
:

488 
FTS_NSOK
:

489 
FTS_DEFAULT
:

494 i‡(
ít
->
·s_öfo
 =
FTS_DP


495 && 
x
->
⁄e_fûe_sy°em


496 && 
FTS_ROOTLEVEL
 < 
ít
->
·s_Àvñ


497 && 
ít
->
·s_°©p
->
°_dev
 !
·s
->
·s_dev
)

499 
	`m¨k_™˚°‹_dús
 (
ít
);

500 
	`îr‹
 (0, 0, 
	`_
("skipping %s, since it's oná different device"),

501 
	`quŸe
 (
ít
->
·s_∑th
));

502  
RM_ERROR
;

505 
boﬁ
 
is_dú
 = 
ít
->
·s_öfo
 =
FTS_DP
 ||É¡->·s_öfÿ=
FTS_DNR
;

506 
RM_°©us
 
s
 = 
	`¥om±
 (
·s
, 
ít
, 
is_dú
, 
x
, 
PA_REMOVE_DIR
, 
NULL
);

507 i‡(
s
 !
RM_OK
)

508  
s
;

509  
	`exci£
 (
·s
, 
ít
, 
x
, 
is_dú
);

512 
FTS_DC
:

513 
	`emô_cy˛e_w¨nög
 (
ít
->
·s_∑th
);

514 
	`·s_skù_åì
 (
·s
, 
ít
);

515  
RM_ERROR
;

517 
FTS_ERR
:

520 
	`îr‹
 (0, 
ít
->
·s_î∫o
, 
	`_
("traversal failed: %s"),

521 
	`quŸe
 (
ít
->
·s_∑th
));

522 
	`·s_skù_åì
 (
·s
, 
ít
);

523  
RM_ERROR
;

526 
	`îr‹
 (0, 0, 
	`_
("unexpected failure: fts_info=%d: %s\n"

528 
ít
->
·s_öfo
,

529 
	`quŸe
 (
ít
->
·s_∑th
),

530 
PACKAGE_BUGREPORT
);

531 
	`ab‹t
 ();

533 
	}
}

537 
RM_°©us


538 
	$rm
 (*c⁄° *
fûe
, 
rm_›ti⁄s
 c⁄° *
x
)

540 
RM_°©us
 
rm_°©us
 = 
RM_OK
;

542 i‡(*
fûe
)

544 
bô_Êags
 = (
FTS_CWDFD


545 | 
FTS_NOSTAT


546 | 
FTS_PHYSICAL
);

548 i‡(
x
->
⁄e_fûe_sy°em
)

549 
bô_Êags
 |
FTS_XDEV
;

551 
FTS
 *
·s
 = 
	`x·s_›í
 (
fûe
, 
bô_Êags
, 
NULL
);

555 
FTSENT
 *
ít
;

557 
ít
 = 
	`·s_ªad
 (
·s
);

558 i‡(
ít
 =
NULL
)

560 i‡(
î∫o
 != 0)

562 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_read failed"));

563 
rm_°©us
 = 
RM_ERROR
;

568 
RM_°©us
 
s
 = 
	`rm_·s
 (
·s
, 
ít
, 
x
);

570 
	`as£π
 (
	`VALID_STATUS
 (
s
));

571 
	`UPDATE_STATUS
 (
rm_°©us
, 
s
);

574 i‡(
	`·s_˛o£
 (
·s
) != 0)

576 
	`îr‹
 (0, 
î∫o
, 
	`_
("fts_close failed"));

577 
rm_°©us
 = 
RM_ERROR
;

581  
rm_°©us
;

582 
	}
}

	@remove.h

18 #i‚de‡
REMOVE_H


19 
	#REMOVE_H


	)

21 
	~"dev-öo.h
"

23 
	erm_öãø˘ive


27 
	mRMI_ALWAYS
 = 3,

28 
	mRMI_SOMETIMES
,

29 
	mRMI_NEVER


32 
	srm_›ti⁄s


35 
boﬁ
 
	mign‹e_missög_fûes
;

38 
rm_öãø˘ive
 
	möãø˘ive
;

47 
boﬁ
 
	m⁄e_fûe_sy°em
;

50 
boﬁ
 
	mªcursive
;

53 
boﬁ
 
	mªmove_em±y_dúe˘‹õs
;

57 
dev_öo
 *
	mroŸ_dev_öo
;

60 
boﬁ
 
	m°dö_ây
;

63 
boﬁ
 
	mvîbo£
;

71 
boﬁ
 
	mªquúe_ª°‹e_cwd
;

74 
	eRM_°©us


77 
	mRM_OK
 = 2,

78 
	mRM_USER_DECLINED
,

79 
	mRM_ERROR
,

80 
	mRM_NONEMPTY_DIR


83 
	#VALID_STATUS
(
S
) \

84 ((
S
Ë=
RM_OK
 || (SË=
RM_USER_DECLINED
 || (SË=
RM_ERROR
)

	)

86 
	#UPDATE_STATUS
(
S
, 
New_vÆue
) \

89 i‡((
New_vÆue
Ë=
RM_ERROR
 \

90 || ((
New_vÆue
Ë=
RM_USER_DECLINED
 && (
S
Ë=
RM_OK
)) \

91 (
S
Ë(
New_vÆue
); \

93 0)

	)

95 
RM_°©us
 
rm
 (*c⁄° *
fûe
, 
rm_›ti⁄s
 c⁄° *
x
);

	@rm.c

21 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<gë›t.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<as£π.h
>

27 
	~"sy°em.h
"

28 
	~"¨gm©ch.h
"

29 
	~"îr‹.h
"

30 
	~"quŸe.h
"

31 
	~"quŸórg.h
"

32 
	~"ªmove.h
"

33 
	~"roŸ-dev-öo.h
"

34 
	~"ye¢o.h
"

35 
	~"¥iv-£t.h
"

38 
	#PROGRAM_NAME
 "rm"

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Paul Rubin"), \

42 
	`¥›î_«me
 ("David MacKenzie"), \

43 
	`¥›î_«me
 ("Richard M. Stallman"), \

44 
	`¥›î_«me
 ("Jim Meyîög")

	)

50 
	mINTERACTIVE_OPTION
 = 
CHAR_MAX
 + 1,

51 
	mONE_FILE_SYSTEM
,

52 
	mNO_PRESERVE_ROOT
,

53 
	mPRESERVE_ROOT
,

54 
	mPRESUME_INPUT_TTY_OPTION


57 
	eöãø˘ive_ty≥


59 
	möãø˘ive_√vî
,

60 
	möãø˘ive_⁄˚
,

61 
	möãø˘ive_Æways


64 
›ti⁄
 c⁄° 
	gl⁄g_›ts
[] =

66 {"f‹˚", 
no_¨gumít
, 
NULL
, 'f'},

67 {"öãø˘ive", 
›ti⁄Æ_¨gumít
, 
NULL
, 
INTERACTIVE_OPTION
},

69 {"⁄e-fûe-sy°em", 
no_¨gumít
, 
NULL
, 
ONE_FILE_SYSTEM
},

70 {"no-¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
NO_PRESERVE_ROOT
},

71 {"¥e£rve-roŸ", 
no_¨gumít
, 
NULL
, 
PRESERVE_ROOT
},

77 {"-¥esume-öput-ây", 
no_¨gumít
, 
NULL
, 
PRESUME_INPUT_TTY_OPTION
},

79 {"ªcursive", 
no_¨gumít
, 
NULL
, 'r'},

80 {"dú", 
no_¨gumít
, 
NULL
, 'd'},

81 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

82 {
GETOPT_HELP_OPTION_DECL
},

83 {
GETOPT_VERSION_OPTION_DECL
},

84 {
NULL
, 0, NULL, 0}

87 c⁄° *c⁄° 
	göãø˘ive_¨gs
[] =

91 "Æways", "yes", 
NULL


93 
öãø˘ive_ty≥
 c⁄° 
	göãø˘ive_ty≥s
[] =

95 
öãø˘ive_√vî
, interactive_never, interactive_never,

96 
öãø˘ive_⁄˚
,

97 
öãø˘ive_Æways
, interactive_always

99 
ARGMATCH_VERIFY
 (
öãø˘ive_¨gs
, 
öãø˘ive_ty≥s
);

105 
	$dügno£_Àadög_hyphí
 (
¨gc
, **
¨gv
)

109 
i
;

111 
i
 = 1; i < 
¨gc
; i++)

113 c⁄° *
¨g
 = 
¨gv
[
i
];

114 
°©
 
°
;

116 i‡(
¨g
[0] ='-' &&árg[1] && 
	`l°©
 (¨g, &
°
) == 0)

118 
	`Ârötf
 (
°dîr
,

119 
	`_
("Try '%s ./%s'ÅoÑemoveÅhe file %s.\n"),

120 
¨gv
[0],

121 
	`quŸórg_n_°yÀ
 (1, 
shñl_quŸög_°yÀ
, 
¨g
),

122 
	`quŸe
 (
¨g
));

126 
	}
}

129 
	$ußge
 (
°©us
)

131 i‡(
°©us
 !
EXIT_SUCCESS
)

132 
	`emô_åy_hñp
 ();

135 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

136 
	`Âuts
 (
	`_
("\
 (u∆ökËthêFILE(s).\n\
\n\
-f, --f‹˚ ign‹ên⁄exi°íàfûe†™dárgumíts,ÇevîÖrom±\n\
-òÖrom± bef‹êevîyÑemovÆ\n\
"), 
°dout
);

142 
	`Âuts
 (
	`_
("\
-IÖrom± on˚ bef‹êªmovög m‹êth™Åhªêfûes, or\n\
ÑemovögÑecursivñy. Les†öåusivêth™ -i,\n\
 stû»givögÖrŸe˘i⁄ágaö° mo° mi°akes\n\
--öãø˘ive[=WHEN]Örom±ácc‹dögÅÿWHEN:Çevî, on˚ (-I), or\n\
 (-i). WôhouàWHEN,Örom±álways\n\
"), 
°dout
);

149 
	`Âuts
 (
	`_
("\
--⁄e-fûe-sy°em whíÑemovögá hõørchyÑecursivñy, skùány\n\
Åh© i†⁄á fûêsy°em dif„ª¡ from\n\
 o‡thêc‹ª•⁄dög comm™dÜöê¨gumít\n\
"), 
°dout
);

154 
	`Âuts
 (
	`_
("\
--no-¥e£rve-roŸ dÿnŸÅª© '/' s≥cüŒy\n\
--¥e£rve-roŸ dÿnŸÑemovê'/' (deÁu…)\n\
-r, -R, --ªcursivêÑemovêdúe˘‹õ†™dÅheú c⁄ã¡†ªcursivñy\n\
-d, --dúÑemovêem±y dúe˘‹õs\n\
-v, --vîbo£Éx∂aö wh© i†beög d⁄e\n\
"), 
°dout
);

161 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

162 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

163 
	`Âuts
 (
	`_
("\
\n\
 deÁu…,Ñm d€†nŸÑemovêdúe˘‹õs. U£Åhê--ªcursivê(-∏‹ -R)\n\
ÅÿªmovêóchÜi°ed dúe˘‹y,Åoo,ál⁄g wôháŒ o‡ô†c⁄ã¡s.\n\
"), 
°dout
);

168 
	`¥ötf
 (
	`_
("\
\n\
Ñemoveá file whoseÇame starts withá '-', forÉxample '-foo',\n\
 one ofÅhese commands:\n\
%s -- -foo\n\
\n\
%s ./-foo\n\
"),

176 
¥ogøm_«me
,Örogram_name);

177 
	`Âuts
 (
	`_
("\
\n\
Åh© i‡you u£ÑmÅÿªmovê®fûe, iàmighàbêpossibÀÅÿªcovî\n\
 o‡ô†c⁄ã¡s, giví sufficõ¡Éx≥πi£ánd/‹Åime. F‹ gª©î\n\
Åh©Åhêc⁄ã¡†¨êåuly uƒecovîabÀ, c⁄sidî usög shªd.\n\
"), 
°dout
);

183 
	`emô_™cûœry_öfo
 ();

185 
	`exô
 (
°©us
);

186 
	}
}

189 
	$rm_›ti⁄_öô
 (
rm_›ti⁄s
 *
x
)

191 
x
->
ign‹e_missög_fûes
 = 
Ál£
;

192 
x
->
öãø˘ive
 = 
RMI_SOMETIMES
;

193 
x
->
⁄e_fûe_sy°em
 = 
Ál£
;

194 
x
->
ªmove_em±y_dúe˘‹õs
 = 
Ál£
;

195 
x
->
ªcursive
 = 
Ál£
;

196 
x
->
roŸ_dev_öo
 = 
NULL
;

197 
x
->
°dö_ây
 = 
	`ißây
 (
STDIN_FILENO
);

198 
x
->
vîbo£
 = 
Ál£
;

202 
x
->
ªquúe_ª°‹e_cwd
 = 
Ál£
;

203 
	}
}

206 
	$maö
 (
¨gc
, **
¨gv
)

208 
boﬁ
 
¥e£rve_roŸ
 = 
åue
;

209 
rm_›ti⁄s
 
x
;

210 
boﬁ
 
¥om±_⁄˚
 = 
Ál£
;

211 
c
;

213 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

214 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

215 
	`£éoˇÀ
 (
LC_ALL
, "");

216 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

217 
	`ãxtdomaö
 (
PACKAGE
);

219 
	`©exô
 (
˛o£_°dö
);

221 
	`rm_›ti⁄_öô
 (&
x
);

224 
	`¥iv_£t_ªmove_lökdú
 ();

226 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "dfúvIR", 
l⁄g_›ts
, 
NULL
)) != -1)

228 
c
)

231 
x
.
ªmove_em±y_dúe˘‹õs
 = 
åue
;

235 
x
.
öãø˘ive
 = 
RMI_NEVER
;

236 
x
.
ign‹e_missög_fûes
 = 
åue
;

237 
¥om±_⁄˚
 = 
Ál£
;

241 
x
.
öãø˘ive
 = 
RMI_ALWAYS
;

242 
x
.
ign‹e_missög_fûes
 = 
Ál£
;

243 
¥om±_⁄˚
 = 
Ál£
;

247 
x
.
öãø˘ive
 = 
RMI_NEVER
;

248 
x
.
ign‹e_missög_fûes
 = 
Ál£
;

249 
¥om±_⁄˚
 = 
åue
;

254 
x
.
ªcursive
 = 
åue
;

257 
INTERACTIVE_OPTION
:

259 
i
;

260 i‡(
›èrg
)

261 
i
 = 
	`XARGMATCH
 ("--öãø˘ive", 
›èrg
, 
öãø˘ive_¨gs
,

262 
öãø˘ive_ty≥s
);

264 
i
 = 
öãø˘ive_Æways
;

265 
i
)

267 
öãø˘ive_√vî
:

268 
x
.
öãø˘ive
 = 
RMI_NEVER
;

269 
¥om±_⁄˚
 = 
Ál£
;

272 
öãø˘ive_⁄˚
:

273 
x
.
öãø˘ive
 = 
RMI_SOMETIMES
;

274 
x
.
ign‹e_missög_fûes
 = 
Ál£
;

275 
¥om±_⁄˚
 = 
åue
;

278 
öãø˘ive_Æways
:

279 
x
.
öãø˘ive
 = 
RMI_ALWAYS
;

280 
x
.
ign‹e_missög_fûes
 = 
Ál£
;

281 
¥om±_⁄˚
 = 
Ál£
;

287 
ONE_FILE_SYSTEM
:

288 
x
.
⁄e_fûe_sy°em
 = 
åue
;

291 
NO_PRESERVE_ROOT
:

292 
¥e£rve_roŸ
 = 
Ál£
;

295 
PRESERVE_ROOT
:

296 
¥e£rve_roŸ
 = 
åue
;

299 
PRESUME_INPUT_TTY_OPTION
:

300 
x
.
°dö_ây
 = 
åue
;

304 
x
.
vîbo£
 = 
åue
;

307 
ˇ£_GETOPT_HELP_CHAR
;

308 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

310 
	`dügno£_Àadög_hyphí
 (
¨gc
, 
¨gv
);

311 
	`ußge
 (
EXIT_FAILURE
);

315 i‡(
¨gc
 <
›töd
)

317 i‡(
x
.
ign‹e_missög_fûes
)

318 
	`exô
 (
EXIT_SUCCESS
);

321 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

322 
	`ußge
 (
EXIT_FAILURE
);

326 i‡(
x
.
ªcursive
 && 
¥e£rve_roŸ
)

328 
dev_öo
 
dev_öo_buf
;

329 
x
.
roŸ_dev_öo
 = 
	`gë_roŸ_dev_öo
 (&
dev_öo_buf
);

330 i‡(
x
.
roŸ_dev_öo
 =
NULL
)

331 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo getáttributes of %s"),

332 
	`quŸe
 ("/"));

335 
size_t
 
n_fûes
 = 
¨gc
 - 
›töd
;

336 **
fûe
 = 
¨gv
 + 
›töd
;

338 i‡(
¥om±_⁄˚
 && (
x
.
ªcursive
 || 3 < 
n_fûes
))

340 
	`Ârötf
 (
°dîr
,

341 (
x
.
ªcursive


342 ? 
	`_
("%s:ÑemoveállárgumentsÑecursively? ")

343 : 
	`_
("%s:Ñemoveállárguments? ")),

344 
¥ogøm_«me
);

345 i‡(!
	`ye¢o
 ())

346 
	`exô
 (
EXIT_SUCCESS
);

349 
RM_°©us
 
°©us
 = 
	`rm
 (
fûe
, &
x
);

350 
	`as£π
 (
	`VALID_STATUS
 (
°©us
));

351 
	`exô
 (
°©us
 =
RM_ERROR
 ? 
EXIT_FAILURE
 : 
EXIT_SUCCESS
);

352 
	}
}

	@rmdir.c

25 
	~<c⁄fig.h
>

26 
	~<°dio.h
>

27 
	~<gë›t.h
>

28 
	~<sys/ty≥s.h
>

30 
	~"sy°em.h
"

31 
	~"îr‹.h
"

32 
	~"¥og-Ârötf.h
"

33 
	~"quŸe.h
"

36 
	#PROGRAM_NAME
 "rmdú"

	)

38 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

41 
boﬁ
 
	gªmove_em±y_∑ª¡s
;

45 
boﬁ
 
	gign‹e_Áû_⁄_n⁄_em±y
;

48 
boﬁ
 
	gvîbo£
;

54 
	mIGNORE_FAIL_ON_NON_EMPTY_OPTION
 = 
CHAR_MAX
 + 1

57 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

61 {"ign‹e-Áû-⁄-n⁄-em±y", 
no_¨gumít
, 
NULL
,

62 
IGNORE_FAIL_ON_NON_EMPTY_OPTION
},

64 {"∑th", 
no_¨gumít
, 
NULL
, 'p'},

65 {"∑ª¡s", 
no_¨gumít
, 
NULL
, 'p'},

66 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

74 
boﬁ


75 
	$î∫o_rmdú_n⁄_em±y
 (
îr‹_numbî
)

77  
îr‹_numbî
 =
ENOTEMPTY
 ||Éº‹_numbî =
EEXIST
;

78 
	}
}

82 
boﬁ


83 
	$î∫o_may_be_em±y
 (
îr‹_numbî
)

85 
îr‹_numbî
)

87 
EACCES
:

88 
EPERM
:

89 
EROFS
:

90 
EEXIST
:

91 
EBUSY
:

92  
åue
;

94  
Ál£
;

96 
	}
}

100 
boﬁ


101 
	$ign‹abÀ_Áûuª
 (
îr‹_numbî
, c⁄° *
dú
)

103  (
ign‹e_Áû_⁄_n⁄_em±y


104 && (
	`î∫o_rmdú_n⁄_em±y
 (
îr‹_numbî
)

105 || (
	`î∫o_may_be_em±y
 (
îr‹_numbî
)

106 && 
	`is_em±y_dú
 (
AT_FDCWD
, 
dú
))));

107 
	}
}

114 
boﬁ


115 
	$ªmove_∑ª¡s
 (*
dú
)

117 *
¶ash
;

118 
boﬁ
 
ok
 = 
åue
;

120 
	`°rù_åaûög_¶ashes
 (
dú
);

123 
¶ash
 = 
	`°ºchr
 (
dú
, '/');

124 i‡(
¶ash
 =
NULL
)

128 
¶ash
 > 
dú
 && *slash == '/')

129 --
¶ash
;

130 
¶ash
[1] = 0;

133 i‡(
vîbo£
)

134 
	`¥og_Ârötf
 (
°dout
, 
	`_
("ªmovög dúe˘‹y, %s"), 
	`quŸe
 (
dú
));

136 
ok
 = (
	`rmdú
 (
dú
) == 0);

138 i‡(!
ok
)

141 i‡(
	`ign‹abÀ_Áûuª
 (
î∫o
, 
dú
))

143 
ok
 = 
åue
;

148 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÑemove directory %s"),

149 
	`quŸe
 (
dú
));

154  
ok
;

155 
	}
}

158 
	$ußge
 (
°©us
)

160 i‡(
°©us
 !
EXIT_SUCCESS
)

161 
	`emô_åy_hñp
 ();

164 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... DIRECTORY...\n"), 
¥ogøm_«me
);

165 
	`Âuts
 (
	`_
("\
ÅhêDIRECTORY(õs), i‡theyáªÉm±y.\n\
\n\
--ign‹e-Áû-⁄-n⁄-em±y\n\
Éach faûuªÅh© i†sﬁñy beˇu£á dúe˘‹y\n\
Ç⁄-em±y\n\
"), 
°dout
);

172 
	`Âuts
 (
	`_
("\
-p, --∑ª¡†ÑemovêDIRECTORYánd it†™˚°‹s;É.g., 'rmdú -∞a/b/c' is\
\n\
Åÿ'rmdúá/b/¯a/bá'\n\
-v, --vîbo£ ouçuà®dügno°i¯f‹Évîy dúe˘‹yÖro˚s£d\n\
"), 
°dout
);

178 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

179 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

180 
	`emô_™cûœry_öfo
 ();

182 
	`exô
 (
°©us
);

183 
	}
}

186 
	$maö
 (
¨gc
, **
¨gv
)

188 
boﬁ
 
ok
 = 
åue
;

189 
›tc
;

191 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

192 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

193 
	`£éoˇÀ
 (
LC_ALL
, "");

194 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

195 
	`ãxtdomaö
 (
PACKAGE
);

197 
	`©exô
 (
˛o£_°dout
);

199 
ªmove_em±y_∑ª¡s
 = 
Ál£
;

201 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "pv", 
l⁄g›ts
, 
NULL
)) != -1)

203 
›tc
)

206 
ªmove_em±y_∑ª¡s
 = 
åue
;

208 
IGNORE_FAIL_ON_NON_EMPTY_OPTION
:

209 
ign‹e_Áû_⁄_n⁄_em±y
 = 
åue
;

212 
vîbo£
 = 
åue
;

214 
ˇ£_GETOPT_HELP_CHAR
;

215 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

217 
	`ußge
 (
EXIT_FAILURE
);

221 i‡(
›töd
 =
¨gc
)

223 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

224 
	`ußge
 (
EXIT_FAILURE
);

227 ; 
›töd
 < 
¨gc
; ++optind)

229 *
dú
 = 
¨gv
[
›töd
];

232 i‡(
vîbo£
)

233 
	`¥og_Ârötf
 (
°dout
, 
	`_
("ªmovög dúe˘‹y, %s"), 
	`quŸe
 (
dú
));

235 i‡(
	`rmdú
 (
dú
) != 0)

237 i‡(
	`ign‹abÀ_Áûuª
 (
î∫o
, 
dú
))

242 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿªmovê%s"), 
	`quŸe
 (
dú
));

243 
ok
 = 
Ál£
;

245 i‡(
ªmove_em±y_∑ª¡s
)

247 
ok
 &
	`ªmove_∑ª¡s
 (
dú
);

251 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

252 
	}
}

	@runcon.c

43 
	~<c⁄fig.h
>

44 
	~<°dio.h
>

45 
	~<gë›t.h
>

46 
	~<£löux/£löux.h
>

47 
	~<£löux/c⁄ãxt.h
>

48 #ifde‡
HAVE_SELINUX_FLASK_H


49 
	~<£löux/Êask.h
>

51 
	#SECCLASS_PROCESS
 0

	)

53 
	~<sys/ty≥s.h
>

54 
	~"sy°em.h
"

55 
	~"îr‹.h
"

56 
	~"quŸe.h
"

57 
	~"quŸórg.h
"

60 
	#PROGRAM_NAME
 "runc⁄"

	)

62 
	#AUTHORS
 
	`¥›î_«me
 ("Rus£Œ Cokî")

	)

64 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

66 {"rﬁe", 
ªquúed_¨gumít
, 
NULL
, 'r'},

67 {"ty≥", 
ªquúed_¨gumít
, 
NULL
, 't'},

68 {"u£r", 
ªquúed_¨gumít
, 
NULL
, 'u'},

69 {"ønge", 
ªquúed_¨gumít
, 
NULL
, 'l'},

70 {"compuã", 
no_¨gumít
, 
NULL
, 'c'},

71 {
GETOPT_HELP_OPTION_DECL
},

72 {
GETOPT_VERSION_OPTION_DECL
},

73 {
NULL
, 0, NULL, 0}

77 
	$ußge
 (
°©us
)

79 i‡(
°©us
 !
EXIT_SUCCESS
)

80 
	`emô_åy_hñp
 ();

83 
	`¥ötf
 (
	`_
("\
: %†CONTEXT COMMAND [¨gs]\n\
: %†[ -¯] [-u USER] [-∏ROLE] [-àTYPE] [-»RANGE] COMMAND [¨gs]\n\
"), 
¥ogøm_«me
,Örogram_name);

87 
	`Âuts
 (
	`_
("\
áÖrogøm i¿®dif„ª¡ securôy c⁄ãxt.\n\
Çeôhî CONTEXTÇ‹ COMMAND,Öröàthêcuºíà£curôy c⁄ãxt.\n\
"), 
°dout
);

92 
	`emô_m™d©‹y_¨g_nŸe
 ();

94 
	`Âuts
 (
	`_
("\
 Com∂ëê£curôy c⁄ãxt\n\
-c, --compuã compuãÖro˚s†å™sôi⁄ c⁄ãxàbef‹êmodifyög\n\
-t, --ty≥=TYPEÅy≥ (f‹ samêrﬁêa†∑ª¡)\n\
-u, --u£r=USER u£∏idítôy\n\
-r, --rﬁe=ROLEÑﬁe\n\
-l, --ønge=RANGEÜevñønge\n\
\n\
"), 
°dout
);

103 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

104 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

105 
	`emô_™cûœry_öfo
 ();

107 
	`exô
 (
°©us
);

108 
	}
}

111 
	$maö
 (
¨gc
, **
¨gv
)

113 *
rﬁe
 = 
NULL
;

114 *
ønge
 = 
NULL
;

115 *
u£r
 = 
NULL
;

116 *
ty≥
 = 
NULL
;

117 *
c⁄ãxt
 = 
NULL
;

118 
£curôy_c⁄ãxt_t
 
cur_c⁄ãxt
 = 
NULL
;

119 
£curôy_c⁄ãxt_t
 
fûe_c⁄ãxt
 = 
NULL
;

120 
£curôy_c⁄ãxt_t
 
√w_c⁄ãxt
 = 
NULL
;

121 
boﬁ
 
compuã_å™s
 = 
Ál£
;

123 
c⁄ãxt_t
 
c⁄
;

125 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

126 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

127 
	`£éoˇÀ
 (
LC_ALL
, "");

128 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

129 
	`ãxtdomaö
 (
PACKAGE
);

131 
	`©exô
 (
˛o£_°dout
);

135 
›ti⁄_ödex
 = 0;

136 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+r:t:u:l:c", 
l⁄g_›ti⁄s
,

137 &
›ti⁄_ödex
);

138 i‡(
c
 == -1)

140 
c
)

143 i‡(
rﬁe
)

144 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÑoles"));

145 
rﬁe
 = 
›èrg
;

148 i‡(
ty≥
)

149 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÅypes"));

150 
ty≥
 = 
›èrg
;

153 i‡(
u£r
)

154 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple users"));

155 
u£r
 = 
›èrg
;

158 i‡(
ønge
)

159 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÜevelranges"));

160 
ønge
 = 
›èrg
;

163 
compuã_å™s
 = 
åue
;

166 
ˇ£_GETOPT_HELP_CHAR
;

167 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

169 
	`ußge
 (
EXIT_FAILURE
);

174 i‡(
¨gc
 - 
›töd
 == 0)

176 i‡(
	`gëc⁄
 (&
cur_c⁄ãxt
) < 0)

177 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo get current context"));

178 
	`Âuts
 (
cur_c⁄ãxt
, 
°dout
);

179 
	`Âutc
 ('\n', 
°dout
);

180 
	`exô
 (
EXIT_SUCCESS
);

183 i‡(!(
u£r
 || 
rﬁe
 || 
ty≥
 || 
ønge
 || 
compuã_å™s
))

185 i‡(
›töd
 >
¨gc
)

187 
	`îr‹
 (0, 0, 
	`_
("you must specify -c, -t, -u, -l, -r, or context"));

188 
	`ußge
 (
EXIT_FAILURE
);

190 
c⁄ãxt
 = 
¨gv
[
›töd
++];

193 i‡(
›töd
 >
¨gc
)

195 
	`îr‹
 (0, 0, 
	`_
("no command specified"));

196 
	`ußge
 (
EXIT_FAILURE
);

199 i‡(
	`is_£löux_íabÀd
 () != 1)

200 
	`îr‹
 (
EXIT_FAILURE
, 0,

201 
	`_
("%†may bêu£d o∆y o¿®SELöux kî√l"), 
¥ogøm_«me
);

203 i‡(
c⁄ãxt
)

205 
c⁄
 = 
	`c⁄ãxt_√w
 (
c⁄ãxt
);

206 i‡(!
c⁄
)

207 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo create security context: %s"),

208 
	`quŸórg_cﬁ⁄
 (
c⁄ãxt
));

212 i‡(
	`gëc⁄
 (&
cur_c⁄ãxt
) < 0)

213 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo get current context"));

216 i‡(
compuã_å™s
)

219 i‡(
	`gëfûec⁄
 (
¨gv
[
›töd
], &
fûe_c⁄ãxt
) == -1)

220 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

221 
	`_
("failedÅo get security context of %s"),

222 
	`quŸe
 (
¨gv
[
›töd
]));

224 i‡(
	`£curôy_compuã_¸óã
 (
cur_c⁄ãxt
, 
fûe_c⁄ãxt
,

225 
SECCLASS_PROCESS
, &
√w_c⁄ãxt
) != 0)

226 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

227 
	`_
("failedÅo computeáÇew context"));

229 
	`‰ìc⁄
 (
fûe_c⁄ãxt
);

230 
	`‰ìc⁄
 (
cur_c⁄ãxt
);

233 
cur_c⁄ãxt
 = 
√w_c⁄ãxt
;

236 
c⁄
 = 
	`c⁄ãxt_√w
 (
cur_c⁄ãxt
);

237 i‡(!
c⁄
)

238 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo create security context: %s"),

239 
	`quŸórg_cﬁ⁄
 (
cur_c⁄ãxt
));

240 i‡(
u£r
 && 
	`c⁄ãxt_u£r_£t
 (
c⁄
, user))

241 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ£à√w u£∏%s"), 
u£r
);

242 i‡(
ty≥
 && 
	`c⁄ãxt_ty≥_£t
 (
c⁄
,Åype))

243 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ£à√wÅy≥ %s"), 
ty≥
);

244 i‡(
ønge
 && 
	`c⁄ãxt_ønge_£t
 (
c⁄
,Ñange))

245 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ£à√wÑ™gê%s"), 
ønge
);

246 i‡(
rﬁe
 && 
	`c⁄ãxt_rﬁe_£t
 (
c⁄
,Ñole))

247 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ£à√wÑﬁê%s"), 
rﬁe
);

250 i‡(
	`£curôy_check_c⁄ãxt
 (
	`c⁄ãxt_°r
 (
c⁄
)) < 0)

251 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("invalid context: %s"),

252 
	`quŸórg_cﬁ⁄
 (
	`c⁄ãxt_°r
 (
c⁄
)));

254 i‡(
	`£ãxecc⁄
 (
	`c⁄ãxt_°r
 (
c⁄
)) != 0)

255 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("unableÅo set security context %s"),

256 
	`quŸe
 (
	`c⁄ãxt_°r
 (
c⁄
)));

257 i‡(
cur_c⁄ãxt
 !
NULL
)

258 
	`‰ìc⁄
 (
cur_c⁄ãxt
);

260 
	`execvp
 (
¨gv
[
›töd
],árgv + optind);

263 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

264 
	`îr‹
 (0, 
î∫o
, "%s", 
¨gv
[
›töd
]);

265 
	`exô
 (
exô_°©us
);

267 
	}
}

	@seq.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"c-°πod.h
"

26 
	~"îr‹.h
"

27 
	~"quŸe.h
"

28 
	~"x°πod.h
"

32 #i‚de‡
isföôe


33 
	#isföôe
(
x
Ë((xË* 0 =0)

	)

37 
	#PROGRAM_NAME
 "£q"

	)

39 
	#AUTHORS
 
	`¥›î_«me
 ("UÃich Dªµî")

	)

42 
boﬁ
 
	gequÆ_width
;

45 c⁄° *
	g£∑øt‹
;

49 c⁄° 
	gãrmö©‹
[] = "\n";

51 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

53 { "equÆ-width", 
no_¨gumít
, 
NULL
, 'w'},

54 { "f‹m©", 
ªquúed_¨gumít
, 
NULL
, 'f'},

55 { "£∑øt‹", 
ªquúed_¨gumít
, 
NULL
, 's'},

56 {
GETOPT_HELP_OPTION_DECL
},

57 {
GETOPT_VERSION_OPTION_DECL
},

58 { 
NULL
, 0, NULL, 0}

62 
	$ußge
 (
°©us
)

64 i‡(
°©us
 !
EXIT_SUCCESS
)

65 
	`emô_åy_hñp
 ();

68 
	`¥ötf
 (
	`_
("\
: %†[OPTION]... LAST\n\
: %†[OPTION]... FIRST LAST\n\
: %†[OPTION]... FIRST INCREMENT LAST\n\
"), 
¥ogøm_«me
,Örogram_name,Örogram_name);

73 
	`Âuts
 (
	`_
("\
Çumbî†‰om FIRSTÅÿLAST, i¿°ï†o‡INCREMENT.\n\
"), 
°dout
);

77 
	`emô_m™d©‹y_¨g_nŸe
 ();

79 
	`Âuts
 (
	`_
("\
-f, --f‹m©=FORMAT u£Öröt‡°yÀ flﬂtög-poöàFORMAT\n\
-s, --£∑øt‹=STRING u£ STRINGÅÿ£∑øãÇumbî†(deÁu…: \\n)\n\
-w, --equÆ-widthÉquÆizêwidth byÖaddög wôhÜódög zî€s\n\
"), 
°dout
);

84 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

85 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

86 
	`Âuts
 (
	`_
("\
\n\
 FIRST o∏INCREMENT i†omôãd, iàdeÁu…†tÿ1. Th© is,án\n\
 INCREMENT deÁu…†tÿ1Éví whí LAST i†smÆÀ∏th™ FIRST.\n\
, INCREMENT,ánd LASTáª i¡î¥ëedá†ÊﬂtögÖoöàvÆues.\n\
 i†usuÆlyÖosôivêi‡FIRST i†smÆÀ∏th™ LAST,ánd\n\
 i†usuÆlyÇeg©ivêi‡FIRST i†gª©îÅh™ LAST.\n\
"), 
°dout
);

94 
	`Âuts
 (
	`_
("\
 mu° bêsuôabÀ f‹Örötög o√árgumíào‡ty≥ 'doubÀ';\n\
 deÁu…†tÿ%.PREC‡i‡FIRST, INCREMENT,ánd LASTáªáŒ fixedÖoöt\n\
Çumbî†wôh maximumÖªcisi⁄ PREC,ándÅÿ%g othîwi£.\n\
"), 
°dout
);

99 
	`emô_™cûœry_öfo
 ();

101 
	`exô
 (
°©us
);

102 
	}
}

105 
	s›î™d


108 
	mvÆue
;

114 
size_t
 
	mwidth
;

118 
	m¥ecisi⁄
;

120 
›î™d
 
	t›î™d
;

123 
	sœyout


126 
size_t
 
	m¥efix_Àn
;

127 
size_t
 
	msuffix_Àn
;

133 
›î™d


134 
	$sˇn_¨g
 (c⁄° *
¨g
)

136 
›î™d
 
ªt
;

138 i‡(! 
	`x°πﬁd
 (
¨g
, 
NULL
, &
ªt
.
vÆue
, 
c_°πﬁd
))

140 
	`îr‹
 (0, 0, 
	`_
("övÆid flﬂtögÖoöà¨gumít: %s"), 
¨g
);

141 
	`ußge
 (
EXIT_FAILURE
);

145 
	`is•a˚
 (
	`to_uch¨
 (*
¨g
)) || *arg == '+')

146 
¨g
++;

148 
ªt
.
width
 = 
	`°æí
 (
¨g
);

149 
ªt
.
¥ecisi⁄
 = 
INT_MAX
;

151 i‡(! 
¨g
[
	`°rc•n
 (¨g, "xX")] && 
	`isföôe
 (
ªt
.
vÆue
))

153 c⁄° *
decimÆ_poöt
 = 
	`°rchr
 (
¨g
, '.');

154 i‡(! 
decimÆ_poöt
)

155 
ªt
.
¥ecisi⁄
 = 0;

158 
size_t
 
‰a˘i⁄_Àn
 = 
	`°rc•n
 (
decimÆ_poöt
 + 1, "eE");

159 i‡(
‰a˘i⁄_Àn
 <
INT_MAX
)

160 
ªt
.
¥ecisi⁄
 = 
‰a˘i⁄_Àn
;

161 
ªt
.
width
 +(
‰a˘i⁄_Àn
 == 0

163 : (
decimÆ_poöt
 =
¨g


164 || ! 
	`ISDIGIT
 (
decimÆ_poöt
[-1])));

166 c⁄° *
e
 = 
	`°rchr
 (
¨g
, 'e');

167 i‡(! 
e
)

168 
e
 = 
	`°rchr
 (
¨g
, 'E');

169 i‡(
e
)

171 
exp⁄ít
 = 
	`°πﬁ
 (
e
 + 1, 
NULL
, 10);

172 
ªt
.
¥ecisi⁄
 +
exp⁄ít
 < 0 ? -exponent : 0;

174 
ªt
.
width
 -
	`°æí
 (
¨g
Ë- (
e
 -árg);

176 i‡(
exp⁄ít
 < 0)

178 i‡(
decimÆ_poöt
)

180 i‡(
e
 =
decimÆ_poöt
 + 1)

181 
ªt
.
width
++;

184 
ªt
.
width
++;

185 
exp⁄ít
 = -exponent;

187 
ªt
.
width
 +
exp⁄ít
;

191  
ªt
;

192 
	}
}

200 
	$l⁄g_doubÀ_f‹m©
 (c⁄° *
fmt
, 
œyout
 *layout)

202 
size_t
 
i
;

203 
size_t
 
¥efix_Àn
 = 0;

204 
size_t
 
suffix_Àn
 = 0;

205 
size_t
 
Àngth_modifõr_off£t
;

206 
boﬁ
 
has_L
;

208 
i
 = 0; ! (
fmt
[i] == '%' && fmt[i + 1] != '%'); i += (fmt[i] == '%') + 1)

210 i‡(!
fmt
[
i
])

211 
	`îr‹
 (
EXIT_FAILURE
, 0,

212 
	`_
("f‹m© %†ha†nÿ%% dúe˘ive"), 
	`quŸe
 (
fmt
));

213 
¥efix_Àn
++;

216 
i
++;

217 
i
 +
	`°r•n
 (
fmt
 + i, "-+#0 '");

218 
i
 +
	`°r•n
 (
fmt
 + i, "0123456789");

219 i‡(
fmt
[
i
] == '.')

221 
i
++;

222 
i
 +
	`°r•n
 (
fmt
 + i, "0123456789");

225 
Àngth_modifõr_off£t
 = 
i
;

226 
has_L
 = (
fmt
[
i
] == 'L');

227 
i
 +
has_L
;

228 i‡(
fmt
[
i
] == '\0')

229 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("f‹m© %†íd†ö %%"), 
	`quŸe
 (
fmt
));

230 i‡(! 
	`°rchr
 ("efgaEFGA", 
fmt
[
i
]))

231 
	`îr‹
 (
EXIT_FAILURE
, 0,

232 
	`_
("f‹m© %†ha†unknow¿%%%¯dúe˘ive"), 
	`quŸe
 (
fmt
), fmt[
i
]);

234 
i
++; ; i +(
fmt
[i] == '%') + 1)

235 i‡(
fmt
[
i
] == '%' && fmt[i + 1] != '%')

236 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("format %s hasÅoo many %% directives"),

237 
	`quŸe
 (
fmt
));

238 i‡(
fmt
[
i
])

239 
suffix_Àn
++;

242 
size_t
 
f‹m©_size
 = 
i
 + 1;

243 *
ldfmt
 = 
	`xmÆloc
 (
f‹m©_size
 + 1);

244 
	`mem˝y
 (
ldfmt
, 
fmt
, 
Àngth_modifõr_off£t
);

245 
ldfmt
[
Àngth_modifõr_off£t
] = 'L';

246 
	`°r˝y
 (
ldfmt
 + 
Àngth_modifõr_off£t
 + 1,

247 
fmt
 + 
Àngth_modifõr_off£t
 + 
has_L
);

248 
œyout
->
¥efix_Àn
 =Örefix_len;

249 
œyout
->
suffix_Àn
 = suffix_len;

250  
ldfmt
;

252 
	}
}

258 
	$¥öt_numbîs
 (c⁄° *
fmt
, 
œyout
Üayout,

259 
fú°
, 
°ï
, 
œ°
)

261 
boﬁ
 
out_of_ønge
 = (
°ï
 < 0 ? 
fú°
 < 
œ°
 :Üast < first);

263 i‡(! 
out_of_ønge
)

265 
x
 = 
fú°
;

266 
i
;

268 
i
 = 1; ; i++)

270 
x0
 = 
x
;

271 
	`¥ötf
 (
fmt
, 
x
);

272 i‡(
out_of_ønge
)

274 
x
 = 
fú°
 + 
i
 * 
°ï
;

275 
out_of_ønge
 = (
°ï
 < 0 ? 
x
 < 
œ°
 :Üast < x);

277 i‡(
out_of_ønge
)

286 
boﬁ
 
¥öt_exåa_numbî
 = 
Ál£
;

287 
x_vÆ
;

288 *
x_°r
;

289 
x_°æí
;

290 
	`£éoˇÀ
 (
LC_NUMERIC
, "C");

291 
x_°æí
 = 
	`a•rötf
 (&
x_°r
, 
fmt
, 
x
);

292 
	`£éoˇÀ
 (
LC_NUMERIC
, "");

293 i‡(
x_°æí
 < 0)

294 
	`xÆloc_dõ
 ();

295 
x_°r
[
x_°æí
 - 
œyout
.
suffix_Àn
] = '\0';

297 i‡(
	`x°πﬁd
 (
x_°r
 + 
œyout
.
¥efix_Àn
, 
NULL
, &
x_vÆ
, 
c_°πﬁd
)

298 && 
x_vÆ
 =
œ°
)

300 *
x0_°r
 = 
NULL
;

301 i‡(
	`a•rötf
 (&
x0_°r
, 
fmt
, 
x0
) < 0)

302 
	`xÆloc_dõ
 ();

303 
¥öt_exåa_numbî
 = !
	`STREQ
 (
x0_°r
, 
x_°r
);

304 
	`‰ì
 (
x0_°r
);

307 
	`‰ì
 (
x_°r
);

308 i‡(! 
¥öt_exåa_numbî
)

312 
	`Âuts
 (
£∑øt‹
, 
°dout
);

315 
	`Âuts
 (
ãrmö©‹
, 
°dout
);

317 
	}
}

321 
	$gë_deÁu…_f‹m©
 (
›î™d
 
fú°
, o≥ønd 
°ï
, o≥ønd 
œ°
)

323 
f‹m©_buf
[ "%0.Lf" + 2 * 
	`INT_STRLEN_BOUND
 ()];

325 
¥ec
 = 
	`MAX
 (
fú°
.
¥ecisi⁄
, 
°ï
.precision);

327 i‡(
¥ec
 !
INT_MAX
 && 
œ°
.
¥ecisi⁄
 != INT_MAX)

329 i‡(
equÆ_width
)

332 
size_t
 
fú°_width
 = 
fú°
.
width
 + (
¥ec
 - fú°.
¥ecisi⁄
);

334 
size_t
 
œ°_width
 = 
œ°
.
width
 + (
¥ec
 -Üa°.
¥ecisi⁄
);

335 i‡(
œ°
.
¥ecisi⁄
 && 
¥ec
 == 0)

336 
œ°_width
--;

337 i‡(
œ°
.
¥ecisi⁄
 =0 && 
¥ec
)

338 
œ°_width
++;

339 i‡(
fú°
.
¥ecisi⁄
 =0 && 
¥ec
)

340 
fú°_width
++;

341 
size_t
 
width
 = 
	`MAX
 (
fú°_width
, 
œ°_width
);

342 i‡(
width
 <
INT_MAX
)

344 
w
 = 
width
;

345 
	`•rötf
 (
f‹m©_buf
, "%%0%d.%dLf", 
w
, 
¥ec
);

346  
f‹m©_buf
;

351 
	`•rötf
 (
f‹m©_buf
, "%%.%dLf", 
¥ec
);

352  
f‹m©_buf
;

357 
	}
}

363 
	$ö¸
 (**
s0
, 
size_t
 *
s_Àn
)

365 *
s
 = *
s0
;

366 *
ídp
 = 
s
 + *
s_Àn
 - 1;

370 i‡((*
ídp
)++ < '9')

372 *
ídp
-- = '0';

374 
ídp
 >
s
);

375 *--(*
s0
) = '1';

376 ++*
s_Àn
;

377 
	}
}

382 
	$cmp
 (c⁄° *
a
, 
size_t
 
a_Àn
, c⁄° *
b
, size_à
b_Àn
)

384 i‡(
a_Àn
 < 
b_Àn
)

386 i‡(
b_Àn
 < 
a_Àn
)

388  (
	`°rcmp
 (
a
, 
b
));

389 
	}
}

393 c⁄° * 
_GL_ATTRIBUTE_PURE


394 
	$åim_Àadög_zîos
 (c⁄° *
s
)

396 c⁄° *
p
 = 
s
;

397 *
s
 == '0')

398 ++
s
;

401 i‡(!*
s
 && s !
p
)

402 --
s
;

403  
s
;

404 
	}
}

409 
boﬁ


410 
	$£q_Á°
 (c⁄° *
a
, c⁄° *
b
)

414 
a
 = 
	`åim_Àadög_zîos
 (a);

415 
b
 = 
	`åim_Àadög_zîos
 (b);

417 
size_t
 
p_Àn
 = 
	`°æí
 (
a
);

418 
size_t
 
q_Àn
 = 
	`°æí
 (
b
);

419 
size_t
 
n
 = 
	`MAX
 (
p_Àn
, 
q_Àn
);

420 *
p0
 = 
	`xmÆloc
 (
n
 + 1);

421 *
p
 = 
	`mem˝y
 (
p0
 + 
n
 - 
p_Àn
, 
a
,Ö_len + 1);

422 *
q0
 = 
	`xmÆloc
 (
n
 + 1);

423 *
q
 = 
	`mem˝y
 (
q0
 + 
n
 - 
q_Àn
, 
b
, q_len + 1);

425 
boﬁ
 
ok
 = 
	`cmp
 (
p
, 
p_Àn
, 
q
, 
q_Àn
) <= 0;

426 i‡(
ok
)

431 íum {
N
 = 40};

432 *
buf
 = 
	`xmÆloc
 (
N
 * (
n
 + 1));

433 c⁄° *
buf_íd
 = 
buf
 + 
N
 * (
n
 + 1);

435 *
z
 = 
buf
;

438 
z
 = 
	`memp˝y
 (z, 
p
, 
p_Àn
);

441 
	`cmp
 (
p
, 
p_Àn
, 
q
, 
q_Àn
) < 0)

443 *
z
++ = *
£∑øt‹
;

444 
	`ö¸
 (&
p
, &
p_Àn
);

445 
z
 = 
	`memp˝y
 (z, 
p
, 
p_Àn
);

448 i‡(
buf_íd
 - (
n
 + 1Ë< 
z
)

450 
	`fwrôe
 (
buf
, 
z
 - buf, 1, 
°dout
);

451 
z
 = 
buf
;

456 *
z
++ = *
ãrmö©‹
;

457 
	`fwrôe
 (
buf
, 
z
 - buf, 1, 
°dout
);

459 
	`IF_LINT
 (
	`‰ì
 (
buf
));

462 
	`‰ì
 (
p0
);

463 
	`‰ì
 (
q0
);

464  
ok
;

465 
	}
}

468 
boﬁ
 
_GL_ATTRIBUTE_PURE


469 
	$Æl_digôs_p
 (c⁄° *
s
)

471 
size_t
 
n
 = 
	`°æí
 (
s
);

472  
	`ISDIGIT
 (
s
[0]Ë&& 
n
 =
	`°r•n
 (s, "0123456789");

473 
	}
}

476 
	$maö
 (
¨gc
, **
¨gv
)

478 
›tc
;

479 
›î™d
 
fú°
 = { 1, 1, 0 };

480 
›î™d
 
°ï
 = { 1, 1, 0 };

481 
›î™d
 
œ°
;

482 
œyout
Üayout = { 0, 0 };

485 c⁄° *
f‹m©_°r
 = 
NULL
;

487 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

488 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

489 
	`£éoˇÀ
 (
LC_ALL
, "");

490 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

491 
	`ãxtdomaö
 (
PACKAGE
);

493 
	`©exô
 (
˛o£_°dout
);

495 
equÆ_width
 = 
Ál£
;

496 
£∑øt‹
 = "\n";

501 
›töd
 < 
¨gc
)

503 i‡(
¨gv
[
›töd
][0] == '-'

504 && ((
›tc
 = 
¨gv
[
›töd
][1]Ë='.' || 
	`ISDIGIT
 (optc)))

510 
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+f:s:w", 
l⁄g_›ti⁄s
, 
NULL
);

511 i‡(
›tc
 == -1)

514 
›tc
)

517 
f‹m©_°r
 = 
›èrg
;

521 
£∑øt‹
 = 
›èrg
;

525 
equÆ_width
 = 
åue
;

528 
ˇ£_GETOPT_HELP_CHAR
;

530 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

533 
	`ußge
 (
EXIT_FAILURE
);

537 
n_¨gs
 = 
¨gc
 - 
›töd
;

538 i‡(
n_¨gs
 < 1)

540 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

541 
	`ußge
 (
EXIT_FAILURE
);

544 i‡(3 < 
n_¨gs
)

546 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 3]));

547 
	`ußge
 (
EXIT_FAILURE
);

550 i‡(
f‹m©_°r
)

551 
f‹m©_°r
 = 
	`l⁄g_doubÀ_f‹m©
 (f‹m©_°r, &
œyout
);

553 i‡(
f‹m©_°r
 !
NULL
 && 
equÆ_width
)

555 
	`îr‹
 (0, 0, 
	`_
("format string mayÇot be specified"

557 
	`ußge
 (
EXIT_FAILURE
);

566 i‡(
	`Æl_digôs_p
 (
¨gv
[
›töd
])

567 && (
n_¨gs
 =1 || 
	`Æl_digôs_p
 (
¨gv
[
›töd
 + 1]))

568 && (
n_¨gs
 < 3 || (
	`STREQ
 ("1", 
¨gv
[
›töd
 + 1])

569 && 
	`Æl_digôs_p
 (
¨gv
[
›töd
 + 2])))

570 && !
equÆ_width
 && !
f‹m©_°r
 && 
	`°æí
 (
£∑øt‹
) == 1)

572 c⁄° *
s1
 = 
n_¨gs
 =1 ? "1" : 
¨gv
[
›töd
];

573 c⁄° *
s2
 = 
¨gv
[
›töd
 + (
n_¨gs
 - 1)];

574 i‡(
	`£q_Á°
 (
s1
, 
s2
))

575 
	`exô
 (
EXIT_SUCCESS
);

580 
œ°
 = 
	`sˇn_¨g
 (
¨gv
[
›töd
++]);

582 i‡(
›töd
 < 
¨gc
)

584 
fú°
 = 
œ°
;

585 
œ°
 = 
	`sˇn_¨g
 (
¨gv
[
›töd
++]);

587 i‡(
›töd
 < 
¨gc
)

589 
°ï
 = 
œ°
;

590 
œ°
 = 
	`sˇn_¨g
 (
¨gv
[
›töd
++]);

594 i‡(
fú°
.
¥ecisi⁄
 =0 && 
°ï
.¥ecisi⁄ =0 && 
œ°
.precision == 0

595 && 0 <
fú°
.
vÆue
 && 
°ï
.vÆuê=1 && 0 <
œ°
.value

596 && !
equÆ_width
 && !
f‹m©_°r
 && 
	`°æí
 (
£∑øt‹
) == 1)

598 *
s1
;

599 *
s2
;

600 i‡(
	`a•rötf
 (&
s1
, "%0.Lf", 
fú°
.
vÆue
) < 0)

601 
	`xÆloc_dõ
 ();

602 i‡(
	`a•rötf
 (&
s2
, "%0.Lf", 
œ°
.
vÆue
) < 0)

603 
	`xÆloc_dõ
 ();

605 i‡(
	`£q_Á°
 (
s1
, 
s2
))

607 
	`IF_LINT
 (
	`‰ì
 (
s1
));

608 
	`IF_LINT
 (
	`‰ì
 (
s2
));

609 
	`exô
 (
EXIT_SUCCESS
);

612 
	`‰ì
 (
s1
);

613 
	`‰ì
 (
s2
);

617 i‡(
f‹m©_°r
 =
NULL
)

618 
f‹m©_°r
 = 
	`gë_deÁu…_f‹m©
 (
fú°
, 
°ï
, 
œ°
);

620 
	`¥öt_numbîs
 (
f‹m©_°r
, 
œyout
, 
fú°
.
vÆue
, 
°ï
.vÆue, 
œ°
.value);

622 
	`exô
 (
EXIT_SUCCESS
);

623 
	}
}

	@setuidgid.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<pwd.h
>

24 
	~<gΩ.h
>

26 
	~"sy°em.h
"

28 
	~"îr‹.h
"

29 
	~"l⁄g-›ti⁄s.h
"

30 
	~"mgëgroups.h
"

31 
	~"quŸe.h
"

32 
	~"x°πﬁ.h
"

34 
	#PROGRAM_NAME
 "£tuidgid"

	)

38 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

40 
	#SETUIDGID_FAILURE
 111

	)

43 
	$ußge
 (
°©us
)

45 i‡(
°©us
 !
EXIT_SUCCESS
)

46 
	`emô_åy_hñp
 ();

49 
	`¥ötf
 (
	`_
("\
: %s [SHORT-OPTION]... USER COMMAND [ARGUMENT]...\n\
: %s LONG-OPTION\n\
"),

53 
¥ogøm_«me
,Örogram_name);

55 
	`Âuts
 (
	`_
("\
ány suµÀmíè»groups,ássumêthêu£r-IDánd group-ID o‡thê•ecifõd\
\n\
 (numîi¯ID o∏u£∏«me),ándÑu¿COMMAND wôhány s≥cifõd ARGUMENTs.\n\
 wôh sètu†111 i‡u«bÀÅÿassumêthêªquúed u£∏™d grou∞ID.\n\
,Éxô wôhÅhêexô sètu†o‡COMMAND.\n\
Örogøm i†u£fu»⁄ly whíÑu¿byÑoŸ (u£∏ID zîo).\n\
\n\
"), 
°dout
);

64 
	`Âuts
 (
	`_
("\
-g GID[,GID1...]álsÿ£àthê¥im¨y group-IDÅÿthênumîi¯GID,ánd\n\
(i‡•ecifõdËsuµÀmíè»grou∞ID†tÿGID1, ...\n\
"), 
°dout
);

68 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

69 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

70 
	`emô_™cûœry_öfo
 ();

72 
	`exô
 (
°©us
);

73 
	}
}

76 
	$maö
 (
¨gc
, **
¨gv
)

78 
uid_t
 
uid
;

79 
GETGROUPS_T
 *
gids
 = 
NULL
;

80 
size_t
 
n_gids
 = 0;

81 
size_t
 
n_gids_Æloˇãd
 = 0;

82 
gid_t
 
¥im¨y_gid
;

84 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

85 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

86 
	`£éoˇÀ
 (
LC_ALL
, "");

87 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

88 
	`ãxtdomaö
 (
PACKAGE
);

90 
	`öôülize_exô_Áûuª
 (
SETUIDGID_FAILURE
);

91 
	`©exô
 (
˛o£_°dout
);

93 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

94 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

96 
c
;

97 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+g:", 
NULL
, NULL)) != -1)

99 
c
)

103 
tmp_ul
;

104 *
gr
 = 
›èrg
;

105 *
±r
;

106 
åue
)

108 i‡(! (
	`x°πoul
 (
gr
, &
±r
, 10, &
tmp_ul
, 
NULL
Ë=
LONGINT_OK


109 && 
tmp_ul
 <
GID_T_MAX
))

110 
	`îr‹
 (
SETUIDGID_FAILURE
, 0, 
	`_
("invalid group %s"),

111 
	`quŸe
 (
gr
));

112 i‡(
n_gids
 =
n_gids_Æloˇãd
)

113 
gids
 = 
	`X2NREALLOC
 (gids, &
n_gids_Æloˇãd
);

114 
gids
[
n_gids
++] = 
tmp_ul
;

116 i‡(*
±r
 == '\0')

118 i‡(*
±r
 != ',')

120 
	`îr‹
 (0, 0, 
	`_
("övÆid grou∞%s"), 
	`quŸe
 (
gr
));

121 
	`ußge
 (
SETUIDGID_FAILURE
);

123 
gr
 = 
±r
 + 1;

129 
	`ußge
 (
SETUIDGID_FAILURE
);

134 i‡(
¨gc
 <
›töd
 + 1)

136 i‡(
¨gc
 < 
›töd
 + 1)

137 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

139 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

140 
	`ußge
 (
SETUIDGID_FAILURE
);

144 c⁄° 
∑sswd
 *
pwd
;

145 
tmp_ul
;

146 *
u£r
 = 
¨gv
[
›töd
];

147 *
±r
;

148 
boﬁ
 
have_uid
 = 
Ál£
;

150 i‡(
	`x°πoul
 (
u£r
, &
±r
, 10, &
tmp_ul
, ""Ë=
LONGINT_OK


151 && 
tmp_ul
 <
UID_T_MAX
)

153 
uid
 = 
tmp_ul
;

154 
have_uid
 = 
åue
;

157 i‡(!
have_uid
)

159 
pwd
 = 
	`gëpw«m
 (
u£r
);

160 i‡(
pwd
 =
NULL
)

162 
	`îr‹
 (0, 
î∫o
, 
	`_
("unknow¿u£r-ID: %s"), 
	`quŸe
 (
u£r
));

163 
	`ußge
 (
SETUIDGID_FAILURE
);

165 
uid
 = 
pwd
->
pw_uid
;

167 i‡(
n_gids
 == 0)

169 
pwd
 = 
	`gëpwuid
 (
uid
);

170 i‡(
pwd
 =
NULL
)

172 
	`îr‹
 (0, 
î∫o
,

173 
	`_
("tÿu£ u£r-ID %†youÇìdÅÿu£ -gÅoo"), 
	`quŸe
 (
u£r
));

174 
	`ußge
 (
SETUIDGID_FAILURE
);

178 #i‡
HAVE_SETGROUPS


179 i‡(
n_gids
 == 0)

181 
n
 = 
	`xgëgroups
 (
pwd
->
pw_«me
,Öwd->
pw_gid
, &
gids
);

182 i‡(
n
 <= 0)

183 
	`îr‹
 (
SETUIDGID_FAILURE
, 
î∫o
,

184 
	`_
("ÁûedÅÿgë group†f‹ u£∏%s"), 
	`quŸe
 (
pwd
->
pw_«me
));

185 
n_gids
 = 
n
;

188 i‡(
	`£tgroups
 (
n_gids
, 
gids
))

189 
	`îr‹
 (
SETUIDGID_FAILURE
, 
î∫o
,

190 
	`_
("failedÅo set supplemental group(s)"));

192 
¥im¨y_gid
 = 
gids
[0];

194 
¥im¨y_gid
 = 
pwd
->
pw_gid
;

198 i‡(
	`£tgid
 (
¥im¨y_gid
))

199 
	`îr‹
 (
SETUIDGID_FAILURE
, 
î∫o
,

200 
	`_
("ˇ¬Ÿ së group-IDÅÿ%lu"), (Ë
¥im¨y_gid
);

202 i‡(
	`£tuid
 (
uid
))

203 
	`îr‹
 (
SETUIDGID_FAILURE
, 
î∫o
,

204 
	`_
("ˇ¬Ÿ së u£r-IDÅÿ%lu"), (Ë
uid
);

207 **
cmd
 = 
¨gv
 + 
›töd
 + 1;

208 
exô_°©us
;

209 
	`execvp
 (*
cmd
, cmd);

210 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

212 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿru¿comm™d %s"), 
	`quŸe
 (*
cmd
));

213 
	`exô
 (
exô_°©us
);

215 
	}
}

	@shred.c

72 
	#PROGRAM_NAME
 "shªd"

	)

74 
	#AUTHORS
 
	`¥›î_«me
 ("Cﬁö Plumb")

	)

76 
	~<c⁄fig.h
>

78 
	~<gë›t.h
>

79 
	~<°dio.h
>

80 
	~<as£π.h
>

81 
	~<£tjmp.h
>

82 
	~<sys/ty≥s.h
>

84 
	~"sy°em.h
"

85 
	~"x°πﬁ.h
"

86 
	~"îr‹.h
"

87 
	~"f˙é--.h
"

88 
	~"hum™.h
"

89 
	~"quŸórg.h
"

90 
	~"øndöt.h
"

91 
	~"øndªad.h
"

92 
	~"°©-size.h
"

95 íum { 
	mDEFAULT_PASSES
 = 3 };

99 íum { 
	mVERBOSE_UPDATE
 = 5 };

103 íum { 
	mSECTOR_SIZE
 = 512 };

104 íum { 
	mSECTOR_MASK
 = 
SECTOR_SIZE
 - 1 };

105 
vîify
 (0 < 
SECTOR_SIZE
 && (SECTOR_SIZE & 
SECTOR_MASK
) == 0);

107 
	sO±i⁄s


109 
boﬁ
 
	mf‹˚
;

110 
size_t
 
	mn_ôî©i⁄s
;

111 
off_t
 
	msize
;

112 
boﬁ
 
	mªmove_fûe
;

113 
boﬁ
 
	mvîbo£
;

114 
boﬁ
 
	mexa˘
;

115 
boﬁ
 
	mzîo_fûl
;

122 
	mRANDOM_SOURCE_OPTION
 = 
CHAR_MAX
 + 1

125 
›ti⁄
 c⁄° 
	gl⁄g_›ts
[] =

127 {"exa˘", 
no_¨gumít
, 
NULL
, 'x'},

128 {"f‹˚", 
no_¨gumít
, 
NULL
, 'f'},

129 {"ôî©i⁄s", 
ªquúed_¨gumít
, 
NULL
, 'n'},

130 {"size", 
ªquúed_¨gumít
, 
NULL
, 's'},

131 {"øndom-sour˚", 
ªquúed_¨gumít
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

132 {"ªmove", 
no_¨gumít
, 
NULL
, 'u'},

133 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

134 {"zîo", 
no_¨gumít
, 
NULL
, 'z'},

135 {
GETOPT_HELP_OPTION_DECL
},

136 {
GETOPT_VERSION_OPTION_DECL
},

137 {
NULL
, 0, NULL, 0}

141 
	$ußge
 (
°©us
)

143 i‡(
°©us
 !
EXIT_SUCCESS
)

144 
	`emô_åy_hñp
 ();

147 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

148 
	`Âuts
 (
	`_
("\
Åhê•ecifõd FILE(sËª≥©edly, i¿‹dîÅÿmakêô h¨dî\n\
Éví vîyÉx≥nsivêh¨dw¨ê¥obögÅÿªcovîÅhêd©a.\n\
"), 
°dout
);

153 
	`emô_m™d©‹y_¨g_nŸe
 ();

155 
	`¥ötf
 (
	`_
("\
-f, --f‹˚ ch™gê≥rmissi⁄†tÿÆlow wrôög i‡√˚sßry\n\
-n, --ôî©i⁄s=N ovîwrôêNÅime†ö°ód o‡thêdeÁu… (%d)\n\
--øndom-sour˚=FILE gëÑ™dom byã†‰om FILE\n\
-s, --size=N shªdÅhi†m™y byã†(suffixe†likêK, M, Gác˚±ed)\n\
"), 
DEFAULT_PASSES
);

161 
	`Âuts
 (
	`_
("\
-u, --ªmovêÅrunˇãándÑemovêfûêa·î ovîwrôög\n\
-v, --vîbo£ showÖrogªss\n\
-x, --exa˘ dÿnŸÑound fûêsize†u∞tÿthê√xàfuŒ block;\n\
 i†thêdeÁu… f‹Ç⁄-ªguœ∏fûes\n\
-z, --zîÿáddá föÆ ovîwrôêwôh zîo†tÿhidêshªddög\n\
"), 
°dout
);

168 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

169 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

170 
	`Âuts
 (
	`_
("\
\n\
 FILE i†-, shªd sènd¨d ouçut.\n\
\n\
 FILE(sËi‡--ªmovê(-uËi†•ecifõd. ThêdeÁu… i†nŸÅÿªmove\n\
 fûe†beˇu£ iài†comm⁄Åÿ›î©ê⁄ devi˚ fûe†likê/dev/hda,\n\
Åho£ fûe†usuÆly shouldÇŸ bêªmoved. Whí o≥øtög o¿ªguœr\n\
, mo°Öe›À u£Åhê--ªmovê›ti⁄.\n\
\n\
"), 
°dout
);

180 
	`Âuts
 (
	`_
("\
: NŸêth© shªdÑñõ†⁄á vîy imp‹è¡ássum±i⁄:\n\
Åhêfûêsy°em ovîwrôe†d©®öÖœ˚. Thi†i†thêåadôi⁄Æ\n\
Åÿdÿthögs, buàm™y modî¿fûêsy°em design†dÿnŸ s©isfyÅhis\n\
. ThêfﬁlowögáªÉxam∂e†o‡fûêsy°em†⁄ which shªd is\n\
Éf„˘ive, o∏i†nŸ gu¨™ãedÅÿbêef„˘ivêöáŒ fûêsy°em modes:\n\
\n\
"), 
°dout
);

188 
	`Âuts
 (
	`_
("\
*Üog-°ru˘uªd o∏jou∫Æed fûêsy°ems, suchá†tho£ suµlõd wôh\n\
ánd Sﬁ¨i†◊nd JFS, Rei£rFS, XFS, Ext3,Étc.)\n\
\n\
* fûêsy°em†th© wrôêªdund™àd©®™d c¨ry o¿eví i‡somêwrôes\n\
, suchá†RAID-ba£d fûêsy°ems\n\
\n\
* fûêsy°em†th© makê¢≠shŸs, suchá†Nëw‹k Aµlün˚'†NFS sîvî\n\
\n\
"), 
°dout
);

198 
	`Âuts
 (
	`_
("\
* fûêsy°em†th© cachêöÅemp‹¨yÜoˇti⁄s, suchá†NFS\n\
 3 clõ¡s\n\
\n\
* com¥es£d fûêsy°ems\n\
\n\
"), 
°dout
);

205 
	`Âuts
 (
	`_
("\
Åhêˇ£ o‡ext3 fûêsy°ems,Åhêabovêdis˛aimîáµlõs\n\
◊nd shªd i†thu†o‡limôedÉf„˘ivíessË⁄ly i¿d©a=jou∫Æ mode,\n\
 jou∫Æ†fûêd©®öáddôi⁄Åÿju° mëad©a. I¿bŸhÅhe\n\
=‹dîed (deÁu…Ë™d d©a=wrôeback modes, shªd w‹k†a†usuÆ.\n\
3 jou∫Æög mode†ˇ¿bêch™ged byáddögÅhêd©a=somëhög o±i⁄\n\
Åhêmou¡ o±i⁄†f‹áÖ¨ticuœ∏fûêsy°em i¿thê/ëc/f°ab fûe,\n\
 documíãd i¿thêmou¡ m™Öagê(m™ mou¡).\n\
\n\
"), 
°dout
);

215 
	`Âuts
 (
	`_
("\
áddôi⁄, fûêsy°em backup†™dÑemŸêmúr‹†may c⁄èö c›õs\n\
Åhêfûêth© c™nŸ bêªmoved,ándÅh© wû»Ælowá shªdded fûe\n\
 bêªcovîedÜ©î.\n\
"), 
°dout
);

220 
	`emô_™cûœry_öfo
 ();

222 
	`exô
 (
°©us
);

223 
	}
}

233 
	$fûÕ©ã∫
 (
ty≥
, *
r
, 
size_t
 
size
)

235 
size_t
 
i
;

236 
bôs
 = 
ty≥
 & 0xfff;

238 
bôs
 |= bits << 12;

239 
r
[0] = (
bôs
 >> 4) & 255;

240 
r
[1] = (
bôs
 >> 8) & 255;

241 
r
[2] = 
bôs
 & 255;

242 
i
 = 3; i < 
size
 / 2; i *= 2)

243 
	`mem˝y
 (
r
 + 
i
,Ñ, i);

244 i‡(
i
 < 
size
)

245 
	`mem˝y
 (
r
 + 
i
,Ñ, 
size
 - i);

248 i‡(
ty≥
 & 0x1000)

249 
i
 = 0; i < 
size
; i +
SECTOR_SIZE
)

250 
r
[
i
] ^= 0x80;

251 
	}
}

257 
	#PASS_NAME_SIZE
 7

	)

259 
	$∑s¢ame
 (c⁄° *
d©a
, 
«me
[
PASS_NAME_SIZE
])

261 i‡(
d©a
)

262 
	`•rötf
 (
«me
, "%02x%02x%02x", 
d©a
[0], data[1], data[2]);

264 
	`mem˝y
 (
«me
, "øndom", 
PASS_NAME_SIZE
);

265 
	}
}

269 
boﬁ


270 
	$ign‹abÀ_sync_î∫o
 (
î∫o_vÆ
)

272  (
î∫o_vÆ
 =
EINVAL


273 || 
î∫o_vÆ
 =
EBADF


275 || 
î∫o_vÆ
 =
EISDIR
);

276 
	}
}

285 
	$dosync
 (
fd
, c⁄° *
q«me
)

287 
îr
;

289 #i‡
HAVE_FDATASYNC


290 i‡(
	`fd©async
 (
fd
) == 0)

292 
îr
 = 
î∫o
;

293 i‡–! 
	`ign‹abÀ_sync_î∫o
 (
îr
))

295 
	`îr‹
 (0, 
îr
, 
	`_
("%s: fd©asyn¯Áûed"), 
q«me
);

296 
î∫o
 = 
îr
;

301 i‡(
	`fsync
 (
fd
) == 0)

303 
îr
 = 
î∫o
;

304 i‡–! 
	`ign‹abÀ_sync_î∫o
 (
îr
))

306 
	`îr‹
 (0, 
îr
, 
	`_
("%s: fsyn¯Áûed"), 
q«me
);

307 
î∫o
 = 
îr
;

311 
	`sync
 ();

313 
	}
}

318 
	$dúe˘_mode
 (
fd
, 
boﬁ
 
íabÀ
)

320 i‡(
O_DIRECT
)

322 
fd_Êags
 = 
	`f˙é
 (
fd
, 
F_GETFL
);

323 i‡(0 < 
fd_Êags
)

325 
√w_Êags
 = (
íabÀ


326 ? (
fd_Êags
 | 
O_DIRECT
)

327 : (
fd_Êags
 & ~
O_DIRECT
));

328 i‡(
√w_Êags
 !
fd_Êags
)

329 
	`f˙é
 (
fd
, 
F_SETFL
, 
√w_Êags
);

333 #i‡
HAVE_DIRECTIO
 && 
deföed
 
DIRECTIO_ON
 && deföed 
DIRECTIO_OFF


336 
	`dúe˘io
 (
fd
, 
íabÀ
 ? 
DIRECTIO_ON
 : 
DIRECTIO_OFF
);

338 
	}
}

351 
	$d›ass
 (
fd
, c⁄° *
q«me
, 
off_t
 *
sizï
, 
ty≥
,

352 
øndªad_sour˚
 *
s
, 
k
, 
n
)

354 
off_t
 
size
 = *
sizï
;

355 
off_t
 
off£t
;

356 
time_t
 
thªsh
 
	`IF_LINT
 ( = 0);

357 
time_t
 
now
 = 0;

358 
size_t
 
lim
;

359 
size_t
 
soff
;

360 
ssize_t
 
ssize
;

364 
uöt32_t
 
	tfûl_∑âîn_buf„r
[3 * 1024];

367 
fûl_∑âîn_buf„r
 
buf„r
;

368 
c
[ (
fûl_∑âîn_buf„r
)];

369 
u
[ (
fûl_∑âîn_buf„r
)];

370 } 
r
;

372 
off_t
 
sizeof_r
 =  
r
;

373 
∑ss_°rög
[
PASS_NAME_SIZE
];

374 
boﬁ
 
wrôe_îr‹
 = 
Ál£
;

375 
boﬁ
 
fú°_wrôe
 = 
åue
;

378 
¥evious_off£t_buf
[
LONGEST_HUMAN_READABLE
 + 1];

379 c⁄° *
¥evious_hum™_off£t
 
	`IF_LINT
 ( = 0);

381 i‡(
	`l£ek
 (
fd
, 0, 
SEEK_SET
) == -1)

383 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: c™nŸÑewöd"), 
q«me
);

388 i‡(
ty≥
 >= 0)

390 
lim
 = (0 <
size
 && sizê< 
sizeof_r
 ? size : sizeof_r);

391 
	`fûÕ©ã∫
 (
ty≥
, 
r
.
u
, 
lim
);

392 
	`∑s¢ame
 (
r
.
u
, 
∑ss_°rög
);

396 
	`∑s¢ame
 (0, 
∑ss_°rög
);

400 i‡(
n
)

402 
	`îr‹
 (0, 0, 
	`_
("%s:Öas†%lu/%lu (%s)..."), 
q«me
, 
k
, 
n
, 
∑ss_°rög
);

403 
thªsh
 = 
	`time
 (
NULL
Ë+ 
VERBOSE_UPDATE
;

404 
¥evious_hum™_off£t
 = "";

407 
off£t
 = 0;

408 
åue
)

411 
lim
 =  
r
;

412 i‡(0 <
size
 && sizê- 
off£t
 < 
sizeof_r
)

414 i‡(
size
 < 
off£t
)

416 
lim
 = 
size
 - 
off£t
;

417 i‡(!
lim
)

420 i‡(
ty≥
 < 0)

421 
	`øndªad
 (
s
, &
r
, 
lim
);

423 
soff
 = 0; sof‡< 
lim
; sof‡+
ssize
, 
fú°_wrôe
 = 
Ál£
)

425 
ssize
 = 
	`wrôe
 (
fd
, 
r
.
c
 + 
soff
, 
lim
 - soff);

426 i‡(
ssize
 <= 0)

428 i‡(
size
 < 0 && (
ssize
 =0 || 
î∫o
 =
ENOSPC
))

431 *
sizï
 = 
size
 = 
off£t
 + 
soff
;

436 
î∫um
 = 
î∫o
;

437 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

446 i‡(
k
 =1 && 
fú°_wrôe
 && 
î∫o
 =
EINVAL
)

448 
	`dúe˘_mode
 (
fd
, 
Ál£
);

449 
ssize
 = 0;

452 
	`îr‹
 (0, 
î∫um
, 
	`_
("%s:Érror writingát offset %s"),

453 
q«me
, 
	`umaxto°r
 (
off£t
 + 
soff
, 
buf
));

459 
	`vîify
 ( 
r
 % 
SECTOR_SIZE
 == 0);

460 i‡(
î∫um
 =
EIO
 && 0 <
size
 && (
soff
 | 
SECTOR_MASK
Ë< 
lim
)

462 
size_t
 
soff1
 = (
soff
 | 
SECTOR_MASK
) + 1;

463 i‡(
	`l£ek
 (
fd
, 
off£t
 + 
soff1
, 
SEEK_SET
) != -1)

466 
ssize
 = 
soff1
 - 
soff
;

467 
wrôe_îr‹
 = 
åue
;

470 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:Ü£ek faûed"), 
q«me
);

479 i‡(
off£t
 > 
OFF_T_MAX
 - (
off_t
Ë
soff
)

481 
	`îr‹
 (0, 0, 
	`_
("%s: fûêtoÿœrge"), 
q«me
);

485 
off£t
 +
soff
;

487 
boﬁ
 
d⁄e
 = 
off£t
 =
size
;

490 i‡(
n
 && ((
d⁄e
 && *
¥evious_hum™_off£t
)

491 || 
thªsh
 <(
now
 = 
	`time
 (
NULL
))))

493 
off£t_buf
[
LONGEST_HUMAN_READABLE
 + 1];

494 
size_buf
[
LONGEST_HUMAN_READABLE
 + 1];

495 
hum™_¥ogªss_›ts
 = (
hum™_autosˇÀ
 | 
hum™_SI


496 | 
hum™_ba£_1024
 | 
hum™_B
);

497 c⁄° *
hum™_off£t


498 
	`hum™_ªadabÀ
 (
off£t
, 
off£t_buf
,

499 
hum™_Êo‹
 | 
hum™_¥ogªss_›ts
, 1, 1);

501 i‡(
d⁄e
 || !
	`STREQ
 (
¥evious_hum™_off£t
, 
hum™_off£t
))

503 i‡(
size
 < 0)

504 
	`îr‹
 (0, 0, 
	`_
("%s:Öass %lu/%lu (%s)...%s"),

505 
q«me
, 
k
, 
n
, 
∑ss_°rög
, 
hum™_off£t
);

508 
uötmax_t
 
off
 = 
off£t
;

509 
≥r˚¡
 = (
size
 == 0

511 : (
off
 <
	`TYPE_MAXIMUM
 (
uötmax_t
) / 100

512 ? 
off
 * 100 / 
size


513 : 
off
 / (
size
 / 100)));

514 c⁄° *
hum™_size


515 
	`hum™_ªadabÀ
 (
size
, 
size_buf
,

516 
hum™_˚ûög
 | 
hum™_¥ogªss_›ts
,

518 i‡(
d⁄e
)

519 
hum™_off£t
 = 
hum™_size
;

520 
	`îr‹
 (0, 0, 
	`_
("%s:Öass %lu/%lu (%s)...%s/%s %d%%"),

521 
q«me
, 
k
, 
n
, 
∑ss_°rög
, 
hum™_off£t
, 
hum™_size
,

522 
≥r˚¡
);

525 
	`°r˝y
 (
¥evious_off£t_buf
, 
hum™_off£t
);

526 
¥evious_hum™_off£t
 = 
¥evious_off£t_buf
;

527 
thªsh
 = 
now
 + 
VERBOSE_UPDATE
;

536 i‡(
	`dosync
 (
fd
, 
q«me
) != 0)

538 i‡(
î∫o
 !
EIO
)

540 
wrôe_îr‹
 = 
åue
;

547 i‡(
	`dosync
 (
fd
, 
q«me
) != 0)

549 i‡(
î∫o
 !
EIO
)

551 
wrôe_îr‹
 = 
åue
;

554  
wrôe_îr‹
;

555 
	}
}

612 
	g∑âîns
[] =

637 
	$gí∑âîn
 (*
de°
, 
size_t
 
num
, 
øndöt_sour˚
 *
s
)

639 
size_t
 
ønd∑s£s
;

640 c⁄° *
p
;

641 *
d
;

642 
size_t
 
n
;

643 
size_t
 
accum
, 
t›
, 
sw≠
;

644 
k
;

646 i‡(!
num
)

650 
p
 = 
∑âîns
;

651 
ønd∑s£s
 = 0;

652 
d
 = 
de°
;

653 
n
 = 
num
;

655 
åue
)

657 
k
 = *
p
++;

658 i‡(!
k
)

660 
p
 = 
∑âîns
;

662 i‡(
k
 < 0)

664 
k
 = -k;

665 i‡((
size_t
Ë
k
 >
n
)

667 
ønd∑s£s
 +
n
;

670 
ønd∑s£s
 +
k
;

671 
n
 -
k
;

673 i‡((
size_t
Ë
k
 <
n
)

675 
	`mem˝y
 (
d
, 
p
, 
k
 *  ());

676 
p
 +
k
;

677 
d
 +
k
;

678 
n
 -
k
;

680 i‡(
n
 < 2 || 3 *Ç < (
size_t
Ë
k
)

682 
ønd∑s£s
 +
n
;

689 i‡(
n
 =(
size_t
Ë
k
 || 
	`øndöt_choo£
 (
s
, k) <Ç)

691 *
d
++ = *
p
;

692 
n
--;

694 
p
++;

696 
n
);

700 
t›
 = 
num
 - 
ønd∑s£s
;

723 
ønd∑s£s
--;

724 
accum
 = 
ønd∑s£s
;

725 
n
 = 0;Ç < 
num
;Ç++)

727 i‡(
accum
 <
ønd∑s£s
)

729 
accum
 +
num
 - 1;

730 
de°
[
t›
++] = de°[
n
];

731 
de°
[
n
] = -1;

735 
sw≠
 = 
n
 + 
	`øndöt_choo£
 (
s
, 
t›
 -Ç);

736 
k
 = 
de°
[
n
];

737 
de°
[
n
] = de°[
sw≠
];

738 
de°
[
sw≠
] = 
k
;

740 
accum
 -
ønd∑s£s
;

743 
	}
}

749 
boﬁ


750 
	$do_wùefd
 (
fd
, c⁄° *
q«me
, 
øndöt_sour˚
 *
s
,

751 
O±i⁄s
 c⁄° *
Êags
)

753 
size_t
 
i
;

754 
°©
 
°
;

755 
off_t
 
size
;

756 
n
;

757 *
∑sßºay
;

758 
boﬁ
 
ok
 = 
åue
;

759 
øndªad_sour˚
 *
rs
;

761 
n
 = 0;

762 i‡(
Êags
->
vîbo£
)

763 
n
 = 
Êags
->
n_ôî©i⁄s
 + fœgs->
zîo_fûl
;

765 i‡(
	`f°©
 (
fd
, &
°
))

767 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: f°© faûed"), 
q«me
);

768  
Ál£
;

774 i‡((
	`S_ISCHR
 (
°
.
°_mode
Ë&& 
	`ißây
 (
fd
))

775 || 
	`S_ISFIFO
 (
°
.
°_mode
)

776 || 
	`S_ISSOCK
 (
°
.
°_mode
))

778 
	`îr‹
 (0, 0, 
	`_
("%s: invÆid fûêty≥"), 
q«me
);

779  
Ál£
;

782 
	`dúe˘_mode
 (
fd
, 
åue
);

785 
∑sßºay
 = 
	`xnmÆloc
 (
Êags
->
n_ôî©i⁄s
,  *passarray);

787 
size
 = 
Êags
->size;

788 i‡(
size
 == -1)

792 i‡(
	`S_ISREG
 (
°
.
°_mode
))

794 
size
 = 
°
.
°_size
;

795 i‡(
size
 < 0)

797 
	`îr‹
 (0, 0, 
	`_
("%s: fûêha†√g©ivêsize"), 
q«me
);

798  
Ál£
;

803 
size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

804 i‡(
size
 <= 0)

808 
size
 = -1;

813 i‡(0 <
size
 && !(
Êags
->
exa˘
Ë&& 
	`S_ISREG
 (
°
.
°_mode
))

815 
size
 +
	`ST_BLKSIZE
 (
°
) - 1 - (size - 1) % ST_BLKSIZE (st);

818 i‡(
size
 < 0)

819 
size
 = 
	`TYPE_MAXIMUM
 (
off_t
);

824 
	`gí∑âîn
 (
∑sßºay
, 
Êags
->
n_ôî©i⁄s
, 
s
);

826 
rs
 = 
	`øndöt_gë_sour˚
 (
s
);

829 
i
 = 0; i < 
Êags
->
n_ôî©i⁄s
; i++)

831 
îr
 = 
	`d›ass
 (
fd
, 
q«me
, &
size
, 
∑sßºay
[
i
], 
rs
, i + 1, 
n
);

832 i‡(
îr
)

834 i‡(
îr
 < 0)

836 
	`mem£t
 (
∑sßºay
, 0, 
Êags
->
n_ôî©i⁄s
 *  ());

837 
	`‰ì
 (
∑sßºay
);

838  
Ál£
;

840 
ok
 = 
Ál£
;

844 
	`mem£t
 (
∑sßºay
, 0, 
Êags
->
n_ôî©i⁄s
 *  ());

845 
	`‰ì
 (
∑sßºay
);

847 i‡(
Êags
->
zîo_fûl
)

849 
îr
 = 
	`d›ass
 (
fd
, 
q«me
, &
size
, 0, 
rs
, 
Êags
->
n_ôî©i⁄s
 + 1, 
n
);

850 i‡(
îr
)

852 i‡(
îr
 < 0)

853  
Ál£
;

854 
ok
 = 
Ál£
;

861 i‡(
Êags
->
ªmove_fûe
 && 
	`·runˇã
 (
fd
, 0) != 0

862 && 
	`S_ISREG
 (
°
.
°_mode
))

864 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:Éº‹Årunˇtög"), 
q«me
);

865  
Ál£
;

868  
ok
;

869 
	}
}

872 
boﬁ


873 
	$wùefd
 (
fd
, c⁄° *
q«me
, 
øndöt_sour˚
 *
s
,

874 
O±i⁄s
 c⁄° *
Êags
)

876 
fd_Êags
 = 
	`f˙é
 (
fd
, 
F_GETFL
);

878 i‡(
fd_Êags
 < 0)

880 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: f˙é faûed"), 
q«me
);

881  
Ál£
;

883 i‡(
fd_Êags
 & 
O_APPEND
)

885 
	`îr‹
 (0, 0, 
	`_
("%s: c™nŸ shªdáµíd-⁄ly fûêdes¸ùt‹"), 
q«me
);

886  
Ál£
;

888  
	`do_wùefd
 (
fd
, 
q«me
, 
s
, 
Êags
);

889 
	}
}

894 c⁄° 
	g«me£t
[] =

902 
boﬁ


903 
	$ö˙ame
 (*
«me
, 
size_t
 
Àn
)

905 
Àn
--)

907 c⁄° *
p
 = 
	`°rchr
 (
«me£t
, 
«me
[
Àn
]);

911 
	`as£π
 (
p
);

914 i‡(
p
[1])

916 
«me
[
Àn
] = 
p
[1];

917  
åue
;

921 
«me
[
Àn
] = 
«me£t
[0];

924  
Ál£
;

925 
	}
}

953 
boﬁ


954 
	$wùíame
 (*
ﬁd«me
, c⁄° *
qﬁd«me
, 
O±i⁄s
 c⁄° *
Êags
)

956 *
√w«me
 = 
	`x°rdup
 (
ﬁd«me
);

957 *
ba£
 = 
	`œ°_comp⁄ít
 (
√w«me
);

958 
size_t
 
Àn
 = 
	`ba£_Àn
 (
ba£
);

959 *
dú
 = 
	`dú_«me
 (
√w«me
);

960 *
qdú
 = 
	`x°rdup
 (
	`quŸórg_cﬁ⁄
 (
dú
));

961 
boﬁ
 
fú°
 = 
åue
;

962 
boﬁ
 
ok
 = 
åue
;

964 
dú_fd
 = 
	`›í
 (
dú
, 
O_RDONLY
 | 
O_DIRECTORY
 | 
O_NOCTTY
 | 
O_NONBLOCK
);

966 i‡(
Êags
->
vîbo£
)

967 
	`îr‹
 (0, 0, 
	`_
("%s:Ñemovög"), 
qﬁd«me
);

969 
Àn
)

971 
	`mem£t
 (
ba£
, 
«me£t
[0], 
Àn
);

972 
ba£
[
Àn
] = 0;

975 
°©
 
°
;

976 i‡(
	`l°©
 (
√w«me
, &
°
) < 0)

978 i‡(
	`ª«me
 (
ﬁd«me
, 
√w«me
) == 0)

980 i‡(0 <
dú_fd
 && 
	`dosync
 (dú_fd, 
qdú
) != 0)

981 
ok
 = 
Ál£
;

982 i‡(
Êags
->
vîbo£
)

990 c⁄° *
ﬁd
 = (
fú°
 ? 
qﬁd«me
 : 
ﬁd«me
);

991 
	`îr‹
 (0, 0, 
	`_
("%s:ÑíamedÅÿ%s"), 
ﬁd
, 
√w«me
);

992 
fú°
 = 
Ál£
;

994 
	`mem˝y
 (
ﬁd«me
 + (
ba£
 - 
√w«me
), ba£, 
Àn
 + 1);

1008 
	`ö˙ame
 (
ba£
, 
Àn
));

1009 
Àn
--;

1011 i‡(
	`u∆ök
 (
ﬁd«me
) != 0)

1013 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: faûedÅÿªmove"), 
qﬁd«me
);

1014 
ok
 = 
Ál£
;

1016 i‡(
Êags
->
vîbo£
)

1017 
	`îr‹
 (0, 0, 
	`_
("%s:Ñemoved"), 
qﬁd«me
);

1018 i‡(0 <
dú_fd
)

1020 i‡(
	`dosync
 (
dú_fd
, 
qdú
) != 0)

1021 
ok
 = 
Ál£
;

1022 i‡(
	`˛o£
 (
dú_fd
) != 0)

1024 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: faûedÅÿ˛o£"), 
qdú
);

1025 
ok
 = 
Ál£
;

1028 
	`‰ì
 (
√w«me
);

1029 
	`‰ì
 (
dú
);

1030 
	`‰ì
 (
qdú
);

1031  
ok
;

1032 
	}
}

1046 
boﬁ


1047 
	$wùefûe
 (*
«me
, c⁄° *
q«me
,

1048 
øndöt_sour˚
 *
s
, 
O±i⁄s
 c⁄° *
Êags
)

1050 
boﬁ
 
ok
;

1051 
fd
;

1053 
fd
 = 
	`›í
 (
«me
, 
O_WRONLY
 | 
O_NOCTTY
 | 
O_BINARY
);

1054 i‡(
fd
 < 0

1055 && (
î∫o
 =
EACCES
 && 
Êags
->
f‹˚
)

1056 && 
	`chmod
 (
«me
, 
S_IWUSR
) == 0)

1057 
fd
 = 
	`›í
 (
«me
, 
O_WRONLY
 | 
O_NOCTTY
 | 
O_BINARY
);

1058 i‡(
fd
 < 0)

1060 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: faûedÅÿ›í f‹ wrôög"), 
q«me
);

1061  
Ál£
;

1064 
ok
 = 
	`do_wùefd
 (
fd
, 
q«me
, 
s
, 
Êags
);

1065 i‡(
	`˛o£
 (
fd
) != 0)

1067 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: faûedÅÿ˛o£"), 
q«me
);

1068 
ok
 = 
Ál£
;

1070 i‡(
ok
 && 
Êags
->
ªmove_fûe
)

1071 
ok
 = 
	`wùíame
 (
«me
, 
q«me
, 
Êags
);

1072  
ok
;

1073 
	}
}

1077 
øndöt_sour˚
 *
	gøndöt_sour˚
;

1083 
	$˛ór_øndom_d©a
 ()

1085 
	`øndöt_Æl_‰ì
 (
øndöt_sour˚
);

1086 
	}
}

1090 
	$maö
 (
¨gc
, **
¨gv
)

1092 
boﬁ
 
ok
 = 
åue
;

1093 
O±i⁄s
 
Êags
 = { 0, };

1094 **
fûe
;

1095 
n_fûes
;

1096 
c
;

1097 
i
;

1098 c⁄° *
øndom_sour˚
 = 
NULL
;

1100 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1101 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1102 
	`£éoˇÀ
 (
LC_ALL
, "");

1103 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1104 
	`ãxtdomaö
 (
PACKAGE
);

1106 
	`©exô
 (
˛o£_°dout
);

1108 
Êags
.
n_ôî©i⁄s
 = 
DEFAULT_PASSES
;

1109 
Êags
.
size
 = -1;

1111 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "‚:s:uvxz", 
l⁄g_›ts
, 
NULL
)) != -1)

1113 
c
)

1116 
Êags
.
f‹˚
 = 
åue
;

1121 
uötmax_t
 
tmp
;

1122 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
tmp
, NULLË!
LONGINT_OK


1123 || 
	`MIN
 (
UINT32_MAX
, 
SIZE_MAX
 /  ()Ë< 
tmp
)

1125 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalidÇumber ofÖasses"),

1126 
	`quŸórg_cﬁ⁄
 (
›èrg
));

1128 
Êags
.
n_ôî©i⁄s
 = 
tmp
;

1132 
RANDOM_SOURCE_OPTION
:

1133 i‡(
øndom_sour˚
 && !
	`STREQ
 (øndom_sour˚, 
›èrg
))

1134 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÑandom sources specified"));

1135 
øndom_sour˚
 = 
›èrg
;

1139 
Êags
.
ªmove_fûe
 = 
åue
;

1144 
uötmax_t
 
tmp
;

1145 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 0, &
tmp
, "cbBkKMGTPEZY0")

1146 !
LONGINT_OK
)

1148 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalid file size"),

1149 
	`quŸórg_cﬁ⁄
 (
›èrg
));

1151 
Êags
.
size
 = 
tmp
;

1156 
Êags
.
vîbo£
 = 
åue
;

1160 
Êags
.
exa˘
 = 
åue
;

1164 
Êags
.
zîo_fûl
 = 
åue
;

1167 
ˇ£_GETOPT_HELP_CHAR
;

1169 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1172 
	`ußge
 (
EXIT_FAILURE
);

1176 
fûe
 = 
¨gv
 + 
›töd
;

1177 
n_fûes
 = 
¨gc
 - 
›töd
;

1179 i‡(
n_fûes
 == 0)

1181 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

1182 
	`ußge
 (
EXIT_FAILURE
);

1185 
øndöt_sour˚
 = 
	`øndöt_Æl_√w
 (
øndom_sour˚
, 
SIZE_MAX
);

1186 i‡(! 
øndöt_sour˚
)

1187 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸórg_cﬁ⁄
 (
øndom_sour˚
));

1188 
	`©exô
 (
˛ór_øndom_d©a
);

1190 
i
 = 0; i < 
n_fûes
; i++)

1192 *
q«me
 = 
	`x°rdup
 (
	`quŸórg_cﬁ⁄
 (
fûe
[
i
]));

1193 i‡(
	`STREQ
 (
fûe
[
i
], "-"))

1195 
ok
 &
	`wùefd
 (
STDOUT_FILENO
, 
q«me
, 
øndöt_sour˚
, &
Êags
);

1200 
ok
 &
	`wùefûe
 (
fûe
[
i
], 
q«me
, 
øndöt_sour˚
, &
Êags
);

1202 
	`‰ì
 (
q«me
);

1205 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1206 
	}
}

	@shuf.c

20 
	~<c⁄fig.h
>

22 
	~<sys/ty≥s.h
>

23 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"Ádvi£.h
"

27 
	~"gë›t.h
"

28 
	~"quŸe.h
"

29 
	~"quŸórg.h
"

30 
	~"øndöt.h
"

31 
	~"ønd≥rm.h
"

32 
	~"ªad-fûe.h
"

33 
	~"°dio--.h
"

34 
	~"x°πﬁ.h
"

37 
	#PROGRAM_NAME
 "shuf"

	)

39 
	#AUTHORS
 
	`¥›î_«me
 ("Pau»Eggît")

	)

42 
	$ußge
 (
°©us
)

44 i‡(
°©us
 !
EXIT_SUCCESS
)

45 
	`emô_åy_hñp
 ();

48 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]\n\
: %s -e [OPTION]... [ARG]...\n\
: %s -i LO-HI [OPTION]...\n\
"),

53 
¥ogøm_«me
,Örogram_name,Örogram_name);

54 
	`Âuts
 (
	`_
("\
áÑ™domÖîmuèti⁄ o‡thêöpuàlöe†tÿ°™d¨d ouçut.\n\
"), 
°dout
);

58 
	`emô_m™d©‹y_¨g_nŸe
 ();

60 
	`Âuts
 (
	`_
("\
-e, --echÿÅª©Éach ARGá†™ i≈uàlöe\n\
-i, --öput-ønge=LO-HIÅª©ÉachÇumbî LOÅhrough HIá†™ i≈uàlöe\n\
-n, --hód-cou¡=COUNT ouçuà© mo° COUNTÜöes\n\
-o, --ouçut=FILE wrôêªsu…ÅÿFILE in°ód o‡°™d¨d ouçut\n\
--øndom-sour˚=FILE gëÑ™dom byã†‰om FILE\n\
-z, --zîo-ãrmö©edÉndÜöe†wôh 0 byã,ÇŸÇewlöe\n\
"), 
°dout
);

68 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

69 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

70 
	`Âuts
 (
	`_
("\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

74 
	`emô_™cûœry_öfo
 ();

77 
	`exô
 (
°©us
);

78 
	}
}

84 
	mRANDOM_SOURCE_OPTION
 = 
CHAR_MAX
 + 1

87 
›ti⁄
 c⁄° 
	gl⁄g_›ts
[] =

89 {"echo", 
no_¨gumít
, 
NULL
, 'e'},

90 {"öput-ønge", 
ªquúed_¨gumít
, 
NULL
, 'i'},

91 {"hód-cou¡", 
ªquúed_¨gumít
, 
NULL
, 'n'},

92 {"ouçut", 
ªquúed_¨gumít
, 
NULL
, 'o'},

93 {"øndom-sour˚", 
ªquúed_¨gumít
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

94 {"zîo-ãrmö©ed", 
no_¨gumít
, 
NULL
, 'z'},

95 {
GETOPT_HELP_OPTION_DECL
},

96 {
GETOPT_VERSION_OPTION_DECL
},

100 
boﬁ


101 
	$öput_numbîs_›ti⁄_u£d
 (
size_t
 
lo_öput
, size_à
hi_öput
)

103  ! (
lo_öput
 =
SIZE_MAX
 && 
hi_öput
 == 0);

104 
	}
}

107 
	$öput_‰om_¨gv
 (**
›î™d
, 
n_›î™ds
, 
eﬁbyã
)

109 *
p
;

110 
size_t
 
size
 = 
n_›î™ds
;

111 
i
;

113 
i
 = 0; i < 
n_›î™ds
; i++)

114 
size
 +
	`°æí
 (
›î™d
[
i
]);

115 
p
 = 
	`xmÆloc
 (
size
);

117 
i
 = 0; i < 
n_›î™ds
; i++)

119 *
p1
 = 
	`°p˝y
 (
p
, 
›î™d
[
i
]);

120 
›î™d
[
i
] = 
p
;

121 
p
 = 
p1
;

122 *
p
++ = 
eﬁbyã
;

125 
›î™d
[
n_›î™ds
] = 
p
;

126 
	}
}

132 
	$√xt_löe
 (*
löe
, 
eﬁbyã
, 
size_t
 
n
)

134 *
p
 = 
	`memchr
 (
löe
, 
eﬁbyã
, 
n
);

135  
p
 + 1;

136 
	}
}

144 
size_t


145 
	$ªad_öput
 (
FILE
 *
ö
, 
eﬁbyã
, ***
∂öe
)

147 *
p
;

148 *
buf
 = 
NULL
;

149 
size_t
 
u£d
;

150 *
lim
;

151 **
löe
;

152 
size_t
 
i
;

153 
size_t
 
n_löes
;

155 i‡(!(
buf
 = 
	`‰ód_fûe
 (
ö
, &
u£d
)))

156 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

158 i‡(
u£d
 && 
buf
[u£d - 1] !
eﬁbyã
)

159 
buf
[
u£d
++] = 
eﬁbyã
;

161 
lim
 = 
buf
 + 
u£d
;

163 
n_löes
 = 0;

164 
p
 = 
buf
;Ö < 
lim
;Ö = 
	`√xt_löe
 (p, 
eﬁbyã
,Üim -Ö))

165 
n_löes
++;

167 *
∂öe
 = 
löe
 = 
	`xnmÆloc
 (
n_löes
 + 1,  *line);

169 
löe
[0] = 
p
 = 
buf
;

170 
i
 = 1; i <
n_löes
; i++)

171 
löe
[
i
] = 
p
 = 
	`√xt_löe
 (p, 
eﬁbyã
, 
lim
 -Ö);

173  
n_löes
;

174 
	}
}

177 
	$wrôe_≥rmuãd_ouçut
 (
size_t
 
n_löes
, * c⁄° *
löe
, size_à
lo_öput
,

178 
size_t
 c⁄° *
≥rmuèti⁄
, 
eﬁbyã
)

180 
size_t
 
i
;

182 i‡(
löe
)

183 
i
 = 0; i < 
n_löes
; i++)

185 * c⁄° *
p
 = 
löe
 + 
≥rmuèti⁄
[
i
];

186 
size_t
 
Àn
 = 
p
[1] -Ö[0];

187 i‡(
	`fwrôe
 (
p
[0],  *p[0], 
Àn
, 
°dout
) !=Üen)

191 
i
 = 0; i < 
n_löes
; i++)

193 
n
 = 
lo_öput
 + 
≥rmuèti⁄
[
i
];

194 i‡(
	`¥ötf
 ("%lu%c", 
n
, 
eﬁbyã
) < 0)

199 
	}
}

202 
	$maö
 (
¨gc
, **
¨gv
)

204 
boﬁ
 
echo
 = 
Ál£
;

205 
size_t
 
lo_öput
 = 
SIZE_MAX
;

206 
size_t
 
hi_öput
 = 0;

207 
size_t
 
hód_löes
 = 
SIZE_MAX
;

208 c⁄° *
outfûe
 = 
NULL
;

209 *
øndom_sour˚
 = 
NULL
;

210 
eﬁbyã
 = '\n';

211 **
öput_löes
 = 
NULL
;

213 
›tc
;

214 
n_›î™ds
;

215 **
›î™d
;

216 
size_t
 
n_löes
;

217 **
löe
;

218 
øndöt_sour˚
 *randint_source;

219 
size_t
 *
≥rmuèti⁄
;

221 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

222 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

223 
	`£éoˇÀ
 (
LC_ALL
, "");

224 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

225 
	`ãxtdomaö
 (
PACKAGE
);

227 
	`©exô
 (
˛o£_°dout
);

229 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "ei:n:o:z", 
l⁄g_›ts
, 
NULL
)) != -1)

230 
›tc
)

233 
echo
 = 
åue
;

238 
¨gvÆ
 = 0;

239 *
p
 = 
	`°rchr
 (
›èrg
, '-');

240 c⁄° *
hi_›èrg
 = 
›èrg
;

241 
boﬁ
 
övÆid
 = !
p
;

243 i‡(
	`öput_numbîs_›ti⁄_u£d
 (
lo_öput
, 
hi_öput
))

244 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple -i options specified"));

246 i‡(
p
)

248 *
p
 = '\0';

249 
övÆid
 = ((
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
¨gvÆ
, NULL)

250 !
LONGINT_OK
)

251 || 
SIZE_MAX
 < 
¨gvÆ
);

252 *
p
 = '-';

253 
lo_öput
 = 
¨gvÆ
;

254 
hi_›èrg
 = 
p
 + 1;

257 
övÆid
 |((
	`x°πoul
 (
hi_›èrg
, 
NULL
, 10, &
¨gvÆ
, NULL)

258 !
LONGINT_OK
)

259 || 
SIZE_MAX
 < 
¨gvÆ
);

260 
hi_öput
 = 
¨gvÆ
;

261 
n_löes
 = 
hi_öput
 - 
lo_öput
 + 1;

262 
övÆid
 |((
lo_öput
 <
hi_öput
Ë=(
n_löes
 == 0));

263 i‡(
övÆid
)

264 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid inputÑange %s"),

265 
	`quŸe
 (
›èrg
));

271 
¨gvÆ
;

272 
°πﬁ_îr‹
 
e
 = 
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
¨gvÆ
, NULL);

274 i‡(
e
 =
LONGINT_OK
)

275 
hód_löes
 = 
	`MIN
 (hód_löes, 
¨gvÆ
);

276 i‡(
e
 !
LONGINT_OVERFLOW
)

277 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalidÜine count %s"),

278 
	`quŸe
 (
›èrg
));

283 i‡(
outfûe
 && !
	`STREQ
 (outfûe, 
›èrg
))

284 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output files specified"));

285 
outfûe
 = 
›èrg
;

288 
RANDOM_SOURCE_OPTION
:

289 i‡(
øndom_sour˚
 && !
	`STREQ
 (øndom_sour˚, 
›èrg
))

290 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("multipleÑandom sources specified"));

291 
øndom_sour˚
 = 
›èrg
;

295 
eﬁbyã
 = '\0';

298 
ˇ£_GETOPT_HELP_CHAR
;

299 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

301 
	`ußge
 (
EXIT_FAILURE
);

304 
n_›î™ds
 = 
¨gc
 - 
›töd
;

305 
›î™d
 = 
¨gv
 + 
›töd
;

307 i‡(
echo
)

309 i‡(
	`öput_numbîs_›ti⁄_u£d
 (
lo_öput
, 
hi_öput
))

310 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine -eánd -i options"));

311 
	`öput_‰om_¨gv
 (
›î™d
, 
n_›î™ds
, 
eﬁbyã
);

312 
n_löes
 = 
n_›î™ds
;

313 
löe
 = 
›î™d
;

315 i‡(
	`öput_numbîs_›ti⁄_u£d
 (
lo_öput
, 
hi_öput
))

317 i‡(
n_›î™ds
)

319 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
›î™d
[0]));

320 
	`ußge
 (
EXIT_FAILURE
);

322 
n_löes
 = 
hi_öput
 - 
lo_öput
 + 1;

323 
löe
 = 
NULL
;

327 
n_›î™ds
)

333 i‡(! (
	`STREQ
 (
›î™d
[0], "-"Ë|| 
	`‰e›í
 (›î™d[0], "r", 
°dö
)))

334 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
›î™d
[0]);

338 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
›î™d
[1]));

339 
	`ußge
 (
EXIT_FAILURE
);

342 
	`Ádvi£
 (
°dö
, 
FADVISE_SEQUENTIAL
);

344 
n_löes
 = 
	`ªad_öput
 (
°dö
, 
eﬁbyã
, &
öput_löes
);

345 
löe
 = 
öput_löes
;

348 
hód_löes
 = 
	`MIN
 (hód_löes, 
n_löes
);

350 
øndöt_sour˚
 = 
	`øndöt_Æl_√w
 (
øndom_sour˚
,

351 
	`ønd≥rm_bound
 (
hód_löes
, 
n_löes
));

352 i‡(! 
øndöt_sour˚
)

353 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸórg_cﬁ⁄
 (
øndom_sour˚
));

358 i‡(! (
echo
 || 
	`öput_numbîs_›ti⁄_u£d
 (
lo_öput
, 
hi_öput
))

359 && (
	`f˛o£
 (
°dö
) != 0))

360 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

362 
≥rmuèti⁄
 = 
	`ønd≥rm_√w
 (
øndöt_sour˚
, 
hód_löes
, 
n_löes
);

364 i‡(
outfûe
 && ! 
	`‰e›í
 (outfûe, "w", 
°dout
))

365 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸórg_cﬁ⁄
 (
outfûe
));

366 i‡(
	`wrôe_≥rmuãd_ouçut
 (
hód_löes
, 
löe
, 
lo_öput
, 
≥rmuèti⁄
, 
eﬁbyã
)

368 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

370 #ifde‡
löt


371 
	`‰ì
 (
≥rmuèti⁄
);

372 
	`øndöt_Æl_‰ì
 (
øndöt_sour˚
);

373 i‡(
öput_löes
)

375 
	`‰ì
 (
öput_löes
[0]);

376 
	`‰ì
 (
öput_löes
);

380  
EXIT_SUCCESS
;

381 
	}
}

	@sleep.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<sys/ty≥s.h
>

20 
	~<gë›t.h
>

22 
	~"sy°em.h
"

23 
	~"c-°πod.h
"

24 
	~"îr‹.h
"

25 
	~"l⁄g-›ti⁄s.h
"

26 
	~"quŸe.h
"

27 
	~"x«no¶ìp.h
"

28 
	~"x°πod.h
"

31 
	#PROGRAM_NAME
 "¶ìp"

	)

33 
	#AUTHORS
 \

34 
	`¥›î_«me
 ("Jim Meyering"), \

35 
	`¥›î_«me
 ("Pau»Eggît")

	)

38 
	$ußge
 (
°©us
)

40 i‡(
°©us
 !
EXIT_SUCCESS
)

41 
	`emô_åy_hñp
 ();

44 
	`¥ötf
 (
	`_
("\
: %s NUMBER[SUFFIX]...\n\
: %s OPTION\n\
 for NUMBER seconds. SUFFIX may be 's' for seconds (the default),\n\
'm' for minutes, 'h' for hours or 'd' for days. Unlike most implementations\n\
Ñequire NUMBER beán integer, here NUMBER may beánárbitrary floating\n\
Çumber. GivenÅwo or moreárguments,Öause forÅheámount ofÅime\n\
 byÅhe sum ofÅheir values.\n\
\n\
"),

54 
¥ogøm_«me
,Örogram_name);

55 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

56 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

57 
	`emô_™cûœry_öfo
 ();

59 
	`exô
 (
°©us
);

60 
	}
}

68 
boﬁ


69 
	$≠∂y_suffix
 (*
x
, 
suffix_ch¨
)

71 
mu…ùlõr
;

73 
suffix_ch¨
)

77 
mu…ùlõr
 = 1;

80 
mu…ùlõr
 = 60;

83 
mu…ùlõr
 = 60 * 60;

86 
mu…ùlõr
 = 60 * 60 * 24;

89  
Ál£
;

92 *
x
 *
mu…ùlõr
;

94  
åue
;

95 
	}
}

98 
	$maö
 (
¨gc
, **
¨gv
)

100 
i
;

101 
£c⁄ds
 = 0.0;

102 
boﬁ
 
ok
 = 
åue
;

104 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

105 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

106 
	`£éoˇÀ
 (
LC_ALL
, "");

107 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

108 
	`ãxtdomaö
 (
PACKAGE
);

110 
	`©exô
 (
˛o£_°dout
);

112 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

113 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

114 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

115 
	`ußge
 (
EXIT_FAILURE
);

117 i‡(
¨gc
 == 1)

119 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

120 
	`ußge
 (
EXIT_FAILURE
);

123 
i
 = 
›töd
; i < 
¨gc
; i++)

125 
s
;

126 c⁄° *
p
;

127 i‡(! 
	`x°πod
 (
¨gv
[
i
], &
p
, &
s
, 
c_°πod
)

129 || ! (0 <
s
)

131 || (*
p
 && *(p+1))

133 || ! 
	`≠∂y_suffix
 (&
s
, *
p
))

135 
	`îr‹
 (0, 0, 
	`_
("övÆidÅimêöãrvÆ %s"), 
	`quŸe
 (
¨gv
[
i
]));

136 
ok
 = 
Ál£
;

139 
£c⁄ds
 +
s
;

142 i‡(!
ok
)

143 
	`ußge
 (
EXIT_FAILURE
);

145 i‡(
	`x«no¶ìp
 (
£c⁄ds
))

146 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannotÑeadÑealtime clock"));

148 
	`exô
 (
EXIT_SUCCESS
);

149 
	}
}

	@sort.c

23 
	~<c⁄fig.h
>

25 
	~<gë›t.h
>

26 
	~<±hªad.h
>

27 
	~<sys/ªsour˚.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<sys/waô.h
>

30 
	~<sig«l.h
>

31 
	~<as£π.h
>

32 
	~"sy°em.h
"

33 
	~"¨gm©ch.h
"

34 
	~"îr‹.h
"

35 
	~"Ádvi£.h
"

36 
	~"fûevîcmp.h
"

37 
	~"h¨d-loˇÀ.h
"

38 
	~"hash.h
"

39 
	~"hóp.h
"

40 
	~"ign‹e-vÆue.h
"

41 
	~"md5.h
"

42 
	~"mbswidth.h
"

43 
	~"≈roc.h
"

44 
	~"physmem.h
"

45 
	~"posixvî.h
"

46 
	~"quŸe.h
"

47 
	~"quŸórg.h
"

48 
	~"øndªad.h
"

49 
	~"ªadtokís0.h
"

50 
	~"°dio--.h
"

51 
	~"°dlib--.h
"

52 
	~"°∫umcmp.h
"

53 
	~"xmemcﬁl.h
"

54 
	~"x«no¶ìp.h
"

55 
	~"x°πﬁ.h
"

57 #i‚de‡
RLIMIT_DATA


58 
	sæimô
 { 
size_t
 
	mæim_cur
; };

59 
	#gëæimô
(
Resour˚
, 
RÕ
Ë(-1)

	)

63 
	#PROGRAM_NAME
 "s‹t"

	)

65 
	#AUTHORS
 \

66 
	`¥›î_«me
 ("Mike Haertel"), \

67 
	`¥›î_«me
 ("Pau»Eggît")

	)

69 #i‡
HAVE_LANGINFO_CODESET


70 
	~<œngöfo.h
>

75 #i‚de‡
SA_NOCLDSTOP


76 
	#SA_NOCLDSTOP
 0

	)

78 
	#sig¥ocmask
(
How
, 
Së
, 
O£t
Ë(0)

	)

79 
	#sig£t_t
 

	)

80 #i‡! 
HAVE_SIGINTERRUPT


81 
	#sigöãºu±
(
sig
, 
Êag
Ë

	)

85 #i‡!
deföed
 
OPEN_MAX
 && deföed 
NR_OPEN


86 
	#OPEN_MAX
 
NR_OPEN


	)

88 #i‡!
deföed
 
OPEN_MAX


89 
	#OPEN_MAX
 20

	)

92 
	#UCHAR_LIM
 (
UCHAR_MAX
 + 1)

	)

94 #i‡
HAVE_C99_STRTOLD


95 
	#l⁄g_doubÀ
 

	)

97 
	#l⁄g_doubÀ
 

	)

98 #unde‡
°πﬁd


99 
	#°πﬁd
 
°πod


	)

102 #i‚de‡
DEFAULT_TMPDIR


103 
	#DEFAULT_TMPDIR
 "/tmp"

	)

109 
	#MAX_MERGE
(
tŸÆ
, 
Àvñ
Ë((—ŸÆË>> (2 * (÷evñË+ 1))Ë+ 1)

	)

119 íum { 
	mSUBTHREAD_LINES_HEURISTIC
 = 128 * 1024 };

120 
vîify
 (4 <
SUBTHREAD_LINES_HEURISTIC
);

124 íum { 
	mDEFAULT_MAX_THREADS
 = 8 };

131 
	mSORT_OUT_OF_ORDER
 = 1,

135 
	mSORT_FAILURE
 = 2

144 
	mMAX_FORK_TRIES_COMPRESS
 = 4,

149 
	mMAX_FORK_TRIES_DECOMPRESS
 = 9

155 
	mMERGE_END
 = 0,

158 
	mMERGE_ROOT
 = 1

162 
	gdecimÆ_poöt
;

165 
	gthoußnds_£p
;

168 
boﬁ
 
	gh¨d_LC_COLLATE
;

169 #i‡
HAVE_NL_LANGINFO


170 
boﬁ
 
	gh¨d_LC_TIME
;

173 
	#NONZERO
(
x
Ë((xË!0)

	)

176 
	ebœnkty≥
 { 
	mbl_°¨t
, 
	mbl_íd
, 
	mbl_bŸh
 };

179 
	geﬁch¨
 = '\n';

182 
	slöe


184 *
	mãxt
;

185 
size_t
 
	mÀngth
;

186 *
	mkeybeg
;

187 *
	mkeylim
;

191 
	sbuf„r


193 *
	mbuf
;

198 
size_t
 
	mu£d
;

199 
size_t
 
	m∆öes
;

200 
size_t
 
	mÆloc
;

201 
size_t
 
	mÀ·
;

202 
size_t
 
	mlöe_byãs
;

203 
boﬁ
 
	meof
;

207 
	skeyfõld


209 
size_t
 
	msw‹d
;

210 
size_t
 
	msch¨
;

211 
size_t
 
	mew‹d
;

212 
size_t
 
	mech¨
;

213 
boﬁ
 c⁄° *
	mign‹e
;

214 c⁄° *
	må™¶©e
;

215 
boﬁ
 
	mskùsbœnks
;

216 
boﬁ
 
	mskùebœnks
;

217 
boﬁ
 
	mnumîic
;

220 
boﬁ
 
	møndom
;

221 
boﬁ
 
	mgíîÆ_numîic
;

223 
boﬁ
 
	mhum™_numîic
;

225 
boﬁ
 
	mm⁄th
;

226 
boﬁ
 
	mªvî£
;

227 
boﬁ
 
	mvîsi⁄
;

228 
boﬁ
 
	mobsﬁëe_u£d
;

229 
keyfõld
 *
	m√xt
;

232 
	sm⁄th


234 c⁄° *
	m«me
;

235 
	mvÆ
;

239 
	smîge_node


241 
löe
 *
	mlo
;

242 
löe
 *
	mhi
;

243 
löe
 *
	míd_lo
;

244 
löe
 *
	míd_hi
;

245 
löe
 **
	mde°
;

246 
size_t
 
	m∆o
;

247 
size_t
 
	mnhi
;

248 
mîge_node
 *
	m∑ª¡
;

249 
mîge_node
 *
	mlo_chûd
;

250 
mîge_node
 *
	mhi_chûd
;

251 
	mÀvñ
;

252 
boﬁ
 
	mqueued
;

253 
±hªad_muãx_t
 
	mlock
;

257 
	smîge_node_queue


259 
hóp
 *
	m¥i‹ôy_queue
;

260 
±hªad_muãx_t
 
	mmuãx
;

261 
±hªad_c⁄d_t
 
	mc⁄d
;

266 
löe
 
	gßved_löe
;

275 
boﬁ
 
	gbœnks
[
UCHAR_LIM
];

278 
boﬁ
 
	gn⁄¥ötög
[
UCHAR_LIM
];

281 
boﬁ
 
	gn⁄di˘i⁄¨y
[
UCHAR_LIM
];

284 
	gfﬁd_touµî
[
UCHAR_LIM
];

286 
	#MONTHS_PER_YEAR
 12

	)

290 
m⁄th
 
	gm⁄thèb
[] =

307 
	#NMERGE_DEFAULT
 16

	)

310 
	#MIN_MERGE_BUFFER_SIZE
 (2 +  (
löe
))

	)

313 
	#MIN_SORT_SIZE
 (
nmîge
 * 
MIN_MERGE_BUFFER_SIZE
)

	)

318 
size_t
 
	gmîge_buf„r_size
 = 
MAX
 (
MIN_MERGE_BUFFER_SIZE
, 256 * 1024);

322 
size_t
 
	gs‹t_size
;

329 
	#INPUT_FILE_SIZE_GUESS
 (128 * 1024)

	)

332 c⁄° **
	gãmp_dús
;

335 
size_t
 
	gãmp_dú_cou¡
;

338 
size_t
 
	gãmp_dú_Æloc
;

341 
boﬁ
 
	gªvî£
;

346 
boﬁ
 
	g°abÀ
;

349 íum { 
	mTAB_DEFAULT
 = 
CHAR_MAX
 + 1 };

354 
	gèb
 = 
TAB_DEFAULT
;

358 
boﬁ
 
	gunique
;

361 
boﬁ
 
	ghave_ªad_°dö
;

364 
keyfõld
 *
	gkeyli°
;

367 c⁄° *
	gcom¥ess_¥ogøm
;

370 
boﬁ
 
	gdebug
;

374 
	gnmîge
 = 
NMERGE_DEFAULT
;

379 
	$dõ
 (c⁄° *, c⁄° *Ë
ATTRIBUTE_NORETURN
;

381 
	$dõ
 (c⁄° *
mesßge
, c⁄° *
fûe
)

383 
	`îr‹
 (0, 
î∫o
, "%s: %s", 
mesßge
, 
fûe
 ? fûê: 
	`_
("standard output"));

384 
	`exô
 (
SORT_FAILURE
);

385 
	}
}

388 
	$ußge
 (
°©us
)

390 i‡(
°©us
 !
EXIT_SUCCESS
)

391 
	`emô_åy_hñp
 ();

394 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [OPTION]... --files0-from=F\n\
"),

398 
¥ogøm_«me
,Örogram_name);

399 
	`Âuts
 (
	`_
("\
 s‹ãd c⁄ˇã«ti⁄ o‡Æ»FILE(sËtÿ°™d¨d ouçut.\n\
"), 
°dout
);

403 
	`emô_m™d©‹y_¨g_nŸe
 ();

405 
	`Âuts
 (
	`_
("\
 o±i⁄s:\n\
\n\
"), 
°dout
);

409 
	`Âuts
 (
	`_
("\
-b, --ign‹e-Àadög-bœnk† ign‹êÀadög bœnks\n\
-d, --di˘i⁄¨y-‹dî c⁄sidî o∆y bœnk†™dáÕh™umîi¯ch¨a˘îs\
\n\
-f, --ign‹e-ˇ£ fﬁdÜowî ca£Åÿuµî ca£ ch¨a˘îs\n\
"), 
°dout
);

415 
	`Âuts
 (
	`_
("\
-g, --gíîÆ-numîic-s‹à com∑ªácc‹dögÅÿgíîÆÇumîiˇ»vÆue\n\
-i, --ign‹e-n⁄¥ötög c⁄sidî o∆yÖröèbÀ ch¨a˘îs\n\
-M, --m⁄th-s‹à com∑ª (unknownË< 'JAN' < ... < 'DEC'\n\
"), 
°dout
);

420 
	`Âuts
 (
	`_
("\
-h, --hum™-numîic-s‹à com∑ª hum™ÑódabÀÇumbî†”.g., 2K 1G)\n\
"), 
°dout
);

423 
	`Âuts
 (
	`_
("\
-n, --numîic-s‹à com∑ªácc‹dögÅÿ°rögÇumîiˇ»vÆue\n\
-R, --øndom-s‹à s‹àbyÑ™dom hash o‡keys\n\
--øndom-sour˚=FILE gëÑ™dom byã†‰om FILE\n\
-r, --ªvî£Ñevî£Åhêªsu… o‡com∑ris⁄s\n\
"), 
°dout
);

429 
	`Âuts
 (
	`_
("\
--s‹t=WORD s‹àacc‹dögÅÿWORD:\n\
-numîi¯-g, hum™-numîi¯-h, m⁄th -M,\
\n\
 -n,Ñ™dom -R, vîsi⁄ -V\n\
-V, --vîsi⁄-s‹àÇ©uø»s‹ào‡(vîsi⁄Ënumbî†wôhöÅext\n\
\n\
"), 
°dout
);

437 
	`Âuts
 (
	`_
("\
 o±i⁄s:\n\
\n\
"), 
°dout
);

441 
	`Âuts
 (
	`_
("\
--b©ch-size=NMERGE mîgê© mo° NMERGE i≈ut†© on˚;\n\
 m‹êu£Åem∞fûes\n\
"), 
°dout
);

445 
	`Âuts
 (
	`_
("\
-c, --check, --check=dügno£-fú° check f‹ s‹ãd i≈ut; dÿnŸ s‹t\n\
-C, --check=quõt, --check=sûíàÜikê-c, buàdÿnŸÑï‹àfú° badÜöe\
\n\
--com¥ess-¥ogøm=PROG com¥es†ãmp‹¨õ†wôh PROG;\n\
Åhem wôh PROG -d\n\
"), 
°dout
);

452 
	`Âuts
 (
	`_
("\
--debugá¬Ÿ©êthê∑π o‡thêlöêu£dÅÿs‹t,\n\
 w¨¿abouàque°i⁄abÀ ußgêtÿ°dîr\n\
--fûes0-‰om=FÑód i≈uà‰omÅhêfûe†•ecifõd by\n\
-ãrmö©edÇame†ö fûêF;\n\
 F i†-ÅhíÑódÇame†‰om sènd¨d i≈ut\n\
"), 
°dout
);

459 
	`Âuts
 (
	`_
("\
-k, --key=KEYDEF s‹àvüá key; KEYDEF give†loˇti⁄ándÅy≥\n\
-m, --mîgê mîgêÆªady s‹ãd fûes; dÿnŸ s‹t\n\
"), 
°dout
);

463 
	`Âuts
 (
	`_
("\
-o, --ouçut=FILE wrôêªsu…ÅÿFILE in°ód o‡°™d¨d ouçut\n\
-s, --°abÀ sèbûizês‹àby dißblögÜa°-ªs‹àcom∑ris⁄\
\n\
-S, --buf„r-size=SIZE u£ SIZE f‹ maö mem‹y buf„r\n\
"), 
°dout
);

469 
	`¥ötf
 (
	`_
("\
-t, --fõld-£∑øt‹=SEP u£ SEP in°ód o‡n⁄-bœnkÅÿbœnkÅønsôi⁄\n\
-T, --ãmp‹¨y-dúe˘‹y=DIR u£ DIR f‹Åemp‹¨õs,ÇŸ $TMPDIR o∏%s;\n\
 o±i⁄†•ecify mu…ùÀ dúe˘‹õs\n\
--∑øŒñ=N ch™gêthênumbî o‡s‹t†ru¿c⁄cuºíéyÅÿN\n\
-u, --uniquê wôh -c, check f‹ såi˘ ordîög;\n\
 -c, ouçuà⁄lyÅhêfú° o‡™ÉquÆÑun\
\n\
"), 
DEFAULT_TMPDIR
);

478 
	`Âuts
 (
	`_
("\
-z, --zîo-ãrmö©edÉndÜöe†wôh 0 byã,ÇŸÇewlöe\n\
"), 
°dout
);

481 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

482 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

483 
	`Âuts
 (
	`_
("\
\n\
 i†F[.C][OPTS][,F[.C][OPTS]] f‹ sèπánd st›Öosôi⁄, whîêF i†a\n\
Çumbîánd Cá ch¨a˘îÖosôi⁄ i¿thêfõld; bŸháª origö 1,ánd\n\
 st›Öosôi⁄ deÁu…†tÿthêlöe'†íd. I‡√ôhî -àn‹ -b i†ö\n\
, ch¨a˘î†öá fõldáª cou¡ed fromÅhêbegönög o‡thê¥e˚dög\n\
. OPTS i†⁄ê‹ m‹êsögÀ-Àâî ordîög o±i⁄†[bdfgiMhnRrV],\
\n\
 ovîridêglobÆ ordîög o±i⁄†f‹Åh© key. I‡nÿkey i†giví, u£\n\
É¡úêlöêa†thêkey.\n\
\n\
 may bêfﬁlowed byÅhêfﬁlowög mu…ùliˇtivêsuffixes:\n\
"), 
°dout
);

496 
	`Âuts
 (
	`_
("\
% 1% o‡mem‹y, b 1, K 1024 (deÁu…),ánd sÿ⁄ f‹ M, G, T, P, E, Z, Y.\n\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
\n\
*** WARNING ***\n\
ÜoˇÀ s≥cifõd byÅhêívú⁄míàaf„˘†s‹à‹dî.\n\
 LC_ALL=CÅÿgëÅhêåadôi⁄Æ s‹à‹dîÅh© u£s\n\
 byã vÆues.\n\
"), 
°dout
 );

506 
	`emô_™cûœry_öfo
 ();

509 
	`exô
 (
°©us
);

510 
	}
}

516 
	mCHECK_OPTION
 = 
CHAR_MAX
 + 1,

517 
	mCOMPRESS_PROGRAM_OPTION
,

518 
	mDEBUG_PROGRAM_OPTION
,

519 
	mFILES0_FROM_OPTION
,

520 
	mNMERGE_OPTION
,

521 
	mRANDOM_SOURCE_OPTION
,

522 
	mSORT_OPTION
,

523 
	mPARALLEL_OPTION


526 c⁄° 
	gsh‹t_›ti⁄s
[] = "-bcCdfghik:mMno:rRsS:t:T:uVy:z";

528 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

530 {"ign‹e-Àadög-bœnks", 
no_¨gumít
, 
NULL
, 'b'},

531 {"check", 
›ti⁄Æ_¨gumít
, 
NULL
, 
CHECK_OPTION
},

532 {"com¥ess-¥ogøm", 
ªquúed_¨gumít
, 
NULL
, 
COMPRESS_PROGRAM_OPTION
},

533 {"debug", 
no_¨gumít
, 
NULL
, 
DEBUG_PROGRAM_OPTION
},

534 {"di˘i⁄¨y-‹dî", 
no_¨gumít
, 
NULL
, 'd'},

535 {"ign‹e-ˇ£", 
no_¨gumít
, 
NULL
, 'f'},

536 {"fûes0-‰om", 
ªquúed_¨gumít
, 
NULL
, 
FILES0_FROM_OPTION
},

537 {"gíîÆ-numîic-s‹t", 
no_¨gumít
, 
NULL
, 'g'},

538 {"ign‹e-n⁄¥ötög", 
no_¨gumít
, 
NULL
, 'i'},

539 {"key", 
ªquúed_¨gumít
, 
NULL
, 'k'},

540 {"mîge", 
no_¨gumít
, 
NULL
, 'm'},

541 {"m⁄th-s‹t", 
no_¨gumít
, 
NULL
, 'M'},

542 {"numîic-s‹t", 
no_¨gumít
, 
NULL
, 'n'},

543 {"hum™-numîic-s‹t", 
no_¨gumít
, 
NULL
, 'h'},

544 {"vîsi⁄-s‹t", 
no_¨gumít
, 
NULL
, 'V'},

545 {"øndom-s‹t", 
no_¨gumít
, 
NULL
, 'R'},

546 {"øndom-sour˚", 
ªquúed_¨gumít
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

547 {"s‹t", 
ªquúed_¨gumít
, 
NULL
, 
SORT_OPTION
},

548 {"ouçut", 
ªquúed_¨gumít
, 
NULL
, 'o'},

549 {"ªvî£", 
no_¨gumít
, 
NULL
, 'r'},

550 {"°abÀ", 
no_¨gumít
, 
NULL
, 's'},

551 {"b©ch-size", 
ªquúed_¨gumít
, 
NULL
, 
NMERGE_OPTION
},

552 {"buf„r-size", 
ªquúed_¨gumít
, 
NULL
, 'S'},

553 {"fõld-£∑øt‹", 
ªquúed_¨gumít
, 
NULL
, 't'},

554 {"ãmp‹¨y-dúe˘‹y", 
ªquúed_¨gumít
, 
NULL
, 'T'},

555 {"unique", 
no_¨gumít
, 
NULL
, 'u'},

556 {"zîo-ãrmö©ed", 
no_¨gumít
, 
NULL
, 'z'},

557 {"∑øŒñ", 
ªquúed_¨gumít
, 
NULL
, 
PARALLEL_OPTION
},

558 {
GETOPT_HELP_OPTION_DECL
},

559 {
GETOPT_VERSION_OPTION_DECL
},

560 {
NULL
, 0, NULL, 0},

563 
	#CHECK_TABLE
 \

564 
	`_˘_
("quiet", 'C') \

565 
	`_˘_
("silent", 'C') \

566 
	`_˘_
("dügno£-fú°", 'c')

	)

568 c⁄° *c⁄° 
	gcheck_¨gs
[] =

570 
	#_˘_
(
_s
, 
_c
Ë_s,

	)

571 
CHECK_TABLE
 
NULL


572 #unde‡
_˘_


574 c⁄° 
	gcheck_ty≥s
[] =

576 
	#_˘_
(
_s
, 
_c
Ë_c,

	)

577 
CHECK_TABLE


578 #unde‡
_˘_


581 
	#SORT_TABLE
 \

582 
	`_°_
("general-numeric", 'g') \

583 
	`_°_
("human-numeric", 'h') \

584 
	`_°_
("month", 'M') \

585 
	`_°_
("numeric", 'n') \

586 
	`_°_
("random", 'R') \

587 
	`_°_
("vîsi⁄", 'V')

	)

589 c⁄° *c⁄° 
	gs‹t_¨gs
[] =

591 
	#_°_
(
_s
, 
_c
Ë_s,

	)

592 
SORT_TABLE
 
NULL


593 #unde‡
_°_


595 c⁄° 
	gs‹t_ty≥s
[] =

597 
	#_°_
(
_s
, 
_c
Ë_c,

	)

598 
SORT_TABLE


599 #unde‡
_°_


603 
sig£t_t
 
	gˇught_sig«ls
;

606 
	scs_°©us


608 
boﬁ
 
	mvÆid
;

609 
sig£t_t
 
	msigs
;

613 
cs_°©us


614 
	$cs_íãr
 ()

616 
cs_°©us
 
°©us
;

617 
°©us
.
vÆid
 = (
	`sig¥ocmask
 (
SIG_BLOCK
, &
ˇught_sig«ls
, &°©us.
sigs
) == 0);

618  
°©us
;

619 
	}
}

623 
	$cs_Àave
 (
cs_°©us
 
°©us
)

625 i‡(
°©us
.
vÆid
)

628 
	`sig¥ocmask
 (
SIG_SETMASK
, &
°©us
.
sigs
, 
NULL
);

630 
	}
}

635 íum { 
	mUNCOMPRESSED
, 
	mUNREAPED
, 
	mREAPED
 };

638 
	sãm≤ode


640 
ãm≤ode
 *vﬁ©ûê
	m√xt
;

641 
pid_t
 
	mpid
;

642 
	m°©e
;

643 
	m«me
[1];

645 
ãm≤ode
 *vﬁ©ûê
	gãmphód
;

646 
ãm≤ode
 *vﬁ©ûê*
	gãm±aû
 = &
ãmphód
;

649 
	ss‹tfûe


652 c⁄° *
	m«me
;

655 
ãm≤ode
 *
	mãmp
;

659 
Hash_èbÀ
 *
	g¥o˘ab
;

661 íum { 
	mINIT_PROCTAB_SIZE
 = 47 };

663 
size_t


664 
	$¥o˘ab_hashî
 (c⁄° *
íåy
, 
size_t
 
èbsize
)

666 
ãm≤ode
 c⁄° *
node
 = 
íåy
;

667  
node
->
pid
 % 
èbsize
;

668 
	}
}

670 
boﬁ


671 
	$¥o˘ab_com∑øt‹
 (c⁄° *
e1
, c⁄° *
e2
)

673 
ãm≤ode
 c⁄° *
n1
 = 
e1
;

674 
ãm≤ode
 c⁄° *
n2
 = 
e2
;

675  
n1
->
pid
 =
n2
->pid;

676 
	}
}

679 
pid_t
 
	g≈rocs
;

681 
boﬁ
 
dñëe_¥oc
 (
pid_t
);

690 
pid_t


691 
	$ª≠
 (
pid_t
 
pid
)

693 
°©us
;

694 
pid_t
 
˝id
 = 
	`waôpid
 ((
pid
 ?Öid : -1), &
°©us
, (pid ? 0 : 
WNOHANG
));

696 i‡(
˝id
 < 0)

697 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("waiting for %s [-d]"),

698 
com¥ess_¥ogøm
);

699 i‡(0 < 
˝id
 && (0 < 
pid
 || 
	`dñëe_¥oc
 (cpid)))

701 i‡(! 
	`WIFEXITED
 (
°©us
Ë|| 
	`WEXITSTATUS
 (status))

702 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("%s [-d]Åerminatedábnormally"),

703 
com¥ess_¥ogøm
);

704 --
≈rocs
;

707  
˝id
;

708 
	}
}

714 
	$ªgi°î_¥oc
 (
ãm≤ode
 *
ãmp
)

716 i‡(! 
¥o˘ab
)

718 
¥o˘ab
 = 
	`hash_öôülize
 (
INIT_PROCTAB_SIZE
, 
NULL
,

719 
¥o˘ab_hashî
,

720 
¥o˘ab_com∑øt‹
,

721 
NULL
);

722 i‡(! 
¥o˘ab
)

723 
	`xÆloc_dõ
 ();

726 
ãmp
->
°©e
 = 
UNREAPED
;

728 i‡(! 
	`hash_ö£π
 (
¥o˘ab
, 
ãmp
))

729 
	`xÆloc_dõ
 ();

730 
	}
}

735 
boﬁ


736 
	$dñëe_¥oc
 (
pid_t
 
pid
)

738 
ãm≤ode
 
ã°
;

740 
ã°
.
pid
 =Öid;

741 
ãm≤ode
 *
node
 = 
	`hash_dñëe
 (
¥o˘ab
, &
ã°
);

742 i‡(! 
node
)

743  
Ál£
;

744 
node
->
°©e
 = 
REAPED
;

745  
åue
;

746 
	}
}

752 
	$waô_¥oc
 (
pid_t
 
pid
)

754 i‡(
	`dñëe_¥oc
 (
pid
))

755 
	`ª≠
 (
pid
);

756 
	}
}

762 
	$ª≠_exôed
 ()

764 0 < 
≈rocs
 && 
	`ª≠
 (0))

766 
	}
}

771 
	$ª≠_some
 ()

773 
	`ª≠
 (-1);

774 
	`ª≠_exôed
 ();

775 
	}
}

780 
	$ª≠_Æl
 ()

782 0 < 
≈rocs
)

783 
	`ª≠
 (-1);

784 
	}
}

789 
	$˛ónup
 ()

791 
ãm≤ode
 c⁄° *
node
;

793 
node
 = 
ãmphód
;Çode;Çodênode->
√xt
)

794 
	`u∆ök
 (
node
->
«me
);

795 
ãmphód
 = 
NULL
;

796 
	}
}

801 
	$exô_˛ónup
 ()

803 i‡(
ãmphód
)

807 
cs_°©us
 
cs
 = 
	`cs_íãr
 ();

808 
	`˛ónup
 ();

809 
	`cs_Àave
 (
cs
);

812 
	`˛o£_°dout
 ();

813 
	}
}

821 
ãm≤ode
 *

822 
	$¸óã_ãmp_fûe
 (*
pfd
, 
boﬁ
 
survive_fd_exhau°i⁄
)

824 c⁄° 
¶ashba£
[] = "/sortXXXXXX";

825 
size_t
 
ãmp_dú_ödex
;

826 
fd
;

827 
ßved_î∫o
;

828 c⁄° *
ãmp_dú
 = 
ãmp_dús
[
ãmp_dú_ödex
];

829 
size_t
 
Àn
 = 
	`°æí
 (
ãmp_dú
);

830 
ãm≤ode
 *
node
 =

831 
	`xmÆloc
 (
	`off£tof
 (
ãm≤ode
, 
«me
Ë+ 
Àn
 +  
¶ashba£
);

832 *
fûe
 = 
node
->
«me
;

833 
cs_°©us
 
cs
;

835 
	`mem˝y
 (
fûe
, 
ãmp_dú
, 
Àn
);

836 
	`mem˝y
 (
fûe
 + 
Àn
, 
¶ashba£
,  slashbase);

837 
node
->
√xt
 = 
NULL
;

838 i‡(++
ãmp_dú_ödex
 =
ãmp_dú_cou¡
)

839 
ãmp_dú_ödex
 = 0;

842 
cs
 = 
	`cs_íãr
 ();

843 
fd
 = 
	`mk°emp
 (
fûe
);

844 i‡(0 <
fd
)

846 *
ãm±aû
 = 
node
;

847 
ãm±aû
 = &
node
->
√xt
;

849 
ßved_î∫o
 = 
î∫o
;

850 
	`cs_Àave
 (
cs
);

851 
î∫o
 = 
ßved_î∫o
;

853 i‡(
fd
 < 0)

855 i‡(! (
survive_fd_exhau°i⁄
 && 
î∫o
 =
EMFILE
))

856 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("cannot createÅemporary file in %s"),

857 
	`quŸe
 (
ãmp_dú
));

858 
	`‰ì
 (
node
);

859 
node
 = 
NULL
;

862 *
pfd
 = 
fd
;

863  
node
;

864 
	}
}

913 
FILE
 *

914 
	$°ªam_›í
 (c⁄° *
fûe
, c⁄° *
how
)

916 
FILE
 *
Â
;

918 i‡(*
how
 == 'r')

920 i‡(
	`STREQ
 (
fûe
, "-"))

922 
have_ªad_°dö
 = 
åue
;

923 
Â
 = 
°dö
;

926 
Â
 = 
	`f›í
 (
fûe
, 
how
);

927 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

929 i‡(*
how
 == 'w')

931 i‡(
fûe
 && 
	`·runˇã
 (
STDOUT_FILENO
, 0) != 0)

932 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("%s:ÉrrorÅruncating"),

933 
	`quŸe
 (
fûe
));

934 
Â
 = 
°dout
;

937 
	`as£π
 (!"unexpected modeÖassedÅo stream_open");

939  
Â
;

940 
	}
}

945 
FILE
 *

946 
	$xf›í
 (c⁄° *
fûe
, c⁄° *
how
)

948 
FILE
 *
Â
 = 
	`°ªam_›í
 (
fûe
, 
how
);

949 i‡(!
Â
)

950 
	`dõ
 (
	`_
("›í faûed"), 
fûe
);

951  
Â
;

952 
	}
}

957 
	$xf˛o£
 (
FILE
 *
Â
, c⁄° *
fûe
)

959 
	`fûío
 (
Â
))

961 
STDIN_FILENO
:

963 i‡(
	`„of
 (
Â
))

964 
	`˛óªº
 (
Â
);

967 
STDOUT_FILENO
:

969 i‡(
	`fÊush
 (
Â
) != 0)

970 
	`dõ
 (
	`_
("fÊush faûed"), 
fûe
);

974 i‡(
	`f˛o£
 (
Â
) != 0)

975 
	`dõ
 (
	`_
("˛o£ faûed"), 
fûe
);

978 
	}
}

981 
	$move_fd_‹_dõ
 (
ﬁdfd
, 
√wfd
)

983 i‡(
ﬁdfd
 !
√wfd
)

985 i‡(
	`dup2
 (
ﬁdfd
, 
√wfd
) < 0)

986 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("dup2 failed"));

987 
	`˛o£
 (
ﬁdfd
);

989 
	}
}

996 
pid_t


997 
	$pùe_f‹k
 (
pùefds
[2], 
size_t
 
åõs
)

999 #i‡
HAVE_WORKING_FORK


1000 
ãm≤ode
 *
ßved_ãmphód
;

1001 
ßved_î∫o
;

1002 
waô_ªåy
 = 0.25;

1003 
pid_t
 
pid
 
	`IF_LINT
 ( = -1);

1004 
cs_°©us
 
cs
;

1006 i‡(
	`pùe
 (
pùefds
) < 0)

1016 i‡(
nmîge
 + 1 < 
≈rocs
)

1017 
	`ª≠_some
 ();

1019 
åõs
--)

1023 
cs
 = 
	`cs_íãr
 ();

1024 
ßved_ãmphód
 = 
ãmphód
;

1025 
ãmphód
 = 
NULL
;

1027 
pid
 = 
	`f‹k
 ();

1028 
ßved_î∫o
 = 
î∫o
;

1029 i‡(
pid
)

1030 
ãmphód
 = 
ßved_ãmphód
;

1032 
	`cs_Àave
 (
cs
);

1033 
î∫o
 = 
ßved_î∫o
;

1035 i‡(0 <
pid
 || 
î∫o
 !
EAGAIN
)

1039 
	`x«no¶ìp
 (
waô_ªåy
);

1040 
waô_ªåy
 *= 2;

1041 
	`ª≠_exôed
 ();

1045 i‡(
pid
 < 0)

1047 
ßved_î∫o
 = 
î∫o
;

1048 
	`˛o£
 (
pùefds
[0]);

1049 
	`˛o£
 (
pùefds
[1]);

1050 
î∫o
 = 
ßved_î∫o
;

1052 i‡(
pid
 == 0)

1054 
	`˛o£
 (
STDIN_FILENO
);

1055 
	`˛o£
 (
STDOUT_FILENO
);

1058 ++
≈rocs
;

1060  
pid
;

1065 
	}
}

1073 
ãm≤ode
 *

1074 
	$maybe_¸óã_ãmp
 (
FILE
 **
pÂ
, 
boﬁ
 
survive_fd_exhau°i⁄
)

1076 
ãmpfd
;

1077 
ãm≤ode
 *
node
 = 
	`¸óã_ãmp_fûe
 (&
ãmpfd
, 
survive_fd_exhau°i⁄
);

1078 i‡(! 
node
)

1079  
NULL
;

1081 
node
->
°©e
 = 
UNCOMPRESSED
;

1083 i‡(
com¥ess_¥ogøm
)

1085 
pùefds
[2];

1087 
node
->
pid
 = 
	`pùe_f‹k
 (
pùefds
, 
MAX_FORK_TRIES_COMPRESS
);

1088 i‡(0 < 
node
->
pid
)

1090 
	`˛o£
 (
ãmpfd
);

1091 
	`˛o£
 (
pùefds
[0]);

1092 
ãmpfd
 = 
pùefds
[1];

1094 
	`ªgi°î_¥oc
 (
node
);

1096 i‡(
node
->
pid
 == 0)

1098 
	`˛o£
 (
pùefds
[1]);

1099 
	`move_fd_‹_dõ
 (
ãmpfd
, 
STDOUT_FILENO
);

1100 
	`move_fd_‹_dõ
 (
pùefds
[0], 
STDIN_FILENO
);

1102 i‡(
	`exe˛p
 (
com¥ess_¥ogøm
, com¥ess_¥ogøm, (*Ë
NULL
) < 0)

1103 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("couldn'tÉxecute %s"),

1104 
com¥ess_¥ogøm
);

1108 *
pÂ
 = 
	`fd›í
 (
ãmpfd
, "w");

1109 i‡(! *
pÂ
)

1110 
	`dõ
 (
	`_
("couldn'à¸óãÅemp‹¨y fûe"), 
node
->
«me
);

1112  
node
;

1113 
	}
}

1119 
ãm≤ode
 *

1120 
	$¸óã_ãmp
 (
FILE
 **
pÂ
)

1122  
	`maybe_¸óã_ãmp
 (
pÂ
, 
Ál£
);

1123 
	}
}

1130 
FILE
 *

1131 
	$›í_ãmp
 (
ãm≤ode
 *
ãmp
)

1133 
ãmpfd
, 
pùefds
[2];

1134 
FILE
 *
Â
 = 
NULL
;

1136 i‡(
ãmp
->
°©e
 =
UNREAPED
)

1137 
	`waô_¥oc
 (
ãmp
->
pid
);

1139 
ãmpfd
 = 
	`›í
 (
ãmp
->
«me
, 
O_RDONLY
);

1140 i‡(
ãmpfd
 < 0)

1141  
NULL
;

1143 
pid_t
 
chûd
 = 
	`pùe_f‹k
 (
pùefds
, 
MAX_FORK_TRIES_DECOMPRESS
);

1145 
chûd
)

1148 i‡(
î∫o
 !
EMFILE
)

1149 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("couldn't createÖrocess for %s -d"),

1150 
com¥ess_¥ogøm
);

1151 
	`˛o£
 (
ãmpfd
);

1152 
î∫o
 = 
EMFILE
;

1156 
	`˛o£
 (
pùefds
[0]);

1157 
	`move_fd_‹_dõ
 (
ãmpfd
, 
STDIN_FILENO
);

1158 
	`move_fd_‹_dõ
 (
pùefds
[1], 
STDOUT_FILENO
);

1160 
	`exe˛p
 (
com¥ess_¥ogøm
, com¥ess_¥ogøm, "-d", (*Ë
NULL
);

1161 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("couldn'tÉxecute %s -d"),

1162 
com¥ess_¥ogøm
);

1165 
ãmp
->
pid
 = 
chûd
;

1166 
	`ªgi°î_¥oc
 (
ãmp
);

1167 
	`˛o£
 (
ãmpfd
);

1168 
	`˛o£
 (
pùefds
[1]);

1170 
Â
 = 
	`fd›í
 (
pùefds
[0], "r");

1171 i‡(! 
Â
)

1173 
ßved_î∫o
 = 
î∫o
;

1174 
	`˛o£
 (
pùefds
[0]);

1175 
î∫o
 = 
ßved_î∫o
;

1180  
Â
;

1181 
	}
}

1185 
	$add_ãmp_dú
 (c⁄° *
dú
)

1187 i‡(
ãmp_dú_cou¡
 =
ãmp_dú_Æloc
)

1188 
ãmp_dús
 = 
	`X2NREALLOC
 (ãmp_dús, &
ãmp_dú_Æloc
);

1190 
ãmp_dús
[
ãmp_dú_cou¡
++] = 
dú
;

1191 
	}
}

1196 
	$z≠ãmp
 (c⁄° *
«me
)

1198 
ãm≤ode
 *vﬁ©ûê*
≤ode
;

1199 
ãm≤ode
 *
node
;

1200 
ãm≤ode
 *
√xt
;

1201 
u∆ök_°©us
;

1202 
u∆ök_î∫o
 = 0;

1203 
cs_°©us
 
cs
;

1205 
≤ode
 = &
ãmphód
; (
node
 = *≤ode)->
«me
 !«me;Önodê&node->
√xt
)

1208 i‡(
node
->
°©e
 =
UNREAPED
)

1209 
	`waô_¥oc
 (
node
->
pid
);

1212 
√xt
 = 
node
->next;

1213 
cs
 = 
	`cs_íãr
 ();

1214 
u∆ök_°©us
 = 
	`u∆ök
 (
«me
);

1215 
u∆ök_î∫o
 = 
î∫o
;

1216 *
≤ode
 = 
√xt
;

1217 
	`cs_Àave
 (
cs
);

1219 i‡(
u∆ök_°©us
 != 0)

1220 
	`îr‹
 (0, 
u∆ök_î∫o
, 
	`_
("w¨nög: c™nŸÑemove: %s"), 
«me
);

1221 i‡(! 
√xt
)

1222 
ãm±aû
 = 
≤ode
;

1223 
	`‰ì
 (
node
);

1224 
	}
}

1226 #i‡
HAVE_NL_LANGINFO


1229 
	$°ru˘_m⁄th_cmp
 (c⁄° *
m1
, c⁄° *
m2
)

1231 
m⁄th
 c⁄° *
m⁄th1
 = 
m1
;

1232 
m⁄th
 c⁄° *
m⁄th2
 = 
m2
;

1233  
	`°rcmp
 (
m⁄th1
->
«me
, 
m⁄th2
->name);

1234 
	}
}

1241 
	$öôèbÀs
 ()

1243 
size_t
 
i
;

1245 
i
 = 0; i < 
UCHAR_LIM
; ++i)

1247 
bœnks
[
i
] = !! 
	`isbœnk
 (i);

1248 
n⁄¥ötög
[
i
] = ! 
	`i•röt
 (i);

1249 
n⁄di˘i⁄¨y
[
i
] = ! 
	`iß um
 (iË&& ! 
	`isbœnk
 (i);

1250 
fﬁd_touµî
[
i
] = 
	`touµî
 (i);

1253 #i‡
HAVE_NL_LANGINFO


1255 i‡(
h¨d_LC_TIME
)

1257 
i
 = 0; i < 
MONTHS_PER_YEAR
; i++)

1259 c⁄° *
s
;

1260 
size_t
 
s_Àn
;

1261 
size_t
 
j
, 
k
;

1262 *
«me
;

1264 
s
 = 
	`∆_œngöfo
 (
ABMON_1
 + 
i
);

1265 
s_Àn
 = 
	`°æí
 (
s
);

1266 
m⁄thèb
[
i
].
«me
 =Çamê
	`xmÆloc
 (
s_Àn
 + 1);

1267 
m⁄thèb
[
i
].
vÆ
 = i + 1;

1269 
j
 = 
k
 = 0; j < 
s_Àn
; j++)

1270 i‡(! 
	`isbœnk
 (
	`to_uch¨
 (
s
[
j
])))

1271 
«me
[
k
++] = 
fﬁd_touµî
[
	`to_uch¨
 (
s
[
j
])];

1272 
«me
[
k
] = '\0';

1274 
	`qs‹t
 (
m⁄thèb
, 
MONTHS_PER_YEAR
,  *m⁄thèb, 
°ru˘_m⁄th_cmp
);

1277 
	}
}

1283 
	$•ecify_nmîge
 (
oi
, 
c
, c⁄° *
s
)

1285 
uötmax_t
 
n
;

1286 
æimô
Ñlimit;

1287 
°πﬁ_îr‹
 
e
 = 
	`x°πoumax
 (
s
, 
NULL
, 10, &
n
, NULL);

1292 
max_nmîge
 = ((
	`gëæimô
 (
RLIMIT_NOFILE
, &
æimô
) == 0

1293 ? 
æimô
.
æim_cur


1294 : 
OPEN_MAX
)

1297 i‡(
e
 =
LONGINT_OK
)

1299 
nmîge
 = 
n
;

1300 i‡(
nmîge
 !
n
)

1301 
e
 = 
LONGINT_OVERFLOW
;

1304 i‡(
nmîge
 < 2)

1306 
	`îr‹
 (0, 0, 
	`_
("invalid --%sárgument %s"),

1307 
l⁄g_›ti⁄s
[
oi
].
«me
, 
	`quŸe
 (
s
));

1308 
	`îr‹
 (
SORT_FAILURE
, 0,

1309 
	`_
("minimum --%sárgument is %s"),

1310 
l⁄g_›ti⁄s
[
oi
].
«me
, 
	`quŸe
 ("2"));

1312 i‡(
max_nmîge
 < 
nmîge
)

1314 
e
 = 
LONGINT_OVERFLOW
;

1321 i‡(
e
 =
LONGINT_OVERFLOW
)

1323 
max_nmîge_buf
[
	`INT_BUFSIZE_BOUND
 (
max_nmîge
)];

1324 
	`îr‹
 (0, 0, 
	`_
("--%sárgument %sÅooÜarge"),

1325 
l⁄g_›ti⁄s
[
oi
].
«me
, 
	`quŸe
 (
s
));

1326 
	`îr‹
 (
SORT_FAILURE
, 0,

1327 
	`_
("maximum --%sárgument with currentÑlimit is %s"),

1328 
l⁄g_›ti⁄s
[
oi
].
«me
,

1329 
	`uöâo°r
 (
max_nmîge
, 
max_nmîge_buf
));

1332 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
s
);

1333 
	}
}

1337 
	$•ecify_s‹t_size
 (
oi
, 
c
, c⁄° *
s
)

1339 
uötmax_t
 
n
;

1340 *
suffix
;

1341 
°πﬁ_îr‹
 
e
 = 
	`x°πoumax
 (
s
, &
suffix
, 10, &
n
, "EgGkKmMPtTYZ");

1344 i‡(
e
 =
LONGINT_OK
 && 
	`ISDIGIT
 (
suffix
[-1]))

1346 i‡(
n
 <
UINTMAX_MAX
 / 1024)

1347 
n
 *= 1024;

1349 
e
 = 
LONGINT_OVERFLOW
;

1353 i‡(
e
 =
LONGINT_INVALID_SUFFIX_CHAR
 && 
	`ISDIGIT
 (
suffix
[-1]) && ! suffix[1])

1354 
suffix
[0])

1357 
e
 = 
LONGINT_OK
;

1362 
mem
 = 
	`physmem_tŸÆ
 (Ë* 
n
 / 100;

1365 i‡(
mem
 < 
UINTMAX_MAX
)

1367 
n
 = 
mem
;

1368 
e
 = 
LONGINT_OK
;

1371 
e
 = 
LONGINT_OVERFLOW
;

1376 i‡(
e
 =
LONGINT_OK
)

1380 i‡(
n
 < 
s‹t_size
)

1383 
s‹t_size
 = 
n
;

1384 i‡(
s‹t_size
 =
n
)

1386 
s‹t_size
 = 
	`MAX
 (s‹t_size, 
MIN_SORT_SIZE
);

1390 
e
 = 
LONGINT_OVERFLOW
;

1393 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
s
);

1394 
	}
}

1397 
size_t


1398 
	$•ecify_¡hªads
 (
oi
, 
c
, c⁄° *
s
)

1400 
¡hªads
;

1401 
°πﬁ_îr‹
 
e
 = 
	`x°πoul
 (
s
, 
NULL
, 10, &
¡hªads
, "");

1402 i‡(
e
 =
LONGINT_OVERFLOW
)

1403  
SIZE_MAX
;

1404 i‡(
e
 !
LONGINT_OK
)

1405 
	`x°πﬁ_Áèl
 (
e
, 
oi
, 
c
, 
l⁄g_›ti⁄s
, 
s
);

1406 i‡(
SIZE_MAX
 < 
¡hªads
)

1407 
¡hªads
 = 
SIZE_MAX
;

1408 i‡(
¡hªads
 == 0)

1409 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("number inÖarallel must beÇonzero"));

1410  
¡hªads
;

1411 
	}
}

1414 
size_t


1415 
	$deÁu…_s‹t_size
 ()

1421 
size_t
 
size
 = 
SIZE_MAX
;

1422 
æimô
Ñlimit;

1423 i‡(
	`gëæimô
 (
RLIMIT_DATA
, &
æimô
Ë=0 &&Ñlimô.
æim_cur
 < 
size
)

1424 
size
 = 
æimô
.
æim_cur
;

1425 #ifde‡
RLIMIT_AS


1426 i‡(
	`gëæimô
 (
RLIMIT_AS
, &
æimô
Ë=0 &&Ñlimô.
æim_cur
 < 
size
)

1427 
size
 = 
æimô
.
æim_cur
;

1432 
size
 /= 2;

1434 #ifde‡
RLIMIT_RSS


1437 i‡(
	`gëæimô
 (
RLIMIT_RSS
, &
æimô
Ë=0 &&Ñlimô.
æim_cur
 / 16 * 15 < 
size
)

1438 
size
 = 
æimô
.
æim_cur
 / 16 * 15;

1443 
avaû
 = 
	`physmem_avaûabÀ
 ();

1444 
tŸÆ
 = 
	`physmem_tŸÆ
 ();

1445 
mem
 = 
	`MAX
 (
avaû
, 
tŸÆ
 / 8);

1448 i‡(
tŸÆ
 * 0.75 < 
size
)

1449 
size
 = 
tŸÆ
 * 0.75;

1454 i‡(
mem
 < 
size
)

1455 
size
 = 
mem
;

1456  
	`MAX
 (
size
, 
MIN_SORT_SIZE
);

1457 
	}
}

1466 
size_t


1467 
	$s‹t_buf„r_size
 (
FILE
 *c⁄° *
Âs
, 
size_t
 
nÂs
,

1468 *c⁄° *
fûes
, 
size_t
 
nfûes
,

1469 
size_t
 
löe_byãs
)

1473 
size_t
 
size_bound
;

1476 
size_t
 
w‹°_ˇ£_≥r_öput_byã
 = 
löe_byãs
 + 1;

1480 
size_t
 
size
 = 
w‹°_ˇ£_≥r_öput_byã
 + 1;

1482 
size_t
 
i
;

1484 
i
 = 0; i < 
nfûes
; i++)

1486 
°©
 
°
;

1487 
off_t
 
fûe_size
;

1488 
size_t
 
w‹°_ˇ£
;

1490 i‡((
i
 < 
nÂs
 ? 
	`f°©
 (
	`fûío
 (
Âs
[i]), &
°
)

1491 : 
	`STREQ
 (
fûes
[
i
], "-"Ë? 
	`f°©
 (
STDIN_FILENO
, &
°
)

1492 : 
	`°©
 (
fûes
[
i
], &
°
))

1494 
	`dõ
 (
	`_
("°© faûed"), 
fûes
[
i
]);

1496 i‡(
	`S_ISREG
 (
°
.
°_mode
))

1497 
fûe_size
 = 
°
.
°_size
;

1502 i‡(
s‹t_size
)

1503  
s‹t_size
;

1504 
fûe_size
 = 
INPUT_FILE_SIZE_GUESS
;

1507 i‡(! 
size_bound
)

1509 
size_bound
 = 
s‹t_size
;

1510 i‡(! 
size_bound
)

1511 
size_bound
 = 
	`deÁu…_s‹t_size
 ();

1517 
w‹°_ˇ£
 = 
fûe_size
 * 
w‹°_ˇ£_≥r_öput_byã
 + 1;

1518 i‡(
fûe_size
 !
w‹°_ˇ£
 / 
w‹°_ˇ£_≥r_öput_byã


1519 || 
size_bound
 - 
size
 <
w‹°_ˇ£
)

1520  
size_bound
;

1521 
size
 +
w‹°_ˇ£
;

1524  
size
;

1525 
	}
}

1532 
	$öôbuf
 (
buf„r
 *
buf
, 
size_t
 
löe_byãs
, size_à
Æloc
)

1538 
åue
)

1540 
Æloc
 + (
löe
) -álloc %  (line);

1541 
buf
->bu‡
	`mÆloc
 (
Æloc
);

1542 i‡(
buf
->buf)

1544 
Æloc
 /= 2;

1545 i‡(
Æloc
 <
löe_byãs
 + 1)

1546 
	`xÆloc_dõ
 ();

1549 
buf
->
löe_byãs
 =Üine_bytes;

1550 
buf
->
Æloc
 =álloc;

1551 
buf
->
u£d
 = buf->
À·
 = buf->
∆öes
 = 0;

1552 
buf
->
eof
 = 
Ál£
;

1553 
	}
}

1557 
ölöe
 
löe
 *

1558 
	$buf„r_löñim
 (
buf„r
 c⁄° *
buf
)

1560  (
löe
 *Ë(
buf
->bu‡+ buf->
Æloc
);

1561 
	}
}

1567 
	$begfõld
 (
löe
 c⁄° *löe, 
keyfõld
 c⁄° *
key
)

1569 *
±r
 = 
löe
->
ãxt
, *
lim
 =Öå +Üöe->
Àngth
 - 1;

1570 
size_t
 
sw‹d
 = 
key
->sword;

1571 
size_t
 
sch¨
 = 
key
->schar;

1576 i‡(
èb
 !
TAB_DEFAULT
)

1577 
±r
 < 
lim
 && 
sw‹d
--)

1579 
±r
 < 
lim
 && *±∏!
èb
)

1580 ++
±r
;

1581 i‡(
±r
 < 
lim
)

1582 ++
±r
;

1585 
±r
 < 
lim
 && 
sw‹d
--)

1587 
±r
 < 
lim
 && 
bœnks
[
	`to_uch¨
 (*ptr)])

1588 ++
±r
;

1589 
±r
 < 
lim
 && !
bœnks
[
	`to_uch¨
 (*ptr)])

1590 ++
±r
;

1595 i‡(
key
->
skùsbœnks
)

1596 
±r
 < 
lim
 && 
bœnks
[
	`to_uch¨
 (*ptr)])

1597 ++
±r
;

1600 
±r
 = 
	`MIN
 (
lim
,Öå + 
sch¨
);

1602  
±r
;

1603 
	}
}

1609 
	$limfõld
 (
löe
 c⁄° *löe, 
keyfõld
 c⁄° *
key
)

1611 *
±r
 = 
löe
->
ãxt
, *
lim
 =Öå +Üöe->
Àngth
 - 1;

1612 
size_t
 
ew‹d
 = 
key
->ew‹d, 
ech¨
 = key->echar;

1614 i‡(
ech¨
 == 0)

1615 
ew‹d
++;

1624 i‡(
èb
 !
TAB_DEFAULT
)

1625 
±r
 < 
lim
 && 
ew‹d
--)

1627 
±r
 < 
lim
 && *±∏!
èb
)

1628 ++
±r
;

1629 i‡(
±r
 < 
lim
 && (
ew‹d
 || 
ech¨
))

1630 ++
±r
;

1633 
±r
 < 
lim
 && 
ew‹d
--)

1635 
±r
 < 
lim
 && 
bœnks
[
	`to_uch¨
 (*ptr)])

1636 ++
±r
;

1637 
±r
 < 
lim
 && !
bœnks
[
	`to_uch¨
 (*ptr)])

1638 ++
±r
;

1641 #ifde‡
POSIX_UNSPECIFIED


1673 i‡(
èb
 !
TAB_DEFAULT
)

1675 *
√wlim
;

1676 
√wlim
 = 
	`memchr
 (
±r
, 
èb
, 
lim
 -Ötr);

1677 i‡(
√wlim
)

1678 
lim
 = 
√wlim
;

1682 *
√wlim
;

1683 
√wlim
 = 
±r
;

1684 
√wlim
 < 
lim
 && 
bœnks
[
	`to_uch¨
 (*newlim)])

1685 ++
√wlim
;

1686 
√wlim
 < 
lim
 && !
bœnks
[
	`to_uch¨
 (*newlim)])

1687 ++
√wlim
;

1688 
lim
 = 
√wlim
;

1692 i‡(
ech¨
 != 0)

1696 i‡(
key
->
skùebœnks
)

1697 
±r
 < 
lim
 && 
bœnks
[
	`to_uch¨
 (*ptr)])

1698 ++
±r
;

1701 
±r
 = 
	`MIN
 (
lim
,Öå + 
ech¨
);

1704  
±r
;

1705 
	}
}

1713 
boﬁ


1714 
	$fûlbuf
 (
buf„r
 *
buf
, 
FILE
 *
Â
, c⁄° *
fûe
)

1716 
keyfõld
 c⁄° *
key
 = 
keyli°
;

1717 
eﬁ
 = 
eﬁch¨
;

1718 
size_t
 
löe_byãs
 = 
buf
->line_bytes;

1719 
size_t
 
mîgesize
 = 
mîge_buf„r_size
 - 
MIN_MERGE_BUFFER_SIZE
;

1721 i‡(
buf
->
eof
)

1722  
Ál£
;

1724 i‡(
buf
->
u£d
 !buf->
À·
)

1726 
	`memmove
 (
buf
->buf, buf->bu‡+ buf->
u£d
 - buf->
À·
, buf->left);

1727 
buf
->
u£d
 = buf->
À·
;

1728 
buf
->
∆öes
 = 0;

1731 
åue
)

1733 *
±r
 = 
buf
->bu‡+ buf->
u£d
;

1734 
löe
 *
löñim
 = 
	`buf„r_löñim
 (
buf
);

1735 
löe
 *löê
löñim
 - 
buf
->
∆öes
;

1736 
size_t
 
avaû
 = (*Ë
löñim
 - 
buf
->
∆öes
 * 
löe_byãs
 - 
±r
;

1737 *
löe_°¨t
 = 
buf
->
∆öes
 ? 
löe
->
ãxt
 +Üöe->
Àngth
 : buf->buf;

1739 
löe_byãs
 + 1 < 
avaû
)

1746 
size_t
 
ªadsize
 = (
avaû
 - 1Ë/ (
löe_byãs
 + 1);

1747 
size_t
 
byãs_ªad
 = 
	`‰ód
 (
±r
, 1, 
ªadsize
, 
Â
);

1748 *
±æim
 = 
±r
 + 
byãs_ªad
;

1749 *
p
;

1750 
avaû
 -
byãs_ªad
;

1752 i‡(
byãs_ªad
 !
ªadsize
)

1754 i‡(
	`„º‹
 (
Â
))

1755 
	`dõ
 (
	`_
("ªad faûed"), 
fûe
);

1756 i‡(
	`„of
 (
Â
))

1758 
buf
->
eof
 = 
åue
;

1759 i‡(
buf
->bu‡=
±æim
)

1760  
Ál£
;

1761 i‡(
löe_°¨t
 !
±æim
 &&Öålim[-1] !
eﬁ
)

1762 *
±æim
++ = 
eﬁ
;

1767 (
p
 = 
	`memchr
 (
±r
, 
eﬁ
, 
±æim
 -Ötr)))

1772 *
p
 = '\0';

1773 
±r
 = 
p
 + 1;

1774 
löe
--;

1775 
löe
->
ãxt
 = 
löe_°¨t
;

1776 
löe
->
Àngth
 = 
±r
 - 
löe_°¨t
;

1777 
mîgesize
 = 
	`MAX
 (mîgesize, 
löe
->
Àngth
);

1778 
avaû
 -
löe_byãs
;

1780 i‡(
key
)

1784 
löe
->
keylim
 = (
key
->
ew‹d
 =
SIZE_MAX


1785 ? 
p


1786 : 
	`limfõld
 (
löe
, 
key
));

1788 i‡(
key
->
sw‹d
 !
SIZE_MAX
)

1789 
löe
->
keybeg
 = 
	`begfõld
 (löe, 
key
);

1792 i‡(
key
->
skùsbœnks
)

1793 
bœnks
[
	`to_uch¨
 (*
löe_°¨t
)])

1794 
löe_°¨t
++;

1795 
löe
->
keybeg
 = 
löe_°¨t
;

1799 
löe_°¨t
 = 
±r
;

1802 
±r
 = 
±æim
;

1803 i‡(
buf
->
eof
)

1807 
buf
->
u£d
 = 
±r
 - buf->buf;

1808 
buf
->
∆öes
 = 
	`buf„r_löñim
 (bufË- 
löe
;

1809 i‡(
buf
->
∆öes
 != 0)

1811 
buf
->
À·
 = 
±r
 - 
löe_°¨t
;

1812 
mîge_buf„r_size
 = 
mîgesize
 + 
MIN_MERGE_BUFFER_SIZE
;

1813  
åue
;

1820 
size_t
 
löe_Æloc
 = 
buf
->
Æloc
 /  (
löe
);

1821 
buf
->bu‡
	`x2ƒóŒoc
 (buf->buf, &
löe_Æloc
,  (
löe
));

1822 
buf
->
Æloc
 = 
löe_Æloc
 *  (
löe
);

1825 
	}
}

1828 c⁄° 
	gunô_‹dî
[
UCHAR_LIM
] =

1861 
_GL_ATTRIBUTE_PURE


1862 
	$föd_unô_‹dî
 (c⁄° *
numbî
)

1864 
boﬁ
 
möus_sign
 = (*
numbî
 == '-');

1865 c⁄° *
p
 = 
numbî
 + 
möus_sign
;

1866 
n⁄zîo
 = 0;

1867 
ch
;

1877 
	`ISDIGIT
 (
ch
 = *
p
++))

1878 
n⁄zîo
 |
ch
 - '0';

1880 
ch
 =
thoußnds_£p
);

1882 i‡(
ch
 =
decimÆ_poöt
)

1883 
	`ISDIGIT
 (
ch
 = *
p
++))

1884 
n⁄zîo
 |
ch
 - '0';

1886 i‡(
n⁄zîo
)

1888 
‹dî
 = 
unô_‹dî
[
ch
];

1889  (
möus_sign
 ? -
‹dî
 : order);

1893 
	}
}

1899 
	$hum™_numcom∑ª
 (c⁄° *
a
, c⁄° *
b
)

1901 
bœnks
[
	`to_uch¨
 (*
a
)])

1902 
a
++;

1903 
bœnks
[
	`to_uch¨
 (*
b
)])

1904 
b
++;

1906 
diff
 = 
	`föd_unô_‹dî
 (
a
Ë- föd_unô_‹dî (
b
);

1907  (
diff
 ? dif‡: 
	`°∫umcmp
 (
a
, 
b
, 
decimÆ_poöt
, 
thoußnds_£p
));

1908 
	}
}

1915 
	$numcom∑ª
 (c⁄° *
a
, c⁄° *
b
)

1917 
bœnks
[
	`to_uch¨
 (*
a
)])

1918 
a
++;

1919 
bœnks
[
	`to_uch¨
 (*
b
)])

1920 
b
++;

1922  
	`°∫umcmp
 (
a
, 
b
, 
decimÆ_poöt
, 
thoußnds_£p
);

1923 
	}
}

1930 
	$«n_com∑ª
 (c⁄° *
ß
, c⁄° *
sb
)

1932 
l⁄g_doubÀ
 
a
;

1933 
	`mem£t
 (&
a
, 0, á);

1934 
a
 = 
	`°πﬁd
 (
ß
, 
NULL
);

1936 
l⁄g_doubÀ
 
b
;

1937 
	`mem£t
 (&
b
, 0,  b);

1938 
b
 = 
	`°πﬁd
 (
sb
, 
NULL
);

1940  
	`memcmp
 (&
a
, &
b
, á);

1941 
	}
}

1944 
	$gíîÆ_numcom∑ª
 (c⁄° *
ß
, c⁄° *
sb
)

1949 *
ó
;

1950 *
eb
;

1951 
l⁄g_doubÀ
 
a
 = 
	`°πﬁd
 (
ß
, &
ó
);

1952 
l⁄g_doubÀ
 
b
 = 
	`°πﬁd
 (
sb
, &
eb
);

1955 i‡(
ß
 =
ó
)

1956  
sb
 =
eb
 ? 0 : -1;

1957 i‡(
sb
 =
eb
)

1963  (
a
 < 
b
 ? -1

1964 : 
a
 > 
b
 ? 1

1965 : 
a
 =
b
 ? 0

1966 : 
b
 == b ? -1

1967 : 
a
 ==á ? 1

1968 : 
	`«n_com∑ª
 (
ß
, 
sb
));

1969 
	}
}

1975 
	$gëm⁄th
 (c⁄° *
m⁄th
, **
ó
)

1977 
size_t
 
lo
 = 0;

1978 
size_t
 
hi
 = 
MONTHS_PER_YEAR
;

1980 
bœnks
[
	`to_uch¨
 (*
m⁄th
)])

1981 
m⁄th
++;

1985 
size_t
 
ix
 = (
lo
 + 
hi
) / 2;

1986 c⁄° *
m
 = 
m⁄th
;

1987 c⁄° *
n
 = 
m⁄thèb
[
ix
].
«me
;

1989 ;; 
m
++, 
n
++)

1991 i‡(!*
n
)

1993 i‡(
ó
)

1994 *
ó
 = (*Ë
m
;

1995  
m⁄thèb
[
ix
].
vÆ
;

1997 i‡(
	`to_uch¨
 (
fﬁd_touµî
[to_uch¨ (*
m
)]Ë<Åo_uch¨ (*
n
))

1999 
hi
 = 
ix
;

2002 i‡(
	`to_uch¨
 (
fﬁd_touµî
[to_uch¨ (*
m
)]Ë>Åo_uch¨ (*
n
))

2004 
lo
 = 
ix
 + 1;

2009 
lo
 < 
hi
);

2012 
	}
}

2015 
md5_˘x
 
	gøndom_md5_°©e
;

2020 
	$øndom_md5_°©e_öô
 (c⁄° *
øndom_sour˚
)

2022 
buf
[
MD5_DIGEST_SIZE
];

2023 
øndªad_sour˚
 *
r
 = 
	`øndªad_√w
 (
øndom_sour˚
,  
buf
);

2024 i‡(! 
r
)

2025 
	`dõ
 (
	`_
("›í faûed"), 
øndom_sour˚
);

2026 
	`øndªad
 (
r
, 
buf
,  buf);

2027 i‡(
	`øndªad_‰ì
 (
r
) != 0)

2028 
	`dõ
 (
	`_
("˛o£ faûed"), 
øndom_sour˚
);

2029 
	`md5_öô_˘x
 (&
øndom_md5_°©e
);

2030 
	`md5_¥o˚ss_byãs
 (
buf
,  buf, &
øndom_md5_°©e
);

2031 
	}
}

2035 
size_t


2036 
	$x°rx‰m
 (*
ª°ri˘
 
de°
, c⁄° *ª°ri˘ 
§c
, 
size_t
 
de°size
)

2038 
î∫o
 = 0;

2039 
size_t
 
å™¶©ed_size
 = 
	`°rx‰m
 (
de°
, 
§c
, 
de°size
);

2041 i‡(
î∫o
)

2043 
	`îr‹
 (0, 
î∫o
, 
	`_
("stringÅransformation failed"));

2044 
	`îr‹
 (0, 0, 
	`_
("set LC_ALL='C'Åo workároundÅheÖroblem"));

2045 
	`îr‹
 (
SORT_FAILURE
, 0,

2046 
	`_
("the untransformed string was %s"),

2047 
	`quŸórg_n_°yÀ
 (0, 
loˇÀ_quŸög_°yÀ
, 
§c
));

2050  
å™¶©ed_size
;

2051 
	}
}

2058 
	$com∑ª_øndom
 (*
ª°ri˘
 
ãxè
, 
size_t
 
À«
,

2059 *
ª°ri˘
 
ãxtb
, 
size_t
 
Ànb
)

2065 
x‰m_diff
 = 0;

2067 
°ackbuf
[4000];

2068 *
buf
 = 
°ackbuf
;

2069 
size_t
 
bufsize
 =  
°ackbuf
;

2070 *
Æloˇãd
 = 
NULL
;

2071 
uöt32_t
 
dig
[2][
MD5_DIGEST_SIZE
 /  (uint32_t)];

2072 
md5_˘x
 
s
[2];

2073 
s
[0] = s[1] = 
øndom_md5_°©e
;

2075 i‡(
h¨d_LC_COLLATE
)

2077 c⁄° *
lima
 = 
ãxè
 + 
À«
;

2078 c⁄° *
limb
 = 
ãxtb
 + 
Ànb
;

2080 
åue
)

2097 
size_t
 
guess_bufsize
 = 3 * (
À«
 + 
Ànb
) + 2;

2098 i‡(
bufsize
 < 
guess_bufsize
)

2100 
bufsize
 = 
	`MAX
 (
guess_bufsize
, bufsize * 3 / 2);

2101 
	`‰ì
 (
Æloˇãd
);

2102 
buf
 = 
Æloˇãd
 = 
	`mÆloc
 (
bufsize
);

2103 i‡(! 
buf
)

2105 
buf
 = 
°ackbuf
;

2106 
bufsize
 =  
°ackbuf
;

2110 
size_t
 
sizó
 =

2111 (
ãxè
 < 
lima
 ? 
	`x°rx‰m
 (
buf
,Åexè, 
bufsize
) + 1 : 0);

2112 
boﬁ
 
a_fôs
 = 
sizó
 <
bufsize
;

2113 
size_t
 
sizeb
 =

2114 (
ãxtb
 < 
limb


2115 ? (
	`x°rx‰m
 ((
a_fôs
 ? 
buf
 + 
sizó
 : 
NULL
), 
ãxtb
,

2116 (
a_fôs
 ? 
bufsize
 - 
sizó
 : 0))

2120 i‡(! (
a_fôs
 && 
sizó
 + 
sizeb
 <
bufsize
))

2122 
bufsize
 = 
sizó
 + 
sizeb
;

2123 i‡(
bufsize
 < 
SIZE_MAX
 / 3)

2124 
bufsize
 = bufsize * 3 / 2;

2125 
	`‰ì
 (
Æloˇãd
);

2126 
buf
 = 
Æloˇãd
 = 
	`xmÆloc
 (
bufsize
);

2127 i‡(
ãxè
 < 
lima
)

2128 
	`°rx‰m
 (
buf
, 
ãxè
, 
sizó
);

2129 i‡(
ãxtb
 < 
limb
)

2130 
	`°rx‰m
 (
buf
 + 
sizó
, 
ãxtb
, 
sizeb
);

2137 i‡(
ãxè
 < 
lima
)

2138 
ãxè
 +
	`°æí
 (texta) + 1;

2139 i‡(
ãxtb
 < 
limb
)

2140 
ãxtb
 +
	`°æí
 (textb) + 1;

2141 i‡(! (
ãxè
 < 
lima
 || 
ãxtb
 < 
limb
))

2143 
À«
 = 
sizó
; 
ãxè
 = 
buf
;

2144 
Ànb
 = 
sizeb
; 
ãxtb
 = 
buf
 + 
sizó
;

2150 
	`md5_¥o˚ss_byãs
 (
buf
, 
sizó
, &
s
[0]);

2151 
	`md5_¥o˚ss_byãs
 (
buf
 + 
sizó
, 
sizeb
, &
s
[1]);

2154 i‡(! 
x‰m_diff
)

2156 
x‰m_diff
 = 
	`memcmp
 (
buf
, bu‡+ 
sizó
, 
	`MIN
 (sizó, 
sizeb
));

2157 i‡(! 
x‰m_diff
)

2158 
x‰m_diff
 = (
sizó
 > 
sizeb
) - (sizea < sizeb);

2164 
	`md5_¥o˚ss_byãs
 (
ãxè
, 
À«
, &
s
[0]); 
	`md5_föish_˘x
 (&s[0], 
dig
[0]);

2165 
	`md5_¥o˚ss_byãs
 (
ãxtb
, 
Ànb
, &
s
[1]); 
	`md5_föish_˘x
 (&s[1], 
dig
[1]);

2166 
diff
 = 
	`memcmp
 (
dig
[0], dig[1],  dig[0]);

2169 i‡(! 
diff
)

2171 i‡(! 
x‰m_diff
)

2173 
x‰m_diff
 = 
	`memcmp
 (
ãxè
, 
ãxtb
, 
	`MIN
 (
À«
, 
Ànb
));

2174 i‡(! 
x‰m_diff
)

2175 
x‰m_diff
 = (
À«
 > 
Ànb
) - (lena <Üenb);

2178 
diff
 = 
x‰m_diff
;

2181 
	`‰ì
 (
Æloˇãd
);

2183  
diff
;

2184 
	}
}

2190 
size_t


2191 
	$debug_width
 (c⁄° *
ãxt
, c⁄° *
lim
)

2193 
size_t
 
width
 = 
	`mb¢width
 (
ãxt
, 
lim
 -Åext, 0);

2194 
ãxt
 < 
lim
)

2195 
width
 +(*
ãxt
++ == '\t');

2196  
width
;

2197 
	}
}

2203 
	$m¨k_key
 (
size_t
 
off£t
, size_à
width
)

2205 
off£t
--)

2206 
	`putch¨
 (' ');

2208 i‡(!
width
)

2209 
	`¥ötf
 (
	`_
("^Ço match for key\n"));

2213 
	`putch¨
 ('_');

2214 --
width
);

2216 
	`putch¨
 ('\n');

2218 
	}
}

2222 
ölöe
 
boﬁ


2223 
	$key_numîic
 (
keyfõld
 c⁄° *
key
)

2225  
key
->
numîic
 || key->
gíîÆ_numîic
 || key->
hum™_numîic
;

2226 
	}
}

2232 
	$debug_key
 (
löe
 c⁄° *löe, 
keyfõld
 c⁄° *
key
)

2234 *
ãxt
 = 
löe
->text;

2235 *
beg
 = 
ãxt
;

2236 *
lim
 = 
ãxt
 + 
löe
->
Àngth
 - 1;

2238 i‡(
key
)

2240 i‡(
key
->
sw‹d
 !
SIZE_MAX
)

2241 
beg
 = 
	`begfõld
 (
löe
, 
key
);

2242 i‡(
key
->
ew‹d
 !
SIZE_MAX
)

2243 
lim
 = 
	`limfõld
 (
löe
, 
key
);

2245 i‡(
key
->
skùsbœnks
 || key->
m⁄th
 || 
	`key_numîic
 (key))

2247 
ßved
 = *
lim
;

2248 *
lim
 = '\0';

2250 
bœnks
[
	`to_uch¨
 (*
beg
)])

2251 
beg
++;

2253 *
tighãr_lim
 = 
beg
;

2255 i‡(
lim
 < 
beg
)

2256 
tighãr_lim
 = 
lim
;

2257 i‡(
key
->
m⁄th
)

2258 
	`gëm⁄th
 (
beg
, &
tighãr_lim
);

2259 i‡(
key
->
gíîÆ_numîic
)

2260 
	`ign‹e_vÆue
 (
	`°πﬁd
 (
beg
, &
tighãr_lim
));

2261 i‡(
key
->
numîic
 || key->
hum™_numîic
)

2263 *
p
 = 
beg
 + (beg < 
lim
 && *beg == '-');

2264 
boﬁ
 
found_digô
 = 
Ál£
;

2265 
ch
;

2269 
	`ISDIGIT
 (
ch
 = *
p
++))

2270 
found_digô
 = 
åue
;

2272 
ch
 =
thoußnds_£p
);

2274 i‡(
ch
 =
decimÆ_poöt
)

2275 
	`ISDIGIT
 (
ch
 = *
p
++))

2276 
found_digô
 = 
åue
;

2278 i‡(
found_digô
)

2279 
tighãr_lim
 = 
p
 - ! (
key
->
hum™_numîic
 && 
unô_‹dî
[
ch
]);

2282 
tighãr_lim
 = 
lim
;

2284 *
lim
 = 
ßved
;

2285 
lim
 = 
tighãr_lim
;

2289 
size_t
 
off£t
 = 
	`debug_width
 (
ãxt
, 
beg
);

2290 
size_t
 
width
 = 
	`debug_width
 (
beg
, 
lim
);

2291 
	`m¨k_key
 (
off£t
, 
width
);

2292 
	}
}

2297 
	$debug_löe
 (
löe
 const *line)

2299 
keyfõld
 c⁄° *
key
 = 
keyli°
;

2302 
	`debug_key
 (
löe
, 
key
);

2303 
key
 && ((key = key->
√xt
Ë|| ! (
unique
 || 
°abÀ
)));

2304 
	}
}

2308 
boﬁ


2309 
	$deÁu…_key_com∑ª
 (
keyfõld
 c⁄° *
key
)

2311  ! (
key
->
ign‹e


2312 || 
key
->
å™¶©e


2313 || 
key
->
skùsbœnks


2314 || 
key
->
skùebœnks


2315 || 
	`key_numîic
 (
key
)

2316 || 
key
->
m⁄th


2317 || 
key
->
vîsi⁄


2318 || 
key
->
øndom


2321 
	}
}

2326 
	$key_to_›ts
 (
keyfõld
 c⁄° *
key
, *
›ts
)

2328 i‡(
key
->
skùsbœnks
 || key->
skùebœnks
)

2329 *
›ts
++ = 'b';

2330 i‡(
key
->
ign‹e
 =
n⁄di˘i⁄¨y
)

2331 *
›ts
++ = 'd';

2332 i‡(
key
->
å™¶©e
)

2333 *
›ts
++ = 'f';

2334 i‡(
key
->
gíîÆ_numîic
)

2335 *
›ts
++ = 'g';

2336 i‡(
key
->
hum™_numîic
)

2337 *
›ts
++ = 'h';

2338 i‡(
key
->
ign‹e
 =
n⁄¥ötög
)

2339 *
›ts
++ = 'i';

2340 i‡(
key
->
m⁄th
)

2341 *
›ts
++ = 'M';

2342 i‡(
key
->
numîic
)

2343 *
›ts
++ = 'n';

2344 i‡(
key
->
øndom
)

2345 *
›ts
++ = 'R';

2346 i‡(
key
->
ªvî£
)

2347 *
›ts
++ = 'r';

2348 i‡(
key
->
vîsi⁄
)

2349 *
›ts
++ = 'V';

2350 *
›ts
 = '\0';

2351 
	}
}

2356 
	$key_w¨nögs
 (
keyfõld
 c⁄° *
gkey
, 
boﬁ
 
gkey_⁄ly
)

2358 
keyfõld
 c⁄° *
key
;

2359 
keyfõld
 
ugkey
 = *
gkey
;

2360 
keynum
 = 1;

2362 
key
 = 
keyli°
; key; key = key->
√xt
, 
keynum
++)

2364 i‡(
key
->
obsﬁëe_u£d
)

2366 
size_t
 
sw‹d
 = 
key
->sword;

2367 
size_t
 
ew‹d
 = 
key
->eword;

2368 
tmp
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

2372 
obuf
[
	`INT_BUFSIZE_BOUND
 (
sw‹d
) * 2 + 4];

2373 
nbuf
[
	`INT_BUFSIZE_BOUND
 (
sw‹d
) * 2 + 5];

2374 *
po
 = 
obuf
;

2375 *
≤
 = 
nbuf
;

2377 i‡(
sw‹d
 =
SIZE_MAX
)

2378 
sw‹d
++;

2380 
po
 = 
	`°p˝y
 (°p˝y (po, "+"), 
	`umaxto°r
 (
sw‹d
, 
tmp
));

2381 
≤
 = 
	`°p˝y
 (°p˝y (≤, "-k "), 
	`umaxto°r
 (
sw‹d
 + 1, 
tmp
));

2382 i‡(
key
->
ew‹d
 !
SIZE_MAX
)

2384 
	`°p˝y
 (°p˝y (
po
, " -"), 
	`umaxto°r
 (
ew‹d
 + 1, 
tmp
));

2385 
	`°p˝y
 (°p˝y (
≤
, ","),

2386 
	`umaxto°r
 (
ew‹d
 + 1

2387 + (
key
->
ech¨
 =
SIZE_MAX
), 
tmp
));

2389 
	`îr‹
 (0, 0, 
	`_
("obsolescent key %s used; consider %s instead"),

2390 
	`quŸe_n
 (0, 
obuf
), quŸe_¿(1, 
nbuf
));

2394 i‡(
key
->
sw‹d
 !
SIZE_MAX
 && key->
ew‹d
 < key->sword)

2395 
	`îr‹
 (0, 0, 
	`_
("key %lu ha†zîÿwidthánd wû»bêign‹ed"), 
keynum
);

2398 
boﬁ
 
im∂icô_skù
 = 
	`key_numîic
 (
key
Ë|| key->
m⁄th
;

2399 
boﬁ
 
maybe_•a˚_Æig√d
 = !
h¨d_LC_COLLATE
 && 
	`deÁu…_key_com∑ª
 (
key
)

2400 && !(
key
->
sch¨
 || key->
ech¨
);

2401 
boﬁ
 
löe_off£t
 = 
key
->
ew‹d
 =0 && key->
ech¨
 != 0;

2402 i‡(!
gkey_⁄ly
 && 
èb
 =
TAB_DEFAULT
 && !
löe_off£t


2403 && ((!
key
->
skùsbœnks
 && !(
im∂icô_skù
 || 
maybe_•a˚_Æig√d
))

2404 || (!
key
->
skùsbœnks
 && key->
sch¨
)

2405 || (!
key
->
skùebœnks
 && key->
ech¨
)))

2406 
	`îr‹
 (0, 0, 
	`_
("leading blanksáre significant in key %lu; "

2407 "c⁄sidîálsÿ•ecifyög 'b'"), 
keynum
);

2412 i‡(!
gkey_⁄ly
 && 
	`key_numîic
 (
key
))

2414 
size_t
 
sw‹d
 = 
key
->sword + 1;

2415 
size_t
 
ew‹d
 = 
key
->eword + 1;

2416 i‡(!
sw‹d
)

2417 
sw‹d
++;

2418 i‡(!
ew‹d
 || 
sw‹d
 <Éword)

2419 
	`îr‹
 (0, 0, 
	`_
("key %lu isÇumericánd spans multiple fields"),

2420 
keynum
);

2424 i‡(
ugkey
.
ign‹e
 && (ugkey.ign‹ê=
key
->ignore))

2425 
ugkey
.
ign‹e
 = 
NULL
;

2426 i‡(
ugkey
.
å™¶©e
 && (ugkey.å™¶©ê=
key
->translate))

2427 
ugkey
.
å™¶©e
 = 
NULL
;

2428 
ugkey
.
skùsbœnks
 &!
key
->skipsblanks;

2429 
ugkey
.
skùebœnks
 &!
key
->skipeblanks;

2430 
ugkey
.
m⁄th
 &!
key
->month;

2431 
ugkey
.
numîic
 &!
key
->numeric;

2432 
ugkey
.
gíîÆ_numîic
 &!
key
->general_numeric;

2433 
ugkey
.
hum™_numîic
 &!
key
->human_numeric;

2434 
ugkey
.
øndom
 &!
key
->random;

2435 
ugkey
.
vîsi⁄
 &!
key
->version;

2436 
ugkey
.
ªvî£
 &!
key
->reverse;

2441 i‡(!
	`deÁu…_key_com∑ª
 (&
ugkey
)

2442 || (
ugkey
.
ªvî£
 && (
°abÀ
 || 
unique
Ë&& 
keyli°
))

2444 
boﬁ
 
ugkey_ªvî£
 = 
ugkey
.
ªvî£
;

2445 i‡(!(
°abÀ
 || 
unique
))

2446 
ugkey
.
ªvî£
 = 
Ál£
;

2448 
›ts
[ 
sh‹t_›ti⁄s
];

2449 
	`key_to_›ts
 (&
ugkey
, 
›ts
);

2450 
	`îr‹
 (0, 0,

2451 
	`ngëãxt
 ("option '-%s' is ignored",

2453 
	`£À˘_∂uøl
 (
	`°æí
 (
›ts
))), opts);

2454 
ugkey
.
ªvî£
 = 
ugkey_ªvî£
;

2456 i‡(
ugkey
.
ªvî£
 && !(
°abÀ
 || 
unique
Ë&& 
keyli°
)

2457 
	`îr‹
 (0, 0, 
	`_
("option '-r' onlyáppliesÅoÜast-resort comparison"));

2458 
	}
}

2464 
	$keycom∑ª
 (
löe
 c⁄° *
a
, löêc⁄° *
b
)

2466 
keyfõld
 *
key
 = 
keyli°
;

2470 *
ãxè
 = 
a
->
keybeg
;

2471 *
ãxtb
 = 
b
->
keybeg
;

2472 *
lima
 = 
a
->
keylim
;

2473 *
limb
 = 
b
->
keylim
;

2475 
diff
;

2477 
åue
)

2479 c⁄° *
å™¶©e
 = 
key
->translate;

2480 
boﬁ
 c⁄° *
ign‹e
 = 
key
->ignore;

2483 
lima
 = 
	`MAX
 (
ãxè
,Üima);

2484 
limb
 = 
	`MAX
 (
ãxtb
,Üimb);

2487 
size_t
 
À«
 = 
lima
 - 
ãxè
;

2488 
size_t
 
Ànb
 = 
limb
 - 
ãxtb
;

2490 i‡(
h¨d_LC_COLLATE
 || 
	`key_numîic
 (
key
)

2491 || 
key
->
m⁄th
 || key->
øndom
 || key->
vîsi⁄
)

2493 *
è
;

2494 *
tb
;

2495 
size_t
 
éía
;

2496 
size_t
 
éíb
;

2498 
ída
 
	`IF_LINT
 (= 0);

2499 
ídb
 
	`IF_LINT
 (= 0);

2500 *
Æloˇãd
 
	`IF_LINT
 (
NULL
);

2501 
°ackbuf
[4000];

2503 i‡(
ign‹e
 || 
å™¶©e
)

2509 
size_t
 
i
;

2512 
size_t
 
size
 = 
À«
 + 1 + 
Ànb
 + 1;

2513 i‡(
size
 < 
°ackbuf
)

2514 
è
 = 
°ackbuf
, 
Æloˇãd
 = 
NULL
;

2516 
è
 = 
Æloˇãd
 = 
	`xmÆloc
 (
size
);

2517 
tb
 = 
è
 + 
À«
 + 1;

2521 
éía
 = 
i
 = 0; i < 
À«
; i++)

2522 i‡(! (
ign‹e
 && ign‹e[
	`to_uch¨
 (
ãxè
[
i
])]))

2523 
è
[
éía
++] = (
å™¶©e


2524 ? 
å™¶©e
[
	`to_uch¨
 (
ãxè
[
i
])]

2525 : 
ãxè
[
i
]);

2526 
è
[
éía
] = '\0';

2528 
éíb
 = 
i
 = 0; i < 
Ànb
; i++)

2529 i‡(! (
ign‹e
 && ign‹e[
	`to_uch¨
 (
ãxtb
[
i
])]))

2530 
tb
[
éíb
++] = (
å™¶©e


2531 ? 
å™¶©e
[
	`to_uch¨
 (
ãxtb
[
i
])]

2532 : 
ãxtb
[
i
]);

2533 
tb
[
éíb
] = '\0';

2538 
è
 = 
ãxè
; 
éía
 = 
À«
; 
ída
 =Åa[tlena];Åa[tlena] = '\0';

2539 
tb
 = 
ãxtb
; 
éíb
 = 
Ànb
; 
ídb
 =Åb[tlenb];Åb[tlenb] = '\0';

2542 i‡(
key
->
numîic
)

2543 
diff
 = 
	`numcom∑ª
 (
è
, 
tb
);

2544 i‡(
key
->
gíîÆ_numîic
)

2545 
diff
 = 
	`gíîÆ_numcom∑ª
 (
è
, 
tb
);

2546 i‡(
key
->
hum™_numîic
)

2547 
diff
 = 
	`hum™_numcom∑ª
 (
è
, 
tb
);

2548 i‡(
key
->
m⁄th
)

2549 
diff
 = 
	`gëm⁄th
 (
è
, 
NULL
Ë- gëm⁄th (
tb
, NULL);

2550 i‡(
key
->
øndom
)

2551 
diff
 = 
	`com∑ª_øndom
 (
è
, 
éía
, 
tb
, 
éíb
);

2552 i‡(
key
->
vîsi⁄
)

2553 
diff
 = 
	`fûevîcmp
 (
è
, 
tb
);

2558 i‡(
éía
 == 0)

2559 
diff
 = - 
	`NONZERO
 (
éíb
);

2560 i‡(
éíb
 == 0)

2561 
diff
 = 1;

2563 
diff
 = 
	`xmemcﬁl0
 (
è
, 
éía
 + 1, 
tb
, 
éíb
 + 1);

2566 i‡(
ign‹e
 || 
å™¶©e
)

2567 
	`‰ì
 (
Æloˇãd
);

2570 
è
[
éía
] = 
ída
;

2571 
tb
[
éíb
] = 
ídb
;

2574 i‡(
ign‹e
)

2576 
	#CMP_WITH_IGNORE
(
A
, 
B
) \

2579 
åue
) \

2581 
ãxè
 < 
lima
 && 
ign‹e
[
	`to_uch¨
 (*texta)]) \

2582 ++
ãxè
; \

2583 
ãxtb
 < 
limb
 && 
ign‹e
[
	`to_uch¨
 (*textb)]) \

2584 ++
ãxtb
; \

2585 i‡(! (
ãxè
 < 
lima
 && 
ãxtb
 < 
limb
)) \

2587 
diff
 = 
	`to_uch¨
 (
A
Ë-Åo_uch¨ (
B
); \

2588 i‡(
diff
) \

2589 
nŸ_equÆ
; \

2590 ++
ãxè
; \

2591 ++
ãxtb
; \

2594 
diff
 = (
ãxè
 < 
lima
Ë- (
ãxtb
 < 
limb
); \

2596 0)

	)

2598 i‡(
å™¶©e
)

2599 
	`CMP_WITH_IGNORE
 (
å™¶©e
[
	`to_uch¨
 (*
ãxè
)],

2600 
å™¶©e
[
	`to_uch¨
 (*
ãxtb
)]);

2602 
	`CMP_WITH_IGNORE
 (*
ãxè
, *
ãxtb
);

2604 i‡(
À«
 == 0)

2605 
diff
 = - 
	`NONZERO
 (
Ànb
);

2606 i‡(
Ànb
 == 0)

2607 
gª©î
;

2610 i‡(
å™¶©e
)

2612 
ãxè
 < 
lima
 && 
ãxtb
 < 
limb
)

2614 
diff
 = (
	`to_uch¨
 (
å™¶©e
[to_uch¨ (*
ãxè
++)])

2615 - 
	`to_uch¨
 (
å™¶©e
[to_uch¨ (*
ãxtb
++)]));

2616 i‡(
diff
)

2617 
nŸ_equÆ
;

2622 
diff
 = 
	`memcmp
 (
ãxè
, 
ãxtb
, 
	`MIN
 (
À«
, 
Ànb
));

2623 i‡(
diff
)

2624 
nŸ_equÆ
;

2626 
diff
 = 
À«
 < 
Ànb
 ? -1 :Üena !=Üenb;

2629 i‡(
diff
)

2630 
nŸ_equÆ
;

2632 
key
 = key->
√xt
;

2633 i‡(! 
key
)

2637 i‡(
key
->
ew‹d
 !
SIZE_MAX
)

2638 
lima
 = 
	`limfõld
 (
a
, 
key
), 
limb
 =Üimfõld (
b
, key);

2640 
lima
 = 
a
->
ãxt
 +á->
Àngth
 - 1, 
limb
 = 
b
->text + b->length - 1;

2642 i‡(
key
->
sw‹d
 !
SIZE_MAX
)

2643 
ãxè
 = 
	`begfõld
 (
a
, 
key
), 
ãxtb
 = begfõld (
b
, key);

2646 
ãxè
 = 
a
->
ãxt
, 
ãxtb
 = 
b
->text;

2647 i‡(
key
->
skùsbœnks
)

2649 
ãxè
 < 
lima
 && 
bœnks
[
	`to_uch¨
 (*texta)])

2650 ++
ãxè
;

2651 
ãxtb
 < 
limb
 && 
bœnks
[
	`to_uch¨
 (*textb)])

2652 ++
ãxtb
;

2659 
gª©î
:

2660 
diff
 = 1;

2661 
nŸ_equÆ
:

2662  
key
->
ªvî£
 ? -
diff
 : diff;

2663 
	}
}

2669 
	$com∑ª
 (
löe
 c⁄° *
a
, löêc⁄° *
b
)

2671 
diff
;

2672 
size_t
 
Æí
, 
bÀn
;

2677 i‡(
keyli°
)

2679 
diff
 = 
	`keycom∑ª
 (
a
, 
b
);

2680 i‡(
diff
 || 
unique
 || 
°abÀ
)

2681  
diff
;

2686 
Æí
 = 
a
->
Àngth
 - 1, 
bÀn
 = 
b
->length - 1;

2688 i‡(
Æí
 == 0)

2689 
diff
 = - 
	`NONZERO
 (
bÀn
);

2690 i‡(
bÀn
 == 0)

2691 
diff
 = 1;

2692 i‡(
h¨d_LC_COLLATE
)

2698 
diff
 = 
	`xmemcﬁl0
 (
a
->
ãxt
, 
Æí
 + 1, 
b
->ãxt, 
bÀn
 + 1);

2700 i‡(! (
diff
 = 
	`memcmp
 (
a
->
ãxt
, 
b
->ãxt, 
	`MIN
 (
Æí
, 
bÀn
))))

2701 
diff
 = 
Æí
 < 
bÀn
 ? -1 :álen != blen;

2703  
ªvî£
 ? -
diff
 : diff;

2704 
	}
}

2712 
	$wrôe_löe
 (
löe
 c⁄° *löe, 
FILE
 *
Â
, c⁄° *
ouçut_fûe
)

2714 *
buf
 = 
löe
->
ãxt
;

2715 
size_t
 
n_byãs
 = 
löe
->
Àngth
;

2716 *
ebuf
 = 
buf
 + 
n_byãs
;

2718 i‡(!
ouçut_fûe
 && 
debug
)

2721 c⁄° *
c
 = 
buf
;

2723 
c
 < 
ebuf
)

2725 
wc
 = *
c
++;

2726 i‡(
wc
 == '\t')

2727 
wc
 = '>';

2728 i‡(
c
 =
ebuf
)

2729 
wc
 = '\n';

2730 i‡(
	`Âutc
 (
wc
, 
Â
Ë=
EOF
)

2731 
	`dõ
 (
	`_
("wrôêÁûed"), 
ouçut_fûe
);

2734 
	`debug_löe
 (
löe
);

2738 
ebuf
[-1] = 
eﬁch¨
;

2739 i‡(
	`fwrôe
 (
buf
, 1, 
n_byãs
, 
Â
) !=Ç_bytes)

2740 
	`dõ
 (
	`_
("wrôêÁûed"), 
ouçut_fûe
);

2741 
ebuf
[-1] = '\0';

2743 
	}
}

2750 
boﬁ


2751 
	$check
 (c⁄° *
fûe_«me
, 
check⁄ly
)

2753 
FILE
 *
Â
 = 
	`xf›í
 (
fûe_«me
, "r");

2754 
buf„r
 
buf
;

2755 
löe
 
ãmp
;

2756 
size_t
 
Æloc
 = 0;

2757 
uötmax_t
 
löe_numbî
 = 0;

2758 
keyfõld
 c⁄° *
key
 = 
keyli°
;

2759 
boﬁ
 
n⁄unique
 = ! 
unique
;

2760 
boﬁ
 
‹dîed
 = 
åue
;

2762 
	`öôbuf
 (&
buf
,  (
löe
),

2763 
	`MAX
 (
mîge_buf„r_size
, 
s‹t_size
));

2764 
ãmp
.
ãxt
 = 
NULL
;

2766 
	`fûlbuf
 (&
buf
, 
Â
, 
fûe_«me
))

2768 
löe
 c⁄° *löê
	`buf„r_löñim
 (&
buf
);

2769 
löe
 c⁄° *
löeba£
 =Üöê- 
buf
.
∆öes
;

2773 i‡(
Æloc
 && 
n⁄unique
 <
	`com∑ª
 (&
ãmp
, 
löe
 - 1))

2775 
found_dis‹dî
:

2777 i‡(
check⁄ly
 == 'c')

2779 
löe
 c⁄° *
dis‹dî_löe
 =Üine - 1;

2780 
uötmax_t
 
dis‹dî_löe_numbî
 =

2781 
	`buf„r_löñim
 (&
buf
Ë- 
dis‹dî_löe
 + 
löe_numbî
;

2782 
hr_buf
[
	`INT_BUFSIZE_BOUND
 (
dis‹dî_löe_numbî
)];

2783 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s:%s: disorder: "),

2784 
¥ogøm_«me
, 
fûe_«me
,

2785 
	`umaxto°r
 (
dis‹dî_löe_numbî
, 
hr_buf
));

2786 
	`wrôe_löe
 (
dis‹dî_löe
, 
°dîr
, 
	`_
("standardÉrror"));

2789 
‹dîed
 = 
Ál£
;

2795 
löeba£
 < --
löe
)

2796 i‡(
n⁄unique
 <
	`com∑ª
 (
löe
,Üine - 1))

2797 
found_dis‹dî
;

2799 
löe_numbî
 +
buf
.
∆öes
;

2802 i‡(
Æloc
 < 
löe
->
Àngth
)

2806 
Æloc
 *= 2;

2807 i‡(! 
Æloc
)

2809 
Æloc
 = 
löe
->
Àngth
;

2813 
Æloc
 < 
löe
->
Àngth
);

2815 
	`‰ì
 (
ãmp
.
ãxt
);

2816 
ãmp
.
ãxt
 = 
	`xmÆloc
 (
Æloc
);

2818 
	`mem˝y
 (
ãmp
.
ãxt
, 
löe
->ãxt,Üöe->
Àngth
);

2819 
ãmp
.
Àngth
 = 
löe
->length;

2820 i‡(
key
)

2822 
ãmp
.
keybeg
 =Åemp.
ãxt
 + (
löe
->keybeg -Üine->text);

2823 
ãmp
.
keylim
 =Åemp.
ãxt
 + (
löe
->keylim -Üine->text);

2827 
	`xf˛o£
 (
Â
, 
fûe_«me
);

2828 
	`‰ì
 (
buf
.buf);

2829 
	`‰ì
 (
ãmp
.
ãxt
);

2830  
‹dîed
;

2831 
	}
}

2838 
size_t


2839 
	$›í_öput_fûes
 (
s‹tfûe
 *
fûes
, 
size_t
 
nfûes
, 
FILE
 ***
pÂs
)

2841 
FILE
 **
Âs
 = *
pÂs
 = 
	`xnmÆloc
 (
nfûes
,  *fps);

2842 
i
;

2845 
i
 = 0; i < 
nfûes
; i++)

2847 
Âs
[
i
] = (
fûes
[i].
ãmp
 && fûes[i].ãmp->
°©e
 !
UNCOMPRESSED


2848 ? 
	`›í_ãmp
 (
fûes
[
i
].
ãmp
)

2849 : 
	`°ªam_›í
 (
fûes
[
i
].
«me
, "r"));

2850 i‡(!
Âs
[
i
])

2854  
i
;

2855 
	}
}

2866 
	$mîgeÂs
 (
s‹tfûe
 *
fûes
, 
size_t
 
¡emps
, size_à
nfûes
,

2867 
FILE
 *
oÂ
, c⁄° *
ouçut_fûe
, FILE **
Âs
)

2869 
buf„r
 *buf„∏
	`xnmÆloc
 (
nfûes
,  *buffer);

2871 
löe
 
ßved
;

2872 
löe
 c⁄° *
ßvedlöe
 = 
NULL
;

2874 
size_t
 
ßvóŒoc
 = 0;

2875 
löe
 c⁄° **
cur
 = 
	`xnmÆloc
 (
nfûes
,  *cur);

2877 
löe
 c⁄° **
ba£
 = 
	`xnmÆloc
 (
nfûes
,  *base);

2879 
size_t
 *
‹d
 = 
	`xnmÆloc
 (
nfûes
,  *ord);

2883 
size_t
 
i
;

2884 
size_t
 
j
;

2885 
size_t
 
t
;

2886 
keyfõld
 c⁄° *
key
 = 
keyli°
;

2887 
ßved
.
ãxt
 = 
NULL
;

2890 
i
 = 0; i < 
nfûes
; )

2892 
	`öôbuf
 (&
buf„r
[
i
],  (
löe
),

2893 
	`MAX
 (
mîge_buf„r_size
, 
s‹t_size
 / 
nfûes
));

2894 i‡(
	`fûlbuf
 (&
buf„r
[
i
], 
Âs
[i], 
fûes
[i].
«me
))

2896 
löe
 c⁄° *
löñim
 = 
	`buf„r_löñim
 (&
buf„r
[
i
]);

2897 
cur
[
i
] = 
löñim
 - 1;

2898 
ba£
[
i
] = 
löñim
 - 
buf„r
[i].
∆öes
;

2899 
i
++;

2904 
	`xf˛o£
 (
Âs
[
i
], 
fûes
[i].
«me
);

2905 i‡(
i
 < 
¡emps
)

2907 
¡emps
--;

2908 
	`z≠ãmp
 (
fûes
[
i
].
«me
);

2910 
	`‰ì
 (
buf„r
[
i
].
buf
);

2911 --
nfûes
;

2912 
j
 = 
i
; j < 
nfûes
; ++j)

2914 
fûes
[
j
] = files[j + 1];

2915 
Âs
[
j
] = fps[j + 1];

2923 
i
 = 0; i < 
nfûes
; ++i)

2924 
‹d
[
i
] = i;

2925 
i
 = 1; i < 
nfûes
; ++i)

2926 i‡(0 < 
	`com∑ª
 (
cur
[
‹d
[
i
 - 1]], cur[ord[i]]))

2927 
t
 = 
‹d
[
i
 - 1], ord[i - 1] = ord[i], ord[i] =Å, i = 0;

2930 
nfûes
)

2932 
löe
 c⁄° *
smÆÀ°
 = 
cur
[
‹d
[0]];

2936 i‡(
unique
)

2938 i‡(
ßvedlöe
 && 
	`com∑ª
 (ßvedlöe, 
smÆÀ°
))

2940 
ßvedlöe
 = 
NULL
;

2941 
	`wrôe_löe
 (&
ßved
, 
oÂ
, 
ouçut_fûe
);

2943 i‡(!
ßvedlöe
)

2945 
ßvedlöe
 = &
ßved
;

2946 i‡(
ßvóŒoc
 < 
smÆÀ°
->
Àngth
)

2949 i‡(! 
ßvóŒoc
)

2951 
ßvóŒoc
 = 
smÆÀ°
->
Àngth
;

2954 (
ßvóŒoc
 *2Ë< 
smÆÀ°
->
Àngth
);

2956 
	`‰ì
 (
ßved
.
ãxt
);

2957 
ßved
.
ãxt
 = 
	`xmÆloc
 (
ßvóŒoc
);

2959 
ßved
.
Àngth
 = 
smÆÀ°
->length;

2960 
	`mem˝y
 (
ßved
.
ãxt
, 
smÆÀ°
->ãxt, saved.
Àngth
);

2961 i‡(
key
)

2963 
ßved
.
keybeg
 =

2964 
ßved
.
ãxt
 + (
smÆÀ°
->
keybeg
 - smallest->text);

2965 
ßved
.
keylim
 =

2966 
ßved
.
ãxt
 + (
smÆÀ°
->
keylim
 - smallest->text);

2971 
	`wrôe_löe
 (
smÆÀ°
, 
oÂ
, 
ouçut_fûe
);

2974 i‡(
ba£
[
‹d
[0]] < 
smÆÀ°
)

2975 
cur
[
‹d
[0]] = 
smÆÀ°
 - 1;

2978 i‡(
	`fûlbuf
 (&
buf„r
[
‹d
[0]], 
Âs
[‹d[0]], 
fûes
[‹d[0]].
«me
))

2980 
löe
 c⁄° *
löñim
 = 
	`buf„r_löñim
 (&
buf„r
[
‹d
[0]]);

2981 
cur
[
‹d
[0]] = 
löñim
 - 1;

2982 
ba£
[
‹d
[0]] = 
löñim
 - 
buf„r
[‹d[0]].
∆öes
;

2987 
i
 = 1; i < 
nfûes
; ++i)

2988 i‡(
‹d
[
i
] > ord[0])

2989 --
‹d
[
i
];

2990 --
nfûes
;

2991 
	`xf˛o£
 (
Âs
[
‹d
[0]], 
fûes
[‹d[0]].
«me
);

2992 i‡(
‹d
[0] < 
¡emps
)

2994 
¡emps
--;

2995 
	`z≠ãmp
 (
fûes
[
‹d
[0]].
«me
);

2997 
	`‰ì
 (
buf„r
[
‹d
[0]].
buf
);

2998 
i
 = 
‹d
[0]; i < 
nfûes
; ++i)

3000 
Âs
[
i
] = fps[i + 1];

3001 
fûes
[
i
] = files[i + 1];

3002 
buf„r
[
i
] = buffer[i + 1];

3003 
cur
[
i
] = cur[i + 1];

3004 
ba£
[
i
] = base[i + 1];

3006 
i
 = 0; i < 
nfûes
; ++i)

3007 
‹d
[
i
] = ord[i + 1];

3017 
size_t
 
lo
 = 1;

3018 
size_t
 
hi
 = 
nfûes
;

3019 
size_t
 
¥obe
 = 
lo
;

3020 
size_t
 
‹d0
 = 
‹d
[0];

3021 
size_t
 
cou¡_of_smÆÀr_löes
;

3023 
lo
 < 
hi
)

3025 
cmp
 = 
	`com∑ª
 (
cur
[
‹d0
], cur[
‹d
[
¥obe
]]);

3026 i‡(
cmp
 < 0 || (cm∞=0 && 
‹d0
 < 
‹d
[
¥obe
]))

3027 
hi
 = 
¥obe
;

3029 
lo
 = 
¥obe
 + 1;

3030 
¥obe
 = (
lo
 + 
hi
) / 2;

3033 
cou¡_of_smÆÀr_löes
 = 
lo
 - 1;

3034 
j
 = 0; j < 
cou¡_of_smÆÀr_löes
; j++)

3035 
‹d
[
j
] = ord[j + 1];

3036 
‹d
[
cou¡_of_smÆÀr_löes
] = 
‹d0
;

3040 i‡(
unique
 && 
ßvedlöe
)

3042 
	`wrôe_löe
 (&
ßved
, 
oÂ
, 
ouçut_fûe
);

3043 
	`‰ì
 (
ßved
.
ãxt
);

3046 
	`xf˛o£
 (
oÂ
, 
ouçut_fûe
);

3047 
	`‰ì
 (
Âs
);

3048 
	`‰ì
 (
buf„r
);

3049 
	`‰ì
 (
‹d
);

3050 
	`‰ì
 (
ba£
);

3051 
	`‰ì
 (
cur
);

3052 
	}
}

3064 
size_t


3065 
	$mîgefûes
 (
s‹tfûe
 *
fûes
, 
size_t
 
¡emps
, size_à
nfûes
,

3066 
FILE
 *
oÂ
, c⁄° *
ouçut_fûe
)

3068 
FILE
 **
Âs
;

3069 
size_t
 
n›íed
 = 
	`›í_öput_fûes
 (
fûes
, 
nfûes
, &
Âs
);

3070 i‡(
n›íed
 < 
nfûes
 &&Çopened < 2)

3071 
	`dõ
 (
	`_
("›í faûed"), 
fûes
[
n›íed
].
«me
);

3072 
	`mîgeÂs
 (
fûes
, 
¡emps
, 
n›íed
, 
oÂ
, 
ouçut_fûe
, 
Âs
);

3073  
n›íed
;

3074 
	}
}

3083 
	$mîgñöes
 (
löe
 *
ª°ri˘
 
t
, 
size_t
 
∆öes
,

3084 
löe
 c⁄° *
ª°ri˘
 
lo
)

3086 
size_t
 
∆o
 = 
∆öes
 / 2;

3087 
size_t
 
nhi
 = 
∆öes
 - 
∆o
;

3088 
löe
 *
hi
 = 
t
 - 
∆o
;

3090 
åue
)

3091 i‡(
	`com∑ª
 (
lo
 - 1, 
hi
 - 1) <= 0)

3093 *--
t
 = *--
lo
;

3094 i‡(! --
∆o
)

3103 *--
t
 = *--
hi
;

3104 i‡(! --
nhi
)

3107 *--
t
 = *--
lo
;

3108 --
∆o
);

3113 
	}
}

3130 
	$£quítül_s‹t
 (
löe
 *
ª°ri˘
 
löes
, 
size_t
 
∆öes
,

3131 
löe
 *
ª°ri˘
 
ãmp
, 
boﬁ
 
to_ãmp
)

3133 i‡(
∆öes
 == 2)

3138 
sw≠
 = (0 < 
	`com∑ª
 (&
löes
[-1], &lines[-2]));

3139 i‡(
to_ãmp
)

3141 
ãmp
[-1] = 
löes
[-1 - 
sw≠
];

3142 
ãmp
[-2] = 
löes
[-2 + 
sw≠
];

3144 i‡(
sw≠
)

3146 
ãmp
[-1] = 
löes
[-1];

3147 
löes
[-1] =Üines[-2];

3148 
löes
[-2] = 
ãmp
[-1];

3153 
size_t
 
∆o
 = 
∆öes
 / 2;

3154 
size_t
 
nhi
 = 
∆öes
 - 
∆o
;

3155 
löe
 *
lo
 = 
löes
;

3156 
löe
 *
hi
 = 
löes
 - 
∆o
;

3158 
	`£quítül_s‹t
 (
hi
, 
nhi
, 
ãmp
 - (
to_ãmp
 ? 
∆o
 : 0),Åo_temp);

3159 i‡(1 < 
∆o
)

3160 
	`£quítül_s‹t
 (
lo
, 
∆o
, 
ãmp
, !
to_ãmp
);

3161 i‡(!
to_ãmp
)

3162 
ãmp
[-1] = 
lo
[-1];

3164 
löe
 *
de°
;

3165 
löe
 c⁄° *
s‹ãd_lo
;

3166 i‡(
to_ãmp
)

3168 
de°
 = 
ãmp
;

3169 
s‹ãd_lo
 = 
löes
;

3173 
de°
 = 
löes
;

3174 
s‹ãd_lo
 = 
ãmp
;

3176 
	`mîgñöes
 (
de°
, 
∆öes
, 
s‹ãd_lo
);

3178 
	}
}

3180 
mîge_node
 *
öô_node
 (mîge_nodê*
ª°ri˘
,

3181 
mîge_node
 *
ª°ri˘
,

3182 
löe
 *, 
size_t
, size_t, 
boﬁ
);

3187 
mîge_node
 *

3188 
	$mîge_åì_öô
 (
size_t
 
¡hªads
, size_à
∆öes
, 
löe
 *
de°
)

3190 
mîge_node
 *
mîge_åì
 = 
	`xmÆloc
 (2 *  *mîge_åì * 
¡hªads
);

3192 
mîge_node
 *
roŸ
 = 
mîge_åì
;

3193 
roŸ
->
lo
 =ÑoŸ->
hi
 =ÑoŸ->
íd_lo
 =ÑoŸ->
íd_hi
 = 
NULL
;

3194 
roŸ
->
de°
 = 
NULL
;

3195 
roŸ
->
∆o
 =ÑoŸ->
nhi
 = 
∆öes
;

3196 
roŸ
->
∑ª¡
 = 
NULL
;

3197 
roŸ
->
Àvñ
 = 
MERGE_END
;

3198 
roŸ
->
queued
 = 
Ál£
;

3199 
	`±hªad_muãx_öô
 (&
roŸ
->
lock
, 
NULL
);

3201 
	`öô_node
 (
roŸ
,ÑoŸ + 1, 
de°
, 
¡hªads
, 
∆öes
, 
Ál£
);

3202  
mîge_åì
;

3203 
	}
}

3207 
	$mîge_åì_de°roy
 (
mîge_node
 *
mîge_åì
)

3209 
	`‰ì
 (
mîge_åì
);

3210 
	}
}

3219 
mîge_node
 *

3220 
	$öô_node
 (
mîge_node
 *
ª°ri˘
 
∑ª¡
,

3221 
mîge_node
 *
ª°ri˘
 
node_poﬁ
,

3222 
löe
 *
de°
, 
size_t
 
¡hªads
,

3223 
size_t
 
tŸÆ_löes
, 
boﬁ
 
is_lo_chûd
)

3225 
size_t
 
∆öes
 = (
is_lo_chûd
 ? 
∑ª¡
->
∆o
 :Ö¨ít->
nhi
);

3226 
size_t
 
∆o
 = 
∆öes
 / 2;

3227 
size_t
 
nhi
 = 
∆öes
 - 
∆o
;

3228 
löe
 *
lo
 = 
de°
 - 
tŸÆ_löes
;

3229 
löe
 *
hi
 = 
lo
 - 
∆o
;

3230 
löe
 **
∑ª¡_íd
 = (
is_lo_chûd
 ? &
∑ª¡
->
íd_lo
 : &∑ª¡->
íd_hi
);

3232 
mîge_node
 *
node
 = 
node_poﬁ
++;

3233 
node
->
lo
 =Çode->
íd_lo
 =Üo;

3234 
node
->
hi
 =Çode->
íd_hi
 = hi;

3235 
node
->
de°
 = 
∑ª¡_íd
;

3236 
node
->
∆o
 =Çlo;

3237 
node
->
nhi
 =Çhi;

3238 
node
->
∑ª¡
 =Öarent;

3239 
node
->
Àvñ
 = 
∑ª¡
->level + 1;

3240 
node
->
queued
 = 
Ál£
;

3241 
	`±hªad_muãx_öô
 (&
node
->
lock
, 
NULL
);

3243 i‡(
¡hªads
 > 1)

3245 
size_t
 
lo_thªads
 = 
¡hªads
 / 2;

3246 
size_t
 
hi_thªads
 = 
¡hªads
 - 
lo_thªads
;

3247 
node
->
lo_chûd
 = 
node_poﬁ
;

3248 
node_poﬁ
 = 
	`öô_node
 (
node
,Çode_poﬁ, 
lo
, 
lo_thªads
,

3249 
tŸÆ_löes
, 
åue
);

3250 
node
->
hi_chûd
 = 
node_poﬁ
;

3251 
node_poﬁ
 = 
	`öô_node
 (
node
,Çode_poﬁ, 
hi
, 
hi_thªads
,

3252 
tŸÆ_löes
, 
Ál£
);

3256 
node
->
lo_chûd
 = 
NULL
;

3257 
node
->
hi_chûd
 = 
NULL
;

3259  
node_poﬁ
;

3260 
	}
}

3266 
	$com∑ª_nodes
 (c⁄° *
a
, c⁄° *
b
)

3268 
mîge_node
 c⁄° *
nodó
 = 
a
;

3269 
mîge_node
 c⁄° *
nodeb
 = 
b
;

3270 i‡(
nodó
->
Àvñ
 =
nodeb
->level)

3271  (
nodó
->
∆o
 +Çodó->
nhi
Ë< (
nodeb
->nlo +Çodeb->nhi);

3272  
nodó
->
Àvñ
 < 
nodeb
->level;

3273 
	}
}

3277 
ölöe
 

3278 
	$lock_node
 (
mîge_node
 *
node
)

3280 
	`±hªad_muãx_lock
 (&
node
->
lock
);

3281 
	}
}

3285 
ölöe
 

3286 
	$u∆ock_node
 (
mîge_node
 *
node
)

3288 
	`±hªad_muãx_u∆ock
 (&
node
->
lock
);

3289 
	}
}

3294 
	$queue_de°roy
 (
mîge_node_queue
 *
queue
)

3296 
	`hóp_‰ì
 (
queue
->
¥i‹ôy_queue
);

3297 
	`±hªad_c⁄d_de°roy
 (&
queue
->
c⁄d
);

3298 
	`±hªad_muãx_de°roy
 (&
queue
->
muãx
);

3299 
	}
}

3305 
	$queue_öô
 (
mîge_node_queue
 *
queue
, 
size_t
 
¡hªads
)

3310 
queue
->
¥i‹ôy_queue
 = 
	`hóp_Æloc
 (
com∑ª_nodes
, 2 * 
¡hªads
);

3311 
	`±hªad_muãx_öô
 (&
queue
->
muãx
, 
NULL
);

3312 
	`±hªad_c⁄d_öô
 (&
queue
->
c⁄d
, 
NULL
);

3313 
	}
}

3319 
	$queue_ö£π
 (
mîge_node_queue
 *
queue
, 
mîge_node
 *
node
)

3321 
	`±hªad_muãx_lock
 (&
queue
->
muãx
);

3322 
	`hóp_ö£π
 (
queue
->
¥i‹ôy_queue
, 
node
);

3323 
node
->
queued
 = 
åue
;

3324 
	`±hªad_muãx_u∆ock
 (&
queue
->
muãx
);

3325 
	`±hªad_c⁄d_sig«l
 (&
queue
->
c⁄d
);

3326 
	}
}

3330 
mîge_node
 *

3331 
	$queue_p›
 (
mîge_node_queue
 *
queue
)

3333 
mîge_node
 *
node
;

3334 
	`±hªad_muãx_lock
 (&
queue
->
muãx
);

3335 ! (
node
 = 
	`hóp_ªmove_t›
 (
queue
->
¥i‹ôy_queue
)))

3336 
	`±hªad_c⁄d_waô
 (&
queue
->
c⁄d
, &queue->
muãx
);

3337 
	`±hªad_muãx_u∆ock
 (&
queue
->
muãx
);

3338 
	`lock_node
 (
node
);

3339 
node
->
queued
 = 
Ál£
;

3340  
node
;

3341 
	}
}

3351 
	$wrôe_unique
 (
löe
 c⁄° *löe, 
FILE
 *
tÂ
, c⁄° *
ãmp_ouçut
)

3353 i‡(
unique
)

3355 i‡(
ßved_löe
.
ãxt
 && ! 
	`com∑ª
 (
löe
, &saved_line))

3357 
ßved_löe
 = *
löe
;

3360 
	`wrôe_löe
 (
löe
, 
tÂ
, 
ãmp_ouçut
);

3361 
	}
}

3371 
	$mîgñöes_node
 (
mîge_node
 *
ª°ri˘
 
node
, 
size_t
 
tŸÆ_löes
,

3372 
FILE
 *
tÂ
, c⁄° *
ãmp_ouçut
)

3374 
löe
 *
lo_‹ig
 = 
node
->
lo
;

3375 
löe
 *
hi_‹ig
 = 
node
->
hi
;

3376 
size_t
 
to_mîge
 = 
	`MAX_MERGE
 (
tŸÆ_löes
, 
node
->
Àvñ
);

3377 
size_t
 
mîged_lo
;

3378 
size_t
 
mîged_hi
;

3380 i‡(
node
->
Àvñ
 > 
MERGE_ROOT
)

3383 
löe
 *
de°
 = *
node
->dest;

3384 
node
->
lo
 !node->
íd_lo
 &&Çode->
hi
 !node->
íd_hi
 && 
to_mîge
--)

3385 i‡(
	`com∑ª
 (
node
->
lo
 - 1,Çode->
hi
 - 1) <= 0)

3386 *--
de°
 = *--
node
->
lo
;

3388 *--
de°
 = *--
node
->
hi
;

3390 
mîged_lo
 = 
lo_‹ig
 - 
node
->
lo
;

3391 
mîged_hi
 = 
hi_‹ig
 - 
node
->
hi
;

3393 i‡(
node
->
nhi
 =
mîged_hi
)

3394 
node
->
lo
 !node->
íd_lo
 && 
to_mîge
--)

3395 *--
de°
 = *--
node
->
lo
;

3396 i‡(
node
->
∆o
 =
mîged_lo
)

3397 
node
->
hi
 !node->
íd_hi
 && 
to_mîge
--)

3398 *--
de°
 = *--
node
->
hi
;

3399 *
node
->
de°
 = dest;

3404 
node
->
lo
 !node->
íd_lo
 &&Çode->
hi
 !node->
íd_hi
 && 
to_mîge
--)

3406 i‡(
	`com∑ª
 (
node
->
lo
 - 1,Çode->
hi
 - 1) <= 0)

3407 
	`wrôe_unique
 (--
node
->
lo
, 
tÂ
, 
ãmp_ouçut
);

3409 
	`wrôe_unique
 (--
node
->
hi
, 
tÂ
, 
ãmp_ouçut
);

3412 
mîged_lo
 = 
lo_‹ig
 - 
node
->
lo
;

3413 
mîged_hi
 = 
hi_‹ig
 - 
node
->
hi
;

3415 i‡(
node
->
nhi
 =
mîged_hi
)

3417 
node
->
lo
 !node->
íd_lo
 && 
to_mîge
--)

3418 
	`wrôe_unique
 (--
node
->
lo
, 
tÂ
, 
ãmp_ouçut
);

3420 i‡(
node
->
∆o
 =
mîged_lo
)

3422 
node
->
hi
 !node->
íd_hi
 && 
to_mîge
--)

3423 
	`wrôe_unique
 (--
node
->
hi
, 
tÂ
, 
ãmp_ouçut
);

3428 
mîged_lo
 = 
lo_‹ig
 - 
node
->
lo
;

3429 
mîged_hi
 = 
hi_‹ig
 - 
node
->
hi
;

3430 
node
->
∆o
 -
mîged_lo
;

3431 
node
->
nhi
 -
mîged_hi
;

3432 
	}
}

3439 
	$queue_check_ö£π
 (
mîge_node_queue
 *
queue
, 
mîge_node
 *
node
)

3441 i‡(! 
node
->
queued
)

3443 
boﬁ
 
lo_avaû
 = (
node
->
lo
 -Çode->
íd_lo
) != 0;

3444 
boﬁ
 
hi_avaû
 = (
node
->
hi
 -Çode->
íd_hi
) != 0;

3445 i‡(
lo_avaû
 ? 
hi_avaû
 || ! 
node
->
nhi
 : hi_avaû && !Çode->
∆o
)

3446 
	`queue_ö£π
 (
queue
, 
node
);

3448 
	}
}

3453 
	$queue_check_ö£π_∑ª¡
 (
mîge_node_queue
 *
queue
,

3454 
mîge_node
 *
node
)

3456 i‡(
node
->
Àvñ
 > 
MERGE_ROOT
)

3458 
	`lock_node
 (
node
->
∑ª¡
);

3459 
	`queue_check_ö£π
 (
queue
, 
node
->
∑ª¡
);

3460 
	`u∆ock_node
 (
node
->
∑ª¡
);

3462 i‡(
node
->
∆o
 +Çode->
nhi
 == 0)

3466 
	`queue_ö£π
 (
queue
, 
node
->
∑ª¡
);

3468 
	}
}

3477 
	$mîge_lo›
 (
mîge_node_queue
 *
queue
,

3478 
size_t
 
tŸÆ_löes
, 
FILE
 *
tÂ
, c⁄° *
ãmp_ouçut
)

3482 
mîge_node
 *
node
 = 
	`queue_p›
 (
queue
);

3484 i‡(
node
->
Àvñ
 =
MERGE_END
)

3486 
	`u∆ock_node
 (
node
);

3488 
	`queue_ö£π
 (
queue
, 
node
);

3491 
	`mîgñöes_node
 (
node
, 
tŸÆ_löes
, 
tÂ
, 
ãmp_ouçut
);

3492 
	`queue_check_ö£π
 (
queue
, 
node
);

3493 
	`queue_check_ö£π_∑ª¡
 (
queue
, 
node
);

3495 
	`u∆ock_node
 (
node
);

3497 
	}
}

3500 
s‹éöes
 (
löe
 *
ª°ri˘
, 
size_t
, size_t,

3501 
mîge_node
 *, 
mîge_node_queue
 *,

3502 
FILE
 *, const *);

3506 
	sthªad_¨gs


3510 
löe
 *
	mlöes
;

3513 
size_t
 
	m¡hªads
;

3516 
size_t
 c⁄° 
	mtŸÆ_löes
;

3520 
mîge_node
 *c⁄° 
	mnode
;

3524 
mîge_node_queue
 *c⁄° 
	mqueue
;

3528 
FILE
 *
	mtÂ
;

3529 c⁄° *
	mouçut_ãmp
;

3535 
	$s‹éöes_thªad
 (*
d©a
)

3537 
thªad_¨gs
 c⁄° *
¨gs
 = 
d©a
;

3538 
	`s‹éöes
 (
¨gs
->
löes
,árgs->
¡hªads
,árgs->
tŸÆ_löes
,

3539 
¨gs
->
node
,árgs->
queue
,árgs->
tÂ
,

3540 
¨gs
->
ouçut_ãmp
);

3541  
NULL
;

3542 
	}
}

3569 
	$s‹éöes
 (
löe
 *
ª°ri˘
 
löes
, 
size_t
 
¡hªads
,

3570 
size_t
 
tŸÆ_löes
, 
mîge_node
 *
node
,

3571 
mîge_node_queue
 *
queue
, 
FILE
 *
tÂ
, c⁄° *
ãmp_ouçut
)

3573 
size_t
 
∆öes
 = 
node
->
∆o
 +Çode->
nhi
;

3576 
size_t
 
lo_thªads
 = 
¡hªads
 / 2;

3577 
size_t
 
hi_thªads
 = 
¡hªads
 - 
lo_thªads
;

3578 
±hªad_t
 
thªad
;

3579 
thªad_¨gs
 
¨gs
 = {
löes
, 
lo_thªads
, 
tŸÆ_löes
,

3580 
node
->
lo_chûd
, 
queue
, 
tÂ
, 
ãmp_ouçut
};

3582 i‡(
¡hªads
 > 1 && 
SUBTHREAD_LINES_HEURISTIC
 <
∆öes


3583 && 
	`±hªad_¸óã
 (&
thªad
, 
NULL
, 
s‹éöes_thªad
, &
¨gs
) == 0)

3585 
	`s‹éöes
 (
löes
 - 
node
->
∆o
, 
hi_thªads
, 
tŸÆ_löes
,

3586 
node
->
hi_chûd
, 
queue
, 
tÂ
, 
ãmp_ouçut
);

3587 
	`±hªad_joö
 (
thªad
, 
NULL
);

3593 
size_t
 
∆o
 = 
node
->nlo;

3594 
size_t
 
nhi
 = 
node
->nhi;

3595 
löe
 *
ãmp
 = 
löes
 - 
tŸÆ_löes
;

3596 i‡(1 < 
nhi
)

3597 
	`£quítül_s‹t
 (
löes
 - 
∆o
, 
nhi
, 
ãmp
 -Çlÿ/ 2, 
Ál£
);

3598 i‡(1 < 
∆o
)

3599 
	`£quítül_s‹t
 (
löes
, 
∆o
, 
ãmp
, 
Ál£
);

3602 
node
->
lo
 = 
löes
;

3603 
node
->
hi
 = 
löes
 - 
∆o
;

3604 
node
->
íd_lo
 = 
löes
 - 
∆o
;

3605 
node
->
íd_hi
 = 
löes
 - 
∆o
 - 
nhi
;

3607 
	`queue_ö£π
 (
queue
, 
node
);

3608 
	`mîge_lo›
 (
queue
, 
tŸÆ_löes
, 
tÂ
, 
ãmp_ouçut
);

3611 
	`±hªad_muãx_de°roy
 (&
node
->
lock
);

3612 
	}
}

3632 
	$avoid_åashög_öput
 (
s‹tfûe
 *
fûes
, 
size_t
 
¡emps
,

3633 
size_t
 
nfûes
, c⁄° *
outfûe
)

3635 
size_t
 
i
;

3636 
boﬁ
 
gŸ_out°©
 = 
Ál£
;

3637 
°©
 
out°©
;

3638 
ãm≤ode
 *
ãmpc›y
 = 
NULL
;

3640 
i
 = 
¡emps
; i < 
nfûes
; i++)

3642 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûes
[
i
].
«me
, "-");

3643 
boﬁ
 
ßme
;

3644 
°©
 
ö°©
;

3646 i‡(
outfûe
 && 
	`STREQ
 (outfûe, 
fûes
[
i
].
«me
Ë&& !
is_°dö
)

3647 
ßme
 = 
åue
;

3650 i‡(! 
gŸ_out°©
)

3652 i‡(
	`f°©
 (
STDOUT_FILENO
, &
out°©
) != 0)

3654 
gŸ_out°©
 = 
åue
;

3657 
ßme
 = (((
is_°dö


3658 ? 
	`f°©
 (
STDIN_FILENO
, &
ö°©
)

3659 : 
	`°©
 (
fûes
[
i
].
«me
, &
ö°©
))

3661 && 
	`SAME_INODE
 (
ö°©
, 
out°©
));

3664 i‡(
ßme
)

3666 i‡(! 
ãmpc›y
)

3668 
FILE
 *
t·p
;

3669 
ãmpc›y
 = 
	`¸óã_ãmp
 (&
t·p
);

3670 
	`mîgefûes
 (&
fûes
[
i
], 0, 1, 
t·p
, 
ãmpc›y
->
«me
);

3673 
fûes
[
i
].
«me
 = 
ãmpc›y
->name;

3674 
fûes
[
i
].
ãmp
 = 
ãmpc›y
;

3677 
	}
}

3689 
	$check_öputs
 (*c⁄° *
fûes
, 
size_t
 
nfûes
)

3691 
size_t
 
i
;

3692 
i
 = 0; i < 
nfûes
; i++)

3694 i‡(
	`STREQ
 (
fûes
[
i
], "-"))

3697 i‡(
	`euidac˚ss
 (
fûes
[
i
], 
R_OK
) != 0)

3698 
	`dõ
 (
	`_
("ˇ¬ŸÑód"), 
fûes
[
i
]);

3700 
	}
}

3707 
	$check_ouçut
 (c⁄° *
outfûe
)

3709 i‡(
outfûe
)

3711 
outfd
 = 
	`›í
 (
outfûe
, 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
, 
MODE_RW_UGO
);

3712 i‡(
outfd
 < 0)

3713 
	`dõ
 (
	`_
("›í faûed"), 
outfûe
);

3714 
	`move_fd_‹_dõ
 (
outfd
, 
STDOUT_FILENO
);

3716 
	}
}

3724 
	$mîge
 (
s‹tfûe
 *
fûes
, 
size_t
 
¡emps
, size_à
nfûes
,

3725 c⁄° *
ouçut_fûe
)

3727 
nmîge
 < 
nfûes
)

3730 
size_t
 
ö
;

3733 
size_t
 
out
;

3737 
size_t
 
ªmaödî
;

3740 
size_t
 
chóp_¶Ÿs
;

3745 
out
 = 
ö
 = 0; 
nmîge
 <
nfûes
 - in; out++)

3747 
FILE
 *
tÂ
;

3748 
ãm≤ode
 *
ãmp
 = 
	`¸óã_ãmp
 (&
tÂ
);

3749 
size_t
 
num_mîged
 = 
	`mîgefûes
 (&
fûes
[
ö
], 
	`MIN
 (
¡emps
, 
nmîge
),

3750 
nmîge
, 
tÂ
, 
ãmp
->
«me
);

3751 
¡emps
 -
	`MIN
 (¡emps, 
num_mîged
);

3752 
fûes
[
out
].
«me
 = 
ãmp
->name;

3753 
fûes
[
out
].
ãmp
 =Åemp;

3754 
ö
 +
num_mîged
;

3757 
ªmaödî
 = 
nfûes
 - 
ö
;

3758 
chóp_¶Ÿs
 = 
nmîge
 - 
out
 %Çmerge;

3760 i‡(
chóp_¶Ÿs
 < 
ªmaödî
)

3765 
size_t
 
nsh‹tmîge
 = 
ªmaödî
 - 
chóp_¶Ÿs
 + 1;

3766 
FILE
 *
tÂ
;

3767 
ãm≤ode
 *
ãmp
 = 
	`¸óã_ãmp
 (&
tÂ
);

3768 
size_t
 
num_mîged
 = 
	`mîgefûes
 (&
fûes
[
ö
], 
	`MIN
 (
¡emps
, 
nsh‹tmîge
),

3769 
nsh‹tmîge
, 
tÂ
, 
ãmp
->
«me
);

3770 
¡emps
 -
	`MIN
 (¡emps, 
num_mîged
);

3771 
fûes
[
out
].
«me
 = 
ãmp
->name;

3772 
fûes
[
out
++].
ãmp
 =Åemp;

3773 
ö
 +
num_mîged
;

3778 
	`memmove
 (&
fûes
[
out
], &fûes[
ö
], (
nfûes
 - in) *  *files);

3779 
¡emps
 +
out
;

3780 
nfûes
 -
ö
 - 
out
;

3783 
	`avoid_åashög_öput
 (
fûes
, 
¡emps
, 
nfûes
, 
ouçut_fûe
);

3789 
åue
)

3792 
FILE
 **
Âs
;

3793 
size_t
 
n›íed
 = 
	`›í_öput_fûes
 (
fûes
, 
nfûes
, &
Âs
);

3795 i‡(
n›íed
 =
nfûes
)

3797 
FILE
 *
oÂ
 = 
	`°ªam_›í
 (
ouçut_fûe
, "w");

3798 i‡(
oÂ
)

3800 
	`mîgeÂs
 (
fûes
, 
¡emps
, 
nfûes
, 
oÂ
, 
ouçut_fûe
, 
Âs
);

3803 i‡(
î∫o
 !
EMFILE
 || 
n›íed
 <= 2)

3804 
	`dõ
 (
	`_
("›í faûed"), 
ouçut_fûe
);

3806 i‡(
n›íed
 <= 2)

3807 
	`dõ
 (
	`_
("›í faûed"), 
fûes
[
n›íed
].
«me
);

3814 
FILE
 *
tÂ
;

3815 
ãm≤ode
 *
ãmp
;

3818 
n›íed
--;

3819 
	`xf˛o£
 (
Âs
[
n›íed
], 
fûes
[n›íed].
«me
);

3820 
ãmp
 = 
	`maybe_¸óã_ãmp
 (&
tÂ
, ! (
n›íed
 <= 2));

3822 !
ãmp
);

3825 
	`mîgeÂs
 (&
fûes
[0], 
	`MIN
 (
¡emps
, 
n›íed
),Ç›íed, 
tÂ
, 
ãmp
->
«me
,

3826 
Âs
);

3827 
¡emps
 -
	`MIN
 (¡emps, 
n›íed
);

3828 
fûes
[0].
«me
 = 
ãmp
->name;

3829 
fûes
[0].
ãmp
 =Åemp;

3831 
	`memmove
 (&
fûes
[1], &fûes[
n›íed
], (
nfûes
 -Çopened) *  *files);

3832 
¡emps
++;

3833 
nfûes
 -
n›íed
 - 1;

3835 
	}
}

3840 
	$s‹t
 (*c⁄° *
fûes
, 
size_t
 
nfûes
, c⁄° *
ouçut_fûe
,

3841 
size_t
 
¡hªads
)

3843 
buf„r
 
buf
;

3844 
	`IF_LINT
 (
buf
.bu‡
NULL
);

3845 
size_t
 
¡emps
 = 0;

3846 
boﬁ
 
ouçut_fûe_¸óãd
 = 
Ál£
;

3848 
buf
.
Æloc
 = 0;

3850 
nfûes
)

3852 c⁄° *
ãmp_ouçut
;

3853 c⁄° *
fûe
 = *
fûes
;

3854 
FILE
 *
Â
 = 
	`xf›í
 (
fûe
, "r");

3855 
FILE
 *
tÂ
;

3857 
size_t
 
byãs_≥r_löe
;

3858 i‡(
¡hªads
 > 1)

3861 
size_t
 
tmp
 = 1;

3862 
size_t
 
mu…
 = 1;

3863 
tmp
 < 
¡hªads
)

3865 
tmp
 *= 2;

3866 
mu…
++;

3868 
byãs_≥r_löe
 = (
mu…
 *  (
löe
));

3871 
byãs_≥r_löe
 =  (
löe
) * 3 / 2;

3873 i‡(! 
buf
.
Æloc
)

3874 
	`öôbuf
 (&
buf
, 
byãs_≥r_löe
,

3875 
	`s‹t_buf„r_size
 (&
Â
, 1, 
fûes
, 
nfûes
, 
byãs_≥r_löe
));

3876 
buf
.
eof
 = 
Ál£
;

3877 
fûes
++;

3878 
nfûes
--;

3880 
	`fûlbuf
 (&
buf
, 
Â
, 
fûe
))

3882 
löe
 *line;

3884 i‡(
buf
.
eof
 && 
nfûes


3885 && (
byãs_≥r_löe
 + 1

3886 < (
buf
.
Æloc
 - buf.
u£d
 - 
byãs_≥r_löe
 * buf.
∆öes
)))

3891 
buf
.
À·
 = buf.
u£d
;

3895 
ßved_löe
.
ãxt
 = 
NULL
;

3896 
löe
 = 
	`buf„r_löñim
 (&
buf
);

3897 i‡(
buf
.
eof
 && !
nfûes
 && !
¡emps
 && !buf.
À·
)

3899 
	`xf˛o£
 (
Â
, 
fûe
);

3900 
tÂ
 = 
	`xf›í
 (
ouçut_fûe
, "w");

3901 
ãmp_ouçut
 = 
ouçut_fûe
;

3902 
ouçut_fûe_¸óãd
 = 
åue
;

3906 ++
¡emps
;

3907 
ãmp_ouçut
 = 
	`¸óã_ãmp
 (&
tÂ
)->
«me
;

3909 i‡(1 < 
buf
.
∆öes
)

3911 
mîge_node_queue
 
queue
;

3912 
	`queue_öô
 (&
queue
, 
¡hªads
);

3913 
mîge_node
 *
mîge_åì
 =

3914 
	`mîge_åì_öô
 (
¡hªads
, 
buf
.
∆öes
, 
löe
);

3915 
mîge_node
 *
roŸ
 = 
mîge_åì
 + 1;

3917 
	`s‹éöes
 (
löe
, 
¡hªads
, 
buf
.
∆öes
, 
roŸ
,

3918 &
queue
, 
tÂ
, 
ãmp_ouçut
);

3919 
	`queue_de°roy
 (&
queue
);

3920 
	`±hªad_muãx_de°roy
 (&
roŸ
->
lock
);

3921 
	`mîge_åì_de°roy
 (
mîge_åì
);

3924 
	`wrôe_unique
 (
löe
 - 1, 
tÂ
, 
ãmp_ouçut
);

3926 
	`xf˛o£
 (
tÂ
, 
ãmp_ouçut
);

3928 i‡(
ouçut_fûe_¸óãd
)

3929 
föish
;

3931 
	`xf˛o£
 (
Â
, 
fûe
);

3934 
föish
:

3935 
	`‰ì
 (
buf
.buf);

3937 i‡(! 
ouçut_fûe_¸óãd
)

3939 
size_t
 
i
;

3940 
ãm≤ode
 *
node
 = 
ãmphód
;

3941 
s‹tfûe
 *
ãmpfûes
 = 
	`xnmÆloc
 (
¡emps
,  *tempfiles);

3942 
i
 = 0; 
node
; i++)

3944 
ãmpfûes
[
i
].
«me
 = 
node
->name;

3945 
ãmpfûes
[
i
].
ãmp
 = 
node
;

3946 
node
 =Çode->
√xt
;

3948 
	`mîge
 (
ãmpfûes
, 
¡emps
,Çãmps, 
ouçut_fûe
);

3949 
	`‰ì
 (
ãmpfûes
);

3952 
	`ª≠_Æl
 ();

3953 
	}
}

3958 
	$ö£πkey
 (
keyfõld
 *
key_¨g
)

3960 
keyfõld
 **
p
;

3961 
keyfõld
 *
key
 = 
	`xmemdup
 (
key_¨g
,  *key);

3963 
p
 = &
keyli°
; *p;Ö = &(*p)->
√xt
)

3965 *
p
 = 
key
;

3966 
key
->
√xt
 = 
NULL
;

3967 
	}
}

3971 
	$badfõld•ec
 (const *, const *)

3972 
ATTRIBUTE_NORETURN
;

3974 
	$badfõld•ec
 (c⁄° *
•ec
, c⁄° *
msgid
)

3976 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("%s: invalid field specification %s"),

3977 
	`_
(
msgid
), 
	`quŸe
 (
•ec
));

3978 
	`ab‹t
 ();

3979 
	}
}

3983 
	$öcom∑tibÀ_›ti⁄s
 (c⁄° *Ë
ATTRIBUTE_NORETURN
;

3985 
	$öcom∑tibÀ_›ti⁄s
 (c⁄° *
›ts
)

3987 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("›ti⁄†'-%s'áª incom∑tibÀ"), 
›ts
);

3988 
	`ab‹t
 ();

3989 
	}
}

3994 
	$check_‹dîög_com∑tibûôy
 ()

3996 
keyfõld
 *
key
;

3998 
key
 = 
keyli°
; key; key = key->
√xt
)

3999 i‡(1 < (
key
->
numîic
 + key->
gíîÆ_numîic
 + key->
hum™_numîic


4000 + 
key
->
m⁄th
 + (key->
vîsi⁄
 | key->
øndom
 | !!key->
ign‹e
)))

4003 
›ts
[ 
sh‹t_›ti⁄s
];

4005 
key
->
skùsbœnks
 = key->
skùebœnks
 = key->
ªvî£
 = 
Ál£
;

4006 
	`key_to_›ts
 (
key
, 
›ts
);

4007 
	`öcom∑tibÀ_›ti⁄s
 (
›ts
);

4009 
	}
}

4018 
	$∑r£_fõld_cou¡
 (c⁄° *
°rög
, 
size_t
 *
vÆ
, c⁄° *
msgid
)

4020 *
suffix
;

4021 
uötmax_t
 
n
;

4023 
	`x°πoumax
 (
°rög
, &
suffix
, 10, &
n
, ""))

4025 
LONGINT_OK
:

4026 
LONGINT_INVALID_SUFFIX_CHAR
:

4027 *
vÆ
 = 
n
;

4028 i‡(*
vÆ
 =
n
)

4031 
LONGINT_OVERFLOW
:

4032 
LONGINT_OVERFLOW
 | 
LONGINT_INVALID_SUFFIX_CHAR
:

4033 *
vÆ
 = 
SIZE_MAX
;

4036 
LONGINT_INVALID
:

4037 i‡(
msgid
)

4038 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("%s: invalid countát start of %s"),

4039 
	`_
(
msgid
), 
	`quŸe
 (
°rög
));

4040  
NULL
;

4043  
suffix
;

4044 
	}
}

4049 
	$sigh™dÀr
 (
sig
)

4051 i‡(! 
SA_NOCLDSTOP
)

4052 
	`sig«l
 (
sig
, 
SIG_IGN
);

4054 
	`˛ónup
 ();

4056 
	`sig«l
 (
sig
, 
SIG_DFL
);

4057 
	`øi£
 (
sig
);

4058 
	}
}

4066 
	$£t_‹dîög
 (c⁄° *
s
, 
keyfõld
 *
key
, 
bœnkty≥
 blanktype)

4068 *
s
)

4070 *
s
)

4073 i‡(
bœnkty≥
 =
bl_°¨t
 || bœnkty≥ =
bl_bŸh
)

4074 
key
->
skùsbœnks
 = 
åue
;

4075 i‡(
bœnkty≥
 =
bl_íd
 || bœnkty≥ =
bl_bŸh
)

4076 
key
->
skùebœnks
 = 
åue
;

4079 
key
->
ign‹e
 = 
n⁄di˘i⁄¨y
;

4082 
key
->
å™¶©e
 = 
fﬁd_touµî
;

4085 
key
->
gíîÆ_numîic
 = 
åue
;

4088 
key
->
hum™_numîic
 = 
åue
;

4093 i‡(! 
key
->
ign‹e
)

4094 
key
->
ign‹e
 = 
n⁄¥ötög
;

4097 
key
->
m⁄th
 = 
åue
;

4100 
key
->
numîic
 = 
åue
;

4103 
key
->
øndom
 = 
åue
;

4106 
key
->
ªvî£
 = 
åue
;

4109 
key
->
vîsi⁄
 = 
åue
;

4112  (*Ë
s
;

4114 ++
s
;

4116  (*Ë
s
;

4117 
	}
}

4121 
keyfõld
 *

4122 
	$key_öô
 (
keyfõld
 *
key
)

4124 
	`mem£t
 (
key
, 0,  *key);

4125 
key
->
ew‹d
 = 
SIZE_MAX
;

4126  
key
;

4127 
	}
}

4130 
	$maö
 (
¨gc
, **
¨gv
)

4132 
keyfõld
 *
key
;

4133 
keyfõld
 
key_buf
;

4134 
keyfõld
 
gkey
;

4135 
boﬁ
 
gkey_⁄ly
 = 
Ál£
;

4136 c⁄° *
s
;

4137 
c
 = 0;

4138 
check⁄ly
 = 0;

4139 
boﬁ
 
mîge⁄ly
 = 
Ál£
;

4140 *
øndom_sour˚
 = 
NULL
;

4141 
boﬁ
 
√ed_øndom
 = 
Ál£
;

4142 
size_t
 
¡hªads
 = 0;

4143 
size_t
 
nfûes
 = 0;

4144 
boﬁ
 
posixly_c‹ª˘
 = (
	`gëív
 ("POSIXLY_CORRECT"Ë!
NULL
);

4145 
boﬁ
 
obsﬁëe_ußge
 = (
	`posix2_vîsi⁄
 () < 200112);

4146 **
fûes
;

4147 *
fûes_‰om
 = 
NULL
;

4148 
Tokís
 
tok
;

4149 c⁄° *
outfûe
 = 
NULL
;

4151 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

4152 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

4153 
	`£éoˇÀ
 (
LC_ALL
, "");

4154 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

4155 
	`ãxtdomaö
 (
PACKAGE
);

4157 
	`öôülize_exô_Áûuª
 (
SORT_FAILURE
);

4159 
h¨d_LC_COLLATE
 = 
	`h¨d_loˇÀ
 (
LC_COLLATE
);

4160 #i‡
HAVE_NL_LANGINFO


4161 
h¨d_LC_TIME
 = 
	`h¨d_loˇÀ
 (
LC_TIME
);

4166 
lc⁄v
 c⁄° *
loˇÀ
 = 
	`loˇÀc⁄v
 ();

4171 
decimÆ_poöt
 = 
	`to_uch¨
 (
loˇÀ
->decimal_point[0]);

4172 i‡(! 
decimÆ_poöt
 || 
loˇÀ
->decimal_point[1])

4173 
decimÆ_poöt
 = '.';

4176 
thoußnds_£p
 = 
	`to_uch¨
 (*
loˇÀ
->thousands_sep);

4177 i‡(! 
thoußnds_£p
 || 
loˇÀ
->thousands_sep[1])

4178 
thoußnds_£p
 = -1;

4181 
have_ªad_°dö
 = 
Ál£
;

4182 
	`öôèbÀs
 ();

4185 
size_t
 
i
;

4186 c⁄° 
sig
[] =

4189 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

4190 #ifde‡
SIGPOLL


4191 
SIGPOLL
,

4193 #ifde‡
SIGPROF


4194 
SIGPROF
,

4196 #ifde‡
SIGVTALRM


4197 
SIGVTALRM
,

4199 #ifde‡
SIGXCPU


4200 
SIGXCPU
,

4202 #ifde‡
SIGXFSZ


4203 
SIGXFSZ
,

4206 íum { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

4208 #i‡
SA_NOCLDSTOP


4209 
siga˘i⁄
 
a˘
;

4211 
	`sigem±y£t
 (&
ˇught_sig«ls
);

4212 
i
 = 0; i < 
nsigs
; i++)

4214 
	`siga˘i⁄
 (
sig
[
i
], 
NULL
, &
a˘
);

4215 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

4216 
	`sigadd£t
 (&
ˇught_sig«ls
, 
sig
[
i
]);

4219 
a˘
.
ß_h™dÀr
 = 
sigh™dÀr
;

4220 
a˘
.
ß_mask
 = 
ˇught_sig«ls
;

4221 
a˘
.
ß_Êags
 = 0;

4223 
i
 = 0; i < 
nsigs
; i++)

4224 i‡(
	`sigismembî
 (&
ˇught_sig«ls
, 
sig
[
i
]))

4225 
	`siga˘i⁄
 (
sig
[
i
], &
a˘
, 
NULL
);

4227 
i
 = 0; i < 
nsigs
; i++)

4228 i‡(
	`sig«l
 (
sig
[
i
], 
SIG_IGN
) != SIG_IGN)

4230 
	`sig«l
 (
sig
[
i
], 
sigh™dÀr
);

4231 
	`sigöãºu±
 (
sig
[
i
], 1);

4235 
	`sig«l
 (
SIGCHLD
, 
SIG_DFL
);

4238 
	`©exô
 (
exô_˛ónup
);

4240 
	`key_öô
 (&
gkey
);

4241 
gkey
.
sw‹d
 = 
SIZE_MAX
;

4243 
fûes
 = 
	`xnmÆloc
 (
¨gc
,  *files);

4245 
åue
)

4251 
oi
 = -1;

4253 i‡(
c
 == -1

4254 || (
posixly_c‹ª˘
 && 
nfûes
 != 0

4255 && ! (
obsﬁëe_ußge


4256 && ! 
check⁄ly


4257 && 
›töd
 !
¨gc


4258 && 
¨gv
[
›töd
][0] == '-' &&árgv[optind][1] == 'o'

4259 && (
¨gv
[
›töd
][2] || o±öd + 1 !
¨gc
)))

4260 || ((
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, 
sh‹t_›ti⁄s
,

4261 
l⁄g_›ti⁄s
, &
oi
))

4264 i‡(
¨gc
 <
›töd
)

4266 
fûes
[
nfûes
++] = 
¨gv
[
›töd
++];

4268 
c
)

4271 
key
 = 
NULL
;

4272 i‡(
›èrg
[0] == '+')

4274 
boﬁ
 
möus_pos_ußge
 = (
›töd
 !
¨gc
 && 
¨gv
[optind][0] == '-'

4275 && 
	`ISDIGIT
 (
¨gv
[
›töd
][1]));

4276 
obsﬁëe_ußge
 |
möus_pos_ußge
 && !
posixly_c‹ª˘
;

4277 i‡(
obsﬁëe_ußge
)

4281 
key
 = 
	`key_öô
 (&
key_buf
);

4282 
s
 = 
	`∑r£_fõld_cou¡
 (
›èrg
 + 1, &
key
->
sw‹d
, 
NULL
);

4283 i‡(
s
 && *s == '.')

4284 
s
 = 
	`∑r£_fõld_cou¡
 (†+ 1, &
key
->
sch¨
, 
NULL
);

4285 i‡(! (
key
->
sw‹d
 || key->
sch¨
))

4286 
key
->
sw‹d
 = 
SIZE_MAX
;

4287 i‡(! 
s
 || *
	`£t_‹dîög
 (s, 
key
, 
bl_°¨t
))

4288 
key
 = 
NULL
;

4291 i‡(
möus_pos_ußge
)

4293 c⁄° *
›èrg1
 = 
¨gv
[
›töd
++];

4294 
s
 = 
	`∑r£_fõld_cou¡
 (
›èrg1
 + 1, &
key
->
ew‹d
,

4295 
	`N_
("invalidÇumberáfter '-'"));

4299 
	`as£π
 (
s
);

4300 i‡(*
s
 == '.')

4301 
s
 = 
	`∑r£_fõld_cou¡
 (†+ 1, &
key
->
ech¨
,

4302 
	`N_
("invalidÇumberáfter '.'"));

4303 i‡(!
key
->
ech¨
 && key->
ew‹d
)

4311 
key
->
ew‹d
--;

4313 i‡(*
	`£t_‹dîög
 (
s
, 
key
, 
bl_íd
))

4314 
	`badfõld•ec
 (
›èrg1
,

4315 
	`N_
("stray character in field spec"));

4317 
key
->
obsﬁëe_u£d
 = 
åue
;

4318 
	`ö£πkey
 (
key
);

4322 i‡(! 
key
)

4323 
fûes
[
nfûes
++] = 
›èrg
;

4326 
SORT_OPTION
:

4327 
c
 = 
	`XARGMATCH
 ("--s‹t", 
›èrg
, 
s‹t_¨gs
, 
s‹t_ty≥s
);

4341 
°r
[2];

4342 
°r
[0] = 
c
;

4343 
°r
[1] = '\0';

4344 
	`£t_‹dîög
 (
°r
, &
gkey
, 
bl_bŸh
);

4348 
CHECK_OPTION
:

4349 
c
 = (
›èrg


4350 ? 
	`XARGMATCH
 ("--check", 
›èrg
, 
check_¨gs
, 
check_ty≥s
)

4355 i‡(
check⁄ly
 && check⁄ly !
c
)

4356 
	`öcom∑tibÀ_›ti⁄s
 ("cC");

4357 
check⁄ly
 = 
c
;

4360 
COMPRESS_PROGRAM_OPTION
:

4361 i‡(
com¥ess_¥ogøm
 && !
	`STREQ
 (com¥ess_¥ogøm, 
›èrg
))

4362 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("multiple compressÖrograms specified"));

4363 
com¥ess_¥ogøm
 = 
›èrg
;

4366 
DEBUG_PROGRAM_OPTION
:

4367 
debug
 = 
åue
;

4370 
FILES0_FROM_OPTION
:

4371 
fûes_‰om
 = 
›èrg
;

4375 
key
 = 
	`key_öô
 (&
key_buf
);

4378 
s
 = 
	`∑r£_fõld_cou¡
 (
›èrg
, &
key
->
sw‹d
,

4379 
	`N_
("invalidÇumberát field start"));

4380 i‡(! 
key
->
sw‹d
--)

4383 
	`badfõld•ec
 (
›èrg
, 
	`N_
("fieldÇumber is zero"));

4385 i‡(*
s
 == '.')

4387 
s
 = 
	`∑r£_fõld_cou¡
 (†+ 1, &
key
->
sch¨
,

4388 
	`N_
("invalidÇumberáfter '.'"));

4389 i‡(! 
key
->
sch¨
--)

4392 
	`badfõld•ec
 (
›èrg
, 
	`N_
("character offset is zero"));

4395 i‡(! (
key
->
sw‹d
 || key->
sch¨
))

4396 
key
->
sw‹d
 = 
SIZE_MAX
;

4397 
s
 = 
	`£t_‹dîög
 (s, 
key
, 
bl_°¨t
);

4398 i‡(*
s
 != ',')

4400 
key
->
ew‹d
 = 
SIZE_MAX
;

4401 
key
->
ech¨
 = 0;

4406 
s
 = 
	`∑r£_fõld_cou¡
 (†+ 1, &
key
->
ew‹d
,

4407 
	`N_
("invalidÇumberáfter ','"));

4408 i‡(! 
key
->
ew‹d
--)

4411 
	`badfõld•ec
 (
›èrg
, 
	`N_
("fieldÇumber is zero"));

4413 i‡(*
s
 == '.')

4415 
s
 = 
	`∑r£_fõld_cou¡
 (†+ 1, &
key
->
ech¨
,

4416 
	`N_
("invalidÇumberáfter '.'"));

4418 
s
 = 
	`£t_‹dîög
 (s, 
key
, 
bl_íd
);

4420 i‡(*
s
)

4421 
	`badfõld•ec
 (
›èrg
, 
	`N_
("stray character in field spec"));

4422 
	`ö£πkey
 (
key
);

4426 
mîge⁄ly
 = 
åue
;

4429 
NMERGE_OPTION
:

4430 
	`•ecify_nmîge
 (
oi
, 
c
, 
›èrg
);

4434 i‡(
outfûe
 && !
	`STREQ
 (outfûe, 
›èrg
))

4435 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("multiple output files specified"));

4436 
outfûe
 = 
›èrg
;

4439 
RANDOM_SOURCE_OPTION
:

4440 i‡(
øndom_sour˚
 && !
	`STREQ
 (øndom_sour˚, 
›èrg
))

4441 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("multipleÑandom sources specified"));

4442 
øndom_sour˚
 = 
›èrg
;

4446 
°abÀ
 = 
åue
;

4450 
	`•ecify_s‹t_size
 (
oi
, 
c
, 
›èrg
);

4455 
√wèb
 = 
›èrg
[0];

4456 i‡(! 
√wèb
)

4457 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("emptyÅab"));

4458 i‡(
›èrg
[1])

4460 i‡(
	`STREQ
 (
›èrg
, "\\0"))

4461 
√wèb
 = '\0';

4468 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("multi-characterÅab %s"),

4469 
	`quŸe
 (
›èrg
));

4472 i‡(
èb
 !
TAB_DEFAULT
 &&Åab !
√wèb
)

4473 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("incompatibleÅabs"));

4474 
èb
 = 
√wèb
;

4479 
	`add_ãmp_dú
 (
›èrg
);

4482 
PARALLEL_OPTION
:

4483 
¡hªads
 = 
	`•ecify_¡hªads
 (
oi
, 
c
, 
›èrg
);

4487 
unique
 = 
åue
;

4501 i‡(
›èrg
 =
¨gv
[
›töd
 - 1])

4503 c⁄° *
p
;

4504 
p
 = 
›èrg
; 
	`ISDIGIT
 (*p);Ö++)

4506 
›töd
 -(*
p
 != '\0');

4511 
eﬁch¨
 = 0;

4514 
ˇ£_GETOPT_HELP_CHAR
;

4516 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

4519 
	`ußge
 (
SORT_FAILURE
);

4523 i‡(
fûes_‰om
)

4525 
FILE
 *
°ªam
;

4529 i‡(
nfûes
)

4531 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
fûes
[0]));

4532 
	`Ârötf
 (
°dîr
, "%s\n",

4533 
	`_
("file operands cannot be combined with --files0-from"));

4534 
	`ußge
 (
SORT_FAILURE
);

4537 i‡(
	`STREQ
 (
fûes_‰om
, "-"))

4538 
°ªam
 = 
°dö
;

4541 
°ªam
 = 
	`f›í
 (
fûes_‰om
, "r");

4542 i‡(
°ªam
 =
NULL
)

4543 
	`îr‹
 (
SORT_FAILURE
, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

4544 
	`quŸe
 (
fûes_‰om
));

4547 
	`ªadtokís0_öô
 (&
tok
);

4549 i‡(! 
	`ªadtokís0
 (
°ªam
, &
tok
Ë|| 
	`f˛o£
 (stream) != 0)

4550 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("cannotÑead fileÇames from %s"),

4551 
	`quŸe
 (
fûes_‰om
));

4553 i‡(
tok
.
n_tok
)

4555 
size_t
 
i
;

4556 
	`‰ì
 (
fûes
);

4557 
fûes
 = 
tok
.tok;

4558 
nfûes
 = 
tok
.
n_tok
;

4559 
i
 = 0; i < 
nfûes
; i++)

4561 i‡(
	`STREQ
 (
fûes
[
i
], "-"))

4562 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("whenÑeading fileÇames from stdin, "

4564 
	`quŸe
 (
fûes
[
i
]));

4565 i‡(
fûes
[
i
][0] == '\0')

4570 
fûe_numbî
 = 
i
 + 1;

4571 
	`îr‹
 (
SORT_FAILURE
, 0,

4572 
	`_
("%s:%lu: invalid zero-length fileÇame"),

4573 
	`quŸórg_cﬁ⁄
 (
fûes_‰om
), 
fûe_numbî
);

4578 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("no input from %s"),

4579 
	`quŸe
 (
fûes_‰om
));

4583 
key
 = 
keyli°
; key; key = key->
√xt
)

4585 i‡(
	`deÁu…_key_com∑ª
 (
key
Ë&& !key->
ªvî£
)

4587 
key
->
ign‹e
 = 
gkey
.ignore;

4588 
key
->
å™¶©e
 = 
gkey
.translate;

4589 
key
->
skùsbœnks
 = 
gkey
.skipsblanks;

4590 
key
->
skùebœnks
 = 
gkey
.skipeblanks;

4591 
key
->
m⁄th
 = 
gkey
.month;

4592 
key
->
numîic
 = 
gkey
.numeric;

4593 
key
->
gíîÆ_numîic
 = 
gkey
.general_numeric;

4594 
key
->
hum™_numîic
 = 
gkey
.human_numeric;

4595 
key
->
vîsi⁄
 = 
gkey
.version;

4596 
key
->
øndom
 = 
gkey
.random;

4597 
key
->
ªvî£
 = 
gkey
.reverse;

4600 
√ed_øndom
 |
key
->
øndom
;

4603 i‡(!
keyli°
 && !
	`deÁu…_key_com∑ª
 (&
gkey
))

4605 
gkey_⁄ly
 = 
åue
;

4606 
	`ö£πkey
 (&
gkey
);

4607 
√ed_øndom
 |
gkey
.
øndom
;

4610 
	`check_‹dîög_com∑tibûôy
 ();

4612 i‡(
debug
)

4614 i‡(
check⁄ly
 || 
outfûe
)

4616 
›ts
[] = "X --debug";

4617 
›ts
[0] = (
check⁄ly
 ? checkonly : 'o');

4618 
	`öcom∑tibÀ_›ti⁄s
 (
›ts
);

4623 i‡(
h¨d_LC_COLLATE
)

4624 
	`îr‹
 (0, 0, 
	`_
("using %s sortingÑules"),

4625 
	`quŸe
 (
	`£éoˇÀ
 (
LC_COLLATE
, 
NULL
)));

4627 
	`îr‹
 (0, 0, 
	`_
("using simple byte comparison"));

4628 
	`key_w¨nögs
 (&
gkey
, 
gkey_⁄ly
);

4631 
ªvî£
 = 
gkey
.reverse;

4633 i‡(
√ed_øndom
)

4634 
	`øndom_md5_°©e_öô
 (
øndom_sour˚
);

4636 i‡(
ãmp_dú_cou¡
 == 0)

4638 c⁄° *
tmp_dú
 = 
	`gëív
 ("TMPDIR");

4639 
	`add_ãmp_dú
 (
tmp_dú
 ?Åmp_dú : 
DEFAULT_TMPDIR
);

4642 i‡(
nfûes
 == 0)

4644 *
möus
 = (*) "-";

4645 
nfûes
 = 1;

4646 
	`‰ì
 (
fûes
);

4647 
fûes
 = &
möus
;

4652 i‡(0 < 
s‹t_size
)

4653 
s‹t_size
 = 
	`MAX
 (s‹t_size, 
MIN_SORT_SIZE
);

4655 i‡(
check⁄ly
)

4657 i‡(
nfûes
 > 1)

4658 
	`îr‹
 (
SORT_FAILURE
, 0, 
	`_
("extra operand %sÇotállowed with -%c"),

4659 
	`quŸe
 (
fûes
[1]), 
check⁄ly
);

4661 i‡(
outfûe
)

4663 
›ts
[] = {0, 'o', 0};

4664 
›ts
[0] = 
check⁄ly
;

4665 
	`öcom∑tibÀ_›ti⁄s
 (
›ts
);

4670 
	`exô
 (
	`check
 (
fûes
[0], 
check⁄ly
Ë? 
EXIT_SUCCESS
 : 
SORT_OUT_OF_ORDER
);

4674 
	`check_öputs
 (
fûes
, 
nfûes
);

4677 
	`check_ouçut
 (
outfûe
);

4679 i‡(
mîge⁄ly
)

4681 
s‹tfûe
 *
s‹tfûes
 = 
	`xˇŒoc
 (
nfûes
,  *sortfiles);

4682 
size_t
 
i
;

4684 
i
 = 0; i < 
nfûes
; ++i)

4685 
s‹tfûes
[
i
].
«me
 = 
fûes
[i];

4687 
	`mîge
 (
s‹tfûes
, 0, 
nfûes
, 
outfûe
);

4688 
	`IF_LINT
 (
	`‰ì
 (
s‹tfûes
));

4692 i‡(!
¡hªads
)

4694 
≈
 = 
	`num_¥o˚ss‹s
 (
NPROC_CURRENT_OVERRIDABLE
);

4695 
¡hªads
 = 
	`MIN
 (
≈
, 
DEFAULT_MAX_THREADS
);

4699 
size_t
 
¡hªads_max
 = 
SIZE_MAX
 / (2 *  (
mîge_node
));

4700 
¡hªads
 = 
	`MIN
 (¡hªads, 
¡hªads_max
);

4702 
	`s‹t
 (
fûes
, 
nfûes
, 
outfûe
, 
¡hªads
);

4705 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

4706 
	`dõ
 (
	`_
("close failed"), "-");

4708 
	`exô
 (
EXIT_SUCCESS
);

4709 
	}
}

	@split.c

23 
	~<c⁄fig.h
>

25 
	~<as£π.h
>

26 
	~<°dio.h
>

27 
	~<gë›t.h
>

28 
	~<sig«l.h
>

29 
	~<sys/ty≥s.h
>

30 
	~<sys/waô.h
>

32 
	~"sy°em.h
"

33 
	~"îr‹.h
"

34 
	~"fd-ª›í.h
"

35 
	~"f˙é--.h
"

36 
	~"fuŒ-ªad.h
"

37 
	~"fuŒ-wrôe.h
"

38 
	~"ioblksize.h
"

39 
	~"quŸe.h
"

40 
	~"ß„-ªad.h
"

41 
	~"sig2°r.h
"

42 
	~"x‰e›í.h
"

43 
	~"x°πﬁ.h
"

46 
	#PROGRAM_NAME
 "•lô"

	)

48 
	#AUTHORS
 \

49 
	`¥›î_«me_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

50 
	`¥›î_«me
 ("Rich¨d M. SèŒm™")

	)

53 c⁄° *
	gfûãr_comm™d
;

56 
	gfûãr_pid
;

59 *
	g›í_pùes
;

60 
size_t
 
	g›í_pùes_Æloc
;

61 
size_t
 
	gn_›í_pùes
;

64 
sig£t_t
 
	gﬁdblocked
;

65 
sig£t_t
 
	g√wblocked
;

68 c⁄° *
	goutba£
;

71 *
	goutfûe
;

75 *
	goutfûe_mid
;

78 
boﬁ
 
	gsuffix_auto
 = 
åue
;

81 
size_t
 
	gsuffix_Àngth
;

84 c⁄° *
	gsuffix_Æphabë
 = "abcdefghijklmnopqrstuvwxyz";

87 c⁄° *
	gnumîic_suffix_°¨t
;

90 c⁄° *
	gaddôi⁄Æ_suffix
;

93 *
	göfûe
;

96 
°©
 
	gö_°©_buf
;

99 
	gouçut_desc
 = -1;

103 
boﬁ
 
	gvîbo£
;

106 
boﬁ
 
	gñide_em±y_fûes
;

110 
boﬁ
 
	gunbuf„ªd
;

113 
	eS∂ô_ty≥


115 
	mty≥_undef
, 
	mty≥_byãs
, 
	mty≥_byã¶öes
, 
	mty≥_löes
, 
	mty≥_digôs
,

116 
	mty≥_chunk_byãs
, 
	mty≥_chunk_löes
, 
	mty≥_º


123 
	mVERBOSE_OPTION
 = 
CHAR_MAX
 + 1,

124 
	mFILTER_OPTION
,

125 
	mIO_BLKSIZE_OPTION
,

126 
	mADDITIONAL_SUFFIX_OPTION


129 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

131 {"byãs", 
ªquúed_¨gumít
, 
NULL
, 'b'},

132 {"löes", 
ªquúed_¨gumít
, 
NULL
, 'l'},

133 {"löe-byãs", 
ªquúed_¨gumít
, 
NULL
, 'C'},

134 {"numbî", 
ªquúed_¨gumít
, 
NULL
, 'n'},

135 {"ñide-em±y-fûes", 
no_¨gumít
, 
NULL
, 'e'},

136 {"unbuf„ªd", 
no_¨gumít
, 
NULL
, 'u'},

137 {"suffix-Àngth", 
ªquúed_¨gumít
, 
NULL
, 'a'},

138 {"addôi⁄Æ-suffix", 
ªquúed_¨gumít
, 
NULL
,

139 
ADDITIONAL_SUFFIX_OPTION
},

140 {"numîic-suffixes", 
›ti⁄Æ_¨gumít
, 
NULL
, 'd'},

141 {"fûãr", 
ªquúed_¨gumít
, 
NULL
, 
FILTER_OPTION
},

142 {"vîbo£", 
no_¨gumít
, 
NULL
, 
VERBOSE_OPTION
},

143 {"-io-blksize", 
ªquúed_¨gumít
, 
NULL
,

144 
IO_BLKSIZE_OPTION
},

145 {
GETOPT_HELP_OPTION_DECL
},

146 {
GETOPT_VERSION_OPTION_DECL
},

147 {
NULL
, 0, NULL, 0}

151 
ölöe
 
boﬁ


152 
	$ign‹abÀ
 (
îr
)

154  
fûãr_comm™d
 && 
îr
 =
EPIPE
;

155 
	}
}

158 
	$£t_suffix_Àngth
 (
uötmax_t
 
n_unôs
, 
S∂ô_ty≥
 
•lô_ty≥
)

160 
	#DEFAULT_SUFFIX_LENGTH
 2

	)

162 
size_t
 
suffix_√eded
 = 0;

167 i‡(
numîic_suffix_°¨t
)

168 
suffix_auto
 = 
Ál£
;

171 i‡(
•lô_ty≥
 =
ty≥_chunk_byãs
 || s∂ô_ty≥ =
ty≥_chunk_löes


172 || 
•lô_ty≥
 =
ty≥_º
)

174 
size_t
 
Æphabë_Àn
 = 
	`°æí
 (
suffix_Æphabë
);

175 
boﬁ
 
Æphabë_¶›
 = (
n_unôs
 % 
Æphabë_Àn
) != 0;

176 
n_unôs
 /
Æphabë_Àn
)

177 
suffix_√eded
++;

178 
suffix_√eded
 +
Æphabë_¶›
;

179 
suffix_auto
 = 
Ál£
;

182 i‡(
suffix_Àngth
)

184 i‡(
suffix_Àngth
 < 
suffix_√eded
)

186 
	`îr‹
 (
EXIT_FAILURE
, 0,

187 
	`_
("the suffixÜengthÇeedsÅo beátÜeast %zu"),

188 
suffix_√eded
);

190 
suffix_auto
 = 
Ál£
;

194 
suffix_Àngth
 = 
	`MAX
 (
DEFAULT_SUFFIX_LENGTH
, 
suffix_√eded
);

195 
	}
}

198 
	$ußge
 (
°©us
)

200 i‡(
°©us
 !
EXIT_SUCCESS
)

201 
	`emô_åy_hñp
 ();

204 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [INPUT [PREFIX]]\n\
"),

207 
¥ogøm_«me
);

208 
	`Âuts
 (
	`_
("\
 fixed-sizêpõ˚†o‡INPUTÅÿPREFIXØ, PREFIXab, ...; deÁu…\n\
 i†1000Üöes,ánd deÁu… PREFIX i†'x'. WôhÇÿINPUT, o∏whí INPUT\n\
 -,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

214 
	`emô_m™d©‹y_¨g_nŸe
 ();

216 
	`Ârötf
 (
°dout
, 
	`_
("\
-a, --suffix-Àngth=N gíî©êsuffixe†o‡Àngth N (deÁu… %d)\n\
--addôi⁄Æ-suffix=SUFFIXáµídá¿addôi⁄Æ SUFFIXÅÿfûê«mes.\n\
-b, --byãs=SIZEÖuàSIZE byã†≥∏ouçuàfûe\n\
-C, --löe-byãs=SIZEÖuà© mo° SIZE byã†o‡löe†≥∏ouçuàfûe\n\
-d, --numîic-suffixes[=FROM] u£Çumîi¯suffixe†ö°ód o‡Æphabëic.\n\
 ch™ge†thê°¨àvÆuê(deÁu… 0).\n\
-e, --ñide-em±y-fûe† dÿnŸ gíî©êem±y ouçuàfûe†wôh '-n'\n\
--fûãr=COMMAND wrôêtÿshñ»COMMAND; fûê«mêi†$FILE\n\
-l, --löes=NUMBERÖuàNUMBERÜöe†≥∏ouçuàfûe\n\
-n, --numbî=CHUNKS gíî©êCHUNKS ouçuàfûes. Sì bñow\n\
-u, --unbuf„ªd immedüãly c›y i≈uàtÿouçuàwôh '-¿r/...'\n\
"), 
DEFAULT_SUFFIX_LENGTH
);

229 
	`Âuts
 (
	`_
("\
--vîbo£Öröà®dügno°i¯ju° bef‹êóch\n\
 fûêi†›íed\n\
"), 
°dout
);

233 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

234 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

235 
	`emô_size_nŸe
 ();

236 
	`Âuts
 (
	`_
("\n\
 may be:\n\
 s∂ô i¡ÿN fûe†ba£d o¿sizêo‡öput\n\
/N ouçuàKth o‡NÅÿ°dout\n\
/N s∂ô i¡ÿN fûe†wôhouà•lôtögÜöes\n\
/K/N ouçuàKth o‡NÅÿ°douàwôhouà•lôtögÜöes\n\
/NÜikê'l' buàu£ÑoundÑobö di°ributi⁄\n\
/K/NÜikewi£ buà⁄ly ouçuàKth o‡NÅÿ°dout\n\
"), 
°dout
);

245 
	`emô_™cûœry_öfo
 ();

247 
	`exô
 (
°©us
);

248 
	}
}

254 
	$√xt_fûe_«me
 ()

257 
size_t
 *
sufödex
;

258 
size_t
 
outba£_Àngth
;

259 
size_t
 
outfûe_Àngth
;

260 
size_t
 
addsuf_Àngth
;

262 i‡(! 
outfûe
)

264 
boﬁ
 
widí
;

266 
√w_«me
:

267 
widí
 = !! 
outfûe_Àngth
;

269 i‡(! 
widí
)

273 
outba£_Àngth
 = 
	`°æí
 (
outba£
);

274 
addsuf_Àngth
 = 
addôi⁄Æ_suffix
 ? 
	`°æí
 (additional_suffix) : 0;

275 
outfûe_Àngth
 = 
outba£_Àngth
 + 
suffix_Àngth
 + 
addsuf_Àngth
;

284 
outfûe_Àngth
 += 2;

285 
suffix_Àngth
++;

288 i‡(
outfûe_Àngth
 + 1 < 
outba£_Àngth
)

289 
	`xÆloc_dõ
 ();

290 
outfûe
 = 
	`xªÆloc
 (outfûe, 
outfûe_Àngth
 + 1);

292 i‡(! 
widí
)

293 
	`mem˝y
 (
outfûe
, 
outba£
, 
outba£_Àngth
);

297 
outfûe
[
outba£_Àngth
] = 
suffix_Æphabë
[
sufödex
[0]];

298 
outba£_Àngth
++;

301 
outfûe_mid
 = 
outfûe
 + 
outba£_Àngth
;

302 
	`mem£t
 (
outfûe_mid
, 
suffix_Æphabë
[0], 
suffix_Àngth
);

303 i‡(
addôi⁄Æ_suffix
)

304 
	`mem˝y
 (
outfûe_mid
 + 
suffix_Àngth
, 
addôi⁄Æ_suffix
, 
addsuf_Àngth
);

305 
outfûe
[
outfûe_Àngth
] = 0;

307 
	`‰ì
 (
sufödex
);

308 
sufödex
 = 
	`xˇŒoc
 (
suffix_Àngth
,  *sufindex);

310 i‡(
numîic_suffix_°¨t
)

312 
	`as£π
 (! 
widí
);

315 
size_t
 
i
 = 
	`°æí
 (
numîic_suffix_°¨t
);

316 
	`mem˝y
 (
outfûe_mid
 + 
suffix_Àngth
 - 
i
, 
numîic_suffix_°¨t
, i);

319 
size_t
 *
sufödex_íd
 = 
sufödex
 + 
suffix_Àngth
;

320 
i
-- != 0)

321 *--
sufödex_íd
 = 
numîic_suffix_°¨t
[
i
] - '0';

324 #i‡! 
_POSIX_NO_TRUNC
 && 
HAVE_PATHCONF
 && 
deföed
 
_PC_NAME_MAX


330 *
dú
 = 
	`dú_«me
 (
outfûe
);

331 
«me_max
 = 
	`∑thc⁄f
 (
dú
, 
_PC_NAME_MAX
);

332 i‡(0 <
«me_max
 &&Çame_max < 
	`ba£_Àn
 (
	`œ°_comp⁄ít
 (
outfûe
)))

333 
	`îr‹
 (
EXIT_FAILURE
, 
ENAMETOOLONG
, "%s", 
outfûe
);

334 
	`‰ì
 (
dú
);

342 
size_t
 
i
 = 
suffix_Àngth
;

343 
i
-- != 0)

345 
sufödex
[
i
]++;

346 i‡(
suffix_auto
 && 
i
 =0 && ! 
suffix_Æphabë
[
sufödex
[0] + 1])

347 
√w_«me
;

348 
outfûe_mid
[
i
] = 
suffix_Æphabë
[
sufödex
[i]];

349 i‡(
outfûe_mid
[
i
])

351 
sufödex
[
i
] = 0;

352 
outfûe_mid
[
i
] = 
suffix_Æphabë
[
sufödex
[i]];

354 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("output file suffixesÉxhausted"));

356 
	}
}

361 
	$¸óã
 (c⁄° *
«me
)

363 i‡(!
fûãr_comm™d
)

365 i‡(
vîbo£
)

366 
	`Ârötf
 (
°dout
, 
	`_
("¸ótög fûê%s\n"), 
	`quŸe
 (
«me
));

368 
fd
 = 
	`›í
 (
«me
, 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
, 
MODE_RW_UGO
);

369 i‡(
fd
 < 0)

370  
fd
;

371 
°©
 
out_°©_buf
;

372 i‡(
	`f°©
 (
fd
, &
out_°©_buf
) != 0)

373 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ÁûedÅÿ°© %s"), 
	`quŸe
 (
«me
));

374 i‡(
	`SAME_INODE
 (
ö_°©_buf
, 
out_°©_buf
))

375 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s would overwrite input;áborting"),

376 
	`quŸe
 (
«me
));

377 i‡(
	`·runˇã
 (
fd
, 0) != 0)

378 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("%s:Éº‹Årunˇtög"), 
	`quŸe
 (
«me
));

380  
fd
;

384 
fd_∑ú
[2];

385 
pid_t
 
chûd_pid
;

386 c⁄° *
shñl_¥og
 = 
	`gëív
 ("SHELL");

387 i‡(
shñl_¥og
 =
NULL
)

388 
shñl_¥og
 = "/bin/sh";

389 i‡(
	`£ãnv
 ("FILE", 
«me
, 1) != 0)

390 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

391 
	`_
("failedÅo set FILEÉnvironment variable"));

392 i‡(
vîbo£
)

393 
	`Ârötf
 (
°dout
, 
	`_
("executög wôh FILE=%s\n"), 
	`quŸe
 (
«me
));

394 i‡(
	`pùe
 (
fd_∑ú
) != 0)

395 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo createÖipe"));

396 
chûd_pid
 = 
	`f‹k
 ();

397 i‡(
chûd_pid
 == 0)

402 
j
;

407 
j
 = 0; j < 
n_›í_pùes
; ++j)

408 i‡(
	`˛o£
 (
›í_pùes
[
j
]) != 0)

409 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("closingÖriorÖipe"));

410 i‡(
	`˛o£
 (
fd_∑ú
[1]))

411 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("closing outputÖipe"));

412 i‡(
fd_∑ú
[0] !
STDIN_FILENO
)

414 i‡(
	`dup2
 (
fd_∑ú
[0], 
STDIN_FILENO
) != STDIN_FILENO)

415 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("moving inputÖipe"));

416 i‡(
	`˛o£
 (
fd_∑ú
[0]) != 0)

417 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("closing inputÖipe"));

419 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁdblocked
, 
NULL
);

420 
	`exe˛
 (
shñl_¥og
, 
	`œ°_comp⁄ít
 (shell_prog), "-c",

421 
fûãr_comm™d
, (*Ë
NULL
);

422 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅoÑun command: \"%s -c %s\""),

423 
shñl_¥og
, 
fûãr_comm™d
);

425 i‡(
chûd_pid
 == -1)

426 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("fork system call failed"));

427 i‡(
	`˛o£
 (
fd_∑ú
[0]) != 0)

428 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("failedÅo close inputÖipe"));

429 
fûãr_pid
 = 
chûd_pid
;

430 i‡(
n_›í_pùes
 =
›í_pùes_Æloc
)

431 
›í_pùes
 = 
	`x2ƒóŒoc
 (›í_pùes, &
›í_pùes_Æloc
,

432  *
›í_pùes
);

433 
›í_pùes
[
n_›í_pùes
++] = 
fd_∑ú
[1];

434  
fd_∑ú
[1];

436 
	}
}

442 
	$˛o£out
 (
FILE
 *
Â
, 
fd
, 
pid_t
 
pid
, c⁄° *
«me
)

444 i‡(
Â
 !
NULL
 && 
	`f˛o£
 (ÂË!0 && ! 
	`ign‹abÀ
 (
î∫o
))

445 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
«me
);

446 i‡(
fd
 >= 0)

448 i‡(
Â
 =
NULL
 && 
	`˛o£
 (
fd
) < 0)

449 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
«me
);

450 
j
;

451 
j
 = 0; j < 
n_›í_pùes
; ++j)

453 i‡(
›í_pùes
[
j
] =
fd
)

455 
›í_pùes
[
j
] = o≥n_pùes[--
n_›í_pùes
];

460 i‡(
pid
 > 0)

462 
w°©us
 = 0;

463 i‡(
	`waôpid
 (
pid
, &
w°©us
, 0Ë=-1 && 
î∫o
 !
ECHILD
)

464 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("waiting for childÖrocess"));

465 i‡(
	`WIFSIGNALED
 (
w°©us
))

467 
sig
 = 
	`WTERMSIG
 (
w°©us
);

468 i‡(
sig
 !
SIGPIPE
)

470 
sig«me
[
	`MAX
 (
SIG2STR_MAX
, 
	`INT_BUFSIZE_BOUND
 ())];

471 i‡(
	`sig2°r
 (
sig
, 
sig«me
) != 0)

472 
	`•rötf
 (
sig«me
, "%d", 
sig
);

473 
	`îr‹
 (
sig
 + 128, 0,

474 
	`_
("with FILE=%s, signal %s from command: %s"),

475 
«me
, 
sig«me
, 
fûãr_comm™d
);

478 i‡(
	`WIFEXITED
 (
w°©us
))

480 
ex
 = 
	`WEXITSTATUS
 (
w°©us
);

481 i‡(
ex
 != 0)

482 
	`îr‹
 (
ex
, 0, 
	`_
("with FILE=%s,Éxit %d from command: %s"),

483 
«me
, 
ex
, 
fûãr_comm™d
);

488 
	`îr‹
 (
EXIT_FAILURE
, 0,

489 
	`_
("unknow¿°©u†‰om comm™d (0x%X)"), 
w°©us
);

492 
	}
}

499 
	$cwrôe
 (
boﬁ
 
√w_fûe_Êag
, c⁄° *
bp
, 
size_t
 
byãs
)

501 i‡(
√w_fûe_Êag
)

503 i‡(!
bp
 && 
byãs
 =0 && 
ñide_em±y_fûes
)

505 
	`˛o£out
 (
NULL
, 
ouçut_desc
, 
fûãr_pid
, 
outfûe
);

506 
	`√xt_fûe_«me
 ();

507 i‡((
ouçut_desc
 = 
	`¸óã
 (
outfûe
)) < 0)

508 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
outfûe
);

510 i‡(
	`fuŒ_wrôe
 (
ouçut_desc
, 
bp
, 
byãs
Ë!byã†&& ! 
	`ign‹abÀ
 (
î∫o
))

511 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
outfûe
);

512 
	}
}

518 
	$byãs_•lô
 (
uötmax_t
 
n_byãs
, *
buf
, 
size_t
 
bufsize
, uötmax_à
max_fûes
)

520 
size_t
 
n_ªad
;

521 
boﬁ
 
√w_fûe_Êag
 = 
åue
;

522 
size_t
 
to_ªad
;

523 
uötmax_t
 
to_wrôe
 = 
n_byãs
;

524 *
bp_out
;

525 
uötmax_t
 
›íed
 = 0;

529 
n_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

530 i‡(
n_ªad
 < 
bufsize
 && 
î∫o
)

531 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

532 
bp_out
 = 
buf
;

533 
to_ªad
 = 
n_ªad
;

534 
åue
)

536 i‡(
to_ªad
 < 
to_wrôe
)

538 i‡(
to_ªad
)

540 
	`cwrôe
 (
√w_fûe_Êag
, 
bp_out
, 
to_ªad
);

541 
›íed
 +
√w_fûe_Êag
;

542 
to_wrôe
 -
to_ªad
;

543 
√w_fûe_Êag
 = 
Ál£
;

549 
size_t
 
w
 = 
to_wrôe
;

550 
	`cwrôe
 (
√w_fûe_Êag
, 
bp_out
, 
w
);

551 
›íed
 +
√w_fûe_Êag
;

552 
√w_fûe_Êag
 = !
max_fûes
 || (
›íed
 < max_files);

553 i‡(!
√w_fûe_Êag
 && 
	`ign‹abÀ
 (
î∫o
))

556 
n_ªad
 = 0;

559 
bp_out
 +
w
;

560 
to_ªad
 -
w
;

561 
to_wrôe
 = 
n_byãs
;

565 
n_ªad
 =
bufsize
);

570 
›íed
++ < 
max_fûes
)

571 
	`cwrôe
 (
åue
, 
NULL
, 0);

572 
	}
}

578 
	$löes_•lô
 (
uötmax_t
 
n_löes
, *
buf
, 
size_t
 
bufsize
)

580 
size_t
 
n_ªad
;

581 *
bp
, *
bp_out
, *
eob
;

582 
boﬁ
 
√w_fûe_Êag
 = 
åue
;

583 
uötmax_t
 
n
 = 0;

587 
n_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

588 i‡(
n_ªad
 < 
bufsize
 && 
î∫o
)

589 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

590 
bp
 = 
bp_out
 = 
buf
;

591 
eob
 = 
bp
 + 
n_ªad
;

592 *
eob
 = '\n';

593 
åue
)

595 
bp
 = 
	`memchr
 (bp, '\n', 
eob
 - bp + 1);

596 i‡(
bp
 =
eob
)

598 i‡(
eob
 !
bp_out
)

600 
size_t
 
Àn
 = 
eob
 - 
bp_out
;

601 
	`cwrôe
 (
√w_fûe_Êag
, 
bp_out
, 
Àn
);

602 
√w_fûe_Êag
 = 
Ál£
;

607 ++
bp
;

608 i‡(++
n
 >
n_löes
)

610 
	`cwrôe
 (
√w_fûe_Êag
, 
bp_out
, 
bp
 - bp_out);

611 
bp_out
 = 
bp
;

612 
√w_fûe_Êag
 = 
åue
;

613 
n
 = 0;

617 
n_ªad
 =
bufsize
);

618 
	}
}

627 
	$löe_byãs_•lô
 (
size_t
 
n_byãs
)

629 *
bp
;

630 
boﬁ
 
eof
 = 
Ál£
;

631 
size_t
 
n_buf„ªd
 = 0;

632 *
buf
 = 
	`xmÆloc
 (
n_byãs
);

638 
size_t
 
to_ªad
 = 
n_byãs
 - 
n_buf„ªd
;

639 
size_t
 
n_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
 + 
n_buf„ªd
, 
to_ªad
);

640 i‡(
n_ªad
 < 
to_ªad
 && 
î∫o
)

641 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

643 
n_buf„ªd
 +
n_ªad
;

644 i‡(
n_buf„ªd
 !
n_byãs
)

646 i‡(
n_buf„ªd
 == 0)

648 
eof
 = 
åue
;

652 
bp
 = 
buf
 + 
n_buf„ªd
;

653 i‡(
n_buf„ªd
 =
n_byãs
)

655 
bp
 > 
buf
 && bp[-1] != '\n')

656 
bp
--;

660 i‡(
bp
 =
buf
)

661 
bp
 = 
buf
 + 
n_buf„ªd
;

664 
	`cwrôe
 (
åue
, 
buf
, 
bp
 - buf);

669 
n_buf„ªd
 -
bp
 - 
buf
;

670 i‡(
n_buf„ªd
 > 0)

671 
	`memmove
 (
buf
, 
bp
, 
n_buf„ªd
);

673 !
eof
);

674 
	`‰ì
 (
buf
);

675 
	}
}

686 
	$löes_chunk_•lô
 (
uötmax_t
 
k
, uötmax_à
n
, *
buf
, 
size_t
 
bufsize
,

687 
off_t
 
fûe_size
)

689 
	`as£π
 (
n
 && 
k
 <¿&&Ç <
fûe_size
);

691 c⁄° 
off_t
 
chunk_size
 = 
fûe_size
 / 
n
;

692 
uötmax_t
 
chunk_no
 = 1;

693 
off_t
 
chunk_íd
 = 
chunk_size
 - 1;

694 
off_t
 
n_wrôãn
 = 0;

695 
boﬁ
 
√w_fûe_Êag
 = 
åue
;

696 
boﬁ
 
chunk_åunˇãd
 = 
Ál£
;

698 i‡(
k
 > 1)

701 
off_t
 
°¨t
 = (
k
 - 1Ë* 
chunk_size
 - 1;

702 i‡(
	`l£ek
 (
STDIN_FILENO
, 
°¨t
, 
SEEK_CUR
) < 0)

703 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

704 
n_wrôãn
 = 
°¨t
;

705 
chunk_no
 = 
k
 - 1;

706 
chunk_íd
 = 
chunk_no
 * 
chunk_size
 - 1;

709 
n_wrôãn
 < 
fûe_size
)

711 *
bp
 = 
buf
, *
eob
;

712 
size_t
 
n_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

713 i‡(
n_ªad
 < 
bufsize
 && 
î∫o
)

714 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

715 i‡(
n_ªad
 == 0)

717 
n_ªad
 = 
	`MIN
 (n_ªad, 
fûe_size
 - 
n_wrôãn
);

718 
chunk_åunˇãd
 = 
Ál£
;

719 
eob
 = 
buf
 + 
n_ªad
;

721 
bp
 !
eob
)

723 
size_t
 
to_wrôe
;

724 
boﬁ
 
√xt
 = 
Ál£
;

727 
off_t
 
skù
 = 
	`MIN
 (
n_ªad
, 
	`MAX
 (0, 
chunk_íd
 - 
n_wrôãn
));

728 *
bp_out
 = 
	`memchr
 (
bp
 + 
skù
, '\n', 
n_ªad
 - skip);

729 i‡(
bp_out
++)

730 
√xt
 = 
åue
;

732 
bp_out
 = 
eob
;

733 
to_wrôe
 = 
bp_out
 - 
bp
;

735 i‡(
k
 =
chunk_no
)

740 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
bp
, 
to_wrôe
) !=Åo_write)

741 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`_
("writeÉrror"));

743 i‡(! 
k
)

744 
	`cwrôe
 (
√w_fûe_Êag
, 
bp
, 
to_wrôe
);

745 
n_wrôãn
 +
to_wrôe
;

746 
bp
 +
to_wrôe
;

747 
n_ªad
 -
to_wrôe
;

748 
√w_fûe_Êag
 = 
√xt
;

752 
√xt
 || 
chunk_íd
 <
n_wrôãn
 - 1)

754 i‡(!
√xt
 && 
bp
 =
eob
)

757 
chunk_åunˇãd
 = 
åue
;

760 
chunk_no
++;

761 i‡(
k
 && 
chunk_no
 > k)

763 i‡(
chunk_no
 =
n
)

764 
chunk_íd
 = 
fûe_size
 - 1;

766 
chunk_íd
 +
chunk_size
;

767 i‡(
chunk_íd
 <
n_wrôãn
 - 1)

769 i‡(! 
k
)

770 
	`cwrôe
 (
åue
, 
NULL
, 0);

773 
√xt
 = 
Ál£
;

778 i‡(
chunk_åunˇãd
)

779 
chunk_no
++;

784 !
k
 && 
chunk_no
++ <
n
)

785 
	`cwrôe
 (
åue
, 
NULL
, 0);

786 
	}
}

791 
	$byãs_chunk_exåa˘
 (
uötmax_t
 
k
, uötmax_à
n
, *
buf
, 
size_t
 
bufsize
,

792 
off_t
 
fûe_size
)

794 
off_t
 
°¨t
;

795 
off_t
 
íd
;

797 
	`as£π
 (
k
 && 
n
 && k <¿&&Ç <
fûe_size
);

799 
°¨t
 = (
k
 - 1Ë* (
fûe_size
 / 
n
);

800 
íd
 = (
k
 =
n
Ë? 
fûe_size
 : k * (file_size /Ç);

802 i‡(
	`l£ek
 (
STDIN_FILENO
, 
°¨t
, 
SEEK_CUR
) < 0)

803 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

805 
°¨t
 < 
íd
)

807 
size_t
 
n_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

808 i‡(
n_ªad
 < 
bufsize
 && 
î∫o
)

809 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

810 i‡(
n_ªad
 == 0)

812 
n_ªad
 = 
	`MIN
 (n_ªad, 
íd
 - 
°¨t
);

813 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
buf
, 
n_ªad
) !=Ç_read

814 && ! 
	`ign‹abÀ
 (
î∫o
))

815 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`quŸe
 ("-"));

816 
°¨t
 +
n_ªad
;

818 
	}
}

820 
	sof_öfo


822 *
	mof_«me
;

823 
	mofd
;

824 
FILE
 *
	mofûe
;

825 
	m›id
;

826 } 
	tof_t
;

830 
	mOFD_NEW
 = -1,

831 
	mOFD_APPEND
 = -2

839 
boﬁ


840 
	$ofûe_›í
 (
of_t
 *
fûes
, 
size_t
 
i_check
, size_à
nfûes
)

842 
boﬁ
 
fûe_limô
 = 
Ál£
;

844 i‡(
fûes
[
i_check
].
ofd
 <
OFD_NEW
)

846 
fd
;

847 
size_t
 
i_ª›í
 = 
i_check
 ? i_check - 1 : 
nfûes
 - 1;

852 
åue
)

854 i‡(
fûes
[
i_check
].
ofd
 =
OFD_NEW
)

855 
fd
 = 
	`¸óã
 (
fûes
[
i_check
].
of_«me
);

872 
fd
 = 
	`›í
 (
fûes
[
i_check
].
of_«me
,

873 
O_WRONLY
 | 
O_BINARY
 | 
O_APPEND
 | 
O_NONBLOCK
);

876 i‡(-1 < 
fd
)

879 i‡(!(
î∫o
 =
EMFILE
 ||Éºnÿ=
ENFILE
))

880 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_check
].
of_«me
);

882 
fûe_limô
 = 
åue
;

885 
fûes
[
i_ª›í
].
ofd
 < 0)

887 
i_ª›í
 = i_ª›í ? i_ª›í - 1 : 
nfûes
 - 1;

889 i‡(
i_ª›í
 =
i_check
)

890 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_check
].
of_«me
);

893 i‡(
	`f˛o£
 (
fûes
[
i_ª›í
].
ofûe
) != 0)

894 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_ª›í
].
of_«me
);

895 
fûes
[
i_ª›í
].
ofûe
 = 
NULL
;

896 
fûes
[
i_ª›í
].
ofd
 = 
OFD_APPEND
;

899 
fûes
[
i_check
].
ofd
 = 
fd
;

900 i‡(!(
fûes
[
i_check
].
ofûe
 = 
	`fd›í
 (
fd
, "a")))

901 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_check
].
of_«me
);

902 
fûes
[
i_check
].
›id
 = 
fûãr_pid
;

903 
fûãr_pid
 = 0;

906  
fûe_limô
;

907 
	}
}

915 
	$löes_º
 (
uötmax_t
 
k
, uötmax_à
n
, *
buf
, 
size_t
 
bufsize
)

917 
boﬁ
 
wøµed
 = 
Ál£
;

918 
boﬁ
 
wrŸe
 = 
Ál£
;

919 
boﬁ
 
fûe_limô
;

920 
size_t
 
i_fûe
;

921 
of_t
 *
fûes
 
	`IF_LINT
 (
NULL
);

922 
uötmax_t
 
löe_no
;

924 i‡(
k
)

925 
löe_no
 = 1;

928 i‡(
SIZE_MAX
 < 
n
)

929 
	`îr‹
 (
exô_Áûuª
, 0, "%s", 
	`_
("memoryÉxhausted"));

930 
fûes
 = 
	`xnmÆloc
 (
n
,  *files);

933 
i_fûe
 = 0; i_fûê< 
n
; i_file++)

935 
	`√xt_fûe_«me
 ();

936 
fûes
[
i_fûe
].
of_«me
 = 
	`x°rdup
 (
outfûe
);

937 
fûes
[
i_fûe
].
ofd
 = 
OFD_NEW
;

938 
fûes
[
i_fûe
].
ofûe
 = 
NULL
;

939 
fûes
[
i_fûe
].
›id
 = 0;

941 
i_fûe
 = 0;

942 
fûe_limô
 = 
Ál£
;

945 
åue
)

947 *
bp
 = 
buf
, *
eob
;

950 
size_t
 
n_ªad
 = 
	`ß„_ªad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

951 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

952 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

953 i‡(
n_ªad
 == 0)

955 
eob
 = 
buf
 + 
n_ªad
;

957 
bp
 !
eob
)

959 
size_t
 
to_wrôe
;

960 
boﬁ
 
√xt
 = 
Ál£
;

963 *
bp_out
 = 
	`memchr
 (
bp
, '\n', 
eob
 - bp);

964 i‡(
bp_out
)

966 
bp_out
++;

967 
√xt
 = 
åue
;

970 
bp_out
 = 
eob
;

971 
to_wrôe
 = 
bp_out
 - 
bp
;

973 i‡(
k
)

975 i‡(
löe_no
 =
k
 && 
unbuf„ªd
)

977 i‡(
	`fuŒ_wrôe
 (
STDOUT_FILENO
, 
bp
, 
to_wrôe
) !=Åo_write)

978 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`_
("writeÉrror"));

980 i‡(
löe_no
 =
k
 && 
	`fwrôe
 (
bp
, 
to_wrôe
, 1, 
°dout
) != 1)

982 
	`˛óªº
 (
°dout
);

983 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
	`_
("writeÉrror"));

985 i‡(
√xt
)

986 
löe_no
 = (löe_nÿ=
n
) ? 1 :Üine_no + 1;

991 
fûe_limô
 |
	`ofûe_›í
 (
fûes
, 
i_fûe
, 
n
);

992 i‡(
unbuf„ªd
)

996 i‡(
	`fuŒ_wrôe
 (
fûes
[
i_fûe
].
ofd
, 
bp
, 
to_wrôe
) !=Åo_write

997 && ! 
	`ign‹abÀ
 (
î∫o
))

998 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_fûe
].
of_«me
);

1000 i‡(
	`fwrôe
 (
bp
, 
to_wrôe
, 1, 
fûes
[
i_fûe
].
ofûe
) != 1

1001 && ! 
	`ign‹abÀ
 (
î∫o
))

1002 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_fûe
].
of_«me
);

1003 i‡(! 
	`ign‹abÀ
 (
î∫o
))

1004 
wrŸe
 = 
åue
;

1006 i‡(
fûe_limô
)

1008 i‡(
	`f˛o£
 (
fûes
[
i_fûe
].
ofûe
) != 0)

1009 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûes
[
i_fûe
].
of_«me
);

1010 
fûes
[
i_fûe
].
ofûe
 = 
NULL
;

1011 
fûes
[
i_fûe
].
ofd
 = 
OFD_APPEND
;

1013 i‡(
√xt
 && ++
i_fûe
 =
n
)

1015 
wøµed
 = 
åue
;

1017 i‡(! 
wrŸe
)

1018 
no_fûãrs
;

1019 
wrŸe
 = 
Ál£
;

1020 
i_fûe
 = 0;

1024 
bp
 = 
bp_out
;

1028 
no_fûãrs
:

1033 i‡(!
k
)

1035 
˚ûög
 = (
wøµed
 ? 
n
 : 
i_fûe
);

1036 
i_fûe
 = 0; i_fûê< 
n
; i_file++)

1038 i‡(
i_fûe
 >
˚ûög
 && !
ñide_em±y_fûes
)

1039 
fûe_limô
 |
	`ofûe_›í
 (
fûes
, 
i_fûe
, 
n
);

1040 i‡(
fûes
[
i_fûe
].
ofd
 >= 0)

1041 
	`˛o£out
 (
fûes
[
i_fûe
].
ofûe
, fûes[i_fûe].
ofd
,

1042 
fûes
[
i_fûe
].
›id
, fûes[i_fûe].
of_«me
);

1043 
fûes
[
i_fûe
].
ofd
 = 
OFD_APPEND
;

1046 
	`IF_LINT
 (
	`‰ì
 (
fûes
));

1047 
	}
}

1049 
	#FAIL_ONLY_ONE_WAY
() \

1052 
	`îr‹
 (0, 0, 
	`_
("cannot split in moreÅhan one way")); \

1053 
	`ußge
 (
EXIT_FAILURE
); \

1055 0)

	)

1060 
	$∑r£_chunk
 (
uötmax_t
 *
k_unôs
, uötmax_à*
n_unôs
, *
¶ash
)

1062 *
¶ash
 = '\0';

1063 i‡(
	`x°πoumax
 (
¶ash
 + 1, 
NULL
, 10, 
n_unôs
, ""Ë!
LONGINT_OK


1064 || *
n_unôs
 == 0)

1065 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆidÇumbî o‡chunks"), 
¶ash
 + 1);

1066 i‡(
¶ash
 !
›èrg


1067 && (
	`x°πoumax
 (
›èrg
, 
NULL
, 10, 
k_unôs
, ""Ë!
LONGINT_OK


1068 || *
k_unôs
 =0 || *
n_unôs
 < *k_units))

1069 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆid chunkÇumbî"), 
›èrg
);

1070 
	}
}

1074 
	$maö
 (
¨gc
, **
¨gv
)

1076 
S∂ô_ty≥
 
•lô_ty≥
 = 
ty≥_undef
;

1077 
size_t
 
ö_blk_size
 = 0;

1078 
size_t
 
∑ge_size
 = 
	`gë∑gesize
 ();

1079 
uötmax_t
 
k_unôs
 = 0;

1080 
uötmax_t
 
n_unôs
;

1082 c⁄° 
mu…ùlõrs
[] = "bEGKkMmPTYZ0";

1083 
c
;

1084 
digôs_›töd
 = 0;

1085 
off_t
 
fûe_size
 
	`IF_LINT
 (= 0);

1087 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1088 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1089 
	`£éoˇÀ
 (
LC_ALL
, "");

1090 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1091 
	`ãxtdomaö
 (
PACKAGE
);

1093 
	`©exô
 (
˛o£_°dout
);

1097 
öfûe
 = 
	`bad_ˇ°
 ("-");

1098 
outba£
 = 
	`bad_ˇ°
 ("x");

1100 
åue
)

1103 
this_›töd
 = 
›töd
 ? optind : 1;

1104 *
¶ash
;

1106 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "0123456789C:a:b:del:n:u",

1107 
l⁄g›ts
, 
NULL
);

1108 i‡(
c
 == -1)

1111 
c
)

1115 
tmp
;

1116 i‡(
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
tmp
, ""Ë!
LONGINT_OK


1117 || 
SIZE_MAX
 /  (
size_t
Ë< 
tmp
)

1119 
	`îr‹
 (0, 0, 
	`_
("%s: invÆid suffixÜígth"), 
›èrg
);

1120 
	`ußge
 (
EXIT_FAILURE
);

1122 
suffix_Àngth
 = 
tmp
;

1126 
ADDITIONAL_SUFFIX_OPTION
:

1127 i‡(
	`œ°_comp⁄ít
 (
›èrg
) != optarg)

1129 
	`îr‹
 (0, 0,

1130 
	`_
("invalid suffix %s, contains directory separator"),

1131 
	`quŸe
 (
›èrg
));

1132 
	`ußge
 (
EXIT_FAILURE
);

1134 
addôi⁄Æ_suffix
 = 
›èrg
;

1138 i‡(
•lô_ty≥
 !
ty≥_undef
)

1139 
	`FAIL_ONLY_ONE_WAY
 ();

1140 
•lô_ty≥
 = 
ty≥_byãs
;

1141 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
n_unôs
, 
mu…ùlõrs
Ë!
LONGINT_OK


1142 || 
n_unôs
 == 0)

1144 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÇumbî o‡byãs"), 
›èrg
);

1145 
	`ußge
 (
EXIT_FAILURE
);

1150 i‡(
OFF_T_MAX
 < 
n_unôs
)

1151 
	`îr‹
 (
EXIT_FAILURE
, 
EFBIG
,

1152 
	`_
("%s: invÆidÇumbî o‡byãs"), 
›èrg
);

1157 i‡(
•lô_ty≥
 !
ty≥_undef
)

1158 
	`FAIL_ONLY_ONE_WAY
 ();

1159 
•lô_ty≥
 = 
ty≥_löes
;

1160 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
n_unôs
, ""Ë!
LONGINT_OK


1161 || 
n_unôs
 == 0)

1163 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÇumbî o‡löes"), 
›èrg
);

1164 
	`ußge
 (
EXIT_FAILURE
);

1169 i‡(
•lô_ty≥
 !
ty≥_undef
)

1170 
	`FAIL_ONLY_ONE_WAY
 ();

1171 
•lô_ty≥
 = 
ty≥_byã¶öes
;

1172 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
n_unôs
, 
mu…ùlõrs
Ë!
LONGINT_OK


1173 || 
n_unôs
 =0 || 
SIZE_MAX
 <Ç_units)

1175 
	`îr‹
 (0, 0, 
	`_
("%s: invÆidÇumbî o‡byãs"), 
›èrg
);

1176 
	`ußge
 (
EXIT_FAILURE
);

1178 i‡(
OFF_T_MAX
 < 
n_unôs
)

1179 
	`îr‹
 (
EXIT_FAILURE
, 
EFBIG
,

1180 
	`_
("%s: invÆidÇumbî o‡byãs"), 
›èrg
);

1184 i‡(
•lô_ty≥
 !
ty≥_undef
)

1185 
	`FAIL_ONLY_ONE_WAY
 ();

1187 
	`is•a˚
 (
	`to_uch¨
 (*
›èrg
)))

1188 
›èrg
++;

1189 i‡(
	`STRNCMP_LIT
 (
›èrg
, "r/") == 0)

1191 
•lô_ty≥
 = 
ty≥_º
;

1192 
›èrg
 += 2;

1194 i‡(
	`STRNCMP_LIT
 (
›èrg
, "l/") == 0)

1196 
•lô_ty≥
 = 
ty≥_chunk_löes
;

1197 
›èrg
 += 2;

1200 
•lô_ty≥
 = 
ty≥_chunk_byãs
;

1201 i‡((
¶ash
 = 
	`°rchr
 (
›èrg
, '/')))

1202 
	`∑r£_chunk
 (&
k_unôs
, &
n_unôs
, 
¶ash
);

1203 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
n_unôs
, ""Ë!
LONGINT_OK


1204 || 
n_unôs
 == 0)

1205 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆidÇumbî o‡chunks"), 
›èrg
);

1209 
unbuf„ªd
 = 
åue
;

1222 i‡(
•lô_ty≥
 =
ty≥_undef
)

1224 
•lô_ty≥
 = 
ty≥_digôs
;

1225 
n_unôs
 = 0;

1227 i‡(
•lô_ty≥
 !
ty≥_undef
 && s∂ô_ty≥ !
ty≥_digôs
)

1228 
	`FAIL_ONLY_ONE_WAY
 ();

1229 i‡(
digôs_›töd
 !0 && digôs_›töd !
this_›töd
)

1230 
n_unôs
 = 0;

1231 
digôs_›töd
 = 
this_›töd
;

1232 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
n_unôs
, 
c
 - '0', 
uötmax_t
))

1234 
buf„r
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

1235 
	`îr‹
 (
EXIT_FAILURE
, 0,

1236 
	`_
("line count option -%s%c... isÅooÜarge"),

1237 
	`umaxto°r
 (
n_unôs
, 
buf„r
), 
c
);

1242 
suffix_Æphabë
 = "0123456789";

1243 i‡(
›èrg
)

1245 i‡(
	`°æí
 (
›èrg
Ë!
	`°r•n
 (›èrg, 
suffix_Æphabë
))

1247 
	`îr‹
 (0, 0,

1248 
	`_
("%s: invalid start value forÇumerical suffix"),

1249 
›èrg
);

1250 
	`ußge
 (
EXIT_FAILURE
);

1255 *
›èrg
 == '0' && *(optarg + 1) != '\0')

1256 
›èrg
++;

1257 
numîic_suffix_°¨t
 = 
›èrg
;

1263 
ñide_em±y_fûes
 = 
åue
;

1266 
FILTER_OPTION
:

1267 
fûãr_comm™d
 = 
›èrg
;

1270 
IO_BLKSIZE_OPTION
:

1272 
uötmax_t
 
tmp_blk_size
;

1273 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10, &
tmp_blk_size
,

1274 
mu…ùlõrs
Ë!
LONGINT_OK


1275 || 
tmp_blk_size
 =0 || 
SIZE_MAX
 - 
∑ge_size
 <Åmp_blk_size)

1276 
	`îr‹
 (0, 0, 
	`_
("%s: invÆid IO block size"), 
›èrg
);

1278 
ö_blk_size
 = 
tmp_blk_size
;

1282 
VERBOSE_OPTION
:

1283 
vîbo£
 = 
åue
;

1286 
ˇ£_GETOPT_HELP_CHAR
;

1288 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1291 
	`ußge
 (
EXIT_FAILURE
);

1295 i‡(
k_unôs
 !0 && 
fûãr_comm™d
)

1297 
	`îr‹
 (0, 0, 
	`_
("--filter doesÇotÖrocessá chunkÉxtractedÅo stdout"));

1298 
	`ußge
 (
EXIT_FAILURE
);

1302 i‡(
•lô_ty≥
 =
ty≥_undef
)

1304 
•lô_ty≥
 = 
ty≥_löes
;

1305 
n_unôs
 = 1000;

1308 i‡(
n_unôs
 == 0)

1310 
	`îr‹
 (0, 0, 
	`_
("%s: invalidÇumber ofÜines"), "0");

1311 
	`ußge
 (
EXIT_FAILURE
);

1314 
	`£t_suffix_Àngth
 (
n_unôs
, 
•lô_ty≥
);

1318 i‡(
›töd
 < 
¨gc
)

1319 
öfûe
 = 
¨gv
[
›töd
++];

1321 i‡(
›töd
 < 
¨gc
)

1322 
outba£
 = 
¨gv
[
›töd
++];

1324 i‡(
›töd
 < 
¨gc
)

1326 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

1327 
	`ußge
 (
EXIT_FAILURE
);

1332 i‡(
numîic_suffix_°¨t
 && 
	`°æí
 (numîic_suffix_°¨tË> 
suffix_Àngth
)

1334 
	`îr‹
 (0, 0, 
	`_
("numerical suffix start value isÅooÜarge "

1336 
	`ußge
 (
EXIT_FAILURE
);

1340 i‡(! 
	`STREQ
 (
öfûe
, "-")

1341 && 
	`fd_ª›í
 (
STDIN_FILENO
, 
öfûe
, 
O_RDONLY
, 0) < 0)

1342 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

1343 
	`quŸe
 (
öfûe
));

1346 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

1347 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

1351 i‡(
	`f°©
 (
STDIN_FILENO
, &
ö_°©_buf
) != 0)

1352 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

1353 i‡(
ö_blk_size
 == 0)

1354 
ö_blk_size
 = 
	`io_blksize
 (
ö_°©_buf
);

1356 i‡(
•lô_ty≥
 =
ty≥_chunk_byãs
 || s∂ô_ty≥ =
ty≥_chunk_löes
)

1358 
off_t
 
öput_off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

1359 i‡(
	`ußbÀ_°_size
 (&
ö_°©_buf
))

1360 
fûe_size
 = 
ö_°©_buf
.
°_size
;

1361 i‡(0 <
öput_off£t
)

1363 
fûe_size
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_END
);

1364 
öput_off£t
 = (
fûe_size
 < 0

1365 ? 
fûe_size


1366 : 
	`l£ek
 (
STDIN_FILENO
, 
öput_off£t
, 
SEEK_SET
));

1368 i‡(
öput_off£t
 < 0)

1369 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: cannot determine file size"),

1370 
	`quŸe
 (
öfûe
));

1371 
fûe_size
 -
öput_off£t
;

1373 i‡(
OFF_T_MAX
 < 
n_unôs
)

1375 
buf„r
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

1376 
	`îr‹
 (
EXIT_FAILURE
, 
EFBIG
, 
	`_
("%s: invalidÇumber of chunks"),

1377 
	`umaxto°r
 (
n_unôs
, 
buf„r
));

1381 
fûe_size
 = 
	`MAX
 (fûe_size, 
n_unôs
);

1384 *
b
 = 
	`xmÆloc
 (
ö_blk_size
 + 1 + 
∑ge_size
 - 1);

1385 *
buf
 = 
	`±r_Æign
 (
b
, 
∑ge_size
);

1389 i‡(
fûãr_comm™d
)

1391 
siga˘i⁄
 
a˘
;

1392 
	`sigem±y£t
 (&
√wblocked
);

1393 
	`siga˘i⁄
 (
SIGPIPE
, 
NULL
, &
a˘
);

1394 i‡(
a˘
.
ß_h™dÀr
 !
SIG_IGN
)

1395 
	`sigadd£t
 (&
√wblocked
, 
SIGPIPE
);

1396 
	`sig¥ocmask
 (
SIG_BLOCK
, &
√wblocked
, &
ﬁdblocked
);

1399 
•lô_ty≥
)

1401 
ty≥_digôs
:

1402 
ty≥_löes
:

1403 
	`löes_•lô
 (
n_unôs
, 
buf
, 
ö_blk_size
);

1406 
ty≥_byãs
:

1407 
	`byãs_•lô
 (
n_unôs
, 
buf
, 
ö_blk_size
, 0);

1410 
ty≥_byã¶öes
:

1411 
	`löe_byãs_•lô
 (
n_unôs
);

1414 
ty≥_chunk_byãs
:

1415 i‡(
k_unôs
 == 0)

1416 
	`byãs_•lô
 (
fûe_size
 / 
n_unôs
, 
buf
, 
ö_blk_size
,Ç_units);

1418 
	`byãs_chunk_exåa˘
 (
k_unôs
, 
n_unôs
, 
buf
, 
ö_blk_size
, 
fûe_size
);

1421 
ty≥_chunk_löes
:

1422 
	`löes_chunk_•lô
 (
k_unôs
, 
n_unôs
, 
buf
, 
ö_blk_size
, 
fûe_size
);

1425 
ty≥_º
:

1428 
	`löes_º
 (
k_unôs
, 
n_unôs
, 
buf
, 
ö_blk_size
);

1432 
	`ab‹t
 ();

1435 
	`IF_LINT
 (
	`‰ì
 (
b
));

1437 i‡(
	`˛o£
 (
STDIN_FILENO
) != 0)

1438 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

1439 
	`˛o£out
 (
NULL
, 
ouçut_desc
, 
fûãr_pid
, 
outfûe
);

1441 
	`exô
 (
EXIT_SUCCESS
);

1442 
	}
}

	@stat.c

19 
	~<c⁄fig.h
>

23 #i‡((
STAT_STATVFS
 || 
STAT_STATVFS64
) \

24 && (
	gHAVE_STRUCT_STATVFS_F_BASETYPE
 || 
	gHAVE_STRUCT_STATVFS_F_FSTYPENAME
 \

25 || (! 
	gHAVE_STRUCT_STATFS_F_FSTYPENAME
 && 
	gHAVE_STRUCT_STATVFS_F_TYPE
)))

26 
	#USE_STATVFS
 1

	)

28 
	#USE_STATVFS
 0

	)

31 
	~<°ddef.h
>

32 
	~<°dio.h
>

33 
	~<°dÆign.h
>

34 
	~<sys/ty≥s.h
>

35 
	~<pwd.h
>

36 
	~<gΩ.h
>

37 #i‡
USE_STATVFS


38 
	~<sys/°©vfs.h
>

39 #ñi‡
HAVE_SYS_VFS_H


40 
	~<sys/vfs.h
>

41 #ñi‡
HAVE_SYS_MOUNT_H
 && 
HAVE_SYS_PARAM_H


46 
	~<sys/∑øm.h
>

47 
	~<sys/mou¡.h
>

48 #i‡
HAVE_NFS_NFS_CLNT_H
 && 
HAVE_NFS_VFS_H


50 
	~<√töë/ö.h
>

51 
	~<nfs/nfs_˛¡.h
>

52 
	~<nfs/vfs.h
>

54 #ñi‡
HAVE_OS_H


55 
	~<fs_öfo.h
>

57 
	~<£löux/£löux.h
>

59 
	~"sy°em.h
"

61 
	~"¨ódlök.h
"

62 
	~"îr‹.h
"

63 
	~"fûe-ty≥.h
"

64 
	~"fûemode.h
"

65 
	~"fs.h
"

66 
	~"gë›t.h
"

67 
	~"mou¡li°.h
"

68 
	~"quŸe.h
"

69 
	~"quŸórg.h
"

70 
	~"°©-size.h
"

71 
	~"°©-time.h
"

72 
	~"°r·ime.h
"

73 
	~"föd-mou¡-poöt.h
"

74 
	~"xva•rötf.h
"

76 #i‡
USE_STATVFS


77 
	#STRUCT_STATVFS
 
°©vfs


	)

78 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
STRUCT_STATVFS_F_FSID_IS_INTEGER


	)

79 
	#HAVE_STRUCT_STATXFS_F_TYPE
 
HAVE_STRUCT_STATVFS_F_TYPE


	)

80 #i‡
HAVE_STRUCT_STATVFS_F_NAMEMAX


81 
	#SB_F_NAMEMAX
(
S
Ë((S)->
f_«memax
)

	)

83 #i‡! 
STAT_STATVFS
 && 
STAT_STATVFS64


84 
	#STATFS
 
°©vfs64


	)

86 
	#STATFS
 
°©vfs


	)

88 
	#STATFS_FRSIZE
(
S
Ë((S)->
f_‰size
)

	)

90 
	#HAVE_STRUCT_STATXFS_F_TYPE
 
HAVE_STRUCT_STATFS_F_TYPE


	)

91 #i‡
HAVE_STRUCT_STATFS_F_NAMELEN


92 
	#SB_F_NAMEMAX
(
S
Ë((S)->
f_«mñí
)

	)

94 
	#STATFS
 
°©fs


	)

95 #i‡
HAVE_OS_H


99 
ATTRIBUTE_WARN_UNUSED_RESULT


100 
	$°©fs
 (c⁄° *
fûíame
, 
fs_öfo
 *
buf
)

102 
dev_t
 
devi˚
 = 
	`dev_f‹_∑th
 (
fûíame
);

103 i‡(
devi˚
 < 0)

105 
î∫o
 = (
devi˚
 =
B_ENTRY_NOT_FOUND
 ? 
ENOENT


106 : 
devi˚
 =
B_BAD_VALUE
 ? 
EINVAL


107 : 
devi˚
 =
B_NAME_TOO_LONG
 ? 
ENAMETOOLONG


108 : 
devi˚
 =
B_NO_MEMORY
 ? 
ENOMEM


109 : 
devi˚
 =
B_FILE_ERROR
 ? 
EIO


114  
	`fs_°©_dev
 (
devi˚
, 
buf
);

115 
	}
}

116 
	#f_fsid
 
dev


	)

117 
	#f_blocks
 
tŸÆ_blocks


	)

118 
	#f_b‰ì
 
‰ì_blocks


	)

119 
	#f_bavaû
 
‰ì_blocks


	)

120 
	#f_bsize
 
io_size


	)

121 
	#f_fûes
 
tŸÆ_nodes


	)

122 
	#f_f‰ì
 
‰ì_nodes


	)

123 
	#STRUCT_STATVFS
 
fs_öfo


	)

124 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
åue


	)

125 
	#STATFS_FRSIZE
(
S
Ë((S)->
block_size
)

	)

127 
	#STRUCT_STATVFS
 
°©fs


	)

128 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
STRUCT_STATFS_F_FSID_IS_INTEGER


	)

129 #i‡
HAVE_STRUCT_STATFS_F_FRSIZE


130 
	#STATFS_FRSIZE
(
S
Ë((S)->
f_‰size
)

	)

132 
	#STATFS_FRSIZE
(
S
Ë0

	)

137 #ifde‡
SB_F_NAMEMAX


138 
	#OUT_NAMEMAX
 
out_uöt


	)

141 
	#SB_F_NAMEMAX
(
S
Ë"*"

	)

142 
	#OUT_NAMEMAX
 
out_°rög


	)

145 #i‡
HAVE_STRUCT_STATVFS_F_BASETYPE


146 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
f_ba£ty≥


	)

148 #i‡
HAVE_STRUCT_STATVFS_F_FSTYPENAME
 || 
HAVE_STRUCT_STATFS_F_FSTYPENAME


149 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
f_f°y≥«me


	)

150 #ñi‡
HAVE_OS_H


151 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
fsh_«me


	)

156 
	#isodigô
(
c
Ë('0' <(cË&& (cË<'7')

	)

157 
	#o˘tobö
(
c
Ë((cË- '0')

	)

158 
	#hextobö
(
c
) ((c) >= 'a' && (c) <= 'f' ? (c) - 'a' + 10 : \

159 (
c
Ë>'A' && (cË<'F' ? (cË- 'A' + 10 : (cË- '0')

	)

161 c⁄° 
	gdigôs
[] = "0123456789";

169 c⁄° 
	g¥ötf_Êags
[] = "'-+ #0I";

171 
	#PROGRAM_NAME
 "°©"

	)

173 
	#AUTHORS
 
	`¥›î_«me
 ("Mich´»Meskes")

	)

177 
	mPRINTF_OPTION
 = 
CHAR_MAX
 + 1

180 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

182 {"c⁄ãxt", 
no_¨gumít
, 0, 'Z'},

183 {"dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'L'},

184 {"fûe-sy°em", 
no_¨gumít
, 
NULL
, 'f'},

185 {"f‹m©", 
ªquúed_¨gumít
, 
NULL
, 'c'},

186 {"¥ötf", 
ªquúed_¨gumít
, 
NULL
, 
PRINTF_OPTION
},

187 {"ãr£", 
no_¨gumít
, 
NULL
, 't'},

188 {
GETOPT_HELP_OPTION_DECL
},

189 {
GETOPT_VERSION_OPTION_DECL
},

190 {
NULL
, 0, NULL, 0}

194 
boﬁ
 
	gfﬁlow_löks
;

198 
boﬁ
 
	göãΩªt_back¶ash_esˇ≥s
;

202 c⁄° *
	gåaûög_dñim
 = "";

205 c⁄° *
	gdecimÆ_poöt
;

206 
size_t
 
	gdecimÆ_poöt_Àn
;

214 c⁄° * 
ATTRIBUTE_WARN_UNUSED_RESULT


215 
	$hum™_f°y≥
 (
STRUCT_STATVFS
 c⁄° *
°©fsbuf
)

217 #ifde‡
STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME


218  
°©fsbuf
->
STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
;

220 
°©fsbuf
->
f_ty≥
)

222 #i‡
deföed
 
__löux__


244 
S_MAGIC_ADFS
:

246 
S_MAGIC_AFFS
:

248 
S_MAGIC_AFS
:

250 
S_MAGIC_ANON_INODE_FS
:

252 
S_MAGIC_AUFS
:

257 
S_MAGIC_AUTOFS
:

259 
S_MAGIC_BEFS
:

261 
S_MAGIC_BDEVFS
:

263 
S_MAGIC_BFS
:

265 
S_MAGIC_BINFMTFS
:

267 
S_MAGIC_BTRFS
:

269 
S_MAGIC_CEPH
:

271 
S_MAGIC_CGROUP
:

273 
S_MAGIC_CIFS
:

275 
S_MAGIC_CODA
:

277 
S_MAGIC_COH
:

279 
S_MAGIC_CRAMFS
:

281 
S_MAGIC_CRAMFS_WEND
:

283 
S_MAGIC_DEBUGFS
:

285 
S_MAGIC_DEVFS
:

287 
S_MAGIC_DEVPTS
:

289 
S_MAGIC_ECRYPTFS
:

291 
S_MAGIC_EFS
:

293 
S_MAGIC_EXT
:

295 
S_MAGIC_EXT2
:

297 
S_MAGIC_EXT2_OLD
:

299 
S_MAGIC_FAT
:

301 
S_MAGIC_FHGFS
:

303 
S_MAGIC_FUSEBLK
:

305 
S_MAGIC_FUSECTL
:

307 
S_MAGIC_FUTEXFS
:

309 
S_MAGIC_GFS
:

311 
S_MAGIC_GPFS
:

313 
S_MAGIC_HFS
:

315 
S_MAGIC_HPFS
:

317 
S_MAGIC_HUGETLBFS
:

319 
S_MAGIC_MTD_INODE_FS
:

321 
S_MAGIC_INOTIFYFS
:

323 
S_MAGIC_ISOFS
:

325 
S_MAGIC_ISOFS_R_WIN
:

327 
S_MAGIC_ISOFS_WIN
:

329 
S_MAGIC_JFFS
:

331 
S_MAGIC_JFFS2
:

333 
S_MAGIC_JFS
:

335 
S_MAGIC_KAFS
:

337 
S_MAGIC_LUSTRE
:

339 
S_MAGIC_MINIX
:

341 
S_MAGIC_MINIX_30
:

343 
S_MAGIC_MINIX_V2
:

345 
S_MAGIC_MINIX_V2_30
:

347 
S_MAGIC_MINIX_V3
:

349 
S_MAGIC_MQUEUE
:

351 
S_MAGIC_MSDOS
:

353 
S_MAGIC_NCP
:

355 
S_MAGIC_NFS
:

357 
S_MAGIC_NFSD
:

359 
S_MAGIC_NILFS
:

361 
S_MAGIC_NTFS
:

363 
S_MAGIC_OPENPROM
:

365 
S_MAGIC_OCFS2
:

367 
S_MAGIC_PANFS
:

369 
S_MAGIC_PIPEFS
:

374 
S_MAGIC_PROC
:

376 
S_MAGIC_PSTOREFS
:

378 
S_MAGIC_QNX4
:

380 
S_MAGIC_QNX6
:

382 
S_MAGIC_RAMFS
:

384 
S_MAGIC_REISERFS
:

386 
S_MAGIC_ROMFS
:

388 
S_MAGIC_RPC_PIPEFS
:

390 
S_MAGIC_SECURITYFS
:

392 
S_MAGIC_SELINUX
:

394 
S_MAGIC_SMB
:

396 
S_MAGIC_SOCKFS
:

398 
S_MAGIC_SQUASHFS
:

400 
S_MAGIC_SYSFS
:

402 
S_MAGIC_SYSV2
:

404 
S_MAGIC_SYSV4
:

406 
S_MAGIC_TMPFS
:

408 
S_MAGIC_UDF
:

410 
S_MAGIC_UFS
:

412 
S_MAGIC_UFS_BYTESWAPPED
:

414 
S_MAGIC_USBDEVFS
:

416 
S_MAGIC_V9FS
:

418 
S_MAGIC_VMHGFS
:

420 
S_MAGIC_VXFS
:

422 
S_MAGIC_VZFS
:

424 
S_MAGIC_XENFS
:

426 
S_MAGIC_XENIX
:

428 
S_MAGIC_XFS
:

430 
S_MAGIC_XIAFS
:

432 
S_MAGIC_ZFS
:

435 #ñi‡
__GNU__


436 
FSTYPE_UFS
:

438 
FSTYPE_NFS
:

440 
FSTYPE_GFS
:

442 
FSTYPE_LFS
:

444 
FSTYPE_SYSV
:

446 
FSTYPE_FTP
:

448 
FSTYPE_TAR
:

450 
FSTYPE_AR
:

452 
FSTYPE_CPIO
:

454 
FSTYPE_MSLOSS
:

456 
FSTYPE_CPM
:

458 
FSTYPE_HFS
:

460 
FSTYPE_DTFS
:

462 
FSTYPE_GRFS
:

464 
FSTYPE_TERM
:

466 
FSTYPE_DEV
:

468 
FSTYPE_PROC
:

470 
FSTYPE_IFSOCK
:

472 
FSTYPE_AFS
:

474 
FSTYPE_DFS
:

476 
FSTYPE_PROC9
:

478 
FSTYPE_SOCKET
:

480 
FSTYPE_MISC
:

482 
FSTYPE_EXT2FS
:

484 
FSTYPE_HTTP
:

486 
FSTYPE_MEMFS
:

488 
FSTYPE_ISO9660
:

493 
ty≥
 = 
°©fsbuf
->
f_ty≥
;

494 
buf
[ "UNKNOWN (0x%lx)" - 3

495 + ( 
ty≥
 * 
CHAR_BIT
 + 3) / 4];

496 
	`•rötf
 (
buf
, "UNKNOWN (0x%lx)", 
ty≥
);

497  
buf
;

501 
	}
}

503 * 
ATTRIBUTE_WARN_UNUSED_RESULT


504 
	$hum™_ac˚ss
 (
°©
 c⁄° *
°©buf
)

506 
modebuf
[12];

507 
	`fûemode°rög
 (
°©buf
, 
modebuf
);

508 
modebuf
[10] = 0;

509  
modebuf
;

510 
	}
}

512 * 
ATTRIBUTE_WARN_UNUSED_RESULT


513 
	$hum™_time
 (
time•ec
 
t
)

515 
°r
[
	`MAX
 (
	`INT_BUFSIZE_BOUND
 (
ötmax_t
),

516 (
	`INT_STRLEN_BOUND
 ()

519 
tm
 c⁄° *tm = 
	`loˇ…ime
 (&
t
.
tv_£c
);

520 i‡(
tm
 =
NULL
)

521  
	`timëo°r
 (
t
.
tv_£c
, 
°r
);

522 
	`n°r·ime
 (
°r
,  så, "%Y-%m-%d %H:%M:%S.%N %z", 
tm
, 0, 
t
.
tv_n£c
);

523  
°r
;

524 
	}
}

531 
	$make_f‹m©
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, c⁄° *
Ælowed_Êags
,

532 c⁄° *
suffix
)

534 *
d°
 = 
pf‹m©
 + 1;

535 c⁄° *
§c
;

536 c⁄° *
§˛im
 = 
pf‹m©
 + 
¥efix_Àn
;

537 
§c
 = 
d°
; sr¯< 
§˛im
 && 
	`°rchr
 (
¥ötf_Êags
, *src); src++)

538 i‡(
	`°rchr
 (
Ælowed_Êags
, *
§c
))

539 *
d°
++ = *
§c
;

540 
§c
 < 
§˛im
)

541 *
d°
++ = *
§c
++;

542 
	`°r˝y
 (
d°
, 
suffix
);

543 
	}
}

546 
	$out_°rög
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, c⁄° *
¨g
)

548 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "-", "s");

549 
	`¥ötf
 (
pf‹m©
, 
¨g
);

550 
	}
}

552 
	$out_öt
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
ötmax_t
 
¨g
)

554 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "'-+ 0", 
PRIdMAX
);

555  
	`¥ötf
 (
pf‹m©
, 
¨g
);

556 
	}
}

558 
	$out_uöt
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
uötmax_t
 
¨g
)

560 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "'-0", 
PRIuMAX
);

561  
	`¥ötf
 (
pf‹m©
, 
¨g
);

562 
	}
}

564 
	$out_uöt_o
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
uötmax_t
 
¨g
)

566 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "-#0", 
PRIoMAX
);

567 
	`¥ötf
 (
pf‹m©
, 
¨g
);

568 
	}
}

570 
	$out_uöt_x
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
uötmax_t
 
¨g
)

572 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "-#0", 
PRIxMAX
);

573 
	`¥ötf
 (
pf‹m©
, 
¨g
);

574 
	}
}

576 
	$out_möus_zîo
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
)

578 
	`make_f‹m©
 (
pf‹m©
, 
¥efix_Àn
, "'-+ 0", ".0f");

579  
	`¥ötf
 (
pf‹m©
, -0.25);

580 
	}
}

585 
	$out_ïoch_£c
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
,

586 
°©
 c⁄° *
°©buf
 
ATTRIBUTE_UNUSED
,

587 
time•ec
 
¨g
)

589 *
dŸ
 = 
	`memchr
 (
pf‹m©
, '.', 
¥efix_Àn
);

590 
size_t
 
£c_¥efix_Àn
 = 
¥efix_Àn
;

591 
width
 = 0;

592 
¥ecisi⁄
 = 0;

593 
boﬁ
 
‰ac_À·_adju°
 = 
Ál£
;

595 i‡(
dŸ
)

597 
£c_¥efix_Àn
 = 
dŸ
 - 
pf‹m©
;

598 
pf‹m©
[
¥efix_Àn
] = '\0';

600 i‡(
	`ISDIGIT
 (
dŸ
[1]))

602 
Õªc
 = 
	`°πﬁ
 (
dŸ
 + 1, 
NULL
, 10);

603 
¥ecisi⁄
 = (
Õªc
 <
INT_MAX
 ?Üprec : INT_MAX);

607 
¥ecisi⁄
 = 9;

610 i‡(
¥ecisi⁄
 && 
	`ISDIGIT
 (
dŸ
[-1]))

615 *
p
 = 
dŸ
;

616 *
dŸ
 = '\0';

619 --
p
;

620 
	`ISDIGIT
 (
p
[-1]));

622 
lwidth
 = 
	`°πﬁ
 (
p
, 
NULL
, 10);

623 
width
 = (
lwidth
 <
INT_MAX
 ?Üwidth : INT_MAX);

624 i‡(1 < 
width
)

626 
p
 += (*p == '0');

627 
£c_¥efix_Àn
 = 
p
 - 
pf‹m©
;

628 
w_d
 = (
decimÆ_poöt_Àn
 < 
width


629 ? 
width
 - 
decimÆ_poöt_Àn


631 i‡(1 < 
w_d
)

633 
w
 = 
w_d
 - 
¥ecisi⁄
;

634 i‡(1 < 
w
)

636 *
d°
 = 
pf‹m©
;

637 c⁄° *
§c
 = 
d°
; sr¯< 
p
; src++)

639 i‡(*
§c
 == '-')

640 
‰ac_À·_adju°
 = 
åue
;

642 *
d°
++ = *
§c
;

644 
£c_¥efix_Àn
 =

645 (
d°
 - 
pf‹m©


646 + (
‰ac_À·_adju°
 ? 0 : 
	`•rötf
 (
d°
, "%d", 
w
)));

653 
divis‹
 = 1;

654 
i
 = 
¥ecisi⁄
; i < 9; i++)

655 
divis‹
 *= 10;

656 
‰ac_£c
 = 
¨g
.
tv_n£c
 / 
divis‹
;

657 
öt_Àn
;

659 i‡(
	`TYPE_SIGNED
 (
time_t
))

661 
boﬁ
 
möus_zîo
 = 
Ál£
;

662 i‡(
¨g
.
tv_£c
 < 0 &&árg.
tv_n£c
 != 0)

664 
‰ac_£c_modulus
 = 1000000000 / 
divis‹
;

665 
‰ac_£c
 = (
‰ac_£c_modulus
 - frac_sec

666 - (
¨g
.
tv_n£c
 % 
divis‹
 != 0));

667 
¨g
.
tv_£c
 +(
‰ac_£c
 != 0);

668 
möus_zîo
 = (
¨g
.
tv_£c
 == 0);

670 
öt_Àn
 = (
möus_zîo


671 ? 
	`out_möus_zîo
 (
pf‹m©
, 
£c_¥efix_Àn
)

672 : 
	`out_öt
 (
pf‹m©
, 
£c_¥efix_Àn
, 
¨g
.
tv_£c
));

675 
öt_Àn
 = 
	`out_uöt
 (
pf‹m©
, 
£c_¥efix_Àn
, 
¨g
.
tv_£c
);

677 i‡(
¥ecisi⁄
)

679 
¥ec
 = (
¥ecisi⁄
 < 9 ?Örecision : 9);

680 
åaûög_¥ec
 = 
¥ecisi⁄
 - 
¥ec
;

681 
ûí
 = (
öt_Àn
 < 0 ? 0 : int_len);

682 
åaûög_width
 = (
ûí
 < 
width
 && 
decimÆ_poöt_Àn
 < width - ilen

683 ? 
width
 - 
ûí
 - 
decimÆ_poöt_Àn
 - 
¥ec


685 
	`¥ötf
 ("%s%.*d%-*.*d", 
decimÆ_poöt
, 
¥ec
, 
‰ac_£c
,

686 
åaûög_width
, 
åaûög_¥ec
, 0);

688 
	}
}

692 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


693 
	$out_fûe_c⁄ãxt
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, c⁄° *
fûíame
)

695 *
sc⁄ãxt
;

696 
boﬁ
 
Áû
 = 
Ál£
;

698 i‡((
fﬁlow_löks


699 ? 
	`gëfûec⁄
 (
fûíame
, &
sc⁄ãxt
)

700 : 
	`lgëfûec⁄
 (
fûíame
, &
sc⁄ãxt
)) < 0)

702 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo get security context of %s"),

703 
	`quŸe
 (
fûíame
));

704 
sc⁄ãxt
 = 
NULL
;

705 
Áû
 = 
åue
;

707 
	`°r˝y
 (
pf‹m©
 + 
¥efix_Àn
, "s");

708 
	`¥ötf
 (
pf‹m©
, (
sc⁄ãxt
 ? scontext : "?"));

709 i‡(
sc⁄ãxt
)

710 
	`‰ìc⁄
 (
sc⁄ãxt
);

711  
Áû
;

712 
	}
}

715 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


716 
	$¥öt_°©fs
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
m
,

717 c⁄° *
fûíame
,

718 c⁄° *
d©a
)

720 
STRUCT_STATVFS
 c⁄° *
°©fsbuf
 = 
d©a
;

721 
boﬁ
 
Áû
 = 
Ál£
;

723 
m
)

726 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
fûíame
);

731 #i‡
STRUCT_STATXFS_F_FSID_IS_INTEGER


732 
uötmax_t
 
fsid
 = 
°©fsbuf
->
f_fsid
;

734 
	tfsid_w‹d
;

735 
	`vîify
 (
	`Æignof
 (
STRUCT_STATVFS
Ë%áligno‡(
fsid_w‹d
) == 0);

736 
	`vîify
 (
	`off£tof
 (
STRUCT_STATVFS
, 
f_fsid
Ë% 
	`Æignof
 (
fsid_w‹d
) == 0);

737 
	`vîify
 ( 
°©fsbuf
->
f_fsid
 % 
	`Æignof
 (
fsid_w‹d
) == 0);

738 
fsid_w‹d
 c⁄° *
p
 = (fsid_w‹d *Ë&
°©fsbuf
->
f_fsid
;

742 
uötmax_t
 
fsid
 = 0;

743 
w‹ds
 =  
°©fsbuf
->
f_fsid
 /  *
p
;

744 
i
;

745 
i
 = 0; i < 
w‹ds
 && i *  *
p
 <  
fsid
; i++)

747 
uötmax_t
 
u
 = 
p
[
w‹ds
 - 1 - 
i
];

748 
fsid
 |
u
 << (
i
 * 
CHAR_BIT
 *  *
p
);

751 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
fsid
);

756 
	`OUT_NAMEMAX
 (
pf‹m©
, 
¥efix_Àn
, 
	`SB_F_NAMEMAX
 (
°©fsbuf
));

759 #i‡
HAVE_STRUCT_STATXFS_F_TYPE


760 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_ty≥
);

762 
	`Âutc
 ('?', 
°dout
);

766 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_f°y≥
 (
°©fsbuf
));

769 
	`out_öt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_blocks
);

772 
	`out_öt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_b‰ì
);

775 
	`out_öt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_bavaû
);

778 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_bsize
);

782 
uötmax_t
 
‰size
 = 
	`STATFS_FRSIZE
 (
°©fsbuf
);

783 i‡(! 
‰size
)

784 
‰size
 = 
°©fsbuf
->
f_bsize
;

785 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
‰size
);

789 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_fûes
);

792 
	`out_öt
 (
pf‹m©
, 
¥efix_Àn
, 
°©fsbuf
->
f_f‰ì
);

795 
	`Âutc
 ('?', 
°dout
);

798  
Áû
;

799 
	}
}

804 c⁄° * 
ATTRIBUTE_WARN_UNUSED_RESULT


805 
	$föd_böd_mou¡
 (c⁄° * 
«me
)

807 c⁄° * 
böd_mou¡
 = 
NULL
;

809 
mou¡_íåy
 *
mou¡_li°
;

810 
boﬁ
 
åõd_mou¡_li°
 = 
Ál£
;

811 i‡(!
åõd_mou¡_li°
)

813 i‡(!(
mou¡_li°
 = 
	`ªad_fûe_sy°em_li°
 (
Ál£
)))

814 
	`îr‹
 (0, 
î∫o
, "%s", 
	`_
("cannotÑeadÅable of mounted file systems"));

815 
åõd_mou¡_li°
 = 
åue
;

818 
mou¡_íåy
 *
me
;

819 
me
 = 
mou¡_li°
; me; même->
me_√xt
)

821 i‡(
me
->
me_dummy
 && me->
me_dev«me
[0] == '/'

822 && 
	`STREQ
 (
me
->
me_mou¡dú
, 
«me
))

824 
°©
 
«me_°©s
;

825 
°©
 
dev_°©s
;

827 i‡(
	`°©
 (
«me
, &
«me_°©s
) == 0

828 && 
	`°©
 (
me
->
me_dev«me
, &
dev_°©s
) == 0

829 && 
	`SAME_INODE
 (
«me_°©s
, 
dev_°©s
))

831 
böd_mou¡
 = 
me
->
me_dev«me
;

837  
böd_mou¡
;

838 
	}
}

841 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


842 
	$out_mou¡_poöt
 (c⁄° *
fûíame
, *
pf‹m©
, 
size_t
 
¥efix_Àn
,

843 c⁄° 
°©
 *
°©p
)

846 c⁄° *
≈
 = "?", *
bp
 = 
NULL
;

847 *
mp
 = 
NULL
;

848 
boﬁ
 
Áû
 = 
åue
;

852 i‡(
fﬁlow_löks
 || !
	`S_ISLNK
 (
°©p
->
°_mode
))

854 *
ªsﬁved
 = 
	`ˇn⁄iˇlize_fûe_«me
 (
fûíame
);

855 i‡(!
ªsﬁved
)

857 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿˇn⁄iˇlizê%s"), 
	`quŸe
 (
fûíame
));

858 
¥öt_mou¡_poöt
;

860 
bp
 = 
	`föd_böd_mou¡
 (
ªsﬁved
);

861 
	`‰ì
 (
ªsﬁved
);

862 i‡(
bp
)

864 
Áû
 = 
Ál£
;

865 
¥öt_mou¡_poöt
;

874 i‡((
mp
 = 
	`föd_mou¡_poöt
 (
fûíame
, 
°©p
)))

878 
bp
 = 
	`föd_böd_mou¡
 (
mp
);

879 
Áû
 = 
Ál£
;

882 
¥öt_mou¡_poöt
:

884 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
bp
 ? b∞: 
mp
 ? m∞: 
≈
);

885 
	`‰ì
 (
mp
);

886  
Áû
;

887 
	}
}

890 
ölöe
 
time•ec


891 
	$√g_to_zîo
 (
time•ec
 
ts
)

893 i‡(0 <
ts
.
tv_n£c
)

894  
ts
;

895 
time•ec
 
z
 = {0, 0};

896  
z
;

897 
	}
}

900 
boﬁ


901 
	$¥öt_°©
 (*
pf‹m©
, 
size_t
 
¥efix_Àn
, 
m
,

902 c⁄° *
fûíame
, c⁄° *
d©a
)

904 
°©
 *
°©buf
 = (°© *Ë
d©a
;

905 
∑sswd
 *
pw_ít
;

906 
group
 *
gw_ít
;

907 
boﬁ
 
Áû
 = 
Ál£
;

909 
m
)

912 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
fûíame
);

915 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`quŸe
 (
fûíame
));

916 i‡(
	`S_ISLNK
 (
°©buf
->
°_mode
))

918 *
lök«me
 = 
	`¨ódlök_wôh_size
 (
fûíame
, 
°©buf
->
°_size
);

919 i‡(
lök«me
 =
NULL
)

921 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannotÑead symbolicÜink %s"),

922 
	`quŸe
 (
fûíame
));

923  
åue
;

925 
	`¥ötf
 (" -> ");

926 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`quŸe
 (
lök«me
));

927 
	`‰ì
 (
lök«me
);

931 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_dev
);

934 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_dev
);

937 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_öo
);

940 
	`out_uöt_o
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_mode
 & 
CHMOD_MODE_BITS
);

943 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_ac˚ss
 (
°©buf
));

946 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_mode
);

949 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`fûe_ty≥
 (
°©buf
));

952 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_∆ök
);

955 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_uid
);

958 
	`£çwít
 ();

959 
pw_ít
 = 
	`gëpwuid
 (
°©buf
->
°_uid
);

960 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
,

961 
pw_ít
 ?Öw_ít->
pw_«me
 : "UNKNOWN");

964 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_gid
);

967 
	`£tgª¡
 ();

968 
gw_ít
 = 
	`gëgrgid
 (
°©buf
->
°_gid
);

969 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
,

970 
gw_ít
 ? gw_ít->
gr_«me
 : "UNKNOWN");

973 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
	`maj‹
 (
°©buf
->
°_rdev
));

976 
Áû
 |
	`out_mou¡_poöt
 (
fûíame
, 
pf‹m©
, 
¥efix_Àn
, 
°©buf
);

979 
	`out_uöt_x
 (
pf‹m©
, 
¥efix_Àn
, 
	`mö‹
 (
°©buf
->
°_rdev
));

982 
	`out_öt
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
->
°_size
);

985 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
ST_NBLOCKSIZE
);

988 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
	`ST_NBLOCKS
 (*
°©buf
));

991 
	`out_uöt
 (
pf‹m©
, 
¥efix_Àn
, 
	`ST_BLKSIZE
 (*
°©buf
));

995 
time•ec
 
t
 = 
	`gë_°©_búthtime
 (
°©buf
);

996 i‡(
t
.
tv_n£c
 < 0)

997 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, "-");

999 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_time
 (
t
));

1003 
	`out_ïoch_£c
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
,

1004 
	`√g_to_zîo
 (
	`gë_°©_búthtime
 (
°©buf
)));

1007 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_time
 (
	`gë_°©_©ime
 (
°©buf
)));

1010 
	`out_ïoch_£c
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
, 
	`gë_°©_©ime
 (statbuf));

1013 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_time
 (
	`gë_°©_mtime
 (
°©buf
)));

1016 
	`out_ïoch_£c
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
, 
	`gë_°©_mtime
 (statbuf));

1019 
	`out_°rög
 (
pf‹m©
, 
¥efix_Àn
, 
	`hum™_time
 (
	`gë_°©_˘ime
 (
°©buf
)));

1022 
	`out_ïoch_£c
 (
pf‹m©
, 
¥efix_Àn
, 
°©buf
, 
	`gë_°©_˘ime
 (statbuf));

1025 
Áû
 |
	`out_fûe_c⁄ãxt
 (
pf‹m©
, 
¥efix_Àn
, 
fûíame
);

1028 
	`Âutc
 ('?', 
°dout
);

1031  
Áû
;

1032 
	}
}

1037 
	$¥öt_esc_ch¨
 (
c
)

1039 
c
)

1042 
c
 ='\a';

1045 
c
 ='\b';

1048 
c
 ='\x1B';

1051 
c
 ='\f';

1054 
c
 ='\n';

1057 
c
 ='\r';

1060 
c
 ='\t';

1063 
c
 ='\v';

1069 
	`îr‹
 (0, 0, 
	`_
("w¨nög: uƒecognizedÉsˇ≥ '\\%c'"), 
c
);

1072 
	`putch¨
 (
c
);

1073 
	}
}

1078 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1079 
¥öt_ô
 (c⁄° *
f‹m©
, c⁄° *
fûíame
,

1080 
	$boﬁ
 (*
¥öt_func
Ë(*, 
size_t
, ,

1082 c⁄° *
d©a
)

1084 
boﬁ
 
Áû
 = 
Ál£
;

1090 
MAX_ADDITIONAL_BYTES
 =

1091 (
	`MAX
 ( 
PRIdMAX
,

1092 
	`MAX
 ( 
PRIoMAX
, MAX ( 
PRIuMAX
,  
PRIxMAX
)))

1095 
size_t
 
n_Æloc
 = 
	`°æí
 (
f‹m©
Ë+ 
MAX_ADDITIONAL_BYTES
 + 1;

1096 *
de°
 = 
	`xmÆloc
 (
n_Æloc
);

1097 c⁄° *
b
;

1098 
b
 = 
f‹m©
; *b; b++)

1100 *
b
)

1104 
size_t
 
Àn
 = 
	`°r•n
 (
b
 + 1, 
¥ötf_Êags
);

1105 c⁄° *
fmt_ch¨
 = 
b
 + 
Àn
 + 1;

1106 
fmt_ch¨
 +
	`°r•n
 (fmt_ch¨, 
digôs
);

1107 i‡(*
fmt_ch¨
 == '.')

1108 
fmt_ch¨
 +1 + 
	`°r•n
 (fmt_ch¨ + 1, 
digôs
);

1109 
Àn
 = 
fmt_ch¨
 - (
b
 + 1);

1110 
fmt_code
 = *
fmt_ch¨
;

1111 
	`mem˝y
 (
de°
, 
b
, 
Àn
 + 1);

1113 
b
 = 
fmt_ch¨
;

1114 
fmt_code
)

1117 --
b
;

1120 i‡(0 < 
Àn
)

1122 
de°
[
Àn
 + 1] = *
fmt_ch¨
;

1123 
de°
[
Àn
 + 2] = '\0';

1124 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalid directive"),

1125 
	`quŸórg_cﬁ⁄
 (
de°
));

1127 
	`putch¨
 ('%');

1130 
Áû
 |
	`¥öt_func
 (
de°
, 
Àn
 + 1, 
fmt_code
, 
fûíame
, 
d©a
);

1137 i‡–! 
öãΩªt_back¶ash_esˇ≥s
)

1139 
	`putch¨
 ('\\');

1142 ++
b
;

1143 i‡(
	`isodigô
 (*
b
))

1145 
esc_vÆue
 = 
	`o˘tobö
 (*
b
);

1146 
esc_Àngth
 = 1;

1147 ++
b
; 
esc_Àngth
 < 3 && 
	`isodigô
 (*b);

1148 ++
esc_Àngth
, ++
b
)

1150 
esc_vÆue
 =Ésc_vÆuê* 8 + 
	`o˘tobö
 (*
b
);

1152 
	`putch¨
 (
esc_vÆue
);

1153 --
b
;

1155 i‡(*
b
 ='x' && 
	`isxdigô
 (
	`to_uch¨
 (b[1])))

1157 
esc_vÆue
 = 
	`hextobö
 (
b
[1]);

1160 ++
b
;

1161 i‡(
	`isxdigô
 (
	`to_uch¨
 (
b
[1])))

1163 ++
b
;

1164 
esc_vÆue
 =Ésc_vÆuê* 16 + 
	`hextobö
 (*
b
);

1166 
	`putch¨
 (
esc_vÆue
);

1168 i‡(*
b
 == '\0')

1170 
	`îr‹
 (0, 0, 
	`_
("warning: backslashátÉnd of format"));

1171 
	`putch¨
 ('\\');

1173 --
b
;

1177 
	`¥öt_esc_ch¨
 (*
b
);

1182 
	`putch¨
 (*
b
);

1186 
	`‰ì
 (
de°
);

1188 
	`Âuts
 (
åaûög_dñim
, 
°dout
);

1190  
Áû
;

1191 
	}
}

1194 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1195 
	$do_°©fs
 (c⁄° *
fûíame
, c⁄° *
f‹m©
)

1197 
STRUCT_STATVFS
 
°©fsbuf
;

1199 i‡(
	`STREQ
 (
fûíame
, "-"))

1201 
	`îr‹
 (0, 0, 
	`_
("using %sÅo denote standard input doesÇot work"

1202 " i¿fûêsy°em mode"), 
	`quŸe
 (
fûíame
));

1203  
Ál£
;

1206 i‡(
	`STATFS
 (
fûíame
, &
°©fsbuf
) != 0)

1208 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannotÑead file system information for %s"),

1209 
	`quŸe
 (
fûíame
));

1210  
Ál£
;

1213 
boﬁ
 
Áû
 = 
	`¥öt_ô
 (
f‹m©
, 
fûíame
, 
¥öt_°©fs
, &
°©fsbuf
);

1214  ! 
Áû
;

1215 
	}
}

1218 
boﬁ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1219 
	$do_°©
 (c⁄° *
fûíame
, c⁄° *
f‹m©
,

1220 c⁄° *
f‹m©2
)

1222 
°©
 
°©buf
;

1224 i‡(
	`STREQ
 (
fûíame
, "-"))

1226 i‡(
	`f°©
 (
STDIN_FILENO
, &
°©buf
) != 0)

1228 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot stat standard input"));

1229  
Ál£
;

1235 i‡((
fﬁlow_löks


1236 ? 
	`°©
 (
fûíame
, &
°©buf
)

1237 : 
	`l°©
 (
fûíame
, &
°©buf
)) != 0)

1239 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
fûíame
));

1240  
Ál£
;

1243 i‡(
	`S_ISBLK
 (
°©buf
.
°_mode
Ë|| 
	`S_ISCHR
 (statbuf.st_mode))

1244 
f‹m©
 = 
f‹m©2
;

1246 
boﬁ
 
Áû
 = 
	`¥öt_ô
 (
f‹m©
, 
fûíame
, 
¥öt_°©
, &
°©buf
);

1247  ! 
Áû
;

1248 
	}
}

1253 
	$deÁu…_f‹m©
 (
boﬁ
 
fs
, boﬁ 
ãr£
, boﬁ 
devi˚
)

1255 *
f‹m©
;

1256 i‡(
fs
)

1258 i‡(
ãr£
)

1259 
f‹m©
 = 
	`x°rdup
 ("%n %i %l %t %s %S %b %f %a %c %d\n");

1264 
f‹m©
 = 
	`x°rdup
 (
	`_
(" File: \"%n\"\n"

1273 i‡(
ãr£
)

1275 i‡(0 < 
	`is_£löux_íabÀd
 ())

1276 
f‹m©
 = 
	`x°rdup
 ("%n %s %b %f %u %g %D %i %h %t %T"

1279 
f‹m©
 = 
	`x°rdup
 ("%n %s %b %f %u %g %D %i %h %t %T"

1284 *
ãmp
;

1287 
f‹m©
 = 
	`x°rdup
 (
	`_
("\
: %N\n\
: %-10s\tBlocks: %-10b IO Block: %-6o %F\n\
"));

1292 
ãmp
 = 
f‹m©
;

1293 i‡(
devi˚
)

1297 
f‹m©
 = 
	`xa•rötf
 ("%s%s", f‹m©, 
	`_
("\
" "Device: %Dh/%dd\tInode: %-10i Links: %-5h DeviceÅype: %t,%T\n\
"));

1305 
f‹m©
 = 
	`xa•rötf
 ("%s%s", f‹m©, 
	`_
("\
" "Device: %Dh/%dd\tInode: %-10i Links: %h\n\
"));

1309 
	`‰ì
 (
ãmp
);

1311 
ãmp
 = 
f‹m©
;

1314 
f‹m©
 = 
	`xa•rötf
 ("%s%s", f‹m©, 
	`_
("\
" "Access: (%04a/%10.10A) Uid: (%5u/%8U) Gid: (%5g/%8G)\n\
"));

1317 
	`‰ì
 (
ãmp
);

1319 i‡(0 < 
	`is_£löux_íabÀd
 ())

1321 
ãmp
 = 
f‹m©
;

1324 
f‹m©
 = 
	`xa•rötf
 ("%s%s", f‹m©, 
	`_
("Context: %C\n"));

1325 
	`‰ì
 (
ãmp
);

1328 
ãmp
 = 
f‹m©
;

1331 
f‹m©
 = 
	`xa•rötf
 ("%s%s", format,

1332 
	`_
("Access: %x\n"

1336 
	`‰ì
 (
ãmp
);

1339  
f‹m©
;

1340 
	}
}

1343 
	$ußge
 (
°©us
)

1345 i‡(
°©us
 !
EXIT_SUCCESS
)

1346 
	`emô_åy_hñp
 ();

1349 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

1350 
	`Âuts
 (
	`_
("\
 fûê‹ fûêsy°em sètus.\n\
"), 
°dout
);

1354 
	`emô_m™d©‹y_¨g_nŸe
 ();

1356 
	`Âuts
 (
	`_
("\
-L, --dîe„ªn˚ fﬁlowÜöks\n\
-f, --fûe-sy°em di•œy fûêsy°em sètu†ö°ód o‡fûê°©us\n\
"), 
°dout
);

1360 
	`Âuts
 (
	`_
("\
-¯ --f‹m©=FORMAT u£Åhê•ecifõd FORMAT in°ód o‡thêdeÁu…;\n\
áÇewlöêa·îÉach u£ o‡FORMAT\n\
--¥ötf=FORMATÜikê--f‹m©, buàöãΩªàback¶ashÉsˇ≥s,\n\
 dÿnŸ ouçuà®m™d©‹yÅøûögÇewlöe.\n\
 you w™à®√wlöe, in˛udê\\¿ö FORMAT\n\
-t, --ãr£Öröàthêöf‹m©i⁄ i¿ãr£ f‹m\n\
"), 
°dout
);

1368 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

1369 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

1371 
	`Âuts
 (
	`_
("\n\
 vÆid f‹m© sequí˚†f‹ fûe†(wôhouà--fûe-sy°em):\n\
\n\
%®ác˚s†right†ö o˘Æ\n\
%Aác˚s†right†ö hum™ÑódabÀ f‹m\n\
%bÇumbî o‡block†Æloˇãd (£ê%B)\n\
%BÅhêsizêö byã†o‡óch blockÑï‹ãd by %b\n\
%C SELöux securôy c⁄ãxà°rög\n\
"), 
°dout
);

1380 
	`Âuts
 (
	`_
("\
%d devi˚Çumbî i¿decimÆ\n\
%D devi˚Çumbî i¿hex\n\
%‡Ñaw modêö hex\n\
%F fûêty≥\n\
%g grou∞ID o‡ow√r\n\
%G grou∞«mêo‡ow√r\n\
"), 
°dout
);

1388 
	`Âuts
 (
	`_
("\
%hÇumbî o‡h¨dÜöks\n\
%ò inodênumbî\n\
%m mou¡Öoöt\n\
%¿ fûê«me\n\
%N quŸed fûê«mêwôh dîe„ªn˚ i‡symbﬁi¯lök\n\
%ÿ o±imÆ I/OÅøns„∏sizêhöt\n\
%†ÅŸÆ size, i¿byãs\n\
%à maj‹ devi˚Åy≥ i¿hex\n\
%T mö‹ devi˚Åy≥ i¿hex\n\
"), 
°dout
);

1399 
	`Âuts
 (
	`_
("\
%u u£∏ID o‡ow√r\n\
%U u£∏«mêo‡ow√r\n\
%wÅimêo‡fûêbúth, hum™-ªadabÀ; - i‡unknown\n\
%WÅimêo‡fûêbúth, sec⁄d†sö˚ Epoch; 0 i‡unknown\n\
%xÅimêo‡œ°ác˚ss, hum™-ªadabÀ\n\
%XÅimêo‡œ°ác˚ss, sec⁄d†sö˚ Epoch\n\
%yÅimêo‡œ° modifiˇti⁄, hum™-ªadabÀ\n\
%YÅimêo‡œ° modifiˇti⁄, sec⁄d†sö˚ Epoch\n\
%zÅimêo‡œ° ch™ge, hum™-ªadabÀ\n\
%ZÅimêo‡œ° ch™ge, sec⁄d†sö˚ Epoch\n\
\n\
"), 
°dout
);

1413 
	`Âuts
 (
	`_
("\
 f‹m© sequí˚†f‹ fûêsy°ems:\n\
\n\
%® fªêblock†avaûabÀÅÿn⁄-su≥ru£r\n\
%bÅŸÆ d©®block†ö fûêsy°em\n\
%¯ÅŸÆ fûênode†ö fûêsy°em\n\
%d fªêfûênode†ö fûêsy°em\n\
%‡ fªêblock†ö fûêsy°em\n\
"), 
°dout
);

1422 
	`Âuts
 (
	`_
("\
%ò fûêsy°em ID i¿hex\n\
%» maximumÜígth o‡fûíames\n\
%¿ fûê«me\n\
%† block sizê(f‹ fa°îÅøns„rs)\n\
%S fundamíè»block sizê(f‹ block cou¡s)\n\
%à fûêsy°emÅy≥ i¿hex\n\
%T fûêsy°emÅy≥ i¿hum™ÑódabÀ f‹m\n\
"), 
°dout
);

1431 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

1432 
	`emô_™cûœry_öfo
 ();

1434 
	`exô
 (
°©us
);

1435 
	}
}

1438 
	$maö
 (
¨gc
, *
¨gv
[])

1440 
c
;

1441 
i
;

1442 
boﬁ
 
fs
 = 
Ál£
;

1443 
boﬁ
 
ãr£
 = 
Ál£
;

1444 *
f‹m©
 = 
NULL
;

1445 *
f‹m©2
;

1446 
boﬁ
 
ok
 = 
åue
;

1448 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1449 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1450 
	`£éoˇÀ
 (
LC_ALL
, "");

1451 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1452 
	`ãxtdomaö
 (
PACKAGE
);

1454 
lc⁄v
 c⁄° *
loˇÀ
 = 
	`loˇÀc⁄v
 ();

1455 
decimÆ_poöt
 = (
loˇÀ
->decimal_point[0] ?Üocale->decimal_point : ".");

1456 
decimÆ_poöt_Àn
 = 
	`°æí
 (
decimÆ_poöt
);

1458 
	`©exô
 (
˛o£_°dout
);

1460 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "c:fLt", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

1462 
c
)

1464 
PRINTF_OPTION
:

1465 
f‹m©
 = 
›èrg
;

1466 
öãΩªt_back¶ash_esˇ≥s
 = 
åue
;

1467 
åaûög_dñim
 = "";

1471 
f‹m©
 = 
›èrg
;

1472 
öãΩªt_back¶ash_esˇ≥s
 = 
Ál£
;

1473 
åaûög_dñim
 = "\n";

1477 
fﬁlow_löks
 = 
åue
;

1481 
fs
 = 
åue
;

1485 
ãr£
 = 
åue
;

1488 
ˇ£_GETOPT_HELP_CHAR
;

1490 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1493 
	`ußge
 (
EXIT_FAILURE
);

1497 i‡(
¨gc
 =
›töd
)

1499 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

1500 
	`ußge
 (
EXIT_FAILURE
);

1503 i‡(
f‹m©
)

1504 
f‹m©2
 = 
f‹m©
;

1507 
f‹m©
 = 
	`deÁu…_f‹m©
 (
fs
, 
ãr£
, 
Ál£
);

1508 
f‹m©2
 = 
	`deÁu…_f‹m©
 (
fs
, 
ãr£
, 
åue
);

1511 
i
 = 
›töd
; i < 
¨gc
; i++)

1512 
ok
 &(
fs


1513 ? 
	`do_°©fs
 (
¨gv
[
i
], 
f‹m©
)

1514 : 
	`do_°©
 (
¨gv
[
i
], 
f‹m©
, 
f‹m©2
));

1516 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1517 
	}
}

	@stdbuf.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<as£π.h
>

25 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"fûíameˇt.h
"

28 
	~"quŸe.h
"

29 
	~"xªadlök.h
"

30 
	~"x°πﬁ.h
"

31 
	~"c-˘y≥.h
"

34 
	#PROGRAM_NAME
 "°dbuf"

	)

35 
	#LIB_NAME
 "lib°dbuf.so"

	)

37 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("Padøig Bødy", "P\303\241døig Bødy")

	)

39 *
	g¥ogøm_∑th
;

43 
size_t
 
	msize
;

44 
	m›tc
;

45 *
	m›èrg
;

46 } 
	g°dbuf
[3];

48 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

50 {"öput", 
ªquúed_¨gumít
, 
NULL
, 'i'},

51 {"ouçut", 
ªquúed_¨gumít
, 
NULL
, 'o'},

52 {"îr‹", 
ªquúed_¨gumít
, 
NULL
, 'e'},

53 {
GETOPT_HELP_OPTION_DECL
},

54 {
GETOPT_VERSION_OPTION_DECL
},

55 {
NULL
, 0, NULL, 0}

65 
	$∑r£_size
 (c⁄° *
°r
, 
size_t
 *
size
)

67 
uötmax_t
 
tmp_size
;

68 
°πﬁ_îr‹
 
e
 = 
	`x°πoumax
 (
°r
, 
NULL
, 10, &
tmp_size
, "EGkKMPTYZ0");

69 i‡(
e
 =
LONGINT_OK
 && 
tmp_size
 > 
SIZE_MAX
)

70 
e
 = 
LONGINT_OVERFLOW
;

72 i‡(
e
 =
LONGINT_OK
)

74 
î∫o
 = 0;

75 *
size
 = 
tmp_size
;

79 
î∫o
 = (
e
 =
LONGINT_OVERFLOW
 ? 
EOVERFLOW
 : 0);

81 
	}
}

84 
	$ußge
 (
°©us
)

86 i‡(
°©us
 !
EXIT_SUCCESS
)

87 
	`emô_åy_hñp
 ();

90 
	`¥ötf
 (
	`_
("Ußge: %†OPTION... COMMAND\n"), 
¥ogøm_«me
);

91 
	`Âuts
 (
	`_
("\
 COMMAND, wôh modifõd buf„rög o≥øti⁄†f‹ it†°™d¨d såóms.\n\
"), 
°dout
);

95 
	`emô_m™d©‹y_¨g_nŸe
 ();

97 
	`Âuts
 (
	`_
("\
-i, --öput=MODEádju° sènd¨d i≈uà°ªam buf„rög\n\
-o, --ouçut=MODEádju° sènd¨d ouçuà°ªam buf„rög\n\
-e, --îr‹=MODEádju° sènd¨dÉº‹ såóm buf„rög\n\
"), 
°dout
);

102 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

103 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

104 
	`Âuts
 (
	`_
("\n\
 MODE i†'L'Åhêc‹ª•⁄dög såóm wû»bêlöêbuf„ªd.\n\
 o±i⁄ i†övÆid wôh sènd¨d i≈ut.\n"), 
°dout
);

107 
	`Âuts
 (
	`_
("\n\
 MODE i†'0'Åhêc‹ª•⁄dög såóm wû»bêunbuf„ªd.\n\
"), 
°dout
);

110 
	`Âuts
 (
	`_
("\n\
 MODE i†®numbî which may bêfﬁlowed by o√ o‡thêfﬁlowög:\n\
 1000, K 1024, MB 1000*1000, M 1024*1024,ánd sÿ⁄ f‹ G, T, P, E, Z, Y.\n\
Åhi†ˇ£Åhêc‹ª•⁄dög såóm wû»bêfuŒy buf„ªd wôhÅhêbuf„r\n\
 sëÅÿMODE byãs.\n\
"), 
°dout
);

116 
	`Âuts
 (
	`_
("\n\
: I‡COMMANDádju°†thêbuf„rög o‡ô†°™d¨d såóm†('ãe' d€s\n\
É.g.ËthíÅh© wû»ovîridêc‹ª•⁄dög sëtög†ch™ged by '°dbuf'.\n\
 somêfûãr†÷ikê'dd'ánd 'ˇt'Étc.Ëd⁄'àu£ såóm†f‹ I/O,\n\
áªÅhu†u«f„˘ed by '°dbuf' sëtögs.\n\
"), 
°dout
);

122 
	`emô_™cûœry_öfo
 ();

124 
	`exô
 (
°©us
);

125 
	}
}

134 
	$£t_¥ogøm_∑th
 (c⁄° *
¨g
)

136 i‡(
	`°rchr
 (
¨g
, '/'))

138 
¥ogøm_∑th
 = 
	`dú_«me
 (
¨g
);

142 *
∑th
 = 
	`xªadlök
 ("/proc/self/exe");

143 i‡(
∑th
)

144 
¥ogøm_∑th
 = 
	`dú_«me
 (
∑th
);

145 i‡((
∑th
 = 
	`gëív
 ("PATH")))

147 *
dú
;

148 
∑th
 = 
	`x°rdup
 (path);

149 
dú
 = 
	`°πok
 (
∑th
, ":"); dú !
NULL
; dir = strtok (NULL, ":"))

151 *
ˇndid©e
 = 
	`fûe_«me_c⁄ˇt
 (
dú
, 
¨g
, 
NULL
);

152 i‡(
	`ac˚ss
 (
ˇndid©e
, 
X_OK
) == 0)

154 
¥ogøm_∑th
 = 
	`dú_«me
 (
ˇndid©e
);

155 
	`‰ì
 (
ˇndid©e
);

158 
	`‰ì
 (
ˇndid©e
);

161 
	`‰ì
 (
∑th
);

163 
	}
}

166 
	$›tc_to_fûío
 (
c
)

168 
ªt
 = -1;

170 
c
)

173 
ªt
 = 
STDERR_FILENO
;

176 
ªt
 = 
STDIN_FILENO
;

179 
ªt
 = 
STDOUT_FILENO
;

183  
ªt
;

184 
	}
}

187 
	$£t_LD_PRELOAD
 ()

189 
ªt
;

190 *
ﬁd_libs
 = 
	`gëív
 ("LD_PRELOAD");

191 *
LD_PRELOAD
;

199 c⁄° *c⁄° 
£¨ch_∑th
[] = {

200 
¥ogøm_∑th
,

201 
PKGLIBEXECDIR
,

202 
NULL


205 c⁄° *c⁄° *
∑th
 = 
£¨ch_∑th
;

206 *
lib°dbuf
;

208 
åue
)

210 
°©
 
sb
;

212 i‡(!**
∑th
)

214 
lib°dbuf
 = 
	`x°rdup
 (
LIB_NAME
);

217 
ªt
 = 
	`a•rötf
 (&
lib°dbuf
, "%s/%s", *
∑th
, 
LIB_NAME
);

218 i‡(
ªt
 < 0)

219 
	`xÆloc_dõ
 ();

220 i‡(
	`°©
 (
lib°dbuf
, &
sb
) == 0)

222 
	`‰ì
 (
lib°dbuf
);

224 ++
∑th
;

225 i‡–! *
∑th
)

226 
	`îr‹
 (
EXIT_CANCELED
, 0, 
	`_
("ÁûedÅÿföd %s"), 
	`quŸe
 (
LIB_NAME
));

231 i‡(
ﬁd_libs
)

232 
ªt
 = 
	`a•rötf
 (&
LD_PRELOAD
, "LD_PRELOAD=%s:%s", 
ﬁd_libs
, 
lib°dbuf
);

234 
ªt
 = 
	`a•rötf
 (&
LD_PRELOAD
, "LD_PRELOAD=%s", 
lib°dbuf
);

236 i‡(
ªt
 < 0)

237 
	`xÆloc_dõ
 ();

239 
	`‰ì
 (
lib°dbuf
);

241 
ªt
 = 
	`puãnv
 (
LD_PRELOAD
);

243 i‡(
ªt
 != 0)

245 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
,

246 
	`_
("failedÅo updateÅheÉnvironment with %s"),

247 
	`quŸe
 (
LD_PRELOAD
));

249 
	}
}

254 
	$£t_lib°dbuf_›ti⁄s
 ()

256 
i
;

258 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
°dbuf
); i++)

260 i‡(
°dbuf
[
i
].
›èrg
)

262 *
v¨
;

263 
ªt
;

265 i‡(*
°dbuf
[
i
].
›èrg
 == 'L')

266 
ªt
 = 
	`a•rötf
 (&
v¨
, "%s%c=L", "_STDBUF_",

267 
	`touµî
 (
°dbuf
[
i
].
›tc
));

269 
ªt
 = 
	`a•rötf
 (&
v¨
, "%s%c=%" 
PRIuMAX
, "_STDBUF_",

270 
	`touµî
 (
°dbuf
[
i
].
›tc
),

271 (
uötmax_t
Ë
°dbuf
[
i
].
size
);

272 i‡(
ªt
 < 0)

273 
	`xÆloc_dõ
 ();

275 i‡(
	`puãnv
 (
v¨
) != 0)

277 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
,

278 
	`_
("failedÅo updateÅheÉnvironment with %s"),

279 
	`quŸe
 (
v¨
));

283 
	}
}

286 
	$maö
 (
¨gc
, **
¨gv
)

288 
c
;

290 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

291 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

292 
	`£éoˇÀ
 (
LC_ALL
, "");

293 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

294 
	`ãxtdomaö
 (
PACKAGE
);

296 
	`öôülize_exô_Áûuª
 (
EXIT_CANCELED
);

297 
	`©exô
 (
˛o£_°dout
);

299 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+i:o:e:", 
l⁄g›ts
, 
NULL
)) != -1)

301 
›t_fûío
;

303 
c
)

309 
›t_fûío
 = 
	`›tc_to_fûío
 (
c
);

310 
	`as£π
 (0 <
›t_fûío
 && o±_fûíÿ< 
	`ARRAY_CARDINALITY
 (
°dbuf
));

311 
°dbuf
[
›t_fûío
].
›tc
 = 
c
;

312 
	`c_is•a˚
 (*
›èrg
))

313 
›èrg
++;

314 
°dbuf
[
›t_fûío
].
›èrg
 = optarg;

315 i‡(
c
 ='i' && *
›èrg
 == 'L')

320 
	`îr‹
 (0, 0, 
	`_
("line buffering stdin is meaningless"));

321 
	`ußge
 (
EXIT_CANCELED
);

324 i‡(!
	`STREQ
 (
›èrg
, "L")

325 && 
	`∑r£_size
 (
›èrg
, &
°dbuf
[
›t_fûío
].
size
) == -1)

326 
	`îr‹
 (
EXIT_CANCELED
, 
î∫o
, 
	`_
("övÆid modê%s"), 
	`quŸe
 (
›èrg
));

330 
ˇ£_GETOPT_HELP_CHAR
;

332 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

335 
	`ußge
 (
EXIT_CANCELED
);

339 
¨gv
 +
›töd
;

340 
¨gc
 -
›töd
;

343 i‡(
¨gc
 < 1)

345 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

346 
	`ußge
 (
EXIT_CANCELED
);

351 
	`£t_lib°dbuf_›ti⁄s
 ();

355 
	`£t_¥ogøm_∑th
 (
¥ogøm_«me
);

356 i‡(!
¥ogøm_∑th
)

357 
¥ogøm_∑th
 = 
	`x°rdup
 (
PKGLIBDIR
);

358 
	`£t_LD_PRELOAD
 ();

359 
	`‰ì
 (
¥ogøm_∑th
);

361 
	`execvp
 (*
¨gv
,árgv);

364 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

365 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿru¿comm™d %s"), 
	`quŸe
 (
¨gv
[0]));

366 
	`exô
 (
exô_°©us
);

368 
	}
}

	@stty.c

30 
	~<c⁄fig.h
>

32 #ifde‡
TERMIOS_NEEDS_XOPEN_SOURCE


33 
	#_XOPEN_SOURCE


	)

36 
	~<°dio.h
>

37 
	~<sys/ty≥s.h
>

39 
	~<ãrmios.h
>

40 #i‡
HAVE_STROPTS_H


41 
	~<°r›ts.h
>

43 
	~<sys/io˘l.h
>

45 #ifde‡
WINSIZE_IN_PTEM


46 
	~<sys/°ªam.h
>

47 
	~<sys/±em.h
>

49 #ifde‡
GWINSZ_IN_SYS_PTY


50 
	~<sys/ây.h
>

51 
	~<sys/±y.h
>

53 
	~<gë›t.h
>

54 
	~<°d¨g.h
>

55 
	~<as£π.h
>

57 
	~"sy°em.h
"

58 
	~"îr‹.h
"

59 
	~"fd-ª›í.h
"

60 
	~"quŸe.h
"

61 
	~"x°πﬁ.h
"

64 
	#PROGRAM_NAME
 "°ty"

	)

66 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

68 #i‚de‡
_POSIX_VDISABLE


69 
	#_POSIX_VDISABLE
 0

	)

72 
	#C⁄åﬁ
(
c
Ë((cË& 0x1f)

	)

74 #i‚de‡
CINTR


75 
	#CINTR
 
	`C⁄åﬁ
 ('c')

	)

77 #i‚de‡
CQUIT


78 
	#CQUIT
 28

	)

80 #i‚de‡
CERASE


81 
	#CERASE
 127

	)

83 #i‚de‡
CKILL


84 
	#CKILL
 
	`C⁄åﬁ
 ('u')

	)

86 #i‚de‡
CEOF


87 
	#CEOF
 
	`C⁄åﬁ
 ('d')

	)

89 #i‚de‡
CEOL


90 
	#CEOL
 
_POSIX_VDISABLE


	)

92 #i‚de‡
CSTART


93 
	#CSTART
 
	`C⁄åﬁ
 ('q')

	)

95 #i‚de‡
CSTOP


96 
	#CSTOP
 
	`C⁄åﬁ
 ('s')

	)

98 #i‚de‡
CSUSP


99 
	#CSUSP
 
	`C⁄åﬁ
 ('z')

	)

101 #i‡
deföed
 
VEOL2
 && !deföed 
CEOL2


102 
	#CEOL2
 
_POSIX_VDISABLE


	)

106 #i‡
deföed
 
VSWTC
 && !deföed 
VSWTCH


107 
	#VSWTCH
 
VSWTC


	)

110 #i‡
deföed
 
VSUSP
 && !deföed 
VSWTCH


111 
	#VSWTCH
 
VSUSP


	)

112 #i‡
deföed
 
CSUSP
 && !deföed 
CSWTCH


113 
	#CSWTCH
 
CSUSP


	)

116 #i‡
deföed
 
VSWTCH
 && !deföed 
CSWTCH


117 
	#CSWTCH
 
_POSIX_VDISABLE


	)

122 #i‡
deföed
 
__•¨c__
 && deföed 
__svr4__


123 #unde‡
CSWTCH


124 
	#CSWTCH
 
_POSIX_VDISABLE


	)

127 #i‡
deföed
 
VWERSE
 && !deföed 
VWERASE


128 
	#VWERASE
 
VWERSE


	)

130 #i‡
deföed
 
VDSUSP
 && !deföed 
CDSUSP


131 
	#CDSUSP
 
	`C⁄åﬁ
 ('y')

	)

133 #i‡!
deföed
 
VREPRINT
 && deföed 
VRPRNT


134 
	#VREPRINT
 
VRPRNT


	)

136 #i‡
deföed
 
VREPRINT
 && !deföed 
CRPRNT


137 
	#CRPRNT
 
	`C⁄åﬁ
 ('r')

	)

139 #i‡
deföed
 
CREPRINT
 && !deföed 
CRPRNT


140 
	#CRPRNT
 
	`C⁄åﬁ
 ('r')

	)

142 #i‡
deföed
 
VWERASE
 && !deföed 
CWERASE


143 
	#CWERASE
 
	`C⁄åﬁ
 ('w')

	)

145 #i‡
deföed
 
VLNEXT
 && !deföed 
CLNEXT


146 
	#CLNEXT
 
	`C⁄åﬁ
 ('v')

	)

148 #i‡
deföed
 
VDISCARD
 && !deföed 
VFLUSHO


149 
	#VFLUSHO
 
VDISCARD


	)

151 #i‡
deföed
 
VFLUSH
 && !deföed 
VFLUSHO


152 
	#VFLUSHO
 
VFLUSH


	)

154 #i‡
deföed
 
CTLECH
 && !deföed 
ECHOCTL


155 
	#ECHOCTL
 
CTLECH


	)

157 #i‡
deföed
 
TCTLECH
 && !deföed 
ECHOCTL


158 
	#ECHOCTL
 
TCTLECH


	)

160 #i‡
deföed
 
CRTKIL
 && !deföed 
ECHOKE


161 
	#ECHOKE
 
CRTKIL


	)

163 #i‡
deföed
 
VFLUSHO
 && !deföed 
CFLUSHO


164 
	#CFLUSHO
 
	`C⁄åﬁ
 ('o')

	)

166 #i‡
deföed
 
VSTATUS
 && !deföed 
CSTATUS


167 
	#CSTATUS
 
	`C⁄åﬁ
 ('t')

	)

171 
	e•ìd_£âög


173 
	möput_•ìd
, 
	mouçut_•ìd
, 
	mbŸh_•ìds


177 
	eouçut_ty≥


179 
	mch™ged
, 
	mÆl
, 
	mªcovîabÀ


183 
	emode_ty≥


185 
	mc⁄åﬁ
, 
	möput
, 
	mouçut
, 
	mloˇl
, 
	mcombö©i⁄


189 
	#SANE_SET
 1

	)

190 
	#SANE_UNSET
 2

	)

191 
	#REV
 4

	)

192 
	#OMIT
 8

	)

195 
	smode_öfo


197 c⁄° *
	m«me
;

198 
mode_ty≥
 
	mty≥
;

199 
	mÊags
;

200 
	mbôs
;

201 
	mmask
;

204 
mode_öfo
 c⁄° 
	gmode_öfo
[] =

206 {"∑ªnb", 
c⁄åﬁ
, 
REV
, 
PARENB
, 0},

207 {"∑rodd", 
c⁄åﬁ
, 
REV
, 
PARODD
, 0},

208 {"cs5", 
c⁄åﬁ
, 0, 
CS5
, 
CSIZE
},

209 {"cs6", 
c⁄åﬁ
, 0, 
CS6
, 
CSIZE
},

210 {"cs7", 
c⁄åﬁ
, 0, 
CS7
, 
CSIZE
},

211 {"cs8", 
c⁄åﬁ
, 0, 
CS8
, 
CSIZE
},

212 {"hup˛", 
c⁄åﬁ
, 
REV
, 
HUPCL
, 0},

213 {"hup", 
c⁄åﬁ
, 
REV
 | 
OMIT
, 
HUPCL
, 0},

214 {"c°›b", 
c⁄åﬁ
, 
REV
, 
CSTOPB
, 0},

215 {"¸ód", 
c⁄åﬁ
, 
SANE_SET
 | 
REV
, 
CREAD
, 0},

216 {"˛oˇl", 
c⁄åﬁ
, 
REV
, 
CLOCAL
, 0},

217 #ifde‡
CRTSCTS


218 {"¸ts˘s", 
c⁄åﬁ
, 
REV
, 
CRTSCTS
, 0},

220 #ifde‡
CDTRDSR


221 {"cdåd§", 
c⁄åﬁ
, 
REV
, 
CDTRDSR
, 0},

224 {"ignbrk", 
öput
, 
SANE_UNSET
 | 
REV
, 
IGNBRK
, 0},

225 {"brköt", 
öput
, 
SANE_SET
 | 
REV
, 
BRKINT
, 0},

226 {"ig≈¨", 
öput
, 
REV
, 
IGNPAR
, 0},

227 {"∑rmrk", 
öput
, 
REV
, 
PARMRK
, 0},

228 {"öpck", 
öput
, 
REV
, 
INPCK
, 0},

229 {"i°rù", 
öput
, 
REV
, 
ISTRIP
, 0},

230 {"öl¸", 
öput
, 
SANE_UNSET
 | 
REV
, 
INLCR
, 0},

231 {"ign¸", 
öput
, 
SANE_UNSET
 | 
REV
, 
IGNCR
, 0},

232 {"i¸∆", 
öput
, 
SANE_SET
 | 
REV
, 
ICRNL
, 0},

233 {"ix⁄", 
öput
, 
REV
, 
IXON
, 0},

234 {"ixoff", 
öput
, 
SANE_UNSET
 | 
REV
, 
IXOFF
, 0},

235 {"èndem", 
öput
, 
REV
 | 
OMIT
, 
IXOFF
, 0},

236 #ifde‡
IUCLC


237 {"iu˛c", 
öput
, 
SANE_UNSET
 | 
REV
, 
IUCLC
, 0},

239 #ifde‡
IXANY


240 {"ix™y", 
öput
, 
SANE_UNSET
 | 
REV
, 
IXANY
, 0},

242 #ifde‡
IMAXBEL


243 {"imaxbñ", 
öput
, 
SANE_SET
 | 
REV
, 
IMAXBEL
, 0},

245 #ifde‡
IUTF8


246 {"iutf8", 
öput
, 
SANE_UNSET
 | 
REV
, 
IUTF8
, 0},

249 {"›o°", 
ouçut
, 
SANE_SET
 | 
REV
, 
OPOST
, 0},

250 #ifde‡
OLCUC


251 {"ﬁcuc", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
OLCUC
, 0},

253 #ifde‡
OCRNL


254 {"o¸∆", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
OCRNL
, 0},

256 #ifde‡
ONLCR


257 {"⁄l¸", 
ouçut
, 
SANE_SET
 | 
REV
, 
ONLCR
, 0},

259 #ifde‡
ONOCR


260 {"⁄o¸", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
ONOCR
, 0},

262 #ifde‡
ONLRET


263 {"⁄Ãë", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
ONLRET
, 0},

265 #ifde‡
OFILL


266 {"ofûl", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
OFILL
, 0},

268 #ifde‡
OFDEL


269 {"ofdñ", 
ouçut
, 
SANE_UNSET
 | 
REV
, 
OFDEL
, 0},

271 #ifde‡
NLDLY


272 {"∆1", 
ouçut
, 
SANE_UNSET
, 
NL1
, 
NLDLY
},

273 {"∆0", 
ouçut
, 
SANE_SET
, 
NL0
, 
NLDLY
},

275 #ifde‡
CRDLY


276 {"¸3", 
ouçut
, 
SANE_UNSET
, 
CR3
, 
CRDLY
},

277 {"¸2", 
ouçut
, 
SANE_UNSET
, 
CR2
, 
CRDLY
},

278 {"¸1", 
ouçut
, 
SANE_UNSET
, 
CR1
, 
CRDLY
},

279 {"¸0", 
ouçut
, 
SANE_SET
, 
CR0
, 
CRDLY
},

281 #ifde‡
TABDLY


282 #ifde‡
TAB3


283 {"èb3", 
ouçut
, 
SANE_UNSET
, 
TAB3
, 
TABDLY
},

285 #ifde‡
TAB2


286 {"èb2", 
ouçut
, 
SANE_UNSET
, 
TAB2
, 
TABDLY
},

288 #ifde‡
TAB1


289 {"èb1", 
ouçut
, 
SANE_UNSET
, 
TAB1
, 
TABDLY
},

291 #ifde‡
TAB0


292 {"èb0", 
ouçut
, 
SANE_SET
, 
TAB0
, 
TABDLY
},

295 #ifde‡
OXTABS


296 {"èb3", 
ouçut
, 
SANE_UNSET
, 
OXTABS
, 0},

299 #ifde‡
BSDLY


300 {"bs1", 
ouçut
, 
SANE_UNSET
, 
BS1
, 
BSDLY
},

301 {"bs0", 
ouçut
, 
SANE_SET
, 
BS0
, 
BSDLY
},

303 #ifde‡
VTDLY


304 {"vt1", 
ouçut
, 
SANE_UNSET
, 
VT1
, 
VTDLY
},

305 {"vt0", 
ouçut
, 
SANE_SET
, 
VT0
, 
VTDLY
},

307 #ifde‡
FFDLY


308 {"ff1", 
ouçut
, 
SANE_UNSET
, 
FF1
, 
FFDLY
},

309 {"ff0", 
ouçut
, 
SANE_SET
, 
FF0
, 
FFDLY
},

312 {"isig", 
loˇl
, 
SANE_SET
 | 
REV
, 
ISIG
, 0},

313 {"iˇn⁄", 
loˇl
, 
SANE_SET
 | 
REV
, 
ICANON
, 0},

314 #ifde‡
IEXTEN


315 {"õxãn", 
loˇl
, 
SANE_SET
 | 
REV
, 
IEXTEN
, 0},

317 {"echo", 
loˇl
, 
SANE_SET
 | 
REV
, 
ECHO
, 0},

318 {"ech€", 
loˇl
, 
SANE_SET
 | 
REV
, 
ECHOE
, 0},

319 {"¸ãø£", 
loˇl
, 
REV
 | 
OMIT
, 
ECHOE
, 0},

320 {"echok", 
loˇl
, 
SANE_SET
 | 
REV
, 
ECHOK
, 0},

321 {"ech⁄l", 
loˇl
, 
SANE_UNSET
 | 
REV
, 
ECHONL
, 0},

322 {"noÊsh", 
loˇl
, 
SANE_UNSET
 | 
REV
, 
NOFLSH
, 0},

323 #ifde‡
XCASE


324 {"xˇ£", 
loˇl
, 
SANE_UNSET
 | 
REV
, 
XCASE
, 0},

326 #ifde‡
TOSTOP


327 {"to°›", 
loˇl
, 
SANE_UNSET
 | 
REV
, 
TOSTOP
, 0},

329 #ifde‡
ECHOPRT


330 {"ech›π", 
loˇl
, 
SANE_UNSET
 | 
REV
, 
ECHOPRT
, 0},

331 {"¥ãø£", 
loˇl
, 
REV
 | 
OMIT
, 
ECHOPRT
, 0},

333 #ifde‡
ECHOCTL


334 {"echo˘l", 
loˇl
, 
SANE_SET
 | 
REV
, 
ECHOCTL
, 0},

335 {"˘Àcho", 
loˇl
, 
REV
 | 
OMIT
, 
ECHOCTL
, 0},

337 #ifde‡
ECHOKE


338 {"echoke", 
loˇl
, 
SANE_SET
 | 
REV
, 
ECHOKE
, 0},

339 {"¸tkûl", 
loˇl
, 
REV
 | 
OMIT
, 
ECHOKE
, 0},

342 {"evíp", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

343 {"∑rôy", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

344 {"oddp", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

345 {"∆", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

346 {"ek", 
combö©i⁄
, 
OMIT
, 0, 0},

347 {"ß√", 
combö©i⁄
, 
OMIT
, 0, 0},

348 {"cooked", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

349 {"øw", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

350 {"∑ss8", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

351 {"lôout", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

352 {"cbªak", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

353 #ifde‡
IXANY


354 {"dec˘lq", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

356 #i‡
deföed
 
TABDLY
 || deföed 
OXTABS


357 {"èbs", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

359 #i‡
deföed
 
XCASE
 && deföed 
IUCLC
 && deföed 
OLCUC


360 {"lˇ£", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

361 {"LCASE", 
combö©i⁄
, 
REV
 | 
OMIT
, 0, 0},

363 {"¸t", 
combö©i⁄
, 
OMIT
, 0, 0},

364 {"dec", 
combö©i⁄
, 
OMIT
, 0, 0},

366 {
NULL
, 
c⁄åﬁ
, 0, 0, 0}

370 
	sc⁄åﬁ_öfo


372 c⁄° *
	m«me
;

373 
cc_t
 
	mß√vÆ
;

374 
size_t
 
	moff£t
;

379 
c⁄åﬁ_öfo
 c⁄° 
	gc⁄åﬁ_öfo
[] =

381 {"öå", 
CINTR
, 
VINTR
},

382 {"quô", 
CQUIT
, 
VQUIT
},

383 {"îa£", 
CERASE
, 
VERASE
},

384 {"kûl", 
CKILL
, 
VKILL
},

385 {"eof", 
CEOF
, 
VEOF
},

386 {"eﬁ", 
CEOL
, 
VEOL
},

387 #ifde‡
VEOL2


388 {"eﬁ2", 
CEOL2
, 
VEOL2
},

390 #ifde‡
VSWTCH


391 {"swtch", 
CSWTCH
, 
VSWTCH
},

393 {"°¨t", 
CSTART
, 
VSTART
},

394 {"°›", 
CSTOP
, 
VSTOP
},

395 {"su•", 
CSUSP
, 
VSUSP
},

396 #ifde‡
VDSUSP


397 {"dsu•", 
CDSUSP
, 
VDSUSP
},

399 #ifde‡
VREPRINT


400 {"Ω∫t", 
CRPRNT
, 
VREPRINT
},

402 #ifde‡
CREPRINT


403 {"Ω∫t", 
CRPRNT
, 
CREPRINT
},

406 #ifde‡
VWERASE


407 {"wîa£", 
CWERASE
, 
VWERASE
},

409 #ifde‡
VLNEXT


410 {" ext", 
CLNEXT
, 
VLNEXT
},

412 #ifde‡
VFLUSHO


413 {"Êush", 
CFLUSHO
, 
VFLUSHO
},

415 #ifde‡
VSTATUS


416 {"°©us", 
CSTATUS
, 
VSTATUS
},

420 {"mö", 1, 
VMIN
},

421 {"time", 0, 
VTIME
},

422 {
NULL
, 0, 0}

425 c⁄° *
visibÀ
 (
cc_t
 
ch
);

426 
baud_to_vÆue
 (
•ìd_t
 
•ìd
);

427 
boﬁ
 
ªcovî_mode
 (c⁄° *
¨g
, 
ãrmios
 *
mode
);

428 
s¸ìn_cﬁumns
 ();

429 
boﬁ
 
£t_mode
 (
mode_öfo
 c⁄° *
öfo
, boﬁ 
ªvî£d
,

430 
ãrmios
 *
mode
);

431 
öãgî_¨g
 (c⁄° *
s
, 
max
);

432 
•ìd_t
 
°rög_to_baud
 (c⁄° *
¨g
);

433 
tcÊag_t
 *
mode_ty≥_Êag
 (
mode_ty≥
 
ty≥
, 
ãrmios
 *
mode
);

434 
di•œy_Æl
 (
ãrmios
 *
mode
, c⁄° *
devi˚_«me
);

435 
di•œy_ch™ged
 (
ãrmios
 *
mode
);

436 
di•œy_ªcovîabÀ
 (
ãrmios
 *
mode
);

437 
di•œy_£âögs
 (
ouçut_ty≥
 output_type,

438 
ãrmios
 *
mode
,

439 c⁄° *
devi˚_«me
);

440 
di•œy_•ìd
 (
ãrmios
 *
mode
, 
boﬁ
 
Áncy
);

441 
di•œy_wödow_size
 (
boﬁ
 
Áncy
, c⁄° *
devi˚_«me
);

442 
ß√_mode
 (
ãrmios
 *
mode
);

443 
£t_c⁄åﬁ_ch¨
 (
c⁄åﬁ_öfo
 c⁄° *
öfo
,

444 c⁄° *
¨g
,

445 
ãrmios
 *
mode
);

446 
£t_•ìd
 (
•ìd_£âög
 
ty≥
, c⁄° *
¨g
,

447 
ãrmios
 *
mode
);

448 
£t_wödow_size
 (
rows
, 
cﬁs
, c⁄° *
devi˚_«me
);

451 
	gmax_cﬁ
;

454 
	gcuºít_cﬁ
;

456 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

458 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

459 {"ßve", 
no_¨gumít
, 
NULL
, 'g'},

460 {"fûe", 
ªquúed_¨gumít
, 
NULL
, 'F'},

461 {
GETOPT_HELP_OPTION_DECL
},

462 {
GETOPT_VERSION_OPTION_DECL
},

463 {
NULL
, 0, NULL, 0}

466 
	$wøpf
 (c⁄° *
mesßge
, ...)

467 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 1, 2)));

474 
	$wøpf
 (c⁄° *
mesßge
,...)

476 
va_li°
 
¨gs
;

477 *
buf
;

478 
buÊí
;

480 
	`va_°¨t
 (
¨gs
, 
mesßge
);

481 
buÊí
 = 
	`va•rötf
 (&
buf
, 
mesßge
, 
¨gs
);

482 
	`va_íd
 (
¨gs
);

484 i‡(
buÊí
 < 0)

485 
	`xÆloc_dõ
 ();

487 i‡(0 < 
cuºít_cﬁ
)

489 i‡(
max_cﬁ
 - 
cuºít_cﬁ
 < 
buÊí
)

491 
	`putch¨
 ('\n');

492 
cuºít_cﬁ
 = 0;

496 
	`putch¨
 (' ');

497 
cuºít_cﬁ
++;

501 
	`Âuts
 (
buf
, 
°dout
);

502 
	`‰ì
 (
buf
);

503 
cuºít_cﬁ
 +
buÊí
;

504 
	}
}

507 
	$ußge
 (
°©us
)

509 i‡(
°©us
 !
EXIT_SUCCESS
)

510 
	`emô_åy_hñp
 ();

513 
	`¥ötf
 (
	`_
("\
: %s [-F DEVICE | --file=DEVICE] [SETTING]...\n\
: %s [-F DEVICE | --file=DEVICE] [-a|--all]\n\
: %s [-F DEVICE | --file=DEVICE] [-g|--save]\n\
"),

518 
¥ogøm_«me
,Örogram_name,Örogram_name);

519 
	`Âuts
 (
	`_
("\
 o∏ch™gêãrmöÆ ch¨a˘îi°ics.\n\
"), 
°dout
);

523 
	`emô_m™d©‹y_¨g_nŸe
 ();

525 
	`Âuts
 (
	`_
("\
-a, --Æ»ÖröàÆ»cuºíà£âög†ö hum™-ªadabÀ f‹m\n\
-g, --ßvêÖröàÆ»cuºíà£âög†öá sây-ªadabÀ f‹m\n\
-F, --fûe=DEVICE o≥¿™d u£Åhê•ecifõd DEVICE in°ód o‡°dö\n\
"), 
°dout
);

530 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

531 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

532 
	`Âuts
 (
	`_
("\
\n\
 - bef‹êSETTING indiˇã†√g©i⁄. A¿* m¨k†n⁄-POSIX\n\
. Thêundîlyög sy°em deföe†which sëtög†¨êavaûabÀ.\n\
"), 
°dout
);

537 
	`Âuts
 (
	`_
("\
\n\
 ch¨a˘îs:\n\
* dsu• CHAR CHAR wû»£ndáÅîmöÆ st› sig«»⁄˚ i≈uàÊushed\n\
 CHAR CHAR wû»£ndá¿íd o‡fûê—îmö©êthêöput)\n\
 CHAR CHAR wû»ídÅhêlöe\n\
"), 
°dout
);

544 
	`Âuts
 (
	`_
("\
*Éﬁ2 CHARá…î«ã CHAR f‹ÉndögÅhêlöe\n\
 CHAR CHAR wû»îa£Åhêœ° ch¨a˘îÅy≥d\n\
 CHAR CHAR wû»£ndá¿öãºu± sig«l\n\
 CHAR CHAR wû»îa£Åhêcuºíàlöe\n\
"), 
°dout
);

550 
	`Âuts
 (
	`_
("\
*Ü√xàCHAR CHAR wû»íã∏thê√xàch¨a˘î quŸed\n\
 CHAR CHAR wû»£ndá quô sig«l\n\
*Ñ¥¡ CHAR CHAR wû»ªdøwÅhêcuºíàlöe\n\
 CHAR CHAR wû»ª°¨àthêouçuàa·î st›pög it\n\
"), 
°dout
);

556 
	`Âuts
 (
	`_
("\
 CHAR CHAR wû»°›Åhêouçut\n\
 CHAR CHAR wû»£ndáÅîmöÆ st› sig«l\n\
* swtch CHAR CHAR wû»swôchÅÿ®dif„ª¡ shñ»œyî\n\
* wîa£ CHAR CHAR wû»îa£Åhêœ° w‹dÅy≥d\n\
"), 
°dout
);

562 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
 sëÅhêöpuà™d ouçuà•ìd†tÿN bauds\n\
* cﬁ†NÅñ»thêkî√»th©ÅhêãrmöÆ ha†N cﬁumns\n\
* cﬁumn†N samêa†cﬁ†N\n\
"), 
°dout
);

569 
	`Âuts
 (
	`_
("\
 N sëÅhêöpuà•ìdÅÿN\n\
*ÜöêN u£ÜöêdiscùlöêN\n\
 N wôh -iˇn⁄, së N ch¨a˘î†möimum f‹á com∂ëedÑód\n\
 N sëÅhêouçuà•ìdÅÿN\n\
"), 
°dout
);

575 
	`Âuts
 (
	`_
("\
*Ñow†NÅñ»thêkî√»th©ÅhêãrmöÆ ha†NÑows\n\
* sizêÖröàthênumbî o‡row†™d cﬁumn†acc‹dögÅÿthêkî√l\n\
ÖröàthêãrmöÆ s≥ed\n\
 N wôh -iˇn⁄, sëÑódÅimeouào‡NÅíth†o‡®£c⁄d\n\
"), 
°dout
);

581 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
[-]˛oˇ» dißbÀ modem c⁄åﬁ sig«ls\n\
[-]¸ódáŒow i≈uàtÿbêª˚ived\n\
* [-]¸ts˘†É«bÀ RTS/CTS h™dshakög\n\
* [-]cdåd§É«bÀ DTR/DSR h™dshakög\n\
 së ch¨a˘î sizêtÿN bôs, N i¿[5..8]\n\
"), 
°dout
);

590 
	`Âuts
 (
	`_
("\
[-]c°›b u£Åwÿ°› bô†≥∏ch¨a˘î (⁄êwôh '-')\n\
[-]hu∞ sídá h™gu∞sig«»whíÅhêœ°Öro˚s†˛o£†thêây\n\
[-]hup˛ samêa†[-]hup\n\
[-]∑ªnb gíî©ê∑rôy bô i¿ouçuà™dÉx≥˘Ö¨ôy bô i¿öput\n\
[-]∑rodd së oddÖ¨ôy (‹ÉvíÖ¨ôy wôh '-')\n\
"), 
°dout
);

597 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
[-]brköà bªak†ˇu£á¿öãºu± sig«l\n\
[-]i¸∆Åøn¶©êˇºügêªtu∫Åÿ√wlöe\n\
[-]ignbrk ign‹êbªak ch¨a˘îs\n\
[-]ign¸ ign‹êˇºügêªtu∫\n\
"), 
°dout
);

605 
	`Âuts
 (
	`_
("\
[-]ig≈¨ ign‹êch¨a˘î†wôhÖ¨ôyÉº‹s\n\
* [-]imaxbñ bì∞™d dÿnŸ flushá fuŒ i≈uàbuf„∏⁄á ch¨a˘î\n\
[-]öl¸Åøn¶©ê√wlöêtÿˇºügêªtu∫\n\
[-]öpckÉ«bÀ i≈uà∑rôy checkög\n\
[-]i°rù cÀ¨ high (8thËbô o‡öpuàch¨a˘îs\n\
"), 
°dout
);

612 
	`Âuts
 (
	`_
("\
* [-]iutf8ássumêöpuàch¨a˘î†¨êUTF-8Éncoded\n\
"), 
°dout
);

615 
	`Âuts
 (
	`_
("\
* [-]iu˛¯Åøn¶©êuµîˇ£ ch¨a˘î†tÿlowîˇ£\n\
* [-]ix™yÜëány ch¨a˘îÑe°¨àouçut,ÇŸ o∆y sèπ ch¨a˘î\n\
[-]ixof‡É«bÀ sídög o‡°¨t/°› ch¨a˘îs\n\
[-]ix⁄É«bÀ XON/XOFF flow c⁄åﬁ\n\
[-]∑rmrk m¨kÖ¨ôyÉº‹†(wôhá 255-0-ch¨a˘î sequí˚)\n\
[-]èndem samêa†[-]ixoff\n\
"), 
°dout
);

623 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
* bsN back•a˚ dñay styÀ, N i¿[0..1]\n\
* crN c¨rügêªtu∫ dñay styÀ, N i¿[0..3]\n\
* ffN f‹m fìd dñay styÀ, N i¿[0..1]\n\
*ÇlNÇewlöêdñay styÀ, N i¿[0..1]\n\
"), 
°dout
);

631 
	`Âuts
 (
	`_
("\
* [-]o¸∆Åøn¶©êˇºügêªtu∫Åÿ√wlöe\n\
* [-]ofdñ u£ dñëêch¨a˘î†f‹ fû»ö°ód o‡nuŒ ch¨a˘îs\n\
* [-]ofû» u£ fû»’addögËch¨a˘î†ö°ód o‡timög f‹ dñays\n\
* [-]ﬁcu¯Åøn¶©êlowîˇ£ ch¨a˘î†tÿuµîˇ£\n\
* [-]⁄l¸Åøn¶©ê√wlöêtÿˇºügêªtu∫-√wlöe\n\
* [-]⁄ÃëÇewlöê≥rf‹m†®ˇºügêªtu∫\n\
"), 
°dout
);

639 
	`Âuts
 (
	`_
("\
* [-]⁄o¸ dÿnŸÖröàˇºügêªtu∫†öÅhêfú° cﬁumn\n\
[-]›o°Öo°¥o˚s†ouçut\n\
*ÅabN h‹iz⁄è»èb dñay styÀ, N i¿[0..3]\n\
*Åab† samêa†èb0\n\
* -èb† samêa†èb3\n\
* vtN vîtiˇ»èb dñay styÀ, N i¿[0..1]\n\
"), 
°dout
);

647 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
[-]¸ãø£Échÿîa£ ch¨a˘î†a†back•a˚-•a˚-back•a˚\n\
* cπkû» kû»Æ»löêby obeyögÅhêech›πándÉch€ sëtögs\n\
* -¸tkû» kû»Æ»löêby obeyögÅhêecho˘»™dÉchok sëtögs\n\
"), 
°dout
);

654 
	`Âuts
 (
	`_
("\
* [-]˘ÀchÿÉchÿc⁄åﬁ ch¨a˘î†ö h©ÇŸ©i⁄ ('^c')\n\
[-]echÿÉchÿöpuàch¨a˘îs\n\
* [-]echo˘» samêa†[-]˘Àcho\n\
[-]ech€ samêa†[-]¸ãø£\n\
[-]echokÉchÿ®√wlöêa·îá kû»ch¨a˘î\n\
"), 
°dout
);

661 
	`Âuts
 (
	`_
("\
* [-]echokê samêa†[-]¸tkûl\n\
[-]ech⁄»Échÿ√wlöêeví i‡nŸÉchoög othî ch¨a˘îs\n\
* [-]ech›πÉchÿîa£d ch¨a˘î†backw¨d, bëwì¿'\\'ánd '/'\n\
[-]iˇn⁄É«bÀÉø£, kûl, wîa£,ándÑ¥¡ s≥cü»ch¨a˘îs\n\
[-]õxã¿É«bÀÇ⁄-POSIX s≥cü»ch¨a˘îs\n\
"), 
°dout
);

668 
	`Âuts
 (
	`_
("\
[-]isigÉ«bÀ i¡îru±, quô,ánd su•íd s≥cü»ch¨a˘îs\n\
[-]noÊsh dißbÀ flushögá·î i¡îru±ánd quô s≥cü»ch¨a˘îs\n\
* [-]¥ãø£ samêa†[-]ech›π\n\
* [-]to°› st› background job†th©ÅryÅÿwrôêtÿthêãrmöÆ\n\
* [-]xˇ£ wôh iˇn⁄,Ésˇ≥ wôh '\\' f‹ uµîˇ£ ch¨a˘îs\n\
"), 
°dout
);

675 
	`Âuts
 (
	`_
("\
\n\
 sëtögs:\n\
* [-]LCASE samêa†[-]lˇ£\n\
 samêa†-iˇn⁄\n\
-cbªak samêa†iˇn⁄\n\
"), 
°dout
);

682 
	`Âuts
 (
	`_
("\
 samêa†brköàig≈¨ i°rù i¸∆ ix⁄ opo° isig\n\
,Éo‡™dÉﬁ ch¨a˘î†tÿtheú deÁu… vÆues\n\
-cooked samêa†øw\n\
 samêa†ech€Écho˘»echoke\n\
"), 
°dout
);

688 
	`Âuts
 (
	`_
("\
 samêa†ech€Écho˘»echokê-ix™y i¡∏^¯îa£ 0177\n\
 ^u\n\
* [-]dec˘lq samêa†[-]ix™y\n\
Éø£ánd kû»ch¨a˘î†tÿtheú deÁu… vÆues\n\
 samêa†∑ªnb -∑rodd cs7\n\
"), 
°dout
);

695 
	`Âuts
 (
	`_
("\
-eví∞ samêa†-∑ªnb cs8\n\
* [-]lˇ£ samêa†xˇ£ iu˛¯ﬁcuc\n\
 samêa†-∑ªnb -i°rù -›o° cs8\n\
-lôouà samêa†∑ªnb i°rù opo° cs7\n\
 samêa†-i¸∆ -⁄l¸\n\
-∆ samêa†i¸∆ -öl¸ -ign¸ o∆¸ -o¸∆ -⁄Ãë\n\
"), 
°dout
);

703 
	`Âuts
 (
	`_
("\
 samêa†∑ªnbÖ¨odd cs7\n\
-odd∞ samêa†-∑ªnb cs8\n\
[-]∑rôy samêa†[-]evíp\n\
8 samêa†-∑ªnb -i°rù cs8\n\
-∑ss8 samêa†∑ªnb i°rù cs7\n\
"), 
°dout
);

710 
	`Âuts
 (
	`_
("\
 samêa†-ignbrk -brköà-ig≈¨ -∑rmrk -öpck -i°rù\n\
-öl¸ -ign¸ -i¸∆ -ix⁄ -ixof‡ -iu˛¯ -ix™y\n\
-imaxbñ -›o° -isig -iˇn⁄ -xˇ£ mö 1Åimê0\n\
-øw samêa†cooked\n\
"), 
°dout
);

716 
	`Âuts
 (
	`_
("\
 samêa†¸ód -ignbrk brköà-öl¸ -ign¸ i¸∆ -iutf8\n\
-ixof‡-iu˛¯-ix™y imaxbñ opo° -ﬁcu¯-o¸∆ o∆¸\n\
-⁄o¸ -⁄Ãë -ofû»-ofdñÇl0 cr0Åab0 bs0 vt0 ff0\n\
 iˇn⁄ iexã¿echÿech€Échok -ech⁄»-noÊsh\n\
-xˇ£ -to°› -ech›πÉcho˘»echoke,áŒ s≥cül\n\
Åÿtheú deÁu… vÆues\n\
"), 
°dout
);

724 
	`Âuts
 (
	`_
("\
\n\
ÅhêâyÜöêc⁄√˘edÅÿ°™d¨d i≈ut. Wôhouà¨gumíts,\n\
 baudÑ©e,Üöêdiscùlöe,ánd devüti⁄†‰om sây s™e. In\n\
, CHAR i†èkíÜôîÆly, o∏codedá†ö ^c, 0x37, 0177 or\n\
127; s≥cü»vÆue†^- o∏unde‡u£dÅÿdißbÀ s≥cü»ch¨a˘îs.\n\
"), 
°dout
);

731 
	`emô_™cûœry_öfo
 ();

733 
	`exô
 (
°©us
);

734 
	}
}

737 
	$maö
 (
¨gc
, **
¨gv
)

741 
ãrmios
 
mode
;

743 
ouçut_ty≥
 output_type;

744 
›tc
;

745 
¨gi
 = 0;

746 
›ti
 = 1;

747 
boﬁ
 
ªquúe_£t_©å
;

748 
boﬁ
 
•ìd_was_£t
 
ATTRIBUTE_UNUSED
;

749 
boﬁ
 
vîbo£_ouçut
;

750 
boﬁ
 
ªcovîabÀ_ouçut
;

751 
k
;

752 
boﬁ
 
nﬂrgs
 = 
åue
;

753 *
fûe_«me
 = 
NULL
;

754 c⁄° *
devi˚_«me
;

756 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

757 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

758 
	`£éoˇÀ
 (
LC_ALL
, "");

759 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

760 
	`ãxtdomaö
 (
PACKAGE
);

762 
	`©exô
 (
˛o£_°dout
);

764 
ouçut_ty≥
 = 
ch™ged
;

765 
vîbo£_ouçut
 = 
Ál£
;

766 
ªcovîabÀ_ouçut
 = 
Ál£
;

769 
›ãº
 = 0;

778 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
 - 
¨gi
, 
¨gv
 +árgi, "-agF:",

779 
l⁄g›ts
, 
NULL
))

782 
›tc
)

785 
vîbo£_ouçut
 = 
åue
;

786 
ouçut_ty≥
 = 
Æl
;

790 
ªcovîabÀ_ouçut
 = 
åue
;

791 
ouçut_ty≥
 = 
ªcovîabÀ
;

795 i‡(
fûe_«me
)

796 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("only one device may be specified"));

797 
fûe_«me
 = 
›èrg
;

800 
ˇ£_GETOPT_HELP_CHAR
;

802 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

805 
nﬂrgs
 = 
Ál£
;

809 
¨gi
 +
›ti
;

812 
›ti
 = 1;

813 
›töd
 = 0;

819 
›ti
 < 
›töd
)

820 
¨gv
[
¨gi
 + 
›ti
++] = 
NULL
;

824 i‡(
vîbo£_ouçut
 && 
ªcovîabÀ_ouçut
)

825 
	`îr‹
 (
EXIT_FAILURE
, 0,

826 
	`_
("the options for verboseánd stty-readable output stylesáre\n"

830 i‡(!
nﬂrgs
 && (
vîbo£_ouçut
 || 
ªcovîabÀ_ouçut
))

831 
	`îr‹
 (
EXIT_FAILURE
, 0,

832 
	`_
("when specifyingán output style, modes mayÇot be set"));

839 i‡(
fûe_«me
)

841 
fdÊags
;

842 
devi˚_«me
 = 
fûe_«me
;

843 i‡(
	`fd_ª›í
 (
STDIN_FILENO
, 
devi˚_«me
, 
O_RDONLY
 | 
O_NONBLOCK
, 0) < 0)

844 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

845 i‡((
fdÊags
 = 
	`f˙é
 (
STDIN_FILENO
, 
F_GETFL
)) == -1

846 || 
	`f˙é
 (
STDIN_FILENO
, 
F_SETFL
, 
fdÊags
 & ~
O_NONBLOCK
) < 0)

847 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("%s: couldn'tÑesetÇon-blocking mode"),

848 
devi˚_«me
);

851 
devi˚_«me
 = 
	`_
("standard input");

853 i‡(
	`tcgë©å
 (
STDIN_FILENO
, &
mode
))

854 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

856 i‡(
vîbo£_ouçut
 || 
ªcovîabÀ_ouçut
 || 
nﬂrgs
)

858 
max_cﬁ
 = 
	`s¸ìn_cﬁumns
 ();

859 
cuºít_cﬁ
 = 0;

860 
	`di•œy_£âögs
 (
ouçut_ty≥
, &
mode
, 
devi˚_«me
);

861 
	`exô
 (
EXIT_SUCCESS
);

864 
•ìd_was_£t
 = 
Ál£
;

865 
ªquúe_£t_©å
 = 
Ál£
;

866 
k
 = 1; k < 
¨gc
; k++)

868 c⁄° *
¨g
 = 
¨gv
[
k
];

869 
boﬁ
 
m©ch_found
 = 
Ál£
;

870 
boﬁ
 
ªvî£d
 = 
Ál£
;

871 
i
;

873 i‡(! 
¨g
)

876 i‡(
¨g
[0] == '-')

878 ++
¨g
;

879 
ªvî£d
 = 
åue
;

881 
i
 = 0; 
mode_öfo
[i].
«me
 !
NULL
; ++i)

883 i‡(
	`STREQ
 (
¨g
, 
mode_öfo
[
i
].
«me
))

885 
m©ch_found
 = 
	`£t_mode
 (&
mode_öfo
[
i
], 
ªvî£d
, &
mode
);

886 
ªquúe_£t_©å
 = 
åue
;

890 i‡(!
m©ch_found
 && 
ªvî£d
)

892 
	`îr‹
 (0, 0, 
	`_
("övÆidárgumíà%s"), 
	`quŸe
 (
¨g
 - 1));

893 
	`ußge
 (
EXIT_FAILURE
);

895 i‡(!
m©ch_found
)

897 
i
 = 0; 
c⁄åﬁ_öfo
[i].
«me
 !
NULL
; ++i)

899 i‡(
	`STREQ
 (
¨g
, 
c⁄åﬁ_öfo
[
i
].
«me
))

901 i‡(
k
 =
¨gc
 - 1)

903 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

904 
	`ußge
 (
EXIT_FAILURE
);

906 
m©ch_found
 = 
åue
;

907 ++
k
;

908 
	`£t_c⁄åﬁ_ch¨
 (&
c⁄åﬁ_öfo
[
i
], 
¨gv
[
k
], &
mode
);

909 
ªquúe_£t_©å
 = 
åue
;

914 i‡(!
m©ch_found
)

916 i‡(
	`STREQ
 (
¨g
, "ispeed"))

918 i‡(
k
 =
¨gc
 - 1)

920 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

921 
	`ußge
 (
EXIT_FAILURE
);

923 ++
k
;

924 
	`£t_•ìd
 (
öput_•ìd
, 
¨gv
[
k
], &
mode
);

925 
•ìd_was_£t
 = 
åue
;

926 
ªquúe_£t_©å
 = 
åue
;

928 i‡(
	`STREQ
 (
¨g
, "ospeed"))

930 i‡(
k
 =
¨gc
 - 1)

932 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

933 
	`ußge
 (
EXIT_FAILURE
);

935 ++
k
;

936 
	`£t_•ìd
 (
ouçut_•ìd
, 
¨gv
[
k
], &
mode
);

937 
•ìd_was_£t
 = 
åue
;

938 
ªquúe_£t_©å
 = 
åue
;

940 #ifde‡
TIOCGWINSZ


941 i‡(
	`STREQ
 (
¨g
, "rows"))

943 i‡(
k
 =
¨gc
 - 1)

945 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

946 
	`ußge
 (
EXIT_FAILURE
);

948 ++
k
;

949 
	`£t_wödow_size
 (
	`öãgî_¨g
 (
¨gv
[
k
], 
INT_MAX
), -1,

950 
devi˚_«me
);

952 i‡(
	`STREQ
 (
¨g
, "cols")

953 || 
	`STREQ
 (
¨g
, "columns"))

955 i‡(
k
 =
¨gc
 - 1)

957 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

958 
	`ußge
 (
EXIT_FAILURE
);

960 ++
k
;

961 
	`£t_wödow_size
 (-1, 
	`öãgî_¨g
 (
¨gv
[
k
], 
INT_MAX
),

962 
devi˚_«me
);

964 i‡(
	`STREQ
 (
¨g
, "size"))

966 
max_cﬁ
 = 
	`s¸ìn_cﬁumns
 ();

967 
cuºít_cﬁ
 = 0;

968 
	`di•œy_wödow_size
 (
Ál£
, 
devi˚_«me
);

971 #ifde‡
HAVE_C_LINE


972 i‡(
	`STREQ
 (
¨g
, "line"))

974 
vÆue
;

975 i‡(
k
 =
¨gc
 - 1)

977 
	`îr‹
 (0, 0, 
	`_
("missögárgumíàtÿ%s"), 
	`quŸe
 (
¨g
));

978 
	`ußge
 (
EXIT_FAILURE
);

980 ++
k
;

981 
mode
.
c_löe
 = 
vÆue
 = 
	`öãgî_¨g
 (
¨gv
[
k
], 
ULONG_MAX
);

982 i‡(
mode
.
c_löe
 !
vÆue
)

983 
	`îr‹
 (0, 0, 
	`_
("övÆidÜöêdiscùlöê%s"), 
	`quŸe
 (
¨gv
[
k
]));

984 
ªquúe_£t_©å
 = 
åue
;

987 i‡(
	`STREQ
 (
¨g
, "speed"))

989 
max_cﬁ
 = 
	`s¸ìn_cﬁumns
 ();

990 
	`di•œy_•ìd
 (&
mode
, 
Ál£
);

992 i‡(
	`°rög_to_baud
 (
¨g
Ë!(
•ìd_t
) -1)

994 
	`£t_•ìd
 (
bŸh_•ìds
, 
¨g
, &
mode
);

995 
•ìd_was_£t
 = 
åue
;

996 
ªquúe_£t_©å
 = 
åue
;

1000 i‡(! 
	`ªcovî_mode
 (
¨g
, &
mode
))

1002 
	`îr‹
 (0, 0, 
	`_
("övÆidárgumíà%s"), 
	`quŸe
 (
¨g
));

1003 
	`ußge
 (
EXIT_FAILURE
);

1005 
ªquúe_£t_©å
 = 
åue
;

1010 i‡(
ªquúe_£t_©å
)

1014 
ãrmios
 
√w_mode
;

1016 i‡(
	`tc£èâr
 (
STDIN_FILENO
, 
TCSADRAIN
, &
mode
))

1017 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1026 i‡(
	`tcgë©å
 (
STDIN_FILENO
, &
√w_mode
))

1027 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1036 i‡(
	`memcmp
 (&
mode
, &
√w_mode
,  (mode)) != 0)

1038 #ifde‡
CIBAUD


1048 
√w_mode
.
c_cÊag
 &(~
CIBAUD
);

1049 i‡(
•ìd_was_£t
 || 
	`memcmp
 (&
mode
, &
√w_mode
,  (mode)) != 0)

1052 
	`îr‹
 (
EXIT_FAILURE
, 0,

1053 
	`_
("%s: unableÅoÖerformállÑequested operations"),

1054 
devi˚_«me
);

1055 #ifde‡
TESTING


1057 
size_t
 
i
;

1058 
	`¥ötf
 ("new_mode: mode\n");

1059 
i
 = 0; i <  (
√w_mode
); i++)

1060 
	`¥ötf
 ("0x%02x: 0x%02x\n",

1061 *(((*Ë&
√w_mode
Ë+ 
i
),

1062 *(((*Ë&
mode
Ë+ 
i
));

1069 
	`exô
 (
EXIT_SUCCESS
);

1070 
	}
}

1075 
boﬁ


1076 
	$£t_mode
 (
mode_öfo
 c⁄° *
öfo
, 
boﬁ
 
ªvî£d
, 
ãrmios
 *
mode
)

1078 
tcÊag_t
 *
bô•
;

1080 i‡(
ªvî£d
 && (
öfo
->
Êags
 & 
REV
) == 0)

1081  
Ál£
;

1083 
bô•
 = 
	`mode_ty≥_Êag
 (
öfo
->
ty≥
, 
mode
);

1085 i‡(
bô•
 =
NULL
)

1088 i‡(
	`STREQ
 (
öfo
->
«me
, "evenp") || STREQ (info->name, "parity"))

1090 i‡(
ªvî£d
)

1091 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
PARENB
 & ~
CSIZE
Ë| 
CS8
;

1093 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
PARODD
 & ~
CSIZE
Ë| 
PARENB
 | 
CS7
;

1095 i‡(
	`STREQ
 (
öfo
->
«me
, "oddp"))

1097 i‡(
ªvî£d
)

1098 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
PARENB
 & ~
CSIZE
Ë| 
CS8
;

1100 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
CSIZE
Ë| 
CS7
 | 
PARODD
 | 
PARENB
;

1102 i‡(
	`STREQ
 (
öfo
->
«me
, "nl"))

1104 i‡(
ªvî£d
)

1106 
mode
->
c_iÊag
 = (mode->c_iÊag | 
ICRNL
Ë& ~
INLCR
 & ~
IGNCR
;

1107 
mode
->
c_oÊag
 = (mode->c_oflag

1108 #ifde‡
ONLCR


1109 | 
ONLCR


1112 #ifde‡
OCRNL


1113 & ~
OCRNL


1115 #ifde‡
ONLRET


1116 & ~
ONLRET


1122 
mode
->
c_iÊag
 = mode->c_iÊag & ~
ICRNL
;

1123 #ifde‡
ONLCR


1124 
mode
->
c_oÊag
 = mode->c_oÊag & ~
ONLCR
;

1128 i‡(
	`STREQ
 (
öfo
->
«me
, "ek"))

1130 
mode
->
c_cc
[
VERASE
] = 
CERASE
;

1131 
mode
->
c_cc
[
VKILL
] = 
CKILL
;

1133 i‡(
	`STREQ
 (
öfo
->
«me
, "sane"))

1134 
	`ß√_mode
 (
mode
);

1135 i‡(
	`STREQ
 (
öfo
->
«me
, "cbreak"))

1137 i‡(
ªvî£d
)

1138 
mode
->
c_lÊag
 |
ICANON
;

1140 
mode
->
c_lÊag
 &~
ICANON
;

1142 i‡(
	`STREQ
 (
öfo
->
«me
, "pass8"))

1144 i‡(
ªvî£d
)

1146 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
CSIZE
Ë| 
CS7
 | 
PARENB
;

1147 
mode
->
c_iÊag
 |
ISTRIP
;

1151 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
PARENB
 & ~
CSIZE
Ë| 
CS8
;

1152 
mode
->
c_iÊag
 &~
ISTRIP
;

1155 i‡(
	`STREQ
 (
öfo
->
«me
, "litout"))

1157 i‡(
ªvî£d
)

1159 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
CSIZE
Ë| 
CS7
 | 
PARENB
;

1160 
mode
->
c_iÊag
 |
ISTRIP
;

1161 
mode
->
c_oÊag
 |
OPOST
;

1165 
mode
->
c_cÊag
 = (mode->c_cÊag & ~
PARENB
 & ~
CSIZE
Ë| 
CS8
;

1166 
mode
->
c_iÊag
 &~
ISTRIP
;

1167 
mode
->
c_oÊag
 &~
OPOST
;

1170 i‡(
	`STREQ
 (
öfo
->
«me
, "raw") || STREQ (info->name, "cooked"))

1172 i‡((
öfo
->
«me
[0] ='r' && 
ªvî£d
)

1173 || (
öfo
->
«me
[0] ='c' && !
ªvî£d
))

1176 
mode
->
c_iÊag
 |
BRKINT
 | 
IGNPAR
 | 
ISTRIP
 | 
ICRNL
 | 
IXON
;

1177 
mode
->
c_oÊag
 |
OPOST
;

1178 
mode
->
c_lÊag
 |
ISIG
 | 
ICANON
;

1179 #i‡
VMIN
 =
VEOF


1180 
mode
->
c_cc
[
VEOF
] = 
CEOF
;

1182 #i‡
VTIME
 =
VEOL


1183 
mode
->
c_cc
[
VEOL
] = 
CEOL
;

1189 
mode
->
c_iÊag
 = 0;

1190 
mode
->
c_oÊag
 &~
OPOST
;

1191 
mode
->
c_lÊag
 &~(
ISIG
 | 
ICANON


1192 #ifde‡
XCASE


1193 | 
XCASE


1196 
mode
->
c_cc
[
VMIN
] = 1;

1197 
mode
->
c_cc
[
VTIME
] = 0;

1200 #ifde‡
IXANY


1201 i‡(
	`STREQ
 (
öfo
->
«me
, "decctlq"))

1203 i‡(
ªvî£d
)

1204 
mode
->
c_iÊag
 |
IXANY
;

1206 
mode
->
c_iÊag
 &~
IXANY
;

1209 #ifde‡
TABDLY


1210 i‡(
	`STREQ
 (
öfo
->
«me
, "tabs"))

1212 i‡(
ªvî£d
)

1213 
mode
->
c_oÊag
 = (mode->c_oÊag & ~
TABDLY
Ë| 
TAB3
;

1215 
mode
->
c_oÊag
 = (mode->c_oÊag & ~
TABDLY
Ë| 
TAB0
;

1218 #ifde‡
OXTABS


1219 i‡(
	`STREQ
 (
öfo
->
«me
, "tabs"))

1221 i‡(
ªvî£d
)

1222 
mode
->
c_oÊag
 = mode->c_oÊag | 
OXTABS
;

1224 
mode
->
c_oÊag
 = mode->c_oÊag & ~
OXTABS
;

1228 #i‡
deföed
 
XCASE
 && deföed 
IUCLC
 && deföed 
OLCUC


1229 i‡(
	`STREQ
 (
öfo
->
«me
, "lcase")

1230 || 
	`STREQ
 (
öfo
->
«me
, "LCASE"))

1232 i‡(
ªvî£d
)

1234 
mode
->
c_lÊag
 &~
XCASE
;

1235 
mode
->
c_iÊag
 &~
IUCLC
;

1236 
mode
->
c_oÊag
 &~
OLCUC
;

1240 
mode
->
c_lÊag
 |
XCASE
;

1241 
mode
->
c_iÊag
 |
IUCLC
;

1242 
mode
->
c_oÊag
 |
OLCUC
;

1246 i‡(
	`STREQ
 (
öfo
->
«me
, "crt"))

1247 
mode
->
c_lÊag
 |
ECHOE


1248 #ifde‡
ECHOCTL


1249 | 
ECHOCTL


1251 #ifde‡
ECHOKE


1252 | 
ECHOKE


1255 i‡(
	`STREQ
 (
öfo
->
«me
, "dec"))

1257 
mode
->
c_cc
[
VINTR
] = 3;

1258 
mode
->
c_cc
[
VERASE
] = 127;

1259 
mode
->
c_cc
[
VKILL
] = 21;

1260 
mode
->
c_lÊag
 |
ECHOE


1261 #ifde‡
ECHOCTL


1262 | 
ECHOCTL


1264 #ifde‡
ECHOKE


1265 | 
ECHOKE


1268 #ifde‡
IXANY


1269 
mode
->
c_iÊag
 &~
IXANY
;

1273 i‡(
ªvî£d
)

1274 *
bô•
 = *bô• & ~
öfo
->
mask
 & ~öfo->
bôs
;

1276 *
bô•
 = (*bô• & ~
öfo
->
mask
Ë| info->
bôs
;

1278  
åue
;

1279 
	}
}

1282 
	$£t_c⁄åﬁ_ch¨
 (
c⁄åﬁ_öfo
 c⁄° *
öfo
, c⁄° *
¨g
,

1283 
ãrmios
 *
mode
)

1285 
vÆue
;

1287 i‡(
	`STREQ
 (
öfo
->
«me
, "min") || STREQ (info->name, "time"))

1288 
vÆue
 = 
	`öãgî_¨g
 (
¨g
, 
	`TYPE_MAXIMUM
 (
cc_t
));

1289 i‡(
¨g
[0] == '\0' ||árg[1] == '\0')

1290 
vÆue
 = 
	`to_uch¨
 (
¨g
[0]);

1291 i‡(
	`STREQ
 (
¨g
, "^-") || STREQ (arg, "undef"))

1292 
vÆue
 = 
_POSIX_VDISABLE
;

1293 i‡(
¨g
[0] == '^' &&árg[1] != '\0')

1295 i‡(
¨g
[1] == '?')

1296 
vÆue
 = 127;

1298 
vÆue
 = 
	`to_uch¨
 (
¨g
[1]) & ~0140;

1301 
vÆue
 = 
	`öãgî_¨g
 (
¨g
, 
	`TYPE_MAXIMUM
 (
cc_t
));

1302 
mode
->
c_cc
[
öfo
->
off£t
] = 
vÆue
;

1303 
	}
}

1306 
	$£t_•ìd
 (
•ìd_£âög
 
ty≥
, c⁄° *
¨g
, 
ãrmios
 *
mode
)

1308 
•ìd_t
 
baud
;

1310 
baud
 = 
	`°rög_to_baud
 (
¨g
);

1311 i‡(
ty≥
 =
öput_•ìd
 ||Åy≥ =
bŸh_•ìds
)

1312 
	`cf£ti•ìd
 (
mode
, 
baud
);

1313 i‡(
ty≥
 =
ouçut_•ìd
 ||Åy≥ =
bŸh_•ìds
)

1314 
	`cf£to•ìd
 (
mode
, 
baud
);

1315 
	}
}

1317 #ifde‡
TIOCGWINSZ


1320 
	$gë_wö_size
 (
fd
, 
wösize
 *
wö
)

1322 
îr
 = 
	`io˘l
 (
fd
, 
TIOCGWINSZ
, (*Ë
wö
);

1323  
îr
;

1324 
	}
}

1327 
	$£t_wödow_size
 (
rows
, 
cﬁs
, c⁄° *
devi˚_«me
)

1329 
wösize
 
wö
;

1331 i‡(
	`gë_wö_size
 (
STDIN_FILENO
, &
wö
))

1333 i‡(
î∫o
 !
EINVAL
)

1334 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1335 
	`mem£t
 (&
wö
, 0,  (win));

1338 i‡(
rows
 >= 0)

1339 
wö
.
ws_row
 = 
rows
;

1340 i‡(
cﬁs
 >= 0)

1341 
wö
.
ws_cﬁ
 = 
cﬁs
;

1343 #ifde‡
TIOCSSIZE


1365 i‡(
wö
.
ws_row
 =0 || wö.
ws_cﬁ
 == 0)

1367 
âysize
 
âysz
;

1369 
âysz
.
ts_löes
 = 
wö
.
ws_row
;

1370 
âysz
.
ts_cﬁs
 = 
wö
.
ws_cﬁ
;

1372 
wö
.
ws_row
 = 1;

1373 
wö
.
ws_cﬁ
 = 1;

1375 i‡(
	`io˘l
 (
STDIN_FILENO
, 
TIOCSWINSZ
, (*Ë&
wö
))

1376 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1378 i‡(
	`io˘l
 (
STDIN_FILENO
, 
TIOCSSIZE
, (*Ë&
âysz
))

1379 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1384 i‡(
	`io˘l
 (
STDIN_FILENO
, 
TIOCSWINSZ
, (*Ë&
wö
))

1385 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1386 
	}
}

1389 
	$di•œy_wödow_size
 (
boﬁ
 
Áncy
, c⁄° *
devi˚_«me
)

1391 
wösize
 
wö
;

1393 i‡(
	`gë_wö_size
 (
STDIN_FILENO
, &
wö
))

1395 i‡(
î∫o
 !
EINVAL
)

1396 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
devi˚_«me
);

1397 i‡(!
Áncy
)

1398 
	`îr‹
 (
EXIT_FAILURE
, 0,

1399 
	`_
("%s:Çÿsizêöf‹m©i⁄ f‹Åhi†devi˚"), 
devi˚_«me
);

1403 
	`wøpf
 (
Áncy
 ? "rows %d; columns %d;" : "%d %d\n",

1404 
wö
.
ws_row
, wö.
ws_cﬁ
);

1405 i‡(!
Áncy
)

1406 
cuºít_cﬁ
 = 0;

1408 
	}
}

1412 
	$s¸ìn_cﬁumns
 ()

1414 #ifde‡
TIOCGWINSZ


1415 
wösize
 
wö
;

1423 i‡(
	`gë_wö_size
 (
STDOUT_FILENO
, &
wö
Ë=0 && 0 < wö.
ws_cﬁ
)

1424  
wö
.
ws_cﬁ
;

1428 *
cﬁ_°rög
 = 
	`gëív
 ("COLUMNS");

1429 
n_cﬁumns
;

1430 i‡(!(
cﬁ_°rög
 !
NULL


1431 && 
	`x°πﬁ
 (
cﬁ_°rög
, 
NULL
, 0, &
n_cﬁumns
, ""Ë=
LONGINT_OK


1432 && 0 < 
n_cﬁumns


1433 && 
n_cﬁumns
 <
INT_MAX
))

1434 
n_cﬁumns
 = 80;

1435  
n_cﬁumns
;

1437 
	}
}

1439 
tcÊag_t
 * 
_GL_ATTRIBUTE_PURE


1440 
	$mode_ty≥_Êag
 (
mode_ty≥
 
ty≥
, 
ãrmios
 *
mode
)

1442 
ty≥
)

1444 
c⁄åﬁ
:

1445  &
mode
->
c_cÊag
;

1447 
öput
:

1448  &
mode
->
c_iÊag
;

1450 
ouçut
:

1451  &
mode
->
c_oÊag
;

1453 
loˇl
:

1454  &
mode
->
c_lÊag
;

1456 
combö©i⁄
:

1457  
NULL
;

1460 
	`ab‹t
 ();

1462 
	}
}

1465 
	$di•œy_£âögs
 (
ouçut_ty≥
 ouçut_ty≥, 
ãrmios
 *
mode
,

1466 c⁄° *
devi˚_«me
)

1468 
ouçut_ty≥
)

1470 
ch™ged
:

1471 
	`di•œy_ch™ged
 (
mode
);

1474 
Æl
:

1475 
	`di•œy_Æl
 (
mode
, 
devi˚_«me
);

1478 
ªcovîabÀ
:

1479 
	`di•œy_ªcovîabÀ
 (
mode
);

1482 
	}
}

1485 
	$di•œy_ch™ged
 (
ãrmios
 *
mode
)

1487 
i
;

1488 
boﬁ
 
em±y_löe
;

1489 
tcÊag_t
 *
bô•
;

1490 
mask
;

1491 
mode_ty≥
 
¥ev_ty≥
 = 
c⁄åﬁ
;

1493 
	`di•œy_•ìd
 (
mode
, 
åue
);

1494 #ifde‡
HAVE_C_LINE


1495 
	`wøpf
 ("löê%d;", 
mode
->
c_löe
);

1497 
	`putch¨
 ('\n');

1498 
cuºít_cﬁ
 = 0;

1500 
em±y_löe
 = 
åue
;

1501 
i
 = 0; !
	`STREQ
 (
c⁄åﬁ_öfo
[i].
«me
, "min"); ++i)

1503 i‡(
mode
->
c_cc
[
c⁄åﬁ_öfo
[
i
].
off£t
] =c⁄åﬁ_öfo[i].
ß√vÆ
)

1506 #i‡
VSWTCH
 =
VSUSP


1507 i‡(
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "swtch"))

1511 #i‡
VEOF
 =
VMIN


1512 i‡((
mode
->
c_lÊag
 & 
ICANON
) == 0

1513 && (
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "eof")

1514 || 
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "eol")))

1518 
em±y_löe
 = 
Ál£
;

1519 
	`wøpf
 ("%†%s;", 
c⁄åﬁ_öfo
[
i
].
«me
,

1520 
	`visibÀ
 (
mode
->
c_cc
[
c⁄åﬁ_öfo
[
i
].
off£t
]));

1522 i‡((
mode
->
c_lÊag
 & 
ICANON
) == 0)

1524 
	`wøpf
 ("min = %lu;Åime = %lu;\n",

1525 (Ë
mode
->
c_cc
[
VMIN
],

1526 (Ë
mode
->
c_cc
[
VTIME
]);

1528 i‡(!
em±y_löe
)

1529 
	`putch¨
 ('\n');

1530 
cuºít_cﬁ
 = 0;

1532 
em±y_löe
 = 
åue
;

1533 
i
 = 0; 
mode_öfo
[i].
«me
 !
NULL
; ++i)

1535 i‡(
mode_öfo
[
i
].
Êags
 & 
OMIT
)

1537 i‡(
mode_öfo
[
i
].
ty≥
 !
¥ev_ty≥
)

1539 i‡(!
em±y_löe
)

1541 
	`putch¨
 ('\n');

1542 
cuºít_cﬁ
 = 0;

1543 
em±y_löe
 = 
åue
;

1545 
¥ev_ty≥
 = 
mode_öfo
[
i
].
ty≥
;

1548 
bô•
 = 
	`mode_ty≥_Êag
 (
mode_öfo
[
i
].
ty≥
, 
mode
);

1549 
mask
 = 
mode_öfo
[
i
].mask ? mode_öfo[i].mask : mode_öfo[i].
bôs
;

1554 
	`as£π
 (
bô•
);

1556 i‡((*
bô•
 & 
mask
Ë=
mode_öfo
[
i
].
bôs
)

1558 i‡(
mode_öfo
[
i
].
Êags
 & 
SANE_UNSET
)

1560 
	`wøpf
 ("%s", 
mode_öfo
[
i
].
«me
);

1561 
em±y_löe
 = 
Ál£
;

1564 i‡((
mode_öfo
[
i
].
Êags
 & (
SANE_SET
 | 
REV
)) == (SANE_SET | REV))

1566 
	`wøpf
 ("-%s", 
mode_öfo
[
i
].
«me
);

1567 
em±y_löe
 = 
Ál£
;

1570 i‡(!
em±y_löe
)

1571 
	`putch¨
 ('\n');

1572 
cuºít_cﬁ
 = 0;

1573 
	}
}

1576 
	$di•œy_Æl
 (
ãrmios
 *
mode
, c⁄° *
devi˚_«me
)

1578 
i
;

1579 
tcÊag_t
 *
bô•
;

1580 
mask
;

1581 
mode_ty≥
 
¥ev_ty≥
 = 
c⁄åﬁ
;

1583 
	`di•œy_•ìd
 (
mode
, 
åue
);

1584 #ifde‡
TIOCGWINSZ


1585 
	`di•œy_wödow_size
 (
åue
, 
devi˚_«me
);

1587 #ifde‡
HAVE_C_LINE


1588 
	`wøpf
 ("löê%d;", 
mode
->
c_löe
);

1590 
	`putch¨
 ('\n');

1591 
cuºít_cﬁ
 = 0;

1593 
i
 = 0; ! 
	`STREQ
 (
c⁄åﬁ_öfo
[i].
«me
, "min"); ++i)

1596 #i‡
VSWTCH
 =
VSUSP


1597 i‡(
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "swtch"))

1601 #i‡
VEOF
 =
VMIN


1602 i‡((
mode
->
c_lÊag
 & 
ICANON
) == 0

1603 && (
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "eof")

1604 || 
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "eol")))

1607 
	`wøpf
 ("%†%s;", 
c⁄åﬁ_öfo
[
i
].
«me
,

1608 
	`visibÀ
 (
mode
->
c_cc
[
c⁄åﬁ_öfo
[
i
].
off£t
]));

1610 #i‡
VEOF
 =
VMIN


1611 i‡((
mode
->
c_lÊag
 & 
ICANON
) == 0)

1613 
	`wøpf
 ("min = %lu;Åime = %lu;",

1614 (Ë
mode
->
c_cc
[
VMIN
],

1615 (Ë
mode
->
c_cc
[
VTIME
]);

1616 i‡(
cuºít_cﬁ
 != 0)

1617 
	`putch¨
 ('\n');

1618 
cuºít_cﬁ
 = 0;

1620 
i
 = 0; 
mode_öfo
[i].
«me
 !
NULL
; ++i)

1622 i‡(
mode_öfo
[
i
].
Êags
 & 
OMIT
)

1624 i‡(
mode_öfo
[
i
].
ty≥
 !
¥ev_ty≥
)

1626 
	`putch¨
 ('\n');

1627 
cuºít_cﬁ
 = 0;

1628 
¥ev_ty≥
 = 
mode_öfo
[
i
].
ty≥
;

1631 
bô•
 = 
	`mode_ty≥_Êag
 (
mode_öfo
[
i
].
ty≥
, 
mode
);

1632 
mask
 = 
mode_öfo
[
i
].mask ? mode_öfo[i].mask : mode_öfo[i].
bôs
;

1633 
	`as£π
 (
bô•
);

1634 i‡((*
bô•
 & 
mask
Ë=
mode_öfo
[
i
].
bôs
)

1635 
	`wøpf
 ("%s", 
mode_öfo
[
i
].
«me
);

1636 i‡(
mode_öfo
[
i
].
Êags
 & 
REV
)

1637 
	`wøpf
 ("-%s", 
mode_öfo
[
i
].
«me
);

1639 
	`putch¨
 ('\n');

1640 
cuºít_cﬁ
 = 0;

1641 
	}
}

1644 
	$di•œy_•ìd
 (
ãrmios
 *
mode
, 
boﬁ
 
Áncy
)

1646 i‡(
	`cfgëi•ìd
 (
mode
Ë=0 || cfgëi•ìd (modeË=
	`cfgëo•ìd
 (mode))

1647 
	`wøpf
 (
Áncy
 ? "speed %lu baud;" : "%lu\n",

1648 
	`baud_to_vÆue
 (
	`cfgëo•ìd
 (
mode
)));

1650 
	`wøpf
 (
Áncy
 ? "ispeed %lu baud; ospeed %lu baud;" : "%lu %lu\n",

1651 
	`baud_to_vÆue
 (
	`cfgëi•ìd
 (
mode
)),

1652 
	`baud_to_vÆue
 (
	`cfgëo•ìd
 (
mode
)));

1653 i‡(!
Áncy
)

1654 
cuºít_cﬁ
 = 0;

1655 
	}
}

1658 
	$di•œy_ªcovîabÀ
 (
ãrmios
 *
mode
)

1660 
size_t
 
i
;

1662 
	`¥ötf
 ("%lx:%lx:%lx:%lx",

1663 (Ë
mode
->
c_iÊag
,

1664 (Ë
mode
->
c_oÊag
,

1665 (Ë
mode
->
c_cÊag
,

1666 (Ë
mode
->
c_lÊag
);

1667 
i
 = 0; i < 
NCCS
; ++i)

1668 
	`¥ötf
 (":%lx", (Ë
mode
->
c_cc
[
i
]);

1669 
	`putch¨
 ('\n');

1670 
	}
}

1674 
	$°πoul_tcÊag_t
 (c⁄° *
s
, 
ba£
, **
p
, 
tcÊag_t
 *
ªsu…
,

1675 
dñim
)

1677 
ul
;

1678 
î∫o
 = 0;

1679 
ul
 = 
	`°πoul
 (
s
, 
p
, 
ba£
);

1680 i‡(
î∫o
 || **
p
 !
dñim
 || *∞=
s
 || (
tcÊag_t
Ë
ul
 != ul)

1682 *
ªsu…
 = 
ul
;

1684 
	}
}

1688 
	$°πoul_cc_t
 (c⁄° *
s
, 
ba£
, **
p
, 
cc_t
 *
ªsu…
, 
dñim
)

1690 
ul
;

1691 
î∫o
 = 0;

1692 
ul
 = 
	`°πoul
 (
s
, 
p
, 
ba£
);

1693 i‡(
î∫o
 || **
p
 !
dñim
 || *∞=
s
 || (
cc_t
Ë
ul
 != ul)

1695 *
ªsu…
 = 
ul
;

1697 
	}
}

1701 
boﬁ


1702 
	$ªcovî_mode
 (c⁄° *
¨g
, 
ãrmios
 *
mode
)

1704 
tcÊag_t
 
Êag
[4];

1705 c⁄° *
s
 = 
¨g
;

1706 
size_t
 
i
;

1707 
i
 = 0; i < 4; i++)

1709 *
p
;

1710 i‡(
	`°πoul_tcÊag_t
 (
s
, 16, &
p
, 
Êag
 + 
i
, ':') != 0)

1711  
Ál£
;

1712 
s
 = 
p
 + 1;

1714 
mode
->
c_iÊag
 = 
Êag
[0];

1715 
mode
->
c_oÊag
 = 
Êag
[1];

1716 
mode
->
c_cÊag
 = 
Êag
[2];

1717 
mode
->
c_lÊag
 = 
Êag
[3];

1719 
i
 = 0; i < 
NCCS
; ++i)

1721 *
p
;

1722 
dñim
 = 
i
 < 
NCCS
 - 1 ? ':' : '\0';

1723 i‡(
	`°πoul_cc_t
 (
s
, 16, &
p
, 
mode
->
c_cc
 + 
i
, 
dñim
) != 0)

1724  
Ál£
;

1725 
s
 = 
p
 + 1;

1728  
åue
;

1729 
	}
}

1731 
	s•ìd_m≠


1733 c⁄° *
	m°rög
;

1734 
•ìd_t
 
	m•ìd
;

1735 
	mvÆue
;

1738 
•ìd_m≠
 c⁄° 
	g•ìds
[] =

1740 {"0", 
B0
, 0},

1741 {"50", 
B50
, 50},

1742 {"75", 
B75
, 75},

1743 {"110", 
B110
, 110},

1744 {"134", 
B134
, 134},

1745 {"134.5", 
B134
, 134},

1746 {"150", 
B150
, 150},

1747 {"200", 
B200
, 200},

1748 {"300", 
B300
, 300},

1749 {"600", 
B600
, 600},

1750 {"1200", 
B1200
, 1200},

1751 {"1800", 
B1800
, 1800},

1752 {"2400", 
B2400
, 2400},

1753 {"4800", 
B4800
, 4800},

1754 {"9600", 
B9600
, 9600},

1755 {"19200", 
B19200
, 19200},

1756 {"38400", 
B38400
, 38400},

1757 {"exè", 
B19200
, 19200},

1758 {"extb", 
B38400
, 38400},

1759 #ifde‡
B57600


1760 {"57600", 
B57600
, 57600},

1762 #ifde‡
B115200


1763 {"115200", 
B115200
, 115200},

1765 #ifde‡
B230400


1766 {"230400", 
B230400
, 230400},

1768 #ifde‡
B460800


1769 {"460800", 
B460800
, 460800},

1771 #ifde‡
B500000


1772 {"500000", 
B500000
, 500000},

1774 #ifde‡
B576000


1775 {"576000", 
B576000
, 576000},

1777 #ifde‡
B921600


1778 {"921600", 
B921600
, 921600},

1780 #ifde‡
B1000000


1781 {"1000000", 
B1000000
, 1000000},

1783 #ifde‡
B1152000


1784 {"1152000", 
B1152000
, 1152000},

1786 #ifde‡
B1500000


1787 {"1500000", 
B1500000
, 1500000},

1789 #ifde‡
B2000000


1790 {"2000000", 
B2000000
, 2000000},

1792 #ifde‡
B2500000


1793 {"2500000", 
B2500000
, 2500000},

1795 #ifde‡
B3000000


1796 {"3000000", 
B3000000
, 3000000},

1798 #ifde‡
B3500000


1799 {"3500000", 
B3500000
, 3500000},

1801 #ifde‡
B4000000


1802 {"4000000", 
B4000000
, 4000000},

1804 {
NULL
, 0, 0}

1807 
•ìd_t
 
_GL_ATTRIBUTE_PURE


1808 
	$°rög_to_baud
 (c⁄° *
¨g
)

1810 
i
;

1812 
i
 = 0; 
•ìds
[i].
°rög
 !
NULL
; ++i)

1813 i‡(
	`STREQ
 (
¨g
, 
•ìds
[
i
].
°rög
))

1814  
•ìds
[
i
].
•ìd
;

1815  (
•ìd_t
) -1;

1816 
	}
}

1818 
_GL_ATTRIBUTE_PURE


1819 
	$baud_to_vÆue
 (
•ìd_t
 
•ìd
)

1821 
i
;

1823 
i
 = 0; 
•ìds
[i].
°rög
 !
NULL
; ++i)

1824 i‡(
•ìd
 =
•ìds
[
i
].speed)

1825  
•ìds
[
i
].
vÆue
;

1827 
	}
}

1830 
	$ß√_mode
 (
ãrmios
 *
mode
)

1832 
i
;

1833 
tcÊag_t
 *
bô•
;

1835 
i
 = 0; 
c⁄åﬁ_öfo
[i].
«me
; ++i)

1837 #i‡
VMIN
 =
VEOF


1838 i‡(
	`STREQ
 (
c⁄åﬁ_öfo
[
i
].
«me
, "min"))

1841 
mode
->
c_cc
[
c⁄åﬁ_öfo
[
i
].
off£t
] = c⁄åﬁ_öfo[i].
ß√vÆ
;

1844 
i
 = 0; 
mode_öfo
[i].
«me
 !
NULL
; ++i)

1846 i‡(
mode_öfo
[
i
].
Êags
 & 
SANE_SET
)

1848 
bô•
 = 
	`mode_ty≥_Êag
 (
mode_öfo
[
i
].
ty≥
, 
mode
);

1849 *
bô•
 = (*bô• & ~
mode_öfo
[
i
].
mask
Ë| mode_öfo[i].
bôs
;

1851 i‡(
mode_öfo
[
i
].
Êags
 & 
SANE_UNSET
)

1853 
bô•
 = 
	`mode_ty≥_Êag
 (
mode_öfo
[
i
].
ty≥
, 
mode
);

1854 *
bô•
 = *bô• & ~
mode_öfo
[
i
].
mask
 & ~mode_öfo[i].
bôs
;

1857 
	}
}

1863 
	$visibÀ
 (
cc_t
 
ch
)

1865 
buf
[10];

1866 *
bpout
 = 
buf
;

1868 i‡(
ch
 =
_POSIX_VDISABLE
)

1871 i‡(
ch
 >= 32)

1873 i‡(
ch
 < 127)

1874 *
bpout
++ = 
ch
;

1875 i‡(
ch
 == 127)

1877 *
bpout
++ = '^';

1878 *
bpout
++ = '?';

1882 *
bpout
++ = 'M';

1883 *
bpout
++ = '-';

1884 i‡(
ch
 >= 128 + 32)

1886 i‡(
ch
 < 128 + 127)

1887 *
bpout
++ = 
ch
 - 128;

1890 *
bpout
++ = '^';

1891 *
bpout
++ = '?';

1896 *
bpout
++ = '^';

1897 *
bpout
++ = 
ch
 - 128 + 64;

1903 *
bpout
++ = '^';

1904 *
bpout
++ = 
ch
 + 64;

1906 *
bpout
 = '\0';

1907  (c⁄° *Ë
buf
;

1908 
	}
}

1915 
	$öãgî_¨g
 (c⁄° *
s
, 
maxvÆ
)

1917 
vÆue
;

1918 i‡(
	`x°πoul
 (
s
, 
NULL
, 0, &
vÆue
, "bB"Ë!
LONGINT_OK
 || 
maxvÆ
 < value)

1920 
	`îr‹
 (0, 0, 
	`_
("övÆid i¡egîárgumíà%s"), 
	`quŸe
 (
s
));

1921 
	`ußge
 (
EXIT_FAILURE
);

1923  
vÆue
;

1924 
	}
}

	@sum.c

21 
	~<c⁄fig.h
>

23 
	~<°dio.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<gë›t.h
>

26 
	~"sy°em.h
"

27 
	~"îr‹.h
"

28 
	~"Ádvi£.h
"

29 
	~"hum™.h
"

30 
	~"ß„-ªad.h
"

31 
	~"x‰e›í.h
"

34 
	#PROGRAM_NAME
 "sum"

	)

36 
	#AUTHORS
 \

37 
	`¥›î_«me
 ("Kayvan Aghaiepour"), \

38 
	`¥›î_«me
 ("David MacKízõ")

	)

41 
boﬁ
 
	ghave_ªad_°dö
;

43 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

45 {"sysv", 
no_¨gumít
, 
NULL
, 's'},

46 {
GETOPT_HELP_OPTION_DECL
},

47 {
GETOPT_VERSION_OPTION_DECL
},

48 {
NULL
, 0, NULL, 0}

52 
	$ußge
 (
°©us
)

54 i‡(
°©us
 !
EXIT_SUCCESS
)

55 
	`emô_åy_hñp
 ();

58 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

61 
¥ogøm_«me
);

62 
	`Âuts
 (
	`_
("\
 checksumánd block cou¡†f‹Éach FILE.\n\
\n\
-∏ u£ BSD sumálg‹ôhm, u£ 1K blocks\n\
-s, --sysv u£ Sy°em V sumálg‹ôhm, u£ 512 byã†blocks\n\
"), 
°dout
);

68 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

69 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

70 
	`Âuts
 (
	`_
("\
\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

74 
	`emô_™cûœry_öfo
 ();

76 
	`exô
 (
°©us
);

77 
	}
}

85 
boﬁ


86 
	$bsd_sum_fûe
 (c⁄° *
fûe
, 
¥öt_«me
)

88 
FILE
 *
Â
;

89 
checksum
 = 0;

90 
uötmax_t
 
tŸÆ_byãs
 = 0;

91 
ch
;

92 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

93 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûe
, "-");

95 i‡(
is_°dö
)

97 
Â
 = 
°dö
;

98 
have_ªad_°dö
 = 
åue
;

99 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

100 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

104 
Â
 = 
	`f›í
 (
fûe
, (
O_BINARY
 ? "rb" : "r"));

105 i‡(
Â
 =
NULL
)

107 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

108  
Ál£
;

112 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

114 (
ch
 = 
	`gëc
 (
Â
)Ë!
EOF
)

116 
tŸÆ_byãs
++;

117 
checksum
 = (checksum >> 1) + ((checksum & 1) << 15);

118 
checksum
 +
ch
;

119 
checksum
 &= 0xffff;

122 i‡(
	`„º‹
 (
Â
))

124 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

125 i‡(!
is_°dö
)

126 
	`f˛o£
 (
Â
);

127  
Ál£
;

130 i‡(!
is_°dö
 && 
	`f˛o£
 (
Â
) != 0)

132 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

133  
Ál£
;

136 
	`¥ötf
 ("%05d %5s", 
checksum
,

137 
	`hum™_ªadabÀ
 (
tŸÆ_byãs
, 
hbuf
, 
hum™_˚ûög
, 1, 1024));

138 i‡(
¥öt_«me
 > 1)

139 
	`¥ötf
 (" %s", 
fûe
);

140 
	`putch¨
 ('\n');

142  
åue
;

143 
	}
}

150 
boﬁ


151 
	$sysv_sum_fûe
 (c⁄° *
fûe
, 
¥öt_«me
)

153 
fd
;

154 
buf
[8192];

155 
uötmax_t
 
tŸÆ_byãs
 = 0;

156 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

157 
r
;

158 
checksum
;

161 
s
 = 0;

163 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûe
, "-");

165 i‡(
is_°dö
)

167 
fd
 = 
STDIN_FILENO
;

168 
have_ªad_°dö
 = 
åue
;

169 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

170 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

174 
fd
 = 
	`›í
 (
fûe
, 
O_RDONLY
 | 
O_BINARY
);

175 i‡(
fd
 == -1)

177 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

178  
Ál£
;

184 
size_t
 
i
;

185 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf
,  buf);

187 i‡(
byãs_ªad
 == 0)

190 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

192 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

193 i‡(!
is_°dö
)

194 
	`˛o£
 (
fd
);

195  
Ál£
;

198 
i
 = 0; i < 
byãs_ªad
; i++)

199 
s
 +
buf
[
i
];

200 
tŸÆ_byãs
 +
byãs_ªad
;

203 i‡(!
is_°dö
 && 
	`˛o£
 (
fd
) != 0)

205 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

206  
Ál£
;

209 
r
 = (
s
 & 0xffff) + ((s & 0xffffffff) >> 16);

210 
checksum
 = (
r
 & 0xffff) + (r >> 16);

212 
	`¥ötf
 ("%d %s", 
checksum
,

213 
	`hum™_ªadabÀ
 (
tŸÆ_byãs
, 
hbuf
, 
hum™_˚ûög
, 1, 512));

214 i‡(
¥öt_«me
)

215 
	`¥ötf
 (" %s", 
fûe
);

216 
	`putch¨
 ('\n');

218  
åue
;

219 
	}
}

222 
	$maö
 (
¨gc
, **
¨gv
)

224 
boﬁ
 
ok
;

225 
›tc
;

226 
fûes_giví
;

227 
	`boﬁ
 (*
sum_func
Ë(c⁄° *, Ë
bsd_sum_fûe
;

229 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

230 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

231 
	`£éoˇÀ
 (
LC_ALL
, "");

232 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

233 
	`ãxtdomaö
 (
PACKAGE
);

235 
	`©exô
 (
˛o£_°dout
);

239 
	`£tvbuf
 (
°dout
, 
NULL
, 
_IOLBF
, 0);

241 
have_ªad_°dö
 = 
Ál£
;

243 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "rs", 
l⁄g›ts
, 
NULL
)) != -1)

245 
›tc
)

248 
sum_func
 = 
bsd_sum_fûe
;

252 
sum_func
 = 
sysv_sum_fûe
;

255 
ˇ£_GETOPT_HELP_CHAR
;

257 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

260 
	`ußge
 (
EXIT_FAILURE
);

264 
fûes_giví
 = 
¨gc
 - 
›töd
;

265 i‡(
fûes_giví
 <= 0)

266 
ok
 = 
	`sum_func
 ("-", 
fûes_giví
);

268 
ok
 = 
åue
; 
›töd
 < 
¨gc
; optind++)

269 
ok
 &
	`sum_func
 (
¨gv
[
›töd
], 
fûes_giví
);

271 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
Ë=
EOF
)

272 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

273 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

274 
	}
}

	@sync.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"l⁄g-›ti⁄s.h
"

29 
	#PROGRAM_NAME
 "sync"

	)

31 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

34 
	$ußge
 (
°©us
)

36 i‡(
°©us
 !
EXIT_SUCCESS
)

37 
	`emô_åy_hñp
 ();

40 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]\n"), 
¥ogøm_«me
);

41 
	`Âuts
 (
	`_
("\
 ch™ged block†tÿdisk, upd©êthêsu≥∏block.\n\
\n\
"), 
°dout
);

45 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

46 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

47 
	`emô_™cûœry_öfo
 ();

49 
	`exô
 (
°©us
);

50 
	}
}

53 
	$maö
 (
¨gc
, **
¨gv
)

55 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

56 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

57 
	`£éoˇÀ
 (
LC_ALL
, "");

58 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

59 
	`ãxtdomaö
 (
PACKAGE
);

61 
	`©exô
 (
˛o£_°dout
);

63 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
Vîsi⁄
,

64 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

65 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

66 
	`ußge
 (
EXIT_FAILURE
);

68 i‡(
›töd
 < 
¨gc
)

69 
	`îr‹
 (0, 0, 
	`_
("ignoringállárguments"));

71 
	`sync
 ();

72 
	`exô
 (
EXIT_SUCCESS
);

73 
	}
}

	@system.h

19 
	~<Æloˇ.h
>

25 #i‡2 < 
__GLIBC__
 || ( 2 =
___GLIBC__
 && 2 <
__GLIBC_MINOR__
 )

26 #i‡! 
deföed
 
_SYS_TYPES_H


27 
you
 
mu°
 
	gö˛ude
 <
	gsys
/
	gty≥s
.
	gh
> 
bef‹e
 
ö˛udög
 
this
 
	gfûe


31 
	~<sys/°©.h
>

34 
	#MODE_RW_UGO
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IRGRP
 | 
S_IWGRP
 | 
S_IROTH
 | 
S_IWOTH
)

	)

36 #i‡!
deföed
 
HAVE_MKFIFO


37 
	#mkfifo
(
«me
, 
mode
Ë
	`mknod
 («me, (modeË| 
S_IFIFO
, 0)

	)

40 #i‡
HAVE_SYS_PARAM_H


41 
	~<sys/∑øm.h
>

44 
	~<uni°d.h
>

46 
	~<limôs.h
>

48 
	~"∑thmax.h
"

49 #i‚de‡
PATH_MAX


50 
	#PATH_MAX
 8192

	)

53 
	~"c⁄figmake.h
"

55 
	~<sys/time.h
>

56 
	~<time.h
>

59 #i‡
MAJOR_IN_MKDEV


60 
	~<sys/mkdev.h
>

61 
	#HAVE_MAJOR


	)

63 #i‡
MAJOR_IN_SYSMACROS


64 
	~<sys/sysma¸os.h
>

65 
	#HAVE_MAJOR


	)

67 #ifde‡
maj‹


68 
	#HAVE_MAJOR


	)

71 #i‚de‡
HAVE_MAJOR


72 
	#maj‹
(
dev
Ë(((devË>> 8Ë& 0xff)

	)

73 
	#mö‹
(
dev
Ë((devË& 0xff)

	)

74 
	#makedev
(
maj
, 
mö
Ë(((majË<< 8Ë| (mö))

	)

76 #unde‡
HAVE_MAJOR


78 #i‡! 
deföed
 
makedev
 && deföed 
mkdev


79 
	#makedev
(
maj
, 
mö
Ë
	`mkdev
 (maj, mö)

	)

82 
	~<°rög.h
>

83 
	~<î∫o.h
>

88 #i‚de‡
ENODATA


89 
	#ENODATA
 (-1)

	)

92 
	~<°dboﬁ.h
>

93 
	~<°dlib.h
>

94 
	~"vîsi⁄.h
"

99 
	mEXIT_TIMEDOUT
 = 124,

100 
	mEXIT_CANCELED
 = 125,

101 
	mEXIT_CANNOT_INVOKE
 = 126,

102 
	mEXIT_ENOENT
 = 127

105 
	~"exôÁû.h
"

108 
ölöe
 

109 
	$öôülize_exô_Áûuª
 (
°©us
)

111 i‡(
°©us
 !
EXIT_FAILURE
)

112 
exô_Áûuª
 = 
°©us
;

113 
	}
}

115 
	~<f˙é.h
>

117 
	~<dúít.h
>

118 #i‚de‡
_D_EXACT_NAMLEN


119 
	#_D_EXACT_NAMLEN
(
dp
Ë
	`°æí
 ((dp)->
d_«me
)

	)

124 
	mNOT_AN_INODE_NUMBER
 = 0

127 #ifde‡
D_INO_IN_DIRENT


128 
	#D_INO
(
dp
Ë(dp)->
d_öo


	)

131 
	#D_INO
(
dp
Ë
NOT_AN_INODE_NUMBER


	)

135 
	~<öây≥s.h
>

139 #i‚de‡
öôülize_maö


140 
	#öôülize_maö
(
ac
, 
av
)

	)

143 
	~"°©-ma¸os.h
"

145 
	~"time•ec.h
"

147 
	~<˘y≥.h
>

156 
	#ISDIGIT
(
c
Ë((Ë(cË- '0' <9)

	)

161 
ölöe
 
	$to_uch¨
 (
ch
Ë{  ch; 
	}
}

163 
	~<loˇÀ.h
>

167 
	~"gëãxt.h
"

168 #i‡! 
ENABLE_NLS


169 #unde‡
ãxtdomaö


170 
	#ãxtdomaö
(
Domaö«me
Ë

	)

171 #unde‡
bödãxtdomaö


172 
	#bödãxtdomaö
(
Domaö«me
, 
Dú«me
Ë

	)

175 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

176 
	#N_
(
msgid
Ë
	)
msgid

180 
ölöe
 

181 
	$£À˘_∂uøl
 (
uötmax_t
 
n
)

185 íum { 
PLURAL_REDUCER
 = 1000000 };

186  (
n
 <
ULONG_MAX
 ?Ç :Ç % 
PLURAL_REDUCER
 + PLURAL_REDUCER);

187 
	}
}

189 
	#STREQ
(
a
, 
b
Ë(
	`°rcmp
 (a, bË=0)

	)

190 
	#STREQ_LEN
(
a
, 
b
, 
n
Ë(
	`°∫cmp
 (a, b,ÇË=0)

	)

191 
	#STRPREFIX
(
a
, 
b
Ë(
	`°∫cmp
◊, b, 
	`°æí
 (b)Ë=0)

	)

195 
	#STRNCMP_LIT
(
s
, 
lôîÆ
) \

196 
	`°∫cmp
 (
s
, "" 
lôîÆ
 "",  (lôîÆË- 1)

	)

198 #i‡!
HAVE_DECL_GETLOGIN


199 *
gëlogö
 ();

202 #i‡!
HAVE_DECL_TTYNAME


203 *
ây«me
 ();

206 #i‡!
HAVE_DECL_GETEUID


207 
uid_t
 
gëeuid
 ();

210 #i‡!
HAVE_DECL_GETPWUID


211 
∑sswd
 *
gëpwuid
 ();

214 #i‡!
HAVE_DECL_GETGRGID


215 
group
 *
gëgrgid
 ();

224 #i‡! 
HAVE_SETGROUPS


225 #i‡
HAVE_GETGRGID_NOMEMBERS


226 
	#gëgrgid
(
gid
Ë
	`gëgrgid_nomembîs
(gid)

	)

228 #i‡
HAVE_GETGRNAM_NOMEMBERS


229 
	#gëg∫am
(
«m
Ë
	`gëg∫am_nomembîs
“am)

	)

231 #i‡
HAVE_GETGRENT_NOMEMBERS


232 
	#gëgª¡
(Ë
	`gëgª¡_nomembîs
()

	)

236 #i‡!
HAVE_DECL_GETUID


237 
uid_t
 
gëuid
 ();

240 
	~"xÆloc.h
"

241 
	~"vîify.h
"

247 
	#X2NREALLOC
(
P
, 
PN
Ë((Ë
	`vîify_åue
 ( *(P) != 1), \

248 
	`x2ƒóŒoc
 (
P
, 
PN
,  *(P)))

	)

254 
	#X2REALLOC
(
P
, 
PN
Ë((Ë
	`vîify_åue
 ( *(P) == 1), \

255 
	`x2ªÆloc
 (
P
, 
PN
))

	)

257 
	~"u∆ocked-io.h
"

258 
	~"ßme-öode.h
"

260 
	~"dú«me.h
"

261 
	~"›í©.h
"

263 
ölöe
 
boﬁ


264 
	$dŸ_‹_dŸdŸ
 (c⁄° *
fûe_«me
)

266 i‡(
fûe_«me
[0] == '.')

268 
£p
 = 
fûe_«me
[(file_name[1] == '.') + 1];

269  (! 
£p
 || 
	`ISSLASH
 (sep));

272  
Ál£
;

273 
	}
}

276 
ölöe
 
dúít
 const *

277 
	$ªaddú_ign‹ög_dŸ_™d_dŸdŸ
 (
DIR
 *
dúp
)

281 
dúít
 c⁄° *
dp
 = 
	`ªaddú
 (
dúp
);

282 i‡(
dp
 =
NULL
 || ! 
	`dŸ_‹_dŸdŸ
 (dp->
d_«me
))

283  
dp
;

285 
	}
}

288 
ölöe
 
boﬁ


289 
	$is_em±y_dú
 (
fd_cwd
, c⁄° *
dú
)

291 
DIR
 *
dúp
;

292 
dúít
 c⁄° *
dp
;

293 
ßved_î∫o
;

294 
fd
 = 
	`›í©
 (
fd_cwd
, 
dú
,

295 (
O_RDONLY
 | 
O_DIRECTORY


296 | 
O_NOCTTY
 | 
O_NOFOLLOW
 | 
O_NONBLOCK
));

298 i‡(
fd
 < 0)

299  
Ál£
;

301 
dúp
 = 
	`fd›ídú
 (
fd
);

302 i‡(
dúp
 =
NULL
)

304 
	`˛o£
 (
fd
);

305  
Ál£
;

308 
î∫o
 = 0;

309 
dp
 = 
	`ªaddú_ign‹ög_dŸ_™d_dŸdŸ
 (
dúp
);

310 
ßved_î∫o
 = 
î∫o
;

311 
	`˛o£dú
 (
dúp
);

312 i‡(
dp
 !
NULL
)

313  
Ál£
;

314  
ßved_î∫o
 =0 ? 
åue
 : 
Ál£
;

315 
	}
}

324 
	mGETOPT_HELP_CHAR
 = (
CHAR_MIN
 - 2),

325 
	mGETOPT_VERSION_CHAR
 = (
CHAR_MIN
 - 3)

328 
	#GETOPT_HELP_OPTION_DECL
 \

329 "hñp", 
no_¨gumít
, 
NULL
, 
GETOPT_HELP_CHAR


	)

330 
	#GETOPT_VERSION_OPTION_DECL
 \

331 "vîsi⁄", 
no_¨gumít
, 
NULL
, 
GETOPT_VERSION_CHAR


	)

332 
	#GETOPT_SELINUX_CONTEXT_OPTION_DECL
 \

333 "c⁄ãxt", 
ªquúed_¨gumít
, 
NULL
, 'Z'

	)

335 
	#ˇ£_GETOPT_HELP_CHAR
 \

336 
GETOPT_HELP_CHAR
: \

337 
	`ußge
 (
EXIT_SUCCESS
); \

338 ;

	)

342 
	#USAGE_BUILTIN_WARNING
 \

343 
	`_
("\n" \

346 "f‹ dëaû†abouàthê›ti⁄†ô suµ‹ts.\n")

	)

348 
	#HELP_OPTION_DESCRIPTION
 \

349 
	`_
(" --hñ∞ di•œyÅhi†hñ∞™dÉxô\n")

	)

350 
	#VERSION_OPTION_DESCRIPTION
 \

351 
	`_
(" --vîsi⁄ ouçuàvîsi⁄ inf‹m©i⁄ándÉxô\n")

	)

353 
	~"˛o£ö.h
"

354 
	~"˛o£out.h
"

356 
	#emô_bug_ªp‹tög_addªss
 
unu£d__emô_bug_ªp‹tög_addªss


	)

357 
	~"vîsi⁄-ëc.h
"

358 #unde‡
emô_bug_ªp‹tög_addªss


360 
	~"¥›î«me.h
"

366 
	#¥›î_«me
(
x
Ë(x)

	)

368 
	~"¥og«me.h
"

370 
	#ˇ£_GETOPT_VERSION_CHAR
(
Progøm_«me
, 
Auth‹s
) \

371 
GETOPT_VERSION_CHAR
: \

372 
	`vîsi⁄_ëc
 (
°dout
, 
Progøm_«me
, 
PACKAGE_NAME
, 
Vîsi⁄
, 
Auth‹s
, \

373 (*Ë
NULL
); \

374 
	`exô
 (
EXIT_SUCCESS
); \

375 ;

	)

377 #i‚de‡
MAX


378 
	#MAX
(
a
, 
b
Ë(◊Ë> (bË? (aË: (b))

	)

381 #i‚de‡
MIN


382 
	#MIN
(
a
,
b
Ë((◊Ë< (b)Ë? (aË: (b))

	)

385 
	~"öçr›s.h
"

387 #i‚de‡
SSIZE_MAX


388 
	#SSIZE_MAX
 
	`TYPE_MAXIMUM
 (
ssize_t
)

	)

391 #i‚de‡
OFF_T_MIN


392 
	#OFF_T_MIN
 
	`TYPE_MINIMUM
 (
off_t
)

	)

395 #i‚de‡
OFF_T_MAX


396 
	#OFF_T_MAX
 
	`TYPE_MAXIMUM
 (
off_t
)

	)

399 #i‚de‡
UID_T_MAX


400 
	#UID_T_MAX
 
	`TYPE_MAXIMUM
 (
uid_t
)

	)

403 #i‚de‡
GID_T_MAX


404 
	#GID_T_MAX
 
	`TYPE_MAXIMUM
 (
gid_t
)

	)

407 #i‚de‡
PID_T_MAX


408 
	#PID_T_MAX
 
	`TYPE_MAXIMUM
 (
pid_t
)

	)

412 #ifde‡
löt


413 
	#IF_LINT
(
Code
Ë
	)
Code

415 
	#IF_LINT
(
Code
Ë

	)

418 #i‚de‡
__©åibuã__


419 #i‡
__GNUC__
 < 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 < 8)

420 
	#__©åibuã__
(
x
Ë

	)

424 #i‚de‡
ATTRIBUTE_NORETURN


425 
	#ATTRIBUTE_NORETURN
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

	)

428 #i‚de‡
ATTRIBUTE_UNUSED


429 
	#ATTRIBUTE_UNUSED
 
	`__©åibuã__
 ((
__unu£d__
))

	)

433 #unde‡
ATTRIBUTE_WARN_UNUSED_RESULT


434 #i‡
__GNUC__
 < 3 || (__GNUC__ =3 && 
__GNUC_MINOR__
 < 4)

435 
	#ATTRIBUTE_WARN_UNUSED_RESULT


	)

437 
	#ATTRIBUTE_WARN_UNUSED_RESULT
 
	`__©åibuã__
 ((
__w¨n_unu£d_ªsu…__
))

	)

440 #i‡
deföed
 
°rdu∑


441 
	#ASSIGN_STRDUPA
(
DEST
, 
S
) \

442 dÿ{ 
DEST
 = 
	`°rdu∑
 (
S
); } 0)

	)

444 
	#ASSIGN_STRDUPA
(
DEST
, 
S
) \

447 c⁄° *
s_
 = (
S
); \

448 
size_t
 
Àn_
 = 
	`°æí
 (
s_
) + 1; \

449 *
tmp_de°_
 = 
	`Æloˇ
 (
Àn_
); \

450 
DEST
 = 
	`mem˝y
 (
tmp_de°_
, 
s_
, 
Àn_
); \

452 0)

	)

455 #i‡! 
HAVE_SYNC


456 
	#sync
(Ë

	)

462 
ölöe
 
size_t
 
_GL_ATTRIBUTE_CONST


463 
	$gcd
 (
size_t
 
u
, size_à
v
)

467 
size_t
 
t
 = 
u
 % 
v
;

468 
u
 = 
v
;

469 
v
 = 
t
;

471 
v
);

473  
u
;

474 
	}
}

480 
ölöe
 
size_t
 
_GL_ATTRIBUTE_CONST


481 
	$lcm
 (
size_t
 
u
, size_à
v
)

483  
u
 * (
v
 / 
	`gcd
 (u, v));

484 
	}
}

491 
ölöe
 *

492 
	$±r_Æign
 (c⁄° *
±r
, 
size_t
 
Æignmít
)

494 c⁄° *
p0
 = 
±r
;

495 c⁄° *
p1
 = 
p0
 + 
Æignmít
 - 1;

496  (*Ë(
p1
 - (
size_t
Ëp1 % 
Æignmít
);

497 
	}
}

502 
ölöe
 
boﬁ
 
_GL_ATTRIBUTE_PURE


503 
	$is_nul
 (c⁄° *
buf
, 
size_t
 
bufsize
)

505 
uöçå_t
 
	tw‹d
;

508 
w‹d
 *
wp
 = (w‹d *Ë
buf
;

509 *
wp
++ == 0)

513 *
˝
 = (*Ë(
wp
 - 1);

514 *
˝
++ == 0)

517  
˝
 > 
buf
 + 
bufsize
;

518 
	}
}

531 
	#DECIMAL_DIGIT_ACCUMULATE
(
Accum
, 
Digô_vÆ
, 
Ty≥
) \

533 (Ë(&(
Accum
Ë=(
Ty≥
 *Ë
NULL
), \

534 (Ë
	`vîify_åue
 (! 
	`TYPE_SIGNED
 (
Ty≥
)), \

535 (Ë
	`vîify_åue
 ( (
Accum
Ë= (
Ty≥
)), \

536 (((
Ty≥
Ë-1 / 10 < (
Accum
) \

537 || (
Ty≥
Ë((
Accum
Ë* 10 + (
Digô_vÆ
)) < (Accum)) \

538 ? 
Ál£
 : (((
Accum
Ë(AccumË* 10 + (
Digô_vÆ
)), 
åue
)) \

539 )

	)

541 
ölöe
 

542 
	$emô_m™d©‹y_¨g_nŸe
 ()

544 
	`Âuts
 (
	`_
("\n\
árgumít†tÿl⁄g o±i⁄†¨êm™d©‹y f‹ sh‹à›ti⁄†too.\n\
"), 
°dout
);

547 
	}
}

549 
ölöe
 

550 
	$emô_size_nŸe
 ()

552 
	`Âuts
 (
	`_
("\n\
 i†™ i¡egîánd o±i⁄Æ unô (exam∂e: 10M i†10*1024*1024). Unôs\n\
 K, M, G, T, P, E, Z, Y (powî†o‡1024Ë‹ KB, MB, ... (powî†o‡1000).\n\
"), 
°dout
);

556 
	}
}

558 
ölöe
 

559 
	$emô_blocksize_nŸe
 (c⁄° *
¥ogøm
)

561 
	`¥ötf
 (
	`_
("\n\
 vÆue†¨êö unô†o‡thêfú°ávaûabÀ SIZE from --block-size,\n\
Åhê%s_BLOCK_SIZE, BLOCK_SIZEánd BLOCKSIZEÉnvú⁄míàv¨übÀs.\n\
, unô†deÁu…Åÿ1024 byã†(‹ 512 i‡POSIXLY_CORRECT i†£t).\n\
"), 
¥ogøm
);

566 
	}
}

568 
ölöe
 

569 
	$emô_™cûœry_öfo
 ()

571 
	`¥ötf
 (
	`_
("\nRï‹à%†bug†tÿ%s\n"), 
	`œ°_comp⁄ít
 (
¥ogøm_«me
),

572 
PACKAGE_BUGREPORT
);

573 
	`¥ötf
 (
	`_
("%†homê∑ge: <%s>\n"), 
PACKAGE_NAME
, 
PACKAGE_URL
);

574 
	`Âuts
 (
	`_
("General help using GNU software: <http://www.gnu.org/gethelp/>\n"),

575 
°dout
);

578 c⁄° *
lc_mesßges
 = 
	`£éoˇÀ
 (
LC_MESSAGES
, 
NULL
);

579 i‡(
lc_mesßges
 && 
	`STRNCMP_LIT
 (lc_messages, "en_"))

585 
	`¥ötf
 (
	`_
("Report %sÅranslation bugsÅo "

587 
	`œ°_comp⁄ít
 (
¥ogøm_«me
));

589 
	`¥ötf
 (
	`_
("For complete documentation,Ñun: "

590 "öfÿc‹eutû†'%†övoˇti⁄'\n"), 
	`œ°_comp⁄ít
 (
¥ogøm_«me
));

591 
	}
}

593 
ölöe
 

594 
	$emô_åy_hñp
 ()

596 
	`Ârötf
 (
°dîr
, 
	`_
("Try '%†--hñp' f‹ m‹êöf‹m©i⁄.\n"), 
¥ogøm_«me
);

597 
	}
}

599 
	~"öâo°r.h
"

601 
ölöe
 *

602 
	$timëo°r
 (
time_t
 
t
, *
buf
)

604  (
	`TYPE_SIGNED
 (
time_t
)

605 ? 
	`imaxto°r
 (
t
, 
buf
)

606 : 
	`umaxto°r
 (
t
, 
buf
));

607 
	}
}

609 
ölöe
 *

610 
	$bad_ˇ°
 (c⁄° *
s
)

612  (*Ë
s
;

613 
	}
}

616 
ölöe
 
boﬁ


617 
	$ußbÀ_°_size
 (
°©
 c⁄° *
sb
)

619  (
	`S_ISREG
 (
sb
->
°_mode
Ë|| 
	`S_ISLNK
 (sb->st_mode)

620 || 
	`S_TYPEISSHM
 (
sb
Ë|| 
	`S_TYPEISTMO
 (sb));

621 
	}
}

623 
	$ußge
 (
°©us
Ë
ATTRIBUTE_NORETURN
;

625 
	#emô_cy˛e_w¨nög
(
fûe_«me
) \

628 
	`îr‹
 (0, 0, 
	`_
("\
: Circular directory structure.\n\
álmost certainly meansÅhat you haveá corrupted file system.\n\
 YOUR SYSTEM MANAGER.\n\
 following directory isÖart ofÅhe cycle:\n %s\n"), \

633 
	`quŸe
 (
fûe_«me
)); \

634 
	}
} \

635 0)

	)

642 
ölöe
 *

643 
	$°zn˝y
 (*
ª°ri˘
 
de°
, c⁄° *ª°ri˘ 
§c
, 
size_t
 
Àn
)

645 c⁄° *
§c_íd
 = 
§c
 + 
Àn
;

646 
§c
 < 
§c_íd
 && *src)

647 *
de°
++ = *
§c
++;

648 *
de°
 = 0;

649  
de°
;

650 
	}
}

652 #i‚de‡
ARRAY_CARDINALITY


653 
	#ARRAY_CARDINALITY
(
Aºay
Ë( (AºayË/  *(Aºay))

	)

	@tac-pipe.c

19 
	~<as£π.h
>

22 
	#BUFFER_SIZE
 (8)

	)

24 
	#LEN
(
X
, 
I
Ë((X)->
p
[(I)].
⁄e_∑°_íd
 - (X)->p[(I)].
°¨t
)

	)

25 
	#EMPTY
(
X
Ë((X)->
n_bufs
 =1 && 
	`LEN
 (X, 0Ë=0)

	)

27 
	#ONE_PAST_END
(
X
, 
I
Ë((X)->
p
[(I)].
⁄e_∑°_íd
)

	)

29 
	sLöe_±r


31 
size_t
 
	mi
;

32 *
	m±r
;

34 
Löe_±r
 
	tLöe_±r
;

36 
	sB_∑ú


38 *
	m°¨t
;

39 *
	m⁄e_∑°_íd
;

42 
	sBuf


44 
size_t
 
	mn_bufs
;

45 
ob°ack
 
	mobs
;

46 
B_∑ú
 *
	mp
;

48 
Buf
 
	tBuf
;

50 
boﬁ


51 
	$buf_öô_‰om_°dö
 (
Buf
 *
x
, 
eﬁ_byã
)

53 
boﬁ
 
œ°_byã_is_eﬁ_byã
 = 
åue
;

54 
boﬁ
 
ok
 = 
åue
;

56 
	#OBS
 (&(
x
->
obs
))

	)

57 
	`ob°ack_öô
 (
OBS
);

61 *
buf
 = (*Ë
	`mÆloc
 (
BUFFER_SIZE
);

62 
size_t
 
byãs_ªad
;

64 i‡(
buf
 =
NULL
)

69 
ok
 = 
Ál£
;

72 
byãs_ªad
 = 
	`fuŒ_ªad
 (
STDIN_FILENO
, 
buf
, 
BUFFER_SIZE
);

73 i‡(
byãs_ªad
 !
buf„r_size
 && 
î∫o
 != 0)

74 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

77 
B_∑ú
 
bp
;

78 
bp
.
°¨t
 = 
buf
;

79 
bp
.
⁄e_∑°_íd
 = 
buf
 + 
byãs_ªad
;

80 
	`ob°ack_grow
 (
OBS
, &
bp
,  (bp));

83 i‡(
byãs_ªad
 != 0)

84 
œ°_byã_is_eﬁ_byã
 = (
buf
[
byãs_ªad
 - 1] =
eﬁ_byã
);

86 i‡(
byãs_ªad
 < 
BUFFER_SIZE
)

90 i‡(
ok
)

94 i‡(!
œ°_byã_is_eﬁ_byã
)

96 *
buf
 = 
	`mÆloc
 (1);

97 i‡(
buf
 =
NULL
)

100 
ok
 = 
Ál£
;

104 
B_∑ú
 
bp
;

105 *
buf
 = 
eﬁ_byã
;

106 
bp
.
°¨t
 = 
buf
;

107 
bp
.
⁄e_∑°_íd
 = 
buf
 + 1;

108 
	`ob°ack_grow
 (
OBS
, &
bp
,  (bp));

113 
x
->
n_bufs
 = 
	`ob°ack_obje˘_size
 (
OBS
Ë/  (x->
p
[0]);

114 
x
->
p
 = (
B_∑ú
 *Ë
	`ob°ack_föish
 (
OBS
);

118 i‡(
x
->
n_bufs
 >= 2

119 && 
x
->
p
[x->
n_bufs
 - 1].
°¨t
 =x->p[x->n_buf†- 1].
⁄e_∑°_íd
)

120 
	`‰ì
 (
x
->
p
[--(x->
n_bufs
)].
°¨t
);

122  
ok
;

123 
	}
}

126 
	$buf_‰ì
 (
Buf
 *
x
)

128 
size_t
 
i
;

129 
i
 = 0; i < 
x
->
n_bufs
; i++)

130 
	`‰ì
 (
x
->
p
[
i
].
°¨t
);

131 
	`ob°ack_‰ì
 (
OBS
, 
NULL
);

132 
	}
}

134 
Löe_±r


135 
	$löe_±r_de¸emít
 (c⁄° 
Buf
 *
x
, c⁄° 
Löe_±r
 *
Õ
)

137 
Löe_±r
 
Õ_√w
;

139 i‡(
Õ
->
±r
 > 
x
->
p
[Õ->
i
].
°¨t
)

141 
Õ_√w
.
i
 = 
Õ
->i;

142 
Õ_√w
.
±r
 = 
Õ
->ptr - 1;

146 
	`as£π
 (
Õ
->
i
 > 0);

147 
Õ_√w
.
i
 = 
Õ
->i - 1;

148 
Õ_√w
.
±r
 = 
	`ONE_PAST_END
 (
x
, 
Õ
->
i
 - 1) - 1;

150  
Õ_√w
;

151 
	}
}

153 
Löe_±r


154 
	$löe_±r_ö¸emít
 (c⁄° 
Buf
 *
x
, c⁄° 
Löe_±r
 *
Õ
)

156 
Löe_±r
 
Õ_√w
;

158 
	`as£π
 (
Õ
->
±r
 <
	`ONE_PAST_END
 (
x
,Üp->
i
) - 1);

159 i‡(
Õ
->
±r
 < 
	`ONE_PAST_END
 (
x
,Üp->
i
) - 1)

161 
Õ_√w
.
i
 = 
Õ
->i;

162 
Õ_√w
.
±r
 = 
Õ
->ptr + 1;

166 
	`as£π
 (
Õ
->
i
 < 
x
->
n_bufs
 - 1);

167 
Õ_√w
.
i
 = 
Õ
->i + 1;

168 
Õ_√w
.
±r
 = 
x
->
p
[
Õ
->
i
 + 1].
°¨t
;

170  
Õ_√w
;

171 
	}
}

173 
boﬁ


174 
	$föd_bﬁ
 (c⁄° 
Buf
 *
x
,

175 c⁄° 
Löe_±r
 *
œ°_bﬁ
, Löe_±∏*
√w_bﬁ
, 
eﬁ_byã
)

177 
size_t
 
i
;

178 
Löe_±r
 
tmp
;

179 *
œ°_bﬁ_±r
;

181 i‡(
œ°_bﬁ
->
±r
 =
x
->
p
[0].
°¨t
)

182  
Ál£
;

184 
tmp
 = 
	`löe_±r_de¸emít
 (
x
, 
œ°_bﬁ
);

185 
œ°_bﬁ_±r
 = 
tmp
.
±r
;

186 
i
 = 
tmp
.i;

189 *
∆
 = 
	`memrchr
 (
x
->
p
[
i
].
°¨t
, 
œ°_bﬁ_±r
, 
eﬁ_byã
);

190 i‡(
∆
)

192 
Löe_±r
 
∆_pos
;

193 
∆_pos
.
i
 = i;

194 
∆_pos
.
±r
 = 
∆
;

195 *
√w_bﬁ
 = 
	`löe_±r_ö¸emít
 (
x
, &
∆_pos
);

196  
åue
;

199 i‡(
i
 == 0)

202 --
i
;

203 
œ°_bﬁ_±r
 = 
	`ONE_PAST_END
 (
x
, 
i
);

209 i‡(
œ°_bﬁ
->
±r
 !
x
->
p
[0].
°¨t
)

211 
√w_bﬁ
->
i
 = 0;

212 
√w_bﬁ
->
±r
 = 
x
->
p
[0].
°¨t
;

213  
åue
;

216  
Ál£
;

217 
	}
}

220 
	$¥öt_löe
 (
FILE
 *
out_°ªam
, c⁄° 
Buf
 *
x
,

221 c⁄° 
Löe_±r
 *
bﬁ
, c⁄° Löe_±∏*
bﬁ_√xt
)

223 
size_t
 
i
;

224 
i
 = 
bﬁ
->i; i <
bﬁ_√xt
->i; i++)

226 *
a
 = (
i
 =
bﬁ
->ò? bﬁ->
±r
 : 
x
->
p
[i].
°¨t
);

227 *
b
 = (
i
 =
bﬁ_√xt
->ò? bﬁ_√xt->
±r
 : 
	`ONE_PAST_END
 (
x
, i));

228 
	`fwrôe
 (
a
, 1, 
b
 -á, 
out_°ªam
);

230 
	}
}

232 
boﬁ


233 
	$èc_mem
 ()

235 
Buf
 
x
;

236 
Löe_±r
 
bﬁ
;

237 
eﬁ_byã
 = '\n';

239 i‡(! 
	`buf_öô_‰om_°dö
 (&
x
, 
eﬁ_byã
))

241 
	`buf_‰ì
 (&
x
);

242  
Ál£
;

246 i‡(
	`EMPTY
 (&
x
))

247  
åue
;

250 
bﬁ
.
i
 = 
x
.
n_bufs
 - 1;

251 
bﬁ
.
±r
 = 
	`ONE_PAST_END
 (&
x
, bﬁ.
i
);

255 
Löe_±r
 
√w_bﬁ
;

256 i‡(! 
	`föd_bﬁ
 (&
x
, &
bﬁ
, &
√w_bﬁ
, 
eﬁ_byã
))

258 
	`¥öt_löe
 (
°dout
, &
x
, &
√w_bﬁ
, &
bﬁ
);

259 
bﬁ
 = 
√w_bﬁ
;

261  
åue
;

262 
	}
}

	@tac.c

37 
	~<c⁄fig.h
>

39 
	~<°dio.h
>

40 
	~<gë›t.h
>

41 
	~<sys/ty≥s.h
>

42 
	~"sy°em.h
"

44 
	~<ªgex.h
>

46 
	~"îr‹.h
"

47 
	~"fûíameˇt.h
"

48 
	~"quŸe.h
"

49 
	~"quŸórg.h
"

50 
	~"ß„-ªad.h
"

51 
	~"°dlib--.h
"

52 
	~"x‰e›í.h
"

55 
	#PROGRAM_NAME
 "èc"

	)

57 
	#AUTHORS
 \

58 
	`¥›î_«me
 ("Jay Lepreau"), \

59 
	`¥›î_«me
 ("David MacKízõ")

	)

61 #i‡
deföed
 
__MSDOS__
 || deföed 
_WIN32


66 
	#DONT_UNLINK_WHILE_OPEN
 1

	)

70 #i‚de‡
DEFAULT_TMPDIR


71 
	#DEFAULT_TMPDIR
 "/tmp"

	)

75 
	#INITIAL_READSIZE
 8192

	)

78 
	#WRITESIZE
 8192

	)

81 c⁄° *
	g£∑øt‹
;

84 
boﬁ
 
	ghave_ªad_°dö
 = 
Ál£
;

88 
boﬁ
 
	g£∑øt‹_íds_ªc‹d
;

93 
size_t
 
	g£¡öñ_Àngth
;

98 
size_t
 
	gm©ch_Àngth
;

101 *
	gG_buf„r
;

104 
size_t
 
	gªad_size
;

109 
size_t
 
	gG_buf„r_size
;

112 
ª_∑âîn_buf„r
 
	gcompûed_£∑øt‹
;

113 
	gcompûed_£∑øt‹_Á°m≠
[
UCHAR_MAX
 + 1];

114 
ª_ªgi°îs
 
	gªgs
;

116 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

118 {"bef‹e", 
no_¨gumít
, 
NULL
, 'b'},

119 {"ªgex", 
no_¨gumít
, 
NULL
, 'r'},

120 {"£∑øt‹", 
ªquúed_¨gumít
, 
NULL
, 's'},

121 {
GETOPT_HELP_OPTION_DECL
},

122 {
GETOPT_VERSION_OPTION_DECL
},

123 {
NULL
, 0, NULL, 0}

127 
	$ußge
 (
°©us
)

129 i‡(
°©us
 !
EXIT_SUCCESS
)

130 
	`emô_åy_hñp
 ();

133 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

136 
¥ogøm_«me
);

137 
	`Âuts
 (
	`_
("\
Éach FILEÅÿ°™d¨d ouçut,Üa°Üöêfú°.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

142 
	`emô_m™d©‹y_¨g_nŸe
 ();

144 
	`Âuts
 (
	`_
("\
-b, --bef‹êáâachÅhê£∑øt‹ bef‹êö°ód o‡a·î\n\
-r, --ªgex i¡î¥ëÅhê£∑øt‹á†®ªguœ∏ex¥essi⁄\n\
-s, --£∑øt‹=STRING u£ STRINGá†thê£∑øt‹ in°ód o‡√wlöe\n\
"), 
°dout
);

149 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

150 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

151 
	`emô_™cûœry_öfo
 ();

153 
	`exô
 (
°©us
);

154 
	}
}

160 
	$ouçut
 (c⁄° *
°¨t
, c⁄° *
∑°_íd
)

162 
buf„r
[
WRITESIZE
];

163 
size_t
 
byãs_ö_buf„r
 = 0;

164 
size_t
 
byãs_to_add
 = 
∑°_íd
 - 
°¨t
;

165 
size_t
 
byãs_avaûabÀ
 = 
WRITESIZE
 - 
byãs_ö_buf„r
;

167 i‡(
°¨t
 == 0)

169 
	`fwrôe
 (
buf„r
, 1, 
byãs_ö_buf„r
, 
°dout
);

170 
byãs_ö_buf„r
 = 0;

175 
byãs_to_add
 >
byãs_avaûabÀ
)

177 
	`mem˝y
 (
buf„r
 + 
byãs_ö_buf„r
, 
°¨t
, 
byãs_avaûabÀ
);

178 
byãs_to_add
 -
byãs_avaûabÀ
;

179 
°¨t
 +
byãs_avaûabÀ
;

180 
	`fwrôe
 (
buf„r
, 1, 
WRITESIZE
, 
°dout
);

181 
byãs_ö_buf„r
 = 0;

182 
byãs_avaûabÀ
 = 
WRITESIZE
;

185 
	`mem˝y
 (
buf„r
 + 
byãs_ö_buf„r
, 
°¨t
, 
byãs_to_add
);

186 
byãs_ö_buf„r
 +
byãs_to_add
;

187 
	}
}

192 
boﬁ


193 
	$èc_£ekabÀ
 (
öput_fd
, c⁄° *
fûe
)

197 *
m©ch_°¨t
;

201 *
∑°_íd
;

204 
size_t
 
ßved_ªc‹d_size
;

207 
off_t
 
fûe_pos
;

211 
boﬁ
 
fú°_time
 = 
åue
;

212 
fú°_ch¨
 = *
£∑øt‹
;

213 c⁄° *
£∑øt‹1
 = 
£∑øt‹
 + 1;

214 
size_t
 
m©ch_Àngth1
 = 
m©ch_Àngth
 - 1;

217 
fûe_pos
 = 
	`l£ek
 (
öput_fd
, 0, 
SEEK_END
);

218 i‡(
fûe_pos
 < 1)

219  
åue
;

226 
ßved_ªc‹d_size
 = 
fûe_pos
 % 
ªad_size
;

227 i‡(
ßved_ªc‹d_size
 == 0)

228 
ßved_ªc‹d_size
 = 
ªad_size
;

229 
fûe_pos
 -
ßved_ªc‹d_size
;

233 i‡(
	`l£ek
 (
öput_fd
, 
fûe_pos
, 
SEEK_SET
) < 0)

234 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: sìk faûed"), 
	`quŸórg_cﬁ⁄
 (
fûe
));

236 i‡(
	`ß„_ªad
 (
öput_fd
, 
G_buf„r
, 
ßved_ªc‹d_size
) != saved_record_size)

238 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑódÉº‹"), 
	`quŸórg_cﬁ⁄
 (
fûe
));

239  
Ál£
;

242 
m©ch_°¨t
 = 
∑°_íd
 = 
G_buf„r
 + 
ßved_ªc‹d_size
;

244 i‡(
£¡öñ_Àngth
)

245 
m©ch_°¨t
 -
m©ch_Àngth1
;

247 
åue
)

255 i‡(
£¡öñ_Àngth
 == 0)

257 
size_t
 
i
 = 
m©ch_°¨t
 - 
G_buf„r
;

258 
ªgoff_t
 
ri
 = 
i
;

259 
ªgoff_t
 
ønge
 = 1 - 
ri
;

260 
ªgoff_t
 
ªt
;

262 i‡(1 < 
ønge
)

263 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("recordÅooÜarge"));

265 i‡(
ønge
 == 1

266 || ((
ªt
 = 
	`ª_£¨ch
 (&
compûed_£∑øt‹
, 
G_buf„r
,

267 
i
, i - 1, 
ønge
, &
ªgs
))

269 
m©ch_°¨t
 = 
G_buf„r
 - 1;

270 i‡(
ªt
 == -2)

272 
	`îr‹
 (
EXIT_FAILURE
, 0,

273 
	`_
("error inÑegularÉxpression search"));

277 
m©ch_°¨t
 = 
G_buf„r
 + 
ªgs
.
°¨t
[0];

278 
m©ch_Àngth
 = 
ªgs
.
íd
[0] -Ñegs.
°¨t
[0];

284 *--
m©ch_°¨t
 !
fú°_ch¨


285 || (
m©ch_Àngth1
 && 
	`°∫cmp
 (
m©ch_°¨t
 + 1, 
£∑øt‹1
,

286 
m©ch_Àngth1
)))

292 i‡(
m©ch_°¨t
 < 
G_buf„r
)

294 i‡(
fûe_pos
 == 0)

297 
	`ouçut
 (
G_buf„r
, 
∑°_íd
);

298  
åue
;

301 
ßved_ªc‹d_size
 = 
∑°_íd
 - 
G_buf„r
;

302 i‡(
ßved_ªc‹d_size
 > 
ªad_size
)

308 *
√wbuf„r
;

309 
size_t
 
off£t
 = 
£¡öñ_Àngth
 ? sentinel_length : 1;

310 
±rdiff_t
 
m©ch_°¨t_off£t
 = 
m©ch_°¨t
 - 
G_buf„r
;

311 
±rdiff_t
 
∑°_íd_off£t
 = 
∑°_íd
 - 
G_buf„r
;

312 
size_t
 
ﬁd_G_buf„r_size
 = 
G_buf„r_size
;

314 
ªad_size
 *= 2;

315 
G_buf„r_size
 = 
ªad_size
 * 2 + 
£¡öñ_Àngth
 + 2;

316 i‡(
G_buf„r_size
 < 
ﬁd_G_buf„r_size
)

317 
	`xÆloc_dõ
 ();

318 
√wbuf„r
 = 
	`xªÆloc
 (
G_buf„r
 - 
off£t
, 
G_buf„r_size
);

319 
√wbuf„r
 +
off£t
;

321 
m©ch_°¨t
 = 
√wbuf„r
 + 
m©ch_°¨t_off£t
;

322 
∑°_íd
 = 
√wbuf„r
 + 
∑°_íd_off£t
;

323 
G_buf„r
 = 
√wbuf„r
;

327 i‡(
fûe_pos
 >
ªad_size
)

328 
fûe_pos
 -
ªad_size
;

331 
ªad_size
 = 
fûe_pos
;

332 
fûe_pos
 = 0;

334 i‡(
	`l£ek
 (
öput_fd
, 
fûe_pos
, 
SEEK_SET
) < 0)

335 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: sìk faûed"), 
	`quŸórg_cﬁ⁄
 (
fûe
));

339 
	`memmove
 (
G_buf„r
 + 
ªad_size
, G_buf„r, 
ßved_ªc‹d_size
);

340 
∑°_íd
 = 
G_buf„r
 + 
ªad_size
 + 
ßved_ªc‹d_size
;

342 i‡(
£¡öñ_Àngth
)

343 
m©ch_°¨t
 = 
G_buf„r
 + 
ªad_size
;

345 
m©ch_°¨t
 = 
∑°_íd
;

347 i‡(
	`ß„_ªad
 (
öput_fd
, 
G_buf„r
, 
ªad_size
) !=Ñead_size)

349 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑódÉº‹"), 
	`quŸórg_cﬁ⁄
 (
fûe
));

350  
Ál£
;

356 i‡(
£∑øt‹_íds_ªc‹d
)

358 *
m©ch_íd
 = 
m©ch_°¨t
 + 
m©ch_Àngth
;

362 i‡(!
fú°_time
 || 
m©ch_íd
 !
∑°_íd
)

363 
	`ouçut
 (
m©ch_íd
, 
∑°_íd
);

364 
∑°_íd
 = 
m©ch_íd
;

365 
fú°_time
 = 
Ál£
;

369 
	`ouçut
 (
m©ch_°¨t
, 
∑°_íd
);

370 
∑°_íd
 = 
m©ch_°¨t
;

374 i‡(
£¡öñ_Àngth
 > 0)

375 
m©ch_°¨t
 -
m©ch_Àngth
 - 1;

378 
	}
}

380 #i‡
DONT_UNLINK_WHILE_OPEN


388 c⁄° *
	gfûe_to_ªmove
;

389 
FILE
 *
	gÂ_to_˛o£
;

392 
	$u∆ök_ãmpfûe
 ()

394 
	`f˛o£
 (
Â_to_˛o£
);

395 
	`u∆ök
 (
fûe_to_ªmove
);

396 
	}
}

399 
	$ªc‹d_‹_u∆ök_ãmpfûe
 (c⁄° *
‚
, 
FILE
 *
Â
)

401 i‡(!
fûe_to_ªmove
)

403 
fûe_to_ªmove
 = 
‚
;

404 
Â_to_˛o£
 = 
Â
;

405 
	`©exô
 (
u∆ök_ãmpfûe
);

407 
	}
}

412 
	$ªc‹d_‹_u∆ök_ãmpfûe
 (c⁄° *
‚
, 
FILE
 *
Â
 
ATTRIBUTE_UNUSED
)

414 
	`u∆ök
 (
‚
);

415 
	}
}

422 
boﬁ


423 
	$ãmp_°ªam
 (
FILE
 **
Â
, **
fûe_«me
)

425 *
ãmpfûe
 = 
NULL
;

426 
FILE
 *
tmp_Â
;

427 i‡(
ãmpfûe
 =
NULL
)

429 c⁄° *
t
 = 
	`gëív
 ("TMPDIR");

430 c⁄° *
ãmpdú
 = 
t
 ?Å : 
DEFAULT_TMPDIR
;

431 
ãmpfûe
 = 
	`mfûe_«me_c⁄ˇt
 (
ãmpdú
, "ècXXXXXX", 
NULL
);

432 i‡(
ãmpdú
 =
NULL
)

434 
	`îr‹
 (0, 0, 
	`_
("memoryÉxhausted"));

435  
Ál£
;

447 
fd
 = 
	`mk°emp
 (
ãmpfûe
);

448 i‡(
fd
 < 0)

450 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo createÅemporary file in %s"),

451 
	`quŸe
 (
ãmpdú
));

452 
Re£t
;

455 
tmp_Â
 = 
	`fd›í
 (
fd
, (
O_BINARY
 ? "w+b" : "w+"));

456 i‡(! 
tmp_Â
)

458 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo open %s for writing"),

459 
	`quŸe
 (
ãmpfûe
));

460 
	`˛o£
 (
fd
);

461 
	`u∆ök
 (
ãmpfûe
);

462 
Re£t
:

463 
	`‰ì
 (
ãmpfûe
);

464 
ãmpfûe
 = 
NULL
;

465  
Ál£
;

468 
	`ªc‹d_‹_u∆ök_ãmpfûe
 (
ãmpfûe
, 
tmp_Â
);

472 i‡(
	`f£eko
 (
tmp_Â
, 0, 
SEEK_SET
) < 0

473 || 
	`·runˇã
 (
	`fûío
 (
tmp_Â
), 0) < 0)

475 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅoÑewind stream for %s"),

476 
	`quŸe
 (
ãmpfûe
));

477  
Ál£
;

481 *
Â
 = 
tmp_Â
;

482 *
fûe_«me
 = 
ãmpfûe
;

483  
åue
;

484 
	}
}

490 
boﬁ


491 
	$c›y_to_ãmp
 (
FILE
 **
g_tmp
, **
g_ãmpfûe
, 
öput_fd
, c⁄° *
fûe
)

493 
FILE
 *
Â
;

494 *
fûe_«me
;

495 i‡(!
	`ãmp_°ªam
 (&
Â
, &
fûe_«me
))

496  
Ál£
;

500 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
öput_fd
, 
G_buf„r
, 
ªad_size
);

501 i‡(
byãs_ªad
 == 0)

503 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

505 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑódÉº‹"), 
	`quŸórg_cﬁ⁄
 (
fûe
));

506 
Faû
;

509 i‡(
	`fwrôe
 (
G_buf„r
, 1, 
byãs_ªad
, 
Â
) != bytes_read)

511 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: wrôêîr‹"), 
	`quŸórg_cﬁ⁄
 (
fûe_«me
));

512 
Faû
;

516 i‡(
	`fÊush
 (
Â
) != 0)

518 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: wrôêîr‹"), 
	`quŸórg_cﬁ⁄
 (
fûe_«me
));

519 
Faû
;

522 *
g_tmp
 = 
Â
;

523 *
g_ãmpfûe
 = 
fûe_«me
;

524  
åue
;

526 
Faû
:

527 
	`f˛o£
 (
Â
);

528  
Ál£
;

529 
	}
}

534 
boﬁ


535 
	$èc_n⁄£ekabÀ
 (
öput_fd
, c⁄° *
fûe
)

537 
FILE
 *
tmp_°ªam
;

538 *
tmp_fûe
;

539 i‡(!
	`c›y_to_ãmp
 (&
tmp_°ªam
, &
tmp_fûe
, 
öput_fd
, 
fûe
))

540  
Ál£
;

542 
boﬁ
 
ok
 = 
	`èc_£ekabÀ
 (
	`fûío
 (
tmp_°ªam
), 
tmp_fûe
);

543  
ok
;

544 
	}
}

550 
boﬁ


551 
	$èc_fûe
 (c⁄° *
fûíame
)

553 
boﬁ
 
ok
;

554 
off_t
 
fûe_size
;

555 
fd
;

556 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûíame
, "-");

558 i‡(
is_°dö
)

560 
have_ªad_°dö
 = 
åue
;

561 
fd
 = 
STDIN_FILENO
;

562 
fûíame
 = 
	`_
("standard input");

563 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

564 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

568 
fd
 = 
	`›í
 (
fûíame
, 
O_RDONLY
 | 
O_BINARY
);

569 i‡(
fd
 < 0)

571 
	`îr‹
 (0, 
î∫o
, 
	`_
("failedÅo open %s forÑeading"),

572 
	`quŸe
 (
fûíame
));

573  
Ál£
;

577 
fûe_size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

579 
ok
 = (
fûe_size
 < 0 || 
	`ißây
 (
fd
)

580 ? 
	`èc_n⁄£ekabÀ
 (
fd
, 
fûíame
)

581 : 
	`èc_£ekabÀ
 (
fd
, 
fûíame
));

583 i‡(!
is_°dö
 && 
	`˛o£
 (
fd
) != 0)

585 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑódÉº‹"), 
	`quŸórg_cﬁ⁄
 (
fûíame
));

586 
ok
 = 
Ál£
;

588  
ok
;

589 
	}
}

592 
	$maö
 (
¨gc
, **
¨gv
)

594 c⁄° *
îr‹_mesßge
;

595 
›tc
;

596 
boﬁ
 
ok
;

597 
size_t
 
hÆf_buf„r_size
;

601 c⁄° *c⁄° 
deÁu…_fûe_li°
[] = {"-", 
NULL
};

602 c⁄° *c⁄° *
fûe
;

604 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

605 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

606 
	`£éoˇÀ
 (
LC_ALL
, "");

607 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

608 
	`ãxtdomaö
 (
PACKAGE
);

610 
	`©exô
 (
˛o£_°dout
);

612 
£∑øt‹
 = "\n";

613 
£¡öñ_Àngth
 = 1;

614 
£∑øt‹_íds_ªc‹d
 = 
åue
;

616 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "brs:", 
l⁄g›ts
, 
NULL
)) != -1)

618 
›tc
)

621 
£∑øt‹_íds_ªc‹d
 = 
Ál£
;

624 
£¡öñ_Àngth
 = 0;

627 
£∑øt‹
 = 
›èrg
;

628 i‡(*
£∑øt‹
 == 0)

629 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("separator cannot beÉmpty"));

631 
ˇ£_GETOPT_HELP_CHAR
;

632 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

634 
	`ußge
 (
EXIT_FAILURE
);

638 i‡(
£¡öñ_Àngth
 == 0)

640 
compûed_£∑øt‹
.
buf„r
 = 
NULL
;

641 
compûed_£∑øt‹
.
Æloˇãd
 = 0;

642 
compûed_£∑øt‹
.
Á°m≠
 = 
compûed_£∑øt‹_Á°m≠
;

643 
compûed_£∑øt‹
.
å™¶©e
 = 
NULL
;

644 
îr‹_mesßge
 = 
	`ª_compûe_∑âîn
 (
£∑øt‹
, 
	`°æí
 (separator),

645 &
compûed_£∑øt‹
);

646 i‡(
îr‹_mesßge
)

647 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s", 
îr‹_mesßge
);

650 
m©ch_Àngth
 = 
£¡öñ_Àngth
 = 
	`°æí
 (
£∑øt‹
);

652 
ªad_size
 = 
INITIAL_READSIZE
;

653 
£¡öñ_Àngth
 >
ªad_size
 / 2)

655 i‡(
SIZE_MAX
 / 2 < 
ªad_size
)

656 
	`xÆloc_dõ
 ();

657 
ªad_size
 *= 2;

659 
hÆf_buf„r_size
 = 
ªad_size
 + 
£¡öñ_Àngth
 + 1;

660 
G_buf„r_size
 = 2 * 
hÆf_buf„r_size
;

661 i‡(! (
ªad_size
 < 
hÆf_buf„r_size
 && hÆf_buf„r_sizê< 
G_buf„r_size
))

662 
	`xÆloc_dõ
 ();

663 
G_buf„r
 = 
	`xmÆloc
 (
G_buf„r_size
);

664 i‡(
£¡öñ_Àngth
)

666 
	`mem˝y
 (
G_buf„r
, 
£∑øt‹
, 
£¡öñ_Àngth
 + 1);

667 
G_buf„r
 +
£¡öñ_Àngth
;

671 ++
G_buf„r
;

674 
fûe
 = (
›töd
 < 
¨gc


675 ? (c⁄° *c⁄° *Ë&
¨gv
[
›töd
]

676 : 
deÁu…_fûe_li°
);

678 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

679 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

682 
size_t
 
i
;

683 
ok
 = 
åue
;

684 
i
 = 0; 
fûe
[i]; ++i)

685 
ok
 &
	`èc_fûe
 (
fûe
[
i
]);

689 
	`ouçut
 ((*Ë
NULL
, (*) NULL);

691 i‡(
have_ªad_°dö
 && 
	`˛o£
 (
STDIN_FILENO
) < 0)

693 
	`îr‹
 (0, 
î∫o
, "-");

694 
ok
 = 
Ál£
;

697 #ifde‡
löt


698 
size_t
 
off£t
 = 
£¡öñ_Àngth
 ? sentinel_length : 1;

699 
	`‰ì
 (
G_buf„r
 - 
off£t
);

702 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

703 
	}
}

	@tail.c

26 
	~<c⁄fig.h
>

28 
	~<°dio.h
>

29 
	~<as£π.h
>

30 
	~<gë›t.h
>

31 
	~<sys/ty≥s.h
>

32 
	~<sig«l.h
>

34 
	~"sy°em.h
"

35 
	~"¨gm©ch.h
"

36 
	~"c-°πod.h
"

37 
	~"îr‹.h
"

38 
	~"f˙é--.h
"

39 
	~"ißpùe.h
"

40 
	~"posixvî.h
"

41 
	~"quŸe.h
"

42 
	~"ß„-ªad.h
"

43 
	~"°©-time.h
"

44 
	~"x‰e›í.h
"

45 
	~"x«no¶ìp.h
"

46 
	~"x°πﬁ.h
"

47 
	~"x°πod.h
"

49 #i‡
HAVE_INOTIFY


50 
	~"hash.h
"

51 
	~<sys/öŸify.h
>

53 
	~<sys/£À˘.h
>

56 
	~"fs.h
"

57 
	~"fs-is-loˇl.h
"

58 #i‡
HAVE_SYS_STATFS_H


59 
	~<sys/°©fs.h
>

60 #ñi‡
HAVE_SYS_VFS_H


61 
	~<sys/vfs.h
>

66 
	#PROGRAM_NAME
 "èû"

	)

68 
	#AUTHORS
 \

69 
	`¥›î_«me
 ("Paul Rubin"), \

70 
	`¥›î_«me
 ("David MacKenzie"), \

71 
	`¥›î_«me
 ("Ian Lance Taylor"), \

72 
	`¥›î_«me
 ("Jim Meyîög")

	)

75 
	#DEFAULT_N_LINES
 10

	)

78 
	#COPY_TO_EOF
 
UINTMAX_MAX


	)

79 
	#COPY_A_BUFFER
 (
UINTMAX_MAX
 - 1)

	)

82 
	#DEFAULT_FOLLOW_MODE
 
Fﬁlow_des¸ùt‹


	)

84 
	eFﬁlow_mode


89 
	mFﬁlow_«me
 = 1,

94 
	mFﬁlow_des¸ùt‹
 = 2

98 
	#IS_TAILABLE_FILE_TYPE
(
Mode
) \

99 (
	`S_ISREG
 (
Mode
Ë|| 
	`S_ISFIFO
 (ModeË|| 
	`S_ISSOCK
 (ModeË|| 
	`S_ISCHR
 (Mode))

	)

101 c⁄° *c⁄° 
	gfﬁlow_mode_°rög
[] =

103 "des¸ùt‹", "«me", 
NULL


106 
Fﬁlow_mode
 c⁄° 
	gfﬁlow_mode_m≠
[] =

108 
Fﬁlow_des¸ùt‹
, 
Fﬁlow_«me
,

111 
	sFûe_•ec


114 *
	m«me
;

117 
off_t
 
	msize
;

118 
time•ec
 
	mmtime
;

119 
dev_t
 
	mdev
;

120 
öo_t
 
	möo
;

121 
mode_t
 
	mmode
;

126 
boﬁ
 
	mign‹e
;

129 
boﬁ
 
	mªmŸe
;

133 
boﬁ
 
	mèûabÀ
;

136 
	mfd
;

139 
	mî∫um
;

142 
	mblockög
;

144 #i‡
HAVE_INOTIFY


146 
	mwd
;

150 
	m∑ª¡_wd
;

153 
size_t
 
	mba£«me_°¨t
;

157 
uötmax_t
 
	mn_unch™ged_°©s
;

160 #i‡
HAVE_INOTIFY


163 c⁄° 
uöt32_t
 
	göŸify_wd_mask
 = (
IN_MODIFY
 | 
IN_ATTRIB


164 | 
IN_DELETE_SELF
 | 
IN_MOVE_SELF
);

169 
boﬁ
 
	gª›í_öac˚ssibÀ_fûes
;

173 
boﬁ
 
	gcou¡_löes
;

177 
Fﬁlow_mode
 
	gfﬁlow_mode
 = 
Fﬁlow_des¸ùt‹
;

180 
boﬁ
 
	gf‹evî
;

183 
boﬁ
 
	g‰om_°¨t
;

186 
boﬁ
 
	g¥öt_hódîs
;

189 
	ehódî_mode


191 
	mmu…ùÀ_fûes
, 
	mÆways
, 
	m√vî


199 
	#DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS
 5

	)

200 
uötmax_t
 
	gmax_n_unch™ged_°©s_bëwìn_›ís
 =

201 
DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS
;

205 
pid_t
 
	gpid
;

208 
boﬁ
 
	ghave_ªad_°dö
;

213 
boﬁ
 
	g¥esume_öput_pùe
;

216 
boﬁ
 
	gdißbÀ_öŸify
;

222 
	mRETRY_OPTION
 = 
CHAR_MAX
 + 1,

223 
	mMAX_UNCHANGED_STATS_OPTION
,

224 
	mPID_OPTION
,

225 
	mPRESUME_INPUT_PIPE_OPTION
,

226 
	mLONG_FOLLOW_OPTION
,

227 
	mDISABLE_INOTIFY_OPTION


230 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

232 {"byãs", 
ªquúed_¨gumít
, 
NULL
, 'c'},

233 {"fﬁlow", 
›ti⁄Æ_¨gumít
, 
NULL
, 
LONG_FOLLOW_OPTION
},

234 {"löes", 
ªquúed_¨gumít
, 
NULL
, 'n'},

235 {"max-unch™ged-°©s", 
ªquúed_¨gumít
, 
NULL
, 
MAX_UNCHANGED_STATS_OPTION
},

236 {"-dißbÀ-öŸify", 
no_¨gumít
, 
NULL
,

237 
DISABLE_INOTIFY_OPTION
},

238 {"pid", 
ªquúed_¨gumít
, 
NULL
, 
PID_OPTION
},

239 {"-¥esume-öput-pùe", 
no_¨gumít
, 
NULL
,

240 
PRESUME_INPUT_PIPE_OPTION
},

241 {"quõt", 
no_¨gumít
, 
NULL
, 'q'},

242 {"ªåy", 
no_¨gumít
, 
NULL
, 
RETRY_OPTION
},

243 {"sûít", 
no_¨gumít
, 
NULL
, 'q'},

244 {"¶ìp-öãrvÆ", 
ªquúed_¨gumít
, 
NULL
, 's'},

245 {"vîbo£", 
no_¨gumít
, 
NULL
, 'v'},

246 {
GETOPT_HELP_OPTION_DECL
},

247 {
GETOPT_VERSION_OPTION_DECL
},

248 {
NULL
, 0, NULL, 0}

252 
	$ußge
 (
°©us
)

254 i‡(
°©us
 !
EXIT_SUCCESS
)

255 
	`emô_åy_hñp
 ();

258 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

261 
¥ogøm_«me
);

262 
	`¥ötf
 (
	`_
("\
Åhêœ° %dÜöe†o‡óch FILEÅÿ°™d¨d ouçut.\n\
 m‹êth™ o√ FILE,Öª˚dêóch wôhá hódî givögÅhêfûê«me.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
DEFAULT_N_LINES
);

268 
	`emô_m™d©‹y_¨g_nŸe
 ();

270 
	`Âuts
 (
	`_
("\
-c, --byãs=K ouçuàthêœ° K byãs;á…î«tivñy, u£ -¯+K\n\
 ouçuàbyã†°¨tög wôhÅhêKth o‡óch fûe\n\
"), 
°dout
);

274 
	`Âuts
 (
	`_
("\
-f, --fﬁlow[={«me|des¸ùt‹}]\n\
áµíded d©®a†thêfûêgrows;\n\
-f, --fﬁlow,ánd --fﬁlow=des¸ùt‹áª\n\
\n\
-F samêa†--fﬁlowÚamê--ªåy\n\
"), 
°dout
);

281 
	`¥ötf
 (
	`_
("\
-n, --lines=K outputÅheÜast KÜines, instead ofÅheÜast %d;\n\
 use -n +KÅo outputÜines starting withÅhe Kth\n\
--max-unchanged-stats=N\n\
 --follow=name,Ñeopená FILE which hasÇot\n\
 sizeáfter N (default %d) iterations\n\
 see if it has been unlinked orÑenamed\n\
(this isÅhe usual case ofÑotatedÜog files).\n\
 inotify,Åhis option isÑarely useful.\n\
"),

291 
DEFAULT_N_LINES
,

292 
DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS


294 
	`Âuts
 (
	`_
("\
--pid=PID wôh -f,Åîmö©êa·îÖro˚s†ID, PID dõs\n\
-q, --quõt, --sûíàÇevî ouçuàhódî†givög fûê«mes\n\
--ªåy kì∞åyögÅÿ›íá fûêeví whí iài†‹\n\
 i«c˚ssibÀ; u£fu»whí fﬁlowög by\n\
, i.e., wôh --fﬁlowÚame\n\
"), 
°dout
);

301 
	`Âuts
 (
	`_
("\
-s, --¶ìp-öãrvÆ=N wôh -f, sÀï f‹áµroxim©ñy N sec⁄ds\n\
(deÁu… 1.0Ëbëwì¿ôî©i⁄s.\n\
 inŸifyánd --pid=P, checkÖro˚s†Pát\n\
 on˚Évîy N sec⁄ds.\n\
-v, --vîbo£álway†ouçuàhódî†givög fûê«mes\n\
"), 
°dout
);

308 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

309 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

310 
	`Âuts
 (
	`_
("\
\n\
Åhêfú° ch¨a˘î o‡K (thênumbî o‡byã†‹ÜöesËi†®'+',\n\
 begönög wôhÅhêKth iãm fromÅhê°¨ào‡óch fûe, othîwi£,\n\
Åhêœ° K iãm†öÅhêfûe. K may havê®mu…ùlõ∏suffix:\n\
 512, kB 1000, K 1024, MB 1000*1000, M 1024*1024,\n\
 1000*1000*1000, G 1024*1024*1024,ánd sÿ⁄ f‹ T, P, E, Z, Y.\n\
\n\
"), 
°dout
);

319 
	`Âuts
 (
	`_
("\
 --fﬁlow (-f),Åaû deÁu…†tÿfﬁlowögÅhêfûêdes¸ùt‹, which\n\
Åh©Éví i‡®èû'ed fûêi†ª«med,Åaû wû»c⁄töuêtÿåack\n\
Énd. Thi†deÁu… behavi‹ i†nŸ desúabÀ whí youÑóŒy w™àto\n\
Åhêa˘uÆÇamêo‡thêfûe,ÇŸÅhêfûêdes¸ùt‹ (e.g.,Üog\n\
). U£ --fﬁlowÚamêöÅh© ca£. Th© cau£†èûÅÿåackÅhe\n\
 fûêöá wayÅh©áccommod©e†ª«mög,ÑemovÆánd cª©i⁄.\n\
"), 
°dout
);

327 
	`emô_™cûœry_öfo
 ();

329 
	`exô
 (
°©us
);

330 
	}
}

332 
boﬁ


333 
	$vÆid_fûe_•ec
 (
Fûe_•ec
 c⁄° *
f
)

336  ((
f
->
fd
 =-1Ë^ (f->
î∫um
 == 0));

337 
	}
}

340 
	$¥ëty_«me
 (
Fûe_•ec
 c⁄° *
f
)

342  (
	`STREQ
 (
f
->
«me
, "-"Ë? 
	`_
("standard input") : f->name);

343 
	}
}

346 
	$xwrôe_°dout
 (c⁄° *
buf„r
, 
size_t
 
n_byãs
)

348 i‡(
n_byãs
 > 0 && 
	`fwrôe
 (
buf„r
, 1,Ç_byãs, 
°dout
) == 0)

349 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

350 
	}
}

356 
	$ªc‹d_›í_fd
 (
Fûe_•ec
 *
f
, 
fd
,

357 
off_t
 
size
, 
°©
 c⁄° *
°
,

358 
blockög
)

360 
f
->
fd
 = fd;

361 
f
->
size
 = size;

362 
f
->
mtime
 = 
	`gë_°©_mtime
 (
°
);

363 
f
->
dev
 = 
°
->
°_dev
;

364 
f
->
öo
 = 
°
->
°_öo
;

365 
f
->
mode
 = 
°
->
°_mode
;

366 
f
->
blockög
 = blocking;

367 
f
->
n_unch™ged_°©s
 = 0;

368 
f
->
ign‹e
 = 
Ál£
;

369 
	}
}

374 
	$˛o£_fd
 (
fd
, c⁄° *
fûíame
)

376 i‡(
fd
 !-1 && fd !
STDIN_FILENO
 && 
	`˛o£
 (fd))

378 
	`îr‹
 (0, 
î∫o
, 
	`_
("˛osög %†(fd=%d)"), 
fûíame
, 
fd
);

380 
	}
}

383 
	$wrôe_hódî
 (c⁄° *
¥ëty_fûíame
)

385 
boﬁ
 
fú°_fûe
 = 
åue
;

387 
	`¥ötf
 ("%s==> %†<==\n", (
fú°_fûe
 ? "" : "\n"), 
¥ëty_fûíame
);

388 
fú°_fûe
 = 
Ál£
;

389 
	}
}

396 
uötmax_t


397 
	$dump_ªmaödî
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_byãs
)

399 
uötmax_t
 
n_wrôãn
;

400 
uötmax_t
 
n_ªmaöög
 = 
n_byãs
;

402 
n_wrôãn
 = 0;

405 
buf„r
[
BUFSIZ
];

406 
size_t
 
n
 = 
	`MIN
 (
n_ªmaöög
, 
BUFSIZ
);

407 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
n
);

408 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

410 i‡(
î∫o
 !
EAGAIN
)

411 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("errorÑeading %s"),

412 
	`quŸe
 (
¥ëty_fûíame
));

415 i‡(
byãs_ªad
 == 0)

417 
	`xwrôe_°dout
 (
buf„r
, 
byãs_ªad
);

418 
n_wrôãn
 +
byãs_ªad
;

419 i‡(
n_byãs
 !
COPY_TO_EOF
)

421 
n_ªmaöög
 -
byãs_ªad
;

422 i‡(
n_ªmaöög
 =0 || 
n_byãs
 =
COPY_A_BUFFER
)

427  
n_wrôãn
;

428 
	}
}

435 
off_t


436 
	$xl£ek
 (
fd
, 
off_t
 
off£t
, 
whí˚
, c⁄° *
fûíame
)

438 
off_t
 
√w_off£t
 = 
	`l£ek
 (
fd
, 
off£t
, 
whí˚
);

439 
buf
[
	`INT_BUFSIZE_BOUND
 (
off£t
)];

440 *
s
;

442 i‡(0 <
√w_off£t
)

443  
√w_off£t
;

445 
s
 = 
	`of·o°r
 (
off£t
, 
buf
);

446 
whí˚
)

448 
SEEK_SET
:

449 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannot seekÅo offset %s"),

450 
fûíame
, 
s
);

452 
SEEK_CUR
:

453 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannot seekÅoÑelative offset %s"),

454 
fûíame
, 
s
);

456 
SEEK_END
:

457 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s: cannot seekÅoÉnd-relative offset %s"),

458 
fûíame
, 
s
);

461 
	`ab‹t
 ();

464 
	`exô
 (
EXIT_FAILURE
);

465 
	}
}

476 
boﬁ


477 
	$fûe_löes
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_löes
,

478 
off_t
 
°¨t_pos
, off_à
íd_pos
, 
uötmax_t
 *
ªad_pos
)

480 
buf„r
[
BUFSIZ
];

481 
size_t
 
byãs_ªad
;

482 
off_t
 
pos
 = 
íd_pos
;

484 i‡(
n_löes
 == 0)

485  
åue
;

489 
byãs_ªad
 = (
pos
 - 
°¨t_pos
Ë% 
BUFSIZ
;

490 i‡(
byãs_ªad
 == 0)

491 
byãs_ªad
 = 
BUFSIZ
;

494 
pos
 -
byãs_ªad
;

495 
	`xl£ek
 (
fd
, 
pos
, 
SEEK_SET
, 
¥ëty_fûíame
);

496 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, bytes_read);

497 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

499 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

500  
Ál£
;

502 *
ªad_pos
 = 
pos
 + 
byãs_ªad
;

505 i‡(
byãs_ªad
 && 
buf„r
[bytes_read - 1] != '\n')

506 --
n_löes
;

512 
size_t
 
n
 = 
byãs_ªad
;

513 
n
)

515 c⁄° *
∆
;

516 
∆
 = 
	`memrchr
 (
buf„r
, '\n', 
n
);

517 i‡(
∆
 =
NULL
)

519 
n
 = 
∆
 - 
buf„r
;

520 i‡(
n_löes
-- == 0)

524 i‡(
n
 !
byãs_ªad
 - 1)

525 
	`xwrôe_°dout
 (
∆
 + 1, 
byãs_ªad
 - (
n
 + 1));

526 *
ªad_pos
 +
	`dump_ªmaödî
 (
¥ëty_fûíame
, 
fd
,

527 
íd_pos
 - (
pos
 + 
byãs_ªad
));

528  
åue
;

533 i‡(
pos
 =
°¨t_pos
)

537 
	`xl£ek
 (
fd
, 
°¨t_pos
, 
SEEK_SET
, 
¥ëty_fûíame
);

538 *
ªad_pos
 = 
°¨t_pos
 + 
	`dump_ªmaödî
 (
¥ëty_fûíame
, 
fd
,

539 
íd_pos
);

540  
åue
;

542 
pos
 -
BUFSIZ
;

543 
	`xl£ek
 (
fd
, 
pos
, 
SEEK_SET
, 
¥ëty_fûíame
);

545 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
BUFSIZ
);

546 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

548 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

549  
Ál£
;

552 *
ªad_pos
 = 
pos
 + 
byãs_ªad
;

554 
byãs_ªad
 > 0);

556  
åue
;

557 
	}
}

564 
boﬁ


565 
	$pùe_löes
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_löes
,

566 
uötmax_t
 *
ªad_pos
)

568 
	slöebuf„r


570 
buf„r
[
BUFSIZ
];

571 
size_t
 
nbyãs
;

572 
size_t
 
∆öes
;

573 
löebuf„r
 *
√xt
;

575 
löebuf„r
 
	tLBUFFER
;

576 
LBUFFER
 *
fú°
, *
œ°
, *
tmp
;

577 
size_t
 
tŸÆ_löes
 = 0;

578 
boﬁ
 
ok
 = 
åue
;

579 
size_t
 
n_ªad
;

581 
fú°
 = 
œ°
 = 
	`xmÆloc
 ( (
LBUFFER
));

582 
fú°
->
nbyãs
 = fú°->
∆öes
 = 0;

583 
fú°
->
√xt
 = 
NULL
;

584 
tmp
 = 
	`xmÆloc
 ( (
LBUFFER
));

589 
n_ªad
 = 
	`ß„_ªad
 (
fd
, 
tmp
->
buf„r
, 
BUFSIZ
);

590 i‡(
n_ªad
 =0 ||Ç_ªad =
SAFE_READ_ERROR
)

592 
tmp
->
nbyãs
 = 
n_ªad
;

593 *
ªad_pos
 +
n_ªad
;

594 
tmp
->
∆öes
 = 0;

595 
tmp
->
√xt
 = 
NULL
;

599 c⁄° *
buf„r_íd
 = 
tmp
->
buf„r
 + 
n_ªad
;

600 c⁄° *
p
 = 
tmp
->
buf„r
;

601 (
p
 = 
	`memchr
 (p, '\n', 
buf„r_íd
 -Ö)))

603 ++
p
;

604 ++
tmp
->
∆öes
;

607 
tŸÆ_löes
 +
tmp
->
∆öes
;

612 i‡(
tmp
->
nbyãs
 + 
œ°
->nbyã†< 
BUFSIZ
)

614 
	`mem˝y
 (&
œ°
->
buf„r
[œ°->
nbyãs
], 
tmp
->buffer,Åmp->nbytes);

615 
œ°
->
nbyãs
 +
tmp
->nbytes;

616 
œ°
->
∆öes
 +
tmp
->nlines;

625 
œ°
 =Üa°->
√xt
 = 
tmp
;

626 i‡(
tŸÆ_löes
 - 
fú°
->
∆öes
 > 
n_löes
)

628 
tmp
 = 
fú°
;

629 
tŸÆ_löes
 -
fú°
->
∆öes
;

630 
fú°
 = fú°->
√xt
;

633 
tmp
 = 
	`xmÆloc
 ( (
LBUFFER
));

637 
	`‰ì
 (
tmp
);

639 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

641 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

642 
ok
 = 
Ál£
;

643 
‰ì_lbuf„rs
;

647 i‡(
œ°
->
nbyãs
 == 0)

648 
‰ì_lbuf„rs
;

651 i‡(
n_löes
 == 0)

652 
‰ì_lbuf„rs
;

655 i‡(
œ°
->
buf„r
[œ°->
nbyãs
 - 1] != '\n')

657 ++
œ°
->
∆öes
;

658 ++
tŸÆ_löes
;

663 
tmp
 = 
fú°
; 
tŸÆ_löes
 -Åmp->
∆öes
 > 
n_löes
;Åm∞tmp->
√xt
)

664 
tŸÆ_löes
 -
tmp
->
∆öes
;

668 c⁄° *
beg
 = 
tmp
->
buf„r
;

669 c⁄° *
buf„r_íd
 = 
tmp
->
buf„r
 +Åmp->
nbyãs
;

670 i‡(
tŸÆ_löes
 > 
n_löes
)

674 
size_t
 
j
;

675 
j
 = 
tŸÆ_löes
 - 
n_löes
; j; --j)

677 
beg
 = 
	`memchr
 (beg, '\n', 
buf„r_íd
 - beg);

678 
	`as£π
 (
beg
);

679 ++
beg
;

683 
	`xwrôe_°dout
 (
beg
, 
buf„r_íd
 - beg);

686 
tmp
 =Åmp->
√xt
;Åmp;Åmp =Åmp->next)

687 
	`xwrôe_°dout
 (
tmp
->
buf„r
,Åmp->
nbyãs
);

689 
‰ì_lbuf„rs
:

690 
fú°
)

692 
tmp
 = 
fú°
->
√xt
;

693 
	`‰ì
 (
fú°
);

694 
fú°
 = 
tmp
;

696  
ok
;

697 
	}
}

703 
boﬁ


704 
	$pùe_byãs
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_byãs
,

705 
uötmax_t
 *
ªad_pos
)

707 
	sch¨buf„r


709 
buf„r
[
BUFSIZ
];

710 
size_t
 
nbyãs
;

711 
ch¨buf„r
 *
√xt
;

713 
ch¨buf„r
 
	tCBUFFER
;

714 
CBUFFER
 *
fú°
, *
œ°
, *
tmp
;

715 
size_t
 
i
;

716 
size_t
 
tŸÆ_byãs
 = 0;

717 
boﬁ
 
ok
 = 
åue
;

718 
size_t
 
n_ªad
;

720 
fú°
 = 
œ°
 = 
	`xmÆloc
 ( (
CBUFFER
));

721 
fú°
->
nbyãs
 = 0;

722 
fú°
->
√xt
 = 
NULL
;

723 
tmp
 = 
	`xmÆloc
 ( (
CBUFFER
));

728 
n_ªad
 = 
	`ß„_ªad
 (
fd
, 
tmp
->
buf„r
, 
BUFSIZ
);

729 i‡(
n_ªad
 =0 ||Ç_ªad =
SAFE_READ_ERROR
)

731 *
ªad_pos
 +
n_ªad
;

732 
tmp
->
nbyãs
 = 
n_ªad
;

733 
tmp
->
√xt
 = 
NULL
;

735 
tŸÆ_byãs
 +
tmp
->
nbyãs
;

739 i‡(
tmp
->
nbyãs
 + 
œ°
->nbyã†< 
BUFSIZ
)

741 
	`mem˝y
 (&
œ°
->
buf„r
[œ°->
nbyãs
], 
tmp
->buffer,Åmp->nbytes);

742 
œ°
->
nbyãs
 +
tmp
->nbytes;

751 
œ°
 =Üa°->
√xt
 = 
tmp
;

752 i‡(
tŸÆ_byãs
 - 
fú°
->
nbyãs
 > 
n_byãs
)

754 
tmp
 = 
fú°
;

755 
tŸÆ_byãs
 -
fú°
->
nbyãs
;

756 
fú°
 = fú°->
√xt
;

760 
tmp
 = 
	`xmÆloc
 ( (
CBUFFER
));

765 
	`‰ì
 (
tmp
);

767 i‡(
n_ªad
 =
SAFE_READ_ERROR
)

769 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

770 
ok
 = 
Ál£
;

771 
‰ì_cbuf„rs
;

776 
tmp
 = 
fú°
; 
tŸÆ_byãs
 -Åmp->
nbyãs
 > 
n_byãs
;Åm∞tmp->
√xt
)

777 
tŸÆ_byãs
 -
tmp
->
nbyãs
;

781 i‡(
tŸÆ_byãs
 > 
n_byãs
)

782 
i
 = 
tŸÆ_byãs
 - 
n_byãs
;

784 
i
 = 0;

785 
	`xwrôe_°dout
 (&
tmp
->
buf„r
[
i
],Åmp->
nbyãs
 - i);

787 
tmp
 =Åmp->
√xt
;Åmp;Åmp =Åmp->next)

788 
	`xwrôe_°dout
 (
tmp
->
buf„r
,Åmp->
nbyãs
);

790 
‰ì_cbuf„rs
:

791 
fú°
)

793 
tmp
 = 
fú°
->
√xt
;

794 
	`‰ì
 (
fú°
);

795 
fú°
 = 
tmp
;

797  
ok
;

798 
	}
}

805 
	$°¨t_byãs
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_byãs
,

806 
uötmax_t
 *
ªad_pos
)

808 
buf„r
[
BUFSIZ
];

810 0 < 
n_byãs
)

812 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
BUFSIZ
);

813 i‡(
byãs_ªad
 == 0)

815 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

817 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

820 *
ªad_pos
 +
byãs_ªad
;

821 i‡(
byãs_ªad
 <
n_byãs
)

822 
n_byãs
 -
byãs_ªad
;

825 
size_t
 
n_ªmaöög
 = 
byãs_ªad
 - 
n_byãs
;

826 i‡(
n_ªmaöög
)

827 
	`xwrôe_°dout
 (&
buf„r
[
n_byãs
], 
n_ªmaöög
);

833 
	}
}

840 
	$°¨t_löes
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_löes
,

841 
uötmax_t
 *
ªad_pos
)

843 i‡(
n_löes
 == 0)

848 
buf„r
[
BUFSIZ
];

849 
size_t
 
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf„r
, 
BUFSIZ
);

850 i‡(
byãs_ªad
 == 0)

852 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

854 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
¥ëty_fûíame
));

858 *
buf„r_íd
 = 
buf„r
 + 
byãs_ªad
;

860 *
ªad_pos
 +
byãs_ªad
;

862 *
p
 = 
buf„r
;

863 (
p
 = 
	`memchr
 (p, '\n', 
buf„r_íd
 -Ö)))

865 ++
p
;

866 i‡(--
n_löes
 == 0)

868 i‡(
p
 < 
buf„r_íd
)

869 
	`xwrôe_°dout
 (
p
, 
buf„r_íd
 -Ö);

874 
	}
}

876 #i‡
HAVE_INOTIFY


881 
boﬁ


882 
	$‰emŸe
 (
fd
, c⁄° *
«me
)

884 
boﬁ
 
ªmŸe
 = 
åue
;

886 #i‡
HAVE_FSTATFS
 && 
HAVE_STRUCT_STATFS_F_TYPE
 && 
deföed
 
__löux__


887 
°©fs
 
buf
;

888 
îr
 = 
	`f°©fs
 (
fd
, &
buf
);

889 i‡(
îr
 != 0)

893 i‡(
î∫o
 !
ENOSYS
)

894 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot determineÜocation of %s. "

895 "ªvîtögÅÿpﬁlög"), 
	`quŸe
 (
«me
));

899 
	`is_loˇl_fs_ty≥
 (
buf
.
f_ty≥
))

905 
fs_ty≥
 = 
buf
.
f_ty≥
;

906 
	`îr‹
 (0, 0, 
	`_
("unrecognized file systemÅype 0x%08lx for %s. "

908 
fs_ty≥
, 
	`quŸe
 (
«me
), 
PACKAGE_BUGREPORT
);

913 
ªmŸe
 = 
Ál£
;

916 
	`as£π
 (!"unexpectedÑeturn value from is_local_fs_type");

921  
ªmŸe
;

922 
	}
}

926 
	#‰emŸe
(
fd
, 
«me
Ë
Ál£


	)

932 
	$ªcheck
 (
Fûe_•ec
 *
f
, 
boﬁ
 
blockög
)

935 
°©
 
√w_°©s
;

936 
boﬁ
 
ok
 = 
åue
;

937 
boﬁ
 
is_°dö
 = (
	`STREQ
 (
f
->
«me
, "-"));

938 
boﬁ
 
was_èûabÀ
 = 
f
->
èûabÀ
;

939 
¥ev_î∫um
 = 
f
->
î∫um
;

940 
boﬁ
 
√w_fûe
;

941 
fd
 = (
is_°dö


942 ? 
STDIN_FILENO


943 : 
	`›í
 (
f
->
«me
, 
O_RDONLY
 | (
blockög
 ? 0 : 
O_NONBLOCK
)));

945 
	`as£π
 (
	`vÆid_fûe_•ec
 (
f
));

949 
f
->
èûabÀ
 = !(
ª›í_öac˚ssibÀ_fûes
 && 
fd
 == -1);

951 i‡(
fd
 =-1 || 
	`f°©
 (fd, &
√w_°©s
) < 0)

953 
ok
 = 
Ál£
;

954 
f
->
î∫um
 = 
î∫o
;

955 i‡(!
f
->
èûabÀ
)

957 i‡(
was_èûabÀ
)

963 
	`îr‹
 (0, 
f
->
î∫um
, 
	`_
("%s has become inaccessible"),

964 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

971 i‡(
¥ev_î∫um
 !
î∫o
)

973 
	`îr‹
 (0, 
î∫o
, "%s", 
	`¥ëty_«me
 (
f
));

976 i‡(!
	`IS_TAILABLE_FILE_TYPE
 (
√w_°©s
.
°_mode
))

978 
ok
 = 
Ál£
;

979 
f
->
î∫um
 = -1;

980 
	`îr‹
 (0, 0, 
	`_
("%s has beenÑeplaced withán untailable file;\
 up onÅhisÇame"),

982 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

983 
f
->
ign‹e
 = 
åue
;

985 i‡(!
dißbÀ_öŸify
 && 
	`‰emŸe
 (
fd
, 
	`¥ëty_«me
 (
f
)))

987 
ok
 = 
Ál£
;

988 
f
->
î∫um
 = -1;

989 
	`îr‹
 (0, 0, 
	`_
("%s has beenÑeplaced witháÑemote file. "

990 "givög u∞⁄Åhi†«me"), 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

991 
f
->
ign‹e
 = 
åue
;

992 
f
->
ªmŸe
 = 
åue
;

996 
f
->
î∫um
 = 0;

999 
√w_fûe
 = 
Ál£
;

1000 i‡(!
ok
)

1002 
	`˛o£_fd
 (
fd
, 
	`¥ëty_«me
 (
f
));

1003 
	`˛o£_fd
 (
f
->
fd
, 
	`¥ëty_«me
 (f));

1004 
f
->
fd
 = -1;

1006 i‡(
¥ev_î∫um
 &&Öªv_î∫um !
ENOENT
)

1008 
√w_fûe
 = 
åue
;

1009 
	`as£π
 (
f
->
fd
 == -1);

1010 
	`îr‹
 (0, 0, 
	`_
("%†ha†becomêac˚ssibÀ"), 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1012 i‡(
f
->
öo
 !
√w_°©s
.
°_öo
 || f->
dev
 !√w_°©s.
°_dev
)

1014 
√w_fûe
 = 
åue
;

1015 i‡(
f
->
fd
 == -1)

1017 
	`îr‹
 (0, 0,

1018 
	`_
("%s hasáppeared; followingÉnd ofÇew file"),

1019 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1024 
	`˛o£_fd
 (
f
->
fd
, 
	`¥ëty_«me
 (f));

1028 
	`îr‹
 (0, 0,

1029 
	`_
("%s has beenÑeplaced; followingÉnd ofÇew file"),

1030 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1035 i‡(
f
->
fd
 == -1)

1040 
√w_fûe
 = 
åue
;

1044 
	`˛o£_fd
 (
fd
, 
	`¥ëty_«me
 (
f
));

1048 i‡(
√w_fûe
)

1051 
	`ªc‹d_›í_fd
 (
f
, 
fd
, 0, &
√w_°©s
, (
is_°dö
 ? -1 : 
blockög
));

1052 
	`xl£ek
 (
fd
, 0, 
SEEK_SET
, 
	`¥ëty_«me
 (
f
));

1054 
	}
}

1059 
boﬁ


1060 
	$™y_live_fûes
 (c⁄° 
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
)

1062 
size_t
 
i
;

1064 
i
 = 0; i < 
n_fûes
; i++)

1065 i‡(0 <
f
[
i
].
fd
)

1066  
åue
;

1067  
Ál£
;

1068 
	}
}

1078 
	$èû_f‹evî
 (
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
, 
¶ìp_öãrvÆ
)

1081 
boﬁ
 
blockög
 = (
pid
 =0 && 
fﬁlow_mode
 =
Fﬁlow_des¸ùt‹


1082 && 
n_fûes
 =1 && ! 
	`S_ISREG
 (
f
[0].
mode
));

1083 
size_t
 
œ°
;

1084 
boﬁ
 
wrôî_is_dód
 = 
Ál£
;

1086 
œ°
 = 
n_fûes
 - 1;

1090 
size_t
 
i
;

1091 
boﬁ
 
™y_öput
 = 
Ál£
;

1093 
i
 = 0; i < 
n_fûes
; i++)

1095 
fd
;

1096 c⁄° *
«me
;

1097 
mode_t
 
mode
;

1098 
°©
 
°©s
;

1099 
uötmax_t
 
byãs_ªad
;

1101 i‡(
f
[
i
].
ign‹e
)

1104 i‡(
f
[
i
].
fd
 < 0)

1106 
	`ªcheck
 (&
f
[
i
], 
blockög
);

1110 
fd
 = 
f
[
i
].fd;

1111 
«me
 = 
	`¥ëty_«me
 (&
f
[
i
]);

1112 
mode
 = 
f
[
i
].mode;

1114 i‡(
f
[
i
].
blockög
 != blocking)

1116 
ﬁd_Êags
 = 
	`f˙é
 (
fd
, 
F_GETFL
);

1117 
√w_Êags
 = 
ﬁd_Êags
 | (
blockög
 ? 0 : 
O_NONBLOCK
);

1118 i‡(
ﬁd_Êags
 < 0

1119 || (
√w_Êags
 !
ﬁd_Êags


1120 && 
	`f˙é
 (
fd
, 
F_SETFL
, 
√w_Êags
) == -1))

1123 i‡(
	`S_ISREG
 (
f
[
i
].
mode
Ë&& 
î∫o
 =
EPERM
)

1129 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

1130 
	`_
("%s: c™nŸ ch™gên⁄blockög mode"), 
«me
);

1133 
f
[
i
].
blockög
 = blocking;

1136 i‡(!
f
[
i
].
blockög
)

1138 i‡(
	`f°©
 (
fd
, &
°©s
) != 0)

1140 
f
[
i
].
fd
 = -1;

1141 
f
[
i
].
î∫um
 = 
î∫o
;

1142 
	`îr‹
 (0, 
î∫o
, "%s", 
«me
);

1143 
	`˛o£
 (
fd
);

1147 i‡(
f
[
i
].
mode
 =
°©s
.
°_mode


1148 && (! 
	`S_ISREG
 (
°©s
.
°_mode
Ë|| 
f
[
i
].
size
 =°©s.
°_size
)

1149 && 
	`time•ec_cmp
 (
f
[
i
].
mtime
, 
	`gë_°©_mtime
 (&
°©s
)) == 0)

1151 i‡((
max_n_unch™ged_°©s_bëwìn_›ís


1152 <
f
[
i
].
n_unch™ged_°©s
++)

1153 && 
fﬁlow_mode
 =
Fﬁlow_«me
)

1155 
	`ªcheck
 (&
f
[
i
], f[i].
blockög
);

1156 
f
[
i
].
n_unch™ged_°©s
 = 0;

1164 
f
[
i
].
mtime
 = 
	`gë_°©_mtime
 (&
°©s
);

1165 
f
[
i
].
mode
 = 
°©s
.
°_mode
;

1168 
f
[
i
].
n_unch™ged_°©s
 = 0;

1170 i‡(
	`S_ISREG
 (
mode
Ë&& 
°©s
.
°_size
 < 
f
[
i
].
size
)

1172 
	`îr‹
 (0, 0, 
	`_
("%s: fûêåunˇãd"), 
«me
);

1173 
œ°
 = 
i
;

1174 
	`xl£ek
 (
fd
, 
°©s
.
°_size
, 
SEEK_SET
, 
«me
);

1175 
f
[
i
].
size
 = 
°©s
.
°_size
;

1179 i‡(
i
 !
œ°
)

1181 i‡(
¥öt_hódîs
)

1182 
	`wrôe_hódî
 (
«me
);

1183 
œ°
 = 
i
;

1187 
byãs_ªad
 = 
	`dump_ªmaödî
 (
«me
, 
fd
,

1188 (
f
[
i
].
blockög


1189 ? 
COPY_A_BUFFER
 : 
COPY_TO_EOF
));

1190 
™y_öput
 |(
byãs_ªad
 != 0);

1191 
f
[
i
].
size
 +
byãs_ªad
;

1194 i‡(! 
	`™y_live_fûes
 (
f
, 
n_fûes
Ë&& ! 
ª›í_öac˚ssibÀ_fûes
)

1196 
	`îr‹
 (0, 0, 
	`_
("no filesÑemaining"));

1200 i‡((!
™y_öput
 || 
blockög
Ë&& 
	`fÊush
 (
°dout
) != 0)

1201 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

1204 i‡(!
™y_öput
)

1206 i‡(
wrôî_is_dód
)

1211 
wrôî_is_dód
 = (
pid
 != 0

1212 && 
	`kûl
 (
pid
, 0) != 0

1216 && 
î∫o
 !
EPERM
);

1218 i‡(!
wrôî_is_dód
 && 
	`x«no¶ìp
 (
¶ìp_öãrvÆ
))

1219 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannotÑeadÑealtime clock"));

1223 
	}
}

1225 #i‡
HAVE_INOTIFY


1230 
boﬁ


1231 
	$™y_ªmŸe_fûe
 (c⁄° 
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
)

1233 
size_t
 
i
;

1235 
i
 = 0; i < 
n_fûes
; i++)

1236 i‡(0 <
f
[
i
].
fd
 && f[i].
ªmŸe
)

1237  
åue
;

1238  
Ál£
;

1239 
	}
}

1244 
boﬁ


1245 
	$èûabÀ_°dö
 (c⁄° 
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
)

1247 
size_t
 
i
;

1249 
i
 = 0; i < 
n_fûes
; i++)

1250 i‡(!
f
[
i
].
ign‹e
 && 
	`STREQ
 (f[i].
«me
, "-"))

1251  
åue
;

1252  
Ál£
;

1253 
	}
}

1255 
size_t


1256 
	$wd_hashî
 (c⁄° *
íåy
, 
size_t
 
èbsize
)

1258 c⁄° 
Fûe_•ec
 *
•ec
 = 
íåy
;

1259  
•ec
->
wd
 % 
èbsize
;

1260 
	}
}

1262 
boﬁ


1263 
	$wd_com∑øt‹
 (c⁄° *
e1
, c⁄° *
e2
)

1265 c⁄° 
Fûe_•ec
 *
•ec1
 = 
e1
;

1266 c⁄° 
Fûe_•ec
 *
•ec2
 = 
e2
;

1267  
•ec1
->
wd
 =
•ec2
->wd;

1268 
	}
}

1272 
	$check_f•ec
 (
Fûe_•ec
 *
f•ec
, 
wd
, *
¥ev_wd
)

1274 
°©
 
°©s
;

1275 c⁄° *
«me
 = 
	`¥ëty_«me
 (
f•ec
);

1277 i‡(
	`f°©
 (
f•ec
->
fd
, &
°©s
) != 0)

1279 
f•ec
->
î∫um
 = 
î∫o
;

1280 
	`˛o£_fd
 (
f•ec
->
fd
, 
«me
);

1281 
f•ec
->
fd
 = -1;

1285 i‡(
	`S_ISREG
 (
f•ec
->
mode
Ë&& 
°©s
.
°_size
 < f•ec->
size
)

1287 
	`îr‹
 (0, 0, 
	`_
("%s: fûêåunˇãd"), 
«me
);

1288 *
¥ev_wd
 = 
wd
;

1289 
	`xl£ek
 (
f•ec
->
fd
, 
°©s
.
°_size
, 
SEEK_SET
, 
«me
);

1290 
f•ec
->
size
 = 
°©s
.
°_size
;

1292 i‡(
	`S_ISREG
 (
f•ec
->
mode
Ë&& 
°©s
.
°_size
 =f•ec->
size


1293 && 
	`time•ec_cmp
 (
f•ec
->
mtime
, 
	`gë_°©_mtime
 (&
°©s
)) == 0)

1296 i‡(
wd
 !*
¥ev_wd
)

1298 i‡(
¥öt_hódîs
)

1299 
	`wrôe_hódî
 (
«me
);

1300 *
¥ev_wd
 = 
wd
;

1303 
uötmax_t
 
byãs_ªad
 = 
	`dump_ªmaödî
 (
«me
, 
f•ec
->
fd
, 
COPY_TO_EOF
);

1304 
f•ec
->
size
 +
byãs_ªad
;

1306 i‡(
	`fÊush
 (
°dout
) != 0)

1307 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

1308 
	}
}

1313 
boﬁ


1314 
	$èû_f‹evî_öŸify
 (
wd
, 
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
,

1315 
¶ìp_öãrvÆ
)

1317 
max_ªÆloc
 = 3;

1320 
Hash_èbÀ
 *
wd_to_«me
;

1322 
boﬁ
 
found_w©chabÀ_fûe
 = 
Ál£
;

1323 
boﬁ
 
found_unw©chabÀ_dú
 = 
Ál£
;

1324 
boﬁ
 
no_öŸify_ªsour˚s
 = 
Ál£
;

1325 
boﬁ
 
wrôî_is_dód
 = 
Ál£
;

1326 
¥ev_wd
;

1327 
size_t
 
evÀn
 = 0;

1328 *
evbuf
;

1329 
size_t
 
evbuf_off
 = 0;

1330 
size_t
 
Àn
 = 0;

1332 
wd_to_«me
 = 
	`hash_öôülize
 (
n_fûes
, 
NULL
, 
wd_hashî
, 
wd_com∑øt‹
, NULL);

1333 i‡(! 
wd_to_«me
)

1334 
	`xÆloc_dõ
 ();

1339 
size_t
 
i
;

1340 
i
 = 0; i < 
n_fûes
; i++)

1342 i‡(!
f
[
i
].
ign‹e
)

1344 
size_t
 
‚Àn
 = 
	`°æí
 (
f
[
i
].
«me
);

1345 i‡(
evÀn
 < 
‚Àn
)

1346 
evÀn
 = 
‚Àn
;

1348 
f
[
i
].
wd
 = -1;

1350 i‡(
fﬁlow_mode
 =
Fﬁlow_«me
)

1352 
size_t
 
dúÀn
 = 
	`dú_Àn
 (
f
[
i
].
«me
);

1353 
¥ev
 = 
f
[
i
].
«me
[
dúÀn
];

1354 
f
[
i
].
ba£«me_°¨t
 = 
	`œ°_comp⁄ít
 (f[i].
«me
) - f[i].name;

1356 
f
[
i
].
«me
[
dúÀn
] = '\0';

1360 
f
[
i
].
∑ª¡_wd
 = 
	`öŸify_add_w©ch
 (
wd
, 
dúÀn
 ? f[i].
«me
 : ".",

1361 (
IN_CREATE
 | 
IN_MOVED_TO


1362 | 
IN_ATTRIB
));

1364 
f
[
i
].
«me
[
dúÀn
] = 
¥ev
;

1366 i‡(
f
[
i
].
∑ª¡_wd
 < 0)

1368 i‡(
î∫o
 !
ENOSPC
)

1369 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot watchÖarent directory of %s"),

1370 
	`quŸe
 (
f
[
i
].
«me
));

1372 
	`îr‹
 (0, 0, 
	`_
("inotifyÑesourcesÉxhausted"));

1373 
found_unw©chabÀ_dú
 = 
åue
;

1380 
f
[
i
].
wd
 = 
	`öŸify_add_w©ch
 (wd, f[i].
«me
, 
öŸify_wd_mask
);

1382 i‡(
f
[
i
].
wd
 < 0)

1384 i‡(
î∫o
 =
ENOSPC
)

1386 
no_öŸify_ªsour˚s
 = 
åue
;

1387 
	`îr‹
 (0, 0, 
	`_
("inotifyÑesourcesÉxhausted"));

1389 i‡(
î∫o
 !
f
[
i
].
î∫um
)

1390 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ w©ch %s"), 
	`quŸe
 (
f
[
i
].
«me
));

1394 i‡(
	`hash_ö£π
 (
wd_to_«me
, &(
f
[
i
])Ë=
NULL
)

1395 
	`xÆloc_dõ
 ();

1397 
found_w©chabÀ_fûe
 = 
åue
;

1405 i‡(
no_öŸify_ªsour˚s
 || 
found_unw©chabÀ_dú
)

1408 
î∫o
 = 0;

1409  
åue
;

1411 i‡(
fﬁlow_mode
 =
Fﬁlow_des¸ùt‹
 && !
found_w©chabÀ_fûe
)

1412  
Ál£
;

1414 
¥ev_wd
 = 
f
[
n_fûes
 - 1].
wd
;

1418 
i
 = 0; i < 
n_fûes
; i++)

1420 i‡(!
f
[
i
].
ign‹e
)

1421 
	`check_f•ec
 (&
f
[
i
], f[i].
wd
, &
¥ev_wd
);

1424 
evÀn
 + (
öŸify_evít
) + 1;

1425 
evbuf
 = 
	`xmÆloc
 (
evÀn
);

1433 
Fûe_•ec
 *
f•ec
;

1434 
öŸify_evít
 *
ev
;

1438 i‡(
fﬁlow_mode
 =
Fﬁlow_«me


1439 && ! 
ª›í_öac˚ssibÀ_fûes


1440 && 
	`hash_gë_n_íåõs
 (
wd_to_«me
) == 0)

1442 
	`îr‹
 (0, 0, 
	`_
("no filesÑemaining"));

1443  
Ál£
;

1448 i‡(
pid
)

1450 i‡(
wrôî_is_dód
)

1451 
	`exô
 (
EXIT_SUCCESS
);

1453 
wrôî_is_dód
 = (
	`kûl
 (
pid
, 0Ë!0 && 
î∫o
 !
EPERM
);

1455 
timevÆ
 
dñay
;

1456 i‡(
wrôî_is_dód
)

1457 
dñay
.
tv_£c
 = dñay.
tv_u£c
 = 0;

1460 
dñay
.
tv_£c
 = (
time_t
Ë
¶ìp_öãrvÆ
;

1461 
dñay
.
tv_u£c
 = 1000000 * (
¶ìp_öãrvÆ
 - dñay.
tv_£c
);

1464 
fd_£t
 
rfd
;

1465 
	`FD_ZERO
 (&
rfd
);

1466 
	`FD_SET
 (
wd
, &
rfd
);

1468 
fûe_ch™ge
 = 
	`£À˘
 (
wd
 + 1, &
rfd
, 
NULL
, NULL, &
dñay
);

1470 i‡(
fûe_ch™ge
 == 0)

1472 i‡(
fûe_ch™ge
 == -1)

1473 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("error monitoring inotifyÉvent"));

1476 i‡(
Àn
 <
evbuf_off
)

1478 
Àn
 = 
	`ß„_ªad
 (
wd
, 
evbuf
, 
evÀn
);

1479 
evbuf_off
 = 0;

1483 i‡((
Àn
 =0 || (À¿=
SAFE_READ_ERROR
 && 
î∫o
 =
EINVAL
))

1484 && 
max_ªÆloc
--)

1486 
Àn
 = 0;

1487 
evÀn
 *= 2;

1488 
evbuf
 = 
	`xªÆloc
 (evbuf, 
evÀn
);

1492 i‡(
Àn
 =0 ||Üí =
SAFE_READ_ERROR
)

1493 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("errorÑeading inotifyÉvent"));

1496 
ev
 = (
öŸify_evít
 *Ë(
evbuf
 + 
evbuf_off
);

1497 
evbuf_off
 + (*
ev
Ë+Év->
Àn
;

1499 i‡(
ev
->
Àn
)

1501 
size_t
 
j
;

1502 
j
 = 0; j < 
n_fûes
; j++)

1506 i‡(
f
[
j
].
∑ª¡_wd
 =
ev
->
wd


1507 && 
	`STREQ
 (
ev
->
«me
, 
f
[
j
].«mê+ f[j].
ba£«me_°¨t
))

1512 i‡(
j
 =
n_fûes
)

1516 
√w_wd
 = 
	`öŸify_add_w©ch
 (
wd
, 
f
[
j
].
«me
, 
öŸify_wd_mask
);

1517 i‡(
√w_wd
 < 0)

1519 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ w©ch %s"), 
	`quŸe
 (
f
[
j
].
«me
));

1523 
f•ec
 = &(
f
[
j
]);

1526 
	`hash_dñëe
 (
wd_to_«me
, 
f•ec
);

1527 
f•ec
->
wd
 = 
√w_wd
;

1532 
Fûe_•ec
 *
¥ev
 = 
	`hash_dñëe
 (
wd_to_«me
, 
f•ec
);

1533 i‡(
¥ev
 &&Öªv !
f•ec
)

1535 i‡(
fﬁlow_mode
 =
Fﬁlow_«me
)

1536 
	`ªcheck
 (
¥ev
, 
Ál£
);

1537 
¥ev
->
wd
 = -1;

1538 
	`˛o£_fd
 (
¥ev
->
fd
, 
	`¥ëty_«me
 (prev));

1541 i‡(
	`hash_ö£π
 (
wd_to_«me
, 
f•ec
Ë=
NULL
)

1542 
	`xÆloc_dõ
 ();

1544 i‡(
fﬁlow_mode
 =
Fﬁlow_«me
)

1545 
	`ªcheck
 (
f•ec
, 
Ál£
);

1549 
Fûe_•ec
 
key
;

1550 
key
.
wd
 = 
ev
->wd;

1551 
f•ec
 = 
	`hash_lookup
 (
wd_to_«me
, &
key
);

1554 i‡(! 
f•ec
)

1557 i‡(
ev
->
mask
 & (
IN_ATTRIB
 | 
IN_DELETE_SELF
 | 
IN_MOVE_SELF
))

1564 i‡((
ev
->
mask
 & 
IN_DELETE_SELF
)

1565 || ((
ev
->
mask
 & 
IN_MOVE_SELF
)

1566 && 
fﬁlow_mode
 =
Fﬁlow_des¸ùt‹
))

1568 
	`öŸify_rm_w©ch
 (
wd
, 
f•ec
->wd);

1569 
	`hash_dñëe
 (
wd_to_«me
, 
f•ec
);

1571 i‡(
fﬁlow_mode
 =
Fﬁlow_«me
)

1572 
	`ªcheck
 (
f•ec
, 
Ál£
);

1576 
	`check_f•ec
 (
f•ec
, 
ev
->
wd
, &
¥ev_wd
);

1578 
	}
}

1584 
boﬁ


1585 
	$èû_byãs
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_byãs
,

1586 
uötmax_t
 *
ªad_pos
)

1588 
°©
 
°©s
;

1590 i‡(
	`f°©
 (
fd
, &
°©s
))

1592 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
¥ëty_fûíame
));

1593  
Ál£
;

1596 i‡(
‰om_°¨t
)

1598 i‡–! 
¥esume_öput_pùe


1599 && 
	`S_ISREG
 (
°©s
.
°_mode
Ë&& 
n_byãs
 <
OFF_T_MAX
)

1601 
	`xl£ek
 (
fd
, 
n_byãs
, 
SEEK_CUR
, 
¥ëty_fûíame
);

1602 *
ªad_pos
 +
n_byãs
;

1606 
t
 = 
	`°¨t_byãs
 (
¥ëty_fûíame
, 
fd
, 
n_byãs
, 
ªad_pos
);

1607 i‡(
t
)

1608  
t
 < 0;

1610 *
ªad_pos
 +
	`dump_ªmaödî
 (
¥ëty_fûíame
, 
fd
, 
COPY_TO_EOF
);

1614 i‡–! 
¥esume_öput_pùe


1615 && 
	`S_ISREG
 (
°©s
.
°_mode
Ë&& 
n_byãs
 <
OFF_T_MAX
)

1617 
off_t
 
cuºít_pos
 = 
	`xl£ek
 (
fd
, 0, 
SEEK_CUR
, 
¥ëty_fûíame
);

1618 
off_t
 
íd_pos
 = 
	`xl£ek
 (
fd
, 0, 
SEEK_END
, 
¥ëty_fûíame
);

1619 
off_t
 
diff
 = 
íd_pos
 - 
cuºít_pos
;

1622 
off_t
 
byãs_ªmaöög
 = 
diff
 < 0 ? 0 : diff;

1623 
off_t
 
nb
 = 
n_byãs
;

1625 i‡(
byãs_ªmaöög
 <
nb
)

1631 *
ªad_pos
 = 
	`xl£ek
 (
fd
, 
cuºít_pos
, 
SEEK_SET
, 
¥ëty_fûíame
);

1637 *
ªad_pos
 = 
	`xl£ek
 (
fd
, -
nb
, 
SEEK_END
, 
¥ëty_fûíame
);

1639 *
ªad_pos
 +
	`dump_ªmaödî
 (
¥ëty_fûíame
, 
fd
, 
n_byãs
);

1642  
	`pùe_byãs
 (
¥ëty_fûíame
, 
fd
, 
n_byãs
, 
ªad_pos
);

1644  
åue
;

1645 
	}
}

1650 
boﬁ


1651 
	$èû_löes
 (c⁄° *
¥ëty_fûíame
, 
fd
, 
uötmax_t
 
n_löes
,

1652 
uötmax_t
 *
ªad_pos
)

1654 
°©
 
°©s
;

1656 i‡(
	`f°©
 (
fd
, &
°©s
))

1658 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
¥ëty_fûíame
));

1659  
Ál£
;

1662 i‡(
‰om_°¨t
)

1664 
t
 = 
	`°¨t_löes
 (
¥ëty_fûíame
, 
fd
, 
n_löes
, 
ªad_pos
);

1665 i‡(
t
)

1666  
t
 < 0;

1667 *
ªad_pos
 +
	`dump_ªmaödî
 (
¥ëty_fûíame
, 
fd
, 
COPY_TO_EOF
);

1671 
off_t
 
°¨t_pos
 = -1;

1672 
off_t
 
íd_pos
;

1676 i‡–! 
¥esume_öput_pùe


1677 && 
	`S_ISREG
 (
°©s
.
°_mode
)

1678 && (
°¨t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) != -1

1679 && 
°¨t_pos
 < (
íd_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)))

1681 *
ªad_pos
 = 
íd_pos
;

1682 i‡(
íd_pos
 != 0

1683 && ! 
	`fûe_löes
 (
¥ëty_fûíame
, 
fd
, 
n_löes
,

1684 
°¨t_pos
, 
íd_pos
, 
ªad_pos
))

1685  
Ál£
;

1693 i‡(
°¨t_pos
 != -1)

1694 
	`xl£ek
 (
fd
, 
°¨t_pos
, 
SEEK_SET
, 
¥ëty_fûíame
);

1696  
	`pùe_löes
 (
¥ëty_fûíame
, 
fd
, 
n_löes
, 
ªad_pos
);

1699  
åue
;

1700 
	}
}

1712 
boﬁ


1713 
	$èû
 (c⁄° *
fûíame
, 
fd
, 
uötmax_t
 
n_unôs
,

1714 
uötmax_t
 *
ªad_pos
)

1716 *
ªad_pos
 = 0;

1717 i‡(
cou¡_löes
)

1718  
	`èû_löes
 (
fûíame
, 
fd
, 
n_unôs
, 
ªad_pos
);

1720  
	`èû_byãs
 (
fûíame
, 
fd
, 
n_unôs
, 
ªad_pos
);

1721 
	}
}

1726 
boﬁ


1727 
	$èû_fûe
 (
Fûe_•ec
 *
f
, 
uötmax_t
 
n_unôs
)

1729 
fd
;

1730 
boﬁ
 
ok
;

1732 
boﬁ
 
is_°dö
 = (
	`STREQ
 (
f
->
«me
, "-"));

1734 i‡(
is_°dö
)

1736 
have_ªad_°dö
 = 
åue
;

1737 
fd
 = 
STDIN_FILENO
;

1738 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

1739 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

1742 
fd
 = 
	`›í
 (
f
->
«me
, 
O_RDONLY
 | 
O_BINARY
);

1744 
f
->
èûabÀ
 = !(
ª›í_öac˚ssibÀ_fûes
 && 
fd
 == -1);

1746 i‡(
fd
 == -1)

1748 i‡(
f‹evî
)

1750 
f
->
fd
 = -1;

1751 
f
->
î∫um
 = 
î∫o
;

1752 
f
->
ign‹e
 = 
Ál£
;

1753 
f
->
öo
 = 0;

1754 
f
->
dev
 = 0;

1756 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

1757 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1758 
ok
 = 
Ál£
;

1762 
uötmax_t
 
ªad_pos
;

1764 i‡(
¥öt_hódîs
)

1765 
	`wrôe_hódî
 (
	`¥ëty_«me
 (
f
));

1766 
ok
 = 
	`èû
 (
	`¥ëty_«me
 (
f
), 
fd
, 
n_unôs
, &
ªad_pos
);

1767 i‡(
f‹evî
)

1769 
°©
 
°©s
;

1771 #i‡
TEST_RACE_BETWEEN_FINAL_READ_AND_INITIAL_FSTAT


1775 
	`x«no¶ìp
 (1);

1777 
f
->
î∫um
 = 
ok
 - 1;

1778 i‡(
	`f°©
 (
fd
, &
°©s
) < 0)

1780 
ok
 = 
Ál£
;

1781 
f
->
î∫um
 = 
î∫o
;

1782 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1784 i‡(!
	`IS_TAILABLE_FILE_TYPE
 (
°©s
.
°_mode
))

1786 
	`îr‹
 (0, 0, 
	`_
("%s: cannot followÉnd ofÅhisÅype of file;\
 up onÅhisÇame"),

1788 
	`¥ëty_«me
 (
f
));

1789 
ok
 = 
Ál£
;

1790 
f
->
î∫um
 = -1;

1791 
f
->
ign‹e
 = 
åue
;

1794 i‡(!
ok
)

1796 
	`˛o£_fd
 (
fd
, 
	`¥ëty_«me
 (
f
));

1797 
f
->
fd
 = -1;

1804 
	`ªc‹d_›í_fd
 (
f
, 
fd
, 
ªad_pos
, &
°©s
, (
is_°dö
 ? -1 : 1));

1805 
f
->
ªmŸe
 = 
	`‰emŸe
 (
fd
, 
	`¥ëty_«me
 (f));

1810 i‡(!
is_°dö
 && 
	`˛o£
 (
fd
))

1812 
	`îr‹
 (0, 
î∫o
, 
	`_
("îr‹Ñódög %s"), 
	`quŸe
 (
	`¥ëty_«me
 (
f
)));

1813 
ok
 = 
Ál£
;

1818  
ok
;

1819 
	}
}

1830 
boﬁ


1831 
	$∑r£_obsﬁëe_›ti⁄
 (
¨gc
, * c⁄° *
¨gv
, 
uötmax_t
 *
n_unôs
)

1833 c⁄° *
p
;

1834 c⁄° *
n_°rög
;

1835 c⁄° *
n_°rög_íd
;

1836 
boﬁ
 
obsﬁëe_ußge
;

1837 
deÁu…_cou¡
 = 
DEFAULT_N_LINES
;

1838 
boﬁ
 
t_‰om_°¨t
;

1839 
boﬁ
 
t_cou¡_löes
 = 
åue
;

1840 
boﬁ
 
t_f‹evî
 = 
Ál£
;

1844 i‡(! (
¨gc
 == 2

1845 || (
¨gc
 =3 && ! (
¨gv
[2][0] == '-' &&árgv[2][1]))

1846 || (3 <
¨gc
 &&árg¯<4 && 
	`STREQ
 (
¨gv
[2], "--"))))

1847  
Ál£
;

1849 
obsﬁëe_ußge
 = (
	`posix2_vîsi⁄
 () < 200112);

1850 
p
 = 
¨gv
[1];

1852 *
p
++)

1855  
Ál£
;

1859 i‡(!
obsﬁëe_ußge
)

1860  
Ál£
;

1862 
t_‰om_°¨t
 = 
åue
;

1870 i‡(!
obsﬁëe_ußge
 && !
p
[p[0] == 'c'])

1871  
Ál£
;

1873 
t_‰om_°¨t
 = 
Ál£
;

1877 
n_°rög
 = 
p
;

1878 
	`ISDIGIT
 (*
p
))

1879 
p
++;

1880 
n_°rög_íd
 = 
p
;

1882 *
p
)

1884 'b': 
deÁu…_cou¡
 *= 512;

1885 'c': 
t_cou¡_löes
 = 
Ál£
;

1886 'l': 
p
++; ;

1889 i‡(*
p
 == 'f')

1891 
t_f‹evî
 = 
åue
;

1892 ++
p
;

1895 i‡(*
p
)

1896  
Ál£
;

1898 i‡(
n_°rög
 =
n_°rög_íd
)

1899 *
n_unôs
 = 
deÁu…_cou¡
;

1900 i‡((
	`x°πoumax
 (
n_°rög
, 
NULL
, 10, 
n_unôs
, "b")

1901 & ~
LONGINT_INVALID_SUFFIX_CHAR
)

1902 !
LONGINT_OK
)

1903 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("numbî i¿%†i†toÿœrge"), 
	`quŸe
 (
¨gv
[1]));

1906 
‰om_°¨t
 = 
t_‰om_°¨t
;

1907 
cou¡_löes
 = 
t_cou¡_löes
;

1908 
f‹evî
 = 
t_f‹evî
;

1910  
åue
;

1911 
	}
}

1914 
	$∑r£_›ti⁄s
 (
¨gc
, **
¨gv
,

1915 
uötmax_t
 *
n_unôs
, 
hódî_mode
 *header_mode,

1916 *
¶ìp_öãrvÆ
)

1918 
c
;

1920 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "c:n:fFqs:v0123456789",

1921 
l⁄g_›ti⁄s
, 
NULL
))

1924 
c
)

1927 
f‹evî
 = 
åue
;

1928 
fﬁlow_mode
 = 
Fﬁlow_«me
;

1929 
ª›í_öac˚ssibÀ_fûes
 = 
åue
;

1934 
cou¡_löes
 = (
c
 == 'n');

1935 i‡(*
›èrg
 == '+')

1936 
‰om_°¨t
 = 
åue
;

1937 i‡(*
›èrg
 == '-')

1938 ++
›èrg
;

1941 
°πﬁ_îr‹
 
s_îr
;

1942 
s_îr
 = 
	`x°πoumax
 (
›èrg
, 
NULL
, 10, 
n_unôs
, "bkKmMGTPEZY0");

1943 i‡(
s_îr
 !
LONGINT_OK
)

1945 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s: %s", 
›èrg
,

1946 (
c
 == 'n'

1947 ? 
	`_
("invalidÇumber ofÜines")

1948 : 
	`_
("invalidÇumber of bytes")));

1954 
LONG_FOLLOW_OPTION
:

1955 
f‹evî
 = 
åue
;

1956 i‡(
›èrg
 =
NULL
)

1957 
fﬁlow_mode
 = 
DEFAULT_FOLLOW_MODE
;

1959 
fﬁlow_mode
 = 
	`XARGMATCH
 ("--fﬁlow", 
›èrg
,

1960 
fﬁlow_mode_°rög
, 
fﬁlow_mode_m≠
);

1963 
RETRY_OPTION
:

1964 
ª›í_öac˚ssibÀ_fûes
 = 
åue
;

1967 
MAX_UNCHANGED_STATS_OPTION
:

1969 i‡(
	`x°πoumax
 (
›èrg
, 
NULL
, 10,

1970 &
max_n_unch™ged_°©s_bëwìn_›ís
,

1972 !
LONGINT_OK
)

1974 
	`îr‹
 (
EXIT_FAILURE
, 0,

1975 
	`_
("%s: invalid maximumÇumber of unchanged stats between opens"),

1976 
›èrg
);

1980 
DISABLE_INOTIFY_OPTION
:

1981 
dißbÀ_öŸify
 = 
åue
;

1984 
PID_OPTION
:

1986 
°πﬁ_îr‹
 
s_îr
;

1987 
tmp_ul⁄g
;

1988 
s_îr
 = 
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
tmp_ul⁄g
, "");

1989 i‡(
s_îr
 !
LONGINT_OK
 || 
tmp_ul⁄g
 > 
PID_T_MAX
)

1991 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invÆid PID"), 
›èrg
);

1993 
pid
 = 
tmp_ul⁄g
;

1997 
PRESUME_INPUT_PIPE_OPTION
:

1998 
¥esume_öput_pùe
 = 
åue
;

2002 *
hódî_mode
 = 
√vî
;

2007 
s
;

2008 i‡(! (
	`x°πod
 (
›èrg
, 
NULL
, &
s
, 
c_°πod
) && 0 <= s))

2009 
	`îr‹
 (
EXIT_FAILURE
, 0,

2010 
	`_
("%s: invÆidÇumbî o‡£c⁄ds"), 
›èrg
);

2011 *
¶ìp_öãrvÆ
 = 
s
;

2016 *
hódî_mode
 = 
Æways
;

2019 
ˇ£_GETOPT_HELP_CHAR
;

2021 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2025 
	`îr‹
 (
EXIT_FAILURE
, 0,

2026 
	`_
("›ti⁄ u£d i¿övÆid c⁄ãxà-- %c"), 
c
);

2029 
	`ußge
 (
EXIT_FAILURE
);

2033 i‡(
ª›í_öac˚ssibÀ_fûes
 && 
fﬁlow_mode
 !
Fﬁlow_«me
)

2034 
	`îr‹
 (0, 0, 
	`_
("warning: --retry is useful mainly when following byÇame"));

2036 i‡(
pid
 && !
f‹evî
)

2037 
	`îr‹
 (0, 0,

2038 
	`_
("warning: PID ignored; --pid=PID is useful only when following"));

2039 i‡(
pid
 && 
	`kûl
 (pid, 0Ë!0 && 
î∫o
 =
ENOSYS
)

2041 
	`îr‹
 (0, 0, 
	`_
("warning: --pid=PID isÇot supported onÅhis system"));

2042 
pid
 = 0;

2044 
	}
}

2048 
size_t


2049 
	$ign‹e_fifo_™d_pùe
 (
Fûe_•ec
 *
f
, 
size_t
 
n_fûes
)

2055 
size_t
 
n_vübÀ
 = 0;

2057 
size_t
 
i
;

2058 
i
 = 0; i < 
n_fûes
; i++)

2060 
boﬁ
 
is_a_fifo_‹_pùe
 =

2061 (
	`STREQ
 (
f
[
i
].
«me
, "-")

2062 && !
f
[
i
].
ign‹e


2063 && 0 <
f
[
i
].
fd


2064 && (
	`S_ISFIFO
 (
f
[
i
].
mode
)

2065 || (
HAVE_FIFO_PIPES
 !1 && 
	`ißpùe
 (
f
[
i
].
fd
))));

2066 i‡(
is_a_fifo_‹_pùe
)

2067 
f
[
i
].
ign‹e
 = 
åue
;

2069 ++
n_vübÀ
;

2072  
n_vübÀ
;

2073 
	}
}

2076 
	$maö
 (
¨gc
, **
¨gv
)

2078 
hódî_mode
 hódî_modê
mu…ùÀ_fûes
;

2079 
boﬁ
 
ok
 = 
åue
;

2083 
uötmax_t
 
n_unôs
 = 
DEFAULT_N_LINES
;

2084 
size_t
 
n_fûes
;

2085 **
fûe
;

2086 
Fûe_•ec
 *
F
;

2087 
size_t
 
i
;

2088 
boﬁ
 
obsﬁëe_›ti⁄
;

2093 
¶ìp_öãrvÆ
 = 1.0;

2095 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

2096 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

2097 
	`£éoˇÀ
 (
LC_ALL
, "");

2098 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

2099 
	`ãxtdomaö
 (
PACKAGE
);

2101 
	`©exô
 (
˛o£_°dout
);

2103 
have_ªad_°dö
 = 
Ál£
;

2105 
cou¡_löes
 = 
åue
;

2106 
f‹evî
 = 
‰om_°¨t
 = 
¥öt_hódîs
 = 
Ál£
;

2107 
obsﬁëe_›ti⁄
 = 
	`∑r£_obsﬁëe_›ti⁄
 (
¨gc
, 
¨gv
, &
n_unôs
);

2108 
¨gc
 -
obsﬁëe_›ti⁄
;

2109 
¨gv
 +
obsﬁëe_›ti⁄
;

2110 
	`∑r£_›ti⁄s
 (
¨gc
, 
¨gv
, &
n_unôs
, &
hódî_mode
, &
¶ìp_öãrvÆ
);

2115 i‡(
‰om_°¨t
)

2117 i‡(
n_unôs
)

2118 --
n_unôs
;

2121 i‡(
›töd
 < 
¨gc
)

2123 
n_fûes
 = 
¨gc
 - 
›töd
;

2124 
fûe
 = 
¨gv
 + 
›töd
;

2128 *
dummy_°dö
 = (*) "-";

2129 
n_fûes
 = 1;

2130 
fûe
 = &
dummy_°dö
;

2134 
boﬁ
 
found_hyphí
 = 
Ál£
;

2136 
i
 = 0; i < 
n_fûes
; i++)

2137 i‡(
	`STREQ
 (
fûe
[
i
], "-"))

2138 
found_hyphí
 = 
åue
;

2141 i‡(
found_hyphí
 && 
fﬁlow_mode
 =
Fﬁlow_«me
)

2142 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("ˇ¬Ÿ fﬁlow %†byÇame"), 
	`quŸe
 ("-"));

2147 i‡(
f‹evî
 && 
found_hyphí
 && 
	`ißây
 (
STDIN_FILENO
))

2148 
	`îr‹
 (0, 0, 
	`_
("warning: following standard input"

2152 
F
 = 
	`xnmÆloc
 (
n_fûes
,  *F);

2153 
i
 = 0; i < 
n_fûes
; i++)

2154 
F
[
i
].
«me
 = 
fûe
[i];

2156 i‡(
hódî_mode
 =
Æways


2157 || (
hódî_mode
 =
mu…ùÀ_fûes
 && 
n_fûes
 > 1))

2158 
¥öt_hódîs
 = 
åue
;

2160 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

2161 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

2163 
i
 = 0; i < 
n_fûes
; i++)

2164 
ok
 &
	`èû_fûe
 (&
F
[
i
], 
n_unôs
);

2166 i‡(
f‹evî
 && 
	`ign‹e_fifo_™d_pùe
 (
F
, 
n_fûes
))

2168 #i‡
HAVE_INOTIFY


2191 i‡(!
dißbÀ_öŸify
 && (
	`èûabÀ_°dö
 (
F
, 
n_fûes
)

2192 || 
	`™y_ªmŸe_fûe
 (
F
, 
n_fûes
)))

2193 
dißbÀ_öŸify
 = 
åue
;

2195 i‡(!
dißbÀ_öŸify
)

2197 
wd
 = 
	`öŸify_öô
 ();

2198 i‡(0 <
wd
)

2203 i‡(
	`fÊush
 (
°dout
) != 0)

2204 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

2206 i‡(!
	`èû_f‹evî_öŸify
 (
wd
, 
F
, 
n_fûes
, 
¶ìp_öãrvÆ
))

2207 
	`exô
 (
EXIT_FAILURE
);

2209 
	`îr‹
 (0, 
î∫o
, 
	`_
("inotify cannot be used,ÑevertingÅoÖolling"));

2212 
dißbÀ_öŸify
 = 
åue
;

2213 
	`èû_f‹evî
 (
F
, 
n_fûes
, 
¶ìp_öãrvÆ
);

2216 i‡(
have_ªad_°dö
 && 
	`˛o£
 (
STDIN_FILENO
) < 0)

2217 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

2218 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

2219 
	}
}

	@tee.c

19 
	~<c⁄fig.h
>

20 
	~<sys/ty≥s.h
>

21 
	~<sig«l.h
>

22 
	~<gë›t.h
>

24 
	~"sy°em.h
"

25 
	~"îr‹.h
"

26 
	~"Ádvi£.h
"

27 
	~"°dio--.h
"

28 
	~"x‰e›í.h
"

31 
	#PROGRAM_NAME
 "ãe"

	)

33 
	#AUTHORS
 \

34 
	`¥›î_«me
 ("Mike Parker"), \

35 
	`¥›î_«me
 ("Richard M. Stallman"), \

36 
	`¥›î_«me
 ("David MacKízõ")

	)

38 
boﬁ
 
ãe_fûes
 (
nfûes
, c⁄° **
fûes
);

41 
boﬁ
 
	g≠≥nd
;

44 
boﬁ
 
	gign‹e_öãºu±s
;

46 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

48 {"≠≥nd", 
no_¨gumít
, 
NULL
, 'a'},

49 {"ign‹e-öãºu±s", 
no_¨gumít
, 
NULL
, 'i'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$ußge
 (
°©us
)

58 i‡(
°©us
 !
EXIT_SUCCESS
)

59 
	`emô_åy_hñp
 ();

62 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]...\n"), 
¥ogøm_«me
);

63 
	`Âuts
 (
	`_
("\
 sènd¨d i≈uàtÿóch FILE,ándálsÿtÿ°™d¨d ouçut.\n\
\n\
-a, --≠≥ndáµídÅÿthêgiví FILEs, dÿnŸ ovîwrôe\n\
-i, --ign‹e-öãºu±† ign‹êöãºu± sig«ls\n\
"), 
°dout
);

69 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

70 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

71 
	`Âuts
 (
	`_
("\
\n\
á FILE i†-, c›yágaöÅÿ°™d¨d ouçut.\n\
"), 
°dout
);

75 
	`emô_™cûœry_öfo
 ();

77 
	`exô
 (
°©us
);

78 
	}
}

81 
	$maö
 (
¨gc
, **
¨gv
)

83 
boﬁ
 
ok
;

84 
›tc
;

86 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

87 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

88 
	`£éoˇÀ
 (
LC_ALL
, "");

89 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

90 
	`ãxtdomaö
 (
PACKAGE
);

92 
	`©exô
 (
˛o£_°dout
);

94 
≠≥nd
 = 
Ál£
;

95 
ign‹e_öãºu±s
 = 
Ál£
;

97 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "ai", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

99 
›tc
)

102 
≠≥nd
 = 
åue
;

106 
ign‹e_öãºu±s
 = 
åue
;

109 
ˇ£_GETOPT_HELP_CHAR
;

111 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

114 
	`ußge
 (
EXIT_FAILURE
);

118 i‡(
ign‹e_öãºu±s
)

119 
	`sig«l
 (
SIGINT
, 
SIG_IGN
);

124 
ok
 = 
	`ãe_fûes
 (
¨gc
 - 
›töd
, (c⁄° **Ë&
¨gv
[optind]);

125 i‡(
	`˛o£
 (
STDIN_FILENO
) != 0)

126 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard input"));

128 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

129 
	}
}

135 
boﬁ


136 
	$ãe_fûes
 (
nfûes
, c⁄° **
fûes
)

138 
FILE
 **
des¸ùt‹s
;

139 
buf„r
[
BUFSIZ
];

140 
ssize_t
 
byãs_ªad
;

141 
i
;

142 
boﬁ
 
ok
 = 
åue
;

143 c⁄° *
mode_°rög
 =

144 (
O_BINARY


145 ? (
≠≥nd
 ? "ab" : "wb")

146 : (
≠≥nd
 ? "a" : "w"));

148 
des¸ùt‹s
 = 
	`xnmÆloc
 (
nfûes
 + 1,  *descriptors);

152 
i
 = 
nfûes
; i >= 1; i--)

153 
fûes
[
i
] = files[i - 1];

155 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

156 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

157 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

158 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

160 
	`Ádvi£
 (
°dö
, 
FADVISE_SEQUENTIAL
);

164 
des¸ùt‹s
[0] = 
°dout
;

165 
fûes
[0] = 
	`_
("standard output");

166 
	`£tvbuf
 (
°dout
, 
NULL
, 
_IONBF
, 0);

168 
i
 = 1; i <
nfûes
; i++)

170 
des¸ùt‹s
[
i
] = (
	`STREQ
 (
fûes
[i], "-")

171 ? 
°dout


172 : 
	`f›í
 (
fûes
[
i
], 
mode_°rög
));

173 i‡(
des¸ùt‹s
[
i
] =
NULL
)

175 
	`îr‹
 (0, 
î∫o
, "%s", 
fûes
[
i
]);

176 
ok
 = 
Ál£
;

179 
	`£tvbuf
 (
des¸ùt‹s
[
i
], 
NULL
, 
_IONBF
, 0);

184 
byãs_ªad
 = 
	`ªad
 (0, 
buf„r
,  buffer);

185 i‡(
byãs_ªad
 < 0 && 
î∫o
 =
EINTR
)

187 i‡(
byãs_ªad
 <= 0)

192 
i
 = 0; i <
nfûes
; i++)

193 i‡(
des¸ùt‹s
[
i
]

194 && 
	`fwrôe
 (
buf„r
, 
byãs_ªad
, 1, 
des¸ùt‹s
[
i
]) != 1)

196 
	`îr‹
 (0, 
î∫o
, "%s", 
fûes
[
i
]);

197 
des¸ùt‹s
[
i
] = 
NULL
;

198 
ok
 = 
Ál£
;

202 i‡(
byãs_ªad
 == -1)

204 
	`îr‹
 (0, 
î∫o
, 
	`_
("readÉrror"));

205 
ok
 = 
Ál£
;

209 
i
 = 1; i <
nfûes
; i++)

210 i‡(!
	`STREQ
 (
fûes
[
i
], "-")

211 && 
des¸ùt‹s
[
i
] && 
	`f˛o£
 (descriptors[i]) != 0)

213 
	`îr‹
 (0, 
î∫o
, "%s", 
fûes
[
i
]);

214 
ok
 = 
Ál£
;

217 
	`‰ì
 (
des¸ùt‹s
);

219  
ok
;

220 
	}
}

	@test.c

25 #i‡(
__GNUC__
 =4 && 6 <
__GNUC_MINOR__
) || 4 < __GNUC__

26 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wsuggest-attribute=pure"

29 
	~<c⁄fig.h
>

30 
	~<°dio.h
>

31 
	~<sys/ty≥s.h
>

33 
	#TEST_STANDALONE
 1

	)

35 #i‚de‡
LBRACKET


36 
	#LBRACKET
 0

	)

40 #i‡
LBRACKET


41 
	#PROGRAM_NAME
 "["

	)

43 
	#PROGRAM_NAME
 "ã°"

	)

46 
	~"sy°em.h
"

47 
	~"quŸe.h
"

48 
	~"°©-time.h
"

49 
	~"°∫umcmp.h
"

51 #i‡
HAVE_SYS_PARAM_H


52 
	~<sys/∑øm.h
>

56 íum { 
	mTEST_TRUE
, 
	mTEST_FALSE
, 
	mTEST_FAILURE
 };

58 #i‡
deföed
 
TEST_STANDALONE


59 
	#ã°_exô
(
vÆ
Ë
	`exô
 (vÆ)

	)

61 
jmp_buf
 
	gã°_exô_buf
;

62 
	gã°_îr‹_ªtu∫
 = 0;

63 
	#ã°_exô
(
vÆ
Ë
ã°_îr‹_ªtu∫
 = vÆ, 
	`l⁄gjmp
 (
ã°_exô_buf
, 1)

	)

66 
	gpos
;

67 
	g¨gc
;

68 **
	g¨gv
;

70 
boﬁ
 
ã°_un›
 (c⁄° *
s
);

71 
boﬁ
 
u«ry_›î©‹
 ();

72 
boﬁ
 
bö¨y_›î©‹
 (bool);

73 
boﬁ
 
two_¨gumíts
 ();

74 
boﬁ
 
thªe_¨gumíts
 ();

75 
boﬁ
 
posixã°
 ();

77 
boﬁ
 
ex¥
 ();

78 
boﬁ
 
ãrm
 ();

79 
boﬁ
 
™d
 ();

80 
boﬁ
 
‹
 ();

82 
	$ã°_sy¡ax_îr‹
 (c⁄° *
f‹m©
, c⁄° *
¨g
)

83 
ATTRIBUTE_NORETURN
;

84 
	$bey⁄d
 (Ë
ATTRIBUTE_NORETURN
;

87 
	$ã°_sy¡ax_îr‹
 (c⁄° *
f‹m©
, c⁄° *
¨g
)

89 
	`Ârötf
 (
°dîr
, "%s: ", 
¨gv
[0]);

90 
	`Ârötf
 (
°dîr
, 
f‹m©
, 
¨g
);

91 
	`Âutc
 ('\n', 
°dîr
);

92 
	`fÊush
 (
°dîr
);

93 
	`ã°_exô
 (
TEST_FAILURE
);

94 
	}
}

101 
	$adv™˚
 (
boﬁ
 
f
)

103 ++
pos
;

105 i‡(
f
 && 
pos
 >
¨gc
)

106 
	`bey⁄d
 ();

107 
	}
}

110 
	$u«ry_adv™˚
 ()

112 
	`adv™˚
 (
åue
);

113 ++
pos
;

114 
	}
}

121 
	$bey⁄d
 ()

123 
	`ã°_sy¡ax_îr‹
 (
	`_
("missögárgumíàa·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

124 
	}
}

130 
	$föd_öt
 (c⁄° *
°rög
)

132 c⁄° *
p
;

133 c⁄° *
numbî_°¨t
;

135 
p
 = 
°rög
; 
	`isbœnk
 (
	`to_uch¨
 (*p));Ö++)

138 i‡(*
p
 == '+')

140 
p
++;

141 
numbî_°¨t
 = 
p
;

145 
numbî_°¨t
 = 
p
;

146 
p
 += (*p == '-');

149 i‡(
	`ISDIGIT
 (*
p
++))

151 
	`ISDIGIT
 (*
p
))

152 
p
++;

153 
	`isbœnk
 (
	`to_uch¨
 (*
p
)))

154 
p
++;

155 i‡(!*
p
)

156  
numbî_°¨t
;

159 
	`ã°_sy¡ax_îr‹
 (
	`_
("övÆid i¡egî %s"), 
	`quŸe
 (
°rög
));

160 
	}
}

164 
boﬁ


165 
	$gë_mtime
 (c⁄° *
fûíame
, 
time•ec
 *
mtime
)

167 
°©
 
föfo
;

168 
boﬁ
 
ok
 = (
	`°©
 (
fûíame
, &
föfo
) == 0);

169 #ifde‡
löt


170 
time•ec
 c⁄° 
zîo
;

171 *
mtime
 = 
zîo
;

173 i‡(
ok
)

174 *
mtime
 = 
	`gë_°©_mtime
 (&
föfo
);

175  
ok
;

176 
	}
}

179 
boﬁ


180 
	$bö›
 (c⁄° *
s
)

182  ((
	`STREQ
 (
s
, "=")) || (STREQ (s, "!=")) || (STREQ (s, "==")) ||

183 (
	`STREQ
 (
s
, "-nt")) ||

184 (
	`STREQ
 (
s
, "-ot")) || (STREQ (s, "-ef")) || (STREQ (s, "-eq")) ||

185 (
	`STREQ
 (
s
, "-ne")) || (STREQ (s, "-lt")) || (STREQ (s, "-le")) ||

186 (
	`STREQ
 (
s
, "-gt")) || (STREQ (s, "-ge")));

187 
	}
}

207 
boﬁ


208 
	$ãrm
 ()

210 
boﬁ
 
vÆue
;

211 
boﬁ
 
√g©ed
 = 
Ál£
;

214 
pos
 < 
¨gc
 && 
¨gv
[pos][0] == '!' &&árgv[pos][1] == '\0')

216 
	`adv™˚
 (
åue
);

217 
√g©ed
 = !negated;

220 i‡(
pos
 >
¨gc
)

221 
	`bey⁄d
 ();

224 i‡(
¨gv
[
pos
][0] == '(' &&árgv[pos][1] == '\0')

226 
«rgs
;

228 
	`adv™˚
 (
åue
);

230 
«rgs
 = 1;

231 
pos
 + 
«rgs
 < 
¨gc
 && ! 
	`STREQ
 (
¨gv
[pos +Çargs], ")");

232 
«rgs
++)

233 i‡(
«rgs
 == 4)

235 
«rgs
 = 
¨gc
 - 
pos
;

239 
vÆue
 = 
	`posixã°
 (
«rgs
);

240 i‡(
¨gv
[
pos
] == 0)

241 
	`ã°_sy¡ax_îr‹
 (
	`_
("')'Éx≥˘ed"), 
NULL
);

243 i‡(
¨gv
[
pos
][0] != ')' ||árgv[pos][1])

244 
	`ã°_sy¡ax_îr‹
 (
	`_
("')'Éx≥˘ed, found %s"), 
¨gv
[
pos
]);

245 
	`adv™˚
 (
Ál£
);

249 i‡(4 <
¨gc
 - 
pos
 && 
	`STREQ
 (
¨gv
[pos], "-l"Ë&& 
	`bö›
 (argv[pos + 2]))

250 
vÆue
 = 
	`bö¨y_›î©‹
 (
åue
);

251 i‡(3 <
¨gc
 - 
pos
 && 
	`bö›
 (
¨gv
[pos + 1]))

252 
vÆue
 = 
	`bö¨y_›î©‹
 (
Ál£
);

255 i‡(
¨gv
[
pos
][0] == '-' &&árgv[pos][1] &&árgv[pos][2] == '\0')

257 i‡(
	`ã°_un›
 (
¨gv
[
pos
]))

258 
vÆue
 = 
	`u«ry_›î©‹
 ();

260 
	`ã°_sy¡ax_îr‹
 (
	`_
("%s: u«ry o≥øt‹Éx≥˘ed"), 
¨gv
[
pos
]);

264 
vÆue
 = (
¨gv
[
pos
][0] != '\0');

265 
	`adv™˚
 (
Ál£
);

268  
√g©ed
 ^ 
vÆue
;

269 
	}
}

271 
boﬁ


272 
	$bö¨y_›î©‹
 (
boﬁ
 
l_is_l
)

274 
›
;

275 
°©
 
°©_buf
, 
°©_•¨e
;

277 
boﬁ
 
r_is_l
;

279 i‡(
l_is_l
)

280 
	`adv™˚
 (
Ál£
);

281 
›
 = 
pos
 + 1;

283 i‡((
›
 < 
¨gc
 - 2Ë&& 
	`STREQ
 (
¨gv
[op + 1], "-l"))

285 
r_is_l
 = 
åue
;

286 
	`adv™˚
 (
Ál£
);

289 
r_is_l
 = 
Ál£
;

291 i‡(
¨gv
[
›
][0] == '-')

294 i‡((((
¨gv
[
›
][1] == 'l' ||árgv[op][1] == 'g')

295 && (
¨gv
[
›
][2] == 'e' ||árgv[op][2] == 't'))

296 || (
¨gv
[
›
][1] == 'e' &&árgv[op][2] == 'q')

297 || (
¨gv
[
›
][1] == 'n' &&árgv[op][2] == 'e'))

298 && !
¨gv
[
›
][3])

300 
lbuf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

301 
rbuf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

302 c⁄° *
l
 = (
l_is_l


303 ? 
	`umaxto°r
 (
	`°æí
 (
¨gv
[
›
 - 1]), 
lbuf
)

304 : 
	`föd_öt
 (
¨gv
[
›
 - 1]));

305 c⁄° *
r
 = (
r_is_l


306 ? 
	`umaxto°r
 (
	`°æí
 (
¨gv
[
›
 + 2]), 
rbuf
)

307 : 
	`föd_öt
 (
¨gv
[
›
 + 1]));

308 
cmp
 = 
	`°rötcmp
 (
l
, 
r
);

309 
boﬁ
 
xe_›î©‹
 = (
¨gv
[
›
][2] == 'e');

310 
pos
 += 3;

311  (
¨gv
[
›
][1] ='l' ? 
cmp
 < 
xe_›î©‹


312 : 
¨gv
[
›
][1] ='g' ? 
cmp
 > - 
xe_›î©‹


313 : (
cmp
 !0Ë=
xe_›î©‹
);

316 
¨gv
[
›
][1])

322 i‡(
¨gv
[
›
][2] == 't' && !argv[op][3])

325 
time•ec
 
…
, 
π
;

326 
boﬁ
 
À
, 
ª
;

327 
pos
 += 3;

328 i‡(
l_is_l
 || 
r_is_l
)

329 
	`ã°_sy¡ax_îr‹
 (
	`_
("-¡ d€†nŸác˚± -l"), 
NULL
);

330 
À
 = 
	`gë_mtime
 (
¨gv
[
›
 - 1], &
…
);

331 
ª
 = 
	`gë_mtime
 (
¨gv
[
›
 + 1], &
π
);

332  
À
 && (!
ª
 || 
	`time•ec_cmp
 (
…
, 
π
) > 0);

337 i‡(
¨gv
[
›
][2] == 'f' && !argv[op][3])

340 
pos
 += 3;

341 i‡(
l_is_l
 || 
r_is_l
)

342 
	`ã°_sy¡ax_îr‹
 (
	`_
("-e‡d€†nŸác˚± -l"), 
NULL
);

343  (
	`°©
 (
¨gv
[
›
 - 1], &
°©_buf
) == 0

344 && 
	`°©
 (
¨gv
[
›
 + 1], &
°©_•¨e
) == 0

345 && 
°©_buf
.
°_dev
 =
°©_•¨e
.st_dev

346 && 
°©_buf
.
°_öo
 =
°©_•¨e
.st_ino);

351 i‡('t' =
¨gv
[
›
][2] && '\000' ==árgv[op][3])

354 
time•ec
 
…
, 
π
;

355 
boﬁ
 
À
, 
ª
;

356 
pos
 += 3;

357 i‡(
l_is_l
 || 
r_is_l
)

358 
	`ã°_sy¡ax_îr‹
 (
	`_
("-Ÿ d€†nŸác˚± -l"), 
NULL
);

359 
À
 = 
	`gë_mtime
 (
¨gv
[
›
 - 1], &
…
);

360 
ª
 = 
	`gë_mtime
 (
¨gv
[
›
 + 1], &
π
);

361  
ª
 && (!
À
 || 
	`time•ec_cmp
 (
…
, 
π
) < 0);

367 
	`ã°_sy¡ax_îr‹
 (
	`_
("unknow¿bö¨y o≥øt‹"), 
¨gv
[
›
]);

370 i‡(
¨gv
[
›
][0] == '='

371 && (!
¨gv
[
›
][1] || ((argv[op][1] == '=') && !argv[op][2])))

373 
boﬁ
 
vÆue
 = 
	`STREQ
 (
¨gv
[
pos
],árgv[pos + 2]);

374 
pos
 += 3;

375  
vÆue
;

378 i‡(
	`STREQ
 (
¨gv
[
›
], "!="))

380 
boﬁ
 
vÆue
 = !
	`STREQ
 (
¨gv
[
pos
],árgv[pos + 2]);

381 
pos
 += 3;

382  
vÆue
;

386 
	`ab‹t
 ();

387 
	}
}

389 
boﬁ


390 
	$u«ry_›î©‹
 ()

392 
°©
 
°©_buf
;

394 
¨gv
[
pos
][1])

397  
Ál£
;

406 
	`u«ry_adv™˚
 ();

407  
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0;

410 
	`u«ry_adv™˚
 ();

411  
	`euidac˚ss
 (
¨gv
[
pos
 - 1], 
R_OK
) == 0;

414 
	`u«ry_adv™˚
 ();

415  
	`euidac˚ss
 (
¨gv
[
pos
 - 1], 
W_OK
) == 0;

418 
	`u«ry_adv™˚
 ();

419  
	`euidac˚ss
 (
¨gv
[
pos
 - 1], 
X_OK
) == 0;

423 
	`u«ry_adv™˚
 ();

424 i‡(
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) != 0)

425  
Ál£
;

426 
î∫o
 = 0;

427 
uid_t
 
euid
 = 
	`gëeuid
 ();

428 
uid_t
 
NO_UID
 = -1;

429  ! (
euid
 =
NO_UID
 && 
î∫o
Ë&&Éuid =
°©_buf
.
°_uid
;

434 
	`u«ry_adv™˚
 ();

435 i‡(
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) != 0)

436  
Ál£
;

437 
î∫o
 = 0;

438 
gid_t
 
egid
 = 
	`gëegid
 ();

439 
gid_t
 
NO_GID
 = -1;

440  ! (
egid
 =
NO_GID
 && 
î∫o
Ë&&Égid =
°©_buf
.
°_gid
;

444 
	`u«ry_adv™˚
 ();

447  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

448 && 
	`S_ISREG
 (
°©_buf
.
°_mode
));

451 
	`u«ry_adv™˚
 ();

452  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

453 && 
	`S_ISDIR
 (
°©_buf
.
°_mode
));

456 
	`u«ry_adv™˚
 ();

457  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

458 && 0 < 
°©_buf
.
°_size
);

461 
	`u«ry_adv™˚
 ();

462  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

463 && 
	`S_ISSOCK
 (
°©_buf
.
°_mode
));

466 
	`u«ry_adv™˚
 ();

467  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

468 && 
	`S_ISCHR
 (
°©_buf
.
°_mode
));

471 
	`u«ry_adv™˚
 ();

472  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

473 && 
	`S_ISBLK
 (
°©_buf
.
°_mode
));

476 
	`u«ry_adv™˚
 ();

477  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

478 && 
	`S_ISFIFO
 (
°©_buf
.
°_mode
));

484 
	`u«ry_adv™˚
 ();

485  (
	`l°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

486 && 
	`S_ISLNK
 (
°©_buf
.
°_mode
));

489 
	`u«ry_adv™˚
 ();

490  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

491 && (
°©_buf
.
°_mode
 & 
S_ISUID
));

494 
	`u«ry_adv™˚
 ();

495  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

496 && (
°©_buf
.
°_mode
 & 
S_ISGID
));

499 
	`u«ry_adv™˚
 ();

500  (
	`°©
 (
¨gv
[
pos
 - 1], &
°©_buf
) == 0

501 && (
°©_buf
.
°_mode
 & 
S_ISVTX
));

505 
fd
;

506 c⁄° *
¨g
;

507 
	`u«ry_adv™˚
 ();

508 
¨g
 = 
	`föd_öt
 (
¨gv
[
pos
 - 1]);

509 
î∫o
 = 0;

510 
fd
 = 
	`°πﬁ
 (
¨g
, 
NULL
, 10);

511  (
î∫o
 !
ERANGE
 && 0 <
fd
 && fd <
INT_MAX
 && 
	`ißây
 (fd));

515 
	`u«ry_adv™˚
 ();

516  
¨gv
[
pos
 - 1][0] != 0;

519 
	`u«ry_adv™˚
 ();

520  
¨gv
[
pos
 - 1][0] == '\0';

522 
	}
}

529 
boﬁ


530 
	$™d
 ()

532 
boﬁ
 
vÆue
 = 
åue
;

534 
åue
)

536 
vÆue
 &
	`ãrm
 ();

537 i‡(! (
pos
 < 
¨gc
 && 
	`STREQ
 (
¨gv
[pos], "-a")))

538  
vÆue
;

539 
	`adv™˚
 (
Ál£
);

541 
	}
}

548 
boﬁ


549 
	$‹
 ()

551 
boﬁ
 
vÆue
 = 
Ál£
;

553 
åue
)

555 
vÆue
 |
	`™d
 ();

556 i‡(! (
pos
 < 
¨gc
 && 
	`STREQ
 (
¨gv
[pos], "-o")))

557  
vÆue
;

558 
	`adv™˚
 (
Ál£
);

560 
	}
}

566 
boﬁ


567 
	$ex¥
 ()

569 i‡(
pos
 >
¨gc
)

570 
	`bey⁄d
 ();

572  
	`‹
 ();

573 
	}
}

576 
boﬁ


577 
	$ã°_un›
 (c⁄° *
›
)

579 i‡(
›
[0] != '-')

580  
Ál£
;

582 
›
[1])

589  
åue
;

591  
Ál£
;

593 
	}
}

595 
boﬁ


596 
	$⁄e_¨gumít
 ()

598  
¨gv
[
pos
++][0] != '\0';

599 
	}
}

601 
boﬁ


602 
	$two_¨gumíts
 ()

604 
boﬁ
 
vÆue
;

606 i‡(
	`STREQ
 (
¨gv
[
pos
], "!"))

608 
	`adv™˚
 (
Ál£
);

609 
vÆue
 = ! 
	`⁄e_¨gumít
 ();

611 i‡(
¨gv
[
pos
][0] == '-'

612 && 
¨gv
[
pos
][1] != '\0'

613 && 
¨gv
[
pos
][2] == '\0')

615 i‡(
	`ã°_un›
 (
¨gv
[
pos
]))

616 
vÆue
 = 
	`u«ry_›î©‹
 ();

618 
	`ã°_sy¡ax_îr‹
 (
	`_
("%s: u«ry o≥øt‹Éx≥˘ed"), 
¨gv
[
pos
]);

621 
	`bey⁄d
 ();

622  (
vÆue
);

623 
	}
}

625 
boﬁ


626 
	$thªe_¨gumíts
 ()

628 
boﬁ
 
vÆue
;

630 i‡(
	`bö›
 (
¨gv
[
pos
 + 1]))

631 
vÆue
 = 
	`bö¨y_›î©‹
 (
Ál£
);

632 i‡(
	`STREQ
 (
¨gv
[
pos
], "!"))

634 
	`adv™˚
 (
åue
);

635 
vÆue
 = !
	`two_¨gumíts
 ();

637 i‡(
	`STREQ
 (
¨gv
[
pos
], "(") && STREQ (argv[pos + 2], ")"))

639 
	`adv™˚
 (
Ál£
);

640 
vÆue
 = 
	`⁄e_¨gumít
 ();

641 
	`adv™˚
 (
Ál£
);

643 i‡(
	`STREQ
 (
¨gv
[
pos
 + 1], "-a") || STREQ (argv[pos + 1], "-o"))

644 
vÆue
 = 
	`ex¥
 ();

646 
	`ã°_sy¡ax_îr‹
 (
	`_
("%s: bö¨y o≥øt‹Éx≥˘ed"), 
¨gv
[
pos
+1]);

647  (
vÆue
);

648 
	}
}

651 
boﬁ


652 
	$posixã°
 (
«rgs
)

654 
boﬁ
 
vÆue
;

656 
«rgs
)

659 
vÆue
 = 
	`⁄e_¨gumít
 ();

663 
vÆue
 = 
	`two_¨gumíts
 ();

667 
vÆue
 = 
	`thªe_¨gumíts
 ();

671 i‡(
	`STREQ
 (
¨gv
[
pos
], "!"))

673 
	`adv™˚
 (
åue
);

674 
vÆue
 = !
	`thªe_¨gumíts
 ();

677 i‡(
	`STREQ
 (
¨gv
[
pos
], "(") && STREQ (argv[pos + 3], ")"))

679 
	`adv™˚
 (
Ál£
);

680 
vÆue
 = 
	`two_¨gumíts
 ();

681 
	`adv™˚
 (
Ál£
);

687 i‡(
«rgs
 <= 0)

688 
	`ab‹t
 ();

689 
vÆue
 = 
	`ex¥
 ();

692  (
vÆue
);

693 
	}
}

695 #i‡
deföed
 
TEST_STANDALONE


698 
	$ußge
 (
°©us
)

700 i‡(
°©us
 !
EXIT_SUCCESS
)

701 
	`emô_åy_hñp
 ();

704 
	`Âuts
 (
	`_
("\
:Åe° EXPRESSION\n\
:Åe°\n\
: [ EXPRESSION ]\n\
: [ ]\n\
: [ OPTION\n\
"), 
°dout
);

711 
	`Âuts
 (
	`_
("\
 wôhÅhê°©u†dëîmöed by EXPRESSION.\n\
\n\
"), 
°dout
);

715 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

716 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

717 
	`Âuts
 (
	`_
("\
\n\
 omôãd EXPRESSION deÁu…†tÿÁl£. Othîwi£,\n\
 i†åuê‹ fÆ£ánd së†exô sètus. Iài†⁄êof:\n\
"), 
°dout
);

722 
	`Âuts
 (
	`_
("\
\n\
–EXPRESSION ) EXPRESSION i†åue\n\
! EXPRESSION EXPRESSION i†Ál£\n\
1 -®EXPRESSION2 bŸh EXPRESSION1ánd EXPRESSION2áªÅrue\n\
1 -ÿEXPRESSION2Éôhî EXPRESSION1 o∏EXPRESSION2 i†åue\n\
"), 
°dout
);

729 
	`Âuts
 (
	`_
("\
\n\
-¿STRINGÅhêÀngth o‡STRING i†n⁄zîo\n\
ÉquivÆíàtÿ-¿STRING\n\
-z STRINGÅhêÀngth o‡STRING i†zîo\n\
1 = STRING2Åhê°rög†¨êequÆ\n\
1 !STRING2Åhê°rög†¨ênŸÉquÆ\n\
"), 
°dout
);

737 
	`Âuts
 (
	`_
("\
\n\
1 -eq INTEGER2 INTEGER1 i†equÆÅÿINTEGER2\n\
1 -gêINTEGER2 INTEGER1 i†gª©îÅh™ o∏equÆÅÿINTEGER2\n\
1 -gàINTEGER2 INTEGER1 i†gª©îÅh™ INTEGER2\n\
1 -À INTEGER2 INTEGER1 i†Às†th™ o∏equÆÅÿINTEGER2\n\
1 -… INTEGER2 INTEGER1 i†Às†th™ INTEGER2\n\
1 -√ INTEGER2 INTEGER1 i†nŸÉquÆÅÿINTEGER2\n\
"), 
°dout
);

746 
	`Âuts
 (
	`_
("\
\n\
1 -e‡FILE2 FILE1ánd FILE2 havêthêßmêdevi˚ánd inodênumbîs\n\
1 -¡ FILE2 FILE1 i†√wî (modifiˇti⁄ d©eËth™ FILE2\n\
1 -Ÿ FILE2 FILE1 i†ﬁdîÅh™ FILE2\n\
"), 
°dout
);

752 
	`Âuts
 (
	`_
("\
\n\
-b FILE FILEÉxi°†™d i†block s≥cül\n\
-¯FILE FILEÉxi°†™d i†ch¨a˘î s≥cül\n\
-d FILE FILEÉxi°†™d i†®dúe˘‹y\n\
-êFILE FILEÉxi°s\n\
"), 
°dout
);

759 
	`Âuts
 (
	`_
("\
-‡FILE FILEÉxi°†™d i†®ªguœ∏fûe\n\
-g FILE FILEÉxi°†™d i†£t-group-ID\n\
-G FILE FILEÉxi°†™d i†ow√d byÅhêef„˘ivêgrou∞ID\n\
-h FILE FILEÉxi°†™d i†®symbﬁi¯lök (ßmêa†-L)\n\
-k FILE FILEÉxi°†™d ha†ô†°icky bô së\n\
"), 
°dout
);

766 
	`Âuts
 (
	`_
("\
-L FILE FILEÉxi°†™d i†®symbﬁi¯lök (ßmêa†-h)\n\
-O FILE FILEÉxi°†™d i†ow√d byÅhêef„˘ivêu£∏ID\n\
-∞FILE FILEÉxi°†™d i†®«medÖùe\n\
-∏FILE FILEÉxi°†™dÑódÖîmissi⁄ i†gø¡ed\n\
-†FILE FILEÉxi°†™d ha†®sizêgª©îÅh™ zîo\n\
"), 
°dout
);

773 
	`Âuts
 (
	`_
("\
-S FILE FILEÉxi°†™d i†®sockë\n\
-àFD fûêdes¸ùt‹ FD i†›íed o¿®ãrmöÆ\n\
-u FILE FILEÉxi°†™d it†£t-u£r-ID bô i†£t\n\
-w FILE FILEÉxi°†™d wrôê≥rmissi⁄ i†gø¡ed\n\
-x FILE FILEÉxi°†™dÉxecuã (‹ sórchË≥rmissi⁄ i†gø¡ed\n\
"), 
°dout
);

780 
	`Âuts
 (
	`_
("\
\n\
 f‹ -hánd -L,áŒ FILE-ªœãdÅe°†dîe„ªn˚ symbﬁi¯löks.\n\
Åh©Ö¨íthe£†√edÅÿbêesˇ≥d (e.g., by back¶ashesËf‹ shñls.\n\
 mayálsÿbê-»STRING, whichÉvÆu©e†tÿthêÀngth o‡STRING.\n\
"), 
°dout
);

786 
	`Âuts
 (
	`_
("\
\n\
: [ h⁄‹†thê--hñ∞™d --vîsi⁄ o±i⁄s, buàã° d€†nŸ.\n\
Åª©†óch o‡tho£á†ôÅª©†™y othîÇ⁄em±y STRING.\n\
"), 
°dout
);

791 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
	`_
("testánd/or ["));

792 
	`emô_™cûœry_öfo
 ();

794 
	`exô
 (
°©us
);

795 
	}
}

798 #i‡!
deföed
 
TEST_STANDALONE


799 
	#maö
 
ã°_comm™d


	)

802 
	#AUTHORS
 \

803 
	`¥›î_«me
 ("Kevin Braunsdorf"), \

804 
	`¥›î_«me
 ("M©thew Bødbu∫")

	)

813 
	$maö
 (
m¨gc
, **
m¨gv
)

815 
boﬁ
 
vÆue
;

817 #i‡!
deföed
 
TEST_STANDALONE


818 
code
;

820 
code
 = 
	`£tjmp
 (
ã°_exô_buf
);

822 i‡(
code
)

823  (
ã°_îr‹_ªtu∫
);

825 
	`öôülize_maö
 (&
m¨gc
, &
m¨gv
);

826 
	`£t_¥ogøm_«me
 (
m¨gv
[0]);

827 
	`£éoˇÀ
 (
LC_ALL
, "");

828 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

829 
	`ãxtdomaö
 (
PACKAGE
);

831 
	`öôülize_exô_Áûuª
 (
TEST_FAILURE
);

832 
	`©exô
 (
˛o£_°dout
);

835 
¨gv
 = 
m¨gv
;

837 i‡(
LBRACKET
)

845 i‡(
m¨gc
 == 2)

847 i‡(
	`STREQ
 (
m¨gv
[1], "--help"))

848 
	`ußge
 (
EXIT_SUCCESS
);

850 i‡(
	`STREQ
 (
m¨gv
[1], "--version"))

852 
	`vîsi⁄_ëc
 (
°dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
, 
AUTHORS
,

853 (*Ë
NULL
);

854 
	`ã°_exô
 (
EXIT_SUCCESS
);

857 i‡(
m¨gc
 < 2 || !
	`STREQ
 (
m¨gv
[margc - 1], "]"))

858 
	`ã°_sy¡ax_îr‹
 (
	`_
("missög ']'"), 
NULL
);

860 --
m¨gc
;

863 
¨gc
 = 
m¨gc
;

864 
pos
 = 1;

866 i‡(
pos
 >
¨gc
)

867 
	`ã°_exô
 (
TEST_FALSE
);

869 
vÆue
 = 
	`posixã°
 (
¨gc
 - 1);

871 i‡(
pos
 !
¨gc
)

872 
	`ã°_sy¡ax_îr‹
 (
	`_
("exå®¨gumíà%s"), 
	`quŸe
 (
¨gv
[
pos
]));

874 
	`ã°_exô
 (
vÆue
 ? 
TEST_TRUE
 : 
TEST_FALSE
);

875 
	}
}

	@timeout.c

47 
	~<c⁄fig.h
>

48 
	~<gë›t.h
>

49 
	~<°dio.h
>

50 
	~<sys/ty≥s.h
>

51 
	~<sig«l.h
>

52 #i‡
HAVE_PRCTL


53 
	~<sys/¥˘l.h
>

55 
	~<sys/waô.h
>

57 
	~"sy°em.h
"

58 
	~"c-°πod.h
"

59 
	~"x°πod.h
"

60 
	~"sig2°r.h
"

61 
	~"›î™d2sig.h
"

62 
	~"îr‹.h
"

63 
	~"quŸe.h
"

65 #i‡
HAVE_SETRLIMIT


68 
	~<sys/ªsour˚.h
>

72 #i‚de‡
SA_RESTART


73 
	#SA_RESTART
 0

	)

76 
	#PROGRAM_NAME
 "timeout"

	)

78 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("Padøig Bødy", "P\303\241døig Bødy")

	)

80 
	gtimed_out
;

81 
	gãrm_sig«l
 = 
SIGTERM
;

82 
	gm⁄ô‹ed_pid
;

83 
	gkûl_a·î
;

84 
boﬁ
 
	gf‹eground
;

85 
boﬁ
 
	g¥e£rve_°©us
;

90 
	mFOREGROUND_OPTION
 = 
CHAR_MAX
 + 1,

91 
	mPRESERVE_STATUS_OPTION


94 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

96 {"kûl-a·î", 
ªquúed_¨gumít
, 
NULL
, 'k'},

97 {"sig«l", 
ªquúed_¨gumít
, 
NULL
, 's'},

98 {"f‹eground", 
no_¨gumít
, 
NULL
, 
FOREGROUND_OPTION
},

99 {"¥e£rve-°©us", 
no_¨gumít
, 
NULL
, 
PRESERVE_STATUS_OPTION
},

100 {
GETOPT_HELP_OPTION_DECL
},

101 {
GETOPT_VERSION_OPTION_DECL
},

102 {
NULL
, 0, NULL, 0}

106 
	$unblock_sig«l
 (
sig
)

108 
sig£t_t
 
unblock_£t
;

109 
	`sigem±y£t
 (&
unblock_£t
);

110 
	`sigadd£t
 (&
unblock_£t
, 
sig
);

111 i‡(
	`sig¥ocmask
 (
SIG_UNBLOCK
, &
unblock_£t
, 
NULL
) != 0)

112 
	`îr‹
 (0, 
î∫o
, 
	`_
("warning: sigprocmask"));

113 
	}
}

121 
	$£âimeout
 (
duøti⁄
)

126 
	`unblock_sig«l
 (
SIGALRM
);

135 #i‡
HAVE_TIMER_SETTIME


136 
time•ec
 
ts
 = 
	`dtŸime•ec
 (
duøti⁄
);

137 
ôimî•ec
 
ôs
 = { {0, 0}, 
ts
 };

138 
timî_t
 
timîid
;

139 i‡(
	`timî_¸óã
 (
CLOCK_REALTIME
, 
NULL
, &
timîid
) == 0)

141 i‡(
	`timî_£âime
 (
timîid
, 0, &
ôs
, 
NULL
) == 0)

145 
	`îr‹
 (0, 
î∫o
, 
	`_
("warning:Åimer_settime"));

146 
	`timî_dñëe
 (
timîid
);

149 i‡(
î∫o
 !
ENOSYS
)

150 
	`îr‹
 (0, 
î∫o
, 
	`_
("warning:Åimer_create"));

153 
timeöt
;

154 i‡(
UINT_MAX
 <
duøti⁄
)

155 
timeöt
 = 
UINT_MAX
;

158 
duøti⁄_Êo‹
 = 
duøti⁄
;

159 
timeöt
 = 
duøti⁄_Êo‹
 + (duøti⁄_Êo‹ < 
duøti⁄
);

161 
	`Æ¨m
 (
timeöt
);

162 
	}
}

167 
	$£nd_sig
 (
whîe
, 
sig
)

176 i‡(
whîe
 == 0)

177 
	`sig«l
 (
sig
, 
SIG_IGN
);

178  
	`kûl
 (
whîe
, 
sig
);

179 
	}
}

182 
	$˛ónup
 (
sig
)

184 i‡(
sig
 =
SIGALRM
)

186 
timed_out
 = 1;

187 
sig
 = 
ãrm_sig«l
;

189 i‡(
m⁄ô‹ed_pid
)

191 i‡(
kûl_a·î
)

194 
ãrm_sig«l
 = 
SIGKILL
;

195 
	`£âimeout
 (
kûl_a·î
);

196 
kûl_a·î
 = 0;

202 
	`£nd_sig
 (
m⁄ô‹ed_pid
, 
sig
);

205 i‡(!
f‹eground
)

206 
	`£nd_sig
 (0, 
sig
);

207 i‡(
sig
 !
SIGKILL
 && sig !
SIGCONT
)

209 
	`£nd_sig
 (
m⁄ô‹ed_pid
, 
SIGCONT
);

210 i‡(!
f‹eground
)

211 
	`£nd_sig
 (0, 
SIGCONT
);

215 
	`_exô
 (128 + 
sig
);

216 
	}
}

219 
	$ußge
 (
°©us
)

221 i‡(
°©us
 !
EXIT_SUCCESS
)

222 
	`emô_åy_hñp
 ();

225 
	`¥ötf
 (
	`_
("\
: %†[OPTION] DURATION COMMAND [ARG]...\n\
: %†[OPTION]\n"), 
¥ogøm_«me
,Örogram_name);

229 
	`Âuts
 (
	`_
("\
 COMMAND,ánd kû»ô i‡°û»ru¬ögá·î DURATION.\n\
"), 
°dout
);

233 
	`emô_m™d©‹y_¨g_nŸe
 ();

235 
	`Âuts
 (
	`_
("\
--¥e£rve-°©us\n\
 wôhÅhêßmê°©u†a†COMMAND,Éví whíÅhe\n\
Åime†out\n\
--f‹eground\n\
ÇŸÑu¬ögÅimeouàdúe˘ly fromá shñ»¥om±,\n\
 COMMANDÅÿªad fromÅhêTTYándÑe˚ivêTTY sig«ls.\n\
Åhi†mode, chûdª¿o‡COMMAND wû»nŸ bêtimed out.\n\
-k, --kûl-a·î=DURATION\n\
 sídá KILL sig«»i‡COMMAND i†°û»ru¬ög\n\
Ü⁄gá·îÅhêöôü»sig«»wa†£¡.\n\
-s, --sig«l=SIGNAL\n\
Åhêsig«»tÿbê£¡ o¿timeout.\n\
 may bê®«mêlikê'HUP' o∏®numbî.\n\
 'kû»-l' f‹áÜi° o‡sig«ls\n"), 
°dout
);

251 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

252 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

254 
	`Âuts
 (
	`_
("\n\
 i†®ÊﬂtögÖoöànumbî wôhá¿›ti⁄Æ suffix:\n\
's' f‹ sec⁄d†—hêdeÁu…), 'm' f‹ möuãs, 'h' f‹ hour†\
 'd' f‹ days.\n"), 
°dout
);

259 
	`Âuts
 (
	`_
("\n\
Åhêcomm™dÅime†out,ánd --¥e£rve-°©u†i†nŸ së,ÅhíÉxô wôh\n\
 124. Othîwi£,Éxô wôhÅhê°©u†o‡COMMAND. I‡nÿsig«l\n\
 s≥cifõd, sídÅhêTERM sig«»up⁄Åimeout. ThêTERM sig«»kûls\n\
Öro˚s†th© d€†nŸ block o∏ˇtchÅh© sig«l. Iàmay bê√˚sßry\n\
 u£ÅhêKILL (9Ësig«l, sö˚Åhi†sig«»ˇ¬Ÿ bêˇught, i¿which\n\
Åhêexô sètu†i†128+9Ñ©hîÅh™ 124.\n"), 
°dout
);

266 
	`emô_™cûœry_öfo
 ();

268 
	`exô
 (
°©us
);

269 
	}
}

277 
boﬁ


278 
	$≠∂y_time_suffix
 (*
x
, 
suffix_ch¨
)

280 
mu…ùlõr
;

282 
suffix_ch¨
)

286 
mu…ùlõr
 = 1;

289 
mu…ùlõr
 = 60;

292 
mu…ùlõr
 = 60 * 60;

295 
mu…ùlõr
 = 60 * 60 * 24;

298  
Ál£
;

301 *
x
 *
mu…ùlõr
;

303  
åue
;

304 
	}
}

307 
	$∑r£_duøti⁄
 (c⁄° * 
°r
)

309 
duøti⁄
;

310 c⁄° *
ï
;

312 i‡(!
	`x°πod
 (
°r
, &
ï
, &
duøti⁄
, 
c_°πod
)

314 || ! (0 <
duøti⁄
)

316 || (*
ï
 && *(ep + 1))

318 || !
	`≠∂y_time_suffix
 (&
duøti⁄
, *
ï
))

320 
	`îr‹
 (0, 0, 
	`_
("övÆidÅimêöãrvÆ %s"), 
	`quŸe
 (
°r
));

321 
	`ußge
 (
EXIT_CANCELED
);

324  
duøti⁄
;

325 
	}
}

328 
	$ö°Æl_sig«l_h™dÀrs
 (
sigãrm
)

330 
siga˘i⁄
 
ß
;

331 
	`sigem±y£t
 (&
ß
.
ß_mask
);

332 
ß
.
ß_h™dÀr
 = 
˛ónup
;

333 
ß
.
ß_Êags
 = 
SA_RESTART
;

336 
	`siga˘i⁄
 (
SIGALRM
, &
ß
, 
NULL
);

337 
	`siga˘i⁄
 (
SIGINT
, &
ß
, 
NULL
);

338 
	`siga˘i⁄
 (
SIGQUIT
, &
ß
, 
NULL
);

339 
	`siga˘i⁄
 (
SIGHUP
, &
ß
, 
NULL
);

340 
	`siga˘i⁄
 (
SIGTERM
, &
ß
, 
NULL
);

341 
	`siga˘i⁄
 (
sigãrm
, &
ß
, 
NULL
);

342 
	}
}

346 
boﬁ


347 
	$dißbÀ_c‹e_dumps
 ()

349 #i‡
HAVE_PRCTL
 && 
deföed
 
PR_SET_DUMPABLE


350 i‡(
	`¥˘l
 (
PR_SET_DUMPABLE
, 0) == 0)

351  
åue
;

353 #ñi‡
HAVE_SETRLIMIT
 && 
deföed
 
RLIMIT_CORE


356 i‡(
	`£ålimô
 (
RLIMIT_CORE
, &(
æimô
) {0,0}) == 0)

357  
åue
;

360  
Ál£
;

363 
	`îr‹
 (0, 
î∫o
, 
	`_
("warning: disabling core dumps failed"));

364  
Ál£
;

365 
	}
}

368 
	$maö
 (
¨gc
, **
¨gv
)

370 
timeout
;

371 
sig«me
[
SIG2STR_MAX
];

372 
c
;

374 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

375 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

376 
	`£éoˇÀ
 (
LC_ALL
, "");

377 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

378 
	`ãxtdomaö
 (
PACKAGE
);

380 
	`öôülize_exô_Áûuª
 (
EXIT_CANCELED
);

381 
	`©exô
 (
˛o£_°dout
);

383 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+k:s:", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

385 
c
)

388 
kûl_a·î
 = 
	`∑r£_duøti⁄
 (
›èrg
);

392 
ãrm_sig«l
 = 
	`›î™d2sig
 (
›èrg
, 
sig«me
);

393 i‡(
ãrm_sig«l
 == -1)

394 
	`ußge
 (
EXIT_CANCELED
);

397 
FOREGROUND_OPTION
:

398 
f‹eground
 = 
åue
;

401 
PRESERVE_STATUS_OPTION
:

402 
¥e£rve_°©us
 = 
åue
;

405 
ˇ£_GETOPT_HELP_CHAR
;

407 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

410 
	`ußge
 (
EXIT_CANCELED
);

415 i‡(
¨gc
 - 
›töd
 < 2)

416 
	`ußge
 (
EXIT_CANCELED
);

418 
timeout
 = 
	`∑r£_duøti⁄
 (
¨gv
[
›töd
++]);

420 
¨gv
 +
›töd
;

426 i‡(!
f‹eground
)

427 
	`£çgid
 (0, 0);

431 
	`ö°Æl_sig«l_h™dÀrs
 (
ãrm_sig«l
);

432 
	`sig«l
 (
SIGTTIN
, 
SIG_IGN
);

433 
	`sig«l
 (
SIGTTOU
, 
SIG_IGN
);

434 
	`sig«l
 (
SIGCHLD
, 
SIG_DFL
);

436 
m⁄ô‹ed_pid
 = 
	`f‹k
 ();

437 i‡(
m⁄ô‹ed_pid
 == -1)

439 
	`îr‹
 (0, 
î∫o
, 
	`_
("fork system call failed"));

440  
EXIT_CANCELED
;

442 i‡(
m⁄ô‹ed_pid
 == 0)

444 
exô_°©us
;

447 
	`sig«l
 (
SIGTTIN
, 
SIG_DFL
);

448 
	`sig«l
 (
SIGTTOU
, 
SIG_DFL
);

450 
	`execvp
 (
¨gv
[0],árgv);

453 
exô_°©us
 = (
î∫o
 =
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

454 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿru¿comm™d %s"), 
	`quŸe
 (
¨gv
[0]));

455  
exô_°©us
;

459 
pid_t
 
waô_ªsu…
;

460 
°©us
;

462 
	`£âimeout
 (
timeout
);

464 (
waô_ªsu…
 = 
	`waôpid
 (
m⁄ô‹ed_pid
, &
°©us
, 0)) < 0

465 && 
î∫o
 =
EINTR
)

468 i‡(
waô_ªsu…
 < 0)

471 
	`îr‹
 (0, 
î∫o
, 
	`_
("error waiting for command"));

472 
°©us
 = 
EXIT_CANCELED
;

476 i‡(
	`WIFEXITED
 (
°©us
))

477 
°©us
 = 
	`WEXITSTATUS
 (status);

478 i‡(
	`WIFSIGNALED
 (
°©us
))

480 
sig
 = 
	`WTERMSIG
 (
°©us
);

481 i‡(
	`WCOREDUMP
 (
°©us
))

482 
	`îr‹
 (0, 0, 
	`_
("the monitored command dumped core"));

483 i‡(!
timed_out
 && 
	`dißbÀ_c‹e_dumps
 ())

486 
	`sig«l
 (
sig
, 
SIG_DFL
);

487 
	`øi£
 (
sig
);

489 
°©us
 = 
sig
 + 128;

494 
	`îr‹
 (0, 0, 
	`_
("unknow¿°©u†‰om comm™d (0x%X)"), 
°©us
);

495 
°©us
 = 
EXIT_FAILURE
;

499 i‡(
timed_out
 && !
¥e£rve_°©us
)

500  
EXIT_TIMEDOUT
;

502  
°©us
;

504 
	}
}

	@touch.c

20 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<gë›t.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<as£π.h
>

26 
	~"sy°em.h
"

27 
	~"¨gm©ch.h
"

28 
	~"îr‹.h
"

29 
	~"fd-ª›í.h
"

30 
	~"∑r£-d©ëime.h
"

31 
	~"posixtm.h
"

32 
	~"posixvî.h
"

33 
	~"quŸe.h
"

34 
	~"°©-time.h
"

35 
	~"utimís.h
"

38 
	#PROGRAM_NAME
 "touch"

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Paul Rubin"), \

42 
	`¥›î_«me
 ("Arnold Robbins"), \

43 
	`¥›î_«me
 ("Jim Kingdon"), \

44 
	`¥›î_«me
 ("David MacKenzie"), \

45 
	`¥›î_«me
 ("R™dy Smôh")

	)

48 
	#CH_ATIME
 1

	)

49 
	#CH_MTIME
 2

	)

52 
	gch™ge_times
;

55 
boﬁ
 
	gno_¸óã
;

58 
boﬁ
 
	gu£_ªf
;

61 
boﬁ
 
	gno_dîe„ªn˚
;

68 
boﬁ
 
	gamtime_now
;

71 
time•ec
 
	g√wtime
[2];

74 *
	gªf_fûe
;

80 
	mTIME_OPTION
 = 
CHAR_MAX
 + 1

83 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

85 {"time", 
ªquúed_¨gumít
, 
NULL
, 
TIME_OPTION
},

86 {"no-¸óã", 
no_¨gumít
, 
NULL
, 'c'},

87 {"d©e", 
ªquúed_¨gumít
, 
NULL
, 'd'},

88 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 'r'},

89 {"no-dîe„ªn˚", 
no_¨gumít
, 
NULL
, 'h'},

90 {
GETOPT_HELP_OPTION_DECL
},

91 {
GETOPT_VERSION_OPTION_DECL
},

92 {
NULL
, 0, NULL, 0}

96 c⁄°* c⁄° 
	gtime_¨gs
[] =

98 "©ime", "ac˚ss", "u£", "mtime", "modify", 
NULL


102 c⁄° 
	gtime_masks
[] =

104 
CH_ATIME
, CH_ATIME, CH_ATIME, 
CH_MTIME
, CH_MTIME

111 
	$gë_ªld©e
 (
time•ec
 *
ªsu…
,

112 c⁄° *
Êex_d©e
, 
time•ec
 c⁄° *
now
)

114 i‡(! 
	`∑r£_d©ëime
 (
ªsu…
, 
Êex_d©e
, 
now
))

115 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("övÆid d©êf‹m© %s"), 
	`quŸe
 (
Êex_d©e
));

116 
	}
}

121 
boﬁ


122 
	$touch
 (c⁄° *
fûe
)

124 
boﬁ
 
ok
;

125 
fd
 = -1;

126 
›í_î∫o
 = 0;

127 
time•ec
 c⁄° *
t
 = 
√wtime
;

129 i‡(
	`STREQ
 (
fûe
, "-"))

130 
fd
 = 
STDOUT_FILENO
;

131 i‡(! (
no_¸óã
 || 
no_dîe„ªn˚
))

134 
fd
 = 
	`fd_ª›í
 (
STDIN_FILENO
, 
fûe
,

135 
O_WRONLY
 | 
O_CREAT
 | 
O_NONBLOCK
 | 
O_NOCTTY
, 
MODE_RW_UGO
);

141 i‡(
fd
 =-1 && 
î∫o
 !
EISDIR
 &&Éºnÿ!
EINVAL
 &&Éºnÿ!
EPERM
)

142 
›í_î∫o
 = 
î∫o
;

145 i‡(
ch™ge_times
 !(
CH_ATIME
 | 
CH_MTIME
))

148 i‡(
ch™ge_times
 =
CH_MTIME
)

149 
√wtime
[0].
tv_n£c
 = 
UTIME_OMIT
;

152 
	`as£π
 (
ch™ge_times
 =
CH_ATIME
);

153 
√wtime
[1].
tv_n£c
 = 
UTIME_OMIT
;

157 i‡(
amtime_now
)

161 
t
 = 
NULL
;

164 
ok
 = (
	`fdutimíßt
 (
fd
, 
AT_FDCWD
, (fd =
STDOUT_FILENO
 ? 
NULL
 : 
fûe
), 
t
,

165 (
no_dîe„ªn˚
 && 
fd
 =-1Ë? 
AT_SYMLINK_NOFOLLOW
 : 0)

168 i‡(
fd
 =
STDIN_FILENO
)

170 i‡(
	`˛o£
 (
STDIN_FILENO
) != 0)

172 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿ˛o£ %s"), 
	`quŸe
 (
fûe
));

173  
Ál£
;

176 i‡(
fd
 =
STDOUT_FILENO
)

179 i‡(!
ok
 && 
î∫o
 =
EBADF
 && 
no_¸óã
)

180  
åue
;

183 i‡(!
ok
)

185 i‡(
›í_î∫o
)

191 
	`îr‹
 (0, 
›í_î∫o
, 
	`_
("ˇ¬ŸÅouch %s"), 
	`quŸe
 (
fûe
));

195 i‡(
no_¸óã
 && 
î∫o
 =
ENOENT
)

196  
åue
;

197 
	`îr‹
 (0, 
î∫o
, 
	`_
("£âögÅime†o‡%s"), 
	`quŸe
 (
fûe
));

199  
Ál£
;

202  
åue
;

203 
	}
}

206 
	$ußge
 (
°©us
)

208 i‡(
°©us
 !
EXIT_SUCCESS
)

209 
	`emô_åy_hñp
 ();

212 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... FILE...\n"), 
¥ogøm_«me
);

213 
	`Âuts
 (
	`_
("\
Åhêac˚s†™d modifiˇti⁄Åime†o‡óch FILEÅÿthêcuºíàtime.\n\
\n\
 FILEárgumíàth© d€†nŸÉxi° i†¸óãdÉm±y, u∆es†-¯‹ -h\n\
 suµlõd.\n\
\n\
 FILEárgumíà°rög o‡- i†h™dÀd s≥cüŒyánd cau£†touchÅo\n\
Åhêtime†o‡thêfûêassocüãd wôh sènd¨d ouçut.\n\
"), 
°dout
);

223 
	`emô_m™d©‹y_¨g_nŸe
 ();

225 
	`Âuts
 (
	`_
("\
-® ch™gê⁄lyÅhêac˚s†time\n\
-c, --no-¸óã dÿnŸ cª©ê™y fûes\n\
-d, --d©e=STRINGÖ¨£ STRINGánd u£ iàö°ód o‡cuºíàtime\n\
-‡ (ign‹ed)\n\
"), 
°dout
);

231 
	`Âuts
 (
	`_
("\
-h, --no-dîe„ªn˚áf„˘Éach symbﬁi¯lök in°ód o‡™yÑe„ªn˚d\n\
 (u£fu»⁄ly o¿sy°em†th© c™ ch™gêthe\n\
 o‡®symlök)\n\
-m ch™gê⁄lyÅhêmodifiˇti⁄Åime\n\
"), 
°dout
);

237 
	`Âuts
 (
	`_
("\
-r, --ª„ªn˚=FILE u£Åhi†fûe'†time†ö°ód o‡cuºíàtime\n\
-àSTAMP u£ [[CC]YY]MMDDhhmm[.ss] in°ód o‡cuºíàtime\n\
--time=WORD ch™gêthê•ecifõdÅime:\n\
 i†ac˚ss,átime, o∏u£:ÉquivÆíàtÿ-a\n\
 i†modify o∏mtime:ÉquivÆíàtÿ-m\n\
"), 
°dout
);

244 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

245 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

246 
	`Âuts
 (
	`_
("\
\n\
Åh©Åhê-dánd -à›ti⁄†ac˚± dif„ª¡Åime-d©êf‹m©s.\n\
"), 
°dout
);

250 
	`emô_™cûœry_öfo
 ();

252 
	`exô
 (
°©us
);

253 
	}
}

256 
	$maö
 (
¨gc
, **
¨gv
)

258 
c
;

259 
boﬁ
 
d©e_£t
 = 
Ál£
;

260 
boﬁ
 
ok
 = 
åue
;

261 c⁄° *
Êex_d©e
 = 
NULL
;

263 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

264 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

265 
	`£éoˇÀ
 (
LC_ALL
, "");

266 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

267 
	`ãxtdomaö
 (
PACKAGE
);

269 
	`©exô
 (
˛o£_°dout
);

271 
ch™ge_times
 = 0;

272 
no_¸óã
 = 
u£_ªf
 = 
Ál£
;

274 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "acd:fhmr:t:", 
l⁄g›ts
, 
NULL
)) != -1)

276 
c
)

279 
ch™ge_times
 |
CH_ATIME
;

283 
no_¸óã
 = 
åue
;

287 
Êex_d©e
 = 
›èrg
;

294 
no_dîe„ªn˚
 = 
åue
;

298 
ch™ge_times
 |
CH_MTIME
;

302 
u£_ªf
 = 
åue
;

303 
ªf_fûe
 = 
›èrg
;

307 i‡(! 
	`posixtime
 (&
√wtime
[0].
tv_£c
, 
›èrg
,

308 
PDS_LEADING_YEAR
 | 
PDS_CENTURY
 | 
PDS_SECONDS
))

309 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("invalid date format %s"),

310 
	`quŸe
 (
›èrg
));

311 
√wtime
[0].
tv_n£c
 = 0;

312 
√wtime
[1] =Çewtime[0];

313 
d©e_£t
 = 
åue
;

316 
TIME_OPTION
:

317 
ch™ge_times
 |
	`XARGMATCH
 ("--time", 
›èrg
,

318 
time_¨gs
, 
time_masks
);

321 
ˇ£_GETOPT_HELP_CHAR
;

323 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

326 
	`ußge
 (
EXIT_FAILURE
);

330 i‡(
ch™ge_times
 == 0)

331 
ch™ge_times
 = 
CH_ATIME
 | 
CH_MTIME
;

333 i‡(
d©e_£t
 && (
u£_ªf
 || 
Êex_d©e
))

335 
	`îr‹
 (0, 0, 
	`_
("cannot specifyÅimes from moreÅhan one source"));

336 
	`ußge
 (
EXIT_FAILURE
);

339 i‡(
u£_ªf
)

341 
°©
 
ªf_°©s
;

344 i‡(
no_dîe„ªn˚
 ? 
	`l°©
 (
ªf_fûe
, &
ªf_°©s
)

345 : 
	`°©
 (
ªf_fûe
, &
ªf_°©s
))

346 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
,

347 
	`_
("ÁûedÅÿgëáâribuã†o‡%s"), 
	`quŸe
 (
ªf_fûe
));

348 
√wtime
[0] = 
	`gë_°©_©ime
 (&
ªf_°©s
);

349 
√wtime
[1] = 
	`gë_°©_mtime
 (&
ªf_°©s
);

350 
d©e_£t
 = 
åue
;

351 i‡(
Êex_d©e
)

353 i‡(
ch™ge_times
 & 
CH_ATIME
)

354 
	`gë_ªld©e
 (&
√wtime
[0], 
Êex_d©e
, &newtime[0]);

355 i‡(
ch™ge_times
 & 
CH_MTIME
)

356 
	`gë_ªld©e
 (&
√wtime
[1], 
Êex_d©e
, &newtime[1]);

361 i‡(
Êex_d©e
)

363 
time•ec
 
now
;

364 
	`gëtime
 (&
now
);

365 
	`gë_ªld©e
 (&
√wtime
[0], 
Êex_d©e
, &
now
);

366 
√wtime
[1] =Çewtime[0];

367 
d©e_£t
 = 
åue
;

372 i‡(
ch™ge_times
 =(
CH_ATIME
 | 
CH_MTIME
)

373 && 
√wtime
[0].
tv_£c
 =
now
.tv_sec

374 && 
√wtime
[0].
tv_n£c
 =
now
.tv_nsec)

378 
time•ec
 
nŸnow
, 
nŸnow1
;

379 
nŸnow
.
tv_£c
 = 
now
.tv_sec ^ 1;

380 
nŸnow
.
tv_n£c
 = 
now
.tv_nsec;

381 
	`gë_ªld©e
 (&
nŸnow1
, 
Êex_d©e
, &
nŸnow
);

382 i‡(
nŸnow1
.
tv_£c
 =
nŸnow
.tv_sec

383 && 
nŸnow1
.
tv_n£c
 =
nŸnow
.tv_nsec)

384 
d©e_£t
 = 
Ál£
;

391 i‡(!
d©e_£t
 && 2 <
¨gc
 - 
›töd
 && 
	`posix2_vîsi⁄
 () < 200112

392 && 
	`posixtime
 (&
√wtime
[0].
tv_£c
, 
¨gv
[
›töd
],

393 
PDS_TRAILING_YEAR
 | 
PDS_PRE_2000
))

395 
√wtime
[0].
tv_n£c
 = 0;

396 
√wtime
[1] =Çewtime[0];

397 
d©e_£t
 = 
åue
;

399 i‡(! 
	`gëív
 ("POSIXLY_CORRECT"))

401 
tm
 c⁄° *tm = 
	`loˇ…ime
 (&
√wtime
[0].
tv_£c
);

407 i‡(
tm
)

408 
	`îr‹
 (0, 0,

409 
	`_
("warning: 'touch %s' is obsolete; use "

411 
¨gv
[
›töd
],

412 
tm
->
tm_yór
 + 1900L,Åm->
tm_m⁄
 + 1,Åm->
tm_mday
,

413 
tm
->
tm_hour
,Åm->
tm_mö
,Åm->
tm_£c
);

416 
›töd
++;

419 i‡(!
d©e_£t
)

421 i‡(
ch™ge_times
 =(
CH_ATIME
 | 
CH_MTIME
))

422 
amtime_now
 = 
åue
;

424 
√wtime
[1].
tv_n£c
 =Çewtime[0].tv_n£¯
UTIME_NOW
;

427 i‡(
›töd
 =
¨gc
)

429 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

430 
	`ußge
 (
EXIT_FAILURE
);

433 ; 
›töd
 < 
¨gc
; ++optind)

434 
ok
 &
	`touch
 (
¨gv
[
›töd
]);

436 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

437 
	}
}

	@tr.c

19 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<as£π.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<gë›t.h
>

26 
	~"sy°em.h
"

27 
	~"îr‹.h
"

28 
	~"Ádvi£.h
"

29 
	~"quŸe.h
"

30 
	~"ß„-ªad.h
"

31 
	~"x‰e›í.h
"

32 
	~"x°πﬁ.h
"

35 
	#PROGRAM_NAME
 "å"

	)

37 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

39 íum { 
	mN_CHARS
 = 
UCHAR_MAX
 + 1 };

47 
uötmax_t
 
	tcou¡
;

54 
	#BEGIN_STATE
 (
UINTMAX_MAX
 - 1)

	)

61 
	#NEW_ELEMENT
 (
BEGIN_STATE
 + 1)

	)

65 
	#REPEAT_COUNT_MAXIMUM
 
BEGIN_STATE


	)

69 
	eCh¨_˛ass


71 
	mCC_ALNUM
 = 0, 
	mCC_ALPHA
 = 1, 
	mCC_BLANK
 = 2, 
	mCC_CNTRL
 = 3,

72 
	mCC_DIGIT
 = 4, 
	mCC_GRAPH
 = 5, 
	mCC_LOWER
 = 6, 
	mCC_PRINT
 = 7,

73 
	mCC_PUNCT
 = 8, 
	mCC_SPACE
 = 9, 
	mCC_UPPER
 = 10, 
	mCC_XDIGIT
 = 11,

74 
	mCC_NO_CLASS
 = 9999

83 
	eUµî_Lowî_˛ass


85 
	mUL_LOWER
,

86 
	mUL_UPPER
,

87 
	mUL_NONE


91 
	eR™ge_ñemít_ty≥


93 
	mRE_NORMAL_CHAR
,

94 
	mRE_RANGE
,

95 
	mRE_CHAR_CLASS
,

96 
	mRE_EQUIV_CLASS
,

97 
	mRE_REPEATED_CHAR


105 
	sLi°_ñemít


107 
R™ge_ñemít_ty≥
 
	mty≥
;

108 
Li°_ñemít
 *
	m√xt
;

111 
	mn‹mÆ_ch¨
;

114 
	mfú°_ch¨
;

115 
	mœ°_ch¨
;

117 
	mønge
;

118 
Ch¨_˛ass
 
	mch¨_˛ass
;

119 
	mequiv_code
;

122 
	mthe_ª≥©ed_ch¨
;

123 
cou¡
 
	mª≥©_cou¡
;

125 
	mª≥©ed_ch¨
;

127 
	mu
;

139 
	sS≥c_li°


143 
Li°_ñemít
 *
	mhód
;

149 
Li°_ñemít
 *
	mèû
;

152 
cou¡
 
	m°©e
;

156 
cou¡
 
	mÀngth
;

159 
size_t
 
	mn_ödeföôe_ª≥©s
;

164 
Li°_ñemít
 *
	mödeföôe_ª≥©_ñemít
;

168 
boﬁ
 
	mhas_equiv_˛ass
;

172 
boﬁ
 
	mhas_ch¨_˛ass
;

176 
boﬁ
 
	mhas_ª°ri˘ed_ch¨_˛ass
;

183 
	sE_°rög


185 *
	ms
;

186 
boﬁ
 *
	mesˇ≥d
;

187 
size_t
 
	mÀn
;

192 
ölöe
 
boﬁ


193 
	$es_m©ch
 (
E_°rög
 c⁄° *
es
, 
size_t
 
i
, 
c
)

195  
es
->
s
[
i
] =
c
 && !es->
esˇ≥d
[i];

196 
	}
}

201 
boﬁ
 
	gsquìze_ª≥©s
 = 
Ál£
;

204 
boﬁ
 
	gdñëe
 = 
Ál£
;

207 
boﬁ
 
	gcom∂emít
 = 
Ál£
;

237 
boﬁ
 
	gåunˇã_£t1
 = 
Ál£
;

241 
boﬁ
 
	gå™¶©ög
;

243 
	gio_buf
[
BUFSIZ
];

245 c⁄° *c⁄° 
	gch¨_˛ass_«me
[] =

255 
boﬁ
 
	gö_squìze_£t
[
N_CHARS
];

261 
boﬁ
 
	gö_dñëe_£t
[
N_CHARS
];

266 
	gxœã
[
N_CHARS
];

268 
›ti⁄
 c⁄° 
	gl⁄g_›ti⁄s
[] =

270 {"com∂emít", 
no_¨gumít
, 
NULL
, 'c'},

271 {"dñëe", 
no_¨gumít
, 
NULL
, 'd'},

272 {"squìze-ª≥©s", 
no_¨gumít
, 
NULL
, 's'},

273 {"åunˇã-£t1", 
no_¨gumít
, 
NULL
, 't'},

274 {
GETOPT_HELP_OPTION_DECL
},

275 {
GETOPT_VERSION_OPTION_DECL
},

276 {
NULL
, 0, NULL, 0}

280 
	$ußge
 (
°©us
)

282 i‡(
°©us
 !
EXIT_SUCCESS
)

283 
	`emô_åy_hñp
 ();

286 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... SET1 [SET2]\n\
"),

289 
¥ogøm_«me
);

290 
	`Âuts
 (
	`_
("\
, squìze,ánd/‹ dñëêch¨a˘î†‰om sènd¨d i≈ut,\n\
Åÿ°™d¨d ouçut.\n\
\n\
-c, -C, --com∂emíà u£Åhêcom∂emíào‡SET1\n\
-d, --dñëê dñëêch¨a˘î†ö SET1, dÿnŸÅøn¶©e\n\
-s, --squìze-ª≥©†Ñïœ˚Éach i≈uà£quí˚ o‡®ª≥©ed ch¨a˘î\n\
 i†li°ed i¿SET1 wôhá sögÀ occuºí˚\n\
Åh© ch¨a˘î\n\
-t, --åunˇã-£t1 fú°Årunˇã SET1ÅÿÀngth o‡SET2\n\
"), 
°dout
);

301 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

302 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

303 
	`Âuts
 (
	`_
("\
\n\
áª s≥cifõdá†°rög†o‡ch¨a˘îs. Mo°Ñïª£¡Åhem£lves.\n\
 sequí˚†¨e:\n\
\n\
\\NNN ch¨a˘î wôh o˘Æ vÆuêNNN (1Åÿ3 o˘Æ digôs)\n\
\\\\ back¶ash\n\
\\®áudibÀ BEL\n\
\\b back•a˚\n\
\\‡ f‹m fìd\n\
\\¿ÇewÜöe\n\
\\∏Ñëu∫\n\
\\à h‹iz⁄è»èb\n\
"), 
°dout
);

317 
	`Âuts
 (
	`_
("\
\\v vîtiˇ»èb\n\
1-CHAR2áŒ ch¨a˘î†‰om CHAR1ÅÿCHAR2 i¿as˚ndög ordî\n\
[CHAR*] i¿SET2, c›õ†o‡CHAR u¡ûÜígth o‡SET1\n\
[CHAR*REPEAT] REPEAT c›õ†o‡CHAR, REPEAT o˘Æ i‡°¨tög wôh 0\n\
[:Ænum:]áŒÜëãr†™d digôs\n\
[:Æpha:]áŒÜëãrs\n\
[:bœnk:]áŒ h‹iz⁄è»whôe•a˚\n\
[:˙ål:]áŒ c⁄åﬁ ch¨a˘îs\n\
[:digô:]áŒ digôs\n\
"), 
°dout
);

328 
	`Âuts
 (
	`_
("\
[:gøph:]áŒÖröèbÀ ch¨a˘îs,ÇŸ in˛udög s∑˚\n\
[:lowî:]áŒÜowî ca£Üëãrs\n\
[:¥öt:]áŒÖröèbÀ ch¨a˘îs, in˛udög s∑˚\n\
[:pun˘:]áŒÖun˘u©i⁄ ch¨a˘îs\n\
[:•a˚:]áŒ h‹iz⁄è»‹ vîtiˇ»whôe•a˚\n\
[:uµî:]áŒ uµî ca£Üëãrs\n\
[:xdigô:]áŒ hexadecimÆ digôs\n\
[=CHAR=]áŒ ch¨a˘î†whicháªÉquivÆíàtÿCHAR\n\
"), 
°dout
);

338 
	`Âuts
 (
	`_
("\
\n\
 occur†i‡-d i†nŸ givíánd bŸh SET1ánd SET2áµór.\n\
-àmay bêu£d o∆y whíÅøn¶©ög. SET2 i†exãndedÅÿÀngth of\n\
1 byÑïótög it†œ° ch¨a˘îá†√˚sßry. Ex˚s†ch¨a˘îs\n\
 SET2áª ign‹ed. O∆y [:lowî:]ánd [:uµî:]áª gu¨™ãedÅo\n\
 i¿as˚ndög ordî; u£d i¿SET2 whûêå™¶©ög,Åhey may\n\
 bêu£d i¿∑ú†tÿ•ecify ca£ c⁄vîsi⁄. -†u£†SET1 i‡nŸ\n\
Ç‹ dñëög;Él£ squìzög u£†SET2ánd occur†a·î\n\
 o∏dñëi⁄.\n\
"), 
°dout
);

349 
	`emô_™cûœry_öfo
 ();

351 
	`exô
 (
°©us
);

352 
	}
}

357 
ölöe
 
boﬁ


358 
	$is_equiv_˛ass_membî
 (
equiv_˛ass
, 
c
)

360  (
equiv_˛ass
 =
c
);

361 
	}
}

366 
boﬁ
 
_GL_ATTRIBUTE_PURE


367 
	$is_ch¨_˛ass_membî
 (
Ch¨_˛ass
 
ch¨_˛ass
, 
c
)

369 
ªsu…
;

371 
ch¨_˛ass
)

373 
CC_ALNUM
:

374 
ªsu…
 = 
	`iß um
 (
c
);

376 
CC_ALPHA
:

377 
ªsu…
 = 
	`ißÕha
 (
c
);

379 
CC_BLANK
:

380 
ªsu…
 = 
	`isbœnk
 (
c
);

382 
CC_CNTRL
:

383 
ªsu…
 = 
	`is˙ål
 (
c
);

385 
CC_DIGIT
:

386 
ªsu…
 = 
	`isdigô
 (
c
);

388 
CC_GRAPH
:

389 
ªsu…
 = 
	`isgøph
 (
c
);

391 
CC_LOWER
:

392 
ªsu…
 = 
	`i¶owî
 (
c
);

394 
CC_PRINT
:

395 
ªsu…
 = 
	`i•röt
 (
c
);

397 
CC_PUNCT
:

398 
ªsu…
 = 
	`i•un˘
 (
c
);

400 
CC_SPACE
:

401 
ªsu…
 = 
	`is•a˚
 (
c
);

403 
CC_UPPER
:

404 
ªsu…
 = 
	`isuµî
 (
c
);

406 
CC_XDIGIT
:

407 
ªsu…
 = 
	`isxdigô
 (
c
);

410 
	`ab‹t
 ();

414  !! 
ªsu…
;

415 
	}
}

418 
	$es_‰ì
 (
E_°rög
 *
es
)

420 
	`‰ì
 (
es
->
s
);

421 
	`‰ì
 (
es
->
esˇ≥d
);

422 
	}
}

432 
boﬁ


433 
	$unquŸe
 (c⁄° *
s
, 
E_°rög
 *
es
)

435 
size_t
 
i
, 
j
;

436 
size_t
 
Àn
 = 
	`°æí
 (
s
);

438 
es
->
s
 = 
	`xmÆloc
 (
Àn
);

439 
es
->
esˇ≥d
 = 
	`xˇŒoc
 (
Àn
, És->escaped[0]);

441 
j
 = 0;

442 
i
 = 0; 
s
[i]; i++)

444 
c
;

445 
o˘_digô
;

447 
s
[
i
])

450 
es
->
esˇ≥d
[
j
] = 
åue
;

451 
s
[
i
 + 1])

454 
c
 = '\\';

457 
c
 = '\a';

460 
c
 = '\b';

463 
c
 = '\f';

466 
c
 = '\n';

469 
c
 = '\r';

472 
c
 = '\t';

475 
c
 = '\v';

485 
c
 = 
s
[
i
 + 1] - '0';

486 
o˘_digô
 = 
s
[
i
 + 2] - '0';

487 i‡(0 <
o˘_digô
 && oct_digit <= 7)

489 
c
 = 8 * c + 
o˘_digô
;

490 ++
i
;

491 
o˘_digô
 = 
s
[
i
 + 2] - '0';

492 i‡(0 <
o˘_digô
 && oct_digit <= 7)

494 i‡(8 * 
c
 + 
o˘_digô
 < 
N_CHARS
)

496 
c
 = 8 * c + 
o˘_digô
;

497 ++
i
;

509 
	`îr‹
 (0, 0, 
	`_
("warning:Åheámbiguous octalÉscape\
\\%c%c%c is being\n\tinterpretedásÅhe 2-byte sequence \\0%c%c, %c"),

511 
s
[
i
], s[i + 1], s[i + 2],

512 
s
[
i
], s[i + 1], s[i + 2]);

518 
	`îr‹
 (0, 0, 
	`_
("warning:án unescaped backslash "

521 
es
->
esˇ≥d
[
j
] = 
Ál£
;

522 
i
--;

523 
c
 = '\\';

526 
c
 = 
s
[
i
 + 1];

529 ++
i
;

530 
es
->
s
[
j
++] = 
c
;

533 
es
->
s
[
j
++] = s[
i
];

537 
es
->
Àn
 = 
j
;

538  
åue
;

539 
	}
}

544 
Ch¨_˛ass
 
_GL_ATTRIBUTE_PURE


545 
	$look_up_ch¨_˛ass
 (c⁄° *
˛ass_°r
, 
size_t
 
Àn
)

547 
Ch¨_˛ass
 
i
;

549 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
ch¨_˛ass_«me
); i++)

550 i‡(
	`STREQ_LEN
 (
˛ass_°r
, 
ch¨_˛ass_«me
[
i
], 
Àn
)

551 && 
	`°æí
 (
ch¨_˛ass_«me
[
i
]Ë=
Àn
)

552  
i
;

553  
CC_NO_CLASS
;

554 
	}
}

560 
	$make_¥öèbÀ_ch¨
 (
c
)

562 *
buf
 = 
	`xmÆloc
 (5);

564 i‡(
	`i•röt
 (
c
))

566 
buf
[0] = 
c
;

567 
buf
[1] = '\0';

571 
	`•rötf
 (
buf
, "\\%03o", 
c
);

573  
buf
;

574 
	}
}

584 
	$make_¥öèbÀ_°r
 (c⁄° *
s
, 
size_t
 
Àn
)

588 *
¥öèbÀ_buf
 = 
	`xnmÆloc
 (
Àn
 + 1, 4);

589 *
p
 = 
¥öèbÀ_buf
;

590 
size_t
 
i
;

592 
i
 = 0; i < 
Àn
; i++)

594 
buf
[5];

595 c⁄° *
tmp
 = 
NULL
;

596 
c
 = 
s
[
i
];

598 
c
)

601 
tmp
 = "\\";

604 
tmp
 = "\\a";

607 
tmp
 = "\\b";

610 
tmp
 = "\\f";

613 
tmp
 = "\\n";

616 
tmp
 = "\\r";

619 
tmp
 = "\\t";

622 
tmp
 = "\\v";

625 i‡(
	`i•röt
 (
c
))

627 
buf
[0] = 
c
;

628 
buf
[1] = '\0';

631 
	`•rötf
 (
buf
, "\\%03o", 
c
);

632 
tmp
 = 
buf
;

635 
p
 = 
	`°p˝y
 (p, 
tmp
);

637  
¥öèbÀ_buf
;

638 
	}
}

644 
	$≠≥nd_n‹mÆ_ch¨
 (
S≥c_li°
 *
li°
, 
c
)

646 
Li°_ñemít
 *
√w
;

648 
√w
 = 
	`xmÆloc
 ( *new);

649 
√w
->
√xt
 = 
NULL
;

650 
√w
->
ty≥
 = 
RE_NORMAL_CHAR
;

651 
√w
->
u
.
n‹mÆ_ch¨
 = 
c
;

652 
	`as£π
 (
li°
->
èû
);

653 
li°
->
èû
->
√xt
 = 
√w
;

654 
li°
->
èû
 = 
√w
;

655 
	}
}

662 
boﬁ


663 
	$≠≥nd_ønge
 (
S≥c_li°
 *
li°
, 
fú°
, 
œ°
)

665 
Li°_ñemít
 *
√w
;

667 i‡(
œ°
 < 
fú°
)

669 *
tmp1
 = 
	`make_¥öèbÀ_ch¨
 (
fú°
);

670 *
tmp2
 = 
	`make_¥öèbÀ_ch¨
 (
œ°
);

672 
	`îr‹
 (0, 0,

673 
	`_
("range-endpoints of '%s-%s'áre inÑeverse collating sequence order"),

674 
tmp1
, 
tmp2
);

675 
	`‰ì
 (
tmp1
);

676 
	`‰ì
 (
tmp2
);

677  
Ál£
;

679 
√w
 = 
	`xmÆloc
 ( *new);

680 
√w
->
√xt
 = 
NULL
;

681 
√w
->
ty≥
 = 
RE_RANGE
;

682 
√w
->
u
.
ønge
.
fú°_ch¨
 = 
fú°
;

683 
√w
->
u
.
ønge
.
œ°_ch¨
 = 
œ°
;

684 
	`as£π
 (
li°
->
èû
);

685 
li°
->
èû
->
√xt
 = 
√w
;

686 
li°
->
èû
 = 
√w
;

687  
åue
;

688 
	}
}

695 
boﬁ


696 
	$≠≥nd_ch¨_˛ass
 (
S≥c_li°
 *
li°
,

697 c⁄° *
ch¨_˛ass_°r
, 
size_t
 
Àn
)

699 
Ch¨_˛ass
 
ch¨_˛ass
;

700 
Li°_ñemít
 *
√w
;

702 
ch¨_˛ass
 = 
	`look_up_ch¨_˛ass
 (
ch¨_˛ass_°r
, 
Àn
);

703 i‡(
ch¨_˛ass
 =
CC_NO_CLASS
)

704  
Ál£
;

705 
√w
 = 
	`xmÆloc
 ( *new);

706 
√w
->
√xt
 = 
NULL
;

707 
√w
->
ty≥
 = 
RE_CHAR_CLASS
;

708 
√w
->
u
.
ch¨_˛ass
 = char_class;

709 
	`as£π
 (
li°
->
èû
);

710 
li°
->
èû
->
√xt
 = 
√w
;

711 
li°
->
èû
 = 
√w
;

712  
åue
;

713 
	}
}

721 
	$≠≥nd_ª≥©ed_ch¨
 (
S≥c_li°
 *
li°
, 
the_ch¨
,

722 
cou¡
 
ª≥©_cou¡
)

724 
Li°_ñemít
 *
√w
;

726 
√w
 = 
	`xmÆloc
 ( *new);

727 
√w
->
√xt
 = 
NULL
;

728 
√w
->
ty≥
 = 
RE_REPEATED_CHAR
;

729 
√w
->
u
.
ª≥©ed_ch¨
.
the_ª≥©ed_ch¨
 = 
the_ch¨
;

730 
√w
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
 =Ñepeat_count;

731 
	`as£π
 (
li°
->
èû
);

732 
li°
->
èû
->
√xt
 = 
√w
;

733 
li°
->
èû
 = 
√w
;

734 
	}
}

742 
boﬁ


743 
	$≠≥nd_equiv_˛ass
 (
S≥c_li°
 *
li°
,

744 c⁄° *
equiv_˛ass_°r
, 
size_t
 
Àn
)

746 
Li°_ñemít
 *
√w
;

748 i‡(
Àn
 != 1)

749  
Ál£
;

750 
√w
 = 
	`xmÆloc
 ( *new);

751 
√w
->
√xt
 = 
NULL
;

752 
√w
->
ty≥
 = 
RE_EQUIV_CLASS
;

753 
√w
->
u
.
equiv_code
 = *
equiv_˛ass_°r
;

754 
	`as£π
 (
li°
->
èû
);

755 
li°
->
èû
->
√xt
 = 
√w
;

756 
li°
->
èû
 = 
√w
;

757  
åue
;

758 
	}
}

766 
boﬁ


767 
	$föd_˛osög_dñim
 (c⁄° 
E_°rög
 *
es
, 
size_t
 
°¨t_idx
,

768 
¥e_bøckë_ch¨
, 
size_t
 *
ªsu…_idx
)

770 
size_t
 
i
;

772 
i
 = 
°¨t_idx
; i < 
es
->
Àn
 - 1; i++)

773 i‡(
es
->
s
[
i
] =
¥e_bøckë_ch¨
 &&És->s[i + 1] == ']'

774 && !
es
->
esˇ≥d
[
i
] && !es->escaped[i + 1])

776 *
ªsu…_idx
 = 
i
;

777  
åue
;

779  
Ál£
;

780 
	}
}

793 
	$föd_bøckëed_ª≥©
 (c⁄° 
E_°rög
 *
es
, 
size_t
 
°¨t_idx
,

794 *
ch¨_to_ª≥©
, 
cou¡
 *
ª≥©_cou¡
,

795 
size_t
 *
˛osög_bøckë_idx
)

797 
size_t
 
i
;

799 
	`as£π
 (
°¨t_idx
 + 1 < 
es
->
Àn
);

800 i‡(!
	`es_m©ch
 (
es
, 
°¨t_idx
 + 1, '*'))

803 
i
 = 
°¨t_idx
 + 2; i < 
es
->
Àn
 && !es->
esˇ≥d
[i]; i++)

805 i‡(
es
->
s
[
i
] == ']')

807 
size_t
 
digô_°r_Àn
 = 
i
 - 
°¨t_idx
 - 2;

809 *
ch¨_to_ª≥©
 = 
es
->
s
[
°¨t_idx
];

810 i‡(
digô_°r_Àn
 == 0)

813 *
ª≥©_cou¡
 = 0;

819 c⁄° *
digô_°r
 = &
es
->
s
[
°¨t_idx
 + 2];

820 *
d_íd
;

821 i‡((
	`x°πoumax
 (
digô_°r
, &
d_íd
, *digit_str == '0' ? 8 : 10,

822 
ª≥©_cou¡
, 
NULL
)

823 !
LONGINT_OK
)

824 || 
REPEAT_COUNT_MAXIMUM
 < *
ª≥©_cou¡


825 || 
digô_°r
 + 
digô_°r_Àn
 !
d_íd
)

827 *
tmp
 = 
	`make_¥öèbÀ_°r
 (
digô_°r
, 
digô_°r_Àn
);

828 
	`îr‹
 (0, 0,

829 
	`_
("invalidÑepeat count %s in [c*n] construct"),

830 
	`quŸe
 (
tmp
));

831 
	`‰ì
 (
tmp
);

835 *
˛osög_bøckë_idx
 = 
i
;

840 
	}
}

846 
boﬁ
 
_GL_ATTRIBUTE_PURE


847 
	$°¨_digôs_˛o£bøckë
 (c⁄° 
E_°rög
 *
es
, 
size_t
 
idx
)

849 
size_t
 
i
;

851 i‡(!
	`es_m©ch
 (
es
, 
idx
, '*'))

852  
Ál£
;

854 
i
 = 
idx
 + 1; i < 
es
->
Àn
; i++)

855 i‡(!
	`ISDIGIT
 (
	`to_uch¨
 (
es
->
s
[
i
])Ë||És->
esˇ≥d
[i])

856  
	`es_m©ch
 (
es
, 
i
, ']');

857  
Ál£
;

858 
	}
}

872 
boﬁ


873 
	$buûd_•ec_li°
 (c⁄° 
E_°rög
 *
es
, 
S≥c_li°
 *
ªsu…
)

875 c⁄° *
p
;

876 
size_t
 
i
;

878 
p
 = 
es
->
s
;

887 
i
 = 0; i + 2 < 
es
->
Àn
; )

889 i‡(
	`es_m©ch
 (
es
, 
i
, '['))

891 
boﬁ
 
m©ched_mu…i_ch¨_c⁄°ru˘
;

892 
size_t
 
˛osög_bøckë_idx
;

893 
ch¨_to_ª≥©
;

894 
cou¡
 
ª≥©_cou¡
;

895 
îr
;

897 
m©ched_mu…i_ch¨_c⁄°ru˘
 = 
åue
;

898 i‡(
	`es_m©ch
 (
es
, 
i
 + 1, ':') ||És_match (es, i + 1, '='))

900 
size_t
 
˛osög_dñim_idx
;

902 i‡(
	`föd_˛osög_dñim
 (
es
, 
i
 + 2, 
p
[ò+ 1], &
˛osög_dñim_idx
))

904 
size_t
 
›nd_°r_Àn
 = 
˛osög_dñim_idx
 - 1 - (
i
 + 2) + 1;

905 c⁄° *
›nd_°r
 = 
p
 + 
i
 + 2;

907 i‡(
›nd_°r_Àn
 == 0)

909 i‡(
p
[
i
 + 1] == ':')

910 
	`îr‹
 (0, 0, 
	`_
("missing character classÇame '[::]'"));

912 
	`îr‹
 (0, 0,

913 
	`_
("missingÉquivalence class character '[==]'"));

914  
Ál£
;

917 i‡(
p
[
i
 + 1] == ':')

920 i‡(!
	`≠≥nd_ch¨_˛ass
 (
ªsu…
, 
›nd_°r
, 
›nd_°r_Àn
))

922 i‡(
	`°¨_digôs_˛o£bøckë
 (
es
, 
i
 + 2))

923 
åy_bøckëed_ª≥©
;

926 *
tmp
 = 
	`make_¥öèbÀ_°r
 (
›nd_°r
,

927 
›nd_°r_Àn
);

928 
	`îr‹
 (0, 0, 
	`_
("invalid character class %s"),

929 
	`quŸe
 (
tmp
));

930 
	`‰ì
 (
tmp
);

931  
Ál£
;

938 i‡(!
	`≠≥nd_equiv_˛ass
 (
ªsu…
, 
›nd_°r
, 
›nd_°r_Àn
))

940 i‡(
	`°¨_digôs_˛o£bøckë
 (
es
, 
i
 + 2))

941 
åy_bøckëed_ª≥©
;

944 *
tmp
 = 
	`make_¥öèbÀ_°r
 (
›nd_°r
,

945 
›nd_°r_Àn
);

946 
	`îr‹
 (0, 0,

947 
	`_
("%s:Équivalence class operand must beá single character"),

948 
tmp
);

949 
	`‰ì
 (
tmp
);

950  
Ál£
;

955 
i
 = 
˛osög_dñim_idx
 + 2;

961 
åy_bøckëed_ª≥©
:

965 
îr
 = 
	`föd_bøckëed_ª≥©
 (
es
, 
i
 + 1, &
ch¨_to_ª≥©
,

966 &
ª≥©_cou¡
,

967 &
˛osög_bøckë_idx
);

968 i‡(
îr
 == 0)

970 
	`≠≥nd_ª≥©ed_ch¨
 (
ªsu…
, 
ch¨_to_ª≥©
, 
ª≥©_cou¡
);

971 
i
 = 
˛osög_bøckë_idx
 + 1;

973 i‡(
îr
 == -1)

975 
m©ched_mu…i_ch¨_c⁄°ru˘
 = 
Ál£
;

981  
Ál£
;

984 i‡(
m©ched_mu…i_ch¨_c⁄°ru˘
)

993 i‡(
	`es_m©ch
 (
es
, 
i
 + 1, '-'))

995 i‡(!
	`≠≥nd_ønge
 (
ªsu…
, 
p
[
i
],Ö[i + 2]))

996  
Ál£
;

997 
i
 += 3;

1001 
	`≠≥nd_n‹mÆ_ch¨
 (
ªsu…
, 
p
[
i
]);

1002 ++
i
;

1007 ; 
i
 < 
es
->
Àn
; i++)

1008 
	`≠≥nd_n‹mÆ_ch¨
 (
ªsu…
, 
p
[
i
]);

1010  
åue
;

1011 
	}
}

1016 
	$skù_c⁄°ru˘
 (
S≥c_li°
 *
s
)

1018 
s
->
èû
 = s->èû->
√xt
;

1019 
s
->
°©e
 = 
NEW_ELEMENT
;

1020 
	}
}

1037 
	$gë_√xt
 (
S≥c_li°
 *
s
, 
Uµî_Lowî_˛ass
 *
˛ass
)

1039 
Li°_ñemít
 *
p
;

1040 
ªtu∫_vÆ
;

1041 
i
;

1043 i‡(
˛ass
)

1044 *
˛ass
 = 
UL_NONE
;

1046 i‡(
s
->
°©e
 =
BEGIN_STATE
)

1048 
s
->
èû
 = s->
hód
->
√xt
;

1049 
s
->
°©e
 = 
NEW_ELEMENT
;

1052 
p
 = 
s
->
èû
;

1053 i‡(
p
 =
NULL
)

1056 
p
->
ty≥
)

1058 
RE_NORMAL_CHAR
:

1059 
ªtu∫_vÆ
 = 
p
->
u
.
n‹mÆ_ch¨
;

1060 
s
->
°©e
 = 
NEW_ELEMENT
;

1061 
s
->
èû
 = 
p
->
√xt
;

1064 
RE_RANGE
:

1065 i‡(
s
->
°©e
 =
NEW_ELEMENT
)

1066 
s
->
°©e
 = 
p
->
u
.
ønge
.
fú°_ch¨
;

1068 ++(
s
->
°©e
);

1069 
ªtu∫_vÆ
 = 
s
->
°©e
;

1070 i‡(
s
->
°©e
 =
p
->
u
.
ønge
.
œ°_ch¨
)

1072 
s
->
èû
 = 
p
->
√xt
;

1073 
s
->
°©e
 = 
NEW_ELEMENT
;

1077 
RE_CHAR_CLASS
:

1078 i‡(
˛ass
)

1080 
p
->
u
.
ch¨_˛ass
)

1082 
CC_LOWER
:

1083 *
˛ass
 = 
UL_LOWER
;

1085 
CC_UPPER
:

1086 *
˛ass
 = 
UL_UPPER
;

1093 i‡(
s
->
°©e
 =
NEW_ELEMENT
)

1095 
i
 = 0; i < 
N_CHARS
; i++)

1096 i‡(
	`is_ch¨_˛ass_membî
 (
p
->
u
.
ch¨_˛ass
, 
i
))

1098 
	`as£π
 (
i
 < 
N_CHARS
);

1099 
s
->
°©e
 = 
i
;

1101 
	`as£π
 (
	`is_ch¨_˛ass_membî
 (
p
->
u
.
ch¨_˛ass
, 
s
->
°©e
));

1102 
ªtu∫_vÆ
 = 
s
->
°©e
;

1103 
i
 = 
s
->
°©e
 + 1; i < 
N_CHARS
; i++)

1104 i‡(
	`is_ch¨_˛ass_membî
 (
p
->
u
.
ch¨_˛ass
, 
i
))

1106 i‡(
i
 < 
N_CHARS
)

1107 
s
->
°©e
 = 
i
;

1110 
s
->
èû
 = 
p
->
√xt
;

1111 
s
->
°©e
 = 
NEW_ELEMENT
;

1115 
RE_EQUIV_CLASS
:

1121 
ªtu∫_vÆ
 = 
p
->
u
.
equiv_code
;

1122 
s
->
°©e
 = 
NEW_ELEMENT
;

1123 
s
->
èû
 = 
p
->
√xt
;

1126 
RE_REPEATED_CHAR
:

1128 i‡(
p
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
 == 0)

1130 
s
->
èû
 = 
p
->
√xt
;

1131 
s
->
°©e
 = 
NEW_ELEMENT
;

1132 
ªtu∫_vÆ
 = 
	`gë_√xt
 (
s
, 
˛ass
);

1136 i‡(
s
->
°©e
 =
NEW_ELEMENT
)

1138 
s
->
°©e
 = 0;

1140 ++(
s
->
°©e
);

1141 
ªtu∫_vÆ
 = 
p
->
u
.
ª≥©ed_ch¨
.
the_ª≥©ed_ch¨
;

1142 i‡(
s
->
°©e
 =
p
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
)

1144 
s
->
èû
 = 
p
->
√xt
;

1145 
s
->
°©e
 = 
NEW_ELEMENT
;

1151 
	`ab‹t
 ();

1155  
ªtu∫_vÆ
;

1156 
	}
}

1164 
	$ˇrd_of_com∂emít
 (
S≥c_li°
 *
s
)

1166 
c
;

1167 
ˇrdöÆôy
 = 
N_CHARS
;

1168 
boﬁ
 
ö_£t
[
N_CHARS
] = { 0, };

1170 
s
->
°©e
 = 
BEGIN_STATE
;

1171 (
c
 = 
	`gë_√xt
 (
s
, 
NULL
)) != -1)

1173 
ˇrdöÆôy
 -(!
ö_£t
[
c
]);

1174 
ö_£t
[
c
] = 
åue
;

1176  
ˇrdöÆôy
;

1177 
	}
}

1189 
	$vÆid©e_ˇ£_˛as£s
 (
S≥c_li°
 *
s1
, S≥c_li° *
s2
)

1191 
size_t
 
n_uµî
 = 0;

1192 
size_t
 
n_lowî
 = 0;

1193 
i
;

1194 
c1
 = 0;

1195 
c2
 = 0;

1196 
cou¡
 
ﬁd_s1_Àn
 = 
s1
->
Àngth
;

1197 
cou¡
 
ﬁd_s2_Àn
 = 
s2
->
Àngth
;

1198 
Li°_ñemít
 *
s1_èû
 = 
s1
->
èû
;

1199 
Li°_ñemít
 *
s2_èû
 = 
s2
->
èû
;

1200 
boﬁ
 
s1_√w_ñemít
 = 
åue
;

1201 
boﬁ
 
s2_√w_ñemít
 = 
åue
;

1203 i‡(!
s2
->
has_ch¨_˛ass
)

1206 
i
 = 0; i < 
N_CHARS
; i++)

1208 i‡(
	`isuµî
 (
i
))

1209 
n_uµî
++;

1210 i‡(
	`i¶owî
 (
i
))

1211 
n_lowî
++;

1214 
s1
->
°©e
 = 
BEGIN_STATE
;

1215 
s2
->
°©e
 = 
BEGIN_STATE
;

1217 
c1
 !-1 && 
c2
 != -1)

1219 
Uµî_Lowî_˛ass
 
˛ass_s1
, 
˛ass_s2
;

1221 
c1
 = 
	`gë_√xt
 (
s1
, &
˛ass_s1
);

1222 
c2
 = 
	`gë_√xt
 (
s2
, &
˛ass_s2
);

1226 i‡(
s2_√w_ñemít
 && 
˛ass_s2
 !
UL_NONE


1227 && !(
s1_√w_ñemít
 && 
˛ass_s1
 !
UL_NONE
))

1228 
	`îr‹
 (
EXIT_FAILURE
, 0,

1229 
	`_
("misaligned [:upper:]ánd/or [:lower:] construct"));

1232 i‡(
˛ass_s2
 !
UL_NONE
)

1234 
	`skù_c⁄°ru˘
 (
s1
);

1235 
	`skù_c⁄°ru˘
 (
s2
);

1237 
s1
->
Àngth
 -(
˛ass_s1
 =
UL_UPPER
 ? 
n_uµî
 : 
n_lowî
) - 1;

1238 
s2
->
Àngth
 -(
˛ass_s2
 =
UL_UPPER
 ? 
n_uµî
 : 
n_lowî
) - 1;

1241 
s1_√w_ñemít
 = 
s1
->
°©e
 =
NEW_ELEMENT
;

1242 
s2_√w_ñemít
 = 
s2
->
°©e
 =
NEW_ELEMENT
;

1245 
	`as£π
 (
ﬁd_s1_Àn
 >
s1
->
Àngth
 && 
ﬁd_s2_Àn
 >
s2
->length);

1247 
s1
->
èû
 = 
s1_èû
;

1248 
s2
->
èû
 = 
s2_èû
;

1249 
	}
}

1265 
	$gë_•ec_°©s
 (
S≥c_li°
 *
s
)

1267 
Li°_ñemít
 *
p
;

1268 
cou¡
 
Àngth
 = 0;

1270 
s
->
n_ödeföôe_ª≥©s
 = 0;

1271 
s
->
has_equiv_˛ass
 = 
Ál£
;

1272 
s
->
has_ª°ri˘ed_ch¨_˛ass
 = 
Ál£
;

1273 
s
->
has_ch¨_˛ass
 = 
Ál£
;

1274 
p
 = 
s
->
hód
->
√xt
;Ö;Ö =Ö->next)

1276 
i
;

1277 
cou¡
 
Àn
 = 0;

1278 
cou¡
 
√w_Àngth
;

1280 
p
->
ty≥
)

1282 
RE_NORMAL_CHAR
:

1283 
Àn
 = 1;

1286 
RE_RANGE
:

1287 
	`as£π
 (
p
->
u
.
ønge
.
œ°_ch¨
 >p->u.ønge.
fú°_ch¨
);

1288 
Àn
 = 
p
->
u
.
ønge
.
œ°_ch¨
 -Ö->u.ønge.
fú°_ch¨
 + 1;

1291 
RE_CHAR_CLASS
:

1292 
s
->
has_ch¨_˛ass
 = 
åue
;

1293 
i
 = 0; i < 
N_CHARS
; i++)

1294 i‡(
	`is_ch¨_˛ass_membî
 (
p
->
u
.
ch¨_˛ass
, 
i
))

1295 ++
Àn
;

1296 
p
->
u
.
ch¨_˛ass
)

1298 
CC_UPPER
:

1299 
CC_LOWER
:

1302 
s
->
has_ª°ri˘ed_ch¨_˛ass
 = 
åue
;

1307 
RE_EQUIV_CLASS
:

1308 
i
 = 0; i < 
N_CHARS
; i++)

1309 i‡(
	`is_equiv_˛ass_membî
 (
p
->
u
.
equiv_code
, 
i
))

1310 ++
Àn
;

1311 
s
->
has_equiv_˛ass
 = 
åue
;

1314 
RE_REPEATED_CHAR
:

1315 i‡(
p
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
 > 0)

1316 
Àn
 = 
p
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
;

1319 
s
->
ödeföôe_ª≥©_ñemít
 = 
p
;

1320 ++(
s
->
n_ödeföôe_ª≥©s
);

1325 
	`ab‹t
 ();

1333 
√w_Àngth
 = 
Àngth
 + 
Àn
;

1334 i‡(! (
Àngth
 <
√w_Àngth
 &&Çew_Àngth <
REPEAT_COUNT_MAXIMUM
))

1335 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("too many characters in set"));

1336 
Àngth
 = 
√w_Àngth
;

1339 
s
->
Àngth
 =Üength;

1340 
	}
}

1343 
	$gë_s1_•ec_°©s
 (
S≥c_li°
 *
s1
)

1345 
	`gë_•ec_°©s
 (
s1
);

1346 i‡(
com∂emít
)

1347 
s1
->
Àngth
 = 
	`ˇrd_of_com∂emít
 (s1);

1348 
	}
}

1351 
	$gë_s2_•ec_°©s
 (
S≥c_li°
 *
s2
, 
cou¡
 
Àn_s1
)

1353 
	`gë_•ec_°©s
 (
s2
);

1354 i‡(
Àn_s1
 >
s2
->
Àngth
 && s2->
n_ödeföôe_ª≥©s
 == 1)

1356 
s2
->
ödeföôe_ª≥©_ñemít
->
u
.
ª≥©ed_ch¨
.
ª≥©_cou¡
 =

1357 
Àn_s1
 - 
s2
->
Àngth
;

1358 
s2
->
Àngth
 = 
Àn_s1
;

1360 
	}
}

1363 
	$•ec_öô
 (
S≥c_li°
 *
•ec_li°
)

1365 
Li°_ñemít
 *
√w
 = 
	`xmÆloc
 ( *new);

1366 
•ec_li°
->
hód
 = s≥c_li°->
èû
 = 
√w
;

1367 
•ec_li°
->
hód
->
√xt
 = 
NULL
;

1368 
	}
}

1376 
boﬁ


1377 
	$∑r£_°r
 (c⁄° *
s
, 
S≥c_li°
 *
•ec_li°
)

1379 
E_°rög
 
es
;

1380 
boﬁ
 
ok
 = 
	`unquŸe
 (
s
, &
es
Ë&& 
	`buûd_•ec_li°
 (&es, 
•ec_li°
);

1381 
	`es_‰ì
 (&
es
);

1382  
ok
;

1383 
	}
}

1396 
	$°rög2_exãnd
 (c⁄° 
S≥c_li°
 *
s1
, S≥c_li° *
s2
)

1398 
Li°_ñemít
 *
p
;

1399 
ch¨_to_ª≥©
;

1401 
	`as£π
 (
å™¶©ög
);

1402 
	`as£π
 (
s1
->
Àngth
 > 
s2
->length);

1403 
	`as£π
 (
s2
->
Àngth
 > 0);

1405 
p
 = 
s2
->
èû
;

1406 
p
->
ty≥
)

1408 
RE_NORMAL_CHAR
:

1409 
ch¨_to_ª≥©
 = 
p
->
u
.
n‹mÆ_ch¨
;

1411 
RE_RANGE
:

1412 
ch¨_to_ª≥©
 = 
p
->
u
.
ønge
.
œ°_ch¨
;

1414 
RE_CHAR_CLASS
:

1419 
	`îr‹
 (
EXIT_FAILURE
, 0,

1420 
	`_
("whenÅranslating with string1ÜongerÅhan string2,\nthe\
 string mustÇotÉnd withá character class"));

1422 
	`ab‹t
 ();

1425 
RE_REPEATED_CHAR
:

1426 
ch¨_to_ª≥©
 = 
p
->
u
.
ª≥©ed_ch¨
.
the_ª≥©ed_ch¨
;

1429 
RE_EQUIV_CLASS
:

1432 
	`ab‹t
 ();

1436 
	`ab‹t
 ();

1440 
	`≠≥nd_ª≥©ed_ch¨
 (
s2
, 
ch¨_to_ª≥©
, 
s1
->
Àngth
 - s2->length);

1441 
s2
->
Àngth
 = 
s1
->length;

1442 
	}
}

1448 
boﬁ


1449 
	$homogíeous_•ec_li°
 (
S≥c_li°
 *
s
)

1451 
b
, 
c
;

1453 
s
->
°©e
 = 
BEGIN_STATE
;

1455 i‡((
b
 = 
	`gë_√xt
 (
s
, 
NULL
)) == -1)

1456  
Ál£
;

1458 (
c
 = 
	`gë_√xt
 (
s
, 
NULL
)) != -1)

1459 i‡(
c
 !
b
)

1460  
Ál£
;

1462  
åue
;

1463 
	}
}

1474 
	$vÆid©e
 (
S≥c_li°
 *
s1
, S≥c_li° *
s2
)

1476 
	`gë_s1_•ec_°©s
 (
s1
);

1477 i‡(
s1
->
n_ödeföôe_ª≥©s
 > 0)

1479 
	`îr‹
 (
EXIT_FAILURE
, 0,

1480 
	`_
("the [c*]Ñepeat construct mayÇotáppear in string1"));

1483 i‡(
s2
)

1485 
	`gë_s2_•ec_°©s
 (
s2
, 
s1
->
Àngth
);

1487 i‡(
s2
->
n_ödeföôe_ª≥©s
 > 1)

1489 
	`îr‹
 (
EXIT_FAILURE
, 0,

1490 
	`_
("only one [c*]Ñepeat construct mayáppear in string2"));

1493 i‡(
å™¶©ög
)

1495 i‡(
s2
->
has_equiv_˛ass
)

1497 
	`îr‹
 (
EXIT_FAILURE
, 0,

1498 
	`_
("[=c=]Éxpressions mayÇotáppear in string2\
Åranslating"));

1502 i‡(
s2
->
has_ª°ri˘ed_ch¨_˛ass
)

1504 
	`îr‹
 (
EXIT_FAILURE
, 0,

1505 
	`_
("whenÅranslating,Åhe only character classesÅhat may\
 in\nstring2áre 'upper'ánd 'lower'"));

1509 
	`vÆid©e_ˇ£_˛as£s
 (
s1
, 
s2
);

1511 i‡(
s1
->
Àngth
 > 
s2
->length)

1513 i‡(!
åunˇã_£t1
)

1518 i‡(
s2
->
Àngth
 == 0)

1519 
	`îr‹
 (
EXIT_FAILURE
, 0,

1520 
	`_
("whenÇotÅruncating set1, string2 must beÇon-empty"));

1521 
	`°rög2_exãnd
 (
s1
, 
s2
);

1525 i‡(
com∂emít
 && 
s1
->
has_ch¨_˛ass


1526 && ! (
s2
->
Àngth
 =
s1
->Àngth && 
	`homogíeous_•ec_li°
 (s2)))

1528 
	`îr‹
 (
EXIT_FAILURE
, 0,

1529 
	`_
("whenÅranslating with complemented character classes,\
\nstring2 must mapáll characters inÅhe domainÅo one"));

1536 i‡(
s2
->
n_ödeföôe_ª≥©s
 > 0)

1537 
	`îr‹
 (
EXIT_FAILURE
, 0,

1538 
	`_
("the [c*] construct mayáppear in string2 only\
Åranslating"));

1542 
	}
}

1553 
squìze_fûãr
 (*
buf
, 
size_t
 
size
, 
	$size_t
 (*
ªadî
Ë(*, 
size_t
))

1557 c⁄° 
NOT_A_CHAR
 = 
INT_MAX
;

1559 
ch¨_to_squìze
 = 
NOT_A_CHAR
;

1560 
size_t
 
i
 = 0;

1561 
size_t
 
ƒ
 = 0;

1563 
åue
)

1565 
size_t
 
begö
;

1567 i‡(
i
 >
ƒ
)

1569 
ƒ
 = 
	`ªadî
 (
buf
, 
size
);

1570 i‡(
ƒ
 == 0)

1572 
i
 = 0;

1575 
begö
 = 
i
;

1577 i‡(
ch¨_to_squìze
 =
NOT_A_CHAR
)

1579 
size_t
 
out_Àn
;

1591 ; 
i
 < 
ƒ
 && !
ö_squìze_£t
[
	`to_uch¨
 (
buf
[i])]; i += 2)

1597 i‡(
i
 =
ƒ
 && 
ö_squìze_£t
[
	`to_uch¨
 (
buf
[i - 1])])

1598 --
i
;

1600 i‡(
i
 >
ƒ
)

1601 
out_Àn
 = 
ƒ
 - 
begö
;

1604 
ch¨_to_squìze
 = 
buf
[
i
];

1606 
out_Àn
 = 
i
 - 
begö
 + 1;

1610 i‡(
i
 > 0 && 
buf
[ò- 1] =
ch¨_to_squìze
)

1611 --
out_Àn
;

1616 ++
i
;

1618 i‡(
out_Àn
 > 0

1619 && 
	`fwrôe
 (&
buf
[
begö
], 1, 
out_Àn
, 
°dout
) != out_len)

1620 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

1623 i‡(
ch¨_to_squìze
 !
NOT_A_CHAR
)

1628 ; 
i
 < 
ƒ
 && 
buf
[i] =
ch¨_to_squìze
; i++)

1630 i‡(
i
 < 
ƒ
)

1631 
ch¨_to_squìze
 = 
NOT_A_CHAR
;

1637 
	}
}

1639 
size_t


1640 
	$∂aö_ªad
 (*
buf
, 
size_t
 
size
)

1642 
size_t
 
ƒ
 = 
	`ß„_ªad
 (
STDIN_FILENO
, 
buf
, 
size
);

1643 i‡(
ƒ
 =
SAFE_READ_ERROR
)

1644 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("readÉrror"));

1645  
ƒ
;

1646 
	}
}

1654 
size_t


1655 
	$ªad_™d_dñëe
 (*
buf
, 
size_t
 
size
)

1657 
size_t
 
n_ßved
;

1664 
size_t
 
i
;

1665 
size_t
 
ƒ
 = 
	`∂aö_ªad
 (
buf
, 
size
);

1667 i‡(
ƒ
 == 0)

1675 
i
 = 0; i < 
ƒ
 && !
ö_dñëe_£t
[
	`to_uch¨
 (
buf
[i])]; i++)

1677 
n_ßved
 = 
i
;

1679 ++
i
; i < 
ƒ
; i++)

1680 i‡(!
ö_dñëe_£t
[
	`to_uch¨
 (
buf
[
i
])])

1681 
buf
[
n_ßved
++] = buf[
i
];

1683 
n_ßved
 == 0);

1685  
n_ßved
;

1686 
	}
}

1692 
size_t


1693 
	$ªad_™d_xœã
 (*
buf
, 
size_t
 
size
)

1695 
size_t
 
byãs_ªad
 = 
	`∂aö_ªad
 (
buf
, 
size
);

1696 
size_t
 
i
;

1698 
i
 = 0; i < 
byãs_ªad
; i++)

1699 
buf
[
i
] = 
xœã
[
	`to_uch¨
 (buf[i])];

1701  
byãs_ªad
;

1702 
	}
}

1711 
	$£t_öôülize
 (
S≥c_li°
 *
s
, 
boﬁ
 
com∂emít_this_£t
, boﬁ *
ö_£t
)

1713 
c
;

1714 
size_t
 
i
;

1716 
s
->
°©e
 = 
BEGIN_STATE
;

1717 (
c
 = 
	`gë_√xt
 (
s
, 
NULL
)) != -1)

1718 
ö_£t
[
c
] = 
åue
;

1719 i‡(
com∂emít_this_£t
)

1720 
i
 = 0; i < 
N_CHARS
; i++)

1721 
ö_£t
[
i
] = (!in_set[i]);

1722 
	}
}

1725 
	$maö
 (
¨gc
, **
¨gv
)

1727 
c
;

1728 
n⁄_›ti⁄_¨gs
;

1729 
mö_›î™ds
;

1730 
max_›î™ds
;

1731 
S≥c_li°
 
buf1
, 
buf2
;

1732 
S≥c_li°
 *
s1
 = &
buf1
;

1733 
S≥c_li°
 *
s2
 = &
buf2
;

1735 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

1736 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

1737 
	`£éoˇÀ
 (
LC_ALL
, "");

1738 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

1739 
	`ãxtdomaö
 (
PACKAGE
);

1741 
	`©exô
 (
˛o£_°dout
);

1743 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+cCd°", 
l⁄g_›ti⁄s
, 
NULL
)) != -1)

1745 
c
)

1749 
com∂emít
 = 
åue
;

1753 
dñëe
 = 
åue
;

1757 
squìze_ª≥©s
 = 
åue
;

1761 
åunˇã_£t1
 = 
åue
;

1764 
ˇ£_GETOPT_HELP_CHAR
;

1766 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1769 
	`ußge
 (
EXIT_FAILURE
);

1774 
n⁄_›ti⁄_¨gs
 = 
¨gc
 - 
›töd
;

1775 
å™¶©ög
 = (
n⁄_›ti⁄_¨gs
 =2 && !
dñëe
);

1776 
mö_›î™ds
 = 1 + (
dñëe
 =
squìze_ª≥©s
);

1777 
max_›î™ds
 = 1 + (
dñëe
 <
squìze_ª≥©s
);

1779 i‡(
n⁄_›ti⁄_¨gs
 < 
mö_›î™ds
)

1781 i‡(
n⁄_›ti⁄_¨gs
 == 0)

1782 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

1785 
	`îr‹
 (0, 0, 
	`_
("missög o≥øndá·î %s"), 
	`quŸe
 (
¨gv
[
¨gc
 - 1]));

1786 
	`Ârötf
 (
°dîr
, "%s\n",

1787 
	`_
(
squìze_ª≥©s


1788 ? 
	`N_
("Two strings must be given when "

1790 : 
	`N_
("Two strings must be given whenÅranslating.")));

1792 
	`ußge
 (
EXIT_FAILURE
);

1795 i‡(
max_›î™ds
 < 
n⁄_›ti⁄_¨gs
)

1797 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 
max_›î™ds
]));

1798 i‡(
n⁄_›ti⁄_¨gs
 == 2)

1799 
	`Ârötf
 (
°dîr
, "%s\n",

1800 
	`_
("Only one string may be given when "

1802 
	`ußge
 (
EXIT_FAILURE
);

1805 
	`•ec_öô
 (
s1
);

1806 i‡(!
	`∑r£_°r
 (
¨gv
[
›töd
], 
s1
))

1807 
	`exô
 (
EXIT_FAILURE
);

1809 i‡(
n⁄_›ti⁄_¨gs
 == 2)

1811 
	`•ec_öô
 (
s2
);

1812 i‡(!
	`∑r£_°r
 (
¨gv
[
›töd
 + 1], 
s2
))

1813 
	`exô
 (
EXIT_FAILURE
);

1816 
s2
 = 
NULL
;

1818 
	`vÆid©e
 (
s1
, 
s2
);

1823 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

1824 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

1825 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDOUT_FILENO
))

1826 
	`x‰e›í
 (
NULL
, "wb", 
°dout
);

1828 
	`Ádvi£
 (
°dö
, 
FADVISE_SEQUENTIAL
);

1830 i‡(
squìze_ª≥©s
 && 
n⁄_›ti⁄_¨gs
 == 1)

1832 
	`£t_öôülize
 (
s1
, 
com∂emít
, 
ö_squìze_£t
);

1833 
	`squìze_fûãr
 (
io_buf
,  io_buf, 
∂aö_ªad
);

1835 i‡(
dñëe
 && 
n⁄_›ti⁄_¨gs
 == 1)

1837 
	`£t_öôülize
 (
s1
, 
com∂emít
, 
ö_dñëe_£t
);

1839 
åue
)

1841 
size_t
 
ƒ
 = 
	`ªad_™d_dñëe
 (
io_buf
,  io_buf);

1842 i‡(
ƒ
 == 0)

1844 i‡(
	`fwrôe
 (
io_buf
, 1, 
ƒ
, 
°dout
) !=Çr)

1845 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

1848 i‡(
squìze_ª≥©s
 && 
dñëe
 && 
n⁄_›ti⁄_¨gs
 == 2)

1850 
	`£t_öôülize
 (
s1
, 
com∂emít
, 
ö_dñëe_£t
);

1851 
	`£t_öôülize
 (
s2
, 
Ál£
, 
ö_squìze_£t
);

1852 
	`squìze_fûãr
 (
io_buf
,  io_buf, 
ªad_™d_dñëe
);

1854 i‡(
å™¶©ög
)

1856 i‡(
com∂emít
)

1858 
i
;

1859 
boﬁ
 *
ö_s1
 = 
ö_dñëe_£t
;

1861 
	`£t_öôülize
 (
s1
, 
Ál£
, 
ö_s1
);

1862 
s2
->
°©e
 = 
BEGIN_STATE
;

1863 
i
 = 0; i < 
N_CHARS
; i++)

1864 
xœã
[
i
] = i;

1865 
i
 = 0; i < 
N_CHARS
; i++)

1867 i‡(!
ö_s1
[
i
])

1869 
ch
 = 
	`gë_√xt
 (
s2
, 
NULL
);

1870 
	`as£π
 (
ch
 !-1 || 
åunˇã_£t1
);

1871 i‡(
ch
 == -1)

1877 
xœã
[
i
] = 
ch
;

1883 
c1
, 
c2
;

1884 
i
;

1885 
Uµî_Lowî_˛ass
 
˛ass_s1
;

1886 
Uµî_Lowî_˛ass
 
˛ass_s2
;

1888 
i
 = 0; i < 
N_CHARS
; i++)

1889 
xœã
[
i
] = i;

1890 
s1
->
°©e
 = 
BEGIN_STATE
;

1891 
s2
->
°©e
 = 
BEGIN_STATE
;

1892 
åue
)

1894 
c1
 = 
	`gë_√xt
 (
s1
, &
˛ass_s1
);

1895 
c2
 = 
	`gë_√xt
 (
s2
, &
˛ass_s2
);

1897 i‡(
˛ass_s1
 =
UL_LOWER
 && 
˛ass_s2
 =
UL_UPPER
)

1899 
i
 = 0; i < 
N_CHARS
; i++)

1900 i‡(
	`i¶owî
 (
i
))

1901 
xœã
[
i
] = 
	`touµî
 (i);

1903 i‡(
˛ass_s1
 =
UL_UPPER
 && 
˛ass_s2
 =
UL_LOWER
)

1905 
i
 = 0; i < 
N_CHARS
; i++)

1906 i‡(
	`isuµî
 (
i
))

1907 
xœã
[
i
] = 
	`tﬁowî
 (i);

1912 i‡(
c1
 =-1 || 
c2
 == -1)

1914 
xœã
[
c1
] = 
c2
;

1918 i‡(
˛ass_s2
 !
UL_NONE
)

1920 
	`skù_c⁄°ru˘
 (
s1
);

1921 
	`skù_c⁄°ru˘
 (
s2
);

1924 
	`as£π
 (
c1
 =-1 || 
åunˇã_£t1
);

1926 i‡(
squìze_ª≥©s
)

1928 
	`£t_öôülize
 (
s2
, 
Ál£
, 
ö_squìze_£t
);

1929 
	`squìze_fûãr
 (
io_buf
,  io_buf, 
ªad_™d_xœã
);

1933 
åue
)

1935 
size_t
 
byãs_ªad
 = 
	`ªad_™d_xœã
 (
io_buf
,  io_buf);

1936 i‡(
byãs_ªad
 == 0)

1938 i‡(
	`fwrôe
 (
io_buf
, 1, 
byãs_ªad
, 
°dout
) != bytes_read)

1939 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

1944 i‡(
	`˛o£
 (
STDIN_FILENO
) != 0)

1945 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard input"));

1947 
	`exô
 (
EXIT_SUCCESS
);

1948 
	}
}

	@true.c

17 
	~<c⁄fig.h
>

18 
	~<°dio.h
>

19 
	~<sys/ty≥s.h
>

20 
	~"sy°em.h
"

23 #i‚de‡
EXIT_STATUS


24 
	#EXIT_STATUS
 
EXIT_SUCCESS


	)

27 #i‡
EXIT_STATUS
 =
EXIT_SUCCESS


28 
	#PROGRAM_NAME
 "åue"

	)

30 
	#PROGRAM_NAME
 "Ál£"

	)

33 
	#AUTHORS
 
	`¥›î_«me
 ("Jim Meyîög")

	)

36 
	$ußge
 (
°©us
)

38 
	`¥ötf
 (
	`_
("\
: %s [ignored commandÜineárguments]\n\
: %s OPTION\n\
"),

42 
¥ogøm_«me
,Örogram_name);

43 
	`¥ötf
 ("%s\n\n",

44 
	`_
(
EXIT_STATUS
 =
EXIT_SUCCESS


45 ? 
	`N_
("Exit withá status code indicating success.")

46 : 
	`N_
("Exit withá status code indicating failure.")));

47 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

48 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

49 
	`¥ötf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

50 
	`emô_™cûœry_öfo
 ();

51 
	`exô
 (
°©us
);

52 
	}
}

55 
	$maö
 (
¨gc
, **
¨gv
)

59 i‡(
¨gc
 == 2)

61 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

62 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

63 
	`£éoˇÀ
 (
LC_ALL
, "");

64 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`ãxtdomaö
 (
PACKAGE
);

67 
	`©exô
 (
˛o£_°dout
);

69 i‡(
	`STREQ
 (
¨gv
[1], "--help"))

70 
	`ußge
 (
EXIT_STATUS
);

72 i‡(
	`STREQ
 (
¨gv
[1], "--version"))

73 
	`vîsi⁄_ëc
 (
°dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
, 
AUTHORS
,

74 (*Ë
NULL
);

77 
	`exô
 (
EXIT_STATUS
);

78 
	}
}

	@truncate.c

23 
	~<c⁄fig.h
>

24 
	~<°dio.h
>

25 
	~<gë›t.h
>

26 
	~<sys/ty≥s.h
>

28 
	~"sy°em.h
"

29 
	~"îr‹.h
"

30 
	~"quŸe.h
"

31 
	~"°©-size.h
"

32 
	~"x°πﬁ.h
"

35 
	#PROGRAM_NAME
 "åunˇã"

	)

37 
	#AUTHORS
 
	`¥›î_«me_utf8
 ("Padøig Bødy", "P\303\241døig Bødy")

	)

40 
boﬁ
 
	gno_¸óã
;

43 
boﬁ
 
	gblock_mode
;

46 c⁄° *
	gªf_fûe
;

48 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

50 {"no-¸óã", 
no_¨gumít
, 
NULL
, 'c'},

51 {"io-blocks", 
no_¨gumít
, 
NULL
, 'o'},

52 {"ª„ªn˚", 
ªquúed_¨gumít
, 
NULL
, 'r'},

53 {"size", 
ªquúed_¨gumít
, 
NULL
, 's'},

54 {
GETOPT_HELP_OPTION_DECL
},

55 {
GETOPT_VERSION_OPTION_DECL
},

56 {
NULL
, 0, NULL, 0}

60 { 
	mrm_abs
 = 0, 
	mrm_ªl
, 
	mrm_mö
, 
	mrm_max
, 
	mrm_rdn
, 
	mrm_rup
 } 
	tªl_mode_t
;

69 
	$∑r£_Àn
 (c⁄° *
°r
, 
off_t
 *
size
)

71 
°πﬁ_îr‹
 
e
;

72 
ötmax_t
 
tmp_size
;

73 
e
 = 
	`x°πoimax
 (
°r
, 
NULL
, 10, &
tmp_size
, "EgGkKmMPtTYZ0");

74 i‡(
e
 =
LONGINT_OK


75 && !(
OFF_T_MIN
 <
tmp_size
 &&Åmp_sizê<
OFF_T_MAX
))

76 
e
 = 
LONGINT_OVERFLOW
;

78 i‡(
e
 =
LONGINT_OK
)

80 
î∫o
 = 0;

81 *
size
 = 
tmp_size
;

85 
î∫o
 = (
e
 =
LONGINT_OVERFLOW
 ? 
EOVERFLOW
 : 0);

87 
	}
}

90 
	$ußge
 (
°©us
)

92 i‡(
°©us
 !
EXIT_SUCCESS
)

93 
	`emô_åy_hñp
 ();

96 
	`¥ötf
 (
	`_
("Ußge: %†OPTION... FILE...\n"), 
¥ogøm_«me
);

97 
	`Âuts
 (
	`_
("\
 o∏exãndÅhêsizêo‡óch FILEÅÿthê•ecifõd size\n\
\n\
 FILEárgumíàth© d€†nŸÉxi° i†¸óãd.\n\
\n\
á FILE i†œrgîÅh™Åhê•ecifõd size,Åhêexå®d©®i†lo°.\n\
á FILE i†sh‹ãr, iài†exãndedándÅhêexãndedÖ¨à(hﬁe)\n\
á†zîÿbyãs.\n\
"), 
°dout
);

107 
	`emô_m™d©‹y_¨g_nŸe
 ();

109 
	`Âuts
 (
	`_
("\
-c, --no-¸óã dÿnŸ cª©ê™y fûes\n\
"), 
°dout
);

112 
	`Âuts
 (
	`_
("\
-o, --io-block†Åª© SIZEá†numbî o‡IO block†ö°ód o‡byãs\n\
"), 
°dout
);

115 
	`Âuts
 (
	`_
("\
-r, --ª„ªn˚=RFILE ba£ sizê⁄ RFILE\n\
-s, --size=SIZE së o∏adju°Åhêfûêsizêby SIZE\n"), 
°dout
);

118 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

119 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

120 
	`emô_size_nŸe
 ();

121 
	`Âuts
 (
	`_
("\n\
 mayálsÿbê¥efixed by o√ o‡thêfﬁlowög modifyög ch¨a˘îs:\n\
'+'Éxãnd by, '-'Ñedu˚ by, '<'áàmo°, '>'áàÀa°,\n\
'/'Ñound dow¿tÿmu…ùÀ of, '%'Ñound u∞tÿmu…ùÀ of.\n"), 
°dout
);

125 
	`emô_™cûœry_öfo
 ();

127 
	`exô
 (
°©us
);

128 
	}
}

131 
boﬁ


132 
	$do_·runˇã
 (
fd
, c⁄° *
‚ame
, 
off_t
 
ssize
, off_à
rsize
,

133 
ªl_mode_t
 
ªl_mode
)

135 
°©
 
sb
;

136 
off_t
 
nsize
;

138 i‡((
block_mode
 || (
ªl_mode
 && 
rsize
 < 0)Ë&& 
	`f°©
 (
fd
, &
sb
) != 0)

140 
	`îr‹
 (0, 
î∫o
, 
	`_
("ˇ¬Ÿ f°© %s"), 
	`quŸe
 (
‚ame
));

141  
Ál£
;

143 i‡(
block_mode
)

145 
off_t
 c⁄° 
blksize
 = 
	`ST_BLKSIZE
 (
sb
);

146 i‡(
ssize
 < 
OFF_T_MIN
 / 
blksize
 || ssizê> 
OFF_T_MAX
 / blksize)

148 
	`îr‹
 (0, 0,

149 
	`_
("ovîÊow i¿%" 
PRIdMAX


150 " * %" 
PRIdMAX
 " byte blocks for file %s"),

151 (
ötmax_t
Ë
ssize
, (ötmax_tË
blksize
,

152 
	`quŸe
 (
‚ame
));

153  
Ál£
;

155 
ssize
 *
blksize
;

157 i‡(
ªl_mode
)

159 
uötmax_t
 
fsize
;

161 i‡(0 <
rsize
)

162 
fsize
 = 
rsize
;

165 
off_t
 
fûe_size
;

166 i‡(
	`ußbÀ_°_size
 (&
sb
))

168 
fûe_size
 = 
sb
.
°_size
;

169 i‡(
fûe_size
 < 0)

173 
	`îr‹
 (0, 0, 
	`_
("%s has unusable,ápparentlyÇegative size"),

174 
	`quŸe
 (
‚ame
));

175  
Ál£
;

180 
fûe_size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

181 i‡(
fûe_size
 < 0)

183 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot getÅhe size of %s"),

184 
	`quŸe
 (
‚ame
));

185  
Ál£
;

188 
fsize
 = 
fûe_size
;

191 i‡(
ªl_mode
 =
rm_mö
)

192 
nsize
 = 
	`MAX
 (
fsize
, (
uötmax_t
Ë
ssize
);

193 i‡(
ªl_mode
 =
rm_max
)

194 
nsize
 = 
	`MIN
 (
fsize
, (
uötmax_t
Ë
ssize
);

195 i‡(
ªl_mode
 =
rm_rdn
)

197 
nsize
 = (
fsize
 / 
ssize
) * ssize;

198 i‡(
ªl_mode
 =
rm_rup
)

202 
uötmax_t
 c⁄° 
ovîÊow
 = ((
fsize
 + 
ssize
 - 1) / ssize) * ssize;

203 i‡(
ovîÊow
 > 
OFF_T_MAX
)

205 
	`îr‹
 (0, 0, 
	`_
("overflowÑounding up size of file %s"),

206 
	`quŸe
 (
‚ame
));

207  
Ál£
;

209 
nsize
 = 
ovîÊow
;

213 i‡(
ssize
 > 
OFF_T_MAX
 - (
off_t
)
fsize
)

215 
	`îr‹
 (0, 0, 
	`_
("overflowÉxtending size of file %s"),

216 
	`quŸe
 (
‚ame
));

217  
Ál£
;

219 
nsize
 = 
fsize
 + 
ssize
;

223 
nsize
 = 
ssize
;

224 i‡(
nsize
 < 0)

225 
nsize
 = 0;

227 i‡(
	`·runˇã
 (
fd
, 
nsize
) == -1)

229 
	`îr‹
 (0, 
î∫o
,

230 
	`_
("ÁûedÅÿåunˇã %†© %" 
PRIdMAX
 " byãs"), 
	`quŸe
 (
‚ame
),

231 (
ötmax_t
Ë
nsize
);

232  
Ál£
;

235  
åue
;

236 
	}
}

239 
	$maö
 (
¨gc
, **
¨gv
)

241 
boﬁ
 
gŸ_size
 = 
Ál£
;

242 
boﬁ
 
îr‹s
 = 
Ál£
;

243 
off_t
 
size
 
	`IF_LINT
 ( = 0);

244 
off_t
 
rsize
 = -1;

245 
ªl_mode_t
 
ªl_mode
 = 
rm_abs
;

246 
c
, 
fd
 = -1, 
oÊags
;

247 c⁄° *
‚ame
;

249 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

250 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

251 
	`£éoˇÀ
 (
LC_ALL
, "");

252 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

253 
	`ãxtdomaö
 (
PACKAGE
);

255 
	`©exô
 (
˛o£_°dout
);

257 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "c‹:s:", 
l⁄g›ts
, 
NULL
)) != -1)

259 
c
)

262 
no_¸óã
 = 
åue
;

266 
block_mode
 = 
åue
;

270 
ªf_fûe
 = 
›èrg
;

275 
	`is•a˚
 (
	`to_uch¨
 (*
›èrg
)))

276 
›èrg
++;

277 *
›èrg
)

280 
ªl_mode
 = 
rm_max
;

281 
›èrg
++;

284 
ªl_mode
 = 
rm_mö
;

285 
›èrg
++;

288 
ªl_mode
 = 
rm_rdn
;

289 
›èrg
++;

292 
ªl_mode
 = 
rm_rup
;

293 
›èrg
++;

297 
	`is•a˚
 (
	`to_uch¨
 (*
›èrg
)))

298 
›èrg
++;

299 i‡(*
›èrg
 == '+' || *optarg == '-')

301 i‡(
ªl_mode
)

303 
	`îr‹
 (0, 0, 
	`_
("multipleÑelative modifiers specified"));

305 
	`ußge
 (
EXIT_FAILURE
);

307 
ªl_mode
 = 
rm_ªl
;

309 i‡(
	`∑r£_Àn
 (
›èrg
, &
size
) == -1)

310 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("invalidÇumber %s"),

311 
	`quŸe
 (
›èrg
));

313 i‡((
ªl_mode
 =
rm_rup
 ||Ññ_modê=
rm_rdn
Ë&& 
size
 == 0)

314 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("division by zero"));

315 
gŸ_size
 = 
åue
;

318 
ˇ£_GETOPT_HELP_CHAR
;

320 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

323 
	`ußge
 (
EXIT_FAILURE
);

327 
¨gv
 +
›töd
;

328 
¨gc
 -
›töd
;

331 i‡(!
ªf_fûe
 && !
gŸ_size
)

333 
	`îr‹
 (0, 0, 
	`_
("you must specifyÉither %s or %s"),

334 
	`quŸe_n
 (0, "--size"), quote_n (1, "--reference"));

335 
	`ußge
 (
EXIT_FAILURE
);

338 i‡(
ªf_fûe
 && 
gŸ_size
 && !
ªl_mode
)

340 
	`îr‹
 (0, 0, 
	`_
("you must specifyáÑelative %s with %s"),

341 
	`quŸe_n
 (0, "--size"), quote_n (1, "--reference"));

342 
	`ußge
 (
EXIT_FAILURE
);

345 i‡(
block_mode
 && !
gŸ_size
)

347 
	`îr‹
 (0, 0, 
	`_
("%s was specified but %s wasÇot"),

348 
	`quŸe_n
 (0, "--io-blocks"), quote_n (1, "--size"));

349 
	`ußge
 (
EXIT_FAILURE
);

352 i‡(
¨gc
 < 1)

354 
	`îr‹
 (0, 0, 
	`_
("missing file operand"));

355 
	`ußge
 (
EXIT_FAILURE
);

358 i‡(
ªf_fûe
)

360 
°©
 
sb
;

361 
off_t
 
fûe_size
 = -1;

362 i‡(
	`°©
 (
ªf_fûe
, &
sb
) != 0)

363 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ sèà%s"), 
	`quŸe
 (
ªf_fûe
));

364 i‡(
	`ußbÀ_°_size
 (&
sb
))

365 
fûe_size
 = 
sb
.
°_size
;

368 
ªf_fd
 = 
	`›í
 (
ªf_fûe
, 
O_RDONLY
);

369 i‡(0 <
ªf_fd
)

371 
off_t
 
fûe_íd
 = 
	`l£ek
 (
ªf_fd
, 0, 
SEEK_END
);

372 
ßved_î∫o
 = 
î∫o
;

373 
	`˛o£
 (
ªf_fd
);

374 i‡(0 <
fûe_íd
)

375 
fûe_size
 = 
fûe_íd
;

379 
î∫o
 = 
ßved_î∫o
;

383 i‡(
fûe_size
 < 0)

384 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot getÅhe size of %s"),

385 
	`quŸe
 (
ªf_fûe
));

386 i‡(!
gŸ_size
)

387 
size
 = 
fûe_size
;

389 
rsize
 = 
fûe_size
;

392 
oÊags
 = 
O_WRONLY
 | (
no_¸óã
 ? 0 : 
O_CREAT
Ë| 
O_NONBLOCK
;

394 (
‚ame
 = *
¨gv
++Ë!
NULL
)

396 i‡((
fd
 = 
	`›í
 (
‚ame
, 
oÊags
, 
MODE_RW_UGO
)) == -1)

402 i‡(!(
no_¸óã
 && 
î∫o
 =
ENOENT
))

404 
	`îr‹
 (0, 
î∫o
, 
	`_
("cannot open %s for writing"),

405 
	`quŸe
 (
‚ame
));

406 
îr‹s
 = 
åue
;

412 i‡(
fd
 != -1)

414 
îr‹s
 |!
	`do_·runˇã
 (
fd
, 
‚ame
, 
size
, 
rsize
, 
ªl_mode
);

415 i‡(
	`˛o£
 (
fd
) != 0)

417 
	`îr‹
 (0, 
î∫o
, 
	`_
("ÁûedÅÿ˛o£ %s"), 
	`quŸe
 (
‚ame
));

418 
îr‹s
 = 
åue
;

423  
îr‹s
 ? 
EXIT_FAILURE
 : 
EXIT_SUCCESS
;

424 
	}
}

	@tsort.c

23 
	~<c⁄fig.h
>

25 
	~<as£π.h
>

26 
	~<gë›t.h
>

27 
	~<sys/ty≥s.h
>

29 
	~"sy°em.h
"

30 
	~"l⁄g-›ti⁄s.h
"

31 
	~"îr‹.h
"

32 
	~"Ádvi£.h
"

33 
	~"quŸe.h
"

34 
	~"ªadtokís.h
"

35 
	~"°dio--.h
"

38 
	#PROGRAM_NAME
 "ts‹t"

	)

40 
	#AUTHORS
 
	`¥›î_«me
 ("M¨k Këãnis")

	)

43 
	#DELIM
 " \t\n"

	)

46 
	ssuc˚ss‹


48 
ôem
 *
	msuc
;

49 
suc˚ss‹
 *
	m√xt
;

53 
	sôem


55 c⁄° *
	m°r
;

56 
ôem
 *
	mÀ·
, *
	mright
;

57 
	mbÆ™˚
;

58 
size_t
 
	mcou¡
;

59 
ôem
 *
	mqlök
;

60 
suc˚ss‹
 *
	mt›
;

64 
ôem
 *
	ghód
 = 
NULL
;

67 
ôem
 *
	gzîos
 = 
NULL
;

70 
ôem
 *
	glo›
 = 
NULL
;

73 
size_t
 
	gn_°rögs
 = 0;

76 
	$ußge
 (
°©us
)

78 i‡(
°©us
 !
EXIT_SUCCESS
)

79 
	`emô_åy_hñp
 ();

82 
	`¥ötf
 (
	`_
("\
: %†[OPTION] [FILE]\n\
ÅŸÆly ordîedÜi° c⁄si°íàwôhÅhê∑πü»‹dîög i¿FILE.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
\n\
"), 
¥ogøm_«me
);

88 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

89 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

90 
	`emô_™cûœry_öfo
 ();

93 
	`exô
 (
°©us
);

94 
	}
}

97 
ôem
 *

98 
	$√w_ôem
 (c⁄° *
°r
)

100 
ôem
 *
k
 = 
	`xmÆloc
 ( *k);

102 
k
->
°r
 = (°∏? 
	`x°rdup
 (°r): 
NULL
);

103 
k
->
À·
 = k->
right
 = 
NULL
;

104 
k
->
bÆ™˚
 = 0;

107 
k
->
cou¡
 = 0;

108 
k
->
qlök
 = 
NULL
;

109 
k
->
t›
 = 
NULL
;

111  
k
;

112 
	}
}

122 
ôem
 *

123 
	$£¨ch_ôem
 (
ôem
 *
roŸ
, c⁄° *
°r
)

125 
ôem
 *
p
, *
q
, *
r
, *
s
, *
t
;

126 
a
;

128 
	`as£π
 (
roŸ
);

132 i‡(
roŸ
->
right
 =
NULL
)

133  (
roŸ
->
right
 = 
	`√w_ôem
 (
°r
));

136 
t
 = 
roŸ
;

137 
s
 = 
p
 = 
roŸ
->
right
;

139 
åue
)

142 
a
 = 
	`°rcmp
 (
°r
, 
p
->str);

143 i‡(
a
 == 0)

144  
p
;

147 i‡(
a
 < 0)

148 
q
 = 
p
->
À·
;

150 
q
 = 
p
->
right
;

152 i‡(
q
 =
NULL
)

155 
q
 = 
	`√w_ôem
 (
°r
);

158 i‡(
a
 < 0)

159 
p
->
À·
 = 
q
;

161 
p
->
right
 = 
q
;

164 
	`as£π
 (!
	`STREQ
 (
°r
, 
s
->str));

165 i‡(
	`°rcmp
 (
°r
, 
s
->str) < 0)

167 
r
 = 
p
 = 
s
->
À·
;

168 
a
 = -1;

172 
r
 = 
p
 = 
s
->
right
;

173 
a
 = 1;

176 
p
 !
q
)

178 
	`as£π
 (!
	`STREQ
 (
°r
, 
p
->str));

179 i‡(
	`°rcmp
 (
°r
, 
p
->str) < 0)

181 
p
->
bÆ™˚
 = -1;

182 
p
 =Ö->
À·
;

186 
p
->
bÆ™˚
 = 1;

187 
p
 =Ö->
right
;

192 i‡(
s
->
bÆ™˚
 =0 || s->bÆ™˚ =-
a
)

194 
s
->
bÆ™˚
 +
a
;

195  
q
;

198 i‡(
r
->
bÆ™˚
 =
a
)

201 
p
 = 
r
;

202 i‡(
a
 < 0)

204 
s
->
À·
 = 
r
->
right
;

205 
r
->
right
 = 
s
;

209 
s
->
right
 = 
r
->
À·
;

210 
r
->
À·
 = 
s
;

212 
s
->
bÆ™˚
 = 
r
->balance = 0;

217 i‡(
a
 < 0)

219 
p
 = 
r
->
right
;

220 
r
->
right
 = 
p
->
À·
;

221 
p
->
À·
 = 
r
;

222 
s
->
À·
 = 
p
->
right
;

223 
p
->
right
 = 
s
;

227 
p
 = 
r
->
À·
;

228 
r
->
À·
 = 
p
->
right
;

229 
p
->
right
 = 
r
;

230 
s
->
right
 = 
p
->
À·
;

231 
p
->
À·
 = 
s
;

234 
s
->
bÆ™˚
 = 0;

235 
r
->
bÆ™˚
 = 0;

236 i‡(
p
->
bÆ™˚
 =
a
)

237 
s
->
bÆ™˚
 = -
a
;

238 i‡(
p
->
bÆ™˚
 =-
a
)

239 
r
->
bÆ™˚
 = 
a
;

240 
p
->
bÆ™˚
 = 0;

244 i‡(
s
 =
t
->
right
)

245 
t
->
right
 = 
p
;

247 
t
->
À·
 = 
p
;

249  
q
;

253 i‡(
q
->
bÆ™˚
)

255 
t
 = 
p
;

256 
s
 = 
q
;

259 
p
 = 
q
;

263 
	}
}

268 
	$ªc‹d_ªœti⁄
 (
ôem
 *
j
, ôem *
k
)

270 
suc˚ss‹
 *
p
;

272 i‡(!
	`STREQ
 (
j
->
°r
, 
k
->str))

274 
k
->
cou¡
++;

275 
p
 = 
	`xmÆloc
 ( *p);

276 
p
->
suc
 = 
k
;

277 
p
->
√xt
 = 
j
->
t›
;

278 
j
->
t›
 = 
p
;

280 
	}
}

282 
boﬁ


283 
	$cou¡_ôems
 (
ôem
 *
unu£d
 
ATTRIBUTE_UNUSED
)

285 
n_°rögs
++;

286  
Ál£
;

287 
	}
}

289 
boﬁ


290 
	$sˇn_zîos
 (
ôem
 *
k
)

293 i‡(
k
->
cou¡
 =0 && k->
°r
)

295 i‡(
hód
 =
NULL
)

296 
hód
 = 
k
;

298 
zîos
->
qlök
 = 
k
;

300 
zîos
 = 
k
;

303  
Ál£
;

304 
	}
}

324 
boﬁ


325 
	$dëe˘_lo›
 (
ôem
 *
k
)

327 i‡(
k
->
cou¡
 > 0)

332 i‡(
lo›
 =
NULL
)

334 
lo›
 = 
k
;

337 
suc˚ss‹
 **
p
 = &
k
->
t›
;

339 *
p
)

341 i‡((*
p
)->
suc
 =
lo›
)

343 i‡(
k
->
qlök
)

346 
lo›
)

348 
ôem
 *
tmp
 = 
lo›
->
qlök
;

350 
	`Ârötf
 (
°dîr
, "%s: %s\n", 
¥ogøm_«me
,

351 
lo›
->
°r
);

354 i‡(
lo›
 =
k
)

357 (*
p
)->
suc
->
cou¡
--;

358 *
p
 = (*p)->
√xt
;

364 
lo›
->
qlök
 = 
NULL
;

365 
lo›
 = 
tmp
;

368 
lo›
)

370 
ôem
 *
tmp
 = 
lo›
->
qlök
;

372 
lo›
->
qlök
 = 
NULL
;

373 
lo›
 = 
tmp
;

378  
åue
;

382 
k
->
qlök
 = 
lo›
;

383 
lo›
 = 
k
;

388 
p
 = &(*p)->
√xt
;

393  
Ál£
;

394 
	}
}

399 
boﬁ


400 
ªcur£_åì
 (
ôem
 *
roŸ
, 
	$boﬁ
 (*
a˘i⁄
Ë(
ôem
 *))

402 i‡(
roŸ
->
À·
 =
NULL
 &&ÑoŸ->
right
 == NULL)

403  (*
a˘i⁄
Ë(
roŸ
);

406 i‡(
roŸ
->
À·
 !
NULL
)

407 i‡(
	`ªcur£_åì
 (
roŸ
->
À·
, 
a˘i⁄
))

408  
åue
;

409 i‡((*
a˘i⁄
Ë(
roŸ
))

410  
åue
;

411 i‡(
roŸ
->
right
 !
NULL
)

412 i‡(
	`ªcur£_åì
 (
roŸ
->
right
, 
a˘i⁄
))

413  
åue
;

416  
Ál£
;

417 
	}
}

423 
wÆk_åì
 (
ôem
 *
roŸ
, 
	$boﬁ
 (*
a˘i⁄
Ë(
ôem
 *))

425 i‡(
roŸ
->
right
)

426 
	`ªcur£_åì
 (
roŸ
->
right
, 
a˘i⁄
);

427 
	}
}

431 
boﬁ


432 
	$ts‹t
 (c⁄° *
fûe
)

434 
boﬁ
 
ok
 = 
åue
;

435 
ôem
 *
roŸ
;

436 
ôem
 *
j
 = 
NULL
;

437 
ôem
 *
k
 = 
NULL
;

438 
tokí_buf„r
 
tokíbuf„r
;

439 
boﬁ
 
is_°dö
 = 
	`STREQ
 (
fûe
, "-");

442 
roŸ
 = 
	`√w_ôem
 (
NULL
);

444 i‡(!
is_°dö
 && ! 
	`‰e›í
 (
fûe
, "r", 
°dö
))

445 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûe
);

447 
	`Ádvi£
 (
°dö
, 
FADVISE_SEQUENTIAL
);

449 
	`öô_tokíbuf„r
 (&
tokíbuf„r
);

454 
size_t
 
Àn
 = 
	`ªadtokí
 (
°dö
, 
DELIM
,  (DELIMË- 1, &
tokíbuf„r
);

455 i‡(
Àn
 =(
size_t
) -1)

458 
	`as£π
 (
Àn
 != 0);

460 
k
 = 
	`£¨ch_ôem
 (
roŸ
, 
tokíbuf„r
.
buf„r
);

461 i‡(
j
)

464 
	`ªc‹d_ªœti⁄
 (
j
, 
k
);

465 
k
 = 
NULL
;

468 
j
 = 
k
;

471 i‡(
k
 !
NULL
)

472 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("%s: input containsán oddÇumber ofÅokens"),

473 
fûe
);

476 
	`wÆk_åì
 (
roŸ
, 
cou¡_ôems
);

478 
n_°rögs
 > 0)

481 
	`wÆk_åì
 (
roŸ
, 
sˇn_zîos
);

483 
hód
)

485 
suc˚ss‹
 *
p
 = 
hód
->
t›
;

488 
	`puts
 (
hód
->
°r
);

489 #ifde‡
löt


491 *
hód_°r
 = (*Ë
hód
->
°r
;

492 
	`‰ì
 (
hód_°r
);

494 
hód
->
°r
 = 
NULL
;

495 
n_°rögs
--;

498 
p
)

500 
p
->
suc
->
cou¡
--;

501 i‡(
p
->
suc
->
cou¡
 == 0)

503 
zîos
->
qlök
 = 
p
->
suc
;

504 
zîos
 = 
p
->
suc
;

507 
p
 =Ö->
√xt
;

511 
hód
 = hód->
qlök
;

515 i‡(
n_°rögs
 > 0)

518 
	`îr‹
 (0, 0, 
	`_
("%s: i≈uàc⁄èö†®lo›:"), 
fûe
);

519 
ok
 = 
Ál£
;

523 
	`wÆk_åì
 (
roŸ
, 
dëe˘_lo›
);

524 
lo›
);

528 i‡(
	`f˛o£
 (
°dö
) != 0)

529 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s",

530 
is_°dö
 ? 
	`_
("°™d¨d i≈ut"Ë: 
	`quŸe
 (
fûe
));

532  
ok
;

533 
	}
}

536 
	$maö
 (
¨gc
, **
¨gv
)

538 
boﬁ
 
ok
;

540 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

541 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

542 
	`£éoˇÀ
 (
LC_ALL
, "");

543 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

544 
	`ãxtdomaö
 (
PACKAGE
);

546 
	`©exô
 (
˛o£_°dout
);

548 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
Vîsi⁄
,

549 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

550 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

551 
	`ußge
 (
EXIT_FAILURE
);

553 i‡(1 < 
¨gc
 - 
›töd
)

555 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

556 
	`ußge
 (
EXIT_FAILURE
);

559 
ok
 = 
	`ts‹t
 (
›töd
 =
¨gc
 ? "-" : 
¨gv
[optind]);

561 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

562 
	}
}

	@tty.c

24 
	~<c⁄fig.h
>

25 
	~<°dio.h
>

26 
	~<gë›t.h
>

27 
	~<sys/ty≥s.h
>

29 
	~"sy°em.h
"

30 
	~"îr‹.h
"

31 
	~"quŸe.h
"

36 
	mTTY_FAILURE
 = 2,

37 
	mTTY_WRITE_ERROR
 = 3

41 
	#PROGRAM_NAME
 "ây"

	)

43 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

46 
boﬁ
 
	gsûít
;

48 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

50 {"sûít", 
no_¨gumít
, 
NULL
, 's'},

51 {"quõt", 
no_¨gumít
, 
NULL
, 's'},

52 {
GETOPT_HELP_OPTION_DECL
},

53 {
GETOPT_VERSION_OPTION_DECL
},

54 {
NULL
, 0, NULL, 0}

58 
	$ußge
 (
°©us
)

60 i‡(
°©us
 !
EXIT_SUCCESS
)

61 
	`emô_åy_hñp
 ();

64 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]...\n"), 
¥ogøm_«me
);

65 
	`Âuts
 (
	`_
("\
Åhêfûê«mêo‡thêãrmöÆ c⁄√˘edÅÿ°™d¨d i≈ut.\n\
\n\
-s, --sûít, --quõàÖröànŸhög, o∆yÑëu∫á¿exô sètus\n\
"), 
°dout
);

70 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

71 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

72 
	`emô_™cûœry_öfo
 ();

74 
	`exô
 (
°©us
);

75 
	}
}

78 
	$maö
 (
¨gc
, **
¨gv
)

80 *
ây
;

81 
›tc
;

83 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

84 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

85 
	`£éoˇÀ
 (
LC_ALL
, "");

86 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

87 
	`ãxtdomaö
 (
PACKAGE
);

89 
	`öôülize_exô_Áûuª
 (
TTY_WRITE_ERROR
);

90 
	`©exô
 (
˛o£_°dout
);

92 
sûít
 = 
Ál£
;

94 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "s", 
l⁄g›ts
, 
NULL
)) != -1)

96 
›tc
)

99 
sûít
 = 
åue
;

102 
ˇ£_GETOPT_HELP_CHAR
;

104 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

107 
	`ußge
 (
TTY_FAILURE
);

111 i‡(
›töd
 < 
¨gc
)

112 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

114 
ây
 = 
	`ây«me
 (
STDIN_FILENO
);

115 i‡(!
sûít
)

117 i‡(
ây
)

118 
	`puts
 (
ây
);

120 
	`puts
 (
	`_
("notáÅty"));

123 
	`exô
 (
	`ißây
 (
STDIN_FILENO
Ë? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

124 
	}
}

	@uname-arch.c

1 
	~"u«me.h
"

2 
	gu«me_mode
 = 
UNAME_ARCH
;

	@uname-uname.c

1 
	~"u«me.h
"

2 
	gu«me_mode
 = 
UNAME_UNAME
;

	@uname.c

20 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<sys/ut¢ame.h
>

24 
	~<gë›t.h
>

26 #i‡
HAVE_SYSINFO
 && 
HAVE_SYS_SYSTEMINFO_H


27 
	~<sys/sy°emöfo.h
>

30 #i‡
HAVE_SYS_SYSCTL_H


31 #i‡
HAVE_SYS_PARAM_H


32 
	~<sys/∑øm.h
>

34 
	~<sys/sys˘l.h
>

35 #ifde‡
HW_MODEL


36 #ifde‡
HW_MACHINE_ARCH


38 
	#UNAME_HARDWARE_PLATFORM
 
HW_MODEL


	)

39 
	#UNAME_PROCESSOR
 
HW_MACHINE_ARCH


	)

42 
	#UNAME_PROCESSOR
 
HW_MODEL


	)

47 #ifde‡
__APPLE__


48 
	~<mach/machöe.h
>

49 
	~<mach-o/¨ch.h
>

52 
	~"sy°em.h
"

53 
	~"îr‹.h
"

54 
	~"quŸe.h
"

55 
	~"u«me.h
"

58 
	#PROGRAM_NAME
 (
u«me_mode
 =
UNAME_UNAME
 ? "u«me" : "¨ch")

	)

60 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

61 
	#ARCH_AUTHORS
 "David MacKízõ", "K¨ñ Zak"

	)

65 
	#PRINT_KERNEL_NAME
 1

	)

68 
	#PRINT_NODENAME
 2

	)

71 
	#PRINT_KERNEL_RELEASE
 4

	)

74 
	#PRINT_KERNEL_VERSION
 8

	)

77 
	#PRINT_MACHINE
 16

	)

80 
	#PRINT_PROCESSOR
 32

	)

83 
	#PRINT_HARDWARE_PLATFORM
 64

	)

86 
	#PRINT_OPERATING_SYSTEM
 128

	)

88 
›ti⁄
 c⁄° 
	gu«me_l⁄g_›ti⁄s
[] =

90 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

91 {"kî√l-«me", 
no_¨gumít
, 
NULL
, 's'},

92 {"sy¢ame", 
no_¨gumít
, 
NULL
, 's'},

93 {"nodíame", 
no_¨gumít
, 
NULL
, 'n'},

94 {"kî√l-ªÀa£", 
no_¨gumít
, 
NULL
, 'r'},

95 {"ªÀa£", 
no_¨gumít
, 
NULL
, 'r'},

96 {"kî√l-vîsi⁄", 
no_¨gumít
, 
NULL
, 'v'},

97 {"machöe", 
no_¨gumít
, 
NULL
, 'm'},

98 {"¥o˚ss‹", 
no_¨gumít
, 
NULL
, 'p'},

99 {"h¨dw¨e-∂©f‹m", 
no_¨gumít
, 
NULL
, 'i'},

100 {"›î©ög-sy°em", 
no_¨gumít
, 
NULL
, 'o'},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

106 
›ti⁄
 c⁄° 
	g¨ch_l⁄g_›ti⁄s
[] =

108 {
GETOPT_HELP_OPTION_DECL
},

109 {
GETOPT_VERSION_OPTION_DECL
},

110 {
NULL
, 0, NULL, 0}

114 
	$ußge
 (
°©us
)

116 i‡(
°©us
 !
EXIT_SUCCESS
)

117 
	`emô_åy_hñp
 ();

120 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]...\n"), 
¥ogøm_«me
);

122 i‡(
u«me_mode
 =
UNAME_UNAME
)

124 
	`Âuts
 (
	`_
("\
 cîèö sy°em inf‹m©i⁄. WôhÇÿOPTION, samêa†-s.\n\
\n\
-a, --Æ»ÖröàÆ»öf‹m©i⁄, i¿thêfﬁlowög ordî,\n\
 omô -∞™d -òi‡unknown:\n\
-s, --kî√l-«mêÖröàthêkî√»«me\n\
-n, --nodíamêÖröàthê√tw‹kÇodêho°«me\n\
-r, --kî√l-ªÀa£Öröàthêkî√»ªÀa£\n\
"), 
°dout
);

133 
	`Âuts
 (
	`_
("\
-v, --kî√l-vîsi⁄Öröàthêkî√»vîsi⁄\n\
-m, --machöêÖröàthêmachöêh¨dw¨ê«me\n\
-p, --¥o˚ss‹Öröàthê¥o˚ss‹Åy≥ o∏\"unknown\"\n\
-i, --h¨dw¨e-∂©f‹mÖröàthêh¨dw¨ê∂©f‹m o∏\"unknown\"\n\
-o, --›î©ög-sy°emÖröàthê›î©ög sy°em\n\
"), 
°dout
);

143 
	`Âuts
 (
	`_
("\
 machöê¨chôe˘uª.\n\
\n\
"), 
°dout
);

149 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

150 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

151 
	`emô_™cûœry_öfo
 ();

153 
	`exô
 (
°©us
);

154 
	}
}

160 
	$¥öt_ñemít
 (c⁄° *
ñemít
)

162 
boﬁ
 
¥öãd
;

163 i‡(
¥öãd
)

164 
	`putch¨
 (' ');

165 
¥öãd
 = 
åue
;

166 
	`Âuts
 (
ñemít
, 
°dout
);

167 
	}
}

174 
	$decode_swôches
 (
¨gc
, **
¨gv
)

176 
c
;

177 
t›röt
 = 0;

179 i‡(
u«me_mode
 =
UNAME_ARCH
)

181 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "",

182 
¨ch_l⁄g_›ti⁄s
, 
NULL
)) != -1)

184 
c
)

186 
ˇ£_GETOPT_HELP_CHAR
;

188 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
ARCH_AUTHORS
);

191 
	`ußge
 (
EXIT_FAILURE
);

194 
t›röt
 = 
PRINT_MACHINE
;

198 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "asnrvmpio",

199 
u«me_l⁄g_›ti⁄s
, 
NULL
)) != -1)

201 
c
)

204 
t›röt
 = 
UINT_MAX
;

208 
t›röt
 |
PRINT_KERNEL_NAME
;

212 
t›röt
 |
PRINT_NODENAME
;

216 
t›röt
 |
PRINT_KERNEL_RELEASE
;

220 
t›röt
 |
PRINT_KERNEL_VERSION
;

224 
t›röt
 |
PRINT_MACHINE
;

228 
t›röt
 |
PRINT_PROCESSOR
;

232 
t›röt
 |
PRINT_HARDWARE_PLATFORM
;

236 
t›röt
 |
PRINT_OPERATING_SYSTEM
;

239 
ˇ£_GETOPT_HELP_CHAR
;

241 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

244 
	`ußge
 (
EXIT_FAILURE
);

249 i‡(
¨gc
 !
›töd
)

251 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

252 
	`ußge
 (
EXIT_FAILURE
);

255  
t›röt
;

256 
	}
}

259 
	$maö
 (
¨gc
, **
¨gv
)

261 c⁄° 
unknown
[] = "unknown";

264 
t›röt
 = 0;

266 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

267 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

268 
	`£éoˇÀ
 (
LC_ALL
, "");

269 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

270 
	`ãxtdomaö
 (
PACKAGE
);

272 
	`©exô
 (
˛o£_°dout
);

274 
t›röt
 = 
	`decode_swôches
 (
¨gc
, 
¨gv
);

276 i‡(
t›röt
 == 0)

277 
t›röt
 = 
PRINT_KERNEL_NAME
;

279 i‡(
t›röt


280 & (
PRINT_KERNEL_NAME
 | 
PRINT_NODENAME
 | 
PRINT_KERNEL_RELEASE


281 | 
PRINT_KERNEL_VERSION
 | 
PRINT_MACHINE
))

283 
ut¢ame
 
«me
;

285 i‡(
	`u«me
 (&
«me
) == -1)

286 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot get systemÇame"));

288 i‡(
t›röt
 & 
PRINT_KERNEL_NAME
)

289 
	`¥öt_ñemít
 (
«me
.
sy¢ame
);

290 i‡(
t›röt
 & 
PRINT_NODENAME
)

291 
	`¥öt_ñemít
 (
«me
.
nodíame
);

292 i‡(
t›röt
 & 
PRINT_KERNEL_RELEASE
)

293 
	`¥öt_ñemít
 (
«me
.
ªÀa£
);

294 i‡(
t›röt
 & 
PRINT_KERNEL_VERSION
)

295 
	`¥öt_ñemít
 (
«me
.
vîsi⁄
);

296 i‡(
t›röt
 & 
PRINT_MACHINE
)

297 
	`¥öt_ñemít
 (
«me
.
machöe
);

300 i‡(
t›röt
 & 
PRINT_PROCESSOR
)

302 c⁄° *
ñemít
 = 
unknown
;

303 #i‡
HAVE_SYSINFO
 && 
deföed
 
SI_ARCHITECTURE


305 
¥o˚ss‹
[257];

306 i‡(0 <
	`sysöfo
 (
SI_ARCHITECTURE
, 
¥o˚ss‹
, Örocessor))

307 
ñemít
 = 
¥o˚ss‹
;

310 #ifde‡
UNAME_PROCESSOR


311 i‡(
ñemít
 =
unknown
)

313 
¥o˚ss‹
[257];

314 
size_t
 
s
 =  
¥o˚ss‹
;

315 
mib
[] = { 
CTL_HW
, 
UNAME_PROCESSOR
 };

316 i‡(
	`sys˘l
 (
mib
, 2, 
¥o˚ss‹
, &
s
, 0, 0) >= 0)

317 
ñemít
 = 
¥o˚ss‹
;

319 #ifde‡
__APPLE__


321 i‡(
ñemít
 =
unknown
)

323 
˝u_ty≥_t
 
˝uty≥
;

324 
size_t
 
s
 =  
˝uty≥
;

325 
NXArchInfo
 c⁄° *
ai
;

326 i‡(
	`sys˘lby«me
 ("hw.˝uty≥", &
˝uty≥
, &
s
, 
NULL
, 0) == 0

327 && (
ai
 = 
	`NXGëArchInfoFromCpuTy≥
 (
˝uty≥
,

328 
CPU_SUBTYPE_MULTIPLE
))

329 !
NULL
)

330 
ñemít
 = 
ai
->
«me
;

333 i‡(
˝uty≥
 =
CPU_TYPE_POWERPC


334 && 
	`STRNCMP_LIT
 (
ñemít
, "ppc") == 0)

335 
ñemít
 = "powerpc";

340 i‡(! (
t›röt
 =
UINT_MAX
 && 
ñemít
 =
unknown
))

341 
	`¥öt_ñemít
 (
ñemít
);

344 i‡(
t›röt
 & 
PRINT_HARDWARE_PLATFORM
)

346 c⁄° *
ñemít
 = 
unknown
;

347 #i‡
HAVE_SYSINFO
 && 
deföed
 
SI_PLATFORM


349 
h¨dw¨e_∂©f‹m
[257];

350 i‡(0 <
	`sysöfo
 (
SI_PLATFORM
,

351 
h¨dw¨e_∂©f‹m
,  hardware_platform))

352 
ñemít
 = 
h¨dw¨e_∂©f‹m
;

355 #ifde‡
UNAME_HARDWARE_PLATFORM


356 i‡(
ñemít
 =
unknown
)

358 
h¨dw¨e_∂©f‹m
[257];

359 
size_t
 
s
 =  
h¨dw¨e_∂©f‹m
;

360 
mib
[] = { 
CTL_HW
, 
UNAME_HARDWARE_PLATFORM
 };

361 i‡(
	`sys˘l
 (
mib
, 2, 
h¨dw¨e_∂©f‹m
, &
s
, 0, 0) >= 0)

362 
ñemít
 = 
h¨dw¨e_∂©f‹m
;

365 i‡(! (
t›röt
 =
UINT_MAX
 && 
ñemít
 =
unknown
))

366 
	`¥öt_ñemít
 (
ñemít
);

369 i‡(
t›röt
 & 
PRINT_OPERATING_SYSTEM
)

370 
	`¥öt_ñemít
 (
HOST_OPERATING_SYSTEM
);

372 
	`putch¨
 ('\n');

374 
	`exô
 (
EXIT_SUCCESS
);

375 
	}
}

	@uname.h

2 
	#UNAME_UNAME
 1

	)

5 
	#UNAME_ARCH
 2

	)

7 
u«me_mode
;

	@unexpand.c

36 
	~<c⁄fig.h
>

38 
	~<°dio.h
>

39 
	~<gë›t.h
>

40 
	~<sys/ty≥s.h
>

41 
	~"sy°em.h
"

42 
	~"îr‹.h
"

43 
	~"Ádvi£.h
"

44 
	~"quŸe.h
"

45 
	~"x°∫dup.h
"

48 
	#PROGRAM_NAME
 "u√x∑nd"

	)

50 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

54 
boﬁ
 
	gc⁄vît_ítúe_löe
;

57 
size_t
 
	gèb_size
;

60 
size_t
 
	gmax_cﬁumn_width
;

65 
uötmax_t
 *
	gèb_li°
;

68 
size_t
 
	gn_èbs_Æloˇãd
;

72 
size_t
 
	gfú°_‰ì_èb
;

75 **
	gfûe_li°
;

78 *
	g°dö_¨gv
[] =

80 (*Ë"-", 
NULL


84 
boﬁ
 
	ghave_ªad_°dö
;

87 
	gexô_°©us
;

93 
	mCONVERT_FIRST_ONLY_OPTION
 = 
CHAR_MAX
 + 1

96 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

98 {"èbs", 
ªquúed_¨gumít
, 
NULL
, 't'},

99 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

100 {"fú°-⁄ly", 
no_¨gumít
, 
NULL
, 
CONVERT_FIRST_ONLY_OPTION
},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

107 
	$ußge
 (
°©us
)

109 i‡(
°©us
 !
EXIT_SUCCESS
)

110 
	`emô_åy_hñp
 ();

113 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

116 
¥ogøm_«me
);

117 
	`Âuts
 (
	`_
("\
 bœnk†öÉach FILEÅÿèbs, wrôögÅÿ°™d¨d ouçut.\n\
ÇÿFILE, o∏whí FILE i†-,Ñód sènd¨d i≈ut.\n\
"), 
°dout
);

122 
	`emô_m™d©‹y_¨g_nŸe
 ();

124 
	`Âuts
 (
	`_
("\
-a, --Æ» c⁄vîàÆ»bœnks, in°ód o‡ju° inôü»bœnks\n\
--fú°-⁄ly c⁄vîà⁄lyÜódög sequí˚†o‡bœnk†(ovîride†-a)\n\
-t, --èbs=N havêèb†N ch¨a˘î†≠¨àö°ód o‡8 (íabÀ†-a)\n\
-t, --èbs=LIST u£ comm®£∑øãd LIST o‡èbÖosôi⁄†”«bÀ†-a)\n\
"), 
°dout
);

130 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

131 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

132 
	`emô_™cûœry_öfo
 ();

134 
	`exô
 (
°©us
);

135 
	}
}

140 
	$add_èb_°›
 (
uötmax_t
 
èbvÆ
)

142 
uötmax_t
 
¥ev_cﬁumn
 = 
fú°_‰ì_èb
 ? 
èb_li°
[first_free_tab - 1] : 0;

143 
uötmax_t
 
cﬁumn_width
 = 
¥ev_cﬁumn
 <
èbvÆ
 ?Åabval -Örev_column : 0;

145 i‡(
fú°_‰ì_èb
 =
n_èbs_Æloˇãd
)

146 
èb_li°
 = 
	`X2NREALLOC
 (èb_li°, &
n_èbs_Æloˇãd
);

147 
èb_li°
[
fú°_‰ì_èb
++] = 
èbvÆ
;

149 i‡(
max_cﬁumn_width
 < 
cﬁumn_width
)

151 i‡(
SIZE_MAX
 < 
cﬁumn_width
)

152 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tabsáreÅoo farápart"));

153 
max_cﬁumn_width
 = 
cﬁumn_width
;

155 
	}
}

161 
	$∑r£_èb_°›s
 (c⁄° *
°›s
)

163 
boﬁ
 
have_èbvÆ
 = 
Ál£
;

164 
uötmax_t
 
èbvÆ
 
	`IF_LINT
 ( = 0);

165 c⁄° *
num_°¨t
 
	`IF_LINT
 ( = 
NULL
);

166 
boﬁ
 
ok
 = 
åue
;

168 ; *
°›s
; stops++)

170 i‡(*
°›s
 =',' || 
	`isbœnk
 (
	`to_uch¨
 (*stops)))

172 i‡(
have_èbvÆ
)

173 
	`add_èb_°›
 (
èbvÆ
);

174 
have_èbvÆ
 = 
Ál£
;

176 i‡(
	`ISDIGIT
 (*
°›s
))

178 i‡(!
have_èbvÆ
)

180 
èbvÆ
 = 0;

181 
have_èbvÆ
 = 
åue
;

182 
num_°¨t
 = 
°›s
;

186 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
èbvÆ
, *
°›s
 - '0', 
uötmax_t
))

188 
size_t
 
Àn
 = 
	`°r•n
 (
num_°¨t
, "0123456789");

189 *
bad_num
 = 
	`x°∫dup
 (
num_°¨t
, 
Àn
);

190 
	`îr‹
 (0, 0, 
	`_
("èb st› i†toÿœrgê%s"), 
	`quŸe
 (
bad_num
));

191 
	`‰ì
 (
bad_num
);

192 
ok
 = 
Ál£
;

193 
°›s
 = 
num_°¨t
 + 
Àn
 - 1;

198 
	`îr‹
 (0, 0, 
	`_
("tab size contains invalid character(s): %s"),

199 
	`quŸe
 (
°›s
));

200 
ok
 = 
Ál£
;

205 i‡(!
ok
)

206 
	`exô
 (
EXIT_FAILURE
);

208 i‡(
have_èbvÆ
)

209 
	`add_èb_°›
 (
èbvÆ
);

210 
	}
}

216 
	$vÆid©e_èb_°›s
 (
uötmax_t
 c⁄° *
èbs
, 
size_t
 
íåõs
)

218 
uötmax_t
 
¥ev_èb
 = 0;

219 
size_t
 
i
;

221 
i
 = 0; i < 
íåõs
; i++)

223 i‡(
èbs
[
i
] == 0)

224 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tab size cannot be 0"));

225 i‡(
èbs
[
i
] <
¥ev_èb
)

226 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tab sizes must beáscending"));

227 
¥ev_èb
 = 
èbs
[
i
];

229 
	}
}

236 
FILE
 *

237 
	$√xt_fûe
 (
FILE
 *
Â
)

239 *
¥ev_fûe
;

240 *
fûe
;

242 i‡(
Â
)

244 i‡(
	`„º‹
 (
Â
))

246 
	`îr‹
 (0, 
î∫o
, "%s", 
¥ev_fûe
);

247 
exô_°©us
 = 
EXIT_FAILURE
;

249 i‡(
	`STREQ
 (
¥ev_fûe
, "-"))

250 
	`˛óªº
 (
Â
);

251 i‡(
	`f˛o£
 (
Â
) != 0)

253 
	`îr‹
 (0, 
î∫o
, "%s", 
¥ev_fûe
);

254 
exô_°©us
 = 
EXIT_FAILURE
;

258 (
fûe
 = *
fûe_li°
++Ë!
NULL
)

260 i‡(
	`STREQ
 (
fûe
, "-"))

262 
have_ªad_°dö
 = 
åue
;

263 
Â
 = 
°dö
;

266 
Â
 = 
	`f›í
 (
fûe
, "r");

267 i‡(
Â
)

269 
¥ev_fûe
 = 
fûe
;

270 
	`Ádvi£
 (
Â
, 
FADVISE_SEQUENTIAL
);

271  
Â
;

273 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

274 
exô_°©us
 = 
EXIT_FAILURE
;

276  
NULL
;

277 
	}
}

283 
	$u√x∑nd
 ()

286 
FILE
 *
Â
 = 
	`√xt_fûe
 (
NULL
);

291 *
≥ndög_bœnk
;

293 i‡(!
Â
)

299 
≥ndög_bœnk
 = 
	`xmÆloc
 (
max_cﬁumn_width
);

301 
åue
)

304 
c
;

307 
boﬁ
 
c⁄vît
 = 
åue
;

314 
uötmax_t
 
cﬁumn
 = 0;

317 
uötmax_t
 
√xt_èb_cﬁumn
 = 0;

320 
size_t
 
èb_ödex
 = 0;

323 
boﬁ
 
⁄e_bœnk_bef‹e_èb_°›
 = 
Ál£
;

328 
boﬁ
 
¥ev_bœnk
 = 
åue
;

331 
size_t
 
≥ndög
 = 0;

338 (
c
 = 
	`gëc
 (
Â
)Ë< 0 && (Â = 
	`√xt_fûe
 (fp)))

341 i‡(
c⁄vît
)

343 
boﬁ
 
bœnk
 = !! 
	`isbœnk
 (
c
);

345 i‡(
bœnk
)

347 i‡(
√xt_èb_cﬁumn
 <
cﬁumn
)

349 i‡(
èb_size
)

350 
√xt_èb_cﬁumn
 =

351 
cﬁumn
 + (
èb_size
 - column %Åab_size);

353 
åue
)

354 i‡(
èb_ödex
 =
fú°_‰ì_èb
)

356 
c⁄vît
 = 
Ál£
;

361 
uötmax_t
 
èb
 = 
èb_li°
[
èb_ödex
++];

362 i‡(
cﬁumn
 < 
èb
)

364 
√xt_èb_cﬁumn
 = 
èb
;

370 i‡(
c⁄vît
)

372 i‡(
√xt_èb_cﬁumn
 < 
cﬁumn
)

373 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("inputÜine isÅooÜong"));

375 i‡(
c
 == '\t')

377 
cﬁumn
 = 
√xt_èb_cﬁumn
;

379 i‡(
≥ndög
)

380 
≥ndög_bœnk
[0] = '\t';

384 
cﬁumn
++;

386 i‡(! (
¥ev_bœnk
 && 
cﬁumn
 =
√xt_èb_cﬁumn
))

390 i‡(
cﬁumn
 =
√xt_èb_cﬁumn
)

391 
⁄e_bœnk_bef‹e_èb_°›
 = 
åue
;

392 
≥ndög_bœnk
[
≥ndög
++] = 
c
;

393 
¥ev_bœnk
 = 
åue
;

398 
≥ndög_bœnk
[0] = 
c
 = '\t';

403 
≥ndög
 = 
⁄e_bœnk_bef‹e_èb_°›
;

406 i‡(
c
 == '\b')

410 
cﬁumn
 -= !!column;

411 
√xt_èb_cﬁumn
 = 
cﬁumn
;

412 
èb_ödex
 -= !!tab_index;

416 
cﬁumn
++;

417 i‡(!
cﬁumn
)

418 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("inputÜine isÅooÜong"));

421 i‡(
≥ndög
)

423 i‡(
≥ndög
 > 1 && 
⁄e_bœnk_bef‹e_èb_°›
)

424 
≥ndög_bœnk
[0] = '\t';

425 i‡(
	`fwrôe
 (
≥ndög_bœnk
, 1, 
≥ndög
, 
°dout
) !=Öending)

426 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

427 
≥ndög
 = 0;

428 
⁄e_bœnk_bef‹e_èb_°›
 = 
Ál£
;

431 
¥ev_bœnk
 = 
bœnk
;

432 
c⁄vît
 &
c⁄vît_ítúe_löe
 || 
bœnk
;

435 i‡(
c
 < 0)

437 
	`‰ì
 (
≥ndög_bœnk
);

441 i‡(
	`putch¨
 (
c
) < 0)

442 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("writeÉrror"));

444 
c
 != '\n');

446 
	}
}

449 
	$maö
 (
¨gc
, **
¨gv
)

451 
boﬁ
 
have_èbvÆ
 = 
Ál£
;

452 
uötmax_t
 
èbvÆ
 
	`IF_LINT
 ( = 0);

453 
c
;

457 
boﬁ
 
c⁄vît_fú°_⁄ly
 = 
Ál£
;

459 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

460 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

461 
	`£éoˇÀ
 (
LC_ALL
, "");

462 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

463 
	`ãxtdomaö
 (
PACKAGE
);

465 
	`©exô
 (
˛o£_°dout
);

467 
have_ªad_°dö
 = 
Ál£
;

468 
exô_°©us
 = 
EXIT_SUCCESS
;

469 
c⁄vît_ítúe_löe
 = 
Ál£
;

470 
èb_li°
 = 
NULL
;

471 
fú°_‰ì_èb
 = 0;

473 (
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, ",0123456789©:", 
l⁄g›ts
, 
NULL
))

476 
c
)

479 
	`ußge
 (
EXIT_FAILURE
);

481 
c⁄vît_ítúe_löe
 = 
åue
;

484 
c⁄vît_ítúe_löe
 = 
åue
;

485 
	`∑r£_èb_°›s
 (
›èrg
);

487 
CONVERT_FIRST_ONLY_OPTION
:

488 
c⁄vît_fú°_⁄ly
 = 
åue
;

491 i‡(
have_èbvÆ
)

492 
	`add_èb_°›
 (
èbvÆ
);

493 
have_èbvÆ
 = 
Ál£
;

495 
ˇ£_GETOPT_HELP_CHAR
;

496 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

498 i‡(!
have_èbvÆ
)

500 
èbvÆ
 = 0;

501 
have_èbvÆ
 = 
åue
;

503 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
èbvÆ
, 
c
 - '0', 
uötmax_t
))

504 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("tab stop value isÅooÜarge"));

509 i‡(
c⁄vît_fú°_⁄ly
)

510 
c⁄vît_ítúe_löe
 = 
Ál£
;

512 i‡(
have_èbvÆ
)

513 
	`add_èb_°›
 (
èbvÆ
);

515 
	`vÆid©e_èb_°›s
 (
èb_li°
, 
fú°_‰ì_èb
);

517 i‡(
fú°_‰ì_èb
 == 0)

518 
èb_size
 = 
max_cﬁumn_width
 = 8;

519 i‡(
fú°_‰ì_èb
 == 1)

520 
èb_size
 = 
èb_li°
[0];

522 
èb_size
 = 0;

524 
fûe_li°
 = (
›töd
 < 
¨gc
 ? &
¨gv
[›töd] : 
°dö_¨gv
);

526 
	`u√x∑nd
 ();

528 i‡(
have_ªad_°dö
 && 
	`f˛o£
 (
°dö
) != 0)

529 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

531 
	`exô
 (
exô_°©us
);

532 
	}
}

	@uniq.c

19 
	~<c⁄fig.h
>

21 
	~<gë›t.h
>

22 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

25 
	~"¨gm©ch.h
"

26 
	~"löebuf„r.h
"

27 
	~"îr‹.h
"

28 
	~"Ádvi£.h
"

29 
	~"h¨d-loˇÀ.h
"

30 
	~"posixvî.h
"

31 
	~"quŸe.h
"

32 
	~"°dio--.h
"

33 
	~"xmemcﬁl.h
"

34 
	~"x°πﬁ.h
"

35 
	~"memˇ£cmp.h
"

38 
	#PROGRAM_NAME
 "uniq"

	)

40 
	#AUTHORS
 \

41 
	`¥›î_«me
 ("Richard M. Stallman"), \

42 
	`¥›î_«me
 ("David MacKízõ")

	)

44 
	#SWAP_LINES
(
A
, 
B
) \

47 
löebuf„r
 *
_tmp
; \

48 
_tmp
 = (
A
); \

49 (
A
Ë(
B
); \

50 (
B
Ë
_tmp
; \

52 0)

	)

55 
boﬁ
 
	gh¨d_LC_COLLATE
;

58 
size_t
 
	gskù_fõlds
;

61 
size_t
 
	gskù_ch¨s
;

64 
size_t
 
	gcheck_ch¨s
;

66 
	ecou¡mode


68 
	mcou¡_occuºí˚s
,

69 
	mcou¡_n⁄e


74 
cou¡mode
 
	gcou¡mode
;

79 
boﬁ
 
	gouçut_unique
;

80 
boﬁ
 
	gouçut_fú°_ª≥©ed
;

81 
boﬁ
 
	gouçut_œãr_ª≥©ed
;

84 
boﬁ
 
	gign‹e_ˇ£
;

86 
	edñimô_mëhod


89 
	mDM_NONE
,

92 
	mDM_PREPEND
,

95 
	mDM_SEPARATE


98 c⁄° *c⁄° 
	gdñimô_mëhod_°rög
[] =

100 "n⁄e", "¥ïíd", "£∑øã", 
NULL


103 
dñimô_mëhod
 c⁄° 
	gdñimô_mëhod_m≠
[] =

105 
DM_NONE
, 
DM_PREPEND
, 
DM_SEPARATE


109 
dñimô_mëhod
 
	gdñimô_groups
;

111 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

113 {"cou¡", 
no_¨gumít
, 
NULL
, 'c'},

114 {"ª≥©ed", 
no_¨gumít
, 
NULL
, 'd'},

115 {"Æl-ª≥©ed", 
›ti⁄Æ_¨gumít
, 
NULL
, 'D'},

116 {"ign‹e-ˇ£", 
no_¨gumít
, 
NULL
, 'i'},

117 {"unique", 
no_¨gumít
, 
NULL
, 'u'},

118 {"skù-fõlds", 
ªquúed_¨gumít
, 
NULL
, 'f'},

119 {"skù-ch¨s", 
ªquúed_¨gumít
, 
NULL
, 's'},

120 {"check-ch¨s", 
ªquúed_¨gumít
, 
NULL
, 'w'},

121 {"zîo-ãrmö©ed", 
no_¨gumít
, 
NULL
, 'z'},

122 {
GETOPT_HELP_OPTION_DECL
},

123 {
GETOPT_VERSION_OPTION_DECL
},

124 {
NULL
, 0, NULL, 0}

128 
	$ußge
 (
°©us
)

130 i‡(
°©us
 !
EXIT_SUCCESS
)

131 
	`emô_åy_hñp
 ();

134 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [INPUT [OUTPUT]]\n\
"),

137 
¥ogøm_«me
);

138 
	`Âuts
 (
	`_
("\
ádja˚¡ m©chögÜöe†‰om INPUT (‹ sènd¨d i≈ut),\n\
ÅÿOUTPUT (‹ sènd¨d ouçut).\n\
\n\
Çÿ›ti⁄s, m©chögÜöe†¨êmîgedÅÿthêfú° occuºí˚.\n\
"), 
°dout
);

145 
	`emô_m™d©‹y_¨g_nŸe
 ();

147 
	`Âuts
 (
	`_
("\
-c, --cou¡ÖªfixÜöe†byÅhênumbî o‡occuºí˚s\n\
-d, --ª≥©ed o∆yÖröàdu∂iˇãÜöes\n\
"), 
°dout
);

151 
	`Âuts
 (
	`_
("\
-D, --Æl-ª≥©ed[=dñimô-mëhod]ÖröàÆ»du∂iˇãÜöes\n\
-mëhod={n⁄e(deÁu…),¥ïíd,£∑øã}\n\
 i†d⁄êwôh bœnkÜöes\n\
-f, --skù-fõlds=Návoid com∑rögÅhêfú° N fõlds\n\
-i, --ign‹e-ˇ£ ign‹êdif„ªn˚†ö ca£ whí com∑rög\n\
-s, --skù-ch¨s=Návoid com∑rögÅhêfú° N ch¨a˘îs\n\
-u, --uniquê o∆yÖröàuniquêlöes\n\
-z, --zîo-ãrmö©edÉndÜöe†wôh 0 byã,ÇŸÇewlöe\n\
"), 
°dout
);

161 
	`Âuts
 (
	`_
("\
-w, --check-ch¨s=N com∑ªÇÿm‹êth™ N ch¨a˘î†öÜöes\n\
"), 
°dout
);

164 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

165 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

166 
	`Âuts
 (
	`_
("\
\n\
 fõld i†®ru¿o‡bœnk†(usuÆly s∑˚†™d/‹ TABs),ÅhíÇ⁄-bœnk\n\
. Fõld†¨êskù≥d bef‹êch¨s.\n\
"), 
°dout
);

171 
	`Âuts
 (
	`_
("\
\n\
: 'uniq' d€†nŸ dëe˘ÑïóãdÜöe†u∆es†theyáªádja˚¡.\n\
 may w™àtÿs‹àthêöpuàfú°, o∏u£ 's‹à-u' wôhouà'uniq'.\n\
, com∑ris⁄†h⁄‹ÅhêruÀ†•ecifõd by 'LC_COLLATE'.\n\
"), 
°dout
);

177 
	`emô_™cûœry_öfo
 ();

179 
	`exô
 (
°©us
);

180 
	}
}

185 
size_t


186 
	$size_›t
 (c⁄° *
›t
, c⁄° *
msgid
)

188 
size
;

189 
	`vîify
 (
SIZE_MAX
 <
ULONG_MAX
);

191 
	`x°πoul
 (
›t
, 
NULL
, 10, &
size
, ""))

193 
LONGINT_OK
:

194 
LONGINT_OVERFLOW
:

198 
	`îr‹
 (
EXIT_FAILURE
, 0, "%s: %s", 
›t
, 
	`_
(
msgid
));

201  
	`MIN
 (
size
, 
SIZE_MAX
);

202 
	}
}

207 * 
_GL_ATTRIBUTE_PURE


208 
	$föd_fõld
 (
löebuf„r
 c⁄° *
löe
)

210 
size_t
 
cou¡
;

211 c⁄° *
Õ
 = 
löe
->
buf„r
;

212 
size_t
 
size
 = 
löe
->
Àngth
 - 1;

213 
size_t
 
i
 = 0;

215 
cou¡
 = 0; cou¡ < 
skù_fõlds
 && 
i
 < 
size
; count++)

217 
i
 < 
size
 && 
	`isbœnk
 (
	`to_uch¨
 (
Õ
[i])))

218 
i
++;

219 
i
 < 
size
 && !
	`isbœnk
 (
	`to_uch¨
 (
Õ
[i])))

220 
i
++;

223 
i
 +
	`MIN
 (
skù_ch¨s
, 
size
 - i);

225  
löe
->
buf„r
 + 
i
;

226 
	}
}

233 
boﬁ


234 
	$dif„ª¡
 (*
ﬁd
, *
√w
, 
size_t
 
ﬁdÀn
, size_à
√wÀn
)

236 i‡(
check_ch¨s
 < 
ﬁdÀn
)

237 
ﬁdÀn
 = 
check_ch¨s
;

238 i‡(
check_ch¨s
 < 
√wÀn
)

239 
√wÀn
 = 
check_ch¨s
;

241 i‡(
ign‹e_ˇ£
)

244  
ﬁdÀn
 !
√wÀn
 || 
	`memˇ£cmp
 (
ﬁd
, 
√w
, oldlen);

246 i‡(
h¨d_LC_COLLATE
)

247  
	`xmemcﬁl
 (
ﬁd
, 
ﬁdÀn
, 
√w
, 
√wÀn
) != 0;

249  
ﬁdÀn
 !
√wÀn
 || 
	`memcmp
 (
ﬁd
, 
√w
, oldlen);

250 
	}
}

259 
	$wrôñöe
 (
löebuf„r
 c⁄° *
löe
,

260 
boﬁ
 
m©ch
, 
uötmax_t
 
löecou¡
)

262 i‡(! (
löecou¡
 =0 ? 
ouçut_unique


263 : !
m©ch
 ? 
ouçut_fú°_ª≥©ed


264 : 
ouçut_œãr_ª≥©ed
))

267 i‡(
cou¡mode
 =
cou¡_occuºí˚s
)

268 
	`¥ötf
 ("%7" 
PRIuMAX
 " ", 
löecou¡
 + 1);

270 
	`fwrôe
 (
löe
->
buf„r
,  (),Üöe->
Àngth
, 
°dout
);

271 
	}
}

277 
	$check_fûe
 (c⁄° *
öfûe
, c⁄° *
outfûe
, 
dñimôî
)

279 
löebuf„r
 
lb1
, 
lb2
;

280 
löebuf„r
 *
thi¶öe
, *
¥evlöe
;

282 i‡(! (
	`STREQ
 (
öfûe
, "-"Ë|| 
	`‰e›í
 (öfûe, "r", 
°dö
)))

283 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
öfûe
);

284 i‡(! (
	`STREQ
 (
outfûe
, "-"Ë|| 
	`‰e›í
 (outfûe, "w", 
°dout
)))

285 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
outfûe
);

287 
	`Ádvi£
 (
°dö
, 
FADVISE_SEQUENTIAL
);

289 
thi¶öe
 = &
lb1
;

290 
¥evlöe
 = &
lb2
;

292 
	`öôbuf„r
 (
thi¶öe
);

293 
	`öôbuf„r
 (
¥evlöe
);

302 i‡(
ouçut_unique
 && 
ouçut_fú°_ª≥©ed
 && 
cou¡mode
 =
cou¡_n⁄e
)

304 *
¥evfõld
 
	`IF_LINT
 ( = 
NULL
);

305 
size_t
 
¥evÀn
 
	`IF_LINT
 ( = 0);

307 !
	`„of
 (
°dö
))

309 *
thisfõld
;

310 
size_t
 
thi¶í
;

311 i‡(
	`ªadlöebuf„r_dñim
 (
thi¶öe
, 
°dö
, 
dñimôî
) == 0)

313 
thisfõld
 = 
	`föd_fõld
 (
thi¶öe
);

314 
thi¶í
 = 
thi¶öe
->
Àngth
 - 1 - (
thisfõld
 -Åhi¶öe->
buf„r
);

315 i‡(
¥evlöe
->
Àngth
 == 0

316 || 
	`dif„ª¡
 (
thisfõld
, 
¥evfõld
, 
thi¶í
, 
¥evÀn
))

318 
	`fwrôe
 (
thi¶öe
->
buf„r
,  (),

319 
thi¶öe
->
Àngth
, 
°dout
);

321 
	`SWAP_LINES
 (
¥evlöe
, 
thi¶öe
);

322 
¥evfõld
 = 
thisfõld
;

323 
¥evÀn
 = 
thi¶í
;

329 *
¥evfõld
;

330 
size_t
 
¥evÀn
;

331 
uötmax_t
 
m©ch_cou¡
 = 0;

332 
boﬁ
 
fú°_dñimôî
 = 
åue
;

334 i‡(
	`ªadlöebuf„r_dñim
 (
¥evlöe
, 
°dö
, 
dñimôî
) == 0)

335 
˛o£fûes
;

336 
¥evfõld
 = 
	`föd_fõld
 (
¥evlöe
);

337 
¥evÀn
 = 
¥evlöe
->
Àngth
 - 1 - (
¥evfõld
 -Öªvlöe->
buf„r
);

339 !
	`„of
 (
°dö
))

341 
boﬁ
 
m©ch
;

342 *
thisfõld
;

343 
size_t
 
thi¶í
;

344 i‡(
	`ªadlöebuf„r_dñim
 (
thi¶öe
, 
°dö
, 
dñimôî
) == 0)

346 i‡(
	`„º‹
 (
°dö
))

347 
˛o£fûes
;

350 
thisfõld
 = 
	`föd_fõld
 (
thi¶öe
);

351 
thi¶í
 = 
thi¶öe
->
Àngth
 - 1 - (
thisfõld
 -Åhi¶öe->
buf„r
);

352 
m©ch
 = !
	`dif„ª¡
 (
thisfõld
, 
¥evfõld
, 
thi¶í
, 
¥evÀn
);

353 
m©ch_cou¡
 +
m©ch
;

355 i‡(
m©ch_cou¡
 =
UINTMAX_MAX
)

357 i‡(
cou¡_occuºí˚s
)

358 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("too manyÑepeatedÜines"));

359 
m©ch_cou¡
--;

362 i‡(
dñimô_groups
 !
DM_NONE
)

364 i‡(!
m©ch
)

366 i‡(
m©ch_cou¡
)

367 
fú°_dñimôî
 = 
Ál£
;

369 i‡(
m©ch_cou¡
 == 1)

371 i‡((
dñimô_groups
 =
DM_PREPEND
)

372 || (
dñimô_groups
 =
DM_SEPARATE


373 && !
fú°_dñimôî
))

374 
	`putch¨
 (
dñimôî
);

378 i‡(!
m©ch
 || 
ouçut_œãr_ª≥©ed
)

380 
	`wrôñöe
 (
¥evlöe
, 
m©ch
, 
m©ch_cou¡
);

381 
	`SWAP_LINES
 (
¥evlöe
, 
thi¶öe
);

382 
¥evfõld
 = 
thisfõld
;

383 
¥evÀn
 = 
thi¶í
;

384 i‡(!
m©ch
)

385 
m©ch_cou¡
 = 0;

389 
	`wrôñöe
 (
¥evlöe
, 
Ál£
, 
m©ch_cou¡
);

392 
˛o£fûes
:

393 i‡(
	`„º‹
 (
°dö
Ë|| 
	`f˛o£
 (stdin) != 0)

394 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("îr‹Ñódög %s"), 
öfûe
);

398 
	`‰ì
 (
lb1
.
buf„r
);

399 
	`‰ì
 (
lb2
.
buf„r
);

400 
	}
}

402 
	eSkù_fõld_›ti⁄_ty≥


404 
	mSFO_NONE
,

405 
	mSFO_OBSOLETE
,

406 
	mSFO_NEW


410 
	$maö
 (
¨gc
, **
¨gv
)

412 
›tc
 = 0;

413 
boﬁ
 
posixly_c‹ª˘
 = (
	`gëív
 ("POSIXLY_CORRECT"Ë!
NULL
);

414 
Skù_fõld_›ti⁄_ty≥
 
skù_fõld_›ti⁄_ty≥
 = 
SFO_NONE
;

415 
nfûes
 = 0;

416 c⁄° *
fûe
[2];

417 
dñimôî
 = '\n';

419 
fûe
[0] = file[1] = "-";

420 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

421 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

422 
	`£éoˇÀ
 (
LC_ALL
, "");

423 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

424 
	`ãxtdomaö
 (
PACKAGE
);

425 
h¨d_LC_COLLATE
 = 
	`h¨d_loˇÀ
 (
LC_COLLATE
);

427 
	`©exô
 (
˛o£_°dout
);

429 
skù_ch¨s
 = 0;

430 
skù_fõlds
 = 0;

431 
check_ch¨s
 = 
SIZE_MAX
;

432 
ouçut_unique
 = 
ouçut_fú°_ª≥©ed
 = 
åue
;

433 
ouçut_œãr_ª≥©ed
 = 
Ál£
;

434 
cou¡mode
 = 
cou¡_n⁄e
;

435 
dñimô_groups
 = 
DM_NONE
;

437 
åue
)

443 i‡(
›tc
 == -1

444 || (
posixly_c‹ª˘
 && 
nfûes
 != 0)

445 || ((
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
,

446 "-0123456789Dcdf:is:uw:z", 
l⁄g›ts
, 
NULL
))

449 i‡(
¨gc
 <
›töd
)

451 i‡(
nfûes
 == 2)

453 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

454 
	`ußge
 (
EXIT_FAILURE
);

456 
fûe
[
nfûes
++] = 
¨gv
[
›töd
++];

458 
›tc
)

462 
size
;

463 i‡(
›èrg
[0] == '+'

464 && 
	`posix2_vîsi⁄
 () < 200112

465 && 
	`x°πoul
 (
›èrg
, 
NULL
, 10, &
size
, ""Ë=
LONGINT_OK


466 && 
size
 <
SIZE_MAX
)

467 
skù_ch¨s
 = 
size
;

468 i‡(
nfûes
 == 2)

470 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
›èrg
));

471 
	`ußge
 (
EXIT_FAILURE
);

474 
fûe
[
nfûes
++] = 
›èrg
;

489 i‡(
skù_fõld_›ti⁄_ty≥
 =
SFO_NEW
)

490 
skù_fõlds
 = 0;

492 i‡(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
skù_fõlds
, 
›tc
 - '0', 
size_t
))

493 
skù_fõlds
 = 
SIZE_MAX
;

495 
skù_fõld_›ti⁄_ty≥
 = 
SFO_OBSOLETE
;

500 
cou¡mode
 = 
cou¡_occuºí˚s
;

504 
ouçut_unique
 = 
Ál£
;

508 
ouçut_unique
 = 
Ál£
;

509 
ouçut_œãr_ª≥©ed
 = 
åue
;

510 i‡(
›èrg
 =
NULL
)

511 
dñimô_groups
 = 
DM_NONE
;

513 
dñimô_groups
 = 
	`XARGMATCH
 ("--Æl-ª≥©ed", 
›èrg
,

514 
dñimô_mëhod_°rög
,

515 
dñimô_mëhod_m≠
);

519 
skù_fõld_›ti⁄_ty≥
 = 
SFO_NEW
;

520 
skù_fõlds
 = 
	`size_›t
 (
›èrg
,

521 
	`N_
("invalidÇumber of fieldsÅo skip"));

525 
ign‹e_ˇ£
 = 
åue
;

529 
skù_ch¨s
 = 
	`size_›t
 (
›èrg
,

530 
	`N_
("invalidÇumber of bytesÅo skip"));

534 
ouçut_fú°_ª≥©ed
 = 
Ál£
;

538 
check_ch¨s
 = 
	`size_›t
 (
›èrg
,

539 
	`N_
("invalidÇumber of bytesÅo compare"));

543 
dñimôî
 = '\0';

546 
ˇ£_GETOPT_HELP_CHAR
;

548 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

551 
	`ußge
 (
EXIT_FAILURE
);

555 i‡(
cou¡mode
 =
cou¡_occuºí˚s
 && 
ouçut_œãr_ª≥©ed
)

557 
	`îr‹
 (0, 0,

558 
	`_
("printingáll duplicatedÜinesándÑepeat counts is meaningless"));

559 
	`ußge
 (
EXIT_FAILURE
);

562 
	`check_fûe
 (
fûe
[0], fûe[1], 
dñimôî
);

564 
	`exô
 (
EXIT_SUCCESS
);

565 
	}
}

	@unlink.c

23 
	~<c⁄fig.h
>

24 
	~<°dio.h
>

25 
	~<gë›t.h
>

26 
	~<sys/ty≥s.h
>

28 
	~"sy°em.h
"

29 
	~"îr‹.h
"

30 
	~"l⁄g-›ti⁄s.h
"

31 
	~"quŸe.h
"

34 
	#PROGRAM_NAME
 "u∆ök"

	)

36 
	#AUTHORS
 
	`¥›î_«me
 ("Mich´»St⁄e")

	)

39 
	$ußge
 (
°©us
)

41 i‡(
°©us
 !
EXIT_SUCCESS
)

42 
	`emô_åy_hñp
 ();

45 
	`¥ötf
 (
	`_
("\
: %†FILE\n\
: %†OPTION\n"), 
¥ogøm_«me
,Örogram_name);

48 
	`Âuts
 (
	`_
("CallÅhe unlink functionÅoÑemoveÅhe specified FILE.\n\n"),

49 
°dout
);

50 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

51 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

52 
	`emô_™cûœry_öfo
 ();

54 
	`exô
 (
°©us
);

55 
	}
}

58 
	$maö
 (
¨gc
, **
¨gv
)

60 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

61 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

62 
	`£éoˇÀ
 (
LC_ALL
, "");

63 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

64 
	`ãxtdomaö
 (
PACKAGE
);

66 
	`©exô
 (
˛o£_°dout
);

68 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

69 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

70 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

71 
	`ußge
 (
EXIT_FAILURE
);

73 i‡(
¨gc
 < 
›töd
 + 1)

75 
	`îr‹
 (0, 0, 
	`_
("missing operand"));

76 
	`ußge
 (
EXIT_FAILURE
);

79 i‡(
›töd
 + 1 < 
¨gc
)

81 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

82 
	`ußge
 (
EXIT_FAILURE
);

85 i‡(
	`u∆ök
 (
¨gv
[
›töd
]) != 0)

86 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("ˇ¬Ÿ u∆ök %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

88 
	`exô
 (
EXIT_SUCCESS
);

89 
	}
}

	@uptime.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

26 #i‡
HAVE_SYSCTL
 && 
HAVE_SYS_SYSCTL_H


27 
	~<sys/sys˘l.h
>

30 #i‡
HAVE_OS_H


31 
	~<OS.h
>

34 
	~"c-°πod.h
"

35 
	~"îr‹.h
"

36 
	~"l⁄g-›ti⁄s.h
"

37 
	~"quŸe.h
"

38 
	~"ªadutmp.h
"

39 
	~"Âröt·ime.h
"

42 
	#PROGRAM_NAME
 "u±ime"

	)

44 
	#AUTHORS
 \

45 
	`¥›î_«me
 ("Joseph Arceneaux"), \

46 
	`¥›î_«me
 ("David MacKenzie"), \

47 
	`¥›î_«me
 ("Kaveh Ghazi")

	)

50 
	$¥öt_u±ime
 (
size_t
 
n
, c⁄° 
STRUCT_UTMP
 *
this
)

52 
size_t
 
íåõs
 = 0;

53 
time_t
 
boŸ_time
 = 0;

54 
time_t
 
time_now
;

55 
time_t
 
u±ime
 = 0;

56 
updays
;

57 
uphours
;

58 
upmös
;

59 
tm
 *
tmn
;

60 
avg
[3];

61 
lﬂds
;

62 #ifde‡
HAVE_PROC_UPTIME


63 
FILE
 *
Â
;

65 
Â
 = 
	`f›í
 ("/proc/uptime", "r");

66 i‡(
Â
 !
NULL
)

68 
buf
[
BUFSIZ
];

69 *
b
 = 
	`fgës
 (
buf
, 
BUFSIZ
, 
Â
);

70 i‡(
b
 =
buf
)

72 *
íd_±r
;

73 
up£cs
 = 
	`c_°πod
 (
buf
, &
íd_±r
);

74 i‡(
buf
 !
íd_±r
)

75 
u±ime
 = (0 <
up£cs
 && up£c†< 
	`TYPE_MAXIMUM
 (
time_t
)

76 ? 
up£cs
 : -1);

79 
	`f˛o£
 (
Â
);

83 #i‡
HAVE_SYSCTL
 && 
deföed
 
CTL_KERN
 && deföed 
KERN_BOOTTIME


86 
ªque°
[2] = { 
CTL_KERN
, 
KERN_BOOTTIME
 };

87 
timevÆ
 
ªsu…
;

88 
size_t
 
ªsu…_Àn
 =  
ªsu…
;

90 i‡(
	`sys˘l
 (
ªque°
, 2, &
ªsu…
, &
ªsu…_Àn
, 
NULL
, 0) >= 0)

91 
boŸ_time
 = 
ªsu…
.
tv_£c
;

95 #i‡
HAVE_OS_H


97 
sy°em_öfo
 
si
;

99 
	`gë_sy°em_öfo
 (&
si
);

100 
boŸ_time
 = 
si
.boot_time / 1000000;

104 #i‡
HAVE_UTMPX_H
 || 
HAVE_UTMP_H


107 
n
--)

109 
íåõs
 +
	`IS_USER_PROCESS
 (
this
);

110 i‡(
	`UT_TYPE_BOOT_TIME
 (
this
))

111 
boŸ_time
 = 
	`UT_TIME_MEMBER
 (
this
);

112 ++
this
;

115 (Ë
n
;

116 (Ë
this
;

119 
time_now
 = 
	`time
 (
NULL
);

120 #i‡
deföed
 
HAVE_PROC_UPTIME


121 i‡(
u±ime
 == 0)

124 i‡(
boŸ_time
 == 0)

125 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("couldn't get bootÅime"));

126 
u±ime
 = 
time_now
 - 
boŸ_time
;

128 
updays
 = 
u±ime
 / 86400;

129 
uphours
 = (
u±ime
 - (
updays
 * 86400)) / 3600;

130 
upmös
 = (
u±ime
 - (
updays
 * 86400Ë- (
uphours
 * 3600)) / 60;

131 
tmn
 = 
	`loˇ…ime
 (&
time_now
);

134 i‡(
tmn
)

136 
	`Âröt·ime
 (
°dout
, 
	`_
(" %H:%M%P "), 
tmn
, 0, 0);

138 
	`¥ötf
 (
	`_
(" ??:???? "));

139 i‡(
u±ime
 =(
time_t
) -1)

140 
	`¥ötf
 (
	`_
("up ???? days ??:??, "));

143 i‡(0 < 
updays
)

144 
	`¥ötf
 (
	`ngëãxt
 ("up %ld day %2d:%02d, ",

146 
	`£À˘_∂uøl
 (
updays
)),

147 
updays
, 
uphours
, 
upmös
);

149 
	`¥ötf
 (
	`_
("u∞ %2d:%02d, "), 
uphours
, 
upmös
);

151 
	`¥ötf
 (
	`ngëãxt
 ("%lu u£r", "%lu u£rs", 
	`£À˘_∂uøl
 (
íåõs
)),

152 (Ë
íåõs
);

154 
lﬂds
 = 
	`gëlﬂdavg
 (
avg
, 3);

156 i‡(
lﬂds
 == -1)

157 
	`putch¨
 ('\n');

160 i‡(
lﬂds
 > 0)

161 
	`¥ötf
 (
	`_
(",Üﬂdávîage: %.2f"), 
avg
[0]);

162 i‡(
lﬂds
 > 1)

163 
	`¥ötf
 (", %.2f", 
avg
[1]);

164 i‡(
lﬂds
 > 2)

165 
	`¥ötf
 (", %.2f", 
avg
[2]);

166 i‡(
lﬂds
 > 0)

167 
	`putch¨
 ('\n');

169 
	}
}

176 
	$u±ime
 (c⁄° *
fûíame
, 
›ti⁄s
)

178 
size_t
 
n_u£rs
;

179 
STRUCT_UTMP
 *
utmp_buf
;

181 #i‡
HAVE_UTMPX_H
 || 
HAVE_UTMP_H


182 i‡(
	`ªad_utmp
 (
fûíame
, &
n_u£rs
, &
utmp_buf
, 
›ti⁄s
) != 0)

183 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûíame
);

186 
	`¥öt_u±ime
 (
n_u£rs
, 
utmp_buf
);

187 
	}
}

190 
	$ußge
 (
°©us
)

192 i‡(
°©us
 !
EXIT_SUCCESS
)

193 
	`emô_åy_hñp
 ();

196 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]\n"), 
¥ogøm_«me
);

197 
	`¥ötf
 (
	`_
("\
Åhe currentÅime,ÅheÜength ofÅimeÅhe system has been up,\n\
Çumber of users onÅhe system,ándÅheáverageÇumber of jobs\n\
ÅheÑun queue overÅheÜast 1, 5ánd 15 minutes."));

201 #ifde‡
__löux__


206 
	`¥ötf
 (
	`_
(" \
 in\n\
 uninterruptible sleep stateálso contributeÅoÅheÜoadáverage.\n"));

210 
	`¥ötf
 (
	`_
("\n"));

212 
	`¥ötf
 (
	`_
("\
 FILE isÇot specified, use %s. %sás FILE is common.\n\
\n"),

215 
UTMP_FILE
, 
WTMP_FILE
);

216 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

217 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

218 
	`emô_™cûœry_öfo
 ();

220 
	`exô
 (
°©us
);

221 
	}
}

224 
	$maö
 (
¨gc
, **
¨gv
)

226 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

227 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

228 
	`£éoˇÀ
 (
LC_ALL
, "");

229 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

230 
	`ãxtdomaö
 (
PACKAGE
);

232 
	`©exô
 (
˛o£_°dout
);

234 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

235 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

236 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

237 
	`ußge
 (
EXIT_FAILURE
);

239 
¨gc
 - 
›töd
)

242 
	`u±ime
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

246 
	`u±ime
 (
¨gv
[
›töd
], 0);

250 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

251 
	`ußge
 (
EXIT_FAILURE
);

254 
	`exô
 (
EXIT_SUCCESS
);

255 
	}
}

	@users.c

19 
	~<c⁄fig.h
>

20 
	~<gë›t.h
>

21 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"l⁄g-›ti⁄s.h
"

28 
	~"quŸe.h
"

29 
	~"ªadutmp.h
"

32 
	#PROGRAM_NAME
 "u£rs"

	)

34 
	#AUTHORS
 \

35 
	`¥›î_«me
 ("Joseph Arceneaux"), \

36 
	`¥›î_«me
 ("David MacKízõ")

	)

39 
	$u£rid_com∑ª
 (c⁄° *
v_a
, c⁄° *
v_b
)

41 **
a
 = (**Ë
v_a
;

42 **
b
 = (**Ë
v_b
;

43  
	`°rcmp
 (*
a
, *
b
);

44 
	}
}

47 
	$li°_íåõs_u£rs
 (
size_t
 
n
, c⁄° 
STRUCT_UTMP
 *
this
)

49 **
u
 = 
	`xnmÆloc
 (
n
,  *u);

50 
size_t
 
i
;

51 
size_t
 
n_íåõs
 = 0;

53 
n
--)

55 i‡(
	`IS_USER_PROCESS
 (
this
))

57 *
åimmed_«me
;

59 
åimmed_«me
 = 
	`exåa˘_åimmed_«me
 (
this
);

61 
u
[
n_íåõs
] = 
åimmed_«me
;

62 ++
n_íåõs
;

64 
this
++;

67 
	`qs‹t
 (
u
, 
n_íåõs
,  (u[0]), 
u£rid_com∑ª
);

69 
i
 = 0; i < 
n_íåõs
; i++)

71 
c
 = (
i
 < 
n_íåõs
 - 1 ? ' ' : '\n');

72 
	`Âuts
 (
u
[
i
], 
°dout
);

73 
	`putch¨
 (
c
);

76 
i
 = 0; i < 
n_íåõs
; i++)

77 
	`‰ì
 (
u
[
i
]);

78 
	`‰ì
 (
u
);

79 
	}
}

85 
	$u£rs
 (c⁄° *
fûíame
, 
›ti⁄s
)

87 
size_t
 
n_u£rs
;

88 
STRUCT_UTMP
 *
utmp_buf
;

90 i‡(
	`ªad_utmp
 (
fûíame
, &
n_u£rs
, &
utmp_buf
, 
›ti⁄s
) != 0)

91 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûíame
);

93 
	`li°_íåõs_u£rs
 (
n_u£rs
, 
utmp_buf
);

95 
	`‰ì
 (
utmp_buf
);

96 
	}
}

99 
	$ußge
 (
°©us
)

101 i‡(
°©us
 !
EXIT_SUCCESS
)

102 
	`emô_åy_hñp
 ();

105 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [FILE]\n"), 
¥ogøm_«me
);

106 
	`¥ötf
 (
	`_
("\
 who is currentlyÜogged ináccordingÅo FILE.\n\
 FILE isÇot specified, use %s. %sás FILE is common.\n\
\n\
"),

111 
UTMP_FILE
, 
WTMP_FILE
);

112 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

113 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

114 
	`emô_™cûœry_öfo
 ();

116 
	`exô
 (
°©us
);

117 
	}
}

120 
	$maö
 (
¨gc
, **
¨gv
)

122 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

123 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

124 
	`£éoˇÀ
 (
LC_ALL
, "");

125 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

126 
	`ãxtdomaö
 (
PACKAGE
);

128 
	`©exô
 (
˛o£_°dout
);

130 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

131 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

132 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

133 
	`ußge
 (
EXIT_FAILURE
);

135 
¨gc
 - 
›töd
)

138 
	`u£rs
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

142 
	`u£rs
 (
¨gv
[
›töd
], 0);

146 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 1]));

147 
	`ußge
 (
EXIT_FAILURE
);

150 
	`exô
 (
EXIT_SUCCESS
);

151 
	}
}

	@wc.c

20 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<as£π.h
>

24 
	~<gë›t.h
>

25 
	~<sys/ty≥s.h
>

26 
	~<wch¨.h
>

27 
	~<w˘y≥.h
>

29 
	~"sy°em.h
"

30 
	~"¨gv-ôî.h
"

31 
	~"îr‹.h
"

32 
	~"Ádvi£.h
"

33 
	~"mbch¨.h
"

34 
	~"physmem.h
"

35 
	~"quŸe.h
"

36 
	~"quŸórg.h
"

37 
	~"ªadtokís0.h
"

38 
	~"ß„-ªad.h
"

39 
	~"x‰e›í.h
"

41 #i‡!
deföed
 
isw•a˚
 && !
HAVE_ISWSPACE


42 
	#isw•a˚
(
wc
) \

43 ((
wc
Ë=
	`to_uch¨
 (wcË&& 
	`is•a˚
 (to_uch¨ (wc)))

	)

47 
	#PROGRAM_NAME
 "wc"

	)

49 
	#AUTHORS
 \

50 
	`¥›î_«me
 ("Paul Rubin"), \

51 
	`¥›î_«me
 ("David MacKízõ")

	)

54 
	#BUFFER_SIZE
 (16 * 1024)

	)

58 
uötmax_t
 
	gtŸÆ_löes
;

59 
uötmax_t
 
	gtŸÆ_w‹ds
;

60 
uötmax_t
 
	gtŸÆ_ch¨s
;

61 
uötmax_t
 
	gtŸÆ_byãs
;

62 
uötmax_t
 
	gmax_löe_Àngth
;

65 
boﬁ
 
	g¥öt_löes
, 
	g¥öt_w‹ds
, 
	g¥öt_ch¨s
, 
	g¥öt_byãs
;

66 
boﬁ
 
	g¥öt_löñígth
;

69 
	gnumbî_width
;

72 
boﬁ
 
	ghave_ªad_°dö
;

75 
	sf°©us


79 
	mÁûed
;

82 
°©
 
	m°
;

89 
	mFILES0_FROM_OPTION
 = 
CHAR_MAX
 + 1

92 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

94 {"byãs", 
no_¨gumít
, 
NULL
, 'c'},

95 {"ch¨s", 
no_¨gumít
, 
NULL
, 'm'},

96 {"löes", 
no_¨gumít
, 
NULL
, 'l'},

97 {"w‹ds", 
no_¨gumít
, 
NULL
, 'w'},

98 {"fûes0-‰om", 
ªquúed_¨gumít
, 
NULL
, 
FILES0_FROM_OPTION
},

99 {"max-löe-Àngth", 
no_¨gumít
, 
NULL
, 'L'},

100 {
GETOPT_HELP_OPTION_DECL
},

101 {
GETOPT_VERSION_OPTION_DECL
},

102 {
NULL
, 0, NULL, 0}

106 
	$ußge
 (
°©us
)

108 i‡(
°©us
 !
EXIT_SUCCESS
)

109 
	`emô_åy_hñp
 ();

112 
	`¥ötf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [OPTION]... --files0-from=F\n\
"),

116 
¥ogøm_«me
,Örogram_name);

117 
	`Âuts
 (
	`_
("\
Çewlöe, w‹d,ánd byã cou¡†f‹Éach FILE,ándáÅŸÆÜöêif\n\
Åh™ o√ FILE i†•ecifõd. WôhÇÿFILE, o∏whí FILE i†-,\n\
 sènd¨d i≈ut. A w‹d i†®n⁄-zîo-Àngth sequí˚ o‡ch¨a˘îs\n\
 by whôê•a˚.\n\
 o±i⁄†bñow may bêu£dÅÿ£À˘ which cou¡†¨ê¥öãd,álway†ö\n\
 fﬁlowög ordî:Çewlöe, w‹d, ch¨a˘î, byã, maximumÜöêÀngth.\n\
-c, --byã†Öröàthêbyã cou¡s\n\
-m, --ch¨†Öröàthêch¨a˘î cou¡s\n\
-l, --löe†Öröàthê√wlöêcou¡s\n\
"), 
°dout
);

128 
	`Âuts
 (
	`_
("\
--fûes0-‰om=FÑód i≈uà‰omÅhêfûe†•ecifõd by\n\
-ãrmö©edÇame†ö fûêF;\n\
 F i†-ÅhíÑódÇame†‰om sènd¨d i≈ut\n\
-L, --max-löe-ÀngthÖröàthêÀngth o‡thêl⁄ge°Üöe\n\
-w, --w‹d†Öröàthêw‹d cou¡s\n\
"), 
°dout
);

135 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

136 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

137 
	`emô_™cûœry_öfo
 ();

139 
	`exô
 (
°©us
);

140 
	}
}

145 
	$wrôe_cou¡s
 (
uötmax_t
 
löes
,

146 
uötmax_t
 
w‹ds
,

147 
uötmax_t
 
ch¨s
,

148 
uötmax_t
 
byãs
,

149 
uötmax_t
 
löñígth
,

150 c⁄° *
fûe
)

152 c⁄° 
f‹m©_•_öt
[] = " %*s";

153 c⁄° *
f‹m©_öt
 = 
f‹m©_•_öt
 + 1;

154 
buf
[
	`INT_BUFSIZE_BOUND
 (
uötmax_t
)];

156 i‡(
¥öt_löes
)

158 
	`¥ötf
 (
f‹m©_öt
, 
numbî_width
, 
	`umaxto°r
 (
löes
, 
buf
));

159 
f‹m©_öt
 = 
f‹m©_•_öt
;

161 i‡(
¥öt_w‹ds
)

163 
	`¥ötf
 (
f‹m©_öt
, 
numbî_width
, 
	`umaxto°r
 (
w‹ds
, 
buf
));

164 
f‹m©_öt
 = 
f‹m©_•_öt
;

166 i‡(
¥öt_ch¨s
)

168 
	`¥ötf
 (
f‹m©_öt
, 
numbî_width
, 
	`umaxto°r
 (
ch¨s
, 
buf
));

169 
f‹m©_öt
 = 
f‹m©_•_öt
;

171 i‡(
¥öt_byãs
)

173 
	`¥ötf
 (
f‹m©_öt
, 
numbî_width
, 
	`umaxto°r
 (
byãs
, 
buf
));

174 
f‹m©_öt
 = 
f‹m©_•_öt
;

176 i‡(
¥öt_löñígth
)

178 
	`¥ötf
 (
f‹m©_öt
, 
numbî_width
, 
	`umaxto°r
 (
löñígth
, 
buf
));

180 i‡(
fûe
)

181 
	`¥ötf
 (" %s", 
fûe
);

182 
	`putch¨
 ('\n');

183 
	}
}

188 
boﬁ


189 
	$wc
 (
fd
, c⁄° *
fûe_x
, 
f°©us
 *fstatus)

191 
boﬁ
 
ok
 = 
åue
;

192 
buf
[
BUFFER_SIZE
 + 1];

193 
size_t
 
byãs_ªad
;

194 
uötmax_t
 
löes
, 
w‹ds
, 
ch¨s
, 
byãs
, 
löñígth
;

195 
boﬁ
 
cou¡_byãs
, 
cou¡_ch¨s
, 
cou¡_com∂iˇãd
;

196 c⁄° *
fûe
 = 
fûe_x
 ? fûe_x : 
	`_
("standard input");

198 
löes
 = 
w‹ds
 = 
ch¨s
 = 
byãs
 = 
löñígth
 = 0;

202 #i‡
MB_LEN_MAX
 > 1

203 i‡(
MB_CUR_MAX
 > 1)

205 
cou¡_byãs
 = 
¥öt_byãs
;

206 
cou¡_ch¨s
 = 
¥öt_ch¨s
;

211 
cou¡_byãs
 = 
¥öt_byãs
 || 
¥öt_ch¨s
;

212 
cou¡_ch¨s
 = 
Ál£
;

214 
cou¡_com∂iˇãd
 = 
¥öt_w‹ds
 || 
¥öt_löñígth
;

217 i‡(!
cou¡_byãs
 || 
cou¡_ch¨s
 || 
¥öt_löes
 || 
cou¡_com∂iˇãd
)

218 
	`fdadvi£
 (
fd
, 0, 0, 
FADVISE_SEQUENTIAL
);

230 i‡(
cou¡_byãs
 && !
cou¡_ch¨s
 && !
¥öt_löes
 && !
cou¡_com∂iˇãd
)

232 
off_t
 
cuºít_pos
, 
íd_pos
;

234 i‡(0 < 
f°©us
->
Áûed
)

235 
f°©us
->
Áûed
 = 
	`f°©
 (
fd
, &f°©us->
°
);

237 i‡(! 
f°©us
->
Áûed
 && 
	`S_ISREG
 (f°©us->
°
.
°_mode
)

238 && (
cuºít_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) != -1

239 && (
íd_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)) != -1)

243 
byãs
 = 
íd_pos
 < 
cuºít_pos
 ? 0 :Énd_pos - current_pos;

247 
	`fdadvi£
 (
fd
, 0, 0, 
FADVISE_SEQUENTIAL
);

248 (
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

250 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

252 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

253 
ok
 = 
Ál£
;

256 
byãs
 +
byãs_ªad
;

260 i‡(!
cou¡_ch¨s
 && !
cou¡_com∂iˇãd
)

264 (
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

266 *
p
 = 
buf
;

268 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

270 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

271 
ok
 = 
Ál£
;

275 (
p
 = 
	`memchr
 (p, '\n', (
buf
 + 
byãs_ªad
) -Ö)))

277 ++
p
;

278 ++
löes
;

280 
byãs
 +
byãs_ªad
;

283 #i‡
MB_LEN_MAX
 > 1

284 
	#SUPPORT_OLD_MBRTOWC
 1

	)

285 i‡(
MB_CUR_MAX
 > 1)

287 
boﬁ
 
ö_w‹d
 = 
Ál£
;

288 
uötmax_t
 
löïos
 = 0;

289 
mb°©e_t
 
°©e
 = { 0, };

290 
boﬁ
 
ö_shi·
 = 
Ál£
;

291 #i‡
SUPPORT_OLD_MBRTOWC


299 
size_t
 
¥ev
 = 0;

301 c⁄° 
size_t
 
¥ev
 = 0;

304 (
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf
 + 
¥ev
, 
BUFFER_SIZE
 -Örev)) > 0)

306 c⁄° *
p
;

307 #i‡
SUPPORT_OLD_MBRTOWC


308 
mb°©e_t
 
backup_°©e
;

310 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

312 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

313 
ok
 = 
Ál£
;

317 
byãs
 +
byãs_ªad
;

318 
p
 = 
buf
;

319 
byãs_ªad
 +
¥ev
;

322 
wch¨_t
 
wide_ch¨
;

323 
size_t
 
n
;

325 i‡(!
ö_shi·
 && 
	`is_basic
 (*
p
))

329 
n
 = 1;

330 
wide_ch¨
 = *
p
;

334 
ö_shi·
 = 
åue
;

335 #i‡
SUPPORT_OLD_MBRTOWC


336 
backup_°©e
 = 
°©e
;

338 
n
 = 
	`mbπowc
 (&
wide_ch¨
, 
p
, 
byãs_ªad
, &
°©e
);

339 i‡(
n
 =(
size_t
) -2)

341 #i‡
SUPPORT_OLD_MBRTOWC


342 
°©e
 = 
backup_°©e
;

346 i‡(
n
 =(
size_t
) -1)

352 
p
++;

353 
byãs_ªad
--;

356 i‡(
	`mbsöô
 (&
°©e
))

357 
ö_shi·
 = 
Ál£
;

358 i‡(
n
 == 0)

360 
wide_ch¨
 = 0;

361 
n
 = 1;

364 
p
 +
n
;

365 
byãs_ªad
 -
n
;

366 
ch¨s
++;

367 
wide_ch¨
)

370 
löes
++;

374 i‡(
löïos
 > 
löñígth
)

375 
löñígth
 = 
löïos
;

376 
löïos
 = 0;

377 
mb_w‹d_£∑øt‹
;

379 
löïos
 += 8 - (linepos % 8);

380 
mb_w‹d_£∑øt‹
;

382 
löïos
++;

385 
mb_w‹d_£∑øt‹
:

386 
w‹ds
 +
ö_w‹d
;

387 
ö_w‹d
 = 
Ál£
;

390 i‡(
	`isw¥öt
 (
wide_ch¨
))

392 
width
 = 
	`wcwidth
 (
wide_ch¨
);

393 i‡(
width
 > 0)

394 
löïos
 +
width
;

395 i‡(
	`isw•a˚
 (
wide_ch¨
))

396 
mb_w‹d_£∑øt‹
;

397 
ö_w‹d
 = 
åue
;

402 
byãs_ªad
 > 0);

404 #i‡
SUPPORT_OLD_MBRTOWC


405 i‡(
byãs_ªad
 > 0)

407 i‡(
byãs_ªad
 =
BUFFER_SIZE
)

410 
p
++;

411 
byãs_ªad
--;

413 
	`memmove
 (
buf
, 
p
, 
byãs_ªad
);

415 
¥ev
 = 
byãs_ªad
;

418 i‡(
löïos
 > 
löñígth
)

419 
löñígth
 = 
löïos
;

420 
w‹ds
 +
ö_w‹d
;

425 
boﬁ
 
ö_w‹d
 = 
Ál£
;

426 
uötmax_t
 
löïos
 = 0;

428 (
byãs_ªad
 = 
	`ß„_ªad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

430 c⁄° *
p
 = 
buf
;

431 i‡(
byãs_ªad
 =
SAFE_READ_ERROR
)

433 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

434 
ok
 = 
Ál£
;

438 
byãs
 +
byãs_ªad
;

441 *
p
++)

444 
löes
++;

448 i‡(
löïos
 > 
löñígth
)

449 
löñígth
 = 
löïos
;

450 
löïos
 = 0;

451 
w‹d_£∑øt‹
;

453 
löïos
 += 8 - (linepos % 8);

454 
w‹d_£∑øt‹
;

456 
löïos
++;

459 
w‹d_£∑øt‹
:

460 
w‹ds
 +
ö_w‹d
;

461 
ö_w‹d
 = 
Ál£
;

464 i‡(
	`i•röt
 (
	`to_uch¨
 (
p
[-1])))

466 
löïos
++;

467 i‡(
	`is•a˚
 (
	`to_uch¨
 (
p
[-1])))

468 
w‹d_£∑øt‹
;

469 
ö_w‹d
 = 
åue
;

474 --
byãs_ªad
);

476 i‡(
löïos
 > 
löñígth
)

477 
löñígth
 = 
löïos
;

478 
w‹ds
 +
ö_w‹d
;

481 i‡(
cou¡_ch¨s
 < 
¥öt_ch¨s
)

482 
ch¨s
 = 
byãs
;

484 
	`wrôe_cou¡s
 (
löes
, 
w‹ds
, 
ch¨s
, 
byãs
, 
löñígth
, 
fûe_x
);

485 
tŸÆ_löes
 +
löes
;

486 
tŸÆ_w‹ds
 +
w‹ds
;

487 
tŸÆ_ch¨s
 +
ch¨s
;

488 
tŸÆ_byãs
 +
byãs
;

489 i‡(
löñígth
 > 
max_löe_Àngth
)

490 
max_löe_Àngth
 = 
löñígth
;

492  
ok
;

493 
	}
}

495 
boﬁ


496 
	$wc_fûe
 (c⁄° *
fûe
, 
f°©us
 *fstatus)

498 i‡(! 
fûe
 || 
	`STREQ
 (file, "-"))

500 
have_ªad_°dö
 = 
åue
;

501 i‡(
O_BINARY
 && ! 
	`ißây
 (
STDIN_FILENO
))

502 
	`x‰e›í
 (
NULL
, "rb", 
°dö
);

503  
	`wc
 (
STDIN_FILENO
, 
fûe
, 
f°©us
);

507 
fd
 = 
	`›í
 (
fûe
, 
O_RDONLY
 | 
O_BINARY
);

508 i‡(
fd
 == -1)

510 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

511  
Ál£
;

515 
boﬁ
 
ok
 = 
	`wc
 (
fd
, 
fûe
, 
f°©us
);

516 i‡(
	`˛o£
 (
fd
) != 0)

518 
	`îr‹
 (0, 
î∫o
, "%s", 
fûe
);

519  
Ál£
;

521  
ok
;

524 
	}
}

532 
f°©us
 *

533 
	$gë_öput_f°©us
 (
nfûes
, *c⁄° *
fûe
)

535 
f°©us
 *f°©u†
	`xnmÆloc
 (
nfûes
 ?Çfiles : 1,  *fstatus);

537 i‡(
nfûes
 == 0

538 || (
nfûes
 == 1

539 && ((
¥öt_löes
 + 
¥öt_w‹ds
 + 
¥öt_ch¨s


540 + 
¥öt_byãs
 + 
¥öt_löñígth
)

542 
f°©us
[0].
Áûed
 = 1;

545 
i
;

547 
i
 = 0; i < 
nfûes
; i++)

548 
f°©us
[
i
].
Áûed
 = (! 
fûe
[i] || 
	`STREQ
 (file[i], "-")

549 ? 
	`f°©
 (
STDIN_FILENO
, &
f°©us
[
i
].
°
)

550 : 
	`°©
 (
fûe
[
i
], &
f°©us
[i].
°
));

553  
f°©us
;

554 
	}
}

560 
_GL_ATTRIBUTE_PURE


561 
	$compuã_numbî_width
 (
nfûes
, 
f°©us
 const *fstatus)

563 
width
 = 1;

565 i‡(0 < 
nfûes
 && 
f°©us
[0].
Áûed
 <= 0)

567 
möimum_width
 = 1;

568 
uötmax_t
 
ªguœr_tŸÆ
 = 0;

569 
i
;

571 
i
 = 0; i < 
nfûes
; i++)

572 i‡(! 
f°©us
[
i
].
Áûed
)

574 i‡(
	`S_ISREG
 (
f°©us
[
i
].
°
.
°_mode
))

575 
ªguœr_tŸÆ
 +
f°©us
[
i
].
°
.
°_size
;

577 
möimum_width
 = 7;

580 ; 10 <
ªguœr_tŸÆ
;Ñegular_total /= 10)

581 
width
++;

582 i‡(
width
 < 
möimum_width
)

583 
width
 = 
möimum_width
;

586  
width
;

587 
	}
}

591 
	$maö
 (
¨gc
, **
¨gv
)

593 
boﬁ
 
ok
;

594 
›tc
;

595 
nfûes
;

596 **
fûes
;

597 *
fûes_‰om
 = 
NULL
;

598 
f°©us
 *fstatus;

599 
Tokís
 
tok
;

601 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

602 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

603 
	`£éoˇÀ
 (
LC_ALL
, "");

604 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

605 
	`ãxtdomaö
 (
PACKAGE
);

607 
	`©exô
 (
˛o£_°dout
);

611 
	`£tvbuf
 (
°dout
, 
NULL
, 
_IOLBF
, 0);

613 
¥öt_löes
 = 
¥öt_w‹ds
 = 
¥öt_ch¨s
 = 
¥öt_byãs
 = 
Ál£
;

614 
¥öt_löñígth
 = 
Ál£
;

615 
tŸÆ_löes
 = 
tŸÆ_w‹ds
 = 
tŸÆ_ch¨s
 = 
tŸÆ_byãs
 = 
max_löe_Àngth
 = 0;

617 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "˛Lmw", 
l⁄g›ts
, 
NULL
)) != -1)

618 
›tc
)

621 
¥öt_byãs
 = 
åue
;

625 
¥öt_ch¨s
 = 
åue
;

629 
¥öt_löes
 = 
åue
;

633 
¥öt_w‹ds
 = 
åue
;

637 
¥öt_löñígth
 = 
åue
;

640 
FILES0_FROM_OPTION
:

641 
fûes_‰om
 = 
›èrg
;

644 
ˇ£_GETOPT_HELP_CHAR
;

646 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

649 
	`ußge
 (
EXIT_FAILURE
);

652 i‡(! (
¥öt_löes
 || 
¥öt_w‹ds
 || 
¥öt_ch¨s
 || 
¥öt_byãs


653 || 
¥öt_löñígth
))

654 
¥öt_löes
 = 
¥öt_w‹ds
 = 
¥öt_byãs
 = 
åue
;

656 
boﬁ
 
ªad_tokís
 = 
Ál£
;

657 
¨gv_ôî©‹
 *
ai
;

658 i‡(
fûes_‰om
)

660 
FILE
 *
°ªam
;

664 i‡(
›töd
 < 
¨gc
)

666 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

667 
	`Ârötf
 (
°dîr
, "%s\n",

668 
	`_
("file operands cannot be combined with --files0-from"));

669 
	`ußge
 (
EXIT_FAILURE
);

672 i‡(
	`STREQ
 (
fûes_‰om
, "-"))

673 
°ªam
 = 
°dö
;

676 
°ªam
 = 
	`f›í
 (
fûes_‰om
, "r");

677 i‡(
°ªam
 =
NULL
)

678 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot open %s forÑeading"),

679 
	`quŸe
 (
fûes_‰om
));

684 
°©
 
°
;

685 i‡(
	`f°©
 (
	`fûío
 (
°ªam
), &
°
) == 0

686 && 
	`S_ISREG
 (
°
.
°_mode
)

687 && 
°
.
°_size
 <
	`MIN
 (10 * 1024 * 1024, 
	`physmem_avaûabÀ
 () / 2))

689 
ªad_tokís
 = 
åue
;

690 
	`ªadtokís0_öô
 (&
tok
);

691 i‡(! 
	`ªadtokís0
 (
°ªam
, &
tok
Ë|| 
	`f˛o£
 (stream) != 0)

692 
	`îr‹
 (
EXIT_FAILURE
, 0, 
	`_
("cannotÑead fileÇames from %s"),

693 
	`quŸe
 (
fûes_‰om
));

694 
fûes
 = 
tok
.tok;

695 
nfûes
 = 
tok
.
n_tok
;

696 
ai
 = 
	`¨gv_ôî_öô_¨gv
 (
fûes
);

700 
fûes
 = 
NULL
;

701 
nfûes
 = 0;

702 
ai
 = 
	`¨gv_ôî_öô_°ªam
 (
°ªam
);

707 *
°dö_⁄ly
[] = { 
NULL
 };

708 
fûes
 = (
›töd
 < 
¨gc
 ? 
¨gv
 + o±öd : 
°dö_⁄ly
);

709 
nfûes
 = (
›töd
 < 
¨gc
 ?árgc - optind : 1);

710 
ai
 = 
	`¨gv_ôî_öô_¨gv
 (
fûes
);

713 i‡(!
ai
)

714 
	`xÆloc_dõ
 ();

716 
f°©us
 = 
	`gë_öput_f°©us
 (
nfûes
, 
fûes
);

717 
numbî_width
 = 
	`compuã_numbî_width
 (
nfûes
, 
f°©us
);

719 
i
;

720 
ok
 = 
åue
;

721 
i
 = 0; ; i++)

723 
boﬁ
 
skù_fûe
 = 
Ál£
;

724 
¨gv_ôî_îr
 
ai_îr
;

725 *
fûe_«me
 = 
	`¨gv_ôî
 (
ai
, &
ai_îr
);

726 i‡(!
fûe_«me
)

728 
ai_îr
)

730 
AI_ERR_EOF
:

731 
¨gv_ôî_d⁄e
;

732 
AI_ERR_READ
:

733 
	`îr‹
 (0, 
î∫o
, 
	`_
("%s:ÑeadÉrror"),

734 
	`quŸórg_cﬁ⁄
 (
fûes_‰om
));

735 
ok
 = 
Ál£
;

736 
¨gv_ôî_d⁄e
;

737 
AI_ERR_MEM
:

738 
	`xÆloc_dõ
 ();

740 
	`as£π
 (!"unexpectedÉrror code fromárgv_iter");

743 i‡(
fûes_‰om
 && 
	`STREQ
 (fûes_‰om, "-"Ë&& STREQ (
fûe_«me
, "-"))

747 
	`îr‹
 (0, 0, 
	`_
("whenÑeading fileÇames from stdin, "

749 
	`quŸe
 (
fûe_«me
));

750 
skù_fûe
 = 
åue
;

753 i‡(!
fûe_«me
[0])

759 i‡(
fûes_‰om
 =
NULL
)

760 
	`îr‹
 (0, 0, "%s", 
	`_
("invalid zero-length fileÇame"));

766 
fûe_numbî
 = 
	`¨gv_ôî_n_¨gs
 (
ai
);

767 
	`îr‹
 (0, 0, "%s:%lu: %s", 
	`quŸórg_cﬁ⁄
 (
fûes_‰om
),

768 
fûe_numbî
, 
	`_
("invalid zero-length fileÇame"));

770 
skù_fûe
 = 
åue
;

773 i‡(
skù_fûe
)

774 
ok
 = 
Ál£
;

776 
ok
 &
	`wc_fûe
 (
fûe_«me
, &
f°©us
[
nfûes
 ? 
i
 : 0]);

778 
¨gv_ôî_d⁄e
:

783 i‡(
ok
 && !
fûes_‰om
 && 
	`¨gv_ôî_n_¨gs
 (
ai
) == 0)

784 
ok
 &
	`wc_fûe
 (
NULL
, &
f°©us
[0]);

786 i‡(
ªad_tokís
)

787 
	`ªadtokís0_‰ì
 (&
tok
);

789 i‡(1 < 
	`¨gv_ôî_n_¨gs
 (
ai
))

790 
	`wrôe_cou¡s
 (
tŸÆ_löes
, 
tŸÆ_w‹ds
, 
tŸÆ_ch¨s
, 
tŸÆ_byãs
,

791 
max_löe_Àngth
, 
	`_
("total"));

793 
	`¨gv_ôî_‰ì
 (
ai
);

795 
	`‰ì
 (
f°©us
);

797 i‡(
have_ªad_°dö
 && 
	`˛o£
 (
STDIN_FILENO
) != 0)

798 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "-");

800 
	`exô
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

801 
	}
}

	@who.c

26 
	~<c⁄fig.h
>

27 
	~<gë›t.h
>

28 
	~<°dio.h
>

30 
	~<sys/ty≥s.h
>

31 
	~"sy°em.h
"

33 
	~"c-˘y≥.h
"

34 
	~"ˇn⁄-ho°.h
"

35 
	~"ªadutmp.h
"

36 
	~"îr‹.h
"

37 
	~"h¨d-loˇÀ.h
"

38 
	~"quŸe.h
"

40 #ifde‡
TTY_GROUP_NAME


41 
	~<gΩ.h
>

45 
	#PROGRAM_NAME
 "who"

	)

47 
	#AUTHORS
 \

48 
	`¥›î_«me
 ("Joseph Arceneaux"), \

49 
	`¥›î_«me
 ("David MacKenzie"), \

50 
	`¥›î_«me
 ("Mich´»St⁄e")

	)

52 #ifde‡
RUN_LVL


53 
	#UT_TYPE_RUN_LVL
(
U
Ë
	`UT_TYPE_EQ
 (U, 
RUN_LVL
)

	)

55 
	#UT_TYPE_RUN_LVL
(
U
Ë
Ál£


	)

58 #ifde‡
INIT_PROCESS


59 
	#UT_TYPE_INIT_PROCESS
(
U
Ë
	`UT_TYPE_EQ
 (U, 
INIT_PROCESS
)

	)

61 
	#UT_TYPE_INIT_PROCESS
(
U
Ë
Ál£


	)

64 #ifde‡
LOGIN_PROCESS


65 
	#UT_TYPE_LOGIN_PROCESS
(
U
Ë
	`UT_TYPE_EQ
 (U, 
LOGIN_PROCESS
)

	)

67 
	#UT_TYPE_LOGIN_PROCESS
(
U
Ë
Ál£


	)

70 #ifde‡
DEAD_PROCESS


71 
	#UT_TYPE_DEAD_PROCESS
(
U
Ë
	`UT_TYPE_EQ
 (U, 
DEAD_PROCESS
)

	)

73 
	#UT_TYPE_DEAD_PROCESS
(
U
Ë
Ál£


	)

76 #ifde‡
NEW_TIME


77 
	#UT_TYPE_NEW_TIME
(
U
Ë
	`UT_TYPE_EQ
 (U, 
NEW_TIME
)

	)

79 
	#UT_TYPE_NEW_TIME
(
U
Ë
Ál£


	)

82 
	#IDLESTR_LEN
 6

	)

84 #i‡
HAVE_STRUCT_XTMP_UT_PID


85 
	#PIDSTR_DECL_AND_INIT
(
V¨
, 
Utmp_ít
) \

86 
V¨
[
	`INT_STRLEN_BOUND
 (
Utmp_ít
->
ut_pid
) + 1]; \

87 
	`•rötf
 (
V¨
, "%ld", (Ë(
Utmp_ít
->
ut_pid
))

	)

89 
	#PIDSTR_DECL_AND_INIT
(
V¨
, 
Utmp_ít
) \

90 c⁄° *
V¨
 = ""

	)

93 #i‡
HAVE_STRUCT_XTMP_UT_ID


94 
	#UT_ID
(
U
Ë((U)->
ut_id
)

	)

96 
	#UT_ID
(
U
Ë"??"

	)

99 *
ây«me
 ();

102 
boﬁ
 
	gdo_lookup
;

107 
boﬁ
 
	gsh‹t_li°
;

110 
boﬁ
 
	gsh‹t_ouçut
;

115 
boﬁ
 
	gö˛ude_idÀ
;

118 
boﬁ
 
	gö˛ude_hódög
;

122 
boﬁ
 
	gö˛ude_mesg
;

125 
boﬁ
 
	gö˛ude_exô
;

128 
boﬁ
 
	g√ed_boŸtime
;

131 
boﬁ
 
	g√ed_dód¥ocs
;

134 
boﬁ
 
	g√ed_logö
;

137 
boﬁ
 
	g√ed_öô•awn
;

140 
boﬁ
 
	g√ed_˛ockch™ge
;

143 
boﬁ
 
	g√ed_ru∆evñ
;

146 
boﬁ
 
	g√ed_u£rs
;

149 
boﬁ
 
	gmy_löe_⁄ly
;

153 c⁄° *
	gtime_f‹m©
;

154 
	gtime_f‹m©_width
;

159 
	mLOOKUP_OPTION
 = 
CHAR_MAX
 + 1

162 
›ti⁄
 c⁄° 
	gl⁄g›ts
[] =

164 {"Æl", 
no_¨gumít
, 
NULL
, 'a'},

165 {"boŸ", 
no_¨gumít
, 
NULL
, 'b'},

166 {"cou¡", 
no_¨gumít
, 
NULL
, 'q'},

167 {"dód", 
no_¨gumít
, 
NULL
, 'd'},

168 {"hódög", 
no_¨gumít
, 
NULL
, 'H'},

169 {"logö", 
no_¨gumít
, 
NULL
, 'l'},

170 {"lookup", 
no_¨gumít
, 
NULL
, 
LOOKUP_OPTION
},

171 {"mesßge", 
no_¨gumít
, 
NULL
, 'T'},

172 {"mesg", 
no_¨gumít
, 
NULL
, 'T'},

173 {"¥o˚ss", 
no_¨gumít
, 
NULL
, 'p'},

174 {"ru∆evñ", 
no_¨gumít
, 
NULL
, 'r'},

175 {"sh‹t", 
no_¨gumít
, 
NULL
, 's'},

176 {"time", 
no_¨gumít
, 
NULL
, 't'},

177 {"u£rs", 
no_¨gumít
, 
NULL
, 'u'},

178 {"wrôabÀ", 
no_¨gumít
, 
NULL
, 'T'},

179 {
GETOPT_HELP_OPTION_DECL
},

180 {
GETOPT_VERSION_OPTION_DECL
},

181 {
NULL
, 0, NULL, 0}

188 
	$idÀ_°rög
 (
time_t
 
whí
,Åime_à
boŸtime
)

190 
time_t
 
now
 = 
	`TYPE_MINIMUM
 (time_t);

192 i‡(
now
 =
	`TYPE_MINIMUM
 (
time_t
))

193 
	`time
 (&
now
);

195 i‡(
boŸtime
 < 
whí
 && 
now
 - 24 * 60 * 60 < when && when <=Çow)

197 
£c⁄ds_idÀ
 = 
now
 - 
whí
;

198 i‡(
£c⁄ds_idÀ
 < 60)

202 
idÀ_hhmm
[
IDLESTR_LEN
];

203 
	`•rötf
 (
idÀ_hhmm
, "%02d:%02d",

204 
£c⁄ds_idÀ
 / (60 * 60),

205 (
£c⁄ds_idÀ
 % (60 * 60)) / 60);

206  
idÀ_hhmm
;

210  
	`_
(" old ");

211 
	}
}

215 
	$time_°rög
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

217 
buf
[
	`INT_STRLEN_BOUND
 (
ötmax_t
) +  "-%m-%d %H:%M"];

225 
time_t
 
t
 = 
	`UT_TIME_MEMBER
 (
utmp_ít
);

226 
tm
 *
tmp
 = 
	`loˇ…ime
 (&
t
);

228 i‡(
tmp
)

230 
	`°r·ime
 (
buf
,  buf, 
time_f‹m©
, 
tmp
);

231  
buf
;

234  
	`timëo°r
 (
t
, 
buf
);

235 
	}
}

241 
	$¥öt_löe
 (
u£æí
, c⁄° *
u£r
, c⁄° 
°©e
,

242 
löñí
, c⁄° *
löe
,

243 c⁄° *
time_°r
, c⁄° *
idÀ
, c⁄° *
pid
,

244 c⁄° *
commít
, c⁄° *
exô°r
)

246 
mesg
[3] = { ' ', 'x', '\0' };

247 *
buf
;

248 
x_idÀ
[1 + 
IDLESTR_LEN
 + 1];

249 
x_pid
[1 + 
	`INT_STRLEN_BOUND
 (
pid_t
) + 1];

250 *
x_exô°r
;

251 
îr
;

253 
mesg
[1] = 
°©e
;

255 i‡(
ö˛ude_idÀ
 && !
sh‹t_ouçut
 && 
	`°æí
 (
idÀ
Ë<  
x_idÀ
 - 1)

256 
	`•rötf
 (
x_idÀ
, " %-6s", 
idÀ
);

258 *
x_idÀ
 = '\0';

260 i‡(!
sh‹t_ouçut
 && 
	`°æí
 (
pid
Ë<  
x_pid
 - 1)

261 
	`•rötf
 (
x_pid
, " %10s", 
pid
);

263 *
x_pid
 = '\0';

265 
x_exô°r
 = 
	`xmÆloc
 (
ö˛ude_exô
 ? 1 + 
	`MAX
 (12, 
	`°æí
 (
exô°r
)) + 1 : 1);

266 i‡(
ö˛ude_exô
)

267 
	`•rötf
 (
x_exô°r
, " %-12s", 
exô°r
);

269 *
x_exô°r
 = '\0';

271 
îr
 = 
	`a•rötf
 (&
buf
,

281 
u£æí
, 
u£r
 ? user : " .",

282 
ö˛ude_mesg
 ? 
mesg
 : "",

283 
löñí
, 
löe
,

284 
time_f‹m©_width
,

285 
time_°r
,

286 
x_idÀ
,

287 
x_pid
,

292 
commít
,

293 
x_exô°r


295 i‡(
îr
 == -1)

296 
	`xÆloc_dõ
 ();

300 *
p
 = 
buf
 + 
	`°æí
 (buf);

301 *--
p
 == ' ')

303 *(
p
 + 1) = '\0';

306 
	`puts
 (
buf
);

307 
	`‰ì
 (
buf
);

308 
	`‰ì
 (
x_exô°r
);

309 
	}
}

313 
boﬁ


314 
	$is_ây_wrôabÀ
 (
°©
 c⁄° *
p°©
)

316 #ifde‡
TTY_GROUP_NAME


319 
group
 *
âygr
 = 
	`gëg∫am
 (
TTY_GROUP_NAME
);

320 i‡(!
âygr
 || (
p°©
->
°_gid
 !âygr->
gr_gid
))

321  
Ál£
;

324  
p°©
->
°_mode
 & 
S_IWGRP
;

325 
	}
}

330 
	$¥öt_u£r
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
, 
time_t
 
boŸtime
)

332 
°©
 
°©s
;

333 
time_t
 
œ°_ch™ge
;

334 
mesg
;

335 
idÀ°r
[
IDLESTR_LEN
 + 1];

336 *
ho°°r
;

337 #i‡
HAVE_UT_HOST


338 
size_t
 
ho°Àn
;

341 
	#DEV_DIR_WITH_TRAILING_SLASH
 "/dev/"

	)

342 
	#DEV_DIR_LEN
 ( (
DEV_DIR_WITH_TRAILING_SLASH
Ë- 1)

	)

344 
löe
[ (
utmp_ít
->
ut_löe
Ë+ 
DEV_DIR_LEN
 + 1];

345 *
p
 = 
löe
;

346 
	`PIDSTR_DECL_AND_INIT
 (
pid°r
, 
utmp_ít
);

351 i‡–! 
	`IS_ABSOLUTE_FILE_NAME
 (
utmp_ít
->
ut_löe
))

352 
p
 = 
	`°p˝y
 (p, 
DEV_DIR_WITH_TRAILING_SLASH
);

353 
	`°zn˝y
 (
p
, 
utmp_ít
->
ut_löe
,  (utmp_ent->ut_line));

355 i‡(
	`°©
 (
löe
, &
°©s
) == 0)

357 
mesg
 = 
	`is_ây_wrôabÀ
 (&
°©s
) ? '+' : '-';

358 
œ°_ch™ge
 = 
°©s
.
°_©ime
;

362 
mesg
 = '?';

363 
œ°_ch™ge
 = 0;

366 i‡(
œ°_ch™ge
)

367 
	`•rötf
 (
idÀ°r
, "%.*s", 
IDLESTR_LEN
, 
	`idÀ_°rög
 (
œ°_ch™ge
, 
boŸtime
));

369 
	`•rötf
 (
idÀ°r
, " ?");

371 #i‡
HAVE_UT_HOST


372 i‡(
utmp_ít
->
ut_ho°
[0])

374 
ut_ho°
[ (
utmp_ít
->ut_host) + 1];

375 *
ho°
 = 
NULL
;

376 *
di•œy
 = 
NULL
;

379 
	`°zn˝y
 (
ut_ho°
, 
utmp_ít
->ut_host,  (utmp_ent->ut_host));

382 
di•œy
 = 
	`°rchr
 (
ut_ho°
, ':');

383 i‡(
di•œy
)

384 *
di•œy
++ = '\0';

386 i‡(*
ut_ho°
 && 
do_lookup
)

389 
ho°
 = 
	`ˇn⁄_ho°
 (
ut_ho°
);

392 i‡(! 
ho°
)

393 
ho°
 = 
ut_ho°
;

395 i‡(
di•œy
)

397 i‡(
ho°Àn
 < 
	`°æí
 (
ho°
Ë+ såÀ¿(
di•œy
) + 4)

399 
ho°Àn
 = 
	`°æí
 (
ho°
Ë+ såÀ¿(
di•œy
) + 4;

400 
	`‰ì
 (
ho°°r
);

401 
ho°°r
 = 
	`xmÆloc
 (
ho°Àn
);

403 
	`•rötf
 (
ho°°r
, "(%s:%s)", 
ho°
, 
di•œy
);

407 i‡(
ho°Àn
 < 
	`°æí
 (
ho°
) + 3)

409 
ho°Àn
 = 
	`°æí
 (
ho°
) + 3;

410 
	`‰ì
 (
ho°°r
);

411 
ho°°r
 = 
	`xmÆloc
 (
ho°Àn
);

413 
	`•rötf
 (
ho°°r
, "(%s)", 
ho°
);

416 i‡(
ho°
 !
ut_ho°
)

417 
	`‰ì
 (
ho°
);

421 i‡(
ho°Àn
 < 1)

423 
ho°Àn
 = 1;

424 
	`‰ì
 (
ho°°r
);

425 
ho°°r
 = 
	`xmÆloc
 (
ho°Àn
);

427 *
ho°°r
 = '\0';

431 
	`¥öt_löe
 ( 
	`UT_USER
 (
utmp_ít
), UT_USER (utmp_ít), 
mesg
,

432  
utmp_ít
->
ut_löe
, utmp_ent->ut_line,

433 
	`time_°rög
 (
utmp_ít
), 
idÀ°r
, 
pid°r
,

434 
ho°°r
 ? hoststr : "", "");

435 
	}
}

438 
	$¥öt_boŸtime
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

440 
	`¥öt_löe
 (-1, "", ' ', -1, 
	`_
("system boot"),

441 
	`time_°rög
 (
utmp_ít
), "", "", "", "");

442 
	}
}

445 
	$make_id_equÆs_commít
 (
STRUCT_UTMP
 c⁄° *
utmp_ít
)

447 *
commít
 = 
	`xmÆloc
 (
	`°æí
 (
	`_
("id=")Ë+  
	`UT_ID
 (
utmp_ít
) + 1);

449 
	`°r˝y
 (
commít
, 
	`_
("id="));

450 
	`°∫ˇt
 (
commít
, 
	`UT_ID
 (
utmp_ít
),  UT_ID (utmp_ent));

451  
commít
;

452 
	}
}

455 
	$¥öt_dód¥ocs
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

457 *
exô°r
;

458 *
commít
 = 
	`make_id_equÆs_commít
 (
utmp_ít
);

459 
	`PIDSTR_DECL_AND_INIT
 (
pid°r
, 
utmp_ít
);

461 i‡(!
exô°r
)

462 
exô°r
 = 
	`xmÆloc
 (
	`°æí
 (
	`_
("term="))

463 + 
	`INT_STRLEN_BOUND
 (
	`UT_EXIT_E_TERMINATION
 (
utmp_ít
)) + 1

464 + 
	`°æí
 (
	`_
("exit="))

465 + 
	`INT_STRLEN_BOUND
 (
	`UT_EXIT_E_EXIT
 (
utmp_ít
))

467 
	`•rötf
 (
exô°r
, "%s%d %s%d", 
	`_
("ãrm="), 
	`UT_EXIT_E_TERMINATION
 (
utmp_ít
),

468 
	`_
("exô="), 
	`UT_EXIT_E_EXIT
 (
utmp_ít
));

472 
	`¥öt_löe
 (-1, "", ' ',  
utmp_ít
->
ut_löe
, utmp_ent->ut_line,

473 
	`time_°rög
 (
utmp_ít
), "", 
pid°r
, 
commít
, 
exô°r
);

474 
	`‰ì
 (
commít
);

475 
	}
}

478 
	$¥öt_logö
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

480 *
commít
 = 
	`make_id_equÆs_commít
 (
utmp_ít
);

481 
	`PIDSTR_DECL_AND_INIT
 (
pid°r
, 
utmp_ít
);

485 
	`¥öt_löe
 (-1, 
	`_
("LOGIN"), ' ',  
utmp_ít
->
ut_löe
, utmp_ent->ut_line,

486 
	`time_°rög
 (
utmp_ít
), "", 
pid°r
, 
commít
, "");

487 
	`‰ì
 (
commít
);

488 
	}
}

491 
	$¥öt_öô•awn
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

493 *
commít
 = 
	`make_id_equÆs_commít
 (
utmp_ít
);

494 
	`PIDSTR_DECL_AND_INIT
 (
pid°r
, 
utmp_ít
);

496 
	`¥öt_löe
 (-1, "", ' ',  
utmp_ít
->
ut_löe
, utmp_ent->ut_line,

497 
	`time_°rög
 (
utmp_ít
), "", 
pid°r
, 
commít
, "");

498 
	`‰ì
 (
commít
);

499 
	}
}

502 
	$¥öt_˛ockch™ge
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

505 
	`¥öt_löe
 (-1, "", ' ', -1, 
	`_
("clock change"),

506 
	`time_°rög
 (
utmp_ít
), "", "", "", "");

507 
	}
}

510 
	$¥öt_ru∆evñ
 (c⁄° 
STRUCT_UTMP
 *
utmp_ít
)

512 *
ru∆evlöe
, *
commít
;

513 
œ°
 = 
	`UT_PID
 (
utmp_ít
) / 256;

514 
cuº
 = 
	`UT_PID
 (
utmp_ít
) % 256;

516 i‡(!
ru∆evlöe
)

517 
ru∆evlöe
 = 
	`xmÆloc
 (
	`°æí
 (
	`_
("run-level")) + 3);

518 
	`•rötf
 (
ru∆evlöe
, "%†%c", 
	`_
("run-Àvñ"), 
cuº
);

520 i‡(!
commít
)

521 
commít
 = 
	`xmÆloc
 (
	`°æí
 (
	`_
("last=")) + 2);

522 
	`•rötf
 (
commít
, "%s%c", 
	`_
("œ°="), (
œ°
 == 'N') ? 'S' :Üast);

524 
	`¥öt_löe
 (-1, "", ' ', -1, 
ru∆evlöe
, 
	`time_°rög
 (
utmp_ít
),

525 "", "", 
	`c_i•röt
 (
œ°
Ë? 
commít
 : "", "");

528 
	}
}

533 
	$li°_íåõs_who
 (
size_t
 
n
, c⁄° 
STRUCT_UTMP
 *
utmp_buf
)

535 
íåõs
 = 0;

536 c⁄° *
£∑øt‹
 = "";

538 
n
--)

540 i‡(
	`IS_USER_PROCESS
 (
utmp_buf
))

542 *
åimmed_«me
;

544 
åimmed_«me
 = 
	`exåa˘_åimmed_«me
 (
utmp_buf
);

546 
	`¥ötf
 ("%s%s", 
£∑øt‹
, 
åimmed_«me
);

547 
	`‰ì
 (
åimmed_«me
);

548 
£∑øt‹
 = " ";

549 
íåõs
++;

551 
utmp_buf
++;

553 
	`¥ötf
 (
	`_
("\n# u£rs=%lu\n"), 
íåõs
);

554 
	}
}

557 
	$¥öt_hódög
 ()

559 
	`¥öt_löe
 (-1, 
	`_
("NAME"), ' ', -1, _("LINE"), _("TIME"), _("IDLE"),

560 
	`_
("PID"), _("COMMENT"), _("EXIT"));

561 
	}
}

565 
	$sˇn_íåõs
 (
size_t
 
n
, c⁄° 
STRUCT_UTMP
 *
utmp_buf
)

567 *
ây«me_b
 
	`IF_LINT
 ( = 
NULL
);

568 
time_t
 
boŸtime
 = 
	`TYPE_MINIMUM
 (time_t);

570 i‡(
ö˛ude_hódög
)

571 
	`¥öt_hódög
 ();

573 i‡(
my_löe_⁄ly
)

575 
ây«me_b
 = 
	`ây«me
 (
STDIN_FILENO
);

576 i‡(!
ây«me_b
)

578 i‡(
	`STRNCMP_LIT
 (
ây«me_b
, 
DEV_DIR_WITH_TRAILING_SLASH
) == 0)

579 
ây«me_b
 +
DEV_DIR_LEN
;

582 
n
--)

584 i‡(!
my_löe_⁄ly


585 || 
	`°∫cmp
 (
ây«me_b
, 
utmp_buf
->
ut_löe
,

586  (
utmp_buf
->
ut_löe
)) == 0)

588 i‡(
√ed_u£rs
 && 
	`IS_USER_PROCESS
 (
utmp_buf
))

589 
	`¥öt_u£r
 (
utmp_buf
, 
boŸtime
);

590 i‡(
√ed_ru∆evñ
 && 
	`UT_TYPE_RUN_LVL
 (
utmp_buf
))

591 
	`¥öt_ru∆evñ
 (
utmp_buf
);

592 i‡(
√ed_boŸtime
 && 
	`UT_TYPE_BOOT_TIME
 (
utmp_buf
))

593 
	`¥öt_boŸtime
 (
utmp_buf
);

597 i‡(
√ed_˛ockch™ge
 && 
	`UT_TYPE_NEW_TIME
 (
utmp_buf
))

598 
	`¥öt_˛ockch™ge
 (
utmp_buf
);

599 i‡(
√ed_öô•awn
 && 
	`UT_TYPE_INIT_PROCESS
 (
utmp_buf
))

600 
	`¥öt_öô•awn
 (
utmp_buf
);

601 i‡(
√ed_logö
 && 
	`UT_TYPE_LOGIN_PROCESS
 (
utmp_buf
))

602 
	`¥öt_logö
 (
utmp_buf
);

603 i‡(
√ed_dód¥ocs
 && 
	`UT_TYPE_DEAD_PROCESS
 (
utmp_buf
))

604 
	`¥öt_dód¥ocs
 (
utmp_buf
);

607 i‡(
	`UT_TYPE_BOOT_TIME
 (
utmp_buf
))

608 
boŸtime
 = 
	`UT_TIME_MEMBER
 (
utmp_buf
);

610 
utmp_buf
++;

612 
	}
}

617 
	$who
 (c⁄° *
fûíame
, 
›ti⁄s
)

619 
size_t
 
n_u£rs
;

620 
STRUCT_UTMP
 *
utmp_buf
;

622 i‡(
	`ªad_utmp
 (
fûíame
, &
n_u£rs
, &
utmp_buf
, 
›ti⁄s
) != 0)

623 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, "%s", 
fûíame
);

625 i‡(
sh‹t_li°
)

626 
	`li°_íåõs_who
 (
n_u£rs
, 
utmp_buf
);

628 
	`sˇn_íåõs
 (
n_u£rs
, 
utmp_buf
);

630 
	`‰ì
 (
utmp_buf
);

631 
	}
}

634 
	$ußge
 (
°©us
)

636 i‡(
°©us
 !
EXIT_SUCCESS
)

637 
	`emô_åy_hñp
 ();

640 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]... [ FILE | ARG1 ARG2 ]\n"), 
¥ogøm_«me
);

641 
	`Âuts
 (
	`_
("\
 inf‹m©i⁄ábouàu£r†whÿ¨êcuºíéyÜogged in.\n\
"), 
°dout
);

644 
	`Âuts
 (
	`_
("\
\n\
-a, --Æ» samêa†-b -d --logö -∞-∏-à-T -u\n\
-b, --boŸÅimêo‡œ° sy°em boŸ\n\
-d, --dódÖröàdódÖro˚s£s\n\
-H, --hódögÖröàlöêo‡cﬁum¿hódögs\n\
"), 
°dout
);

651 
	`Âuts
 (
	`_
("\
-l, --logöÖröàsy°emÜogöÖro˚s£s\n\
"), 
°dout
);

654 
	`Âuts
 (
	`_
("\
--looku∞áâem±Åÿˇn⁄iˇlizêho°«me†vü DNS\n\
-m o∆y ho°«mê™d u£∏assocüãd wôh stdö\n\
-p, --¥o˚s†Öröàa˘ivê¥o˚s£†•aw√d by inô\n\
"), 
°dout
);

659 
	`Âuts
 (
	`_
("\
-q, --cou¡áŒÜogöÇame†™dÇumbî o‡u£r†logged on\n\
-r, --ru∆evñÖröàcuºíàru∆evñ\n\
-s, --sh‹àÖröà⁄lyÇame,Üöe,ándÅimê(deÁu…)\n\
-t, --timêÖröàœ° sy°em clock ch™ge\n\
"), 
°dout
);

665 
	`Âuts
 (
	`_
("\
-T, -w, --mesgádd u£r'†mesßgê°©u†a†+, - o∏?\n\
-u, --u£r†Üi° u£r†logged in\n\
--mesßgê samêa†-T\n\
--wrôabÀ samêa†-T\n\
"), 
°dout
);

671 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

672 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

673 
	`¥ötf
 (
	`_
("\
\n\
 FILE i†nŸ s≥cifõd, u£ %s. %†a†FILE i†comm⁄.\n\
 ARG1 ARG2 giví, -mÖªsumed: 'am i' o∏'momÜikes'áª usuÆ.\n\
"), 
UTMP_FILE
, 
WTMP_FILE
);

678 
	`emô_™cûœry_öfo
 ();

680 
	`exô
 (
°©us
);

681 
	}
}

684 
	$maö
 (
¨gc
, **
¨gv
)

686 
›tc
;

687 
boﬁ
 
assum±i⁄s
 = 
åue
;

689 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

690 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

691 
	`£éoˇÀ
 (
LC_ALL
, "");

692 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

693 
	`ãxtdomaö
 (
PACKAGE
);

695 
	`©exô
 (
˛o£_°dout
);

697 (
›tc
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "abdlmpqr°uwHT", 
l⁄g›ts
, 
NULL
))

700 
›tc
)

703 
√ed_boŸtime
 = 
åue
;

704 
√ed_dód¥ocs
 = 
åue
;

705 
√ed_logö
 = 
åue
;

706 
√ed_öô•awn
 = 
åue
;

707 
√ed_ru∆evñ
 = 
åue
;

708 
√ed_˛ockch™ge
 = 
åue
;

709 
√ed_u£rs
 = 
åue
;

710 
ö˛ude_mesg
 = 
åue
;

711 
ö˛ude_idÀ
 = 
åue
;

712 
ö˛ude_exô
 = 
åue
;

713 
assum±i⁄s
 = 
Ál£
;

717 
√ed_boŸtime
 = 
åue
;

718 
assum±i⁄s
 = 
Ál£
;

722 
√ed_dód¥ocs
 = 
åue
;

723 
ö˛ude_idÀ
 = 
åue
;

724 
ö˛ude_exô
 = 
åue
;

725 
assum±i⁄s
 = 
Ál£
;

729 
ö˛ude_hódög
 = 
åue
;

733 
√ed_logö
 = 
åue
;

734 
ö˛ude_idÀ
 = 
åue
;

735 
assum±i⁄s
 = 
Ál£
;

739 
my_löe_⁄ly
 = 
åue
;

743 
√ed_öô•awn
 = 
åue
;

744 
assum±i⁄s
 = 
Ál£
;

748 
sh‹t_li°
 = 
åue
;

752 
√ed_ru∆evñ
 = 
åue
;

753 
ö˛ude_idÀ
 = 
åue
;

754 
assum±i⁄s
 = 
Ál£
;

758 
sh‹t_ouçut
 = 
åue
;

762 
√ed_˛ockch™ge
 = 
åue
;

763 
assum±i⁄s
 = 
Ál£
;

768 
ö˛ude_mesg
 = 
åue
;

772 
√ed_u£rs
 = 
åue
;

773 
ö˛ude_idÀ
 = 
åue
;

774 
assum±i⁄s
 = 
Ál£
;

777 
LOOKUP_OPTION
:

778 
do_lookup
 = 
åue
;

781 
ˇ£_GETOPT_HELP_CHAR
;

783 
	`ˇ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

786 
	`ußge
 (
EXIT_FAILURE
);

790 i‡(
assum±i⁄s
)

792 
√ed_u£rs
 = 
åue
;

793 
sh‹t_ouçut
 = 
åue
;

796 i‡(
ö˛ude_exô
)

798 
sh‹t_ouçut
 = 
Ál£
;

801 i‡(
	`h¨d_loˇÀ
 (
LC_TIME
))

803 
time_f‹m©
 = "%Y-%m-%d %H:%M";

804 
time_f‹m©_width
 = 4 + 1 + 2 + 1 + 2 + 1 + 2 + 1 + 2;

808 
time_f‹m©
 = "%b %e %H:%M";

809 
time_f‹m©_width
 = 3 + 1 + 2 + 1 + 2 + 1 + 2;

812 
¨gc
 - 
›töd
)

815 
my_löe_⁄ly
 = 
åue
;

819 
	`who
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

823 
	`who
 (
¨gv
[
›töd
], 0);

827 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
 + 2]));

828 
	`ußge
 (
EXIT_FAILURE
);

831 
	`exô
 (
EXIT_SUCCESS
);

832 
	}
}

	@whoami.c

21 
	~<c⁄fig.h
>

22 
	~<°dio.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<pwd.h
>

25 
	~<gë›t.h
>

27 
	~"sy°em.h
"

28 
	~"îr‹.h
"

29 
	~"l⁄g-›ti⁄s.h
"

30 
	~"quŸe.h
"

33 
	#PROGRAM_NAME
 "whﬂmi"

	)

35 
	#AUTHORS
 
	`¥›î_«me
 ("Rich¨d Mly«rik")

	)

38 
	$ußge
 (
°©us
)

40 i‡(
°©us
 !
EXIT_SUCCESS
)

41 
	`emô_åy_hñp
 ();

44 
	`¥ötf
 (
	`_
("Ußge: %†[OPTION]...\n"), 
¥ogøm_«me
);

45 
	`Âuts
 (
	`_
("\
Åhêu£∏«mêassocüãd wôhÅhêcuºíàef„˘ivêu£∏ID.\n\
á†id -un.\n\
\n\
"), 
°dout
);

50 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

51 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

52 
	`emô_™cûœry_öfo
 ();

54 
	`exô
 (
°©us
);

55 
	}
}

58 
	$maö
 (
¨gc
, **
¨gv
)

60 
∑sswd
 *
pw
;

61 
uid_t
 
uid
;

62 
uid_t
 
NO_UID
 = -1;

64 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

65 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

66 
	`£éoˇÀ
 (
LC_ALL
, "");

67 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

68 
	`ãxtdomaö
 (
PACKAGE
);

70 
	`©exô
 (
˛o£_°dout
);

72 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

73 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

74 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "", 
NULL
, NULL) != -1)

75 
	`ußge
 (
EXIT_FAILURE
);

77 i‡(
›töd
 !
¨gc
)

79 
	`îr‹
 (0, 0, 
	`_
("exå®›î™d %s"), 
	`quŸe
 (
¨gv
[
›töd
]));

80 
	`ußge
 (
EXIT_FAILURE
);

83 
î∫o
 = 0;

84 
uid
 = 
	`gëeuid
 ();

85 
pw
 = (
uid
 =
NO_UID
 && 
î∫o
 ? 
NULL
 : 
	`gëpwuid
 (uid));

86 i‡(
pw
)

88 
	`puts
 (
pw
->
pw_«me
);

89 
	`exô
 (
EXIT_SUCCESS
);

91 
	`Ârötf
 (
°dîr
, 
	`_
("%s: cannot findÇame for user ID %lu\n"),

92 
¥ogøm_«me
, (Ë
uid
);

93 
	`exô
 (
EXIT_FAILURE
);

94 
	}
}

	@yes.c

19 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<gë›t.h
>

24 
	~"sy°em.h
"

26 
	~"îr‹.h
"

27 
	~"l⁄g-›ti⁄s.h
"

30 
	#PROGRAM_NAME
 "yes"

	)

32 
	#AUTHORS
 
	`¥›î_«me
 ("David MacKízõ")

	)

35 
	$ußge
 (
°©us
)

37 i‡(
°©us
 !
EXIT_SUCCESS
)

38 
	`emô_åy_hñp
 ();

41 
	`¥ötf
 (
	`_
("\
: %s [STRING]...\n\
: %s OPTION\n\
"),

45 
¥ogøm_«me
,Örogram_name);

47 
	`Âuts
 (
	`_
("\
 ouçuà®löêwôháŒ s≥cifõd STRING(s), o∏'y'.\n\
\n\
"), 
°dout
);

51 
	`Âuts
 (
HELP_OPTION_DESCRIPTION
, 
°dout
);

52 
	`Âuts
 (
VERSION_OPTION_DESCRIPTION
, 
°dout
);

53 
	`emô_™cûœry_öfo
 ();

55 
	`exô
 (
°©us
);

56 
	}
}

59 
	$maö
 (
¨gc
, **
¨gv
)

61 
	`öôülize_maö
 (&
¨gc
, &
¨gv
);

62 
	`£t_¥ogøm_«me
 (
¨gv
[0]);

63 
	`£éoˇÀ
 (
LC_ALL
, "");

64 
	`bödãxtdomaö
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`ãxtdomaö
 (
PACKAGE
);

67 
	`©exô
 (
˛o£_°dout
);

69 
	`∑r£_l⁄g_›ti⁄s
 (
¨gc
, 
¨gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
Vîsi⁄
,

70 
ußge
, 
AUTHORS
, (c⁄° *Ë
NULL
);

71 i‡(
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "+", 
NULL
, NULL) != -1)

72 
	`ußge
 (
EXIT_FAILURE
);

74 i‡(
¨gc
 <
›töd
)

76 
›töd
 = 
¨gc
;

77 
¨gv
[
¨gc
++] = 
	`bad_ˇ°
 ("y");

80 
åue
)

82 
i
;

83 
i
 = 
›töd
; i < 
¨gc
; i++)

84 i‡(
	`Âuts
 (
¨gv
[
i
], 
°dout
Ë=
EOF


85 || 
	`putch¨
 (
i
 =
¨gc
 - 1 ? '\n' : ' 'Ë=
EOF
)

86 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("standard output"));

88 
	}
}

	@/usr/include/alloca.h

18 #i‚def 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<„©uªs.h
>

23 
	#__√ed_size_t


	)

24 
	~<°ddef.h
>

26 
	g__BEGIN_DECLS


29 #unde‡
Æloˇ


32 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

34 #ifdef 
__GNUC__


35 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

38 
__END_DECLS


	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #unde‡
_ASSERT_H


25 #unde‡
as£π


26 #unde‡
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #unde‡
as£π_≥º‹


34 
	#_ASSERT_H
 1

	)

35 
	~<„©uªs.h
>

37 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #i‚de‡
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£π_Áû
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
,

70 
__löe
, c⁄° *
__fun˘i⁄
)

71 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

74 
	$__as£π_≥º‹_Áû
 (
__î∫um
, c⁄° *
__fûe
,

75 
__löe
, c⁄° *
__fun˘i⁄
)

76 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

81 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

82 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

85 
__END_DECLS


88 
	#as£π
(
ex¥
) \

89 ((
ex¥
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£π_≥º‹
(
î∫um
) \

95 (!(
î∫um
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((c⁄° *Ë0)

	)

118 #i‡
deföed
 
__USE_ISOC11
 && !deföed 
__˝lu•lus


120 #unde‡
°©ic_as£π


121 
	#°©ic_as£π
 
_Sètic_as£π


	)

	@/usr/include/ctype.h

22 #i‚def 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	g__BEGIN_DECLS


30 #i‚de‡
_ISbô


39 
	~<ídün.h
>

40 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


41 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

43 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

48 
	m_ISuµî
 = 
_ISbô
 (0),

49 
	m_ISlowî
 = 
_ISbô
 (1),

50 
	m_ISÆpha
 = 
_ISbô
 (2),

51 
	m_ISdigô
 = 
_ISbô
 (3),

52 
	m_ISxdigô
 = 
_ISbô
 (4),

53 
	m_IS•a˚
 = 
_ISbô
 (5),

54 
	m_IS¥öt
 = 
_ISbô
 (6),

55 
	m_ISgøph
 = 
_ISbô
 (7),

56 
	m_ISbœnk
 = 
_ISbô
 (8),

57 
	m_IS˙ål
 = 
_ISbô
 (9),

58 
	m_ISpun˘
 = 
_ISbô
 (10),

59 
	m_ISÆnum
 = 
_ISbô
 (11)

79 c⁄° **
	$__˘y≥_b_loc
 ()

80 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

81 c⁄° 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

83 c⁄° 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

87 #i‚de‡
__˝lu•lus


88 
	#__is˘y≥
(
c
, 
ty≥
) \

89 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

90 #ñi‡
deföed
 
__USE_EXTERN_INLINES


91 
	#__is˘y≥_f
(
ty≥
) \

92 
__exã∫_ölöe
 \

93 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

95  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

96 
	}

	)
}

99 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

100 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

102 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__ex˘y≥
 (
iß um
);

111 
__ex˘y≥
 (
ißÕha
);

112 
__ex˘y≥
 (
is˙ål
);

113 
__ex˘y≥
 (
isdigô
);

114 
__ex˘y≥
 (
i¶owî
);

115 
__ex˘y≥
 (
isgøph
);

116 
__ex˘y≥
 (
i•röt
);

117 
__ex˘y≥
 (
i•un˘
);

118 
__ex˘y≥
 (
is•a˚
);

119 
__ex˘y≥
 (
isuµî
);

120 
__ex˘y≥
 (
isxdigô
);

124 
	$tﬁowî
 (
__c
Ë
__THROW
;

127 
	$touµî
 (
__c
Ë
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__ex˘y≥
 (
isbœnk
);

138 
__END_NAMESPACE_C99


141 #ifde‡
__USE_GNU


143 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

146 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


150 
	$ißscii
 (
__c
Ë
__THROW
;

154 
	$tﬂscii
 (
__c
Ë
__THROW
;

158 
	`__ex˘y≥
 (
_touµî
);

159 
	`__ex˘y≥
 (
_tﬁowî
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

164 (
__exãnsi⁄__
 \

165 ({ 
__ªs
; \

166 i‡( (
c
) > 1) \

168 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

174 
__ªs
 = 
f
 
¨gs
; \

177 
__ªs
 = (
a
)[(Ë(
c
)]; \

178 
__ªs
; 
	}
}))

	)

180 #i‡!
deföed
 
__NO_CTYPE


181 #ifde‡
__is˘y≥_f


182 
	$__is˘y≥_f
 (
Ænum
)

183 
	$__is˘y≥_f
 (
Æpha
)

184 
	$__is˘y≥_f
 (
˙ål
)

185 
	$__is˘y≥_f
 (
digô
)

186 
	$__is˘y≥_f
 (
lowî
)

187 
	$__is˘y≥_f
 (
gøph
)

188 
	$__is˘y≥_f
 (
¥öt
)

189 
	$__is˘y≥_f
 (
pun˘
)

190 
	$__is˘y≥_f
 (
•a˚
)

191 
	$__is˘y≥_f
 (
uµî
)

192 
	$__is˘y≥_f
 (
xdigô
)

193 #ifde‡
__USE_ISOC99


194 
	$__is˘y≥_f
 (
bœnk
)

196 #ñi‡
deföed
 
__is˘y≥


197 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

198 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

199 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

200 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

201 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

202 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

203 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

204 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

205 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

206 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

207 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

208 #ifde‡
__USE_ISOC99


209 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

213 #ifde‡
__USE_EXTERN_INLINES


214 
__exã∫_ölöe
 

215 
	`__NTH
 (
	$tﬁowî
 (
__c
))

217  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

218 
	}
}

220 
__exã∫_ölöe
 

221 
__NTH
 (
	$touµî
 (
__c
))

223  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

224 
	}
}

227 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


228 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

229 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

232 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


233 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

234 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

236 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

237 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

243 #ifde‡
__USE_XOPEN2K8


257 
	~<xloˇÀ.h
>

261 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

262 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

264 
	#__ex˘y≥_l
(
«me
) \

265 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

271 
__ex˘y≥_l
 (
iß um_l
);

272 
__ex˘y≥_l
 (
ißÕha_l
);

273 
__ex˘y≥_l
 (
is˙ål_l
);

274 
__ex˘y≥_l
 (
isdigô_l
);

275 
__ex˘y≥_l
 (
i¶owî_l
);

276 
__ex˘y≥_l
 (
isgøph_l
);

277 
__ex˘y≥_l
 (
i•röt_l
);

278 
__ex˘y≥_l
 (
i•un˘_l
);

279 
__ex˘y≥_l
 (
is•a˚_l
);

280 
__ex˘y≥_l
 (
isuµî_l
);

281 
__ex˘y≥_l
 (
isxdigô_l
);

283 
__ex˘y≥_l
 (
isbœnk_l
);

287 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

288 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

291 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

292 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

294 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


295 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

296 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

297 
	#__touµî_l
(
c
, 
loˇÀ
) \

298 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

299 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

300 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

304 #i‚de‡
__NO_CTYPE


305 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

306 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

307 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

308 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

309 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

310 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

311 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

312 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

313 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

314 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

315 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

317 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

319 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


320 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

321 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

324 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

325 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

326 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

327 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

328 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

329 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

330 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

331 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

332 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

333 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

334 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

336 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

338 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


339 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

340 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/dirent.h

22 #i‚def 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 #ifde‡
__USE_XOPEN


32 #i‚de‡
__öo_t_deföed


33 #i‚de‡
__USE_FILE_OFFSET64


34 
__öo_t
 
	töo_t
;

36 
__öo64_t
 
	töo_t
;

38 
	#__öo_t_deföed


	)

40 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


41 
__öo64_t
 
	töo64_t
;

42 
	#__öo64_t_deföed


	)

61 
	~<bôs/dúít.h
>

63 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
Ë&& !deföed 
d_fûío


64 
	#d_öo
 
d_fûío


	)

81 #ifde‡
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
Ë((d)->
d_«mÀn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
Ë(
	`_D_EXACT_NAMLEN
 (dË+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
Ë(
	`°æí
 ((d)->
d_«me
))

	)

86 #ifde‡
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
Ë(((*Ë(dË+ (d)->
d_ª˛í
Ë- &(d)->
d_«me
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
Ë( (d)->
d_«me
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
Ë+ 1)

	)

95 #ifde‡
__USE_BSD


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

121 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

127 
__dú°ªam
 
	tDIR
;

134 
DIR
 *
	$›ídú
 (c⁄° *
__«me
Ë
	`__n⁄nuŒ
 ((1));

136 #ifde‡
__USE_XOPEN2K8


141 
DIR
 *
	`fd›ídú
 (
__fd
);

149 
	$˛o£dú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

161 #i‚de‡
__USE_FILE_OFFSET64


162 
dúít
 *
	$ªaddú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

164 #ifde‡
__REDIRECT


165 
dúít
 *
	`__REDIRECT
 (
ªaddú
, (
DIR
 *
__dúp
), 
ªaddú64
)

166 
	`__n⁄nuŒ
 ((1));

168 
	#ªaddú
 
ªaddú64


	)

172 #ifde‡
__USE_LARGEFILE64


173 
dúít64
 *
	$ªaddú64
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

176 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


182 #i‚de‡
__USE_FILE_OFFSET64


183 
	$ªaddú_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

184 
dúít
 *
__ª°ri˘
 
__íåy
,

185 
dúít
 **
__ª°ri˘
 
__ªsu…
)

186 
	`__n⁄nuŒ
 ((1, 2, 3));

188 #ifde‡
__REDIRECT


189 
	`__REDIRECT
 (
ªaddú_r
,

190 (
DIR
 *
__ª°ri˘
 
__dúp
,

191 
dúít
 *
__ª°ri˘
 
__íåy
,

192 
dúít
 **
__ª°ri˘
 
__ªsu…
),

193 
ªaddú64_r
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

195 
	#ªaddú_r
 
ªaddú64_r


	)

199 #ifde‡
__USE_LARGEFILE64


200 
	$ªaddú64_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

201 
dúít64
 *
__ª°ri˘
 
__íåy
,

202 
dúít64
 **
__ª°ri˘
 
__ªsu…
)

203 
	`__n⁄nuŒ
 ((1, 2, 3));

208 
	$ªwöddú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

210 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


211 
	~<bôs/ty≥s.h
>

214 
	$£ekdú
 (
DIR
 *
__dúp
, 
__pos
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

217 
	$ãŒdú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

220 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


223 
	$dúfd
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

225 #i‡
deföed
 
__OPTIMIZE__
 && deföed 
_DIR_dúfd


226 
	#dúfd
(
dúp
Ë
	`_DIR_dúfd
 (dúp)

	)

229 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


230 #i‚de‡
MAXNAMLEN


232 
	~<bôs/posix1_lim.h
>

235 #ifde‡
NAME_MAX


236 
	#MAXNAMLEN
 
NAME_MAX


	)

238 
	#MAXNAMLEN
 255

	)

243 
	#__√ed_size_t


	)

244 
	~<°ddef.h
>

253 #i‚de‡
__USE_FILE_OFFSET64


254 
	`sˇndú
 (c⁄° *
__ª°ri˘
 
__dú
,

255 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

256 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

257 (*
__cmp
Ë(c⁄° 
dúít
 **,

258 c⁄° 
dúít
 **))

259 
	`__n⁄nuŒ
 ((1, 2));

261 #ifde‡
__REDIRECT


262 
	`__REDIRECT
 (
sˇndú
,

263 (c⁄° *
__ª°ri˘
 
__dú
,

264 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

265 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

266 (*
__cmp
Ë(c⁄° 
dúít
 **,

267 c⁄° 
dúít
 **)),

268 
sˇndú64
Ë
	`__n⁄nuŒ
 ((1, 2));

270 
	#sˇndú
 
sˇndú64


	)

274 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


277 
	`sˇndú64
 (c⁄° *
__ª°ri˘
 
__dú
,

278 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

279 (*
__£À˘‹
Ë(c⁄° 
dúít64
 *),

280 (*
__cmp
Ë(c⁄° 
dúít64
 **,

281 c⁄° 
dúít64
 **))

282 
	`__n⁄nuŒ
 ((1, 2));

285 #ifde‡
__USE_GNU


291 #i‚de‡
__USE_FILE_OFFSET64


292 
	`sˇndú©
 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

293 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

294 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

295 (*
__cmp
Ë(c⁄° 
dúít
 **,

296 c⁄° 
dúít
 **))

297 
	`__n⁄nuŒ
 ((2, 3));

299 #ifde‡
__REDIRECT


300 
	`__REDIRECT
 (
sˇndú©
,

301 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

302 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

303 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

304 (*
__cmp
Ë(c⁄° 
dúít
 **,

305 c⁄° 
dúít
 **)),

306 
sˇndú©64
Ë
	`__n⁄nuŒ
 ((2, 3));

308 
	#sˇndú©
 
sˇndú©64


	)

314 
	`sˇndú©64
 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

315 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

316 (*
__£À˘‹
Ë(c⁄° 
dúít64
 *),

317 (*
__cmp
Ë(c⁄° 
dúít64
 **,

318 c⁄° 
dúít64
 **))

319 
	`__n⁄nuŒ
 ((2, 3));

323 #i‚de‡
__USE_FILE_OFFSET64


324 
	$Æphas‹t
 (c⁄° 
dúít
 **
__e1
,

325 c⁄° 
dúít
 **
__e2
)

326 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

328 #ifde‡
__REDIRECT


329 
	`__REDIRECT_NTH
 (
Æphas‹t
,

330 (c⁄° 
dúít
 **
__e1
,

331 c⁄° 
dúít
 **
__e2
),

332 
Æphas‹t64
Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

334 
	#Æphas‹t
 
Æphas‹t64


	)

338 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


339 
	$Æphas‹t64
 (c⁄° 
dúít64
 **
__e1
,

340 c⁄° 
dúít64
 **
__e2
)

341 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

346 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


351 #i‚de‡
__USE_FILE_OFFSET64


352 
__ssize_t
 
	$gëdúíåõs
 (
__fd
, *
__ª°ri˘
 
__buf
,

353 
size_t
 
__nbyãs
,

354 
__off_t
 *
__ª°ri˘
 
__ba£p
)

355 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

357 #ifde‡
__REDIRECT


358 
__ssize_t
 
	`__REDIRECT_NTH
 (
gëdúíåõs
,

359 (
__fd
, *
__ª°ri˘
 
__buf
,

360 
size_t
 
__nbyãs
,

361 
__off64_t
 *
__ª°ri˘
 
__ba£p
),

362 
gëdúíåõs64
Ë
	`__n⁄nuŒ
 ((2, 4));

364 
	#gëdúíåõs
 
gëdúíåõs64


	)

368 #ifde‡
__USE_LARGEFILE64


369 
__ssize_t
 
	$gëdúíåõs64
 (
__fd
, *
__ª°ri˘
 
__buf
,

370 
size_t
 
__nbyãs
,

371 
__off64_t
 *
__ª°ri˘
 
__ba£p
)

372 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

376 #ifde‡
__USE_GNU


378 #i‚de‡
__USE_FILE_OFFSET64


379 
	$vîsi⁄s‹t
 (c⁄° 
dúít
 **
__e1
,

380 c⁄° 
dúít
 **
__e2
)

381 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

383 #ifde‡
__REDIRECT


384 
	`__REDIRECT_NTH
 (
vîsi⁄s‹t
,

385 (c⁄° 
dúít
 **
__e1
,

386 c⁄° 
dúít
 **
__e2
),

387 
vîsi⁄s‹t64
)

388 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

390 
	#vîsi⁄s‹t
 
vîsi⁄s‹t64


	)

394 #ifde‡
__USE_LARGEFILE64


395 
	$vîsi⁄s‹t64
 (c⁄° 
dúít64
 **
__e1
,

396 c⁄° 
dúít64
 **
__e2
)

397 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

401 
__END_DECLS


	@/usr/include/errno.h

22 #i‚def 
_ERRNO_H


26 #i‚def 
__√ed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


35 
	~<bôs/î∫o.h
>

36 #unde‡
__√ed_Em©h


38 #ifdef 
_ERRNO_H


45 #i‚def 
î∫o


46 
î∫o
;

49 #ifde‡
__USE_GNU


54 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

58 
	g__END_DECLS


66 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


67 #i‚de‡
__îr‹_t_deföed


68 
	tîr‹_t
;

69 
	#__îr‹_t_deföed
 1

	)

71 #unde‡
__√ed_îr‹_t


	@/usr/include/error.h

19 #i‚de‡
_ERROR_H


20 
	#_ERROR_H
 1

	)

22 
	~<„©uªs.h
>

25 
__BEGIN_DECLS


31 
	$îr‹
 (
__°©us
, 
__î∫um
, c⁄° *
__f‹m©
, ...)

32 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

34 
	$îr‹_©_löe
 (
__°©us
, 
__î∫um
, c⁄° *
__‚ame
,

35 
__löío
, c⁄° *
__f‹m©
, ...)

36 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 5, 6)));

41 (*
îr‹_¥öt_¥og«me
) ();

44 
îr‹_mesßge_cou¡
;

48 
îr‹_⁄e_≥r_löe
;

51 #i‡
deföed
 
__exã∫_Æways_ölöe
 && deföed 
__va_¨g_∑ck


52 
	~<bôs/îr‹.h
>

55 
__END_DECLS


	@/usr/include/fcntl.h

22 #i‚def 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

35 
	~<bôs/f˙é.h
>

40 #i‚de‡
__mode_t_deföed


41 
__mode_t
 
	tmode_t
;

42 
	#__mode_t_deföed


	)

45 #i‚de‡
__off_t_deföed


46 #i‚de‡
__USE_FILE_OFFSET64


47 
__off_t
 
	toff_t
;

49 
__off64_t
 
	toff_t
;

51 
	#__off_t_deföed


	)

54 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


55 
__off64_t
 
	toff64_t
;

56 
	#__off64_t_deföed


	)

59 #i‚de‡
__pid_t_deföed


60 
__pid_t
 
	tpid_t
;

61 
	#__pid_t_deföed


	)

65 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


66 
	#__√ed_time•ec


	)

67 
	~<time.h
>

68 
	~<bôs/°©.h
>

70 
	#S_IFMT
 
__S_IFMT


	)

71 
	#S_IFDIR
 
__S_IFDIR


	)

72 
	#S_IFCHR
 
__S_IFCHR


	)

73 
	#S_IFBLK
 
__S_IFBLK


	)

74 
	#S_IFREG
 
__S_IFREG


	)

75 #ifde‡
__S_IFIFO


76 
	#S_IFIFO
 
__S_IFIFO


	)

78 #ifde‡
__S_IFLNK


79 
	#S_IFLNK
 
__S_IFLNK


	)

81 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
Ë&& deföed 
__S_IFSOCK


82 
	#S_IFSOCK
 
__S_IFSOCK


	)

87 
	#S_ISUID
 
__S_ISUID


	)

88 
	#S_ISGID
 
__S_ISGID


	)

90 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


92 
	#S_ISVTX
 
__S_ISVTX


	)

95 
	#S_IRUSR
 
__S_IREAD


	)

96 
	#S_IWUSR
 
__S_IWRITE


	)

97 
	#S_IXUSR
 
__S_IEXEC


	)

99 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

101 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

102 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

103 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

105 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

107 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

108 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

109 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

111 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

114 #ifdef 
__USE_MISC


115 #i‚de‡
R_OK


118 
	#R_OK
 4

	)

119 
	#W_OK
 2

	)

120 
	#X_OK
 1

	)

121 
	#F_OK
 0

	)

126 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


127 
	#SEEK_SET
 0

	)

128 
	#SEEK_CUR
 1

	)

129 
	#SEEK_END
 2

	)

137 
f˙é
 (
__fd
, 
__cmd
, ...);

145 #i‚de‡
__USE_FILE_OFFSET64


146 
	$›í
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

148 #ifde‡
__REDIRECT


149 
	`__REDIRECT
 (
›í
, (c⁄° *
__fûe
, 
__oÊag
, ...), 
›í64
)

150 
	`__n⁄nuŒ
 ((1));

152 
	#›í
 
›í64


	)

155 #ifde‡
__USE_LARGEFILE64


156 
	$›í64
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

159 #ifde‡
__USE_ATFILE


169 #i‚de‡
__USE_FILE_OFFSET64


170 
	$›í©
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

171 
	`__n⁄nuŒ
 ((2));

173 #ifde‡
__REDIRECT


174 
	`__REDIRECT
 (
›í©
, (
__fd
, c⁄° *
__fûe
, 
__oÊag
,

175 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

177 
	#›í©
 
›í©64


	)

180 #ifde‡
__USE_LARGEFILE64


181 
	$›í©64
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

182 
	`__n⁄nuŒ
 ((2));

191 #i‚de‡
__USE_FILE_OFFSET64


192 
	$¸ót
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

194 #ifde‡
__REDIRECT


195 
	`__REDIRECT
 (
¸ót
, (c⁄° *
__fûe
, 
mode_t
 
__mode
),

196 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

198 
	#¸ót
 
¸ót64


	)

201 #ifde‡
__USE_LARGEFILE64


202 
	$¸ót64
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

205 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

206 && !
deföed
 
__USE_POSIX
))

215 
	#F_ULOCK
 0

	)

216 
	#F_LOCK
 1

	)

217 
	#F_TLOCK
 2

	)

218 
	#F_TEST
 3

	)

220 #i‚de‡
__USE_FILE_OFFSET64


221 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Àn
);

223 #ifde‡
__REDIRECT


224 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

226 
	#lockf
 
lockf64


	)

229 #ifde‡
__USE_LARGEFILE64


230 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Àn
);

234 #ifde‡
__USE_XOPEN2K


237 #i‚de‡
__USE_FILE_OFFSET64


238 
	$posix_Ádvi£
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
,

239 
__advi£
Ë
__THROW
;

241 #ifde‡
__REDIRECT_NTH


242 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

243 
__off64_t
 
__Àn
, 
__advi£
),

244 
posix_Ádvi£64
);

246 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

249 #ifde‡
__USE_LARGEFILE64


250 
	$posix_Ádvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
,

251 
__advi£
Ë
__THROW
;

259 #i‚de‡
__USE_FILE_OFFSET64


260 
	`posix_ÁŒoˇã
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
);

262 #ifde‡
__REDIRECT


263 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

264 
__off64_t
 
__Àn
),

265 
posix_ÁŒoˇã64
);

267 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

270 #ifde‡
__USE_LARGEFILE64


271 
	`posix_ÁŒoˇã64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
);

277 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄
 \

278 && 
deföed
 
__va_¨g_∑ck_Àn


279 
	~<bôs/f˙é2.h
>

282 
__END_DECLS


	@/usr/include/fnmatch.h

18 #i‚def 
_FNMATCH_H


19 
	#_FNMATCH_H
 1

	)

21 #ifdef 
__˝lu•lus


27 #unde‡
FNM_PATHNAME


28 #unde‡
FNM_NOESCAPE


29 #unde‡
FNM_PERIOD


32 
	#FNM_PATHNAME
 (1 << 0Ë

	)

33 
	#FNM_NOESCAPE
 (1 << 1Ë

	)

34 
	#FNM_PERIOD
 (1 << 2Ë

	)

36 #i‡!
deföed
 
_POSIX_C_SOURCE
 || _POSIX_C_SOURCE < 2 || deföed 
_GNU_SOURCE


37 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

38 
	#FNM_LEADING_DIR
 (1 << 3Ë

	)

39 
	#FNM_CASEFOLD
 (1 << 4Ë

	)

40 
	#FNM_EXTMATCH
 (1 << 5Ë

	)

44 
	#FNM_NOMATCH
 1

	)

50 #ifde‡
_XOPEN_SOURCE


51 
	#FNM_NOSYS
 (-1)

	)

56 
‚m©ch
 (c⁄° *
__∑âîn
, c⁄° *
__«me
, 
__Êags
);

58 #ifdef 
__˝lu•lus


	@/usr/include/getopt.h

19 #i‚de‡
_GETOPT_H


21 #i‚de‡
__√ed_gë›t


22 
	#_GETOPT_H
 1

	)

32 #i‡!
deföed
 
__GNU_LIBRARY__


33 
	~<˘y≥.h
>

36 #i‚de‡
__THROW


37 #i‚de‡
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

40 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__˝lu•lus


57 *
›èrg
;

71 
›töd
;

76 
›ãº
;

80 
›t›t
;

82 #i‚de‡
__√ed_gë›t


104 
	s›ti⁄


106 c⁄° *
	g«me
;

109 
	ghas_¨g
;

110 *
	gÊag
;

111 
	gvÆ
;

116 
	#no_¨gumít
 0

	)

117 
	#ªquúed_¨gumít
 1

	)

118 
	#›ti⁄Æ_¨gumít
 2

	)

146 #ifde‡
__GNU_LIBRARY__


150 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

151 
__THROW
;

153 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

154 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


158 #ifde‡
__REDIRECT


159 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

160 c⁄° *
__sh‹t›ts
),

161 
__posix_gë›t
);

163 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

164 c⁄° *
__sh‹t›ts
Ë
__THROW
;

165 
	#gë›t
 
__posix_gë›t


	)

169 
gë›t
 ();

172 #i‚de‡
__√ed_gë›t


173 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

174 c⁄° *
__sh‹t›ts
,

175 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

176 
__THROW
;

177 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

178 c⁄° *
__sh‹t›ts
,

179 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

180 
__THROW
;

184 #ifdef 
__˝lu•lus


189 #unde‡
__√ed_gë›t


	@/usr/include/grp.h

22 #i‚def 
_GRP_H


23 
	#_GRP_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 
	#__√ed_size_t


	)

32 
	~<°ddef.h
>

36 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K
Ë&& !deföed 
__gid_t_deföed


37 
__gid_t
 
	tgid_t
;

38 
	#__gid_t_deföed


	)

42 
	sgroup


44 *
	mgr_«me
;

45 *
	mgr_∑sswd
;

46 
__gid_t
 
	mgr_gid
;

47 **
	mgr_mem
;

51 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_GNU


52 
	#__√ed_FILE


	)

53 
	~<°dio.h
>

57 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


62 
£tgª¡
 ();

65 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

66 || 
deföed
 
__USE_XOPEN2K8


71 
ídgª¡
 ();

77 
group
 *
gëgª¡
 ();

80 #ifdef 
__USE_SVID


87 
group
 *
fgëgª¡
 (
FILE
 *
__°ªam
);

90 #ifde‡
__USE_GNU


97 
putgª¡
 (c⁄° 
group
 *
__ª°ri˘
 
__p
,

98 
FILE
 *
__ª°ri˘
 
__f
);

105 
group
 *
gëgrgid
 (
__gid_t
 
__gid
);

111 
group
 *
gëg∫am
 (c⁄° *
__«me
);

113 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


115 #ifde‡
__USE_MISC


118 
	#NSS_BUFLEN_GROUP
 1024

	)

134 #ifde‡
__USE_GNU


135 
gëgª¡_r
 (
group
 *
__ª°ri˘
 
__ªsu…buf
,

136 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

137 
group
 **
__ª°ri˘
 
__ªsu…
);

144 
gëgrgid_r
 (
__gid_t
 
__gid
, 
group
 *
__ª°ri˘
 
__ªsu…buf
,

145 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

146 
group
 **
__ª°ri˘
 
__ªsu…
);

152 
gëg∫am_r
 (c⁄° *
__ª°ri˘
 
__«me
,

153 
group
 *
__ª°ri˘
 
__ªsu…buf
,

154 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

155 
group
 **
__ª°ri˘
 
__ªsu…
);

157 #ifdef 
__USE_SVID


165 
fgëgª¡_r
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

166 
group
 *
__ª°ri˘
 
__ªsu…buf
,

167 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

168 
group
 **
__ª°ri˘
 
__ªsu…
);

174 #ifdef 
__USE_BSD


176 
	#__√ed_size_t


	)

177 
	~<°ddef.h
>

180 
	$£tgroups
 (
size_t
 
__n
, c⁄° 
__gid_t
 *
__groups
Ë
__THROW
;

190 
	`gëgrou∂i°
 (c⁄° *
__u£r
, 
__gid_t
 
__group
,

191 
__gid_t
 *
__groups
, *
__ngroups
);

201 
	`öôgroups
 (c⁄° *
__u£r
, 
__gid_t
 
__group
);

205 
__END_DECLS


	@/usr/include/inttypes.h

22 #i‚de‡
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<„©uªs.h
>

27 
	~<°döt.h
>

30 #i‚de‡
____gwch¨_t_deföed


31 #ifde‡
__˝lu•lus


32 
	#__gwch¨_t
 
wch¨_t


	)

33 #ñi‡
deföed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¨_t
;

36 
	#__√ed_wch¨_t


	)

37 
	~<°ddef.h
>

38 
wch¨_t
 
	t__gwch¨_t
;

40 
	#____gwch¨_t_deföed
 1

	)

43 #i‡
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Œ"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #i‡
__WORDSIZE
 == 64

273 
	mquŸ
;

274 
	mªm
;

275 } 
	timaxdiv_t
;

282 
__exãnsi⁄__
 
	mquŸ
;

283 
__exãnsi⁄__
 
	mªm
;

284 } 
	timaxdiv_t
;

290 
ötmax_t
 
	$imaxabs
 (
ötmax_t
 
__n
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
ötmax_t
 
__numî
, i¡max_à
__díom
)

294 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

297 
ötmax_t
 
	$°πoimax
 (c⁄° *
__ª°ri˘
 
__≈å
,

298 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

301 
uötmax_t
 
	$°πoumax
 (c⁄° *
__ª°ri˘
 
__≈å
,

302 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

305 
ötmax_t
 
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

306 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

307 
__THROW
;

310 
uötmax_t
 
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

311 
__gwch¨_t
 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
)

312 
__THROW
;

314 #ifde‡
__USE_EXTERN_INLINES


316 #i‡
__WORDSIZE
 == 64

318 
	$__°πﬁ_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

319 **
__ª°ri˘
 
__íd±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

323 
__exã∫_ölöe
 
ötmax_t


324 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

325 
ba£
))

327  
	`__°πﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

328 
	}
}

330 
	$__°πoul_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

331 ** 
__ª°ri˘
 
__íd±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

335 
__exã∫_ölöe
 
uötmax_t


336 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

337 
ba£
))

339  
	`__°πoul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc°ﬁ_öã∫Æ
 (c⁄° 
__gwch¨_t
 * 
__ª°ri˘
 
__≈å
,

343 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

347 
__exã∫_ölöe
 
ötmax_t


348 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

349 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

351  
	`__wc°ﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc°oul_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

355 
__ª°ri˘
 
__≈å
,

356 
__gwch¨_t
 **

357 
__ª°ri˘
 
__íd±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

361 
__exã∫_ölöe
 
uötmax_t


362 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

363 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

365  
	`__wc°oul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

366 
	}
}

370 
__exãnsi⁄__


371 
	$__°πﬁl_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

372 **
__ª°ri˘
 
__íd±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

376 
__exã∫_ölöe
 
ötmax_t


377 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

378 
ba£
))

380  
	`__°πﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

381 
	}
}

383 
__exãnsi⁄__


384 
	$__°πouŒ_öã∫Æ
 (const *

385 
__ª°ri˘
 
__≈å
,

387 
__ª°ri˘
 
__íd±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

392 
__exã∫_ölöe
 
uötmax_t


393 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

394 
ba£
))

396  
	`__°πouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

397 
	}
}

399 
__exãnsi⁄__


400 
	$__wc°ﬁl_öã∫Æ
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

401 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

405 
__exã∫_ölöe
 
ötmax_t


406 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

407 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

409  
	`__wc°ﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

410 
	}
}

413 
__exãnsi⁄__


414 
	$__wc°ouŒ_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

415 
__ª°ri˘
 
__≈å
,

416 
__gwch¨_t
 **

417 
__ª°ri˘
 
__íd±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

422 
__exã∫_ölöe
 
uötmax_t


423 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

424 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

426  
	`__wc°ouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/langinfo.h

19 #i‚de‡
_LANGINFO_H


20 
	#_LANGINFO_H
 1

	)

23 
	~<∆_ty≥s.h
>

25 
	~<bôs/loˇÀ.h
>

28 
	g__BEGIN_DECLS


34 
	#_NL_ITEM
(
ˇãg‹y
, 
ödex
Ë(((ˇãg‹yË<< 16Ë| (ödex))

	)

37 
	#_NL_ITEM_CATEGORY
(
ôem
Ë((Ë(ôemË>> 16)

	)

38 
	#_NL_ITEM_INDEX
(
ôem
Ë((Ë(ôemË& 0xffff)

	)

46 
	mABDAY_1
 = 
_NL_ITEM
 (
__LC_TIME
, 0),

47 
	#ABDAY_1
 
ABDAY_1


	)

48 
	mABDAY_2
,

49 
	#ABDAY_2
 
ABDAY_2


	)

50 
	mABDAY_3
,

51 
	#ABDAY_3
 
ABDAY_3


	)

52 
	mABDAY_4
,

53 
	#ABDAY_4
 
ABDAY_4


	)

54 
	mABDAY_5
,

55 
	#ABDAY_5
 
ABDAY_5


	)

56 
	mABDAY_6
,

57 
	#ABDAY_6
 
ABDAY_6


	)

58 
	mABDAY_7
,

59 
	#ABDAY_7
 
ABDAY_7


	)

62 
	mDAY_1
,

63 
	#DAY_1
 
DAY_1


	)

64 
	mDAY_2
,

65 
	#DAY_2
 
DAY_2


	)

66 
	mDAY_3
,

67 
	#DAY_3
 
DAY_3


	)

68 
	mDAY_4
,

69 
	#DAY_4
 
DAY_4


	)

70 
	mDAY_5
,

71 
	#DAY_5
 
DAY_5


	)

72 
	mDAY_6
,

73 
	#DAY_6
 
DAY_6


	)

74 
	mDAY_7
,

75 
	#DAY_7
 
DAY_7


	)

78 
	mABMON_1
,

79 
	#ABMON_1
 
ABMON_1


	)

80 
	mABMON_2
,

81 
	#ABMON_2
 
ABMON_2


	)

82 
	mABMON_3
,

83 
	#ABMON_3
 
ABMON_3


	)

84 
	mABMON_4
,

85 
	#ABMON_4
 
ABMON_4


	)

86 
	mABMON_5
,

87 
	#ABMON_5
 
ABMON_5


	)

88 
	mABMON_6
,

89 
	#ABMON_6
 
ABMON_6


	)

90 
	mABMON_7
,

91 
	#ABMON_7
 
ABMON_7


	)

92 
	mABMON_8
,

93 
	#ABMON_8
 
ABMON_8


	)

94 
	mABMON_9
,

95 
	#ABMON_9
 
ABMON_9


	)

96 
	mABMON_10
,

97 
	#ABMON_10
 
ABMON_10


	)

98 
	mABMON_11
,

99 
	#ABMON_11
 
ABMON_11


	)

100 
	mABMON_12
,

101 
	#ABMON_12
 
ABMON_12


	)

104 
	mMON_1
,

105 
	#MON_1
 
MON_1


	)

106 
	mMON_2
,

107 
	#MON_2
 
MON_2


	)

108 
	mMON_3
,

109 
	#MON_3
 
MON_3


	)

110 
	mMON_4
,

111 
	#MON_4
 
MON_4


	)

112 
	mMON_5
,

113 
	#MON_5
 
MON_5


	)

114 
	mMON_6
,

115 
	#MON_6
 
MON_6


	)

116 
	mMON_7
,

117 
	#MON_7
 
MON_7


	)

118 
	mMON_8
,

119 
	#MON_8
 
MON_8


	)

120 
	mMON_9
,

121 
	#MON_9
 
MON_9


	)

122 
	mMON_10
,

123 
	#MON_10
 
MON_10


	)

124 
	mMON_11
,

125 
	#MON_11
 
MON_11


	)

126 
	mMON_12
,

127 
	#MON_12
 
MON_12


	)

129 
	mAM_STR
,

130 
	#AM_STR
 
AM_STR


	)

131 
	mPM_STR
,

132 
	#PM_STR
 
PM_STR


	)

134 
	mD_T_FMT
,

135 
	#D_T_FMT
 
D_T_FMT


	)

136 
	mD_FMT
,

137 
	#D_FMT
 
D_FMT


	)

138 
	mT_FMT
,

139 
	#T_FMT
 
T_FMT


	)

140 
	mT_FMT_AMPM
,

141 
	#T_FMT_AMPM
 
T_FMT_AMPM


	)

143 
	mERA
,

144 
	#ERA
 
ERA


	)

145 
	m__ERA_YEAR
,

146 #ifde‡
__USE_GNU


147 
	#ERA_YEAR
 
__ERA_YEAR


	)

149 
	mERA_D_FMT
,

150 
	#ERA_D_FMT
 
ERA_D_FMT


	)

151 
	mALT_DIGITS
,

152 
	#ALT_DIGITS
 
ALT_DIGITS


	)

153 
	mERA_D_T_FMT
,

154 
	#ERA_D_T_FMT
 
ERA_D_T_FMT


	)

155 
	mERA_T_FMT
,

156 
	#ERA_T_FMT
 
ERA_T_FMT


	)

158 
	m_NL_TIME_ERA_NUM_ENTRIES
,

159 
	m_NL_TIME_ERA_ENTRIES
,

161 
	m_NL_WABDAY_1
,

162 
	m_NL_WABDAY_2
,

163 
	m_NL_WABDAY_3
,

164 
	m_NL_WABDAY_4
,

165 
	m_NL_WABDAY_5
,

166 
	m_NL_WABDAY_6
,

167 
	m_NL_WABDAY_7
,

170 
	m_NL_WDAY_1
,

171 
	m_NL_WDAY_2
,

172 
	m_NL_WDAY_3
,

173 
	m_NL_WDAY_4
,

174 
	m_NL_WDAY_5
,

175 
	m_NL_WDAY_6
,

176 
	m_NL_WDAY_7
,

179 
	m_NL_WABMON_1
,

180 
	m_NL_WABMON_2
,

181 
	m_NL_WABMON_3
,

182 
	m_NL_WABMON_4
,

183 
	m_NL_WABMON_5
,

184 
	m_NL_WABMON_6
,

185 
	m_NL_WABMON_7
,

186 
	m_NL_WABMON_8
,

187 
	m_NL_WABMON_9
,

188 
	m_NL_WABMON_10
,

189 
	m_NL_WABMON_11
,

190 
	m_NL_WABMON_12
,

193 
	m_NL_WMON_1
,

194 
	m_NL_WMON_2
,

195 
	m_NL_WMON_3
,

196 
	m_NL_WMON_4
,

197 
	m_NL_WMON_5
,

198 
	m_NL_WMON_6
,

199 
	m_NL_WMON_7
,

200 
	m_NL_WMON_8
,

201 
	m_NL_WMON_9
,

202 
	m_NL_WMON_10
,

203 
	m_NL_WMON_11
,

204 
	m_NL_WMON_12
,

206 
	m_NL_WAM_STR
,

207 
	m_NL_WPM_STR
,

209 
	m_NL_WD_T_FMT
,

210 
	m_NL_WD_FMT
,

211 
	m_NL_WT_FMT
,

212 
	m_NL_WT_FMT_AMPM
,

214 
	m_NL_WERA_YEAR
,

215 
	m_NL_WERA_D_FMT
,

216 
	m_NL_WALT_DIGITS
,

217 
	m_NL_WERA_D_T_FMT
,

218 
	m_NL_WERA_T_FMT
,

220 
	m_NL_TIME_WEEK_NDAYS
,

221 
	m_NL_TIME_WEEK_1STDAY
,

222 
	m_NL_TIME_WEEK_1STWEEK
,

223 
	m_NL_TIME_FIRST_WEEKDAY
,

224 
	m_NL_TIME_FIRST_WORKDAY
,

225 
	m_NL_TIME_CAL_DIRECTION
,

226 
	m_NL_TIME_TIMEZONE
,

228 
	m_DATE_FMT
,

229 
	#_DATE_FMT
 
_DATE_FMT


	)

230 
	m_NL_W_DATE_FMT
,

232 
	m_NL_TIME_CODESET
,

234 
	m_NL_NUM_LC_TIME
,

239 
	m_NL_COLLATE_NRULES
 = 
_NL_ITEM
 (
__LC_COLLATE
, 0),

240 
	m_NL_COLLATE_RULESETS
,

241 
	m_NL_COLLATE_TABLEMB
,

242 
	m_NL_COLLATE_WEIGHTMB
,

243 
	m_NL_COLLATE_EXTRAMB
,

244 
	m_NL_COLLATE_INDIRECTMB
,

245 
	m_NL_COLLATE_GAP1
,

246 
	m_NL_COLLATE_GAP2
,

247 
	m_NL_COLLATE_GAP3
,

248 
	m_NL_COLLATE_TABLEWC
,

249 
	m_NL_COLLATE_WEIGHTWC
,

250 
	m_NL_COLLATE_EXTRAWC
,

251 
	m_NL_COLLATE_INDIRECTWC
,

252 
	m_NL_COLLATE_SYMB_HASH_SIZEMB
,

253 
	m_NL_COLLATE_SYMB_TABLEMB
,

254 
	m_NL_COLLATE_SYMB_EXTRAMB
,

255 
	m_NL_COLLATE_COLLSEQMB
,

256 
	m_NL_COLLATE_COLLSEQWC
,

257 
	m_NL_COLLATE_CODESET
,

258 
	m_NL_NUM_LC_COLLATE
,

263 
	m_NL_CTYPE_CLASS
 = 
_NL_ITEM
 (
__LC_CTYPE
, 0),

264 
	m_NL_CTYPE_TOUPPER
,

265 
	m_NL_CTYPE_GAP1
,

266 
	m_NL_CTYPE_TOLOWER
,

267 
	m_NL_CTYPE_GAP2
,

268 
	m_NL_CTYPE_CLASS32
,

269 
	m_NL_CTYPE_GAP3
,

270 
	m_NL_CTYPE_GAP4
,

271 
	m_NL_CTYPE_GAP5
,

272 
	m_NL_CTYPE_GAP6
,

273 
	m_NL_CTYPE_CLASS_NAMES
,

274 
	m_NL_CTYPE_MAP_NAMES
,

275 
	m_NL_CTYPE_WIDTH
,

276 
	m_NL_CTYPE_MB_CUR_MAX
,

277 
	m_NL_CTYPE_CODESET_NAME
,

278 
	mCODESET
 = 
_NL_CTYPE_CODESET_NAME
,

279 
	#CODESET
 
CODESET


	)

280 
	m_NL_CTYPE_TOUPPER32
,

281 
	m_NL_CTYPE_TOLOWER32
,

282 
	m_NL_CTYPE_CLASS_OFFSET
,

283 
	m_NL_CTYPE_MAP_OFFSET
,

284 
	m_NL_CTYPE_INDIGITS_MB_LEN
,

285 
	m_NL_CTYPE_INDIGITS0_MB
,

286 
	m_NL_CTYPE_INDIGITS1_MB
,

287 
	m_NL_CTYPE_INDIGITS2_MB
,

288 
	m_NL_CTYPE_INDIGITS3_MB
,

289 
	m_NL_CTYPE_INDIGITS4_MB
,

290 
	m_NL_CTYPE_INDIGITS5_MB
,

291 
	m_NL_CTYPE_INDIGITS6_MB
,

292 
	m_NL_CTYPE_INDIGITS7_MB
,

293 
	m_NL_CTYPE_INDIGITS8_MB
,

294 
	m_NL_CTYPE_INDIGITS9_MB
,

295 
	m_NL_CTYPE_INDIGITS_WC_LEN
,

296 
	m_NL_CTYPE_INDIGITS0_WC
,

297 
	m_NL_CTYPE_INDIGITS1_WC
,

298 
	m_NL_CTYPE_INDIGITS2_WC
,

299 
	m_NL_CTYPE_INDIGITS3_WC
,

300 
	m_NL_CTYPE_INDIGITS4_WC
,

301 
	m_NL_CTYPE_INDIGITS5_WC
,

302 
	m_NL_CTYPE_INDIGITS6_WC
,

303 
	m_NL_CTYPE_INDIGITS7_WC
,

304 
	m_NL_CTYPE_INDIGITS8_WC
,

305 
	m_NL_CTYPE_INDIGITS9_WC
,

306 
	m_NL_CTYPE_OUTDIGIT0_MB
,

307 
	m_NL_CTYPE_OUTDIGIT1_MB
,

308 
	m_NL_CTYPE_OUTDIGIT2_MB
,

309 
	m_NL_CTYPE_OUTDIGIT3_MB
,

310 
	m_NL_CTYPE_OUTDIGIT4_MB
,

311 
	m_NL_CTYPE_OUTDIGIT5_MB
,

312 
	m_NL_CTYPE_OUTDIGIT6_MB
,

313 
	m_NL_CTYPE_OUTDIGIT7_MB
,

314 
	m_NL_CTYPE_OUTDIGIT8_MB
,

315 
	m_NL_CTYPE_OUTDIGIT9_MB
,

316 
	m_NL_CTYPE_OUTDIGIT0_WC
,

317 
	m_NL_CTYPE_OUTDIGIT1_WC
,

318 
	m_NL_CTYPE_OUTDIGIT2_WC
,

319 
	m_NL_CTYPE_OUTDIGIT3_WC
,

320 
	m_NL_CTYPE_OUTDIGIT4_WC
,

321 
	m_NL_CTYPE_OUTDIGIT5_WC
,

322 
	m_NL_CTYPE_OUTDIGIT6_WC
,

323 
	m_NL_CTYPE_OUTDIGIT7_WC
,

324 
	m_NL_CTYPE_OUTDIGIT8_WC
,

325 
	m_NL_CTYPE_OUTDIGIT9_WC
,

326 
	m_NL_CTYPE_TRANSLIT_TAB_SIZE
,

327 
	m_NL_CTYPE_TRANSLIT_FROM_IDX
,

328 
	m_NL_CTYPE_TRANSLIT_FROM_TBL
,

329 
	m_NL_CTYPE_TRANSLIT_TO_IDX
,

330 
	m_NL_CTYPE_TRANSLIT_TO_TBL
,

331 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING_LEN
,

332 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING
,

333 
	m_NL_CTYPE_TRANSLIT_IGNORE_LEN
,

334 
	m_NL_CTYPE_TRANSLIT_IGNORE
,

335 
	m_NL_CTYPE_MAP_TO_NONASCII
,

336 
	m_NL_CTYPE_NONASCII_CASE
,

337 
	m_NL_CTYPE_EXTRA_MAP_1
,

338 
	m_NL_CTYPE_EXTRA_MAP_2
,

339 
	m_NL_CTYPE_EXTRA_MAP_3
,

340 
	m_NL_CTYPE_EXTRA_MAP_4
,

341 
	m_NL_CTYPE_EXTRA_MAP_5
,

342 
	m_NL_CTYPE_EXTRA_MAP_6
,

343 
	m_NL_CTYPE_EXTRA_MAP_7
,

344 
	m_NL_CTYPE_EXTRA_MAP_8
,

345 
	m_NL_CTYPE_EXTRA_MAP_9
,

346 
	m_NL_CTYPE_EXTRA_MAP_10
,

347 
	m_NL_CTYPE_EXTRA_MAP_11
,

348 
	m_NL_CTYPE_EXTRA_MAP_12
,

349 
	m_NL_CTYPE_EXTRA_MAP_13
,

350 
	m_NL_CTYPE_EXTRA_MAP_14
,

351 
	m_NL_NUM_LC_CTYPE
,

356 
	m__INT_CURR_SYMBOL
 = 
_NL_ITEM
 (
__LC_MONETARY
, 0),

357 #ifde‡
__USE_GNU


358 
	#INT_CURR_SYMBOL
 
__INT_CURR_SYMBOL


	)

360 
	m__CURRENCY_SYMBOL
,

361 #ifde‡
__USE_GNU


362 
	#CURRENCY_SYMBOL
 
__CURRENCY_SYMBOL


	)

364 
	m__MON_DECIMAL_POINT
,

365 #ifde‡
__USE_GNU


366 
	#MON_DECIMAL_POINT
 
__MON_DECIMAL_POINT


	)

368 
	m__MON_THOUSANDS_SEP
,

369 #ifde‡
__USE_GNU


370 
	#MON_THOUSANDS_SEP
 
__MON_THOUSANDS_SEP


	)

372 
	m__MON_GROUPING
,

373 #ifde‡
__USE_GNU


374 
	#MON_GROUPING
 
__MON_GROUPING


	)

376 
	m__POSITIVE_SIGN
,

377 #ifde‡
__USE_GNU


378 
	#POSITIVE_SIGN
 
__POSITIVE_SIGN


	)

380 
	m__NEGATIVE_SIGN
,

381 #ifde‡
__USE_GNU


382 
	#NEGATIVE_SIGN
 
__NEGATIVE_SIGN


	)

384 
	m__INT_FRAC_DIGITS
,

385 #ifde‡
__USE_GNU


386 
	#INT_FRAC_DIGITS
 
__INT_FRAC_DIGITS


	)

388 
	m__FRAC_DIGITS
,

389 #ifde‡
__USE_GNU


390 
	#FRAC_DIGITS
 
__FRAC_DIGITS


	)

392 
	m__P_CS_PRECEDES
,

393 #ifde‡
__USE_GNU


394 
	#P_CS_PRECEDES
 
__P_CS_PRECEDES


	)

396 
	m__P_SEP_BY_SPACE
,

397 #ifde‡
__USE_GNU


398 
	#P_SEP_BY_SPACE
 
__P_SEP_BY_SPACE


	)

400 
	m__N_CS_PRECEDES
,

401 #ifde‡
__USE_GNU


402 
	#N_CS_PRECEDES
 
__N_CS_PRECEDES


	)

404 
	m__N_SEP_BY_SPACE
,

405 #ifde‡
__USE_GNU


406 
	#N_SEP_BY_SPACE
 
__N_SEP_BY_SPACE


	)

408 
	m__P_SIGN_POSN
,

409 #ifde‡
__USE_GNU


410 
	#P_SIGN_POSN
 
__P_SIGN_POSN


	)

412 
	m__N_SIGN_POSN
,

413 #ifde‡
__USE_GNU


414 
	#N_SIGN_POSN
 
__N_SIGN_POSN


	)

416 
	m_NL_MONETARY_CRNCYSTR
,

417 
	#CRNCYSTR
 
_NL_MONETARY_CRNCYSTR


	)

418 
	m__INT_P_CS_PRECEDES
,

419 #ifde‡
__USE_GNU


420 
	#INT_P_CS_PRECEDES
 
__INT_P_CS_PRECEDES


	)

422 
	m__INT_P_SEP_BY_SPACE
,

423 #ifde‡
__USE_GNU


424 
	#INT_P_SEP_BY_SPACE
 
__INT_P_SEP_BY_SPACE


	)

426 
	m__INT_N_CS_PRECEDES
,

427 #ifde‡
__USE_GNU


428 
	#INT_N_CS_PRECEDES
 
__INT_N_CS_PRECEDES


	)

430 
	m__INT_N_SEP_BY_SPACE
,

431 #ifde‡
__USE_GNU


432 
	#INT_N_SEP_BY_SPACE
 
__INT_N_SEP_BY_SPACE


	)

434 
	m__INT_P_SIGN_POSN
,

435 #ifde‡
__USE_GNU


436 
	#INT_P_SIGN_POSN
 
__INT_P_SIGN_POSN


	)

438 
	m__INT_N_SIGN_POSN
,

439 #ifde‡
__USE_GNU


440 
	#INT_N_SIGN_POSN
 
__INT_N_SIGN_POSN


	)

442 
	m_NL_MONETARY_DUO_INT_CURR_SYMBOL
,

443 
	m_NL_MONETARY_DUO_CURRENCY_SYMBOL
,

444 
	m_NL_MONETARY_DUO_INT_FRAC_DIGITS
,

445 
	m_NL_MONETARY_DUO_FRAC_DIGITS
,

446 
	m_NL_MONETARY_DUO_P_CS_PRECEDES
,

447 
	m_NL_MONETARY_DUO_P_SEP_BY_SPACE
,

448 
	m_NL_MONETARY_DUO_N_CS_PRECEDES
,

449 
	m_NL_MONETARY_DUO_N_SEP_BY_SPACE
,

450 
	m_NL_MONETARY_DUO_INT_P_CS_PRECEDES
,

451 
	m_NL_MONETARY_DUO_INT_P_SEP_BY_SPACE
,

452 
	m_NL_MONETARY_DUO_INT_N_CS_PRECEDES
,

453 
	m_NL_MONETARY_DUO_INT_N_SEP_BY_SPACE
,

454 
	m_NL_MONETARY_DUO_P_SIGN_POSN
,

455 
	m_NL_MONETARY_DUO_N_SIGN_POSN
,

456 
	m_NL_MONETARY_DUO_INT_P_SIGN_POSN
,

457 
	m_NL_MONETARY_DUO_INT_N_SIGN_POSN
,

458 
	m_NL_MONETARY_UNO_VALID_FROM
,

459 
	m_NL_MONETARY_UNO_VALID_TO
,

460 
	m_NL_MONETARY_DUO_VALID_FROM
,

461 
	m_NL_MONETARY_DUO_VALID_TO
,

462 
	m_NL_MONETARY_CONVERSION_RATE
,

463 
	m_NL_MONETARY_DECIMAL_POINT_WC
,

464 
	m_NL_MONETARY_THOUSANDS_SEP_WC
,

465 
	m_NL_MONETARY_CODESET
,

466 
	m_NL_NUM_LC_MONETARY
,

470 
	m__DECIMAL_POINT
 = 
_NL_ITEM
 (
__LC_NUMERIC
, 0),

471 #ifde‡
__USE_GNU


472 
	#DECIMAL_POINT
 
__DECIMAL_POINT


	)

474 
	mRADIXCHAR
 = 
__DECIMAL_POINT
,

475 
	#RADIXCHAR
 
RADIXCHAR


	)

476 
	m__THOUSANDS_SEP
,

477 #ifde‡
__USE_GNU


478 
	#THOUSANDS_SEP
 
__THOUSANDS_SEP


	)

480 
	mTHOUSEP
 = 
__THOUSANDS_SEP
,

481 
	#THOUSEP
 
THOUSEP


	)

482 
	m__GROUPING
,

483 #ifde‡
__USE_GNU


484 
	#GROUPING
 
__GROUPING


	)

486 
	m_NL_NUMERIC_DECIMAL_POINT_WC
,

487 
	m_NL_NUMERIC_THOUSANDS_SEP_WC
,

488 
	m_NL_NUMERIC_CODESET
,

489 
	m_NL_NUM_LC_NUMERIC
,

491 
	m__YESEXPR
 = 
_NL_ITEM
 (
__LC_MESSAGES
, 0),

492 
	#YESEXPR
 
__YESEXPR


	)

493 
	m__NOEXPR
,

494 
	#NOEXPR
 
__NOEXPR


	)

495 
	m__YESSTR
,

496 #i‡
deföed
 
__USE_GNU
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

497 
	#YESSTR
 
__YESSTR


	)

499 
	m__NOSTR
,

500 #i‡
deföed
 
__USE_GNU
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

501 
	#NOSTR
 
__NOSTR


	)

503 
	m_NL_MESSAGES_CODESET
,

504 
	m_NL_NUM_LC_MESSAGES
,

506 
	m_NL_PAPER_HEIGHT
 = 
_NL_ITEM
 (
__LC_PAPER
, 0),

507 
	m_NL_PAPER_WIDTH
,

508 
	m_NL_PAPER_CODESET
,

509 
	m_NL_NUM_LC_PAPER
,

511 
	m_NL_NAME_NAME_FMT
 = 
_NL_ITEM
 (
__LC_NAME
, 0),

512 
	m_NL_NAME_NAME_GEN
,

513 
	m_NL_NAME_NAME_MR
,

514 
	m_NL_NAME_NAME_MRS
,

515 
	m_NL_NAME_NAME_MISS
,

516 
	m_NL_NAME_NAME_MS
,

517 
	m_NL_NAME_CODESET
,

518 
	m_NL_NUM_LC_NAME
,

520 
	m_NL_ADDRESS_POSTAL_FMT
 = 
_NL_ITEM
 (
__LC_ADDRESS
, 0),

521 
	m_NL_ADDRESS_COUNTRY_NAME
,

522 
	m_NL_ADDRESS_COUNTRY_POST
,

523 
	m_NL_ADDRESS_COUNTRY_AB2
,

524 
	m_NL_ADDRESS_COUNTRY_AB3
,

525 
	m_NL_ADDRESS_COUNTRY_CAR
,

526 
	m_NL_ADDRESS_COUNTRY_NUM
,

527 
	m_NL_ADDRESS_COUNTRY_ISBN
,

528 
	m_NL_ADDRESS_LANG_NAME
,

529 
	m_NL_ADDRESS_LANG_AB
,

530 
	m_NL_ADDRESS_LANG_TERM
,

531 
	m_NL_ADDRESS_LANG_LIB
,

532 
	m_NL_ADDRESS_CODESET
,

533 
	m_NL_NUM_LC_ADDRESS
,

535 
	m_NL_TELEPHONE_TEL_INT_FMT
 = 
_NL_ITEM
 (
__LC_TELEPHONE
, 0),

536 
	m_NL_TELEPHONE_TEL_DOM_FMT
,

537 
	m_NL_TELEPHONE_INT_SELECT
,

538 
	m_NL_TELEPHONE_INT_PREFIX
,

539 
	m_NL_TELEPHONE_CODESET
,

540 
	m_NL_NUM_LC_TELEPHONE
,

542 
	m_NL_MEASUREMENT_MEASUREMENT
 = 
_NL_ITEM
 (
__LC_MEASUREMENT
, 0),

543 
	m_NL_MEASUREMENT_CODESET
,

544 
	m_NL_NUM_LC_MEASUREMENT
,

546 
	m_NL_IDENTIFICATION_TITLE
 = 
_NL_ITEM
 (
__LC_IDENTIFICATION
, 0),

547 
	m_NL_IDENTIFICATION_SOURCE
,

548 
	m_NL_IDENTIFICATION_ADDRESS
,

549 
	m_NL_IDENTIFICATION_CONTACT
,

550 
	m_NL_IDENTIFICATION_EMAIL
,

551 
	m_NL_IDENTIFICATION_TEL
,

552 
	m_NL_IDENTIFICATION_FAX
,

553 
	m_NL_IDENTIFICATION_LANGUAGE
,

554 
	m_NL_IDENTIFICATION_TERRITORY
,

555 
	m_NL_IDENTIFICATION_AUDIENCE
,

556 
	m_NL_IDENTIFICATION_APPLICATION
,

557 
	m_NL_IDENTIFICATION_ABBREVIATION
,

558 
	m_NL_IDENTIFICATION_REVISION
,

559 
	m_NL_IDENTIFICATION_DATE
,

560 
	m_NL_IDENTIFICATION_CATEGORY
,

561 
	m_NL_IDENTIFICATION_CODESET
,

562 
	m_NL_NUM_LC_IDENTIFICATION
,

565 
	m_NL_NUM


570 
	#_NL_LOCALE_NAME
(
ˇãg‹y
Ë
	`_NL_ITEM
 ((category), \

571 
	`_NL_ITEM_INDEX
 (-1))

	)

572 #ifde‡
__USE_GNU


573 
	#NL_LOCALE_NAME
(
ˇãg‹y
Ë
	`_NL_LOCALE_NAME
 (ˇãg‹y)

	)

583 *
	$∆_œngöfo
 (
∆_ôem
 
__ôem
Ë
__THROW
;

586 #ifdef 
__USE_XOPEN2K


591 
	~<xloˇÀ.h
>

594 *
	`∆_œngöfo_l
 (
∆_ôem
 
__ôem
, 
__loˇÀ_t
 
__l
);

597 
__END_DECLS


	@/usr/include/limits.h

22 #i‚de‡
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<„©uªs.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

41 #i‚de‡
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<bôs/w‹dsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifde‡
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #i‡
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #i‡
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifde‡
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


123 #ö˛ude_√xà<
limôs
.
h
>

129 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


130 #i‚de‡
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #i‚de‡
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #i‚de‡
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<bôs/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<bôs/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<bôs/x›í_lim.h
>

	@/usr/include/locale.h

22 #i‚def 
_LOCALE_H


23 
	#_LOCALE_H
 1

	)

25 
	~<„©uªs.h
>

27 
	#__√ed_NULL


	)

28 
	~<°ddef.h
>

29 
	~<bôs/loˇÀ.h
>

31 
	g__BEGIN_DECLS


35 
	#LC_CTYPE
 
__LC_CTYPE


	)

36 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

37 
	#LC_TIME
 
__LC_TIME


	)

38 
	#LC_COLLATE
 
__LC_COLLATE


	)

39 
	#LC_MONETARY
 
__LC_MONETARY


	)

40 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

41 
	#LC_ALL
 
__LC_ALL


	)

42 
	#LC_PAPER
 
__LC_PAPER


	)

43 
	#LC_NAME
 
__LC_NAME


	)

44 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

45 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

46 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

47 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

50 
__BEGIN_NAMESPACE_STD


53 
	slc⁄v


57 *
	mdecimÆ_poöt
;

58 *
	mthoußnds_£p
;

64 *
	mgroupög
;

70 *
	möt_cuº_symbﬁ
;

71 *
	mcuºícy_symbﬁ
;

72 *
	mm⁄_decimÆ_poöt
;

73 *
	mm⁄_thoußnds_£p
;

74 *
	mm⁄_groupög
;

75 *
	mposôive_sign
;

76 *
	m√g©ive_sign
;

77 
	möt_‰ac_digôs
;

78 
	m‰ac_digôs
;

80 
	mp_cs_¥e˚des
;

82 
	mp_£p_by_•a˚
;

84 
	mn_cs_¥e˚des
;

86 
	mn_£p_by_•a˚
;

93 
	mp_sign_po¢
;

94 
	mn_sign_po¢
;

95 #ifde‡
__USE_ISOC99


97 
	möt_p_cs_¥e˚des
;

99 
	möt_p_£p_by_•a˚
;

101 
	möt_n_cs_¥e˚des
;

103 
	möt_n_£p_by_•a˚
;

110 
	möt_p_sign_po¢
;

111 
	möt_n_sign_po¢
;

113 
	m__öt_p_cs_¥e˚des
;

114 
	m__öt_p_£p_by_•a˚
;

115 
	m__öt_n_cs_¥e˚des
;

116 
	m__öt_n_£p_by_•a˚
;

117 
	m__öt_p_sign_po¢
;

118 
	m__öt_n_sign_po¢
;

124 *
	$£éoˇÀ
 (
__ˇãg‹y
, c⁄° *
__loˇÀ
Ë
__THROW
;

127 
lc⁄v
 *
	$loˇÀc⁄v
 (Ë
__THROW
;

129 
__END_NAMESPACE_STD


132 #ifdef 
__USE_XOPEN2K8


145 
	~<xloˇÀ.h
>

151 
__loˇÀ_t
 
	$√wloˇÀ
 (
__ˇãg‹y_mask
, c⁄° *
__loˇÀ
,

152 
__loˇÀ_t
 
__ba£
Ë
__THROW
;

158 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

159 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

160 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

161 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

162 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

163 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

164 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

165 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

166 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

167 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

168 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

169 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

170 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

171 | 
LC_NUMERIC_MASK
 \

172 | 
LC_TIME_MASK
 \

173 | 
LC_COLLATE_MASK
 \

174 | 
LC_MONETARY_MASK
 \

175 | 
LC_MESSAGES_MASK
 \

176 | 
LC_PAPER_MASK
 \

177 | 
LC_NAME_MASK
 \

178 | 
LC_ADDRESS_MASK
 \

179 | 
LC_TELEPHONE_MASK
 \

180 | 
LC_MEASUREMENT_MASK
 \

181 | 
LC_IDENTIFICATION_MASK
 \

182 )

	)

186 
__loˇÀ_t
 
	$du∂oˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

190 
	$‰ìloˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

197 
__loˇÀ_t
 
	$u£loˇÀ
 (
__loˇÀ_t
 
__d©a£t
Ë
__THROW
;

201 
	#LC_GLOBAL_LOCALE
 ((
__loˇÀ_t
Ë-1L)

	)

205 
__END_DECLS


	@/usr/include/netinet/in.h

18 #i‚def 
_NETINET_IN_H


19 
	#_NETINET_IN_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<°döt.h
>

23 
	~<sys/sockë.h
>

24 
	~<bôs/ty≥s.h
>

27 
__BEGIN_DECLS


30 
uöt32_t
 
	tö_addr_t
;

31 
	sö_addr


33 
ö_addr_t
 
	ms_addr
;

37 
	~<bôs/ö.h
>

42 
	mIPPROTO_IP
 = 0,

43 
	#IPPROTO_IP
 
IPPROTO_IP


	)

44 
	mIPPROTO_ICMP
 = 1,

45 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

46 
	mIPPROTO_IGMP
 = 2,

47 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

48 
	mIPPROTO_IPIP
 = 4,

49 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

50 
	mIPPROTO_TCP
 = 6,

51 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

52 
	mIPPROTO_EGP
 = 8,

53 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

54 
	mIPPROTO_PUP
 = 12,

55 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

56 
	mIPPROTO_UDP
 = 17,

57 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

58 
	mIPPROTO_IDP
 = 22,

59 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

60 
	mIPPROTO_TP
 = 29,

61 
	#IPPROTO_TP
 
IPPROTO_TP


	)

62 
	mIPPROTO_DCCP
 = 33,

63 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

64 
	mIPPROTO_IPV6
 = 41,

65 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

66 
	mIPPROTO_RSVP
 = 46,

67 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

68 
	mIPPROTO_GRE
 = 47,

69 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

70 
	mIPPROTO_ESP
 = 50,

71 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

72 
	mIPPROTO_AH
 = 51,

73 
	#IPPROTO_AH
 
IPPROTO_AH


	)

74 
	mIPPROTO_MTP
 = 92,

75 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

76 
	mIPPROTO_BEETPH
 = 94,

77 
	#IPPROTO_BEETPH
 
IPPROTO_BEETPH


	)

78 
	mIPPROTO_ENCAP
 = 98,

79 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

80 
	mIPPROTO_PIM
 = 103,

81 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

82 
	mIPPROTO_COMP
 = 108,

83 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

84 
	mIPPROTO_SCTP
 = 132,

85 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

86 
	mIPPROTO_UDPLITE
 = 136,

87 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

88 
	mIPPROTO_RAW
 = 255,

89 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

90 
	mIPPROTO_MAX


96 #i‚de‡
__USE_KERNEL_IPV6_DEFS


99 
	mIPPROTO_HOPOPTS
 = 0,

100 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

101 
	mIPPROTO_ROUTING
 = 43,

102 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

103 
	mIPPROTO_FRAGMENT
 = 44,

104 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

105 
	mIPPROTO_ICMPV6
 = 58,

106 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

107 
	mIPPROTO_NONE
 = 59,

108 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

109 
	mIPPROTO_DSTOPTS
 = 60,

110 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

111 
	mIPPROTO_MH
 = 135

112 
	#IPPROTO_MH
 
IPPROTO_MH


	)

117 
uöt16_t
 
	tö_p‹t_t
;

122 
	mIPPORT_ECHO
 = 7,

123 
	mIPPORT_DISCARD
 = 9,

124 
	mIPPORT_SYSTAT
 = 11,

125 
	mIPPORT_DAYTIME
 = 13,

126 
	mIPPORT_NETSTAT
 = 15,

127 
	mIPPORT_FTP
 = 21,

128 
	mIPPORT_TELNET
 = 23,

129 
	mIPPORT_SMTP
 = 25,

130 
	mIPPORT_TIMESERVER
 = 37,

131 
	mIPPORT_NAMESERVER
 = 42,

132 
	mIPPORT_WHOIS
 = 43,

133 
	mIPPORT_MTP
 = 57,

135 
	mIPPORT_TFTP
 = 69,

136 
	mIPPORT_RJE
 = 77,

137 
	mIPPORT_FINGER
 = 79,

138 
	mIPPORT_TTYLINK
 = 87,

139 
	mIPPORT_SUPDUP
 = 95,

142 
	mIPPORT_EXECSERVER
 = 512,

143 
	mIPPORT_LOGINSERVER
 = 513,

144 
	mIPPORT_CMDSERVER
 = 514,

145 
	mIPPORT_EFSSERVER
 = 520,

148 
	mIPPORT_BIFFUDP
 = 512,

149 
	mIPPORT_WHOSERVER
 = 513,

150 
	mIPPORT_ROUTESERVER
 = 520,

153 
	mIPPORT_RESERVED
 = 1024,

156 
	mIPPORT_USERRESERVED
 = 5000

164 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

165 
	#IN_CLASSA_NET
 0xff000000

	)

166 
	#IN_CLASSA_NSHIFT
 24

	)

167 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

168 
	#IN_CLASSA_MAX
 128

	)

170 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

171 
	#IN_CLASSB_NET
 0xffff0000

	)

172 
	#IN_CLASSB_NSHIFT
 16

	)

173 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

174 
	#IN_CLASSB_MAX
 65536

	)

176 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

177 
	#IN_CLASSC_NET
 0xffffff00

	)

178 
	#IN_CLASSC_NSHIFT
 8

	)

179 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

181 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

182 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

184 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

185 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

188 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

190 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

192 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

195 
	#IN_LOOPBACKNET
 127

	)

197 #i‚de‡
INADDR_LOOPBACK


198 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

202 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

203 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

204 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

205 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

207 #i‚de‡
__USE_KERNEL_IPV6_DEFS


209 
	sö6_addr


213 
uöt8_t
 
	m__u6_addr8
[16];

214 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


215 
uöt16_t
 
	m__u6_addr16
[8];

216 
uöt32_t
 
	m__u6_addr32
[4];

218 } 
	m__ö6_u
;

219 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

220 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


221 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

222 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

227 c⁄° 
ö6_addr
 
ö6addr_™y
;

228 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

229 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

230 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

232 
	#INET_ADDRSTRLEN
 16

	)

233 
	#INET6_ADDRSTRLEN
 46

	)

237 
	ssockaddr_ö


239 
__SOCKADDR_COMMON
 (
sö_
);

240 
ö_p‹t_t
 
	msö_p‹t
;

241 
ö_addr
 
	msö_addr
;

244 
	msö_zîo
[ (
sockaddr
) -

245 
__SOCKADDR_COMMON_SIZE
 -

246  (
ö_p‹t_t
) -

247  (
ö_addr
)];

250 #i‚de‡
__USE_KERNEL_IPV6_DEFS


252 
	ssockaddr_ö6


254 
__SOCKADDR_COMMON
 (
sö6_
);

255 
ö_p‹t_t
 
	msö6_p‹t
;

256 
uöt32_t
 
	msö6_Êowöfo
;

257 
ö6_addr
 
	msö6_addr
;

258 
uöt32_t
 
	msö6_sc›e_id
;

262 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


264 
	sù_mªq


267 
ö_addr
 
	mimr_mu…üddr
;

270 
ö_addr
 
	mimr_öãrÁ˚
;

273 
	sù_mªq_sour˚


276 
ö_addr
 
	mimr_mu…üddr
;

279 
ö_addr
 
	mimr_öãrÁ˚
;

282 
ö_addr
 
	mimr_sour˚addr
;

286 #i‚de‡
__USE_KERNEL_IPV6_DEFS


288 
	sùv6_mªq


291 
ö6_addr
 
	mùv6mr_mu…üddr
;

294 
	mùv6mr_öãrÁ˚
;

298 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


300 
	sgroup_ªq


303 
uöt32_t
 
	mgr_öãrÁ˚
;

306 
sockaddr_°‹age
 
	mgr_group
;

309 
	sgroup_sour˚_ªq


312 
uöt32_t
 
	mg§_öãrÁ˚
;

315 
sockaddr_°‹age
 
	mg§_group
;

318 
sockaddr_°‹age
 
	mg§_sour˚
;

323 
	sù_msfûãr


326 
ö_addr
 
	mimsf_mu…üddr
;

329 
ö_addr
 
	mimsf_öãrÁ˚
;

332 
uöt32_t
 
	mimsf_fmode
;

335 
uöt32_t
 
	mimsf_num§c
;

337 
ö_addr
 
	mimsf_¶i°
[1];

340 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

341 -  (
ö_addr
) \

342 + (
num§c
Ë*  (
ö_addr
))

	)

344 
	sgroup_fûãr


347 
uöt32_t
 
	mgf_öãrÁ˚
;

350 
sockaddr_°‹age
 
	mgf_group
;

353 
uöt32_t
 
	mgf_fmode
;

356 
uöt32_t
 
	mgf_num§c
;

358 
sockaddr_°‹age
 
	mgf_¶i°
[1];

361 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

362 -  (
sockaddr_°‹age
) \

363 + ((
num§c
) \

364 *  (
sockaddr_°‹age
)))

	)

374 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

375 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

376 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

377 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

378 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

379 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

380 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

382 
	~<ídün.h
>

385 
	~<bôs/byãsw≠.h
>

387 #ifde‡
__OPTIMIZE__


391 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


394 
	#¡ohl
(
x
Ë(x)

	)

395 
	#¡ohs
(
x
Ë(x)

	)

396 
	#ht⁄l
(
x
Ë(x)

	)

397 
	#ht⁄s
(
x
Ë(x)

	)

399 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


400 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

401 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

402 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

403 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

408 #ifde‡
__GNUC__


409 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

410 (
__exãnsi⁄__
 \

411 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

412 
__a
->
s6_addr32
[0] == 0 \

413 && 
__a
->
s6_addr32
[1] == 0 \

414 && 
__a
->
s6_addr32
[2] == 0 \

415 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

417 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

418 (
__exãnsi⁄__
 \

419 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

420 
__a
->
s6_addr32
[0] == 0 \

421 && 
__a
->
s6_addr32
[1] == 0 \

422 && 
__a
->
s6_addr32
[2] == 0 \

423 && 
__a
->
s6_addr32
[3] =
	`ht⁄l
 (1); }))

	)

425 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

426 (
__exãnsi⁄__
 \

427 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

428 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„800000); }))

	)

430 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

431 (
__exãnsi⁄__
 \

432 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

433 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„c00000); }))

	)

435 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

436 (
__exãnsi⁄__
 \

437 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

438 
__a
->
s6_addr32
[0] == 0 \

439 && 
__a
->
s6_addr32
[1] == 0 \

440 && 
__a
->
s6_addr32
[2] =
	`ht⁄l
 (0xffff); }))

	)

442 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

443 (
__exãnsi⁄__
 \

444 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

445 
__a
->
s6_addr32
[0] == 0 \

446 && 
__a
->
s6_addr32
[1] == 0 \

447 && 
__a
->
s6_addr32
[2] == 0 \

448 && 
	`¡ohl
 (
__a
->
s6_addr32
[3]Ë> 1; }))

	)

450 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

451 (
__exãnsi⁄__
 \

452 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

453 c⁄° 
ö6_addr
 *
__b
 = (c⁄° ö6_add∏*Ë(
b
); \

454 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

455 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

456 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

457 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

459 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

460 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

461 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

462 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

463 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =0)

	)

465 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

466 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

467 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

468 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

469 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

471 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

472 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

473 =
	`ht⁄l
 (0x„800000))

	)

475 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

476 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

477 =
	`ht⁄l
 (0x„c00000))

	)

479 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

480 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

481 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

482 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

484 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

485 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

486 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

487 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0) \

488 && (
	`¡ohl
 (((c⁄° 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

490 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

491 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] =((c⁄° uöt32_à*Ë(
b
))[0]) \

492 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] =((c⁄° uöt32_à*Ë(
b
))[1]) \

493 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =((c⁄° uöt32_à*Ë(
b
))[2]) \

494 && (((c⁄° 
uöt32_t
 *Ë(
a
))[3] =((c⁄° uöt32_à*Ë(
b
))[3]))

	)

497 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((c⁄° 
uöt8_t
 *Ë◊))[0] =0xff)

	)

499 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


501 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

504 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

505 
__THROW
;

509 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

510 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

511 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

513 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

514 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

515 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

517 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

518 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

519 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

521 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

522 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

523 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

525 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

526 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

527 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

530 #ifde‡
__USE_GNU


531 
cmsghdr
;

534 
	sö6_pktöfo


536 
ö6_addr
 
ùi6_addr
;

537 
ùi6_ifödex
;

541 
	sù6_mtuöfo


543 
sockaddr_ö6
 
ù6m_addr
;

544 
uöt32_t
 
ù6m_mtu
;

549 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

550 
__THROW
 
__©åibuã_dïªˇãd__
;

551 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

552 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

553 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

554 c⁄° 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

555 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

556 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

557 
__mu…x
, 
__∂usy
)

558 
__THROW
 
__©åibuã_dïªˇãd__
;

559 
	$öë6_›ti⁄_√xt
 (c⁄° 
cmsghdr
 *
__cmsg
,

560 
uöt8_t
 **
__çåp
)

561 
__THROW
 
__©åibuã_dïªˇãd__
;

562 
	$öë6_›ti⁄_föd
 (c⁄° 
cmsghdr
 *
__cmsg
,

563 
uöt8_t
 **
__çåp
, 
__ty≥
)

564 
__THROW
 
__©åibuã_dïªˇãd__
;

568 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

569 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

570 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

571 **
__d©abuÂ
Ë
__THROW
;

572 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

573 
__THROW
;

574 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

575 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

576 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

577 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

578 **
__d©abuÂ
Ë
__THROW
;

579 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

580 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

581 **
__d©abuÂ
Ë
__THROW
;

582 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

583 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

587 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

588 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

589 
__£gmíts
Ë
__THROW
;

590 
	$öë6_πh_add
 (*
__bp
, c⁄° 
ö6_addr
 *
__addr
Ë
__THROW
;

591 
	$öë6_πh_ªvî£
 (c⁄° *
__ö
, *
__out
Ë
__THROW
;

592 
	$öë6_πh_£gmíts
 (c⁄° *
__bp
Ë
__THROW
;

593 
ö6_addr
 *
	$öë6_πh_gëaddr
 (c⁄° *
__bp
, 
__ödex
)

594 
__THROW
;

600 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

601 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

602 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

603 
__THROW
;

606 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

607 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

608 
uöt32_t
 
__num§c
,

609 c⁄° 
ö_addr
 *
__¶i°
)

610 
__THROW
;

614 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

615 c⁄° 
sockaddr
 *
__group
,

616 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

617 
uöt32_t
 *
__num§c
,

618 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

621 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

622 c⁄° 
sockaddr
 *
__group
,

623 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

624 
uöt32_t
 
__num§c
,

625 c⁄° 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

628 
__END_DECLS


	@/usr/include/obstack.h

104 #i‚de‡
_OBSTACK_H


105 
	#_OBSTACK_H
 1

	)

107 #ifde‡
__˝lu•lus


116 #ifde‡
__PTRDIFF_TYPE__


117 
	#PTR_INT_TYPE
 
__PTRDIFF_TYPE__


	)

119 
	~<°ddef.h
>

120 
	#PTR_INT_TYPE
 
±rdiff_t


	)

127 
	#__BPTR_ALIGN
(
B
, 
P
, 
A
Ë((BË+ (((PË-(BË+ (A)Ë& ~(A)))

	)

136 
	#__PTR_ALIGN
(
B
, 
P
, 
A
) \

137 
	`__BPTR_ALIGN
 ( (
PTR_INT_TYPE
Ë<  (*Ë? (
B
) : (*) 0, \

138 
P
, 
A
)

	)

140 
	~<°rög.h
>

142 
	s_ob°ack_chunk


144 *
limô
;

145 
_ob°ack_chunk
 *
¥ev
;

146 
c⁄ã¡s
[4];

149 
	sob°ack


151 
chunk_size
;

152 
_ob°ack_chunk
 *
chunk
;

153 *
obje˘_ba£
;

154 *
√xt_‰ì
;

155 *
chunk_limô
;

158 
PTR_INT_TYPE
 
ãmpöt
;

159 *
ãmµå
;

160 } 
ãmp
;

161 
Æignmít_mask
;

165 
_ob°ack_chunk
 *(*
chunkfun
) (*, );

166 (*
‰ìfun
Ë(*, 
_ob°ack_chunk
 *);

167 *
exåa_¨g
;

168 
u£_exåa_¨g
 : 1;

169 
maybe_em±y_obje˘
 : 1;

173 
Æloc_Áûed
 : 1;

180 
_ob°ack_√wchunk
 (
ob°ack
 *, );

181 
_ob°ack_begö
 (
ob°ack
 *, , ,

183 
_ob°ack_begö_1
 (
ob°ack
 *, , ,

186 
_ob°ack_mem‹y_u£d
 (
ob°ack
 *);

188 
ob°ack_‰ì
 (
ob°ack
 *
__ob°ack
, *
__glibc_block
);

195 (*
ob°ack_Æloc_Áûed_h™dÀr
) ();

198 
ob°ack_exô_Áûuª
;

204 
	#ob°ack_ba£
(
h
Ë((*Ë(h)->
obje˘_ba£
)

	)

208 
	#ob°ack_chunk_size
(
h
Ë((h)->
chunk_size
)

	)

212 
	#ob°ack_√xt_‰ì
(
h
Ë((h)->
√xt_‰ì
)

	)

216 
	#ob°ack_Æignmít_mask
(
h
Ë((h)->
Æignmít_mask
)

	)

219 
	#ob°ack_öô
(
h
) \

220 
	`_ob°ack_begö
 ((
h
), 0, 0, \

221 (*(*)())
ob°ack_chunk_Æloc
, \

222 ((*)(*))
ob°ack_chunk_‰ì
)

	)

224 
	#ob°ack_begö
(
h
, 
size
) \

225 
	`_ob°ack_begö
 ((
h
), (
size
), 0, \

226 (*(*)())
ob°ack_chunk_Æloc
, \

227 ((*)(*))
ob°ack_chunk_‰ì
)

	)

229 
	#ob°ack_•ecify_Æloˇti⁄
(
h
, 
size
, 
Æignmít
, 
chunkfun
, 
‰ìfun
) \

230 
	`_ob°ack_begö
 ((
h
), (
size
), (
Æignmít
), \

231 (*(*)())(
chunkfun
), \

232 ((*)(*))(
‰ìfun
))

	)

234 
	#ob°ack_•ecify_Æloˇti⁄_wôh_¨g
(
h
, 
size
, 
Æignmít
, 
chunkfun
, 
‰ìfun
, 
¨g
) \

235 
	`_ob°ack_begö_1
 ((
h
), (
size
), (
Æignmít
), \

236 (*(*)(*, ))(
chunkfun
), \

237 ((*)(*, *))(
‰ìfun
), (
¨g
))

	)

239 
	#ob°ack_chunkfun
(
h
, 
√wchunkfun
) \

240 ((
h
)->
chunkfun
 = (
_ob°ack_chunk
 *(*)(*, ))(
√wchunkfun
))

	)

242 
	#ob°ack_‰ìfun
(
h
, 
√w‰ìfun
) \

243 ((
h
)->
‰ìfun
 = ((*)(*, 
_ob°ack_chunk
 *))(
√w‰ìfun
))

	)

245 
	#ob°ack_1grow_Á°
(
h
, 
ach¨
Ë(*((h)->
√xt_‰ì
)++ = (ach¨))

	)

247 
	#ob°ack_bœnk_Á°
(
h
, 
n
Ë((h)->
√xt_‰ì
 +“))

	)

249 
	#ob°ack_mem‹y_u£d
(
h
Ë
	`_ob°ack_mem‹y_u£d
 (h)

	)

251 #i‡
deföed
 
__GNUC__


255 #i‡
__GNUC__
 < 2 || (
__NeXT__
 && !
__GNUC_MINOR__
)

256 
	#__exãnsi⁄__


	)

264 
	#ob°ack_obje˘_size
(
OBSTACK
) \

265 
__exãnsi⁄__
 \

266 ({ 
ob°ack
 c⁄° *
__o
 = (
OBSTACK
); \

267 (Ë(
__o
->
√xt_‰ì
 - __o->
obje˘_ba£
); })

	)

269 
	#ob°ack_room
(
OBSTACK
) \

270 
__exãnsi⁄__
 \

271 ({ 
ob°ack
 c⁄° *
__o
 = (
OBSTACK
); \

272 (Ë(
__o
->
chunk_limô
 - __o->
√xt_‰ì
); })

	)

274 
	#ob°ack_make_room
(
OBSTACK
, 
Àngth
) \

275 
__exãnsi⁄__
 \

276 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

277 
__Àn
 = (
Àngth
); \

278 i‡(
__o
->
chunk_limô
 - __o->
√xt_‰ì
 < 
__Àn
) \

279 
	`_ob°ack_√wchunk
 (
__o
, 
__Àn
); \

280 (Ë0; })

	)

282 
	#ob°ack_em±y_p
(
OBSTACK
) \

283 
__exãnsi⁄__
 \

284 ({ 
ob°ack
 c⁄° *
__o
 = (
OBSTACK
); \

285 (
__o
->
chunk
->
¥ev
 == 0 \

286 && 
__o
->
√xt_‰ì
 =
	`__PTR_ALIGN
 ((*Ë__o->
chunk
, \

287 
__o
->
chunk
->
c⁄ã¡s
, \

288 
__o
->
Æignmít_mask
)); })

	)

290 
	#ob°ack_grow
(
OBSTACK
, 
whîe
, 
Àngth
) \

291 
__exãnsi⁄__
 \

292 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

293 
__Àn
 = (
Àngth
); \

294 i‡(
__o
->
√xt_‰ì
 + 
__Àn
 > __o->
chunk_limô
) \

295 
	`_ob°ack_√wchunk
 (
__o
, 
__Àn
); \

296 
	`mem˝y
 (
__o
->
√xt_‰ì
, 
whîe
, 
__Àn
); \

297 
__o
->
√xt_‰ì
 +
__Àn
; \

298 (Ë0; })

	)

300 
	#ob°ack_grow0
(
OBSTACK
, 
whîe
, 
Àngth
) \

301 
__exãnsi⁄__
 \

302 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

303 
__Àn
 = (
Àngth
); \

304 i‡(
__o
->
√xt_‰ì
 + 
__Àn
 + 1 > __o->
chunk_limô
) \

305 
	`_ob°ack_√wchunk
 (
__o
, 
__Àn
 + 1); \

306 
	`mem˝y
 (
__o
->
√xt_‰ì
, 
whîe
, 
__Àn
); \

307 
__o
->
√xt_‰ì
 +
__Àn
; \

308 *(
__o
->
√xt_‰ì
)++ = 0; \

309 (Ë0; })

	)

311 
	#ob°ack_1grow
(
OBSTACK
, 
d©um
) \

312 
__exãnsi⁄__
 \

313 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

314 i‡(
__o
->
√xt_‰ì
 + 1 > __o->
chunk_limô
) \

315 
	`_ob°ack_√wchunk
 (
__o
, 1); \

316 
	`ob°ack_1grow_Á°
 (
__o
, 
d©um
); \

317 (Ë0; })

	)

323 
	#ob°ack_±r_grow
(
OBSTACK
, 
d©um
) \

324 
__exãnsi⁄__
 \

325 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

326 i‡(
__o
->
√xt_‰ì
 +  (*Ë> __o->
chunk_limô
) \

327 
	`_ob°ack_√wchunk
 (
__o
,  (*)); \

328 
	`ob°ack_±r_grow_Á°
 (
__o
, 
d©um
); }) \

329 

	)

330 
	#ob°ack_öt_grow
(
OBSTACK
, 
d©um
) \

331 
__exãnsi⁄__
 \

332 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

333 i‡(
__o
->
√xt_‰ì
 +  (Ë> __o->
chunk_limô
) \

334 
	`_ob°ack_√wchunk
 (
__o
,  ()); \

335 
	`ob°ack_öt_grow_Á°
 (
__o
, 
d©um
); })

	)

337 
	#ob°ack_±r_grow_Á°
(
OBSTACK
, 
≠å
) \

338 
__exãnsi⁄__
 \

339 ({ 
ob°ack
 *
__o1
 = (
OBSTACK
); \

340 *(c⁄° **Ë
__o1
->
√xt_‰ì
 = (
≠å
); \

341 
__o1
->
√xt_‰ì
 +=  (const *); \

342 (Ë0; })

	)

344 
	#ob°ack_öt_grow_Á°
(
OBSTACK
, 
aöt
) \

345 
__exãnsi⁄__
 \

346 ({ 
ob°ack
 *
__o1
 = (
OBSTACK
); \

347 *(*Ë
__o1
->
√xt_‰ì
 = (
aöt
); \

348 
__o1
->
√xt_‰ì
 +=  (); \

349 (Ë0; })

	)

351 
	#ob°ack_bœnk
(
OBSTACK
, 
Àngth
) \

352 
__exãnsi⁄__
 \

353 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

354 
__Àn
 = (
Àngth
); \

355 i‡(
__o
->
chunk_limô
 - __o->
√xt_‰ì
 < 
__Àn
) \

356 
	`_ob°ack_√wchunk
 (
__o
, 
__Àn
); \

357 
	`ob°ack_bœnk_Á°
 (
__o
, 
__Àn
); \

358 (Ë0; })

	)

360 
	#ob°ack_Æloc
(
OBSTACK
, 
Àngth
) \

361 
__exãnsi⁄__
 \

362 ({ 
ob°ack
 *
__h
 = (
OBSTACK
); \

363 
	`ob°ack_bœnk
 (
__h
, (
Àngth
)); \

364 
	`ob°ack_föish
 (
__h
); })

	)

366 
	#ob°ack_c›y
(
OBSTACK
, 
whîe
, 
Àngth
) \

367 
__exãnsi⁄__
 \

368 ({ 
ob°ack
 *
__h
 = (
OBSTACK
); \

369 
	`ob°ack_grow
 (
__h
, (
whîe
), (
Àngth
)); \

370 
	`ob°ack_föish
 (
__h
); })

	)

372 
	#ob°ack_c›y0
(
OBSTACK
, 
whîe
, 
Àngth
) \

373 
__exãnsi⁄__
 \

374 ({ 
ob°ack
 *
__h
 = (
OBSTACK
); \

375 
	`ob°ack_grow0
 (
__h
, (
whîe
), (
Àngth
)); \

376 
	`ob°ack_föish
 (
__h
); })

	)

380 
	#ob°ack_föish
(
OBSTACK
) \

381 
__exãnsi⁄__
 \

382 ({ 
ob°ack
 *
__o1
 = (
OBSTACK
); \

383 *
__vÆue
 = (*Ë
__o1
->
obje˘_ba£
; \

384 i‡(
__o1
->
√xt_‰ì
 =
__vÆue
) \

385 
__o1
->
maybe_em±y_obje˘
 = 1; \

386 
__o1
->
√xt_‰ì
 \

387 
	`__PTR_ALIGN
 (
__o1
->
obje˘_ba£
, __o1->
√xt_‰ì
, \

388 
__o1
->
Æignmít_mask
); \

389 i‡(
__o1
->
√xt_‰ì
 - (*Ë__o1->
chunk
 \

390 > 
__o1
->
chunk_limô
 - (*Ë__o1->
chunk
) \

391 
__o1
->
√xt_‰ì
 = __o1->
chunk_limô
; \

392 
__o1
->
obje˘_ba£
 = __o1->
√xt_‰ì
; \

393 
__vÆue
; })

	)

395 
	#ob°ack_‰ì
(
OBSTACK
, 
OBJ
) \

396 
__exãnsi⁄__
 \

397 ({ 
ob°ack
 *
__o
 = (
OBSTACK
); \

398 *
__obj
 = (
OBJ
); \

399 i‡(
__obj
 > (*Ë
__o
->
chunk
 && __obj < (*Ë__o->
chunk_limô
) \

400 
__o
->
√xt_‰ì
 = __o->
obje˘_ba£
 = (*Ë
__obj
; \

401 (
ob°ack_‰ì
Ë(
__o
, 
__obj
); })

	)

405 
	#ob°ack_obje˘_size
(
h
) \

406 (Ë((
h
)->
√xt_‰ì
 - (h)->
obje˘_ba£
)

	)

408 
	#ob°ack_room
(
h
) \

409 (Ë((
h
)->
chunk_limô
 - (h)->
√xt_‰ì
)

	)

411 
	#ob°ack_em±y_p
(
h
) \

412 ((
h
)->
chunk
->
¥ev
 == 0 \

413 && (
h
)->
√xt_‰ì
 =
	`__PTR_ALIGN
 ((*Ë(h)->
chunk
, \

414 (
h
)->
chunk
->
c⁄ã¡s
, \

415 (
h
)->
Æignmít_mask
))

	)

423 
	#ob°ack_make_room
(
h
, 
Àngth
) \

424 ((
h
)->
ãmp
.
ãmpöt
 = (
Àngth
), \

425 (((
h
)->
√xt_‰ì
 + (h)->
ãmp
.
ãmpöt
 > (h)->
chunk_limô
) \

426 ? (
	`_ob°ack_√wchunk
 ((
h
), (h)->
ãmp
.
ãmpöt
), 0Ë: 0))

	)

428 
	#ob°ack_grow
(
h
, 
whîe
, 
Àngth
) \

429 ((
h
)->
ãmp
.
ãmpöt
 = (
Àngth
), \

430 (((
h
)->
√xt_‰ì
 + (h)->
ãmp
.
ãmpöt
 > (h)->
chunk_limô
) \

431 ? (
	`_ob°ack_√wchunk
 ((
h
), (h)->
ãmp
.
ãmpöt
), 0) : 0), \

432 
	`mem˝y
 ((
h
)->
√xt_‰ì
, 
whîe
, (h)->
ãmp
.
ãmpöt
), \

433 (
h
)->
√xt_‰ì
 +(h)->
ãmp
.
ãmpöt
)

	)

435 
	#ob°ack_grow0
(
h
, 
whîe
, 
Àngth
) \

436 ((
h
)->
ãmp
.
ãmpöt
 = (
Àngth
), \

437 (((
h
)->
√xt_‰ì
 + (h)->
ãmp
.
ãmpöt
 + 1 > (h)->
chunk_limô
) \

438 ? (
	`_ob°ack_√wchunk
 ((
h
), (h)->
ãmp
.
ãmpöt
 + 1), 0) : 0), \

439 
	`mem˝y
 ((
h
)->
√xt_‰ì
, 
whîe
, (h)->
ãmp
.
ãmpöt
), \

440 (
h
)->
√xt_‰ì
 +(h)->
ãmp
.
ãmpöt
, \

441 *((
h
)->
√xt_‰ì
)++ = 0)

	)

443 
	#ob°ack_1grow
(
h
, 
d©um
) \

444 ((((
h
)->
√xt_‰ì
 + 1 > (h)->
chunk_limô
) \

445 ? (
	`_ob°ack_√wchunk
 ((
h
), 1), 0) : 0), \

446 
	`ob°ack_1grow_Á°
 (
h
, 
d©um
))

	)

448 
	#ob°ack_±r_grow
(
h
, 
d©um
) \

449 ((((
h
)->
√xt_‰ì
 +  (*Ë> (h)->
chunk_limô
) \

450 ? (
	`_ob°ack_√wchunk
 ((
h
),  (*)), 0) : 0), \

451 
	`ob°ack_±r_grow_Á°
 (
h
, 
d©um
))

	)

453 
	#ob°ack_öt_grow
(
h
, 
d©um
) \

454 ((((
h
)->
√xt_‰ì
 +  (Ë> (h)->
chunk_limô
) \

455 ? (
	`_ob°ack_√wchunk
 ((
h
),  ()), 0) : 0), \

456 
	`ob°ack_öt_grow_Á°
 (
h
, 
d©um
))

	)

458 
	#ob°ack_±r_grow_Á°
(
h
, 
≠å
) \

459 (((c⁄° **Ë((
h
)->
√xt_‰ì
 + (*)))[-1] = (
≠å
))

	)

461 
	#ob°ack_öt_grow_Á°
(
h
, 
aöt
) \

462 (((*Ë((
h
)->
√xt_‰ì
 + ()))[-1] = (
aöt
))

	)

464 
	#ob°ack_bœnk
(
h
, 
Àngth
) \

465 ((
h
)->
ãmp
.
ãmpöt
 = (
Àngth
), \

466 (((
h
)->
chunk_limô
 - (h)->
√xt_‰ì
 < (h)->
ãmp
.
ãmpöt
) \

467 ? (
	`_ob°ack_√wchunk
 ((
h
), (h)->
ãmp
.
ãmpöt
), 0) : 0), \

468 
	`ob°ack_bœnk_Á°
 (
h
, (h)->
ãmp
.
ãmpöt
))

	)

470 
	#ob°ack_Æloc
(
h
, 
Àngth
) \

471 (
	`ob°ack_bœnk
 ((
h
), (
Àngth
)), 
	`ob°ack_föish
 ((h)))

	)

473 
	#ob°ack_c›y
(
h
, 
whîe
, 
Àngth
) \

474 (
	`ob°ack_grow
 ((
h
), (
whîe
), (
Àngth
)), 
	`ob°ack_föish
 ((h)))

	)

476 
	#ob°ack_c›y0
(
h
, 
whîe
, 
Àngth
) \

477 (
	`ob°ack_grow0
 ((
h
), (
whîe
), (
Àngth
)), 
	`ob°ack_föish
 ((h)))

	)

479 
	#ob°ack_föish
(
h
) \

480 (((
h
)->
√xt_‰ì
 =(h)->
obje˘_ba£
 \

481 ? (((
h
)->
maybe_em±y_obje˘
 = 1), 0) \

483 (
h
)->
ãmp
.
ãmµå
 = (h)->
obje˘_ba£
, \

484 (
h
)->
√xt_‰ì
 \

485 
	`__PTR_ALIGN
 ((
h
)->
obje˘_ba£
, (h)->
√xt_‰ì
, \

486 (
h
)->
Æignmít_mask
), \

487 (((
h
)->
√xt_‰ì
 - (*Ë(h)->
chunk
 \

488 > (
h
)->
chunk_limô
 - (*Ë(h)->
chunk
) \

489 ? ((
h
)->
√xt_‰ì
 = (h)->
chunk_limô
) : 0), \

490 (
h
)->
obje˘_ba£
 = (h)->
√xt_‰ì
, \

491 (
h
)->
ãmp
.
ãmµå
)

	)

493 
	#ob°ack_‰ì
(
h
, 
obj
) \

494 ((
h
)->
ãmp
.
ãmpöt
 = (*Ë(
obj
Ë- (*Ë(h)->
chunk
, \

495 ((((
h
)->
ãmp
.
ãmpöt
 > 0 \

496 && (
h
)->
ãmp
.
ãmpöt
 < (h)->
chunk_limô
 - (*Ë(h)->
chunk
)) \

497 ? (((
h
)->
√xt_‰ì
 = (h)->
obje˘_ba£
 \

498 (
h
)->
ãmp
.
ãmpöt
 + (*Ë(h)->
chunk
), 0) \

499 : ((
ob°ack_‰ì
Ë((
h
), (h)->
ãmp
.
ãmpöt
 + (*Ë(h)->
chunk
), 0)))

	)

502 #ifde‡
__˝lu•lus


	@/usr/include/pthread.h

18 #i‚de‡
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<ídün.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<bôs/±hªadty≥s.h
>

27 
	~<bôs/£tjmp.h
>

28 
	~<bôs/w‹dsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifde‡
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifde‡
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


86 #i‡
__PTHREAD_MUTEX_HAVE_ELISION
 == 1

87 
	#__PTHREAD_SPINS
 0, 0

	)

88 #ñi‡
__PTHREAD_MUTEX_HAVE_ELISION
 == 2

89 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

91 
	#__PTHREAD_SPINS
 0

	)

94 #ifde‡
__PTHREAD_MUTEX_HAVE_PREV


95 
	#PTHREAD_MUTEX_INITIALIZER
 \

96 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

97 #ifde‡
__USE_GNU


98 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

100 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

101 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

102 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

103 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

104 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

105 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

109 
	#PTHREAD_MUTEX_INITIALIZER
 \

110 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

111 #ifde‡
__USE_GNU


112 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

113 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

114 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

115 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

116 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

117 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

124 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


127 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

128 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

129 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

130 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


136 #i‚de‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


137 #i‡
__WORDSIZE
 == 64

138 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

143 
	#PTHREAD_RWLOCK_INITIALIZER
 \

144 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

145 #ifde‡
__USE_GNU


146 #ifde‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


147 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

149 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

151 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


152 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

153 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

154 0, 0, 0, 0 } }

	)

156 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

157 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

158 0 } }

	)

168 
	mPTHREAD_INHERIT_SCHED
,

169 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

170 
	mPTHREAD_EXPLICIT_SCHED


171 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

178 
	mPTHREAD_SCOPE_SYSTEM
,

179 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

180 
	mPTHREAD_SCOPE_PROCESS


181 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

188 
	mPTHREAD_PROCESS_PRIVATE
,

189 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

190 
	mPTHREAD_PROCESS_SHARED


191 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

197 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

201 
	s_±hªad_˛ónup_buf„r


203 (*
	m__routöe
) (*);

204 *
	m__¨g
;

205 
	m__ˇn˚…y≥
;

206 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

212 
	mPTHREAD_CANCEL_ENABLE
,

213 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

214 
	mPTHREAD_CANCEL_DISABLE


215 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

219 
	mPTHREAD_CANCEL_DEFERRED
,

220 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

221 
	mPTHREAD_CANCEL_ASYNCHRONOUS


222 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

224 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

228 
	#PTHREAD_ONCE_INIT
 0

	)

231 #ifde‡
__USE_XOPEN2K


235 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

239 
__BEGIN_DECLS


244 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

245 c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

246 *(*
__°¨t_routöe
) (*),

247 *
__ª°ri˘
 
__¨g
Ë
__THROWNL
 
__n⁄nuŒ
 ((1, 3));

253 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

261 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

263 #ifde‡
__USE_GNU


266 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

274 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

275 c⁄° 
time•ec
 *
__ab°ime
);

282 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

286 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

289 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
)

290 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

298 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

301 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

302 
__THROW
 
	`__n⁄nuŒ
 ((1));

305 
	$±hªad_©å_gëdëach°©e
 (c⁄° 
±hªad_©å_t
 *
__©å
,

306 *
__dëach°©e
)

307 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

310 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

311 
__dëach°©e
)

312 
__THROW
 
	`__n⁄nuŒ
 ((1));

316 
	$±hªad_©å_gëgu¨dsize
 (c⁄° 
±hªad_©å_t
 *
__©å
,

317 
size_t
 *
__gu¨dsize
)

318 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

321 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

322 
size_t
 
__gu¨dsize
)

323 
__THROW
 
	`__n⁄nuŒ
 ((1));

327 
	$±hªad_©å_gësched∑øm
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

328 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

329 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

332 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

333 c⁄° 
sched_∑øm
 *
__ª°ri˘


334 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

337 
	$±hªad_©å_gëschedpﬁicy
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


338 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

339 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

342 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

343 
__THROW
 
	`__n⁄nuŒ
 ((1));

346 
	$±hªad_©å_gëöhîôsched
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


347 
__©å
, *
__ª°ri˘
 
__öhîô
)

348 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

351 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

352 
__öhîô
)

353 
__THROW
 
	`__n⁄nuŒ
 ((1));

357 
	$±hªad_©å_gësc›e
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

358 *
__ª°ri˘
 
__sc›e
)

359 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

362 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

363 
__THROW
 
	`__n⁄nuŒ
 ((1));

366 
	$±hªad_©å_gë°ackaddr
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


367 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

368 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

374 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

375 *
__°ackaddr
)

376 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

379 
	$±hªad_©å_gë°acksize
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


380 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

381 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

386 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

387 
size_t
 
__°acksize
)

388 
__THROW
 
	`__n⁄nuŒ
 ((1));

390 #ifde‡
__USE_XOPEN2K


392 
	$±hªad_©å_gë°ack
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

393 **
__ª°ri˘
 
__°ackaddr
,

394 
size_t
 *
__ª°ri˘
 
__°acksize
)

395 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

400 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

401 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

404 #ifde‡
__USE_GNU


407 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

408 
size_t
 
__˝u£tsize
,

409 c⁄° 
˝u_£t_t
 *
__˝u£t
)

410 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

414 
	$±hªad_©å_gëafföôy_≈
 (c⁄° 
±hªad_©å_t
 *
__©å
,

415 
size_t
 
__˝u£tsize
,

416 
˝u_£t_t
 *
__˝u£t
)

417 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

420 
	$±hªad_gë©å_deÁu…_≈
 (
±hªad_©å_t
 *
__©å
)

421 
__THROW
 
	`__n⁄nuŒ
 ((1));

425 
	$±hªad_£èâr_deÁu…_≈
 (c⁄° 
±hªad_©å_t
 *
__©å
)

426 
__THROW
 
	`__n⁄nuŒ
 ((1));

431 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

440 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

441 c⁄° 
sched_∑øm
 *
__∑øm
)

442 
__THROW
 
	`__n⁄nuŒ
 ((3));

445 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

446 *
__ª°ri˘
 
__pﬁicy
,

447 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

448 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

451 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

452 
__THROW
;

455 #ifde‡
__USE_GNU


457 
	$±hªad_gë«me_≈
 (
±hªad_t
 
__èrgë_thªad
, *
__buf
,

458 
size_t
 
__buÊí
)

459 
__THROW
 
	`__n⁄nuŒ
 ((2));

462 
	$±hªad_£äame_≈
 (
±hªad_t
 
__èrgë_thªad
, c⁄° *
__«me
)

463 
__THROW
 
	`__n⁄nuŒ
 ((2));

467 #ifde‡
__USE_UNIX98


469 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

472 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

475 #ifde‡
__USE_GNU


480 
	$±hªad_yõld
 (Ë
__THROW
;

485 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

486 c⁄° 
˝u_£t_t
 *
__˝u£t
)

487 
__THROW
 
	`__n⁄nuŒ
 ((3));

490 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

491 
˝u_£t_t
 *
__˝u£t
)

492 
__THROW
 
	`__n⁄nuŒ
 ((3));

505 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

506 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

517 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

521 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

524 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

529 
	`±hªad_ã°ˇn˚l
 ();

538 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

539 
__mask_was_ßved
;

540 } 
__ˇn˚l_jmp_buf
[1];

541 *
__∑d
[4];

542 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

545 #i‚de‡
__˛ónup_f˘_©åibuã


546 
	#__˛ónup_f˘_©åibuã


	)

551 
	s__±hªad_˛ónup_‰ame


553 (*
__ˇn˚l_routöe
) (*);

554 *
__ˇn˚l_¨g
;

555 
__do_ô
;

556 
__ˇn˚l_ty≥
;

559 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


560 #ifde‡
__˝lu•lus


562 ˛as†
	c__±hªad_˛ónup_˛ass


564 (*
__ˇn˚l_routöe
) (*);

565 *
__ˇn˚l_¨g
;

566 
__do_ô
;

567 
__ˇn˚l_ty≥
;

569 
public
:

570 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

571 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

572 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

573 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

574 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

575 &
__ˇn˚l_ty≥
); 
	}
}

576 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

586 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

588 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

592 
	#±hªad_˛ónup_p›
(
execuã
) \

593 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

594 } 0)

	)

596 #ifde‡
__USE_GNU


600 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

602 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

603 
__˛‰ame
.
	`__de„r
 ()

	)

608 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

609 
__˛‰ame
.
	`__ª°‹e
 (); \

610 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

611 } 0)

	)

618 
__exã∫_ölöe
 

619 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

621 i‡(
__‰ame
->
__do_ô
)

622 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

623 
	}
}

632 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

634 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

635 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

636 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

637 .
__do_ô
 = 1 };

	)

641 
	#±hªad_˛ónup_p›
(
execuã
) \

642 
__˛‰ame
.
__do_ô
 = (
execuã
); \

643 } 0)

	)

645 #ifde‡
__USE_GNU


649 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

651 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

652 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

653 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

654 .
__do_ô
 = 1 }; \

655 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

656 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

661 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

662 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

663 
__˛‰ame
.
__do_ô
 = (
execuã
); \

664 } 0)

	)

675 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

677 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

678 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

679 *
__ˇn˚l_¨g
 = (
¨g
); \

680 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

681 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

682 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

684 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

685 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

689 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

690 dÿ{

	)

691 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

692 
__˛ónup_f˘_©åibuã
;

696 
	#±hªad_˛ónup_p›
(
execuã
) \

699 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

700 i‡(
execuã
) \

701 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

702 } 0)

	)

703 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

704 
__˛ónup_f˘_©åibuã
;

706 #ifde‡
__USE_GNU


710 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

712 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

713 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

714 *
__ˇn˚l_¨g
 = (
¨g
); \

715 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

716 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

717 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

719 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

720 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

724 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

725 dÿ{

	)

726 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

727 
__˛ónup_f˘_©åibuã
;

732 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

735 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

736 i‡(
execuã
) \

737 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

738 
	}
} 0)

	)

739 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

740 
__˛ónup_f˘_©åibuã
;

744 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

745 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

746 #i‚de‡
SHARED


747 
	`__©åibuã__
 ((
__wók__
))

753 
__jmp_buf_èg
;

754 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROWNL
;

760 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

761 c⁄° 
±hªad_muãx©å_t
 *
__muãx©å
)

762 
__THROW
 
	`__n⁄nuŒ
 ((1));

765 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

766 
__THROW
 
	`__n⁄nuŒ
 ((1));

769 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

770 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

773 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

774 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

776 #ifde‡
__USE_XOPEN2K


778 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

779 c⁄° 
time•ec
 *
__ª°ri˘


780 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

784 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

785 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

789 
	$±hªad_muãx_gë¥io˚ûög
 (c⁄° 
±hªad_muãx_t
 *

790 
__ª°ri˘
 
__muãx
,

791 *
__ª°ri˘
 
__¥io˚ûög
)

792 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

796 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

797 
__¥io˚ûög
,

798 *
__ª°ri˘
 
__ﬁd_˚ûög
)

799 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

802 #ifde‡
__USE_XOPEN2K8


804 
	$±hªad_muãx_c⁄si°ít
 (
±hªad_muãx_t
 *
__muãx
)

805 
__THROW
 
	`__n⁄nuŒ
 ((1));

806 #ifde‡
__USE_GNU


807 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

808 
__THROW
 
	`__n⁄nuŒ
 ((1));

817 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

818 
__THROW
 
	`__n⁄nuŒ
 ((1));

821 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

822 
__THROW
 
	`__n⁄nuŒ
 ((1));

825 
	$±hªad_muãx©å_gëpsh¨ed
 (c⁄° 
±hªad_muãx©å_t
 *

826 
__ª°ri˘
 
__©å
,

827 *
__ª°ri˘
 
__psh¨ed
)

828 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

831 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

832 
__psh¨ed
)

833 
__THROW
 
	`__n⁄nuŒ
 ((1));

835 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


837 
	$±hªad_muãx©å_gëty≥
 (c⁄° 
±hªad_muãx©å_t
 *
__ª°ri˘


838 
__©å
, *
__ª°ri˘
 
__köd
)

839 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

844 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

845 
__THROW
 
	`__n⁄nuŒ
 ((1));

849 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (c⁄° 
±hªad_muãx©å_t
 *

850 
__ª°ri˘
 
__©å
,

851 *
__ª°ri˘
 
__¥Ÿocﬁ
)

852 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

856 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

857 
__¥Ÿocﬁ
)

858 
__THROW
 
	`__n⁄nuŒ
 ((1));

861 
	$±hªad_muãx©å_gë¥io˚ûög
 (c⁄° 
±hªad_muãx©å_t
 *

862 
__ª°ri˘
 
__©å
,

863 *
__ª°ri˘
 
__¥io˚ûög
)

864 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

867 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

868 
__¥io˚ûög
)

869 
__THROW
 
	`__n⁄nuŒ
 ((1));

871 #ifde‡
__USE_XOPEN2K


873 
	$±hªad_muãx©å_gërobu°
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

874 *
__robu°√ss
)

875 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

876 #ifde‡
__USE_GNU


877 
	$±hªad_muãx©å_gërobu°_≈
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

878 *
__robu°√ss
)

879 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

883 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

884 
__robu°√ss
)

885 
__THROW
 
	`__n⁄nuŒ
 ((1));

886 #ifde‡
__USE_GNU


887 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

888 
__robu°√ss
)

889 
__THROW
 
	`__n⁄nuŒ
 ((1));

894 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


899 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

900 c⁄° 
±hªad_rwlock©å_t
 *
__ª°ri˘


901 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

904 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

905 
__THROW
 
	`__n⁄nuŒ
 ((1));

908 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

909 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

912 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

913 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

915 #ifde‡
__USE_XOPEN2K


917 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

918 c⁄° 
time•ec
 *
__ª°ri˘


919 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

923 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

924 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

927 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

928 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

930 #ifde‡
__USE_XOPEN2K


932 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

933 c⁄° 
time•ec
 *
__ª°ri˘


934 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

938 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

939 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

945 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

946 
__THROW
 
	`__n⁄nuŒ
 ((1));

949 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

950 
__THROW
 
	`__n⁄nuŒ
 ((1));

953 
	$±hªad_rwlock©å_gëpsh¨ed
 (c⁄° 
±hªad_rwlock©å_t
 *

954 
__ª°ri˘
 
__©å
,

955 *
__ª°ri˘
 
__psh¨ed
)

956 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

959 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

960 
__psh¨ed
)

961 
__THROW
 
	`__n⁄nuŒ
 ((1));

964 
	$±hªad_rwlock©å_gëköd_≈
 (c⁄° 
±hªad_rwlock©å_t
 *

965 
__ª°ri˘
 
__©å
,

966 *
__ª°ri˘
 
__¥ef
)

967 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

970 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

971 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

979 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

980 c⁄° 
±hªad_c⁄d©å_t
 *
__ª°ri˘
 
__c⁄d_©å
)

981 
__THROW
 
	`__n⁄nuŒ
 ((1));

984 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

985 
__THROW
 
	`__n⁄nuŒ
 ((1));

988 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

989 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

992 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

993 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1000 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

1001 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

1002 
	`__n⁄nuŒ
 ((1, 2));

1011 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

1012 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

1013 c⁄° 
time•ec
 *
__ª°ri˘
 
__ab°ime
)

1014 
	`__n⁄nuŒ
 ((1, 2, 3));

1019 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

1020 
__THROW
 
	`__n⁄nuŒ
 ((1));

1023 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

1024 
__THROW
 
	`__n⁄nuŒ
 ((1));

1027 
	$±hªad_c⁄d©å_gëpsh¨ed
 (c⁄° 
±hªad_c⁄d©å_t
 *

1028 
__ª°ri˘
 
__©å
,

1029 *
__ª°ri˘
 
__psh¨ed
)

1030 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1033 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

1034 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1036 #ifde‡
__USE_XOPEN2K


1038 
	$±hªad_c⁄d©å_gë˛ock
 (c⁄° 
±hªad_c⁄d©å_t
 *

1039 
__ª°ri˘
 
__©å
,

1040 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1041 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1044 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1045 
__˛ockid_t
 
__˛ock_id
)

1046 
__THROW
 
	`__n⁄nuŒ
 ((1));

1050 #ifde‡
__USE_XOPEN2K


1055 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1056 
__THROW
 
	`__n⁄nuŒ
 ((1));

1059 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1060 
__THROW
 
	`__n⁄nuŒ
 ((1));

1063 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1064 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1067 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1068 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1071 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1072 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1079 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1080 c⁄° 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1081 
__©å
, 
__cou¡
)

1082 
__THROW
 
	`__n⁄nuŒ
 ((1));

1085 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1086 
__THROW
 
	`__n⁄nuŒ
 ((1));

1089 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1090 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1094 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1095 
__THROW
 
	`__n⁄nuŒ
 ((1));

1098 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1099 
__THROW
 
	`__n⁄nuŒ
 ((1));

1102 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (c⁄° 
±hªad_b¨rõøâr_t
 *

1103 
__ª°ri˘
 
__©å
,

1104 *
__ª°ri˘
 
__psh¨ed
)

1105 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1108 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1109 
__psh¨ed
)

1110 
__THROW
 
	`__n⁄nuŒ
 ((1));

1122 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1123 (*
__de°r_fun˘i⁄
) (*))

1124 
__THROW
 
	`__n⁄nuŒ
 ((1));

1127 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1130 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1133 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1134 c⁄° *
__poöãr
Ë
__THROW
 ;

1137 #ifde‡
__USE_XOPEN2K


1139 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1140 
__˛ockid_t
 *
__˛ock_id
)

1141 
__THROW
 
	`__n⁄nuŒ
 ((2));

1156 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1157 (*
__∑ª¡
) (),

1158 (*
__chûd
Ë()Ë
__THROW
;

1161 #ifde‡
__USE_EXTERN_INLINES


1163 
__exã∫_ölöe
 

1164 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1166  
__thªad1
 =
__thªad2
;

1167 
	}
}

1170 
	g__END_DECLS


	@/usr/include/pwd.h

22 #i‚def 
_PWD_H


23 
	#_PWD_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 
	#__√ed_size_t


	)

32 
	~<°ddef.h
>

34 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


37 #i‚de‡
__gid_t_deföed


38 
__gid_t
 
	tgid_t
;

39 
	#__gid_t_deföed


	)

42 #i‚de‡
__uid_t_deföed


43 
__uid_t
 
	tuid_t
;

44 
	#__uid_t_deföed


	)

49 
	s∑sswd


51 *
	mpw_«me
;

52 *
	mpw_∑sswd
;

53 
__uid_t
 
	mpw_uid
;

54 
__gid_t
 
	mpw_gid
;

55 *
	mpw_gecos
;

56 *
	mpw_dú
;

57 *
	mpw_shñl
;

61 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_GNU


62 
	#__√ed_FILE


	)

63 
	~<°dio.h
>

67 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


72 
£çwít
 ();

78 
ídpwít
 ();

84 
∑sswd
 *
gëpwít
 ();

87 #ifdef 
__USE_SVID


94 
∑sswd
 *
fgëpwít
 (
FILE
 *
__°ªam
);

102 
puçwít
 (c⁄° 
∑sswd
 *
__ª°ri˘
 
__p
,

103 
FILE
 *
__ª°ri˘
 
__f
);

110 
∑sswd
 *
gëpwuid
 (
__uid_t
 
__uid
);

116 
∑sswd
 *
gëpw«m
 (c⁄° *
__«me
);

118 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


120 #ifde‡
__USE_MISC


123 
	#NSS_BUFLEN_PASSWD
 1024

	)

134 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


139 
gëpwít_r
 (
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

140 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

141 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

144 
gëpwuid_r
 (
__uid_t
 
__uid
,

145 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

146 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

147 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

149 
gëpw«m_r
 (c⁄° *
__ª°ri˘
 
__«me
,

150 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

151 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

152 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

155 #ifdef 
__USE_SVID


163 
fgëpwít_r
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

164 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

165 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

166 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

171 #ifde‡
__USE_GNU


180 
gëpw
 (
__uid_t
 
__uid
, *
__buf„r
);

183 
	g__END_DECLS


	@/usr/include/regex.h

20 #i‚de‡
_REGEX_H


21 
	#_REGEX_H
 1

	)

23 
	~<sys/ty≥s.h
>

24 
	~<gnu/›ti⁄-groups.h
>

27 #ifde‡
__˝lu•lus


35 
	ts_ªg_t
;

36 
	ta˘ive_ªg_t
;

43 
	tªg_sy¡ax_t
;

45 #ifde‡
__USE_GNU


48 
	#RE_BACKSLASH_ESCAPE_IN_LISTS
 ((Ë1)

	)

53 
	#RE_BK_PLUS_QM
 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 << 1)

	)

59 
	#RE_CHAR_CLASSES
 (
RE_BK_PLUS_QM
 << 1)

	)

73 
	#RE_CONTEXT_INDEP_ANCHORS
 (
RE_CHAR_CLASSES
 << 1)

	)

81 
	#RE_CONTEXT_INDEP_OPS
 (
RE_CONTEXT_INDEP_ANCHORS
 << 1)

	)

85 
	#RE_CONTEXT_INVALID_OPS
 (
RE_CONTEXT_INDEP_OPS
 << 1)

	)

89 
	#RE_DOT_NEWLINE
 (
RE_CONTEXT_INVALID_OPS
 << 1)

	)

93 
	#RE_DOT_NOT_NULL
 (
RE_DOT_NEWLINE
 << 1)

	)

97 
	#RE_HAT_LISTS_NOT_NEWLINE
 (
RE_DOT_NOT_NULL
 << 1)

	)

102 
	#RE_INTERVALS
 (
RE_HAT_LISTS_NOT_NEWLINE
 << 1)

	)

106 
	#RE_LIMITED_OPS
 (
RE_INTERVALS
 << 1)

	)

110 
	#RE_NEWLINE_ALT
 (
RE_LIMITED_OPS
 << 1)

	)

115 
	#RE_NO_BK_BRACES
 (
RE_NEWLINE_ALT
 << 1)

	)

119 
	#RE_NO_BK_PARENS
 (
RE_NO_BK_BRACES
 << 1)

	)

123 
	#RE_NO_BK_REFS
 (
RE_NO_BK_PARENS
 << 1)

	)

127 
	#RE_NO_BK_VBAR
 (
RE_NO_BK_REFS
 << 1)

	)

133 
	#RE_NO_EMPTY_RANGES
 (
RE_NO_BK_VBAR
 << 1)

	)

137 
	#RE_UNMATCHED_RIGHT_PAREN_ORD
 (
RE_NO_EMPTY_RANGES
 << 1)

	)

141 
	#RE_NO_POSIX_BACKTRACKING
 (
RE_UNMATCHED_RIGHT_PAREN_ORD
 << 1)

	)

145 
	#RE_NO_GNU_OPS
 (
RE_NO_POSIX_BACKTRACKING
 << 1)

	)

153 
	#RE_DEBUG
 (
RE_NO_GNU_OPS
 << 1)

	)

158 
	#RE_INVALID_INTERVAL_ORD
 (
RE_DEBUG
 << 1)

	)

161 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


164 
	#RE_ICASE
 (
RE_INVALID_INTERVAL_ORD
 << 1)

	)

169 
	#RE_CARET_ANCHORS_HERE
 (
RE_ICASE
 << 1)

	)

173 
	#RE_CONTEXT_INVALID_DUP
 (
RE_CARET_ANCHORS_HERE
 << 1)

	)

177 
	#RE_NO_SUB
 (
RE_CONTEXT_INVALID_DUP
 << 1)

	)

185 
ªg_sy¡ax_t
 
ª_sy¡ax_›ti⁄s
;

187 #ifde‡
__USE_GNU


192 
	#RE_SYNTAX_EMACS
 0

	)

194 
	#RE_SYNTAX_AWK
 \

195 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 | 
RE_DOT_NOT_NULL
 \

196 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

197 | 
RE_NO_BK_VBAR
 | 
RE_NO_EMPTY_RANGES
 \

198 | 
RE_DOT_NEWLINE
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

199 | 
RE_CHAR_CLASSES
 \

200 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
 | 
RE_NO_GNU_OPS
)

	)

202 
	#RE_SYNTAX_GNU_AWK
 \

203 ((
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

204 | 
RE_INVALID_INTERVAL_ORD
) \

205 & ~(
RE_DOT_NOT_NULL
 | 
RE_CONTEXT_INDEP_OPS
 \

206 | 
RE_CONTEXT_INVALID_OPS
 ))

	)

208 
	#RE_SYNTAX_POSIX_AWK
 \

209 (
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

210 | 
RE_INTERVALS
 | 
RE_NO_GNU_OPS
 \

211 | 
RE_INVALID_INTERVAL_ORD
)

	)

213 
	#RE_SYNTAX_GREP
 \

214 (
RE_BK_PLUS_QM
 | 
RE_CHAR_CLASSES
 \

215 | 
RE_HAT_LISTS_NOT_NEWLINE
 | 
RE_INTERVALS
 \

216 | 
RE_NEWLINE_ALT
)

	)

218 
	#RE_SYNTAX_EGREP
 \

219 (
RE_CHAR_CLASSES
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

220 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_HAT_LISTS_NOT_NEWLINE
 \

221 | 
RE_NEWLINE_ALT
 | 
RE_NO_BK_PARENS
 \

222 | 
RE_NO_BK_VBAR
)

	)

224 
	#RE_SYNTAX_POSIX_EGREP
 \

225 (
RE_SYNTAX_EGREP
 | 
RE_INTERVALS
 | 
RE_NO_BK_BRACES
 \

226 | 
RE_INVALID_INTERVAL_ORD
)

	)

229 
	#RE_SYNTAX_ED
 
RE_SYNTAX_POSIX_BASIC


	)

231 
	#RE_SYNTAX_SED
 
RE_SYNTAX_POSIX_BASIC


	)

234 
	#_RE_SYNTAX_POSIX_COMMON
 \

235 (
RE_CHAR_CLASSES
 | 
RE_DOT_NEWLINE
 | 
RE_DOT_NOT_NULL
 \

236 | 
RE_INTERVALS
 | 
RE_NO_EMPTY_RANGES
)

	)

238 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


239 
	#RE_SYNTAX_POSIX_BASIC
 \

240 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
 | 
RE_CONTEXT_INVALID_DUP
)

	)

242 
	#RE_SYNTAX_POSIX_BASIC
 \

243 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
)

	)

249 
	#RE_SYNTAX_POSIX_MINIMAL_BASIC
 \

250 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_LIMITED_OPS
)

	)

252 
	#RE_SYNTAX_POSIX_EXTENDED
 \

253 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

254 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_NO_BK_BRACES
 \

255 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_VBAR
 \

256 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

260 
	#RE_SYNTAX_POSIX_MINIMAL_EXTENDED
 \

261 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

262 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_NO_BK_BRACES
 \

263 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

264 | 
RE_NO_BK_VBAR
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

270 #ifde‡
RE_DUP_MAX


271 #unde‡
RE_DUP_MAX


274 
	#RE_DUP_MAX
 (0x7fff)

	)

282 
	#REG_EXTENDED
 1

	)

286 
	#REG_ICASE
 (
REG_EXTENDED
 << 1)

	)

291 
	#REG_NEWLINE
 (
REG_ICASE
 << 1)

	)

295 
	#REG_NOSUB
 (
REG_NEWLINE
 << 1)

	)

305 
	#REG_NOTBOL
 1

	)

308 
	#REG_NOTEOL
 (1 << 1)

	)

310 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


313 
	#REG_STARTEND
 (1 << 2)

	)

321 #i‡
deföed
 
_XOPEN_SOURCE
 || deföed 
__USE_XOPEN2K


322 
	gREG_ENOSYS
 = -1,

325 
	gREG_NOERROR
 = 0,

326 
	gREG_NOMATCH
,

330 
	gREG_BADPAT
,

331 
	gREG_ECOLLATE
,

332 
	gREG_ECTYPE
,

333 
	gREG_EESCAPE
,

334 
	gREG_ESUBREG
,

335 
	gREG_EBRACK
,

336 
	gREG_EPAREN
,

337 
	gREG_EBRACE
,

338 
	gREG_BADBR
,

339 
	gREG_ERANGE
,

340 
	gREG_ESPACE
,

341 
	gREG_BADRPT
,

344 
	gREG_EEND
,

345 
	gREG_ESIZE
,

346 
	gREG_ERPAREN


347 } 
	tªg_îrcode_t
;

355 #i‚de‡
RE_TRANSLATE_TYPE


356 
	#__RE_TRANSLATE_TYPE
 *

	)

357 #ifde‡
__USE_GNU


358 
	#RE_TRANSLATE_TYPE
 
__RE_TRANSLATE_TYPE


	)

362 #ifde‡
__USE_GNU


363 
	#__REPB_PREFIX
(
«me
Ë
	)
name

365 
	#__REPB_PREFIX
(
«me
Ë
__
##
	)
name

368 
	sª_∑âîn_buf„r


373 *
__REPB_PREFIX
(
buf„r
);

376 
__REPB_PREFIX
(
Æloˇãd
);

379 
__REPB_PREFIX
(
u£d
);

382 
ªg_sy¡ax_t
 
__REPB_PREFIX
(
sy¡ax
);

387 *
__REPB_PREFIX
(
Á°m≠
);

393 
__RE_TRANSLATE_TYPE
 
__REPB_PREFIX
(
å™¶©e
);

396 
size_t
 
	gª_nsub
;

402 
__REPB_PREFIX
(
ˇn_be_nuŒ
) : 1;

408 #ifde‡
__USE_GNU


409 
	#REGS_UNALLOCATED
 0

	)

410 
	#REGS_REALLOCATE
 1

	)

411 
	#REGS_FIXED
 2

	)

413 
__REPB_PREFIX
(
ªgs_Æloˇãd
) : 2;

417 
__REPB_PREFIX
(
Á°m≠_accuøã
) : 1;

421 
__REPB_PREFIX
(
no_sub
) : 1;

425 
__REPB_PREFIX
(
nŸ_bﬁ
) : 1;

428 
__REPB_PREFIX
(
nŸ_eﬁ
) : 1;

431 
__REPB_PREFIX
(
√wlöe_™ch‹
) : 1;

434 
ª_∑âîn_buf„r
 
	tªgex_t
;

437 
	tªgoff_t
;

440 #ifde‡
__USE_GNU


443 
	sª_ªgi°îs


445 
	gnum_ªgs
;

446 
ªgoff_t
 *
	g°¨t
;

447 
ªgoff_t
 *
	gíd
;

454 #i‚de‡
RE_NREGS


455 
	#RE_NREGS
 30

	)

465 
ªgoff_t
 
	grm_so
;

466 
ªgoff_t
 
	grm_eo
;

467 } 
	tªgm©ch_t
;

471 #ifde‡
__USE_GNU


474 
ªg_sy¡ax_t
 
ª_£t_sy¡ax
 (ªg_sy¡ax_à
__sy¡ax
);

484 c⁄° *
ª_compûe_∑âîn
 (c⁄° *
__∑âîn
, 
size_t
 
__Àngth
,

485 
ª_∑âîn_buf„r
 *
__buf„r
);

491 
ª_compûe_Á°m≠
 (
ª_∑âîn_buf„r
 *
__buf„r
);

499 
ª_£¨ch
 (
ª_∑âîn_buf„r
 *
__buf„r
, c⁄° *
__°rög
,

500 
__Àngth
, 
__°¨t
, 
__ønge
,

501 
ª_ªgi°îs
 *
__ªgs
);

506 
ª_£¨ch_2
 (
ª_∑âîn_buf„r
 *
__buf„r
,

507 c⁄° *
__°rög1
, 
__Àngth1
,

508 c⁄° *
__°rög2
, 
__Àngth2
, 
__°¨t
,

509 
__ønge
, 
ª_ªgi°îs
 *
__ªgs
, 
__°›
);

514 
ª_m©ch
 (
ª_∑âîn_buf„r
 *
__buf„r
, c⁄° *
__°rög
,

515 
__Àngth
, 
__°¨t
, 
ª_ªgi°îs
 *
__ªgs
);

519 
ª_m©ch_2
 (
ª_∑âîn_buf„r
 *
__buf„r
,

520 c⁄° *
__°rög1
, 
__Àngth1
,

521 c⁄° *
__°rög2
, 
__Àngth2
, 
__°¨t
,

522 
ª_ªgi°îs
 *
__ªgs
, 
__°›
);

537 
ª_£t_ªgi°îs
 (
ª_∑âîn_buf„r
 *
__buf„r
,

538 
ª_ªgi°îs
 *
__ªgs
,

539 
__num_ªgs
,

540 
ªgoff_t
 *
__°¨ts
,Ñegoff_à*
__íds
);

543 #i‡
deföed
 
_REGEX_RE_COMP
 || (deföed 
_LIBC
 && deföed 
__USE_BSD
)

544 #i‚de‡
_CRAY


546 *
ª_comp
 (const *);

547 
ª_exec
 (const *);

553 #i‚de‡
__ª°ri˘


554 #i‡! (2 < 
__GNUC__
 || (2 =__GNUC__ && 95 <
__GNUC_MINOR__
))

555 #i‡
deföed
 
ª°ri˘
 || 199901L <
__STDC_VERSION__


556 
	#__ª°ri˘
 
ª°ri˘


	)

558 
	#__ª°ri˘


	)

563 #i‚de‡
__ª°ri˘_¨r


564 #i‡(
__GNUC__
 > 3 || (__GNUC__ =3 && 
__GNUC_MINOR__
 >= 1)) \

565 && !
deföed
 
	g__GNUG__


566 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

568 
	#__ª°ri˘_¨r


	)

573 
ªgcomp
 (
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

574 c⁄° *
__ª°ri˘
 
__∑âîn
,

575 
__cÊags
);

577 
ªgexec
 (c⁄° 
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

578 c⁄° *
__ª°ri˘
 
__°rög
, 
size_t
 
__nm©ch
,

579 
ªgm©ch_t
 
__pm©ch
[
__ª°ri˘_¨r
],

580 
__eÊags
);

582 
size_t
 
ªgîr‹
 (
__îrcode
, c⁄° 
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

583 *
__ª°ri˘
 
__îrbuf
, 
size_t
 
__îrbuf_size
);

585 
ªg‰ì
 (
ªgex_t
 *
__¥eg
);

588 #ifde‡
__˝lu•lus


	@/usr/include/setjmp.h

22 #i‚def 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/£tjmp.h
>

30 
	~<bôs/sig£t.h
>

34 
	s__jmp_buf_èg


40 
__jmp_buf
 
	m__jmpbuf
;

41 
	m__mask_was_ßved
;

42 
__sig£t_t
 
	m__ßved_mask
;

46 
__BEGIN_NAMESPACE_STD


48 
__jmp_buf_èg
 
	tjmp_buf
[1];

52 
	$£tjmp
 (
jmp_buf
 
__ív
Ë
__THROWNL
;

54 
__END_NAMESPACE_STD


59 
	$__sig£tjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__ßvemask
Ë
__THROWNL
;

63 
	$_£tjmp
 (
__jmp_buf_èg
 
__ív
[1]Ë
__THROWNL
;

67 
	#£tjmp
(
ív
Ë
	`_£tjmp
 (ív)

	)

70 
__BEGIN_NAMESPACE_STD


74 
	$l⁄gjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__vÆ
)

75 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

77 
__END_NAMESPACE_STD


79 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


83 
	$_l⁄gjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__vÆ
)

84 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

88 #ifdef 
__USE_POSIX


92 
__jmp_buf_èg
 
	tsigjmp_buf
[1];

96 
	#sig£tjmp
(
ív
, 
ßvemask
Ë
	`__sig£tjmp
 (ív, savemask)

	)

102 
	$sigl⁄gjmp
 (
sigjmp_buf
 
__ív
, 
__vÆ
)

103 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

108 #i‡
__USE_FORTIFY_LEVEL
 > 0

109 
	~<bôs/£tjmp2.h
>

112 
__END_DECLS


	@/usr/include/signal.h

22 #i‚def 
_SIGNAL_H


24 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	~<bôs/sig£t.h
>

36 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


37 #i‚de‡
__sig_©omic_t_deföed


38 
	#__sig_©omic_t_deföed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #unde‡
__√ed_sig_©omic_t


46 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

47 #i‚de‡
__sig£t_t_deföed


48 
	#__sig£t_t_deföed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #unde‡
__√ed_sig£t_t


54 #ifde‡
_SIGNAL_H


56 
	~<bôs/ty≥s.h
>

57 
	~<bôs/signum.h
>

59 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


60 #i‚de‡
__pid_t_deföed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_deföed


	)

64 #ifde‡
__USE_XOPEN


66 #i‚de‡
__uid_t_deföed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_deföed


	)

72 #ifde‡
__USE_POSIX199309


74 
	#__√ed_time•ec


	)

75 
	~<time.h
>

78 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_XOPEN_EXTENDED


80 
	~<bôs/sigöfo.h
>

85 (*
	t__sigh™dÀr_t
) ();

90 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

91 
__THROW
;

92 #ifde‡
__USE_GNU


93 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifde‡
__USE_BSD


102 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

103 
__THROW
;

106 #ifde‡
__REDIRECT_NTH


107 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

108 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

109 
__sysv_sig«l
);

111 
	#sig«l
 
__sysv_sig«l


	)

114 
__END_NAMESPACE_STD


116 #ifde‡
__USE_XOPEN


119 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

120 
__THROW
;

126 #ifde‡
__USE_POSIX


127 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

130 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


134 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$øi£
 (
__sig
Ë
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifde‡
__USE_SVID


144 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

145 
__THROW
;

146 
	$gsig«l
 (
__sig
Ë
__THROW
;

149 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K


151 
	`psig«l
 (
__sig
, c⁄° *
__s
);

154 #ifde‡
__USE_XOPEN2K


156 
	`psigöfo
 (c⁄° 
sigöfo_t
 *
__pöfo
, c⁄° *
__s
);

167 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

169 #ifde‡
__USE_XOPEN


170 #ifde‡
__GNUC__


171 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

174 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

179 #ifde‡
__USE_BSD


186 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

189 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

192 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

195 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

199 #ifde‡
__USE_MISC


200 
	#NSIG
 
_NSIG


	)

203 #ifde‡
__USE_GNU


204 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

208 #ifde‡
__USE_BSD


209 
__sigh™dÀr_t
 
	tsig_t
;

212 #ifde‡
__USE_POSIX


215 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

218 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

221 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

224 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

227 
	$sigismembî
 (c⁄° 
sig£t_t
 *
__£t
, 
__signo
)

228 
__THROW
 
	`__n⁄nuŒ
 ((1));

230 #ifde‡
__USE_GNU


232 
	$sigi£m±y£t
 (c⁄° 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

235 
	$sig™d£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

236 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

239 
	$sig‹£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

240 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

245 
	~<bôs/siga˘i⁄.h
>

248 
	$sig¥ocmask
 (
__how
, c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

249 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

256 
	$sigsu•íd
 (c⁄° 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

259 
	$siga˘i⁄
 (
__sig
, c⁄° 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

260 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

263 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

270 
	$sigwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

271 
	`__n⁄nuŒ
 ((1, 2));

273 #ifde‡
__USE_POSIX199309


278 
	$sigwaôöfo
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

279 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

286 
	$sigtimedwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

287 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

288 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
)

289 
	`__n⁄nuŒ
 ((1));

293 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, c⁄° 
sigvÆ
 
__vÆ
)

294 
__THROW
;

299 #ifde‡
__USE_BSD


303 c⁄° *c⁄° 
_sys_sigli°
[
_NSIG
];

304 c⁄° *c⁄° 
sys_sigli°
[
_NSIG
];

307 
	ssigvec


309 
__sigh™dÀr_t
 
sv_h™dÀr
;

310 
sv_mask
;

312 
sv_Êags
;

313 
	#sv_⁄°ack
 
sv_Êags


	)

317 
	#SV_ONSTACK
 (1 << 0)

	)

318 
	#SV_INTERRUPT
 (1 << 1)

	)

319 
	#SV_RESETHAND
 (1 << 2)

	)

327 
	$sigvec
 (
__sig
, c⁄° 
sigvec
 *
__vec
,

328 
sigvec
 *
__ovec
Ë
__THROW
;

332 
	~<bôs/sigc⁄ãxt.h
>

335 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

340 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


341 
	#__√ed_size_t


	)

342 
	~<°ddef.h
>

347 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

349 
	~<bôs/sig°ack.h
>

350 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


352 
	~<sys/uc⁄ãxt.h
>

358 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

359 
__THROW
 
__©åibuã_dïªˇãd__
;

363 
	$sigÆt°ack
 (c⁄° 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

364 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

368 #ifde‡
__USE_XOPEN_EXTENDED


372 
	$sighﬁd
 (
__sig
Ë
__THROW
;

375 
	$sigªl£
 (
__sig
Ë
__THROW
;

378 
	$sigign‹e
 (
__sig
Ë
__THROW
;

381 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

384 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


387 
	~<bôs/±hªadty≥s.h
>

388 
	~<bôs/sigthªad.h
>

395 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

397 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

401 
__END_DECLS


	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

144 #i‡
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
Ë¯## 
L


	)

146 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

148 
	#__INT64_C
(
c
Ë¯## 
LL


	)

149 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #i‡
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #i‡
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #i‡
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #i‡
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #i‡
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #i‡
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 
	#SIZE_MAX
 (4294967295U)

	)

267 #i‚de‡
WCHAR_MIN


269 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

270 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

274 
	#WINT_MIN
 (0u)

	)

275 
	#WINT_MAX
 (4294967295u)

	)

278 
	#INT8_C
(
c
Ë
	)
c

279 
	#INT16_C
(
c
Ë
	)
c

280 
	#INT32_C
(
c
Ë
	)
c

281 #i‡
__WORDSIZE
 == 64

282 
	#INT64_C
(
c
Ë¯## 
L


	)

284 
	#INT64_C
(
c
Ë¯## 
LL


	)

288 
	#UINT8_C
(
c
Ë
	)
c

289 
	#UINT16_C
(
c
Ë
	)
c

290 
	#UINT32_C
(
c
Ë¯## 
U


	)

291 #i‡
__WORDSIZE
 == 64

292 
	#UINT64_C
(
c
Ë¯## 
UL


	)

294 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

298 #i‡
__WORDSIZE
 == 64

299 
	#INTMAX_C
(
c
Ë¯## 
L


	)

300 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

302 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

303 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


25 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	#__√ed_FILE


	)

37 
	#__√ed___FILE


	)

41 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

51 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

52 || 
deföed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_deföed
 1

	)

58 #unde‡
__√ed_FILE


61 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_deföed
 1

	)

68 #unde‡
__√ed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


77 #ifde‡
__GNUC__


78 #i‚de‡
_VA_LIST_DEFINED


79 
_G_va_li°
 
	tva_li°
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<°d¨g.h
>

87 #ifde‡
__USE_XOPEN2K8


88 #i‚de‡
__off_t_deföed


89 #i‚de‡
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_deföed


	)

96 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_deföed


	)

101 #i‚de‡
__ssize_t_deföed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_deföed


	)

108 
__BEGIN_NAMESPACE_STD


109 #i‚de‡
__USE_FILE_OFFSET64


110 
_G_Âos_t
 
	tÂos_t
;

112 
_G_Âos64_t
 
	tÂos_t
;

114 
__END_NAMESPACE_STD


115 #ifde‡
__USE_LARGEFILE64


116 
_G_Âos64_t
 
	tÂos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #i‚de‡
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #i‚de‡
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifde‡
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


151 
	#P_tmpdú
 "/tmp"

	)

164 
	~<bôs/°dio_lim.h
>

168 
_IO_FILE
 *
°dö
;

169 
_IO_FILE
 *
°dout
;

170 
_IO_FILE
 *
°dîr
;

172 
	#°dö
 
°dö


	)

173 
	#°dout
 
°dout


	)

174 
	#°dîr
 
°dîr


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

180 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifde‡
__USE_ATFILE


185 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

186 c⁄° *
__√w
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #i‚de‡
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

197 #ifde‡
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

200 
	#tmpfûe
 
tmpfûe64


	)

204 #ifde‡
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

209 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifde‡
__USE_MISC


215 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

219 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


227 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

228 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`f˛o£
 (
FILE
 *
__°ªam
);

242 
	`fÊush
 (
FILE
 *
__°ªam
);

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_MISC


252 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

255 #ifde‡
__USE_GNU


262 
	`f˛o£Æl
 ();

266 
__BEGIN_NAMESPACE_STD


267 #i‚de‡
__USE_FILE_OFFSET64


272 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

273 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

278 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

279 c⁄° *
__ª°ri˘
 
__modes
,

280 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

282 #ifde‡
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

284 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

287 c⁄° *
__ª°ri˘
 
__modes
,

288 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

289 
__wur
;

291 
	#f›í
 
f›í64


	)

292 
	#‰e›í
 
‰e›í64


	)

295 
__END_NAMESPACE_STD


296 #ifde‡
__USE_LARGEFILE64


297 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

298 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

299 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

300 c⁄° *
__ª°ri˘
 
__modes
,

301 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

313 c⁄° *
__ª°ri˘
 
__modes
,

314 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

317 #ifde‡
__USE_XOPEN2K8


319 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

337 
__modes
, 
size_t
 
__n
Ë
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

344 
size_t
 
__size
Ë
__THROW
;

347 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

357 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

362 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

364 
	$•rötf
 (*
__ª°ri˘
 
__s
,

365 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

371 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

372 
_G_va_li°
 
__¨g
);

377 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

379 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

380 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

387 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

388 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

390 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

391 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

392 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifde‡
__USE_GNU


399 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

400 
_G_va_li°
 
__¨g
)

401 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

402 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

403 c⁄° *
__ª°ri˘
 
__fmt
, ...)

404 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

405 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

406 c⁄° *
__ª°ri˘
 
__fmt
, ...)

407 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

410 #ifde‡
__USE_XOPEN2K8


412 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

413 
_G_va_li°
 
__¨g
)

414 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

415 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

416 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

426 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

431 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

433 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

434 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

436 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

437 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

438 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

439 #ifde‡
__REDIRECT


443 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

444 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

445 
__isoc99_fsˇnf
Ë
__wur
;

446 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

447 
__isoc99_sˇnf
Ë
__wur
;

448 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

449 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

450 
__isoc99_ssˇnf
);

452 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

453 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

454 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

455 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

456 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

457 
	#fsˇnf
 
__isoc99_fsˇnf


	)

458 
	#sˇnf
 
__isoc99_sˇnf


	)

459 
	#ssˇnf
 
__isoc99_ssˇnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

472 
_G_va_li°
 
__¨g
)

473 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

479 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

480 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

483 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

484 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

485 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

487 #i‡!
deföed
 
__USE_GNU
 \

488 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

489 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

490 #ifde‡
__REDIRECT


494 
	`__REDIRECT
 (
vfsˇnf
,

495 (
FILE
 *
__ª°ri˘
 
__s
,

496 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

497 
__isoc99_vfsˇnf
)

498 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

499 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

500 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

501 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

502 
	`__REDIRECT_NTH
 (
vssˇnf
,

503 (c⁄° *
__ª°ri˘
 
__s
,

504 c⁄° *
__ª°ri˘
 
__f‹m©
,

505 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

506 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

508 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

509 c⁄° *
__ª°ri˘
 
__f‹m©
,

510 
_G_va_li°
 
__¨g
Ë
__wur
;

511 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

512 
_G_va_li°
 
__¨g
Ë
__wur
;

513 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

514 c⁄° *
__ª°ri˘
 
__f‹m©
,

515 
_G_va_li°
 
__¨g
Ë
__THROW
;

516 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

517 
	#vsˇnf
 
__isoc99_vsˇnf


	)

518 
	#vssˇnf
 
__isoc99_vssˇnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fgëc
 (
FILE
 *
__°ªam
);

532 
	`gëc
 (
FILE
 *
__°ªam
);

538 
	`gëch¨
 ();

539 
__END_NAMESPACE_STD


543 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

545 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


550 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

551 
	`gëch¨_u∆ocked
 ();

554 #ifde‡
__USE_MISC


561 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

565 
__BEGIN_NAMESPACE_STD


573 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

574 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putch¨
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

587 #ifde‡
__USE_MISC


594 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

597 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


602 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 
	`putch¨_u∆ocked
 (
__c
);

607 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

608 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

610 
	`gëw
 (
FILE
 *
__°ªam
);

613 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

623 
__wur
;

625 #i‡!
deföed
 
__USE_ISOC11
 \

626 || (
deföed
 
__˝lu•lus
 && __cplusplus <= 201103L)

638 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

640 
__END_NAMESPACE_STD


642 #ifde‡
__USE_GNU


649 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

650 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

668 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

669 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

670 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

678 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

679 
size_t
 *
__ª°ri˘
 
__n
,

680 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

695 
	`puts
 (c⁄° *
__s
);

702 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

709 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

715 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

716 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifde‡
__USE_GNU


726 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

727 
FILE
 *
__ª°ri˘
 
__°ªam
);

730 #ifde‡
__USE_MISC


737 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

739 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

740 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

754 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

759 
	`ªwöd
 (
FILE
 *
__°ªam
);

760 
__END_NAMESPACE_STD


767 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


768 #i‚de‡
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

778 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

780 #ifde‡
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#·ñlo
 
·ñlo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #i‚de‡
__USE_FILE_OFFSET64


798 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

803 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

805 #ifde‡
__REDIRECT


806 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

807 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

808 
	`__REDIRECT
 (
f£ços
,

809 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

811 
	#fgëpos
 
fgëpos64


	)

812 
	#f£ços
 
f£ços64


	)

815 
__END_NAMESPACE_STD


817 #ifde‡
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

819 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

820 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

821 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

828 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

830 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifde‡
__USE_MISC


835 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

836 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

837 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`≥º‹
 (c⁄° *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<bôs/sys_îæi°.h
>

856 #ifdef 
__USE_POSIX


858 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

861 #ifde‡
__USE_MISC


863 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

867 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

868 
deföed
 
__USE_MISC
)

873 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

879 
	`p˛o£
 (
FILE
 *
__°ªam
);

883 #ifdef 
__USE_POSIX


885 *
	$˘îmid
 (*
__s
Ë
__THROW
;

889 #ifde‡
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob°ack
;

899 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

900 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

901 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

902 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

903 c⁄° *
__ª°ri˘
 
__f‹m©
,

904 
_G_va_li°
 
__¨gs
)

905 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

909 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


913 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

917 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

920 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

923 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


927 
	#__√ed_gë›t


	)

928 
	~<gë›t.h
>

933 #ifde‡
__USE_EXTERN_INLINES


934 
	~<bôs/°dio.h
>

936 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


937 
	~<bôs/°dio2.h
>

939 #ifde‡
__LDBL_COMPAT


940 
	~<bôs/°dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #i‚def 
_STDLIB_H


24 
	~<„©uªs.h
>

27 
	#__√ed_size_t


	)

28 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


29 
	#__√ed_wch¨_t


	)

30 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

34 
	g__BEGIN_DECLS


36 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


37 
	#_STDLIB_H
 1

	)

39 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


41 
	~<bôs/waôÊags.h
>

42 
	~<bôs/waô°©us.h
>

44 #ifde‡
__USE_BSD


49 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


50 
	#__WAIT_INT
(
°©us
) \

51 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

52 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

54 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

62 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
waô
 *
	m__u±r
;

70 *
	m__ùå
;

71 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

85 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

90 #ifde‡
__WIFCONTINUED


91 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquŸ
;

100 
	mªm
;

101 } 
	tdiv_t
;

104 #i‚de‡
__ldiv_t_deföed


107 
	mquŸ
;

108 
	mªm
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_deföed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


115 
__BEGIN_NAMESPACE_C99


117 
__exãnsi⁄__
 struct

119 
	mquŸ
;

120 
	mªm
;

121 } 
	tŒdiv_t
;

122 
	#__Œdiv_t_deföed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

139 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (c⁄° *
__≈å
)

145 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

147 
	$©oi
 (c⁄° *
__≈å
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

150 
	$©ﬁ
 (c⁄° *
__≈å
)

151 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

152 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_MISC


155 
__BEGIN_NAMESPACE_C99


157 
__exãnsi⁄__
 
	$©ﬁl
 (c⁄° *
__≈å
)

158 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$°πod
 (c⁄° *
__ª°ri˘
 
__≈å
,

165 **
__ª°ri˘
 
__íd±r
)

166 
__THROW
 
	`__n⁄nuŒ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$°πof
 (c⁄° *
__ª°ri˘
 
__≈å
,

173 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

175 
	$°πﬁd
 (c⁄° *
__ª°ri˘
 
__≈å
,

176 **
__ª°ri˘
 
__íd±r
)

177 
__THROW
 
	`__n⁄nuŒ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$°πﬁ
 (c⁄° *
__ª°ri˘
 
__≈å
,

184 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

185 
__THROW
 
	`__n⁄nuŒ
 ((1));

187 
	$°πoul
 (c⁄° *
__ª°ri˘
 
__≈å
,

188 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

189 
__THROW
 
	`__n⁄nuŒ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifde‡
__USE_BSD


194 
__exãnsi⁄__


195 
	$°πoq
 (c⁄° *
__ª°ri˘
 
__≈å
,

196 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

197 
__THROW
 
	`__n⁄nuŒ
 ((1));

199 
__exãnsi⁄__


200 
	$°πouq
 (c⁄° *
__ª°ri˘
 
__≈å
,

201 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

202 
__THROW
 
	`__n⁄nuŒ
 ((1));

205 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_MISC


206 
__BEGIN_NAMESPACE_C99


208 
__exãnsi⁄__


209 
	$°πﬁl
 (c⁄° *
__ª°ri˘
 
__≈å
,

210 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

211 
__THROW
 
	`__n⁄nuŒ
 ((1));

213 
__exãnsi⁄__


214 
	$°πouŒ
 (c⁄° *
__ª°ri˘
 
__≈å
,

215 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

216 
__THROW
 
	`__n⁄nuŒ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifde‡
__USE_GNU


235 
	~<xloˇÀ.h
>

239 
	$°πﬁ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

240 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

241 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

243 
	$°πoul_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

244 **
__ª°ri˘
 
__íd±r
,

245 
__ba£
, 
__loˇÀ_t
 
__loc
)

246 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

248 
__exãnsi⁄__


249 
	$°πﬁl_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

250 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

251 
__loˇÀ_t
 
__loc
)

252 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

254 
__exãnsi⁄__


255 
	$°πouŒ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

256 **
__ª°ri˘
 
__íd±r
,

257 
__ba£
, 
__loˇÀ_t
 
__loc
)

258 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

260 
	$°πod_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

261 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

262 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

264 
	$°πof_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

265 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

266 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

268 
	$°πﬁd_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

269 **
__ª°ri˘
 
__íd±r
,

270 
__loˇÀ_t
 
__loc
)

271 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

275 #ifde‡
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__exã∫_ölöe
 

278 
	`__NTH
 (
	$©oi
 (c⁄° *
__≈å
))

280  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

281 
	}
}

282 
__exã∫_ölöe
 

283 
__NTH
 (
	$©ﬁ
 (c⁄° *
__≈å
))

285  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__exãnsi⁄__
 
__exã∫_ölöe
 

292 
__NTH
 (
	$©ﬁl
 (c⁄° *
__≈å
))

294  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

308 
	$a64l
 (c⁄° *
__s
)

309 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

313 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


314 
	~<sys/ty≥s.h
>

321 
	$øndom
 (Ë
__THROW
;

324 
	$§™dom
 (
__£ed
Ë
__THROW
;

330 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

331 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

335 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

338 #ifde‡
__USE_MISC


343 
	søndom_d©a


345 
öt32_t
 *
Âå
;

346 
öt32_t
 *
Ωå
;

347 
öt32_t
 *
°©e
;

348 
ønd_ty≥
;

349 
ønd_deg
;

350 
ønd_£p
;

351 
öt32_t
 *
íd_±r
;

354 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

355 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

357 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

358 
__THROW
 
	`__n⁄nuŒ
 ((2));

360 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

361 
size_t
 
__°©ñí
,

362 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

363 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

365 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

366 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

367 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$ønd
 (Ë
__THROW
;

376 
	$§™d
 (
__£ed
Ë
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifde‡
__USE_POSIX


381 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

385 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


389 
	$dønd48
 (Ë
__THROW
;

390 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

393 
	$Ã™d48
 (Ë
__THROW
;

394 
	$ƒ™d48
 (
__xsubi
[3])

395 
__THROW
 
	`__n⁄nuŒ
 ((1));

398 
	$mønd48
 (Ë
__THROW
;

399 
	$jønd48
 (
__xsubi
[3])

400 
__THROW
 
	`__n⁄nuŒ
 ((1));

403 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__n⁄nuŒ
 ((1));

406 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

408 #ifde‡
__USE_MISC


412 
	sdønd48_d©a


414 
__x
[3];

415 
__ﬁd_x
[3];

416 
__c
;

417 
__öô
;

418 
__exãnsi⁄__
 
__a
;

423 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

424 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

425 
	$î™d48_r
 (
__xsubi
[3],

426 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

427 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

430 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

431 *
__ª°ri˘
 
__ªsu…
)

432 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

433 
	$ƒ™d48_r
 (
__xsubi
[3],

434 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

435 *
__ª°ri˘
 
__ªsu…
)

436 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

439 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

440 *
__ª°ri˘
 
__ªsu…
)

441 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

442 
	$jønd48_r
 (
__xsubi
[3],

443 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

444 *
__ª°ri˘
 
__ªsu…
)

445 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

448 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

449 
__THROW
 
	`__n⁄nuŒ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

454 
	$lc⁄g48_r
 (
__∑øm
[7],

455 
dønd48_d©a
 *
__buf„r
)

456 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

462 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


463 
	#__mÆloc_™d_ˇŒoc_deföed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

468 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

469 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

483 
	$‰ì
 (*
__±r
Ë
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$c‰ì
 (*
__±r
Ë
__THROW
;

491 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


492 
	~<Æloˇ.h
>

495 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

496 || 
deföed
 
__USE_BSD


498 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

501 #ifde‡
__USE_XOPEN2K


503 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

504 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

507 #ifde‡
__USE_ISOC11


509 *
	$Æig√d_Æloc
 (
size_t
 
__Æignmít
, size_à
__size
)

510 
__THROW
 
__©åibuã_mÆloc__
 
	`__©åibuã_Æloc_size__
 ((2)Ë
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

519 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

521 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


523 #ifde‡
__˝lu•lus


524 "C++" 
	`©_quick_exô
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

527 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

536 
__THROW
 
	`__n⁄nuŒ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

545 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


549 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

551 
__END_NAMESPACE_STD


553 #ifde‡
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$gëív
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

565 
__END_NAMESPACE_STD


567 #ifde‡
__USE_GNU


570 *
	$£cuª_gëív
 (c⁄° *
__«me
)

571 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

574 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


578 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

581 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


584 
	$£ãnv
 (c⁄° *
__«me
, c⁄° *
__vÆue
, 
__ª∂a˚
)

585 
__THROW
 
	`__n⁄nuŒ
 ((2));

588 
	$un£ãnv
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$˛óªnv
 (Ë
__THROW
;

599 #i‡
deföed
 
__USE_MISC
 \

600 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
)

606 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

609 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 \

610 || 
deföed
 
__USE_XOPEN2K8


619 #i‚de‡
__USE_FILE_OFFSET64


620 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

622 #ifde‡
__REDIRECT


623 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

624 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

626 
	#mk°emp
 
mk°emp64


	)

629 #ifde‡
__USE_LARGEFILE64


630 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

634 #ifde‡
__USE_MISC


641 #i‚de‡
__USE_FILE_OFFSET64


642 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

644 #ifde‡
__REDIRECT


645 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

646 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

648 
	#mk°emps
 
mk°emps64


	)

651 #ifde‡
__USE_LARGEFILE64


652 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

653 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

657 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


663 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

666 #ifde‡
__USE_GNU


673 #i‚de‡
__USE_FILE_OFFSET64


674 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

676 #ifde‡
__REDIRECT


677 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

678 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

680 
	#mko°emp
 
mko°emp64


	)

683 #ifde‡
__USE_LARGEFILE64


684 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

693 #i‚de‡
__USE_FILE_OFFSET64


694 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

695 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

697 #ifde‡
__REDIRECT


698 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

699 
__Êags
), 
mko°emps64
)

700 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

702 
	#mko°emps
 
mko°emps64


	)

705 #ifde‡
__USE_LARGEFILE64


706 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

707 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy°em
 (c⁄° *
__comm™d
Ë
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ˇn⁄iˇlize_fûe_«me
 (c⁄° *
__«me
)

725 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

728 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


734 *
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
,

735 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

740 #i‚de‡
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com∑r_‚_t
) (const *, const *);

744 #ifdef 
__USE_GNU


745 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

748 #ifde‡
__USE_GNU


749 (*
	t__com∑r_d_‚_t
) (const *, const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¨ch
 (c⁄° *
__key
, c⁄° *
__ba£
,

756 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

757 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

759 #ifde‡
__USE_EXTERN_INLINES


760 
	~<bôs/°dlib-b£¨ch.h
>

765 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

766 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

767 #ifde‡
__USE_GNU


768 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

769 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

770 
	`__n⁄nuŒ
 ((1, 4));

775 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

776 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

777 
__END_NAMESPACE_STD


779 #ifde‡
__USE_ISOC99


780 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

781 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

785 
__BEGIN_NAMESPACE_STD


789 
div_t
 
	$div
 (
__numî
, 
__díom
)

790 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

791 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

792 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

793 
__END_NAMESPACE_STD


795 #ifde‡
__USE_ISOC99


796 
__BEGIN_NAMESPACE_C99


797 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

798 
__díom
)

799 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

800 
__END_NAMESPACE_C99


804 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

805 || 
deföed
 
__USE_SVID


812 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

813 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

818 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

819 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

824 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

825 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

828 #ifde‡
__USE_MISC


830 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

831 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

832 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

833 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

834 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

835 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

836 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

837 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

842 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

843 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

844 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

845 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

846 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

847 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

849 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

850 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

851 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

852 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

853 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

854 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

855 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

856 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

860 
__BEGIN_NAMESPACE_STD


863 
	$mbÀn
 (c⁄° *
__s
, 
size_t
 
__n
Ë
__THROW
;

866 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

867 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

870 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
;

874 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

875 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

877 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

878 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

879 
__THROW
;

880 
__END_NAMESPACE_STD


883 #ifde‡
__USE_SVID


888 
	$Ωm©ch
 (c⁄° *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

892 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


899 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

900 *c⁄° *
__ª°ri˘
 
__tokís
,

901 **
__ª°ri˘
 
__vÆuï
)

902 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

906 #ifde‡
__USE_XOPEN


908 
	$£tkey
 (c⁄° *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

914 #ifde‡
__USE_XOPEN2KXSI


916 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

919 #ifde‡
__USE_XOPEN


924 
	$gø¡±
 (
__fd
Ë
__THROW
;

928 
	$u∆ock±
 (
__fd
Ë
__THROW
;

933 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

936 #ifde‡
__USE_GNU


940 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

941 
__THROW
 
	`__n⁄nuŒ
 ((2));

944 
	`gë±
 ();

947 #ifde‡
__USE_BSD


951 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

952 
__THROW
 
	`__n⁄nuŒ
 ((1));

955 
	~<bôs/°dlib-Êﬂt.h
>

958 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


959 
	~<bôs/°dlib.h
>

961 #ifde‡
__LDBL_COMPAT


962 
	~<bôs/°dlib-ldbl.h
>

966 #unde‡
__√ed_mÆloc_™d_ˇŒoc


968 
__END_DECLS


	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

39 #i‡
deföed
 
__˝lu•lus
 && (__˝lu•lu†>199711L || 
__GNUC_PREREQ
 (4, 4))

40 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

44 
__BEGIN_NAMESPACE_STD


46 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

47 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

50 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

51 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

52 
__END_NAMESPACE_STD


57 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


58 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

59 
__c
, 
size_t
 
__n
)

60 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

64 
__BEGIN_NAMESPACE_STD


66 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

69 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

70 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

73 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


76 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

78 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

79 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

81 #ifde‡
__OPTIMIZE__


82 
__exã∫_Æways_ölöe
 *

83 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


85  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

88 
__exã∫_Æways_ölöe
 const *

89 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


91  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

94 
	}
}

96 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

97 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

99 
__END_NAMESPACE_STD


101 #ifde‡
__USE_GNU


104 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


105 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

107 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

108 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

110 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

111 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

115 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


116 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

118 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

119 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

121 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

122 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

127 
__BEGIN_NAMESPACE_STD


129 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

132 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

133 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

137 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

138 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

141 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

144 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

145 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

151 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

152 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

154 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

155 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

156 
__THROW
 
	`__n⁄nuŒ
 ((2));

157 
__END_NAMESPACE_STD


159 #ifde‡
__USE_XOPEN2K8


163 
	~<xloˇÀ.h
>

166 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

167 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

169 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

170 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

173 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

174 || 
deföed
 
__USE_XOPEN2K8


176 *
	$°rdup
 (c⁄° *
__s
)

177 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

183 #i‡
deföed
 
__USE_XOPEN2K8


184 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

185 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

188 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


190 
	#°rdu∑
(
s
) \

191 (
__exãnsi⁄__
 \

193 c⁄° *
__ﬁd
 = (
s
); \

194 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

195 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

196 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

197 
	}
}))

	)

200 
	#°∫du∑
(
s
, 
n
) \

201 (
__exãnsi⁄__
 \

203 c⁄° *
__ﬁd
 = (
s
); \

204 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

205 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

206 
__√w
[
__Àn
] = '\0'; \

207 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

208 }))

	)

211 
	g__BEGIN_NAMESPACE_STD


213 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


216 *
°rchr
 (*
__s
, 
__c
)

217 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

218 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

219 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

221 #ifde‡
__OPTIMIZE__


222 
__exã∫_Æways_ölöe
 *

223 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


225  
__buûtö_°rchr
 (
__s
, 
__c
);

228 
__exã∫_Æways_ölöe
 const *

229 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


231  
__buûtö_°rchr
 (
__s
, 
__c
);

236 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

237 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

240 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


243 *
	`°ºchr
 (*
__s
, 
__c
)

244 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

245 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

246 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

248 #ifde‡
__OPTIMIZE__


249 
__exã∫_Æways_ölöe
 *

250 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


252  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

255 
__exã∫_Æways_ölöe
 const *

256 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


258  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

261 
	}
}

263 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

264 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

266 
__END_NAMESPACE_STD


268 #ifde‡
__USE_GNU


271 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


272 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

273 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

274 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

275 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

277 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

278 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

282 
__BEGIN_NAMESPACE_STD


285 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

286 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

289 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

290 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

292 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


295 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

296 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

297 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

298 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

300 #ifde‡
__OPTIMIZE__


301 
__exã∫_Æways_ölöe
 *

302 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


304  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

307 
__exã∫_Æways_ölöe
 const *

308 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


310  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

313 
	}
}

315 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

316 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

319 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


322 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

323 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

324 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

325 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

327 #ifde‡
__OPTIMIZE__


328 
__exã∫_Æways_ölöe
 *

329 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


331  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

334 
__exã∫_Æways_ölöe
 const *

335 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


337  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

340 
	}
}

342 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

343 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

348 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

349 
__THROW
 
	`__n⁄nuŒ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

355 c⁄° *
__ª°ri˘
 
__dñim
,

356 **
__ª°ri˘
 
__ßve_±r
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

358 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


359 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

360 **
__ª°ri˘
 
__ßve_±r
)

361 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

364 #ifde‡
__USE_GNU


366 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

368 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

369 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

370 c⁄° *
__√edÀ
)

371 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

374 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

378 #ifde‡
__USE_GNU


382 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

383 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

384 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

388 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

389 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

390 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

391 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

392 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

393 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$°æí
 (c⁄° *
__s
)

400 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

407 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

414 
__END_NAMESPACE_STD


415 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


423 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


426 #ifde‡
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

428 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

429 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

431 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

433 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

438 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

439 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

443 #ifde‡
__USE_XOPEN2K8


445 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

451 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

453 #ifde‡
__USE_BSD


455 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

456 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

462 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

466 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`ödex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

471 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

474 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__exã∫_Æways_ölöe
 *

476 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


478  
	`__buûtö_ödex
 (
__s
, 
__c
);

481 
__exã∫_Æways_ölöe
 const *

482 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


484  
	`__buûtö_ödex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$ödex
 (c⁄° *
__s
, 
__c
)

490 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`rödex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

499 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

502 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__exã∫_Æways_ölöe
 *

504 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


506  
	`__buûtö_rödex
 (
__s
, 
__c
);

509 
__exã∫_Æways_ölöe
 const *

510 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


512  
	`__buûtö_rödex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$rödex
 (c⁄° *
__s
, 
__c
)

518 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

523 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

527 #ifdef 
__USE_GNU


528 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

530 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

534 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

535 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

538 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

539 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

542 #ifdef 
__USE_GNU


545 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

546 
__loˇÀ_t
 
__loc
)

547 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

549 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

550 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

551 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

554 #ifdef 
__USE_BSD


557 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

558 c⁄° *
__ª°ri˘
 
__dñim
)

559 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

562 #ifdef 
__USE_XOPEN2K8


564 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

567 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

568 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

574 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

575 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

576 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

577 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

578 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

579 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

582 #ifdef 
__USE_GNU


584 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

585 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

588 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

591 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

593 #i‚de‡
ba£«me


598 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


599 "C++" *
	$ba£«me
 (*
__fûíame
)

600 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

601 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

602 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

604 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

610 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

611 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

612 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


632 
	~<bôs/°rög.h
>

635 
	~<bôs/°rög2.h
>

638 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


640 
	~<bôs/°rög3.h
>

644 
__END_DECLS


	@/usr/include/stropts.h

18 #i‚de‡
_STROPTS_H


19 
	#_STROPTS_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<bôs/ty≥s.h
>

23 
	~<bôs/xtôy≥s.h
>

25 #i‚de‡
__gid_t_deföed


26 
__gid_t
 
	tgid_t
;

27 
	#__gid_t_deföed


	)

30 #i‚de‡
__uid_t_deföed


31 
__uid_t
 
	tuid_t
;

32 
	#__uid_t_deföed


	)

35 
__t_sˇœr_t
 
	tt_sˇœr_t
;

36 
__t_usˇœr_t
 
	tt_usˇœr_t
;

39 
	~<bôs/°r›ts.h
>

42 
__BEGIN_DECLS


45 
	$iß°ªam
 (
__fûdes
Ë
__THROW
;

51 
	`gëmsg
 (
__fûdes
, 
°rbuf
 *
__ª°ri˘
 
__˘Õå
,

52 
°rbuf
 *
__ª°ri˘
 
__d©≠å
,

53 *
__ª°ri˘
 
__Êag•
);

60 
	`gëpmsg
 (
__fûdes
, 
°rbuf
 *
__ª°ri˘
 
__˘Õå
,

61 
°rbuf
 *
__ª°ri˘
 
__d©≠å
,

62 *
__ª°ri˘
 
__b™dp
, *__ª°ri˘ 
__Êag•
);

67 
	$io˘l
 (
__fd
, 
__ªque°
, ...Ë
__THROW
;

73 
	`putmsg
 (
__fûdes
, c⁄° 
°rbuf
 *
__˘Õå
,

74 c⁄° 
°rbuf
 *
__d©≠å
, 
__Êags
);

80 
	`puçmsg
 (
__fûdes
, c⁄° 
°rbuf
 *
__˘Õå
,

81 c⁄° 
°rbuf
 *
__d©≠å
, 
__b™d
, 
__Êags
);

85 
	$Áâach
 (
__fûdes
, c⁄° *
__∑th
Ë
__THROW
;

88 
	$fdëach
 (c⁄° *
__∑th
Ë
__THROW
;

90 
__END_DECLS


	@/usr/include/termios.h

22 #i‚def 
_TERMIOS_H


23 
	#_TERMIOS_H
 1

	)

25 
	~<„©uªs.h
>

26 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


28 
	~<bôs/ty≥s.h
>

29 #i‚de‡
__pid_t_deföed


30 
__pid_t
 
	tpid_t
;

31 
	#__pid_t_deföed


	)

35 
	g__BEGIN_DECLS


39 
	~<bôs/ãrmios.h
>

41 #ifde‡
__USE_BSD


44 
	#CCEQ
(
vÆ
, 
c
Ë((cË=(vÆË&& (vÆË!
_POSIX_VDISABLE
)

	)

48 
•ìd_t
 
	$cfgëo•ìd
 (c⁄° 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

51 
•ìd_t
 
	$cfgëi•ìd
 (c⁄° 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

54 
	$cf£to•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

57 
	$cf£ti•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

59 #ifdef 
__USE_BSD


61 
	$cf£t•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

66 
	$tcgë©å
 (
__fd
, 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

70 
	$tc£èâr
 (
__fd
, 
__›ti⁄Æ_a˘i⁄s
,

71 c⁄° 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

74 #ifdef 
__USE_BSD


76 
	$cfmakîaw
 (
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

80 
	$tc£ndbªak
 (
__fd
, 
__duøti⁄
Ë
__THROW
;

86 
	`tcdøö
 (
__fd
);

90 
	$tcÊush
 (
__fd
, 
__queue_£À˘‹
Ë
__THROW
;

94 
	$tcÊow
 (
__fd
, 
__a˘i⁄
Ë
__THROW
;

97 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


99 
__pid_t
 
	$tcgësid
 (
__fd
Ë
__THROW
;

103 #ifde‡
__USE_BSD


104 
	~<sys/âydeÁu…s.h
>

107 
__END_DECLS


	@/usr/include/time.h

22 #i‚def 
_TIME_H


24 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

25 ! 
deföed
 
	g__√ed_time•ec
)

26 
	#_TIME_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__√ed_size_t


	)

36 
	#__√ed_NULL


	)

37 
	~<°ddef.h
>

41 
	~<bôs/time.h
>

44 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


45 #i‚de‡
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

53 
	#__˛ock_t_deföed
 1

	)

55 
	~<bôs/ty≥s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__˛ock_t
 
	t˛ock_t
;

60 
	g__END_NAMESPACE_STD


61 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

66 #unde‡
__√ed_˛ock_t


68 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

69 
	#__time_t_deföed
 1

	)

71 
	~<bôs/ty≥s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #unde‡
__√ed_time_t


84 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

85 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

86 
	#__˛ockid_t_deföed
 1

	)

88 
	~<bôs/ty≥s.h
>

91 
__˛ockid_t
 
	t˛ockid_t
;

94 #unde‡
__˛ockid_time_t


96 #i‡!
deföed
 
__timî_t_deföed
 && \

97 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

98 
	#__timî_t_deföed
 1

	)

100 
	~<bôs/ty≥s.h
>

103 
__timî_t
 
	ttimî_t
;

106 #unde‡
__√ed_timî_t


109 #i‡(!
deföed
 
__time•ec_deföed
 \

110 && ((
deföed
 
_TIME_H
 \

111 && (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
 \

112 || 
deföed
 
__USE_ISOC11
)) \

113 || 
deföed
 
__√ed_time•ec
))

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
__sysˇŒ_¶⁄g_t
 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 c⁄° *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 c⁄° *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 #ifde‡
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

195 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

196 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

199 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

205 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

206 c⁄° *
__ª°ri˘
 
__f‹m©
,

207 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifde‡
__USE_XOPEN


213 *
	$°Ωtime
 (c⁄° *
__ª°ri˘
 
__s
,

214 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

215 
__THROW
;

218 #ifde‡
__USE_XOPEN2K8


221 
	~<xloˇÀ.h
>

223 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

224 c⁄° *
__ª°ri˘
 
__f‹m©
,

225 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

229 #ifde‡
__USE_GNU


230 *
	$°Ωtime_l
 (c⁄° *
__ª°ri˘
 
__s
,

231 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

232 
__loˇÀ_t
 
__loc
Ë
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

243 
tm
 *
	$loˇ…ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

244 
__END_NAMESPACE_STD


246 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

250 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

254 
tm
 *
	$loˇ…ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

255 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$as˘ime
 (c⁄° 
tm
 *
__ç
Ë
__THROW
;

264 *
	$˘ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

265 
__END_NAMESPACE_STD


267 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


272 *
	$as˘ime_r
 (c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

273 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
	$˘ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

277 *
__ª°ri˘
 
__buf
Ë
__THROW
;

282 *
__tz«me
[2];

283 
__daylight
;

284 
__timez⁄e
;

287 #ifdef 
__USE_POSIX


289 *
tz«me
[2];

293 
	$tz£t
 (Ë
__THROW
;

296 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


297 
daylight
;

298 
timez⁄e
;

301 #ifde‡
__USE_SVID


304 
	$°ime
 (c⁄° 
time_t
 *
__whí
Ë
__THROW
;

310 
	#__i¶óp
(
yór
) \

311 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

314 #ifde‡
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

322 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

325 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

329 #ifde‡
__USE_POSIX199309


334 
	`«no¶ìp
 (c⁄° 
time•ec
 *
__ªque°ed_time
,

335 
time•ec
 *
__ªmaöög
);

339 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

342 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

345 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, c⁄° 
time•ec
 *
__ç
)

346 
__THROW
;

348 #ifde‡
__USE_XOPEN2K


353 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

354 c⁄° 
time•ec
 *
__ªq
,

355 
time•ec
 *
__ªm
);

358 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

363 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

364 
sigevít
 *
__ª°ri˘
 
__evp
,

365 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

368 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

371 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

372 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

373 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

376 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

377 
__THROW
;

380 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

384 #ifde‡
__USE_ISOC11


386 
	$time•ec_gë
 (
time•ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__n⁄nuŒ
 ((1));

391 #ifde‡
__USE_XOPEN_EXTENDED


403 
gëd©e_îr
;

412 
tm
 *
	`gëd©e
 (c⁄° *
__°rög
);

415 #ifde‡
__USE_GNU


426 
	`gëd©e_r
 (c⁄° *
__ª°ri˘
 
__°rög
,

427 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #i‚def 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


32 #ifde‡
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #ñi‡
deföed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #ñi‡
deföed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #ñi‡
deföed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifde‡
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #ñi‡
deföed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #ñi‡
deföed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifde‡
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #ñi‡
deföed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #ñi‡
deföed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<bôs/posix_›t.h
>

205 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


206 
	~<bôs/ívú⁄míts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<bôs/ty≥s.h
>

219 #i‚def 
__ssize_t_deföed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_deföed


	)

224 
	#__√ed_size_t


	)

225 
	#__√ed_NULL


	)

226 
	~<°ddef.h
>

228 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


231 #i‚de‡
__gid_t_deföed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_deföed


	)

236 #i‚de‡
__uid_t_deföed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_deföed


	)

241 #i‚de‡
__off_t_deföed


242 #i‚de‡
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_deföed


	)

249 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_deföed


	)

254 #i‚de‡
__u£c⁄ds_t_deföed


255 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

256 
	#__u£c⁄ds_t_deföed


	)

259 #i‚de‡
__pid_t_deföed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_deföed


	)

265 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


266 #i‚de‡
__öçå_t_deföed


267 
__öçå_t
 
	töçå_t
;

268 
	#__öçå_t_deföed


	)

272 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


273 #i‚de‡
__sockÀn_t_deföed


274 
__sockÀn_t
 
	tsockÀn_t
;

275 
	#__sockÀn_t_deföed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$ac˚ss
 (c⁄° *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

289 #ifde‡
__USE_GNU


292 
	$euidac˚ss
 (c⁄° *
__«me
, 
__ty≥
)

293 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 
	$óc˚ss
 (c⁄° *
__«me
, 
__ty≥
)

297 
__THROW
 
	`__n⁄nuŒ
 ((1));

300 #ifde‡
__USE_ATFILE


304 
	$Ác˚sßt
 (
__fd
, c⁄° *
__fûe
, 
__ty≥
, 
__Êag
)

305 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

310 #i‚def 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifde‡
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #i‡
deföed
 
__USE_BSD
 && !deföed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #i‚de‡
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

336 #ifde‡
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifde‡
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

346 
__THROW
;

353 
	`˛o£
 (
__fd
);

360 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

366 
ssize_t
 
	$wrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
Ë
__wur
;

368 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


369 #i‚de‡
__USE_FILE_OFFSET64


376 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

377 
__off_t
 
__off£t
Ë
__wur
;

384 
ssize_t
 
	$pwrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
Ë
__wur
;

387 #ifde‡
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

389 
__off64_t
 
__off£t
),

390 
¥ód64
Ë
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, c⁄° *
__buf
,

392 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

393 
pwrôe64
Ë
__wur
;

395 
	#¥ód
 
¥ód64


	)

396 
	#pwrôe
 
pwrôe64


	)

400 #ifde‡
__USE_LARGEFILE64


404 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

405 
__off64_t
 
__off£t
Ë
__wur
;

408 
ssize_t
 
	$pwrôe64
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
Ë
__wur
;

417 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

419 #ifde‡
__USE_GNU


422 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

432 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

444 
	`¶ìp
 (
__£c⁄ds
);

446 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

447 || 
deföed
 
__USE_BSD


452 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

453 
__THROW
;

460 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

469 
	`∑u£
 ();

473 
	$chown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

476 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

483 
	$lchown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

488 #ifde‡
__USE_ATFILE


491 
	$fchow«t
 (
__fd
, c⁄° *
__fûe
, 
__uid_t
 
__ow√r
,

492 
__gid_t
 
__group
, 
__Êag
)

493 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

497 
	$chdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

499 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


501 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

511 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

520 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

521 || 
deföed
 
__USE_BSD


525 *
	$gëwd
 (*
__buf
)

526 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

531 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

536 #ifde‡
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

543 **
__ívú⁄
;

544 #ifde‡
__USE_GNU


545 **
ívú⁄
;

551 
	$execve
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[],

552 *c⁄° 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

554 #ifde‡
__USE_XOPEN2K8


557 
	$„xecve
 (
__fd
, *c⁄° 
__¨gv
[], *c⁄° 
__ívp
[])

558 
__THROW
 
	`__n⁄nuŒ
 ((2));

563 
	$execv
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[])

564 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

568 
	$exe˛e
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

569 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

573 
	$exe˛
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

578 
	$execvp
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[])

579 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

584 
	$exe˛p
 (c⁄° *
__fûe
, c⁄° *
__¨g
, ...)

585 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

587 #ifde‡
__USE_GNU


590 
	$execv≥
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[],

591 *c⁄° 
__ívp
[])

592 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

596 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


598 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

603 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

609 
	~<bôs/c⁄‚ame.h
>

612 
	$∑thc⁄f
 (c⁄° *
__∑th
, 
__«me
)

613 
__THROW
 
	`__n⁄nuŒ
 ((1));

616 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

619 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

628 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

631 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

634 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

637 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

638 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


639 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

646 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

648 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


660 
	$£çgΩ
 (Ë
__THROW
;

667 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

669 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


671 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

675 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

678 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

681 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

684 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

689 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

691 #ifdef 
__USE_GNU


693 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

700 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

702 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


705 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
 
__wur
;

708 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


710 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

717 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

719 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


722 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
 
__wur
;

725 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


727 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

730 #ifde‡
__USE_GNU


733 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

734 
__THROW
;

738 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

739 
__THROW
;

743 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

744 
__THROW
 
__wur
;

748 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

749 
__THROW
 
__wur
;

756 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

758 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

759 || 
deföed
 
__USE_BSD


764 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

770 *
	$ây«me
 (
__fd
Ë
__THROW
;

774 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

775 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

779 
	$ißây
 (
__fd
Ë
__THROW
;

781 #i‡
deföed
 
__USE_BSD
 \

782 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_UNIX98
)

785 
	$ây¶Ÿ
 (Ë
__THROW
;

790 
	$lök
 (c⁄° *
__‰om
, c⁄° *
__to
)

791 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

793 #ifde‡
__USE_ATFILE


796 
	$lök©
 (
__‰omfd
, c⁄° *
__‰om
, 
__tofd
,

797 c⁄° *
__to
, 
__Êags
)

798 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

801 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


803 
	$symlök
 (c⁄° *
__‰om
, c⁄° *
__to
)

804 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

809 
ssize_t
 
	$ªadlök
 (c⁄° *
__ª°ri˘
 
__∑th
,

810 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

811 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

814 #ifde‡
__USE_ATFILE


816 
	$symlök©
 (c⁄° *
__‰om
, 
__tofd
,

817 c⁄° *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

820 
ssize_t
 
	$ªadlök©
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

821 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

822 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

826 
	$u∆ök
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

828 #ifde‡
__USE_ATFILE


830 
	$u∆ök©
 (
__fd
, c⁄° *
__«me
, 
__Êag
)

831 
__THROW
 
	`__n⁄nuŒ
 ((2));

835 
	$rmdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

839 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

842 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

849 *
	`gëlogö
 ();

850 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


857 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

860 #ifdef 
__USE_BSD


862 
	$£éogö
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

866 #ifdef 
__USE_POSIX2


870 
	#__√ed_gë›t


	)

871 
	~<gë›t.h
>

875 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


879 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

883 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

886 
	$£tho°«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

887 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

891 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

897 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

898 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

899 
	$£tdomaö«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

900 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

906 
	$vh™gup
 (Ë
__THROW
;

909 
	$ªvoke
 (c⁄° *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

917 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

918 
size_t
 
__off£t
, 
__sˇÀ
)

919 
__THROW
 
	`__n⁄nuŒ
 ((1));

925 
	$ac˘
 (c⁄° *
__«me
Ë
__THROW
;

929 *
	$gëu£rshñl
 (Ë
__THROW
;

930 
	$ídu£rshñl
 (Ë
__THROW
;

931 
	$£tu£rshñl
 (Ë
__THROW
;

937 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

941 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

944 
	$chroŸ
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

948 *
	$gë∑ss
 (c⁄° *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

956 
	`fsync
 (
__fd
);

959 #ifde‡
__USE_GNU


962 
	$syncfs
 (
__fd
Ë
__THROW
;

966 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


969 
	`gëho°id
 ();

972 
	$sync
 (Ë
__THROW
;

975 #i‡
deföed
 
__USE_BSD
 || !deföed 
__USE_XOPEN2K


978 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

983 
	$gëdèbÀsize
 (Ë
__THROW
;

989 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


992 #i‚de‡
__USE_FILE_OFFSET64


993 
	$åunˇã
 (c⁄° *
__fûe
, 
__off_t
 
__Àngth
)

994 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

996 #ifde‡
__REDIRECT_NTH


997 
	`__REDIRECT_NTH
 (
åunˇã
,

998 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
),

999 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1001 
	#åunˇã
 
åunˇã64


	)

1004 #ifde‡
__USE_LARGEFILE64


1005 
	$åunˇã64
 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
)

1006 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1011 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_POSIX199309
 \

1012 || 
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1015 #i‚de‡
__USE_FILE_OFFSET64


1016 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1018 #ifde‡
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1020 
·runˇã64
Ë
__wur
;

1022 
	#·runˇã
 
·runˇã64


	)

1025 #ifde‡
__USE_LARGEFILE64


1026 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1032 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1033 || 
deföed
 
__USE_MISC


1037 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1043 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1047 #ifde‡
__USE_MISC


1058 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1063 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1075 
	#F_ULOCK
 0

	)

1076 
	#F_LOCK
 1

	)

1077 
	#F_TLOCK
 2

	)

1078 
	#F_TEST
 3

	)

1080 #i‚de‡
__USE_FILE_OFFSET64


1081 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1083 #ifde‡
__REDIRECT


1084 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1085 
lockf64
Ë
__wur
;

1087 
	#lockf
 
lockf64


	)

1090 #ifde‡
__USE_LARGEFILE64


1091 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1096 #ifde‡
__USE_GNU


1101 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1102 (
__exãnsi⁄__
 \

1103 ({ 
__ªsu…
; \

1104 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1105 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1106 
__ªsu…
; 
	}
}))

	)

1109 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1112 
fd©async
 (
__fûdes
);

1118 #ifdef 
__USE_XOPEN


1120 *
	$¸y±
 (c⁄° *
__key
, c⁄° *
__ß…
)

1121 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1125 
	$í¸y±
 (*
__glibc_block
, 
__edÊag
)

1126 
__THROW
 
	`__n⁄nuŒ
 ((1));

1133 
	$swab
 (c⁄° *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1134 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1140 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K


1142 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1147 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


1148 
	~<bôs/uni°d.h
>

1151 
__END_DECLS


	@/usr/include/wchar.h

23 #i‚de‡
_WCHAR_H


25 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<„©uªs.h
>

30 #ifde‡
_WCHAR_H


32 
	#__√ed___FILE


	)

33 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_FILE


	)

36 
	~<°dio.h
>

38 
	#__√ed___va_li°


	)

39 
	~<°d¨g.h
>

41 
	~<bôs/wch¨.h
>

44 
	#__√ed_size_t


	)

45 
	#__√ed_wch¨_t


	)

46 
	#__√ed_NULL


	)

48 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


49 #unde‡
__√ed_wöt_t


50 
	#__√ed_wöt_t


	)

51 
	~<°ddef.h
>

55 #i‚de‡
_WINT_T


60 
	#_WINT_T


	)

61 
	twöt_t
;

65 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
deföed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twöt_t
;

69 
	g__END_NAMESPACE_STD


74 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
____mb°©e_t_deföed


80 
	#____mb°©e_t_deföed
 1

	)

84 
	m__cou¡
;

87 #ifde‡
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wöt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__vÆue
;

94 } 
	t__mb°©e_t
;

96 #unde‡
__√ed_mb°©e_t


101 #ifde‡
_WCHAR_H


103 #i‚de‡
__mb°©e_t_deföed


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb°©e_t_deföed
 1

	)

111 #ifde‡
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

115 #i‚de‡
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #i‚de‡
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


128 
	~<w˘y≥.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

150 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

151 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

158 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

159 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
)

164 
__THROW
 
__©åibuã_puª__
;

166 
	$wc¢cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©åibuã_puª__
;

168 
__END_NAMESPACE_STD


170 #ifde‡
__USE_XOPEN2K8


172 
	$wcsˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

175 
	$wc¢ˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

176 
size_t
 
__n
Ë
__THROW
;

180 
	~<xloˇÀ.h
>

182 
	$wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

183 
__loˇÀ_t
 
__loc
Ë
__THROW
;

185 
	$wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

186 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscﬁl
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

196 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

197 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifde‡
__USE_XOPEN2K8


206 
	$wcscﬁl_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

207 
__loˇÀ_t
 
__loc
Ë
__THROW
;

212 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

213 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

216 
wch¨_t
 *
	$wcsdup
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 "C++" c⁄° 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

227 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

228 
__THROW
 
__©åibuã_puª__
;

231 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

233 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 "C++" c⁄° 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

237 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

238 
__THROW
 
__©åibuã_puª__
;

240 
__END_NAMESPACE_STD


242 #ifde‡
__USE_GNU


245 
wch¨_t
 *
	$wcsch∫ul
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__wc
)

246 
__THROW
 
__©åibuã_puª__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ªje˘
)

253 
__THROW
 
__©åibuã_puª__
;

256 
size_t
 
	$wcs•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

257 
__THROW
 
__©åibuã_puª__
;

259 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

262 "C++" c⁄° 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
,

263 c⁄° 
wch¨_t
 *
__ac˚±
)

264 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

266 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

267 
__THROW
 
__©åibuã_puª__
;

270 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

273 "C++" c⁄° 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
,

274 c⁄° 
wch¨_t
 *
__√edÀ
)

275 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

277 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

278 
__THROW
 
__©åibuã_puª__
;

282 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

283 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

284 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

287 
size_t
 
	$wc¶í
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

288 
__END_NAMESPACE_STD


290 #ifde‡
__USE_XOPEN


292 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

295 "C++" c⁄° 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
,

296 c⁄° 
wch¨_t
 *
__√edÀ
)

297 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

299 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

300 
__THROW
 
__©åibuã_puª__
;

304 #ifde‡
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Àn
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

307 
__THROW
 
__©åibuã_puª__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

316 "C++" c⁄° 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

320 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©åibuã_puª__
;

325 
	$wmemcmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©åibuã_puª__
;

329 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

330 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

334 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifde‡
__USE_GNU


344 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

345 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

357 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

361 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

365 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

366 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

367 
mb°©e_t
 *
__ª°ri˘
 
__p
Ë
__THROW
;

370 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

371 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

374 
size_t
 
	$__mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

375 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

376 
size_t
 
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

377 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifde‡
__USE_EXTERN_INLINES


386 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

387 
__exã∫_ölöe
 
wöt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

392 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

393 
__exã∫_ölöe
 

394 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

395 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

396 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

398 
__exã∫_ölöe
 
size_t


399 
__NTH
 (
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

400 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

401 {  (
__ps
 !
NULL


402 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

409 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

410 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

414 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

415 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

416 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

424 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

425 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

429 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

430 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

431 
size_t
 
__nwc
, size_à
__Àn
,

432 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

437 #ifde‡
__USE_XOPEN


439 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

443 
	$wcswidth
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc°od
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

451 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifde‡
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc°of
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

458 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

459 
	$wc°ﬁd
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

460 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc°ﬁ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

469 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

473 
	$wc°oul
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

474 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ifde‡
__USE_ISOC99


479 
__BEGIN_NAMESPACE_C99


482 
__exãnsi⁄__


483 
	$wc°ﬁl
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

484 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

485 
__THROW
;

489 
__exãnsi⁄__


490 
	$wc°ouŒ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

491 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

492 
__ba£
Ë
__THROW
;

493 
__END_NAMESPACE_C99


496 #ifde‡
__USE_GNU


499 
__exãnsi⁄__


500 
	$wc°oq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

501 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

502 
__THROW
;

506 
__exãnsi⁄__


507 
	$wc°ouq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

508 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

509 
__ba£
Ë
__THROW
;

512 #ifde‡
__USE_GNU


526 
	~<xloˇÀ.h
>

530 
	$wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

531 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

532 
__loˇÀ_t
 
__loc
Ë
__THROW
;

534 
	$wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

535 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

536 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

538 
__exãnsi⁄__


539 
	$wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

540 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

541 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

543 
__exãnsi⁄__


544 
	$wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

545 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

546 
__ba£
, 
__loˇÀ_t
 
__loc
)

547 
__THROW
;

549 
	$wc°od_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

550 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

551 
__THROW
;

553 
	$wc°of_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

554 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

555 
__THROW
;

557 
	$wc°ﬁd_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

558 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

559 
__loˇÀ_t
 
__loc
Ë
__THROW
;

563 #ifde‡
__USE_XOPEN2K8


566 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

567 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

571 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

572 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

583 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

594 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

595 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

601 
	`w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

605 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

606 
__THROW
 ;

612 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

613 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

614 
__gnuc_va_li°
 
__¨g
)

620 
	`vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

621 
__gnuc_va_li°
 
__¨g
)

625 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

626 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

627 
__gnuc_va_li°
 
__¨g
)

628 
__THROW
 ;

635 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

636 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

642 
	`wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
	$swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

646 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

647 
__THROW
 ;

649 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

650 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

651 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

652 #ifde‡
__REDIRECT


656 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

657 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

658 
__isoc99_fwsˇnf
)

660 
	`__REDIRECT
 (
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

661 
__isoc99_wsˇnf
)

663 
	`__REDIRECT_NTH
 (
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

664 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

665 ...), 
__isoc99_swsˇnf
)

668 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

669 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

670 
	`__isoc99_wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

671 
	$__isoc99_swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

672 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

673 
__THROW
;

674 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

675 
	#wsˇnf
 
__isoc99_wsˇnf


	)

676 
	#swsˇnf
 
__isoc99_swsˇnf


	)

680 
__END_NAMESPACE_STD


683 #ifde‡
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

690 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

691 
__gnuc_va_li°
 
__¨g
)

697 
	`vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

698 
__gnuc_va_li°
 
__¨g
)

701 
	$vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

702 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

703 
__gnuc_va_li°
 
__¨g
)

704 
__THROW
 ;

706 #i‡!
deföed
 
__USE_GNU
 \

707 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

708 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

709 #ifde‡
__REDIRECT


710 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

711 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

712 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

714 
	`__REDIRECT
 (
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

715 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

717 
	`__REDIRECT_NTH
 (
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

718 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

719 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

722 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

723 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

724 
__gnuc_va_li°
 
__¨g
);

725 
	`__isoc99_vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

726 
__gnuc_va_li°
 
__¨g
);

727 
	$__isoc99_vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

728 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

729 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

730 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

731 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

732 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

746 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

752 
wöt_t
 
	`gëwch¨
 ();

759 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

760 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

766 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

774 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

775 
__FILE
 *
__ª°ri˘
 
__°ªam
);

781 
	`Âutws
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

782 
__FILE
 *
__ª°ri˘
 
__°ªam
);

789 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

790 
__END_NAMESPACE_STD


793 #ifde‡
__USE_GNU


801 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

802 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

810 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

818 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

827 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

828 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

837 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

838 
__FILE
 *
__ª°ri˘
 
__°ªam
);

846 
	`Âutws_u∆ocked
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

847 
__FILE
 *
__ª°ri˘
 
__°ªam
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

856 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

857 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifde‡
__USE_GNU


861 
	~<xloˇÀ.h
>

865 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

866 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

867 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

868 
__loˇÀ_t
 
__loc
Ë
__THROW
;

877 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


878 
	#__√ed_iswxxx


	)

879 
	~<w˘y≥.h
>

883 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


884 
	~<bôs/wch¨2.h
>

887 #ifde‡
__LDBL_COMPAT


888 
	~<bôs/wch¨-ldbl.h
>

891 
__END_DECLS


899 #unde‡
__√ed_mb°©e_t


900 #unde‡
__√ed_wöt_t


	@/usr/include/wctype.h

23 #i‚de‡
_WCTYPE_H


25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 #i‚de‡
__√ed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__√ed_wöt_t


	)

33 
	~<wch¨.h
>

37 #i‚de‡
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #unde‡
__√ed_iswxxx


46 #i‚de‡
__iswxxx_deföed


47 
	#__iswxxx_deföed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	tw˘y≥_t
;

53 
	g__END_NAMESPACE_C99


55 #i‚de‡
_ISwbô


60 
	~<ídün.h
>

61 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

64 
	#_ISwbô
(
bô
) \

65 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

73 
	m__ISwuµî
 = 0,

74 
	m__ISwlowî
 = 1,

75 
	m__ISwÆpha
 = 2,

76 
	m__ISwdigô
 = 3,

77 
	m__ISwxdigô
 = 4,

78 
	m__ISw•a˚
 = 5,

79 
	m__ISw¥öt
 = 6,

80 
	m__ISwgøph
 = 7,

81 
	m__ISwbœnk
 = 8,

82 
	m__ISw˙ål
 = 9,

83 
	m__ISwpun˘
 = 10,

84 
	m__ISwÆnum
 = 11,

86 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

87 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

88 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

89 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

90 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

91 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

92 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

93 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

94 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

95 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

96 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

97 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

117 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

120 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

124 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

128 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

133 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

136 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

141 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

146 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

151 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

156 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

161 #ifde‡
__USE_ISOC99


162 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

171 
w˘y≥_t
 
	$w˘y≥
 (c⁄° *
__¥›îty
Ë
__THROW
;

175 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 c⁄° 
	t__öt32_t
 *
	tw˘øns_t
;

187 
__END_NAMESPACE_C99


188 #ifde‡
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

197 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifde‡
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
w˘øns_t
 
	$w˘øns
 (c⁄° *
__¥›îty
Ë
__THROW
;

221 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifde‡
__USE_XOPEN2K8


226 
	~<xloˇÀ.h
>

230 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

236 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

239 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

243 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

247 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

252 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

255 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

260 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

265 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

270 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

275 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

280 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

284 
w˘y≥_t
 
	$w˘y≥_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

285 
__THROW
;

289 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

290 
__THROW
;

298 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

301 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

305 
w˘øns_t
 
	$w˘øns_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

306 
__THROW
;

309 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

310 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

314 
__END_DECLS


	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_BSD
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

74 
	#htﬁe64
(
x
Ë(x)

	)

75 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

76 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

101 #unde‡
__USE_ISOC11


102 #unde‡
__USE_ISOC99


103 #unde‡
__USE_ISOC95


104 #unde‡
__USE_ISOCXX11


105 #unde‡
__USE_POSIX


106 #unde‡
__USE_POSIX2


107 #unde‡
__USE_POSIX199309


108 #unde‡
__USE_POSIX199506


109 #unde‡
__USE_XOPEN


110 #unde‡
__USE_XOPEN_EXTENDED


111 #unde‡
__USE_UNIX98


112 #unde‡
__USE_XOPEN2K


113 #unde‡
__USE_XOPEN2KXSI


114 #unde‡
__USE_XOPEN2K8


115 #unde‡
__USE_XOPEN2K8XSI


116 #unde‡
__USE_LARGEFILE


117 #unde‡
__USE_LARGEFILE64


118 #unde‡
__USE_FILE_OFFSET64


119 #unde‡
__USE_BSD


120 #unde‡
__USE_SVID


121 #unde‡
__USE_MISC


122 #unde‡
__USE_ATFILE


123 #unde‡
__USE_GNU


124 #unde‡
__USE_REENTRANT


125 #unde‡
__USE_FORTIFY_LEVEL


126 #unde‡
__KERNEL_STRICT_NAMES


130 #i‚de‡
_LOOSE_KERNEL_NAMES


131 
	#__KERNEL_STRICT_NAMES


	)

141 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


142 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

143 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

145 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

150 #ifde‡
_GNU_SOURCE


151 #unde‡
_ISOC95_SOURCE


152 
	#_ISOC95_SOURCE
 1

	)

153 #unde‡
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #unde‡
_ISOC11_SOURCE


156 
	#_ISOC11_SOURCE
 1

	)

157 #unde‡
_POSIX_SOURCE


158 
	#_POSIX_SOURCE
 1

	)

159 #unde‡
_POSIX_C_SOURCE


160 
	#_POSIX_C_SOURCE
 200809L

	)

161 #unde‡
_XOPEN_SOURCE


162 
	#_XOPEN_SOURCE
 700

	)

163 #unde‡
_XOPEN_SOURCE_EXTENDED


164 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

165 #unde‡
_LARGEFILE64_SOURCE


166 
	#_LARGEFILE64_SOURCE
 1

	)

167 #unde‡
_DEFAULT_SOURCE


168 
	#_DEFAULT_SOURCE
 1

	)

169 #unde‡
_BSD_SOURCE


170 
	#_BSD_SOURCE
 1

	)

171 #unde‡
_SVID_SOURCE


172 
	#_SVID_SOURCE
 1

	)

173 #unde‡
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #i‡(
deföed
 
_DEFAULT_SOURCE
 \

180 || (!
deföed
 
	g__STRICT_ANSI__
 \

181 && !
deföed
 
	g_ISOC99_SOURCE
 \

182 && !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 \

183 && !
deföed
 
	g_XOPEN_SOURCE
 \

184 && !
deföed
 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
))

185 #unde‡
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

187 #unde‡
_BSD_SOURCE


188 
	#_BSD_SOURCE
 1

	)

189 #unde‡
_SVID_SOURCE


190 
	#_SVID_SOURCE
 1

	)

194 #i‡(
deföed
 
_ISOC11_SOURCE
 \

195 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

196 
	#__USE_ISOC11
 1

	)

200 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

201 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

202 
	#__USE_ISOC99
 1

	)

206 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

207 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

208 
	#__USE_ISOC95
 1

	)

215 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

216 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

217 
	#__USE_ISOCXX11
 1

	)

223 #ifde‡
_DEFAULT_SOURCE


224 #i‡!
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE


225 
	#__USE_POSIX_IMPLICITLY
 1

	)

227 #unde‡
_POSIX_SOURCE


228 
	#_POSIX_SOURCE
 1

	)

229 #unde‡
_POSIX_C_SOURCE


230 
	#_POSIX_C_SOURCE
 200809L

	)

232 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

233 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

234 
	#_POSIX_SOURCE
 1

	)

235 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

236 
	#_POSIX_C_SOURCE
 2

	)

237 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

238 
	#_POSIX_C_SOURCE
 199506L

	)

239 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

240 
	#_POSIX_C_SOURCE
 200112L

	)

242 
	#_POSIX_C_SOURCE
 200809L

	)

244 
	#__USE_POSIX_IMPLICITLY
 1

	)

247 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


248 
	#__USE_POSIX
 1

	)

251 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


252 
	#__USE_POSIX2
 1

	)

255 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

256 
	#__USE_POSIX199309
 1

	)

259 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

260 
	#__USE_POSIX199506
 1

	)

263 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

264 
	#__USE_XOPEN2K
 1

	)

265 #unde‡
__USE_ISOC95


266 
	#__USE_ISOC95
 1

	)

267 #unde‡
__USE_ISOC99


268 
	#__USE_ISOC99
 1

	)

271 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

272 
	#__USE_XOPEN2K8
 1

	)

273 #unde‡
_ATFILE_SOURCE


274 
	#_ATFILE_SOURCE
 1

	)

277 #ifdef 
_XOPEN_SOURCE


278 
	#__USE_XOPEN
 1

	)

279 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

280 
	#__USE_XOPEN_EXTENDED
 1

	)

281 
	#__USE_UNIX98
 1

	)

282 #unde‡
_LARGEFILE_SOURCE


283 
	#_LARGEFILE_SOURCE
 1

	)

284 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

285 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

286 
	#__USE_XOPEN2K8
 1

	)

287 
	#__USE_XOPEN2K8XSI
 1

	)

289 
	#__USE_XOPEN2K
 1

	)

290 
	#__USE_XOPEN2KXSI
 1

	)

291 #unde‡
__USE_ISOC95


292 
	#__USE_ISOC95
 1

	)

293 #unde‡
__USE_ISOC99


294 
	#__USE_ISOC99
 1

	)

297 #ifde‡
_XOPEN_SOURCE_EXTENDED


298 
	#__USE_XOPEN_EXTENDED
 1

	)

303 #ifde‡
_LARGEFILE_SOURCE


304 
	#__USE_LARGEFILE
 1

	)

307 #ifde‡
_LARGEFILE64_SOURCE


308 
	#__USE_LARGEFILE64
 1

	)

311 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

312 
	#__USE_FILE_OFFSET64
 1

	)

315 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


316 
	#__USE_MISC
 1

	)

319 #ifdef 
_BSD_SOURCE


320 
	#__USE_BSD
 1

	)

323 #ifdef 
_SVID_SOURCE


324 
	#__USE_SVID
 1

	)

327 #ifdef 
_ATFILE_SOURCE


328 
	#__USE_ATFILE
 1

	)

331 #ifdef 
_GNU_SOURCE


332 
	#__USE_GNU
 1

	)

335 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


336 
	#__USE_REENTRANT
 1

	)

339 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

340 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

341 #i‡
_FORTIFY_SOURCE
 > 1

342 
	#__USE_FORTIFY_LEVEL
 2

	)

344 
	#__USE_FORTIFY_LEVEL
 1

	)

347 
	#__USE_FORTIFY_LEVEL
 0

	)

352 
	~<°dc-¥edef.h
>

360 #unde‡
__GNU_LIBRARY__


361 
	#__GNU_LIBRARY__
 6

	)

365 
	#__GLIBC__
 2

	)

366 
	#__GLIBC_MINOR__
 19

	)

368 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

369 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

372 #i‚de‡
__ASSEMBLER__


373 #i‚de‡
_SYS_CDEFS_H


374 
	~<sys/cdefs.h
>

379 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


380 
	#__USE_LARGEFILE
 1

	)

381 
	#__USE_LARGEFILE64
 1

	)

387 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

388 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

389 && 
deföed
 
	g__exã∫_ölöe


390 
	#__USE_EXTERN_INLINES
 1

	)

398 
	~<gnu/°ubs.h
>

	@/usr/include/libio.h

28 #i‚de‡
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_c⁄fig.h
>

33 
	#_IO_Âos_t
 
_G_Âos_t


	)

34 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li°
 
_G_va_li°


	)

45 
	#_IO_wöt_t
 
wöt_t


	)

48 
	#__√ed___va_li°


	)

49 
	~<°d¨g.h
>

50 #ifde‡
__GNUC_VA_LIST


51 #unde‡
_IO_va_li°


52 
	#_IO_va_li°
 
__gnuc_va_li°


	)

55 #i‚de‡
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #i‚de‡
EOF


62 
	#EOF
 (-1)

	)

64 #i‚de‡
NULL


65 #i‡
deföed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuŒ
)

	)

69 #i‡!
deföed
(
__˝lu•lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifde‡
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifde‡
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifde‡
_IO_MTSAFE_IO


148 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

149 
	~<bôs/°dio-lock.h
>

154 
	t_IO_lock_t
;

160 
	s_IO_m¨kî
 {

161 
_IO_m¨kî
 *
	m_√xt
;

162 
_IO_FILE
 *
	m_sbuf
;

166 
	m_pos
;

168 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

169 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

170 
	mpublic
:

171 
°ªamm¨kî
(
°ªambuf
 *
sb
);

172 ~
°ªamm¨kî
();

173 
ßvög
(Ë{  
	m_•os
 == -2; }

174 
dñè
(
°ªamm¨kî
&);

175 
dñè
();

180 
	e__codecvt_ªsu…


182 
	m__codecvt_ok
,

183 
	m__codecvt_∑πül
,

184 
	m__codecvt_îr‹
,

185 
	m__codecvt_noc⁄v


188 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


191 
	s_IO_codecvt


193 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

194 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

195 
	m__mb°©e_t
 *,

196 c⁄° 
	mwch¨_t
 *,

197 c⁄° 
	mwch¨_t
 *,

198 c⁄° 
	mwch¨_t
 **, *,

200 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

201 
	m__mb°©e_t
 *, *,

203 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

204 
	m__mb°©e_t
 *,

206 c⁄° **, 
	mwch¨_t
 *,

207 
	mwch¨_t
 *, wchar_t **);

208 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

209 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

211 c⁄° *, c⁄° *, 
	m_IO_size_t
);

212 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

214 
_IO_ic⁄v_t
 
	m__cd_ö
;

215 
_IO_ic⁄v_t
 
	m__cd_out
;

219 
	s_IO_wide_d©a


221 
wch¨_t
 *
	m_IO_ªad_±r
;

222 
wch¨_t
 *
	m_IO_ªad_íd
;

223 
wch¨_t
 *
	m_IO_ªad_ba£
;

224 
wch¨_t
 *
	m_IO_wrôe_ba£
;

225 
wch¨_t
 *
	m_IO_wrôe_±r
;

226 
wch¨_t
 *
	m_IO_wrôe_íd
;

227 
wch¨_t
 *
	m_IO_buf_ba£
;

228 
wch¨_t
 *
	m_IO_buf_íd
;

230 
wch¨_t
 *
	m_IO_ßve_ba£
;

231 
wch¨_t
 *
	m_IO_backup_ba£
;

233 
wch¨_t
 *
	m_IO_ßve_íd
;

235 
__mb°©e_t
 
	m_IO_°©e
;

236 
__mb°©e_t
 
	m_IO_œ°_°©e
;

237 
_IO_codecvt
 
	m_codecvt
;

239 
wch¨_t
 
	m_sh‹tbuf
[1];

241 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

245 
	s_IO_FILE
 {

246 
	m_Êags
;

247 
	#_IO_fûe_Êags
 
_Êags


	)

251 * 
	m_IO_ªad_±r
;

252 * 
	m_IO_ªad_íd
;

253 * 
	m_IO_ªad_ba£
;

254 * 
	m_IO_wrôe_ba£
;

255 * 
	m_IO_wrôe_±r
;

256 * 
	m_IO_wrôe_íd
;

257 * 
	m_IO_buf_ba£
;

258 * 
	m_IO_buf_íd
;

260 *
	m_IO_ßve_ba£
;

261 *
	m_IO_backup_ba£
;

262 *
	m_IO_ßve_íd
;

264 
_IO_m¨kî
 *
	m_m¨kîs
;

266 
_IO_FILE
 *
	m_chaö
;

268 
	m_fûío
;

270 
	m_blksize
;

272 
	m_Êags2
;

274 
_IO_off_t
 
	m_ﬁd_off£t
;

276 
	#__HAVE_COLUMN


	)

278 
	m_cur_cﬁumn
;

279 sig√d 
	m_vèbÀ_off£t
;

280 
	m_sh‹tbuf
[1];

284 
_IO_lock_t
 *
	m_lock
;

285 #ifde‡
_IO_USE_OLD_IO_FILE


288 
	s_IO_FILE_com∂ëe


290 
_IO_FILE
 
	m_fûe
;

292 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

293 
_IO_off64_t
 
	m_off£t
;

294 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


296 
_IO_codecvt
 *
	m_codecvt
;

297 
_IO_wide_d©a
 *
	m_wide_d©a
;

298 
_IO_FILE
 *
	m_‰ìªs_li°
;

299 *
	m_‰ìªs_buf
;

300 
size_t
 
	m_‰ìªs_size
;

302 *
	m__∑d1
;

303 *
	m__∑d2
;

304 *
	m__∑d3
;

305 *
	m__∑d4
;

306 
size_t
 
	m__∑d5
;

308 
	m_mode
;

310 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

314 #i‚de‡
__˝lu•lus


315 
_IO_FILE
 
	t_IO_FILE
;

318 
	g_IO_FILE_∂us
;

320 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

321 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

322 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

323 #i‚de‡
_LIBC


324 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

325 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

326 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

328 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

329 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

330 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

338 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

346 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, c⁄° *
	t__buf
,

347 
	tsize_t
 
	t__n
);

355 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

358 
	t__io_˛o£_‚
 (*
	t__cookõ
);

361 #ifde‡
_GNU_SOURCE


363 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

364 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

365 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

366 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

371 
__io_ªad_‚
 *
	mªad
;

372 
__io_wrôe_‚
 *
	mwrôe
;

373 
__io_£ek_‚
 *
	m£ek
;

374 
__io_˛o£_‚
 *
	m˛o£
;

375 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

376 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

378 
	g_IO_cookõ_fûe
;

381 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

382 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

386 #ifde‡
__˝lu•lus


390 
__undîÊow
 (
_IO_FILE
 *);

391 
__uÊow
 (
_IO_FILE
 *);

392 
__ovîÊow
 (
_IO_FILE
 *, );

393 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


394 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

395 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

396 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

399 #i‡ 
__GNUC__
 >= 3

400 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

402 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

405 
	#_IO_gëc_u∆ocked
(
_Â
) \

406 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

407 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

408 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

409 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

410 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

411 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

412 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

413 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

414 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

415 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

417 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


418 
	#_IO_gëwc_u∆ocked
(
_Â
) \

419 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

420 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

421 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

422 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

423 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

424 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

425 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

426 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

427 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

428 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

431 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

432 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

434 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

435 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

436 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

437 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

439 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

442 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

443 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

445 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

446 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

447 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

449 #ifde‡
_IO_MTSAFE_IO


450 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

451 
	#_IO_Êockfûe
(
_Â
) \

452 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

453 
	#_IO_fu∆ockfûe
(
_Â
) \

454 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

456 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

457 
	#_IO_Êockfûe
(
_Â
Ë

	)

458 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

459 
	#_IO_·rylockfûe
(
_Â
Ë

	)

460 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

461 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

464 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

465 
_IO_va_li°
, *
__ª°ri˘
);

466 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

467 
_IO_va_li°
);

468 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

469 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

471 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

472 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

474 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

476 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


477 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

478 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

479 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

480 #i‡
__GNUC__
 >= 2

483 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


484 
	~<shlib-com∑t.h
>

485 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

486 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

487 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

488 c⁄° 
_IO_°dö_u£d
;

489 
wók_exã∫
 (
_IO_°dö_u£d
);

492 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


493 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

497 
	#_IO_fwide
(
__Â
, 
__mode
) \

498 ({ 
__ªsu…
 = (
__mode
); \

499 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

501 i‡((
__Â
)->
_mode
 == 0) \

503 (
__Â
)->
_mode
 = -1; \

504 
__ªsu…
 = (
__Â
)->
_mode
; \

506 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

507 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

509 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

510 
__ªsu…
; })

	)

513 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

514 
_IO_va_li°
, *
__ª°ri˘
);

515 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

516 
_IO_va_li°
);

517 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

518 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

521 #ifde‡
__LDBL_COMPAT


522 
	~<bôs/libio-ldbl.h
>

525 #ifde‡
__˝lu•lus


	@/usr/include/nl_types.h

18 #i‚de‡
_NL_TYPES_H


19 
	#_NL_TYPES_H
 1

	)

21 
	~<„©uªs.h
>

24 
	#NL_SETD
 1

	)

27 
	#NL_CAT_LOCALE
 1

	)

30 
__BEGIN_DECLS


33 *
	t∆_ˇtd
;

36 
	t∆_ôem
;

42 
∆_ˇtd
 
	$ˇt›í
 (c⁄° *
__ˇt_«me
, 
__Êag
Ë
	`__n⁄nuŒ
 ((1));

46 *
	$ˇtgës
 (
∆_ˇtd
 
__ˇèlog
, 
__£t
, 
__numbî
,

47 c⁄° *
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

50 
	$ˇt˛o£
 (
∆_ˇtd
 
__ˇèlog
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

52 
__END_DECLS


	@/usr/include/sched.h

19 #i‚def 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<„©uªs.h
>

25 
	~<bôs/ty≥s.h
>

27 
	#__√ed_size_t


	)

28 
	~<°ddef.h
>

30 
	#__√ed_time_t


	)

31 
	#__√ed_time•ec


	)

32 
	~<time.h
>

34 #i‚de‡
__pid_t_deföed


35 
__pid_t
 
	tpid_t
;

36 
	#__pid_t_deföed


	)

41 
	~<bôs/sched.h
>

43 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

46 
__BEGIN_DECLS


49 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, c⁄° 
sched_∑øm
 *
__∑øm
)

50 
__THROW
;

53 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

56 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

57 c⁄° 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

60 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

63 
	$sched_yõld
 (Ë
__THROW
;

66 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

69 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

72 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

75 #ifde‡
__USE_GNU


77 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

78 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

79 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

80 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

81 
˝u£ç
)

	)

82 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

83 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

85 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

86 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

87 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

88 
˝u£ç
)

	)

89 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

90 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

92 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

93 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

94 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

95 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

97 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

98 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

99 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

100 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

101 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

102 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

103 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

104 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

105 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

107 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

110 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

111 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

112 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

116 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

117 c⁄° 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

120 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

121 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

124 
__END_DECLS


	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

23 
__off_t
 
	m__pos
;

24 
__mb°©e_t
 
	m__°©e
;

25 } 
	t_G_Âos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb°©e_t
 
	m__°©e
;

30 } 
	t_G_Âos64_t
;

31 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gc⁄v.h
>

35 
__gc⁄v_öfo
 
	m__cd
;

38 
__gc⁄v_öfo
 
	m__cd
;

39 
__gc⁄v_°ï_d©a
 
	m__d©a
;

40 } 
	m__comböed
;

41 } 
	t_G_ic⁄v_t
;

46 
	#_G_va_li°
 
__gnuc_va_li°


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifde‡
__GCC_IEC_559


37 #i‡
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifde‡
__GCC_IEC_559_COMPLEX


45 #i‡
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

54 
	#__STDC_ISO_10646__
 201103L

	)

57 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #i‚de‡
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<„©uªs.h
>

26 
	#__√ed_mb°©e_t


	)

27 
	#__√ed_wöt_t


	)

28 
	~<wch¨.h
>

29 
	#__√ed_size_t


	)

30 
	#__√ed_wch¨_t


	)

31 
	~<°ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gc⁄v_°ï
;

65 
	g__gc⁄v_°ï_d©a
;

66 
	g__gc⁄v_lﬂded_obje˘
;

67 
	g__gc⁄v_å™s_d©a
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

85 
	t__gc⁄v_°ï_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
) (*, const *,

97 (*
	t__gc⁄v_å™s_quîy_f˘
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

102 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

104 
	s__gc⁄v_å™s_d©a


107 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

108 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

109 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

110 *
__d©a
;

111 
__gc⁄v_å™s_d©a
 *
__√xt
;

116 
	s__gc⁄v_°ï


118 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

119 c⁄° *
__mod«me
;

121 
__cou¡î
;

123 *
__‰om_«me
;

124 *
__to_«me
;

126 
__gc⁄v_f˘
 
__f˘
;

127 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

128 
__gc⁄v_öô_f˘
 
__öô_f˘
;

129 
__gc⁄v_íd_f˘
 
__íd_f˘
;

133 
__mö_√eded_‰om
;

134 
__max_√eded_‰om
;

135 
__mö_√eded_to
;

136 
__max_√eded_to
;

139 
__°©eful
;

141 *
__d©a
;

146 
	s__gc⁄v_°ï_d©a


148 *
__outbuf
;

149 *
__outbu„nd
;

153 
__Êags
;

157 
__övoˇti⁄_cou¡î
;

161 
__öã∫Æ_u£
;

163 
__mb°©e_t
 *
__°©ï
;

164 
__mb°©e_t
 
__°©e
;

168 
__gc⁄v_å™s_d©a
 *
__å™s
;

173 
	s__gc⁄v_öfo


175 
size_t
 
__n°ïs
;

176 
__gc⁄v_°ï
 *
__°ïs
;

177 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

178 } *
	t__gc⁄v_t
;

	@
1
.
1
/usr/include
177
2093
base64.c
basename.c
cat.c
chcon.c
chgrp.c
chmod.c
chown-core.c
chown-core.h
chown.c
chroot.c
cksum.c
comm.c
copy.c
copy.h
cp-hash.c
cp-hash.h
cp.c
csplit.c
cut.c
date.c
dd.c
df.c
dircolors.c
dircolors.h
dirname.c
du.c
echo.c
env.c
expand.c
expr.c
extent-scan.c
extent-scan.h
factor.c
false.c
fiemap.h
find-mount-point.c
find-mount-point.h
fmt.c
fold.c
fs-is-local.h
fs.h
getlimits.c
group-list.c
group-list.h
groups.c
head.c
hostid.c
hostname.c
id.c
install.c
ioblksize.h
join.c
kill.c
lbracket.c
libstdbuf.c
link.c
ln.c
logname.c
longlong.h
ls-dir.c
ls-ls.c
ls-vdir.c
ls.c
ls.h
make-prime-list.c
md5sum.c
mkdir.c
mkfifo.c
mknod.c
mktemp.c
mv.c
nice.c
nl.c
nohup.c
nproc.c
numfmt.c
od.c
operand2sig.c
operand2sig.h
paste.c
pathchk.c
pinky.c
pr.c
primes.h
printenv.c
printf.c
prog-fprintf.c
prog-fprintf.h
ptx.c
pwd.c
readlink.c
realpath.c
relpath.c
relpath.h
remove.c
remove.h
rm.c
rmdir.c
runcon.c
seq.c
setuidgid.c
shred.c
shuf.c
sleep.c
sort.c
split.c
stat.c
stdbuf.c
stty.c
sum.c
sync.c
system.h
tac-pipe.c
tac.c
tail.c
tee.c
test.c
timeout.c
touch.c
tr.c
true.c
truncate.c
tsort.c
tty.c
uname-arch.c
uname-uname.c
uname.c
uname.h
unexpand.c
uniq.c
unlink.c
uptime.c
users.c
wc.c
who.c
whoami.c
yes.c
/usr/include/alloca.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/error.h
/usr/include/fcntl.h
/usr/include/fnmatch.h
/usr/include/getopt.h
/usr/include/grp.h
/usr/include/inttypes.h
/usr/include/langinfo.h
/usr/include/limits.h
/usr/include/locale.h
/usr/include/netinet/in.h
/usr/include/obstack.h
/usr/include/pthread.h
/usr/include/pwd.h
/usr/include/regex.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/stropts.h
/usr/include/termios.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/wchar.h
/usr/include/wctype.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libio.h
/usr/include/nl_types.h
/usr/include/sched.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/stdc-predef.h
/usr/include/gconv.h

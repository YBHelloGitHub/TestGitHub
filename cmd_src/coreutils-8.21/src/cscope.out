cscope 15 $HOME/æ–‡æ¡£/GitHub/TestGitHub/cmd_src/coreutils-8.21/src -q 0000010102 0001711256
	@base64.c

21 
	~<cÚfig.h
>

23 
	~<¡dio.h
>

24 
	~<g‘İt.h
>

25 
	~<sys/ty³s.h
>

27 
	~"sy¡em.h
"

28 
	~"”rÜ.h
"

29 
	~"çdvi£.h
"

30 
	~"x¡¹Ş.h
"

31 
	~"quÙe.h
"

32 
	~"quÙ—rg.h
"

33 
	~"xäeİ’.h
"

35 
	~"ba£64.h
"

38 
	#PROGRAM_NAME
 "ba£64"

	)

40 
	#AUTHORS
 
	`´İ”_Çme
 ("SimÚ Jo£fssÚ")

	)

42 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

44 {"decode", 
no_¬gum’t
, 0, 'd'},

45 {"w¿p", 
»quœed_¬gum’t
, 0, 'w'},

46 {"ignÜe-g¬bage", 
no_¬gum’t
, 0, 'i'},

48 {
GETOPT_HELP_OPTION_DECL
},

49 {
GETOPT_VERSION_OPTION_DECL
},

50 {
NULL
, 0, NULL, 0}

54 
	$u§ge
 (
¡©us
)

56 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

57 
	`em™_Œy_h–p
 ();

60 
	`´štf
 (
	`_
("\
: % [OPTION]... [FILE]\n\
64ƒncodÜ decodFILE, o¸¡ªd¬d iÅut,Ø¡ªd¬d ouut.\n\
"), 
´og¿m_Çme
);

65 
	`em™_mªd©Üy_¬g_nÙe
 ();

67 
	`åuts
 (
	`_
("\
-d, --decod decodd©a\n\
-i, --ignÜe-g¬bag wh’ decodšg, ignÜnÚ-®phab‘ ch¬aù”s\n\
-w, --w¿p=COLS w¿°’coded†še aá” COLS ch¬aù” (deçuÉ 76).\n\
 0Ødi§bË†šw¿µšg\n\
\n\
"), 
¡dout
);

74 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

75 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

76 
	`åuts
 (
	`_
("\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n"), 
¡dout
);

79 
	`åuts
 (
	`_
("\
\n\
 data‡reƒncoded‡s described forhe base64‡lphabet in RFC 3548.\n\
 decoding,he input may contain‚ewlines in‡dditionohe bytes of\n\
 formal base64‡lphabet. Use --ignore-garbageo‡ttempto„ecover\n\
‡ny other‚on-alphabet bytes inheƒncoded stream.\n"),

85 
¡dout
);

86 
	`em™_ªcÏry_šfo
 ();

89 
	`ex™
 (
¡©us
);

90 
	}
}

94 
	#BLOCKSIZE
 3072

	)

95 
	#B64BLOCKSIZE
 
	`BASE64_LENGTH
 (
BLOCKSIZE
)

	)

98 #ià
BLOCKSIZE
 % 12 != 0

103 
	$w¿p_wr™e
 (cÚ¡ *
bufãr
, 
size_t
 
Ën
,

104 
uštmax_t
 
w¿p_cŞumn
, 
size_t
 *
cu¼’t_cŞumn
, 
FILE
 *
out
)

106 
size_t
 
wr™‹n
;

108 ià(
w¿p_cŞumn
 == 0)

111 ià(
	`fwr™e
 (
bufãr
, 1, 
Ën
, 
¡dout
) <†en)

112 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

115 
wr™‹n
 = 0; wr™‹À< 
Ën
;)

117 
uštmax_t
 
cŞs_»maššg
 = 
w¿p_cŞumn
 - *
cu¼’t_cŞumn
;

118 
size_t
 
to_wr™e
 = 
	`MIN
 (
cŞs_»maššg
, 
SIZE_MAX
);

119 
to_wr™e
 = 
	`MIN
 (to_wr™e, 
Ën
 - 
wr™‹n
);

121 ià(
to_wr™e
 == 0)

123 ià(
	`åuts
 ("\n", 
out
) < 0)

124 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

125 *
cu¼’t_cŞumn
 = 0;

129 ià(
	`fwr™e
 (
bufãr
 + 
wr™‹n
, 1, 
to_wr™e
, 
¡dout
) <o_write)

130 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

131 *
cu¼’t_cŞumn
 +ğ
to_wr™e
;

132 
wr™‹n
 +ğ
to_wr™e
;

135 
	}
}

138 
	$do_’code
 (
FILE
 *
š
, FILE *
out
, 
uštmax_t
 
w¿p_cŞumn
)

140 
size_t
 
cu¼’t_cŞumn
 = 0;

141 
šbuf
[
BLOCKSIZE
];

142 
outbuf
[
B64BLOCKSIZE
];

143 
size_t
 
sum
;

147 
size_t
 
n
;

149 
sum
 = 0;

152 
n
 = 
	`ä—d
 (
šbuf
 + 
sum
, 1, 
BLOCKSIZE
 - sum, 
š
);

153 
sum
 +ğ
n
;

155 !
	`ãof
 (
š
è&& !
	`ã¼Ü
 (šè&& 
sum
 < 
BLOCKSIZE
);

157 ià(
sum
 > 0)

161 
	`ba£64_’code
 (
šbuf
, 
sum
, 
outbuf
, 
	`BASE64_LENGTH
 (sum));

163 
	`w¿p_wr™e
 (
outbuf
, 
	`BASE64_LENGTH
 (
sum
), 
w¿p_cŞumn
,

164 &
cu¼’t_cŞumn
, 
out
);

167 !
	`ãof
 (
š
è&& !
	`ã¼Ü
 (šè&& 
sum
 =ğ
BLOCKSIZE
);

170 ià(
w¿p_cŞumn
 && 
cu¼’t_cŞumn
 > 0 && 
	`åuts
 ("\n", 
out
) < 0)

171 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

173 ià(
	`ã¼Ü
 (
š
))

174 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

175 
	}
}

178 
	$do_decode
 (
FILE
 *
š
, FILE *
out
, 
boŞ
 
ignÜe_g¬bage
)

180 
šbuf
[
B64BLOCKSIZE
];

181 
outbuf
[
BLOCKSIZE
];

182 
size_t
 
sum
;

183 
ba£64_decode_cÚ‹xt
 
ùx
;

185 
	`ba£64_decode_ùx_š™
 (&
ùx
);

189 
boŞ
 
ok
;

190 
size_t
 
n
;

191 
k
;

193 
sum
 = 0;

196 
n
 = 
	`ä—d
 (
šbuf
 + 
sum
, 1, 
B64BLOCKSIZE
 - sum, 
š
);

198 ià(
ignÜe_g¬bage
)

200 
size_t
 
i
;

201 
i
 = 0; 
n
 > 0 && i <‚;)

202 ià(
	`isba£64
 (
šbuf
[
sum
 + 
i
]) || inbuf[sum + i] == '=')

203 
i
++;

205 
	`memmove
 (
šbuf
 + 
sum
 + 
i
, inbuà+ sum + i + 1, --
n
 - i);

208 
sum
 +ğ
n
;

210 ià(
	`ã¼Ü
 (
š
))

211 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

213 
sum
 < 
B64BLOCKSIZE
 && !
	`ãof
 (
š
));

219 
k
 = 0; k < 1 + !!
	`ãof
 (
š
); k++)

221 ià(
k
 =ğ1 && 
ùx
.
i
 == 0)

223 
n
 = 
BLOCKSIZE
;

224 
ok
 = 
	`ba£64_decode_ùx
 (&
ùx
, 
šbuf
, (
k
 =ğ0 ? 
sum
 : 0), 
outbuf
, &
n
);

226 ià(
	`fwr™e
 (
outbuf
, 1, 
n
, 
out
) <‚)

227 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

229 ià(!
ok
)

230 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid input"));

233 !
	`ãof
 (
š
));

234 
	}
}

237 
	$maš
 (
¬gc
, **
¬gv
)

239 
İt
;

240 
FILE
 *
šput_fh
;

241 cÚ¡ *
šfe
;

244 
boŞ
 
decode
 = 
çl£
;

246 
boŞ
 
ignÜe_g¬bage
 = 
çl£
;

248 
uštmax_t
 
w¿p_cŞumn
 = 76;

250 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

251 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

252 
	`£oÿË
 (
LC_ALL
, "");

253 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

254 
	`‹xtdomaš
 (
PACKAGE
);

256 
	`©ex™
 (
şo£_¡dout
);

258 (
İt
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "diw:", 
lÚg_İtiÚs
, 
NULL
)) != -1)

259 
İt
)

262 
decode
 = 
Œue
;

266 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 0, &
w¿p_cŞumn
, NULLè!ğ
LONGINT_OK
)

267 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid wrap size: %s"),

268 
	`quÙ—rg
 (
İrg
));

272 
ignÜe_g¬bage
 = 
Œue
;

275 
ÿ£_GETOPT_HELP_CHAR
;

277 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

280 
	`u§ge
 (
EXIT_FAILURE
);

284 ià(
¬gc
 - 
İtšd
 > 1)

286 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

287 
	`u§ge
 (
EXIT_FAILURE
);

290 ià(
İtšd
 < 
¬gc
)

291 
šfe
 = 
¬gv
[
İtšd
];

293 
šfe
 = "-";

295 ià(
	`STREQ
 (
šfe
, "-"))

297 ià(
O_BINARY
)

298 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

299 
šput_fh
 = 
¡dš
;

303 
šput_fh
 = 
	`fİ’
 (
šfe
, "rb");

304 ià(
šput_fh
 =ğ
NULL
)

305 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

308 
	`çdvi£
 (
šput_fh
, 
FADVISE_SEQUENTIAL
);

310 ià(
decode
)

311 
	`do_decode
 (
šput_fh
, 
¡dout
, 
ignÜe_g¬bage
);

313 
	`do_’code
 (
šput_fh
, 
¡dout
, 
w¿p_cŞumn
);

315 ià(
	`fşo£
 (
šput_fh
è=ğ
EOF
)

317 ià(
	`STREQ
 (
šfe
, "-"))

318 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("closing standard input"));

320 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

323 
	`ex™
 (
EXIT_SUCCESS
);

324 
	}
}

	@basename.c

17 
	~<cÚfig.h
>

18 
	~<g‘İt.h
>

19 
	~<¡dio.h
>

20 
	~<sys/ty³s.h
>

22 
	~"sy¡em.h
"

23 
	~"”rÜ.h
"

24 
	~"quÙe.h
"

27 
	#PROGRAM_NAME
 "ba£Çme"

	)

29 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

31 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

33 {"muÉË", 
no_¬gum’t
, 
NULL
, 'a'},

34 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 's'},

35 {"z”o", 
no_¬gum’t
, 
NULL
, 'z'},

36 {
GETOPT_HELP_OPTION_DECL
},

37 {
GETOPT_VERSION_OPTION_DECL
},

38 {
NULL
, 0, NULL, 0}

42 
	$u§ge
 (
¡©us
)

44 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

45 
	`em™_Œy_h–p
 ();

48 
	`´štf
 (
	`_
("\
: %s NAME [SUFFIX]\n\
: %s OPTION... NAME...\n\
"),

52 
´og¿m_Çme
,…rogram_name);

53 
	`åuts
 (
	`_
("\
 NAME w™h‡ny†—dšg dœeùÜy compÚ’t »moved.\n\
 s³cif›d,‡lsØ»mov¨Œašg SUFFIX.\n\
"), 
¡dout
);

58 
	`em™_mªd©Üy_¬g_nÙe
 ();

60 
	`åuts
 (
	`_
("\
-a, --muÉË suµÜˆmuÉË‡rgum’t ªd»©ƒach‡ ¨NAME\n\
-s, --suffix=SUFFIX„emov¨Œašg SUFFIX\n\
-z, --z”Ø s•¬©ouuˆw™h NUL„©h”hª‚ewlše\n\
"), 
¡dout
);

65 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

66 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

67 
	`´štf
 (
	`_
("\
\n\
:\n\
%s /usr/bin/sort -> \"sort\"\n\
%s include/stdio.h .h -> \"stdio\"\n\
%s -s .h include/stdio.h -> \"stdio\"\n\
%s -a‡ny/str1‡ny/str2 -> \"str1\" followed by \"str2\"\n\
"),

75 
´og¿m_Çme
,…rogram_name,…rogram_name,…rogram_name);

76 
	`em™_ªcÏry_šfo
 ();

78 
	`ex™
 (
¡©us
);

79 
	}
}

85 
	$»move_suffix
 (*
Çme
, cÚ¡ *
suffix
)

87 *
Å
;

88 cÚ¡ *
¥
;

90 
Å
 = 
Çme
 + 
	`¡¾’
 (name);

91 
¥
 = 
suffix
 + 
	`¡¾’
 (suffix);

93 
Å
 > 
Çme
 && 
¥
 > 
suffix
)

94 ià(*--
Å
 !ğ*--
¥
)

96 ià(
Å
 > 
Çme
)

97 *
Å
 = '\0';

98 
	}
}

104 
	$³rfÜm_ba£Çme
 (cÚ¡ *
¡ršg
, cÚ¡ *
suffix
, 
boŞ
 
u£_nuls
)

106 *
Çme
 = 
	`ba£_Çme
 (
¡ršg
);

107 
	`¡r_Œašg_¦ashes
 (
Çme
);

115 ià(
suffix
 && 
	`IS_RELATIVE_FILE_NAME
 (
Çme
è&& ! 
	`FILE_SYSTEM_PREFIX_LEN
 (name))

116 
	`»move_suffix
 (
Çme
, 
suffix
);

118 
	`åuts
 (
Çme
, 
¡dout
);

119 
	`putch¬
 (
u£_nuls
 ? '\0' : '\n');

120 
	`ä“
 (
Çme
);

121 
	}
}

124 
	$maš
 (
¬gc
, **
¬gv
)

126 
boŞ
 
muÉË_Çmes
 = 
çl£
;

127 
boŞ
 
u£_nuls
 = 
çl£
;

128 cÚ¡ *
suffix
 = 
NULL
;

130 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

131 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

132 
	`£oÿË
 (
LC_ALL
, "");

133 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

134 
	`‹xtdomaš
 (
PACKAGE
);

136 
	`©ex™
 (
şo£_¡dout
);

138 
Œue
)

140 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+as:z", 
lÚgİts
, 
NULL
);

142 ià(
c
 == -1)

145 
c
)

148 
suffix
 = 
İrg
;

151 
muÉË_Çmes
 = 
Œue
;

155 
u£_nuls
 = 
Œue
;

158 
ÿ£_GETOPT_HELP_CHAR
;

159 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

162 
	`u§ge
 (
EXIT_FAILURE
);

166 ià(
¬gc
 < 
İtšd
 + 1)

168 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

169 
	`u§ge
 (
EXIT_FAILURE
);

172 ià(!
muÉË_Çmes
 && 
İtšd
 + 2 < 
¬gc
)

174 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 2]));

175 
	`u§ge
 (
EXIT_FAILURE
);

178 ià(
muÉË_Çmes
)

180 ; 
İtšd
 < 
¬gc
; optind++)

181 
	`³rfÜm_ba£Çme
 (
¬gv
[
İtšd
], 
suffix
, 
u£_nuls
);

184 
	`³rfÜm_ba£Çme
 (
¬gv
[
İtšd
],

185 
İtšd
 + 2 =ğ
¬gc
 ? 
¬gv
[İtšd + 1] : 
NULL
, 
u£_nuls
);

187 
	`ex™
 (
EXIT_SUCCESS
);

188 
	}
}

	@cat.c

24 
	~<cÚfig.h
>

26 
	~<¡dio.h
>

27 
	~<g‘İt.h
>

28 
	~<sys/ty³s.h
>

30 #ià
HAVE_STROPTS_H


31 
	~<¡rİts.h
>

33 
	~<sys/ioùl.h
>

35 
	~"sy¡em.h
"

36 
	~"ioblksize.h
"

37 
	~"”rÜ.h
"

38 
	~"çdvi£.h
"

39 
	~"fuÎ-wr™e.h
"

40 
	~"quÙe.h
"

41 
	~"§ã-»ad.h
"

42 
	~"xäeİ’.h
"

45 
	#PROGRAM_NAME
 "ÿt"

	)

47 
	#AUTHORS
 \

48 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

49 
	`´İ”_Çme
 ("Rich¬d M. SÎmª")

	)

52 cÚ¡ *
	gšfe
;

55 
	gšput_desc
;

60 
	#LINE_COUNTER_BUF_LEN
 20

	)

61 
	glše_buf
[
LINE_COUNTER_BUF_LEN
] =

70 *
	glše_num_´št
 = 
lše_buf
 + 
LINE_COUNTER_BUF_LEN
 - 8;

73 *
	glše_num_¡¬t
 = 
lše_buf
 + 
LINE_COUNTER_BUF_LEN
 - 3;

76 *
	glše_num_’d
 = 
lše_buf
 + 
LINE_COUNTER_BUF_LEN
 - 3;

79 
	gÃwlšes2
 = 0;

82 
	$u§ge
 (
¡©us
)

84 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

85 
	`em™_Œy_h–p
 ();

88 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

91 
´og¿m_Çme
);

92 
	`åuts
 (
	`_
("\
 FILE(s), o¸¡ªd¬d iÅut,Ø¡ªd¬d ouut.\n\
\n\
-A, --show-®Èƒquiv®’ˆtØ-vET\n\
-b, --numb”-nÚbÏnk‚umb”‚Úem±y ouuˆlšes, ov”ride -n\n\
-ƒquiv®’ˆtØ-vE\n\
-E, --show-’d  di¥Ïy $‡ˆ’d oà—ch†še\n\
-n, --numb”‚umb”‡Î ouuˆlšes\n\
-s, --squ“ze-bÏnk suµ»s »³©edƒm±y ouuˆlšes\n\
"), 
¡dout
);

102 
	`åuts
 (
	`_
("\
-ˆƒquiv®’ˆtØ-vT\n\
-T, --show-b  di¥Ïy TAB ch¬aù” a ^I\n\
-u (ignÜed)\n\
-v, --show-nÚ´štšg u£ ^‡nd M-‚Ù©iÚ,ƒxû± fÜ LFD‡nd TAB\n\
"), 
¡dout
);

108 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

109 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

110 
	`åuts
 (
	`_
("\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

114 
	`´štf
 (
	`_
("\
\n\
:\n\
%s f - g Output f's contents,hen standard input,hen g's contents.\n\
%s Copy standard inputo standard output.\n\
"),

120 
´og¿m_Çme
,…rogram_name);

121 
	`em™_ªcÏry_šfo
 ();

123 
	`ex™
 (
¡©us
);

124 
	}
}

129 
	$Ãxt_lše_num
 ()

131 *
’dp
 = 
lše_num_’d
;

134 ià((*
’dp
)++ < '9')

136 *
’dp
-- = '0';

138 
’dp
 >ğ
lše_num_¡¬t
);

139 ià(
lše_num_¡¬t
 > 
lše_buf
)

140 *--
lše_num_¡¬t
 = '1';

142 *
lše_buf
 = '>';

143 ià(
lše_num_¡¬t
 < 
lše_num_´št
)

144 
lše_num_´št
--;

145 
	}
}

150 
boŞ


151 
	$sim¶e_ÿt
 (

153 *
buf
,

157 
size_t
 
bufsize
)

160 
size_t
 
n_»ad
;

164 
Œue
)

168 
n_»ad
 = 
	`§ã_»ad
 (
šput_desc
, 
buf
, 
bufsize
);

169 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

171 
	`”rÜ
 (0, 
”ºo
, "%s", 
šfe
);

172  
çl£
;

177 ià(
n_»ad
 == 0)

178  
Œue
;

184 
size_t
 
n
 = 
n_»ad
;

185 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
buf
, 
n
) !=‚)

186 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

189 
	}
}

195 
šlše
 

196 
	$wr™e_³ndšg
 (*
outbuf
, **
bpout
)

198 
size_t
 
n_wr™e
 = *
bpout
 - 
outbuf
;

199 ià(0 < 
n_wr™e
)

201 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
outbuf
, 
n_wr™e
) !=‚_write)

202 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

203 *
bpout
 = 
outbuf
;

205 
	}
}

214 
boŞ


215 
	$ÿt
 (

217 *
šbuf
,

220 
size_t
 
šsize
,

223 *
outbuf
,

226 
size_t
 
outsize
,

229 
boŞ
 
show_nÚ´štšg
,

230 
boŞ
 
show_bs
,

231 
boŞ
 
numb”
,

232 
boŞ
 
numb”_nÚbÏnk
,

233 
boŞ
 
show_’ds
,

234 
boŞ
 
squ“ze_bÏnk
)

237 
ch
;

240 *
bpš
;

244 *
eob
;

247 *
bpout
;

250 
size_t
 
n_»ad
;

257 
Ãwlšes
 = 
Ãwlšes2
;

259 #ifdeà
FIONREAD


262 
boŞ
 
u£_fiÚ»ad
 = 
Œue
;

268 
eob
 = 
šbuf
;

269 
bpš
 = 
eob
 + 1;

271 
bpout
 = 
outbuf
;

273 
Œue
)

279 ià(
outbuf
 + 
outsize
 <ğ
bpout
)

281 *
wp
 = 
outbuf
;

282 
size_t
 
»maššg_by‹s
;

285 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
wp
, 
outsize
) != outsize)

286 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

287 
wp
 +ğ
outsize
;

288 
»maššg_by‹s
 = 
bpout
 - 
wp
;

290 
outsize
 <ğ
»maššg_by‹s
);

295 
	`memmove
 (
outbuf
, 
wp
, 
»maššg_by‹s
);

296 
bpout
 = 
outbuf
 + 
»maššg_by‹s
;

301 ià(
bpš
 > 
eob
)

303 
boŞ
 
šput_³ndšg
 = 
çl£
;

304 #ifdeà
FIONREAD


305 
n_to_»ad
 = 0;

311 ià(
u£_fiÚ»ad


312 && 
	`ioùl
 (
šput_desc
, 
FIONREAD
, &
n_to_»ad
) < 0)

320 ià(
”ºo
 =ğ
EOPNOTSUPP
 ||ƒ¼nØ=ğ
ENOTTY


321 || 
”ºo
 =ğ
EINVAL
 ||ƒ¼nØ=ğ
ENODEV


322 || 
”ºo
 =ğ
ENOSYS
)

323 
u£_fiÚ»ad
 = 
çl£
;

326 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot do ioctl on %s"),

327 
	`quÙe
 (
šfe
));

328 
Ãwlšes2
 = 
Ãwlšes
;

329  
çl£
;

332 ià(
n_to_»ad
 != 0)

333 
šput_³ndšg
 = 
Œue
;

336 ià(!
šput_³ndšg
)

337 
	`wr™e_³ndšg
 (
outbuf
, &
bpout
);

341 
n_»ad
 = 
	`§ã_»ad
 (
šput_desc
, 
šbuf
, 
šsize
);

342 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

344 
	`”rÜ
 (0, 
”ºo
, "%s", 
šfe
);

345 
	`wr™e_³ndšg
 (
outbuf
, &
bpout
);

346 
Ãwlšes2
 = 
Ãwlšes
;

347  
çl£
;

349 ià(
n_»ad
 == 0)

351 
	`wr™e_³ndšg
 (
outbuf
, &
bpout
);

352 
Ãwlšes2
 = 
Ãwlšes
;

353  
Œue
;

359 
bpš
 = 
šbuf
;

360 
eob
 = 
bpš
 + 
n_»ad
;

361 *
eob
 = '\n';

370 ià(++
Ãwlšes
 > 0)

372 ià(
Ãwlšes
 >= 2)

377 
Ãwlšes
 = 2;

382 ià(
squ“ze_bÏnk
)

384 
ch
 = *
bpš
++;

391 ià(
numb”
 && !
numb”_nÚbÏnk
)

393 
	`Ãxt_lše_num
 ();

394 
bpout
 = 
	`¡pıy
 (bpout, 
lše_num_´št
);

400 ià(
show_’ds
)

401 *
bpout
++ = '$';

405 *
bpout
++ = '\n';

407 
ch
 = *
bpš
++;

409 
ch
 == '\n');

413 ià(
Ãwlšes
 >ğ0 && 
numb”
)

415 
	`Ãxt_lše_num
 ();

416 
bpout
 = 
	`¡pıy
 (bpout, 
lše_num_´št
);

427 ià(
show_nÚ´štšg
)

429 
Œue
)

431 ià(
ch
 >= 32)

433 ià(
ch
 < 127)

434 *
bpout
++ = 
ch
;

435 ià(
ch
 == 127)

437 *
bpout
++ = '^';

438 *
bpout
++ = '?';

442 *
bpout
++ = 'M';

443 *
bpout
++ = '-';

444 ià(
ch
 >= 128 + 32)

446 ià(
ch
 < 128 + 127)

447 *
bpout
++ = 
ch
 - 128;

450 *
bpout
++ = '^';

451 *
bpout
++ = '?';

456 *
bpout
++ = '^';

457 *
bpout
++ = 
ch
 - 128 + 64;

461 ià(
ch
 =ğ'\t' && !
show_bs
)

462 *
bpout
++ = '\t';

463 ià(
ch
 == '\n')

465 
Ãwlšes
 = -1;

470 *
bpout
++ = '^';

471 *
bpout
++ = 
ch
 + 64;

474 
ch
 = *
bpš
++;

480 
Œue
)

482 ià(
ch
 =ğ'\t' && 
show_bs
)

484 *
bpout
++ = '^';

485 *
bpout
++ = 
ch
 + 64;

487 ià(
ch
 != '\n')

488 *
bpout
++ = 
ch
;

491 
Ãwlšes
 = -1;

495 
ch
 = *
bpš
++;

499 
	}
}

502 
	$maš
 (
¬gc
, **
¬gv
)

505 
size_t
 
outsize
;

508 
size_t
 
šsize
;

510 
size_t
 
·ge_size
 = 
	`g‘·gesize
 ();

513 *
šbuf
;

516 *
outbuf
;

518 
boŞ
 
ok
 = 
Œue
;

519 
c
;

522 
¬gšd
;

525 
dev_t
 
out_dev
;

528 
šo_t
 
out_šo
;

531 
boŞ
 
check_»dœeùiÚ
 = 
Œue
;

534 
boŞ
 
have_»ad_¡dš
 = 
çl£
;

536 
¡©
 
¡©_buf
;

539 
boŞ
 
numb”
 = 
çl£
;

540 
boŞ
 
numb”_nÚbÏnk
 = 
çl£
;

541 
boŞ
 
squ“ze_bÏnk
 = 
çl£
;

542 
boŞ
 
show_’ds
 = 
çl£
;

543 
boŞ
 
show_nÚ´štšg
 = 
çl£
;

544 
boŞ
 
show_bs
 = 
çl£
;

545 
fe_İ’_mode
 = 
O_RDONLY
;

547 
İtiÚ
 cÚ¡ 
lÚg_İtiÚs
[] =

549 {"numb”-nÚbÏnk", 
no_¬gum’t
, 
NULL
, 'b'},

550 {"numb”", 
no_¬gum’t
, 
NULL
, 'n'},

551 {"squ“ze-bÏnk", 
no_¬gum’t
, 
NULL
, 's'},

552 {"show-nÚ´štšg", 
no_¬gum’t
, 
NULL
, 'v'},

553 {"show-’ds", 
no_¬gum’t
, 
NULL
, 'E'},

554 {"show-bs", 
no_¬gum’t
, 
NULL
, 'T'},

555 {"show-®l", 
no_¬gum’t
, 
NULL
, 'A'},

556 {
GETOPT_HELP_OPTION_DECL
},

557 {
GETOPT_VERSION_OPTION_DECL
},

558 {
NULL
, 0, NULL, 0}

561 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

562 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

563 
	`£oÿË
 (
LC_ALL
, "");

564 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

565 
	`‹xtdomaš
 (
PACKAGE
);

571 
	`©ex™
 (
şo£_¡dout
);

575 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "b’¡uvAET", 
lÚg_İtiÚs
, 
NULL
))

578 
c
)

581 
numb”
 = 
Œue
;

582 
numb”_nÚbÏnk
 = 
Œue
;

586 
show_’ds
 = 
Œue
;

587 
show_nÚ´štšg
 = 
Œue
;

591 
numb”
 = 
Œue
;

595 
squ“ze_bÏnk
 = 
Œue
;

599 
show_bs
 = 
Œue
;

600 
show_nÚ´štšg
 = 
Œue
;

608 
show_nÚ´štšg
 = 
Œue
;

612 
show_nÚ´štšg
 = 
Œue
;

613 
show_’ds
 = 
Œue
;

614 
show_bs
 = 
Œue
;

618 
show_’ds
 = 
Œue
;

622 
show_bs
 = 
Œue
;

625 
ÿ£_GETOPT_HELP_CHAR
;

627 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

630 
	`u§ge
 (
EXIT_FAILURE
);

636 ià(
	`f¡©
 (
STDOUT_FILENO
, &
¡©_buf
) < 0)

637 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard output"));

639 
outsize
 = 
	`io_blksize
 (
¡©_buf
);

646 ià(
	`S_ISREG
 (
¡©_buf
.
¡_mode
))

648 
out_dev
 = 
¡©_buf
.
¡_dev
;

649 
out_šo
 = 
¡©_buf
.
¡_šo
;

653 
check_»dœeùiÚ
 = 
çl£
;

654 #ifdeà
lšt


655 
out_dev
 = 0;

656 
out_šo
 = 0;

660 ià(! (
numb”
 || 
show_’ds
 || 
squ“ze_bÏnk
))

662 
fe_İ’_mode
 |ğ
O_BINARY
;

663 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

664 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

671 
šfe
 = "-";

672 
¬gšd
 = 
İtšd
;

676 ià(
¬gšd
 < 
¬gc
)

677 
šfe
 = 
¬gv
[
¬gšd
];

679 ià(
	`STREQ
 (
šfe
, "-"))

681 
have_»ad_¡dš
 = 
Œue
;

682 
šput_desc
 = 
STDIN_FILENO
;

683 ià((
fe_İ’_mode
 & 
O_BINARY
è&& ! 
	`i§‰y
 (
STDIN_FILENO
))

684 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

688 
šput_desc
 = 
	`İ’
 (
šfe
, 
fe_İ’_mode
);

689 ià(
šput_desc
 < 0)

691 
	`”rÜ
 (0, 
”ºo
, "%s", 
šfe
);

692 
ok
 = 
çl£
;

697 ià(
	`f¡©
 (
šput_desc
, &
¡©_buf
) < 0)

699 
	`”rÜ
 (0, 
”ºo
, "%s", 
šfe
);

700 
ok
 = 
çl£
;

701 
cÚtš
;

703 
šsize
 = 
	`io_blksize
 (
¡©_buf
);

705 
	`fdadvi£
 (
šput_desc
, 0, 0, 
FADVISE_SEQUENTIAL
);

712 ià(
check_»dœeùiÚ


713 && 
¡©_buf
.
¡_dev
 =ğ
out_dev
 && st_buf.
¡_šo
 =ğ
out_šo


714 && (
šput_desc
 !ğ
STDIN_FILENO
))

716 
	`”rÜ
 (0, 0, 
	`_
("%s: iÅuˆfi ouuˆfe"), 
šfe
);

717 
ok
 = 
çl£
;

718 
cÚtš
;

724 ià(! (
numb”
 || 
show_’ds
 || 
show_nÚ´štšg


725 || 
show_bs
 || 
squ“ze_bÏnk
))

727 
šsize
 = 
	`MAX
 (šsize, 
outsize
);

728 
šbuf
 = 
	`xm®loc
 (
šsize
 + 
·ge_size
 - 1);

730 
ok
 &ğ
	`sim¶e_ÿt
 (
	`±r_®ign
 (
šbuf
, 
·ge_size
), 
šsize
);

734 
šbuf
 = 
	`xm®loc
 (
šsize
 + 1 + 
·ge_size
 - 1);

758 
outbuf
 = 
	`xm®loc
 (
outsize
 - 1 + 
šsize
 * 4 + 
LINE_COUNTER_BUF_LEN


759 + 
·ge_size
 - 1);

761 
ok
 &ğ
	`ÿt
 (
	`±r_®ign
 (
šbuf
, 
·ge_size
), 
šsize
,

762 
	`±r_®ign
 (
outbuf
, 
·ge_size
), 
outsize
, 
show_nÚ´štšg
,

763 
show_bs
, 
numb”
, 
numb”_nÚbÏnk
, 
show_’ds
,

764 
squ“ze_bÏnk
);

766 
	`ä“
 (
outbuf
);

769 
	`ä“
 (
šbuf
);

771 
cÚtš
:

772 ià(!
	`STREQ
 (
šfe
, "-"è&& 
	`şo£
 (
šput_desc
) < 0)

774 
	`”rÜ
 (0, 
”ºo
, "%s", 
šfe
);

775 
ok
 = 
çl£
;

778 ++
¬gšd
 < 
¬gc
);

780 ià(
have_»ad_¡dš
 && 
	`şo£
 (
STDIN_FILENO
) < 0)

781 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("closing standard input"));

783 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

784 
	}
}

	@chcon.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<sys/ty³s.h
>

20 
	~<g‘İt.h
>

22 
	~"sy¡em.h
"

23 
	~"dev-šo.h
"

24 
	~"”rÜ.h
"

25 
	~"ignÜe-v®ue.h
"

26 
	~"quÙe.h
"

27 
	~"quÙ—rg.h
"

28 
	~"roÙ-dev-šo.h
"

29 
	~"£lšux-©.h
"

30 
	~"xás.h
"

33 
	#PROGRAM_NAME
 "chcÚ"

	)

35 
	#AUTHORS
 \

36 
	`´İ”_Çme
 ("Russell Coker"), \

37 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

41 
boŞ
 
	gafãù_symlšk_»ã»Á
;

44 
boŞ
 
	g»cur£
;

47 
boŞ
 
	gv”bo£
;

51 
dev_šo
 *
	groÙ_dev_šo
;

54 cÚ¡ *
	g¥ecif›d_cÚ‹xt
;

57 cÚ¡ *
	g¥ecif›d_u£r
;

58 cÚ¡ *
	g¥ecif›d_rŞe
;

59 cÚ¡ *
	g¥ecif›d_¿nge
;

60 cÚ¡ *
	g¥ecif›d_ty³
;

66 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

67 
	mNO_PRESERVE_ROOT
,

68 
	mPRESERVE_ROOT
,

69 
	mREFERENCE_FILE_OPTION


72 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

74 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

75 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 
DEREFERENCE_OPTION
},

76 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'h'},

77 {"no-´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
NO_PRESERVE_ROOT
},

78 {"´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
PRESERVE_ROOT
},

79 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 
REFERENCE_FILE_OPTION
},

80 {"u£r", 
»quœed_¬gum’t
, 
NULL
, 'u'},

81 {"rŞe", 
»quœed_¬gum’t
, 
NULL
, 'r'},

82 {"ty³", 
»quœed_¬gum’t
, 
NULL
, 't'},

83 {"¿nge", 
»quœed_¬gum’t
, 
NULL
, 'l'},

84 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

85 {
GETOPT_HELP_OPTION_DECL
},

86 {
GETOPT_VERSION_OPTION_DECL
},

87 {
NULL
, 0, NULL, 0}

94 
	$compu‹_cÚ‹xt_äom_mask
 (
£cur™y_cÚ‹xt_t
 
cÚ‹xt
, 
cÚ‹xt_t
 *
»t
)

96 
boŞ
 
ok
 = 
Œue
;

97 
cÚ‹xt_t
 
Ãw_cÚ‹xt
 = 
	`cÚ‹xt_Ãw
 (
cÚ‹xt
);

98 ià(!
Ãw_cÚ‹xt
)

100 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo create security context: %s"),

101 
	`quÙ—rg_cŞÚ
 (
cÚ‹xt
));

105 
	#SET_COMPONENT
(
C
, 
comp
) \

108 ià(
¥ecif›d_
 ## 
comp
 \

109 && 
cÚ‹xt_
 ## 
comp
 ## 
	`_£t
 ((
C
), 
¥ecif›d_
 ## comp)) \

111 
	`”rÜ
 (0, 
”ºo
, \

112 
	`_
("failedo set %s security context componento %s"), \

113 #comp, 
	`quÙe
 (
¥ecif›d_
 ## 
comp
)); \

114 
ok
 = 
çl£
; \

117 0)

	)

119 
	`SET_COMPONENT
 (
Ãw_cÚ‹xt
, 
u£r
);

120 
	`SET_COMPONENT
 (
Ãw_cÚ‹xt
, 
¿nge
);

121 
	`SET_COMPONENT
 (
Ãw_cÚ‹xt
, 
rŞe
);

122 
	`SET_COMPONENT
 (
Ãw_cÚ‹xt
, 
ty³
);

124 ià(!
ok
)

126 
§ved_”ºo
 = 
”ºo
;

127 
	`cÚ‹xt_ä“
 (
Ãw_cÚ‹xt
);

128 
”ºo
 = 
§ved_”ºo
;

132 *
»t
 = 
Ãw_cÚ‹xt
;

134 
	}
}

141 
	$chªge_fe_cÚ‹xt
 (
fd
, cÚ¡ *
fe
)

143 
£cur™y_cÚ‹xt_t
 
fe_cÚ‹xt
 = 
NULL
;

144 
cÚ‹xt_t
 
cÚ‹xt
;

145 
£cur™y_cÚ‹xt_t
 
cÚ‹xt_¡ršg
;

146 
”rÜs
 = 0;

148 ià(
¥ecif›d_cÚ‹xt
 =ğ
NULL
)

150 
¡©us
 = (
afãù_symlšk_»ã»Á


151 ? 
	`g‘fecÚ©
 (
fd
, 
fe
, &
fe_cÚ‹xt
)

152 : 
	`lg‘fecÚ©
 (
fd
, 
fe
, &
fe_cÚ‹xt
));

154 ià(
¡©us
 < 0 && 
”ºo
 !ğ
ENODATA
)

156 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get security context of %s"),

157 
	`quÙe
 (
fe
));

164 ià(
fe_cÚ‹xt
 =ğ
NULL
)

166 
	`”rÜ
 (0, 0, 
	`_
("can't‡pply…artial contexto unlabeled file %s"),

167 
	`quÙe
 (
fe
));

171 ià(
	`compu‹_cÚ‹xt_äom_mask
 (
fe_cÚ‹xt
, &
cÚ‹xt
))

177 
cÚ‹xt
 = 
	`cÚ‹xt_Ãw
 (
¥ecif›d_cÚ‹xt
);

178 ià(!
cÚ‹xt
)

179 
	`abÜt
 ();

182 
cÚ‹xt_¡ršg
 = 
	`cÚ‹xt_¡r
 (
cÚ‹xt
);

184 ià(
fe_cÚ‹xt
 =ğ
NULL
 || ! 
	`STREQ
 (
cÚ‹xt_¡ršg
, file_context))

186 
ç
 = (
afãù_symlšk_»ã»Á


187 ? 
	`£tfecÚ©
 (
fd
, 
fe
, 
cÚ‹xt_¡ršg
)

188 : 
	`l£tfecÚ©
 (
fd
, 
fe
, 
cÚ‹xt_¡ršg
));

190 ià(
ç
)

192 
”rÜs
 = 1;

193 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo change context of %so %s"),

194 
	`quÙe_n
 (0, 
fe
), quÙe_À(1, 
cÚ‹xt_¡ršg
));

198 
	`cÚ‹xt_ä“
 (
cÚ‹xt
);

199 
	`ä“cÚ
 (
fe_cÚ‹xt
);

201  
”rÜs
;

202 
	}
}

208 
boŞ


209 
	$´oûss_fe
 (
FTS
 *
ás
, 
FTSENT
 *
’t
)

211 cÚ¡ *
fe_fuÎ_Çme
 = 
’t
->
ás_·th
;

212 cÚ¡ *
fe
 = 
’t
->
ás_acı©h
;

213 cÚ¡ 
¡©
 *
fe_¡©s
 = 
’t
->
ás_¡©p
;

214 
boŞ
 
ok
 = 
Œue
;

216 
’t
->
ás_šfo
)

218 
FTS_D
:

219 ià(
»cur£
)

221 ià(
	`ROOT_DEV_INO_CHECK
 (
roÙ_dev_šo
, 
’t
->
ás_¡©p
))

225 
	`ROOT_DEV_INO_WARN
 (
fe_fuÎ_Çme
);

227 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

229 
	`ignÜe_v®ue
 (
	`ás_»ad
 (
ás
));

230  
çl£
;

232  
Œue
;

236 
FTS_DP
:

237 ià(! 
»cur£
)

238  
Œue
;

241 
FTS_NS
:

249 ià(
’t
->
ás_Ëv–
 =ğ0 &&ƒÁ->
ás_numb”
 == 0)

251 
’t
->
ás_numb”
 = 1;

252 
	`ás_£t
 (
ás
, 
’t
, 
FTS_AGAIN
);

253  
Œue
;

255 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("ÿÂÙ‡cûs %s"), 
	`quÙe
 (
fe_fuÎ_Çme
));

256 
ok
 = 
çl£
;

259 
FTS_ERR
:

260 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, "%s", 
	`quÙe
 (
fe_fuÎ_Çme
));

261 
ok
 = 
çl£
;

264 
FTS_DNR
:

265 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("cannot„ead directory %s"),

266 
	`quÙe
 (
fe_fuÎ_Çme
));

267 
ok
 = 
çl£
;

270 
FTS_DC
:

271 ià(
	`cyşe_w¬nšg_»quœed
 (
ás
, 
’t
))

273 
	`em™_cyşe_w¬nšg
 (
fe_fuÎ_Çme
);

274  
çl£
;

282 ià(
’t
->
ás_šfo
 =ğ
FTS_DP


283 && 
ok
 && 
	`ROOT_DEV_INO_CHECK
 (
roÙ_dev_šo
, 
fe_¡©s
))

285 
	`ROOT_DEV_INO_WARN
 (
fe_fuÎ_Çme
);

286 
ok
 = 
çl£
;

289 ià(
ok
)

291 ià(
v”bo£
)

292 
	`´štf
 (
	`_
("changing security context of %s\n"),

293 
	`quÙe
 (
fe_fuÎ_Çme
));

295 ià(
	`chªge_fe_cÚ‹xt
 (
ás
->
ás_cwd_fd
, 
fe
) != 0)

296 
ok
 = 
çl£
;

299 iàĞ! 
»cur£
)

300 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

302  
ok
;

303 
	}
}

309 
boŞ


310 
	$´oûss_fes
 (**
fes
, 
b™_æags
)

312 
boŞ
 
ok
 = 
Œue
;

314 
FTS
 *
ás
 = 
	`xás_İ’
 (
fes
, 
b™_æags
, 
NULL
);

318 
FTSENT
 *
’t
;

320 
’t
 = 
	`ás_»ad
 (
ás
);

321 ià(
’t
 =ğ
NULL
)

323 ià(
”ºo
 != 0)

326 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_read failed"));

327 
ok
 = 
çl£
;

332 
ok
 &ğ
	`´oûss_fe
 (
ás
, 
’t
);

335 ià(
	`ás_şo£
 (
ás
) != 0)

337 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_close failed"));

338 
ok
 = 
çl£
;

341  
ok
;

342 
	}
}

345 
	$u§ge
 (
¡©us
)

347 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

348 
	`em™_Œy_h–p
 ();

351 
	`´štf
 (
	`_
("\
: %s [OPTION]... CONTEXT FILE...\n\
: %s [OPTION]... [-u USER] [-r ROLE] [-l RANGE] [-t TYPE] FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

356 
´og¿m_Çme
,…rogram_name,…rogram_name);

357 
	`åuts
 (
	`_
("\
h£cur™y cÚ‹xˆoà—ch FILEØCONTEXT.\n\
 --»ã»nû, chªgth£cur™y cÚ‹xˆoà—ch FILEØth© oàRFILE.\n\
"), 
¡dout
);

362 
	`em™_mªd©Üy_¬g_nÙe
 ();

364 
	`åuts
 (
	`_
("\
--d”eã»nû‡fãùh»ã»Á oà—ch symbŞiølšk (thi is\n\
 deçuÉ),„©h”hªhsymbŞiølšk it£lf\n\
-h, --no-d”eã»nû‡fãù symbŞiølšk š¡—d oàªy„eã»nûd fe\n\
"), 
¡dout
);

369 
	`åuts
 (
	`_
("\
-u, --u£r=USER s‘ u£¸USER iÀthrg‘ secur™y cÚ‹xt\n\
-r, --rŞe=ROLE s‘„ŞROLE iÀthrg‘ secur™y cÚ‹xt\n\
-t, --ty³=TYPE s‘y³ TYPE iÀthrg‘ secur™y cÚ‹xt\n\
-l, --¿nge=RANGE s‘„ªgRANGE iÀthrg‘ secur™y cÚ‹xt\n\
"), 
¡dout
);

375 
	`åuts
 (
	`_
("\
--no-´e£rve-roÙ dØnÙ»© '/' s³cŸÎy (thdeçuÉ)\n\
--´e£rve-roÙ faØİ”©»cursiv–y oÀ'/'\n\
"), 
¡dout
);

379 
	`åuts
 (
	`_
("\
--»ã»nû=RFILE u£ RFILE' £cur™y cÚ‹xˆ¿th”hª s³cifyšg\n\
 CONTEXT v®ue\n\
"), 
¡dout
);

383 
	`åuts
 (
	`_
("\
-R, --»cursiv o³¿‹ oÀfe ªd dœeùÜ› »cursiv–y\n\
"), 
¡dout
);

386 
	`åuts
 (
	`_
("\
-v, --v”bo£ ouuˆ¨dŸgno¡iøfÜƒv”y f´oûs£d\n\
"), 
¡dout
);

389 
	`åuts
 (
	`_
("\
\n\
 fŞlowšg o±iÚ modify how‡ h›¿rchy i Œav”£d wh’h-R\n\
 i ®sØ¥ecif›d. IàmÜthª oÃ i ¥ecif›d, oÆyhfš®\n\
ake efãù.\n\
\n\
-H ià¨commªd†š¬gum’ˆi ¨symbŞiølšk\n\
‡ dœeùÜy,¿v”£ it\n\
-L¿v”£ƒv”y symbŞiølškØ¨dœeùÜy\n\
\n\
-P dØnÙ¿v”£‡ny symbŞiølšk (deçuÉ)\n\
\n\
"), 
¡dout
);

402 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

403 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

404 
	`em™_ªcÏry_šfo
 ();

406 
	`ex™
 (
¡©us
);

407 
	}
}

410 
	$maš
 (
¬gc
, **
¬gv
)

412 
£cur™y_cÚ‹xt_t
 
»f_cÚ‹xt
 = 
NULL
;

415 
b™_æags
 = 
FTS_PHYSICAL
;

419 
d”eã»nû
 = -1;

421 
boŞ
 
ok
;

422 
boŞ
 
´e£rve_roÙ
 = 
çl£
;

423 
boŞ
 
compÚ’t_¥ecif›d
 = 
çl£
;

424 *
»ã»nû_fe
 = 
NULL
;

425 
İtc
;

427 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

428 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

429 
	`£oÿË
 (
LC_ALL
, "");

430 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

431 
	`‹xtdomaš
 (
PACKAGE
);

433 
	`©ex™
 (
şo£_¡dout
);

435 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "HLPRhvu:r:t:l:", 
lÚg_İtiÚs
, 
NULL
))

438 
İtc
)

441 
b™_æags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

445 
b™_æags
 = 
FTS_LOGICAL
;

449 
b™_æags
 = 
FTS_PHYSICAL
;

453 
d”eã»nû
 = 0;

456 
DEREFERENCE_OPTION
:

458 
d”eã»nû
 = 1;

461 
NO_PRESERVE_ROOT
:

462 
´e£rve_roÙ
 = 
çl£
;

465 
PRESERVE_ROOT
:

466 
´e£rve_roÙ
 = 
Œue
;

469 
REFERENCE_FILE_OPTION
:

470 
»ã»nû_fe
 = 
İrg
;

474 
»cur£
 = 
Œue
;

482 
v”bo£
 = 
Œue
;

486 
¥ecif›d_u£r
 = 
İrg
;

487 
compÚ’t_¥ecif›d
 = 
Œue
;

491 
¥ecif›d_rŞe
 = 
İrg
;

492 
compÚ’t_¥ecif›d
 = 
Œue
;

496 
¥ecif›d_ty³
 = 
İrg
;

497 
compÚ’t_¥ecif›d
 = 
Œue
;

501 
¥ecif›d_¿nge
 = 
İrg
;

502 
compÚ’t_¥ecif›d
 = 
Œue
;

505 
ÿ£_GETOPT_HELP_CHAR
;

506 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

508 
	`u§ge
 (
EXIT_FAILURE
);

512 ià(
»cur£
)

514 ià(
b™_æags
 =ğ
FTS_PHYSICAL
)

516 ià(
d”eã»nû
 == 1)

517 
	`”rÜ
 (
EXIT_FAILURE
, 0,

518 
	`_
("-R --dereference„equiresƒither -H or -L"));

519 
afãù_symlšk_»ã»Á
 = 
çl£
;

523 ià(
d”eã»nû
 == 0)

524 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("-R -h„equires -P"));

525 
afãù_symlšk_»ã»Á
 = 
Œue
;

530 
b™_æags
 = 
FTS_PHYSICAL
;

531 
afãù_symlšk_»ã»Á
 = (
d”eã»nû
 != 0);

534 ià(
¬gc
 - 
İtšd
 < (
»ã»nû_fe
 || 
compÚ’t_¥ecif›d
 ? 1 : 2))

536 ià(
¬gc
 <ğ
İtšd
)

537 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

539 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

540 
	`u§ge
 (
EXIT_FAILURE
);

543 ià(
»ã»nû_fe
)

545 ià(
	`g‘fecÚ
 (
»ã»nû_fe
, &
»f_cÚ‹xt
) < 0)

546 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get security context of %s"),

547 
	`quÙe
 (
»ã»nû_fe
));

549 
¥ecif›d_cÚ‹xt
 = 
»f_cÚ‹xt
;

551 ià(
compÚ’t_¥ecif›d
)

554 
¥ecif›d_cÚ‹xt
 = 
NULL
;

558 
cÚ‹xt_t
 
cÚ‹xt
;

559 
¥ecif›d_cÚ‹xt
 = 
¬gv
[
İtšd
++];

560 
cÚ‹xt
 = 
	`cÚ‹xt_Ãw
 (
¥ecif›d_cÚ‹xt
);

561 ià(!
cÚ‹xt
)

562 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid context: %s"),

563 
	`quÙ—rg_cŞÚ
 (
¥ecif›d_cÚ‹xt
));

564 
	`cÚ‹xt_ä“
 (
cÚ‹xt
);

567 ià(
»ã»nû_fe
 && 
compÚ’t_¥ecif›d
)

569 
	`”rÜ
 (0, 0, 
	`_
("conflicting security context specifiers given"));

570 
	`u§ge
 (
EXIT_FAILURE
);

573 ià(
»cur£
 && 
´e£rve_roÙ
)

575 
dev_šo
 
dev_šo_buf
;

576 
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

577 ià(
roÙ_dev_šo
 =ğ
NULL
)

578 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

579 
	`quÙe
 ("/"));

583 
roÙ_dev_šo
 = 
NULL
;

586 
ok
 = 
	`´oûss_fes
 (
¬gv
 + 
İtšd
, 
b™_æags
 | 
FTS_NOSTAT
);

588 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

589 
	}
}

	@chgrp.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g½.h
>

23 
	~<g‘İt.h
>

25 
	~"sy¡em.h
"

26 
	~"chown-cÜe.h
"

27 
	~"”rÜ.h
"

28 
	~"ás_.h
"

29 
	~"quÙe.h
"

30 
	~"roÙ-dev-šo.h
"

31 
	~"x¡¹Ş.h
"

34 
	#PROGRAM_NAME
 "chg½"

	)

36 
	#AUTHORS
 \

37 
	`´İ”_Çme
 ("David MacKenzie"), \

38 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

40 #ià! 
HAVE_ENDGRENT


41 
	#’dg»Á
(è((è0)

	)

46 *
	g»ã»nû_fe
;

52 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

53 
	mNO_PRESERVE_ROOT
,

54 
	mPRESERVE_ROOT
,

55 
	mREFERENCE_FILE_OPTION


58 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

60 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

61 {"chªges", 
no_¬gum’t
, 
NULL
, 'c'},

62 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 
DEREFERENCE_OPTION
},

63 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'h'},

64 {"no-´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
NO_PRESERVE_ROOT
},

65 {"´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
PRESERVE_ROOT
},

66 {"qu›t", 
no_¬gum’t
, 
NULL
, 'f'},

67 {"s’t", 
no_¬gum’t
, 
NULL
, 'f'},

68 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 
REFERENCE_FILE_OPTION
},

69 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

70 {
GETOPT_HELP_OPTION_DECL
},

71 {
GETOPT_VERSION_OPTION_DECL
},

72 {
NULL
, 0, NULL, 0}

77 
gid_t


78 
	$·r£_group
 (cÚ¡ *
Çme
)

80 
gid_t
 
gid
 = -1;

82 ià(*
Çme
)

84 
group
 *
g½
 = 
	`g‘gºam
 (
Çme
);

85 ià(
g½
)

86 
gid
 = 
g½
->
gr_gid
;

89 
tmp
;

90 ià(! (
	`x¡¹oul
 (
Çme
, 
NULL
, 10, &
tmp
, ""è=ğ
LONGINT_OK


91 && 
tmp
 <ğ
GID_T_MAX
))

92 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id group: %s"), 
	`quÙe
 (
Çme
));

93 
gid
 = 
tmp
;

95 
	`’dg»Á
 ();

98  
gid
;

99 
	}
}

102 
	$u§ge
 (
¡©us
)

104 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

105 
	`em™_Œy_h–p
 ();

108 
	`´štf
 (
	`_
("\
: %s [OPTION]... GROUP FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

112 
´og¿m_Çme
,…rogram_name);

113 
	`åuts
 (
	`_
("\
hgrou°oà—ch FILEØGROUP.\n\
 --»ã»nû, chªgthgrou°oà—ch FILEØth© oàRFILE.\n\
\n\
"), 
¡dout
);

118 
	`åuts
 (
	`_
("\
-c, --chªge †ikv”bo£ buˆ»pÜˆÚly wh’‡ chªgi made\n\
-f, --s’t, --qu›ˆ suµ»s mo¡ƒ¼Ü mes§ges\n\
-v, --v”bo£ ouuˆ¨dŸgno¡iøfÜƒv”y f´oûs£d\n\
"), 
¡dout
);

123 
	`åuts
 (
	`_
("\
--d”eã»nû‡fãùh»ã»Á oà—ch symbŞiølšk (thi is\n\
 deçuÉ),„©h”hªhsymbŞiølšk it£lf\n\
-h, --no-d”eã»nû‡fãù symbŞiølšk š¡—d oàªy„eã»nûd fe\n\
"), 
¡dout
);

128 
	`åuts
 (
	`_
("\
(u£fuÈÚly oÀsy¡em th© cª chªgthe\n\
 oà¨symlšk)\n\
"), 
¡dout
);

132 
	`åuts
 (
	`_
("\
--no-´e£rve-roÙ dØnÙ»© '/' s³cŸÎy (thdeçuÉ)\n\
--´e£rve-roÙ faØİ”©»cursiv–y oÀ'/'\n\
"), 
¡dout
);

136 
	`åuts
 (
	`_
("\
--»ã»nû=RFILE u£ RFILE' grou°¿th”hª s³cifyšg‡\n\
 v®ue\n\
"), 
¡dout
);

140 
	`åuts
 (
	`_
("\
-R, --»cursiv o³¿‹ oÀfe ªd dœeùÜ› »cursiv–y\n\
"), 
¡dout
);

143 
	`åuts
 (
	`_
("\
\n\
 fŞlowšg o±iÚ modify how‡ h›¿rchy i Œav”£d wh’h-R\n\
 i ®sØ¥ecif›d. IàmÜthª oÃ i ¥ecif›d, oÆyhfš®\n\
ake efãù.\n\
\n\
-H ià¨commªd†š¬gum’ˆi ¨symbŞiølšk\n\
‡ dœeùÜy,¿v”£ it\n\
-L¿v”£ƒv”y symbŞiølškØ¨dœeùÜy\n\
\n\
-P dØnÙ¿v”£‡ny symbŞiølšk (deçuÉ)\n\
\n\
"), 
¡dout
);

156 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

157 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

158 
	`´štf
 (
	`_
("\
\n\
:\n\
%s staff /u Changehe group of /uo \"staff\".\n\
%s -hR staff /u Changehe group of /u‡nd subfileso \"staff\".\n\
"),

164 
´og¿m_Çme
,…rogram_name);

165 
	`em™_ªcÏry_šfo
 ();

167 
	`ex™
 (
¡©us
);

168 
	}
}

171 
	$maš
 (
¬gc
, **
¬gv
)

173 
boŞ
 
´e£rve_roÙ
 = 
çl£
;

174 
gid_t
 
gid
;

177 
b™_æags
 = 
FTS_PHYSICAL
;

181 
d”eã»nû
 = -1;

183 
Chown_İtiÚ
 
chİt
;

184 
boŞ
 
ok
;

185 
İtc
;

187 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

188 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

189 
	`£oÿË
 (
LC_ALL
, "");

190 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

191 
	`‹xtdomaš
 (
PACKAGE
);

193 
	`©ex™
 (
şo£_¡dout
);

195 
	`chİt_š™
 (&
chİt
);

197 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "HLPRcfhv", 
lÚg_İtiÚs
, 
NULL
))

200 
İtc
)

203 
b™_æags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

207 
b™_æags
 = 
FTS_LOGICAL
;

211 
b™_æags
 = 
FTS_PHYSICAL
;

215 
d”eã»nû
 = 0;

218 
DEREFERENCE_OPTION
:

220 
d”eã»nû
 = 1;

223 
NO_PRESERVE_ROOT
:

224 
´e£rve_roÙ
 = 
çl£
;

227 
PRESERVE_ROOT
:

228 
´e£rve_roÙ
 = 
Œue
;

231 
REFERENCE_FILE_OPTION
:

232 
»ã»nû_fe
 = 
İrg
;

236 
chİt
.
»cur£
 = 
Œue
;

240 
chİt
.
v”bos™y
 = 
V_chªges_Úly
;

244 
chİt
.
fÜû_s’t
 = 
Œue
;

248 
chİt
.
v”bos™y
 = 
V_high
;

251 
ÿ£_GETOPT_HELP_CHAR
;

252 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

254 
	`u§ge
 (
EXIT_FAILURE
);

258 ià(
chİt
.
»cur£
)

260 ià(
b™_æags
 =ğ
FTS_PHYSICAL
)

262 ià(
d”eã»nû
 == 1)

263 
	`”rÜ
 (
EXIT_FAILURE
, 0,

264 
	`_
("-R --dereference„equiresƒither -H or -L"));

265 
d”eã»nû
 = 0;

270 
b™_æags
 = 
FTS_PHYSICAL
;

272 
chİt
.
afãù_symlšk_»ã»Á
 = (
d”eã»nû
 != 0);

274 ià(
¬gc
 - 
İtšd
 < (
»ã»nû_fe
 ? 1 : 2))

276 ià(
¬gc
 <ğ
İtšd
)

277 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

279 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

280 
	`u§ge
 (
EXIT_FAILURE
);

283 ià(
»ã»nû_fe
)

285 
¡©
 
»f_¡©s
;

286 ià(
	`¡©
 (
»ã»nû_fe
, &
»f_¡©s
))

287 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

288 
	`quÙe
 (
»ã»nû_fe
));

290 
gid
 = 
»f_¡©s
.
¡_gid
;

291 
chİt
.
group_Çme
 = 
	`gid_to_Çme
 (
»f_¡©s
.
¡_gid
);

295 *
group_Çme
 = 
¬gv
[
İtšd
++];

296 
chİt
.
group_Çme
 = (*group_Çm? group_Çm: 
NULL
);

297 
gid
 = 
	`·r£_group
 (
group_Çme
);

300 ià(
chİt
.
»cur£
 && 
´e£rve_roÙ
)

302 
dev_šo
 
dev_šo_buf
;

303 
chİt
.
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

304 ià(
chİt
.
roÙ_dev_šo
 =ğ
NULL
)

305 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

306 
	`quÙe
 ("/"));

309 
b™_æags
 |ğ
FTS_DEFER_STAT
;

310 
ok
 = 
	`chown_fes
 (
¬gv
 + 
İtšd
, 
b™_æags
,

311 (
uid_t
è-1, 
gid
,

312 (
uid_t
è-1, (
gid_t
è-1, &
chİt
);

314 
	`chİt_ä“
 (&
chİt
);

316 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

317 
	}
}

	@chmod.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"dev-šo.h
"

26 
	~"”rÜ.h
"

27 
	~"femode.h
"

28 
	~"ignÜe-v®ue.h
"

29 
	~"modechªge.h
"

30 
	~"quÙe.h
"

31 
	~"quÙ—rg.h
"

32 
	~"roÙ-dev-šo.h
"

33 
	~"xás.h
"

36 
	#PROGRAM_NAME
 "chmod"

	)

38 
	#AUTHORS
 \

39 
	`´İ”_Çme
 ("David MacKenzie"), \

40 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

42 
	eChªge_¡©us


44 
	mCH_NOT_APPLIED
,

45 
	mCH_SUCCEEDED
,

46 
	mCH_FAILED
,

47 
	mCH_NO_CHANGE_REQUESTED


50 
	eV”bos™y


53 
	mV_high
,

56 
	mV_chªges_Úly
,

59 
	mV_off


63 
mode_chªge
 *
	gchªge
;

66 
mode_t
 
	gumask_v®ue
;

69 
boŞ
 
	g»cur£
;

72 
boŞ
 
	gfÜû_s’t
;

77 
boŞ
 
	gdŸgno£_su½ri£s
;

80 
V”bos™y
 
	gv”bos™y
 = 
V_off
;

84 
dev_šo
 *
	groÙ_dev_šo
;

90 
	mNO_PRESERVE_ROOT
 = 
CHAR_MAX
 + 1,

91 
	mPRESERVE_ROOT
,

92 
	mREFERENCE_FILE_OPTION


95 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

97 {"chªges", 
no_¬gum’t
, 
NULL
, 'c'},

98 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

99 {"no-´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
NO_PRESERVE_ROOT
},

100 {"´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
PRESERVE_ROOT
},

101 {"qu›t", 
no_¬gum’t
, 
NULL
, 'f'},

102 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 
REFERENCE_FILE_OPTION
},

103 {"s’t", 
no_¬gum’t
, 
NULL
, 'f'},

104 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

105 {
GETOPT_HELP_OPTION_DECL
},

106 {
GETOPT_VERSION_OPTION_DECL
},

107 {
NULL
, 0, NULL, 0}

113 
boŞ


114 
	$mode_chªged
 (cÚ¡ *
fe
, 
mode_t
 
Şd_mode
, mode_ˆ
Ãw_mode
)

116 ià(
Ãw_mode
 & (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
))

121 
¡©
 
Ãw_¡©s
;

123 ià(
	`¡©
 (
fe
, &
Ãw_¡©s
) != 0)

125 ià(! 
fÜû_s’t
)

126 
	`”rÜ
 (0, 
”ºo
, 
	`_
("g‘tšg‚ew‡‰ribu‹ oà%s"), 
	`quÙe
 (
fe
));

127  
çl£
;

130 
Ãw_mode
 = 
Ãw_¡©s
.
¡_mode
;

133  ((
Şd_mode
 ^ 
Ãw_mode
è& 
CHMOD_MODE_BITS
) != 0;

134 
	}
}

140 
	$desüibe_chªge
 (cÚ¡ *
fe
, 
mode_t
 
Şd_mode
, mode_ˆ
mode
,

141 
Chªge_¡©us
 
chªged
)

143 
³rms
[12];

144 
Şd_³rms
[12];

145 cÚ¡ *
fmt
;

147 ià(
chªged
 =ğ
CH_NOT_APPLIED
)

149 
	`´štf
 (
	`_
("neither symbolic†ink %s‚or„eferent has been changed\n"),

150 
	`quÙe
 (
fe
));

154 
	`¡rmode
 (
mode
, 
³rms
);

155 
³rms
[10] = '\0';

157 
	`¡rmode
 (
Şd_mode
, 
Şd_³rms
);

158 
Şd_³rms
[10] = '\0';

160 
chªged
)

162 
CH_SUCCEEDED
:

163 
fmt
 = 
	`_
("mode of %s changed from %04lo (%s)o %04lo (%s)\n");

165 
CH_FAILED
:

166 
fmt
 = 
	`_
("failedo change mode of %s from %04lo (%s)o %04lo (%s)\n");

168 
CH_NO_CHANGE_REQUESTED
:

169 
fmt
 = 
	`_
("mode of %s„etained‡s %04lo (%s)\n");

170 
	`´štf
 (
fmt
, 
	`quÙe
 (
fe
),

171 (è(
mode
 & 
CHMOD_MODE_BITS
), &
³rms
[1]);

174 
	`abÜt
 ();

176 
	`´štf
 (
fmt
, 
	`quÙe
 (
fe
),

177 (è(
Şd_mode
 & 
CHMOD_MODE_BITS
), &
Şd_³rms
[1],

178 (è(
mode
 & 
CHMOD_MODE_BITS
), &
³rms
[1]);

179 
	}
}

185 
boŞ


186 
	$´oûss_fe
 (
FTS
 *
ás
, 
FTSENT
 *
’t
)

188 cÚ¡ *
fe_fuÎ_Çme
 = 
’t
->
ás_·th
;

189 cÚ¡ *
fe
 = 
’t
->
ás_acı©h
;

190 cÚ¡ 
¡©
 *
fe_¡©s
 = 
’t
->
ás_¡©p
;

191 
mode_t
 
Şd_mode
 
	`IF_LINT
 ( = 0);

192 
mode_t
 
Ãw_mode
 
	`IF_LINT
 ( = 0);

193 
boŞ
 
ok
 = 
Œue
;

194 
boŞ
 
chmod_sucûeded
 = 
çl£
;

196 
’t
->
ás_šfo
)

198 
FTS_DP
:

199  
Œue
;

201 
FTS_NS
:

209 ià(
’t
->
ás_Ëv–
 =ğ0 &&ƒÁ->
ás_numb”
 == 0)

211 
’t
->
ás_numb”
 = 1;

212 
	`ás_£t
 (
ás
, 
’t
, 
FTS_AGAIN
);

213  
Œue
;

215 ià(! 
fÜû_s’t
)

216 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("cannot‡ccess %s"),

217 
	`quÙe
 (
fe_fuÎ_Çme
));

218 
ok
 = 
çl£
;

221 
FTS_ERR
:

222 ià(! 
fÜû_s’t
)

223 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, "%s", 
	`quÙe
 (
fe_fuÎ_Çme
));

224 
ok
 = 
çl£
;

227 
FTS_DNR
:

228 ià(! 
fÜû_s’t
)

229 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("cannot„ead directory %s"),

230 
	`quÙe
 (
fe_fuÎ_Çme
));

231 
ok
 = 
çl£
;

234 
FTS_SLNONE
:

235 ià(! 
fÜû_s’t
)

236 
	`”rÜ
 (0, 0, 
	`_
("cannot operate on dangling symlink %s"),

237 
	`quÙe
 (
fe_fuÎ_Çme
));

238 
ok
 = 
çl£
;

241 
FTS_DC
:

242 ià(
	`cyşe_w¬nšg_»quœed
 (
ás
, 
’t
))

244 
	`em™_cyşe_w¬nšg
 (
fe_fuÎ_Çme
);

245  
çl£
;

253 ià(
ok
 && 
	`ROOT_DEV_INO_CHECK
 (
roÙ_dev_šo
, 
fe_¡©s
))

255 
	`ROOT_DEV_INO_WARN
 (
fe_fuÎ_Çme
);

257 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

259 
	`ignÜe_v®ue
 (
	`ás_»ad
 (
ás
));

260  
çl£
;

263 ià(
ok
)

265 
Şd_mode
 = 
fe_¡©s
->
¡_mode
;

266 
Ãw_mode
 = 
	`mode_adju¡
 (
Şd_mode
, 
	`S_ISDIR
 (Şd_modeè!ğ0, 
umask_v®ue
,

267 
chªge
, 
NULL
);

269 ià(! 
	`S_ISLNK
 (
Şd_mode
))

271 ià(
	`chmod©
 (
ás
->
ás_cwd_fd
, 
fe
, 
Ãw_mode
) == 0)

272 
chmod_sucûeded
 = 
Œue
;

275 ià(! 
fÜû_s’t
)

276 
	`”rÜ
 (0, 
”ºo
, 
	`_
("changing…ermissions of %s"),

277 
	`quÙe
 (
fe_fuÎ_Çme
));

278 
ok
 = 
çl£
;

283 ià(
v”bos™y
 !ğ
V_off
)

285 
boŞ
 
chªged
 = (
chmod_sucûeded


286 && 
	`mode_chªged
 (
fe
, 
Şd_mode
, 
Ãw_mode
));

288 ià(
chªged
 || 
v”bos™y
 =ğ
V_high
)

290 
Chªge_¡©us
 
ch_¡©us
 =

291 (!
ok
 ? 
CH_FAILED


292 : !
chmod_sucûeded
 ? 
CH_NOT_APPLIED


293 : !
chªged
 ? 
CH_NO_CHANGE_REQUESTED


294 : 
CH_SUCCEEDED
);

295 
	`desüibe_chªge
 (
fe_fuÎ_Çme
, 
Şd_mode
, 
Ãw_mode
, 
ch_¡©us
);

299 ià(
chmod_sucûeded
 && 
dŸgno£_su½ri£s
)

301 
mode_t
 
Çiv–y_ex³ùed_mode
 =

302 
	`mode_adju¡
 (
Şd_mode
, 
	`S_ISDIR
 (Şd_modeè!ğ0, 0, 
chªge
, 
NULL
);

303 ià(
Ãw_mode
 & ~
Çiv–y_ex³ùed_mode
)

305 
Ãw_³rms
[12];

306 
Çiv–y_ex³ùed_³rms
[12];

307 
	`¡rmode
 (
Ãw_mode
, 
Ãw_³rms
);

308 
	`¡rmode
 (
Çiv–y_ex³ùed_mode
, 
Çiv–y_ex³ùed_³rms
);

309 
Ãw_³rms
[10] = 
Çiv–y_ex³ùed_³rms
[10] = '\0';

310 
	`”rÜ
 (0, 0,

311 
	`_
("%s:‚ew…ermissions‡re %s,‚ot %s"),

312 
	`quÙ—rg_cŞÚ
 (
fe_fuÎ_Çme
),

313 
Ãw_³rms
 + 1, 
Çiv–y_ex³ùed_³rms
 + 1);

314 
ok
 = 
çl£
;

318 iàĞ! 
»cur£
)

319 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

321  
ok
;

322 
	}
}

328 
boŞ


329 
	$´oûss_fes
 (**
fes
, 
b™_æags
)

331 
boŞ
 
ok
 = 
Œue
;

333 
FTS
 *
ás
 = 
	`xás_İ’
 (
fes
, 
b™_æags
, 
NULL
);

337 
FTSENT
 *
’t
;

339 
’t
 = 
	`ás_»ad
 (
ás
);

340 ià(
’t
 =ğ
NULL
)

342 ià(
”ºo
 != 0)

345 ià(! 
fÜû_s’t
)

346 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_read failed"));

347 
ok
 = 
çl£
;

352 
ok
 &ğ
	`´oûss_fe
 (
ás
, 
’t
);

355 ià(
	`ás_şo£
 (
ás
) != 0)

357 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_close failed"));

358 
ok
 = 
çl£
;

361  
ok
;

362 
	}
}

365 
	$u§ge
 (
¡©us
)

367 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

368 
	`em™_Œy_h–p
 ();

371 
	`´štf
 (
	`_
("\
: %s [OPTION]... MODE[,MODE]... FILE...\n\
: %s [OPTION]... OCTAL-MODE FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

376 
´og¿m_Çme
,…rogram_name,…rogram_name);

377 
	`åuts
 (
	`_
("\
hmodoà—ch FILEØMODE.\n\
 --»ã»nû, chªgthmodoà—ch FILEØth© oàRFILE.\n\
\n\
"), 
¡dout
);

382 
	`åuts
 (
	`_
("\
-c, --chªge †ikv”bo£ buˆ»pÜˆÚly wh’‡ chªgi made\n\
-f, --s’t, --qu›ˆ suµ»s mo¡ƒ¼Ü mes§ges\n\
-v, --v”bo£ ouuˆ¨dŸgno¡iøfÜƒv”y f´oûs£d\n\
"), 
¡dout
);

387 
	`åuts
 (
	`_
("\
--no-´e£rve-roÙ dØnÙ»© '/' s³cŸÎy (thdeçuÉ)\n\
--´e£rve-roÙ faØİ”©»cursiv–y oÀ'/'\n\
"), 
¡dout
);

391 
	`åuts
 (
	`_
("\
--»ã»nû=RFILE u£ RFILE' modš¡—d oàMODE v®ues\n\
"), 
¡dout
);

394 
	`åuts
 (
	`_
("\
-R, --»cursiv chªgfe ªd dœeùÜ› »cursiv–y\n\
"), 
¡dout
);

397 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

398 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

399 
	`åuts
 (
	`_
("\
\n\
 MODE i oàthfÜm '[ugß]*([-+=]([rwxX¡]*|[ugo]))+|[-+=][0-7]+'.\n\
"), 
¡dout
);

403 
	`em™_ªcÏry_šfo
 ();

405 
	`ex™
 (
¡©us
);

406 
	}
}

412 
	$maš
 (
¬gc
, **
¬gv
)

414 *
mode
 = 
NULL
;

415 
size_t
 
mode_Ën
 = 0;

416 
size_t
 
mode_®loc
 = 0;

417 
boŞ
 
ok
;

418 
boŞ
 
´e£rve_roÙ
 = 
çl£
;

419 cÚ¡ *
»ã»nû_fe
 = 
NULL
;

420 
c
;

422 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

423 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

424 
	`£oÿË
 (
LC_ALL
, "");

425 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

426 
	`‹xtdomaš
 (
PACKAGE
);

428 
	`©ex™
 (
şo£_¡dout
);

430 
»cur£
 = 
fÜû_s’t
 = 
dŸgno£_su½ri£s
 = 
çl£
;

432 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
,

435 
lÚg_İtiÚs
, 
NULL
))

438 
c
)

465 cÚ¡ *
¬g
 = 
¬gv
[
İtšd
 - 1];

466 
size_t
 
¬g_Ën
 = 
	`¡¾’
 (
¬g
);

467 
size_t
 
mode_comma_Ën
 = 
mode_Ën
 + !!mode_len;

468 
size_t
 
Ãw_mode_Ën
 = 
mode_comma_Ën
 + 
¬g_Ën
;

469 ià(
mode_®loc
 <ğ
Ãw_mode_Ën
)

471 
mode_®loc
 = 
Ãw_mode_Ën
 + 1;

472 
mode
 = 
	`X2REALLOC
 (mode, &
mode_®loc
);

474 
mode
[
mode_Ën
] = ',';

475 
	`memıy
 (
mode
 + 
mode_comma_Ën
, 
¬g
, 
¬g_Ën
 + 1);

476 
mode_Ën
 = 
Ãw_mode_Ën
;

478 
dŸgno£_su½ri£s
 = 
Œue
;

481 
NO_PRESERVE_ROOT
:

482 
´e£rve_roÙ
 = 
çl£
;

484 
PRESERVE_ROOT
:

485 
´e£rve_roÙ
 = 
Œue
;

487 
REFERENCE_FILE_OPTION
:

488 
»ã»nû_fe
 = 
İrg
;

491 
»cur£
 = 
Œue
;

494 
v”bos™y
 = 
V_chªges_Úly
;

497 
fÜû_s’t
 = 
Œue
;

500 
v”bos™y
 = 
V_high
;

502 
ÿ£_GETOPT_HELP_CHAR
;

503 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

505 
	`u§ge
 (
EXIT_FAILURE
);

509 ià(
»ã»nû_fe
)

511 ià(
mode
)

513 
	`”rÜ
 (0, 0, 
	`_
("cannot combine mode‡nd --reference options"));

514 
	`u§ge
 (
EXIT_FAILURE
);

519 ià(!
mode
)

520 
mode
 = 
¬gv
[
İtšd
++];

523 ià(
İtšd
 >ğ
¬gc
)

525 ià(!
mode
 || mod!ğ
¬gv
[
İtšd
 - 1])

526 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

528 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

529 
	`u§ge
 (
EXIT_FAILURE
);

532 ià(
»ã»nû_fe
)

534 
chªge
 = 
	`mode_ü—‹_äom_»f
 (
»ã»nû_fe
);

535 ià(!
chªge
)

536 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

537 
	`quÙe
 (
»ã»nû_fe
));

541 
chªge
 = 
	`mode_compe
 (
mode
);

542 ià(!
chªge
)

544 
	`”rÜ
 (0, 0, 
	`_
("šv®id mode: %s"), 
	`quÙe
 (
mode
));

545 
	`u§ge
 (
EXIT_FAILURE
);

547 
umask_v®ue
 = 
	`umask
 (0);

550 ià(
»cur£
 && 
´e£rve_roÙ
)

552 
dev_šo
 
dev_šo_buf
;

553 
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

554 ià(
roÙ_dev_šo
 =ğ
NULL
)

555 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

556 
	`quÙe
 ("/"));

560 
roÙ_dev_šo
 = 
NULL
;

563 
ok
 = 
	`´oûss_fes
 (
¬gv
 + 
İtšd
,

564 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
 | 
FTS_DEFER_STAT
);

566 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

567 
	}
}

	@chown-core.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<pwd.h
>

23 
	~<g½.h
>

25 
	~"sy¡em.h
"

26 
	~"chown-cÜe.h
"

27 
	~"”rÜ.h
"

28 
	~"ignÜe-v®ue.h
"

29 
	~"quÙe.h
"

30 
	~"roÙ-dev-šo.h
"

31 
	~"xás.h
"

33 
	#FTSENT_IS_DIRECTORY
(
E
) \

34 ((
E
)->
ás_šfo
 =ğ
FTS_D
 \

35 || (
E
)->
ás_šfo
 =ğ
FTS_DC
 \

36 || (
E
)->
ás_šfo
 =ğ
FTS_DP
 \

37 || (
E
)->
ás_šfo
 =ğ
FTS_DNR
)

	)

39 
	eRCH_¡©us


42 
	mRC_ok
 = 2,

45 
	mRC_exşuded
,

48 
	mRC_šode_chªged
,

52 
	mRC_do_Üdš¬y_chown
,

55 
	mRC_”rÜ


59 
	$chİt_š™
 (
Chown_İtiÚ
 *
chİt
)

61 
chİt
->
v”bos™y
 = 
V_off
;

62 
chİt
->
roÙ_dev_šo
 = 
NULL
;

63 
chİt
->
afãù_symlšk_»ã»Á
 = 
Œue
;

64 
chİt
->
»cur£
 = 
çl£
;

65 
chİt
->
fÜû_s’t
 = 
çl£
;

66 
chİt
->
u£r_Çme
 = 
NULL
;

67 
chİt
->
group_Çme
 = 
NULL
;

68 
	}
}

71 
	$chİt_ä“
 (
Chown_İtiÚ
 *
chİt
 
ATTRIBUTE_UNUSED
)

75 
	}
}

82 
	$gid_to_Çme
 (
gid_t
 
gid
)

84 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

85 
group
 *
g½
 = 
	`g‘grgid
 (
gid
);

86  
	`x¡rdup
 (
g½
 ? g½->
gr_Çme


87 : 
	`TYPE_SIGNED
 (
gid_t
è? 
	`imaxto¡r
 (
gid
, 
buf
)

88 : 
	`umaxto¡r
 (
gid
, 
buf
));

89 
	}
}

96 
	$uid_to_Çme
 (
uid_t
 
uid
)

98 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

99 
·sswd
 *
pwd
 = 
	`g‘pwuid
 (
uid
);

100  
	`x¡rdup
 (
pwd
 ?…wd->
pw_Çme


101 : 
	`TYPE_SIGNED
 (
uid_t
è? 
	`imaxto¡r
 (
uid
, 
buf
)

102 : 
	`umaxto¡r
 (
uid
, 
buf
));

103 
	}
}

108 
	$u£r_group_¡r
 (cÚ¡ *
u£r
, cÚ¡ *
group
)

110 *
¥ec
 = 
NULL
;

112 ià(
u£r
)

114 ià(
group
)

116 
¥ec
 = 
	`xm®loc
 (
	`¡¾’
 (
u£r
è+ 1 + sŒËÀ(
group
) + 1);

117 
	`¡pıy
 (¡pıy (¡pıy (
¥ec
, 
u£r
), ":"), 
group
);

121 
¥ec
 = 
	`x¡rdup
 (
u£r
);

124 ià(
group
)

126 
¥ec
 = 
	`x¡rdup
 (
group
);

129  
¥ec
;

130 
	}
}

137 
	$desüibe_chªge
 (cÚ¡ *
fe
, 
Chªge_¡©us
 
chªged
,

138 cÚ¡ *
Şd_u£r
, cÚ¡ *
Şd_group
,

139 cÚ¡ *
u£r
, cÚ¡ *
group
)

141 cÚ¡ *
fmt
;

142 *
Şd_¥ec
;

143 *
¥ec
;

145 ià(
chªged
 =ğ
CH_NOT_APPLIED
)

147 
	`´štf
 (
	`_
("neither symbolic†ink %s‚or„eferent has been changed\n"),

148 
	`quÙe
 (
fe
));

152 
¥ec
 = 
	`u£r_group_¡r
 (
u£r
, 
group
);

153 
Şd_¥ec
 = 
	`u£r_group_¡r
 (
u£r
 ? 
Şd_u£r
 : 
NULL
, 
group
 ? 
Şd_group
 : NULL);

155 
chªged
)

157 
CH_SUCCEEDED
:

158 
fmt
 = (
u£r
 ? 
	`_
("changed ownership of %s from %so %s\n")

159 : 
group
 ? 
	`_
("changed group of %s from %so %s\n")

160 : 
	`_
("no changeo ownership of %s\n"));

162 
CH_FAILED
:

163 ià(
Şd_¥ec
)

165 
fmt
 = (
u£r
 ? 
	`_
("failedo change ownership of %s from %so %s\n")

166 : 
group
 ? 
	`_
("failedo change group of %s from %so %s\n")

167 : 
	`_
("failedo change ownership of %s\n"));

171 
fmt
 = (
u£r
 ? 
	`_
("failedo change ownership of %so %s\n")

172 : 
group
 ? 
	`_
("failedo change group of %so %s\n")

173 : 
	`_
("failedo change ownership of %s\n"));

174 
	`ä“
 (
Şd_¥ec
);

175 
Şd_¥ec
 = 
¥ec
;

176 
¥ec
 = 
NULL
;

179 
CH_NO_CHANGE_REQUESTED
:

180 
fmt
 = (
u£r
 ? 
	`_
("ownership of %s„etained‡s %s\n")

181 : 
group
 ? 
	`_
("group of %s„etained‡s %s\n")

182 : 
	`_
("ownership of %s„etained\n"));

185 
	`abÜt
 ();

188 
	`´štf
 (
fmt
, 
	`quÙe
 (
fe
), 
Şd_¥ec
, 
¥ec
);

190 
	`ä“
 (
Şd_¥ec
);

191 
	`ä“
 (
¥ec
);

192 
	}
}

212 
RCH_¡©us


213 
	$»¡riùed_chown
 (
cwd_fd
, cÚ¡ *
fe
,

214 
¡©
 cÚ¡ *
Üig_¡
,

215 
uid_t
 
uid
, 
gid_t
 
gid
,

216 
uid_t
 
»quœed_uid
, 
gid_t
 
»quœed_gid
)

218 
RCH_¡©us
 
¡©us
 = 
RC_ok
;

219 
¡©
 
¡
;

220 
İ’_æags
 = 
O_NONBLOCK
 | 
O_NOCTTY
;

221 
fd
;

223 ià(
»quœed_uid
 =ğ(
uid_t
è-1 && 
»quœed_gid
 =ğ(
gid_t
) -1)

224  
RC_do_Üdš¬y_chown
;

226 ià(! 
	`S_ISREG
 (
Üig_¡
->
¡_mode
))

228 ià(
	`S_ISDIR
 (
Üig_¡
->
¡_mode
))

229 
İ’_æags
 |ğ
O_DIRECTORY
;

231  
RC_do_Üdš¬y_chown
;

234 
fd
 = 
	`İ’©
 (
cwd_fd
, 
fe
, 
O_RDONLY
 | 
İ’_æags
);

235 ià(! (0 <ğ
fd


236 || (
”ºo
 =ğ
EACCES
 && 
	`S_ISREG
 (
Üig_¡
->
¡_mode
)

237 && 0 <ğ(
fd
 = 
	`İ’©
 (
cwd_fd
, 
fe
, 
O_WRONLY
 | 
İ’_æags
)))))

238  (
”ºo
 =ğ
EACCES
 ? 
RC_do_Üdš¬y_chown
 : 
RC_”rÜ
);

240 ià(
	`f¡©
 (
fd
, &
¡
) != 0)

241 
¡©us
 = 
RC_”rÜ
;

242 ià(! 
	`SAME_INODE
 (*
Üig_¡
, 
¡
))

243 
¡©us
 = 
RC_šode_chªged
;

244 ià((
»quœed_uid
 =ğ(
uid_t
è-1 ||„equœed_uid =ğ
¡
.
¡_uid
)

245 && (
»quœed_gid
 =ğ(
gid_t
è-1 ||„equœed_gid =ğ
¡
.
¡_gid
))

247 ià(
	`fchown
 (
fd
, 
uid
, 
gid
) == 0)

249 
¡©us
 = (
	`şo£
 (
fd
) == 0

250 ? 
RC_ok
 : 
RC_”rÜ
);

251  
¡©us
;

255 
¡©us
 = 
RC_”rÜ
;

259 
§ved_”ºo
 = 
”ºo
;

260 
	`şo£
 (
fd
);

261 
”ºo
 = 
§ved_”ºo
;

262  
¡©us
;

263 
	}
}

271 
boŞ


272 
	$chªge_fe_owÃr
 (
FTS
 *
ás
, 
FTSENT
 *
’t
,

273 
uid_t
 
uid
, 
gid_t
 
gid
,

274 
uid_t
 
»quœed_uid
, 
gid_t
 
»quœed_gid
,

275 
Chown_İtiÚ
 cÚ¡ *
chİt
)

277 cÚ¡ *
fe_fuÎ_Çme
 = 
’t
->
ás_·th
;

278 cÚ¡ *
fe
 = 
’t
->
ás_acı©h
;

279 
¡©
 cÚ¡ *
fe_¡©s
;

280 
¡©
 
¡©_buf
;

281 
boŞ
 
ok
 = 
Œue
;

282 
boŞ
 
do_chown
;

283 
boŞ
 
symlšk_chªged
 = 
Œue
;

285 
’t
->
ás_šfo
)

287 
FTS_D
:

288 ià(
chİt
->
»cur£
)

290 ià(
	`ROOT_DEV_INO_CHECK
 (
chİt
->
roÙ_dev_šo
, 
’t
->
ás_¡©p
))

294 
	`ROOT_DEV_INO_WARN
 (
fe_fuÎ_Çme
);

296 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

298 
	`ignÜe_v®ue
 (
	`ás_»ad
 (
ás
));

299  
çl£
;

301  
Œue
;

305 
FTS_DP
:

306 ià(! 
chİt
->
»cur£
)

307  
Œue
;

310 
FTS_NS
:

318 ià(
’t
->
ás_Ëv–
 =ğ0 &&ƒÁ->
ás_numb”
 == 0)

320 
’t
->
ás_numb”
 = 1;

321 
	`ás_£t
 (
ás
, 
’t
, 
FTS_AGAIN
);

322  
Œue
;

324 ià(! 
chİt
->
fÜû_s’t
)

325 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("cannot‡ccess %s"),

326 
	`quÙe
 (
fe_fuÎ_Çme
));

327 
ok
 = 
çl£
;

330 
FTS_ERR
:

331 ià(! 
chİt
->
fÜû_s’t
)

332 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, "%s", 
	`quÙe
 (
fe_fuÎ_Çme
));

333 
ok
 = 
çl£
;

336 
FTS_DNR
:

337 ià(! 
chİt
->
fÜû_s’t
)

338 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("cannot„ead directory %s"),

339 
	`quÙe
 (
fe_fuÎ_Çme
));

340 
ok
 = 
çl£
;

343 
FTS_DC
:

344 ià(
	`cyşe_w¬nšg_»quœed
 (
ás
, 
’t
))

346 
	`em™_cyşe_w¬nšg
 (
fe_fuÎ_Çme
);

347  
çl£
;

355 ià(!
ok
)

357 
do_chown
 = 
çl£
;

358 
fe_¡©s
 = 
NULL
;

360 ià(
»quœed_uid
 =ğ(
uid_t
è-1 && 
»quœed_gid
 =ğ(
gid_t
) -1

361 && 
chİt
->
v”bos™y
 =ğ
V_off


362 && ! 
chİt
->
roÙ_dev_šo


363 && ! 
chİt
->
afãù_symlšk_»ã»Á
)

365 
do_chown
 = 
Œue
;

366 
fe_¡©s
 = 
’t
->
ás_¡©p
;

370 
fe_¡©s
 = 
’t
->
ás_¡©p
;

374 ià(
chİt
->
afãù_symlšk_»ã»Á
 && 
	`S_ISLNK
 (
fe_¡©s
->
¡_mode
))

376 ià(
	`f¡©©
 (
ás
->
ás_cwd_fd
, 
fe
, &
¡©_buf
, 0) != 0)

378 ià(! 
chİt
->
fÜû_s’t
)

379 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot dereference %s"),

380 
	`quÙe
 (
fe_fuÎ_Çme
));

381 
ok
 = 
çl£
;

384 
fe_¡©s
 = &
¡©_buf
;

387 
do_chown
 = (
ok


388 && (
»quœed_uid
 =ğ(
uid_t
) -1

389 || 
»quœed_uid
 =ğ
fe_¡©s
->
¡_uid
)

390 && (
»quœed_gid
 =ğ(
gid_t
) -1

391 || 
»quœed_gid
 =ğ
fe_¡©s
->
¡_gid
));

395 ià(
ok


396 && 
	`FTSENT_IS_DIRECTORY
 (
’t
)

397 && 
	`ROOT_DEV_INO_CHECK
 (
chİt
->
roÙ_dev_šo
, 
fe_¡©s
))

399 
	`ROOT_DEV_INO_WARN
 (
fe_fuÎ_Çme
);

400  
çl£
;

403 ià(
do_chown
)

405 iàĞ! 
chİt
->
afãù_symlšk_»ã»Á
)

407 
ok
 = (
	`lchowÇt
 (
ás
->
ás_cwd_fd
, 
fe
, 
uid
, 
gid
) == 0);

412 ià(!
ok
 && 
”ºo
 =ğ
EOPNOTSUPP
)

414 
ok
 = 
Œue
;

415 
symlšk_chªged
 = 
çl£
;

430 
RCH_¡©us
 
”r


431 ğ
	`»¡riùed_chown
 (
ás
->
ás_cwd_fd
, 
fe
, 
fe_¡©s
, 
uid
, 
gid
,

432 
»quœed_uid
, 
»quœed_gid
);

433 
”r
)

435 
RC_ok
:

438 
RC_do_Üdš¬y_chown
:

439 
ok
 = (
	`chowÇt
 (
ás
->
ás_cwd_fd
, 
fe
, 
uid
, 
gid
) == 0);

442 
RC_”rÜ
:

443 
ok
 = 
çl£
;

446 
RC_šode_chªged
:

448 
RC_exşuded
:

449 
do_chown
 = 
çl£
;

450 
ok
 = 
çl£
;

454 
	`abÜt
 ();

465 ià(
do_chown
 && !
ok
 && ! 
chİt
->
fÜû_s’t
)

466 
	`”rÜ
 (0, 
”ºo
, (
uid
 !ğ(
uid_t
) -1

467 ? 
	`_
("changing ownership of %s")

468 : 
	`_
("changing group of %s")),

469 
	`quÙe
 (
fe_fuÎ_Çme
));

472 ià(
chİt
->
v”bos™y
 !ğ
V_off
)

474 
boŞ
 
chªged
 =

475 ((
do_chown
 && 
ok
 && 
symlšk_chªged
)

476 && ! ((
uid
 =ğ(
uid_t
è-1 || uid =ğ
fe_¡©s
->
¡_uid
)

477 && (
gid
 =ğ(
gid_t
è-1 || gid =ğ
fe_¡©s
->
¡_gid
)));

479 ià(
chªged
 || 
chİt
->
v”bos™y
 =ğ
V_high
)

481 
Chªge_¡©us
 
ch_¡©us
 =

482 (!
ok
 ? 
CH_FAILED


483 : !
symlšk_chªged
 ? 
CH_NOT_APPLIED


484 : !
chªged
 ? 
CH_NO_CHANGE_REQUESTED


485 : 
CH_SUCCEEDED
);

486 *
Şd_u¤
 = 
fe_¡©s
 ? 
	`uid_to_Çme
 (fe_¡©s->
¡_uid
è: 
NULL
;

487 *
Şd_g½
 = 
fe_¡©s
 ? 
	`gid_to_Çme
 (fe_¡©s->
¡_gid
è: 
NULL
;

488 
	`desüibe_chªge
 (
fe_fuÎ_Çme
, 
ch_¡©us
,

489 
Şd_u¤
, 
Şd_g½
,

490 
chİt
->
u£r_Çme
, chİt->
group_Çme
);

491 
	`ä“
 (
Şd_u¤
);

492 
	`ä“
 (
Şd_g½
);

496 iàĞ! 
chİt
->
»cur£
)

497 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

499  
ok
;

500 
	}
}

511 
boŞ


512 
	$chown_fes
 (**
fes
, 
b™_æags
,

513 
uid_t
 
uid
, 
gid_t
 
gid
,

514 
uid_t
 
»quœed_uid
, 
gid_t
 
»quœed_gid
,

515 
Chown_İtiÚ
 cÚ¡ *
chİt
)

517 
boŞ
 
ok
 = 
Œue
;

520 
¡©_æags
 = ((
»quœed_uid
 !ğ(
uid_t
è-1 || 
»quœed_gid
 !ğ(
gid_t
) -1

521 || 
chİt
->
afãù_symlšk_»ã»Á


522 || 
chİt
->
v”bos™y
 !ğ
V_off
)

524 : 
FTS_NOSTAT
);

526 
FTS
 *
ás
 = 
	`xás_İ’
 (
fes
, 
b™_æags
 | 
¡©_æags
, 
NULL
);

530 
FTSENT
 *
’t
;

532 
’t
 = 
	`ás_»ad
 (
ás
);

533 ià(
’t
 =ğ
NULL
)

535 ià(
”ºo
 != 0)

538 ià(! 
chİt
->
fÜû_s’t
)

539 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_read failed"));

540 
ok
 = 
çl£
;

545 
ok
 &ğ
	`chªge_fe_owÃr
 (
ás
, 
’t
, 
uid
, 
gid
,

546 
»quœed_uid
, 
»quœed_gid
, 
chİt
);

549 ià(
	`ás_şo£
 (
ás
) != 0)

551 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_close failed"));

552 
ok
 = 
çl£
;

555  
ok
;

556 
	}
}

	@chown-core.h

18 #iâdeà
CHOWN_CORE_H


19 
	#CHOWN_CORE_H


	)

21 
	~"dev-šo.h
"

23 
	eChªge_¡©us


25 
	mCH_NOT_APPLIED
 = 1,

26 
	mCH_SUCCEEDED
,

27 
	mCH_FAILED
,

28 
	mCH_NO_CHANGE_REQUESTED


31 
	eV”bos™y


34 
	mV_high
,

37 
	mV_chªges_Úly
,

40 
	mV_off


43 
	sChown_İtiÚ


46 
V”bos™y
 
	mv”bos™y
;

49 
boŞ
 
	m»cur£
;

53 
dev_šo
 *
	mroÙ_dev_šo
;

56 
boŞ
 
	mafãù_symlšk_»ã»Á
;

59 
boŞ
 
	mfÜû_s’t
;

62 *
	mu£r_Çme
;

65 *
	mgroup_Çme
;

69 
chİt_š™
 (
Chown_İtiÚ
 *);

71 
_GL_ATTRIBUTE_PURE
 
_GL_ATTRIBUTE_CONST


72 
chİt_ä“
 (
Chown_İtiÚ
 *);

75 
gid_to_Çme
 (
gid_t
);

77 * 
_GL_ATTRIBUTE_PURE


78 
uid_to_Çme
 (
uid_t
);

80 
boŞ


81 
chown_fes
 (**
fes
, 
b™_æags
,

82 
uid_t
 
uid
, 
gid_t
 
gid
,

83 
uid_t
 
»quœed_uid
, 
gid_t
 
»quœed_gid
,

84 
Chown_İtiÚ
 cÚ¡ *
chİt
);

	@chown.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

24 
	~"sy¡em.h
"

25 
	~"chown-cÜe.h
"

26 
	~"”rÜ.h
"

27 
	~"ás_.h
"

28 
	~"quÙe.h
"

29 
	~"roÙ-dev-šo.h
"

30 
	~"u£r¥ec.h
"

33 
	#PROGRAM_NAME
 "chown"

	)

35 
	#AUTHORS
 \

36 
	`´İ”_Çme
 ("David MacKenzie"), \

37 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

41 *
	g»ã»nû_fe
;

47 
	mDEREFERENCE_OPTION
 = 
CHAR_MAX
 + 1,

48 
	mFROM_OPTION
,

49 
	mNO_PRESERVE_ROOT
,

50 
	mPRESERVE_ROOT
,

51 
	mREFERENCE_FILE_OPTION


54 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

56 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

57 {"chªges", 
no_¬gum’t
, 
NULL
, 'c'},

58 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 
DEREFERENCE_OPTION
},

59 {"äom", 
»quœed_¬gum’t
, 
NULL
, 
FROM_OPTION
},

60 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'h'},

61 {"no-´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
NO_PRESERVE_ROOT
},

62 {"´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
PRESERVE_ROOT
},

63 {"qu›t", 
no_¬gum’t
, 
NULL
, 'f'},

64 {"s’t", 
no_¬gum’t
, 
NULL
, 'f'},

65 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 
REFERENCE_FILE_OPTION
},

66 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

73 
	$u§ge
 (
¡©us
)

75 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

76 
	`em™_Œy_h–p
 ();

79 
	`´štf
 (
	`_
("\
: %s [OPTION]... [OWNER][:[GROUP]] FILE...\n\
: %s [OPTION]... --reference=RFILE FILE...\n\
"),

83 
´og¿m_Çme
,…rogram_name);

84 
	`åuts
 (
	`_
("\
howÃ¸ªd/Ü grou°oà—ch FILEØOWNER‡nd/Ü GROUP.\n\
 --»ã»nû, chªgthowÃ¸ªd grou°oà—ch FILEØtho£ oàRFILE.\n\
\n\
"), 
¡dout
);

89 
	`åuts
 (
	`_
("\
-c, --chªge †ikv”bo£ buˆ»pÜˆÚly wh’‡ chªgi made\n\
-f, --s’t, --qu›ˆ suµ»s mo¡ƒ¼Ü mes§ges\n\
-v, --v”bo£ ouuˆ¨dŸgno¡iøfÜƒv”y f´oûs£d\n\
"), 
¡dout
);

94 
	`åuts
 (
	`_
("\
--d”eã»nû‡fãùh»ã»Á oà—ch symbŞiølšk (thi is\n\
 deçuÉ),„©h”hªhsymbŞiølšk it£lf\n\
-h, --no-d”eã»nû‡fãù symbŞiølšk š¡—d oàªy„eã»nûd fe\n\
"), 
¡dout
);

99 
	`åuts
 (
	`_
("\
(u£fuÈÚly oÀsy¡em th© cª chªgthe\n\
 oà¨symlšk)\n\
"), 
¡dout
);

103 
	`åuts
 (
	`_
("\
--äom=CURRENT_OWNER:CURRENT_GROUP\n\
howÃ¸ªd/Ü grou°oà—ch fÚly if\n\
 cu¼’ˆowÃ¸ªd/Ü grou°m©chho£ s³cif›d\n\
. E™h” may bom™‹d, iÀwhich ca£‡ m©ch\n\
‚Ù„equœed fÜhom™‹d‡‰ribu‹\n\
"), 
¡dout
);

110 
	`åuts
 (
	`_
("\
--no-´e£rve-roÙ dØnÙ»© '/' s³cŸÎy (thdeçuÉ)\n\
--´e£rve-roÙ faØİ”©»cursiv–y oÀ'/'\n\
"), 
¡dout
);

114 
	`åuts
 (
	`_
("\
--»ã»nû=RFILE u£ RFILE' owÃ¸ªd grou°¿th”hª\n\
 OWNER:GROUP v®ues\n\
"), 
¡dout
);

118 
	`åuts
 (
	`_
("\
-R, --»cursiv o³¿‹ oÀfe ªd dœeùÜ› »cursiv–y\n\
"), 
¡dout
);

121 
	`åuts
 (
	`_
("\
\n\
 fŞlowšg o±iÚ modify how‡ h›¿rchy i Œav”£d wh’h-R\n\
 i ®sØ¥ecif›d. IàmÜthª oÃ i ¥ecif›d, oÆyhfš®\n\
ake efãù.\n\
\n\
-H ià¨commªd†š¬gum’ˆi ¨symbŞiølšk\n\
‡ dœeùÜy,¿v”£ it\n\
-L¿v”£ƒv”y symbŞiølškØ¨dœeùÜy\n\
\n\
-P dØnÙ¿v”£‡ny symbŞiølšk (deçuÉ)\n\
\n\
"), 
¡dout
);

134 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

135 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

136 
	`åuts
 (
	`_
("\
\n\
 i unchªged iàmissšg. Grou°i unchªged iàmissšg, buˆchªged\n\
†ogš grou°iàim¶›d by‡ ':' fŞlowšg‡ symbŞiøOWNER.\n\
‡nd GROUP may bnum”iøa w–Èa symbŞic.\n\
"), 
¡dout
);

142 
	`´štf
 (
	`_
("\
\n\
:\n\
%s„oot /u Changehe owner of /uo \"root\".\n\
%s„oot:staff /u Likewise, but‡lso change its groupo \"staff\".\n\
%s -hR„oot /u Changehe owner of /u‡nd subfileso \"root\".\n\
"),

149 
´og¿m_Çme
,…rogram_name,…rogram_name);

150 
	`em™_ªcÏry_šfo
 ();

152 
	`ex™
 (
¡©us
);

153 
	}
}

156 
	$maš
 (
¬gc
, **
¬gv
)

158 
boŞ
 
´e£rve_roÙ
 = 
çl£
;

160 
uid_t
 
uid
 = -1;

161 
gid_t
 
gid
 = -1;

165 
uid_t
 
»quœed_uid
 = -1;

166 
gid_t
 
»quœed_gid
 = -1;

169 
b™_æags
 = 
FTS_PHYSICAL
;

173 
d”eã»nû
 = -1;

175 
Chown_İtiÚ
 
chİt
;

176 
boŞ
 
ok
;

177 
İtc
;

179 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

180 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

181 
	`£oÿË
 (
LC_ALL
, "");

182 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

183 
	`‹xtdomaš
 (
PACKAGE
);

185 
	`©ex™
 (
şo£_¡dout
);

187 
	`chİt_š™
 (&
chİt
);

189 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "HLPRcfhv", 
lÚg_İtiÚs
, 
NULL
))

192 
İtc
)

195 
b™_æags
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

199 
b™_æags
 = 
FTS_LOGICAL
;

203 
b™_æags
 = 
FTS_PHYSICAL
;

207 
d”eã»nû
 = 0;

210 
DEREFERENCE_OPTION
:

212 
d”eã»nû
 = 1;

215 
NO_PRESERVE_ROOT
:

216 
´e£rve_roÙ
 = 
çl£
;

219 
PRESERVE_ROOT
:

220 
´e£rve_roÙ
 = 
Œue
;

223 
REFERENCE_FILE_OPTION
:

224 
»ã»nû_fe
 = 
İrg
;

227 
FROM_OPTION
:

229 *
u_dummy
, *
g_dummy
;

230 cÚ¡ *
e
 = 
	`·r£_u£r_¥ec
 (
İrg
,

231 &
»quœed_uid
, &
»quœed_gid
,

232 &
u_dummy
, &
g_dummy
);

233 ià(
e
)

234 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s: %s", 
e
, 
	`quÙe
 (
İrg
));

239 
chİt
.
»cur£
 = 
Œue
;

243 
chİt
.
v”bos™y
 = 
V_chªges_Úly
;

247 
chİt
.
fÜû_s’t
 = 
Œue
;

251 
chİt
.
v”bos™y
 = 
V_high
;

254 
ÿ£_GETOPT_HELP_CHAR
;

255 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

257 
	`u§ge
 (
EXIT_FAILURE
);

261 ià(
chİt
.
»cur£
)

263 ià(
b™_æags
 =ğ
FTS_PHYSICAL
)

265 ià(
d”eã»nû
 == 1)

266 
	`”rÜ
 (
EXIT_FAILURE
, 0,

267 
	`_
("-R --dereference„equiresƒither -H or -L"));

268 
d”eã»nû
 = 0;

273 
b™_æags
 = 
FTS_PHYSICAL
;

275 
chİt
.
afãù_symlšk_»ã»Á
 = (
d”eã»nû
 != 0);

277 ià(
¬gc
 - 
İtšd
 < (
»ã»nû_fe
 ? 1 : 2))

279 ià(
¬gc
 <ğ
İtšd
)

280 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

282 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

283 
	`u§ge
 (
EXIT_FAILURE
);

286 ià(
»ã»nû_fe
)

288 
¡©
 
»f_¡©s
;

289 ià(
	`¡©
 (
»ã»nû_fe
, &
»f_¡©s
))

290 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

291 
	`quÙe
 (
»ã»nû_fe
));

293 
uid
 = 
»f_¡©s
.
¡_uid
;

294 
gid
 = 
»f_¡©s
.
¡_gid
;

295 
chİt
.
u£r_Çme
 = 
	`uid_to_Çme
 (
»f_¡©s
.
¡_uid
);

296 
chİt
.
group_Çme
 = 
	`gid_to_Çme
 (
»f_¡©s
.
¡_gid
);

300 cÚ¡ *
e
 = 
	`·r£_u£r_¥ec
 (
¬gv
[
İtšd
], &
uid
, &
gid
,

301 &
chİt
.
u£r_Çme
, &chİt.
group_Çme
);

302 ià(
e
)

303 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s: %s", 
e
, 
	`quÙe
 (
¬gv
[
İtšd
]));

308 ià(!
chİt
.
u£r_Çme
 && chİt.
group_Çme
)

309 
chİt
.
u£r_Çme
 = 
	`bad_ÿ¡
 ("");

311 
İtšd
++;

314 ià(
chİt
.
»cur£
 && 
´e£rve_roÙ
)

316 
dev_šo
 
dev_šo_buf
;

317 
chİt
.
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

318 ià(
chİt
.
roÙ_dev_šo
 =ğ
NULL
)

319 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

320 
	`quÙe
 ("/"));

323 
b™_æags
 |ğ
FTS_DEFER_STAT
;

324 
ok
 = 
	`chown_fes
 (
¬gv
 + 
İtšd
, 
b™_æags
,

325 
uid
, 
gid
,

326 
»quœed_uid
, 
»quœed_gid
, &
chİt
);

328 
	`chİt_ä“
 (&
chİt
);

330 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

331 
	}
}

	@chroot.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<g½.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"quÙe.h
"

28 
	~"u£r¥ec.h
"

29 
	~"x¡¹Ş.h
"

32 
	#PROGRAM_NAME
 "chroÙ"

	)

34 
	#AUTHORS
 
	`´İ”_Çme
 ("RŞªd McG¿th")

	)

36 #iâdeà
MAXGID


37 
	#MAXGID
 
GID_T_MAX


	)

42 
	mGROUPS
 = 
UCHAR_MAX
 + 1,

43 
	mUSERSPEC


46 
İtiÚ
 cÚ¡ 
	glÚg_İts
[] =

48 {"groups", 
»quœed_¬gum’t
, 
NULL
, 
GROUPS
},

49 {"u£r¥ec", 
»quœed_¬gum’t
, 
NULL
, 
USERSPEC
},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

55 #ià! 
HAVE_SETGROUPS


60 
	$£tgroups
 (
size_t
 
size
 
ATTRIBUTE_UNUSED
, 
gid_t
 cÚ¡ *
li¡
 ATTRIBUTE_UNUSED)

63 
	}
}

72 
	$£t_add™iÚ®_groups
 (cÚ¡ *
groups
)

74 
GETGROUPS_T
 *
gids
 = 
NULL
;

75 
size_t
 
n_gids_®loÿ‹d
 = 0;

76 
size_t
 
n_gids
 = 0;

77 *
bufãr
 = 
	`x¡rdup
 (
groups
);

78 cÚ¡ *
tmp
;

79 
»t
 = 0;

81 
tmp
 = 
	`¡¹ok
 (
bufãr
, ",");mp;m°ğ¡¹ok (
NULL
, ","))

83 
group
 *
g
;

84 
v®ue
;

86 ià(
	`x¡¹oul
 (
tmp
, 
NULL
, 10, &
v®ue
, ""è=ğ
LONGINT_OK
 && v®u<ğ
MAXGID
)

87 
g
 = 
	`g‘grgid
 (
v®ue
);

90 
g
 = 
	`g‘gºam
 (
tmp
);

91 ià(
g
 !ğ
NULL
)

92 
v®ue
 = 
g
->
gr_gid
;

95 ià(
g
 =ğ
NULL
)

97 
	`”rÜ
 (0, 
”ºo
, 
	`_
("šv®id grou°%s"), 
	`quÙe
 (
tmp
));

98 
»t
 = -1;

102 ià(
n_gids
 =ğ
n_gids_®loÿ‹d
)

103 
gids
 = 
	`X2NREALLOC
 (gids, &
n_gids_®loÿ‹d
);

104 
gids
[
n_gids
++] = 
v®ue
;

107 ià(
»t
 =ğ0 && 
n_gids
 == 0)

109 
	`”rÜ
 (0, 0, 
	`_
("šv®id grou°li¡ %s"), 
	`quÙe
 (
groups
));

110 
»t
 = -1;

113 ià(
»t
 == 0)

115 
»t
 = 
	`£tgroups
 (
n_gids
, 
gids
);

116 ià(
»t
)

117 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo set‡dditional groups"));

120 
	`ä“
 (
bufãr
);

121 
	`ä“
 (
gids
);

122  
»t
;

123 
	}
}

126 
	$u§ge
 (
¡©us
)

128 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

129 
	`em™_Œy_h–p
 ();

132 
	`´štf
 (
	`_
("\
: % [OPTION] NEWROOT [COMMAND [ARG]...]\n\
: % OPTION\n\
"), 
´og¿m_Çme
,…rogram_name);

137 
	`åuts
 (
	`_
("\
 COMMAND w™h„oÙ dœeùÜy s‘ØNEWROOT.\n\
\n\
"), 
¡dout
);

142 
	`åuts
 (
	`_
("\
--u£r¥ec=USER:GROUP s³cify u£¸ªd grou°(ID o¸ÇmeètØu£\n\
--groups=G_LIST s³cify suµËm’ry group a g1,g2,..,gN\n\
"), 
¡dout
);

147 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

148 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

149 
	`åuts
 (
	`_
("\
\n\
‚Øcommªd i giv’,„uÀ'${SHELL} -i' (deçuÉ: '/bš/sh -i').\n\
"), 
¡dout
);

153 
	`em™_ªcÏry_šfo
 ();

155 
	`ex™
 (
¡©us
);

156 
	}
}

159 
	$maš
 (
¬gc
, **
¬gv
)

161 
c
;

162 cÚ¡ *
u£r¥ec
 = 
NULL
;

163 cÚ¡ *
groups
 = 
NULL
;

165 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

166 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

167 
	`£oÿË
 (
LC_ALL
, "");

168 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

169 
	`‹xtdomaš
 (
PACKAGE
);

171 
	`š™Ÿlize_ex™_çu»
 (
EXIT_CANCELED
);

172 
	`©ex™
 (
şo£_¡dout
);

174 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+", 
lÚg_İts
, 
NULL
)) != -1)

176 
c
)

178 
USERSPEC
:

179 
u£r¥ec
 = 
İrg
;

182 
GROUPS
:

183 
groups
 = 
İrg
;

186 
ÿ£_GETOPT_HELP_CHAR
;

188 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

191 
	`u§ge
 (
EXIT_CANCELED
);

195 ià(
¬gc
 <ğ
İtšd
)

197 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

198 
	`u§ge
 (
EXIT_CANCELED
);

201 ià(
	`chroÙ
 (
¬gv
[
İtšd
]) != 0)

202 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot change„oot directoryo %s"),

203 
¬gv
[
İtšd
]);

205 ià(
	`chdœ
 ("/"))

206 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot chdiro„oot directory"));

208 ià(
¬gc
 =ğ
İtšd
 + 1)

211 *
sh–l
 = 
	`g‘’v
 ("SHELL");

212 ià(
sh–l
 =ğ
NULL
)

213 
sh–l
 = 
	`bad_ÿ¡
 ("/bin/sh");

214 
¬gv
[0] = 
sh–l
;

215 
¬gv
[1] = 
	`bad_ÿ¡
 ("-i");

216 
¬gv
[2] = 
NULL
;

221 
¬gv
 +ğ
İtšd
 + 1;

224 
boŞ
 
ç
 = 
çl£
;

228 ià(
u£r¥ec
)

230 
uid_t
 
uid
 = -1;

231 
gid_t
 
gid
 = -1;

232 *
u£r
;

233 *
group
;

234 cÚ¡ *
”r
 = 
	`·r£_u£r_¥ec
 (
u£r¥ec
, &
uid
, &
gid
, &
u£r
, &
group
);

236 ià(
”r
)

237 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, "%s", 
”r
);

239 
	`ä“
 (
u£r
);

240 
	`ä“
 (
group
);

242 ià(
groups
 && 
	`£t_add™iÚ®_groups
 (groups))

243 
ç
 = 
Œue
;

245 ià(
gid
 !ğ(
gid_t
è-1 && 
	`£tgid
 (gid))

247 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo set group-ID"));

248 
ç
 = 
Œue
;

251 ià(
uid
 !ğ(
uid_t
è-1 && 
	`£tuid
 (uid))

253 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo set user-ID"));

254 
ç
 = 
Œue
;

263 ià(
groups
 && 
	`£t_add™iÚ®_groups
 (groups))

264 
ç
 = 
Œue
;

267 ià(
ç
)

268 
	`ex™
 (
EXIT_CANCELED
);

271 
	`execvp
 (
¬gv
[0],‡rgv);

274 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

275 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØruÀcommªd %s"), 
	`quÙe
 (
¬gv
[0]));

276 
	`ex™
 (
ex™_¡©us
);

278 
	}
}

	@cksum.c

35 
	~<cÚfig.h
>

38 
	#PROGRAM_NAME
 "cksum"

	)

40 
	#AUTHORS
 
	`´İ”_Çme
 ("Q. F¿nk XŸ")

	)

42 
	~<¡dio.h
>

43 
	~<sys/ty³s.h
>

44 
	~<¡dšt.h
>

45 
	~"sy¡em.h
"

46 
	~"çdvi£.h
"

47 
	~"xäeİ’.h
"

49 #ifdeà
CRCTAB


51 
	#BIT
(
x
è((
ušt_ç¡32_t
è1 << (x))

	)

52 
	#SBIT
 
	`BIT
 (31)

	)

61 
	#GEN
 (
	`BIT
 (26) | BIT (23) | BIT (22) | BIT (16) | BIT (12) \

62 | 
	`BIT
 (11) | BIT (10) | BIT (8) | BIT (7) | BIT (5) \

63 | 
	`BIT
 (4è| BIT (2è| BIT (1è| BIT (0))

	)

65 
ušt_ç¡32_t
 
	gr
[8];

68 
	$fl_r
 ()

70 
i
;

72 
r
[0] = 
GEN
;

73 
i
 = 1; i < 8; i++)

74 
r
[
i
] = (r[˜- 1] << 1è^ (Ô[˜- 1] & 
SBIT
è? 
GEN
 : 0);

75 
	}
}

77 
ušt_ç¡32_t


78 
	$üc_»mašd”
 (
m
)

80 
ušt_ç¡32_t
 
»m
 = 0;

81 
i
;

83 
i
 = 0; i < 8; i++)

84 ià(
	`BIT
 (
i
è& 
m
)

85 
»m
 ^ğ
r
[
i
];

87  
»m
 & 0xFFFFFFFF;

88 
	}
}

91 
	$maš
 ()

93 
i
;

95 
	`fl_r
 ();

96 
	`´štf
 ("static uint_fast32_t const crctab[256] =\n{\n 0x00000000");

97 
i
 = 0; i < 51; i++)

99 
	`´štf
 (",\n 0x%08x, 0x%08x, 0x%08x, 0x%08x, 0x%08x",

100 
	`üc_»mašd”
 (
i
 * 5 + 1), crc_remainder (i * 5 + 2),

101 
	`üc_»mašd”
 (
i
 * 5 + 3), crc_remainder (i * 5 + 4),

102 
	`üc_»mašd”
 (
i
 * 5 + 5));

104 
	`´štf
 ("\n};\n");

105 
	`ex™
 (
EXIT_SUCCESS
);

106 
	}
}

110 
	~<g‘İt.h
>

111 
	~"lÚg-İtiÚs.h
"

112 
	~"”rÜ.h
"

115 
	#BUFLEN
 (1 << 16)

	)

117 
ušt_ç¡32_t
 cÚ¡ 
	güùab
[256] =

174 
boŞ
 
	ghave_»ad_¡dš
;

181 
boŞ


182 
	$cksum
 (cÚ¡ *
fe
, 
boŞ
 
´št_Çme
)

184 
buf
[
BUFLEN
];

185 
ušt_ç¡32_t
 
üc
 = 0;

186 
uštmax_t
 
Ëngth
 = 0;

187 
size_t
 
by‹s_»ad
;

188 
FILE
 *
å
;

189 
Ëngth_buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

190 cÚ¡ *
hp
;

192 ià(
	`STREQ
 (
fe
, "-"))

194 
å
 = 
¡dš
;

195 
have_»ad_¡dš
 = 
Œue
;

196 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

197 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

201 
å
 = 
	`fİ’
 (
fe
, (
O_BINARY
 ? "rb" : "r"));

202 ià(
å
 =ğ
NULL
)

204 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

205  
çl£
;

209 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

211 (
by‹s_»ad
 = 
	`ä—d
 (
buf
, 1, 
BUFLEN
, 
å
)) > 0)

213 *
ı
 = 
buf
;

215 ià(
Ëngth
 + 
by‹s_»ad
 <†ength)

216 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: ftoØlÚg"), 
fe
);

217 
Ëngth
 +ğ
by‹s_»ad
;

218 
by‹s_»ad
--)

219 
üc
 = (üø<< 8è^ 
üùab
[((üø>> 24è^ *
ı
++) & 0xFF];

220 ià(
	`ãof
 (
å
))

224 ià(
	`ã¼Ü
 (
å
))

226 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

227 ià(!
	`STREQ
 (
fe
, "-"))

228 
	`fşo£
 (
å
);

229  
çl£
;

232 ià(!
	`STREQ
 (
fe
, "-"è&& 
	`fşo£
 (
å
è=ğ
EOF
)

234 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

235  
çl£
;

238 
hp
 = 
	`umaxto¡r
 (
Ëngth
, 
Ëngth_buf
);

240 ; 
Ëngth
;†ength >>= 8)

241 
üc
 = (üø<< 8è^ 
üùab
[((üø>> 24è^ 
Ëngth
) & 0xFF];

243 
üc
 = ~crc & 0xFFFFFFFF;

245 ià(
´št_Çme
)

246 
	`´štf
 ("%u % %s\n", (è
üc
, 
hp
, 
fe
);

248 
	`´štf
 ("%u %s\n", (è
üc
, 
hp
);

250 ià(
	`ã¼Ü
 (
¡dout
))

251 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-: %s", 
	`_
("writeƒrror"));

253  
Œue
;

254 
	}
}

257 
	$u§ge
 (
¡©us
)

259 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

260 
	`em™_Œy_h–p
 ();

263 
	`´štf
 (
	`_
("\
: %s [FILE]...\n\
: %s [OPTION]\n\
"),

267 
´og¿m_Çme
,…rogram_name);

268 
	`åuts
 (
	`_
("\
 CRC checksum‡nd by‹ couÁ oà—ch FILE.\n\
\n\
"), 
¡dout
);

272 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

273 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

274 
	`em™_ªcÏry_šfo
 ();

276 
	`ex™
 (
¡©us
);

277 
	}
}

280 
	$maš
 (
¬gc
, **
¬gv
)

282 
i
;

283 
boŞ
 
ok
;

285 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

286 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

287 
	`£oÿË
 (
LC_ALL
, "");

288 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

289 
	`‹xtdomaš
 (
PACKAGE
);

291 
	`©ex™
 (
şo£_¡dout
);

295 
	`£tvbuf
 (
¡dout
, 
NULL
, 
_IOLBF
, 0);

297 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
V”siÚ
,

298 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

299 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

300 
	`u§ge
 (
EXIT_FAILURE
);

302 
have_»ad_¡dš
 = 
çl£
;

304 ià(
İtšd
 =ğ
¬gc
)

305 
ok
 = 
	`cksum
 ("-", 
çl£
);

308 
ok
 = 
Œue
;

309 
i
 = 
İtšd
; i < 
¬gc
; i++)

310 
ok
 &ğ
	`cksum
 (
¬gv
[
i
], 
Œue
);

313 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

314 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

315 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

316 
	}
}

	@comm.c

19 
	~<cÚfig.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~"sy¡em.h
"

24 
	~"lšebufãr.h
"

25 
	~"”rÜ.h
"

26 
	~"çdvi£.h
"

27 
	~"h¬d-loÿË.h
"

28 
	~"quÙe.h
"

29 
	~"¡dio--.h
"

30 
	~"memcmp2.h
"

31 
	~"xmemcŞl.h
"

34 
	#PROGRAM_NAME
 "comm"

	)

36 
	#AUTHORS
 \

37 
	`´İ”_Çme
 ("Richard M. Stallman"), \

38 
	`´İ”_Çme
 ("David MacK’z›")

	)

41 #undeà
mš


42 
	#mš
(
x
, 
y
è((xè< (yè? (xè: (y))

	)

45 
boŞ
 
	gh¬d_LC_COLLATE
;

48 
boŞ
 
	gÚly_fe_1
;

51 
boŞ
 
	gÚly_fe_2
;

54 
boŞ
 
	gbÙh
;

57 
boŞ
 
	g£’_uÅaœabË
;

60 
boŞ
 
	gissued_disÜd”_w¬nšg
[2];

65 
	mCHECK_ORDER_DEFAULT
,

66 
	mCHECK_ORDER_ENABLED
,

67 
	mCHECK_ORDER_DISABLED


68 } 
	gcheck_šput_Üd”
;

73 cÚ¡ *
	gd–im™”
;

79 
	mCHECK_ORDER_OPTION
 = 
CHAR_MAX
 + 1,

80 
	mNOCHECK_ORDER_OPTION
,

81 
	mOUTPUT_DELIMITER_OPTION


84 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

86 {"check-Üd”", 
no_¬gum’t
, 
NULL
, 
CHECK_ORDER_OPTION
},

87 {"nocheck-Üd”", 
no_¬gum’t
, 
NULL
, 
NOCHECK_ORDER_OPTION
},

88 {"ouut-d–im™”", 
»quœed_¬gum’t
, 
NULL
, 
OUTPUT_DELIMITER_OPTION
},

89 {
GETOPT_HELP_OPTION_DECL
},

90 {
GETOPT_VERSION_OPTION_DECL
},

91 {
NULL
, 0, NULL, 0}

97 
	$u§ge
 (
¡©us
)

99 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

100 
	`em™_Œy_h–p
 ();

103 
	`´štf
 (
	`_
("\
: %s [OPTION]... FILE1 FILE2\n\
"),

106 
´og¿m_Çme
);

107 
	`åuts
 (
	`_
("\
 sÜ‹d fe FILE1‡nd FILE2†šby†še.\n\
"), 
¡dout
);

110 
	`åuts
 (
	`_
("\
\n\
‚ØİtiÚs,…roduûh»e-cŞumÀouut. CŞumÀÚcÚšs\n\
 uniqutØFILE1, cŞumÀtwØcÚš lše uniqutØFILE2,\n\
 cŞumÀth»cÚš lše commÚØbÙh fes.\n\
"), 
¡dout
);

116 
	`åuts
 (
	`_
("\
\n\
-1 suµ»s cŞumÀ1 (lše uniqutØFILE1)\n\
-2 suµ»s cŞumÀ2 (lše uniqutØFILE2)\n\
-3 suµ»s cŞumÀ3 (lše th©‡µ—¸š bÙh fes)\n\
"), 
¡dout
);

122 
	`åuts
 (
	`_
("\
\n\
--check-Üd” checkh©hšpuˆi cÜ»ùly sÜ‹d,ƒv’\n\
‡Î iÅuˆlše ¬·œabË\n\
--nocheck-Üd” dØnÙ checkh©hšpuˆi cÜ»ùly sÜ‹d\n\
"), 
¡dout
);

128 
	`åuts
 (
	`_
("\
--ouut-d–im™”=STR s•¬©cŞumn w™h STR\n\
"), 
¡dout
);

131 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

132 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

133 
	`åuts
 (
	`_
("\
\n\
, com·risÚ hÚÜhruË ¥ecif›d by 'LC_COLLATE'.\n\
"), 
¡dout
);

137 
	`´štf
 (
	`_
("\
\n\
:\n\
%s -12 file1 file2 Print only†ines…resent in both file1‡nd file2.\n\
%s -3 file1 file2 Print†ines in file1‚ot in file2,‡nd vice versa.\n\
"),

143 
´og¿m_Çme
,…rogram_name);

144 
	`em™_ªcÏry_šfo
 ();

146 
	`ex™
 (
¡©us
);

147 
	}
}

155 
	$wr™–še
 (
lšebufãr
 cÚ¡ *
lše
, 
FILE
 *
¡»am
, 
şass
)

157 
şass
)

160 ià(!
Úly_fe_1
)

165 ià(!
Úly_fe_2
)

168 ià(
Úly_fe_1
)

169 
	`åuts
 (
d–im™”
, 
¡»am
);

173 ià(!
bÙh
)

176 ià(
Úly_fe_1
)

177 
	`åuts
 (
d–im™”
, 
¡»am
);

179 ià(
Úly_fe_2
)

180 
	`åuts
 (
d–im™”
, 
¡»am
);

184 
	`fwr™e
 (
lše
->
bufãr
,  (),†še->
Ëngth
, 
¡»am
);

185 
	}
}

199 
	$check_Üd”
 (
lšebufãr
 cÚ¡ *
´ev
,

200 
lšebufãr
 cÚ¡ *
cu¼’t
,

201 
wh©fe
)

204 ià(
check_šput_Üd”
 !ğ
CHECK_ORDER_DISABLED


205 && ((
check_šput_Üd”
 =ğ
CHECK_ORDER_ENABLED
è|| 
£’_uÅaœabË
))

207 ià(!
issued_disÜd”_w¬nšg
[
wh©fe
 - 1])

209 
Üd”
;

211 ià(
h¬d_LC_COLLATE
)

212 
Üd”
 = 
	`xmemcŞl
 (
´ev
->
bufãr
,…»v->
Ëngth
 - 1,

213 
cu¼’t
->
bufãr
, cu¼’t->
Ëngth
 - 1);

215 
Üd”
 = 
	`memcmp2
 (
´ev
->
bufãr
,…»v->
Ëngth
 - 1,

216 
cu¼’t
->
bufãr
, cu¼’t->
Ëngth
 - 1);

218 ià(0 < 
Üd”
)

220 
	`”rÜ
 ((
check_šput_Üd”
 =ğ
CHECK_ORDER_ENABLED


221 ? 
EXIT_FAILURE
 : 0),

222 0, 
	`_
("f%d i nÙ iÀsÜ‹d ord”"), 
wh©fe
);

226 
issued_disÜd”_w¬nšg
[
wh©fe
 - 1] = 
Œue
;

230 
	}
}

238 
	$com·»_fes
 (**
šfes
)

241 
lšebufãr
 
lba
[2][4];

245 
lšebufãr
 *
thi¦še
[2];

250 
lšebufãr
 *
®l_lše
[2][4];

253 
®t
[2][3];

256 
FILE
 *
¡»ams
[2];

258 
i
, 
j
;

261 
i
 = 0; i < 2; i++)

263 
j
 = 0; j < 4; j++)

265 
	`š™bufãr
 (&
lba
[
i
][
j
]);

266 
®l_lše
[
i
][
j
] = &
lba
[i][j];

268 
®t
[
i
][0] = 0;

269 
®t
[
i
][1] = 0;

270 
®t
[
i
][2] = 0;

271 
¡»ams
[
i
] = (
	`STREQ
 (
šfes
[i], "-"è? 
¡dš
 : 
	`fİ’
 (infiles[i], "r"));

272 ià(!
¡»ams
[
i
])

273 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfes
[
i
]);

275 
	`çdvi£
 (
¡»ams
[
i
], 
FADVISE_SEQUENTIAL
);

277 
thi¦še
[
i
] = 
	`»adlšebufãr
 (
®l_lše
[i][
®t
[i][0]], 
¡»ams
[i]);

278 ià(
	`ã¼Ü
 (
¡»ams
[
i
]))

279 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfes
[
i
]);

282 
thi¦še
[0] ||hisline[1])

284 
Üd”
;

285 
boŞ
 
fl_up
[2] = { 
çl£
, false };

289 ià(!
thi¦še
[0])

290 
Üd”
 = 1;

291 ià(!
thi¦še
[1])

292 
Üd”
 = -1;

295 ià(
h¬d_LC_COLLATE
)

296 
Üd”
 = 
	`xmemcŞl
 (
thi¦še
[0]->
bufãr
,hi¦še[0]->
Ëngth
 - 1,

297 
thi¦še
[1]->
bufãr
,hi¦še[1]->
Ëngth
 - 1);

300 
size_t
 
Ën
 = 
	`mš
 (
thi¦še
[0]->
Ëngth
,hisline[1]->length) - 1;

301 
Üd”
 = 
	`memcmp
 (
thi¦še
[0]->
bufãr
,hi¦še[1]->bufãr, 
Ën
);

302 ià(
Üd”
 == 0)

303 
Üd”
 = (
thi¦še
[0]->
Ëngth
 <hisline[1]->length

305 : 
thi¦še
[0]->
Ëngth
 !=hisline[1]->length);

310 ià(
Üd”
 == 0)

311 
	`wr™–še
 (
thi¦še
[1], 
¡dout
, 3);

314 
£’_uÅaœabË
 = 
Œue
;

315 ià(
Üd”
 <= 0)

316 
	`wr™–še
 (
thi¦še
[0], 
¡dout
, 1);

318 
	`wr™–še
 (
thi¦še
[1], 
¡dout
, 2);

323 ià(0 <ğ
Üd”
)

324 
fl_up
[1] = 
Œue
;

325 ià(
Üd”
 <= 0)

326 
fl_up
[0] = 
Œue
;

328 
i
 = 0; i < 2; i++)

329 ià(
fl_up
[
i
])

332 
®t
[
i
][2] =‡lt[i][1];

333 
®t
[
i
][1] =‡lt[i][0];

334 
®t
[
i
][0] = (alt[i][0] + 1) & 0x03;

336 
thi¦še
[
i
] = 
	`»adlšebufãr
 (
®l_lše
[i][
®t
[i][0]], 
¡»ams
[i]);

338 ià(
thi¦še
[
i
])

339 
	`check_Üd”
 (
®l_lše
[
i
][
®t
[i][1]], 
thi¦še
[i], i + 1);

344 ià(
®l_lše
[
i
][
®t
[i][2]]->
bufãr
)

345 
	`check_Üd”
 (
®l_lše
[
i
][
®t
[i][2]],

346 
®l_lše
[
i
][
®t
[i][1]], i + 1);

348 ià(
	`ã¼Ü
 (
¡»ams
[
i
]))

349 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfes
[
i
]);

351 
fl_up
[
i
] = 
çl£
;

355 
i
 = 0; i < 2; i++)

356 ià(
	`fşo£
 (
¡»ams
[
i
]) != 0)

357 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfes
[
i
]);

358 
	}
}

361 
	$maš
 (
¬gc
, **
¬gv
)

363 
c
;

365 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

366 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

367 
	`£oÿË
 (
LC_ALL
, "");

368 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

369 
	`‹xtdomaš
 (
PACKAGE
);

370 
h¬d_LC_COLLATE
 = 
	`h¬d_loÿË
 (
LC_COLLATE
);

372 
	`©ex™
 (
şo£_¡dout
);

374 
Úly_fe_1
 = 
Œue
;

375 
Úly_fe_2
 = 
Œue
;

376 
bÙh
 = 
Œue
;

378 
£’_uÅaœabË
 = 
çl£
;

379 
issued_disÜd”_w¬nšg
[0] = issued_disÜd”_w¬nšg[1] = 
çl£
;

380 
check_šput_Üd”
 = 
CHECK_ORDER_DEFAULT
;

382 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "123", 
lÚg_İtiÚs
, 
NULL
)) != -1)

383 
c
)

386 
Úly_fe_1
 = 
çl£
;

390 
Úly_fe_2
 = 
çl£
;

394 
bÙh
 = 
çl£
;

397 
NOCHECK_ORDER_OPTION
:

398 
check_šput_Üd”
 = 
CHECK_ORDER_DISABLED
;

401 
CHECK_ORDER_OPTION
:

402 
check_šput_Üd”
 = 
CHECK_ORDER_ENABLED
;

405 
OUTPUT_DELIMITER_OPTION
:

406 ià(
d–im™”
 && !
	`STREQ
 (d–im™”, 
İrg
))

407 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple delimiters specified"));

408 
d–im™”
 = 
İrg
;

409 ià(!*
d–im™”
)

411 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("empty %s‚ot‡llowed"),

412 
	`quÙe
 ("--output-delimiter"));

416 
ÿ£_GETOPT_HELP_CHAR
;

418 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

421 
	`u§ge
 (
EXIT_FAILURE
);

424 ià(
¬gc
 - 
İtšd
 < 2)

426 ià(
¬gc
 <ğ
İtšd
)

427 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

429 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

430 
	`u§ge
 (
EXIT_FAILURE
);

433 ià(2 < 
¬gc
 - 
İtšd
)

435 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 2]));

436 
	`u§ge
 (
EXIT_FAILURE
);

440 ià(!
d–im™”
)

441 
d–im™”
 = "\t";

443 
	`com·»_fes
 (
¬gv
 + 
İtšd
);

445 ià(
issued_disÜd”_w¬nšg
[0] || issued_disorder_warning[1])

446 
	`ex™
 (
EXIT_FAILURE
);

448 
	`ex™
 (
EXIT_SUCCESS
);

449 
	}
}

	@copy.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<as£¹.h
>

22 
	~<sys/ioùl.h
>

23 
	~<sys/ty³s.h
>

24 
	~<£lšux/£lšux.h
>

26 #ià
HAVE_HURD_H


27 
	~<hurd.h
>

29 #ià
HAVE_PRIV_H


30 
	~<´iv.h
>

33 
	~"sy¡em.h
"

34 
	~"aş.h
"

35 
	~"backupfe.h
"

36 
	~"bufãr-lcm.h
"

37 
	~"ÿnÚiÿlize.h
"

38 
	~"cİy.h
"

39 
	~"ı-hash.h
"

40 
	~"ex‹Á-sÿn.h
"

41 
	~"”rÜ.h
"

42 
	~"çdvi£.h
"

43 
	~"fú--.h
"

44 
	~"f›m­.h
"

45 
	~"fe-£t.h
"

46 
	~"femode.h
"

47 
	~"f’ameÿt.h
"

48 
	~"fuÎ-wr™e.h
"

49 
	~"hash.h
"

50 
	~"hash-ŒË.h
"

51 
	~"ignÜe-v®ue.h
"

52 
	~"ioblksize.h
"

53 
	~"quÙe.h
"

54 
	~"§me.h
"

55 
	~"§vedœ.h
"

56 
	~"¡©-size.h
"

57 
	~"¡©-time.h
"

58 
	~"utimecmp.h
"

59 
	~"utim’s.h
"

60 
	~"wr™e-ªy-fe.h
"

61 
	~"¬—dlšk.h
"

62 
	~"ye¢o.h
"

64 #ià
USE_XATTR


65 
	~<©Œ/”rÜ_cÚ‹xt.h
>

66 
	~<©Œ/lib©Œ.h
>

67 
	~<¡d¬g.h
>

68 
	~"v”rÜ.h
"

71 #iâdeà
HAVE_FCHOWN


72 
	#HAVE_FCHOWN
 
çl£


	)

73 
	#fchown
(
fd
, 
uid
, 
gid
è(-1)

	)

76 #iâdeà
HAVE_LCHOWN


77 
	#HAVE_LCHOWN
 
çl£


	)

78 
	#lchown
(
Çme
, 
uid
, 
gid
è
	`chown
 (Çme, uid, gid)

	)

81 #iâdeà
HAVE_MKFIFO


83 
	$½l_mkfifo
 (cÚ¡ *
fe
, 
mode_t
 
mode
)

85 
”ºo
 = 
ENOTSUP
;

87 
	}
}

88 
	#mkfifo
 
½l_mkfifo


	)

91 #iâdeà
USE_ACL


92 
	#USE_ACL
 0

	)

95 
	#SAME_OWNER
(
A
, 
B
è((A).
¡_uid
 =ğ(B).¡_uid)

	)

96 
	#SAME_GROUP
(
A
, 
B
è((A).
¡_gid
 =ğ(B).¡_gid)

	)

97 
	#SAME_OWNER_AND_GROUP
(
A
, 
B
è(
	`SAME_OWNER
 (A, Bè&& 
	`SAME_GROUP
 (A, B))

	)

99 
	sdœ_li¡


101 
dœ_li¡
 *
	m·»Á
;

102 
šo_t
 
	mšo
;

103 
dev_t
 
	mdev
;

107 
	#DEST_INFO_INITIAL_CAPACITY
 61

	)

109 
boŞ
 
cİy_š‹º®
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

110 
boŞ
 
Ãw_d¡
, 
dev_t
 
deviû
,

111 
dœ_li¡
 *
ªû¡Üs
,

112 cÚ¡ 
ı_İtiÚs
 *
x
,

113 
boŞ
 
commªd_lše_¬g
,

114 
boŞ
 *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
,

115 
boŞ
 *
cİy_što_£lf
,

116 
boŞ
 *
»Çme_sucûeded
);

117 
boŞ
 
owÃr_çu»_ok
 (
ı_İtiÚs
 cÚ¡ *
x
);

121 cÚ¡ *
	gtİ_Ëv–_¤c_Çme
;

122 cÚ¡ *
	gtİ_Ëv–_d¡_Çme
;

126 
šlše
 

127 
	$utim’s_symlšk
 (cÚ¡ *
fe
, 
time¥ec
 const *timespec)

129 
”r
 = 
	`lutim’s
 (
fe
, 
time¥ec
);

133 ià(
”r
 && 
”ºo
 =ğ
ENOSYS
)

134 
”r
 = 0;

135  
”r
;

136 
	}
}

149 
boŞ


150 
	$¥¬£_cİy
 (
¤c_fd
, 
de¡_fd
, *
buf
, 
size_t
 
buf_size
,

151 
boŞ
 
make_hŞes
,

152 cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

153 
uštmax_t
 
max_n_»ad
, 
off_t
 *
tÙ®_n_»ad
,

154 
boŞ
 *
Ï¡_wr™e_made_hŞe
)

156 *
Ï¡_wr™e_made_hŞe
 = 
çl£
;

157 *
tÙ®_n_»ad
 = 0;

159 
max_n_»ad
)

161 
boŞ
 
make_hŞe
 = 
çl£
;

163 
ssize_t
 
n_»ad
 = 
	`»ad
 (
¤c_fd
, 
buf
, 
	`MIN
 (
max_n_»ad
, 
buf_size
));

164 ià(
n_»ad
 < 0)

166 ià(
”ºo
 =ğ
EINTR
)

168 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
¤c_Çme
));

169  
çl£
;

171 ià(
n_»ad
 == 0)

173 
max_n_»ad
 -ğ
n_»ad
;

174 *
tÙ®_n_»ad
 +ğ
n_»ad
;

176 ià(
make_hŞes
)

179 
buf
[
n_»ad
] = '\1';

180 #ifdeà
lšt


181 
ušŒ_t
 
	twÜd
;

188 
	`mem£t
 (
buf
 + 
n_»ad
 + 1, 0,  (
wÜd
) - 1);

191 ià((
make_hŞe
 = 
	`is_nul
 (
buf
, 
n_»ad
)))

193 ià(
	`l£ek
 (
de¡_fd
, 
n_»ad
, 
SEEK_CUR
) < 0)

195 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ†£ek %s"), 
	`quÙe
 (
d¡_Çme
));

196  
çl£
;

201 ià(!
make_hŞe
)

203 
size_t
 
n
 = 
n_»ad
;

204 ià(
	`fuÎ_wr™e
 (
de¡_fd
, 
buf
, 
n
) !=‚)

206 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ wr™šg %s"), 
	`quÙe
 (
d¡_Çme
));

207  
çl£
;

216 *
Ï¡_wr™e_made_hŞe
 = 
make_hŞe
;

219  
Œue
;

220 
	}
}

224 
šlše
 

225 
	$şÚe_fe
 (
de¡_fd
, 
¤c_fd
)

227 #ifdeà
__lšux__


228 #undeà
BTRFS_IOCTL_MAGIC


229 
	#BTRFS_IOCTL_MAGIC
 0x94

	)

230 #undeà
BTRFS_IOC_CLONE


231 
	#BTRFS_IOC_CLONE
 
	`_IOW
 (
BTRFS_IOCTL_MAGIC
, 9, )

	)

232  
	`ioùl
 (
de¡_fd
, 
BTRFS_IOC_CLONE
, 
¤c_fd
);

234 (è
de¡_fd
;

235 (è
¤c_fd
;

236 
”ºo
 = 
ENOTSUP
;

239 
	}
}

243 
boŞ


244 
	$wr™e_z”os
 (
fd
, 
ušt64_t
 
n_by‹s
)

246 *
z”os
;

247 
size_t
 
nz
 = 
IO_BUFSIZE
;

252 ià(
z”os
 =ğ
NULL
)

254 
çÎback
[1024];

255 
z”os
 = 
	`ÿÎoc
 (
nz
, 1);

256 ià(
z”os
 =ğ
NULL
)

258 
z”os
 = 
çÎback
;

259 
nz
 =  
çÎback
;

263 
n_by‹s
)

265 
ušt64_t
 
n
 = 
	`MIN
 (
nz
, 
n_by‹s
);

266 ià((
	`fuÎ_wr™e
 (
fd
, 
z”os
, 
n
)) !=‚)

267  
çl£
;

268 
n_by‹s
 -ğ
n
;

271  
Œue
;

272 
	}
}

281 
boŞ


282 
	$ex‹Á_cİy
 (
¤c_fd
, 
de¡_fd
, *
buf
, 
size_t
 
buf_size
,

283 
off_t
 
¤c_tÙ®_size
, 
S·r£_ty³
 
¥¬£_mode
,

284 cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

285 
boŞ
 *
»quœe_nÜm®_cİy
)

287 
ex‹Á_sÿn
 
sÿn
;

288 
off_t
 
Ï¡_ext_¡¬t
 = 0;

289 
ušt64_t
 
Ï¡_ext_Ën
 = 0;

293 
off_t
 
de¡_pos
 = 0;

295 
	`ex‹Á_sÿn_š™
 (
¤c_fd
, &
sÿn
);

297 *
»quœe_nÜm®_cİy
 = 
çl£
;

298 
boŞ
 
wrÙe_hŞe_©_eof
 = 
Œue
;

301 
boŞ
 
ok
 = 
	`ex‹Á_sÿn_»ad
 (&
sÿn
);

302 ià(! 
ok
)

304 ià(
sÿn
.
h™_fš®_ex‹Á
)

307 ià(
sÿn
.
š™Ÿl_sÿn_çed
)

309 *
»quœe_nÜm®_cİy
 = 
Œue
;

310  
çl£
;

313 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: failedo getƒxtents info"),

314 
	`quÙe
 (
¤c_Çme
));

315  
çl£
;

318 
i
;

319 
boŞ
 
em±y_ex‹Á
 = 
çl£
;

320 
i
 = 0; i < 
sÿn
.
ei_couÁ
 || 
em±y_ex‹Á
; i++)

322 
off_t
 
ext_¡¬t
;

323 
ušt64_t
 
ext_Ën
;

324 
ušt64_t
 
hŞe_size
;

326 ià(
i
 < 
sÿn
.
ei_couÁ
)

328 
ext_¡¬t
 = 
sÿn
.
ext_šfo
[
i
].
ext_logiÿl
;

329 
ext_Ën
 = 
sÿn
.
ext_šfo
[
i
].
ext_Ëngth
;

333 
i
--;

334 
ext_¡¬t
 = 
Ï¡_ext_¡¬t
 + 
sÿn
.
ext_šfo
[
i
].
ext_Ëngth
;

335 
ext_Ën
 = 0;

338 
hŞe_size
 = 
ext_¡¬t
 - 
Ï¡_ext_¡¬t
 - 
Ï¡_ext_Ën
;

340 
wrÙe_hŞe_©_eof
 = 
çl£
;

342 ià(
hŞe_size
)

344 ià(
	`l£ek
 (
¤c_fd
, 
ext_¡¬t
, 
SEEK_SET
) < 0)

346 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ†£ek %s"), 
	`quÙe
 (
¤c_Çme
));

347 
ç
:

348 
	`ex‹Á_sÿn_ä“
 (&
sÿn
);

349  
çl£
;

352 ià((
em±y_ex‹Á
 && 
¥¬£_mode
 =ğ
SPARSE_ALWAYS
)

353 || (!
em±y_ex‹Á
 && 
¥¬£_mode
 !ğ
SPARSE_NEVER
))

355 ià(
	`l£ek
 (
de¡_fd
, 
ext_¡¬t
, 
SEEK_SET
) < 0)

357 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ†£ek %s"), 
	`quÙe
 (
d¡_Çme
));

358 
ç
;

360 
wrÙe_hŞe_©_eof
 = 
Œue
;

367 
off_t
 
nz”os
 = 
hŞe_size
;

368 ià(
em±y_ex‹Á
)

369 
nz”os
 = 
	`MIN
 (
¤c_tÙ®_size
 - 
de¡_pos
, 
hŞe_size
);

371 ià(! 
	`wr™e_z”os
 (
de¡_fd
, 
nz”os
))

373 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: wr™çed"), 
	`quÙe
 (
d¡_Çme
));

374 
ç
;

377 
de¡_pos
 = 
	`MIN
 (
¤c_tÙ®_size
, 
ext_¡¬t
);

381 
Ï¡_ext_¡¬t
 = 
ext_¡¬t
;

389 ià(0 && (
sÿn
.
ext_šfo
[
i
].
ext_æags
 & 
FIEMAP_EXTENT_UNWRITTEN
))

391 
em±y_ex‹Á
 = 
Œue
;

392 
Ï¡_ext_Ën
 = 0;

393 ià(
ext_Ën
 == 0)

394 
em±y_ex‹Á
 = 
çl£
;

398 
off_t
 
n_»ad
;

399 
em±y_ex‹Á
 = 
çl£
;

400 
Ï¡_ext_Ën
 = 
ext_Ën
;

402 iàĞ! 
	`¥¬£_cİy
 (
¤c_fd
, 
de¡_fd
, 
buf
, 
buf_size
,

403 
¥¬£_mode
 =ğ
SPARSE_ALWAYS
,

404 
¤c_Çme
, 
d¡_Çme
, 
ext_Ën
, &
n_»ad
,

405 &
wrÙe_hŞe_©_eof
))

406 
ç
;

408 
de¡_pos
 = 
ext_¡¬t
 + 
n_»ad
;

416 ià(
de¡_pos
 =ğ
¤c_tÙ®_size
)

418 
sÿn
.
h™_fš®_ex‹Á
 = 
Œue
;

424 
	`ex‹Á_sÿn_ä“
 (&
sÿn
);

427 ! 
sÿn
.
h™_fš®_ex‹Á
);

437 ià((
de¡_pos
 < 
¤c_tÙ®_size
 || 
wrÙe_hŞe_©_eof
)

438 && (
¥¬£_mode
 !ğ
SPARSE_NEVER


439 ? 
	`árunÿ‹
 (
de¡_fd
, 
¤c_tÙ®_size
)

440 : ! 
	`wr™e_z”os
 (
de¡_fd
, 
¤c_tÙ®_size
 - 
de¡_pos
)))

442 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØex‹nd %s"), 
	`quÙe
 (
d¡_Çme
));

443  
çl£
;

446  
Œue
;

447 
	}
}

454 
boŞ
 
_GL_ATTRIBUTE_PURE


455 
	$is_ªû¡Ü
 (cÚ¡ 
¡©
 *
sb
, cÚ¡ 
dœ_li¡
 *
ªû¡Üs
)

457 
ªû¡Üs
 != 0)

459 ià(
ªû¡Üs
->
šo
 =ğ
sb
->
¡_šo
 &&‡nû¡Üs->
dev
 =ğsb->
¡_dev
)

460  
Œue
;

461 
ªû¡Üs
 =‡nû¡Üs->
·»Á
;

463  
çl£
;

464 
	}
}

466 
boŞ


467 
	$”ºo_unsuµÜ‹d
 (
”r
)

469  
”r
 =ğ
ENOTSUP
 ||ƒ¼ =ğ
ENODATA
;

470 
	}
}

472 #ià
USE_XATTR


474 
	$cİy_©Œ_”rÜ
 (
”rÜ_cÚ‹xt
 *
ùx
 
ATTRIBUTE_UNUSED
,

475 cÚ¡ *
fmt
, ...)

477 ià(!
	`”ºo_unsuµÜ‹d
 (
”ºo
))

479 
”r
 = 
”ºo
;

480 
va_li¡
 
­
;

483 
	`va_¡¬t
 (
­
, 
fmt
);

484 
	`v”rÜ
 (0, 
”r
, 
fmt
, 
­
);

485 
	`va_’d
 (
­
);

487 
	}
}

490 
	$cİy_©Œ_®Ë¼Ü
 (
”rÜ_cÚ‹xt
 *
ùx
 
ATTRIBUTE_UNUSED
,

491 cÚ¡ *
fmt
, ...)

493 
”r
 = 
”ºo
;

494 
va_li¡
 
­
;

497 
	`va_¡¬t
 (
­
, 
fmt
);

498 
	`v”rÜ
 (0, 
”r
, 
fmt
, 
­
);

499 
	`va_’d
 (
­
);

500 
	}
}

503 
	$cİy_©Œ_quÙe
 (
”rÜ_cÚ‹xt
 *
ùx
 
ATTRIBUTE_UNUSED
, cÚ¡ *
¡r
)

505  
	`quÙe
 (
¡r
);

506 
	}
}

509 
	$cİy_©Œ_ä“
 (
”rÜ_cÚ‹xt
 *
ùx
 
ATTRIBUTE_UNUSED
,

510 cÚ¡ *
¡r
 
ATTRIBUTE_UNUSED
)

512 
	}
}

517 
boŞ


518 
	$cİy_©Œ
 (cÚ¡ *
¤c_·th
, 
¤c_fd
,

519 cÚ¡ *
d¡_·th
, 
d¡_fd
, 
ı_İtiÚs
 cÚ¡ *
x
)

521 
»t
;

522 
boŞ
 
®l_”rÜs
 = (!
x
->
d©a_cİy_»quœed
 || x->
»quœe_´e£rve_x©Œ
);

523 
boŞ
 
some_”rÜs
 = (!
®l_”rÜs
 && !
x
->
»duû_dŸgno¡ics
);

524 
”rÜ_cÚ‹xt
 
ùx
 =

526 .
”rÜ
 = 
®l_”rÜs
 ? 
cİy_©Œ_®Ë¼Ü
 : 
cİy_©Œ_”rÜ
,

527 .
quÙe
 = 
cİy_©Œ_quÙe
,

528 .
quÙe_ä“
 = 
cİy_©Œ_ä“


530 ià(0 <ğ
¤c_fd
 && 0 <ğ
d¡_fd
)

531 
»t
 = 
	`©Œ_cİy_fd
 (
¤c_·th
, 
¤c_fd
, 
d¡_·th
, 
d¡_fd
, 0,

532 (
®l_”rÜs
 || 
some_”rÜs
 ? &
ùx
 : 
NULL
));

534 
»t
 = 
	`©Œ_cİy_fe
 (
¤c_·th
, 
d¡_·th
, 0,

535 (
®l_”rÜs
 || 
some_”rÜs
 ? &
ùx
 : 
NULL
));

537  
»t
 == 0;

538 
	}
}

541 
boŞ


542 
	$cİy_©Œ
 (cÚ¡ *
¤c_·th
 
ATTRIBUTE_UNUSED
,

543 
¤c_fd
 
ATTRIBUTE_UNUSED
,

544 cÚ¡ *
d¡_·th
 
ATTRIBUTE_UNUSED
,

545 
d¡_fd
 
ATTRIBUTE_UNUSED
,

546 
ı_İtiÚs
 cÚ¡ *
x
 
ATTRIBUTE_UNUSED
)

548  
Œue
;

549 
	}
}

564 
boŞ


565 
	$cİy_dœ
 (cÚ¡ *
¤c_Çme_š
, cÚ¡ *
d¡_Çme_š
, 
boŞ
 
Ãw_d¡
,

566 cÚ¡ 
¡©
 *
¤c_sb
, 
dœ_li¡
 *
ªû¡Üs
,

567 cÚ¡ 
ı_İtiÚs
 *
x
,

568 
boŞ
 *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
,

569 
boŞ
 *
cİy_što_£lf
)

571 *
Çme_¥aû
;

572 *
Çm•
;

573 
ı_İtiÚs
 
nÚ_commªd_lše_İtiÚs
 = *
x
;

574 
boŞ
 
ok
 = 
Œue
;

576 
Çme_¥aû
 = 
	`§vedœ
 (
¤c_Çme_š
);

577 ià(
Çme_¥aû
 =ğ
NULL
)

581 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ‡cûs %s"), 
	`quÙe
 (
¤c_Çme_š
));

582  
çl£
;

587 ià(
x
->
d”eã»nû
 =ğ
DEREF_COMMAND_LINE_ARGUMENTS
)

588 
nÚ_commªd_lše_İtiÚs
.
d”eã»nû
 = 
DEREF_NEVER
;

590 
boŞ
 
Ãw_fœ¡_dœ_ü—‹d
 = 
çl£
;

591 
Çm•
 = 
Çme_¥aû
;

592 *
Çm•
 != '\0')

594 
boŞ
 
loÿl_cİy_što_£lf
;

595 *
¤c_Çme
 = 
	`fe_Çme_cÚÿt
 (
¤c_Çme_š
, 
Çm•
, 
NULL
);

596 *
d¡_Çme
 = 
	`fe_Çme_cÚÿt
 (
d¡_Çme_š
, 
Çm•
, 
NULL
);

597 
boŞ
 
fœ¡_dœ_ü—‹d
 = *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
;

599 
ok
 &ğ
	`cİy_š‹º®
 (
¤c_Çme
, 
d¡_Çme
, 
Ãw_d¡
, 
¤c_sb
->
¡_dev
,

600 
ªû¡Üs
, &
nÚ_commªd_lše_İtiÚs
, 
çl£
,

601 &
fœ¡_dœ_ü—‹d
,

602 &
loÿl_cİy_što_£lf
, 
NULL
);

603 *
cİy_što_£lf
 |ğ
loÿl_cİy_što_£lf
;

605 
	`ä“
 (
d¡_Çme
);

606 
	`ä“
 (
¤c_Çme
);

611 ià(
loÿl_cİy_što_£lf
)

614 
Ãw_fœ¡_dœ_ü—‹d
 |ğ
fœ¡_dœ_ü—‹d
;

615 
Çm•
 +ğ
	`¡¾’
 (namep) + 1;

617 
	`ä“
 (
Çme_¥aû
);

618 *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
 = 
Ãw_fœ¡_dœ_ü—‹d
;

620  
ok
;

621 
	}
}

636 
	$£t_owÃr
 (cÚ¡ 
ı_İtiÚs
 *
x
, cÚ¡ *
d¡_Çme
, 
de¡_desc
,

637 
¡©
 cÚ¡ *
¤c_sb
, 
boŞ
 
Ãw_d¡
,

638 
¡©
 cÚ¡ *
d¡_sb
)

640 
uid_t
 
uid
 = 
¤c_sb
->
¡_uid
;

641 
gid_t
 
gid
 = 
¤c_sb
->
¡_gid
;

649 ià(!
Ãw_d¡
 && (
x
->
´e£rve_mode
 || x->
move_mode
 || x->
£t_mode
))

651 
mode_t
 
Şd_mode
 = 
d¡_sb
->
¡_mode
;

652 
mode_t
 
Ãw_mode
 =

653 (
x
->
´e£rve_mode
 || x->
move_mode
 ? 
¤c_sb
->
¡_mode
 : x->
mode
);

654 
mode_t
 
»¡riùive_‹mp_mode
 = 
Şd_mode
 & 
Ãw_mode
 & 
S_IRWXU
;

656 ià((
USE_ACL


657 || (
Şd_mode
 & 
CHMOD_MODE_BITS


658 & (~
Ãw_mode
 | 
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
)))

659 && 
	`q£t_aş
 (
d¡_Çme
, 
de¡_desc
, 
»¡riùive_‹mp_mode
) != 0)

661 ià(! 
	`owÃr_çu»_ok
 (
x
))

662 
	`”rÜ
 (0, 
”ºo
, 
	`_
("clearing…ermissions for %s"),

663 
	`quÙe
 (
d¡_Çme
));

664  -
x
->
»quœe_´e£rve
;

668 ià(
HAVE_FCHOWN
 && 
de¡_desc
 != -1)

670 ià(
	`fchown
 (
de¡_desc
, 
uid
, 
gid
) == 0)

672 ià(
”ºo
 =ğ
EPERM
 ||ƒ¼nØ=ğ
EINVAL
)

676 
§ved_”ºo
 = 
”ºo
;

677 
	`ignÜe_v®ue
 (
	`fchown
 (
de¡_desc
, -1, 
gid
));

678 
”ºo
 = 
§ved_”ºo
;

683 ià(
	`lchown
 (
d¡_Çme
, 
uid
, 
gid
) == 0)

685 ià(
”ºo
 =ğ
EPERM
 ||ƒ¼nØ=ğ
EINVAL
)

689 
§ved_”ºo
 = 
”ºo
;

690 
	`ignÜe_v®ue
 (
	`lchown
 (
d¡_Çme
, -1, 
gid
));

691 
”ºo
 = 
§ved_”ºo
;

695 ià(! 
	`chown_çu»_ok
 (
x
))

697 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo…reserve ownership for %s"),

698 
	`quÙe
 (
d¡_Çme
));

699 ià(
x
->
»quœe_´e£rve
)

704 
	}
}

712 
	$£t_authÜ
 (cÚ¡ *
d¡_Çme
, 
de¡_desc
, cÚ¡ 
¡©
 *
¤c_sb
)

714 #ià
HAVE_STRUCT_STAT_ST_AUTHOR


719 
fe_t
 
fe
 = (
de¡_desc
 < 0

720 ? 
	`fe_Çme_lookup
 (
d¡_Çme
, 0, 0)

721 : 
	`g‘dpÜt
 (
de¡_desc
));

722 ià(
fe
 =ğ
MACH_PORT_NULL
)

723 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØlooku°f%s"), 
	`quÙe
 (
d¡_Çme
));

726 
”rÜ_t
 
”r
 = 
	`fe_chauthÜ
 (
fe
, 
¤c_sb
->
¡_authÜ
);

727 ià(
”r
)

728 
	`”rÜ
 (0, 
”r
, 
	`_
("failedo…reserve‡uthorship for %s"),

729 
	`quÙe
 (
d¡_Çme
));

730 
	`mach_pÜt_d—Îoÿ‹
 (
	`mach_sk_£lf
 (), 
fe
);

733 (è
d¡_Çme
;

734 (è
de¡_desc
;

735 (è
¤c_sb
;

737 
	}
}

743 
	$fchmod_Ü_lchmod
 (
desc
, cÚ¡ *
Çme
, 
mode_t
 
mode
)

745 #ià
HAVE_FCHMOD


746 ià(0 <ğ
desc
)

747  
	`fchmod
 (
desc
, 
mode
);

749  
	`lchmod
 (
Çme
, 
mode
);

750 
	}
}

752 #iâdeà
HAVE_STRUCT_STAT_ST_BLOCKS


753 
	#HAVE_STRUCT_STAT_ST_BLOCKS
 0

	)

760 
boŞ


761 
	$is_´obably_¥¬£
 (
¡©
 cÚ¡ *
sb
)

763  (
HAVE_STRUCT_STAT_ST_BLOCKS


764 && 
	`S_ISREG
 (
sb
->
¡_mode
)

765 && 
	`ST_NBLOCKS
 (*
sb
è< sb->
¡_size
 / 
ST_NBLOCKSIZE
);

766 
	}
}

781 
boŞ


782 
	$cİy_»g
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

783 cÚ¡ 
ı_İtiÚs
 *
x
,

784 
mode_t
 
d¡_mode
, mode_ˆ
om™‹d_³rmissiÚs
, 
boŞ
 *
Ãw_d¡
,

785 
¡©
 cÚ¡ *
¤c_sb
)

787 *
buf
;

788 *
buf_®loc
 = 
NULL
;

789 *
Çme_®loc
 = 
NULL
;

790 
de¡_desc
;

791 
de¡_”ºo
;

792 
sourû_desc
;

793 
mode_t
 
¤c_mode
 = 
¤c_sb
->
¡_mode
;

794 
¡©
 
sb
;

795 
¡©
 
¤c_İ’_sb
;

796 
boŞ
 
»tuº_v®
 = 
Œue
;

797 
boŞ
 
d©a_cİy_»quœed
 = 
x
->data_copy_required;

799 
sourû_desc
 = 
	`İ’
 (
¤c_Çme
,

800 (
O_RDONLY
 | 
O_BINARY


801 | (
x
->
d”eã»nû
 =ğ
DEREF_NEVER
 ? 
O_NOFOLLOW
 : 0)));

802 ià(
sourû_desc
 < 0)

804 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ o³À% fÜ„—dšg"), 
	`quÙe
 (
¤c_Çme
));

805  
çl£
;

808 ià(
	`f¡©
 (
sourû_desc
, &
¤c_İ’_sb
) != 0)

810 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
¤c_Çme
));

811 
»tuº_v®
 = 
çl£
;

812 
şo£_¤c_desc
;

817 ià(! 
	`SAME_INODE
 (*
¤c_sb
, 
¤c_İ’_sb
))

819 
	`”rÜ
 (0, 0,

820 
	`_
("skipping file %s,‡s it was„eplaced while being copied"),

821 
	`quÙe
 (
¤c_Çme
));

822 
»tuº_v®
 = 
çl£
;

823 
şo£_¤c_desc
;

828 ià(! *
Ãw_d¡
)

830 
İ’_æags
 =

831 
O_WRONLY
 | 
O_BINARY
 | (
x
->
d©a_cİy_»quœed
 ? 
O_TRUNC
 : 0);

832 
de¡_desc
 = 
	`İ’
 (
d¡_Çme
, 
İ’_æags
);

833 
de¡_”ºo
 = 
”ºo
;

840 ià(
x
->
´e£rve_£cur™y_cÚ‹xt
 && 0 <ğ
de¡_desc
)

842 
boŞ
 
®l_”rÜs
 = (!
x
->
d©a_cİy_»quœed


843 || 
x
->
»quœe_´e£rve_cÚ‹xt
);

844 
boŞ
 
some_”rÜs
 = !
®l_”rÜs
 && !
x
->
»duû_dŸgno¡ics
;

845 
£cur™y_cÚ‹xt_t
 
cÚ
 = 
NULL
;

847 ià(
	`g‘fsü—‹cÚ
 (&
cÚ
) < 0)

849 ià(
®l_”rÜs
 || (
some_”rÜs
 && !
	`”ºo_unsuµÜ‹d
 (
”ºo
)))

850 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get file system create context"));

851 ià(
x
->
»quœe_´e£rve_cÚ‹xt
)

853 
»tuº_v®
 = 
çl£
;

854 
şo£_¤c_ªd_d¡_desc
;

858 ià(
cÚ
)

860 ià(
	`f£tfecÚ
 (
de¡_desc
, 
cÚ
) < 0)

862 ià(
®l_”rÜs
 || (
some_”rÜs
 && !
	`”ºo_unsuµÜ‹d
 (
”ºo
)))

863 
	`”rÜ
 (0, 
”ºo
,

864 
	`_
("failedo sethe security context of %so %s"),

865 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
cÚ
));

866 ià(
x
->
»quœe_´e£rve_cÚ‹xt
)

868 
»tuº_v®
 = 
çl£
;

869 
	`ä“cÚ
 (
cÚ
);

870 
şo£_¤c_ªd_d¡_desc
;

873 
	`ä“cÚ
 (
cÚ
);

877 ià(
de¡_desc
 < 0 && 
x
->
uÆšk_de¡_aá”_çed_İ’
)

879 ià(
	`uÆšk
 (
d¡_Çme
) != 0)

881 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
d¡_Çme
));

882 
»tuº_v®
 = 
çl£
;

883 
şo£_¤c_desc
;

885 ià(
x
->
v”bo£
)

886 
	`´štf
 (
	`_
("»moved %s\n"), 
	`quÙe
 (
d¡_Çme
));

889 *
Ãw_d¡
 = 
Œue
;

893 ià(*
Ãw_d¡
)

895 
İ’_w™h_O_CREAT
:;

897 
İ’_æags
 = 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
;

898 
de¡_desc
 = 
	`İ’
 (
d¡_Çme
, 
İ’_æags
 | 
O_EXCL
,

899 
d¡_mode
 & ~
om™‹d_³rmissiÚs
);

900 
de¡_”ºo
 = 
”ºo
;

912 ià(
de¡_desc
 < 0 && 
de¡_”ºo
 =ğ
EEXIST
 && ! 
x
->
move_mode
)

914 
¡©
 
dªglšg_lšk_sb
;

915 ià(
	`l¡©
 (
d¡_Çme
, &
dªglšg_lšk_sb
) == 0

916 && 
	`S_ISLNK
 (
dªglšg_lšk_sb
.
¡_mode
))

918 ià(
x
->
İ’_dªglšg_de¡_symlšk
)

920 
de¡_desc
 = 
	`İ’
 (
d¡_Çme
, 
İ’_æags
,

921 
d¡_mode
 & ~
om™‹d_³rmissiÚs
);

922 
de¡_”ºo
 = 
”ºo
;

926 
	`”rÜ
 (0, 0, 
	`_
("not writinghrough dangling symlink %s"),

927 
	`quÙe
 (
d¡_Çme
));

928 
»tuº_v®
 = 
çl£
;

929 
şo£_¤c_desc
;

936 ià(
de¡_desc
 < 0 && 
de¡_”ºo
 =ğ
EISDIR


937 && *
d¡_Çme
 && d¡_Çme[
	`¡¾’
 (dst_name) - 1] == '/')

938 
de¡_”ºo
 = 
ENOTDIR
;

942 
om™‹d_³rmissiÚs
 = 0;

945 ià(
de¡_desc
 < 0)

957 ià(
de¡_”ºo
 =ğ
ENOENT
 && ! *
Ãw_d¡
 && ! 
x
->
move_mode
)

959 *
Ãw_d¡
 = 1;

960 
İ’_w™h_O_CREAT
;

964 
	`”rÜ
 (0, 
de¡_”ºo
, 
	`_
("cannot create„egular file %s"),

965 
	`quÙe
 (
d¡_Çme
));

966 
»tuº_v®
 = 
çl£
;

967 
şo£_¤c_desc
;

970 ià(
	`f¡©
 (
de¡_desc
, &
sb
) != 0)

972 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
d¡_Çme
));

973 
»tuº_v®
 = 
çl£
;

974 
şo£_¤c_ªd_d¡_desc
;

978 ià(
d©a_cİy_»quœed
 && 
x
->
»æšk_mode
)

980 
boŞ
 
şÚe_ok
 = 
	`şÚe_fe
 (
de¡_desc
, 
sourû_desc
) == 0;

981 ià(
şÚe_ok
 || 
x
->
»æšk_mode
 =ğ
REFLINK_ALWAYS
)

983 ià(!
şÚe_ok
)

985 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo clone %s from %s"),

986 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
¤c_Çme
));

987 
»tuº_v®
 = 
çl£
;

988 
şo£_¤c_ªd_d¡_desc
;

990 
d©a_cİy_»quœed
 = 
çl£
;

994 ià(
d©a_cİy_»quœed
)

996 
ušŒ_t
 
	twÜd
;

999 
size_t
 
buf_®ignm’t
 = 
	`lcm
 (
	`g‘·gesize
 (),  (
wÜd
));

1000 
size_t
 
buf_®ignm’t_¦İ
 =  (
wÜd
è+ 
buf_®ignm’t
 - 1;

1001 
size_t
 
buf_size
 = 
	`io_blksize
 (
sb
);

1003 
	`fdadvi£
 (
sourû_desc
, 0, 0, 
FADVISE_SEQUENTIAL
);

1006 
boŞ
 
make_hŞes
 = 
çl£
;

1007 
boŞ
 
¥¬£_¤c
 = 
çl£
;

1009 ià(
	`S_ISREG
 (
sb
.
¡_mode
))

1013 ià(
x
->
¥¬£_mode
 =ğ
SPARSE_ALWAYS
)

1014 
make_hŞes
 = 
Œue
;

1020 
¥¬£_¤c
 = 
	`is_´obably_¥¬£
 (&
¤c_İ’_sb
);

1021 ià(
x
->
¥¬£_mode
 =ğ
SPARSE_AUTO
 && 
¥¬£_¤c
)

1022 
make_hŞes
 = 
Œue
;

1027 ià(! 
make_hŞes
)

1031 
size_t
 
blcm_max
 = 
	`MIN
 (
SIZE_MAX
, 
SSIZE_MAX
è- 
buf_®ignm’t_¦İ
;

1032 
size_t
 
blcm
 = 
	`bufãr_lcm
 (
	`io_blksize
 (
¤c_İ’_sb
), 
buf_size
,

1033 
blcm_max
);

1037 ià(
	`S_ISREG
 (
¤c_İ’_sb
.
¡_mode
è&& src_İ’_sb.
¡_size
 < 
buf_size
)

1038 
buf_size
 = 
¤c_İ’_sb
.
¡_size
 + 1;

1043 
buf_size
 +ğ
blcm
 - 1;

1044 
buf_size
 -ğbuf_siz% 
blcm
;

1045 ià(
buf_size
 =ğ0 || 
blcm_max
 < buf_size)

1046 
buf_size
 = 
blcm
;

1050 
buf_®loc
 = 
	`xm®loc
 (
buf_size
 + 
buf_®ignm’t_¦İ
);

1051 
buf
 = 
	`±r_®ign
 (
buf_®loc
, 
buf_®ignm’t
);

1053 ià(
¥¬£_¤c
)

1055 
boŞ
 
nÜm®_cİy_»quœed
;

1061 ià(
	`ex‹Á_cİy
 (
sourû_desc
, 
de¡_desc
, 
buf
, 
buf_size
,

1062 
¤c_İ’_sb
.
¡_size
,

1063 
	`S_ISREG
 (
sb
.
¡_mode
è? 
x
->
¥¬£_mode
 : 
SPARSE_NEVER
,

1064 
¤c_Çme
, 
d¡_Çme
, &
nÜm®_cİy_»quœed
))

1065 
´e£rve_m‘ad©a
;

1067 ià(! 
nÜm®_cİy_»quœed
)

1069 
»tuº_v®
 = 
çl£
;

1070 
şo£_¤c_ªd_d¡_desc
;

1074 
off_t
 
n_»ad
;

1075 
boŞ
 
wrÙe_hŞe_©_eof
;

1076 iàĞ! 
	`¥¬£_cİy
 (
sourû_desc
, 
de¡_desc
, 
buf
, 
buf_size
,

1077 
make_hŞes
, 
¤c_Çme
, 
d¡_Çme
,

1078 
UINTMAX_MAX
, &
n_»ad
,

1079 &
wrÙe_hŞe_©_eof
)

1080 || (
wrÙe_hŞe_©_eof


1081 && 
	`árunÿ‹
 (
de¡_desc
, 
n_»ad
) < 0))

1083 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØex‹nd %s"), 
	`quÙe
 (
d¡_Çme
));

1084 
»tuº_v®
 = 
çl£
;

1085 
şo£_¤c_ªd_d¡_desc
;

1089 
´e£rve_m‘ad©a
:

1090 ià(
x
->
´e£rve_time¡amps
)

1092 
time¥ec
imespec[2];

1093 
time¥ec
[0] = 
	`g‘_¡©_©ime
 (
¤c_sb
);

1094 
time¥ec
[1] = 
	`g‘_¡©_mtime
 (
¤c_sb
);

1096 ià(
	`fdutim’s
 (
de¡_desc
, 
d¡_Çme
, 
time¥ec
) != 0)

1098 
	`”rÜ
 (0, 
”ºo
, 
	`_
("´e£rvšgime fÜ %s"), 
	`quÙe
 (
d¡_Çme
));

1099 ià(
x
->
»quœe_´e£rve
)

1101 
»tuº_v®
 = 
çl£
;

1102 
şo£_¤c_ªd_d¡_desc
;

1109 ià(
x
->
´e£rve_owÃrsh
 && ! 
	`SAME_OWNER_AND_GROUP
 (*
¤c_sb
, 
sb
))

1111 
	`£t_owÃr
 (
x
, 
d¡_Çme
, 
de¡_desc
, 
¤c_sb
, *
Ãw_d¡
, &
sb
))

1114 
»tuº_v®
 = 
çl£
;

1115 
şo£_¤c_ªd_d¡_desc
;

1118 
¤c_mode
 &ğ~ (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
);

1126 ià(
x
->
´e£rve_x©Œ
)

1128 
boŞ
 
acûss_chªged
 = 
çl£
;

1130 ià(!(
sb
.
¡_mode
 & 
S_IWUSR
è&& 
	`g‘euid
 () != 0)

1131 
acûss_chªged
 = 
	`fchmod_Ü_lchmod
 (
de¡_desc
, 
d¡_Çme
, 0600) == 0;

1133 ià(!
	`cİy_©Œ
 (
¤c_Çme
, 
sourû_desc
, 
d¡_Çme
, 
de¡_desc
, 
x
)

1134 && 
x
->
»quœe_´e£rve_x©Œ
)

1135 
»tuº_v®
 = 
çl£
;

1137 ià(
acûss_chªged
)

1138 
	`fchmod_Ü_lchmod
 (
de¡_desc
, 
d¡_Çme
, 
d¡_mode
 & ~
om™‹d_³rmissiÚs
);

1141 
	`£t_authÜ
 (
d¡_Çme
, 
de¡_desc
, 
¤c_sb
);

1143 ià(
x
->
´e£rve_mode
 || x->
move_mode
)

1145 ià(
	`cİy_aş
 (
¤c_Çme
, 
sourû_desc
, 
d¡_Çme
, 
de¡_desc
, 
¤c_mode
) != 0

1146 && 
x
->
»quœe_´e£rve
)

1147 
»tuº_v®
 = 
çl£
;

1149 ià(
x
->
£t_mode
)

1151 ià(
	`£t_aş
 (
d¡_Çme
, 
de¡_desc
, 
x
->
mode
) != 0)

1152 
»tuº_v®
 = 
çl£
;

1154 ià(
x
->
ex¶ic™_no_´e£rve_mode
)

1156 ià(
	`£t_aş
 (
d¡_Çme
, 
de¡_desc
, 0666 & ~
	`ÿched_umask
 ()) != 0)

1157 
»tuº_v®
 = 
çl£
;

1159 ià(
om™‹d_³rmissiÚs
)

1161 
om™‹d_³rmissiÚs
 &ğ~ 
	`ÿched_umask
 ();

1162 ià(
om™‹d_³rmissiÚs


1163 && 
	`fchmod_Ü_lchmod
 (
de¡_desc
, 
d¡_Çme
, 
d¡_mode
) != 0)

1165 
	`”rÜ
 (0, 
”ºo
, 
	`_
("preserving…ermissions for %s"),

1166 
	`quÙe
 (
d¡_Çme
));

1167 ià(
x
->
»quœe_´e£rve
)

1168 
»tuº_v®
 = 
çl£
;

1172 
şo£_¤c_ªd_d¡_desc
:

1173 ià(
	`şo£
 (
de¡_desc
) < 0)

1175 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØşo£ %s"), 
	`quÙe
 (
d¡_Çme
));

1176 
»tuº_v®
 = 
çl£
;

1178 
şo£_¤c_desc
:

1179 ià(
	`şo£
 (
sourû_desc
) < 0)

1181 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØşo£ %s"), 
	`quÙe
 (
¤c_Çme
));

1182 
»tuº_v®
 = 
çl£
;

1185 
	`ä“
 (
buf_®loc
);

1186 
	`ä“
 (
Çme_®loc
);

1187  
»tuº_v®
;

1188 
	}
}

1207 
boŞ


1208 
	$§me_fe_ok
 (cÚ¡ *
¤c_Çme
, 
¡©
 cÚ¡ *
¤c_sb
,

1209 cÚ¡ *
d¡_Çme
, 
¡©
 cÚ¡ *
d¡_sb
,

1210 cÚ¡ 
ı_İtiÚs
 *
x
, 
boŞ
 *
»tuº_now
, boŞ *
uÆšk_¤c
)

1212 cÚ¡ 
¡©
 *
¤c_sb_lšk
;

1213 cÚ¡ 
¡©
 *
d¡_sb_lšk
;

1214 
¡©
 
tmp_d¡_sb
;

1215 
¡©
 
tmp_¤c_sb
;

1217 
boŞ
 
§me_lšk
;

1218 
boŞ
 
§me
 = 
	`SAME_INODE
 (*
¤c_sb
, *
d¡_sb
);

1220 *
»tuº_now
 = 
çl£
;

1221 *
uÆšk_¤c
 = 
çl£
;

1228 ià(
§me
 && 
x
->
h¬d_lšk
)

1230 *
»tuº_now
 = 
Œue
;

1231  
Œue
;

1234 ià(
x
->
d”eã»nû
 =ğ
DEREF_NEVER
)

1236 
§me_lšk
 = 
§me
;

1241 ià(
	`S_ISLNK
 (
¤c_sb
->
¡_mode
è&& S_ISLNK (
d¡_sb
->st_mode))

1243 
boŞ
 
¢
 = 
	`§me_Çme
 (
¤c_Çme
, 
d¡_Çme
);

1244 iàĞ! 
¢
)

1247 ià(
x
->
backup_ty³
 !ğ
no_backups
)

1248  
Œue
;

1256 ià(
§me_lšk
)

1258 *
uÆšk_¤c
 = 
Œue
;

1259 *
»tuº_now
 = 
Œue
;

1260  
Œue
;

1264  ! 
¢
;

1267 
¤c_sb_lšk
 = 
¤c_sb
;

1268 
d¡_sb_lšk
 = 
d¡_sb
;

1272 ià(!
§me
)

1273  
Œue
;

1275 ià(
	`l¡©
 (
d¡_Çme
, &
tmp_d¡_sb
) != 0

1276 || 
	`l¡©
 (
¤c_Çme
, &
tmp_¤c_sb
) != 0)

1277  
Œue
;

1279 
¤c_sb_lšk
 = &
tmp_¤c_sb
;

1280 
d¡_sb_lšk
 = &
tmp_d¡_sb
;

1282 
§me_lšk
 = 
	`SAME_INODE
 (*
¤c_sb_lšk
, *
d¡_sb_lšk
);

1289 ià(
	`S_ISLNK
 (
¤c_sb_lšk
->
¡_mode
è&& S_ISLNK (
d¡_sb_lšk
->st_mode)

1290 && 
x
->
uÆšk_de¡_befÜe_İ’šg
)

1291  
Œue
;

1299 ià(
x
->
backup_ty³
 !ğ
no_backups
)

1301 ià(!
§me_lšk
)

1319 iàĞ! 
x
->
move_mode


1320 && 
x
->
d”eã»nû
 !ğ
DEREF_NEVER


1321 && 
	`S_ISLNK
 (
¤c_sb_lšk
->
¡_mode
)

1322 && ! 
	`S_ISLNK
 (
d¡_sb_lšk
->
¡_mode
))

1323  
çl£
;

1325  
Œue
;

1328  ! 
	`§me_Çme
 (
¤c_Çme
, 
d¡_Çme
);

1339 ià(
x
->
h¬d_lšk


1340 || !
	`S_ISLNK
 (
¤c_sb_lšk
->
¡_mode
)

1341 || 
	`S_ISLNK
 (
d¡_sb_lšk
->
¡_mode
))

1342  
Œue
;

1344 ià(
x
->
d”eã»nû
 !ğ
DEREF_NEVER
)

1345  
Œue
;

1353 ià(
x
->
move_mode
 || x->
uÆšk_de¡_befÜe_İ’šg
)

1355 ià(
	`S_ISLNK
 (
d¡_sb_lšk
->
¡_mode
))

1356  
Œue
;

1358 ià(
§me_lšk


1359 && 1 < 
d¡_sb_lšk
->
¡_Æšk


1360 && ! 
	`§me_Çme
 (
¤c_Çme
, 
d¡_Çme
))

1362 ià(
x
->
move_mode
)

1364 *
uÆšk_¤c
 = 
Œue
;

1365 *
»tuº_now
 = 
Œue
;

1367  
Œue
;

1373 ià(!
	`S_ISLNK
 (
¤c_sb_lšk
->
¡_mode
è&& !S_ISLNK (
d¡_sb_lšk
->st_mode))

1375 ià(!
	`SAME_INODE
 (*
¤c_sb_lšk
, *
d¡_sb_lšk
))

1376  
Œue
;

1379 ià(
x
->
h¬d_lšk
)

1381 *
»tuº_now
 = 
Œue
;

1382  
Œue
;

1406 ià(
x
->
move_mode


1407 && 
	`S_ISLNK
 (
¤c_sb
->
¡_mode
)

1408 && 1 < 
d¡_sb_lšk
->
¡_Æšk
)

1410 *
abs_¤c
 = 
	`ÿnÚiÿlize_fe_Çme
 (
¤c_Çme
);

1411 ià(
abs_¤c
)

1413 
boŞ
 
»suÉ
 = ! 
	`§me_Çme
 (
abs_¤c
, 
d¡_Çme
);

1414 
	`ä“
 (
abs_¤c
);

1415  
»suÉ
;

1422 ià(
x
->
uÆšk_de¡_befÜe_İ’šg


1423 && 
	`S_ISLNK
 (
d¡_sb_lšk
->
¡_mode
))

1424  
d¡_sb_lšk
->
¡_dev
 =ğ
¤c_sb_lšk
->st_dev;

1426 ià(
x
->
d”eã»nû
 =ğ
DEREF_NEVER
)

1428 iàĞ! 
	`S_ISLNK
 (
¤c_sb_lšk
->
¡_mode
))

1429 
tmp_¤c_sb
 = *
¤c_sb_lšk
;

1430 ià(
	`¡©
 (
¤c_Çme
, &
tmp_¤c_sb
) != 0)

1431  
Œue
;

1433 iàĞ! 
	`S_ISLNK
 (
d¡_sb_lšk
->
¡_mode
))

1434 
tmp_d¡_sb
 = *
d¡_sb_lšk
;

1435 ià(
	`¡©
 (
d¡_Çme
, &
tmp_d¡_sb
) != 0)

1436  
Œue
;

1438 iàĞ! 
	`SAME_INODE
 (
tmp_¤c_sb
, 
tmp_d¡_sb
))

1439  
Œue
;

1442 ià(
x
->
h¬d_lšk
)

1444 *
»tuº_now
 = 
Œue
;

1445  
Œue
;

1449  
çl£
;

1450 
	}
}

1454 
boŞ


1455 
	$wr™abË_de¡š©iÚ
 (cÚ¡ *
fe
, 
mode_t
 
mode
)

1457  (
	`S_ISLNK
 (
mode
)

1458 || 
	`ÿn_wr™e_ªy_fe
 ()

1459 || 
	`euidacûss
 (
fe
, 
W_OK
) == 0);

1460 
	}
}

1463 
	$ov”wr™e_´om±
 (cÚ¡ *
d¡_Çme
, 
¡©
 cÚ¡ *
d¡_sb
)

1465 ià(! 
	`wr™abË_de¡š©iÚ
 (
d¡_Çme
, 
d¡_sb
->
¡_mode
))

1467 
³rms
[12];

1468 
	`¡rmode
 (
d¡_sb
->
¡_mode
, 
³rms
);

1469 
³rms
[10] = '\0';

1470 
	`årštf
 (
¡d”r
,

1471 
	`_
("%s:ryo overwrite %s, overriding mode %04lo (%s)? "),

1472 
´og¿m_Çme
, 
	`quÙe
 (
d¡_Çme
),

1473 (è(
d¡_sb
->
¡_mode
 & 
CHMOD_MODE_BITS
),

1474 &
³rms
[1]);

1478 
	`årštf
 (
¡d”r
, 
	`_
("%s: overwrite %s? "),

1479 
´og¿m_Çme
, 
	`quÙe
 (
d¡_Çme
));

1481 
	}
}

1486 
	$de¡_šfo_š™
 (
ı_İtiÚs
 *
x
)

1488 
x
->
de¡_šfo


1489 ğ
	`hash_š™Ÿlize
 (
DEST_INFO_INITIAL_CAPACITY
,

1490 
NULL
,

1491 
ŒË_hash
,

1492 
ŒË_com·»
,

1493 
ŒË_ä“
);

1494 
	}
}

1499 
	$¤c_šfo_š™
 (
ı_İtiÚs
 *
x
)

1510 
x
->
¤c_šfo


1511 ğ
	`hash_š™Ÿlize
 (
DEST_INFO_INITIAL_CAPACITY
,

1512 
NULL
,

1513 
ŒË_hash_no_Çme
,

1514 
ŒË_com·»
,

1515 
ŒË_ä“
);

1516 
	}
}

1524 
boŞ


1525 
	$abªdÚ_move
 (cÚ¡ 
ı_İtiÚs
 *
x
,

1526 cÚ¡ *
d¡_Çme
,

1527 
¡©
 cÚ¡ *
d¡_sb
)

1529 
	`as£¹
 (
x
->
move_mode
);

1530  (
x
->
š‹¿ùive
 =ğ
I_ALWAYS_NO


1531 || ((
x
->
š‹¿ùive
 =ğ
I_ASK_USER


1532 || (
x
->
š‹¿ùive
 =ğ
I_UNSPECIFIED


1533 && 
x
->
¡dš_‰y


1534 && ! 
	`wr™abË_de¡š©iÚ
 (
d¡_Çme
, 
d¡_sb
->
¡_mode
)))

1535 && (
	`ov”wr™e_´om±
 (
d¡_Çme
, 
d¡_sb
), 1)

1536 && ! 
	`ye¢o
 ()));

1537 
	}
}

1543 
	$em™_v”bo£
 (cÚ¡ *
¤c
, cÚ¡ *
d¡
, cÚ¡ *
backup_d¡_Çme
)

1545 
	`´štf
 ("% -> %s", 
	`quÙe_n
 (0, 
¤c
), quÙe_À(1, 
d¡
));

1546 ià(
backup_d¡_Çme
)

1547 
	`´štf
 (
	`_
(" (backup: %s)"), 
	`quÙe
 (
backup_d¡_Çme
));

1548 
	`putch¬
 ('\n');

1549 
	}
}

1553 
	$»¡Üe_deçuÉ_fsü—‹cÚ_Ü_d›
 ()

1555 ià(
	`£tfsü—‹cÚ
 (
NULL
) != 0)

1556 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

1557 
	`_
("failedo„estorehe default file creation context"));

1558 
	}
}

1566 
boŞ


1567 
	$ü—‹_h¬d_lšk
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

1568 
boŞ
 
»¶aû
, boŞ 
v”bo£
)

1571 
boŞ
 
lšk_çed
 = (
	`lšk©
 (
AT_FDCWD
, 
¤c_Çme
, AT_FDCWD, 
d¡_Çme
, 0) != 0);

1575 ià(
lšk_çed
 && 
»¶aû
 && 
”ºo
 =ğ
EEXIST
)

1577 ià(
	`uÆšk
 (
d¡_Çme
) != 0)

1579 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
d¡_Çme
));

1580  
çl£
;

1582 ià(
v”bo£
)

1583 
	`´štf
 (
	`_
("»moved %s\n"), 
	`quÙe
 (
d¡_Çme
));

1584 
lšk_çed
 = (
	`lšk©
 (
AT_FDCWD
, 
¤c_Çme
, AT_FDCWD, 
d¡_Çme
, 0) != 0);

1587 ià(
lšk_çed
)

1589 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot create hard†ink %so %s"),

1590 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
¤c_Çme
));

1591  
çl£
;

1594  
Œue
;

1595 
	}
}

1609 
boŞ


1610 
	$cİy_š‹º®
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

1611 
boŞ
 
Ãw_d¡
,

1612 
dev_t
 
deviû
,

1613 
dœ_li¡
 *
ªû¡Üs
,

1614 cÚ¡ 
ı_İtiÚs
 *
x
,

1615 
boŞ
 
commªd_lše_¬g
,

1616 
boŞ
 *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
,

1617 
boŞ
 *
cİy_što_£lf
,

1618 
boŞ
 *
»Çme_sucûeded
)

1620 
¡©
 
¤c_sb
;

1621 
¡©
 
d¡_sb
;

1622 
mode_t
 
¤c_mode
;

1623 
mode_t
 
d¡_mode
 
	`IF_LINT
 ( = 0);

1624 
mode_t
 
d¡_mode_b™s
;

1625 
mode_t
 
om™‹d_³rmissiÚs
;

1626 
boŞ
 
»¡Üe_d¡_mode
 = 
çl£
;

1627 *
—¾›r_fe
 = 
NULL
;

1628 *
d¡_backup
 = 
NULL
;

1629 
boŞ
 
backup_sucûeded
 = 
çl£
;

1630 
boŞ
 
d–ayed_ok
;

1631 
boŞ
 
cİ›d_as_»guÏr
 = 
çl£
;

1632 
boŞ
 
de¡_is_symlšk
 = 
çl£
;

1633 
boŞ
 
have_d¡_l¡©
 = 
çl£
;

1635 ià(
x
->
move_mode
 && 
»Çme_sucûeded
)

1636 *
»Çme_sucûeded
 = 
çl£
;

1638 *
cİy_što_£lf
 = 
çl£
;

1640 ià(
	`XSTAT
 (
x
, 
¤c_Çme
, &
¤c_sb
) != 0)

1642 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
¤c_Çme
));

1643  
çl£
;

1646 
¤c_mode
 = 
¤c_sb
.
¡_mode
;

1648 ià(
	`S_ISDIR
 (
¤c_mode
è&& !
x
->
»cursive
)

1650 
	`”rÜ
 (0, 0, 
	`_
("om™tšg dœeùÜy %s"), 
	`quÙe
 (
¤c_Çme
));

1651  
çl£
;

1658 ià(
commªd_lše_¬g
)

1660 iàĞ! 
	`S_ISDIR
 (
¤c_sb
.
¡_mode
)

1661 && 
x
->
backup_ty³
 =ğ
no_backups


1662 && 
	`£’_fe
 (
x
->
¤c_šfo
, 
¤c_Çme
, &
¤c_sb
))

1664 
	`”rÜ
 (0, 0, 
	`_
("warning: source file %s specified morehan once"),

1665 
	`quÙe
 (
¤c_Çme
));

1666  
Œue
;

1669 
	`»cÜd_fe
 (
x
->
¤c_šfo
, 
¤c_Çme
, &
¤c_sb
);

1672 ià(!
Ãw_d¡
)

1680 
boŞ
 
u£_¡©
 =

1681 ((
	`S_ISREG
 (
¤c_mode
)

1682 || (
x
->
cİy_as_»guÏr


1683 && ! (
	`S_ISDIR
 (
¤c_mode
è|| 
	`S_ISLNK
 (src_mode))))

1684 && ! (
x
->
move_mode
 || x->
symbŞic_lšk
 || x->
h¬d_lšk


1685 || 
x
->
backup_ty³
 !ğ
no_backups


1686 || 
x
->
uÆšk_de¡_befÜe_İ’šg
));

1687 ià((
u£_¡©


1688 ? 
	`¡©
 (
d¡_Çme
, &
d¡_sb
)

1689 : 
	`l¡©
 (
d¡_Çme
, &
d¡_sb
))

1692 ià(
”ºo
 !ğ
ENOENT
)

1694 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
d¡_Çme
));

1695  
çl£
;

1699 
Ãw_d¡
 = 
Œue
;

1705 
boŞ
 
»tuº_now
;

1706 
boŞ
 
uÆšk_¤c
;

1708 
have_d¡_l¡©
 = !
u£_¡©
;

1709 ià(! 
	`§me_fe_ok
 (
¤c_Çme
, &
¤c_sb
, 
d¡_Çme
, &
d¡_sb
,

1710 
x
, &
»tuº_now
, &
uÆšk_¤c
))

1712 
	`”rÜ
 (0, 0, 
	`_
("%s‡nd %s‡rehe same file"),

1713 
	`quÙe_n
 (0, 
¤c_Çme
), quÙe_À(1, 
d¡_Çme
));

1714  
çl£
;

1717 ià(!
	`S_ISDIR
 (
¤c_mode
è&& 
x
->
upd©e
)

1723 
İtiÚs
 = ((
x
->
´e£rve_time¡amps


1724 && ! (
x
->
move_mode


1725 && 
d¡_sb
.
¡_dev
 =ğ
¤c_sb
.st_dev))

1726 ? 
UTIMECMP_TRUNCATE_SOURCE


1729 ià(0 <ğ
	`utimecmp
 (
d¡_Çme
, &
d¡_sb
, &
¤c_sb
, 
İtiÚs
))

1735 ià(
»Çme_sucûeded
)

1736 *
»Çme_sucûeded
 = 
Œue
;

1743 
—¾›r_fe
 = 
	`»memb”_cİ›d
 (
d¡_Çme
, 
¤c_sb
.
¡_šo
,

1744 
¤c_sb
.
¡_dev
);

1745 ià(
—¾›r_fe
)

1749 ià(! 
	`ü—‹_h¬d_lšk
 (
—¾›r_fe
, 
d¡_Çme
, 
Œue
,

1750 
x
->
v”bo£
))

1752 
un_backup
;

1756  
Œue
;

1767 ià(
x
->
move_mode
)

1769 ià(
	`abªdÚ_move
 (
x
, 
d¡_Çme
, &
d¡_sb
)

1770 || (
uÆšk_¤c
 && 
	`uÆšk
 (
¤c_Çme
) == 0))

1774 ià(
»Çme_sucûeded
)

1775 *
»Çme_sucûeded
 = 
Œue
;

1776 ià(
uÆšk_¤c
 && 
x
->
v”bo£
)

1777 
	`´štf
 (
	`_
("»moved %s\n"), 
	`quÙe
 (
¤c_Çme
));

1778  
Œue
;

1780 ià(
uÆšk_¤c
)

1782 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
¤c_Çme
));

1783  
çl£
;

1788 ià(! 
	`S_ISDIR
 (
¤c_mode
)

1789 && (
x
->
š‹¿ùive
 =ğ
I_ALWAYS_NO


1790 || (
x
->
š‹¿ùive
 =ğ
I_ASK_USER


1791 && (
	`ov”wr™e_´om±
 (
d¡_Çme
, &
d¡_sb
), 1)

1792 && ! 
	`ye¢o
 ())))

1793  
Œue
;

1796 ià(
»tuº_now
)

1797  
Œue
;

1799 ià(!
	`S_ISDIR
 (
d¡_sb
.
¡_mode
))

1801 ià(
	`S_ISDIR
 (
¤c_mode
))

1803 ià(
x
->
move_mode
 && x->
backup_ty³
 !ğ
no_backups
)

1810 
	`”rÜ
 (0, 0,

1811 
	`_
("cannot overwrite‚on-directory %s with directory %s"),

1812 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
¤c_Çme
));

1813  
çl£
;

1824 ià(
commªd_lše_¬g


1825 && 
x
->
backup_ty³
 !ğ
numb”ed_backups


1826 && 
	`£’_fe
 (
x
->
de¡_šfo
, 
d¡_Çme
, &
d¡_sb
))

1828 
	`”rÜ
 (0, 0,

1829 
	`_
("will‚ot overwrite just-created %s with %s"),

1830 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
¤c_Çme
));

1831  
çl£
;

1835 ià(!
	`S_ISDIR
 (
¤c_mode
))

1837 ià(
	`S_ISDIR
 (
d¡_sb
.
¡_mode
))

1839 ià(
x
->
move_mode
 && x->
backup_ty³
 !ğ
no_backups
)

1846 
	`”rÜ
 (0, 0,

1847 
	`_
("cannot overwrite directory %s with‚on-directory"),

1848 
	`quÙe
 (
d¡_Çme
));

1849  
çl£
;

1854 ià(
x
->
move_mode
)

1857 ià(
	`S_ISDIR
 (
¤c_sb
.
¡_mode
è&& !S_ISDIR (
d¡_sb
.st_mode)

1858 && 
x
->
backup_ty³
 =ğ
no_backups
)

1860 
	`”rÜ
 (0, 0,

1861 
	`_
("cannot move directory onto‚on-directory: %s -> %s"),

1862 
	`quÙe_n
 (0, 
¤c_Çme
), quÙe_À(0, 
d¡_Çme
));

1863  
çl£
;

1867 ià(
x
->
backup_ty³
 !ğ
no_backups


1870 && ! 
	`dÙ_Ü_dÙdÙ
 (
	`Ï¡_compÚ’t
 (
¤c_Çme
))

1876 && (
x
->
move_mode
 || ! 
	`S_ISDIR
 (
d¡_sb
.
¡_mode
)))

1878 *
tmp_backup
 = 
	`fšd_backup_fe_Çme
 (
d¡_Çme
,

1879 
x
->
backup_ty³
);

1887 ià(
	`STREQ
 (
tmp_backup
, 
¤c_Çme
))

1889 cÚ¡ *
fmt
;

1890 
fmt
 = (
x
->
move_mode


1891 ? 
	`_
("backing up %s would destroy source; %s‚ot moved")

1892 : 
	`_
("backing up %s would destroy source; %s‚ot copied"));

1893 
	`”rÜ
 (0, 0, 
fmt
,

1894 
	`quÙe_n
 (0, 
d¡_Çme
),

1895 
	`quÙe_n
 (1, 
¤c_Çme
));

1896 
	`ä“
 (
tmp_backup
);

1897  
çl£
;

1905 
	`ASSIGN_STRDUPA
 (
d¡_backup
, 
tmp_backup
);

1906 
	`ä“
 (
tmp_backup
);

1911 ià(
	`»Çme
 (
d¡_Çme
, 
d¡_backup
) != 0)

1913 ià(
”ºo
 !ğ
ENOENT
)

1915 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ backu°%s"), 
	`quÙe
 (
d¡_Çme
));

1916  
çl£
;

1920 
d¡_backup
 = 
NULL
;

1925 
backup_sucûeded
 = 
Œue
;

1927 
Ãw_d¡
 = 
Œue
;

1929 ià(! 
	`S_ISDIR
 (
d¡_sb
.
¡_mode
)

1931 && ! 
x
->
move_mode


1932 && (
x
->
uÆšk_de¡_befÜe_İ’šg


1933 || (
x
->
´e£rve_lšks
 && 1 < 
d¡_sb
.
¡_Æšk
)

1934 || (
x
->
d”eã»nû
 =ğ
DEREF_NEVER


1935 && ! 
	`S_ISREG
 (
¤c_sb
.
¡_mode
))

1938 ià(
	`uÆšk
 (
d¡_Çme
è!ğ0 && 
”ºo
 !ğ
ENOENT
)

1940 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
d¡_Çme
));

1941  
çl£
;

1943 
Ãw_d¡
 = 
Œue
;

1944 ià(
x
->
v”bo£
)

1945 
	`´štf
 (
	`_
("»moved %s\n"), 
	`quÙe
 (
d¡_Çme
));

1952 ià(
commªd_lše_¬g


1953 && 
x
->
de¡_šfo


1954 && ! 
x
->
move_mode


1955 && 
x
->
backup_ty³
 =ğ
no_backups
)

1957 
boŞ
 
l¡©_ok
 = 
Œue
;

1958 
¡©
 
tmp_buf
;

1959 
¡©
 *
d¡_l¡©_sb
;

1963 ià(
have_d¡_l¡©
)

1964 
d¡_l¡©_sb
 = &
d¡_sb
;

1967 ià(
	`l¡©
 (
d¡_Çme
, &
tmp_buf
) == 0)

1968 
d¡_l¡©_sb
 = &
tmp_buf
;

1970 
l¡©_ok
 = 
çl£
;

1974 ià(
l¡©_ok


1975 && 
	`S_ISLNK
 (
d¡_l¡©_sb
->
¡_mode
)

1976 && 
	`£’_fe
 (
x
->
de¡_šfo
, 
d¡_Çme
, 
d¡_l¡©_sb
))

1978 
	`”rÜ
 (0, 0,

1979 
	`_
("will‚ot copy %shrough just-created symlink %s"),

1980 
	`quÙe_n
 (0, 
¤c_Çme
), quÙe_À(1, 
d¡_Çme
));

1981  
çl£
;

1988 ià(
x
->
v”bo£
 && !
	`S_ISDIR
 (
¤c_mode
))

1989 
	`em™_v”bo£
 (
¤c_Çme
, 
d¡_Çme
, 
backup_sucûeded
 ? 
d¡_backup
 : 
NULL
);

2021 ià(
x
->
move_mode
 && 
¤c_sb
.
¡_Æšk
 == 1)

2023 
—¾›r_fe
 = 
	`¤c_to_de¡_lookup
 (
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2025 ià(
x
->
´e£rve_lšks


2026 && !
x
->
h¬d_lšk


2027 && (1 < 
¤c_sb
.
¡_Æšk


2028 || (
commªd_lše_¬g


2029 && 
x
->
d”eã»nû
 =ğ
DEREF_COMMAND_LINE_ARGUMENTS
)

2030 || 
x
->
d”eã»nû
 =ğ
DEREF_ALWAYS
))

2032 
—¾›r_fe
 = 
	`»memb”_cİ›d
 (
d¡_Çme
, 
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2034 ià(
x
->
»cursive
 && 
	`S_ISDIR
 (
¤c_mode
))

2036 ià(
commªd_lše_¬g
)

2037 
—¾›r_fe
 = 
	`»memb”_cİ›d
 (
d¡_Çme
, 
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2039 
—¾›r_fe
 = 
	`¤c_to_de¡_lookup
 (
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2045 ià(
—¾›r_fe
)

2050 ià(
	`S_ISDIR
 (
¤c_mode
))

2054 ià(
	`§me_Çme
 (
¤c_Çme
, 
—¾›r_fe
))

2056 
	`”rÜ
 (0, 0, 
	`_
("cannot copy‡ directory, %s, into itself, %s"),

2057 
	`quÙe_n
 (0, 
tİ_Ëv–_¤c_Çme
),

2058 
	`quÙe_n
 (1, 
tİ_Ëv–_d¡_Çme
));

2059 *
cİy_što_£lf
 = 
Œue
;

2060 
un_backup
;

2062 ià(
x
->
d”eã»nû
 =ğ
DEREF_ALWAYS
)

2073 
	`”rÜ
 (0, 0, 
	`_
("will‚ot create hard†ink %so directory %s"),

2074 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
—¾›r_fe
));

2075 
un_backup
;

2080 ià(! 
	`ü—‹_h¬d_lšk
 (
—¾›r_fe
, 
d¡_Çme
, 
Œue
, 
x
->
v”bo£
))

2081 
un_backup
;

2083  
Œue
;

2087 ià(
x
->
move_mode
)

2089 ià(
	`»Çme
 (
¤c_Çme
, 
d¡_Çme
) == 0)

2091 ià(
x
->
v”bo£
 && 
	`S_ISDIR
 (
¤c_mode
))

2092 
	`em™_v”bo£
 (
¤c_Çme
, 
d¡_Çme
,

2093 
backup_sucûeded
 ? 
d¡_backup
 : 
NULL
);

2095 ià(
»Çme_sucûeded
)

2096 *
»Çme_sucûeded
 = 
Œue
;

2098 ià(
commªd_lše_¬g
)

2107 
	`»cÜd_fe
 (
x
->
de¡_šfo
, 
d¡_Çme
, &
¤c_sb
);

2110  
Œue
;

2118 ià(
”ºo
 =ğ
EINVAL
)

2123 
	`”rÜ
 (0, 0, 
	`_
("cannot move %so‡ subdirectory of itself, %s"),

2124 
	`quÙe_n
 (0, 
tİ_Ëv–_¤c_Çme
),

2125 
	`quÙe_n
 (1, 
tİ_Ëv–_d¡_Çme
));

2131 *
cİy_što_£lf
 = 
Œue
;

2135  
Œue
;

2153 ià(
”ºo
 !ğ
EXDEV
)

2165 
	`”rÜ
 (0, 
”ºo
,

2166 
	`_
("cannot move %so %s"),

2167 
	`quÙe_n
 (0, 
¤c_Çme
), quÙe_À(1, 
d¡_Çme
));

2168 
	`fÜg‘_ü—‹d
 (
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2169  
çl£
;

2175 ià(
	`uÆšk
 (
d¡_Çme
è!ğ0 && 
”ºo
 !ğ
ENOENT
)

2177 
	`”rÜ
 (0, 
”ºo
,

2178 
	`_
("inter-device move failed: %so %s; unableo„emovearget"),

2179 
	`quÙe_n
 (0, 
¤c_Çme
), quÙe_À(1, 
d¡_Çme
));

2180 
	`fÜg‘_ü—‹d
 (
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2181  
çl£
;

2184 
Ãw_d¡
 = 
Œue
;

2191 
d¡_mode_b™s
 = (
x
->
£t_mode
 ? x->
mode
 : 
¤c_mode
è& 
CHMOD_MODE_BITS
;

2192 
om™‹d_³rmissiÚs
 =

2193 (
d¡_mode_b™s


2194 & (
x
->
´e£rve_owÃrsh
 ? 
S_IRWXG
 | 
S_IRWXO


2195 : 
	`S_ISDIR
 (
¤c_mode
è? 
S_IWGRP
 | 
S_IWOTH


2198 
d–ayed_ok
 = 
Œue
;

2200 ià(
x
->
´e£rve_£cur™y_cÚ‹xt
)

2202 
boŞ
 
®l_”rÜs
 = !
x
->
d©a_cİy_»quœed
 || x->
»quœe_´e£rve_cÚ‹xt
;

2203 
boŞ
 
some_”rÜs
 = !
®l_”rÜs
 && !
x
->
»duû_dŸgno¡ics
;

2204 
£cur™y_cÚ‹xt_t
 
cÚ
;

2206 ià(0 <ğ
	`lg‘fecÚ
 (
¤c_Çme
, &
cÚ
))

2208 ià(
	`£tfsü—‹cÚ
 (
cÚ
) < 0)

2210 ià(
®l_”rÜs
 || (
some_”rÜs
 && !
	`”ºo_unsuµÜ‹d
 (
”ºo
)))

2211 
	`”rÜ
 (0, 
”ºo
,

2212 
	`_
("failedo set default file creation contexto %s"),

2213 
	`quÙe
 (
cÚ
));

2214 ià(
x
->
»quœe_´e£rve_cÚ‹xt
)

2216 
	`ä“cÚ
 (
cÚ
);

2217  
çl£
;

2220 
	`ä“cÚ
 (
cÚ
);

2224 ià(
®l_”rÜs
 || (
some_”rÜs
 && !
	`”ºo_unsuµÜ‹d
 (
”ºo
)))

2226 
	`”rÜ
 (0, 
”ºo
,

2227 
	`_
("failedo get security context of %s"),

2228 
	`quÙe
 (
¤c_Çme
));

2230 ià(
x
->
»quœe_´e£rve_cÚ‹xt
)

2231  
çl£
;

2235 ià(
	`S_ISDIR
 (
¤c_mode
))

2237 
dœ_li¡
 *
dœ
;

2244 ià(
	`is_ªû¡Ü
 (&
¤c_sb
, 
ªû¡Üs
))

2246 
	`”rÜ
 (0, 0, 
	`_
("cannot copy cyclic symbolic†ink %s"),

2247 
	`quÙe
 (
¤c_Çme
));

2248 
un_backup
;

2253 
dœ
 = 
	`®loÿ
 ( *dir);

2254 
dœ
->
·»Á
 = 
ªû¡Üs
;

2255 
dœ
->
šo
 = 
¤c_sb
.
¡_šo
;

2256 
dœ
->
dev
 = 
¤c_sb
.
¡_dev
;

2258 ià(
Ãw_d¡
 || !
	`S_ISDIR
 (
d¡_sb
.
¡_mode
))

2264 ià(
	`mkdœ
 (
d¡_Çme
, 
d¡_mode_b™s
 & ~
om™‹d_³rmissiÚs
) != 0)

2266 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot create directory %s"),

2267 
	`quÙe
 (
d¡_Çme
));

2268 
un_backup
;

2275 ià(
	`l¡©
 (
d¡_Çme
, &
d¡_sb
) != 0)

2277 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
d¡_Çme
));

2278 
un_backup
;

2280 ià((
d¡_sb
.
¡_mode
 & 
S_IRWXU
) != S_IRWXU)

2284 
d¡_mode
 = 
d¡_sb
.
¡_mode
;

2285 
»¡Üe_d¡_mode
 = 
Œue
;

2287 ià(
	`lchmod
 (
d¡_Çme
, 
d¡_mode
 | 
S_IRWXU
) != 0)

2289 
	`”rÜ
 (0, 
”ºo
, 
	`_
("setting…ermissions for %s"),

2290 
	`quÙe
 (
d¡_Çme
));

2291 
un_backup
;

2299 ià(!*
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
)

2301 
	`»memb”_cİ›d
 (
d¡_Çme
, 
d¡_sb
.
¡_šo
, d¡_sb.
¡_dev
);

2302 *
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
 = 
Œue
;

2305 ià(
x
->
v”bo£
)

2306 
	`em™_v”bo£
 (
¤c_Çme
, 
d¡_Çme
, 
NULL
);

2310 
om™‹d_³rmissiÚs
 = 0;

2314 ià(
x
->
Úe_fe_sy¡em
 && 
deviû
 !ğ0 && deviû !ğ
¤c_sb
.
¡_dev
)

2325 
d–ayed_ok
 = 
	`cİy_dœ
 (
¤c_Çme
, 
d¡_Çme
, 
Ãw_d¡
, &
¤c_sb
, 
dœ
, 
x
,

2326 
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
,

2327 
cİy_što_£lf
);

2330 ià(
x
->
symbŞic_lšk
)

2332 
de¡_is_symlšk
 = 
Œue
;

2333 ià(*
¤c_Çme
 != '/')

2336 
¡©
 
dÙ_sb
;

2337 
¡©
 
d¡_·»Á_sb
;

2338 *
d¡_·»Á
;

2339 
boŞ
 
š_cu¼’t_dœ
;

2341 
d¡_·»Á
 = 
	`dœ_Çme
 (
d¡_Çme
);

2343 
š_cu¼’t_dœ
 = (
	`STREQ
 (".", 
d¡_·»Á
)

2347 || 
	`¡©
 (".", &
dÙ_sb
) != 0

2348 || 
	`¡©
 (
d¡_·»Á
, &
d¡_·»Á_sb
) != 0

2349 || 
	`SAME_INODE
 (
dÙ_sb
, 
d¡_·»Á_sb
));

2350 
	`ä“
 (
d¡_·»Á
);

2352 ià(! 
š_cu¼’t_dœ
)

2354 
	`”rÜ
 (0, 0,

2355 
	`_
("%s: can make„elative symbolic†inks only in current directory"),

2356 
	`quÙe
 (
d¡_Çme
));

2357 
un_backup
;

2360 ià(
	`symlšk
 (
¤c_Çme
, 
d¡_Çme
) != 0)

2362 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot create symbolic†ink %so %s"),

2363 
	`quÙe_n
 (0, 
d¡_Çme
), quÙe_À(1, 
¤c_Çme
));

2364 
un_backup
;

2383 ià(
x
->
h¬d_lšk


2384 && !(
LINK_FOLLOWS_SYMLINKS
 && 
	`S_ISLNK
 (
¤c_mode
)

2385 && 
x
->
d”eã»nû
 =ğ
DEREF_NEVER
))

2387 ià(! 
	`ü—‹_h¬d_lšk
 (
¤c_Çme
, 
d¡_Çme
, 
çl£
, false))

2388 
un_backup
;

2390 ià(
	`S_ISREG
 (
¤c_mode
)

2391 || (
x
->
cİy_as_»guÏr
 && !
	`S_ISLNK
 (
¤c_mode
)))

2393 
cİ›d_as_»guÏr
 = 
Œue
;

2403 ià(! 
	`cİy_»g
 (
¤c_Çme
, 
d¡_Çme
, 
x
, 
d¡_mode_b™s
 & 
S_IRWXUGO
,

2404 
om™‹d_³rmissiÚs
, &
Ãw_d¡
, &
¤c_sb
))

2405 
un_backup
;

2407 ià(
	`S_ISFIFO
 (
¤c_mode
))

2413 ià(
	`mknod
 (
d¡_Çme
, 
¤c_mode
 & ~
om™‹d_³rmissiÚs
, 0) != 0)

2414 ià(
	`mkfifo
 (
d¡_Çme
, 
¤c_mode
 & ~
S_IFIFO
 & ~
om™‹d_³rmissiÚs
) != 0)

2416 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ c»©fifØ%s"), 
	`quÙe
 (
d¡_Çme
));

2417 
un_backup
;

2420 ià(
	`S_ISBLK
 (
¤c_mode
è|| 
	`S_ISCHR
 (¤c_modeè|| 
	`S_ISSOCK
 (src_mode))

2422 ià(
	`mknod
 (
d¡_Çme
, 
¤c_mode
 & ~
om™‹d_³rmissiÚs
, 
¤c_sb
.
¡_rdev
)

2425 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot create special file %s"),

2426 
	`quÙe
 (
d¡_Çme
));

2427 
un_backup
;

2430 ià(
	`S_ISLNK
 (
¤c_mode
))

2432 *
¤c_lšk_v®
 = 
	`¬—dlšk_w™h_size
 (
¤c_Çme
, 
¤c_sb
.
¡_size
);

2433 
de¡_is_symlšk
 = 
Œue
;

2434 ià(
¤c_lšk_v®
 =ğ
NULL
)

2436 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„—d symbŞiølšk %s"), 
	`quÙe
 (
¤c_Çme
));

2437 
un_backup
;

2440 ià(
	`symlšk
 (
¤c_lšk_v®
, 
d¡_Çme
) == 0)

2441 
	`ä“
 (
¤c_lšk_v®
);

2444 
§ved_”ºo
 = 
”ºo
;

2445 
boŞ
 
§me_lšk
 = 
çl£
;

2446 ià(
x
->
upd©e
 && !
Ãw_d¡
 && 
	`S_ISLNK
 (
d¡_sb
.
¡_mode
)

2447 && 
d¡_sb
.
¡_size
 =ğ
	`¡¾’
 (
¤c_lšk_v®
))

2453 *
de¡_lšk_v®
 =

2454 
	`¬—dlšk_w™h_size
 (
d¡_Çme
, 
d¡_sb
.
¡_size
);

2455 ià(
de¡_lšk_v®
 && 
	`STREQ
 (de¡_lšk_v®, 
¤c_lšk_v®
))

2456 
§me_lšk
 = 
Œue
;

2457 
	`ä“
 (
de¡_lšk_v®
);

2459 
	`ä“
 (
¤c_lšk_v®
);

2461 ià(! 
§me_lšk
)

2463 
	`”rÜ
 (0, 
§ved_”ºo
, 
	`_
("cannot create symbolic†ink %s"),

2464 
	`quÙe
 (
d¡_Çme
));

2465 
un_backup
;

2469 ià(
x
->
´e£rve_£cur™y_cÚ‹xt
)

2470 
	`»¡Üe_deçuÉ_fsü—‹cÚ_Ü_d›
 ();

2472 ià(
x
->
´e£rve_owÃrsh
)

2476 ià(
HAVE_LCHOWN


2477 && 
	`lchown
 (
d¡_Çme
, 
¤c_sb
.
¡_uid
, src_sb.
¡_gid
) != 0

2478 && ! 
	`chown_çu»_ok
 (
x
))

2480 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo…reserve ownership for %s"),

2481 
d¡_Çme
);

2482 
un_backup
;

2495 
	`”rÜ
 (0, 0, 
	`_
("% ha unknowÀfty³"), 
	`quÙe
 (
¤c_Çme
));

2496 
un_backup
;

2499 ià(
commªd_lše_¬g
 && 
x
->
de¡_šfo
)

2503 
¡©
 
sb
;

2504 ià(
	`l¡©
 (
d¡_Çme
, &
sb
) == 0)

2505 
	`»cÜd_fe
 (
x
->
de¡_šfo
, 
d¡_Çme
, &
sb
);

2510 ià(
x
->
h¬d_lšk
 && ! 
	`S_ISDIR
 (
¤c_mode
)

2511 && !(
LINK_FOLLOWS_SYMLINKS
 && 
	`S_ISLNK
 (
¤c_mode
)

2512 && 
x
->
d”eã»nû
 =ğ
DEREF_NEVER
))

2513  
d–ayed_ok
;

2515 ià(
cİ›d_as_»guÏr
)

2516  
d–ayed_ok
;

2530 ià(
x
->
´e£rve_time¡amps
)

2532 
time¥ec
imespec[2];

2533 
time¥ec
[0] = 
	`g‘_¡©_©ime
 (&
¤c_sb
);

2534 
time¥ec
[1] = 
	`g‘_¡©_mtime
 (&
¤c_sb
);

2536 ià((
de¡_is_symlšk


2537 ? 
	`utim’s_symlšk
 (
d¡_Çme
, 
time¥ec
)

2538 : 
	`utim’s
 (
d¡_Çme
, 
time¥ec
))

2541 
	`”rÜ
 (0, 
”ºo
, 
	`_
("´e£rvšgime fÜ %s"), 
	`quÙe
 (
d¡_Çme
));

2542 ià(
x
->
»quœe_´e£rve
)

2543  
çl£
;

2548 ià(
de¡_is_symlšk
)

2549  
d–ayed_ok
;

2552 ià(
x
->
´e£rve_owÃrsh


2553 && (
Ãw_d¡
 || !
	`SAME_OWNER_AND_GROUP
 (
¤c_sb
, 
d¡_sb
)))

2555 
	`£t_owÃr
 (
x
, 
d¡_Çme
, -1, &
¤c_sb
, 
Ãw_d¡
, &
d¡_sb
))

2558  
çl£
;

2561 
¤c_mode
 &ğ~ (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
);

2566 
	`£t_authÜ
 (
d¡_Çme
, -1, &
¤c_sb
);

2568 ià(
x
->
´e£rve_x©Œ
 && ! 
	`cİy_©Œ
 (
¤c_Çme
, -1, 
d¡_Çme
, -1, x)

2569 && 
x
->
»quœe_´e£rve_x©Œ
)

2570  
çl£
;

2572 ià(
x
->
´e£rve_mode
 || x->
move_mode
)

2574 ià(
	`cİy_aş
 (
¤c_Çme
, -1, 
d¡_Çme
, -1, 
¤c_mode
) != 0

2575 && 
x
->
»quœe_´e£rve
)

2576  
çl£
;

2578 ià(
x
->
£t_mode
)

2580 ià(
	`£t_aş
 (
d¡_Çme
, -1, 
x
->
mode
) != 0)

2581  
çl£
;

2583 ià(
x
->
ex¶ic™_no_´e£rve_mode
)

2585 ià(
	`£t_aş
 (
d¡_Çme
, -1, 0777 & ~
	`ÿched_umask
 ()) != 0)

2586  
çl£
;

2590 ià(
om™‹d_³rmissiÚs
)

2592 
om™‹d_³rmissiÚs
 &ğ~ 
	`ÿched_umask
 ();

2594 ià(
om™‹d_³rmissiÚs
 && !
»¡Üe_d¡_mode
)

2602 ià(
Ãw_d¡
 && 
	`l¡©
 (
d¡_Çme
, &
d¡_sb
) != 0)

2604 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
d¡_Çme
));

2605  
çl£
;

2607 
d¡_mode
 = 
d¡_sb
.
¡_mode
;

2608 ià(
om™‹d_³rmissiÚs
 & ~
d¡_mode
)

2609 
»¡Üe_d¡_mode
 = 
Œue
;

2613 ià(
»¡Üe_d¡_mode
)

2615 ià(
	`lchmod
 (
d¡_Çme
, 
d¡_mode
 | 
om™‹d_³rmissiÚs
) != 0)

2617 
	`”rÜ
 (0, 
”ºo
, 
	`_
("preserving…ermissions for %s"),

2618 
	`quÙe
 (
d¡_Çme
));

2619 ià(
x
->
»quœe_´e£rve
)

2620  
çl£
;

2625  
d–ayed_ok
;

2627 
un_backup
:

2629 ià(
x
->
´e£rve_£cur™y_cÚ‹xt
)

2630 
	`»¡Üe_deçuÉ_fsü—‹cÚ_Ü_d›
 ();

2638 ià(
—¾›r_fe
 =ğ
NULL
)

2639 
	`fÜg‘_ü—‹d
 (
¤c_sb
.
¡_šo
, src_sb.
¡_dev
);

2641 ià(
d¡_backup
)

2643 ià(
	`»Çme
 (
d¡_backup
, 
d¡_Çme
) != 0)

2644 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ un-backu°%s"), 
	`quÙe
 (
d¡_Çme
));

2647 ià(
x
->
v”bo£
)

2648 
	`´štf
 (
	`_
("%s -> %s (unbackup)\n"),

2649 
	`quÙe_n
 (0, 
d¡_backup
), quÙe_À(1, 
d¡_Çme
));

2652  
çl£
;

2653 
	}
}

2655 
boŞ
 
_GL_ATTRIBUTE_PURE


2656 
	$v®id_İtiÚs
 (cÚ¡ 
ı_İtiÚs
 *
co
)

2658 
	`as£¹
 (
co
 !ğ
NULL
);

2659 
	`as£¹
 (
	`VALID_BACKUP_TYPE
 (
co
->
backup_ty³
));

2660 
	`as£¹
 (
	`VALID_SPARSE_MODE
 (
co
->
¥¬£_mode
));

2661 
	`as£¹
 (
	`VALID_REFLINK_MODE
 (
co
->
»æšk_mode
));

2662 
	`as£¹
 (!(
co
->
h¬d_lšk
 && co->
symbŞic_lšk
));

2663 
	`as£¹
 (!

2664 (
co
->
»æšk_mode
 =ğ
REFLINK_ALWAYS


2665 && 
co
->
¥¬£_mode
 !ğ
SPARSE_AUTO
));

2666  
Œue
;

2667 
	}
}

2678 
boŞ


2679 
	$cİy
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

2680 
boŞ
 
nÚexi¡’t_d¡
, cÚ¡ 
ı_İtiÚs
 *
İtiÚs
,

2681 
boŞ
 *
cİy_što_£lf
, boŞ *
»Çme_sucûeded
)

2683 
	`as£¹
 (
	`v®id_İtiÚs
 (
İtiÚs
));

2692 
tİ_Ëv–_¤c_Çme
 = 
¤c_Çme
;

2693 
tİ_Ëv–_d¡_Çme
 = 
d¡_Çme
;

2695 
boŞ
 
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
 = 
çl£
;

2696  
	`cİy_š‹º®
 (
¤c_Çme
, 
d¡_Çme
, 
nÚexi¡’t_d¡
, 0, 
NULL
,

2697 
İtiÚs
, 
Œue
,

2698 &
fœ¡_dœ_ü—‹d_³r_commªd_lše_¬g
,

2699 
cİy_što_£lf
, 
»Çme_sucûeded
);

2700 
	}
}

2705 
	$ı_İtiÚs_deçuÉ
 (
ı_İtiÚs
 *
x
)

2707 
	`mem£t
 (
x
, 0,  *x);

2708 #ifdeà
PRIV_FILE_CHOWN


2710 
´iv_£t_t
 *
p£t
 = 
	`´iv_®loc£t
 ();

2711 ià(!
p£t
)

2712 
	`x®loc_d›
 ();

2713 ià(
	`g‘µriv
 (
PRIV_EFFECTIVE
, 
p£t
) == 0)

2715 
x
->
chown_´iveges
 = 
	`´iv_ismemb”
 (
p£t
, 
PRIV_FILE_CHOWN
);

2716 
x
->
owÃr_´iveges
 = 
	`´iv_ismemb”
 (
p£t
, 
PRIV_FILE_OWNER
);

2718 
	`´iv_ä“£t
 (
p£t
);

2721 
x
->
chown_´iveges
 = x->
owÃr_´iveges
 = (
	`g‘euid
 () == 0);

2723 
	}
}

2729 
boŞ


2730 
	$chown_çu»_ok
 (
ı_İtiÚs
 cÚ¡ *
x
)

2736  ((
”ºo
 =ğ
EPERM
 ||ƒ¼nØ=ğ
EINVAL
è&& !
x
->
chown_´iveges
);

2737 
	}
}

2743 
boŞ


2744 
	$owÃr_çu»_ok
 (
ı_İtiÚs
 cÚ¡ *
x
)

2746  ((
”ºo
 =ğ
EPERM
 ||ƒ¼nØ=ğ
EINVAL
è&& !
x
->
owÃr_´iveges
);

2747 
	}
}

2751 
mode_t


2752 
	$ÿched_umask
 ()

2754 
mode_t
 
mask
 = (mode_t) -1;

2755 ià(
mask
 =ğ(
mode_t
) -1)

2757 
mask
 = 
	`umask
 (0);

2758 
	`umask
 (
mask
);

2760  
mask
;

2761 
	}
}

	@copy.h

19 #iâdeà
COPY_H


20 
	#COPY_H


	)

22 
	~<¡dboŞ.h
>

23 
	~"hash.h
"

26 
	eS·r£_ty³


28 
	mSPARSE_UNUSED
,

31 
	mSPARSE_NEVER
,

36 
	mSPARSE_AUTO
,

43 
	mSPARSE_ALWAYS


47 
	eReæšk_ty³


50 
	mREFLINK_NEVER
,

53 
	mREFLINK_AUTO
,

56 
	mREFLINK_ALWAYS


60 
	eIÁ”aùive


62 
	mI_ALWAYS_YES
 = 1,

63 
	mI_ALWAYS_NO
,

64 
	mI_ASK_USER
,

65 
	mI_UNSPECIFIED


69 
	eD”eã»nû_symlšk


71 
	mDEREF_UNDEFINED
 = 1,

74 
	mDEREF_NEVER
,

78 
	mDEREF_COMMAND_LINE_ARGUMENTS
,

81 
	mDEREF_ALWAYS


84 
	#VALID_SPARSE_MODE
(
Mode
) \

85 ((
Mode
è=ğ
SPARSE_NEVER
 \

86 || (
Mode
è=ğ
SPARSE_AUTO
 \

87 || (
Mode
è=ğ
SPARSE_ALWAYS
)

	)

89 
	#VALID_REFLINK_MODE
(
Mode
) \

90 ((
Mode
è=ğ
REFLINK_NEVER
 \

91 || (
Mode
è=ğ
REFLINK_AUTO
 \

92 || (
Mode
è=ğ
REFLINK_ALWAYS
)

	)

98 
	sı_İtiÚs


100 
backup_ty³
 
	mbackup_ty³
;

103 
D”eã»nû_symlšk
 
	md”eã»nû
;

108 
IÁ”aùive
 
	mš‹¿ùive
;

111 
S·r£_ty³
 
	m¥¬£_mode
;

115 
mode_t
 
	mmode
;

119 
boŞ
 
	mcİy_as_»guÏr
;

123 
boŞ
 
	muÆšk_de¡_befÜe_İ’šg
;

130 
boŞ
 
	muÆšk_de¡_aá”_çed_İ’
;

134 
boŞ
 
	mh¬d_lšk
;

138 
boŞ
 
	mmove_mode
;

142 
boŞ
 
	mchown_´iveges
;

149 
boŞ
 
	mowÃr_´iveges
;

153 
boŞ
 
	mÚe_fe_sy¡em
;

157 
boŞ
 
	m´e£rve_owÃrsh
;

158 
boŞ
 
	m´e£rve_mode
;

159 
boŞ
 
	m´e£rve_time¡amps
;

160 
boŞ
 
	mex¶ic™_no_´e£rve_mode
;

172 
boŞ
 
	m´e£rve_lšks
;

176 
boŞ
 
	md©a_cİy_»quœed
;

182 
boŞ
 
	m»quœe_´e£rve
;

186 
boŞ
 
	m´e£rve_£cur™y_cÚ‹xt
;

195 
boŞ
 
	m»quœe_´e£rve_cÚ‹xt
;

199 
boŞ
 
	m´e£rve_x©Œ
;

208 
boŞ
 
	m»quœe_´e£rve_x©Œ
;

217 
boŞ
 
	m»duû_dŸgno¡ics
;

221 
boŞ
 
	m»cursive
;

225 
boŞ
 
	m£t_mode
;

229 
boŞ
 
	msymbŞic_lšk
;

233 
boŞ
 
	mupd©e
;

236 
boŞ
 
	mv”bo£
;

239 
boŞ
 
	m¡dš_‰y
;

244 
boŞ
 
	mİ’_dªglšg_de¡_symlšk
;

247 
Reæšk_ty³
 
	m»æšk_mode
;

258 
Hash_bË
 *
	mde¡_šfo
;

261 
Hash_bË
 *
	m¤c_šfo
;

264 
	#XSTAT
(
X
, 
Src_Çme
, 
Src_sb
) \

265 ((
X
)->
d”eã»nû
 =ğ
DEREF_NEVER
 \

266 ? 
	`l¡©
 (
Src_Çme
, 
Src_sb
) \

267 : 
	`¡©
 (
Src_Çme
, 
Src_sb
))

	)

272 #ià
RENAME_TRAILING_SLASH_BUG


273 
½l_»Çme
 (const *, const *);

274 #undeà
»Çme


275 
	#»Çme
 
½l_»Çme


	)

278 
boŞ
 
cİy
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
d¡_Çme
,

279 
boŞ
 
nÚexi¡’t_d¡
, cÚ¡ 
ı_İtiÚs
 *
İtiÚs
,

280 
boŞ
 *
cİy_što_£lf
, boŞ *
»Çme_sucûeded
);

282 
de¡_šfo_š™
 (
ı_İtiÚs
 *);

283 
¤c_šfo_š™
 (
ı_İtiÚs
 *);

285 
ı_İtiÚs_deçuÉ
 (
ı_İtiÚs
 *);

286 
boŞ
 
	$chown_çu»_ok
 (
ı_İtiÚs
 cÚ¡ *è
_GL_ATTRIBUTE_PURE
;

287 
mode_t
 
	`ÿched_umask
 ();

	@cp-hash.c

20 
	~<cÚfig.h
>

22 
	~<sys/ty³s.h
>

23 
	~"sy¡em.h
"

25 
	~"hash.h
"

26 
	~"ı-hash.h
"

33 
	sSrc_to_de¡


35 
šo_t
 
	m¡_šo
;

36 
dev_t
 
	m¡_dev
;

40 *
	mÇme
;

45 
Hash_bË
 *
	g¤c_to_de¡
;

48 
	#INITIAL_TABLE_SIZE
 103

	)

50 
size_t


51 
	$¤c_to_de¡_hash
 (cÚ¡ *
x
, 
size_t
 
bË_size
)

53 
Src_to_de¡
 cÚ¡ *
p
 = 
x
;

58  (
uštmax_t
è
p
->
¡_šo
 % 
bË_size
;

59 
	}
}

63 
boŞ


64 
	$¤c_to_de¡_com·»
 (cÚ¡ *
x
, cÚ¡ *
y
)

66 
Src_to_de¡
 cÚ¡ *
a
 = 
x
;

67 
Src_to_de¡
 cÚ¡ *
b
 = 
y
;

68  
	`SAME_INODE
 (*
a
, *
b
è? 
Œue
 : 
çl£
;

69 
	}
}

72 
	$¤c_to_de¡_ä“
 (*
x
)

74 
Src_to_de¡
 *
a
 = 
x
;

75 
	`ä“
 (
a
->
Çme
);

76 
	`ä“
 (
x
);

77 
	}
}

82 
	$fÜg‘_ü—‹d
 (
šo_t
 
šo
, 
dev_t
 
dev
)

84 
Src_to_de¡
 
´obe
;

85 
Src_to_de¡
 *
’t
;

87 
´obe
.
¡_šo
 = 
šo
;

88 
´obe
.
¡_dev
 = 
dev
;

89 
´obe
.
Çme
 = 
NULL
;

91 
’t
 = 
	`hash_d–‘e
 (
¤c_to_de¡
, &
´obe
);

92 ià(
’t
)

93 
	`¤c_to_de¡_ä“
 (
’t
);

94 
	}
}

100 
	$¤c_to_de¡_lookup
 (
šo_t
 
šo
, 
dev_t
 
dev
)

102 
Src_to_de¡
 
’t
;

103 
Src_to_de¡
 cÚ¡ *
e
;

104 
’t
.
¡_šo
 = 
šo
;

105 
’t
.
¡_dev
 = 
dev
;

106 
e
 = 
	`hash_lookup
 (
¤c_to_de¡
, &
’t
);

107  
e
 ?ƒ->
Çme
 : 
NULL
;

108 
	}
}

115 
	$»memb”_cİ›d
 (cÚ¡ *
Çme
, 
šo_t
 
šo
, 
dev_t
 
dev
)

117 
Src_to_de¡
 *
’t
;

118 
Src_to_de¡
 *
’t_äom_bË
;

120 
’t
 = 
	`xm®loc
 ( *ent);

121 
’t
->
Çme
 = 
	`x¡rdup
 (name);

122 
’t
->
¡_šo
 = 
šo
;

123 
’t
->
¡_dev
 = 
dev
;

125 
’t_äom_bË
 = 
	`hash_š£¹
 (
¤c_to_de¡
, 
’t
);

126 ià(
’t_äom_bË
 =ğ
NULL
)

129 
	`x®loc_d›
 ();

135 ià(
’t_äom_bË
 !ğ
’t
)

137 
	`¤c_to_de¡_ä“
 (
’t
);

138  (*è
’t_äom_bË
->
Çme
;

142  
NULL
;

143 
	}
}

147 
	$hash_š™
 ()

149 
¤c_to_de¡
 = 
	`hash_š™Ÿlize
 (
INITIAL_TABLE_SIZE
, 
NULL
,

150 
¤c_to_de¡_hash
,

151 
¤c_to_de¡_com·»
,

152 
¤c_to_de¡_ä“
);

153 ià(
¤c_to_de¡
 =ğ
NULL
)

154 
	`x®loc_d›
 ();

155 
	}
}

161 
	$fÜg‘_®l
 ()

163 
	`hash_ä“
 (
¤c_to_de¡
);

164 
	}
}

	@cp-hash.h

1 
hash_š™
 ();

2 
fÜg‘_®l
 ();

3 
fÜg‘_ü—‹d
 (
šo_t
 
šo
, 
dev_t
 
dev
);

4 *
»memb”_cİ›d
 (cÚ¡ *
node
, 
šo_t
 
šo
, 
dev_t
 
dev
);

5 *
¤c_to_de¡_lookup
 (
šo_t
 
šo
, 
dev_t
 
dev
);

	@cp.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

23 
	~<£lšux/£lšux.h
>

25 
	~"sy¡em.h
"

26 
	~"¬gm©ch.h
"

27 
	~"backupfe.h
"

28 
	~"cİy.h
"

29 
	~"ı-hash.h
"

30 
	~"”rÜ.h
"

31 
	~"f’ameÿt.h
"

32 
	~"ignÜe-v®ue.h
"

33 
	~"quÙe.h
"

34 
	~"¡©-time.h
"

35 
	~"utim’s.h
"

36 
	~"aş.h
"

38 #ià! 
HAVE_LCHOWN


39 
	#lchown
(
Çme
, 
uid
, 
gid
è
	`chown
 (Çme, uid, gid)

	)

42 
	#ASSIGN_BASENAME_STRDUPA
(
De¡
, 
Fe_Çme
) \

45 *
tmp_abns_
; \

46 
	`ASSIGN_STRDUPA
 (
tmp_abns_
, (
Fe_Çme
)); \

47 
De¡
 = 
	`Ï¡_compÚ’t
 (
tmp_abns_
); \

48 
	`¡r_Œašg_¦ashes
 (
De¡
); \

50 0)

	)

53 
	#PROGRAM_NAME
 "ı"

	)

55 
	#AUTHORS
 \

56 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

57 
	`´İ”_Çme
 ("David MacKenzie"), \

58 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

63 
	sdœ_©Œ


65 
¡©
 
	m¡
;

66 
boŞ
 
	m»¡Üe_mode
;

67 
size_t
 
	m¦ash_off£t
;

68 
dœ_©Œ
 *
	mÃxt
;

75 
	mATTRIBUTES_ONLY_OPTION
 = 
CHAR_MAX
 + 1,

76 
	mCOPY_CONTENTS_OPTION
,

77 
	mNO_PRESERVE_ATTRIBUTES_OPTION
,

78 
	mPARENTS_OPTION
,

79 
	mPRESERVE_ATTRIBUTES_OPTION
,

80 
	mREFLINK_OPTION
,

81 
	mSPARSE_OPTION
,

82 
	mSTRIP_TRAILING_SLASHES_OPTION
,

83 
	mUNLINK_DEST_BEFORE_OPENING


87 
boŞ
 
	g£lšux_’abËd
;

91 
boŞ
 
	g·»Ás_İtiÚ
 = 
çl£
;

94 
boŞ
 
	g»move_Œašg_¦ashes
;

96 cÚ¡ *cÚ¡ 
	g¥¬£_ty³_¡ršg
[] =

98 "Ãv”", "auto", "®ways", 
NULL


100 
S·r£_ty³
 cÚ¡ 
	g¥¬£_ty³
[] =

102 
SPARSE_NEVER
, 
SPARSE_AUTO
, 
SPARSE_ALWAYS


104 
ARGMATCH_VERIFY
 (
¥¬£_ty³_¡ršg
, 
¥¬£_ty³
);

106 cÚ¡ *cÚ¡ 
	g»æšk_ty³_¡ršg
[] =

108 "auto", "®ways", 
NULL


110 
Reæšk_ty³
 cÚ¡ 
	g»æšk_ty³
[] =

112 
REFLINK_AUTO
, 
REFLINK_ALWAYS


114 
ARGMATCH_VERIFY
 (
»æšk_ty³_¡ršg
, 
»æšk_ty³
);

116 
İtiÚ
 cÚ¡ 
	glÚg_İts
[] =

118 {"¬chive", 
no_¬gum’t
, 
NULL
, 'a'},

119 {"©Œibu‹s-Úly", 
no_¬gum’t
, 
NULL
, 
ATTRIBUTES_ONLY_OPTION
},

120 {"backup", 
İtiÚ®_¬gum’t
, 
NULL
, 'b'},

121 {"cİy-cÚ‹Ás", 
no_¬gum’t
, 
NULL
, 
COPY_CONTENTS_OPTION
},

122 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 'L'},

123 {"fÜû", 
no_¬gum’t
, 
NULL
, 'f'},

124 {"š‹¿ùive", 
no_¬gum’t
, 
NULL
, 'i'},

125 {"lšk", 
no_¬gum’t
, 
NULL
, 'l'},

126 {"no-şobb”", 
no_¬gum’t
, 
NULL
, 'n'},

127 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'P'},

128 {"no-´e£rve", 
»quœed_¬gum’t
, 
NULL
, 
NO_PRESERVE_ATTRIBUTES_OPTION
},

129 {"no-rg‘-dœeùÜy", 
no_¬gum’t
, 
NULL
, 'T'},

130 {"Úe-fe-sy¡em", 
no_¬gum’t
, 
NULL
, 'x'},

131 {"·»Ás", 
no_¬gum’t
, 
NULL
, 
PARENTS_OPTION
},

132 {"·th", 
no_¬gum’t
, 
NULL
, 
PARENTS_OPTION
},

133 {"´e£rve", 
İtiÚ®_¬gum’t
, 
NULL
, 
PRESERVE_ATTRIBUTES_OPTION
},

134 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

135 {"»move-de¡š©iÚ", 
no_¬gum’t
, 
NULL
, 
UNLINK_DEST_BEFORE_OPENING
},

136 {"¥¬£", 
»quœed_¬gum’t
, 
NULL
, 
SPARSE_OPTION
},

137 {"»æšk", 
İtiÚ®_¬gum’t
, 
NULL
, 
REFLINK_OPTION
},

138 {"¡r-Œašg-¦ashes", 
no_¬gum’t
, 
NULL
, 
STRIP_TRAILING_SLASHES_OPTION
},

139 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 'S'},

140 {"symbŞic-lšk", 
no_¬gum’t
, 
NULL
, 's'},

141 {"rg‘-dœeùÜy", 
»quœed_¬gum’t
, 
NULL
, 't'},

142 {"upd©e", 
no_¬gum’t
, 
NULL
, 'u'},

143 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

144 {
GETOPT_HELP_OPTION_DECL
},

145 {
GETOPT_VERSION_OPTION_DECL
},

146 {
NULL
, 0, NULL, 0}

150 
	$u§ge
 (
¡©us
)

152 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

153 
	`em™_Œy_h–p
 ();

156 
	`´štf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
"),

161 
´og¿m_Çme
,…rogram_name,…rogram_name);

162 
	`åuts
 (
	`_
("\
 SOURCEØDEST, o¸muÉË SOURCE(sètØDIRECTORY.\n\
"), 
¡dout
);

166 
	`em™_mªd©Üy_¬g_nÙe
 ();

168 
	`åuts
 (
	`_
("\
-a, --¬chiv sama -dR --´e£rve÷Î\n\
--©Œibu‹s-Úly dÚ'ˆcİyhfd©a, ju¡h©Œibu‹s\n\
--backup[=CONTROL] mak¨backu°oà—chƒxi¡šg de¡š©iÚ fe\
\n\
-b†ik--backu°buˆdÛ nÙ‡cû±‡À¬gum’t\n\
--cİy-cÚ‹Á  cİy cÚ‹Á oà¥ecŸÈfe wh’„ecursive\n\
-d sama --no-d”eã»nû --´e£rveöšks\n\
"), 
¡dout
);

177 
	`åuts
 (
	`_
("\
-f, --fÜû iàªƒxi¡šg de¡š©iÚ fÿÂÙ be\n\
,„emov™‡ndry‡gaš (thi İtiÚ\n\
 ignÜed wh’h-ÀİtiÚ i ®sØu£d)\n\
-i, --š‹¿ùiv…rom± befÜov”wr™(ov”ride ¨´eviou -n\
\n\
)\n\
-H fŞlow commªd-lšsymbŞiølšk š SOURCE\n\
"), 
¡dout
);

186 
	`åuts
 (
	`_
("\
-l, --lšk h¬d†šk fe š¡—d oàcİyšg\n\
-L, --d”eã»nû‡lway fŞlow symbŞiølšk š SOURCE\n\
"), 
¡dout
);

190 
	`åuts
 (
	`_
("\
-n, --no-şobb” dØnÙ ov”wr™ªƒxi¡šg f(ov”rides\n\
…»viou -˜İtiÚ)\n\
-P, --no-d”eã»nû‚ev” fŞlow symbŞiølšk š SOURCE\n\
"), 
¡dout
);

195 
	`åuts
 (
	`_
("\
-° sama --´e£rve=mode,owÃrsh,time¡amps\n\
--´e£rve[=ATTR_LIST]…»£rvth¥ecif›d‡‰ribu‹ (deçuÉ:\n\
,owÃrsh,time¡amps), iàpossibË\n\
‡‰ribu‹s: cÚ‹xt,†šks, x©Œ,\
\n\
\n\
"), 
¡dout
);

203 
	`åuts
 (
	`_
("\
--no-´e£rve=ATTR_LIST dÚ'ˆ´e£rvth¥ecif›d‡‰ribu‹s\n\
--·»Á  u£ fuÎ sourû fÇmund” DIRECTORY\n\
"), 
¡dout
);

207 
	`åuts
 (
	`_
("\
-R, -r, --»cursiv cİy dœeùÜ› »cursiv–y\n\
--»æšk[=WHEN] cÚŒŞ clÚe/CoW cİ›s. S“ b–ow\n\
--»move-de¡š©iÚ„emov—chƒxi¡šg de¡š©iÚ fbefÜe\n\
Øİ’ iˆ(cÚŒa¡ w™h --fÜû)\
\n"), 
¡dout
);

213 
	`åuts
 (
	`_
("\
--¥¬£=WHEN cÚŒŞ c»©iÚ oà¥¬£ fes. S“ b–ow\n\
--¡r-Œašg-¦ashe „emovªy¿šg sÏshe äomƒach SOURCE\n\
\n\
"), 
¡dout
);

218 
	`åuts
 (
	`_
("\
-s, --symbŞic-lšk maksymbŞiølšk š¡—d oàcİyšg\n\
-S, --suffix=SUFFIX ov”ridthusu® backu°suffix\n\
-t, --rg‘-dœeùÜy=DIRECTORY cİy‡Î SOURCE‡rgum’t štØDIRECTORY\n\
-T, --no-rg‘-dœeùÜy»© DEST‡ ¨nÜm® fe\n\
"), 
¡dout
);

224 
	`åuts
 (
	`_
("\
-u, --upd© cİy oÆy wh’hSOURCE fi Ãw”\n\
hde¡š©iÚ fÜ wh’he\n\
 fi missšg\n\
-v, --v”bo£ƒx¶aš wh© i bešg dÚe\n\
-x, --Úe-fe-sy¡em sy oÀthi fsy¡em\n\
"), 
¡dout
);

231 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

232 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

233 
	`åuts
 (
	`_
("\
\n\
 deçuÉ, s·r£ SOURCE fe ¬d‘eùed by‡ crudheuri¡iøªdhe\n\
 DEST fi mad¥¬£‡ w–l. Th© i thbehaviÜ\n\
 by --¥¬£÷uto. S³cify --¥¬£÷lway tØü—‹‡ s·r£ DEST\n\
 wh’ev”hSOURCE fcÚš ¨lÚgƒnough sequ’û oàz”Øby‹s.\n\
 --¥¬£òev”Øšhib™ c»©iÚ oà¥¬£ fes.\n\
\n\
 --»æšk[÷lways] i ¥ecif›d,…”fÜm‡†ightweighˆcİy, wh”the\n\
 block ¬cİ›d oÆy wh’ modif›d. Iàthi i nÙ…ossibËhcİy\n\
, o¸ià--»æšk÷utØi ¥ecif›d, f®ÈbackØ¨¡ªd¬d cİy.\n\
"), 
¡dout
);

245 
	`åuts
 (
	`_
("\
\n\
 backu°suffix i '~', uÆes £ˆw™h --suffix o¸SIMPLE_BACKUP_SUFFIX.\n\
 v”siÚ cÚŒŞ m‘hod may b£Ëùed vŸh--backu°İtiÚ o¸through\n\
 VERSION_CONTROLƒnvœÚm’ˆv¬ŸbË. H”¬thv®ues:\n\
\n\
"), 
¡dout
);

252 
	`åuts
 (
	`_
("\
, ofà‚ev” makbackup Óv’ ià--backu°i giv’)\n\
, maknumb”ed backups\n\
,‚‚umb”ed iànumb”ed backup exi¡, sim¶Ùh”wi£\n\
,‚ev”‡lway maksim¶backups\n\
"), 
¡dout
);

258 
	`åuts
 (
	`_
("\
\n\
‡ s³cŸÈÿ£, c°make ¨backu°oàSOURCE wh’hfÜû‡nd backup\n\
‡» giv’‡nd SOURCE‡nd DEST‡»h§mÇmfÜ‡Àexi¡šg,\n\
 fe.\n\
"), 
¡dout
);

264 
	`em™_ªcÏry_šfo
 ();

266 
	`ex™
 (
¡©us
);

267 
	}
}

289 
boŞ


290 
	$»_´Ùeù
 (cÚ¡ *
cÚ¡_d¡_Çme
, 
size_t
 
¤c_off£t
,

291 
dœ_©Œ
 *
©Œ_li¡
, cÚ¡ 
ı_İtiÚs
 *
x
)

293 
dœ_©Œ
 *
p
;

294 *
d¡_Çme
;

295 *
¤c_Çme
;

297 
	`ASSIGN_STRDUPA
 (
d¡_Çme
, 
cÚ¡_d¡_Çme
);

298 
¤c_Çme
 = 
d¡_Çme
 + 
¤c_off£t
;

300 
p
 = 
©Œ_li¡
;…;… =…->
Ãxt
)

302 
d¡_Çme
[
p
->
¦ash_off£t
] = '\0';

308 ià(
x
->
´e£rve_time¡amps
)

310 
time¥ec
imespec[2];

312 
time¥ec
[0] = 
	`g‘_¡©_©ime
 (&
p
->
¡
);

313 
time¥ec
[1] = 
	`g‘_¡©_mtime
 (&
p
->
¡
);

315 ià(
	`utim’s
 (
d¡_Çme
, 
time¥ec
))

317 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo…reserveimes for %s"),

318 
	`quÙe
 (
d¡_Çme
));

319  
çl£
;

323 ià(
x
->
´e£rve_owÃrsh
)

325 ià(
	`lchown
 (
d¡_Çme
, 
p
->
¡
.
¡_uid
,…->¡.
¡_gid
) != 0)

327 ià(! 
	`chown_çu»_ok
 (
x
))

329 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo…reserve ownership for %s"),

330 
	`quÙe
 (
d¡_Çme
));

331  
çl£
;

335 
	`ignÜe_v®ue
 (
	`lchown
 (
d¡_Çme
, -1, 
p
->
¡
.
¡_gid
));

339 ià(
x
->
´e£rve_mode
)

341 ià(
	`cİy_aş
 (
¤c_Çme
, -1, 
d¡_Çme
, -1, 
p
->
¡
.
¡_mode
) != 0)

342  
çl£
;

344 ià(
p
->
»¡Üe_mode
)

346 ià(
	`lchmod
 (
d¡_Çme
, 
p
->
¡
.
¡_mode
) != 0)

348 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo…reserve…ermissions for %s"),

349 
	`quÙe
 (
d¡_Çme
));

350  
çl£
;

354 
d¡_Çme
[
p
->
¦ash_off£t
] = '/';

356  
Œue
;

357 
	}
}

378 
boŞ


379 
	$make_dœ_·»Ás_´iv©e
 (cÚ¡ *
cÚ¡_dœ
, 
size_t
 
¤c_off£t
,

380 cÚ¡ *
v”bo£_fmt_¡ršg
,

381 
dœ_©Œ
 **
©Œ_li¡
, 
boŞ
 *
Ãw_d¡
,

382 cÚ¡ 
ı_İtiÚs
 *
x
)

384 
¡©
 
¡©s
;

385 *
dœ
;

386 *
¤c
;

387 *
d¡_dœ
;

388 
size_t
 
dœËn
;

390 
	`ASSIGN_STRDUPA
 (
dœ
, 
cÚ¡_dœ
);

392 
¤c
 = 
dœ
 + 
¤c_off£t
;

394 
dœËn
 = 
	`dœ_Ën
 (
dœ
);

395 
d¡_dœ
 = 
	`®loÿ
 (
dœËn
 + 1);

396 
	`memıy
 (
d¡_dœ
, 
dœ
, 
dœËn
);

397 
d¡_dœ
[
dœËn
] = '\0';

399 *
©Œ_li¡
 = 
NULL
;

401 ià(
	`¡©
 (
d¡_dœ
, &
¡©s
) != 0)

405 *
¦ash
;

407 
¦ash
 = 
¤c
;

408 *
¦ash
 == '/')

409 
¦ash
++;

410 (
¦ash
 = 
	`¡rchr
 (slash, '/')))

412 
dœ_©Œ
 *
Ãw
 
	`IF_LINT
 ( = 
NULL
);

413 
boŞ
 
missšg_dœ
;

415 *
¦ash
 = '\0';

416 
missšg_dœ
 = (
	`¡©
 (
dœ
, &
¡©s
) != 0);

418 ià(
missšg_dœ
 || 
x
->
´e£rve_owÃrsh
 || x->
´e£rve_mode


419 || 
x
->
´e£rve_time¡amps
)

423 
¡©
 
¤c_¡
;

424 
¤c_”ºo
 = (
	`¡©
 (
¤c
, &
¤c_¡
) != 0

425 ? 
”ºo


426 : 
	`S_ISDIR
 (
¤c_¡
.
¡_mode
)

428 : 
ENOTDIR
);

429 ià(
¤c_”ºo
)

431 
	`”rÜ
 (0, 
¤c_”ºo
, 
	`_
("failedo get‡ttributes of %s"),

432 
	`quÙe
 (
¤c
));

433  
çl£
;

436 
Ãw
 = 
	`xm®loc
 ( *new);

437 
Ãw
->
¡
 = 
¤c_¡
;

438 
Ãw
->
¦ash_off£t
 = 
¦ash
 - 
dœ
;

439 
Ãw
->
»¡Üe_mode
 = 
çl£
;

440 
Ãw
->
Ãxt
 = *
©Œ_li¡
;

441 *
©Œ_li¡
 = 
Ãw
;

444 ià(
missšg_dœ
)

446 
mode_t
 
¤c_mode
;

447 
mode_t
 
om™‹d_³rmissiÚs
;

448 
mode_t
 
mkdœ_mode
;

455 *
Ãw_d¡
 = 
Œue
;

456 
¤c_mode
 = 
Ãw
->
¡
.
¡_mode
;

461 
om™‹d_³rmissiÚs
 = (
¤c_mode


462 & (
x
->
´e£rve_owÃrsh


463 ? 
S_IRWXG
 | 
S_IRWXO


464 : 
x
->
´e£rve_mode


465 ? 
S_IWGRP
 | 
S_IWOTH


472 
mkdœ_mode
 = 
¤c_mode
 & 
CHMOD_MODE_BITS
 & ~
om™‹d_³rmissiÚs
;

473 ià(
	`mkdœ
 (
dœ
, 
mkdœ_mode
) != 0)

475 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot make directory %s"),

476 
	`quÙe
 (
dœ
));

477  
çl£
;

481 ià(
v”bo£_fmt_¡ršg
 !ğ
NULL
)

482 
	`´štf
 (
v”bo£_fmt_¡ršg
, 
¤c
, 
dœ
);

489 ià(
	`l¡©
 (
dœ
, &
¡©s
))

491 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

492 
	`quÙe
 (
dœ
));

493  
çl£
;

497 ià(! 
x
->
´e£rve_mode
)

499 ià(
om™‹d_³rmissiÚs
 & ~
¡©s
.
¡_mode
)

500 
om™‹d_³rmissiÚs
 &ğ~ 
	`ÿched_umask
 ();

501 ià(
om™‹d_³rmissiÚs
 & ~
¡©s
.
¡_mode


502 || (
¡©s
.
¡_mode
 & 
S_IRWXU
) != S_IRWXU)

504 
Ãw
->
¡
.
¡_mode
 = 
¡©s
.¡_mod| 
om™‹d_³rmissiÚs
;

505 
Ãw
->
»¡Üe_mode
 = 
Œue
;

509 ià((
¡©s
.
¡_mode
 & 
S_IRWXU
) != S_IRWXU)

514 ià(
	`lchmod
 (
dœ
, 
¡©s
.
¡_mode
 | 
S_IRWXU
) != 0)

516 
	`”rÜ
 (0, 
”ºo
, 
	`_
("setting…ermissions for %s"),

517 
	`quÙe
 (
dœ
));

518  
çl£
;

522 ià(!
	`S_ISDIR
 (
¡©s
.
¡_mode
))

524 
	`”rÜ
 (0, 0, 
	`_
("%sƒxists but is‚ot‡ directory"),

525 
	`quÙe
 (
dœ
));

526  
çl£
;

529 *
Ãw_d¡
 = 
çl£
;

530 *
¦ash
++ = '/';

534 *
¦ash
 == '/')

535 
¦ash
++;

541 ià(!
	`S_ISDIR
 (
¡©s
.
¡_mode
))

543 
	`”rÜ
 (0, 0, 
	`_
("% exi¡ buˆi nÙ‡ dœeùÜy"), 
	`quÙe
 (
d¡_dœ
));

544  
çl£
;

548 *
Ãw_d¡
 = 
çl£
;

550  
Œue
;

551 
	}
}

562 
boŞ


563 
	$rg‘_dœeùÜy_İ”ªd
 (cÚ¡ *
fe
, 
¡©
 *
¡
, 
boŞ
 *
Ãw_d¡
)

565 
”r
 = (
	`¡©
 (
fe
, 
¡
è=ğ0 ? 0 : 
”ºo
);

566 
boŞ
 
is_a_dœ
 = !
”r
 && 
	`S_ISDIR
 (
¡
->
¡_mode
);

567 ià(
”r
)

569 ià(
”r
 !ğ
ENOENT
)

570 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
fe
));

571 *
Ãw_d¡
 = 
Œue
;

573  
is_a_dœ
;

574 
	}
}

579 
boŞ


580 
	$do_cİy
 (
n_fes
, **
fe
, cÚ¡ *
rg‘_dœeùÜy
,

581 
boŞ
 
no_rg‘_dœeùÜy
, 
ı_İtiÚs
 *
x
)

583 
¡©
 
sb
;

584 
boŞ
 
Ãw_d¡
 = 
çl£
;

585 
boŞ
 
ok
 = 
Œue
;

587 ià(
n_fes
 <ğ!
rg‘_dœeùÜy
)

589 ià(
n_fes
 <= 0)

590 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

592 
	`”rÜ
 (0, 0, 
	`_
("missing destination file operand‡fter %s"),

593 
	`quÙe
 (
fe
[0]));

594 
	`u§ge
 (
EXIT_FAILURE
);

597 ià(
no_rg‘_dœeùÜy
)

599 ià(
rg‘_dœeùÜy
)

600 
	`”rÜ
 (
EXIT_FAILURE
, 0,

601 
	`_
("cannot combine --target-directory (-t) "

603 ià(2 < 
n_fes
)

605 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
fe
[2]));

606 
	`u§ge
 (
EXIT_FAILURE
);

609 
	`ignÜe_v®ue
 (
	`rg‘_dœeùÜy_İ”ªd
 (
fe
[
n_fes
 -1], &
sb
, &
Ãw_d¡
));

611 ià(!
rg‘_dœeùÜy
)

613 ià(2 <ğ
n_fes


614 && 
	`rg‘_dœeùÜy_İ”ªd
 (
fe
[
n_fes
 - 1], &
sb
, &
Ãw_d¡
))

615 
rg‘_dœeùÜy
 = 
fe
[--
n_fes
];

616 ià(2 < 
n_fes
)

617 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

618 
	`quÙe
 (
fe
[
n_fes
 - 1]));

621 ià(
rg‘_dœeùÜy
)

626 
i
;

631 ià(2 <ğ
n_fes
)

633 
	`de¡_šfo_š™
 (
x
);

634 
	`¤c_šfo_š™
 (
x
);

637 
i
 = 0; i < 
n_fes
; i++)

639 *
d¡_Çme
;

640 
boŞ
 
·»Á_exi¡s
 = 
Œue
;

641 
dœ_©Œ
 *
©Œ_li¡
;

642 *
¬g_š_cÚÿt
 = 
NULL
;

643 *
¬g
 = 
fe
[
i
];

647 ià(
»move_Œašg_¦ashes
)

648 
	`¡r_Œašg_¦ashes
 (
¬g
);

650 ià(
·»Ás_İtiÚ
)

652 *
¬g_no_Œašg_¦ash
;

659 
	`ASSIGN_STRDUPA
 (
¬g_no_Œašg_¦ash
, 
¬g
);

660 
	`¡r_Œašg_¦ashes
 (
¬g_no_Œašg_¦ash
);

663 
d¡_Çme
 = 
	`fe_Çme_cÚÿt
 (
rg‘_dœeùÜy
,

664 
¬g_no_Œašg_¦ash
,

665 &
¬g_š_cÚÿt
);

670 
·»Á_exi¡s
 =

671 (
make_dœ_·»Ás_´iv©e


672 (
d¡_Çme
, 
¬g_š_cÚÿt
 - dst_name,

673 (
x
->
v”bo£
 ? "% -> %s\n" : 
NULL
),

674 &
©Œ_li¡
, &
Ãw_d¡
, 
x
));

678 *
¬g_ba£
;

681 
	`ASSIGN_BASENAME_STRDUPA
 (
¬g_ba£
, 
¬g
);

683 
d¡_Çme
 = (
	`STREQ
 (
¬g_ba£
, "..")

684 ? 
	`x¡rdup
 (
rg‘_dœeùÜy
)

685 : 
	`fe_Çme_cÚÿt
 (
rg‘_dœeùÜy
, 
¬g_ba£
,

686 
NULL
));

689 ià(!
·»Á_exi¡s
)

693 
ok
 = 
çl£
;

697 
boŞ
 
cİy_što_£lf
;

698 
ok
 &ğ
	`cİy
 (
¬g
, 
d¡_Çme
, 
Ãw_d¡
, 
x
, &
cİy_što_£lf
, 
NULL
);

700 ià(
·»Ás_İtiÚ
)

701 
ok
 &ğ
	`»_´Ùeù
 (
d¡_Çme
, 
¬g_š_cÚÿt
 - dst_name,

702 
©Œ_li¡
, 
x
);

705 ià(
·»Ás_İtiÚ
)

707 
©Œ_li¡
)

709 
dœ_©Œ
 *
p
 = 
©Œ_li¡
;

710 
©Œ_li¡
 =‡‰r_li¡->
Ãxt
;

711 
	`ä“
 (
p
);

715 
	`ä“
 (
d¡_Çme
);

720 cÚ¡ *
Ãw_de¡
;

721 cÚ¡ *
sourû
 = 
fe
[0];

722 cÚ¡ *
de¡
 = 
fe
[1];

723 
boŞ
 
unu£d
;

725 ià(
·»Ás_İtiÚ
)

727 
	`”rÜ
 (0, 0,

728 
	`_
("with --parents,he destination must be‡ directory"));

729 
	`u§ge
 (
EXIT_FAILURE
);

738 ià(
x
->
uÆšk_de¡_aá”_çed_İ’


739 && 
x
->
backup_ty³
 !ğ
no_backups


740 && 
	`STREQ
 (
sourû
, 
de¡
)

741 && !
Ãw_d¡
 && 
	`S_ISREG
 (
sb
.
¡_mode
))

743 
ı_İtiÚs
 
x_tmp
;

745 
Ãw_de¡
 = 
	`fšd_backup_fe_Çme
 (
de¡
, 
x
->
backup_ty³
);

751 
x_tmp
 = *
x
;

752 
x_tmp
.
backup_ty³
 = 
no_backups
;

753 
x
 = &
x_tmp
;

757 
Ãw_de¡
 = 
de¡
;

760 
ok
 = 
	`cİy
 (
sourû
, 
Ãw_de¡
, 0, 
x
, &
unu£d
, 
NULL
);

763  
ok
;

764 
	}
}

767 
	$ı_İtiÚ_š™
 (
ı_İtiÚs
 *
x
)

769 
	`ı_İtiÚs_deçuÉ
 (
x
);

770 
x
->
cİy_as_»guÏr
 = 
Œue
;

771 
x
->
d”eã»nû
 = 
DEREF_UNDEFINED
;

772 
x
->
uÆšk_de¡_befÜe_İ’šg
 = 
çl£
;

773 
x
->
uÆšk_de¡_aá”_çed_İ’
 = 
çl£
;

774 
x
->
h¬d_lšk
 = 
çl£
;

775 
x
->
š‹¿ùive
 = 
I_UNSPECIFIED
;

776 
x
->
move_mode
 = 
çl£
;

777 
x
->
Úe_fe_sy¡em
 = 
çl£
;

778 
x
->
»æšk_mode
 = 
REFLINK_NEVER
;

780 
x
->
´e£rve_owÃrsh
 = 
çl£
;

781 
x
->
´e£rve_lšks
 = 
çl£
;

782 
x
->
´e£rve_mode
 = 
çl£
;

783 
x
->
´e£rve_time¡amps
 = 
çl£
;

784 
x
->
ex¶ic™_no_´e£rve_mode
 = 
çl£
;

785 
x
->
´e£rve_£cur™y_cÚ‹xt
 = 
çl£
;

786 
x
->
»quœe_´e£rve_cÚ‹xt
 = 
çl£
;

787 
x
->
´e£rve_x©Œ
 = 
çl£
;

788 
x
->
»duû_dŸgno¡ics
 = 
çl£
;

789 
x
->
»quœe_´e£rve_x©Œ
 = 
çl£
;

791 
x
->
d©a_cİy_»quœed
 = 
Œue
;

792 
x
->
»quœe_´e£rve
 = 
çl£
;

793 
x
->
»cursive
 = 
çl£
;

794 
x
->
¥¬£_mode
 = 
SPARSE_AUTO
;

795 
x
->
symbŞic_lšk
 = 
çl£
;

796 
x
->
£t_mode
 = 
çl£
;

797 
x
->
mode
 = 0;

800 
x
->
¡dš_‰y
 = 
çl£
;

802 
x
->
upd©e
 = 
çl£
;

803 
x
->
v”bo£
 = 
çl£
;

809 
x
->
İ’_dªglšg_de¡_symlšk
 = 
	`g‘’v
 ("POSIXLY_CORRECT"è!ğ
NULL
;

811 
x
->
de¡_šfo
 = 
NULL
;

812 
x
->
¤c_šfo
 = 
NULL
;

813 
	}
}

818 
	$decode_´e£rve_¬g
 (cÚ¡ *
¬g
, 
ı_İtiÚs
 *
x
, 
boŞ
 
Ú_off
)

820 
	eFe_©Œibu‹


822 
PRESERVE_MODE
,

823 
PRESERVE_TIMESTAMPS
,

824 
PRESERVE_OWNERSHIP
,

825 
PRESERVE_LINK
,

826 
PRESERVE_CONTEXT
,

827 
PRESERVE_XATTR
,

828 
PRESERVE_ALL


830 
Fe_©Œibu‹
 cÚ¡ 
´e£rve_v®s
[] =

832 
PRESERVE_MODE
, 
PRESERVE_TIMESTAMPS
,

833 
PRESERVE_OWNERSHIP
, 
PRESERVE_LINK
, 
PRESERVE_CONTEXT
, 
PRESERVE_XATTR
,

834 
PRESERVE_ALL


837 cÚ¡* cÚ¡ 
´e£rve_¬gs
[] =

840 "owÃrsh", "lšks", "cÚ‹xt", "x©Œ", "®l", 
NULL


842 
	`ARGMATCH_VERIFY
 (
´e£rve_¬gs
, 
´e£rve_v®s
);

844 *
¬g_wr™abË
 = 
	`x¡rdup
 (
¬g
);

845 *
s
 = 
¬g_wr™abË
;

849 *
comma
 = 
	`¡rchr
 (
s
, ',');

850 
Fe_©Œibu‹
 
v®
;

853 ià(
comma
)

854 *
comma
++ = 0;

857 
v®
 = 
	`XARGMATCH
 ("--´e£rve", 
s
, 
´e£rve_¬gs
, 
´e£rve_v®s
);

858 
v®
)

860 
PRESERVE_MODE
:

861 
x
->
´e£rve_mode
 = 
Ú_off
;

862 
x
->
ex¶ic™_no_´e£rve_mode
 = !
Ú_off
;

865 
PRESERVE_TIMESTAMPS
:

866 
x
->
´e£rve_time¡amps
 = 
Ú_off
;

869 
PRESERVE_OWNERSHIP
:

870 
x
->
´e£rve_owÃrsh
 = 
Ú_off
;

873 
PRESERVE_LINK
:

874 
x
->
´e£rve_lšks
 = 
Ú_off
;

877 
PRESERVE_CONTEXT
:

878 
x
->
´e£rve_£cur™y_cÚ‹xt
 = 
Ú_off
;

879 
x
->
»quœe_´e£rve_cÚ‹xt
 = 
Ú_off
;

882 
PRESERVE_XATTR
:

883 
x
->
´e£rve_x©Œ
 = 
Ú_off
;

884 
x
->
»quœe_´e£rve_x©Œ
 = 
Ú_off
;

887 
PRESERVE_ALL
:

888 
x
->
´e£rve_mode
 = 
Ú_off
;

889 
x
->
´e£rve_time¡amps
 = 
Ú_off
;

890 
x
->
´e£rve_owÃrsh
 = 
Ú_off
;

891 
x
->
´e£rve_lšks
 = 
Ú_off
;

892 
x
->
ex¶ic™_no_´e£rve_mode
 = !
Ú_off
;

893 ià(
£lšux_’abËd
)

894 
x
->
´e£rve_£cur™y_cÚ‹xt
 = 
Ú_off
;

895 
x
->
´e£rve_x©Œ
 = 
Ú_off
;

899 
	`abÜt
 ();

901 
s
 = 
comma
;

903 
s
);

905 
	`ä“
 (
¬g_wr™abË
);

906 
	}
}

909 
	$maš
 (
¬gc
, **
¬gv
)

911 
c
;

912 
boŞ
 
ok
;

913 
boŞ
 
make_backups
 = 
çl£
;

914 *
backup_suffix_¡ršg
;

915 *
v”siÚ_cÚŒŞ_¡ršg
 = 
NULL
;

916 
ı_İtiÚs
 
x
;

917 
boŞ
 
cİy_cÚ‹Ás
 = 
çl£
;

918 *
rg‘_dœeùÜy
 = 
NULL
;

919 
boŞ
 
no_rg‘_dœeùÜy
 = 
çl£
;

921 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

922 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

923 
	`£oÿË
 (
LC_ALL
, "");

924 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

925 
	`‹xtdomaš
 (
PACKAGE
);

927 
	`©ex™
 (
şo£_¡dš
);

929 
£lšux_’abËd
 = (0 < 
	`is_£lšux_’abËd
 ());

930 
	`ı_İtiÚ_š™
 (&
x
);

934 
backup_suffix_¡ršg
 = 
	`g‘’v
 ("SIMPLE_BACKUP_SUFFIX");

936 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "abdfHilLnprst:uvxPRS:T",

937 
lÚg_İts
, 
NULL
))

940 
c
)

942 
SPARSE_OPTION
:

943 
x
.
¥¬£_mode
 = 
	`XARGMATCH
 ("--¥¬£", 
İrg
,

944 
¥¬£_ty³_¡ršg
, 
¥¬£_ty³
);

947 
REFLINK_OPTION
:

948 ià(
İrg
 =ğ
NULL
)

949 
x
.
»æšk_mode
 = 
REFLINK_ALWAYS
;

951 
x
.
»æšk_mode
 = 
	`XARGMATCH
 ("--»æšk", 
İrg
,

952 
»æšk_ty³_¡ršg
, 
»æšk_ty³
);

957 
x
.
d”eã»nû
 = 
DEREF_NEVER
;

958 
x
.
´e£rve_lšks
 = 
Œue
;

959 
x
.
´e£rve_owÃrsh
 = 
Œue
;

960 
x
.
´e£rve_mode
 = 
Œue
;

961 
x
.
´e£rve_time¡amps
 = 
Œue
;

962 
x
.
»quœe_´e£rve
 = 
Œue
;

963 ià(
£lšux_’abËd
)

964 
x
.
´e£rve_£cur™y_cÚ‹xt
 = 
Œue
;

965 
x
.
´e£rve_x©Œ
 = 
Œue
;

966 
x
.
»duû_dŸgno¡ics
 = 
Œue
;

967 
x
.
»cursive
 = 
Œue
;

971 
make_backups
 = 
Œue
;

972 ià(
İrg
)

973 
v”siÚ_cÚŒŞ_¡ršg
 = 
İrg
;

976 
ATTRIBUTES_ONLY_OPTION
:

977 
x
.
d©a_cİy_»quœed
 = 
çl£
;

980 
COPY_CONTENTS_OPTION
:

981 
cİy_cÚ‹Ás
 = 
Œue
;

985 
x
.
´e£rve_lšks
 = 
Œue
;

986 
x
.
d”eã»nû
 = 
DEREF_NEVER
;

990 
x
.
uÆšk_de¡_aá”_çed_İ’
 = 
Œue
;

994 
x
.
d”eã»nû
 = 
DEREF_COMMAND_LINE_ARGUMENTS
;

998 
x
.
š‹¿ùive
 = 
I_ASK_USER
;

1002 
x
.
h¬d_lšk
 = 
Œue
;

1006 
x
.
d”eã»nû
 = 
DEREF_ALWAYS
;

1010 
x
.
š‹¿ùive
 = 
I_ALWAYS_NO
;

1014 
x
.
d”eã»nû
 = 
DEREF_NEVER
;

1017 
NO_PRESERVE_ATTRIBUTES_OPTION
:

1018 
	`decode_´e£rve_¬g
 (
İrg
, &
x
, 
çl£
);

1021 
PRESERVE_ATTRIBUTES_OPTION
:

1022 ià(
İrg
 =ğ
NULL
)

1028 
	`decode_´e£rve_¬g
 (
İrg
, &
x
, 
Œue
);

1029 
x
.
»quœe_´e£rve
 = 
Œue
;

1034 
x
.
´e£rve_owÃrsh
 = 
Œue
;

1035 
x
.
´e£rve_mode
 = 
Œue
;

1036 
x
.
´e£rve_time¡amps
 = 
Œue
;

1037 
x
.
»quœe_´e£rve
 = 
Œue
;

1040 
PARENTS_OPTION
:

1041 
·»Ás_İtiÚ
 = 
Œue
;

1046 
x
.
»cursive
 = 
Œue
;

1049 
UNLINK_DEST_BEFORE_OPENING
:

1050 
x
.
uÆšk_de¡_befÜe_İ’šg
 = 
Œue
;

1053 
STRIP_TRAILING_SLASHES_OPTION
:

1054 
»move_Œašg_¦ashes
 = 
Œue
;

1058 
x
.
symbŞic_lšk
 = 
Œue
;

1062 ià(
rg‘_dœeùÜy
)

1063 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1064 
	`_
("multiplearget directories specified"));

1067 
¡©
 
¡
;

1068 ià(
	`¡©
 (
İrg
, &
¡
) != 0)

1069 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo‡ccess %s"),

1070 
	`quÙe
 (
İrg
));

1071 ià(! 
	`S_ISDIR
 (
¡
.
¡_mode
))

1072 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

1073 
	`quÙe
 (
İrg
));

1075 
rg‘_dœeùÜy
 = 
İrg
;

1079 
no_rg‘_dœeùÜy
 = 
Œue
;

1083 
x
.
upd©e
 = 
Œue
;

1087 
x
.
v”bo£
 = 
Œue
;

1091 
x
.
Úe_fe_sy¡em
 = 
Œue
;

1095 
make_backups
 = 
Œue
;

1096 
backup_suffix_¡ršg
 = 
İrg
;

1099 
ÿ£_GETOPT_HELP_CHAR
;

1101 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1104 
	`u§ge
 (
EXIT_FAILURE
);

1108 ià(
x
.
h¬d_lšk
 && x.
symbŞic_lšk
)

1110 
	`”rÜ
 (0, 0, 
	`_
("cannot make both hard‡nd symbolic†inks"));

1111 
	`u§ge
 (
EXIT_FAILURE
);

1114 ià(
make_backups
 && 
x
.
š‹¿ùive
 =ğ
I_ALWAYS_NO
)

1116 
	`”rÜ
 (0, 0,

1117 
	`_
("options --backup‡nd --no-clobber‡re mutuallyƒxclusive"));

1118 
	`u§ge
 (
EXIT_FAILURE
);

1121 ià(
x
.
»æšk_mode
 =ğ
REFLINK_ALWAYS
 && x.
¥¬£_mode
 !ğ
SPARSE_AUTO
)

1123 
	`”rÜ
 (0, 0, 
	`_
("--reflink can be used only with --sparse=auto"));

1124 
	`u§ge
 (
EXIT_FAILURE
);

1127 ià(
backup_suffix_¡ršg
)

1128 
sim¶e_backup_suffix
 = 
	`x¡rdup
 (
backup_suffix_¡ršg
);

1130 
x
.
backup_ty³
 = (
make_backups


1131 ? 
	`xg‘_v”siÚ
 (
	`_
("backupype"),

1132 
v”siÚ_cÚŒŞ_¡ršg
)

1133 : 
no_backups
);

1135 ià(
x
.
d”eã»nû
 =ğ
DEREF_UNDEFINED
)

1137 ià(
x
.
»cursive
)

1139 
x
.
d”eã»nû
 = 
DEREF_NEVER
;

1141 
x
.
d”eã»nû
 = 
DEREF_ALWAYS
;

1144 ià(
x
.
»cursive
)

1145 
x
.
cİy_as_»guÏr
 = 
cİy_cÚ‹Ás
;

1149 ià(
x
.
uÆšk_de¡_aá”_çed_İ’
 && (x.
h¬d_lšk
 || x.
symbŞic_lšk
))

1150 
x
.
uÆšk_de¡_befÜe_İ’šg
 = 
Œue
;

1152 ià(
x
.
´e£rve_£cur™y_cÚ‹xt
)

1154 ià(!
£lšux_’abËd
)

1155 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1156 
	`_
("cannot…reserve security context "

1160 #ià!
USE_XATTR


1161 ià(
x
.
»quœe_´e£rve_x©Œ
)

1162 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot…reserveƒxtended‡ttributes, cp is "

1168 
	`hash_š™
 ();

1170 
ok
 = 
	`do_cİy
 (
¬gc
 - 
İtšd
, 
¬gv
 + optind,

1171 
rg‘_dœeùÜy
, 
no_rg‘_dœeùÜy
, &
x
);

1173 
	`fÜg‘_®l
 ();

1175 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1176 
	}
}

	@csplit.c

20 
	~<cÚfig.h
>

22 
	~<g‘İt.h
>

23 
	~<sys/ty³s.h
>

24 
	~<sigÇl.h
>

26 
	~"sy¡em.h
"

28 
	~<»gex.h
>

30 
	~"”rÜ.h
"

31 
	~"fd-»İ’.h
"

32 
	~"quÙe.h
"

33 
	~"§ã-»ad.h
"

34 
	~"¡dio--.h
"

35 
	~"x¡¹Ş.h
"

38 
	#PROGRAM_NAME
 "c¥l™"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Stuart Kemp"), \

42 
	`´İ”_Çme
 ("David MacK’z›")

	)

45 
	#DEFAULT_PREFIX
 "xx"

	)

48 
	scÚŒŞ


50 
štmax_t
 
	moff£t
;

51 
uštmax_t
 
	mlšes_»quœed
;

52 
uštmax_t
 
	m»³©
;

53 
	m¬gnum
;

54 
boŞ
 
	m»³©_fÜev”
;

55 
boŞ
 
	mignÜe
;

56 
boŞ
 
	m»gex´
;

57 
»_·‰”n_bufãr
 
	m»_comped
;

61 
	#START_SIZE
 8191

	)

64 
	#INCR_SIZE
 2048

	)

67 
	#CTRL_SIZE
 80

	)

69 #ifdeà
DEBUG


71 
	#START_SIZE
 200

	)

72 
	#INCR_SIZE
 10

	)

73 
	#CTRL_SIZE
 1

	)

77 
	sc¡ršg


79 
size_t
 
	mËn
;

80 *
	m¡r
;

85 
	slše


87 
size_t
 
	mu£d
;

88 
size_t
 
	mš£¹_šdex
;

89 
size_t
 
	m»Œ›ve_šdex
;

90 
c¡ršg
 
	m¡¬ts
[
CTRL_SIZE
];

91 
lše
 *
	mÃxt
;

97 
	sbufãr_»cÜd


99 
size_t
 
	mby‹s_®loc
;

100 
size_t
 
	mby‹s_u£d
;

101 
uštmax_t
 
	m¡¬t_lše
;

102 
uštmax_t
 
	mfœ¡_avaabË
;

103 
size_t
 
	mnum_lšes
;

104 *
	mbufãr
;

105 
lše
 *
	mlše_¡¬t
;

106 
lše
 *
	mcu¼_lše
;

107 
bufãr_»cÜd
 *
	mÃxt
;

110 
şo£_ouut_fe
 ();

111 
ü—‹_ouut_fe
 ();

112 
d–‘e_®l_fes
 (
boŞ
);

113 
§ve_lše_to_fe
 (cÚ¡ 
c¡ršg
 *
lše
);

116 
bufãr_»cÜd
 *
	gh—d
 = 
NULL
;

119 *
	ghŞd_¬—
 = 
NULL
;

122 
size_t
 
	ghŞd_couÁ
 = 0;

125 
uštmax_t
 
	gÏ¡_lše_numb”
 = 0;

128 
uštmax_t
 
	gcu¼’t_lše
 = 0;

131 
boŞ
 
	ghave_»ad_eof
 = 
çl£
;

134 *vŞ©
	gf’ame_¥aû
 = 
NULL
;

137 cÚ¡ *vŞ©
	g´efix
 = 
NULL
;

140 *vŞ©
	gsuffix
 = 
NULL
;

143 vŞ©
	gdig™s
 = 2;

146 vŞ©
	gfes_ü—‹d
 = 0;

149 
uštmax_t
 
	gby‹s_wr™‹n
;

152 
FILE
 *
	gouut_¡»am
 = 
NULL
;

155 *
	gouut_f’ame
 = 
NULL
;

158 **
	gglob®_¬gv
;

161 
boŞ
 
	gsuµ»ss_couÁ
;

164 
boŞ
 vŞ©
	g»move_fes
;

167 
boŞ
 
	g–ide_em±y_fes
;

171 
cÚŒŞ
 *
	gcÚŒŞs
;

174 
size_t
 
	gcÚŒŞ_u£d
;

177 
sig£t_t
 
	gÿught_sigÇls
;

179 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

181 {"dig™s", 
»quœed_¬gum’t
, 
NULL
, 'n'},

182 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

183 {"s’t", 
no_¬gum’t
, 
NULL
, 's'},

184 {"k“p-fes", 
no_¬gum’t
, 
NULL
, 'k'},

185 {"–ide-em±y-fes", 
no_¬gum’t
, 
NULL
, 'z'},

186 {"´efix", 
»quœed_¬gum’t
, 
NULL
, 'f'},

187 {"suffix-fÜm©", 
»quœed_¬gum’t
, 
NULL
, 'b'},

188 {
GETOPT_HELP_OPTION_DECL
},

189 {
GETOPT_VERSION_OPTION_DECL
},

190 {
NULL
, 0, NULL, 0}

197 
	$ş—nup
 ()

199 
sig£t_t
 
Şd£t
;

201 
	`şo£_ouut_fe
 ();

203 
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &
Şd£t
);

204 
	`d–‘e_®l_fes
 (
çl£
);

205 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şd£t
, 
NULL
);

206 
	}
}

208 
	$ş—nup_çl
 (è
ATTRIBUTE_NORETURN
;

210 
	$ş—nup_çl
 ()

212 
	`ş—nup
 ();

213 
	`ex™
 (
EXIT_FAILURE
);

214 
	}
}

217 
	$x®loc_d›
 ()

219 
	`”rÜ
 (0, 0, "%s", 
	`_
("memoryƒxhausted"));

220 
	`ş—nup_çl
 ();

221 
	}
}

224 
	$š‹¼u±_hªdËr
 (
sig
)

226 
	`d–‘e_®l_fes
 (
Œue
);

227 
	`sigÇl
 (
sig
, 
SIG_DFL
);

231 
	`¿i£
 (
sig
);

232 
	}
}

238 
	$§ve_to_hŞd_¬—
 (*
¡¬t
, 
size_t
 
num
)

240 
	`ä“
 (
hŞd_¬—
);

241 
hŞd_¬—
 = 
¡¬t
;

242 
hŞd_couÁ
 = 
num
;

243 
	}
}

248 
size_t


249 
	$»ad_šput
 (*
de¡
, 
size_t
 
max_n_by‹s
)

251 
size_t
 
by‹s_»ad
;

253 ià(
max_n_by‹s
 == 0)

256 
by‹s_»ad
 = 
	`§ã_»ad
 (
STDIN_FILENO
, 
de¡
, 
max_n_by‹s
);

258 ià(
by‹s_»ad
 == 0)

259 
have_»ad_eof
 = 
Œue
;

261 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

263 
	`”rÜ
 (0, 
”ºo
, 
	`_
("readƒrror"));

264 
	`ş—nup_çl
 ();

267  
by‹s_»ad
;

268 
	}
}

273 
	$ş—r_lše_cÚŒŞ
 (
lše
 *
p
)

275 
p
->
u£d
 = 0;

276 
p
->
š£¹_šdex
 = 0;

277 
p
->
»Œ›ve_šdex
 = 0;

278 
	}
}

282 
lše
 *

283 
	$Ãw_lše_cÚŒŞ
 ()

285 
lše
 *
p
 = 
	`xm®loc
 ( *p);

287 
p
->
Ãxt
 = 
NULL
;

288 
	`ş—r_lše_cÚŒŞ
 (
p
);

290  
p
;

291 
	}
}

297 
	$k“p_Ãw_lše
 (
bufãr_»cÜd
 *
b
, *
lše_¡¬t
, 
size_t
 
lše_Ën
)

299 
lše
 *
l
;

302 ià(
b
->
lše_¡¬t
 =ğ
NULL
)

303 
b
->
lše_¡¬t
 = b->
cu¼_lše
 = 
	`Ãw_lše_cÚŒŞ
 ();

306 ià(
b
->
cu¼_lše
->
u£d
 =ğ
CTRL_SIZE
)

308 
b
->
cu¼_lše
->
Ãxt
 = 
	`Ãw_lše_cÚŒŞ
 ();

309 
b
->
cu¼_lše
 = b->cu¼_lše->
Ãxt
;

312 
l
 = 
b
->
cu¼_lše
;

315 
l
->
¡¬ts
[l->
š£¹_šdex
].
¡r
 = 
lše_¡¬t
;

316 
l
->
¡¬ts
[l->
š£¹_šdex
].
Ën
 = 
lše_Ën
;

317 
l
->
u£d
++;

318 
l
->
š£¹_šdex
++;

319 
	}
}

329 
size_t


330 
	$»cÜd_lše_¡¬ts
 (
bufãr_»cÜd
 *
b
)

332 *
lše_¡¬t
;

333 *
lše_’d
;

334 
size_t
 
by‹s_Ëá
;

335 
size_t
 
lšes
;

336 
size_t
 
lše_Ëngth
;

338 ià(
b
->
by‹s_u£d
 == 0)

341 
lšes
 = 0;

342 
lše_¡¬t
 = 
b
->
bufãr
;

343 
by‹s_Ëá
 = 
b
->
by‹s_u£d
;

345 
Œue
)

347 
lše_’d
 = 
	`memchr
 (
lše_¡¬t
, '\n', 
by‹s_Ëá
);

348 ià(
lše_’d
 =ğ
NULL
)

350 
lše_Ëngth
 = 
lše_’d
 - 
lše_¡¬t
 + 1;

351 
	`k“p_Ãw_lše
 (
b
, 
lše_¡¬t
, 
lše_Ëngth
);

352 
by‹s_Ëá
 -ğ
lše_Ëngth
;

353 
lše_¡¬t
 = 
lše_’d
 + 1;

354 
lšes
++;

358 ià(
by‹s_Ëá
)

360 ià(
have_»ad_eof
)

362 
	`k“p_Ãw_lše
 (
b
, 
lše_¡¬t
, 
by‹s_Ëá
);

363 
lšes
++;

366 
	`§ve_to_hŞd_¬—
 (
	`xmemdup
 (
lše_¡¬t
, 
by‹s_Ëá
), bytes_left);

369 
b
->
num_lšes
 = 
lšes
;

370 
b
->
fœ¡_avaabË
 = b->
¡¬t_lše
 = 
Ï¡_lše_numb”
 + 1;

371 
Ï¡_lše_numb”
 +ğ
lšes
;

373  
lšes
;

374 
	}
}

379 
bufãr_»cÜd
 *

380 
	$ü—‹_Ãw_bufãr
 (
size_t
 
size
)

382 
bufãr_»cÜd
 *
Ãw_bufãr
 = 
	`xm®loc
 ( *new_buffer);

384 
Ãw_bufãr
->
bufãr
 = 
	`xm®loc
 (
size
 + 1);

386 
Ãw_bufãr
->
by‹s_®loc
 = 
size
;

387 
Ãw_bufãr
->
lše_¡¬t
 =‚ew_bufãr->
cu¼_lše
 = 
NULL
;

389  
Ãw_bufãr
;

390 
	}
}

395 
bufãr_»cÜd
 *

396 
	$g‘_Ãw_bufãr
 (
size_t
 
mš_size
)

398 
bufãr_»cÜd
 *
Ãw_bufãr
;

399 
size_t
 
®loc_size
;

401 
®loc_size
 = 
START_SIZE
;

402 ià(
®loc_size
 < 
mš_size
)

404 
size_t
 
s
 = 
mš_size
 - 
®loc_size
 + 
INCR_SIZE
 - 1;

405 
®loc_size
 +ğ
s
 - s % 
INCR_SIZE
;

408 
Ãw_bufãr
 = 
	`ü—‹_Ãw_bufãr
 (
®loc_size
);

410 
Ãw_bufãr
->
num_lšes
 = 0;

411 
Ãw_bufãr
->
by‹s_u£d
 = 0;

412 
Ãw_bufãr
->
¡¬t_lše
 =‚ew_bufãr->
fœ¡_avaabË
 = 
Ï¡_lše_numb”
 + 1;

413 
Ãw_bufãr
->
Ãxt
 = 
NULL
;

415  
Ãw_bufãr
;

416 
	}
}

419 
	$ä“_bufãr
 (
bufãr_»cÜd
 *
buf
)

421 
lše
 *
l
;

422 
l
 = 
buf
->
lše_¡¬t
;†;)

424 
lše
 *
n
 = 
l
->
Ãxt
;

425 
	`ä“
 (
l
);

426 
l
 = 
n
;

428 
buf
->
lše_¡¬t
 = 
NULL
;

429 
	`ä“
 (
buf
->
bufãr
);

430 
buf
->
bufãr
 = 
NULL
;

431 
	}
}

437 
	$§ve_bufãr
 (
bufãr_»cÜd
 *
buf
)

439 
bufãr_»cÜd
 *
p
;

441 
buf
->
Ãxt
 = 
NULL
;

442 
buf
->
cu¼_lše
 = buf->
lše_¡¬t
;

444 ià(
h—d
 =ğ
NULL
)

445 
h—d
 = 
buf
;

448 
p
 = 
h—d
;…->
Ãxt
;… =…->next)

450 
p
->
Ãxt
 = 
buf
;

452 
	}
}

467 
boŞ


468 
	$lßd_bufãr
 ()

470 
bufãr_»cÜd
 *
b
;

471 
size_t
 
by‹s_wª‹d
 = 
START_SIZE
;

472 
size_t
 
by‹s_ava
;

473 
size_t
 
lšes_found
;

474 *
p
;

476 ià(
have_»ad_eof
)

477  
çl£
;

481 ià(
by‹s_wª‹d
 < 
hŞd_couÁ
)

482 
by‹s_wª‹d
 = 
hŞd_couÁ
;

486 
b
 = 
	`g‘_Ãw_bufãr
 (
by‹s_wª‹d
);

487 
by‹s_ava
 = 
b
->
by‹s_®loc
;

488 
p
 = 
b
->
bufãr
;

491 ià(
hŞd_couÁ
)

493 
	`memıy
 (
p
, 
hŞd_¬—
, 
hŞd_couÁ
);

494 
p
 +ğ
hŞd_couÁ
;

495 
b
->
by‹s_u£d
 +ğ
hŞd_couÁ
;

496 
by‹s_ava
 -ğ
hŞd_couÁ
;

497 
hŞd_couÁ
 = 0;

500 
b
->
by‹s_u£d
 +ğ
	`»ad_šput
 (
p
, 
by‹s_ava
);

502 
lšes_found
 = 
	`»cÜd_lše_¡¬ts
 (
b
);

504 ià(
lšes_found
 || 
have_»ad_eof
)

507 ià(
	`x®loc_ov”sized
 (2, 
b
->
by‹s_®loc
))

508 
	`x®loc_d›
 ();

509 
by‹s_wª‹d
 = 2 * 
b
->
by‹s_®loc
;

510 
	`ä“_bufãr
 (
b
);

511 
	`ä“
 (
b
);

514 ià(
lšes_found
)

515 
	`§ve_bufãr
 (
b
);

518 
	`ä“_bufãr
 (
b
);

519 
	`ä“
 (
b
);

522  
lšes_found
 != 0;

523 
	}
}

527 
uštmax_t


528 
	$g‘_fœ¡_lše_š_bufãr
 ()

530 ià(
h—d
 =ğ
NULL
 && !
	`lßd_bufãr
 ())

531 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("input disappeared"));

533  
h—d
->
fœ¡_avaabË
;

534 
	}
}

540 
c¡ršg
 *

541 
	$»move_lše
 ()

546 
bufãr_»cÜd
 *
´ev_buf
 = 
NULL
;

548 
c¡ršg
 *
lše
;

549 
lše
 *
l
;

551 ià(
´ev_buf
)

553 
	`ä“_bufãr
 (
´ev_buf
);

554 
	`ä“
 (
´ev_buf
);

555 
´ev_buf
 = 
NULL
;

558 ià(
h—d
 =ğ
NULL
 && !
	`lßd_bufãr
 ())

559  
NULL
;

561 ià(
cu¼’t_lše
 < 
h—d
->
fœ¡_avaabË
)

562 
cu¼’t_lše
 = 
h—d
->
fœ¡_avaabË
;

564 ++(
h—d
->
fœ¡_avaabË
);

566 
l
 = 
h—d
->
cu¼_lše
;

568 
lše
 = &
l
->
¡¬ts
[l->
»Œ›ve_šdex
];

571 ià(++
l
->
»Œ›ve_šdex
 =ğl->
u£d
)

574 
h—d
->
cu¼_lše
 = 
l
->
Ãxt
;

575 ià(
h—d
->
cu¼_lše
 =ğ
NULL
 || h—d->cu¼_lše->
u£d
 == 0)

580 
´ev_buf
 = 
h—d
;

581 
h—d
 = h—d->
Ãxt
;

585  
lše
;

586 
	}
}

591 
c¡ršg
 *

592 
	$fšd_lše
 (
uštmax_t
 
lš’um
)

594 
bufãr_»cÜd
 *
b
;

596 ià(
h—d
 =ğ
NULL
 && !
	`lßd_bufãr
 ())

597  
NULL
;

599 ià(
lš’um
 < 
h—d
->
¡¬t_lše
)

600  
NULL
;

602 
b
 = 
h—d
;;)

604 ià(
lš’um
 < 
b
->
¡¬t_lše
 + b->
num_lšes
)

607 
lše
 *
l
;

608 
size_t
 
off£t
;

610 
l
 = 
b
->
lše_¡¬t
;

611 
off£t
 = 
lš’um
 - 
b
->
¡¬t_lše
;

613 
off£t
 >ğ
CTRL_SIZE
)

615 
l
 =†->
Ãxt
;

616 
off£t
 -ğ
CTRL_SIZE
;

618  &
l
->
¡¬ts
[
off£t
];

620 ià(
b
->
Ãxt
 =ğ
NULL
 && !
	`lßd_bufãr
 ())

621  
NULL
;

622 
b
 = b->
Ãxt
;

624 
	}
}

628 
boŞ


629 
	$no_mÜe_lšes
 ()

631  
	`fšd_lše
 (
cu¼’t_lše
 + 1è=ğ
NULL
;

632 
	}
}

637 
	$£t_šput_fe
 (cÚ¡ *
Çme
)

639 ià(! 
	`STREQ
 (
Çme
, "-"è&& 
	`fd_»İ’
 (
STDIN_FILENO
,‚ame, 
O_RDONLY
, 0) < 0)

640 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ o³À% fÜ„—dšg"), 
	`quÙe
 (
Çme
));

641 
	}
}

649 
	$wr™e_to_fe
 (
uštmax_t
 
Ï¡_lše
, 
boŞ
 
ignÜe
, 
¬gnum
)

651 
c¡ršg
 *
lše
;

652 
uštmax_t
 
fœ¡_lše
;

653 
uštmax_t
 
lšes
;

654 
uštmax_t
 
i
;

656 
fœ¡_lše
 = 
	`g‘_fœ¡_lše_š_bufãr
 ();

658 ià(
fœ¡_lše
 > 
Ï¡_lše
)

660 
	`”rÜ
 (0, 0, 
	`_
("%s:†šnumb” ouˆoà¿nge"), 
glob®_¬gv
[
¬gnum
]);

661 
	`ş—nup_çl
 ();

664 
lšes
 = 
Ï¡_lše
 - 
fœ¡_lše
;

666 
i
 = 0; i < 
lšes
; i++)

668 
lše
 = 
	`»move_lše
 ();

669 ià(
lše
 =ğ
NULL
)

671 
	`”rÜ
 (0, 0, 
	`_
("%s:†šnumb” ouˆoà¿nge"), 
glob®_¬gv
[
¬gnum
]);

672 
	`ş—nup_çl
 ();

674 ià(!
ignÜe
)

675 
	`§ve_lše_to_fe
 (
lše
);

677 
	}
}

682 
	$dump_»¡_of_fe
 ()

684 
c¡ršg
 *
lše
;

686 (
lše
 = 
	`»move_lše
 ()è!ğ
NULL
)

687 
	`§ve_lše_to_fe
 (
lše
);

688 
	}
}

693 
	$hªdË_lše_”rÜ
 (cÚ¡ 
cÚŒŞ
 *, 
uštmax_t
)

694 
ATTRIBUTE_NORETURN
;

696 
	$hªdË_lše_”rÜ
 (cÚ¡ 
cÚŒŞ
 *
p
, 
uštmax_t
 
»³t™iÚ
)

698 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

700 
	`årštf
 (
¡d”r
, 
	`_
("%s: %s:†ine‚umber out of„ange"),

701 
´og¿m_Çme
, 
	`quÙe
 (
	`umaxto¡r
 (
p
->
lšes_»quœed
, 
buf
)));

702 ià(
»³t™iÚ
)

703 
	`årštf
 (
¡d”r
, 
	`_
(" oÀ»³t™iÚ %s\n"), 
	`umaxto¡r
 (
»³t™iÚ
, 
buf
));

705 
	`årštf
 (
¡d”r
, "\n");

707 
	`ş—nup_çl
 ();

708 
	}
}

716 
	$´oûss_lše_couÁ
 (cÚ¡ 
cÚŒŞ
 *
p
, 
uštmax_t
 
»³t™iÚ
)

718 
uštmax_t
 
lš’um
;

719 
uštmax_t
 
Ï¡_lše_to_§ve
 = 
p
->
lšes_»quœed
 * (
»³t™iÚ
 + 1);

720 
c¡ršg
 *
lše
;

722 
	`ü—‹_ouut_fe
 ();

724 
lš’um
 = 
	`g‘_fœ¡_lše_š_bufãr
 ();

726 
lš’um
++ < 
Ï¡_lše_to_§ve
)

728 
lše
 = 
	`»move_lše
 ();

729 ià(
lše
 =ğ
NULL
)

730 
	`hªdË_lše_”rÜ
 (
p
, 
»³t™iÚ
);

731 
	`§ve_lše_to_fe
 (
lše
);

734 
	`şo£_ouut_fe
 ();

738 ià(
	`no_mÜe_lšes
 ())

739 
	`hªdË_lše_”rÜ
 (
p
, 
»³t™iÚ
);

740 
	}
}

742 
	$»gexp_”rÜ
 (
cÚŒŞ
 *, 
uštmax_t
, 
boŞ
è
ATTRIBUTE_NORETURN
;

744 
	$»gexp_”rÜ
 (
cÚŒŞ
 *
p
, 
uštmax_t
 
»³t™iÚ
, 
boŞ
 
ignÜe
)

746 
	`årštf
 (
¡d”r
, 
	`_
("%s: %s: match‚ot found"),

747 
´og¿m_Çme
, 
	`quÙe
 (
glob®_¬gv
[
p
->
¬gnum
]));

749 ià(
»³t™iÚ
)

751 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

752 
	`årštf
 (
¡d”r
, 
	`_
(" oÀ»³t™iÚ %s\n"), 
	`umaxto¡r
 (
»³t™iÚ
, 
buf
));

755 
	`årštf
 (
¡d”r
, "\n");

757 ià(!
ignÜe
)

759 
	`dump_»¡_of_fe
 ();

760 
	`şo£_ouut_fe
 ();

762 
	`ş—nup_çl
 ();

763 
	}
}

770 
	$´oûss_»gexp
 (
cÚŒŞ
 *
p
, 
uštmax_t
 
»³t™iÚ
)

772 
c¡ršg
 *
lše
;

773 
size_t
 
lše_Ën
;

774 
uštmax_t
 
b»ak_lše
;

775 
boŞ
 
ignÜe
 = 
p
->ignore;

776 
»goff_t
 
»t
;

778 ià(!
ignÜe
)

779 
	`ü—‹_ouut_fe
 ();

784 ià(
p
->
off£t
 >= 0)

786 
Œue
)

788 
lše
 = 
	`fšd_lše
 (++
cu¼’t_lše
);

789 ià(
lše
 =ğ
NULL
)

791 ià(
p
->
»³©_fÜev”
)

793 ià(!
ignÜe
)

795 
	`dump_»¡_of_fe
 ();

796 
	`şo£_ouut_fe
 ();

798 
	`ex™
 (
EXIT_SUCCESS
);

801 
	`»gexp_”rÜ
 (
p
, 
»³t™iÚ
, 
ignÜe
);

803 
lše_Ën
 = 
lše
->
Ën
;

804 ià(
lše
->
¡r
[
lše_Ën
 - 1] == '\n')

805 
lše_Ën
--;

806 
»t
 = 
	`»_£¬ch
 (&
p
->
»_comped
, 
lše
->
¡r
, 
lše_Ën
,

807 0, 
lše_Ën
, 
NULL
);

808 ià(
»t
 == -2)

810 
	`”rÜ
 (0, 0, 
	`_
("error in„egularƒxpression search"));

811 
	`ş—nup_çl
 ();

813 ià(
»t
 == -1)

815 
lše
 = 
	`»move_lše
 ();

816 ià(!
ignÜe
)

817 
	`§ve_lše_to_fe
 (
lše
);

826 
Œue
)

828 
lše
 = 
	`fšd_lše
 (++
cu¼’t_lše
);

829 ià(
lše
 =ğ
NULL
)

831 ià(
p
->
»³©_fÜev”
)

833 ià(!
ignÜe
)

835 
	`dump_»¡_of_fe
 ();

836 
	`şo£_ouut_fe
 ();

838 
	`ex™
 (
EXIT_SUCCESS
);

841 
	`»gexp_”rÜ
 (
p
, 
»³t™iÚ
, 
ignÜe
);

843 
lše_Ën
 = 
lše
->
Ën
;

844 ià(
lše
->
¡r
[
lše_Ën
 - 1] == '\n')

845 
lše_Ën
--;

846 
»t
 = 
	`»_£¬ch
 (&
p
->
»_comped
, 
lše
->
¡r
, 
lše_Ën
,

847 0, 
lše_Ën
, 
NULL
);

848 ià(
»t
 == -2)

850 
	`”rÜ
 (0, 0, 
	`_
("error in„egularƒxpression search"));

851 
	`ş—nup_çl
 ();

853 ià(
»t
 != -1)

859 
b»ak_lše
 = 
cu¼’t_lše
 + 
p
->
off£t
;

861 
	`wr™e_to_fe
 (
b»ak_lše
, 
ignÜe
, 
p
->
¬gnum
);

863 ià(!
ignÜe
)

864 
	`şo£_ouut_fe
 ();

866 ià(
p
->
off£t
 > 0)

867 
cu¼’t_lše
 = 
b»ak_lše
;

868 
	}
}

873 
	$¥l™_fe
 ()

875 
size_t
 
i
;

877 
i
 = 0; i < 
cÚŒŞ_u£d
; i++)

879 
uštmax_t
 
j
;

880 ià(
cÚŒŞs
[
i
].
»gex´
)

882 
j
 = 0; (
cÚŒŞs
[
i
].
»³©_fÜev”


883 || 
j
 <ğ
cÚŒŞs
[
i
].
»³©
); j++)

884 
	`´oûss_»gexp
 (&
cÚŒŞs
[
i
], 
j
);

888 
j
 = 0; (
cÚŒŞs
[
i
].
»³©_fÜev”


889 || 
j
 <ğ
cÚŒŞs
[
i
].
»³©
); j++)

890 
	`´oûss_lše_couÁ
 (&
cÚŒŞs
[
i
], 
j
);

894 
	`ü—‹_ouut_fe
 ();

895 
	`dump_»¡_of_fe
 ();

896 
	`şo£_ouut_fe
 ();

897 
	}
}

907 
	$make_f’ame
 (
num
)

909 
	`¡rıy
 (
f’ame_¥aû
, 
´efix
);

910 ià(
suffix
)

911 
	`¥rštf
 (
f’ame_¥aû
 + 
	`¡¾’
 (
´efix
), 
suffix
, 
num
);

913 
	`¥rštf
 (
f’ame_¥aû
 + 
	`¡¾’
 (
´efix
), "%0*u", 
dig™s
, 
num
);

914  
f’ame_¥aû
;

915 
	}
}

920 
	$ü—‹_ouut_fe
 ()

922 
boŞ
 
fİ’_ok
;

923 
fİ’_”ºo
;

925 
ouut_f’ame
 = 
	`make_f’ame
 (
fes_ü—‹d
);

927 ià(
fes_ü—‹d
 =ğ
UINT_MAX
)

929 
fİ’_ok
 = 
çl£
;

930 
fİ’_”ºo
 = 
EOVERFLOW
;

935 
sig£t_t
 
Şd£t
;

936 
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &
Şd£t
);

937 
ouut_¡»am
 = 
	`fİ’
 (
ouut_f’ame
, "w");

938 
fİ’_ok
 = (
ouut_¡»am
 !ğ
NULL
);

939 
fİ’_”ºo
 = 
”ºo
;

940 
fes_ü—‹d
 +ğ
fİ’_ok
;

941 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şd£t
, 
NULL
);

944 ià(! 
fİ’_ok
)

946 
	`”rÜ
 (0, 
fİ’_”ºo
, "%s", 
ouut_f’ame
);

947 
	`ş—nup_çl
 ();

949 
by‹s_wr™‹n
 = 0;

950 
	}
}

956 
	$d–‘e_®l_fes
 (
boŞ
 
š_sigÇl_hªdËr
)

958 
i
;

960 ià(! 
»move_fes
)

963 
i
 = 0; i < 
fes_ü—‹d
; i++)

965 cÚ¡ *
Çme
 = 
	`make_f’ame
 (
i
);

966 ià(
	`uÆšk
 (
Çme
è!ğ0 && !
š_sigÇl_hªdËr
)

967 
	`”rÜ
 (0, 
”ºo
, "%s", 
Çme
);

970 
fes_ü—‹d
 = 0;

971 
	}
}

977 
	$şo£_ouut_fe
 ()

979 ià(
ouut_¡»am
)

981 ià(
	`ã¼Ü
 (
ouut_¡»am
))

983 
	`”rÜ
 (0, 0, 
	`_
("wr™”rÜ fÜ %s"), 
	`quÙe
 (
ouut_f’ame
));

984 
ouut_¡»am
 = 
NULL
;

985 
	`ş—nup_çl
 ();

987 ià(
	`fşo£
 (
ouut_¡»am
) != 0)

989 
	`”rÜ
 (0, 
”ºo
, "%s", 
ouut_f’ame
);

990 
ouut_¡»am
 = 
NULL
;

991 
	`ş—nup_çl
 ();

993 ià(
by‹s_wr™‹n
 =ğ0 && 
–ide_em±y_fes
)

995 
sig£t_t
 
Şd£t
;

996 
boŞ
 
uÆšk_ok
;

997 
uÆšk_”ºo
;

1000 
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &
Şd£t
);

1001 
uÆšk_ok
 = (
	`uÆšk
 (
ouut_f’ame
) == 0);

1002 
uÆšk_”ºo
 = 
”ºo
;

1003 
fes_ü—‹d
 -ğ
uÆšk_ok
;

1004 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şd£t
, 
NULL
);

1006 ià(! 
uÆšk_ok
)

1007 
	`”rÜ
 (0, 
uÆšk_”ºo
, "%s", 
ouut_f’ame
);

1011 ià(!
suµ»ss_couÁ
)

1013 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

1014 
	`årštf
 (
¡dout
, "%s\n", 
	`umaxto¡r
 (
by‹s_wr™‹n
, 
buf
));

1017 
ouut_¡»am
 = 
NULL
;

1019 
	}
}

1025 
	$§ve_lše_to_fe
 (cÚ¡ 
c¡ršg
 *
lše
)

1027 
	`fwr™e
 (
lše
->
¡r
,  (),†še->
Ën
, 
ouut_¡»am
);

1028 
by‹s_wr™‹n
 +ğ
lše
->
Ën
;

1029 
	}
}

1033 
cÚŒŞ
 *

1034 
	$Ãw_cÚŒŞ_»cÜd
 ()

1036 
size_t
 
cÚŒŞ_®loÿ‹d
 = 0;

1037 
cÚŒŞ
 *
p
;

1039 ià(
cÚŒŞ_u£d
 =ğ
cÚŒŞ_®loÿ‹d
)

1040 
cÚŒŞs
 = 
	`X2NREALLOC
 (cÚŒŞs, &
cÚŒŞ_®loÿ‹d
);

1041 
p
 = &
cÚŒŞs
[
cÚŒŞ_u£d
++];

1042 
p
->
»gex´
 = 
çl£
;

1043 
p
->
»³©
 = 0;

1044 
p
->
»³©_fÜev”
 = 
çl£
;

1045 
p
->
lšes_»quœed
 = 0;

1046 
p
->
off£t
 = 0;

1047  
p
;

1048 
	}
}

1056 
	$check_fÜ_off£t
 (
cÚŒŞ
 *
p
, cÚ¡ *
¡r
, cÚ¡ *
num
)

1058 ià(
	`x¡¹oimax
 (
num
, 
NULL
, 10, &
p
->
off£t
, ""è!ğ
LONGINT_OK
)

1059 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: iÁeg”ƒx³ùed‡á” d–im™”"), 
¡r
);

1060 
	}
}

1068 
	$·r£_»³©_couÁ
 (
¬gnum
, 
cÚŒŞ
 *
p
, *
¡r
)

1070 
uštmax_t
 
v®
;

1071 *
’d
;

1073 
’d
 = 
¡r
 + 
	`¡¾’
 (str) - 1;

1074 ià(*
’d
 != '}')

1075 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: '}' i »quœed iÀ»³© couÁ"), 
¡r
);

1076 *
’d
 = '\0';

1078 ià(
¡r
+1 =ğ
’d
-1 && *(str+1) == '*')

1079 
p
->
»³©_fÜev”
 = 
Œue
;

1082 ià(
	`x¡¹oumax
 (
¡r
 + 1, 
NULL
, 10, &
v®
, ""è!ğ
LONGINT_OK
)

1084 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1085 
	`_
("%s}: integer„equired between '{'‡nd '}'"),

1086 
glob®_¬gv
[
¬gnum
]);

1088 
p
->
»³©
 = 
v®
;

1091 *
’d
 = '}';

1092 
	}
}

1100 
cÚŒŞ
 *

1101 
	$exŒaù_»gexp
 (
¬gnum
, 
boŞ
 
ignÜe
, cÚ¡ *
¡r
)

1103 
size_t
 
Ën
;

1104 
d–im
 = *
¡r
;

1105 cÚ¡ *
şosšg_d–im
;

1106 
cÚŒŞ
 *
p
;

1107 cÚ¡ *
”r
;

1109 
şosšg_d–im
 = 
	`¡¼chr
 (
¡r
 + 1, 
d–im
);

1110 ià(
şosšg_d–im
 =ğ
NULL
)

1111 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1112 
	`_
("%s: closšg d–im™” '%c' missšg"), 
¡r
, 
d–im
);

1114 
Ën
 = 
şosšg_d–im
 - 
¡r
 - 1;

1115 
p
 = 
	`Ãw_cÚŒŞ_»cÜd
 ();

1116 
p
->
¬gnum
 =‡rgnum;

1117 
p
->
ignÜe
 = ignore;

1119 
p
->
»gex´
 = 
Œue
;

1120 
p
->
»_comped
.
bufãr
 = 
NULL
;

1121 
p
->
»_comped
.
®loÿ‹d
 = 0;

1122 
p
->
»_comped
.
ç¡m­
 = 
	`xm®loc
 (
UCHAR_MAX
 + 1);

1123 
p
->
»_comped
.
Œª¦©e
 = 
NULL
;

1124 
»_syÁax_İtiÚs
 =

1125 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

1126 
”r
 = 
	`»_compe_·‰”n
 (
¡r
 + 1, 
Ën
, &
p
->
»_comped
);

1127 ià(
”r
)

1129 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id„eguÏ¸ex´essiÚ: %s"), 
¡r
, 
”r
);

1130 
	`ş—nup_çl
 ();

1133 ià(
şosšg_d–im
[1])

1134 
	`check_fÜ_off£t
 (
p
, 
¡r
, 
şosšg_d–im
 + 1);

1136  
p
;

1137 
	}
}

1143 
	$·r£_·‰”ns
 (
¬gc
, 
¡¬t
, **
¬gv
)

1145 
i
;

1146 
cÚŒŞ
 *
p
;

1147 
uštmax_t
 
v®
;

1148 
uštmax_t
 
Ï¡_v®
 = 0;

1150 
i
 = 
¡¬t
; i < 
¬gc
; i++)

1152 ià(*
¬gv
[
i
] == '/' || *argv[i] == '%')

1154 
p
 = 
	`exŒaù_»gexp
 (
i
, *
¬gv
[i] == '%',‡rgv[i]);

1158 
p
 = 
	`Ãw_cÚŒŞ_»cÜd
 ();

1159 
p
->
¬gnum
 = 
i
;

1161 ià(
	`x¡¹oumax
 (
¬gv
[
i
], 
NULL
, 10, &
v®
, ""è!ğ
LONGINT_OK
)

1162 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id…©‹º"), 
¬gv
[
i
]);

1163 ià(
v®
 == 0)

1164 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1165 
	`_
("%s:†ine‚umber must be greaterhan zero"),

1166 
¬gv
[
i
]);

1167 ià(
v®
 < 
Ï¡_v®
)

1169 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

1170 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1171 
	`_
("line‚umber %s is smallerhan…receding†ine‚umber, %s"),

1172 
	`quÙe
 (
¬gv
[
i
]), 
	`umaxto¡r
 (
Ï¡_v®
, 
buf
));

1175 ià(
v®
 =ğ
Ï¡_v®
)

1176 
	`”rÜ
 (0, 0,

1177 
	`_
("warning:†ine‚umber %s ishe same‡s…receding†ine‚umber"),

1178 
	`quÙe
 (
¬gv
[
i
]));

1180 
Ï¡_v®
 = 
v®
;

1182 
p
->
lšes_»quœed
 = 
v®
;

1185 ià(
i
 + 1 < 
¬gc
 && *
¬gv
[i + 1] == '{')

1188 
i
++;

1189 
	`·r£_»³©_couÁ
 (
i
, 
p
, 
¬gv
[i]);

1192 
	}
}

1197 ’um { 
	mFLAG_THOUSANDS
 = 1, 
	mFLAG_ALTERNATIVE
 = 2 };

1201 
size_t


1202 
	$g‘_fÜm©_æags
 (cÚ¡ *
fÜm©
, *
æags_±r
)

1204 
æags
 = 0;

1206 
size_t
 
couÁ
 = 0; ; count++)

1208 
fÜm©
[
couÁ
])

1215 
æags
 |ğ
FLAG_THOUSANDS
;

1219 
æags
 |ğ
FLAG_ALTERNATIVE
;

1223 *
æags_±r
 = 
æags
;

1224  
couÁ
;

1227 
	}
}

1233 
	$check_fÜm©_cÚv_ty³
 (*
fÜm©
, 
æags
)

1235 
ch
 = *
fÜm©
;

1236 
com·tibË_æags
 = 
FLAG_THOUSANDS
;

1238 
ch
)

1242 *
fÜm©
 = 'u';

1251 
com·tibË_æags
 = 
FLAG_ALTERNATIVE
;

1255 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("missing conversion specifier in suffix"));

1259 ià(
	`i¥ršt
 (
ch
))

1260 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1261 
	`_
("šv®id cÚv”siÚ s³cif›¸š suffix: %c"), 
ch
);

1263 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1264 
	`_
("šv®id cÚv”siÚ s³cif›¸š suffix: \\%.3o"), 
ch
);

1267 ià(
æags
 & ~ 
com·tibË_æags
)

1268 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1269 
	`_
("invalid flags in conversion specification: %%%c%c"),

1270 (
æags
 & ~ 
com·tibË_æags
 & 
FLAG_ALTERNATIVE
 ? '#' : '\''), 
ch
);

1271 
	}
}

1276 
size_t


1277 
	$max_out
 (*
fÜm©
)

1279 
boŞ
 
³rûÁ
 = 
çl£
;

1281 *
f
 = 
fÜm©
; *f; f++)

1282 ià(*
f
 == '%' && *++f != '%')

1284 ià(
³rûÁ
)

1285 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1286 
	`_
("too many %% conversion specifications in suffix"));

1287 
³rûÁ
 = 
Œue
;

1288 
æags
;

1289 
f
 +ğ
	`g‘_fÜm©_æags
 (f, &
æags
);

1290 
	`ISDIGIT
 (*
f
))

1291 
f
++;

1292 ià(*
f
 == '.')

1293 
	`ISDIGIT
 (*++
f
))

1295 
	`check_fÜm©_cÚv_ty³
 (
f
, 
æags
);

1298 ià(! 
³rûÁ
)

1299 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1300 
	`_
("missing %% conversion specification in suffix"));

1302 
maxËn
 = 
	`¢´štf
 (
NULL
, 0, 
fÜm©
, 
UINT_MAX
);

1303 ià(! (0 <ğ
maxËn
 && maxËÀ<ğ
SIZE_MAX
))

1304 
	`x®loc_d›
 ();

1305  
maxËn
;

1306 
	}
}

1309 
	$maš
 (
¬gc
, **
¬gv
)

1311 
İtc
;

1312 
v®
;

1314 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1315 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1316 
	`£oÿË
 (
LC_ALL
, "");

1317 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1318 
	`‹xtdomaš
 (
PACKAGE
);

1320 
	`©ex™
 (
şo£_¡dout
);

1322 
glob®_¬gv
 = 
¬gv
;

1323 
cÚŒŞs
 = 
NULL
;

1324 
cÚŒŞ_u£d
 = 0;

1325 
suµ»ss_couÁ
 = 
çl£
;

1326 
»move_fes
 = 
Œue
;

1327 
´efix
 = 
DEFAULT_PREFIX
;

1329 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "f:b:kn:sqz", 
lÚgİts
, 
NULL
)) != -1)

1330 
İtc
)

1333 
´efix
 = 
İrg
;

1337 
suffix
 = 
İrg
;

1341 
»move_fes
 = 
çl£
;

1345 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
v®
, ""è!ğ
LONGINT_OK


1346 || 
	`MIN
 (
INT_MAX
, 
SIZE_MAX
è< 
v®
)

1347 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id‚umb”"), 
İrg
);

1348 
dig™s
 = 
v®
;

1353 
suµ»ss_couÁ
 = 
Œue
;

1357 
–ide_em±y_fes
 = 
Œue
;

1360 
ÿ£_GETOPT_HELP_CHAR
;

1362 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1365 
	`u§ge
 (
EXIT_FAILURE
);

1368 ià(
¬gc
 - 
İtšd
 < 2)

1370 ià(
¬gc
 <ğ
İtšd
)

1371 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

1373 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

1374 
	`u§ge
 (
EXIT_FAILURE
);

1377 
size_t
 
´efix_Ën
 = 
	`¡¾’
 (
´efix
);

1378 
size_t
 
max_dig™_¡ršg_Ën


1379 ğ(
suffix


1380 ? 
	`max_out
 (
suffix
)

1381 : 
	`MAX
 (
	`INT_STRLEN_BOUND
 (), 
dig™s
));

1382 ià(
SIZE_MAX
 - 1 - 
´efix_Ën
 < 
max_dig™_¡ršg_Ën
)

1383 
	`x®loc_d›
 ();

1384 
f’ame_¥aû
 = 
	`xm®loc
 (
´efix_Ën
 + 
max_dig™_¡ršg_Ën
 + 1);

1386 
	`£t_šput_fe
 (
¬gv
[
İtšd
++]);

1388 
	`·r£_·‰”ns
 (
¬gc
, 
İtšd
, 
¬gv
);

1391 
i
;

1392 cÚ¡ 
sig
[] =

1395 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

1396 #ifdeà
SIGPOLL


1397 
SIGPOLL
,

1399 #ifdeà
SIGPROF


1400 
SIGPROF
,

1402 #ifdeà
SIGVTALRM


1403 
SIGVTALRM
,

1405 #ifdeà
SIGXCPU


1406 
SIGXCPU
,

1408 #ifdeà
SIGXFSZ


1409 
SIGXFSZ
,

1412 ’um { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

1414 
sigaùiÚ
 
aù
;

1416 
	`sigem±y£t
 (&
ÿught_sigÇls
);

1417 
i
 = 0; i < 
nsigs
; i++)

1419 
	`sigaùiÚ
 (
sig
[
i
], 
NULL
, &
aù
);

1420 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

1421 
	`sigadd£t
 (&
ÿught_sigÇls
, 
sig
[
i
]);

1424 
aù
.
§_hªdËr
 = 
š‹¼u±_hªdËr
;

1425 
aù
.
§_mask
 = 
ÿught_sigÇls
;

1426 
aù
.
§_æags
 = 0;

1428 
i
 = 0; i < 
nsigs
; i++)

1429 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
sig
[
i
]))

1430 
	`sigaùiÚ
 (
sig
[
i
], &
aù
, 
NULL
);

1433 
	`¥l™_fe
 ();

1435 ià(
	`şo£
 (
STDIN_FILENO
) != 0)

1437 
	`”rÜ
 (0, 
”ºo
, 
	`_
("readƒrror"));

1438 
	`ş—nup_çl
 ();

1441 
	`ex™
 (
EXIT_SUCCESS
);

1442 
	}
}

1445 
	$u§ge
 (
¡©us
)

1447 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

1448 
	`em™_Œy_h–p
 ();

1451 
	`´štf
 (
	`_
("\
: %s [OPTION]... FILE PATTERN...\n\
"),

1454 
´og¿m_Çme
);

1455 
	`åuts
 (
	`_
("\
…›û oàFILE s•¬©ed by PATTERN(sètØfe 'xx00', 'xx01', ...,\n\
 ouuˆby‹ couÁ oà—ch…›ûØ¡ªd¬d ouut.\n\
"), 
¡dout
);

1460 
	`em™_mªd©Üy_¬g_nÙe
 ();

1462 
	`åuts
 (
	`_
("\
-b, --suffix-fÜm©=FORMAT u£ s´štàFORMAT in¡—d oà%02d\n\
-f, --´efix=PREFIX u£ PREFIX in¡—d oà'xx'\n\
-k, --k“p-fe  dØnÙ„emovouuˆfe Úƒ¼Üs\n\
"), 
¡dout
);

1467 
	`åuts
 (
	`_
("\
-n, --dig™s=DIGITS u£ s³cif›d‚umb” oàdig™ š¡—d oà2\n\
-s, --qu›t, --s’ˆ dØnÙ…ršˆcouÁ oàouuˆfsizes\n\
-z, --–ide-em±y-fe „emovem±y ouuˆfes\n\
"), 
¡dout
);

1472 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

1473 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

1474 
	`åuts
 (
	`_
("\
\n\
 snd¬d iÅuˆiàFILE i -. Each PATTERN may be:\n\
"), 
¡dout
);

1478 
	`åuts
 (
	`_
("\
\n\
 cİy u°tØbuˆnÙ inşudšg s³cif›d†šnumb”\n\
/REGEXP/[OFFSET] cİy u°tØbuˆnÙ inşudšg‡ m©chšg†še\n\
%REGEXP%[OFFSET] sko, buˆnÙ inşudšg‡ m©chšg†še\n\
{INTEGER}„•—ˆth´eviou ·‰”À¥ecif›d‚umb” oàtimes\n\
{*}„•—ˆth´eviou ·‰”Àa mªyime a possibË\n\
\n\
†šOFFSET i ¨»quœed '+' o¸'-' fŞlowed by‡…os™ivš‹g”.\n\
"), 
¡dout
);

1488 
	`em™_ªcÏry_šfo
 ();

1490 
	`ex™
 (
¡©us
);

1491 
	}
}

	@cut.c

25 
	~<cÚfig.h
>

27 
	~<¡dio.h
>

28 
	~<as£¹.h
>

29 
	~<g‘İt.h
>

30 
	~<sys/ty³s.h
>

31 
	~"sy¡em.h
"

33 
	~"”rÜ.h
"

34 
	~"çdvi£.h
"

35 
	~"g‘nd–im2.h
"

36 
	~"hash.h
"

37 
	~"quÙe.h
"

38 
	~"x¡ºdup.h
"

41 
	#PROGRAM_NAME
 "cut"

	)

43 
	#AUTHORS
 \

44 
	`´İ”_Çme
 ("David M. Ihnat"), \

45 
	`´İ”_Çme
 ("David MacKenzie"), \

46 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

48 
	#FATAL_ERROR
(
Mes§ge
) \

51 
	`”rÜ
 (0, 0, (
Mes§ge
)); \

52 
	`u§ge
 (
EXIT_FAILURE
); \

54 0)

	)

60 
	#ADD_RANGE_PAIR
(
½
, 
low
, 
high
) \

63 ià(
low
 =ğ0 || 
high
 == 0) \

64 
	`FATAL_ERROR
 (
	`_
("fields‡nd…ositions‡re‚umbered from 1")); \

65 ià(
n_½
 >ğ
n_½_®loÿ‹d
) \

67 (
½
èğ
	`X2NREALLOC
 (½, &
n_½_®loÿ‹d
); \

69 
½
[
n_½
].
lo
 = (
low
); \

70 
½
[
n_½
].
hi
 = (
high
); \

71 ++
n_½
; \

73 0)

	)

75 
	s¿nge_·œ


77 
size_t
 
	mlo
;

78 
size_t
 
	mhi
;

88 *
	gf›ld_1_bufãr
;

91 
size_t
 
	gf›ld_1_bufsize
;

97 
size_t
 
	gmax_¿nge_’dpošt
;

101 
size_t
 
	geŞ_¿nge_¡¬t
;

111 *
	g´šbË_f›ld
;

113 
	eİ”©šg_mode


115 
	mundefšed_mode
,

118 
	mby‹_mode
,

121 
	mf›ld_mode


124 
İ”©šg_mode
 
	gİ”©šg_mode
;

129 
boŞ
 
	gsuµ»ss_nÚ_d–im™ed
;

133 
boŞ
 
	gcom¶em’t
;

136 
	gd–im
;

139 
boŞ
 
	gouut_d–im™”_¥ecif›d
;

142 
size_t
 
	gouut_d–im™”_Ëngth
;

146 *
	gouut_d–im™”_¡ršg
;

149 
boŞ
 
	ghave_»ad_¡dš
;

151 
	#HT_RANGE_START_INDEX_INITIAL_CAPACITY
 31

	)

158 
Hash_bË
 *
	g¿nge_¡¬t_ht
;

164 
	mOUTPUT_DELIMITER_OPTION
 = 
CHAR_MAX
 + 1,

165 
	mCOMPLEMENT_OPTION


168 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

170 {"by‹s", 
»quœed_¬gum’t
, 
NULL
, 'b'},

171 {"ch¬aù”s", 
»quœed_¬gum’t
, 
NULL
, 'c'},

172 {"f›lds", 
»quœed_¬gum’t
, 
NULL
, 'f'},

173 {"d–im™”", 
»quœed_¬gum’t
, 
NULL
, 'd'},

174 {"Úly-d–im™ed", 
no_¬gum’t
, 
NULL
, 's'},

175 {"ouut-d–im™”", 
»quœed_¬gum’t
, 
NULL
, 
OUTPUT_DELIMITER_OPTION
},

176 {"com¶em’t", 
no_¬gum’t
, 
NULL
, 
COMPLEMENT_OPTION
},

177 {
GETOPT_HELP_OPTION_DECL
},

178 {
GETOPT_VERSION_OPTION_DECL
},

179 {
NULL
, 0, NULL, 0}

183 
	$u§ge
 (
¡©us
)

185 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

186 
	`em™_Œy_h–p
 ();

189 
	`´štf
 (
	`_
("\
: %s OPTION... [FILE]...\n\
"),

192 
´og¿m_Çme
);

193 
	`åuts
 (
	`_
("\
 s–eùed…¬t oàlše äomƒach FILEØ¡ªd¬d ouut.\n\
"), 
¡dout
);

197 
	`em™_mªd©Üy_¬g_nÙe
 ();

199 
	`åuts
 (
	`_
("\
-b, --by‹s=LIST s–eù oÆyhe£ by‹s\n\
-c, --ch¬aù”s=LIST s–eù oÆyhe£ ch¬aù”s\n\
-d, --d–im™”=DELIM u£ DELIM in¡—d oàTAB fÜ f›ld d–im™”\n\
"), 
¡dout
);

204 
	`åuts
 (
	`_
("\
-f, --f›lds=LIST s–eù oÆyhe£ f›lds;‡lsØ´šˆªy†še\n\
 cÚš nØd–im™” ch¬aù”, uÆess\n\
 - İtiÚ i ¥ecif›d\n\
-À (ignÜed)\n\
"), 
¡dout
);

210 
	`åuts
 (
	`_
("\
--com¶em’ˆ com¶em’ˆth£ˆoà£Ëùed by‹s, ch¬aù”s\n\
 f›lds\n\
"), 
¡dout
);

214 
	`åuts
 (
	`_
("\
-s, --Úly-d–im™ed dØnÙ…ršˆlše nÙ cÚššg d–im™”s\n\
--ouut-d–im™”=STRING u£ STRING‡ thouuˆd–im™”\n\
 deçuÉ i tØu£hšpuˆd–im™”\n\
"), 
¡dout
);

219 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

220 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

221 
	`åuts
 (
	`_
("\
\n\
 oÃ,‡nd oÆy oÃ oà-b, -øÜ -f. Each LIST i madu°oàÚe\n\
, o¸mªy„ªge £·¿‹d by commas. S–eùed iÅuˆi wr™‹n\n\
h§mÜd”h© iˆi »ad,‡nd i wr™‹Àexaùly onû.\n\
"), 
¡dout
);

227 
	`åuts
 (
	`_
("\
„ªgi Úof:\n\
\n\
 N'th by‹, ch¬aù” o¸f›ld, couÁed from 1\n\
- from N'th by‹, ch¬aù” o¸f›ld,Ø’d oàlše\n\
-M from N'thØM'th (šşudedèby‹, ch¬aù” o¸f›ld\n\
-M from fœ¡ØM'th (šşudedèby‹, ch¬aù” o¸f›ld\n\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

237 
	`em™_ªcÏry_šfo
 ();

239 
	`ex™
 (
¡©us
);

240 
	}
}

242 
šlše
 

243 
	$m¬k_¿nge_¡¬t
 (
size_t
 
i
)

246 *
’t_äom_bË
 = 
	`hash_š£¹
 (
¿nge_¡¬t_ht
, (*è
i
);

247 ià(
’t_äom_bË
 =ğ
NULL
)

250 
	`x®loc_d›
 ();

252 
	`as£¹
 ((
size_t
è
’t_äom_bË
 =ğ
i
);

253 
	}
}

255 
šlše
 

256 
	$m¬k_´šbË_f›ld
 (
size_t
 
i
)

258 
size_t
 
n
 = 
i
 / 
CHAR_BIT
;

259 
´šbË_f›ld
[
n
] |ğ(1 << (
i
 % 
CHAR_BIT
));

260 
	}
}

262 
šlše
 
boŞ


263 
	$is_´šbË_f›ld
 (
size_t
 
i
)

265 
size_t
 
n
 = 
i
 / 
CHAR_BIT
;

266  (
´šbË_f›ld
[
n
] >> (
i
 % 
CHAR_BIT
)) & 1;

267 
	}
}

269 
size_t


270 
	$hash_št
 (cÚ¡ *
x
, 
size_t
 
bËsize
)

272 #ifdeà
UINTPTR_MAX


273 
ušŒ_t
 
y
 = (ušŒ_tè
x
;

275 
size_t
 
y
 = (size_tè
x
;

277  
y
 % 
bËsize
;

278 
	}
}

280 
boŞ


281 
	$hash_com·»_šts
 (cÚ¡ *
x
, cÚ¡ *
y
)

283  (
x
 =ğ
y
è? 
Œue
 : 
çl£
;

284 
	}
}

286 
boŞ


287 
	$is_¿nge_¡¬t_šdex
 (
size_t
 
i
)

289  
	`hash_lookup
 (
¿nge_¡¬t_ht
, (*è
i
è? 
Œue
 : 
çl£
;

290 
	}
}

297 
boŞ


298 
	$´št_kth
 (
size_t
 
k
, 
boŞ
 *
¿nge_¡¬t
)

300 
boŞ
 
k_£Ëùed


301 ğ((0 < 
eŞ_¿nge_¡¬t
 &&ƒŞ_¿nge_¡¬ˆ<ğ
k
)

302 || (
k
 <ğ
max_¿nge_’dpošt
 && 
	`is_´šbË_f›ld
 (k)));

304 
boŞ
 
is_£Ëùed
 = 
k_£Ëùed
 ^ 
com¶em’t
;

305 ià(
¿nge_¡¬t
 && 
is_£Ëùed
)

306 *
¿nge_¡¬t
 = 
	`is_¿nge_¡¬t_šdex
 (
k
);

308  
is_£Ëùed
;

309 
	}
}

314 
	$com·»_¿nges
 (cÚ¡ *
a
, cÚ¡ *
b
)

316 
a_¡¬t
 = ((cÚ¡ 
¿nge_·œ
 *è
a
)->
lo
;

317 
b_¡¬t
 = ((cÚ¡ 
¿nge_·œ
 *è
b
)->
lo
;

318  
a_¡¬t
 < 
b_¡¬t
 ? -1 :‡_start > b_start;

319 
	}
}

340 
boŞ


341 
	$£t_f›lds
 (cÚ¡ *
f›ld¡r
)

343 
size_t
 
š™Ÿl
 = 1;

344 
size_t
 
v®ue
 = 0;

345 
boŞ
 
lhs_¥ecif›d
 = 
çl£
;

346 
boŞ
 
rhs_¥ecif›d
 = 
çl£
;

347 
boŞ
 
dash_found
 = 
çl£
;

348 
boŞ
 
f›ld_found
 = 
çl£
;

351 
¿nge_·œ
 *
½
 = 
NULL
;

352 
size_t
 
n_½
 = 0;

353 
size_t
 
n_½_®loÿ‹d
 = 0;

354 
size_t
 
i
;

355 
boŞ
 
š_dig™s
 = 
çl£
;

360 
Œue
)

362 ià(*
f›ld¡r
 == '-')

364 
š_dig™s
 = 
çl£
;

366 ià(
dash_found
)

367 
	`FATAL_ERROR
 (
	`_
("invalid byte, character or field†ist"));

368 
dash_found
 = 
Œue
;

369 
f›ld¡r
++;

371 ià(
lhs_¥ecif›d
 && !
v®ue
)

372 
	`FATAL_ERROR
 (
	`_
("fields‡nd…ositions‡re‚umbered from 1"));

374 
š™Ÿl
 = (
lhs_¥ecif›d
 ? 
v®ue
 : 1);

375 
v®ue
 = 0;

377 ià(*
f›ld¡r
 == ','

378 || 
	`isbÏnk
 (
	`to_uch¬
 (*
f›ld¡r
)) || *fieldstr == '\0')

380 
š_dig™s
 = 
çl£
;

382 ià(
dash_found
)

384 
dash_found
 = 
çl£
;

386 ià(!
lhs_¥ecif›d
 && !
rhs_¥ecif›d
)

387 
	`FATAL_ERROR
 (
	`_
("invalid„ange with‚oƒndpoint: -"));

391 ià(!
rhs_¥ecif›d
)

395 ià(
eŞ_¿nge_¡¬t
 =ğ0 || 
š™Ÿl
 <ƒol_range_start)

396 
eŞ_¿nge_¡¬t
 = 
š™Ÿl
;

397 
f›ld_found
 = 
Œue
;

402 ià(
v®ue
 < 
š™Ÿl
)

403 
	`FATAL_ERROR
 (
	`_
("invalid decreasing„ange"));

406 ià(
eŞ_¿nge_¡¬t
 != 0)

411 ià(
š™Ÿl
 < 
eŞ_¿nge_¡¬t
)

416 ià(
eŞ_¿nge_¡¬t
 <ğ
v®ue
)

419 
eŞ_¿nge_¡¬t
 = 
š™Ÿl
;

425 
	`ADD_RANGE_PAIR
 (
½
, 
š™Ÿl
, 
v®ue
);

429 
f›ld_found
 = 
Œue
;

435 
	`ADD_RANGE_PAIR
 (
½
, 
š™Ÿl
, 
v®ue
);

436 
f›ld_found
 = 
Œue
;

438 
v®ue
 = 0;

444 
	`ADD_RANGE_PAIR
 (
½
, 
v®ue
, value);

445 
v®ue
 = 0;

446 
f›ld_found
 = 
Œue
;

449 ià(*
f›ld¡r
 == '\0')

454 
f›ld¡r
++;

455 
lhs_¥ecif›d
 = 
çl£
;

456 
rhs_¥ecif›d
 = 
çl£
;

458 ià(
	`ISDIGIT
 (*
f›ld¡r
))

462 cÚ¡ *
num_¡¬t
;

463 ià(!
š_dig™s
 || !
num_¡¬t
)

464 
num_¡¬t
 = 
f›ld¡r
;

465 
š_dig™s
 = 
Œue
;

467 ià(
dash_found
)

468 
rhs_¥ecif›d
 = 1;

470 
lhs_¥ecif›d
 = 1;

473 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
v®ue
, *
f›ld¡r
 - '0', 
size_t
))

478 
size_t
 
Ën
 = 
	`¡r¥n
 (
num_¡¬t
, "0123456789");

479 *
bad_num
 = 
	`x¡ºdup
 (
num_¡¬t
, 
Ën
);

480 ià(
İ”©šg_mode
 =ğ
by‹_mode
)

481 
	`”rÜ
 (0, 0,

482 
	`_
("by‹ off£ˆ% i toØÏrge"), 
	`quÙe
 (
bad_num
));

484 
	`”rÜ
 (0, 0,

485 
	`_
("f›ld‚umb” % i toØÏrge"), 
	`quÙe
 (
bad_num
));

486 
	`ä“
 (
bad_num
);

487 
	`ex™
 (
EXIT_FAILURE
);

490 
f›ld¡r
++;

493 
	`FATAL_ERROR
 (
	`_
("invalid byte, character or field†ist"));

496 
max_¿nge_’dpošt
 = 0;

497 
i
 = 0; i < 
n_½
; i++)

499 ià(
½
[
i
].
hi
 > 
max_¿nge_’dpošt
)

500 
max_¿nge_’dpošt
 = 
½
[
i
].
hi
;

507 ià(
max_¿nge_’dpošt
)

508 
´šbË_f›ld
 = 
	`xz®loc
 (
max_¿nge_’dpošt
 / 
CHAR_BIT
 + 1);

510 
	`qsÜt
 (
½
, 
n_½
,  (½[0]), 
com·»_¿nges
);

513 
i
 = 0; i < 
n_½
; i++)

516 ià(
eŞ_¿nge_¡¬t
 &&ƒŞ_¿nge_¡¬ˆ<ğ
½
[
i
].
lo
)

521 
size_t
 
rsi_ÿndid©e
 = 
com¶em’t
 ? 
½
[
i
].
hi
 + 1 :„p[i].
lo
;

522 ià(
ouut_d–im™”_¥ecif›d


523 && !
	`is_´šbË_f›ld
 (
rsi_ÿndid©e
))

524 
	`m¬k_¿nge_¡¬t
 (
rsi_ÿndid©e
);

526 
size_t
 
j
 = 
½
[
i
].
lo
; j <ğ½[i].
hi
; j++)

527 
	`m¬k_´šbË_f›ld
 (
j
);

530 ià(
ouut_d–im™”_¥ecif›d


531 && !
com¶em’t


532 && 
eŞ_¿nge_¡¬t


533 && 
max_¿nge_’dpošt


534 && (
max_¿nge_’dpošt
 < 
eŞ_¿nge_¡¬t


535 || !
	`is_´šbË_f›ld
 (
eŞ_¿nge_¡¬t
)))

536 
	`m¬k_¿nge_¡¬t
 (
eŞ_¿nge_¡¬t
);

538 
	`ä“
 (
½
);

540  
f›ld_found
;

541 
	}
}

546 
	$cut_by‹s
 (
FILE
 *
¡»am
)

548 
size_t
 
by‹_idx
;

551 
boŞ
 
´št_d–im™”
;

553 
by‹_idx
 = 0;

554 
´št_d–im™”
 = 
çl£
;

557 
c
;

559 
c
 = 
	`g‘c
 (
¡»am
);

561 ià(
c
 == '\n')

563 
	`putch¬
 ('\n');

564 
by‹_idx
 = 0;

565 
´št_d–im™”
 = 
çl£
;

567 ià(
c
 =ğ
EOF
)

569 ià(
by‹_idx
 > 0)

570 
	`putch¬
 ('\n');

575 
boŞ
 
¿nge_¡¬t
;

576 
boŞ
 *
rs
 = 
ouut_d–im™”_¥ecif›d
 ? &
¿nge_¡¬t
 : 
NULL
;

577 ià(
	`´št_kth
 (++
by‹_idx
, 
rs
))

579 ià(
rs
 && *r && 
´št_d–im™”
)

581 
	`fwr™e
 (
ouut_d–im™”_¡ršg
,  (),

582 
ouut_d–im™”_Ëngth
, 
¡dout
);

584 
´št_d–im™”
 = 
Œue
;

585 
	`putch¬
 (
c
);

589 
	}
}

594 
	$cut_f›lds
 (
FILE
 *
¡»am
)

596 
c
;

597 
size_t
 
f›ld_idx
 = 1;

598 
boŞ
 
found_ªy_£Ëùed_f›ld
 = 
çl£
;

599 
boŞ
 
bufãr_fœ¡_f›ld
;

601 
c
 = 
	`g‘c
 (
¡»am
);

602 ià(
c
 =ğ
EOF
)

605 
	`ung‘c
 (
c
, 
¡»am
);

606 
c
 = 0;

614 
bufãr_fœ¡_f›ld
 = (
suµ»ss_nÚ_d–im™ed
 ^ !
	`´št_kth
 (1, 
NULL
));

618 ià(
f›ld_idx
 =ğ1 && 
bufãr_fœ¡_f›ld
)

620 
ssize_t
 
Ën
;

621 
size_t
 
n_by‹s
;

622 
boŞ
 
gÙ_lše
;

624 
Ën
 = 
	`g‘nd–im2
 (&
f›ld_1_bufãr
, &
f›ld_1_bufsize
, 0,

625 
GETNLINE_NO_LIMIT
, 
d–im
, '\n', 
¡»am
);

626 ià(
Ën
 < 0)

628 
	`ä“
 (
f›ld_1_bufãr
);

629 
f›ld_1_bufãr
 = 
NULL
;

630 ià(
	`ã¼Ü
 (
¡»am
è|| 
	`ãof
 (stream))

632 
	`x®loc_d›
 ();

635 
n_by‹s
 = 
Ën
;

636 
	`as£¹
 (
n_by‹s
 != 0);

638 
c
 = 0;

639 
gÙ_lše
 = 
f›ld_1_bufãr
[
n_by‹s
 - 1] == '\n';

644 ià(
	`to_uch¬
 (
f›ld_1_bufãr
[
n_by‹s
 - 1]è!ğ
d–im
 || 
gÙ_lše
)

646 ià(
suµ»ss_nÚ_d–im™ed
 && !(
gÙ_lše
 && 
d–im
 == '\n'))

652 
	`fwr™e
 (
f›ld_1_bufãr
,  (), 
n_by‹s
, 
¡dout
);

654 ià(! 
gÙ_lše
)

655 
	`putch¬
 ('\n');

656 
c
 = '\n';

660 ià(
	`´št_kth
 (1, 
NULL
))

663 
	`fwr™e
 (
f›ld_1_bufãr
,  (), 
n_by‹s
 - 1, 
¡dout
);

664 
found_ªy_£Ëùed_f›ld
 = 
Œue
;

666 ++
f›ld_idx
;

669 
´ev_c
 = 
c
;

671 ià(
	`´št_kth
 (
f›ld_idx
, 
NULL
))

673 ià(
found_ªy_£Ëùed_f›ld
)

675 
	`fwr™e
 (
ouut_d–im™”_¡ršg
,  (),

676 
ouut_d–im™”_Ëngth
, 
¡dout
);

678 
found_ªy_£Ëùed_f›ld
 = 
Œue
;

680 (
c
 = 
	`g‘c
 (
¡»am
)è!ğ
d–im
 && c !ğ'\n' && c !ğ
EOF
)

682 
	`putch¬
 (
c
);

683 
´ev_c
 = 
c
;

688 (
c
 = 
	`g‘c
 (
¡»am
)è!ğ
d–im
 && c !ğ'\n' && c !ğ
EOF
)

690 
´ev_c
 = 
c
;

694 ià(
c
 =ğ'\n' || c =ğ
EOF
)

696 ià(
found_ªy_£Ëùed_f›ld


697 || !(
suµ»ss_nÚ_d–im™ed
 && 
f›ld_idx
 == 1))

699 ià(
c
 =ğ'\n' || 
´ev_c
 != '\n')

700 
	`putch¬
 ('\n');

702 ià(
c
 =ğ
EOF
)

704 
f›ld_idx
 = 1;

705 
found_ªy_£Ëùed_f›ld
 = 
çl£
;

707 ià(
c
 =ğ
d–im
)

708 
f›ld_idx
++;

710 
	}
}

713 
	$cut_¡»am
 (
FILE
 *
¡»am
)

715 ià(
İ”©šg_mode
 =ğ
by‹_mode
)

716 
	`cut_by‹s
 (
¡»am
);

718 
	`cut_f›lds
 (
¡»am
);

719 
	}
}

724 
boŞ


725 
	$cut_fe
 (cÚ¡ *
fe
)

727 
FILE
 *
¡»am
;

729 ià(
	`STREQ
 (
fe
, "-"))

731 
have_»ad_¡dš
 = 
Œue
;

732 
¡»am
 = 
¡dš
;

736 
¡»am
 = 
	`fİ’
 (
fe
, "r");

737 ià(
¡»am
 =ğ
NULL
)

739 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

740  
çl£
;

744 
	`çdvi£
 (
¡»am
, 
FADVISE_SEQUENTIAL
);

746 
	`cut_¡»am
 (
¡»am
);

748 ià(
	`ã¼Ü
 (
¡»am
))

750 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

751  
çl£
;

753 ià(
	`STREQ
 (
fe
, "-"))

754 
	`ş—»¼
 (
¡»am
);

755 ià(
	`fşo£
 (
¡»am
è=ğ
EOF
)

757 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

758  
çl£
;

760  
Œue
;

761 
	}
}

764 
	$maš
 (
¬gc
, **
¬gv
)

766 
İtc
;

767 
boŞ
 
ok
;

768 
boŞ
 
d–im_¥ecif›d
 = 
çl£
;

769 *
¥ec_li¡_¡ršg
 
	`IF_LINT
 ( = 
NULL
);

771 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

772 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

773 
	`£oÿË
 (
LC_ALL
, "");

774 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

775 
	`‹xtdomaš
 (
PACKAGE
);

777 
	`©ex™
 (
şo£_¡dout
);

779 
İ”©šg_mode
 = 
undefšed_mode
;

782 
suµ»ss_nÚ_d–im™ed
 = 
çl£
;

784 
d–im
 = '\0';

785 
have_»ad_¡dš
 = 
çl£
;

787 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "b:c:d:f:ns", 
lÚgİts
, 
NULL
)) != -1)

789 
İtc
)

794 ià(
İ”©šg_mode
 !ğ
undefšed_mode
)

795 
	`FATAL_ERROR
 (
	`_
("only oneype of†ist may be specified"));

796 
İ”©šg_mode
 = 
by‹_mode
;

797 
¥ec_li¡_¡ršg
 = 
İrg
;

802 ià(
İ”©šg_mode
 !ğ
undefšed_mode
)

803 
	`FATAL_ERROR
 (
	`_
("only oneype of†ist may be specified"));

804 
İ”©šg_mode
 = 
f›ld_mode
;

805 
¥ec_li¡_¡ršg
 = 
İrg
;

811 ià(
İrg
[0] != '\0' && optarg[1] != '\0')

812 
	`FATAL_ERROR
 (
	`_
("the delimiter must be‡ single character"));

813 
d–im
 = 
İrg
[0];

814 
d–im_¥ecif›d
 = 
Œue
;

817 
OUTPUT_DELIMITER_OPTION
:

818 
ouut_d–im™”_¥ecif›d
 = 
Œue
;

821 
ouut_d–im™”_Ëngth
 = (
İrg
[0] == '\0'

822 ? 1 : 
	`¡¾’
 (
İrg
));

823 
ouut_d–im™”_¡ršg
 = 
	`x¡rdup
 (
İrg
);

830 
suµ»ss_nÚ_d–im™ed
 = 
Œue
;

833 
COMPLEMENT_OPTION
:

834 
com¶em’t
 = 
Œue
;

837 
ÿ£_GETOPT_HELP_CHAR
;

839 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

842 
	`u§ge
 (
EXIT_FAILURE
);

846 ià(
İ”©šg_mode
 =ğ
undefšed_mode
)

847 
	`FATAL_ERROR
 (
	`_
("you must specify‡†ist of bytes, characters, or fields"));

849 ià(
d–im_¥ecif›d
 && 
İ”©šg_mode
 !ğ
f›ld_mode
)

850 
	`FATAL_ERROR
 (
	`_
("an input delimiter may be specified only\
 operating on fields"));

853 ià(
suµ»ss_nÚ_d–im™ed
 && 
İ”©šg_mode
 !ğ
f›ld_mode
)

854 
	`FATAL_ERROR
 (
	`_
("suppressing‚on-delimited†ines makes sense\n\
\tonly when operating on fields"));

857 ià(
ouut_d–im™”_¥ecif›d
)

859 
¿nge_¡¬t_ht
 = 
	`hash_š™Ÿlize
 (
HT_RANGE_START_INDEX_INITIAL_CAPACITY
,

860 
NULL
, 
hash_št
,

861 
hash_com·»_šts
, 
NULL
);

862 ià(
¿nge_¡¬t_ht
 =ğ
NULL
)

863 
	`x®loc_d›
 ();

867 ià(! 
	`£t_f›lds
 (
¥ec_li¡_¡ršg
))

869 ià(
İ”©šg_mode
 =ğ
f›ld_mode
)

870 
	`FATAL_ERROR
 (
	`_
("missing†ist of fields"));

872 
	`FATAL_ERROR
 (
	`_
("missing†ist of…ositions"));

875 ià(!
d–im_¥ecif›d
)

876 
d–im
 = '\t';

878 ià(
ouut_d–im™”_¡ršg
 =ğ
NULL
)

880 
dummy
[2];

881 
dummy
[0] = 
d–im
;

882 
dummy
[1] = '\0';

883 
ouut_d–im™”_¡ršg
 = 
dummy
;

884 
ouut_d–im™”_Ëngth
 = 1;

887 ià(
İtšd
 =ğ
¬gc
)

888 
ok
 = 
	`cut_fe
 ("-");

890 
ok
 = 
Œue
; 
İtšd
 < 
¬gc
; optind++)

891 
ok
 &ğ
	`cut_fe
 (
¬gv
[
İtšd
]);

893 ià(
¿nge_¡¬t_ht
)

894 
	`hash_ä“
 (
¿nge_¡¬t_ht
);

896 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

898 
	`”rÜ
 (0, 
”ºo
, "-");

899 
ok
 = 
çl£
;

902 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

903 
	}
}

	@date.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 #ià
HAVE_LANGINFO_CODESET


24 
	~<Ïngšfo.h
>

27 
	~"sy¡em.h
"

28 
	~"¬gm©ch.h
"

29 
	~"”rÜ.h
"

30 
	~"·r£-d©‘ime.h
"

31 
	~"posixtm.h
"

32 
	~"quÙe.h
"

33 
	~"¡©-time.h
"

34 
	~"årštáime.h
"

37 
	#PROGRAM_NAME
 "d©e"

	)

39 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

41 
boŞ
 
show_d©e
 (cÚ¡ *
fÜm©
, 
time¥ec
 
wh’
);

43 
	eTime_¥ec


46 
	mTIME_SPEC_DATE
,

48 
	mTIME_SPEC_SECONDS
,

50 
	mTIME_SPEC_NS
,

55 
	mTIME_SPEC_HOURS
,

57 
	mTIME_SPEC_MINUTES


60 cÚ¡ *cÚ¡ 
	gtime_¥ec_¡ršg
[] =

65 "d©e", "£cÚds", "ns", 
NULL


67 
Time_¥ec
 cÚ¡ 
	gtime_¥ec
[] =

69 
TIME_SPEC_HOURS
, 
TIME_SPEC_MINUTES
,

70 
TIME_SPEC_DATE
, 
TIME_SPEC_SECONDS
, 
TIME_SPEC_NS


72 
ARGMATCH_VERIFY
 (
time_¥ec_¡ršg
, 
time_¥ec
);

75 cÚ¡ 
	grfc_2822_fÜm©
[] = "%a, %d %b %Y %H:%M:%S %z";

81 
	mRFC_3339_OPTION
 = 
CHAR_MAX
 + 1

84 cÚ¡ 
	gshÜt_İtiÚs
[] = "d:f:I::r:Rs:u";

86 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

88 {"d©e", 
»quœed_¬gum’t
, 
NULL
, 'd'},

89 {"fe", 
»quœed_¬gum’t
, 
NULL
, 'f'},

90 {"iso-8601", 
İtiÚ®_¬gum’t
, 
NULL
, 'I'},

91 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 'r'},

92 {"rfc-822", 
no_¬gum’t
, 
NULL
, 'R'},

93 {"rfc-2822", 
no_¬gum’t
, 
NULL
, 'R'},

94 {"rfc-3339", 
»quœed_¬gum’t
, 
NULL
, 
RFC_3339_OPTION
},

95 {"£t", 
»quœed_¬gum’t
, 
NULL
, 's'},

96 {"uù", 
no_¬gum’t
, 
NULL
, 'u'},

97 {"utc", 
no_¬gum’t
, 
NULL
, 'u'},

98 {"univ”§l", 
no_¬gum’t
, 
NULL
, 'u'},

99 {
GETOPT_HELP_OPTION_DECL
},

100 {
GETOPT_VERSION_OPTION_DECL
},

101 {
NULL
, 0, NULL, 0}

104 #ià
LOCALTIME_CACHE


105 
	#TZSET
 
	`tz£t
 ()

	)

107 
	#TZSET


	)

110 #ifdeà
_DATE_FMT


111 
	#DATE_FMT_LANGINFO
(è
	`Æ_Ïngšfo
 (
_DATE_FMT
)

	)

113 
	#DATE_FMT_LANGINFO
(è""

	)

117 
	$u§ge
 (
¡©us
)

119 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

120 
	`em™_Œy_h–p
 ();

123 
	`´štf
 (
	`_
("\
: %s [OPTION]... [+FORMAT]\n\
: %s [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]\n\
"),

127 
´og¿m_Çme
,…rogram_name);

128 
	`åuts
 (
	`_
("\
hcu¼’ˆtimšhgiv’ FORMAT, o¸£ˆthsy¡em d©e.\n\
"), 
¡dout
);

132 
	`em™_mªd©Üy_¬g_nÙe
 ();

134 
	`åuts
 (
	`_
("\
-d, --d©e=STRING di¥Ïyimdesüibed by STRING,‚Ù 'now'\n\
-f, --fe=DATEFILE†ik--d©Úû fÜƒach†šoàDATEFILE\n\
-I[TIMESPEC], --iso-8601[=TIMESPEC] ouuˆd©e/timš ISO 8601 fÜm©.\n\
='d©e' fÜ d©Úly (thdeçuÉ),\n\
'hours', 'mšu‹s', '£cÚds', o¸'ns' fÜ d©e\n\
imtØthšdiÿ‹d…»cisiÚ.\n\
"), 
¡dout
);

142 
	`åuts
 (
	`_
("\
-r, --»ã»nû=FILE di¥ÏyhÏ¡ modifiÿtiÚimoàFILE\n\
-R, --rfc-2822 ouuˆd©ªdimš RFC 2822 fÜm©.\n\
: MÚ, 07 Aug 2006 12:34:56 -0600\n\
"), 
¡dout
);

147 
	`åuts
 (
	`_
("\
--rfc-3339=TIMESPEC ouuˆd©ªdimš RFC 3339 fÜm©.\n\
='d©e', '£cÚds', o¸'ns' fÜ\n\
‡ndimtØthšdiÿ‹d…»cisiÚ.\n\
‡ndimcompÚ’t ¬£·¿‹d by\n\
 sšgË s·û: 2006-08-07 12:34:56-06:00\n\
-s, --£t=STRING s‘imdesüibed by STRING\n\
-u, --utc, --univ”§È…ršˆÜ s‘ CoÜdš©ed Univ”§ÈTime\n\
"), 
¡dout
);

156 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

157 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

158 
	`åuts
 (
	`_
("\
\n\
 cÚŒŞ thouut. IÁ”´‘ed sequ’û ¬e:\n\
\n\
%%‡†™”® %\n\
%¨†oÿË' abb»vŸ‹d w“kday‚amÓ.g., Sun)\n\
"), 
¡dout
);

165 
	`åuts
 (
	`_
("\
%A†oÿË' fuÎ w“kday‚amÓ.g., Sunday)\n\
%b†oÿË' abb»vŸ‹d mÚth‚amÓ.g., Jª)\n\
%B†oÿË' fuÎ mÚth‚amÓ.g., Jªu¬y)\n\
%ø†oÿË' d©ªdimÓ.g., Thu M¬ 3 23:05:25 2005)\n\
"), 
¡dout
);

171 
	`åuts
 (
	`_
("\
%C c’tury;†ik%Y,ƒxû± om™†a¡wØdig™ Ó.g., 20)\n\
%d day oàmÚth (e.g., 01)\n\
%D d©e; sama %m/%d/%y\n\
% day oàmÚth, s·û…added; sama %_d\n\
"), 
¡dout
);

177 
	`åuts
 (
	`_
("\
%F fuÎ d©e; sama %Y-%m-%d\n\
%g†a¡wØdig™ oày—¸oàISO w“k‚umb” (£%G)\n\
%G y—¸oàISO w“k‚umb” (£%V);‚Üm®ly u£fuÈÚly w™h %V\n\
"), 
¡dout
);

182 
	`åuts
 (
	`_
("\
%h sama %b\n\
%H hou¸(00..23)\n\
%I hou¸(01..12)\n\
%j day oày—¸(001..366)\n\
"), 
¡dout
);

188 
	`åuts
 (
	`_
("\
%k hour, s·û…added ( 0..23); sama %_H\n\
%È hour, s·û…added ( 1..12); sama %_I\n\
%m mÚth (01..12)\n\
%M mšu‹ (00..59)\n\
"), 
¡dout
);

194 
	`åuts
 (
	`_
("\
%À‡‚ewlše\n\
%N‚ªo£cÚd (000000000..999999999)\n\
%°†oÿË' equiv®’ˆoàe™h” AM o¸PM; bÏnk iànÙ known\n\
%P†ik%p, buˆlow” ca£\n\
%¸†oÿË' 12-hou¸şockimÓ.g., 11:11:04 PM)\n\
%R 24-hou¸hou¸ªd mšu‹; sama %H:%M\n\
%  secÚd sšû 1970-01-01 00:00:00 UTC\n\
"), 
¡dout
);

203 
	`åuts
 (
	`_
("\
%S secÚd (00..60)\n\
%ˆ‡ab\n\
%Time; sama %H:%M:%S\n\
%u day oàw“k (1..7); 1 i MÚday\n\
"), 
¡dout
);

209 
	`åuts
 (
	`_
("\
%U w“k‚umb” oày—r, w™h Sunday‡ fœ¡ day oàw“k (00..53)\n\
%V ISO w“k‚umb”, w™h MÚday‡ fœ¡ day oàw“k (01..53)\n\
%w day oàw“k (0..6); 0 i Sunday\n\
%W w“k‚umb” oày—r, w™h MÚday‡ fœ¡ day oàw“k (00..53)\n\
"), 
¡dout
);

215 
	`åuts
 (
	`_
("\
%x†oÿË' d©»´e£Á©iÚ (e.g., 12/31/99)\n\
%X†oÿË' tim»´e£Á©iÚ (e.g., 23:13:48)\n\
%y†a¡wØdig™ oày—¸(00..99)\n\
%Y y—r\n\
"), 
¡dout
);

221 
	`åuts
 (
	`_
("\
%z +hhmm‚um”iøtimzÚÓ.g., -0400)\n\
%:z +hh:mm‚um”iøtimzÚÓ.g., -04:00)\n\
%::z +hh:mm:s num”iøtimzÚÓ.g., -04:00:00)\n\
%:::z‚um”iøtimzÚw™h :ØÃûs§ry…»cisiÚ (e.g., -04, +05:30)\n\
%Z‡Íhab‘iøtimzÚabb»vŸtiÚ (e.g., EDT)\n\
\n\
 deçuÉ, d©·d num”iøf›ld w™h z”Ûs.\n\
"), 
¡dout
);

230 
	`åuts
 (
	`_
("\
 fŞlowšg o±iÚ® fÏg may fŞlow '%':\n\
\n\
- (hyph’èdØnÙ…adhf›ld\n\
_ (und”scÜeè·d w™h s·ûs\n\
0 (z”oè·d w™h z”os\n\
^ u£ uµ” ca£ iàpossibË\n\
# u£ oµos™ÿ£ iàpossibË\n\
"), 
¡dout
);

239 
	`åuts
 (
	`_
("\
\n\
‡ny fÏg come ª o±iÚ® f›ld width,‡ ¨decim®‚umb”;\n\
‡ÀİtiÚ® modif›r, which i e™h”\n\
Øu£hloÿË' ®‹º©»´e£Á©iÚ iàavaabË, or\n\
Øu£hloÿË' ®‹º©num”iøsymbŞ iàavaabË.\n\
"), 
¡dout
);

246 
	`åuts
 (
	`_
("\
\n\
:\n\
 secÚd sšûh•och (1970-01-01 UTCètØ¨d©e\n\
$ d©--d©e='@2147483647'\n\
\n\
htimÚhwe¡ cß¡ oàthUS (u£z£Ëù(1ètØfšd TZ)\n\
$ TZ='Am”iÿ/Los_Ang–es' d©e\n\
\n\
hloÿÈtimfÜ 9AM‚exˆFriday oÀthwe¡ cß¡ oàthUS\n\
$ d©--d©e='TZ=\"Am”iÿ/Los_Ang–es\" 09:00‚exˆFri'\n\
"), 
¡dout
);

258 
	`em™_ªcÏry_šfo
 ();

260 
	`ex™
 (
¡©us
);

261 
	}
}

268 
boŞ


269 
	$b©ch_cÚv”t
 (cÚ¡ *
šput_f’ame
, cÚ¡ *
fÜm©
)

271 
boŞ
 
ok
;

272 
FILE
 *
š_¡»am
;

273 *
lše
;

274 
size_t
 
buæ’
;

275 
time¥ec
 
wh’
;

277 ià(
	`STREQ
 (
šput_f’ame
, "-"))

279 
šput_f’ame
 = 
	`_
("standard input");

280 
š_¡»am
 = 
¡dš
;

284 
š_¡»am
 = 
	`fİ’
 (
šput_f’ame
, "r");

285 ià(
š_¡»am
 =ğ
NULL
)

287 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
šput_f’ame
));

291 
lše
 = 
NULL
;

292 
buæ’
 = 0;

293 
ok
 = 
Œue
;

296 
ssize_t
 
lše_Ëngth
 = 
	`g‘lše
 (&
lše
, &
buæ’
, 
š_¡»am
);

297 ià(
lše_Ëngth
 < 0)

303 ià(! 
	`·r£_d©‘ime
 (&
wh’
, 
lše
, 
NULL
))

305 ià(
lše
[
lše_Ëngth
 - 1] == '\n')

306 
lše
[
lše_Ëngth
 - 1] = '\0';

307 
	`”rÜ
 (0, 0, 
	`_
("šv®id d©%s"), 
	`quÙe
 (
lše
));

308 
ok
 = 
çl£
;

312 
ok
 &ğ
	`show_d©e
 (
fÜm©
, 
wh’
);

316 ià(
	`fşo£
 (
š_¡»am
è=ğ
EOF
)

317 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
šput_f’ame
));

319 
	`ä“
 (
lše
);

321  
ok
;

322 
	}
}

325 
	$maš
 (
¬gc
, **
¬gv
)

327 
İtc
;

328 cÚ¡ *
d©e¡r
 = 
NULL
;

329 cÚ¡ *
£t_d©e¡r
 = 
NULL
;

330 
time¥ec
 
wh’
;

331 
boŞ
 
£t_d©e
 = 
çl£
;

332 cÚ¡ *
fÜm©
 = 
NULL
;

333 *
b©ch_fe
 = 
NULL
;

334 *
»ã»nû
 = 
NULL
;

335 
¡©
 
»f¡©s
;

336 
boŞ
 
ok
;

337 
İtiÚ_¥ecif›d_d©e
;

339 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

340 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

341 
	`£oÿË
 (
LC_ALL
, "");

342 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

343 
	`‹xtdomaš
 (
PACKAGE
);

345 
	`©ex™
 (
şo£_¡dout
);

347 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, 
NULL
))

350 cÚ¡ *
Ãw_fÜm©
 = 
NULL
;

352 
İtc
)

355 
d©e¡r
 = 
İrg
;

358 
b©ch_fe
 = 
İrg
;

360 
RFC_3339_OPTION
:

362 cÚ¡ 
rfc_3339_fÜm©
[][32] =

368 
Time_¥ec
 
i
 =

369 
	`XARGMATCH
 ("--rfc-3339", 
İrg
,

370 
time_¥ec_¡ršg
 + 2, 
time_¥ec
 + 2);

371 
Ãw_fÜm©
 = 
rfc_3339_fÜm©
[
i
];

376 cÚ¡ 
iso_8601_fÜm©
[][32] =

384 
Time_¥ec
 
i
 =

385 (
İrg


386 ? 
	`XARGMATCH
 ("--iso-8601", 
İrg
, 
time_¥ec_¡ršg
, 
time_¥ec
)

387 : 
TIME_SPEC_DATE
);

388 
Ãw_fÜm©
 = 
iso_8601_fÜm©
[
i
];

392 
»ã»nû
 = 
İrg
;

395 
Ãw_fÜm©
 = 
rfc_2822_fÜm©
;

398 
£t_d©e¡r
 = 
İrg
;

399 
£t_d©e
 = 
Œue
;

405 ià(
	`pu‹nv
 (
	`bad_ÿ¡
 ("TZ=UTC0")) != 0)

406 
	`x®loc_d›
 ();

407 
TZSET
;

409 
ÿ£_GETOPT_HELP_CHAR
;

410 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

412 
	`u§ge
 (
EXIT_FAILURE
);

415 ià(
Ãw_fÜm©
)

417 ià(
fÜm©
)

418 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output formats specified"));

419 
fÜm©
 = 
Ãw_fÜm©
;

423 
İtiÚ_¥ecif›d_d©e
 = ((
d©e¡r
 ? 1 : 0)

424 + (
b©ch_fe
 ? 1 : 0)

425 + (
»ã»nû
 ? 1 : 0));

427 ià(
İtiÚ_¥ecif›d_d©e
 > 1)

429 
	`”rÜ
 (0, 0,

430 
	`_
("the optionso specify dates for…rinting‡re mutuallyƒxclusive"));

431 
	`u§ge
 (
EXIT_FAILURE
);

434 ià(
£t_d©e
 && 
İtiÚ_¥ecif›d_d©e
)

436 
	`”rÜ
 (0, 0,

437 
	`_
("the optionso…rint‡nd setheime may‚ot be usedogether"));

438 
	`u§ge
 (
EXIT_FAILURE
);

441 ià(
İtšd
 < 
¬gc
)

443 ià(
İtšd
 + 1 < 
¬gc
)

445 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

446 
	`u§ge
 (
EXIT_FAILURE
);

449 ià(
¬gv
[
İtšd
][0] == '+')

451 ià(
fÜm©
)

452 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output formats specified"));

453 
fÜm©
 = 
¬gv
[
İtšd
++] + 1;

455 ià(
£t_d©e
 || 
İtiÚ_¥ecif›d_d©e
)

457 
	`”rÜ
 (0, 0,

458 
	`_
("the‡rgument %s†acks‡†eading '+';\n"

461 
	`quÙe
 (
¬gv
[
İtšd
]));

462 
	`u§ge
 (
EXIT_FAILURE
);

466 ià(!
fÜm©
)

468 
fÜm©
 = 
	`DATE_FMT_LANGINFO
 ();

469 ià(! *
fÜm©
)

478 
fÜm©
 = "%a %b %e %H:%M:%S %Z %Y";

482 ià(
b©ch_fe
 !ğ
NULL
)

483 
ok
 = 
	`b©ch_cÚv”t
 (
b©ch_fe
, 
fÜm©
);

486 
boŞ
 
v®id_d©e
 = 
Œue
;

487 
ok
 = 
Œue
;

489 ià(!
İtiÚ_¥ecif›d_d©e
 && !
£t_d©e
)

491 ià(
İtšd
 < 
¬gc
)

495 
£t_d©e
 = 
Œue
;

496 
d©e¡r
 = 
¬gv
[
İtšd
];

497 
v®id_d©e
 = 
	`posixtime
 (&
wh’
.
tv_£c
,

498 
d©e¡r
,

499 (
PDS_TRAILING_YEAR


500 | 
PDS_CENTURY
 | 
PDS_SECONDS
));

501 
wh’
.
tv_n£c
 = 0;

506 
	`g‘time
 (&
wh’
);

512 ià(
»ã»nû
 !ğ
NULL
)

514 ià(
	`¡©
 (
»ã»nû
, &
»f¡©s
) != 0)

515 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
»ã»nû
);

516 
wh’
 = 
	`g‘_¡©_mtime
 (&
»f¡©s
);

520 ià(
£t_d©e¡r
)

521 
d©e¡r
 = 
£t_d©e¡r
;

522 
v®id_d©e
 = 
	`·r£_d©‘ime
 (&
wh’
, 
d©e¡r
, 
NULL
);

526 ià(! 
v®id_d©e
)

527 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id d©%s"), 
	`quÙe
 (
d©e¡r
));

529 ià(
£t_d©e
)

533 ià(
	`£‰ime
 (&
wh’
) != 0)

535 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot set date"));

536 
ok
 = 
çl£
;

540 
ok
 &ğ
	`show_d©e
 (
fÜm©
, 
wh’
);

543 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

544 
	}
}

549 
boŞ


550 
	$show_d©e
 (cÚ¡ *
fÜm©
, 
time¥ec
 
wh’
)

552 
tm
 *tm;

554 
tm
 = 
	`loÿÉime
 (&
wh’
.
tv_£c
);

555 ià(! 
tm
)

557 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

558 
	`”rÜ
 (0, 0, 
	`_
("tim% i ouˆoà¿nge"), 
	`tim‘o¡r
 (
wh’
.
tv_£c
, 
buf
));

559  
çl£
;

562 ià(
fÜm©
 =ğ
rfc_2822_fÜm©
)

563 
	`£oÿË
 (
LC_TIME
, "C");

564 
	`årštáime
 (
¡dout
, 
fÜm©
, 
tm
, 0, 
wh’
.
tv_n£c
);

565 
	`åutc
 ('\n', 
¡dout
);

566 ià(
fÜm©
 =ğ
rfc_2822_fÜm©
)

567 
	`£oÿË
 (
LC_TIME
, "");

569  
Œue
;

570 
	}
}

	@dd.c

19 
	~<cÚfig.h
>

21 
	#SWAB_ALIGN_OFFSET
 2

	)

23 
	~<as£¹.h
>

24 
	~<sys/ty³s.h
>

25 
	~<sigÇl.h
>

26 
	~<g‘İt.h
>

28 
	~"sy¡em.h
"

29 
	~"şo£-¡»am.h
"

30 
	~"”rÜ.h
"

31 
	~"fd-»İ’.h
"

32 
	~"g‘hrxtime.h
"

33 
	~"humª.h
"

34 
	~"lÚg-İtiÚs.h
"

35 
	~"quÙe.h
"

36 
	~"quÙ—rg.h
"

37 
	~"x¡¹Ş.h
"

38 
	~"xtime.h
"

41 
	#PROGRAM_NAME
 "dd"

	)

43 
	#AUTHORS
 \

44 
	`´İ”_Çme
 ("Paul Rubin"), \

45 
	`´İ”_Çme
 ("David MacKenzie"), \

46 
	`´İ”_Çme
 ("Stu¬ˆKemp")

	)

50 #iâdeà
SA_NOCLDSTOP


51 
	#SA_NOCLDSTOP
 0

	)

52 
	#sig´ocmask
(
How
, 
S‘
, 
O£t
è

	)

53 
	#sig£t_t
 

	)

54 #ià! 
HAVE_SIGINTERRUPT


55 
	#sigš‹¼u±
(
sig
, 
æag
è

	)

60 #iâdeà
SA_RESETHAND


61 
	#SA_RESETHAND
 0

	)

64 #iâdeà
SIGINFO


65 
	#SIGINFO
 
SIGUSR1


	)

70 #iâdeà
O_CIO


71 
	#O_CIO
 0

	)

76 #undeà
O_NOCACHE


78 #ià! 
HAVE_FDATASYNC


79 
	#fd©async
(
fd
è(
”ºo
 = 
ENOSYS
, -1)

	)

82 
	#ouut_ch¬
(
c
) \

85 
obuf
[
oc
++] = (
c
); \

86 ià(
oc
 >ğ
ouut_blocksize
) \

87 
	`wr™e_ouut
 (); \

89 0)

	)

92 
	#DEFAULT_BLOCKSIZE
 512

	)

97 
	#INPUT_BLOCK_SLOP
 (2 * 
SWAB_ALIGN_OFFSET
 + 2 * 
·ge_size
 - 1)

	)

98 
	#OUTPUT_BLOCK_SLOP
 (
·ge_size
 - 1)

	)

105 
	#MAX_BLOCKSIZE
(
¦İ
è
	`MIN
 (
SIZE_MAX
 - (¦İ), MIN (
SSIZE_MAX
, 
OFF_T_MAX
))

	)

110 
	mC_ASCII
 = 01,

112 
	mC_EBCDIC
 = 02,

113 
	mC_IBM
 = 04,

114 
	mC_BLOCK
 = 010,

115 
	mC_UNBLOCK
 = 020,

116 
	mC_LCASE
 = 040,

117 
	mC_UCASE
 = 0100,

118 
	mC_SWAB
 = 0200,

119 
	mC_NOERROR
 = 0400,

120 
	mC_NOTRUNC
 = 01000,

121 
	mC_SYNC
 = 02000,

125 
	mC_TWOBUFS
 = 04000,

127 
	mC_NOCREAT
 = 010000,

128 
	mC_EXCL
 = 020000,

129 
	mC_FDATASYNC
 = 040000,

130 
	mC_FSYNC
 = 0100000,

132 
	mC_SPARSE
 = 0200000

138 
	mSTATUS_NOXFER
 = 01,

139 
	mSTATUS_NOCOUNTS
 = 02,

140 
	mSTATUS_LAST
 = 
STATUS_NOCOUNTS
,

141 
	mSTATUS_NONE
 = 
STATUS_LAST
 | (STATUS_LAST - 1)

145 cÚ¡ *
	gšput_fe
 = 
NULL
;

148 cÚ¡ *
	gouut_fe
 = 
NULL
;

151 
size_t
 
	g·ge_size
;

154 
size_t
 
	gšput_blocksize
 = 0;

157 
size_t
 
	gouut_blocksize
 = 0;

160 
size_t
 
	gcÚv”siÚ_blocksize
 = 0;

163 
uštmax_t
 
	gsk_»cÜds
 = 0;

167 
size_t
 
	gsk_by‹s
 = 0;

170 
uštmax_t
 
	g£ek_»cÜds
 = 0;

174 
uštmax_t
 
	g£ek_by‹s
 = 0;

177 
boŞ
 
	gfš®_İ_was_£ek
;

180 
uštmax_t
 
	gmax_»cÜds
 = (uintmax_t) -1;

183 
size_t
 
	gmax_by‹s
 = 0;

186 
	gcÚv”siÚs_mask
 = 0;

189 
	gšput_æags
 = 0;

190 
	gouut_æags
 = 0;

193 
	g¡©us_æags
 = 0;

196 
boŞ
 
	gŒª¦©iÚ_Ãeded
 = 
çl£
;

199 
uštmax_t
 
	gw_·¹Ÿl
 = 0;

202 
uštmax_t
 
	gw_fuÎ
 = 0;

205 
uštmax_t
 
	gr_·¹Ÿl
 = 0;

208 
uštmax_t
 
	gr_fuÎ
 = 0;

211 
uštmax_t
 
	gw_by‹s
 = 0;

214 
xtime_t
 
	g¡¬t_time
;

217 
boŞ
 
	gšput_£ekabË
;

221 
	gšput_£ek_”ºo
;

225 
uštmax_t
 
	gšput_off£t
;

226 
boŞ
 
	gšput_off£t_ov”æow
;

229 
boŞ
 
	gw¬n_·¹Ÿl_»ad
;

232 
uštmax_t
 
	gr_Œunÿ‹
 = 0;

236 
	gÃwlše_ch¬aù”
 = '\n';

237 
	g¥aû_ch¬aù”
 = ' ';

240 *
	gobuf
;

243 
size_t
 
	goc
 = 0;

246 
size_t
 
	gcŞ
 = 0;

249 
sig£t_t
 
	gÿught_sigÇls
;

252 
sig_©omic_t
 vŞ©
	gš‹¼u±_sigÇl
;

255 
sig_©omic_t
 vŞ©
	gšfo_sigÇl_couÁ
;

258 
boŞ
 
	gi_noÿche
, 
	go_noÿche
;

261 
	$ssize_t
 (*
œ—d_âc
è(
fd
, *
buf
, 
size_t
 
size
);

264 
	#LONGEST_SYMBOL
 "couÁ_by‹s"

	)

267 
	ssymbŞ_v®ue


269 
symbŞ
[ 
LONGEST_SYMBOL
];

270 
v®ue
;

274 
symbŞ_v®ue
 cÚ¡ 
cÚv”siÚs
[] =

276 {"ascii", 
C_ASCII
 | 
C_TWOBUFS
},

277 {"ebcdic", 
C_EBCDIC
 | 
C_TWOBUFS
},

278 {"ibm", 
C_IBM
 | 
C_TWOBUFS
},

279 {"block", 
C_BLOCK
 | 
C_TWOBUFS
},

280 {"unblock", 
C_UNBLOCK
 | 
C_TWOBUFS
},

281 {"lÿ£", 
C_LCASE
 | 
C_TWOBUFS
},

282 {"uÿ£", 
C_UCASE
 | 
C_TWOBUFS
},

283 {"¥¬£", 
C_SPARSE
},

284 {"swab", 
C_SWAB
 | 
C_TWOBUFS
},

285 {"nÛ¼Ü", 
C_NOERROR
},

286 {"noü—t", 
C_NOCREAT
},

287 {"exş", 
C_EXCL
},

288 {"nÙrunc", 
C_NOTRUNC
},

289 {"sync", 
C_SYNC
},

290 {"fd©async", 
C_FDATASYNC
},

291 {"fsync", 
C_FSYNC
},

293 
	}
};

295 
	#FFS_MASK
(
x
è((xè^ ((xè& ((xè- 1)))

	)

300 
	mv
 = ~(0

301 | 
O_APPEND


302 | 
O_BINARY


303 | 
O_CIO


304 | 
O_DIRECT


305 | 
O_DIRECTORY


306 | 
O_DSYNC


307 | 
O_NOATIME


308 | 
O_NOCTTY


309 | 
O_NOFOLLOW


310 | 
O_NOLINKS


311 | 
O_NONBLOCK


312 | 
O_SYNC


313 | 
O_TEXT


317 
	mO_FULLBLOCK
 = 
FFS_MASK
 (
v
),

318 
	mv2
 = 
v
 ^ 
O_FULLBLOCK
,

320 
	mO_NOCACHE
 = 
FFS_MASK
 (
v2
),

321 
	mv3
 = 
v2
 ^ 
O_NOCACHE
,

323 
	mO_COUNT_BYTES
 = 
FFS_MASK
 (
v3
),

324 
	mv4
 = 
v3
 ^ 
O_COUNT_BYTES
,

326 
	mO_SKIP_BYTES
 = 
FFS_MASK
 (
v4
),

327 
	mv5
 = 
v4
 ^ 
O_SKIP_BYTES
,

329 
	mO_SEEK_BYTES
 = 
FFS_MASK
 (
v5
)

333 
v”ify
 (
O_FULLBLOCK
 != 0);

334 
v”ify
 (
O_NOCACHE
 != 0);

335 
v”ify
 (
O_COUNT_BYTES
 != 0);

336 
v”ify
 (
O_SKIP_BYTES
 != 0);

337 
v”ify
 (
O_SEEK_BYTES
 != 0);

339 
	#MULTIPLE_BITS_SET
(
i
è(((iè& ((iè- 1)è!ğ0)

	)

342 
v”ify
 ( ! 
MULTIPLE_BITS_SET
 (
O_FULLBLOCK
));

343 
v”ify
 ( ! 
MULTIPLE_BITS_SET
 (
O_NOCACHE
));

344 
v”ify
 ( ! 
MULTIPLE_BITS_SET
 (
O_COUNT_BYTES
));

345 
v”ify
 ( ! 
MULTIPLE_BITS_SET
 (
O_SKIP_BYTES
));

346 
v”ify
 ( ! 
MULTIPLE_BITS_SET
 (
O_SEEK_BYTES
));

349 
symbŞ_v®ue
 cÚ¡ 
	gæags
[] =

351 {"­³nd", 
O_APPEND
},

352 {"bš¬y", 
O_BINARY
},

353 {"cio", 
O_CIO
},

354 {"dœeù", 
O_DIRECT
},

355 {"dœeùÜy", 
O_DIRECTORY
},

356 {"dsync", 
O_DSYNC
},

357 {"nßtime", 
O_NOATIME
},

358 {"noÿche", 
O_NOCACHE
},

359 {"noùty", 
O_NOCTTY
},

360 {"nofŞlow", 
HAVE_WORKING_O_NOFOLLOW
 ? 
O_NOFOLLOW
 : 0},

361 {"nŞšks", 
O_NOLINKS
},

362 {"nÚblock", 
O_NONBLOCK
},

363 {"sync", 
O_SYNC
},

364 {"‹xt", 
O_TEXT
},

365 {"fuÎblock", 
O_FULLBLOCK
},

366 {"couÁ_by‹s", 
O_COUNT_BYTES
},

367 {"sk_by‹s", 
O_SKIP_BYTES
},

368 {"£ek_by‹s", 
O_SEEK_BYTES
},

373 
symbŞ_v®ue
 cÚ¡ 
	g¡©u£s
[] =

375 {"noxãr", 
STATUS_NOXFER
},

376 {"nÚe", 
STATUS_NONE
},

381 
	gŒªs_bË
[256];

383 cÚ¡ 
	gascii_to_ebcdic
[] =

419 cÚ¡ 
	gascii_to_ibm
[] =

455 cÚ¡ 
	gebcdic_to_ascii
[] =

492 
boŞ
 
	gşo£_¡dout_»quœed
 = 
Œue
;

506 
	$maybe_şo£_¡dout
 ()

508 ià(
şo£_¡dout_»quœed
)

509 
	`şo£_¡dout
 ();

510 ià(
	`şo£_¡»am
 (
¡d”r
) != 0)

511 
	`_ex™
 (
EXIT_FAILURE
);

512 
	}
}

515 
	$u§ge
 (
¡©us
)

517 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

518 
	`em™_Œy_h–p
 ();

521 
	`´štf
 (
	`_
("\
: %s [OPERAND]...\n\
: %s OPTION\n\
"),

525 
´og¿m_Çme
,…rogram_name);

526 
	`åuts
 (
	`_
("\
‡ fe, cÚv”tšg‡nd fÜm©tšg‡ccÜdšgØthİ”ªds.\n\
\n\
=BYTES„—d‡nd wr™u°tØBYTES by‹ ©‡ime\n\
=BYTES cÚv”ˆBYTES by‹ ©‡ime\n\
=CONVS cÚv”ˆthfa ³¸thcomm¨£·¿‹d symbŞ†i¡\n\
=N cİy oÆy N iÅuˆblocks\n\
=BYTES„—d u°tØBYTES by‹ ©‡im(deçuÉ: 512)\n\
"), 
¡dout
);

535 
	`åuts
 (
	`_
("\
=FILE„—d from FILE in¡—d oà¡dš\n\
=FLAGS„—d‡ ³¸thcomm¨£·¿‹d symbŞ†i¡\n\
=BYTES wr™BYTES by‹ ©‡im(deçuÉ: 512)\n\
=FILE wr™tØFILE in¡—d oà¡dout\n\
=FLAGS wr™a ³¸thcomm¨£·¿‹d symbŞ†i¡\n\
=N sk N obs-sized block © s¹ oàouut\n\
=N sk N ibs-sized block © s¹ oàšput\n\
=WHICH WHICH infØtØsuµ»s ouu‰šgØ¡d”r;\n\
'noxãr' suµ»s£ Œªsã¸¡©s, 'nÚe' suµ»s£ ®l\n\
"), 
¡dout
);

546 
	`åuts
 (
	`_
("\
\n\
‡nd BYTES may bfŞlowed byhfŞlowšg muÉliÿtivsuffixes:\n\
 =1, w =2, b =512, kB =1000, K =1024, MB =1000*1000, M =1024*1024, xM =M\n\
 =1000*1000*1000, G =1024*1024*1024,‡nd sØÚ fÜ T, P, E, Z, Y.\n\
\n\
 CONV symbŞ may be:\n\
\n\
"), 
¡dout
);

555 
	`åuts
 (
	`_
("\
 from EBCDICØASCII\n\
 from ASCIIØEBCDIC\n\
 from ASCIIØ®‹º©EBCDIC\n\
…ad‚ewlše-‹rmš©ed„ecÜd w™h s·û tØcbs-size\n\
„•Ïû¿šg s·û š cbs-siz»cÜd w™h‚ewlše\n\
 chªguµ” ca£Ølow” ca£\n\
 chªglow” ca£Øuµ” ca£\n\
ryØ£ek„©h”hª wr™thouuˆfÜ NUL iÅuˆblocks\n\
 sw­ƒv”y…aœ oàšpuˆby‹s\n\
…adƒv”y iÅuˆblock w™h NUL tØibs-size; wh’ u£d\n\
 block o¸unblock,…ad w™h s·û ¿th”hª NULs\n\
"), 
¡dout
);

568 
	`åuts
 (
	`_
("\
 fa iàthouuˆf®»adyƒxi¡s\n\
 dØnÙ c»©thouuˆfe\n\
 dØnÙrunÿ‹houuˆfe\n\
 cÚtšuaá”„—dƒ¼Üs\n\
…hysiÿÎy wr™ouuˆfd©¨befÜfšishšg\n\
†ikewi£, buˆ®sØwr™m‘ad©a\n\
"), 
¡dout
);

576 
	`åuts
 (
	`_
("\
\n\
 FLAG symbŞ may be:\n\
\n\
‡µ’d mod(make £n£ oÆy fÜ ouut; cÚvòÙrunøsugge¡ed)\n\
"), 
¡dout
);

582 ià(
O_CIO
)

583 
	`åuts
 (
	`_
(" ciØ u£ cÚcu¼’ˆI/O fÜ d©a\n"), 
¡dout
);

584 ià(
O_DIRECT
)

585 
	`åuts
 (
	`_
(" dœeù u£ dœeù I/O fÜ d©a\n"), 
¡dout
);

586 ià(
O_DIRECTORY
)

587 
	`åuts
 (
	`_
(" dœeùÜy fa uÆes ¨dœeùÜy\n"), 
¡dout
);

588 ià(
O_DSYNC
)

589 
	`åuts
 (
	`_
(" dsynø u£ synchrÚized I/O fÜ d©a\n"), 
¡dout
);

590 ià(
O_SYNC
)

591 
	`åuts
 (
	`_
(" synø†ikewi£, buˆ®sØfÜ m‘ad©a\n"), 
¡dout
);

592 
	`åuts
 (
	`_
(" fullblock‡ccumulate full blocks of input (iflag only)\n"),

593 
¡dout
);

594 ià(
O_NONBLOCK
)

595 
	`åuts
 (
	`_
("‚Úblock u£‚Ú-blockšg I/O\n"), 
¡dout
);

596 ià(
O_NOATIME
)

597 
	`åuts
 (
	`_
("‚ßtim dØnÙ upd©acûs time\n"), 
¡dout
);

598 #ià
HAVE_POSIX_FADVISE


599 ià(
O_NOCACHE
)

600 
	`åuts
 (
	`_
("‚oÿch disÿrd cached d©a\n"), 
¡dout
);

602 ià(
O_NOCTTY
)

603 
	`åuts
 (
	`_
("‚octty do‚ot‡ssign controllingerminal from file\n"),

604 
¡dout
);

605 ià(
HAVE_WORKING_O_NOFOLLOW
)

606 
	`åuts
 (
	`_
("‚ofŞlow dØnÙ fŞlow symlšks\n"), 
¡dout
);

607 ià(
O_NOLINKS
)

608 
	`åuts
 (
	`_
("‚Şšk  fa iàmuÉly-lšked\n"), 
¡dout
);

609 ià(
O_BINARY
)

610 
	`åuts
 (
	`_
(" bš¬y u£ bš¬y I/O fÜ d©a\n"), 
¡dout
);

611 ià(
O_TEXT
)

612 
	`åuts
 (
	`_
("exˆ u£exˆI/O fÜ d©a\n"), 
¡dout
);

613 ià(
O_COUNT_BYTES
)

614 
	`åuts
 (
	`_
(" couÁ_by‹ »© 'couÁ=N'‡ ¨by‹ couÁ (iæag oÆy)\n\
"), 
¡dout
);

616 ià(
O_SKIP_BYTES
)

617 
	`åuts
 (
	`_
(" sk_by‹ »© 'sk=N'‡ ¨by‹ couÁ (iæag oÆy)\n\
"), 
¡dout
);

619 ià(
O_SEEK_BYTES
)

620 
	`åuts
 (
	`_
(" s“k_by‹ »© '£ek=N'‡ ¨by‹ couÁ (oæag oÆy)\n\
"), 
¡dout
);

624 cÚ¡ *
sigšfo_Çme
 = (
SIGINFO
 =ğ
SIGUSR1
 ? "USR1" : "INFO");

625 
	`´štf
 (
	`_
("\
\n\
‡ %s signalo‡„unning 'dd'…rocess makes it\n\
 I/O statisticso standardƒrror‡ndhen„esume copying.\n\
\n\
$ dd if=/dev/zero of=/dev/null&…id=$!\n\
$ kill -%s $pid; sleep 1; kill $pid\n\
18335302+0„ecords in\n\
18335302+0„ecords out\n\
9387674624 bytes (9.4 GB) copied, 34.6279 seconds, 271 MB/s\n\
\n\
‡re:\n\
\n\
"),

639 
sigšfo_Çme
, siginfo_name);

642 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

643 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

644 
	`em™_ªcÏry_šfo
 ();

646 
	`ex™
 (
¡©us
);

647 
	}
}

650 
	$Œª¦©e_ch¬£t
 (cÚ¡ *
Ãw_Œªs
)

652 
i
;

654 
i
 = 0; i < 256; i++)

655 
Œªs_bË
[
i
] = 
Ãw_Œªs
[trans_table[i]];

656 
Œª¦©iÚ_Ãeded
 = 
Œue
;

657 
	}
}

661 
šlše
 
boŞ


662 
	$muÉË_b™s_£t
 (
i
)

664  
	`MULTIPLE_BITS_SET
 (
i
);

665 
	}
}

670 
	$´št_¡©s
 ()

672 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

673 
humª_İts
 =

674 (
humª_autosÿË
 | 
humª_round_to_Ã¬e¡


675 | 
humª_¥aû_befÜe_un™
 | 
humª_SI
 | 
humª_B
);

676 
d–_s
;

677 cÚ¡ *
by‹s_³r_£cÚd
;

679 ià((
¡©us_æags
 & 
STATUS_NONE
) == STATUS_NONE)

682 
	`årštf
 (
¡d”r
,

683 
	`_
("%"
PRIuMAX
"+%"PRIuMAX"„ecords in\n"

684 "%"
PRIuMAX
"+%"PRIuMAX"„ecords out\n"),

685 
r_fuÎ
, 
r_·¹Ÿl
, 
w_fuÎ
, 
w_·¹Ÿl
);

687 ià(
r_Œunÿ‹
 != 0)

688 
	`årštf
 (
¡d”r
,

689 
	`ng‘‹xt
 ("%"
PRIuMAX
"runcated„ecord\n",

690 "%"
PRIuMAX
"runcated„ecords\n",

691 
	`£Ëù_¶u¿l
 (
r_Œunÿ‹
)),

692 
r_Œunÿ‹
);

694 ià(
¡©us_æags
 & 
STATUS_NOXFER
)

700 
	`årštf
 (
¡d”r
,

701 
	`ng‘‹xt
 ("%"
PRIuMAX
" byte (%s) copied",

702 "%"
PRIuMAX
" bytes (%s) copied",

703 
	`£Ëù_¶u¿l
 (
w_by‹s
)),

704 
w_by‹s
,

705 
	`humª_»adabË
 (
w_by‹s
, 
hbuf
, 
humª_İts
, 1, 1));

707 
xtime_t
 
now
 = 
	`g‘hrxtime
 ();

708 ià(
¡¬t_time
 < 
now
)

710 
XTIME_PRECISIONe0
 = 
XTIME_PRECISION
;

711 
uštmax_t
 
d–_xtime
 = 
now
;

712 
d–_xtime
 -ğ
¡¬t_time
;

713 
d–_s
 = 
d–_xtime
 / 
XTIME_PRECISIONe0
;

714 
by‹s_³r_£cÚd
 = 
	`humª_»adabË
 (
w_by‹s
, 
hbuf
, 
humª_İts
,

715 
XTIME_PRECISION
, 
d–_xtime
);

719 
d–_s
 = 0;

720 
by‹s_³r_£cÚd
 = 
	`_
("Infinity B");

733 
	`årštf
 (
¡d”r
, 
	`_
(", %g s, %s/s\n"), 
d–_s
, 
by‹s_³r_£cÚd
);

734 
	}
}

739 
	$š‹¼u±_hªdËr
 (
sig
)

741 ià(! 
SA_RESETHAND
)

742 
	`sigÇl
 (
sig
, 
SIG_DFL
);

743 
š‹¼u±_sigÇl
 = 
sig
;

744 
	}
}

749 
	$sigšfo_hªdËr
 (
sig
)

751 ià(! 
SA_NOCLDSTOP
)

752 
	`sigÇl
 (
sig
, 
sigšfo_hªdËr
);

753 
šfo_sigÇl_couÁ
++;

754 
	}
}

759 
	$š¡®l_sigÇl_hªdËrs
 ()

761 
boŞ
 
ÿtch_sigšfo
 = ! (
SIGINFO
 =ğ
SIGUSR1
 && 
	`g‘’v
 ("POSIXLY_CORRECT"));

763 #ià
SA_NOCLDSTOP


765 
sigaùiÚ
 
aù
;

766 
	`sigem±y£t
 (&
ÿught_sigÇls
);

767 ià(
ÿtch_sigšfo
)

769 
	`sigaùiÚ
 (
SIGINFO
, 
NULL
, &
aù
);

770 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

771 
	`sigadd£t
 (&
ÿught_sigÇls
, 
SIGINFO
);

773 
	`sigaùiÚ
 (
SIGINT
, 
NULL
, &
aù
);

774 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

775 
	`sigadd£t
 (&
ÿught_sigÇls
, 
SIGINT
);

776 
aù
.
§_mask
 = 
ÿught_sigÇls
;

778 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
SIGINFO
))

780 
aù
.
§_hªdËr
 = 
sigšfo_hªdËr
;

781 
aù
.
§_æags
 = 0;

782 
	`sigaùiÚ
 (
SIGINFO
, &
aù
, 
NULL
);

785 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
SIGINT
))

787 
aù
.
§_hªdËr
 = 
š‹¼u±_hªdËr
;

788 
aù
.
§_æags
 = 
SA_NODEFER
 | 
SA_RESETHAND
;

789 
	`sigaùiÚ
 (
SIGINT
, &
aù
, 
NULL
);

794 ià(
ÿtch_sigšfo
 && 
	`sigÇl
 (
SIGINFO
, 
SIG_IGN
) != SIG_IGN)

796 
	`sigÇl
 (
SIGINFO
, 
sigšfo_hªdËr
);

797 
	`sigš‹¼u±
 (
SIGINFO
, 1);

799 ià(
	`sigÇl
 (
SIGINT
, 
SIG_IGN
) != SIG_IGN)

801 
	`sigÇl
 (
SIGINT
, 
š‹¼u±_hªdËr
);

802 
	`sigš‹¼u±
 (
SIGINT
, 1);

805 
	}
}

808 
	$ş—nup
 ()

810 ià(
	`şo£
 (
STDIN_FILENO
) < 0)

811 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

812 
	`_
("şosšg iÅuˆf%s"), 
	`quÙe
 (
šput_fe
));

817 ià(
	`şo£
 (
STDOUT_FILENO
) < 0)

818 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

819 
	`_
("şosšg ouuˆf%s"), 
	`quÙe
 (
ouut_fe
));

820 
	}
}

827 
	$´oûss_sigÇls
 ()

829 
š‹¼u±_sigÇl
 || 
šfo_sigÇl_couÁ
)

831 
š‹¼u±
;

832 
šfos
;

833 
sig£t_t
 
Şd£t
;

835 
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &
Şd£t
);

839 
š‹¼u±
 = 
š‹¼u±_sigÇl
;

840 
šfos
 = 
šfo_sigÇl_couÁ
;

842 ià(
šfos
)

843 
šfo_sigÇl_couÁ
 = 
šfos
 - 1;

845 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şd£t
, 
NULL
);

847 ià(
š‹¼u±
)

848 
	`ş—nup
 ();

849 
	`´št_¡©s
 ();

850 ià(
š‹¼u±
)

851 
	`¿i£
 (
š‹¼u±
);

853 
	}
}

855 
ATTRIBUTE_NORETURN


856 
	$qu™
 (
code
)

858 
	`ş—nup
 ();

859 
	`´št_¡©s
 ();

860 
	`´oûss_sigÇls
 ();

861 
	`ex™
 (
code
);

862 
	}
}

868 
off_t


869 
	$ÿche_round
 (
fd
, 
off_t
 
Ën
)

871 
off_t
 
i_³ndšg
, 
o_³ndšg
;

872 
off_t
 *
³ndšg
 = (
fd
 =ğ
STDIN_FILENO
 ? &
i_³ndšg
 : &
o_³ndšg
);

874 ià(
Ën
)

876 
off_t
 
c_³ndšg
 = *
³ndšg
 + 
Ën
;

877 *
³ndšg
 = 
c_³ndšg
 % 
·ge_size
;

878 ià(
c_³ndšg
 > *
³ndšg
)

879 
Ën
 = 
c_³ndšg
 - *
³ndšg
;

881 
Ën
 = 0;

884 
Ën
 = *
³ndšg
;

886  
Ën
;

887 
	}
}

893 
boŞ


894 
	$šv®id©e_ÿche
 (
fd
, 
off_t
 
Ën
)

896 
adv_»t
 = -1;

899 
off_t
 
ş’
 = 
	`ÿche_round
 (
fd
, 
Ën
);

900 ià(
Ën
 && !
ş’
)

901  
Œue
;

902 ià(!
Ën
 && !
ş’
 && 
max_»cÜds
)

903  
Œue
;

904 
off_t
 
³ndšg
 = 
Ën
 ? 
	`ÿche_round
 (
fd
, 0) : 0;

906 ià(
fd
 =ğ
STDIN_FILENO
)

908 ià(
šput_£ekabË
)

912 #ià
HAVE_POSIX_FADVISE


913 
adv_»t
 = 
	`posix_çdvi£
 (
fd
, 
šput_off£t
 - 
ş’
 - 
³ndšg
, clen,

914 
POSIX_FADV_DONTNEED
);

916 
”ºo
 = 
ENOTSUP
;

920 
”ºo
 = 
ESPIPE
;

922 ià(
fd
 =ğ
STDOUT_FILENO
)

924 
off_t
 
ouut_off£t
 = -2;

926 ià(
ouut_off£t
 != -1)

928 ià(0 > 
ouut_off£t
)

930 
ouut_off£t
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
);

931 
ouut_off£t
 -ğ
ş’
 + 
³ndšg
;

933 ià(0 <ğ
ouut_off£t
)

935 #ià
HAVE_POSIX_FADVISE


936 
adv_»t
 = 
	`posix_çdvi£
 (
fd
, 
ouut_off£t
, 
ş’
,

937 
POSIX_FADV_DONTNEED
);

939 
”ºo
 = 
ENOTSUP
;

941 
ouut_off£t
 +ğ
ş’
 + 
³ndšg
;

946  
adv_»t
 !ğ-1 ? 
Œue
 : 
çl£
;

947 
	}
}

953 
ssize_t


954 
	$œ—d
 (
fd
, *
buf
, 
size_t
 
size
)

956 
ssize_t
 
Ä—d
;

960 
	`´oûss_sigÇls
 ();

961 
Ä—d
 = 
	`»ad
 (
fd
, 
buf
, 
size
);

963 
Ä—d
 < 0 && 
”ºo
 =ğ
EINTR
);

965 ià(0 < 
Ä—d
 && 
w¬n_·¹Ÿl_»ad
)

967 
ssize_t
 
´ev_Ä—d
;

969 ià(0 < 
´ev_Ä—d
 &&…»v_Ä—d < 
size
)

971 
uštmax_t
 
´ev
 = 
´ev_Ä—d
;

972 
	`”rÜ
 (0, 0, 
	`ng‘‹xt
 (("w¬nšg:…¬tŸÈ»ad (%"
PRIuMAX
" byte); "

974 ("w¬nšg:…¬tŸÈ»ad (%"
PRIuMAX
" bytes); "

976 
	`£Ëù_¶u¿l
 (
´ev
)),

977 
´ev
);

978 
w¬n_·¹Ÿl_»ad
 = 
çl£
;

981 
´ev_Ä—d
 = 
Ä—d
;

984  
Ä—d
;

985 
	}
}

988 
ssize_t


989 
	$œ—d_fuÎblock
 (
fd
, *
buf
, 
size_t
 
size
)

991 
ssize_t
 
Ä—d
 = 0;

993 0 < 
size
)

995 
ssize_t
 
ncu¼
 = 
	`œ—d
 (
fd
, 
buf
, 
size
);

996 ià(
ncu¼
 < 0)

997  
ncu¼
;

998 ià(
ncu¼
 == 0)

1000 
Ä—d
 +ğ
ncu¼
;

1001 
buf
 +ğ
ncu¼
;

1002 
size
 -ğ
ncu¼
;

1005  
Ä—d
;

1006 
	}
}

1013 
size_t


1014 
	$iwr™e
 (
fd
, cÚ¡ *
buf
, 
size_t
 
size
)

1016 
size_t
 
tÙ®_wr™‹n
 = 0;

1018 ià((
ouut_æags
 & 
O_DIRECT
è&& 
size
 < 
ouut_blocksize
)

1020 
Şd_æags
 = 
	`fú
 (
STDOUT_FILENO
, 
F_GETFL
);

1021 ià(
	`fú
 (
STDOUT_FILENO
, 
F_SETFL
, 
Şd_æags
 & ~
O_DIRECT
) != 0)

1022 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedourn off O_DIRECT: %s"),

1023 
	`quÙe
 (
ouut_fe
));

1030 
	`šv®id©e_ÿche
 (
STDOUT_FILENO
, 0);

1034 
cÚv”siÚs_mask
 |ğ
C_FSYNC
;

1037 
tÙ®_wr™‹n
 < 
size
)

1039 
ssize_t
 
nwr™‹n
 = 0;

1040 
	`´oûss_sigÇls
 ();

1043 
fš®_İ_was_£ek
 = 
çl£
;

1044 ià((
cÚv”siÚs_mask
 & 
C_SPARSE
è&& 
	`is_nul
 (
buf
, 
size
))

1046 ià(
	`l£ek
 (
fd
, 
size
, 
SEEK_CUR
) < 0)

1048 
cÚv”siÚs_mask
 &ğ~
C_SPARSE
;

1053 
fš®_İ_was_£ek
 = 
Œue
;

1054 
nwr™‹n
 = 
size
;

1058 ià(!
nwr™‹n
)

1059 
nwr™‹n
 = 
	`wr™e
 (
fd
, 
buf
 + 
tÙ®_wr™‹n
, 
size
 -otal_written);

1061 ià(
nwr™‹n
 < 0)

1063 ià(
”ºo
 !ğ
EINTR
)

1066 ià(
nwr™‹n
 == 0)

1071 
”ºo
 = 
ENOSPC
;

1075 
tÙ®_wr™‹n
 +ğ
nwr™‹n
;

1078 ià(
o_noÿche
 && 
tÙ®_wr™‹n
)

1079 
	`šv®id©e_ÿche
 (
fd
, 
tÙ®_wr™‹n
);

1081  
tÙ®_wr™‹n
;

1082 
	}
}

1087 
	$wr™e_ouut
 ()

1089 
size_t
 
nwr™‹n
 = 
	`iwr™e
 (
STDOUT_FILENO
, 
obuf
, 
ouut_blocksize
);

1090 
w_by‹s
 +ğ
nwr™‹n
;

1091 ià(
nwr™‹n
 !ğ
ouut_blocksize
)

1093 
	`”rÜ
 (0, 
”ºo
, 
	`_
("wr™šgØ%s"), 
	`quÙe
 (
ouut_fe
));

1094 ià(
nwr™‹n
 != 0)

1095 
w_·¹Ÿl
++;

1096 
	`qu™
 (
EXIT_FAILURE
);

1099 
w_fuÎ
++;

1100 
oc
 = 0;

1101 
	}
}

1105 
boŞ
 
_GL_ATTRIBUTE_PURE


1106 
	$İ”ªd_m©ches
 (cÚ¡ *
¡r
, cÚ¡ *
·‰”n
, 
d–im
)

1108 *
·‰”n
)

1109 ià(*
¡r
++ !ğ*
·‰”n
++)

1110  
çl£
;

1111  !*
¡r
 || *¡¸=ğ
d–im
;

1112 
	}
}

1119 
	$·r£_symbŞs
 (cÚ¡ *
¡r
, 
symbŞ_v®ue
 cÚ¡ *
bË
,

1120 cÚ¡ *
”rÜ_msgid
)

1122 
v®ue
 = 0;

1124 
Œue
)

1126 cÚ¡ *
¡rcomma
 = 
	`¡rchr
 (
¡r
, ',');

1127 
symbŞ_v®ue
 cÚ¡ *
’Œy
;

1129 
’Œy
 = 
bË
;

1130 ! (
	`İ”ªd_m©ches
 (
¡r
, 
’Œy
->
symbŞ
, ','è&&ƒÁry->
v®ue
);

1131 
’Œy
++)

1133 ià(! 
’Œy
->
symbŞ
[0])

1135 
size_t
 
¦’
 = 
¡rcomma
 ? sŒcomm¨- 
¡r
 : 
	`¡¾’
 (str);

1136 
	`”rÜ
 (0, 0, "%s: %s", 
	`_
(
”rÜ_msgid
),

1137 
	`quÙ—rg_n_¡yË_mem
 (0, 
loÿË_quÙšg_¡yË
, 
¡r
, 
¦’
));

1138 
	`u§ge
 (
EXIT_FAILURE
);

1142 
v®ue
 |ğ
’Œy
->value;

1143 ià(!
¡rcomma
)

1145 
¡r
 = 
¡rcomma
 + 1;

1148  
v®ue
;

1149 
	}
}

1155 
uštmax_t


1156 
	$·r£_š‹g”
 (cÚ¡ *
¡r
, 
boŞ
 *
šv®id
)

1158 
uštmax_t
 
n
;

1159 *
suffix
;

1160 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oumax
 (
¡r
, &
suffix
, 10, &
n
, "bcEGkKMPTwYZ0");

1162 ià(
e
 =ğ
LONGINT_INVALID_SUFFIX_CHAR
 && *
suffix
 == 'x')

1164 
uštmax_t
 
muÉl›r
 = 
	`·r£_š‹g”
 (
suffix
 + 1, 
šv®id
);

1166 ià(
muÉl›r
 !ğ0 && 
n
 * multiplier / multiplier !=‚)

1168 *
šv®id
 = 
Œue
;

1172 
n
 *ğ
muÉl›r
;

1174 ià(
e
 !ğ
LONGINT_OK
)

1176 *
šv®id
 = 
Œue
;

1180  
n
;

1181 
	}
}

1185 
boŞ
 
_GL_ATTRIBUTE_PURE


1186 
	$İ”ªd_is
 (cÚ¡ *
İ”ªd
, cÚ¡ *
Çme
)

1188  
	`İ”ªd_m©ches
 (
İ”ªd
, 
Çme
, '=');

1189 
	}
}

1192 
	$sÿÇrgs
 (
¬gc
, *cÚ¡ *
¬gv
)

1194 
i
;

1195 
size_t
 
blocksize
 = 0;

1196 
uštmax_t
 
couÁ
 = (uintmax_t) -1;

1197 
uštmax_t
 
sk
 = 0;

1198 
uštmax_t
 
£ek
 = 0;

1200 
i
 = 
İtšd
; i < 
¬gc
; i++)

1202 cÚ¡ *
Çme
 = 
¬gv
[
i
];

1203 cÚ¡ *
v®
 = 
	`¡rchr
 (
Çme
, '=');

1205 ià(
v®
 =ğ
NULL
)

1207 
	`”rÜ
 (0, 0, 
	`_
("uÄecognized o³¿nd %s"), 
	`quÙe
 (
Çme
));

1208 
	`u§ge
 (
EXIT_FAILURE
);

1210 
v®
++;

1212 ià(
	`İ”ªd_is
 (
Çme
, "if"))

1213 
šput_fe
 = 
v®
;

1214 ià(
	`İ”ªd_is
 (
Çme
, "of"))

1215 
ouut_fe
 = 
v®
;

1216 ià(
	`İ”ªd_is
 (
Çme
, "conv"))

1217 
cÚv”siÚs_mask
 |ğ
	`·r£_symbŞs
 (
v®
, 
cÚv”siÚs
,

1218 
	`N_
("invalid conversion"));

1219 ià(
	`İ”ªd_is
 (
Çme
, "iflag"))

1220 
šput_æags
 |ğ
	`·r£_symbŞs
 (
v®
, 
æags
,

1221 
	`N_
("invalid input flag"));

1222 ià(
	`İ”ªd_is
 (
Çme
, "oflag"))

1223 
ouut_æags
 |ğ
	`·r£_symbŞs
 (
v®
, 
æags
,

1224 
	`N_
("invalid output flag"));

1225 ià(
	`İ”ªd_is
 (
Çme
, "status"))

1226 
¡©us_æags
 |ğ
	`·r£_symbŞs
 (
v®
, 
¡©u£s
,

1227 
	`N_
("invalid status flag"));

1230 
boŞ
 
šv®id
 = 
çl£
;

1231 
uštmax_t
 
n
 = 
	`·r£_š‹g”
 (
v®
, &
šv®id
);

1233 ià(
	`İ”ªd_is
 (
Çme
, "ibs"))

1235 
šv®id
 |ğ! (0 < 
n
 &&‚ <ğ
	`MAX_BLOCKSIZE
 (
INPUT_BLOCK_SLOP
));

1236 
šput_blocksize
 = 
n
;

1238 ià(
	`İ”ªd_is
 (
Çme
, "obs"))

1240 
šv®id
 |ğ! (0 < 
n
 &&‚ <ğ
	`MAX_BLOCKSIZE
 (
OUTPUT_BLOCK_SLOP
));

1241 
ouut_blocksize
 = 
n
;

1243 ià(
	`İ”ªd_is
 (
Çme
, "bs"))

1245 
šv®id
 |ğ! (0 < 
n
 &&‚ <ğ
	`MAX_BLOCKSIZE
 (
INPUT_BLOCK_SLOP
));

1246 
blocksize
 = 
n
;

1248 ià(
	`İ”ªd_is
 (
Çme
, "cbs"))

1250 
šv®id
 |ğ! (0 < 
n
 &&‚ <ğ
SIZE_MAX
);

1251 
cÚv”siÚ_blocksize
 = 
n
;

1253 ià(
	`İ”ªd_is
 (
Çme
, "skip"))

1254 
sk
 = 
n
;

1255 ià(
	`İ”ªd_is
 (
Çme
, "seek"))

1256 
£ek
 = 
n
;

1257 ià(
	`İ”ªd_is
 (
Çme
, "count"))

1258 
couÁ
 = 
n
;

1261 
	`”rÜ
 (0, 0, 
	`_
("uÄecognized o³¿nd %s"), 
	`quÙe
 (
Çme
));

1262 
	`u§ge
 (
EXIT_FAILURE
);

1265 ià(
šv®id
)

1266 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id‚umb” %s"), 
	`quÙe
 (
v®
));

1270 ià(
blocksize
)

1271 
šput_blocksize
 = 
ouut_blocksize
 = 
blocksize
;

1276 
cÚv”siÚs_mask
 |ğ
C_TWOBUFS
;

1279 ià(
šput_blocksize
 == 0)

1280 
šput_blocksize
 = 
DEFAULT_BLOCKSIZE
;

1281 ià(
ouut_blocksize
 == 0)

1282 
ouut_blocksize
 = 
DEFAULT_BLOCKSIZE
;

1283 ià(
cÚv”siÚ_blocksize
 == 0)

1284 
cÚv”siÚs_mask
 &ğ~(
C_BLOCK
 | 
C_UNBLOCK
);

1286 ià(
šput_æags
 & (
O_DSYNC
 | 
O_SYNC
))

1287 
šput_æags
 |ğ
O_RSYNC
;

1289 ià(
ouut_æags
 & 
O_FULLBLOCK
)

1291 
	`”rÜ
 (0, 0, "%s: %s", 
	`_
("invalid output flag"), "'fullblock'");

1292 
	`u§ge
 (
EXIT_FAILURE
);

1295 ià(
šput_æags
 & 
O_SEEK_BYTES
)

1297 
	`”rÜ
 (0, 0, "%s: %s", 
	`_
("invalid input flag"), "'seek_bytes'");

1298 
	`u§ge
 (
EXIT_FAILURE
);

1301 ià(
ouut_æags
 & (
O_COUNT_BYTES
 | 
O_SKIP_BYTES
))

1303 
	`”rÜ
 (0, 0, "%s: %s", 
	`_
("invalid output flag"),

1304 
ouut_æags
 & 
O_COUNT_BYTES
 ? "'count_bytes'" : "'skip_bytes'");

1305 
	`u§ge
 (
EXIT_FAILURE
);

1308 ià(
šput_æags
 & 
O_SKIP_BYTES
 && 
sk
 != 0)

1310 
sk_»cÜds
 = 
sk
 / 
šput_blocksize
;

1311 
sk_by‹s
 = 
sk
 % 
šput_blocksize
;

1313 ià(
sk
 != 0)

1314 
sk_»cÜds
 = 
sk
;

1316 ià(
šput_æags
 & 
O_COUNT_BYTES
 && 
couÁ
 !ğ(
uštmax_t
) -1)

1318 
max_»cÜds
 = 
couÁ
 / 
šput_blocksize
;

1319 
max_by‹s
 = 
couÁ
 % 
šput_blocksize
;

1321 ià(
couÁ
 !ğ(
uštmax_t
) -1)

1322 
max_»cÜds
 = 
couÁ
;

1324 ià(
ouut_æags
 & 
O_SEEK_BYTES
 && 
£ek
 != 0)

1326 
£ek_»cÜds
 = 
£ek
 / 
ouut_blocksize
;

1327 
£ek_by‹s
 = 
£ek
 % 
ouut_blocksize
;

1329 ià(
£ek
 != 0)

1330 
£ek_»cÜds
 = 
£ek
;

1336 
w¬n_·¹Ÿl_»ad
 =

1337 (! (
cÚv”siÚs_mask
 & 
C_TWOBUFS
è&& ! (
šput_æags
 & 
O_FULLBLOCK
)

1338 && (
sk_»cÜds


1339 || (0 < 
max_»cÜds
 && max_»cÜd < (
uštmax_t
) -1)

1340 || (
šput_æags
 | 
ouut_æags
è& 
O_DIRECT
));

1342 
œ—d_âc
 = ((
šput_æags
 & 
O_FULLBLOCK
)

1343 ? 
œ—d_fuÎblock


1344 : 
œ—d
);

1345 
šput_æags
 &ğ~
O_FULLBLOCK
;

1347 ià(
	`muÉË_b™s_£t
 (
cÚv”siÚs_mask
 & (
C_ASCII
 | 
C_EBCDIC
 | 
C_IBM
)))

1348 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine‡nywo of {ascii,ebcdic,ibm}"));

1349 ià(
	`muÉË_b™s_£t
 (
cÚv”siÚs_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)))

1350 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine block‡nd unblock"));

1351 ià(
	`muÉË_b™s_£t
 (
cÚv”siÚs_mask
 & (
C_LCASE
 | 
C_UCASE
)))

1352 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine†case‡nd ucase"));

1353 ià(
	`muÉË_b™s_£t
 (
cÚv”siÚs_mask
 & (
C_EXCL
 | 
C_NOCREAT
)))

1354 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combineƒxcl‡nd‚ocreat"));

1355 ià(
	`muÉË_b™s_£t
 (
šput_æags
 & (
O_DIRECT
 | 
O_NOCACHE
))

1356 || 
	`muÉË_b™s_£t
 (
ouut_æags
 & (
O_DIRECT
 | 
O_NOCACHE
)))

1357 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine direct‡nd‚ocache"));

1359 ià(
šput_æags
 & 
O_NOCACHE
)

1361 
i_noÿche
 = 
Œue
;

1362 
šput_æags
 &ğ~
O_NOCACHE
;

1364 ià(
ouut_æags
 & 
O_NOCACHE
)

1366 
o_noÿche
 = 
Œue
;

1367 
ouut_æags
 &ğ~
O_NOCACHE
;

1369 
	}
}

1374 
	$­¶y_Œª¦©iÚs
 ()

1376 
i
;

1378 ià(
cÚv”siÚs_mask
 & 
C_ASCII
)

1379 
	`Œª¦©e_ch¬£t
 (
ebcdic_to_ascii
);

1381 ià(
cÚv”siÚs_mask
 & 
C_UCASE
)

1383 
i
 = 0; i < 256; i++)

1384 
Œªs_bË
[
i
] = 
	`touµ”
 (trans_table[i]);

1385 
Œª¦©iÚ_Ãeded
 = 
Œue
;

1387 ià(
cÚv”siÚs_mask
 & 
C_LCASE
)

1389 
i
 = 0; i < 256; i++)

1390 
Œªs_bË
[
i
] = 
	`tŞow”
 (trans_table[i]);

1391 
Œª¦©iÚ_Ãeded
 = 
Œue
;

1394 ià(
cÚv”siÚs_mask
 & 
C_EBCDIC
)

1396 
	`Œª¦©e_ch¬£t
 (
ascii_to_ebcdic
);

1397 
Ãwlše_ch¬aù”
 = 
ascii_to_ebcdic
['\n'];

1398 
¥aû_ch¬aù”
 = 
ascii_to_ebcdic
[' '];

1400 ià(
cÚv”siÚs_mask
 & 
C_IBM
)

1402 
	`Œª¦©e_ch¬£t
 (
ascii_to_ibm
);

1403 
Ãwlše_ch¬aù”
 = 
ascii_to_ibm
['\n'];

1404 
¥aû_ch¬aù”
 = 
ascii_to_ibm
[' '];

1406 
	}
}

1412 
	$Œª¦©e_bufãr
 (*
buf
, 
size_t
 
Ä—d
)

1414 *
ı
;

1415 
size_t
 
i
;

1417 
i
 = 
Ä—d
, 
ı
 = 
buf
; i; i--, cp++)

1418 *
ı
 = 
Œªs_bË
[
	`to_uch¬
 (*cp)];

1419 
	}
}

1423 
boŞ
 
	gch¬_is_§ved
 = 
çl£
;

1426 
	g§ved_ch¬
;

1433 
	$swab_bufãr
 (*
buf
, 
size_t
 *
Ä—d
)

1435 *
buf¡¬t
 = 
buf
;

1436 *
ı
;

1437 
size_t
 
i
;

1440 ià(
ch¬_is_§ved
)

1442 *--
buf¡¬t
 = 
§ved_ch¬
;

1443 (*
Ä—d
)++;

1444 
ch¬_is_§ved
 = 
çl£
;

1447 ià(*
Ä—d
 & 1)

1450 
§ved_ch¬
 = 
buf¡¬t
[--*
Ä—d
];

1451 
ch¬_is_§ved
 = 
Œue
;

1458 
ı
 = 
buf¡¬t
 + *
Ä—d
;

1459 
i
 = *
Ä—d
 / 2; i; i--, 
ı
 -= 2)

1460 *
ı
 = *(cp - 2);

1462  ++
buf¡¬t
;

1463 
	}
}

1469 
	$advªû_šput_off£t
 (
uštmax_t
 
off£t
)

1471 
šput_off£t
 +ğ
off£t
;

1472 ià(
šput_off£t
 < 
off£t
)

1473 
šput_off£t_ov”æow
 = 
Œue
;

1474 
	}
}

1490 #ifdeà
__lšux__


1492 
	~<sys/mtio.h
>

1494 
	#MT_SAME_POSITION
(
P
, 
Q
) \

1495 ((
P
).
mt_»sid
 =ğ(
Q
).mt_resid \

1496 && (
P
).
mt_f’o
 =ğ(
Q
).mt_fileno \

1497 && (
P
).
mt_blkno
 =ğ(
Q
).mt_blkno)

	)

1499 
off_t


1500 
	$sk_vŸ_l£ek
 (cÚ¡ *
f’ame
, 
fdesc
, 
off_t
 
off£t
, 
wh’û
)

1502 
mtg‘
 
s1
;

1503 
mtg‘
 
s2
;

1504 
boŞ
 
gÙ_Üigš®_³_pos™iÚ
 = (
	`ioùl
 (
fdesc
, 
MTIOCGET
, &
s1
) == 0);

1508 
off_t
 
Ãw_pos™iÚ
 = 
	`l£ek
 (
fdesc
, 
off£t
, 
wh’û
);

1509 ià(0 <ğ
Ãw_pos™iÚ


1510 && 
gÙ_Üigš®_³_pos™iÚ


1511 && 
	`ioùl
 (
fdesc
, 
MTIOCGET
, &
s2
) == 0

1512 && 
	`MT_SAME_POSITION
 (
s1
, 
s2
))

1514 
	`”rÜ
 (0, 0, 
	`_
("warning: working‡round†seek kernel bug for file (%s)\n\
 mt_type=0x%0lx -- see <sys/mtio.h> forhe†ist ofypes"),

1516 
f’ame
, 
s2
.
mt_ty³
);

1517 
”ºo
 = 0;

1518 
Ãw_pos™iÚ
 = -1;

1521  
Ãw_pos™iÚ
;

1522 
	}
}

1524 
	#sk_vŸ_l£ek
(
F’ame
, 
Fd
, 
Off£t
, 
Wh’û
è
	`l£ek
 (Fd, Off£t, Wh’û)

	)

1536 
uštmax_t


1537 
	$sk
 (
fdesc
, cÚ¡ *
fe
, 
uštmax_t
 
»cÜds
, 
size_t
 
blocksize
,

1538 
size_t
 *
by‹s
, *
buf
)

1540 
uštmax_t
 
off£t
 = 
»cÜds
 * 
blocksize
 + *
by‹s
;

1546 
”ºo
 = 0;

1547 ià(
»cÜds
 <ğ
OFF_T_MAX
 / 
blocksize


1548 && 0 <ğ
	`sk_vŸ_l£ek
 (
fe
, 
fdesc
, 
off£t
, 
SEEK_CUR
))

1550 ià(
fdesc
 =ğ
STDIN_FILENO
)

1552 
¡©
 
¡
;

1553 ià(
	`f¡©
 (
STDIN_FILENO
, &
¡
) != 0)

1554 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
fe
));

1555 ià(
	`u§bË_¡_size
 (&
¡
è&& st.
¡_size
 < 
šput_off£t
 + 
off£t
)

1560 
»cÜds
 = ( 
off£t
 - 
¡
.
¡_size
 ) / 
blocksize
;

1561 
off£t
 = 
¡
.
¡_size
 - 
šput_off£t
;

1564 
»cÜds
 = 0;

1565 
	`advªû_šput_off£t
 (
off£t
);

1569 
»cÜds
 = 0;

1570 *
by‹s
 = 0;

1572  
»cÜds
;

1576 
l£ek_”ºo
 = 
”ºo
;

1583 ià((
	`sk_vŸ_l£ek
 (
fe
, 
fdesc
, 0, 
SEEK_END
)) >= 0)

1588 ià(!
l£ek_”ºo
)

1597 
l£ek_”ºo
 = 
EOVERFLOW
;

1600 ià(
fdesc
 =ğ
STDIN_FILENO
)

1601 
	`”rÜ
 (0, 
l£ek_”ºo
, 
	`_
("%s: cªnÙ sk"), 
	`quÙe
 (
fe
));

1603 
	`”rÜ
 (0, 
l£ek_”ºo
, 
	`_
("%s: cªnÙ s“k"), 
	`quÙe
 (
fe
));

1606 
	`qu™
 (
EXIT_FAILURE
);

1612 
ssize_t
 
Ä—d
 = 
	`œ—d_âc
 (
fdesc
, 
buf
, 
»cÜds
 ? 
blocksize
 : *
by‹s
);

1613 ià(
Ä—d
 < 0)

1615 ià(
fdesc
 =ğ
STDIN_FILENO
)

1617 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
fe
));

1618 ià(
cÚv”siÚs_mask
 & 
C_NOERROR
)

1619 
	`´št_¡©s
 ();

1622 
	`”rÜ
 (0, 
l£ek_”ºo
, 
	`_
("%s: cªnÙ s“k"), 
	`quÙe
 (
fe
));

1623 
	`qu™
 (
EXIT_FAILURE
);

1625 ià(
Ä—d
 == 0)

1627 ià(
fdesc
 =ğ
STDIN_FILENO
)

1628 
	`advªû_šput_off£t
 (
Ä—d
);

1630 ià(
»cÜds
 != 0)

1631 
»cÜds
--;

1633 *
by‹s
 = 0;

1635 
»cÜds
 || *
by‹s
);

1637  
»cÜds
;

1639 
	}
}

1647 
boŞ


1648 
	$advªû_šput_aá”_»ad_”rÜ
 (
size_t
 
nby‹s
)

1650 ià(! 
šput_£ekabË
)

1652 ià(
šput_£ek_”ºo
 =ğ
ESPIPE
)

1653  
Œue
;

1654 
”ºo
 = 
šput_£ek_”ºo
;

1658 
off_t
 
off£t
;

1659 
	`advªû_šput_off£t
 (
nby‹s
);

1660 
šput_off£t_ov”æow
 |ğ(
OFF_T_MAX
 < 
šput_off£t
);

1661 ià(
šput_off£t_ov”æow
)

1663 
	`”rÜ
 (0, 0, 
	`_
("offset overflow while„eading file %s"),

1664 
	`quÙe
 (
šput_fe
));

1665  
çl£
;

1667 
off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

1668 ià(0 <ğ
off£t
)

1670 
off_t
 
diff
;

1671 ià(
off£t
 =ğ
šput_off£t
)

1672  
Œue
;

1673 
diff
 = 
šput_off£t
 - 
off£t
;

1674 ià(! (0 <ğ
diff
 && difà<ğ
nby‹s
))

1675 
	`”rÜ
 (0, 0, 
	`_
("warning: invalid file offset‡fter failed„ead"));

1676 ià(0 <ğ
	`sk_vŸ_l£ek
 (
šput_fe
, 
STDIN_FILENO
, 
diff
, 
SEEK_CUR
))

1677  
Œue
;

1678 ià(
”ºo
 == 0)

1679 
	`”rÜ
 (0, 0, 
	`_
("cannot work‡round kernel bug‡fter‡ll"));

1683 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cªnÙ s“k"), 
	`quÙe
 (
šput_fe
));

1684  
çl£
;

1685 
	}
}

1690 
	$cİy_sim¶e
 (cÚ¡ *
buf
, 
size_t
 
Ä—d
)

1692 cÚ¡ *
¡¬t
 = 
buf
;

1696 
size_t
 
nä“
 = 
	`MIN
 (
Ä—d
, 
ouut_blocksize
 - 
oc
);

1698 
	`memıy
 (
obuf
 + 
oc
, 
¡¬t
, 
nä“
);

1700 
Ä—d
 -ğ
nä“
;

1701 
¡¬t
 +ğ
nä“
;

1702 
oc
 +ğ
nä“
;

1703 ià(
oc
 >ğ
ouut_blocksize
)

1704 
	`wr™e_ouut
 ();

1706 
Ä—d
 != 0);

1707 
	}
}

1714 
	$cİy_w™h_block
 (cÚ¡ *
buf
, 
size_t
 
Ä—d
)

1716 
size_t
 
i
;

1718 
i
 = 
Ä—d
; i; i--, 
buf
++)

1720 ià(*
buf
 =ğ
Ãwlše_ch¬aù”
)

1722 ià(
cŞ
 < 
cÚv”siÚ_blocksize
)

1724 
size_t
 
j
;

1725 
j
 = 
cŞ
; j < 
cÚv”siÚ_blocksize
; j++)

1726 
	`ouut_ch¬
 (
¥aû_ch¬aù”
);

1728 
cŞ
 = 0;

1732 ià(
cŞ
 =ğ
cÚv”siÚ_blocksize
)

1733 
r_Œunÿ‹
++;

1734 ià(
cŞ
 < 
cÚv”siÚ_blocksize
)

1735 
	`ouut_ch¬
 (*
buf
);

1736 
cŞ
++;

1739 
	}
}

1746 
	$cİy_w™h_unblock
 (cÚ¡ *
buf
, 
size_t
 
Ä—d
)

1748 
size_t
 
i
;

1749 
c
;

1750 
size_t
 
³ndšg_¥aûs
 = 0;

1752 
i
 = 0; i < 
Ä—d
; i++)

1754 
c
 = 
buf
[
i
];

1756 ià(
cŞ
++ >ğ
cÚv”siÚ_blocksize
)

1758 
cŞ
 = 
³ndšg_¥aûs
 = 0;

1759 
i
--;

1760 
	`ouut_ch¬
 (
Ãwlše_ch¬aù”
);

1762 ià(
c
 =ğ
¥aû_ch¬aù”
)

1763 
³ndšg_¥aûs
++;

1768 
³ndšg_¥aûs
)

1770 
	`ouut_ch¬
 (
¥aû_ch¬aù”
);

1771 --
³ndšg_¥aûs
;

1773 
	`ouut_ch¬
 (
c
);

1776 
	}
}

1782 
	$£t_fd_æags
 (
fd
, 
add_æags
, cÚ¡ *
Çme
)

1785 
add_æags
 &ğ~ (
O_NOCTTY
 | 
O_NOFOLLOW
);

1787 ià(
add_æags
)

1789 
Şd_æags
 = 
	`fú
 (
fd
, 
F_GETFL
);

1790 
Ãw_æags
 = 
Şd_æags
 | 
add_æags
;

1791 
boŞ
 
ok
 = 
Œue
;

1792 ià(
Şd_æags
 < 0)

1793 
ok
 = 
çl£
;

1794 ià(
Şd_æags
 !ğ
Ãw_æags
)

1796 ià(
Ãw_æags
 & (
O_DIRECTORY
 | 
O_NOLINKS
))

1800 
¡©
 
¡
;

1801 ià(
	`f¡©
 (
fd
, &
¡
) != 0)

1802 
ok
 = 
çl£
;

1803 ià((
Ãw_æags
 & 
O_DIRECTORY
è&& ! 
	`S_ISDIR
 (
¡
.
¡_mode
))

1805 
”ºo
 = 
ENOTDIR
;

1806 
ok
 = 
çl£
;

1808 ià((
Ãw_æags
 & 
O_NOLINKS
è&& 1 < 
¡
.
¡_Æšk
)

1810 
”ºo
 = 
EMLINK
;

1811 
ok
 = 
çl£
;

1813 
Ãw_æags
 &ğ~ (
O_DIRECTORY
 | 
O_NOLINKS
);

1816 ià(
ok
 && 
Şd_æags
 !ğ
Ãw_æags


1817 && 
	`fú
 (
fd
, 
F_SETFL
, 
Ãw_æags
) == -1)

1818 
ok
 = 
çl£
;

1821 ià(!
ok
)

1822 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("£‰šg fÏg fÜ %s"), 
	`quÙe
 (
Çme
));

1824 
	}
}

1827 
	$humª_size
 (
size_t
 
n
)

1829 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

1830 
humª_İts
 =

1831 (
humª_autosÿË
 | 
humª_round_to_Ã¬e¡
 | 
humª_ba£_1024


1832 | 
humª_¥aû_befÜe_un™
 | 
humª_SI
 | 
humª_B
);

1833  
	`humª_»adabË
 (
n
, 
hbuf
, 
humª_İts
, 1, 1);

1834 
	}
}

1839 
	$dd_cİy
 ()

1841 *
ibuf
, *
buf¡¬t
;

1844 *
»®_buf
;

1845 *
»®_obuf
;

1846 
ssize_t
 
Ä—d
;

1850 
size_t
 
·¹»ad
 = 0;

1852 
ex™_¡©us
 = 
EXIT_SUCCESS
;

1853 
size_t
 
n_by‹s_»ad
;

1872 
»®_buf
 = 
	`m®loc
 (
šput_blocksize
 + 
INPUT_BLOCK_SLOP
);

1873 ià(!
»®_buf
)

1874 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1875 
	`_
("memoryƒxhausted by input buffer of size %zu bytes (%s)"),

1876 
šput_blocksize
, 
	`humª_size
 (input_blocksize));

1878 
ibuf
 = 
»®_buf
;

1879 
ibuf
 +ğ
SWAB_ALIGN_OFFSET
;

1881 
ibuf
 = 
	`±r_®ign
 (ibuf, 
·ge_size
);

1883 ià(
cÚv”siÚs_mask
 & 
C_TWOBUFS
)

1886 
»®_obuf
 = 
	`m®loc
 (
ouut_blocksize
 + 
OUTPUT_BLOCK_SLOP
);

1887 ià(!
»®_obuf
)

1888 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1889 
	`_
("memoryƒxhausted by output buffer of size %zu bytes (%s)"),

1890 
ouut_blocksize
, 
	`humª_size
 (output_blocksize));

1891 
obuf
 = 
	`±r_®ign
 (
»®_obuf
, 
·ge_size
);

1895 
»®_obuf
 = 
NULL
;

1896 
obuf
 = 
ibuf
;

1901 
	`as£¹
 ( (
ušŒ_t
è<ğ
OUTPUT_BLOCK_SLOP
);

1902 
	`mem£t
 (
obuf
 + 
ouut_blocksize
, 1,  (
ušŒ_t
));

1904 ià(
sk_»cÜds
 !ğ0 || 
sk_by‹s
 != 0)

1906 
uštmax_t
 
us_by‹s
 = 
šput_off£t
 + (
sk_»cÜds
 * 
šput_blocksize
)

1907 + 
sk_by‹s
;

1908 
uštmax_t
 
us_blocks
 = 
	`sk
 (
STDIN_FILENO
, 
šput_fe
,

1909 
sk_»cÜds
, 
šput_blocksize
, &
sk_by‹s
,

1910 
ibuf
);

1911 
us_by‹s
 -ğ
šput_off£t
;

1919 ià(
us_blocks
 || (!
šput_off£t_ov”æow
 && 
us_by‹s
))

1921 
	`”rÜ
 (0, 0,

1922 
	`_
("%s: cªnÙ skØ¥ecif›d off£t"), 
	`quÙe
 (
šput_fe
));

1926 ià(
£ek_»cÜds
 !ğ0 || 
£ek_by‹s
 != 0)

1928 
size_t
 
by‹s
 = 
£ek_by‹s
;

1929 
uštmax_t
 
wr™e_»cÜds
 = 
	`sk
 (
STDOUT_FILENO
, 
ouut_fe
,

1930 
£ek_»cÜds
, 
ouut_blocksize
, &
by‹s
,

1931 
obuf
);

1933 ià(
wr™e_»cÜds
 !ğ0 || 
by‹s
 != 0)

1935 
	`mem£t
 (
obuf
, 0, 
wr™e_»cÜds
 ? 
ouut_blocksize
 : 
by‹s
);

1939 
size_t
 
size
 = 
wr™e_»cÜds
 ? 
ouut_blocksize
 : 
by‹s
;

1940 ià(
	`iwr™e
 (
STDOUT_FILENO
, 
obuf
, 
size
) != size)

1942 
	`”rÜ
 (0, 
”ºo
, 
	`_
("wr™šgØ%s"), 
	`quÙe
 (
ouut_fe
));

1943 
	`qu™
 (
EXIT_FAILURE
);

1946 ià(
wr™e_»cÜds
 != 0)

1947 
wr™e_»cÜds
--;

1949 
by‹s
 = 0;

1951 
wr™e_»cÜds
 || 
by‹s
);

1955 ià(
max_»cÜds
 =ğ0 && 
max_by‹s
 == 0)

1956  
ex™_¡©us
;

1960 ià(
r_·¹Ÿl
 + 
r_fuÎ
 >ğ
max_»cÜds
 + !!
max_by‹s
)

1966 ià((
cÚv”siÚs_mask
 & 
C_SYNC
è&& (cÚv”siÚs_mask & 
C_NOERROR
))

1967 
	`mem£t
 (
ibuf
,

1968 (
cÚv”siÚs_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)) ? ' ' : '\0',

1969 
šput_blocksize
);

1971 ià(
r_·¹Ÿl
 + 
r_fuÎ
 >ğ
max_»cÜds
)

1972 
Ä—d
 = 
	`œ—d_âc
 (
STDIN_FILENO
, 
ibuf
, 
max_by‹s
);

1974 
Ä—d
 = 
	`œ—d_âc
 (
STDIN_FILENO
, 
ibuf
, 
šput_blocksize
);

1976 ià(
Ä—d
 >ğ0 && 
i_noÿche
)

1977 
	`šv®id©e_ÿche
 (
STDIN_FILENO
, 
Ä—d
);

1979 ià(
Ä—d
 == 0)

1982 ià(
Ä—d
 < 0)

1984 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
šput_fe
));

1985 ià(
cÚv”siÚs_mask
 & 
C_NOERROR
)

1987 
	`´št_¡©s
 ();

1988 
size_t
 
bad_pÜtiÚ
 = 
šput_blocksize
 - 
·¹»ad
;

1992 
	`šv®id©e_ÿche
 (
STDIN_FILENO
, 
bad_pÜtiÚ
);

1995 ià(!
	`advªû_šput_aá”_»ad_”rÜ
 (
bad_pÜtiÚ
))

1997 
ex™_¡©us
 = 
EXIT_FAILURE
;

2000 
šput_£ekabË
 = 
çl£
;

2001 
šput_£ek_”ºo
 = 
ESPIPE
;

2003 ià((
cÚv”siÚs_mask
 & 
C_SYNC
è&& !
·¹»ad
)

2006 
Ä—d
 = 0;

2013 
ex™_¡©us
 = 
EXIT_FAILURE
;

2018 
n_by‹s_»ad
 = 
Ä—d
;

2019 
	`advªû_šput_off£t
 (
Ä—d
);

2021 ià(
n_by‹s_»ad
 < 
šput_blocksize
)

2023 
r_·¹Ÿl
++;

2024 
·¹»ad
 = 
n_by‹s_»ad
;

2025 ià(
cÚv”siÚs_mask
 & 
C_SYNC
)

2027 ià(!(
cÚv”siÚs_mask
 & 
C_NOERROR
))

2029 
	`mem£t
 (
ibuf
 + 
n_by‹s_»ad
,

2030 (
cÚv”siÚs_mask
 & (
C_BLOCK
 | 
C_UNBLOCK
)) ? ' ' : '\0',

2031 
šput_blocksize
 - 
n_by‹s_»ad
);

2032 
n_by‹s_»ad
 = 
šput_blocksize
;

2037 
r_fuÎ
++;

2038 
·¹»ad
 = 0;

2041 ià(
ibuf
 =ğ
obuf
)

2043 
size_t
 
nwr™‹n
 = 
	`iwr™e
 (
STDOUT_FILENO
, 
obuf
, 
n_by‹s_»ad
);

2044 
w_by‹s
 +ğ
nwr™‹n
;

2045 ià(
nwr™‹n
 !ğ
n_by‹s_»ad
)

2047 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ wr™šg %s"), 
	`quÙe
 (
ouut_fe
));

2048  
EXIT_FAILURE
;

2050 ià(
n_by‹s_»ad
 =ğ
šput_blocksize
)

2051 
w_fuÎ
++;

2053 
w_·¹Ÿl
++;

2059 ià(
Œª¦©iÚ_Ãeded
)

2060 
	`Œª¦©e_bufãr
 (
ibuf
, 
n_by‹s_»ad
);

2062 ià(
cÚv”siÚs_mask
 & 
C_SWAB
)

2063 
buf¡¬t
 = 
	`swab_bufãr
 (
ibuf
, &
n_by‹s_»ad
);

2065 
buf¡¬t
 = 
ibuf
;

2067 ià(
cÚv”siÚs_mask
 & 
C_BLOCK
)

2068 
	`cİy_w™h_block
 (
buf¡¬t
, 
n_by‹s_»ad
);

2069 ià(
cÚv”siÚs_mask
 & 
C_UNBLOCK
)

2070 
	`cİy_w™h_unblock
 (
buf¡¬t
, 
n_by‹s_»ad
);

2072 
	`cİy_sim¶e
 (
buf¡¬t
, 
n_by‹s_»ad
);

2076 ià(
ch¬_is_§ved
)

2078 ià(
cÚv”siÚs_mask
 & 
C_BLOCK
)

2079 
	`cİy_w™h_block
 (&
§ved_ch¬
, 1);

2080 ià(
cÚv”siÚs_mask
 & 
C_UNBLOCK
)

2081 
	`cİy_w™h_unblock
 (&
§ved_ch¬
, 1);

2083 
	`ouut_ch¬
 (
§ved_ch¬
);

2086 ià((
cÚv”siÚs_mask
 & 
C_BLOCK
è&& 
cŞ
 > 0)

2090 
size_t
 
i
;

2091 
i
 = 
cŞ
; i < 
cÚv”siÚ_blocksize
; i++)

2092 
	`ouut_ch¬
 (
¥aû_ch¬aù”
);

2095 ià(
cŞ
 && (
cÚv”siÚs_mask
 & 
C_UNBLOCK
))

2098 
	`ouut_ch¬
 (
Ãwlše_ch¬aù”
);

2102 ià(
oc
 != 0)

2104 
size_t
 
nwr™‹n
 = 
	`iwr™e
 (
STDOUT_FILENO
, 
obuf
, 
oc
);

2105 
w_by‹s
 +ğ
nwr™‹n
;

2106 ià(
nwr™‹n
 != 0)

2107 
w_·¹Ÿl
++;

2108 ià(
nwr™‹n
 !ğ
oc
)

2110 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ wr™šg %s"), 
	`quÙe
 (
ouut_fe
));

2111  
EXIT_FAILURE
;

2117 ià(
fš®_İ_was_£ek
)

2119 
¡©
 
¡dout_¡©
;

2120 ià(
	`f¡©
 (
STDOUT_FILENO
, &
¡dout_¡©
) != 0)

2122 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
ouut_fe
));

2123  
EXIT_FAILURE
;

2125 ià(
	`S_ISREG
 (
¡dout_¡©
.
¡_mode
è|| 
	`S_TYPEISSHM
 (&stdout_stat))

2127 
off_t
 
ouut_off£t
 = 
	`l£ek
 (
STDOUT_FILENO
, 0, 
SEEK_CUR
);

2128 ià(
ouut_off£t
 > 
¡dout_¡©
.
¡_size
)

2130 ià(
	`árunÿ‹
 (
STDOUT_FILENO
, 
ouut_off£t
) != 0)

2132 
	`”rÜ
 (0, 
”ºo
,

2133 
	`_
("çedØŒunÿ‹Ø%" 
PRIdMAX
 " bytes"

2135 (
štmax_t
è
ouut_off£t
, 
	`quÙe
 (
ouut_fe
));

2136  
EXIT_FAILURE
;

2142 ià((
cÚv”siÚs_mask
 & 
C_FDATASYNC
è&& 
	`fd©async
 (
STDOUT_FILENO
) != 0)

2144 ià(
”ºo
 !ğ
ENOSYS
 &&ƒ¼nØ!ğ
EINVAL
)

2146 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fd©asynøçed fÜ %s"), 
	`quÙe
 (
ouut_fe
));

2147 
ex™_¡©us
 = 
EXIT_FAILURE
;

2149 
cÚv”siÚs_mask
 |ğ
C_FSYNC
;

2152 ià(
cÚv”siÚs_mask
 & 
C_FSYNC
)

2153 
	`fsync
 (
STDOUT_FILENO
) != 0)

2154 ià(
”ºo
 !ğ
EINTR
)

2156 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fsynøçed fÜ %s"), 
	`quÙe
 (
ouut_fe
));

2157  
EXIT_FAILURE
;

2160  
ex™_¡©us
;

2161 
	}
}

2164 
	$maš
 (
¬gc
, **
¬gv
)

2166 
i
;

2167 
ex™_¡©us
;

2168 
off_t
 
off£t
;

2170 
	`š¡®l_sigÇl_hªdËrs
 ();

2172 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

2173 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

2174 
	`£oÿË
 (
LC_ALL
, "");

2175 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

2176 
	`‹xtdomaš
 (
PACKAGE
);

2179 
	`©ex™
 (
maybe_şo£_¡dout
);

2181 
·ge_size
 = 
	`g‘·gesize
 ();

2183 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
V”siÚ
,

2184 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

2185 
şo£_¡dout_»quœed
 = 
çl£
;

2187 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

2188 
	`u§ge
 (
EXIT_FAILURE
);

2191 
i
 = 0; i < 256; i++)

2192 
Œªs_bË
[
i
] = i;

2195 
	`sÿÇrgs
 (
¬gc
, 
¬gv
);

2197 
	`­¶y_Œª¦©iÚs
 ();

2199 ià(
šput_fe
 =ğ
NULL
)

2201 
šput_fe
 = 
	`_
("standard input");

2202 
	`£t_fd_æags
 (
STDIN_FILENO
, 
šput_æags
, 
šput_fe
);

2206 ià(
	`fd_»İ’
 (
STDIN_FILENO
, 
šput_fe
, 
O_RDONLY
 | 
šput_æags
, 0) < 0)

2207 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØİ’ %s"), 
	`quÙe
 (
šput_fe
));

2210 
off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

2211 
šput_£ekabË
 = (0 <ğ
off£t
);

2212 
šput_off£t
 = 
	`MAX
 (0, 
off£t
);

2213 
šput_£ek_”ºo
 = 
”ºo
;

2215 ià(
ouut_fe
 =ğ
NULL
)

2217 
ouut_fe
 = 
	`_
("standard output");

2218 
	`£t_fd_æags
 (
STDOUT_FILENO
, 
ouut_æags
, 
ouut_fe
);

2222 
mode_t
 
³rms
 = 
MODE_RW_UGO
;

2223 
İts


2224 ğ(
ouut_æags


2225 | (
cÚv”siÚs_mask
 & 
C_NOCREAT
 ? 0 : 
O_CREAT
)

2226 | (
cÚv”siÚs_mask
 & 
C_EXCL
 ? 
O_EXCL
 : 0)

2227 | (
£ek_»cÜds
 || (
cÚv”siÚs_mask
 & 
C_NOTRUNC
è? 0 : 
O_TRUNC
));

2232 ià((! 
£ek_»cÜds


2233 || 
	`fd_»İ’
 (
STDOUT_FILENO
, 
ouut_fe
, 
O_RDWR
 | 
İts
, 
³rms
) < 0)

2234 && (
	`fd_»İ’
 (
STDOUT_FILENO
, 
ouut_fe
, 
O_WRONLY
 | 
İts
, 
³rms
)

2236 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo open %s"),

2237 
	`quÙe
 (
ouut_fe
));

2239 ià(
£ek_»cÜds
 !ğ0 && !(
cÚv”siÚs_mask
 & 
C_NOTRUNC
))

2241 
uštmax_t
 
size
 = 
£ek_»cÜds
 * 
ouut_blocksize
 + 
£ek_by‹s
;

2242 
obs
 = 
ouut_blocksize
;

2244 ià(
OFF_T_MAX
 / 
ouut_blocksize
 < 
£ek_»cÜds
)

2245 
	`”rÜ
 (
EXIT_FAILURE
, 0,

2246 
	`_
("offsetoo†arge: "

2247 "ÿÂÙrunÿ‹Ø¨Ëngth oà£ek=%"
PRIuMAX
""

2249 
£ek_»cÜds
, 
obs
);

2251 ià(
	`árunÿ‹
 (
STDOUT_FILENO
, 
size
) != 0)

2258 
árunÿ‹_”ºo
 = 
”ºo
;

2259 
¡©
 
¡dout_¡©
;

2260 ià(
	`f¡©
 (
STDOUT_FILENO
, &
¡dout_¡©
) != 0)

2261 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot fstat %s"),

2262 
	`quÙe
 (
ouut_fe
));

2263 ià(
	`S_ISREG
 (
¡dout_¡©
.
¡_mode
)

2264 || 
	`S_ISDIR
 (
¡dout_¡©
.
¡_mode
)

2265 || 
	`S_TYPEISSHM
 (&
¡dout_¡©
))

2266 
	`”rÜ
 (
EXIT_FAILURE
, 
árunÿ‹_”ºo
,

2267 
	`_
("çedØŒunÿ‹Ø%"
PRIuMAX
" bytes"

2269 
size
, 
	`quÙe
 (
ouut_fe
));

2274 
¡¬t_time
 = 
	`g‘hrxtime
 ();

2276 
ex™_¡©us
 = 
	`dd_cİy
 ();

2278 ià(
max_»cÜds
 =ğ0 && 
max_by‹s
 == 0)

2281 ià(
i_noÿche
 && !
	`šv®id©e_ÿche
 (
STDIN_FILENO
, 0))

2283 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo discard cache for: %s"),

2284 
	`quÙe
 (
šput_fe
));

2285 
ex™_¡©us
 = 
EXIT_FAILURE
;

2287 ià(
o_noÿche
 && !
	`šv®id©e_ÿche
 (
STDOUT_FILENO
, 0))

2289 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo discard cache for: %s"),

2290 
	`quÙe
 (
ouut_fe
));

2291 
ex™_¡©us
 = 
EXIT_FAILURE
;

2294 ià(
max_»cÜds
 !ğ(
uštmax_t
) -1)

2298 ià(
i_noÿche
)

2299 
	`šv®id©e_ÿche
 (
STDIN_FILENO
, 0);

2300 ià(
o_noÿche
)

2301 
	`šv®id©e_ÿche
 (
STDOUT_FILENO
, 0);

2304 
	`qu™
 (
ex™_¡©us
);

2305 
	}
}

	@df.c

21 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~<g‘İt.h
>

25 
	~<as£¹.h
>

27 
	~"sy¡em.h
"

28 
	~"ÿnÚiÿlize.h
"

29 
	~"”rÜ.h
"

30 
	~"fsu§ge.h
"

31 
	~"humª.h
"

32 
	~"mb§lign.h
"

33 
	~"mbswidth.h
"

34 
	~"mouÁli¡.h
"

35 
	~"quÙe.h
"

36 
	~"fšd-mouÁ-pošt.h
"

39 
	#PROGRAM_NAME
 "df"

	)

41 
	#AUTHORS
 \

42 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

43 
	`´İ”_Çme
 ("David MacKenzie"), \

44 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

48 
	sdevli¡


50 
dev_t
 
	mdev_num
;

51 
mouÁ_’Œy
 *
	mme
;

52 
devli¡
 *
	mÃxt
;

57 
boŞ
 
	gshow_®l_fs
;

60 
boŞ
 
	gshow_loÿl_fs
;

64 
boŞ
 
	gshow_li¡ed_fs
;

67 
	ghumª_ouut_İts
;

70 
uštmax_t
 
	gouut_block_size
;

73 
boŞ
 
	gfe_sy¡ems_´oûs£d
;

79 
boŞ
 
	g»quœe_sync
;

82 
	gex™_¡©us
;

86 
	sfs_ty³_li¡


88 *
	mfs_Çme
;

89 
fs_ty³_li¡
 *
	mfs_Ãxt
;

103 
fs_ty³_li¡
 *
	gfs_£Ëù_li¡
;

108 
fs_ty³_li¡
 *
	gfs_exşude_li¡
;

111 
mouÁ_’Œy
 *
	gmouÁ_li¡
;

114 
boŞ
 
	g´št_ty³
;

117 
boŞ
 
	g´št_g¿nd_tÙ®
;

120 
fs_u§ge
 
	gg¿nd_fsu
;

125 
	mDEFAULT_MODE
,

126 
	mINODES_MODE
,

127 
	mHUMAN_MODE
,

128 
	mPOSIX_MODE
,

129 
	mOUTPUT_MODE


131 
	gh—d”_mode
 = 
DEFAULT_MODE
;

136 
	mSOURCE_FIELD
,

137 
	mFSTYPE_FIELD
,

138 
	mSIZE_FIELD
,

139 
	mUSED_FIELD
,

140 
	mAVAIL_FIELD
,

141 
	mPCENT_FIELD
,

142 
	mITOTAL_FIELD
,

143 
	mIUSED_FIELD
,

144 
	mIAVAIL_FIELD
,

145 
	mIPCENT_FIELD
,

146 
	mTARGET_FIELD


147 } 
	tdi¥Ïy_f›ld_t
;

152 
	mBLOCK_FLD
,

153 
	mINODE_FLD
,

154 
	mOTHER_FLD


155 } 
	tf›ld_ty³_t
;

158 
	sf›ld_d©a_t


160 
di¥Ïy_f›ld_t
 
	mf›ld
;

161 cÚ¡ *
	m¬g
;

162 
f›ld_ty³_t
 
	mf›ld_ty³
;

163 cÚ¡ *
	mÿ±iÚ
;

164 
size_t
 
	mwidth
;

165 
mbs_®ign_t
 
	m®ign
;

166 
boŞ
 
	mu£d
;

170 
f›ld_d©a_t
 
	gf›ld_d©a
[] = {

171 [
SOURCE_FIELD
] = { SOURCE_FIELD,

172 "sourû", 
OTHER_FLD
, 
N_
("Fesy¡em"), 14, 
MBS_ALIGN_LEFT
, 
çl£
 },

174 [
FSTYPE_FIELD
] = { FSTYPE_FIELD,

175 "f¡y³", 
OTHER_FLD
, 
N_
("Ty³"), 4, 
MBS_ALIGN_LEFT
, 
çl£
 },

177 [
SIZE_FIELD
] = { SIZE_FIELD,

178 "size", 
BLOCK_FLD
, 
N_
("blocks"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

180 [
USED_FIELD
] = { USED_FIELD,

181 "u£d", 
BLOCK_FLD
, 
N_
("U£d"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

183 [
AVAIL_FIELD
] = { AVAIL_FIELD,

184 "ava", 
BLOCK_FLD
, 
N_
("AvaabË"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

186 [
PCENT_FIELD
] = { PCENT_FIELD,

187 "pûÁ", 
BLOCK_FLD
, 
N_
("U£%"), 4, 
MBS_ALIGN_RIGHT
, 
çl£
 },

189 [
ITOTAL_FIELD
] = { ITOTAL_FIELD,

190 "™Ù®", 
INODE_FLD
, 
N_
("Inodes"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

192 [
IUSED_FIELD
] = { IUSED_FIELD,

193 "iu£d", 
INODE_FLD
, 
N_
("IU£d"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

195 [
IAVAIL_FIELD
] = { IAVAIL_FIELD,

196 "Ÿva", 
INODE_FLD
, 
N_
("IF»e"), 5, 
MBS_ALIGN_RIGHT
, 
çl£
 },

198 [
IPCENT_FIELD
] = { IPCENT_FIELD,

199 "ûÁ", 
INODE_FLD
, 
N_
("IU£%"), 4, 
MBS_ALIGN_RIGHT
, 
çl£
 },

201 [
TARGET_FIELD
] = { TARGET_FIELD,

202 "rg‘", 
OTHER_FLD
, 
N_
("MouÁed on"), 0, 
MBS_ALIGN_LEFT
, 
çl£
 }

205 cÚ¡ *
	g®l_¬gs_¡ršg
 =

209 
f›ld_d©a_t
 **
	gcŞumns
;

212 
size_t
 
	gncŞumns
;

215 
	sf›ld_v®ues_t


217 
uštmax_t
 
	mšput_un™s
;

218 
uštmax_t
 
	mouut_un™s
;

219 
uštmax_t
 
	mtÙ®
;

220 
uštmax_t
 
	mavaabË
;

221 
boŞ
 
	mÃg©e_avaabË
;

222 
uštmax_t
 
	mavaabË_to_roÙ
;

223 
uštmax_t
 
	mu£d
;

224 
boŞ
 
	mÃg©e_u£d
;

228 ***
	gbË
;

231 
size_t
 
	gÄows
;

237 
	mNO_SYNC_OPTION
 = 
CHAR_MAX
 + 1,

238 
	mSYNC_OPTION
,

239 
	mTOTAL_OPTION
,

240 
	mOUTPUT_OPTION
,

241 
	mMEGABYTES_OPTION


244 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

246 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

247 {"block-size", 
»quœed_¬gum’t
, 
NULL
, 'B'},

248 {"šodes", 
no_¬gum’t
, 
NULL
, 'i'},

249 {"humª-»adabË", 
no_¬gum’t
, 
NULL
, 'h'},

250 {"si", 
no_¬gum’t
, 
NULL
, 'H'},

251 {"loÿl", 
no_¬gum’t
, 
NULL
, 'l'},

252 {"megaby‹s", 
no_¬gum’t
, 
NULL
, 
MEGABYTES_OPTION
},

253 {"ouut", 
İtiÚ®_¬gum’t
, 
NULL
, 
OUTPUT_OPTION
},

254 {"pÜb™y", 
no_¬gum’t
, 
NULL
, 'P'},

255 {"´št-ty³", 
no_¬gum’t
, 
NULL
, 'T'},

256 {"sync", 
no_¬gum’t
, 
NULL
, 
SYNC_OPTION
},

257 {"no-sync", 
no_¬gum’t
, 
NULL
, 
NO_SYNC_OPTION
},

258 {"tÙ®", 
no_¬gum’t
, 
NULL
, 
TOTAL_OPTION
},

259 {"ty³", 
»quœed_¬gum’t
, 
NULL
, 't'},

260 {"exşude-ty³", 
»quœed_¬gum’t
, 
NULL
, 'x'},

261 {
GETOPT_HELP_OPTION_DECL
},

262 {
GETOPT_VERSION_OPTION_DECL
},

263 {
NULL
, 0, NULL, 0}

271 
	$hide_´obËm©ic_ch¬s
 (*
ûÎ
)

273 *
p
 = 
ûÎ
;

274 *
p
)

276 ià(
	`isúŒl
 (
	`to_uch¬
 (*
p
)))

277 *
p
 = '?';

278 
p
++;

280  
ûÎ
;

281 
	}
}

287 
	$®loc_bË_row
 ()

289 
Äows
++;

290 
bË
 = 
	`xÄ—Îoc
 (bË, 
Äows
,  (*));

291 
bË
[
Äows
 - 1] = 
	`xnm®loc
 (
ncŞumns
,  (*));

292 
	}
}

298 
	$´št_bË
 ()

300 
size_t
 
row
;

302 
row
 = 0;„ow < 
Äows
;„ow++)

304 
size_t
 
cŞ
;

305 
cŞ
 = 0; cŞ < 
ncŞumns
; col++)

307 *
ûÎ
 = 
bË
[
row
][
cŞ
];

313 ià(
cŞ
 != 0)

314 
	`putch¬
 (' ');

316 
æags
 = 0;

317 ià(
cŞ
 =ğ
ncŞumns
 - 1)

318 
æags
 = 
MBA_NO_RIGHT_PAD
;

320 
size_t
 
width
 = 
cŞumns
[
cŞ
]->width;

321 
ûÎ
 = 
	`amb§lign
 (ûÎ, &
width
, 
cŞumns
[
cŞ
]->
®ign
, 
æags
);

323 
	`åuts
 (
ûÎ
 ? c–È: 
bË
[
row
][
cŞ
], 
¡dout
);

324 
	`ä“
 (
ûÎ
);

326 
	`IF_LINT
 (
	`ä“
 (
bË
[
row
][
cŞ
]));

328 
	`putch¬
 ('\n');

329 
	`IF_LINT
 (
	`ä“
 (
bË
[
row
]));

332 
	`IF_LINT
 (
	`ä“
 (
bË
));

333 
	}
}

339 
	$®loc_f›ld
 (
f
, cÚ¡ *
c
)

341 
ncŞumns
++;

342 
cŞumns
 = 
	`xÄ—Îoc
 (cŞumns, 
ncŞumns
,  (
f›ld_d©a_t
 *));

343 
cŞumns
[
ncŞumns
 - 1] = &
f›ld_d©a
[
f
];

344 ià(
c
 !ğ
NULL
)

345 
cŞumns
[
ncŞumns
 - 1]->
ÿ±iÚ
 = 
c
;

347 ià(
f›ld_d©a
[
f
].
u£d
)

348 
	`as£¹
 (!"field used");

351 
f›ld_d©a
[
f
].
u£d
 = 
Œue
;

352 
	}
}

358 
	$decode_ouut_¬g
 (cÚ¡ *
¬g
)

360 *
¬g_wr™abË
 = 
	`x¡rdup
 (
¬g
);

361 *
s
 = 
¬g_wr™abË
;

365 *
comma
 = 
	`¡rchr
 (
s
, ',');

368 ià(
comma
)

369 *
comma
++ = 0;

372 
di¥Ïy_f›ld_t
 
f›ld
 = -1;

373 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
f›ld_d©a
); i++)

375 ià(
	`STREQ
 (
f›ld_d©a
[
i
].
¬g
, 
s
))

377 
f›ld
 = 
i
;

381 ià(
f›ld
 == -1)

383 
	`”rÜ
 (0, 0, 
	`_
("İtiÚ --ouut: f›ld '%s' unknown"), 
s
);

384 
	`u§ge
 (
EXIT_FAILURE
);

387 ià(
f›ld_d©a
[
f›ld
].
u£d
)

390 
	`”rÜ
 (0, 0, 
	`_
("option --output: field '%s' used morehan once"),

391 
f›ld_d©a
[
f›ld
].
¬g
);

392 
	`u§ge
 (
EXIT_FAILURE
);

395 
f›ld
)

397 
SOURCE_FIELD
:

398 
FSTYPE_FIELD
:

399 
USED_FIELD
:

400 
PCENT_FIELD
:

401 
ITOTAL_FIELD
:

402 
IUSED_FIELD
:

403 
IAVAIL_FIELD
:

404 
IPCENT_FIELD
:

405 
TARGET_FIELD
:

406 
	`®loc_f›ld
 (
f›ld
, 
NULL
);

409 
SIZE_FIELD
:

410 
	`®loc_f›ld
 (
f›ld
, 
	`N_
("Size"));

413 
AVAIL_FIELD
:

414 
	`®loc_f›ld
 (
f›ld
, 
	`N_
("Avail"));

418 
	`as£¹
 (!"invalid field");

420 
s
 = 
comma
;

422 
s
);

424 
	`ä“
 (
¬g_wr™abË
);

425 
	}
}

429 
	$g‘_f›ld_li¡
 ()

431 
h—d”_mode
)

433 
DEFAULT_MODE
:

434 
	`®loc_f›ld
 (
SOURCE_FIELD
, 
NULL
);

435 ià(
´št_ty³
)

436 
	`®loc_f›ld
 (
FSTYPE_FIELD
, 
NULL
);

437 
	`®loc_f›ld
 (
SIZE_FIELD
, 
NULL
);

438 
	`®loc_f›ld
 (
USED_FIELD
, 
NULL
);

439 
	`®loc_f›ld
 (
AVAIL_FIELD
, 
NULL
);

440 
	`®loc_f›ld
 (
PCENT_FIELD
, 
NULL
);

441 
	`®loc_f›ld
 (
TARGET_FIELD
, 
NULL
);

444 
HUMAN_MODE
:

445 
	`®loc_f›ld
 (
SOURCE_FIELD
, 
NULL
);

446 ià(
´št_ty³
)

447 
	`®loc_f›ld
 (
FSTYPE_FIELD
, 
NULL
);

449 
	`®loc_f›ld
 (
SIZE_FIELD
, 
	`N_
("Size"));

450 
	`®loc_f›ld
 (
USED_FIELD
, 
NULL
);

451 
	`®loc_f›ld
 (
AVAIL_FIELD
, 
	`N_
("Avail"));

452 
	`®loc_f›ld
 (
PCENT_FIELD
, 
NULL
);

453 
	`®loc_f›ld
 (
TARGET_FIELD
, 
NULL
);

456 
INODES_MODE
:

457 
	`®loc_f›ld
 (
SOURCE_FIELD
, 
NULL
);

458 ià(
´št_ty³
)

459 
	`®loc_f›ld
 (
FSTYPE_FIELD
, 
NULL
);

460 
	`®loc_f›ld
 (
ITOTAL_FIELD
, 
NULL
);

461 
	`®loc_f›ld
 (
IUSED_FIELD
, 
NULL
);

462 
	`®loc_f›ld
 (
IAVAIL_FIELD
, 
NULL
);

463 
	`®loc_f›ld
 (
IPCENT_FIELD
, 
NULL
);

464 
	`®loc_f›ld
 (
TARGET_FIELD
, 
NULL
);

467 
POSIX_MODE
:

468 
	`®loc_f›ld
 (
SOURCE_FIELD
, 
NULL
);

469 ià(
´št_ty³
)

470 
	`®loc_f›ld
 (
FSTYPE_FIELD
, 
NULL
);

471 
	`®loc_f›ld
 (
SIZE_FIELD
, 
NULL
);

472 
	`®loc_f›ld
 (
USED_FIELD
, 
NULL
);

473 
	`®loc_f›ld
 (
AVAIL_FIELD
, 
NULL
);

474 
	`®loc_f›ld
 (
PCENT_FIELD
, 
	`N_
("Capacity"));

475 
	`®loc_f›ld
 (
TARGET_FIELD
, 
NULL
);

478 
OUTPUT_MODE
:

479 ià(!
ncŞumns
)

482 
	`decode_ouut_¬g
 (
®l_¬gs_¡ršg
);

487 
	`as£¹
 (!"invalid header_mode");

489 
	}
}

494 
	$g‘_h—d”
 ()

496 
size_t
 
cŞ
;

498 
	`®loc_bË_row
 ();

500 
cŞ
 = 0; cŞ < 
ncŞumns
; col++)

502 *
ûÎ
 = 
NULL
;

503 cÚ¡ *
h—d”
 = 
	`_
(
cŞumns
[
cŞ
]->
ÿ±iÚ
);

505 ià(
cŞumns
[
cŞ
]->
f›ld
 =ğ
SIZE_FIELD


506 && (
h—d”_mode
 =ğ
DEFAULT_MODE


507 || (
h—d”_mode
 =ğ
OUTPUT_MODE


508 && !(
humª_ouut_İts
 & 
humª_autosÿË
))))

510 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

512 
İts
 = (
humª_suµ»ss_pošt_z”o


513 | 
humª_autosÿË
 | 
humª_SI


514 | (
humª_ouut_İts


515 & (
humª_group_dig™s
 | 
humª_ba£_1024
 | 
humª_B
)));

520 
uštmax_t
 
q1000
 = 
ouut_block_size
;

521 
uštmax_t
 
q1024
 = 
ouut_block_size
;

522 
boŞ
 
divisibË_by_1000
;

523 
boŞ
 
divisibË_by_1024
;

527 
divisibË_by_1000
 = 
q1000
 % 1000 == 0; q1000 /= 1000;

528 
divisibË_by_1024
 = 
q1024
 % 1024 == 0; q1024 /= 1024;

530 
divisibË_by_1000
 & 
divisibË_by_1024
);

532 ià(
divisibË_by_1000
 < 
divisibË_by_1024
)

533 
İts
 |ğ
humª_ba£_1024
;

534 ià(
divisibË_by_1024
 < 
divisibË_by_1000
)

535 
İts
 &ğ~
humª_ba£_1024
;

536 ià(! (
İts
 & 
humª_ba£_1024
))

537 
İts
 |ğ
humª_B
;

539 *
num
 = 
	`humª_»adabË
 (
ouut_block_size
, 
buf
, 
İts
, 1, 1);

542 
h—d”
 = 
	`N_
("blocks");

545 ià(
	`a¥rštf
 (&
ûÎ
, 
	`_
("%s-%s"), 
num
, 
h—d”
) == -1)

546 
ûÎ
 = 
NULL
;

548 ià(
h—d”_mode
 =ğ
POSIX_MODE
 && 
cŞumns
[
cŞ
]->
f›ld
 =ğ
SIZE_FIELD
)

550 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

551 *
num
 = 
	`umaxto¡r
 (
ouut_block_size
, 
buf
);

554 ià(
	`a¥rštf
 (&
ûÎ
, 
	`_
("%s-%s"), 
num
, 
h—d”
) == -1)

555 
ûÎ
 = 
NULL
;

558 
ûÎ
 = 
	`¡rdup
 (
h—d”
);

560 ià(!
ûÎ
)

561 
	`x®loc_d›
 ();

563 
	`hide_´obËm©ic_ch¬s
 (
ûÎ
);

565 
bË
[
Äows
 - 1][
cŞ
] = 
ûÎ
;

567 
cŞumns
[
cŞ
]->
width
 = 
	`MAX
 (cŞumns[cŞ]->width, 
	`mbswidth
 (
ûÎ
, 0));

569 
	}
}

573 
boŞ
 
_GL_ATTRIBUTE_PURE


574 
	$£Ëùed_f¡y³
 (cÚ¡ *
f¡y³
)

576 cÚ¡ 
fs_ty³_li¡
 *
f¥
;

578 ià(
fs_£Ëù_li¡
 =ğ
NULL
 || 
f¡y³
 == NULL)

579  
Œue
;

580 
f¥
 = 
fs_£Ëù_li¡
; f¥; f¥ = f¥->
fs_Ãxt
)

581 ià(
	`STREQ
 (
f¡y³
, 
f¥
->
fs_Çme
))

582  
Œue
;

583  
çl£
;

584 
	}
}

588 
boŞ
 
_GL_ATTRIBUTE_PURE


589 
	$exşuded_f¡y³
 (cÚ¡ *
f¡y³
)

591 cÚ¡ 
fs_ty³_li¡
 *
f¥
;

593 ià(
fs_exşude_li¡
 =ğ
NULL
 || 
f¡y³
 == NULL)

594  
çl£
;

595 
f¥
 = 
fs_exşude_li¡
; f¥; f¥ = f¥->
fs_Ãxt
)

596 ià(
	`STREQ
 (
f¡y³
, 
f¥
->
fs_Çme
))

597  
Œue
;

598  
çl£
;

599 
	}
}

608 
	$f‹r_mouÁ_li¡
 ()

610 
mouÁ_’Œy
 *
me
;

613 
devli¡
 *
devli¡_h—d
 = 
NULL
;

616 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

618 
¡©
 
buf
;

619 
devli¡
 *devlist;

621 ià(-1 =ğ
	`¡©
 (
me
->
me_mouÁdœ
, &
buf
))

628 ià(
	`¡rchr
 (
me
->
me_devÇme
, '/'))

631 
devli¡
 = 
devli¡_h—d
; devli¡; devli¡ = devli¡->
Ãxt
)

632 ià(
devli¡
->
dev_num
 =ğ
buf
.
¡_dev
)

635 ià(
devli¡
)

638 iàĞ!
	`¡rchr
 (
devli¡
->
me
->
me_devÇme
, '/')

639 || ( 
	`¡¾’
 (
devli¡
->
me
->
me_mouÁdœ
)

640 > 
	`¡¾’
 (
me
->
me_mouÁdœ
)))

643 
devli¡
->
me
 = me;

651 
devli¡
 = 
	`xm®loc
 ( *devlist);

652 
devli¡
->
me
 = me;

653 
devli¡
->
dev_num
 = 
buf
.
¡_dev
;

654 
devli¡
->
Ãxt
 = 
devli¡_h—d
;

655 
devli¡_h—d
 = 
devli¡
;

659 
mouÁ_li¡
 = 
NULL
;

660 
devli¡_h—d
)

663 
me
 = 
devli¡_h—d
->me;

664 
me
->
me_Ãxt
 = 
mouÁ_li¡
;

665 
mouÁ_li¡
 = 
me
;

667 
devli¡
 *devli¡ = 
devli¡_h—d
->
Ãxt
;

668 
	`ä“
 (
devli¡_h—d
);

669 
devli¡_h—d
 = 
devli¡
;

671 
	}
}

677 
boŞ


678 
	$known_v®ue
 (
uštmax_t
 
n
)

680  
n
 < 
UINTMAX_MAX
 - 1;

681 
	}
}

691 
	$df_»adabË
 (
boŞ
 
Ãg©ive
, 
uštmax_t
 
n
, *
buf
,

692 
uštmax_t
 
šput_un™s
, uštmax_ˆ
ouut_un™s
)

694 ià(! 
	`known_v®ue
 (
n
è&& !
Ãg©ive
)

698 *
p
 = 
	`humª_»adabË
 (
Ãg©ive
 ? -
n
 :‚, 
buf
 +‚egative,

699 
humª_ouut_İts
, 
šput_un™s
, 
ouut_un™s
);

700 ià(
Ãg©ive
)

701 *--
p
 = '-';

702  
p
;

704 
	}
}

707 
	#LOG_EQ
(
a
, 
b
è(!×è=ğ!(b))

	)

714 
	$add_ušt_w™h_Ãg_æag
 (
uštmax_t
 *
de¡
, 
boŞ
 *
de¡_Ãg
,

715 
uštmax_t
 
¤c
, 
boŞ
 
¤c_Ãg
)

717 ià(
	`LOG_EQ
 (*
de¡_Ãg
, 
¤c_Ãg
))

719 *
de¡
 +ğ
¤c
;

723 ià(*
de¡_Ãg
)

724 *
de¡
 = -*dest;

726 ià(
¤c_Ãg
)

727 
¤c
 = -src;

729 ià(
¤c
 < *
de¡
)

730 *
de¡
 -ğ
¤c
;

733 *
de¡
 = 
¤c
 - *dest;

734 *
de¡_Ãg
 = 
¤c_Ãg
;

737 ià(*
de¡_Ãg
)

738 *
de¡
 = -*dest;

739 
	}
}

744 
boŞ
 
_GL_ATTRIBUTE_PURE


745 
	$has_uuid_suffix
 (cÚ¡ *
s
)

747 
size_t
 
Ën
 = 
	`¡¾’
 (
s
);

748  (36 < 
Ën


749 && 
	`¡r¥n
 (
s
 + 
Ën
 - 36, "-0123456789abcdefABCDEF") == 36);

750 
	}
}

755 
	$g‘_f›ld_v®ues
 (
f›ld_v®ues_t
 *
bv
,

756 
f›ld_v®ues_t
 *
iv
,

757 cÚ¡ 
fs_u§ge
 *
fsu
)

760 
iv
->
šput_un™s
 = iv->
ouut_un™s
 = 1;

761 
iv
->
tÙ®
 = 
fsu
->
fsu_fes
;

762 
iv
->
avaabË
 = iv->
avaabË_to_roÙ
 = 
fsu
->
fsu_fä“
;

763 
iv
->
Ãg©e_avaabË
 = 
çl£
;

765 
iv
->
u£d
 = 
UINTMAX_MAX
;

766 
iv
->
Ãg©e_u£d
 = 
çl£
;

767 ià(
	`known_v®ue
 (
iv
->
tÙ®
è&& known_v®u(iv->
avaabË_to_roÙ
))

769 
iv
->
u£d
 = iv->
tÙ®
 - iv->
avaabË_to_roÙ
;

770 
iv
->
Ãg©e_u£d
 = (iv->
tÙ®
 < iv->
avaabË_to_roÙ
);

774 
bv
->
šput_un™s
 = 
fsu
->
fsu_blocksize
;

775 
bv
->
ouut_un™s
 = 
ouut_block_size
;

776 
bv
->
tÙ®
 = 
fsu
->
fsu_blocks
;

777 
bv
->
avaabË
 = 
fsu
->
fsu_bava
;

778 
bv
->
avaabË_to_roÙ
 = 
fsu
->
fsu_bä“
;

779 
bv
->
Ãg©e_avaabË
 = (
fsu
->
fsu_bava_tİ_b™_£t


780 && 
	`known_v®ue
 (
fsu
->
fsu_bava
));

782 
bv
->
u£d
 = 
UINTMAX_MAX
;

783 
bv
->
Ãg©e_u£d
 = 
çl£
;

784 ià(
	`known_v®ue
 (
bv
->
tÙ®
è&& known_v®u(bv->
avaabË_to_roÙ
))

786 
bv
->
u£d
 = bv->
tÙ®
 - bv->
avaabË_to_roÙ
;

787 
bv
->
Ãg©e_u£d
 = (bv->
tÙ®
 < bv->
avaabË_to_roÙ
);

789 
	}
}

793 
	$add_to_g¿nd_tÙ®
 (
f›ld_v®ues_t
 *
bv
, f›ld_v®ues_ˆ*
iv
)

795 ià(
	`known_v®ue
 (
iv
->
tÙ®
))

796 
g¿nd_fsu
.
fsu_fes
 +ğ
iv
->
tÙ®
;

797 ià(
	`known_v®ue
 (
iv
->
avaabË
))

798 
g¿nd_fsu
.
fsu_fä“
 +ğ
iv
->
avaabË
;

800 ià(
	`known_v®ue
 (
bv
->
tÙ®
))

801 
g¿nd_fsu
.
fsu_blocks
 +ğ
bv
->
šput_un™s
 * bv->
tÙ®
;

802 ià(
	`known_v®ue
 (
bv
->
avaabË_to_roÙ
))

803 
g¿nd_fsu
.
fsu_bä“
 +ğ
bv
->
šput_un™s
 * bv->
avaabË_to_roÙ
;

804 ià(
	`known_v®ue
 (
bv
->
avaabË
))

805 
	`add_ušt_w™h_Ãg_æag
 (&
g¿nd_fsu
.
fsu_bava
,

806 &
g¿nd_fsu
.
fsu_bava_tİ_b™_£t
,

807 
bv
->
šput_un™s
 * bv->
avaabË
,

808 
bv
->
Ãg©e_avaabË
);

809 
	}
}

827 
	$g‘_dev
 (cÚ¡ *
disk
, cÚ¡ *
mouÁ_pošt
,

828 cÚ¡ *
¡©_fe
, cÚ¡ *
f¡y³
,

829 
boŞ
 
me_dummy
, boŞ 
me_»mÙe
,

830 cÚ¡ 
fs_u§ge
 *
fÜû_fsu
,

831 
boŞ
 
´oûss_®l
)

833 ià(
me_»mÙe
 && 
show_loÿl_fs
)

836 ià(
me_dummy
 && !
show_®l_fs
 && !
show_li¡ed_fs
)

839 ià(!
	`£Ëùed_f¡y³
 (
f¡y³
è|| 
	`exşuded_f¡y³
 (fstype))

846 ià(!
¡©_fe
)

847 
¡©_fe
 = 
mouÁ_pošt
 ? mouÁ_pošˆ: 
disk
;

849 
fs_u§ge
 
fsu
;

850 ià(
fÜû_fsu
)

851 
fsu
 = *
fÜû_fsu
;

852 ià(
	`g‘_fs_u§ge
 (
¡©_fe
, 
disk
, &
fsu
))

854 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙe
 (
¡©_fe
));

855 
ex™_¡©us
 = 
EXIT_FAILURE
;

859 ià(
fsu
.
fsu_blocks
 =ğ0 && !
show_®l_fs
 && !
show_li¡ed_fs
)

862 ià(! 
fÜû_fsu
)

863 
fe_sy¡ems_´oûs£d
 = 
Œue
;

865 
	`®loc_bË_row
 ();

867 ià(! 
disk
)

868 
disk
 = "-";

870 *
dev_Çme
 = 
	`x¡rdup
 (
disk
);

871 *
»sŞved_dev
;

879 ià(
´oûss_®l


880 && 
	`has_uuid_suffix
 (
dev_Çme
)

881 && (
»sŞved_dev
 = 
	`ÿnÚiÿlize_f’ame_mode
 (
dev_Çme
, 
CAN_EXISTING
)))

883 
	`ä“
 (
dev_Çme
);

884 
dev_Çme
 = 
»sŞved_dev
;

887 ià(! 
f¡y³
)

888 
f¡y³
 = "-";

890 
f›ld_v®ues_t
 
block_v®ues
;

891 
f›ld_v®ues_t
 
šode_v®ues
;

892 
	`g‘_f›ld_v®ues
 (&
block_v®ues
, &
šode_v®ues
, &
fsu
);

895 ià(
´št_g¿nd_tÙ®
 && ! 
fÜû_fsu
)

896 
	`add_to_g¿nd_tÙ®
 (&
block_v®ues
, &
šode_v®ues
);

898 
size_t
 
cŞ
;

899 
cŞ
 = 0; cŞ < 
ncŞumns
; col++)

901 
buf
[
LONGEST_HUMAN_READABLE
 + 2];

902 *
ûÎ
;

904 
f›ld_v®ues_t
 *
v
;

905 
cŞumns
[
cŞ
]->
f›ld_ty³
)

907 
BLOCK_FLD
:

908 
v
 = &
block_v®ues
;

910 
INODE_FLD
:

911 
v
 = &
šode_v®ues
;

913 
OTHER_FLD
:

914 
v
 = 
NULL
;

917 
	`as£¹
 (!"bad field_type");

920 
cŞumns
[
cŞ
]->
f›ld
)

922 
SOURCE_FIELD
:

923 
ûÎ
 = 
	`x¡rdup
 (
dev_Çme
);

926 
FSTYPE_FIELD
:

927 
ûÎ
 = 
	`x¡rdup
 (
f¡y³
);

930 
SIZE_FIELD
:

931 
ITOTAL_FIELD
:

932 
ûÎ
 = 
	`x¡rdup
 (
	`df_»adabË
 (
çl£
, 
v
->
tÙ®
, 
buf
,

933 
v
->
šput_un™s
, v->
ouut_un™s
));

936 
USED_FIELD
:

937 
IUSED_FIELD
:

938 
ûÎ
 = 
	`x¡rdup
 (
	`df_»adabË
 (
v
->
Ãg©e_u£d
, v->
u£d
, 
buf
,

939 
v
->
šput_un™s
, v->
ouut_un™s
));

942 
AVAIL_FIELD
:

943 
IAVAIL_FIELD
:

944 
ûÎ
 = 
	`x¡rdup
 (
	`df_»adabË
 (
v
->
Ãg©e_avaabË
, v->
avaabË
, 
buf
,

945 
v
->
šput_un™s
, v->
ouut_un™s
));

948 
PCENT_FIELD
:

949 
IPCENT_FIELD
:

951 
pù
 = -1;

952 ià(! 
	`known_v®ue
 (
v
->
u£d
è|| ! known_v®u(v->
avaabË
))

954 ià(!
v
->
Ãg©e_u£d


955 && 
v
->
u£d
 <ğ
	`TYPE_MAXIMUM
 (
uštmax_t
) / 100

956 && 
v
->
u£d
 + v->
avaabË
 != 0

957 && (
v
->
u£d
 + v->
avaabË
 < v->used)

958 =ğ
v
->
Ãg©e_avaabË
)

960 
uštmax_t
 
u100
 = 
v
->
u£d
 * 100;

961 
uštmax_t
 
nÚroÙ_tÙ®
 = 
v
->
u£d
 + v->
avaabË
;

962 
pù
 = 
u100
 / 
nÚroÙ_tÙ®
 + (u100 %‚onroot_total != 0);

971 
u
 = 
v
->
Ãg©e_u£d
 ? - (è- v->
u£d
 : v->used;

972 
a
 = 
v
->
Ãg©e_avaabË


973 ? - (è- 
v
->
avaabË
 : v->available;

974 
nÚroÙ_tÙ®
 = 
u
 + 
a
;

975 ià(
nÚroÙ_tÙ®
)

977 
lù
 = 
pù
 = 
u
 * 100 / 
nÚroÙ_tÙ®
;

978 
ù
 = 
lù
;

982 ià(
ù
 - 1 < 
pù
 &&…ct <= ipct + 1)

983 
pù
 = 
ù
 + (ipct <…ct);

987 ià(0 <ğ
pù
)

989 ià(
	`a¥rštf
 (&
ûÎ
, "%.0f%%", 
pù
) == -1)

990 
ûÎ
 = 
NULL
;

993 
ûÎ
 = 
	`¡rdup
 ("-");

995 ià(!
ûÎ
)

996 
	`x®loc_d›
 ();

1001 
TARGET_FIELD
:

1002 #ifdeà
HIDE_AUTOMOUNT_PREFIX


1006 ià(
	`STRNCMP_LIT
 (
mouÁ_pošt
, "/auto/") == 0)

1007 
mouÁ_pošt
 += 5;

1008 ià(
	`STRNCMP_LIT
 (
mouÁ_pošt
, "/tmp_mnt/") == 0)

1009 
mouÁ_pošt
 += 8;

1011 
ûÎ
 = 
	`x¡rdup
 (
mouÁ_pošt
);

1015 
	`as£¹
 (!"unhandled field");

1018 ià(!
ûÎ
)

1019 
	`as£¹
 (!"empty cell");

1021 
	`hide_´obËm©ic_ch¬s
 (
ûÎ
);

1022 
cŞumns
[
cŞ
]->
width
 = 
	`MAX
 (cŞumns[cŞ]->width, 
	`mbswidth
 (
ûÎ
, 0));

1023 
bË
[
Äows
 - 1][
cŞ
] = 
ûÎ
;

1025 
	`ä“
 (
dev_Çme
);

1026 
	}
}

1030 
boŞ


1031 
	$g‘_disk
 (cÚ¡ *
disk
)

1033 
mouÁ_’Œy
 cÚ¡ *
me
;

1034 
mouÁ_’Œy
 cÚ¡ *
be¡_m©ch
 = 
NULL
;

1036 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

1037 ià(
	`STREQ
 (
disk
, 
me
->
me_devÇme
))

1038 
be¡_m©ch
 = 
me
;

1040 ià(
be¡_m©ch
)

1042 
	`g‘_dev
 (
be¡_m©ch
->
me_devÇme
, be¡_m©ch->
me_mouÁdœ
, 
NULL
,

1043 
be¡_m©ch
->
me_ty³
, be¡_m©ch->
me_dummy
,

1044 
be¡_m©ch
->
me_»mÙe
, 
NULL
, 
çl£
);

1045  
Œue
;

1048  
çl£
;

1049 
	}
}

1055 
	$g‘_pošt
 (cÚ¡ *
pošt
, cÚ¡ 
¡©
 *
¡©p
)

1057 
¡©
 
disk_¡©s
;

1058 
mouÁ_’Œy
 *
me
;

1059 
mouÁ_’Œy
 cÚ¡ *
be¡_m©ch
 = 
NULL
;

1064 *
»sŞved
 = 
	`ÿnÚiÿlize_fe_Çme
 (
pošt
);

1065 ià(
»sŞved
 &&„esolved[0] == '/')

1067 
size_t
 
»sŞved_Ën
 = 
	`¡¾’
 (
»sŞved
);

1068 
size_t
 
be¡_m©ch_Ën
 = 0;

1070 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

1071 ià(!
	`STREQ
 (
me
->
me_ty³
, "lofs")

1072 && (!
be¡_m©ch
 || be¡_m©ch->
me_dummy
 || !
me
->me_dummy))

1074 
size_t
 
Ën
 = 
	`¡¾’
 (
me
->
me_mouÁdœ
);

1075 ià(
be¡_m©ch_Ën
 <ğ
Ën
 &&†’ <ğ
»sŞved_Ën


1076 && (
Ën
 == 1

1077 || ((
Ën
 =ğ
»sŞved_Ën
 || 
»sŞved
[len] == '/')

1078 && 
	`STREQ_LEN
 (
me
->
me_mouÁdœ
, 
»sŞved
, 
Ën
))))

1080 
be¡_m©ch
 = 
me
;

1081 
be¡_m©ch_Ën
 = 
Ën
;

1085 
	`ä“
 (
»sŞved
);

1086 ià(
be¡_m©ch


1087 && (
	`¡©
 (
be¡_m©ch
->
me_mouÁdœ
, &
disk_¡©s
) != 0

1088 || 
disk_¡©s
.
¡_dev
 !ğ
¡©p
->st_dev))

1089 
be¡_m©ch
 = 
NULL
;

1091 ià(! 
be¡_m©ch
)

1092 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

1094 ià(
me
->
me_dev
 =ğ(
dev_t
) -1)

1096 ià(
	`¡©
 (
me
->
me_mouÁdœ
, &
disk_¡©s
) == 0)

1097 
me
->
me_dev
 = 
disk_¡©s
.
¡_dev
;

1103 ià(
”ºo
 =ğ
EIO
)

1105 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙe
 (
me
->
me_mouÁdœ
));

1106 
ex™_¡©us
 = 
EXIT_FAILURE
;

1110 
me
->
me_dev
 = (
dev_t
) -2;

1114 ià(
¡©p
->
¡_dev
 =ğ
me
->
me_dev


1115 && !
	`STREQ
 (
me
->
me_ty³
, "lofs")

1116 && (!
be¡_m©ch
 || be¡_m©ch->
me_dummy
 || !
me
->me_dummy))

1119 ià(
	`¡©
 (
me
->
me_mouÁdœ
, &
disk_¡©s
) != 0

1120 || 
disk_¡©s
.
¡_dev
 !ğ
me
->
me_dev
)

1121 
me
->
me_dev
 = (
dev_t
) -2;

1123 
be¡_m©ch
 = 
me
;

1127 ià(
be¡_m©ch
)

1128 
	`g‘_dev
 (
be¡_m©ch
->
me_devÇme
, be¡_m©ch->
me_mouÁdœ
, 
pošt
,

1129 
be¡_m©ch
->
me_ty³
, be¡_m©ch->
me_dummy
, be¡_m©ch->
me_»mÙe
,

1130 
NULL
, 
çl£
);

1138 *
mp
 = 
	`fšd_mouÁ_pošt
 (
pošt
, 
¡©p
);

1139 ià(
mp
)

1141 
	`g‘_dev
 (
NULL
, 
mp
, NULL, NULL, 
çl£
, false, NULL, false);

1142 
	`ä“
 (
mp
);

1145 
	}
}

1151 
	$g‘_’Œy
 (cÚ¡ *
Çme
, 
¡©
 cÚ¡ *
¡©p
)

1153 ià((
	`S_ISBLK
 (
¡©p
->
¡_mode
è|| 
	`S_ISCHR
 (statp->st_mode))

1154 && 
	`g‘_disk
 (
Çme
))

1157 
	`g‘_pošt
 (
Çme
, 
¡©p
);

1158 
	}
}

1164 
	$g‘_®l_’Œ›s
 ()

1166 
mouÁ_’Œy
 *
me
;

1168 ià(!
show_®l_fs
)

1169 
	`f‹r_mouÁ_li¡
 ();

1171 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

1172 
	`g‘_dev
 (
me
->
me_devÇme
, me->
me_mouÁdœ
, 
NULL
, me->
me_ty³
,

1173 
me
->
me_dummy
, me->
me_»mÙe
, 
NULL
, 
Œue
);

1174 
	}
}

1179 
	$add_fs_ty³
 (cÚ¡ *
f¡y³
)

1181 
fs_ty³_li¡
 *
f¥
;

1183 
f¥
 = 
	`xm®loc
 ( *fsp);

1184 
f¥
->
fs_Çme
 = (*è
f¡y³
;

1185 
f¥
->
fs_Ãxt
 = 
fs_£Ëù_li¡
;

1186 
fs_£Ëù_li¡
 = 
f¥
;

1187 
	}
}

1192 
	$add_exşuded_fs_ty³
 (cÚ¡ *
f¡y³
)

1194 
fs_ty³_li¡
 *
f¥
;

1196 
f¥
 = 
	`xm®loc
 ( *fsp);

1197 
f¥
->
fs_Çme
 = (*è
f¡y³
;

1198 
f¥
->
fs_Ãxt
 = 
fs_exşude_li¡
;

1199 
fs_exşude_li¡
 = 
f¥
;

1200 
	}
}

1203 
	$u§ge
 (
¡©us
)

1205 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

1206 
	`em™_Œy_h–p
 ();

1209 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]...\n"), 
´og¿m_Çme
);

1210 
	`åuts
 (
	`_
("\
 infÜm©iÚ‡bouˆthfsy¡em oÀwhichƒach FILE„esides,\n\
‡Î fsy¡em by deçuÉ.\n\
"), 
¡dout
);

1215 
	`em™_mªd©Üy_¬g_nÙe
 ();

1217 
	`åuts
 (
	`_
("\
-a, --®È inşuddummy fsy¡ems\n\
-B, --block-size=SIZE sÿË size by SIZE befÜ´štšghem. E.g.,\n\
'-BM'…ršt size š un™ oà1,048,576 by‹s.\n\
 SIZE fÜm© b–ow.\n\
--tÙ®…roduû‡ g¿ndÙ®\n\
-h, --humª-»adabË…ršˆsize š humª„—dabË fÜm© (e.g., 1K 234M 2G)\
\n\
-H, --s˜†ikewi£, buˆu£…ow” oà1000‚Ù 1024\n\
"), 
¡dout
);

1227 
	`åuts
 (
	`_
("\
-i, --šode †i¡ inodšfÜm©iÚ in¡—d oàblock u§ge\n\
-k†ik--block-size=1K\n\
-l, --loÿÈ†im™†i¡šgØloÿÈfsy¡ems\n\
--no-synø dØnÙ invoksynøbefÜg‘tšg u§gšfØ(deçuÉ)\
\n\
"), 
¡dout
);

1234 
	`åuts
 (
	`_
("\
--ouut[=FIELD_LIST] u£houuˆfÜm© defšed by FIELD_LIST,\n\
…ršˆ®Èf›ld iàFIELD_LIST i om™‹d.\n\
-P, --pÜb™y u£hPOSIX ouuˆfÜm©\n\
--synø invoksynøbefÜg‘tšg u§gšfo\n\
-t, --ty³=TYPE†im™†i¡šgØfsy¡em oàty³ TYPE\n\
-T, --´št-ty³…ršˆfsy¡emy³\n\
-x, --exşude-ty³=TYPE†im™†i¡šgØfsy¡em nÙ oàty³ TYPE\n\
-v (ignÜed)\n\
"), 
¡dout
);

1244 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

1245 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

1246 
	`em™_blocksize_nÙe
 ("DF");

1247 
	`em™_size_nÙe
 ();

1248 
	`åuts
 (
	`_
("\n\
_LIST i ¨comma-£·¿‹d†i¡ oàcŞumn tØbšşuded. V®id\n\
‚ame ¬e: 'sourû', 'f¡y³', '™Ù®', 'iu£d', 'Ÿva', 'ûÁ',\n\
'size', 'u£d', 'ava', 'pûÁ'‡nd 'rg‘' (£šfØ·ge).\n\
"), 
¡dout
);

1253 
	`em™_ªcÏry_šfo
 ();

1255 
	`ex™
 (
¡©us
);

1256 
	}
}

1259 
	$maš
 (
¬gc
, **
¬gv
)

1261 
¡©
 *
¡©s
 
	`IF_LINT
 ( = 0);

1263 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1264 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1265 
	`£oÿË
 (
LC_ALL
, "");

1266 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1267 
	`‹xtdomaš
 (
PACKAGE
);

1269 
	`©ex™
 (
şo£_¡dout
);

1271 
fs_£Ëù_li¡
 = 
NULL
;

1272 
fs_exşude_li¡
 = 
NULL
;

1273 
show_®l_fs
 = 
çl£
;

1274 
show_li¡ed_fs
 = 
çl£
;

1275 
humª_ouut_İts
 = -1;

1276 
´št_ty³
 = 
çl£
;

1277 
fe_sy¡ems_´oûs£d
 = 
çl£
;

1278 
ex™_¡©us
 = 
EXIT_SUCCESS
;

1279 
´št_g¿nd_tÙ®
 = 
çl£
;

1280 
g¿nd_fsu
.
fsu_blocksize
 = 1;

1283 
boŞ
 
posix_fÜm©
 = 
çl£
;

1285 cÚ¡ *
msg_mut_exş
 = 
	`_
("options %s‡nd %s‡re mutuallyƒxclusive");

1287 
Œue
)

1289 
oi
 = -1;

1290 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "aB:iF:hHklmPTt:vx:", 
lÚg_İtiÚs
,

1291 &
oi
);

1292 ià(
c
 == -1)

1295 
c
)

1298 
show_®l_fs
 = 
Œue
;

1302 
¡¹Ş_”rÜ
 
e
 = 
	`humª_İtiÚs
 (
İrg
, &
humª_ouut_İts
,

1303 &
ouut_block_size
);

1304 ià(
e
 !ğ
LONGINT_OK
)

1305 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

1309 ià(
h—d”_mode
 =ğ
OUTPUT_MODE
)

1311 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-i", "--output");

1312 
	`u§ge
 (
EXIT_FAILURE
);

1314 
h—d”_mode
 = 
INODES_MODE
;

1317 
humª_ouut_İts
 = 
humª_autosÿË
 | 
humª_SI
 | 
humª_ba£_1024
;

1318 
ouut_block_size
 = 1;

1321 
humª_ouut_İts
 = 
humª_autosÿË
 | 
humª_SI
;

1322 
ouut_block_size
 = 1;

1325 
humª_ouut_İts
 = 0;

1326 
ouut_block_size
 = 1024;

1329 
show_loÿl_fs
 = 
Œue
;

1331 
MEGABYTES_OPTION
:

1335 
	`”rÜ
 (0, 0, "%s%s", 
	`_
("warning: "),

1336 
	`_
("long option '--megabytes' is deprecated"

1339 
humª_ouut_İts
 = 0;

1340 
ouut_block_size
 = 1024 * 1024;

1343 ià(
h—d”_mode
 =ğ
OUTPUT_MODE
)

1345 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-T", "--output");

1346 
	`u§ge
 (
EXIT_FAILURE
);

1348 
´št_ty³
 = 
Œue
;

1351 ià(
h—d”_mode
 =ğ
OUTPUT_MODE
)

1353 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-P", "--output");

1354 
	`u§ge
 (
EXIT_FAILURE
);

1356 
posix_fÜm©
 = 
Œue
;

1358 
SYNC_OPTION
:

1359 
»quœe_sync
 = 
Œue
;

1361 
NO_SYNC_OPTION
:

1362 
»quœe_sync
 = 
çl£
;

1368 
	`add_fs_ty³
 (
İrg
);

1375 
	`add_exşuded_fs_ty³
 (
İrg
);

1378 
OUTPUT_OPTION
:

1379 ià(
h—d”_mode
 =ğ
INODES_MODE
)

1381 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-i", "--output");

1382 
	`u§ge
 (
EXIT_FAILURE
);

1384 ià(
posix_fÜm©
 && 
h—d”_mode
 =ğ
DEFAULT_MODE
)

1386 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-P", "--output");

1387 
	`u§ge
 (
EXIT_FAILURE
);

1389 ià(
´št_ty³
)

1391 
	`”rÜ
 (0, 0, 
msg_mut_exş
, "-T", "--output");

1392 
	`u§ge
 (
EXIT_FAILURE
);

1394 
h—d”_mode
 = 
OUTPUT_MODE
;

1395 ià(
İrg
)

1396 
	`decode_ouut_¬g
 (
İrg
);

1399 
TOTAL_OPTION
:

1400 
´št_g¿nd_tÙ®
 = 
Œue
;

1403 
ÿ£_GETOPT_HELP_CHAR
;

1404 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1407 
	`u§ge
 (
EXIT_FAILURE
);

1411 ià(
humª_ouut_İts
 == -1)

1413 ià(
posix_fÜm©
)

1415 
humª_ouut_İts
 = 0;

1416 
ouut_block_size
 = (
	`g‘’v
 ("POSIXLY_CORRECT") ? 512 : 1024);

1419 
	`humª_İtiÚs
 (
	`g‘’v
 ("DF_BLOCK_SIZE"),

1420 &
humª_ouut_İts
, &
ouut_block_size
);

1423 ià(
h—d”_mode
 =ğ
INODES_MODE
 || h—d”_mod=ğ
OUTPUT_MODE
)

1425 ià(
humª_ouut_İts
 & 
humª_autosÿË
)

1426 
h—d”_mode
 = 
HUMAN_MODE
;

1427 ià(
posix_fÜm©
)

1428 
h—d”_mode
 = 
POSIX_MODE
;

1432 
boŞ
 
m©ch
 = 
çl£
;

1433 
fs_ty³_li¡
 *
fs_šş
;

1434 
fs_šş
 = 
fs_£Ëù_li¡
; fs_šş; fs_šş = fs_šş->
fs_Ãxt
)

1436 
fs_ty³_li¡
 *
fs_exş
;

1437 
fs_exş
 = 
fs_exşude_li¡
; fs_exş; fs_exş = fs_exş->
fs_Ãxt
)

1439 ià(
	`STREQ
 (
fs_šş
->
fs_Çme
, 
fs_exş
->fs_name))

1441 
	`”rÜ
 (0, 0,

1442 
	`_
("file systemype %s both selected‡ndƒxcluded"),

1443 
	`quÙe
 (
fs_šş
->
fs_Çme
));

1444 
m©ch
 = 
Œue
;

1449 ià(
m©ch
)

1450 
	`ex™
 (
EXIT_FAILURE
);

1453 ià(
İtšd
 < 
¬gc
)

1455 
i
;

1460 
¡©s
 = 
	`xnm®loc
 (
¬gc
 - 
İtšd
,  *stats);

1461 
i
 = 
İtšd
; i < 
¬gc
; ++i)

1465 
fd
 = 
	`İ’
 (
¬gv
[
i
], 
O_RDONLY
 | 
O_NOCTTY
);

1466 ià((
fd
 < 0 || 
	`f¡©
 (fd, &
¡©s
[
i
 - 
İtšd
]))

1467 && 
	`¡©
 (
¬gv
[
i
], &
¡©s
[˜- 
İtšd
]))

1469 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙe
 (
¬gv
[
i
]));

1470 
ex™_¡©us
 = 
EXIT_FAILURE
;

1471 
¬gv
[
i
] = 
NULL
;

1473 ià(0 <ğ
fd
)

1474 
	`şo£
 (
fd
);

1478 
mouÁ_li¡
 =

1479 
	`»ad_fe_sy¡em_li¡
 ((
fs_£Ëù_li¡
 !ğ
NULL


1480 || 
fs_exşude_li¡
 !ğ
NULL


1481 || 
´št_ty³


1482 || 
f›ld_d©a
[
FSTYPE_FIELD
].
u£d


1483 || 
show_loÿl_fs
));

1485 ià(
mouÁ_li¡
 =ğ
NULL
)

1491 
¡©us
 = 0;

1492 iàĞ! (
İtšd
 < 
¬gc
)

1493 || (
show_®l_fs


1494 || 
show_loÿl_fs


1495 || 
fs_£Ëù_li¡
 !ğ
NULL


1496 || 
fs_exşude_li¡
 !ğ
NULL
))

1498 
¡©us
 = 
EXIT_FAILURE
;

1500 cÚ¡ *
w¬nšg
 = (
¡©us
 =ğ0 ? 
	`_
("Warning: ") : "");

1501 
	`”rÜ
 (
¡©us
, 
”ºo
, "%s%s", 
w¬nšg
,

1502 
	`_
("cannot„eadable of mounted file systems"));

1505 ià(
»quœe_sync
)

1506 
	`sync
 ();

1508 
	`g‘_f›ld_li¡
 ();

1509 
	`g‘_h—d”
 ();

1511 ià(
İtšd
 < 
¬gc
)

1513 
i
;

1516 
show_li¡ed_fs
 = 
Œue
;

1518 
i
 = 
İtšd
; i < 
¬gc
; ++i)

1519 ià(
¬gv
[
i
])

1520 
	`g‘_’Œy
 (
¬gv
[
i
], &
¡©s
[˜- 
İtšd
]);

1523 
	`g‘_®l_’Œ›s
 ();

1525 ià(
fe_sy¡ems_´oûs£d
)

1527 ià(
´št_g¿nd_tÙ®
)

1528 
	`g‘_dev
 ("total",

1529 (
f›ld_d©a
[
SOURCE_FIELD
].
u£d
 ? "-" : "total"),

1530 
NULL
, NULL, 
çl£
, f®£, &
g¿nd_fsu
, false);

1532 
	`´št_bË
 ();

1538 ià(
ex™_¡©us
 =ğ
EXIT_SUCCESS
)

1539 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("no file systems…rocessed"));

1542 
	`IF_LINT
 (
	`ä“
 (
cŞumns
));

1544 
	`ex™
 (
ex™_¡©us
);

1545 
	}
}

	@dircolors.c

18 
	~<cÚfig.h
>

20 
	~<sys/ty³s.h
>

21 
	~<g‘İt.h
>

23 
	~"sy¡em.h
"

24 
	~"dœcŞÜs.h
"

25 
	~"c-¡rÿ£.h
"

26 
	~"”rÜ.h
"

27 
	~"ob¡ack.h
"

28 
	~"quÙe.h
"

29 
	~"¡dio--.h
"

30 
	~"x¡ºdup.h
"

33 
	#PROGRAM_NAME
 "dœcŞÜs"

	)

35 
	#AUTHORS
 
	`´İ”_Çme
 ("H. P‘” Anvš")

	)

37 
	#ob¡ack_chunk_®loc
 
m®loc


	)

38 
	#ob¡ack_chunk_ä“
 
ä“


	)

40 
	eSh–l_syÁax


42 
	mSHELL_SYNTAX_BOURNE
,

43 
	mSHELL_SYNTAX_C
,

44 
	mSHELL_SYNTAX_UNKNOWN


47 
	#APPEND_CHAR
(
C
è
	`ob¡ack_1grow
 (&
lsc_ob¡ack
, C)

	)

48 
	#APPEND_TWO_CHAR_STRING
(
S
) \

51 
	`APPEND_CHAR
 (
S
[0]); \

52 
	`APPEND_CHAR
 (
S
[1]); \

54 0)

	)

58 
ob¡ack
 
	glsc_ob¡ack
;

60 cÚ¡ *cÚ¡ 
	g¦ack_codes
[] =

67 "MULTIHARDLINK", "CLRTOEOL", 
NULL


70 cÚ¡ *cÚ¡ 
	gls_codes
[] =

74 "su", "su", "sg", "sg", "¡", "ow", "ow", "tw", "tw", "ÿ", "mh", "ş", 
NULL


76 
v”ify
 (
ARRAY_CARDINALITY
 (
¦ack_codes
è=ğARRAY_CARDINALITY (
ls_codes
));

78 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

80 {"bouºe-sh–l", 
no_¬gum’t
, 
NULL
, 'b'},

81 {"sh", 
no_¬gum’t
, 
NULL
, 'b'},

82 {"csh", 
no_¬gum’t
, 
NULL
, 'c'},

83 {"c-sh–l", 
no_¬gum’t
, 
NULL
, 'c'},

84 {"´št-d©aba£", 
no_¬gum’t
, 
NULL
, 'p'},

85 {
GETOPT_HELP_OPTION_DECL
},

86 {
GETOPT_VERSION_OPTION_DECL
},

87 {
NULL
, 0, NULL, 0}

91 
	$u§ge
 (
¡©us
)

93 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

94 
	`em™_Œy_h–p
 ();

97 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]\n"), 
´og¿m_Çme
);

98 
	`åuts
 (
	`_
("\
 commªd tØ£ˆthLS_COLORSƒnvœÚm’ˆv¬ŸbË.\n\
\n\
 fÜm© oàouut:\n\
-b, --sh, --bouºe-sh–È ouuˆBouºsh–ÈcodtØ£ˆLS_COLORS\n\
-c, --csh, --c-sh–È ouuˆC sh–ÈcodtØ£ˆLS_COLORS\n\
-p, --´št-d©aba£ ouuˆdeçuÉs\n\
"), 
¡dout
);

106 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

107 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

108 
	`åuts
 (
	`_
("\
\n\
 FILE i ¥ecif›d,„—d iˆtØd‘”mšwhich cŞÜ tØu£ fÜ which\n\
y³ ªdƒx‹nsiÚs. Oth”wi£,‡…»comped d©aba£ i u£d.\n\
 d‘a ÚhfÜm© oàthe£ fes,„uÀ'dœcŞÜ --´št-d©aba£'.\n\
"), 
¡dout
);

114 
	`em™_ªcÏry_šfo
 ();

117 
	`ex™
 (
¡©us
);

118 
	}
}

123 
Sh–l_syÁax


124 
	$guess_sh–l_syÁax
 ()

126 *
sh–l
;

128 
sh–l
 = 
	`g‘’v
 ("SHELL");

129 ià(
sh–l
 =ğ
NULL
 || *shell == '\0')

130  
SHELL_SYNTAX_UNKNOWN
;

132 
sh–l
 = 
	`Ï¡_compÚ’t
 (shell);

134 ià(
	`STREQ
 (
sh–l
, "csh") || STREQ (shell, "tcsh"))

135  
SHELL_SYNTAX_C
;

137  
SHELL_SYNTAX_BOURNE
;

138 
	}
}

141 
	$·r£_lše
 (cÚ¡ *
lše
, **
keywÜd
, **
¬g
)

143 cÚ¡ *
p
;

144 cÚ¡ *
keywÜd_¡¬t
;

145 cÚ¡ *
¬g_¡¬t
;

147 *
keywÜd
 = 
NULL
;

148 *
¬g
 = 
NULL
;

150 
p
 = 
lše
; 
	`is¥aû
 (
	`to_uch¬
 (*p)); ++p)

154 ià(*
p
 == '\0' || *p == '#')

157 
keywÜd_¡¬t
 = 
p
;

159 !
	`is¥aû
 (
	`to_uch¬
 (*
p
)) && *p != '\0')

161 ++
p
;

164 *
keywÜd
 = 
	`x¡ºdup
 (
keywÜd_¡¬t
, 
p
 - keyword_start);

165 ià(*
p
 == '\0')

170 ++
p
;

172 
	`is¥aû
 (
	`to_uch¬
 (*
p
)));

174 ià(*
p
 == '\0' || *p == '#')

177 
¬g_¡¬t
 = 
p
;

179 *
p
 != '\0' && *p != '#')

180 ++
p
;

182 --
p
; 
	`is¥aû
 (
	`to_uch¬
 (*p)); --p)

184 ++
p
;

186 *
¬g
 = 
	`x¡ºdup
 (
¬g_¡¬t
, 
p
 -‡rg_start);

187 
	}
}

193 
	$­³nd_quÙed
 (cÚ¡ *
¡r
)

195 
boŞ
 
Ãed_back¦ash
 = 
Œue
;

197 *
¡r
 != '\0')

199 *
¡r
)

202 
	`APPEND_CHAR
 ('\'');

203 
	`APPEND_CHAR
 ('\\');

204 
	`APPEND_CHAR
 ('\'');

205 
Ãed_back¦ash
 = 
Œue
;

210 
Ãed_back¦ash
 = !need_backslash;

215 ià(
Ãed_back¦ash
)

216 
	`APPEND_CHAR
 ('\\');

220 
Ãed_back¦ash
 = 
Œue
;

224 
	`APPEND_CHAR
 (*
¡r
);

225 ++
¡r
;

227 
	}
}

236 
boŞ


237 
	$dc_·r£_¡»am
 (
FILE
 *
å
, cÚ¡ *
f’ame
)

239 
size_t
 
lše_numb”
 = 0;

240 cÚ¡ *
Ãxt_G_lše
 = 
G_lše
;

241 *
šput_lše
 = 
NULL
;

242 
size_t
 
šput_lše_size
 = 0;

243 cÚ¡ *
lše
;

244 cÚ¡ *
‹rm
;

245 
boŞ
 
ok
 = 
Œue
;

248 ’um { 
ST_TERMNO
, 
ST_TERMYES
, 
ST_TERMSURE
, 
ST_GLOBAL
 } 
¡©e
 = ST_GLOBAL;

251 
‹rm
 = 
	`g‘’v
 ("TERM");

252 ià(
‹rm
 =ğ
NULL
 || *term == '\0')

253 
‹rm
 = "none";

257 *
keywd
, *
¬g
;

258 
boŞ
 
uÄecognized
;

260 ++
lše_numb”
;

262 ià(
å
)

264 ià(
	`g‘lše
 (&
šput_lše
, &
šput_lše_size
, 
å
) <= 0)

266 
	`ä“
 (
šput_lše
);

269 
lše
 = 
šput_lše
;

273 ià(
Ãxt_G_lše
 =ğ
G_lše
 +  G_line)

275 
lše
 = 
Ãxt_G_lše
;

276 
Ãxt_G_lše
 +ğ
	`¡¾’
 (next_G_line) + 1;

279 
	`·r£_lše
 (
lše
, &
keywd
, &
¬g
);

281 ià(
keywd
 =ğ
NULL
)

284 ià(
¬g
 =ğ
NULL
)

286 
	`”rÜ
 (0, 0, 
	`_
("%s:%lu: invalid†ine; missing secondoken"),

287 
f’ame
, (è
lše_numb”
);

288 
ok
 = 
çl£
;

289 
	`ä“
 (
keywd
);

293 
uÄecognized
 = 
çl£
;

294 ià(
	`c_¡rÿ£cmp
 (
keywd
, "TERM") == 0)

296 ià(
	`STREQ
 (
¬g
, 
‹rm
))

297 
¡©e
 = 
ST_TERMSURE
;

298 ià(
¡©e
 !ğ
ST_TERMSURE
)

299 
¡©e
 = 
ST_TERMNO
;

303 ià(
¡©e
 =ğ
ST_TERMSURE
)

304 
¡©e
 = 
ST_TERMYES
;

306 ià(
¡©e
 !ğ
ST_TERMNO
)

308 ià(
keywd
[0] == '.')

310 
	`APPEND_CHAR
 ('*');

311 
	`­³nd_quÙed
 (
keywd
);

312 
	`APPEND_CHAR
 ('=');

313 
	`­³nd_quÙed
 (
¬g
);

314 
	`APPEND_CHAR
 (':');

316 ià(
keywd
[0] == '*')

318 
	`­³nd_quÙed
 (
keywd
);

319 
	`APPEND_CHAR
 ('=');

320 
	`­³nd_quÙed
 (
¬g
);

321 
	`APPEND_CHAR
 (':');

323 ià(
	`c_¡rÿ£cmp
 (
keywd
, "OPTIONS") == 0

324 || 
	`c_¡rÿ£cmp
 (
keywd
, "COLOR") == 0

325 || 
	`c_¡rÿ£cmp
 (
keywd
, "EIGHTBIT") == 0)

331 
i
;

333 
i
 = 0; 
¦ack_codes
[i] !ğ
NULL
; ++i)

334 ià(
	`c_¡rÿ£cmp
 (
keywd
, 
¦ack_codes
[
i
]) == 0)

337 ià(
¦ack_codes
[
i
] !ğ
NULL
)

339 
	`APPEND_TWO_CHAR_STRING
 (
ls_codes
[
i
]);

340 
	`APPEND_CHAR
 ('=');

341 
	`­³nd_quÙed
 (
¬g
);

342 
	`APPEND_CHAR
 (':');

346 
uÄecognized
 = 
Œue
;

352 
uÄecognized
 = 
Œue
;

356 ià(
uÄecognized
 && (
¡©e
 =ğ
ST_TERMSURE
 || s‹ =ğ
ST_TERMYES
))

358 
	`”rÜ
 (0, 0, 
	`_
("%s:%lu: unrecognized keyword %s"),

359 (
f’ame
 ? 
	`quÙe
 (f’ameè: 
	`_
("<internal>")),

360 (è
lše_numb”
, 
keywd
);

361 
ok
 = 
çl£
;

364 
	`ä“
 (
keywd
);

365 
	`ä“
 (
¬g
);

368  
ok
;

369 
	}
}

371 
boŞ


372 
	$dc_·r£_fe
 (cÚ¡ *
f’ame
)

374 
boŞ
 
ok
;

376 ià(! 
	`STREQ
 (
f’ame
, "-"è&& 
	`äeİ’
 (f’ame, "r", 
¡dš
è=ğ
NULL
)

378 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

379  
çl£
;

382 
ok
 = 
	`dc_·r£_¡»am
 (
¡dš
, 
f’ame
);

384 ià(
	`fşo£
 (
¡dš
) != 0)

386 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙe
 (
f’ame
));

387  
çl£
;

390  
ok
;

391 
	}
}

394 
	$maš
 (
¬gc
, **
¬gv
)

396 
boŞ
 
ok
 = 
Œue
;

397 
İtc
;

398 
Sh–l_syÁax
 
syÁax
 = 
SHELL_SYNTAX_UNKNOWN
;

399 
boŞ
 
´št_d©aba£
 = 
çl£
;

401 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

402 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

403 
	`£oÿË
 (
LC_ALL
, "");

404 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

405 
	`‹xtdomaš
 (
PACKAGE
);

407 
	`©ex™
 (
şo£_¡dout
);

409 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "bı", 
lÚg_İtiÚs
, 
NULL
)) != -1)

410 
İtc
)

413 
syÁax
 = 
SHELL_SYNTAX_BOURNE
;

417 
syÁax
 = 
SHELL_SYNTAX_C
;

421 
´št_d©aba£
 = 
Œue
;

424 
ÿ£_GETOPT_HELP_CHAR
;

426 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

429 
	`u§ge
 (
EXIT_FAILURE
);

432 
¬gc
 -ğ
İtšd
;

433 
¬gv
 +ğ
İtšd
;

437 ià(
´št_d©aba£
 && 
syÁax
 !ğ
SHELL_SYNTAX_UNKNOWN
)

439 
	`”rÜ
 (0, 0,

440 
	`_
("the optionso output dircolors' internal database‡nd\n"

442 
	`u§ge
 (
EXIT_FAILURE
);

445 ià(!
´št_d©aba£
 < 
¬gc
)

447 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[!
´št_d©aba£
]));

448 ià(
´št_d©aba£
)

449 
	`årštf
 (
¡d”r
, "%s\n",

450 
	`_
("file operands cannot be combined with "

452 
	`u§ge
 (
EXIT_FAILURE
);

455 ià(
´št_d©aba£
)

457 cÚ¡ *
p
 = 
G_lše
;

458 
p
 - 
G_lše
 <  G_line)

460 
	`puts
 (
p
);

461 
p
 +ğ
	`¡¾’
 (p) + 1;

467 ià(
syÁax
 =ğ
SHELL_SYNTAX_UNKNOWN
)

469 
syÁax
 = 
	`guess_sh–l_syÁax
 ();

470 ià(
syÁax
 =ğ
SHELL_SYNTAX_UNKNOWN
)

472 
	`”rÜ
 (
EXIT_FAILURE
, 0,

473 
	`_
("no SHELLƒnvironment variable,‡nd‚o shellype option given"));

477 
	`ob¡ack_š™
 (&
lsc_ob¡ack
);

478 ià(
¬gc
 == 0)

479 
ok
 = 
	`dc_·r£_¡»am
 (
NULL
, NULL);

481 
ok
 = 
	`dc_·r£_fe
 (
¬gv
[0]);

483 ià(
ok
)

485 
size_t
 
Ën
 = 
	`ob¡ack_objeù_size
 (&
lsc_ob¡ack
);

486 *
s
 = 
	`ob¡ack_fšish
 (&
lsc_ob¡ack
);

487 cÚ¡ *
´efix
;

488 cÚ¡ *
suffix
;

490 ià(
syÁax
 =ğ
SHELL_SYNTAX_BOURNE
)

492 
´efix
 = "LS_COLORS='";

493 
suffix
 = "';\nexport LS_COLORS\n";

497 
´efix
 = "setenv LS_COLORS '";

498 
suffix
 = "'\n";

500 
	`åuts
 (
´efix
, 
¡dout
);

501 
	`fwr™e
 (
s
, 1, 
Ën
, 
¡dout
);

502 
	`åuts
 (
suffix
, 
¡dout
);

506 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

507 
	}
}

	@dircolors.h

1 cÚ¡ 
	gG_lše
[] =

	@dirname.c

20 
	~<cÚfig.h
>

21 
	~<g‘İt.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

29 
	#PROGRAM_NAME
 "dœÇme"

	)

31 
	#AUTHORS
 \

32 
	`´İ”_Çme
 ("David MacKenzie"), \

33 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

35 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

37 {"z”o", 
no_¬gum’t
, 
NULL
, 'z'},

38 {
GETOPT_HELP_OPTION_DECL
},

39 {
GETOPT_VERSION_OPTION_DECL
},

40 {
NULL
, 0, NULL, 0}

44 
	$u§ge
 (
¡©us
)

46 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

47 
	`em™_Œy_h–p
 ();

50 
	`´štf
 (
	`_
("\
: %s [OPTION] NAME...\n\
"),

53 
´og¿m_Çme
);

54 
	`åuts
 (
	`_
("\
ƒach NAME w™h it Ï¡‚Ú-¦ash compÚ’ˆªd¿šg sÏshes\n\
; iàNAME cÚš nØ/'s, ouuˆ'.' (m—nšghcu¼’ˆdœeùÜy).\n\
\n\
"), 
¡dout
);

59 
	`åuts
 (
	`_
("\
-z, --z”Ø s•¬©ouuˆw™h NUL„©h”hª‚ewlše\n\
"), 
¡dout
);

62 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

63 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

64 
	`´štf
 (
	`_
("\
\n\
:\n\
%s /usr/bin/ -> \"/usr\"\n\
%s dir1/str dir2/str -> \"dir1\" followed by \"dir2\"\n\
%s stdio.h -> \".\"\n\
"),

71 
´og¿m_Çme
,…rogram_name,…rogram_name);

72 
	`em™_ªcÏry_šfo
 ();

74 
	`ex™
 (
¡©us
);

75 
	}
}

78 
	$maš
 (
¬gc
, **
¬gv
)

80 cÚ¡ 
dÙ
 = '.';

81 
boŞ
 
u£_nuls
 = 
çl£
;

82 cÚ¡ *
»suÉ
;

83 
size_t
 
Ën
;

85 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

86 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

87 
	`£oÿË
 (
LC_ALL
, "");

88 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

89 
	`‹xtdomaš
 (
PACKAGE
);

91 
	`©ex™
 (
şo£_¡dout
);

93 
Œue
)

95 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "z", 
lÚgİts
, 
NULL
);

97 ià(
c
 == -1)

100 
c
)

103 
u£_nuls
 = 
Œue
;

106 
ÿ£_GETOPT_HELP_CHAR
;

107 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

110 
	`u§ge
 (
EXIT_FAILURE
);

114 ià(
¬gc
 < 
İtšd
 + 1)

116 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

117 
	`u§ge
 (
EXIT_FAILURE
);

120 ; 
İtšd
 < 
¬gc
; optind++)

122 
»suÉ
 = 
¬gv
[
İtšd
];

123 
Ën
 = 
	`dœ_Ën
 (
»suÉ
);

125 ià(! 
Ën
)

127 
»suÉ
 = &
dÙ
;

128 
Ën
 = 1;

131 
	`fwr™e
 (
»suÉ
, 1, 
Ën
, 
¡dout
);

132 
	`putch¬
 (
u£_nuls
 ? '\0' :'\n');

135 
	`ex™
 (
EXIT_SUCCESS
);

136 
	}
}

	@du.c

26 
	~<cÚfig.h
>

27 
	~<g‘İt.h
>

28 
	~<sys/ty³s.h
>

29 
	~<as£¹.h
>

30 
	~"sy¡em.h
"

31 
	~"¬gm©ch.h
"

32 
	~"¬gv-™”.h
"

33 
	~"di-£t.h
"

34 
	~"”rÜ.h
"

35 
	~"exşude.h
"

36 
	~"årštáime.h
"

37 
	~"humª.h
"

38 
	~"mouÁli¡.h
"

39 
	~"quÙe.h
"

40 
	~"quÙ—rg.h
"

41 
	~"¡©-size.h
"

42 
	~"¡©-time.h
"

43 
	~"¡dio--.h
"

44 
	~"xás.h
"

45 
	~"x¡¹Ş.h
"

47 
boŞ
 
ás_debug
;

50 
	#PROGRAM_NAME
 "du"

	)

52 
	#AUTHORS
 \

53 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

54 
	`´İ”_Çme
 ("David MacKenzie"), \

55 
	`´İ”_Çme
 ("Paul Eggert"), \

56 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

58 #ià
DU_DEBUG


59 
	#FTS_CROSS_CHECK
(
Fts
è
	`ás_üoss_check
 (Fts)

	)

61 
	#FTS_CROSS_CHECK
(
Fts
)

	)

66 
di_£t
 *
	gdi_fes
;

69 
di_£t
 *
	gdi_mÁ
;

73 
size_t
 
	g´ev_Ëv–
;

76 
	sdušfo


79 
uštmax_t
 
	msize
;

83 
time¥ec
 
	mtmax
;

87 
šlše
 

88 
	$dušfo_š™
 (
dušfo
 *
a
)

90 
a
->
size
 = 0;

91 
a
->
tmax
.
tv_£c
 = 
	`TYPE_MINIMUM
 (
time_t
);

92 
a
->
tmax
.
tv_n£c
 = -1;

93 
	}
}

96 
šlše
 

97 
	$dušfo_£t
 (
dušfo
 *
a
, 
uštmax_t
 
size
, 
time¥ec
 
tmax
)

99 
a
->
size
 = size;

100 
a
->
tmax
 =max;

101 
	}
}

104 
šlše
 

105 
	$dušfo_add
 (
dušfo
 *
a
, dušfØcÚ¡ *
b
)

107 
uštmax_t
 
sum
 = 
a
->
size
 + 
b
->size;

108 
a
->
size
 =‡->siz<ğ
sum
 ? sum : 
UINTMAX_MAX
;

109 ià(
	`time¥ec_cmp
 (
a
->
tmax
, 
b
->tmax) < 0)

110 
a
->
tmax
 = 
b
->tmax;

111 
	}
}

114 
	sduËv–


117 
dušfo
 
	m’t
;

120 
dušfo
 
	msubdœ
;

124 
boŞ
 
	gİt_®l
 = 
çl£
;

128 
boŞ
 
	g­·»Á_size
 = 
çl£
;

131 
boŞ
 
	gİt_couÁ_®l
 = 
çl£
;

134 
boŞ
 
	ghash_®l
;

137 
boŞ
 
	gİt_nul_‹rmš©e_ouut
 = 
çl£
;

140 
boŞ
 
	g´št_g¿nd_tÙ®
 = 
çl£
;

143 
boŞ
 
	gİt_£·¿‹_dœs
 = 
çl£
;

148 
size_t
 
	gmax_d•th
 = 
SIZE_MAX
;

152 
štmax_t
 
	gİt_th»shŞd
 = 0;

155 
	ghumª_ouut_İts
;

158 
boŞ
 
	gİt_time
 = 
çl£
;

162 
	etime_ty³


164 
	mtime_mtime
,

165 
	mtime_ùime
,

166 
	mtime_©ime


169 
time_ty³
 
	gtime_ty³
 = 
time_mtime
;

172 cÚ¡ *
	gtime_¡yË
 = 
NULL
;

175 cÚ¡ *
	gtime_fÜm©
 = 
NULL
;

178 
uštmax_t
 
	gouut_block_size
;

181 
exşude
 *
	gexşude
;

184 
dušfo
 
	gtÙ_dui
;

186 
	#IS_DIR_TYPE
(
Ty³
) \

187 ((
Ty³
è=ğ
FTS_DP
 \

188 || (
Ty³
è=ğ
FTS_DNR
)

	)

194 
	mAPPARENT_SIZE_OPTION
 = 
CHAR_MAX
 + 1,

195 
	mEXCLUDE_OPTION
,

196 
	mFILES0_FROM_OPTION
,

197 
	mHUMAN_SI_OPTION
,

198 
	mFTS_DEBUG
,

199 
	mTIME_OPTION
,

200 
	mTIME_STYLE_OPTION


203 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

205 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

206 {"­·»Á-size", 
no_¬gum’t
, 
NULL
, 
APPARENT_SIZE_OPTION
},

207 {"block-size", 
»quœed_¬gum’t
, 
NULL
, 'B'},

208 {"by‹s", 
no_¬gum’t
, 
NULL
, 'b'},

209 {"couÁ-lšks", 
no_¬gum’t
, 
NULL
, 'l'},

211 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 'L'},

212 {"d”eã»nû-¬gs", 
no_¬gum’t
, 
NULL
, 'D'},

213 {"exşude", 
»quœed_¬gum’t
, 
NULL
, 
EXCLUDE_OPTION
},

214 {"exşude-äom", 
»quœed_¬gum’t
, 
NULL
, 'X'},

215 {"fes0-äom", 
»quœed_¬gum’t
, 
NULL
, 
FILES0_FROM_OPTION
},

216 {"humª-»adabË", 
no_¬gum’t
, 
NULL
, 'h'},

217 {"si", 
no_¬gum’t
, 
NULL
, 
HUMAN_SI_OPTION
},

218 {"max-d•th", 
»quœed_¬gum’t
, 
NULL
, 'd'},

219 {"nuÎ", 
no_¬gum’t
, 
NULL
, '0'},

220 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'P'},

221 {"Úe-fe-sy¡em", 
no_¬gum’t
, 
NULL
, 'x'},

222 {"£·¿‹-dœs", 
no_¬gum’t
, 
NULL
, 'S'},

223 {"summ¬ize", 
no_¬gum’t
, 
NULL
, 's'},

224 {"tÙ®", 
no_¬gum’t
, 
NULL
, 'c'},

225 {"th»shŞd", 
»quœed_¬gum’t
, 
NULL
, 't'},

226 {"time", 
İtiÚ®_¬gum’t
, 
NULL
, 
TIME_OPTION
},

227 {"time-¡yË", 
»quœed_¬gum’t
, 
NULL
, 
TIME_STYLE_OPTION
},

228 {
GETOPT_HELP_OPTION_DECL
},

229 {
GETOPT_VERSION_OPTION_DECL
},

230 {
NULL
, 0, NULL, 0}

233 cÚ¡ *cÚ¡ 
	gtime_¬gs
[] =

235 "©ime", "acûss", "u£", "ùime", "¡©us", 
NULL


237 
time_ty³
 cÚ¡ 
	gtime_ty³s
[] =

239 
time_©ime
,ime_©ime,ime_©ime, 
time_ùime
,ime_ctime

241 
ARGMATCH_VERIFY
 (
time_¬gs
, 
time_ty³s
);

246 
	etime_¡yË


248 
	mfuÎ_iso_time_¡yË
,

249 
	mlÚg_iso_time_¡yË
,

250 
	miso_time_¡yË


253 cÚ¡ *cÚ¡ 
	gtime_¡yË_¬gs
[] =

255 "fuÎ-iso", "lÚg-iso", "iso", 
NULL


257 
time_¡yË
 cÚ¡ 
	gtime_¡yË_ty³s
[] =

259 
fuÎ_iso_time_¡yË
, 
lÚg_iso_time_¡yË
, 
iso_time_¡yË


261 
ARGMATCH_VERIFY
 (
time_¡yË_¬gs
, 
time_¡yË_ty³s
);

264 
	$u§ge
 (
¡©us
)

266 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

267 
	`em™_Œy_h–p
 ();

270 
	`´štf
 (
	`_
("\
: % [OPTION]... [FILE]...\n\
: % [OPTION]... --fes0-äom=F\n\
"), 
´og¿m_Çme
,…rogram_name);

274 
	`åuts
 (
	`_
("\
 disk u§goà—ch FILE,„ecursiv–y fÜ dœeùÜ›s.\n\
"), 
¡dout
);

278 
	`em™_mªd©Üy_¬g_nÙe
 ();

280 
	`åuts
 (
	`_
("\
-0, --nuÎƒndƒach ouuˆlšw™h 0 by‹„©h”hª‚ewlše\n\
-a, --®È wr™couÁ fÜ‡Î fes,‚Ù ju¡ dœeùÜ›s\n\
--­·»Á-siz…ršˆ­·»Á sizes,„©h”hª disk u§ge;‡Éhough\
\n\
‡µ¬’ˆsizi usu®ly sm®Ër, iˆmay be\n\
 dutØhŞe š ('¥¬£'èfes, iÁ”Çl\n\
, indœeù blocks,‡ndhlike\n\
"), 
¡dout
);

289 
	`åuts
 (
	`_
("\
-B, --block-size=SIZE sÿË size by SIZE befÜ´štšghem. E.g.,\n\
'-BM'…ršt size š un™ oà1,048,576 by‹s.\n\
 SIZE fÜm© b–ow.\n\
-b, --by‹ ƒquiv®’ˆtØ'--­·»Á-siz--block-size=1'\n\
-c, --tÙ®…roduû‡ g¿ndÙ®\n\
-D, --d”eã»nû-¬g  d”eã»nû oÆy symlšk th©‡»†i¡ed oÀthe\n\
†še\n\
-d, --max-d•th=N…ršˆthtÙ® fÜ‡ dœeùÜy (Ü fe, w™h --®l)\n\
 ià™ i N o¸ãw”†ev– b–owhcommªd\n\
‡rgum’t; --max-d•th=0 i th§mas\n\
--summ¬ize\n\
"), 
¡dout
);

302 
	`åuts
 (
	`_
("\
--fes0-äom=F summ¬izdisk u§goàthNUL-‹rmš©ed fe\n\
 s³cif›d iÀfF;\n\
 F i -h’„—d‚ame äom snd¬d iÅut\n\
-Hƒquiv®’ˆtØ--d”eã»nû-¬g (-D)\n\
-h, --humª-»adabË…ršˆsize š humª„—dabË fÜm© (e.g., 1K 234M 2G)\
\n\
"), 
¡dout
);

310 
	`åuts
 (
	`_
("\
-k†ik--block-size=1K\n\
-L, --d”eã»nû d”eã»nû‡Î symbŞiølšks\n\
-l, --couÁ-lšk  couÁ size mªyime iàh¬d†šked\n\
-m†ik--block-size=1M\n\
"), 
¡dout
);

316 
	`åuts
 (
	`_
("\
-P, --no-d”eã»nû dÚ'ˆfŞlow‡ny symbŞiølšk Ñhi i thdeçuÉ)\n\
-S, --£·¿‹-dœ  dØnÙ inşudsizoàsubdœeùÜ›s\n\
--s˜†ik-h, buˆu£…ow” oà1000‚Ù 1024\n\
-s, --summ¬iz di¥Ïy oÆy‡Ù® fÜƒach‡rgum’t\n\
"), 
¡dout
);

322 
	`åuts
 (
	`_
("\
-t, --th»shŞd=SIZEƒxşud’Œ› sm®Ë¸thª SIZE iàpos™ive,\n\
ƒÁr› g»©”hª SIZE iàÃg©ive\n\
--tim showimoàthÏ¡ modifiÿtiÚ oàªy fšhe\n\
, o¸ªy oà™ subdœeùÜ›s\n\
--time=WORD showima WORD in¡—d oàmodifiÿtiÚime:\n\
,‡cûss, u£, ctimÜ stus\n\
--time-¡yË=STYLE showime usšg styË STYLE:\n\
-iso,†Úg-iso, iso, +FORMAT\n\
 i š‹½»‹d†ik'd©e'\n\
"), 
¡dout
);

333 
	`åuts
 (
	`_
("\
-X, --exşude-äom=FILEƒxşudfe th© m©ch‡ny…©‹º iÀFILE\n\
--exşude=PATTERNƒxşudfe th© m©ch PATTERN\n\
-x, --Úe-fe-sy¡em sk dœeùÜ› Ú difã»Á fsy¡ems\n\
"), 
¡dout
);

338 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

339 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

340 
	`em™_blocksize_nÙe
 ("DU");

341 
	`em™_size_nÙe
 ();

342 
	`em™_ªcÏry_šfo
 ();

344 
	`ex™
 (
¡©us
);

345 
	}
}

350 
boŞ


351 
	$hash_šs
 (
di_£t
 *di_£t, 
šo_t
 
šo
, 
dev_t
 
dev
)

353 
š£¹ed
 = 
	`di_£t_š£¹
 (
di_£t
, 
dev
, 
šo
);

354 ià(
š£¹ed
 < 0)

355 
	`x®loc_d›
 ();

356  
š£¹ed
;

357 
	}
}

364 
	$show_d©e
 (cÚ¡ *
fÜm©
, 
time¥ec
 
wh’
)

366 
tm
 *tm = 
	`loÿÉime
 (&
wh’
.
tv_£c
);

367 ià(! 
tm
)

369 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

370 *
wh’_¡r
 = 
	`tim‘o¡r
 (
wh’
.
tv_£c
, 
buf
);

371 
	`”rÜ
 (0, 0, 
	`_
("tim% i ouˆoà¿nge"), 
wh’_¡r
);

372 
	`åuts
 (
wh’_¡r
, 
¡dout
);

376 
	`årštáime
 (
¡dout
, 
fÜm©
, 
tm
, 0, 
wh’
.
tv_n£c
);

377 
	}
}

382 
	$´št_Úly_size
 (
uštmax_t
 
n_by‹s
)

384 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

385 
	`åuts
 ((
n_by‹s
 =ğ
UINTMAX_MAX


386 ? 
	`_
("Infinity")

387 : 
	`humª_»adabË
 (
n_by‹s
, 
buf
, 
humª_ouut_İts
,

388 1, 
ouut_block_size
)),

389 
¡dout
);

390 
	}
}

395 
	$´št_size
 (cÚ¡ 
dušfo
 *
pdui
, cÚ¡ *
¡ršg
)

397 
	`´št_Úly_size
 (
pdui
->
size
);

398 ià(
İt_time
)

400 
	`putch¬
 ('\t');

401 
	`show_d©e
 (
time_fÜm©
, 
pdui
->
tmax
);

403 
	`´štf
 ("\t%s%c", 
¡ršg
, 
İt_nul_‹rmš©e_ouut
 ? '\0' : '\n');

404 
	`fæush
 (
¡dout
);

405 
	}
}

412 
boŞ


413 
	$´oûss_fe
 (
FTS
 *
ás
, 
FTSENT
 *
’t
)

415 
boŞ
 
ok
 = 
Œue
;

416 
dušfo
 
dui
;

417 
dušfo
 
dui_to_´št
;

418 
size_t
 
Ëv–
;

419 
size_t
 
n_®loc
;

428 
duËv–
 *
dulvl
;

430 cÚ¡ *
fe
 = 
’t
->
ás_·th
;

431 cÚ¡ 
¡©
 *
sb
 = 
’t
->
ás_¡©p
;

432 
šfo
 = 
’t
->
ás_šfo
;

434 ià(
šfo
 =ğ
FTS_DNR
)

437 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("ÿÂÙ„—d dœeùÜy %s"), 
	`quÙe
 (
fe
));

438 
ok
 = 
çl£
;

440 ià(
šfo
 !ğ
FTS_DP
)

442 
boŞ
 
exşuded
 = 
	`exşuded_fe_Çme
 (
exşude
, 
fe
);

443 ià(! 
exşuded
)

447 ià(
šfo
 =ğ
FTS_NSOK
)

449 
	`ás_£t
 (
ás
, 
’t
, 
FTS_AGAIN
);

450 
FTSENT
 cÚ¡ *
e
 = 
	`ás_»ad
 (
ás
);

451 
	`as£¹
 (
e
 =ğ
’t
);

452 
šfo
 = 
’t
->
ás_šfo
;

455 ià(
šfo
 =ğ
FTS_NS
 || infØ=ğ
FTS_SLNONE
)

457 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("ÿÂÙ‡cûs %s"), 
	`quÙe
 (
fe
));

458  
çl£
;

466 ià(
ás
->
ás_İtiÚs
 & 
FTS_XDEV


467 && 
FTS_ROOTLEVEL
 < 
’t
->
ás_Ëv–


468 && 
ás
->
ás_dev
 !ğ
sb
->
¡_dev
)

469 
exşuded
 = 
Œue
;

472 ià(
exşuded


473 || (! 
İt_couÁ_®l


474 && (
hash_®l
 || (! 
	`S_ISDIR
 (
sb
->
¡_mode
è&& 1 < sb->
¡_Æšk
))

475 && ! 
	`hash_šs
 (
di_fes
, 
sb
->
¡_šo
, sb->
¡_dev
)))

480 ià(
šfo
 =ğ
FTS_D
)

482 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

483 
FTSENT
 cÚ¡ *
e
 = 
	`ás_»ad
 (
ás
);

484 
	`as£¹
 (
e
 =ğ
’t
);

487  
Œue
;

490 
šfo
)

492 
FTS_D
:

493  
Œue
;

495 
FTS_ERR
:

497 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, "%s", 
	`quÙe
 (
fe
));

498 
ok
 = 
çl£
;

501 
FTS_DC
:

502 ià(
	`cyşe_w¬nšg_»quœed
 (
ás
, 
’t
))

506 ià(
	`di_£t_lookup
 (
di_mÁ
, 
sb
->
¡_dev
, sb->
¡_šo
))

507 
	`”rÜ
 (0, 0, 
	`_
("mount…oint %s‡lreadyraversed"),

508 
	`quÙe
 (
fe
));

510 
	`em™_cyşe_w¬nšg
 (
fe
);

511  
çl£
;

513  
Œue
;

517 
	`dušfo_£t
 (&
dui
,

518 (
­·»Á_size


519 ? 
	`MAX
 (0, 
sb
->
¡_size
)

520 : (
uštmax_t
è
	`ST_NBLOCKS
 (*
sb
è* 
ST_NBLOCKSIZE
),

521 (
time_ty³
 =ğ
time_mtime
 ? 
	`g‘_¡©_mtime
 (
sb
)

522 : 
time_ty³
 =ğ
time_©ime
 ? 
	`g‘_¡©_©ime
 (
sb
)

523 : 
	`g‘_¡©_ùime
 (
sb
)));

525 
Ëv–
 = 
’t
->
ás_Ëv–
;

526 
dui_to_´št
 = 
dui
;

528 ià(
n_®loc
 == 0)

530 
n_®loc
 = 
Ëv–
 + 10;

531 
dulvl
 = 
	`xÿÎoc
 (
n_®loc
,  *dulvl);

535 ià(
Ëv–
 =ğ
´ev_Ëv–
)

539 ià(
Ëv–
 > 
´ev_Ëv–
)

545 
size_t
 
i
;

547 ià(
n_®loc
 <ğ
Ëv–
)

549 
dulvl
 = 
	`xÄ—Îoc
 (dulvl, 
Ëv–
, 2 *  *dulvl);

550 
n_®loc
 = 
Ëv–
 * 2;

553 
i
 = 
´ev_Ëv–
 + 1; i <ğ
Ëv–
; i++)

555 
	`dušfo_š™
 (&
dulvl
[
i
].
’t
);

556 
	`dušfo_š™
 (&
dulvl
[
i
].
subdœ
);

567 
	`as£¹
 (
Ëv–
 =ğ
´ev_Ëv–
 - 1);

568 
	`dušfo_add
 (&
dui_to_´št
, &
dulvl
[
´ev_Ëv–
].
’t
);

569 ià(!
İt_£·¿‹_dœs
)

570 
	`dušfo_add
 (&
dui_to_´št
, &
dulvl
[
´ev_Ëv–
].
subdœ
);

571 
	`dušfo_add
 (&
dulvl
[
Ëv–
].
subdœ
, &dulvl[
´ev_Ëv–
].
’t
);

572 
	`dušfo_add
 (&
dulvl
[
Ëv–
].
subdœ
, &dulvl[
´ev_Ëv–
].subdir);

576 
´ev_Ëv–
 = 
Ëv–
;

580 ià(! (
İt_£·¿‹_dœs
 && 
	`IS_DIR_TYPE
 (
šfo
)))

581 
	`dušfo_add
 (&
dulvl
[
Ëv–
].
’t
, &
dui
);

585 
	`dušfo_add
 (&
tÙ_dui
, &
dui
);

587 ià((
	`IS_DIR_TYPE
 (
šfo
è&& 
Ëv–
 <ğ
max_d•th
)

588 || (
İt_®l
 && 
Ëv–
 <ğ
max_d•th
)

589 || 
Ëv–
 == 0)

592 ià(
İt_th»shŞd
 < 0

593 ? 
dui_to_´št
.
size
 <ğ-
İt_th»shŞd


594 : 
dui_to_´št
.
size
 >ğ
İt_th»shŞd
)

595 
	`´št_size
 (&
dui_to_´št
, 
fe
);

598  
ok
;

599 
	}
}

606 
boŞ


607 
	$du_fes
 (**
fes
, 
b™_æags
)

609 
boŞ
 
ok
 = 
Œue
;

611 ià(*
fes
)

613 
FTS
 *
ás
 = 
	`xás_İ’
 (
fes
, 
b™_æags
, 
NULL
);

617 
FTSENT
 *
’t
;

619 
’t
 = 
	`ás_»ad
 (
ás
);

620 ià(
’t
 =ğ
NULL
)

622 ià(
”ºo
 != 0)

624 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_read failed: %s"),

625 
	`quÙ—rg_cŞÚ
 (
ás
->
ás_·th
));

626 
ok
 = 
çl£
;

632 
´ev_Ëv–
 = 0;

635 
	`FTS_CROSS_CHECK
 (
ás
);

637 
ok
 &ğ
	`´oûss_fe
 (
ás
, 
’t
);

640 ià(
	`ás_şo£
 (
ás
) != 0)

642 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_close failed"));

643 
ok
 = 
çl£
;

647  
ok
;

648 
	}
}

653 
	$fl_mouÁ_bË
 ()

655 
mouÁ_’Œy
 *
mÁ_’t
 = 
	`»ad_fe_sy¡em_li¡
 (
çl£
);

656 
mÁ_’t
)

658 
mouÁ_’Œy
 *
mÁ_ä“
;

659 ià(!
mÁ_’t
->
me_»mÙe
 && !mÁ_’t->
me_dummy
)

661 
¡©
 
buf
;

662 ià(!
	`¡©
 (
mÁ_’t
->
me_mouÁdœ
, &
buf
))

663 
	`hash_šs
 (
di_mÁ
, 
buf
.
¡_šo
, buf.
¡_dev
);

671 
mÁ_ä“
 = 
mÁ_’t
;

672 
mÁ_’t
 = mÁ_’t->
me_Ãxt
;

674 
	`ä“
 (
mÁ_ä“
->
me_devÇme
);

675 
	`ä“
 (
mÁ_ä“
->
me_mouÁdœ
);

676 ià(
mÁ_ä“
->
me_ty³_m®loûd
)

677 
	`ä“
 (
mÁ_ä“
->
me_ty³
);

678 
	`ä“
 (
mÁ_ä“
);

680 
	}
}

683 
	$maš
 (
¬gc
, **
¬gv
)

685 *
cwd_Úly
[2];

686 
boŞ
 
max_d•th_¥ecif›d
 = 
çl£
;

687 
boŞ
 
ok
 = 
Œue
;

688 *
fes_äom
 = 
NULL
;

691 
b™_æags
 = 
FTS_NOSTAT
;

695 
symlšk_d”ef_b™s
 = 
FTS_PHYSICAL
;

698 
boŞ
 
İt_summ¬ize_Úly
 = 
çl£
;

700 
cwd_Úly
[0] = 
	`bad_ÿ¡
 (".");

701 
cwd_Úly
[1] = 
NULL
;

703 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

704 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

705 
	`£oÿË
 (
LC_ALL
, "");

706 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

707 
	`‹xtdomaš
 (
PACKAGE
);

709 
	`©ex™
 (
şo£_¡dout
);

711 
exşude
 = 
	`Ãw_exşude
 ();

713 
	`humª_İtiÚs
 (
	`g‘’v
 ("DU_BLOCK_SIZE"),

714 &
humª_ouut_İts
, &
ouut_block_size
);

716 
Œue
)

718 
oi
 = -1;

719 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "0abd:chHklmst:xB:DLPSX:",

720 
lÚg_İtiÚs
, &
oi
);

721 ià(
c
 == -1)

724 
c
)

726 #ià
DU_DEBUG


727 
FTS_DEBUG
:

728 
ás_debug
 = 
Œue
;

733 
İt_nul_‹rmš©e_ouut
 = 
Œue
;

737 
İt_®l
 = 
Œue
;

740 
APPARENT_SIZE_OPTION
:

741 
­·»Á_size
 = 
Œue
;

745 
­·»Á_size
 = 
Œue
;

746 
humª_ouut_İts
 = 0;

747 
ouut_block_size
 = 1;

751 
´št_g¿nd_tÙ®
 = 
Œue
;

755 
humª_ouut_İts
 = 
humª_autosÿË
 | 
humª_SI
 | 
humª_ba£_1024
;

756 
ouut_block_size
 = 1;

759 
HUMAN_SI_OPTION
:

760 
humª_ouut_İts
 = 
humª_autosÿË
 | 
humª_SI
;

761 
ouut_block_size
 = 1;

765 
humª_ouut_İts
 = 0;

766 
ouut_block_size
 = 1024;

771 
tmp_ulÚg
;

772 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 0, &
tmp_ulÚg
, NULLè=ğ
LONGINT_OK


773 && 
tmp_ulÚg
 <ğ
SIZE_MAX
)

775 
max_d•th_¥ecif›d
 = 
Œue
;

776 
max_d•th
 = 
tmp_ulÚg
;

780 
	`”rÜ
 (0, 0, 
	`_
("invalid maximum depth %s"),

781 
	`quÙe
 (
İrg
));

782 
ok
 = 
çl£
;

788 
humª_ouut_İts
 = 0;

789 
ouut_block_size
 = 1024 * 1024;

793 
İt_couÁ_®l
 = 
Œue
;

797 
İt_summ¬ize_Úly
 = 
Œue
;

802 
¡¹Ş_”rÜ
 
e
;

803 
e
 = 
	`x¡¹oimax
 (
İrg
, 
NULL
, 0, &
İt_th»shŞd
, "kKmMGTPEZY0");

804 ià(
e
 !ğ
LONGINT_OK
)

805 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

806 ià(
İt_th»shŞd
 =ğ0 && *
İrg
 == '-')

809 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid --threshold‡rgument '-0'"));

815 
b™_æags
 |ğ
FTS_XDEV
;

820 
¡¹Ş_”rÜ
 
e
 = 
	`humª_İtiÚs
 (
İrg
, &
humª_ouut_İts
,

821 &
ouut_block_size
);

822 ià(
e
 !ğ
LONGINT_OK
)

823 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

829 
symlšk_d”ef_b™s
 = 
FTS_COMFOLLOW
 | 
FTS_PHYSICAL
;

833 
symlšk_d”ef_b™s
 = 
FTS_LOGICAL
;

837 
symlšk_d”ef_b™s
 = 
FTS_PHYSICAL
;

841 
İt_£·¿‹_dœs
 = 
Œue
;

845 ià(
	`add_exşude_fe
 (
add_exşude
, 
exşude
, 
İrg
,

846 
EXCLUDE_WILDCARDS
, '\n'))

848 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙ—rg_cŞÚ
 (
İrg
));

849 
ok
 = 
çl£
;

853 
FILES0_FROM_OPTION
:

854 
fes_äom
 = 
İrg
;

857 
EXCLUDE_OPTION
:

858 
	`add_exşude
 (
exşude
, 
İrg
, 
EXCLUDE_WILDCARDS
);

861 
TIME_OPTION
:

862 
İt_time
 = 
Œue
;

863 
time_ty³
 =

864 (
İrg


865 ? 
	`XARGMATCH
 ("--time", 
İrg
, 
time_¬gs
, 
time_ty³s
)

866 : 
time_mtime
);

869 
TIME_STYLE_OPTION
:

870 
time_¡yË
 = 
İrg
;

873 
ÿ£_GETOPT_HELP_CHAR
;

875 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

878 
ok
 = 
çl£
;

882 ià(!
ok
)

883 
	`u§ge
 (
EXIT_FAILURE
);

885 ià(
İt_®l
 && 
İt_summ¬ize_Úly
)

887 
	`”rÜ
 (0, 0, 
	`_
("cannot both summarize‡nd show‡llƒntries"));

888 
	`u§ge
 (
EXIT_FAILURE
);

891 ià(
İt_summ¬ize_Úly
 && 
max_d•th_¥ecif›d
 && 
max_d•th
 == 0)

893 
	`”rÜ
 (0, 0,

894 
	`_
("warning: summarizing ishe same‡s using --max-depth=0"));

897 ià(
İt_summ¬ize_Úly
 && 
max_d•th_¥ecif›d
 && 
max_d•th
 != 0)

899 
d
 = 
max_d•th
;

900 
	`”rÜ
 (0, 0, 
	`_
("w¬nšg: summ¬izšg cÚæiù w™h --max-d•th=%lu"), 
d
);

901 
	`u§ge
 (
EXIT_FAILURE
);

904 ià(
İt_summ¬ize_Úly
)

905 
max_d•th
 = 0;

908 ià(
İt_time
)

910 ià(! 
time_¡yË
)

912 
time_¡yË
 = 
	`g‘’v
 ("TIME_STYLE");

915 ià(! 
time_¡yË
 || 
	`STREQ
 (time_style, "locale"))

916 
time_¡yË
 = "long-iso";

917 ià(*
time_¡yË
 == '+')

921 *
p
 = 
	`¡rchr
 (
time_¡yË
, '\n');

922 ià(
p
)

923 *
p
 = '\0';

928 cÚ¡ 
posix_´efix
[] = "posix-";

929 
	`¡ºcmp
 (
time_¡yË
, 
posix_´efix
, …osix_prefix - 1)

931 
time_¡yË
 +ğ 
posix_´efix
 - 1;

935 ià(*
time_¡yË
 == '+')

936 
time_fÜm©
 = 
time_¡yË
 + 1;

939 
	`XARGMATCH
 ("tim¡yË", 
time_¡yË
,

940 
time_¡yË_¬gs
, 
time_¡yË_ty³s
))

942 
fuÎ_iso_time_¡yË
:

943 
time_fÜm©
 = "%Y-%m-%d %H:%M:%S.%N %z";

946 
lÚg_iso_time_¡yË
:

947 
time_fÜm©
 = "%Y-%m-%d %H:%M";

950 
iso_time_¡yË
:

951 
time_fÜm©
 = "%Y-%m-%d";

957 
¬gv_™”©Ü
 *
ai
;

958 ià(
fes_äom
)

962 ià(
İtšd
 < 
¬gc
)

964 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

965 
	`årštf
 (
¡d”r
, "%s\n",

966 
	`_
("file operands cannot be combined with --files0-from"));

967 
	`u§ge
 (
EXIT_FAILURE
);

970 ià(! (
	`STREQ
 (
fes_äom
, "-"è|| 
	`äeİ’
 (fes_äom, "r", 
¡dš
)))

971 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot open %s for„eading"),

972 
	`quÙe
 (
fes_äom
));

974 
ai
 = 
	`¬gv_™”_š™_¡»am
 (
¡dš
);

978 
hash_®l
 = 
Œue
;

982 **
fes
 = (
İtšd
 < 
¬gc
 ? 
¬gv
 + o±šd : 
cwd_Úly
);

983 
ai
 = 
	`¬gv_™”_š™_¬gv
 (
fes
);

988 
hash_®l
 = (
İtšd
 + 1 < 
¬gc
 || 
symlšk_d”ef_b™s
 =ğ
FTS_LOGICAL
);

991 ià(!
ai
)

992 
	`x®loc_d›
 ();

996 
di_mÁ
 = 
	`di_£t_®loc
 ();

997 ià(!
di_mÁ
)

998 
	`x®loc_d›
 ();

1000 
	`fl_mouÁ_bË
 ();

1002 
di_fes
 = 
	`di_£t_®loc
 ();

1003 ià(!
di_fes
)

1004 
	`x®loc_d›
 ();

1008 ià(
İt_couÁ_®l
 || ! 
hash_®l
)

1009 
b™_æags
 |ğ
FTS_TIGHT_CYCLE_CHECK
;

1011 
b™_æags
 |ğ
symlšk_d”ef_b™s
;

1012 *
‹mp_¬gv
[] = { 
NULL
, NULL };

1014 
Œue
)

1016 
boŞ
 
sk_fe
 = 
çl£
;

1017 
¬gv_™”_”r
 
ai_”r
;

1018 *
fe_Çme
 = 
	`¬gv_™”
 (
ai
, &
ai_”r
);

1019 ià(!
fe_Çme
)

1021 
ai_”r
)

1023 
AI_ERR_EOF
:

1024 
¬gv_™”_dÚe
;

1025 
AI_ERR_READ
:

1026 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„eadƒrror"),

1027 
	`quÙ—rg_cŞÚ
 (
fes_äom
));

1028 
ok
 = 
çl£
;

1029 
¬gv_™”_dÚe
;

1030 
AI_ERR_MEM
:

1031 
	`x®loc_d›
 ();

1033 
	`as£¹
 (!"unexpectedƒrror code from‡rgv_iter");

1036 ià(
fes_äom
 && 
	`STREQ
 (fes_äom, "-"è&& STREQ (
fe_Çme
, "-"))

1040 
	`”rÜ
 (0, 0, 
	`_
("when„eading file‚ames from stdin, "

1042 
	`quÙe
 (
fe_Çme
));

1043 
sk_fe
 = 
Œue
;

1050 ià(!
fe_Çme
[0])

1056 ià(
fes_äom
 =ğ
NULL
)

1057 
	`”rÜ
 (0, 0, "%s", 
	`_
("invalid zero-length file‚ame"));

1063 
fe_numb”
 = 
	`¬gv_™”_n_¬gs
 (
ai
);

1064 
	`”rÜ
 (0, 0, "%s:%lu: %s", 
	`quÙ—rg_cŞÚ
 (
fes_äom
),

1065 
fe_numb”
, 
	`_
("invalid zero-length file‚ame"));

1067 
sk_fe
 = 
Œue
;

1070 ià(
sk_fe
)

1071 
ok
 = 
çl£
;

1074 
‹mp_¬gv
[0] = 
fe_Çme
;

1075 
ok
 &ğ
	`du_fes
 (
‹mp_¬gv
, 
b™_æags
);

1078 
¬gv_™”_dÚe
:

1080 
	`¬gv_™”_ä“
 (
ai
);

1081 
	`di_£t_ä“
 (
di_fes
);

1082 
	`di_£t_ä“
 (
di_mÁ
);

1084 ià(
fes_äom
 && (
	`ã¼Ü
 (
¡dš
è|| 
	`fşo£
 (¡dšè!ğ0è&& 
ok
)

1085 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
fes_äom
));

1087 ià(
´št_g¿nd_tÙ®
)

1088 
	`´št_size
 (&
tÙ_dui
, 
	`_
("total"));

1090 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1091 
	}
}

	@echo.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<sys/ty³s.h
>

20 
	~"sy¡em.h
"

23 
	#PROGRAM_NAME
 "echo"

	)

25 
	#AUTHORS
 \

26 
	`´İ”_Çme
 ("Brian Fox"), \

27 
	`´İ”_Çme
 ("Ch‘ Ramey")

	)

30 #iâdeà
DEFAULT_ECHO_TO_XPG


31 ’um { 
	mDEFAULT_ECHO_TO_XPG
 = 
çl£
 };

35 
	$u§ge
 (
¡©us
)

37 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

38 
	`em™_Œy_h–p
 ();

41 
	`´štf
 (
	`_
("\
: % [SHORT-OPTION]... [STRING]...\n\
: % LONG-OPTION\n\
"), 
´og¿m_Çme
,…rogram_name);

45 
	`åuts
 (
	`_
("\
hSTRING(sètØ¡ªd¬d ouut.\n\
\n\
-À dØnÙ ouuˆthŒašg‚ewlše\n\
"), 
¡dout
);

50 
	`åuts
 (
	`_
(
DEFAULT_ECHO_TO_XPG


51 ? 
	`N_
("\
-eƒnable interpretation of backslashƒscapes (default)\n\
-E disable interpretation of backslashƒscapes\n")

54 : 
	`N_
("\
-eƒnable interpretation of backslashƒscapes\n\
-E disable interpretation of backslashƒscapes (default)\n")),

57 
¡dout
);

58 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

59 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

60 
	`åuts
 (
	`_
("\
\n\
 -i šƒfãù,hfŞlowšg sequ’û ¬»cognized:\n\
\n\
"), 
¡dout
);

65 
	`åuts
 (
	`_
("\
\\\\ back¦ash\n\
\\¨‡Ë¹ (BEL)\n\
\\b back¥aû\n\
\\ø…roduû‚Øfu¹h” ouut\n\
\\ƒsÿ³\n\
\\à fÜm f“d\n\
\\À‚ew†še\n\
\\¸ c¬rŸg»tuº\n\
\\ˆ hÜizÚÈb\n\
\\v v”tiÿÈb\n\
"), 
¡dout
);

77 
	`åuts
 (
	`_
("\
\\0NNN by‹ w™h où® v®uNNN (1Ø3 dig™s)\n\
\\xHH by‹ w™h hexadecim® v®uHH (1Ø2 dig™s)\n\
"), 
¡dout
);

81 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

82 
	`em™_ªcÏry_šfo
 ();

84 
	`ex™
 (
¡©us
);

85 
	}
}

89 
	$hextobš
 (
c
)

91 
c
)

93 :  
c
 - '0';

101 
	}
}

108 
	$maš
 (
¬gc
, **
¬gv
)

110 
boŞ
 
di¥Ïy_»tuº
 = 
Œue
;

111 
boŞ
 
®low_İtiÚs
 =

112 (! 
	`g‘’v
 ("POSIXLY_CORRECT")

113 || (! 
DEFAULT_ECHO_TO_XPG
 && 1 < 
¬gc
 && 
	`STREQ
 (
¬gv
[1], "-n")));

118 
boŞ
 
do_v9
 = 
DEFAULT_ECHO_TO_XPG
;

120 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

121 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

122 
	`£oÿË
 (
LC_ALL
, "");

123 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

124 
	`‹xtdomaš
 (
PACKAGE
);

126 
	`©ex™
 (
şo£_¡dout
);

130 ià(
®low_İtiÚs
 && 
¬gc
 == 2)

132 ià(
	`STREQ
 (
¬gv
[1], "--help"))

133 
	`u§ge
 (
EXIT_SUCCESS
);

135 ià(
	`STREQ
 (
¬gv
[1], "--version"))

137 
	`v”siÚ_‘c
 (
¡dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
, 
AUTHORS
,

138 (*è
NULL
);

139 
	`ex™
 (
EXIT_SUCCESS
);

143 --
¬gc
;

144 ++
¬gv
;

146 ià(
®low_İtiÚs
)

147 
¬gc
 > 0 && *
¬gv
[0] == '-')

149 cÚ¡ *
‹mp
 = 
¬gv
[0] + 1;

150 
size_t
 
i
;

156 
i
 = 0; 
‹mp
[i]; i++)

157 
‹mp
[
i
])

162 
ju¡_echo
;

165 ià(
i
 == 0)

166 
ju¡_echo
;

170 *
‹mp
)

171 *
‹mp
++)

174 
do_v9
 = 
Œue
;

178 
do_v9
 = 
çl£
;

182 
di¥Ïy_»tuº
 = 
çl£
;

186 
¬gc
--;

187 
¬gv
++;

190 
ju¡_echo
:

192 ià(
do_v9
)

194 
¬gc
 > 0)

196 cÚ¡ *
s
 = 
¬gv
[0];

197 
c
;

199 (
c
 = *
s
++))

201 ià(
c
 =ğ'\\' && *
s
)

203 
c
 = *
s
++)

205 'a': 
c
 = '\a'; ;

206 'b': 
c
 = '\b'; ;

207 'c': 
	`ex™
 (
EXIT_SUCCESS
);

208 'e': 
c
 = '\x1B'; ;

209 'f': 
c
 = '\f'; ;

210 'n': 
c
 = '\n'; ;

211 'r': 
c
 = '\r'; ;

212 't': 
c
 = '\t'; ;

213 'v': 
c
 = '\v'; ;

216 
ch
 = *
s
;

217 ià(! 
	`isxdig™
 (
ch
))

218 
nÙ_ª_esÿ³
;

219 
s
++;

220 
c
 = 
	`hextobš
 (
ch
);

221 
ch
 = *
s
;

222 ià(
	`isxdig™
 (
ch
))

224 
s
++;

225 
c
 = c * 16 + 
	`hextobš
 (
ch
);

230 
c
 = 0;

231 ià(! ('0' <ğ*
s
 && *s <= '7'))

233 
c
 = *
s
++;

237 
c
 -= '0';

238 ià('0' <ğ*
s
 && *s <= '7')

239 
c
 = c * 8 + (*
s
++ - '0');

240 ià('0' <ğ*
s
 && *s <= '7')

241 
c
 = c * 8 + (*
s
++ - '0');

245 
nÙ_ª_esÿ³
:

246 : 
	`putch¬
 ('\\'); ;

249 
	`putch¬
 (
c
);

251 
¬gc
--;

252 
¬gv
++;

253 ià(
¬gc
 > 0)

254 
	`putch¬
 (' ');

259 
¬gc
 > 0)

261 
	`åuts
 (
¬gv
[0], 
¡dout
);

262 
¬gc
--;

263 
¬gv
++;

264 ià(
¬gc
 > 0)

265 
	`putch¬
 (' ');

269 ià(
di¥Ïy_»tuº
)

270 
	`putch¬
 ('\n');

271 
	`ex™
 (
EXIT_SUCCESS
);

272 
	}
}

	@env.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

24 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"quÙe.h
"

29 
	#PROGRAM_NAME
 "’v"

	)

31 
	#AUTHORS
 \

32 
	`´İ”_Çme
 ("Richard Mlynarik"), \

33 
	`´İ”_Çme
 ("David MacK’z›")

	)

35 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

37 {"ignÜe-’vœÚm’t", 
no_¬gum’t
, 
NULL
, 'i'},

38 {"nuÎ", 
no_¬gum’t
, 
NULL
, '0'},

39 {"un£t", 
»quœed_¬gum’t
, 
NULL
, 'u'},

40 {
GETOPT_HELP_OPTION_DECL
},

41 {
GETOPT_VERSION_OPTION_DECL
},

42 {
NULL
, 0, NULL, 0}

46 
	$u§ge
 (
¡©us
)

48 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

49 
	`em™_Œy_h–p
 ();

52 
	`´štf
 (
	`_
("\
: %s [OPTION]... [-] [NAME=VALUE]... [COMMAND [ARG]...]\n"),

54 
´og¿m_Çme
);

55 
	`åuts
 (
	`_
("\
ƒach NAMEØVALUE iÀth’vœÚm’ˆªd„uÀCOMMAND.\n\
"), 
¡dout
);

59 
	`em™_mªd©Üy_¬g_nÙe
 ();

61 
	`åuts
 (
	`_
("\
-i, --ignÜe-’vœÚm’ˆ s¹ w™h‡Àem±yƒnvœÚm’t\n\
-0, --nuÎƒndƒach ouuˆlšw™h 0 by‹„©h”hª‚ewlše\n\
-u, --un£t=NAME„emovv¬ŸbË fromh’vœÚm’t\n\
"), 
¡dout
);

66 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

67 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

68 
	`åuts
 (
	`_
("\
\n\
 m”- im¶› -i. IànØCOMMAND,…ršˆth»suÉšgƒnvœÚm’t.\n\
"), 
¡dout
);

72 
	`em™_ªcÏry_šfo
 ();

74 
	`ex™
 (
¡©us
);

75 
	}
}

78 
	$maš
 (
¬gc
, **
¬gv
)

80 
İtc
;

81 
boŞ
 
ignÜe_’vœÚm’t
 = 
çl£
;

82 
boŞ
 
İt_nul_‹rmš©e_ouut
 = 
çl£
;

84 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

85 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

86 
	`£oÿË
 (
LC_ALL
, "");

87 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

88 
	`‹xtdomaš
 (
PACKAGE
);

90 
	`š™Ÿlize_ex™_çu»
 (
EXIT_CANCELED
);

91 
	`©ex™
 (
şo£_¡dout
);

93 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+iu:0", 
lÚgİts
, 
NULL
)) != -1)

95 
İtc
)

98 
ignÜe_’vœÚm’t
 = 
Œue
;

103 
İt_nul_‹rmš©e_ouut
 = 
Œue
;

105 
ÿ£_GETOPT_HELP_CHAR
;

106 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

108 
	`u§ge
 (
EXIT_CANCELED
);

112 ià(
İtšd
 < 
¬gc
 && 
	`STREQ
 (
¬gv
[optind], "-"))

113 
ignÜe_’vœÚm’t
 = 
Œue
;

115 ià(
ignÜe_’vœÚm’t
)

117 *
dummy_’vœÚ
[] = { 
NULL
 };

118 
’vœÚ
 = 
dummy_’vœÚ
;

121 
İtšd
 = 0;

122 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+iu:0", 
lÚgİts
, 
NULL
)) != -1)

123 ià(
İtc
 =ğ'u' && 
	`un£‹nv
 (
İrg
))

124 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("ÿÂÙ un£ˆ%s"), 
	`quÙe
 (
İrg
));

126 ià(
İtšd
 < 
¬gc
 && 
	`STREQ
 (
¬gv
[optind], "-"))

127 ++
İtšd
;

129 *
eq
;

130 
İtšd
 < 
¬gc
 && (
eq
 = 
	`¡rchr
 (
¬gv
[optind], '=')))

132 ià(
	`pu‹nv
 (
¬gv
[
İtšd
]))

134 *
eq
 = '\0';

135 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot set %s"),

136 
	`quÙe
 (
¬gv
[
İtšd
]));

138 
İtšd
++;

142 ià(
¬gc
 <ğ
İtšd
)

144 *cÚ¡ *
e
 = 
’vœÚ
;

145 *
e
)

146 
	`´štf
 ("%s%c", *
e
++, 
İt_nul_‹rmš©e_ouut
 ? '\0' : '\n');

147 
	`ex™
 (
EXIT_SUCCESS
);

150 ià(
İt_nul_‹rmš©e_ouut
)

152 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot specify --null (-0) with command"));

153 
	`u§ge
 (
EXIT_CANCELED
);

156 
	`execvp
 (
¬gv
[
İtšd
], &argv[optind]);

159 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

160 
	`”rÜ
 (0, 
”ºo
, "%s", 
¬gv
[
İtšd
]);

161 
	`ex™
 (
ex™_¡©us
);

163 
	}
}

	@expand.c

35 
	~<cÚfig.h
>

37 
	~<¡dio.h
>

38 
	~<g‘İt.h
>

39 
	~<sys/ty³s.h
>

40 
	~"sy¡em.h
"

41 
	~"”rÜ.h
"

42 
	~"çdvi£.h
"

43 
	~"quÙe.h
"

44 
	~"x¡ºdup.h
"

47 
	#PROGRAM_NAME
 "ex·nd"

	)

49 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

53 
boŞ
 
	gcÚv”t_’tœe_lše
;

56 
uštmax_t
 
	gb_size
;

61 
uštmax_t
 *
	gb_li¡
;

64 
size_t
 
	gn_bs_®loÿ‹d
;

68 
size_t
 
	gfœ¡_ä“_b
;

71 **
	gfe_li¡
;

74 *
	g¡dš_¬gv
[] =

76 (*è"-", 
NULL


80 
boŞ
 
	ghave_»ad_¡dš
;

83 
	gex™_¡©us
;

85 cÚ¡ 
	gshÜtİts
[] = "it:0::1::2::3::4::5::6::7::8::9::";

87 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

89 {"bs", 
»quœed_¬gum’t
, 
NULL
, 't'},

90 {"š™Ÿl", 
no_¬gum’t
, 
NULL
, 'i'},

91 {
GETOPT_HELP_OPTION_DECL
},

92 {
GETOPT_VERSION_OPTION_DECL
},

93 {
NULL
, 0, NULL, 0}

97 
	$u§ge
 (
¡©us
)

99 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

100 
	`em™_Œy_h–p
 ();

103 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

106 
´og¿m_Çme
);

107 
	`åuts
 (
	`_
("\
ab šƒach FILEØ¥aûs, wr™šgØ¡ªd¬d ouut.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

112 
	`em™_mªd©Üy_¬g_nÙe
 ();

114 
	`åuts
 (
	`_
("\
-i, --š™ŸÈ dØnÙ cÚv”ˆb aá”‚Ú bÏnks\n\
-t, --bs=NUMBER havb NUMBER ch¬aù” ­¬t,‚Ù 8\n\
"), 
¡dout
);

118 
	`åuts
 (
	`_
("\
-t, --bs=LIST u£ comm¨£·¿‹d†i¡ oàex¶ic™ab…os™iÚs\n\
"), 
¡dout
);

121 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

122 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

123 
	`em™_ªcÏry_šfo
 ();

125 
	`ex™
 (
¡©us
);

126 
	}
}

131 
	$add_b_¡İ
 (
uštmax_t
 
bv®
)

133 ià(
fœ¡_ä“_b
 =ğ
n_bs_®loÿ‹d
)

134 
b_li¡
 = 
	`X2NREALLOC
 (b_li¡, &
n_bs_®loÿ‹d
);

135 
b_li¡
[
fœ¡_ä“_b
++] = 
bv®
;

136 
	}
}

142 
	$·r£_b_¡İs
 (cÚ¡ *
¡İs
)

144 
boŞ
 
have_bv®
 = 
çl£
;

145 
uštmax_t
 
bv®
 
	`IF_LINT
 ( = 0);

146 cÚ¡ *
num_¡¬t
 
	`IF_LINT
 ( = 
NULL
);

147 
boŞ
 
ok
 = 
Œue
;

149 ; *
¡İs
; stops++)

151 ià(*
¡İs
 =ğ',' || 
	`isbÏnk
 (
	`to_uch¬
 (*stops)))

153 ià(
have_bv®
)

154 
	`add_b_¡İ
 (
bv®
);

155 
have_bv®
 = 
çl£
;

157 ià(
	`ISDIGIT
 (*
¡İs
))

159 ià(!
have_bv®
)

161 
bv®
 = 0;

162 
have_bv®
 = 
Œue
;

163 
num_¡¬t
 = 
¡İs
;

167 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
bv®
, *
¡İs
 - '0', 
uštmax_t
))

169 
size_t
 
Ën
 = 
	`¡r¥n
 (
num_¡¬t
, "0123456789");

170 *
bad_num
 = 
	`x¡ºdup
 (
num_¡¬t
, 
Ën
);

171 
	`”rÜ
 (0, 0, 
	`_
("b stİ i toØÏrg%s"), 
	`quÙe
 (
bad_num
));

172 
	`ä“
 (
bad_num
);

173 
ok
 = 
çl£
;

174 
¡İs
 = 
num_¡¬t
 + 
Ën
 - 1;

179 
	`”rÜ
 (0, 0, 
	`_
("tab size contains invalid character(s): %s"),

180 
	`quÙe
 (
¡İs
));

181 
ok
 = 
çl£
;

186 ià(!
ok
)

187 
	`ex™
 (
EXIT_FAILURE
);

189 ià(
have_bv®
)

190 
	`add_b_¡İ
 (
bv®
);

191 
	}
}

197 
	$v®id©e_b_¡İs
 (
uštmax_t
 cÚ¡ *
bs
, 
size_t
 
’Œ›s
)

199 
uštmax_t
 
´ev_b
 = 0;

200 
size_t
 
i
;

202 
i
 = 0; i < 
’Œ›s
; i++)

204 ià(
bs
[
i
] == 0)

205 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tab size cannot be 0"));

206 ià(
bs
[
i
] <ğ
´ev_b
)

207 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tab sizes must be‡scending"));

208 
´ev_b
 = 
bs
[
i
];

210 
	}
}

217 
FILE
 *

218 
	$Ãxt_fe
 (
FILE
 *
å
)

220 *
´ev_fe
;

221 *
fe
;

223 ià(
å
)

225 ià(
	`ã¼Ü
 (
å
))

227 
	`”rÜ
 (0, 
”ºo
, "%s", 
´ev_fe
);

228 
ex™_¡©us
 = 
EXIT_FAILURE
;

230 ià(
	`STREQ
 (
´ev_fe
, "-"))

231 
	`ş—»¼
 (
å
);

232 ià(
	`fşo£
 (
å
) != 0)

234 
	`”rÜ
 (0, 
”ºo
, "%s", 
´ev_fe
);

235 
ex™_¡©us
 = 
EXIT_FAILURE
;

239 (
fe
 = *
fe_li¡
++è!ğ
NULL
)

241 ià(
	`STREQ
 (
fe
, "-"))

243 
have_»ad_¡dš
 = 
Œue
;

244 
å
 = 
¡dš
;

247 
å
 = 
	`fİ’
 (
fe
, "r");

248 ià(
å
)

250 
´ev_fe
 = 
fe
;

251 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

252  
å
;

254 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

255 
ex™_¡©us
 = 
EXIT_FAILURE
;

257  
NULL
;

258 
	}
}

264 
	$ex·nd
 ()

267 
FILE
 *
å
 = 
	`Ãxt_fe
 (
NULL
);

269 ià(!
å
)

272 
Œue
)

275 
c
;

278 
boŞ
 
cÚv”t
 = 
Œue
;

285 
uštmax_t
 
cŞumn
 = 0;

288 
size_t
 
b_šdex
 = 0;

295 (
c
 = 
	`g‘c
 (
å
)è< 0 && (å = 
	`Ãxt_fe
 (fp)))

298 ià(
cÚv”t
)

300 ià(
c
 == '\t')

303 
uštmax_t
 
Ãxt_b_cŞumn
;

305 ià(
b_size
)

306 
Ãxt_b_cŞumn
 = 
cŞumn
 + (
b_size
 - column %ab_size);

308 
Œue
)

309 ià(
b_šdex
 =ğ
fœ¡_ä“_b
)

311 
Ãxt_b_cŞumn
 = 
cŞumn
 + 1;

316 
uštmax_t
 
b
 = 
b_li¡
[
b_šdex
++];

317 ià(
cŞumn
 < 
b
)

319 
Ãxt_b_cŞumn
 = 
b
;

324 ià(
Ãxt_b_cŞumn
 < 
cŞumn
)

325 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("input†ine isoo†ong"));

327 ++
cŞumn
 < 
Ãxt_b_cŞumn
)

328 ià(
	`putch¬
 (' ') < 0)

329 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

331 
c
 = ' ';

333 ià(
c
 == '\b')

337 
cŞumn
 -= !!column;

338 
b_šdex
 -= !!tab_index;

342 
cŞumn
++;

343 ià(!
cŞumn
)

344 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("input†ine isoo†ong"));

347 
cÚv”t
 &ğ
cÚv”t_’tœe_lše
 || !! 
	`isbÏnk
 (
c
);

350 ià(
c
 < 0)

353 ià(
	`putch¬
 (
c
) < 0)

354 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

356 
c
 != '\n');

358 
	}
}

361 
	$maš
 (
¬gc
, **
¬gv
)

363 
c
;

365 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

366 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

367 
	`£oÿË
 (
LC_ALL
, "");

368 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

369 
	`‹xtdomaš
 (
PACKAGE
);

371 
	`©ex™
 (
şo£_¡dout
);

373 
have_»ad_¡dš
 = 
çl£
;

374 
ex™_¡©us
 = 
EXIT_SUCCESS
;

375 
cÚv”t_’tœe_lše
 = 
Œue
;

376 
b_li¡
 = 
NULL
;

377 
fœ¡_ä“_b
 = 0;

379 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜtİts
, 
lÚgİts
, 
NULL
)) != -1)

381 
c
)

384 
cÚv”t_’tœe_lše
 = 
çl£
;

388 
	`·r£_b_¡İs
 (
İrg
);

393 ià(
İrg
)

394 
	`·r£_b_¡İs
 (
İrg
 - 1);

397 
b_¡İ
[2];

398 
b_¡İ
[0] = 
c
;

399 
b_¡İ
[1] = '\0';

400 
	`·r£_b_¡İs
 (
b_¡İ
);

404 
ÿ£_GETOPT_HELP_CHAR
;

406 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

409 
	`u§ge
 (
EXIT_FAILURE
);

413 
	`v®id©e_b_¡İs
 (
b_li¡
, 
fœ¡_ä“_b
);

415 ià(
fœ¡_ä“_b
 == 0)

416 
b_size
 = 8;

417 ià(
fœ¡_ä“_b
 == 1)

418 
b_size
 = 
b_li¡
[0];

420 
b_size
 = 0;

422 
fe_li¡
 = (
İtšd
 < 
¬gc
 ? &
¬gv
[İtšd] : 
¡dš_¬gv
);

424 
	`ex·nd
 ();

426 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
) != 0)

427 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

429 
	`ex™
 (
ex™_¡©us
);

430 
	}
}

	@expr.c

31 
	~<cÚfig.h
>

32 
	~<¡dio.h
>

33 
	~<sys/ty³s.h
>

34 
	~"sy¡em.h
"

36 
	~<»gex.h
>

37 
	~"”rÜ.h
"

38 
	~"lÚg-İtiÚs.h
"

39 
	~"quÙ—rg.h
"

40 
	~"¡ºumcmp.h
"

41 
	~"x¡¹Ş.h
"

45 
v”ify
 (
SIZE_MAX
 <ğ
ULONG_MAX
);

47 
	$š‹g”_ov”æow
 (è
ATTRIBUTE_NORETURN
;

49 #iâdeà
HAVE_GMP


50 
	#HAVE_GMP
 0

	)

53 #ià
HAVE_GMP


54 
	~<gmp.h
>

57 
štmax_t
 
	tmpz_t
[1];

58 
	$mpz_ş—r
 (
mpz_t
 
z
è{ (èz; 
	}
}

59 
	$mpz_š™_£t_ui
 (
mpz_t
 
z
, 
i
è{ z[0] = i; 
	}
}

61 
	$mpz_š™_£t_¡r
 (
mpz_t
 
z
, *
s
, 
ba£
)

63  
	`x¡¹oimax
 (
s
, 
NULL
, 
ba£
, 
z
, NULLè=ğ
LONGINT_OK
 ? 0 : -1;

64 
	}
}

66 
	$mpz_add
 (
mpz_t
 
r
, mpz_ˆ
a0
, mpz_ˆ
b0
)

68 
štmax_t
 
a
 = 
a0
[0];

69 
štmax_t
 
b
 = 
b0
[0];

70 
štmax_t
 
v®
 = 
a
 + 
b
;

71 ià((
v®
 < 
a
è!ğ(
b
 < 0))

72 
	`š‹g”_ov”æow
 ('+');

73 
r
[0] = 
v®
;

74 
	}
}

76 
	$mpz_sub
 (
mpz_t
 
r
, mpz_ˆ
a0
, mpz_ˆ
b0
)

78 
štmax_t
 
a
 = 
a0
[0];

79 
štmax_t
 
b
 = 
b0
[0];

80 
štmax_t
 
v®
 = 
a
 - 
b
;

81 ià((
a
 < 
v®
è!ğ(
b
 < 0))

82 
	`š‹g”_ov”æow
 ('-');

83 
r
[0] = 
v®
;

84 
	}
}

86 
	$mpz_mul
 (
mpz_t
 
r
, mpz_ˆ
a0
, mpz_ˆ
b0
)

88 
štmax_t
 
a
 = 
a0
[0];

89 
štmax_t
 
b
 = 
b0
[0];

90 
štmax_t
 
v®
 = 
a
 * 
b
;

91 ià(! (
a
 =ğ0 || 
b
 == 0

92 || ((
v®
 < 0è=ğ((
a
 < 0è^ (
b
 < 0)) && val /‡ == b)))

93 
	`š‹g”_ov”æow
 ('*');

94 
r
[0] = 
v®
;

95 
	}
}

97 
	$mpz_tdiv_q
 (
mpz_t
 
r
, mpz_ˆ
a0
, mpz_ˆ
b0
)

99 
štmax_t
 
a
 = 
a0
[0];

100 
štmax_t
 
b
 = 
b0
[0];

103 ià(
a
 < - 
INTMAX_MAX
 && 
b
 == -1)

104 
	`š‹g”_ov”æow
 ('/');

105 
r
[0] = 
a
 / 
b
;

106 
	}
}

108 
	$mpz_tdiv_r
 (
mpz_t
 
r
, mpz_ˆ
a0
, mpz_ˆ
b0
)

110 
štmax_t
 
a
 = 
a0
[0];

111 
štmax_t
 
b
 = 
b0
[0];

114 
r
[0] = 
a
 < - 
INTMAX_MAX
 && 
b
 == -1 ? 0 :‡ % b;

115 
	}
}

117 
	$mpz_g‘_¡r
 (cÚ¡ *
¡r
, 
ba£
, 
mpz_t
 
z
)

119 (è
¡r
; (è
ba£
;

120 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

121  
	`x¡rdup
 (
	`imaxto¡r
 (
z
[0], 
buf
));

122 
	}
}

124 
	$mpz_sgn
 (
mpz_t
 
z
)

126  
z
[0] < 0 ? -1 : 0 < z[0];

127 
	}
}

129 
	$mpz_f™s_ulÚg_p
 (
mpz_t
 
z
)

131  0 <ğ
z
[0] && z[0] <ğ
ULONG_MAX
;

132 
	}
}

134 
	$mpz_g‘_ui
 (
mpz_t
 
z
)

136  
z
[0];

137 
	}
}

139 
	$mpz_out_¡r
 (
FILE
 *
¡»am
, 
ba£
, 
mpz_t
 
z
)

141 (è
ba£
;

142 
buf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

143  
	`åuts
 (
	`imaxto¡r
 (
z
[0], 
buf
), 
¡»am
è!ğ
EOF
;

144 
	}
}

148 
	#PROGRAM_NAME
 "ex´"

	)

150 
	#AUTHORS
 \

151 
	`´İ”_Çme
 ("Mike Parker"), \

152 
	`´İ”_Çme
 ("James Youngman"), \

153 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

161 
	mEXPR_INVALID
 = 2,

165 
	mEXPR_FAILURE


169 
	ev®ty³


171 
	mš‹g”
,

172 
	m¡ršg


174 
v®ty³
 
	tTYPE
;

177 
	sv®šfo


179 
TYPE
 
	mty³
;

182 
mpz_t
 
	mi
;

183 *
	ms
;

184 } 
	mu
;

186 
v®šfo
 
	tVALUE
;

189 **
	g¬gs
;

191 
VALUE
 *
ev®
 (
boŞ
);

192 
boŞ
 
nomÜ—rgs
 ();

193 
boŞ
 
nuÎ
 (
VALUE
 *
v
);

194 
´štv
 (
VALUE
 *
v
);

197 
	$u§ge
 (
¡©us
)

199 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

200 
	`em™_Œy_h–p
 ();

203 
	`´štf
 (
	`_
("\
: %s EXPRESSION\n\
: %s OPTION\n\
"),

207 
´og¿m_Çme
,…rogram_name);

208 
	`putch¬
 ('\n');

209 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

210 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

211 
	`åuts
 (
	`_
("\
\n\
hv®uoàEXPRESSIONØ¡ªd¬d ouut. A bÏnk†šb–ow\n\
 inü—sšg…»ûd’û groups. EXPRESSION may be:\n\
\n\
1 | ARG2 ARG1 ià™ i Ã™h”‚uÎ‚Ü 0, oth”wi£ ARG2\n\
\n\
1 & ARG2 ARG1 iàÃ™h”‡rgum’ˆi nuÎ o¸0, oth”wi£ 0\n\
"), 
¡dout
);

220 
	`åuts
 (
	`_
("\
\n\
1 < ARG2 ARG1 i Ës thª ARG2\n\
1 <ğARG2 ARG1 i Ës thª o¸equ®ØARG2\n\
1 = ARG2 ARG1 i equ®ØARG2\n\
1 !ğARG2 ARG1 i uÃqu®ØARG2\n\
1 >ğARG2 ARG1 i g»©”hª o¸equ®ØARG2\n\
1 > ARG2 ARG1 i g»©”hª ARG2\n\
"), 
¡dout
);

229 
	`åuts
 (
	`_
("\
\n\
1 + ARG2‡r™hm‘iøsum oàARG1‡nd ARG2\n\
1 - ARG2‡r™hm‘iødifã»nû oàARG1‡nd ARG2\n\
"), 
¡dout
);

236 
	`åuts
 (
	`_
("\
\n\
1 * ARG2‡r™hm‘iø´oduù oàARG1‡nd ARG2\n\
1 / ARG2‡r™hm‘iøquÙ›Á oàARG1 divided by ARG2\n\
1 % ARG2‡r™hm‘iø»mašd” oàARG1 divided by ARG2\n\
"), 
¡dout
);

242 
	`åuts
 (
	`_
("\
\n\
 : REGEXP‡nchÜed…©‹º m©ch oàREGEXP iÀSTRING\n\
\n\
 STRING REGEXP sama STRING : REGEXP\n\
 STRING POS LENGTH sub¡ršg oàSTRING, POS couÁed from 1\n\
 STRING CHARS index iÀSTRING wh”ªy CHARS i found, o¸0\n\
 STRING†’gth oàSTRING\n\
"), 
¡dout
);

251 
	`åuts
 (
	`_
("\
+ TOKEN iÁ”´‘ TOKEN‡ ¨¡ršg,ƒv’ ià™ i a\n\
†ik'm©ch' o¸ª o³¿tÜ†ik'/'\n\
\n\
ĞEXPRESSION ) v®uoàEXPRESSION\n\
"), 
¡dout
);

257 
	`åuts
 (
	`_
("\
\n\
h© mªy o³¿tÜ ÃedØbesÿ³d o¸quÙed fÜ sh–ls.\n\
‡»‡r™hm‘iøiàbÙh ARG ¬numb”s,ƒl£†exicog¿phiÿl.\n\
 m©che »tuºh¡ršg m©ched b‘w“À\\Ğªd \\èÜ‚uÎ; if\n\
\\Ğªd \\è¬nÙ u£d,hey„‘uºhnumb” oàch¬aù” m©ched o¸0.\n\
"), 
¡dout
);

264 
	`åuts
 (
	`_
("\
\n\
 stu i 0 iàEXPRESSION i Ã™h”‚uÎ‚Ü 0, 1 iàEXPRESSION i nuÎ\n\
 0, 2 iàEXPRESSION i syÁaùiÿÎy inv®id,‡nd 3 iàªƒ¼Ü occu¼ed.\n\
"), 
¡dout
);

269 
	`em™_ªcÏry_šfo
 ();

271 
	`ex™
 (
¡©us
);

272 
	}
}

276 
	$syÁax_”rÜ
 ()

278 
	`”rÜ
 (
EXPR_INVALID
, 0, 
	`_
("syntaxƒrror"));

279 
	}
}

283 
	$š‹g”_ov”æow
 (
İ
)

285 
	`”rÜ
 (
EXPR_FAILURE
, 
ERANGE
, "%c", 
İ
);

286 
	`abÜt
 ();

287 
	}
}

289 
	$d›
 (
”ºo_v®
, cÚ¡ *
msg
)

290 
ATTRIBUTE_NORETURN
;

292 
	$d›
 (
”ºo_v®
, cÚ¡ *
msg
)

294 
	`”rÜ
 (
EXPR_FAILURE
, 
”ºo_v®
, "%s", 
msg
);

295 
	`abÜt
 ();

296 
	}
}

299 
	$maš
 (
¬gc
, **
¬gv
)

301 
VALUE
 *
v
;

303 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

304 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

305 
	`£oÿË
 (
LC_ALL
, "");

306 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

307 
	`‹xtdomaš
 (
PACKAGE
);

309 
	`š™Ÿlize_ex™_çu»
 (
EXPR_FAILURE
);

310 
	`©ex™
 (
şo£_¡dout
);

312 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
VERSION
,

313 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

317 
u_¬gc
 = 
¬gc
;

318 ià(1 < 
u_¬gc
 && 
	`STREQ
 (
¬gv
[1], "--"))

320 --
u_¬gc
;

321 ++
¬gv
;

324 ià(
u_¬gc
 <= 1)

326 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

327 
	`u§ge
 (
EXPR_INVALID
);

330 
¬gs
 = 
¬gv
 + 1;

332 
v
 = 
	`ev®
 (
Œue
);

333 ià(!
	`nomÜ—rgs
 ())

334 
	`syÁax_”rÜ
 ();

335 
	`´štv
 (
v
);

337 
	`ex™
 (
	`nuÎ
 (
v
));

338 
	}
}

342 
VALUE
 *

343 
	$št_v®ue
 (
i
)

345 
VALUE
 *
v
 = 
	`xm®loc
 ( *v);

346 
v
->
ty³
 = 
š‹g”
;

347 
	`mpz_š™_£t_ui
 (
v
->
u
.
i
, i);

348  
v
;

349 
	}
}

353 
VALUE
 *

354 
	$¡r_v®ue
 (cÚ¡ *
s
)

356 
VALUE
 *
v
 = 
	`xm®loc
 ( *v);

357 
v
->
ty³
 = 
¡ršg
;

358 
v
->
u
.
s
 = 
	`x¡rdup
 (s);

359  
v
;

360 
	}
}

365 
	$ä“v
 (
VALUE
 *
v
)

367 ià(
v
->
ty³
 =ğ
¡ršg
)

368 
	`ä“
 (
v
->
u
.
s
);

370 
	`mpz_ş—r
 (
v
->
u
.
i
);

371 
	`ä“
 (
v
);

372 
	}
}

377 
	$´štv
 (
VALUE
 *
v
)

379 
v
->
ty³
)

381 
š‹g”
:

382 
	`mpz_out_¡r
 (
¡dout
, 10, 
v
->
u
.
i
);

383 
	`putch¬
 ('\n');

385 
¡ršg
:

386 
	`puts
 (
v
->
u
.
s
);

389 
	`abÜt
 ();

391 
	}
}

395 
boŞ
 
_GL_ATTRIBUTE_PURE


396 
	$nuÎ
 (
VALUE
 *
v
)

398 
v
->
ty³
)

400 
š‹g”
:

401  
	`mpz_sgn
 (
v
->
u
.
i
) == 0;

402 
¡ršg
:

404 cÚ¡ *
ı
 = 
v
->
u
.
s
;

405 ià(*
ı
 == '\0')

406  
Œue
;

408 
ı
 += (*cp == '-');

412 ià(*
ı
 != '0')

413  
çl£
;

415 *++
ı
);

417  
Œue
;

420 
	`abÜt
 ();

422 
	}
}

426 
boŞ
 
_GL_ATTRIBUTE_PURE


427 
	$looks_like_š‹g”
 (cÚ¡ *
ı
)

429 
ı
 += (*cp == '-');

432 ià(! 
	`ISDIGIT
 (*
ı
))

433  
çl£
;

434 *++
ı
);

436  
Œue
;

437 
	}
}

442 
	$to¡ršg
 (
VALUE
 *
v
)

444 
v
->
ty³
)

446 
š‹g”
:

448 *
s
 = 
	`mpz_g‘_¡r
 (
NULL
, 10, 
v
->
u
.
i
);

449 
	`mpz_ş—r
 (
v
->
u
.
i
);

450 
v
->
u
.
s
 = s;

451 
v
->
ty³
 = 
¡ršg
;

454 
¡ršg
:

457 
	`abÜt
 ();

459 
	}
}

463 
boŞ


464 
	$tßr™h
 (
VALUE
 *
v
)

466 
v
->
ty³
)

468 
š‹g”
:

469  
Œue
;

470 
¡ršg
:

472 *
s
 = 
v
->
u
.s;

474 ià(! 
	`looks_like_š‹g”
 (
s
))

475  
çl£
;

476 ià(
	`mpz_š™_£t_¡r
 (
v
->
u
.
i
, 
s
, 10è!ğ0 && !
HAVE_GMP
)

477 
	`”rÜ
 (
EXPR_FAILURE
, 
ERANGE
, "%s", 
s
);

478 
	`ä“
 (
s
);

479 
v
->
ty³
 = 
š‹g”
;

480  
Œue
;

483 
	`abÜt
 ();

485 
	}
}

490 
size_t


491 
	$g‘size
 (
mpz_t
 
i
)

493 ià(
	`mpz_sgn
 (
i
) < 0)

494  
SIZE_MAX
;

495 ià(
	`mpz_f™s_ulÚg_p
 (
i
))

497 
ul
 = 
	`mpz_g‘_ui
 (
i
);

498 ià(
ul
 < 
SIZE_MAX
)

499  
ul
;

501  
SIZE_MAX
 - 1;

502 
	}
}

507 
boŞ


508 
	$Ãxrg
 (cÚ¡ *
¡r
)

510 ià(*
¬gs
 =ğ
NULL
)

511  
çl£
;

514 
boŞ
 
r
 = 
	`STREQ
 (*
¬gs
, 
¡r
);

515 
¬gs
 +ğ
r
;

516  
r
;

518 
	}
}

522 
boŞ


523 
	$nomÜ—rgs
 ()

525  *
¬gs
 == 0;

526 
	}
}

528 #ifdeà
EVAL_TRACE


532 
	$Œaû
 (
fxn
)

533 *
fxn
;

535 **
a
;

537 
	`´štf
 ("%s:", 
fxn
);

538 
a
 = 
¬gs
; *a;‡++)

539 
	`´štf
 (" %s", *
a
);

540 
	`putch¬
 ('\n');

541 
	}
}

548 
VALUE
 *

549 
	$docŞÚ
 (
VALUE
 *
sv
, VALUE *
pv
)

551 
VALUE
 *
v
 
	`IF_LINT
 ( = 
NULL
);

552 cÚ¡ *
”rmsg
;

553 
»_·‰”n_bufãr
 
»_bufãr
;

554 
ç¡m­
[
UCHAR_MAX
 + 1];

555 
»_»gi¡”s
 
»_»gs
;

556 
»goff_t
 
m©chËn
;

558 
	`to¡ršg
 (
sv
);

559 
	`to¡ršg
 (
pv
);

561 
»_»gs
.
num_»gs
 = 0;

562 
»_»gs
.
¡¬t
 = 
NULL
;

563 
»_»gs
.
’d
 = 
NULL
;

565 
»_bufãr
.
bufãr
 = 
NULL
;

566 
»_bufãr
.
®loÿ‹d
 = 0;

567 
»_bufãr
.
ç¡m­
 = fastmap;

568 
»_bufãr
.
Œª¦©e
 = 
NULL
;

569 
»_syÁax_İtiÚs
 =

570 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

571 
”rmsg
 = 
	`»_compe_·‰”n
 (
pv
->
u
.
s
, 
	`¡¾’
 (pv->u.s), &
»_bufãr
);

572 ià(
”rmsg
)

573 
	`”rÜ
 (
EXPR_INVALID
, 0, "%s", 
”rmsg
);

574 
»_bufãr
.
Ãwlše_ªchÜ
 = 0;

576 
m©chËn
 = 
	`»_m©ch
 (&
»_bufãr
, 
sv
->
u
.
s
, 
	`¡¾’
 (sv->u.s), 0, &
»_»gs
);

577 ià(0 <ğ
m©chËn
)

580 ià(
»_bufãr
.
»_nsub
 > 0)

582 
sv
->
u
.
s
[
»_»gs
.
’d
[1]] = '\0';

583 
v
 = 
	`¡r_v®ue
 (
sv
->
u
.
s
 + 
»_»gs
.
¡¬t
[1]);

586 
v
 = 
	`št_v®ue
 (
m©chËn
);

588 ià(
m©chËn
 == -1)

591 ià(
»_bufãr
.
»_nsub
 > 0)

592 
v
 = 
	`¡r_v®ue
 ("");

594 
v
 = 
	`št_v®ue
 (0);

597 
	`”rÜ
 (
EXPR_FAILURE
,

598 (
m©chËn
 =ğ-2 ? 
”ºo
 : 
EOVERFLOW
),

599 
	`_
("error in„egularƒxpression matcher"));

601 ià(0 < 
»_»gs
.
num_»gs
)

603 
	`ä“
 (
»_»gs
.
¡¬t
);

604 
	`ä“
 (
»_»gs
.
’d
);

606 
»_bufãr
.
ç¡m­
 = 
NULL
;

607 
	`»gä“
 (&
»_bufãr
);

608  
v
;

609 
	}
}

613 
VALUE
 *

614 
	$ev®7
 (
boŞ
 
ev®u©e
)

616 
VALUE
 *
v
;

618 #ifdeà
EVAL_TRACE


619 
	`Œaû
 ("eval7");

621 ià(
	`nomÜ—rgs
 ())

622 
	`syÁax_”rÜ
 ();

624 ià(
	`Ãxrg
 ("("))

626 
v
 = 
	`ev®
 (
ev®u©e
);

627 ià(!
	`Ãxrg
 (")"))

628 
	`syÁax_”rÜ
 ();

629  
v
;

632 ià(
	`Ãxrg
 (")"))

633 
	`syÁax_”rÜ
 ();

635  
	`¡r_v®ue
 (*
¬gs
++);

636 
	}
}

640 
VALUE
 *

641 
	$ev®6
 (
boŞ
 
ev®u©e
)

643 
VALUE
 *
l
;

644 
VALUE
 *
r
;

645 
VALUE
 *
v
;

646 
VALUE
 *
i1
;

647 
VALUE
 *
i2
;

649 #ifdeà
EVAL_TRACE


650 
	`Œaû
 ("eval6");

652 ià(
	`Ãxrg
 ("+"))

654 ià(
	`nomÜ—rgs
 ())

655 
	`syÁax_”rÜ
 ();

656  
	`¡r_v®ue
 (*
¬gs
++);

658 ià(
	`Ãxrg
 ("length"))

660 
r
 = 
	`ev®6
 (
ev®u©e
);

661 
	`to¡ršg
 (
r
);

662 
v
 = 
	`št_v®ue
 (
	`¡¾’
 (
r
->
u
.
s
));

663 
	`ä“v
 (
r
);

664  
v
;

666 ià(
	`Ãxrg
 ("match"))

668 
l
 = 
	`ev®6
 (
ev®u©e
);

669 
r
 = 
	`ev®6
 (
ev®u©e
);

670 ià(
ev®u©e
)

672 
v
 = 
	`docŞÚ
 (
l
, 
r
);

673 
	`ä“v
 (
l
);

676 
v
 = 
l
;

677 
	`ä“v
 (
r
);

678  
v
;

680 ià(
	`Ãxrg
 ("index"))

682 
size_t
 
pos
;

684 
l
 = 
	`ev®6
 (
ev®u©e
);

685 
r
 = 
	`ev®6
 (
ev®u©e
);

686 
	`to¡ršg
 (
l
);

687 
	`to¡ršg
 (
r
);

688 
pos
 = 
	`¡rc¥n
 (
l
->
u
.
s
, 
r
->u.s);

689 
v
 = 
	`št_v®ue
 (
l
->
u
.
s
[
pos
] ?…os + 1 : 0);

690 
	`ä“v
 (
l
);

691 
	`ä“v
 (
r
);

692  
v
;

694 ià(
	`Ãxrg
 ("substr"))

696 
size_t
 
Î’
;

697 
l
 = 
	`ev®6
 (
ev®u©e
);

698 
i1
 = 
	`ev®6
 (
ev®u©e
);

699 
i2
 = 
	`ev®6
 (
ev®u©e
);

700 
	`to¡ršg
 (
l
);

701 
Î’
 = 
	`¡¾’
 (
l
->
u
.
s
);

703 ià(!
	`tßr™h
 (
i1
è|| !tßr™h (
i2
))

704 
v
 = 
	`¡r_v®ue
 ("");

707 
size_t
 
pos
 = 
	`g‘size
 (
i1
->
u
.
i
);

708 
size_t
 
Ën
 = 
	`g‘size
 (
i2
->
u
.
i
);

710 ià(
Î’
 < 
pos
 ||…o =ğ0 || 
Ën
 =ğ0 ||†’ =ğ
SIZE_MAX
)

711 
v
 = 
	`¡r_v®ue
 ("");

714 
size_t
 
vËn
 = 
	`MIN
 (
Ën
, 
Î’
 - 
pos
 + 1);

715 *
vlim
;

716 
v
 = 
	`xm®loc
 ( *v);

717 
v
->
ty³
 = 
¡ršg
;

718 
v
->
u
.
s
 = 
	`xm®loc
 (
vËn
 + 1);

719 
vlim
 = 
	`mempıy
 (
v
->
u
.
s
, 
l
->u. + 
pos
 - 1, 
vËn
);

720 *
vlim
 = '\0';

723 
	`ä“v
 (
l
);

724 
	`ä“v
 (
i1
);

725 
	`ä“v
 (
i2
);

726  
v
;

729  
	`ev®7
 (
ev®u©e
);

730 
	}
}

735 
VALUE
 *

736 
	$ev®5
 (
boŞ
 
ev®u©e
)

738 
VALUE
 *
l
;

739 
VALUE
 *
r
;

740 
VALUE
 *
v
;

742 #ifdeà
EVAL_TRACE


743 
	`Œaû
 ("eval5");

745 
l
 = 
	`ev®6
 (
ev®u©e
);

748 ià(
	`Ãxrg
 (":"))

750 
r
 = 
	`ev®6
 (
ev®u©e
);

751 ià(
ev®u©e
)

753 
v
 = 
	`docŞÚ
 (
l
, 
r
);

754 
	`ä“v
 (
l
);

755 
l
 = 
v
;

757 
	`ä“v
 (
r
);

760  
l
;

762 
	}
}

766 
VALUE
 *

767 
	$ev®4
 (
boŞ
 
ev®u©e
)

769 
VALUE
 *
l
;

770 
VALUE
 *
r
;

771 ’um { 
muÉly
, 
divide
, 
mod
 } 
fxn
;

773 #ifdeà
EVAL_TRACE


774 
	`Œaû
 ("eval4");

776 
l
 = 
	`ev®5
 (
ev®u©e
);

779 ià(
	`Ãxrg
 ("*"))

780 
fxn
 = 
muÉly
;

781 ià(
	`Ãxrg
 ("/"))

782 
fxn
 = 
divide
;

783 ià(
	`Ãxrg
 ("%"))

784 
fxn
 = 
mod
;

786  
l
;

787 
r
 = 
	`ev®5
 (
ev®u©e
);

788 ià(
ev®u©e
)

790 ià(!
	`tßr™h
 (
l
è|| !tßr™h (
r
))

791 
	`”rÜ
 (
EXPR_INVALID
, 0, 
	`_
("non-integer‡rgument"));

792 ià(
fxn
 !ğ
muÉly
 && 
	`mpz_sgn
 (
r
->
u
.
i
) == 0)

793 
	`”rÜ
 (
EXPR_INVALID
, 0, 
	`_
("division by zero"));

794 ((
fxn
 =ğ
muÉly
 ? 
mpz_mul


795 : 
fxn
 =ğ
divide
 ? 
mpz_tdiv_q


796 : 
mpz_tdiv_r
)

797 (
l
->
u
.
i
,†->u.i, 
r
->u.i));

799 
	`ä“v
 (
r
);

801 
	}
}

805 
VALUE
 *

806 
	$ev®3
 (
boŞ
 
ev®u©e
)

808 
VALUE
 *
l
;

809 
VALUE
 *
r
;

810 ’um { 
¶us
, 
mšus
 } 
fxn
;

812 #ifdeà
EVAL_TRACE


813 
	`Œaû
 ("eval3");

815 
l
 = 
	`ev®4
 (
ev®u©e
);

818 ià(
	`Ãxrg
 ("+"))

819 
fxn
 = 
¶us
;

820 ià(
	`Ãxrg
 ("-"))

821 
fxn
 = 
mšus
;

823  
l
;

824 
r
 = 
	`ev®4
 (
ev®u©e
);

825 ià(
ev®u©e
)

827 ià(!
	`tßr™h
 (
l
è|| !tßr™h (
r
))

828 
	`”rÜ
 (
EXPR_INVALID
, 0, 
	`_
("non-integer‡rgument"));

829 (
fxn
 =ğ
¶us
 ? 
mpz_add
 : 
mpz_sub
è(
l
->
u
.
i
,†->u.i, 
r
->u.i);

831 
	`ä“v
 (
r
);

833 
	}
}

837 
VALUE
 *

838 
	$ev®2
 (
boŞ
 
ev®u©e
)

840 
VALUE
 *
l
;

842 #ifdeà
EVAL_TRACE


843 
	`Œaû
 ("eval2");

845 
l
 = 
	`ev®3
 (
ev®u©e
);

848 
VALUE
 *
r
;

851 
Ëss_thª
, 
Ëss_equ®
, 
equ®
, 
nÙ_equ®
, 
g»©”_equ®
, 
g»©”_thª


852 } 
fxn
;

853 
boŞ
 
v®
 = 
çl£
;

855 ià(
	`Ãxrg
 ("<"))

856 
fxn
 = 
Ëss_thª
;

857 ià(
	`Ãxrg
 ("<="))

858 
fxn
 = 
Ëss_equ®
;

859 ià(
	`Ãxrg
 ("=") ||‚extarg ("=="))

860 
fxn
 = 
equ®
;

861 ià(
	`Ãxrg
 ("!="))

862 
fxn
 = 
nÙ_equ®
;

863 ià(
	`Ãxrg
 (">="))

864 
fxn
 = 
g»©”_equ®
;

865 ià(
	`Ãxrg
 (">"))

866 
fxn
 = 
g»©”_thª
;

868  
l
;

869 
r
 = 
	`ev®3
 (
ev®u©e
);

871 ià(
ev®u©e
)

873 
cmp
;

874 
	`to¡ršg
 (
l
);

875 
	`to¡ršg
 (
r
);

877 ià(
	`looks_like_š‹g”
 (
l
->
u
.
s
è&&†ooks_like_š‹g” (
r
->u.s))

878 
cmp
 = 
	`¡rštcmp
 (
l
->
u
.
s
, 
r
->u.s);

881 
”ºo
 = 0;

882 
cmp
 = 
	`¡rcŞl
 (
l
->
u
.
s
, 
r
->u.s);

884 ià(
”ºo
)

886 
	`”rÜ
 (0, 
”ºo
, 
	`_
("string comparison failed"));

887 
	`”rÜ
 (0, 0, 
	`_
("set LC_ALL='C'o work‡roundhe…roblem"));

888 
	`”rÜ
 (
EXPR_INVALID
, 0,

889 
	`_
("the strings compared were %s‡nd %s"),

890 
	`quÙ—rg_n_¡yË
 (0, 
loÿË_quÙšg_¡yË
, 
l
->
u
.
s
),

891 
	`quÙ—rg_n_¡yË
 (1, 
loÿË_quÙšg_¡yË
, 
r
->
u
.
s
));

895 
fxn
)

897 
Ëss_thª
: 
v®
 = (
cmp
 < 0); ;

898 
Ëss_equ®
: 
v®
 = (
cmp
 <= 0); ;

899 
equ®
: 
v®
 = (
cmp
 == 0); ;

900 
nÙ_equ®
: 
v®
 = (
cmp
 != 0); ;

901 
g»©”_equ®
: 
v®
 = (
cmp
 >= 0); ;

902 
g»©”_thª
: 
v®
 = (
cmp
 > 0); ;

903 : 
	`abÜt
 ();

907 
	`ä“v
 (
l
);

908 
	`ä“v
 (
r
);

909 
l
 = 
	`št_v®ue
 (
v®
);

911 
	}
}

915 
VALUE
 *

916 
	$ev®1
 (
boŞ
 
ev®u©e
)

918 
VALUE
 *
l
;

919 
VALUE
 *
r
;

921 #ifdeà
EVAL_TRACE


922 
	`Œaû
 ("eval1");

924 
l
 = 
	`ev®2
 (
ev®u©e
);

927 ià(
	`Ãxrg
 ("&"))

929 
r
 = 
	`ev®2
 (
ev®u©e
 && !
	`nuÎ
 (
l
));

930 ià(
	`nuÎ
 (
l
è||‚uÎ (
r
))

932 
	`ä“v
 (
l
);

933 
	`ä“v
 (
r
);

934 
l
 = 
	`št_v®ue
 (0);

937 
	`ä“v
 (
r
);

940  
l
;

942 
	}
}

946 
VALUE
 *

947 
	$ev®
 (
boŞ
 
ev®u©e
)

949 
VALUE
 *
l
;

950 
VALUE
 *
r
;

952 #ifdeà
EVAL_TRACE


953 
	`Œaû
 ("eval");

955 
l
 = 
	`ev®1
 (
ev®u©e
);

958 ià(
	`Ãxrg
 ("|"))

960 
r
 = 
	`ev®1
 (
ev®u©e
 && 
	`nuÎ
 (
l
));

961 ià(
	`nuÎ
 (
l
))

963 
	`ä“v
 (
l
);

964 
l
 = 
r
;

965 ià(
	`nuÎ
 (
l
))

967 
	`ä“v
 (
l
);

968 
l
 = 
	`št_v®ue
 (0);

972 
	`ä“v
 (
r
);

975  
l
;

977 
	}
}

	@extent-scan.c

19 
	~<cÚfig.h
>

20 
	~<sys/ty³s.h
>

21 
	~<sys/ioùl.h
>

22 
	~<sys/ut¢ame.h
>

23 
	~<as£¹.h
>

25 
	~"sy¡em.h
"

26 
	~"ex‹Á-sÿn.h
"

27 
	~"f›m­.h
"

28 
	~"x¡¹Ş.h
"

34 
boŞ


35 
	$ex‹Á_Ãed_sync
 ()

41  
Œue
;

43 #ià
FIEMAP_BEHAVIOR_IS_DEFINED_AND_USABLE


44 
Ãed_sync
 = -1;

46 ià(
Ãed_sync
 == -1)

48 
ut¢ame
 
Çme
;

49 
Ãed_sync
 = 0;

51 #ifdeà
__lšux__


52 ià(
	`uÇme
 (&
Çme
è!ğ-1 && 
	`STRNCMP_LIT
 (Çme.
»Ëa£
, "2.6.") == 0)

54 
v®
;

55 ià(
	`x¡¹oul
 (
Çme
.
»Ëa£
 + 4, 
NULL
, 10, &
v®
, NULLè=ğ
LONGINT_OK
)

57 ià(
v®
 < 39)

58 
Ãed_sync
 = 1;

64  
Ãed_sync
;

66 
	}
}

71 
	$ex‹Á_sÿn_š™
 (
¤c_fd
, 
ex‹Á_sÿn
 *
sÿn
)

73 
sÿn
->
fd
 = 
¤c_fd
;

74 
sÿn
->
ei_couÁ
 = 0;

75 
sÿn
->
ext_šfo
 = 
NULL
;

76 
sÿn
->
sÿn_¡¬t
 = 0;

77 
sÿn
->
š™Ÿl_sÿn_çed
 = 
çl£
;

78 
sÿn
->
h™_fš®_ex‹Á
 = 
çl£
;

79 
sÿn
->
fm_æags
 = 
	`ex‹Á_Ãed_sync
 (è? 
FIEMAP_FLAG_SYNC
 : 0;

80 
	}
}

82 #ifdeà
__lšux__


83 #iâdeà
FS_IOC_FIEMAP


84 
	#FS_IOC_FIEMAP
 
	`_IOWR
 ('f', 11, 
f›m­
)

	)

88 
boŞ


89 
	$ex‹Á_sÿn_»ad
 (
ex‹Á_sÿn
 *
sÿn
)

91 
si
 = 0;

92 
ex‹Á_šfo
 *
Ï¡_ei
 = 
sÿn
->
ext_šfo
;

94 
Œue
)

96 uniÚ { 
f›m­
 
f
; 
c
[4096]; } 
f›m­_buf
;

97 
f›m­
 *f›m­ = &
f›m­_buf
.
f
;

98 
f›m­_ex‹Á
 *
fm_ex‹Ás
 = &
f›m­
->fm_extents[0];

99 ’um { 
couÁ
 = ( 
f›m­_buf
 -  *
f›m­
)/ *
fm_ex‹Ás
 };

100 
	`v”ify
 (
couÁ
 > 1);

105 
	`mem£t
 (&
f›m­_buf
, 0,  fiemap_buf);

107 
f›m­
->
fm_¡¬t
 = 
sÿn
->
sÿn_¡¬t
;

108 
f›m­
->
fm_æags
 = 
sÿn
->fm_flags;

109 
f›m­
->
fm_ex‹Á_couÁ
 = 
couÁ
;

110 
f›m­
->
fm_Ëngth
 = 
FIEMAP_MAX_OFFSET
 - 
sÿn
->
sÿn_¡¬t
;

114 ià(
	`ioùl
 (
sÿn
->
fd
, 
FS_IOC_FIEMAP
, 
f›m­
) < 0)

116 ià(
sÿn
->
sÿn_¡¬t
 == 0)

117 
sÿn
->
š™Ÿl_sÿn_çed
 = 
Œue
;

118  
çl£
;

122 ià(
f›m­
->
fm_m­³d_ex‹Ás
 == 0)

124 
sÿn
->
h™_fš®_ex‹Á
 = 
Œue
;

125  
sÿn
->
sÿn_¡¬t
 != 0;

128 
	`as£¹
 (
sÿn
->
ei_couÁ
 <ğ
SIZE_MAX
 - 
f›m­
->
fm_m­³d_ex‹Ás
);

129 
sÿn
->
ei_couÁ
 +ğ
f›m­
->
fm_m­³d_ex‹Ás
;

133 
size_t
 
´ev_idx
 = 
Ï¡_ei
 - 
sÿn
->
ext_šfo
;

134 
sÿn
->
ext_šfo
 = 
	`xÄ—Îoc
 (sÿn->ext_šfo, sÿn->
ei_couÁ
,

135  (
ex‹Á_šfo
));

136 
Ï¡_ei
 = 
sÿn
->
ext_šfo
 + 
´ev_idx
;

139 
i
 = 0;

140 
i
 = 0; i < 
f›m­
->
fm_m­³d_ex‹Ás
; i++)

142 
	`as£¹
 (
fm_ex‹Ás
[
i
].
ã_logiÿl


143 <ğ
OFF_T_MAX
 - 
fm_ex‹Ás
[
i
].
ã_Ëngth
);

145 ià(
si
 && 
Ï¡_ei
->
ext_æags


146 =ğ(
fm_ex‹Ás
[
i
].
ã_æags
 & ~
FIEMAP_EXTENT_LAST
)

147 && (
Ï¡_ei
->
ext_logiÿl
 +†a¡_ei->
ext_Ëngth


148 =ğ
fm_ex‹Ás
[
i
].
ã_logiÿl
))

151 
Ï¡_ei
->
ext_Ëngth
 +ğ
fm_ex‹Ás
[
i
].
ã_Ëngth
;

153 
Ï¡_ei
->
ext_æags
 = 
fm_ex‹Ás
[
i
].
ã_æags
;

155 ià((
si
 =ğ0 && 
sÿn
->
sÿn_¡¬t
 > 
fm_ex‹Ás
[
i
].
ã_logiÿl
)

156 || (
si
 && (
Ï¡_ei
->
ext_logiÿl
 +†a¡_ei->
ext_Ëngth


157 > 
fm_ex‹Ás
[
i
].
ã_logiÿl
)))

163 
ušt64_t
 
Ãw_logiÿl
;

164 
ušt64_t
 
Ëngth_adju¡
;

165 ià(
si
 == 0)

166 
Ãw_logiÿl
 = 
sÿn
->
sÿn_¡¬t
;

171 
Ãw_logiÿl
 = 
Ï¡_ei
->
ext_logiÿl
 +†a¡_ei->
ext_Ëngth
;

173 
Ëngth_adju¡
 = 
Ãw_logiÿl
 - 
fm_ex‹Ás
[
i
].
ã_logiÿl
;

175 ià(
Ëngth_adju¡
 < 
fm_ex‹Ás
[
i
].
ã_Ëngth
)

177 ià(
sÿn
->
sÿn_¡¬t
 == 0)

178 
sÿn
->
š™Ÿl_sÿn_çed
 = 
Œue
;

179  
çl£
;

181 
fm_ex‹Ás
[
i
].
ã_logiÿl
 = 
Ãw_logiÿl
;

182 
fm_ex‹Ás
[
i
].
ã_Ëngth
 -ğ
Ëngth_adju¡
;

184 
i
--;

189 
Ï¡_ei
 = 
sÿn
->
ext_šfo
 + 
si
;

190 
Ï¡_ei
->
ext_logiÿl
 = 
fm_ex‹Ás
[
i
].
ã_logiÿl
;

191 
Ï¡_ei
->
ext_Ëngth
 = 
fm_ex‹Ás
[
i
].
ã_Ëngth
;

192 
Ï¡_ei
->
ext_æags
 = 
fm_ex‹Ás
[
i
].
ã_æags
;

193 
si
++;

197 ià(
Ï¡_ei
->
ext_æags
 & 
FIEMAP_EXTENT_LAST
)

198 
sÿn
->
h™_fš®_ex‹Á
 = 
Œue
;

202 ià(
si
 > 
couÁ
 && !
sÿn
->
h™_fš®_ex‹Á
)

203 
Ï¡_ei
 = 
sÿn
->
ext_šfo
 + --
si
 - 1;

206 
sÿn
->
ei_couÁ
 = 
si
;

208 ià(
sÿn
->
h™_fš®_ex‹Á
)

211 
sÿn
->
sÿn_¡¬t
 = 
Ï¡_ei
->
ext_logiÿl
 +†a¡_ei->
ext_Ëngth
;

213 ià(
si
 >ğ
couÁ
)

217  
Œue
;

218 
	}
}

220 
boŞ


221 
	$ex‹Á_sÿn_»ad
 (
ex‹Á_sÿn
 *
sÿn
 
ATTRIBUTE_UNUSED
)

223 
sÿn
->
š™Ÿl_sÿn_çed
 = 
Œue
;

224 
”ºo
 = 
ENOTSUP
;

225  
çl£
;

226 
	}
}

	@extent-scan.h

19 #iâdeà
EXTENT_SCAN_H


20 
	#EXTENT_SCAN_H


	)

23 
	sex‹Á_šfo


26 
off_t
 
	mext_logiÿl
;

29 
ušt64_t
 
	mext_Ëngth
;

32 
ušt32_t
 
	mext_æags
;

36 
	sex‹Á_sÿn


39 
	mfd
;

42 
off_t
 
	msÿn_¡¬t
;

45 
ušt32_t
 
	mfm_æags
;

48 
ušt32_t
 
	mei_couÁ
;

52 
boŞ
 
	mš™Ÿl_sÿn_çed
;

55 
boŞ
 
	mh™_fš®_ex‹Á
;

58 
ex‹Á_šfo
 *
	mext_šfo
;

61 
ex‹Á_sÿn_š™
 (
¤c_fd
, 
ex‹Á_sÿn
 *
sÿn
);

63 
boŞ
 
ex‹Á_sÿn_»ad
 (
ex‹Á_sÿn
 *
sÿn
);

65 
šlše
 

66 
	$ex‹Á_sÿn_ä“
 (
ex‹Á_sÿn
 *
sÿn
)

68 
	`ä“
 (
sÿn
->
ext_šfo
);

69 
sÿn
->
ext_šfo
 = 
NULL
;

70 
sÿn
->
ei_couÁ
 = 0;

71 
	}
}

	@factor.c

87 
	~<cÚfig.h
>

88 
	~<g‘İt.h
>

89 
	~<¡dio.h
>

90 #ià
HAVE_GMP


91 
	~<gmp.h
>

92 #ià!
HAVE_DECL_MPZ_INITS


93 
	~<¡d¬g.h
>

97 
	~<as£¹.h
>

99 
	~"sy¡em.h
"

100 
	~"”rÜ.h
"

101 
	~"quÙe.h
"

102 
	~"»adtok’s.h
"

103 
	~"x¡¹Ş.h
"

106 
	#PROGRAM_NAME
 "çùÜ"

	)

108 
	#AUTHORS
 \

109 
	`´İ”_Çme
 ("Paul Rubin"), \

110 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

111 
	`´İ”_Çme_utf8
 ("N›l MŞËr", "N›l M\303\266Î”")

	)

114 
	#DELIM
 "\n\ˆ"

	)

116 #iâdeà
STAT_SQUFOF


117 
	#STAT_SQUFOF
 0

	)

120 #iâdeà
USE_LONGLONG_H


126 #ià
LONG_MAX
 =ğ
INTMAX_MAX


127 
	#USE_LONGLONG_H
 1

	)

131 #ià
USE_LONGLONG_H


136 #ià
UINTMAX_MAX
 =ğ
UINT32_MAX


137 
	#W_TYPE_SIZE
 32

	)

138 #–ià
UINTMAX_MAX
 =ğ
UINT64_MAX


139 
	#W_TYPE_SIZE
 64

	)

140 #–ià
UINTMAX_MAX
 =ğ
UINT128_MAX


141 
	#W_TYPE_SIZE
 128

	)

144 
	#UWty³
 
uštmax_t


	)

145 
	#UHWty³
 

	)

146 #undeà
UDWty³


147 #ià
HAVE_ATTRIBUTE_MODE


148 
	tUQIty³
 
	t__©Œibu‹__
 ((
	tmode
 (
	tQI
)));

149 
	tSIty³
 
	t__©Œibu‹__
 ((
	tmode
 (
	tSI
)));

150 
	tUSIty³
 
	t__©Œibu‹__
 ((
	tmode
 (
	tSI
)));

151 
	tDIty³
 
	t__©Œibu‹__
 ((
	tmode
 (
	tDI
)));

152 
	tUDIty³
 
	t__©Œibu‹__
 ((
	tmode
 (
	tDI
)));

154 
	tUQIty³
;

155 
	tSIty³
;

156 
	tUSIty³
;

157 #ià
HAVE_LONG_LONG_INT


158 
	tDIty³
;

159 
	tUDIty³
;

161 
	tDIty³
;

162 
	tUDIty³
;

165 
	#LONGLONG_STANDALONE


	)

166 
	#ASSERT
(
x
è

	)

167 
	#__GMP_DECLSPEC


	)

168 
	#__şz_b
 
çùÜ_şz_b


	)

169 #iâdeà
__GMP_GNUC_PREREQ


170 
	#__GMP_GNUC_PREREQ
(
a
,
b
è1

	)

175 #ià
__GMP_GNUC_PREREQ
 (1,1è&& 
defšed
 
__şz_b


176 
	$ASSERT
 (1)

177 
__GMP_DECLSPEC


180 #ià
_ARCH_PPC


181 
	#HAVE_HOST_CPU_FAMILY_pow”pc
 1

	)

183 
	~"lÚglÚg.h
"

184 #ifdeà
COUNT_LEADING_ZEROS_NEED_CLZ_TAB


185 cÚ¡ 
çùÜ_şz_b
[129] =

192 
	}
};

197 
	#W_TYPE_SIZE
 (8 *  (
uštmax_t
))

	)

198 
	#__Î_B
 ((
uštmax_t
è1 << (
W_TYPE_SIZE
 / 2))

	)

199 
	#__Î_low·¹
(
t
è((
uštmax_t
èÑè& (
__Î_B
 - 1))

	)

200 
	#__Î_high·¹
(
t
è((
uštmax_t
èÑè>> (
W_TYPE_SIZE
 / 2))

	)

204 #ià!
defšed
 
__şz_b
 && !defšed 
UHWty³


210 
	e®g_ty³
 { 
	mALG_POLLARD_RHO
 = 1, 
	mALG_SQUFOF
 = 2 };

212 
®g_ty³
 
	g®g
;

215 
	#MAX_NFACTS
 26

	)

219 
	mDEV_DEBUG_OPTION
 = 
CHAR_MAX
 + 1

222 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

224 {"-debug", 
no_¬gum’t
, 
NULL
, 
DEV_DEBUG_OPTION
},

225 {
GETOPT_HELP_OPTION_DECL
},

226 {
GETOPT_VERSION_OPTION_DECL
},

227 {
NULL
, 0, NULL, 0}

230 
	sçùÜs


232 
uštmax_t
 
	m¶¬ge
[2];

233 
uštmax_t
 
	mp
[
MAX_NFACTS
];

234 
	me
[
MAX_NFACTS
];

235 
	mnçùÜs
;

238 #ià
HAVE_GMP


239 
	smp_çùÜs


241 
mpz_t
 *
	mp
;

242 *
	me
;

243 
	mnçùÜs
;

247 
çùÜ
 (
uštmax_t
, uštmax_t, 
çùÜs
 *);

249 #iâdeà
umul_µmm


250 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

252 
uštmax_t
 
__x0
, 
__x1
, 
__x2
, 
__x3
; \

253 
__ul
, 
__vl
, 
__uh
, 
__vh
; \

254 
uštmax_t
 
__u
 = (
u
), 
__v
 = (
v
); \

256 
__ul
 = 
	`__Î_low·¹
 (
__u
); \

257 
__uh
 = 
	`__Î_high·¹
 (
__u
); \

258 
__vl
 = 
	`__Î_low·¹
 (
__v
); \

259 
__vh
 = 
	`__Î_high·¹
 (
__v
); \

261 
__x0
 = (
uštmax_t
è
__ul
 * 
__vl
; \

262 
__x1
 = (
uštmax_t
è
__ul
 * 
__vh
; \

263 
__x2
 = (
uštmax_t
è
__uh
 * 
__vl
; \

264 
__x3
 = (
uštmax_t
è
__uh
 * 
__vh
; \

266 
__x1
 +ğ
	`__Î_high·¹
 (
__x0
); \

267 
__x1
 +ğ
__x2
; \

268 ià(
__x1
 < 
__x2
) \

269 
__x3
 +ğ
__Î_B
; \

271 (
w1
èğ
__x3
 + 
	`__Î_high·¹
 (
__x1
); \

272 (
w0
èğ(
__x1
 << 
W_TYPE_SIZE
 / 2è+ 
	`__Î_low·¹
 (
__x0
); \

273 } 0)

	)

276 #ià!
defšed
 
udiv_qºnd
 || defšed 
UDIV_NEEDS_NORMALIZATION


280 #undeà
udiv_qºnd


281 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

283 
uštmax_t
 
__d1
, 
__d0
, 
__q
, 
__r1
, 
__r0
; \

285 
	`as£¹
 ((
n1
è< (
d
)); \

286 
__d1
 = (
d
); 
__d0
 = 0; \

287 
__r1
 = (
n1
); 
__r0
 = (
n0
); \

288 
__q
 = 0; \

289 
__i
 = 
W_TYPE_SIZE
; __i > 0; __i--) \

291 
	`rsh2
 (
__d1
, 
__d0
, __d1, __d0, 1); \

292 
__q
 <<= 1; \

293 ià(
	`ge2
 (
__r1
, 
__r0
, 
__d1
, 
__d0
)) \

295 
__q
++; \

296 
	`sub_ddmmss
 (
__r1
, 
__r0
, __r1, __r0, 
__d1
, 
__d0
); \

299 (
r
èğ
__r0
; \

300 (
q
èğ
__q
; \

301 } 0)

	)

304 #ià!
defšed
 
add_s§¯a


305 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

307 
uštmax_t
 
_add_x
; \

308 
_add_x
 = (
®
è+ (
bl
); \

309 (
sh
èğ(
ah
è+ (
bh
è+ (
_add_x
 < (
®
)); \

310 (
¦
èğ
_add_x
; \

311 } 0)

	)

314 
	#rsh2
(
rh
, 
¾
, 
ah
, 
®
, 
út
) \

316 (
¾
èğ((
ah
è<< (
W_TYPE_SIZE
 - (
út
))è| ((
®
) >> (cnt)); \

317 (
rh
èğ(
ah
è>> (
út
); \

318 } 0)

	)

320 
	#lsh2
(
rh
, 
¾
, 
ah
, 
®
, 
út
) \

322 (
rh
èğ((
ah
è<< 
út
è| ((
®
è>> (
W_TYPE_SIZE
 - (cnt))); \

323 (
¾
èğ(
®
è<< (
út
); \

324 } 0)

	)

326 
	#ge2
(
ah
, 
®
, 
bh
, 
bl
) \

327 ((
ah
è> (
bh
è|| (×hè=ğ(bhè&& (
®
è>ğ(
bl
)))

	)

329 
	#gt2
(
ah
, 
®
, 
bh
, 
bl
) \

330 ((
ah
è> (
bh
è|| (×hè=ğ(bhè&& (
®
è> (
bl
)))

	)

332 #iâdeà
sub_ddmmss


333 
	#sub_ddmmss
(
rh
, 
¾
, 
ah
, 
®
, 
bh
, 
bl
) \

335 
uštmax_t
 
_cy
; \

336 
_cy
 = (
®
è< (
bl
); \

337 (
¾
èğ(
®
è- (
bl
); \

338 (
rh
èğ(
ah
è- (
bh
è- 
_cy
; \

339 } 0)

	)

342 #iâdeà
couÁ_Ëadšg_z”os


343 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) do { \

344 
uštmax_t
 
__şz_x
 = (
x
); \

345 
__şz_c
; \

346 
__şz_c
 = 0; \

347 (
__şz_x
 & ((
uštmax_t
è0xfà<< (
W_TYPE_SIZE
 - 8))) == 0; \

348 
__şz_c
 += 8) \

349 
__şz_x
 <<= 8; \

350 ; (
štmax_t
)
__şz_x
 >ğ0; 
__şz_c
++) \

351 
__şz_x
 <<= 1; \

352 (
couÁ
èğ
__şz_c
; \

353 } 0)

	)

356 #iâdeà
couÁ_Œašg_z”os


357 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) do { \

358 
uštmax_t
 
__ùz_x
 = (
x
); \

359 
__ùz_c
 = 0; \

360 (
__ùz_x
 & 1) == 0) \

362 
__ùz_x
 >>= 1; \

363 
__ùz_c
++; \

365 (
couÁ
èğ
__ùz_c
; \

366 } 0)

	)

370 
	#submod
(
r
,
a
,
b
,
n
) \

372 
uštmax_t
 
_t
 = - (uštmax_tè(
a
 < 
b
); \

373 (
r
èğ((
n
è& 
_t
è+ (
a
è- (
b
); \

374 } 0)

	)

376 
	#addmod
(
r
,
a
,
b
,
n
) \

377 
	`submod
 ((
r
), (
a
), ((
n
è- (
b
)), (n))

	)

382 
	#addmod2
(
r1
, 
r0
, 
a1
, 
a0
, 
b1
, 
b0
, 
n1
, 
n0
) \

384 
	`add_s§¯a
 ((
r1
), (
r0
), (
a1
), (
a0
), (
b1
), (
b0
)); \

385 ià(
	`ge2
 ((
r1
), (
r0
), (
n1
), (
n0
))) \

386 
	`sub_ddmmss
 ((
r1
), (
r0
), (r1), (r0), (
n1
), (
n0
)); \

387 } 0)

	)

388 
	#submod2
(
r1
, 
r0
, 
a1
, 
a0
, 
b1
, 
b0
, 
n1
, 
n0
) \

390 
	`sub_ddmmss
 ((
r1
), (
r0
), (
a1
), (
a0
), (
b1
), (
b0
)); \

391 ià((
štmax_t
è(
r1
) < 0) \

392 
	`add_s§¯a
 ((
r1
), (
r0
), (r1), (r0), (
n1
), (
n0
)); \

393 } 0)

	)

395 
	#HIGHBIT_TO_MASK
(
x
) \

396 (((
štmax_t
)-1 >> 1) < 0 \

397 ? (
uštmax_t
)((
štmax_t
)(
x
è>> (
W_TYPE_SIZE
 - 1)) \

398 : ((
x
è& ((
uštmax_t
è1 << (
W_TYPE_SIZE
 - 1)) \

399 ? 
UINTMAX_MAX
 : (
uštmax_t
è0))

	)

403 
uštmax_t


404 
	$mod2
 (
uštmax_t
 *
r1
, uštmax_ˆ
a1
, uštmax_ˆ
a0
, uštmax_ˆ
d1
, uštmax_ˆ
d0
)

406 
útd
, 
ú
;

408 
	`as£¹
 (
d1
 != 0);

410 ià(
a1
 == 0)

412 *
r1
 = 0;

413  
a0
;

416 
	`couÁ_Ëadšg_z”os
 (
útd
, 
d1
);

417 
	`couÁ_Ëadšg_z”os
 (
ú
, 
a1
);

418 
út
 = 
útd
 - 
ú
;

419 
	`lsh2
 (
d1
, 
d0
, d1, d0, 
út
);

420 
i
 = 0; i < 
út
; i++)

422 ià(
	`ge2
 (
a1
, 
a0
, 
d1
, 
d0
))

423 
	`sub_ddmmss
 (
a1
, 
a0
,‡1,‡0, 
d1
, 
d0
);

424 
	`rsh2
 (
d1
, 
d0
, d1, d0, 1);

427 *
r1
 = 
a1
;

428  
a0
;

429 
	}
}

431 
uštmax_t
 
_GL_ATTRIBUTE_CONST


432 
	$gcd_odd
 (
uštmax_t
 
a
, uštmax_ˆ
b
)

434 iàĞ(
b
 & 1) == 0)

436 
uštmax_t
 
t
 = 
b
;

437 
b
 = 
a
;

438 
a
 = 
t
;

440 ià(
a
 == 0)

441  
b
;

444 
b
 >>= 1;

448 
uštmax_t
 
t
;

449 
uštmax_t
 
bg
;

451 (
a
 & 1) == 0)

452 
a
 >>= 1;

453 
a
 >>= 1;

455 
t
 = 
a
 - 
b
;

456 ià(
t
 == 0)

457  (
a
 << 1) + 1;

459 
bg
 = 
	`HIGHBIT_TO_MASK
 (
t
);

462 
b
 +ğ(
bg
 & 
t
);

465 
a
 = (
t
 ^ 
bg
) - bgta;

467 
	}
}

469 
uštmax_t


470 
	$gcd2_odd
 (
uštmax_t
 *
r1
, uštmax_ˆ
a1
, uštmax_ˆ
a0
, uštmax_ˆ
b1
, uštmax_ˆ
b0
)

472 (
a0
 & 1) == 0)

473 
	`rsh2
 (
a1
, 
a0
,‡1,‡0, 1);

474 (
b0
 & 1) == 0)

475 
	`rsh2
 (
b1
, 
b0
, b1, b0, 1);

479 ià((
b1
 | 
a1
) == 0)

481 *
r1
 = 0;

482  
	`gcd_odd
 (
b0
, 
a0
);

485 ià(
	`gt2
 (
a1
, 
a0
, 
b1
, 
b0
))

487 
	`sub_ddmmss
 (
a1
, 
a0
,‡1,‡0, 
b1
, 
b0
);

489 
	`rsh2
 (
a1
, 
a0
,‡1,‡0, 1);

490 (
a0
 & 1) == 0);

492 ià(
	`gt2
 (
b1
, 
b0
, 
a1
, 
a0
))

494 
	`sub_ddmmss
 (
b1
, 
b0
, b1, b0, 
a1
, 
a0
);

496 
	`rsh2
 (
b1
, 
b0
, b1, b0, 1);

497 (
b0
 & 1) == 0);

503 *
r1
 = 
a1
;

504  
a0
;

505 
	}
}

508 
	$çùÜ_š£¹_muÉlic™y
 (
çùÜs
 *factors,

509 
uštmax_t
 
´ime
, 
m
)

511 
nçùÜs
 = 
çùÜs
->nfactors;

512 
uštmax_t
 *
p
 = 
çùÜs
->p;

513 *
e
 = 
çùÜs
->e;

516 
i
;

517 
i
 = 
nçùÜs
 - 1; i >= 0; i--)

519 ià(
p
[
i
] <ğ
´ime
)

523 ià(
i
 < 0 || 
p
[i] !ğ
´ime
)

525 
j
 = 
nçùÜs
 - 1; j > 
i
; j--)

527 
p
[
j
 + 1] =…[j];

528 
e
[
j
 + 1] =ƒ[j];

530 
p
[
i
 + 1] = 
´ime
;

531 
e
[
i
 + 1] = 
m
;

532 
çùÜs
->
nçùÜs
 =‚factors + 1;

536 
e
[
i
] +ğ
m
;

538 
	}
}

540 
	#çùÜ_š£¹
(
f
, 
p
è
	`çùÜ_š£¹_muÉlic™y
 (f,…, 1)

	)

543 
	$çùÜ_š£¹_Ïrge
 (
çùÜs
 *factors,

544 
uštmax_t
 
p1
, uštmax_ˆ
p0
)

546 ià(
p1
 > 0)

548 
	`as£¹
 (
çùÜs
->
¶¬ge
[1] == 0);

549 
çùÜs
->
¶¬ge
[0] = 
p0
;

550 
çùÜs
->
¶¬ge
[1] = 
p1
;

553 
	`çùÜ_š£¹
 (
çùÜs
, 
p0
);

554 
	}
}

556 #ià
HAVE_GMP


558 #ià!
HAVE_DECL_MPZ_INITS


560 
	#mpz_š™s
(...è
	`mpz_va_š™
 (
mpz_š™
, 
__VA_ARGS__
)

	)

561 
	#mpz_ş—rs
(...è
	`mpz_va_š™
 (
mpz_ş—r
, 
__VA_ARGS__
)

	)

564 
mpz_va_š™
 ((*
mpz_sšgË_š™
)(
mpz_t
), ...)

566 
va_li¡
 
­
;

568 
	`va_¡¬t
 (
­
, 
mpz_sšgË_š™
);

570 
mpz_t
 *
mpz
;

571 (
mpz
 = 
	`va_¬g
 (
­
, 
mpz_t
 *)))

572 
	`mpz_sšgË_š™
 (*
mpz
);

574 
	`va_’d
 (
­
);

575 
	}
}

578 
mp_çùÜ
 (
mpz_t
, 
mp_çùÜs
 *);

581 
	$mp_çùÜ_š™
 (
mp_çùÜs
 *
çùÜs
)

583 
çùÜs
->
p
 = 
NULL
;

584 
çùÜs
->
e
 = 
NULL
;

585 
çùÜs
->
nçùÜs
 = 0;

586 
	}
}

589 
	$mp_çùÜ_ş—r
 (
mp_çùÜs
 *
çùÜs
)

591 
i
 = 0; i < 
çùÜs
->
nçùÜs
; i++)

592 
	`mpz_ş—r
 (
çùÜs
->
p
[
i
]);

594 
	`ä“
 (
çùÜs
->
p
);

595 
	`ä“
 (
çùÜs
->
e
);

596 
	}
}

599 
	$mp_çùÜ_š£¹
 (
mp_çùÜs
 *
çùÜs
, 
mpz_t
 
´ime
)

601 
nçùÜs
 = 
çùÜs
->nfactors;

602 
mpz_t
 *
p
 = 
çùÜs
->p;

603 *
e
 = 
çùÜs
->e;

604 
i
;

607 
i
 = 
nçùÜs
 - 1; i >= 0; i--)

609 ià(
	`mpz_cmp
 (
p
[
i
], 
´ime
) <= 0)

613 ià(
i
 < 0 || 
	`mpz_cmp
 (
p
[i], 
´ime
) != 0)

615 
p
 = 
	`x»®loc
 (p, (
nçùÜs
 + 1) * …[0]);

616 
e
 = 
	`x»®loc
 (e, (
nçùÜs
 + 1) * ƒ[0]);

618 
	`mpz_š™
 (
p
[
nçùÜs
]);

619 
j
 = 
nçùÜs
 - 1; j > 
i
; j--)

621 
	`mpz_£t
 (
p
[
j
 + 1],…[j]);

622 
e
[
j
 + 1] =ƒ[j];

624 
	`mpz_£t
 (
p
[
i
 + 1], 
´ime
);

625 
e
[
i
 + 1] = 1;

627 
çùÜs
->
p
 =…;

628 
çùÜs
->
e
 =ƒ;

629 
çùÜs
->
nçùÜs
 =‚factors + 1;

633 
e
[
i
] += 1;

635 
	}
}

638 
	$mp_çùÜ_š£¹_ui
 (
mp_çùÜs
 *
çùÜs
, 
´ime
)

640 
mpz_t
 
pz
;

642 
	`mpz_š™_£t_ui
 (
pz
, 
´ime
);

643 
	`mp_çùÜ_š£¹
 (
çùÜs
, 
pz
);

644 
	`mpz_ş—r
 (
pz
);

645 
	}
}

650 ’um { 
	mW
 =  (
uštmax_t
è* 
CHAR_BIT
 };

653 
v”ify
 (
UINTMAX_MAX
 >> (
W
 - 1) == 1);

655 
	#P
(
a
,
b
,
c
,
d
èa,

	)

656 cÚ¡ 
	g´imes_diff
[] = {

657 
	~"´imes.h
"

660 #undeà
P


662 
	#PRIMES_PTAB_ENTRIES
 \

663 ( (
´imes_diff
è/  (´imes_diff[0]è- 8 + 1)

	)

665 
	#P
(
a
,
b
,
c
,
d
èb,

	)

666 cÚ¡ 
	g´imes_diff8
[] = {

667 
	~"´imes.h
"

670 #undeà
P


672 
	s´imes_db


674 
uštmax_t
 
	mbšv
, 
	mlim
;

677 
	#P
(
a
,
b
,
c
,
d
è{c,d},

	)

678 cÚ¡ 
´imes_db
 
	g´imes_db
[] = {

679 
	~"´imes.h
"

682 #undeà
P


686 
v”ify
 (
W
 <ğ
WIDE_UINT_BITS
);

690 
boŞ
 
	gdev_debug
 = 
çl£
;

696 
šlše
 

697 
	$devmsg
 (cÚ¡ *
fmt
, ...)

699 ià(
dev_debug
)

701 
va_li¡
 
­
;

702 
	`va_¡¬t
 (
­
, 
fmt
);

703 
	`vårštf
 (
¡d”r
, 
fmt
, 
­
);

704 
	`va_’d
 (
­
);

706 
	}
}

709 
boŞ
 
	gæag_´ove_´im®™y
 = 
Œue
;

712 
	#MR_REPS
 25

	)

714 #ifdeà
__GNUC__


715 
	#LIKELY
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 1)

	)

716 
	#UNLIKELY
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 0)

	)

718 
	#LIKELY
(
cÚd
è(cÚd)

	)

719 
	#UNLIKELY
(
cÚd
è(cÚd)

	)

723 
	$çùÜ_š£¹_»fšd
 (
çùÜs
 *çùÜs, 
uštmax_t
 
p
, 
i
,

724 
off
)

726 
j
 = 0; j < 
off
; j++)

727 
p
 +ğ
´imes_diff
[
i
 + 
j
];

728 
	`çùÜ_š£¹
 (
çùÜs
, 
p
);

729 
	}
}

764 
uštmax_t


765 
	$çùÜ_usšg_divisiÚ
 (
uštmax_t
 *
t1p
, uštmax_ˆ
t1
, uštmax_ˆ
t0
,

766 
çùÜs
 *factors)

768 ià(
t0
 % 2 == 0)

770 
út
;

772 ià(
t0
 == 0)

774 
	`couÁ_Œašg_z”os
 (
út
, 
t1
);

775 
t0
 = 
t1
 >> 
út
;

776 
t1
 = 0;

777 
út
 +ğ
W_TYPE_SIZE
;

781 
	`couÁ_Œašg_z”os
 (
út
, 
t0
);

782 
	`rsh2
 (
t1
, 
t0
,1,0, 
út
);

785 
	`çùÜ_š£¹_muÉlic™y
 (
çùÜs
, 2, 
út
);

788 
uštmax_t
 
p
 = 3;

789 
i
;

790 
i
 = 0; 
t1
 > 0 && i < 
PRIMES_PTAB_ENTRIES
; i++)

794 
uštmax_t
 
q1
, 
q0
, 
hi
, 
lo
 
ATTRIBUTE_UNUSED
;

796 
q0
 = 
t0
 * 
´imes_db
[
i
].
bšv
;

797 
	`umul_µmm
 (
hi
, 
lo
, 
q0
, 
p
);

798 ià(
hi
 > 
t1
)

800 
hi
 = 
t1
 - hi;

801 
q1
 = 
hi
 * 
´imes_db
[
i
].
bšv
;

802 ià(
	`LIKELY
 (
q1
 > 
´imes_db
[
i
].
lim
))

804 
t1
 = 
q1
; 
t0
 = 
q0
;

805 
	`çùÜ_š£¹
 (
çùÜs
, 
p
);

807 
p
 +ğ
´imes_diff
[
i
 + 1];

809 ià(
t1p
)

810 *
t1p
 = 
t1
;

812 
	#DIVBLOCK
(
I
) \

816 
q
 = 
t0
 * 
pd
[
I
].
bšv
; \

817 ià(
	`LIKELY
 (
q
 > 
pd
[
I
].
lim
)) \

819 
t0
 = 
q
; \

820 
	`çùÜ_š£¹_»fšd
 (
çùÜs
, 
p
, 
i
 + 1, 
I
); \

822 } 0)

	)

824 ; 
i
 < 
PRIMES_PTAB_ENTRIES
; i += 8)

826 
uštmax_t
 
q
;

827 cÚ¡ 
´imes_db
 *
pd
 = &´imes_db[
i
];

828 
	`DIVBLOCK
 (0);

829 
	`DIVBLOCK
 (1);

830 
	`DIVBLOCK
 (2);

831 
	`DIVBLOCK
 (3);

832 
	`DIVBLOCK
 (4);

833 
	`DIVBLOCK
 (5);

834 
	`DIVBLOCK
 (6);

835 
	`DIVBLOCK
 (7);

837 
p
 +ğ
´imes_diff8
[
i
];

838 ià(
p
 *… > 
t0
)

842  
t0
;

843 
	}
}

845 #ià
HAVE_GMP


847 
	$mp_çùÜ_usšg_divisiÚ
 (
mpz_t
 
t
, 
mp_çùÜs
 *
çùÜs
)

849 
mpz_t
 
q
;

850 
p
;

852 
	`devmsg
 ("[trial division] ");

854 
	`mpz_š™
 (
q
);

856 
p
 = 
	`mpz_sÿn1
 (
t
, 0);

857 
	`mpz_div_2exp
 (
t
,, 
p
);

858 
p
)

860 
	`mp_çùÜ_š£¹_ui
 (
çùÜs
, 2);

861 --
p
;

864 
p
 = 3;

865 
i
 = 1; i <ğ
PRIMES_PTAB_ENTRIES
;)

867 ià(! 
	`mpz_divisibË_ui_p
 (
t
, 
p
))

869 
p
 +ğ
´imes_diff
[
i
++];

870 ià(
	`mpz_cmp_ui
 (
t
, 
p
 *…) < 0)

875 
	`mpz_tdiv_q_ui
 (
t
,, 
p
);

876 
	`mp_çùÜ_š£¹_ui
 (
çùÜs
, 
p
);

880 
	`mpz_ş—r
 (
q
);

881 
	}
}

885 cÚ¡ 
	gbšv”t_bË
[128] =

906 
	#bšv
(
šv
,
n
) \

908 
uštmax_t
 
__n
 = (
n
); \

909 
uštmax_t
 
__šv
; \

911 
__šv
 = 
bšv”t_bË
[(
__n
 / 2) & 0x7F]; \

912 ià(
W_TYPE_SIZE
 > 8è
__šv
 = 2 * __šv - __šv * __šv * 
__n
; \

913 ià(
W_TYPE_SIZE
 > 16è
__šv
 = 2 * __šv - __šv * __šv * 
__n
; \

914 ià(
W_TYPE_SIZE
 > 32è
__šv
 = 2 * __šv - __šv * __šv * 
__n
; \

916 ià(
W_TYPE_SIZE
 > 64) \

918 
__švb™s
 = 64; \

920 
__šv
 = 2 * __šv - __šv * __šv * 
__n
; \

921 
__švb™s
 *= 2; \

922 } 
__švb™s
 < 
W_TYPE_SIZE
); \

925 (
šv
èğ
__šv
; \

926 } 0)

	)

929 
	#divexaù_21
(
q1
, 
q0
, 
u1
, 
u0
, 
d
) \

931 
uštmax_t
 
_di
, 
_q0
; \

932 
	`bšv
 (
_di
, (
d
)); \

933 
_q0
 = (
u0
è* 
_di
; \

934 ià((
u1
è>ğ(
d
)) \

936 
uštmax_t
 
_p1
, 
_p0
 
ATTRIBUTE_UNUSED
; \

937 
	`umul_µmm
 (
_p1
, 
_p0
, 
_q0
, 
d
); \

938 (
q1
èğ((
u1
è- 
_p1
è* 
_di
; \

939 (
q0
èğ
_q0
; \

943 (
q0
èğ
_q0
; \

944 (
q1
) = 0; \

946 } 0)

	)

949 
	#»dcify
(
r_´im
, 
r
, 
n
) \

951 
uštmax_t
 
_»dcify_q
 
ATTRIBUTE_UNUSED
; \

952 
	`udiv_qºnd
 (
_»dcify_q
, 
r_´im
, 
r
, 0, 
n
); \

953 } 0)

	)

956 
	#»dcify2
(
r1
, 
r0
, 
x
, 
n1
, 
n0
) \

958 
uštmax_t
 
_r1
, 
_r0
, 
_i
; \

959 ià((
x
è< (
n1
)) \

961 
_r1
 = (
x
); 
_r0
 = 0; \

962 
_i
 = 
W_TYPE_SIZE
; \

966 
_r1
 = 0; 
_r0
 = (
x
); \

967 
_i
 = 2*
W_TYPE_SIZE
; \

969 
_i
-- > 0) \

971 
	`lsh2
 (
_r1
, 
_r0
, _r1, _r0, 1); \

972 ià(
	`ge2
 (
_r1
, 
_r0
, (
n1
), (
n0
))) \

973 
	`sub_ddmmss
 (
_r1
, 
_r0
, _r1, _r0, (
n1
), (
n0
)); \

975 (
r1
èğ
_r1
; \

976 (
r0
èğ
_r0
; \

977 } 0)

	)

981 
šlše
 
uštmax_t


982 
	$muÌedc
 (
uštmax_t
 
a
, uštmax_ˆ
b
, uštmax_ˆ
m
, uštmax_ˆ
mi
)

984 
uštmax_t
 
rh
, 
¾
, 
q
, 
th
, 

 
ATTRIBUTE_UNUSED
, 
xh
;

986 
	`umul_µmm
 (
rh
, 
¾
, 
a
, 
b
);

987 
q
 = 
¾
 * 
mi
;

988 
	`umul_µmm
 (
th
, 

, 
q
, 
m
);

989 
xh
 = 
rh
 - 
th
;

990 ià(
rh
 < 
th
)

991 
xh
 +ğ
m
;

993  
xh
;

994 
	}
}

999 
uštmax_t


1000 
	$muÌedc2
 (
uštmax_t
 *
r1p
,

1001 
uštmax_t
 
a1
, uštmax_ˆ
a0
, uštmax_ˆ
b1
, uštmax_ˆ
b0
,

1002 
uštmax_t
 
m1
, uštmax_ˆ
m0
, uštmax_ˆ
mi
)

1004 
uštmax_t
 
r1
, 
r0
, 
q
, 
p1
, 
p0
 
ATTRIBUTE_UNUSED
, 
t1
, 
t0
, 
s1
, 
s0
;

1005 
mi
 = -mi;

1006 
	`as£¹
 ( (
a1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1007 
	`as£¹
 ( (
b1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1008 
	`as£¹
 ( (
m1
 >> (
W_TYPE_SIZE
 - 1)) == 0);

1023 
	`umul_µmm
 (
t1
, 
t0
, 
a0
, 
b0
);

1024 
	`umul_µmm
 (
r1
, 
r0
, 
a0
, 
b1
);

1025 
q
 = 
mi
 * 
t0
;

1026 
	`umul_µmm
 (
p1
, 
p0
, 
q
, 
m0
);

1027 
	`umul_µmm
 (
s1
, 
s0
, 
q
, 
m1
);

1028 
r0
 +ğ(
t0
 != 0);

1029 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 0, 
p1
);

1030 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 0, 
t1
);

1031 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 
s1
, 
s0
);

1048 
	`umul_µmm
 (
t1
, 
t0
, 
a1
, 
b0
);

1049 
	`umul_µmm
 (
s1
, 
s0
, 
a1
, 
b1
);

1050 
	`add_s§¯a
 (
t1
, 
t0
,1,0, 0, 
r0
);

1051 
q
 = 
mi
 * 
t0
;

1052 
	`add_s§¯a
 (
r1
, 
r0
, 
s1
, 
s0
, 0,„1);

1053 
	`umul_µmm
 (
p1
, 
p0
, 
q
, 
m0
);

1054 
	`umul_µmm
 (
s1
, 
s0
, 
q
, 
m1
);

1055 
r0
 +ğ(
t0
 != 0);

1056 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 0, 
p1
);

1057 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 0, 
t1
);

1058 
	`add_s§¯a
 (
r1
, 
r0
,„1,„0, 
s1
, 
s0
);

1060 ià(
	`ge2
 (
r1
, 
r0
, 
m1
, 
m0
))

1061 
	`sub_ddmmss
 (
r1
, 
r0
,„1,„0, 
m1
, 
m0
);

1063 *
r1p
 = 
r1
;

1064  
r0
;

1065 
	}
}

1067 
uštmax_t
 
_GL_ATTRIBUTE_CONST


1068 
	$powm
 (
uštmax_t
 
b
, uštmax_ˆ
e
, uštmax_ˆ
n
, uštmax_ˆ
ni
, uštmax_ˆ
Úe
)

1070 
uštmax_t
 
y
 = 
Úe
;

1072 ià(
e
 & 1)

1073 
y
 = 
b
;

1075 
e
 != 0)

1077 
b
 = 
	`muÌedc
 (b, b, 
n
, 
ni
);

1078 
e
 >>= 1;

1080 ià(
e
 & 1)

1081 
y
 = 
	`muÌedc
 (y, 
b
, 
n
, 
ni
);

1084  
y
;

1085 
	}
}

1087 
uštmax_t


1088 
	$powm2
 (
uštmax_t
 *
r1m
,

1089 cÚ¡ 
uštmax_t
 *
bp
, cÚ¡ uštmax_ˆ*
•
, cÚ¡ uštmax_ˆ*
Å
,

1090 
uštmax_t
 
ni
, cÚ¡ uštmax_ˆ*
Úe
)

1092 
uštmax_t
 
r1
, 
r0
, 
b1
, 
b0
, 
n1
, 
n0
;

1093 
i
;

1094 
uštmax_t
 
e
;

1096 
b0
 = 
bp
[0];

1097 
b1
 = 
bp
[1];

1098 
n0
 = 
Å
[0];

1099 
n1
 = 
Å
[1];

1101 
r0
 = 
Úe
[0];

1102 
r1
 = 
Úe
[1];

1104 
e
 = 
•
[0], 
i
 = 
W_TYPE_SIZE
; i > 0; i--,ƒ >>= 1)

1106 ià(
e
 & 1)

1108 
r0
 = 
	`muÌedc2
 (
r1m
, 
r1
,„0, 
b1
, 
b0
, 
n1
, 
n0
, 
ni
);

1109 
r1
 = *
r1m
;

1111 
b0
 = 
	`muÌedc2
 (
r1m
, 
b1
, b0, b1, b0, 
n1
, 
n0
, 
ni
);

1112 
b1
 = *
r1m
;

1114 
e
 = 
•
[1];ƒ > 0;ƒ >>= 1)

1116 ià(
e
 & 1)

1118 
r0
 = 
	`muÌedc2
 (
r1m
, 
r1
,„0, 
b1
, 
b0
, 
n1
, 
n0
, 
ni
);

1119 
r1
 = *
r1m
;

1121 
b0
 = 
	`muÌedc2
 (
r1m
, 
b1
, b0, b1, b0, 
n1
, 
n0
, 
ni
);

1122 
b1
 = *
r1m
;

1124 *
r1m
 = 
r1
;

1125  
r0
;

1126 
	}
}

1128 
boŞ
 
_GL_ATTRIBUTE_CONST


1129 
	$mË¼abš
 (
uštmax_t
 
n
, uštmax_ˆ
ni
, uštmax_ˆ
b
, uštmax_ˆ
q
,

1130 
k
, 
uštmax_t
 
Úe
)

1132 
uštmax_t
 
y
 = 
	`powm
 (
b
, 
q
, 
n
, 
ni
, 
Úe
);

1134 
uštmax_t
 
nm1
 = 
n
 - 
Úe
;

1136 ià(
y
 =ğ
Úe
 || y =ğ
nm1
)

1137  
Œue
;

1139 
i
 = 1; i < 
k
; i++)

1141 
y
 = 
	`muÌedc
 (y, y, 
n
, 
ni
);

1143 ià(
y
 =ğ
nm1
)

1144  
Œue
;

1145 ià(
y
 =ğ
Úe
)

1146  
çl£
;

1148  
çl£
;

1149 
	}
}

1151 
boŞ


1152 
	$mË¼abš2
 (cÚ¡ 
uštmax_t
 *
Å
, uštmax_ˆ
ni
, cÚ¡ uštmax_ˆ*
bp
,

1153 cÚ¡ 
uštmax_t
 *
qp
, 
k
, cÚ¡ uštmax_ˆ*
Úe
)

1155 
uštmax_t
 
y1
, 
y0
, 
nm1_1
, 
nm1_0
, 
r1m
;

1157 
y0
 = 
	`powm2
 (&
r1m
, 
bp
, 
qp
, 
Å
, 
ni
, 
Úe
);

1158 
y1
 = 
r1m
;

1160 ià(
y0
 =ğ
Úe
[0] && 
y1
 == one[1])

1161  
Œue
;

1163 
	`sub_ddmmss
 (
nm1_1
, 
nm1_0
, 
Å
[1],‚p[0], 
Úe
[1], one[0]);

1165 ià(
y0
 =ğ
nm1_0
 && 
y1
 =ğ
nm1_1
)

1166  
Œue
;

1168 
i
 = 1; i < 
k
; i++)

1170 
y0
 = 
	`muÌedc2
 (&
r1m
, 
y1
, y0, y1, y0, 
Å
[1],‚p[0], 
ni
);

1171 
y1
 = 
r1m
;

1173 ià(
y0
 =ğ
nm1_0
 && 
y1
 =ğ
nm1_1
)

1174  
Œue
;

1175 ià(
y0
 =ğ
Úe
[0] && 
y1
 == one[1])

1176  
çl£
;

1178  
çl£
;

1179 
	}
}

1181 #ià
HAVE_GMP


1182 
boŞ


1183 
	$mp_mË¼abš
 (
mpz_¤ıŒ
 
n
, mpz_¤ıŒ 
nm1
, 
mpz_±r
 
x
, mpz_±¸
y
,

1184 
mpz_¤ıŒ
 
q
, 
k
)

1186 
	`mpz_powm
 (
y
, 
x
, 
q
, 
n
);

1188 ià(
	`mpz_cmp_ui
 (
y
, 1è=ğ0 || 
	`mpz_cmp
 (y, 
nm1
) == 0)

1189  
Œue
;

1191 
i
 = 1; i < 
k
; i++)

1193 
	`mpz_powm_ui
 (
y
, y, 2, 
n
);

1194 ià(
	`mpz_cmp
 (
y
, 
nm1
) == 0)

1195  
Œue
;

1196 ià(
	`mpz_cmp_ui
 (
y
, 1) == 0)

1197  
çl£
;

1199  
çl£
;

1200 
	}
}

1205 
boŞ


1206 
	$´ime_p
 (
uštmax_t
 
n
)

1208 
k
;

1209 
boŞ
 
is_´ime
;

1210 
uštmax_t
 
a_´im
, 
Úe
, 
ni
;

1211 
çùÜs
 factors;

1213 ià(
n
 <= 1)

1214  
çl£
;

1217 ià(
n
 < (
uštmax_t
è
FIRST_OMITTED_PRIME
 * FIRST_OMITTED_PRIME)

1218  
Œue
;

1221 
uštmax_t
 
q
 = 
n
 - 1;

1222 
k
 = 0; (
q
 & 1) == 0; k++)

1223 
q
 >>= 1;

1225 
uštmax_t
 
a
 = 2;

1226 
	`bšv
 (
ni
, 
n
);

1227 
	`»dcify
 (
Úe
, 1, 
n
);

1228 
	`addmod
 (
a_´im
, 
Úe
, oÃ, 
n
);

1231 ià(!
	`mË¼abš
 (
n
, 
ni
, 
a_´im
, 
q
, 
k
, 
Úe
))

1232  
çl£
;

1234 ià(
æag_´ove_´im®™y
)

1237 
	`çùÜ
 (0, 
n
 - 1, &
çùÜs
);

1242 
r
 = 0;„ < 
PRIMES_PTAB_ENTRIES
;„++)

1244 ià(
æag_´ove_´im®™y
)

1246 
is_´ime
 = 
Œue
;

1247 
i
 = 0; i < 
çùÜs
.
nçùÜs
 && 
is_´ime
; i++)

1249 
is_´ime


1250 ğ
	`powm
 (
a_´im
, (
n
 - 1è/ 
çùÜs
.
p
[
i
],‚, 
ni
, 
Úe
) != one;

1256 
is_´ime
 = (
r
 =ğ
MR_REPS
 - 1);

1259 ià(
is_´ime
)

1260  
Œue
;

1262 
a
 +ğ
´imes_diff
[
r
];

1268 
uštmax_t
 
s1
, 
s0
;

1269 
	`umul_µmm
 (
s1
, 
s0
, 
Úe
, 
a
);

1270 ià(
	`LIKELY
 (
s1
 == 0))

1271 
a_´im
 = 
s0
 % 
n
;

1274 
uštmax_t
 
dummy
 
ATTRIBUTE_UNUSED
;

1275 
	`udiv_qºnd
 (
dummy
, 
a_´im
, 
s1
, 
s0
, 
n
);

1279 ià(!
	`mË¼abš
 (
n
, 
ni
, 
a_´im
, 
q
, 
k
, 
Úe
))

1280  
çl£
;

1283 
	`”rÜ
 (0, 0, 
	`_
("Lucas…rimeest failure. This should‚ot happen"));

1284 
	`abÜt
 ();

1285 
	}
}

1287 
boŞ


1288 
	$´ime2_p
 (
uštmax_t
 
n1
, uštmax_ˆ
n0
)

1290 
uštmax_t
 
q
[2], 
nm1
[2];

1291 
uštmax_t
 
a_´im
[2];

1292 
uštmax_t
 
Úe
[2];

1293 
uštmax_t
 
Ç
[2];

1294 
uštmax_t
 
ni
;

1295 
k
;

1296 
çùÜs
 factors;

1298 ià(
n1
 == 0)

1299  
	`´ime_p
 (
n0
);

1301 
nm1
[1] = 
n1
 - (
n0
 == 0);

1302 
nm1
[0] = 
n0
 - 1;

1303 ià(
nm1
[0] == 0)

1305 
	`couÁ_Œašg_z”os
 (
k
, 
nm1
[1]);

1307 
q
[0] = 
nm1
[1] >> 
k
;

1308 
q
[1] = 0;

1309 
k
 +ğ
W_TYPE_SIZE
;

1313 
	`couÁ_Œašg_z”os
 (
k
, 
nm1
[0]);

1314 
	`rsh2
 (
q
[1], q[0], 
nm1
[1],‚m1[0], 
k
);

1317 
uštmax_t
 
a
 = 2;

1318 
	`bšv
 (
ni
, 
n0
);

1319 
	`»dcify2
 (
Úe
[1], oÃ[0], 1, 
n1
, 
n0
);

1320 
	`addmod2
 (
a_´im
[1],‡_´im[0], 
Úe
[1], oÃ[0], oÃ[1], oÃ[0], 
n1
, 
n0
);

1323 
Ç
[0] = 
n0
;

1324 
Ç
[1] = 
n1
;

1326 ià(!
	`mË¼abš2
 (
Ç
, 
ni
, 
a_´im
, 
q
, 
k
, 
Úe
))

1327  
çl£
;

1329 ià(
æag_´ove_´im®™y
)

1332 
	`çùÜ
 (
nm1
[1],‚m1[0], &
çùÜs
);

1337 
r
 = 0;„ < 
PRIMES_PTAB_ENTRIES
;„++)

1339 
boŞ
 
is_´ime
;

1340 
uštmax_t
 
e
[2], 
y
[2];

1342 ià(
æag_´ove_´im®™y
)

1344 
is_´ime
 = 
Œue
;

1345 ià(
çùÜs
.
¶¬ge
[1])

1347 
uštmax_t
 
pi
;

1348 
	`bšv
 (
pi
, 
çùÜs
.
¶¬ge
[0]);

1349 
e
[0] = 
pi
 * 
nm1
[0];

1350 
e
[1] = 0;

1351 
y
[0] = 
	`powm2
 (&y[1], 
a_´im
, 
e
, 
Ç
, 
ni
, 
Úe
);

1352 
is_´ime
 = (
y
[0] !ğ
Úe
[0] || y[1] != one[1]);

1354 
i
 = 0; i < 
çùÜs
.
nçùÜs
 && 
is_´ime
; i++)

1359 ià(
çùÜs
.
p
[
i
] == 2)

1360 
	`rsh2
 (
e
[1],ƒ[0], 
nm1
[1],‚m1[0], 1);

1362 
	`divexaù_21
 (
e
[1],ƒ[0], 
nm1
[1],‚m1[0], 
çùÜs
.
p
[
i
]);

1363 
y
[0] = 
	`powm2
 (&y[1], 
a_´im
, 
e
, 
Ç
, 
ni
, 
Úe
);

1364 
is_´ime
 = (
y
[0] !ğ
Úe
[0] || y[1] != one[1]);

1370 
is_´ime
 = (
r
 =ğ
MR_REPS
 - 1);

1373 ià(
is_´ime
)

1374  
Œue
;

1376 
a
 +ğ
´imes_diff
[
r
];

1377 
	`»dcify2
 (
a_´im
[1],‡_´im[0], 
a
, 
n1
, 
n0
);

1379 ià(!
	`mË¼abš2
 (
Ç
, 
ni
, 
a_´im
, 
q
, 
k
, 
Úe
))

1380  
çl£
;

1383 
	`”rÜ
 (0, 0, 
	`_
("Lucas…rimeest failure. This should‚ot happen"));

1384 
	`abÜt
 ();

1385 
	}
}

1387 #ià
HAVE_GMP


1388 
boŞ


1389 
	$mp_´ime_p
 (
mpz_t
 
n
)

1391 
boŞ
 
is_´ime
;

1392 
mpz_t
 
q
, 
a
, 
nm1
, 
tmp
;

1393 
mp_çùÜs
 
çùÜs
;

1395 ià(
	`mpz_cmp_ui
 (
n
, 1) <= 0)

1396  
çl£
;

1399 ià(
	`mpz_cmp_ui
 (
n
, (è
FIRST_OMITTED_PRIME
 * FIRST_OMITTED_PRIME) < 0)

1400  
Œue
;

1402 
	`mpz_š™s
 (
q
, 
a
, 
nm1
, 
tmp
, 
NULL
);

1405 
	`mpz_sub_ui
 (
nm1
, 
n
, 1);

1408 
k
 = 
	`mpz_sÿn1
 (
nm1
, 0);

1409 
	`mpz_tdiv_q_2exp
 (
q
, 
nm1
, 
k
);

1411 
	`mpz_£t_ui
 (
a
, 2);

1414 ià(!
	`mp_mË¼abš
 (
n
, 
nm1
, 
a
, 
tmp
, 
q
, 
k
))

1416 
is_´ime
 = 
çl£
;

1417 
»t2
;

1420 ià(
æag_´ove_´im®™y
)

1423 
	`mpz_£t
 (
tmp
, 
nm1
);

1424 
	`mp_çùÜ
 (
tmp
, &
çùÜs
);

1429 
r
 = 0;„ < 
PRIMES_PTAB_ENTRIES
;„++)

1431 ià(
æag_´ove_´im®™y
)

1433 
is_´ime
 = 
Œue
;

1434 
i
 = 0; i < 
çùÜs
.
nçùÜs
 && 
is_´ime
; i++)

1436 
	`mpz_divexaù
 (
tmp
, 
nm1
, 
çùÜs
.
p
[
i
]);

1437 
	`mpz_powm
 (
tmp
, 
a
,mp, 
n
);

1438 
is_´ime
 = 
	`mpz_cmp_ui
 (
tmp
, 1) != 0;

1444 
is_´ime
 = (
r
 =ğ
MR_REPS
 - 1);

1447 ià(
is_´ime
)

1448 
»t1
;

1450 
	`mpz_add_ui
 (
a
,‡, 
´imes_diff
[
r
]);

1452 ià(!
	`mp_mË¼abš
 (
n
, 
nm1
, 
a
, 
tmp
, 
q
, 
k
))

1454 
is_´ime
 = 
çl£
;

1455 
»t1
;

1459 
	`”rÜ
 (0, 0, 
	`_
("Lucas…rimeest failure. This should‚ot happen"));

1460 
	`abÜt
 ();

1462 
»t1
:

1463 ià(
æag_´ove_´im®™y
)

1464 
	`mp_çùÜ_ş—r
 (&
çùÜs
);

1465 
»t2
:

1466 
	`mpz_ş—rs
 (
q
, 
a
, 
nm1
, 
tmp
, 
NULL
);

1468  
is_´ime
;

1469 
	}
}

1473 
	$çùÜ_usšg_pŞÏrd_rho
 (
uštmax_t
 
n
, 
a
,

1474 
çùÜs
 *factors)

1476 
uštmax_t
 
x
, 
z
, 
y
, 
P
, 
t
, 
ni
, 
g
;

1478 
k
 = 1;

1479 
l
 = 1;

1481 
	`»dcify
 (
P
, 1, 
n
);

1482 
	`addmod
 (
x
, 
P
, P, 
n
);

1483 
y
 = 
z
 = 
x
;

1485 
n
 != 1)

1487 
	`as£¹
 (
a
 < 
n
);

1489 
	`bšv
 (
ni
, 
n
);

1495 
x
 = 
	`muÌedc
 (x, x, 
n
, 
ni
);

1496 
	`addmod
 (
x
, x, 
a
, 
n
);

1498 
	`submod
 (
t
, 
z
, 
x
, 
n
);

1499 
P
 = 
	`muÌedc
 (P, 
t
, 
n
, 
ni
);

1501 ià(
k
 % 32 == 1)

1503 ià(
	`gcd_odd
 (
P
, 
n
) != 1)

1504 
çùÜ_found
;

1505 
y
 = 
x
;

1508 --
k
 != 0);

1510 
z
 = 
x
;

1511 
k
 = 
l
;

1512 
l
 = 2 *†;

1513 
i
 = 0; i < 
k
; i++)

1515 
x
 = 
	`muÌedc
 (x, x, 
n
, 
ni
);

1516 
	`addmod
 (
x
, x, 
a
, 
n
);

1518 
y
 = 
x
;

1521 
çùÜ_found
:

1524 
y
 = 
	`muÌedc
 (y, y, 
n
, 
ni
);

1525 
	`addmod
 (
y
, y, 
a
, 
n
);

1527 
	`submod
 (
t
, 
z
, 
y
, 
n
);

1528 
g
 = 
	`gcd_odd
 (
t
, 
n
);

1530 
g
 == 1);

1532 
n
 =‚ / 
g
;

1534 ià(!
	`´ime_p
 (
g
))

1535 
	`çùÜ_usšg_pŞÏrd_rho
 (
g
, 
a
 + 1, 
çùÜs
);

1537 
	`çùÜ_š£¹
 (
çùÜs
, 
g
);

1539 ià(
	`´ime_p
 (
n
))

1541 
	`çùÜ_š£¹
 (
çùÜs
, 
n
);

1545 
x
 = x % 
n
;

1546 
z
 = z % 
n
;

1547 
y
 = y % 
n
;

1549 
	}
}

1552 
	$çùÜ_usšg_pŞÏrd_rho2
 (
uštmax_t
 
n1
, uštmax_ˆ
n0
, 
a
,

1553 
çùÜs
 *factors)

1555 
uštmax_t
 
x1
, 
x0
, 
z1
, 
z0
, 
y1
, 
y0
, 
P1
, 
P0
, 
t1
, 
t0
, 
ni
, 
g1
, 
g0
, 
r1m
;

1557 
k
 = 1;

1558 
l
 = 1;

1560 
	`»dcify2
 (
P1
, 
P0
, 1, 
n1
, 
n0
);

1561 
	`addmod2
 (
x1
, 
x0
, 
P1
, 
P0
, P1, P0, 
n1
, 
n0
);

1562 
y1
 = 
z1
 = 
x1
;

1563 
y0
 = 
z0
 = 
x0
;

1565 
n1
 !ğ0 || 
n0
 != 1)

1567 
	`bšv
 (
ni
, 
n0
);

1573 
x0
 = 
	`muÌedc2
 (&
r1m
, 
x1
, x0, x1, x0, 
n1
, 
n0
, 
ni
);

1574 
x1
 = 
r1m
;

1575 
	`addmod2
 (
x1
, 
x0
, x1, x0, 0, (
uštmax_t
è
a
, 
n1
, 
n0
);

1577 
	`submod2
 (
t1
, 
t0
, 
z1
, 
z0
, 
x1
, 
x0
, 
n1
, 
n0
);

1578 
P0
 = 
	`muÌedc2
 (&
r1m
, 
P1
, P0, 
t1
, 
t0
, 
n1
, 
n0
, 
ni
);

1579 
P1
 = 
r1m
;

1581 ià(
k
 % 32 == 1)

1583 
g0
 = 
	`gcd2_odd
 (&
g1
, 
P1
, 
P0
, 
n1
, 
n0
);

1584 ià(
g1
 !ğ0 || 
g0
 != 1)

1585 
çùÜ_found
;

1586 
y1
 = 
x1
; 
y0
 = 
x0
;

1589 --
k
 != 0);

1591 
z1
 = 
x1
; 
z0
 = 
x0
;

1592 
k
 = 
l
;

1593 
l
 = 2 *†;

1594 
i
 = 0; i < 
k
; i++)

1596 
x0
 = 
	`muÌedc2
 (&
r1m
, 
x1
, x0, x1, x0, 
n1
, 
n0
, 
ni
);

1597 
x1
 = 
r1m
;

1598 
	`addmod2
 (
x1
, 
x0
, x1, x0, 0, (
uštmax_t
è
a
, 
n1
, 
n0
);

1600 
y1
 = 
x1
; 
y0
 = 
x0
;

1603 
çùÜ_found
:

1606 
y0
 = 
	`muÌedc2
 (&
r1m
, 
y1
, y0, y1, y0, 
n1
, 
n0
, 
ni
);

1607 
y1
 = 
r1m
;

1608 
	`addmod2
 (
y1
, 
y0
, y1, y0, 0, (
uštmax_t
è
a
, 
n1
, 
n0
);

1610 
	`submod2
 (
t1
, 
t0
, 
z1
, 
z0
, 
y1
, 
y0
, 
n1
, 
n0
);

1611 
g0
 = 
	`gcd2_odd
 (&
g1
, 
t1
, 
t0
, 
n1
, 
n0
);

1613 
g1
 =ğ0 && 
g0
 == 1);

1615 ià(
g1
 == 0)

1618 
	`divexaù_21
 (
n1
, 
n0
,‚1,‚0, 
g0
);

1620 ià(!
	`´ime_p
 (
g0
))

1621 
	`çùÜ_usšg_pŞÏrd_rho
 (
g0
, 
a
 + 1, 
çùÜs
);

1623 
	`çùÜ_š£¹
 (
çùÜs
, 
g0
);

1629 
uštmax_t
 
gšv
;

1631 
	`bšv
 (
gšv
, 
g0
);

1632 
n0
 = 
gšv
 *‚0;

1633 
n1
 = 0;

1635 ià(!
	`´ime2_p
 (
g1
, 
g0
))

1636 
	`çùÜ_usšg_pŞÏrd_rho2
 (
g1
, 
g0
, 
a
 + 1, 
çùÜs
);

1638 
	`çùÜ_š£¹_Ïrge
 (
çùÜs
, 
g1
, 
g0
);

1641 ià(
n1
 == 0)

1643 ià(
	`´ime_p
 (
n0
))

1645 
	`çùÜ_š£¹
 (
çùÜs
, 
n0
);

1649 
	`çùÜ_usšg_pŞÏrd_rho
 (
n0
, 
a
, 
çùÜs
);

1653 ià(
	`´ime2_p
 (
n1
, 
n0
))

1655 
	`çùÜ_š£¹_Ïrge
 (
çùÜs
, 
n1
, 
n0
);

1659 
x0
 = 
	`mod2
 (&
x1
, x1, x0, 
n1
, 
n0
);

1660 
z0
 = 
	`mod2
 (&
z1
, z1, z0, 
n1
, 
n0
);

1661 
y0
 = 
	`mod2
 (&
y1
, y1, y0, 
n1
, 
n0
);

1663 
	}
}

1665 #ià
HAVE_GMP


1667 
	$mp_çùÜ_usšg_pŞÏrd_rho
 (
mpz_t
 
n
, 
a
,

1668 
mp_çùÜs
 *
çùÜs
)

1670 
mpz_t
 
x
, 
z
, 
y
, 
P
;

1671 
mpz_t
 
t
, 
t2
;

1673 
	`devmsg
 ("[pŞÏrd-rhØ(%lu)] ", 
a
);

1675 
	`mpz_š™s
 (
t
, 
t2
, 
NULL
);

1676 
	`mpz_š™_£t_si
 (
y
, 2);

1677 
	`mpz_š™_£t_si
 (
x
, 2);

1678 
	`mpz_š™_£t_si
 (
z
, 2);

1679 
	`mpz_š™_£t_ui
 (
P
, 1);

1681 
k
 = 1;

1682 
l
 = 1;

1684 
	`mpz_cmp_ui
 (
n
, 1) != 0)

1690 
	`mpz_mul
 (
t
, 
x
, x);

1691 
	`mpz_mod
 (
x
, 
t
, 
n
);

1692 
	`mpz_add_ui
 (
x
, x, 
a
);

1694 
	`mpz_sub
 (
t
, 
z
, 
x
);

1695 
	`mpz_mul
 (
t2
, 
P
, 
t
);

1696 
	`mpz_mod
 (
P
, 
t2
, 
n
);

1698 ià(
k
 % 32 == 1)

1700 
	`mpz_gcd
 (
t
, 
P
, 
n
);

1701 ià(
	`mpz_cmp_ui
 (
t
, 1) != 0)

1702 
çùÜ_found
;

1703 
	`mpz_£t
 (
y
, 
x
);

1706 --
k
 != 0);

1708 
	`mpz_£t
 (
z
, 
x
);

1709 
k
 = 
l
;

1710 
l
 = 2 *†;

1711 
i
 = 0; i < 
k
; i++)

1713 
	`mpz_mul
 (
t
, 
x
, x);

1714 
	`mpz_mod
 (
x
, 
t
, 
n
);

1715 
	`mpz_add_ui
 (
x
, x, 
a
);

1717 
	`mpz_£t
 (
y
, 
x
);

1720 
çùÜ_found
:

1723 
	`mpz_mul
 (
t
, 
y
, y);

1724 
	`mpz_mod
 (
y
, 
t
, 
n
);

1725 
	`mpz_add_ui
 (
y
, y, 
a
);

1727 
	`mpz_sub
 (
t
, 
z
, 
y
);

1728 
	`mpz_gcd
 (
t
,, 
n
);

1730 
	`mpz_cmp_ui
 (
t
, 1) == 0);

1732 
	`mpz_divexaù
 (
n
,‚, 
t
);

1734 ià(!
	`mp_´ime_p
 (
t
))

1736 
	`devmsg
 ("[composite factor--restarting…ollard-rho] ");

1737 
	`mp_çùÜ_usšg_pŞÏrd_rho
 (
t
, 
a
 + 1, 
çùÜs
);

1741 
	`mp_çùÜ_š£¹
 (
çùÜs
, 
t
);

1744 ià(
	`mp_´ime_p
 (
n
))

1746 
	`mp_çùÜ_š£¹
 (
çùÜs
, 
n
);

1750 
	`mpz_mod
 (
x
, x, 
n
);

1751 
	`mpz_mod
 (
z
, z, 
n
);

1752 
	`mpz_mod
 (
y
, y, 
n
);

1755 
	`mpz_ş—rs
 (
P
, 
t2
, 
t
, 
z
, 
x
, 
y
, 
NULL
);

1756 
	}
}

1761 
uštmax_t
 
_GL_ATTRIBUTE_CONST


1762 
	$isq¹
 (
uštmax_t
 
n
)

1764 
uštmax_t
 
x
;

1765 
c
;

1766 ià(
n
 == 0)

1769 
	`couÁ_Ëadšg_z”os
 (
c
, 
n
);

1772 
x
 = (
uštmax_t
è1 << ((
W_TYPE_SIZE
 + 1 - 
c
) / 2);

1776 
uštmax_t
 
y
 = (
x
 + 
n
/x) / 2;

1777 ià(
y
 >ğ
x
)

1778  
x
;

1780 
x
 = 
y
;

1782 
	}
}

1784 
uštmax_t
 
_GL_ATTRIBUTE_CONST


1785 
	$isq¹2
 (
uštmax_t
 
nh
, uštmax_ˆ
Æ
)

1787 
shiá
;

1788 
uštmax_t
 
x
;

1791 
	`as£¹
 (
nh
 < ((
uštmax_t
è1 << (
W_TYPE_SIZE
 - 2)));

1793 ià(
nh
 == 0)

1794  
	`isq¹
 (
Æ
);

1796 
	`couÁ_Ëadšg_z”os
 (
shiá
, 
nh
);

1797 
shiá
 &= ~1;

1800 
x
 = 
	`isq¹
 ( (
nh
 << 
shiá
è+ (
Æ
 >> (
W_TYPE_SIZE
 - shift))) + 1;

1801 
x
 <<ğ(
W_TYPE_SIZE
 - 
shiá
) / 2;

1806 
uštmax_t
 
r
 
ATTRIBUTE_UNUSED
;

1807 
uštmax_t
 
q
, 
y
;

1808 
	`udiv_qºnd
 (
q
, 
r
, 
nh
, 
Æ
, 
x
);

1809 
y
 = (
x
 + 
q
) / 2;

1811 ià(
y
 >ğ
x
)

1813 
uštmax_t
 
hi
, 
lo
;

1814 
	`umul_µmm
 (
hi
, 
lo
, 
x
 + 1, x + 1);

1815 
	`as£¹
 (
	`gt2
 (
hi
, 
lo
, 
nh
, 
Æ
));

1817 
	`umul_µmm
 (
hi
, 
lo
, 
x
, x);

1818 
	`as£¹
 (
	`ge2
 (
nh
, 
Æ
, 
hi
, 
lo
));

1819 
	`sub_ddmmss
 (
hi
, 
lo
, 
nh
, 
Æ
, hi,†o);

1820 
	`as£¹
 (
hi
 == 0);

1822  
x
;

1825 
x
 = 
y
;

1827 
	}
}

1830 
	#MAGIC64
 ((
ušt64_t
è0x0202021202030213ULL)

	)

1831 
	#MAGIC63
 ((
ušt64_t
è0x0402483012450293ULL)

	)

1832 
	#MAGIC65
 ((
ušt64_t
è0x218a019866014613ULL)

	)

1833 
	#MAGIC11
 0x23b

	)

1836 
uštmax_t
 
_GL_ATTRIBUTE_CONST


1837 
	$is_squ¬e
 (
uštmax_t
 
x
)

1841 ià(((
MAGIC64
 >> (
x
 & 63)) & 1)

1842 && ((
MAGIC63
 >> (
x
 % 63)) & 1)

1844 && ((
MAGIC65
 >> ((
x
 % 65) & 63)) & 1)

1845 && ((
MAGIC11
 >> (
x
 % 11) & 1)))

1847 
uštmax_t
 
r
 = 
	`isq¹
 (
x
);

1848 ià(
r
*¸=ğ
x
)

1849  
r
;

1852 
	}
}

1855 cÚ¡ 
	gšvb
[0x81] =

1878 
	#div_sm®lq
(
q
, 
r
, 
u
, 
d
) \

1880 ià((
u
è/ 0x40 < (
d
)) \

1882 
_út
; \

1883 
uštmax_t
 
_dšv
, 
_mask
, 
_q
, 
_r
; \

1884 
	`couÁ_Ëadšg_z”os
 (
_út
, (
d
)); \

1885 
_r
 = (
u
); \

1886 ià(
	`UNLIKELY
 (
_út
 > (
W_TYPE_SIZE
 - 8))) \

1888 
_dšv
 = 
švb
[((
d
è<< (
_út
 + 8 - 
W_TYPE_SIZE
)) - 0x80]; \

1889 
_q
 = 
_dšv
 * 
_r
 >> (8 + 
W_TYPE_SIZE
 - 
_út
); \

1893 
_dšv
 = 
švb
[((
d
è>> (
W_TYPE_SIZE
 - 8 - 
_út
)) - 0x7f]; \

1894 
_q
 = 
_dšv
 * (
_r
 >> (
W_TYPE_SIZE
 - 3 - 
_út
)) >> 11; \

1896 
_r
 -ğ
_q
*(
d
); \

1898 
_mask
 = -(
uštmax_t
è(
_r
 >ğ(
d
)); \

1899 (
r
èğ
_r
 - (
_mask
 & (
d
)); \

1900 (
q
èğ
_q
 - 
_mask
; \

1901 
	`as£¹
 ( (
q
è* (
d
è+ (
r
è=ğ
u
); \

1905 
uštmax_t
 
_q
 = (
u
è/ (
d
); \

1906 (
r
èğ(
u
è- 
_q
 * (
d
); \

1907 (
q
èğ
_q
; \

1909 } 0)

	)

1946 
	#QUEUE_SIZE
 50

	)

1948 #ià
STAT_SQUFOF


1949 
	#Q_FREQ_SIZE
 50

	)

1951 
	gq_äeq
[
Q_FREQ_SIZE
 + 1];

1952 
	#MIN
(
a
,
b
è(×è< (bè? (aè: (b))

	)

1957 
boŞ


1958 
	$çùÜ_usšg_squfof
 (
uštmax_t
 
n1
, uštmax_ˆ
n0
, 
çùÜs
 *factors)

1968 cÚ¡ 
muÉl›rs_1
[] =

1972 cÚ¡ 
muÉl›rs_3
[] =

1977 cÚ¡ *
m
;

1979 ¡ruù { 
uštmax_t
 
Q
; uštmax_ˆ
P
; } 
queue
[
QUEUE_SIZE
];

1981 ià(
n1
 >ğ((
uštmax_t
è1 << (
W_TYPE_SIZE
 - 2)))

1982  
çl£
;

1984 
uštmax_t
 
sq¹_n
 = 
	`isq¹2
 (
n1
, 
n0
);

1986 ià(
n0
 =ğ
sq¹_n
 * sqrt_n)

1988 
uštmax_t
 
p1
, 
p0
;

1990 
	`umul_µmm
 (
p1
, 
p0
, 
sq¹_n
, sqrt_n);

1991 
	`as£¹
 (
p0
 =ğ
n0
);

1993 ià(
n1
 =ğ
p1
)

1995 ià(
	`´ime_p
 (
sq¹_n
))

1996 
	`çùÜ_š£¹_muÉlic™y
 (
çùÜs
, 
sq¹_n
, 2);

1999 
çùÜs
 
f
;

2001 
f
.
nçùÜs
 = 0;

2002 ià(!
	`çùÜ_usšg_squfof
 (0, 
sq¹_n
, &
f
))

2005 
	`çùÜ_usšg_pŞÏrd_rho
 (
sq¹_n
, 1, &
f
);

2008 
i
 = 0; i < 
f
.
nçùÜs
; i++)

2009 
	`çùÜ_š£¹_muÉlic™y
 (
çùÜs
, 
f
.
p
[
i
], 2*f.
e
[i]);

2011  
Œue
;

2016 
m
 = (
n0
 % 4 =ğ1è? 
muÉl›rs_3
 : 
muÉl›rs_1
;

2017 *
m
; m++)

2019 
uštmax_t
 
S
, 
Dh
, 
Dl
, 
Q1
, 
Q
, 
P
, 
L
, 
L1
, 
B
;

2020 
i
;

2021 
mu
 = *
m
;

2022 
qpos
 = 0;

2024 
	`as£¹
 (
mu
 * 
n0
 % 4 == 3);

2036 ià(
n1
 == 0)

2038 ià((
uštmax_t
è
mu
*mu*mu >ğ
n0
 / 64)

2043 ià(
n1
 > ((
uštmax_t
è1 << (
W_TYPE_SIZE
 - 2)è/ 
mu
)

2046 
	`umul_µmm
 (
Dh
, 
Dl
, 
n0
, 
mu
);

2047 
Dh
 +ğ
n1
 * 
mu
;

2049 
	`as£¹
 (
Dl
 % 4 != 1);

2050 
	`as£¹
 (
Dh
 < (
uštmax_t
è1 << (
W_TYPE_SIZE
 - 2));

2052 
S
 = 
	`isq¹2
 (
Dh
, 
Dl
);

2054 
Q1
 = 1;

2055 
P
 = 
S
;

2058 
Q
 = 
Dl
 - 
P
*P;

2060 
L
 = 
	`isq¹
 (2*
S
);

2061 
B
 = 2*
L
;

2062 
L1
 = 
mu
 * 2 * 
L
;

2067 
i
 = 0; i <ğ
B
; i++)

2069 
uštmax_t
 
q
, 
P1
, 
t
, 
»m
;

2071 
	`div_sm®lq
 (
q
, 
»m
, 
S
+
P
, 
Q
);

2072 
P1
 = 
S
 - 
»m
;

2074 #ià
STAT_SQUFOF


2075 
	`as£¹
 (
q
 > 0);

2076 
q_äeq
[0]++;

2077 
q_äeq
[
	`MIN
 (
q
, 
Q_FREQ_SIZE
)]++;

2080 ià(
Q
 <ğ
L1
)

2082 
uštmax_t
 
g
 = 
Q
;

2084 iàĞ(
Q
 & 1) == 0)

2085 
g
 /= 2;

2087 
g
 /ğ
	`gcd_odd
 (g, 
mu
);

2089 ià(
g
 <ğ
L
)

2091 ià(
qpos
 >ğ
QUEUE_SIZE
)

2092 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("squfof queue overflow"));

2093 
queue
[
qpos
].
Q
 = 
g
;

2094 
queue
[
qpos
].
P
 = P % 
g
;

2095 
qpos
++;

2101 
t
 = 
Q1
 + 
q
 * (
P
 - 
P1
);

2102 
Q1
 = 
Q
;

2103 
Q
 = 
t
;

2104 
P
 = 
P1
;

2106 iàĞ(
i
 & 1) == 0)

2108 
uštmax_t
 
r
 = 
	`is_squ¬e
 (
Q
);

2109 ià(
r
)

2111 
j
 = 0; j < 
qpos
; j++)

2113 ià(
queue
[
j
].
Q
 =ğ
r
)

2115 ià(
r
 == 1)

2117 
Ãxt_muÉl›r
;

2120 ià(
P
 >ğ
queue
[
j
].P)

2121 
t
 = 
P
 - 
queue
[
j
].P;

2123 
t
 = 
queue
[
j
].
P
 - P;

2124 ià(
t
 % 
r
 == 0)

2128 
	`memmove
 (
queue
, queu+ 
j
 + 1,

2129 (
qpos
 - 
j
 - 1è*  (
queue
[0]));

2130 
qpos
 -ğ(
j
 + 1);

2132 
Ãxt_i
;

2138 
Q1
 = 
r
;

2139 
	`as£¹
 (
S
 >ğ
P
);

2140 
P
 +ğ
r
 * ((
S
 - P) /„);

2146 
uštmax_t
 
hi
, 
lo
;

2147 
	`umul_µmm
 (
hi
, 
lo
, 
P
, P);

2148 
	`sub_ddmmss
 (
hi
, 
lo
, 
Dh
, 
Dl
, hi,†o);

2149 
	`udiv_qºnd
 (
Q
, 
»m
, 
hi
, 
lo
, 
Q1
);

2150 
	`as£¹
 (
»m
 == 0);

2159 
	`div_sm®lq
 (
q
, 
»m
, 
S
+
P
, 
Q
);

2160 
P1
 = 
S
 - 
»m
;

2162 #ià
STAT_SQUFOF


2163 
q_äeq
[0]++;

2164 
q_äeq
[
	`MIN
 (
q
, 
Q_FREQ_SIZE
)]++;

2166 ià(
P
 =ğ
P1
)

2168 
t
 = 
Q1
 + 
q
 * (
P
 - 
P1
);

2169 
Q1
 = 
Q
;

2170 
Q
 = 
t
;

2171 
P
 = 
P1
;

2174 iàĞ(
Q
 & 1) == 0)

2175 
Q
 /= 2;

2176 
Q
 /ğ
	`gcd_odd
 (Q, 
mu
);

2178 
	`as£¹
 (
Q
 > 1 && (
n1
 || Q < 
n0
));

2180 ià(
	`´ime_p
 (
Q
))

2181 
	`çùÜ_š£¹
 (
çùÜs
, 
Q
);

2182 ià(!
	`çùÜ_usšg_squfof
 (0, 
Q
, 
çùÜs
))

2183 
	`çùÜ_usšg_pŞÏrd_rho
 (
Q
, 2, 
çùÜs
);

2185 
	`divexaù_21
 (
n1
, 
n0
,‚1,‚0, 
Q
);

2187 ià(
	`´ime2_p
 (
n1
, 
n0
))

2188 
	`çùÜ_š£¹_Ïrge
 (
çùÜs
, 
n1
, 
n0
);

2191 ià(!
	`çùÜ_usšg_squfof
 (
n1
, 
n0
, 
çùÜs
))

2193 ià(
n1
 == 0)

2194 
	`çùÜ_usšg_pŞÏrd_rho
 (
n0
, 1, 
çùÜs
);

2196 
	`çùÜ_usšg_pŞÏrd_rho2
 (
n1
, 
n0
, 1, 
çùÜs
);

2200  
Œue
;

2203 
Ãxt_i
:;

2205 
Ãxt_muÉl›r
:;

2207  
çl£
;

2208 
	}
}

2213 
	$çùÜ
 (
uštmax_t
 
t1
, uštmax_ˆ
t0
, 
çùÜs
 *factors)

2215 
çùÜs
->
nçùÜs
 = 0;

2216 
çùÜs
->
¶¬ge
[1] = 0;

2218 ià(
t1
 =ğ0 && 
t0
 < 2)

2221 
t0
 = 
	`çùÜ_usšg_divisiÚ
 (&
t1
,1,0, 
çùÜs
);

2223 ià(
t1
 =ğ0 && 
t0
 < 2)

2226 ià(
	`´ime2_p
 (
t1
, 
t0
))

2227 
	`çùÜ_š£¹_Ïrge
 (
çùÜs
, 
t1
, 
t0
);

2230 ià(
®g
 =ğ
ALG_SQUFOF
)

2231 ià(
	`çùÜ_usšg_squfof
 (
t1
, 
t0
, 
çùÜs
))

2234 ià(
t1
 == 0)

2235 
	`çùÜ_usšg_pŞÏrd_rho
 (
t0
, 1, 
çùÜs
);

2237 
	`çùÜ_usšg_pŞÏrd_rho2
 (
t1
, 
t0
, 1, 
çùÜs
);

2239 
	}
}

2241 #ià
HAVE_GMP


2245 
	$mp_çùÜ
 (
mpz_t
 
t
, 
mp_çùÜs
 *
çùÜs
)

2247 
	`mp_çùÜ_š™
 (
çùÜs
);

2249 ià(
	`mpz_sgn
 (
t
) != 0)

2251 
	`mp_çùÜ_usšg_divisiÚ
 (
t
, 
çùÜs
);

2253 ià(
	`mpz_cmp_ui
 (
t
, 1) != 0)

2255 
	`devmsg
 ("[is‚umber…rime?] ");

2256 ià(
	`mp_´ime_p
 (
t
))

2257 
	`mp_çùÜ_š£¹
 (
çùÜs
, 
t
);

2259 
	`mp_çùÜ_usšg_pŞÏrd_rho
 (
t
, 1, 
çùÜs
);

2262 
	}
}

2265 
¡¹Ş_”rÜ


2266 
	$¡¹o2uštmax
 (
uštmax_t
 *
h
, uštmax_ˆ*
lİ
, cÚ¡ *
s
)

2268 
lo_ÿ¼y
;

2269 
uštmax_t
 
hi
 = 0, 
lo
 = 0;

2271 
¡¹Ş_”rÜ
 
”r
 = 
LONGINT_INVALID
;

2276 
c
 = *
s
;

2277 ià(
c
 == ' ')

2278 
s
++;

2279 ià(
c
 == '+')

2281 
s
++;

2289 cÚ¡ *
p
 = 
s
;

2292 
c
 = *
p
++;

2293 ià(
c
 == 0)

2296 ià(
	`UNLIKELY
 (!
	`ISDIGIT
 (
c
)))

2298 
”r
 = 
LONGINT_INVALID
;

2302 
”r
 = 
LONGINT_OK
;

2305 ;
”r
 =ğ
LONGINT_OK
;)

2307 
c
 = *
s
++;

2308 ià(
c
 == 0)

2311 
c
 -= '0';

2313 ià(
	`UNLIKELY
 (
hi
 > ~(
uštmax_t
)0 / 10))

2315 
”r
 = 
LONGINT_OVERFLOW
;

2318 
hi
 = 10 * hi;

2320 
lo_ÿ¼y
 = (
lo
 >> (
W_TYPE_SIZE
 - 3)) + (lo >> (W_TYPE_SIZE - 1));

2321 
lo_ÿ¼y
 +ğ10 * 
lo
 < 2 *†o;

2323 
lo
 = 10 *†o;

2324 
lo
 +ğ
c
;

2326 
lo_ÿ¼y
 +ğ
lo
 < 
c
;

2327 
hi
 +ğ
lo_ÿ¼y
;

2328 ià(
	`UNLIKELY
 (
hi
 < 
lo_ÿ¼y
))

2330 
”r
 = 
LONGINT_OVERFLOW
;

2335 *
h
 = 
hi
;

2336 *
lİ
 = 
lo
;

2338  
”r
;

2339 
	}
}

2342 
	$´št_uštmaxes
 (
uštmax_t
 
t1
, uštmax_ˆ
t0
)

2344 
uštmax_t
 
q
, 
r
;

2346 ià(
t1
 == 0)

2347 
	`´štf
 ("%"
PRIuMAX
, 
t0
);

2352 
q
 = 
t1
 / 1000000000;

2353 
r
 = 
t1
 % 1000000000;

2354 
	`udiv_qºnd
 (
t0
, 
r
,„,0, 1000000000);

2355 
	`´št_uštmaxes
 (
q
, 
t0
);

2356 
	`´štf
 ("%09u", (è
r
);

2358 
	}
}

2362 
	$´št_çùÜs_sšgË
 (
uštmax_t
 
t1
, uštmax_ˆ
t0
)

2364 
çùÜs
 factors;

2366 
	`´št_uštmaxes
 (
t1
, 
t0
);

2367 
	`putch¬
 (':');

2369 
	`çùÜ
 (
t1
, 
t0
, &
çùÜs
);

2371 
j
 = 0; j < 
çùÜs
.
nçùÜs
; j++)

2372 
k
 = 0; k < 
çùÜs
.
e
[
j
]; k++)

2374 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

2375 
	`putch¬
 (' ');

2376 
	`åuts
 (
	`umaxto¡r
 (
çùÜs
.
p
[
j
], 
buf
), 
¡dout
);

2379 ià(
çùÜs
.
¶¬ge
[1])

2381 
	`putch¬
 (' ');

2382 
	`´št_uštmaxes
 (
çùÜs
.
¶¬ge
[1], factors.plarge[0]);

2384 
	`putch¬
 ('\n');

2385 
	}
}

2392 
boŞ


2393 
	$´št_çùÜs
 (cÚ¡ *
šput
)

2395 
uštmax_t
 
t1
, 
t0
;

2401 
¡¹Ş_”rÜ
 
”r
 = 
	`¡¹o2uštmax
 (&
t1
, &
t0
, 
šput
);

2403 
”r
)

2405 
LONGINT_OK
:

2406 ià(((
t1
 << 1) >> 1) ==1)

2408 
	`devmsg
 ("[using single-precision‡rithmetic] ");

2409 
	`´št_çùÜs_sšgË
 (
t1
, 
t0
);

2410  
Œue
;

2414 
LONGINT_OVERFLOW
:

2419 
	`”rÜ
 (0, 0, 
	`_
("% i nÙ‡ v®id…os™ivš‹g”"), 
	`quÙe
 (
šput
));

2420  
çl£
;

2423 #ià
HAVE_GMP


2424 
	`devmsg
 ("[using‡rbitrary-precision‡rithmetic] ");

2425 
mpz_t
 
t
;

2426 
mp_çùÜs
 
çùÜs
;

2428 
	`mpz_š™_£t_¡r
 (
t
, 
šput
, 10);

2430 
	`gmp_´štf
 ("%Zd:", 
t
);

2431 
	`mp_çùÜ
 (
t
, &
çùÜs
);

2433 
j
 = 0; j < 
çùÜs
.
nçùÜs
; j++)

2434 
k
 = 0; k < 
çùÜs
.
e
[
j
]; k++)

2435 
	`gmp_´štf
 (" %Zd", 
çùÜs
.
p
[
j
]);

2437 
	`mp_çùÜ_ş—r
 (&
çùÜs
);

2438 
	`mpz_ş—r
 (
t
);

2439 
	`putch¬
 ('\n');

2440  
Œue
;

2442 
	`”rÜ
 (0, 0, 
	`_
("% i toØÏrge"), 
	`quÙe
 (
šput
));

2443  
çl£
;

2445 
	}
}

2448 
	$u§ge
 (
¡©us
)

2450 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

2451 
	`em™_Œy_h–p
 ();

2454 
	`´štf
 (
	`_
("\
: %s [NUMBER]...\n\
: %s OPTION\n\
"),

2458 
´og¿m_Çme
,…rogram_name);

2459 
	`åuts
 (
	`_
("\
h´imçùÜ oà—ch s³cif›d iÁeg” NUMBER. IànÚe\n\
 s³cif›d oÀthcommªd†še,„—dhem from snd¬d iÅut.\n\
\n\
"), 
¡dout
);

2464 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

2465 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

2466 
	`em™_ªcÏry_šfo
 ();

2468 
	`ex™
 (
¡©us
);

2469 
	}
}

2471 
boŞ


2472 
	$do_¡dš
 ()

2474 
boŞ
 
ok
 = 
Œue
;

2475 
tok’_bufãr
 
tok’bufãr
;

2477 
	`š™_tok’bufãr
 (&
tok’bufãr
);

2479 
Œue
)

2481 
size_t
 
tok’_Ëngth
 = 
	`»adtok’
 (
¡dš
, 
DELIM
,  (DELIM) - 1,

2482 &
tok’bufãr
);

2483 ià(
tok’_Ëngth
 =ğ(
size_t
) -1)

2485 
ok
 &ğ
	`´št_çùÜs
 (
tok’bufãr
.
bufãr
);

2487 
	`ä“
 (
tok’bufãr
.
bufãr
);

2489  
ok
;

2490 
	}
}

2493 
	$maš
 (
¬gc
, **
¬gv
)

2495 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

2496 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

2497 
	`£oÿË
 (
LC_ALL
, "");

2498 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

2499 
	`‹xtdomaš
 (
PACKAGE
);

2501 
	`©ex™
 (
şo£_¡dout
);

2503 
®g
 = 
ALG_POLLARD_RHO
;

2505 
c
;

2506 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
lÚg_İtiÚs
, 
NULL
)) != -1)

2508 
c
)

2510 
DEV_DEBUG_OPTION
:

2511 
dev_debug
 = 
Œue
;

2515 
®g
 = 
ALG_SQUFOF
;

2519 
æag_´ove_´im®™y
 = 
çl£
;

2522 
ÿ£_GETOPT_HELP_CHAR
;

2524 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2527 
	`u§ge
 (
EXIT_FAILURE
);

2531 #ià
STAT_SQUFOF


2532 ià(
®g
 =ğ
ALG_SQUFOF
)

2533 
	`mem£t
 (
q_äeq
, 0,  (q_freq));

2536 
boŞ
 
ok
;

2537 ià(
¬gc
 <ğ
İtšd
)

2538 
ok
 = 
	`do_¡dš
 ();

2541 
ok
 = 
Œue
;

2542 
i
 = 
İtšd
; i < 
¬gc
; i++)

2543 ià(! 
	`´št_çùÜs
 (
¬gv
[
i
]))

2544 
ok
 = 
çl£
;

2547 #ià
STAT_SQUFOF


2548 ià(
®g
 =ğ
ALG_SQUFOF
 && 
q_äeq
[0] > 0)

2550 
acc_f
;

2551 
	`´štf
 ("q f»q. cum. f»q.ÑÙ®: %d)\n", 
q_äeq
[0]);

2552 
i
 = 1, 
acc_f
 = 0.0; i <ğ
Q_FREQ_SIZE
; i++)

2554 
f
 = (è
q_äeq
[
i
] / q_freq[0];

2555 
acc_f
 +ğ
f
;

2556 
	`´štf
 ("%s%d %.2f%% %.2f%%\n", 
i
 =ğ
Q_FREQ_SIZE
 ? ">=" : "", i,

2557 100.0 * 
f
, 100.0 * 
acc_f
);

2562 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

2563 
	}
}

	@false.c

1 
	#EXIT_STATUS
 
EXIT_FAILURE


	)

2 
	~"Œue.c
"

	@fiemap.h

9 #iâdeà
_LINUX_FIEMAP_H


10 
	#_LINUX_FIEMAP_H


	)

12 
	~<¡dšt.h
>

14 
	sf›m­_ex‹Á


18 
ušt64_t
 
	mã_logiÿl
;

22 
ušt64_t
 
	mã_physiÿl
;

25 
ušt64_t
 
	mã_Ëngth
;

27 
ušt64_t
 
	mã_»£rved64
[2];

30 
ušt32_t
 
	mã_æags
;

32 
ušt32_t
 
	mã_»£rved
[3];

35 
	sf›m­


38 
ušt64_t
 
	mfm_¡¬t
;

41 
ušt64_t
 
	mfm_Ëngth
;

44 
ušt32_t
 
	mfm_æags
;

47 
ušt32_t
 
	mfm_m­³d_ex‹Ás
;

50 
ušt32_t
 
	mfm_ex‹Á_couÁ
;

52 
ušt32_t
 
	mfm_»£rved
;

58 #ifdeà
__lšux__


59 
f›m­_ex‹Á
 
	mfm_ex‹Ás
[0];

64 
	#FIEMAP_MAX_OFFSET
 (~0ULL)

	)

67 
	#FIEMAP_FLAG_SYNC
 0x00000001

	)

70 
	#FIEMAP_FLAG_XATTR
 0x00000002

	)

72 
	#FIEMAP_FLAGS_COMPAT
 (
FIEMAP_FLAG_SYNC
 | 
FIEMAP_FLAG_XATTR
)

	)

75 
	#FIEMAP_EXTENT_LAST
 0x00000001

	)

78 
	#FIEMAP_EXTENT_UNKNOWN
 0x00000002

	)

81 
	#FIEMAP_EXTENT_DELALLOC
 0x00000004

	)

84 
	#FIEMAP_EXTENT_ENCODED
 0x00000008

	)

87 
	#FIEMAP_EXTENT_DATA_ENCRYPTED
 0x00000080

	)

90 
	#FIEMAP_EXTENT_NOT_ALIGNED
 0x00000100

	)

93 
	#FIEMAP_EXTENT_DATA_INLINE
 0x00000200

	)

96 
	#FIEMAP_EXTENT_DATA_TAIL
 0x00000400

	)

99 
	#FIEMAP_EXTENT_UNWRITTEN
 0x00000800

	)

102 
	#FIEMAP_EXTENT_MERGED
 0x00001000

	)

105 
	#FIEMAP_EXTENT_SHARED
 0x00002000

	)

	@find-mount-point.c

17 
	~<cÚfig.h
>

18 
	~<sys/ty³s.h
>

20 
	~"sy¡em.h
"

21 
	~"”rÜ.h
"

22 
	~"quÙe.h
"

23 
	~"§ve-cwd.h
"

24 
	~"xg‘cwd.h
"

25 
	~"fšd-mouÁ-pošt.h
"

32 
	$fšd_mouÁ_pošt
 (cÚ¡ *
fe
, 
¡©
 cÚ¡ *
fe_¡©
)

34 
§ved_cwd
 
cwd
;

35 
¡©
 
Ï¡_¡©
;

36 *
mp
 = 
NULL
;

38 ià(
	`§ve_cwd
 (&
cwd
) != 0)

40 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot get current directory"));

41  
NULL
;

44 ià(
	`S_ISDIR
 (
fe_¡©
->
¡_mode
))

47 
Ï¡_¡©
 = *
fe_¡©
;

48 ià(
	`chdœ
 (
fe
) < 0)

50 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ chªgtØdœeùÜy %s"), 
	`quÙe
 (
fe
));

51  
NULL
;

57 *
xdœ
 = 
	`dœ_Çme
 (
fe
);

58 *
dœ
;

59 
	`ASSIGN_STRDUPA
 (
dœ
, 
xdœ
);

60 
	`ä“
 (
xdœ
);

62 ià(
	`chdœ
 (
dœ
) < 0)

64 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ chªgtØdœeùÜy %s"), 
	`quÙe
 (
dœ
));

65  
NULL
;

68 ià(
	`¡©
 (".", &
Ï¡_¡©
) < 0)

70 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot stat current directory (now %s)"),

71 
	`quÙe
 (
dœ
));

72 
dÚe
;

79 
Œue
)

81 
¡©
 
¡
;

82 ià(
	`¡©
 ("..", &
¡
) < 0)

84 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (".."));

85 
dÚe
;

87 ià(
¡
.
¡_dev
 !ğ
Ï¡_¡©
.¡_dev || st.
¡_šo
 ==†ast_stat.st_ino)

90 ià(
	`chdœ
 ("..") < 0)

92 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ chªgtØdœeùÜy %s"), 
	`quÙe
 (".."));

93 
dÚe
;

95 
Ï¡_¡©
 = 
¡
;

99 
mp
 = 
	`xg‘cwd
 ();

101 
dÚe
:

104 
§ve_”ºo
 = 
”ºo
;

105 ià(
	`»¡Üe_cwd
 (&
cwd
) != 0)

106 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

107 
	`_
("failedo„eturno initial working directory"));

108 
	`ä“_cwd
 (&
cwd
);

109 
”ºo
 = 
§ve_”ºo
;

112  
mp
;

113 
	}
}

	@find-mount-point.h

17 *
fšd_mouÁ_pošt
 (cÚ¡ *, 
¡©
 const *);

	@fmt.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

23 
	~<as£¹.h
>

27 
	#wÜd
 
unu£d_wÜd_ty³


	)

29 
	~"sy¡em.h
"

30 
	~"”rÜ.h
"

31 
	~"çdvi£.h
"

32 
	~"quÙe.h
"

33 
	~"x¡¹Ş.h
"

36 
	#PROGRAM_NAME
 "fmt"

	)

38 
	#AUTHORS
 
	`´İ”_Çme
 ("Ros P©”sÚ")

	)

44 
	#WIDTH
 75

	)

48 
	#LEEWAY
 7

	)

52 
	#DEF_INDENT
 3

	)

65 
	tCOST
;

67 
	#MAXCOST
 
	`TYPE_MAXIMUM
 (
COST
)

	)

69 
	#SQR
(
n
è(Òè* (n))

	)

70 
	#EQUIV
(
n
è
	`SQR
 ((
COST
èÒ))

	)

73 
	#SHORT_COST
(
n
è
	`EQUIV
 (Òè* 10)

	)

76 
	#RAGGED_COST
(
n
è(
	`SHORT_COST
 (nè/ 2)

	)

79 
	#LINE_COST
 
	`EQUIV
 (70)

	)

83 
	#WIDOW_COST
(
n
è(
	`EQUIV
 (200è/ (Òè+ 2))

	)

87 
	#ORPHAN_COST
(
n
è(
	`EQUIV
 (150è/ (Òè+ 2))

	)

90 
	#SENTENCE_BONUS
 
	`EQUIV
 (50)

	)

97 
	#NOBREAK_COST
 
	`EQUIV
 (600)

	)

100 
	#PAREN_BONUS
 
	`EQUIV
 (40)

	)

103 
	#PUNCT_BONUS
 
	`EQUIV
(40)

	)

106 
	#LINE_CREDIT
 
	`EQUIV
(3)

	)

115 
	#MAXWORDS
 1000

	)

116 
	#MAXCHARS
 5000

	)

120 
	#isİ’
(
c
è(
	`¡rchr
 ("(['`\"", cè!ğ
NULL
)

	)

121 
	#isşo£
(
c
è(
	`¡rchr
 (")]'\"", cè!ğ
NULL
)

	)

122 
	#i¥”iod
(
c
è(
	`¡rchr
 (".?!", cè!ğ
NULL
)

	)

126 
	#TABWIDTH
 8

	)

130 
WÜd
 
	tWORD
;

132 
	sWÜd


137 cÚ¡ *
	m‹xt
;

138 
	mËngth
;

139 
	m¥aû
;

140 
	m·»n
:1;

141 
	m³riod
:1;

142 
	mpunù
:1;

143 
	mfš®
:1;

147 
	mlše_Ëngth
;

148 
COST
 
	mbe¡_co¡
;

149 
WORD
 *
	mÃxt_b»ak
;

154 
£t_´efix
 (*
p
);

155 
fmt
 (
FILE
 *
f
);

156 
boŞ
 
g‘_·¿g¿ph
 (
FILE
 *
f
);

157 
g‘_lše
 (
FILE
 *
f
, 
c
);

158 
g‘_´efix
 (
FILE
 *
f
);

159 
g‘_¥aû
 (
FILE
 *
f
, 
c
);

160 
cİy_»¡
 (
FILE
 *
f
, 
c
);

161 
boŞ
 
§me_·¿
 (
c
);

162 
æush_·¿g¿ph
 ();

163 
fmt_·¿g¿ph
 ();

164 
check_punùu©iÚ
 (
WORD
 *
w
);

165 
COST
 
ba£_co¡
 (
WORD
 *
this
);

166 
COST
 
lše_co¡
 (
WORD
 *
Ãxt
, 
Ën
);

167 
put_·¿g¿ph
 (
WORD
 *
fšish
);

168 
put_lše
 (
WORD
 *
w
, 
šd’t
);

169 
put_wÜd
 (
WORD
 *
w
);

170 
put_¥aû
 (
¥aû
);

175 
boŞ
 
	güown
;

178 
boŞ
 
	ggged
;

181 
boŞ
 
	g¥l™
;

184 
boŞ
 
	gunifÜm
;

187 cÚ¡ *
	g´efix
;

191 
	gmax_width
;

196 
	g´efix_fuÎ_Ëngth
;

199 
	g´efix_Ëad_¥aû
;

202 
	g´efix_Ëngth
;

205 
	ggßl_width
;

210 
	gš_cŞumn
;

213 
	gout_cŞumn
;

217 
	g·¿buf
[
MAXCHARS
];

220 *
	gw±r
;

224 
WORD
 
	gwÜd
[
MAXWORDS
];

229 
WORD
 *
	gwÜd_lim™
;

233 
boŞ
 
	gbs
;

236 
	g´efix_šd’t
;

239 
	gfœ¡_šd’t
;

242 
	gÙh”_šd’t
;

252 
	gÃxt_ch¬
;

256 
	gÃxt_´efix_šd’t
;

261 
	gÏ¡_lše_Ëngth
;

264 
	$u§ge
 (
¡©us
)

266 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

267 
	`em™_Œy_h–p
 ();

270 
	`´štf
 (
	`_
("U§ge: % [-WIDTH] [OPTION]... [FILE]...\n"), 
´og¿m_Çme
);

271 
	`åuts
 (
	`_
("\
ƒach…¬ag¿ph iÀthFILE(s), wr™šgØ¡ªd¬d ouut.\n\
 o±iÚ -WIDTH i ª‡bb»vŸ‹d fÜm oà--width=DIGITS.\n\
"), 
¡dout
);

276 
	`em™_mªd©Üy_¬g_nÙe
 ();

278 
	`åuts
 (
	`_
("\
-c, --crown-margin…reserve indentation of firstwo†ines\n\
-p, --prefix=STRING„eformat only†ines beginning with STRING,\n\
he…refixo„eformatted†ines\n\
-s, --split-only split†ong†ines, but do‚ot„efill\n\
"),

284 
¡dout
);

287 
	`åuts
 (
	`_
("\
-t, --gged-·¿g¿ph ind’tiÚ oàfœ¡†šdifã»Á from secÚd\n\
-u, --unifÜm-¥acšg oÃ s·û b‘w“ÀwÜds,wØaá” s’‹nûs\n\
-w, --width=WIDTH maximum†šwidth (deçuÉ oà75 cŞumns)\n\
-g, --gßl=WIDTH gßÈwidth (deçuÉ oà93% oàwidth)\n\
"), 
¡dout
);

293 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

294 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

295 
	`åuts
 (
	`_
("\
\n\
‚o FILE, or when FILE is -,„ead standard input.\n"),

298 
¡dout
);

299 
	`em™_ªcÏry_šfo
 ();

301 
	`ex™
 (
¡©us
);

302 
	}
}

306 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

308 {"üown-m¬gš", 
no_¬gum’t
, 
NULL
, 'c'},

309 {"´efix", 
»quœed_¬gum’t
, 
NULL
, 'p'},

310 {"¥l™-Úly", 
no_¬gum’t
, 
NULL
, 's'},

311 {"gged-·¿g¿ph", 
no_¬gum’t
, 
NULL
, 't'},

312 {"unifÜm-¥acšg", 
no_¬gum’t
, 
NULL
, 'u'},

313 {"width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

314 {"gßl", 
»quœed_¬gum’t
, 
NULL
, 'g'},

315 {
GETOPT_HELP_OPTION_DECL
},

316 {
GETOPT_VERSION_OPTION_DECL
},

317 {
NULL
, 0, NULL, 0},

321 
	$maš
 (
¬gc
, **
¬gv
)

323 
İtch¬
;

324 
boŞ
 
ok
 = 
Œue
;

325 cÚ¡ *
max_width_İtiÚ
 = 
NULL
;

326 cÚ¡ *
gßl_width_İtiÚ
 = 
NULL
;

328 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

329 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

330 
	`£oÿË
 (
LC_ALL
, "");

331 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

332 
	`‹xtdomaš
 (
PACKAGE
);

334 
	`©ex™
 (
şo£_¡dout
);

336 
üown
 = 
gged
 = 
¥l™
 = 
unifÜm
 = 
çl£
;

337 
max_width
 = 
WIDTH
;

338 
´efix
 = "";

339 
´efix_Ëngth
 = 
´efix_Ëad_¥aû
 = 
´efix_fuÎ_Ëngth
 = 0;

341 ià(
¬gc
 > 1 && 
¬gv
[1][0] =ğ'-' && 
	`ISDIGIT
 (argv[1][1]))

344 
max_width_İtiÚ
 = 
¬gv
[1] + 1;

347 
¬gv
[1] =‡rgv[0];

348 
¬gv
++;

349 
¬gc
--;

352 (
İtch¬
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "0123456789cstuw:p:g:",

353 
lÚg_İtiÚs
, 
NULL
))

355 
İtch¬
)

358 ià(
	`ISDIGIT
 (
İtch¬
))

359 
	`”rÜ
 (0, 0, 
	`_
("invalid option -- %c; -WIDTH is„ecognized\
 when it ishe first\noption; use -w N instead"),

361 
İtch¬
);

362 
	`u§ge
 (
EXIT_FAILURE
);

365 
üown
 = 
Œue
;

369 
¥l™
 = 
Œue
;

373 
gged
 = 
Œue
;

377 
unifÜm
 = 
Œue
;

381 
max_width_İtiÚ
 = 
İrg
;

385 
gßl_width_İtiÚ
 = 
İrg
;

389 
	`£t_´efix
 (
İrg
);

392 
ÿ£_GETOPT_HELP_CHAR
;

394 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

398 ià(
max_width_İtiÚ
)

402 
tmp
;

403 ià(! (
	`x¡¹oul
 (
max_width_İtiÚ
, 
NULL
, 10, &
tmp
, ""è=ğ
LONGINT_OK


404 && 
tmp
 <ğ
MAXCHARS
 / 2))

405 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid width: %s"),

406 
	`quÙe
 (
max_width_İtiÚ
));

407 
max_width
 = 
tmp
;

410 ià(
gßl_width_İtiÚ
)

413 
tmp
;

414 ià(! (
	`x¡¹oul
 (
gßl_width_İtiÚ
, 
NULL
, 10, &
tmp
, ""è=ğ
LONGINT_OK


415 && 
tmp
 <ğ
max_width
))

416 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid width: %s"),

417 
	`quÙe
 (
gßl_width_İtiÚ
));

418 
gßl_width
 = 
tmp
;

419 ià(
max_width_İtiÚ
 =ğ
NULL
)

420 
max_width
 = 
gßl_width
 + 10;

424 
gßl_width
 = 
max_width
 * (2 * (100 - 
LEEWAY
) + 1) / 200;

427 ià(
İtšd
 =ğ
¬gc
)

428 
	`fmt
 (
¡dš
);

431 ; 
İtšd
 < 
¬gc
; optind++)

433 *
fe
 = 
¬gv
[
İtšd
];

434 ià(
	`STREQ
 (
fe
, "-"))

435 
	`fmt
 (
¡dš
);

438 
FILE
 *
š_¡»am
;

439 
š_¡»am
 = 
	`fİ’
 (
fe
, "r");

440 ià(
š_¡»am
 !ğ
NULL
)

442 
	`fmt
 (
š_¡»am
);

443 ià(
	`fşo£
 (
š_¡»am
è=ğ
EOF
)

445 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

446 
ok
 = 
çl£
;

451 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot open %s for„eading"),

452 
	`quÙe
 (
fe
));

453 
ok
 = 
çl£
;

459 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

460 
	}
}

466 
	$£t_´efix
 (*
p
)

468 *
s
;

470 
´efix_Ëad_¥aû
 = 0;

471 *
p
 == ' ')

473 
´efix_Ëad_¥aû
++;

474 
p
++;

476 
´efix
 = 
p
;

477 
´efix_fuÎ_Ëngth
 = 
	`¡¾’
 (
p
);

478 
s
 = 
p
 + 
´efix_fuÎ_Ëngth
;

479 
s
 > 
p
 && s[-1] == ' ')

480 
s
--;

481 *
s
 = '\0';

482 
´efix_Ëngth
 = 
s
 - 
p
;

483 
	}
}

488 
	$fmt
 (
FILE
 *
f
)

490 
	`çdvi£
 (
f
, 
FADVISE_SEQUENTIAL
);

491 
bs
 = 
çl£
;

492 
Ùh”_šd’t
 = 0;

493 
Ãxt_ch¬
 = 
	`g‘_´efix
 (
f
);

494 
	`g‘_·¿g¿ph
 (
f
))

496 
	`fmt_·¿g¿ph
 ();

497 
	`put_·¿g¿ph
 (
wÜd_lim™
);

499 
	}
}

505 
	$£t_Ùh”_šd’t
 (
boŞ
 
§me_·¿g¿ph
)

507 ià(
¥l™
)

508 
Ùh”_šd’t
 = 
fœ¡_šd’t
;

509 ià(
üown
)

511 
Ùh”_šd’t
 = (
§me_·¿g¿ph
 ? 
š_cŞumn
 : 
fœ¡_šd’t
);

513 ià(
gged
)

515 ià(
§me_·¿g¿ph
 && 
š_cŞumn
 !ğ
fœ¡_šd’t
)

517 
Ùh”_šd’t
 = 
š_cŞumn
;

525 ià(
Ùh”_šd’t
 =ğ
fœ¡_šd’t
)

526 
Ùh”_šd’t
 = 
fœ¡_šd’t
 =ğ0 ? 
DEF_INDENT
 : 0;

530 
Ùh”_šd’t
 = 
fœ¡_šd’t
;

532 
	}
}

549 
boŞ


550 
	$g‘_·¿g¿ph
 (
FILE
 *
f
)

552 
c
;

554 
Ï¡_lše_Ëngth
 = 0;

555 
c
 = 
Ãxt_ch¬
;

559 
c
 =ğ'\n' || c =ğ
EOF


560 || 
Ãxt_´efix_šd’t
 < 
´efix_Ëad_¥aû


561 || 
š_cŞumn
 < 
Ãxt_´efix_šd’t
 + 
´efix_fuÎ_Ëngth
)

563 
c
 = 
	`cİy_»¡
 (
f
, c);

564 ià(
c
 =ğ
EOF
)

566 
Ãxt_ch¬
 = 
EOF
;

567  
çl£
;

569 
	`putch¬
 ('\n');

570 
c
 = 
	`g‘_´efix
 (
f
);

575 
´efix_šd’t
 = 
Ãxt_´efix_šd’t
;

576 
fœ¡_šd’t
 = 
š_cŞumn
;

577 
w±r
 = 
·¿buf
;

578 
wÜd_lim™
 = 
wÜd
;

579 
c
 = 
	`g‘_lše
 (
f
, c);

580 
	`£t_Ùh”_šd’t
 (
	`§me_·¿
 (
c
));

584 ià(
¥l™
)

588 ià(
üown
)

590 ià(
	`§me_·¿
 (
c
))

594 
c
 = 
	`g‘_lše
 (
f
, c);

596 
	`§me_·¿
 (
c
è&& 
š_cŞumn
 =ğ
Ùh”_šd’t
);

599 ià(
gged
)

601 ià(
	`§me_·¿
 (
c
è&& 
š_cŞumn
 !ğ
fœ¡_šd’t
)

605 
c
 = 
	`g‘_lše
 (
f
, c);

607 
	`§me_·¿
 (
c
è&& 
š_cŞumn
 =ğ
Ùh”_šd’t
);

612 
	`§me_·¿
 (
c
è&& 
š_cŞumn
 =ğ
Ùh”_šd’t
)

613 
c
 = 
	`g‘_lše
 (
f
, c);

618 
	`as£¹
 (
wÜd
 < 
wÜd_lim™
);

620 (
wÜd_lim™
 - 1)->
³riod
 = (wÜd_lim™ - 1)->
fš®
 = 
Œue
;

621 
Ãxt_ch¬
 = 
c
;

622  
Œue
;

623 
	}
}

631 
	$cİy_»¡
 (
FILE
 *
f
, 
c
)

633 cÚ¡ *
s
;

635 
out_cŞumn
 = 0;

636 ià(
š_cŞumn
 > 
Ãxt_´efix_šd’t
 || (
c
 !ğ'\n' && c !ğ
EOF
))

638 
	`put_¥aû
 (
Ãxt_´efix_šd’t
);

639 
s
 = 
´efix
; 
out_cŞumn
 !ğ
š_cŞumn
 && *s; out_column++)

640 
	`putch¬
 (*
s
++);

641 ià(
c
 !ğ
EOF
 && c != '\n')

642 
	`put_¥aû
 (
š_cŞumn
 - 
out_cŞumn
);

643 ià(
c
 =ğ
EOF
 && 
š_cŞumn
 >ğ
Ãxt_´efix_šd’t
 + 
´efix_Ëngth
)

644 
	`putch¬
 ('\n');

646 
c
 !ğ'\n' && c !ğ
EOF
)

648 
	`putch¬
 (
c
);

649 
c
 = 
	`g‘c
 (
f
);

651  
c
;

652 
	}
}

658 
boŞ


659 
	$§me_·¿
 (
c
)

661  (
Ãxt_´efix_šd’t
 =ğ
´efix_šd’t


662 && 
š_cŞumn
 >ğ
Ãxt_´efix_šd’t
 + 
´efix_fuÎ_Ëngth


663 && 
c
 !ğ'\n' && c !ğ
EOF
);

664 
	}
}

675 
	$g‘_lše
 (
FILE
 *
f
, 
c
)

677 
¡¬t
;

678 *
’d_of_·¿buf
;

679 
WORD
 *
’d_of_wÜd
;

681 
’d_of_·¿buf
 = &
·¿buf
[
MAXCHARS
];

682 
’d_of_wÜd
 = &
wÜd
[
MAXWORDS
 - 2];

689 
wÜd_lim™
->
‹xt
 = 
w±r
;

692 ià(
w±r
 =ğ
’d_of_·¿buf
)

694 
	`£t_Ùh”_šd’t
 (
Œue
);

695 
	`æush_·¿g¿ph
 ();

697 *
w±r
++ = 
c
;

698 
c
 = 
	`g‘c
 (
f
);

700 
c
 !ğ
EOF
 && !
	`is¥aû
 (c));

701 
š_cŞumn
 +ğ
wÜd_lim™
->
Ëngth
 = 
w±r
 - wÜd_lim™->
‹xt
;

702 
	`check_punùu©iÚ
 (
wÜd_lim™
);

706 
¡¬t
 = 
š_cŞumn
;

707 
c
 = 
	`g‘_¥aû
 (
f
, c);

708 
wÜd_lim™
->
¥aû
 = 
š_cŞumn
 - 
¡¬t
;

709 
wÜd_lim™
->
fš®
 = (
c
 =ğ
EOF


710 || (
wÜd_lim™
->
³riod


711 && (
c
 =ğ'\n' || 
wÜd_lim™
->
¥aû
 > 1)));

712 ià(
c
 =ğ'\n' || c =ğ
EOF
 || 
unifÜm
)

713 
wÜd_lim™
->
¥aû
 = wÜd_lim™->
fš®
 ? 2 : 1;

714 ià(
wÜd_lim™
 =ğ
’d_of_wÜd
)

716 
	`£t_Ùh”_šd’t
 (
Œue
);

717 
	`æush_·¿g¿ph
 ();

719 
wÜd_lim™
++;

721 
c
 !ğ'\n' && c !ğ
EOF
);

722  
	`g‘_´efix
 (
f
);

723 
	}
}

729 
	$g‘_´efix
 (
FILE
 *
f
)

731 
c
;

733 
š_cŞumn
 = 0;

734 
c
 = 
	`g‘_¥aû
 (
f
, 
	`g‘c
 (f));

735 ià(
´efix_Ëngth
 == 0)

736 
Ãxt_´efix_šd’t
 = 
´efix_Ëad_¥aû
 < 
š_cŞumn
 ?

737 
´efix_Ëad_¥aû
 : 
š_cŞumn
;

740 cÚ¡ *
p
;

741 
Ãxt_´efix_šd’t
 = 
š_cŞumn
;

742 
p
 = 
´efix
; *p != '\0';…++)

744 
pc
 = *
p
;

745 ià(
c
 !ğ
pc
)

746  
c
;

747 
š_cŞumn
++;

748 
c
 = 
	`g‘c
 (
f
);

750 
c
 = 
	`g‘_¥aû
 (
f
, c);

752  
c
;

753 
	}
}

759 
	$g‘_¥aû
 (
FILE
 *
f
, 
c
)

761 
Œue
)

763 ià(
c
 == ' ')

764 
š_cŞumn
++;

765 ià(
c
 == '\t')

767 
bs
 = 
Œue
;

768 
š_cŞumn
 = (š_cŞumÀ/ 
TABWIDTH
 + 1) * TABWIDTH;

771  
c
;

772 
c
 = 
	`g‘c
 (
f
);

774 
	}
}

779 
	$check_punùu©iÚ
 (
WORD
 *
w
)

781 cÚ¡ *
¡¬t
 = 
w
->
‹xt
;

782 cÚ¡ *
fšish
 = 
¡¬t
 + (
w
->
Ëngth
 - 1);

783 
fš
 = *
fšish
;

785 
w
->
·»n
 = 
	`isİ’
 (*
¡¬t
);

786 
w
->
punù
 = !! 
	`i¥unù
 (
fš
);

787 
¡¬t
 < 
fšish
 && 
	`isşo£
 (*finish))

788 
fšish
--;

789 
w
->
³riod
 = 
	`i¥”iod
 (*
fšish
);

790 
	}
}

796 
	$æush_·¿g¿ph
 ()

798 
WORD
 *
¥l™_pošt
;

799 
WORD
 *
w
;

800 
shiá
;

801 
COST
 
be¡_b»ak
;

805 ià(
wÜd_lim™
 =ğ
wÜd
)

807 
	`fwr™e
 (
·¿buf
,  *·¿buf, 
w±r
 -…¬abuf, 
¡dout
);

808 
w±r
 = 
·¿buf
;

818 
	`fmt_·¿g¿ph
 ();

822 
¥l™_pošt
 = 
wÜd_lim™
;

823 
be¡_b»ak
 = 
MAXCOST
;

824 
w
 = 
wÜd
->
Ãxt_b»ak
; w !ğ
wÜd_lim™
; w = w->next_break)

826 ià(
w
->
be¡_co¡
 - w->
Ãxt_b»ak
->be¡_co¡ < 
be¡_b»ak
)

828 
¥l™_pošt
 = 
w
;

829 
be¡_b»ak
 = 
w
->
be¡_co¡
 - w->
Ãxt_b»ak
->best_cost;

831 ià(
be¡_b»ak
 <ğ
MAXCOST
 - 
LINE_CREDIT
)

832 
be¡_b»ak
 +ğ
LINE_CREDIT
;

834 
	`put_·¿g¿ph
 (
¥l™_pošt
);

839 
	`memmove
 (
·¿buf
, 
¥l™_pošt
->
‹xt
, 
w±r
 - split_point->text);

840 
shiá
 = 
¥l™_pošt
->
‹xt
 - 
·¿buf
;

841 
w±r
 -ğ
shiá
;

845 
w
 = 
¥l™_pošt
; w <ğ
wÜd_lim™
; w++)

846 
w
->
‹xt
 -ğ
shiá
;

851 
	`memmove
 (
wÜd
, 
¥l™_pošt
, (
wÜd_lim™
 - split_point + 1) *  *word);

852 
wÜd_lim™
 -ğ
¥l™_pošt
 - 
wÜd
;

853 
	}
}

860 
	$fmt_·¿g¿ph
 ()

862 
WORD
 *
¡¬t
, *
w
;

863 
Ën
;

864 
COST
 
wco¡
, 
be¡
;

865 
§ved_Ëngth
;

867 
wÜd_lim™
->
be¡_co¡
 = 0;

868 
§ved_Ëngth
 = 
wÜd_lim™
->
Ëngth
;

869 
wÜd_lim™
->
Ëngth
 = 
max_width
;

871 
¡¬t
 = 
wÜd_lim™
 - 1; s¹ >ğ
wÜd
; start--)

873 
be¡
 = 
MAXCOST
;

874 
Ën
 = 
¡¬t
 =ğ
wÜd
 ? 
fœ¡_šd’t
 : 
Ùh”_šd’t
;

878 
w
 = 
¡¬t
;

879 
Ën
 +ğ
w
->
Ëngth
;

882 
w
++;

886 
wco¡
 = 
	`lše_co¡
 (
w
, 
Ën
è+ w->
be¡_co¡
;

887 ià(
¡¬t
 =ğ
wÜd
 && 
Ï¡_lše_Ëngth
 > 0)

888 
wco¡
 +ğ
	`RAGGED_COST
 (
Ën
 - 
Ï¡_lše_Ëngth
);

889 ià(
wco¡
 < 
be¡
)

891 
be¡
 = 
wco¡
;

892 
¡¬t
->
Ãxt_b»ak
 = 
w
;

893 
¡¬t
->
lše_Ëngth
 = 
Ën
;

900 ià(
w
 =ğ
wÜd_lim™
)

903 
Ën
 +ğ(
w
 - 1)->
¥aû
 + w->
Ëngth
;

905 
Ën
 < 
max_width
);

906 
¡¬t
->
be¡_co¡
 = 
be¡
 + 
	`ba£_co¡
 (start);

909 
wÜd_lim™
->
Ëngth
 = 
§ved_Ëngth
;

910 
	}
}

915 
COST


916 
	$ba£_co¡
 (
WORD
 *
this
)

918 
COST
 
co¡
;

920 
co¡
 = 
LINE_COST
;

922 ià(
this
 > 
wÜd
)

924 ià((
this
 - 1)->
³riod
)

926 ià((
this
 - 1)->
fš®
)

927 
co¡
 -ğ
SENTENCE_BONUS
;

929 
co¡
 +ğ
NOBREAK_COST
;

931 ià((
this
 - 1)->
punù
)

932 
co¡
 -ğ
PUNCT_BONUS
;

933 ià(
this
 > 
wÜd
 + 1 && (thi - 2)->
fš®
)

934 
co¡
 +ğ
	`WIDOW_COST
 ((
this
 - 1)->
Ëngth
);

937 ià(
this
->
·»n
)

938 
co¡
 -ğ
PAREN_BONUS
;

939 ià(
this
->
fš®
)

940 
co¡
 +ğ
	`ORPHAN_COST
 (
this
->
Ëngth
);

942  
co¡
;

943 
	}
}

948 
COST


949 
	$lše_co¡
 (
WORD
 *
Ãxt
, 
Ën
)

951 
n
;

952 
COST
 
co¡
;

954 ià(
Ãxt
 =ğ
wÜd_lim™
)

956 
n
 = 
gßl_width
 - 
Ën
;

957 
co¡
 = 
	`SHORT_COST
 (
n
);

958 ià(
Ãxt
->
Ãxt_b»ak
 !ğ
wÜd_lim™
)

960 
n
 = 
Ën
 - 
Ãxt
->
lše_Ëngth
;

961 
co¡
 +ğ
	`RAGGED_COST
 (
n
);

963  
co¡
;

964 
	}
}

970 
	$put_·¿g¿ph
 (
WORD
 *
fšish
)

972 
WORD
 *
w
;

974 
	`put_lše
 (
wÜd
, 
fœ¡_šd’t
);

975 
w
 = 
wÜd
->
Ãxt_b»ak
; w !ğ
fšish
; w = w->next_break)

976 
	`put_lše
 (
w
, 
Ùh”_šd’t
);

977 
	}
}

983 
	$put_lše
 (
WORD
 *
w
, 
šd’t
)

985 
WORD
 *
’dlše
;

987 
out_cŞumn
 = 0;

988 
	`put_¥aû
 (
´efix_šd’t
);

989 
	`åuts
 (
´efix
, 
¡dout
);

990 
out_cŞumn
 +ğ
´efix_Ëngth
;

991 
	`put_¥aû
 (
šd’t
 - 
out_cŞumn
);

993 
’dlše
 = 
w
->
Ãxt_b»ak
 - 1;

994 ; 
w
 !ğ
’dlše
; w++)

996 
	`put_wÜd
 (
w
);

997 
	`put_¥aû
 (
w
->
¥aû
);

999 
	`put_wÜd
 (
w
);

1000 
Ï¡_lše_Ëngth
 = 
out_cŞumn
;

1001 
	`putch¬
 ('\n');

1002 
	}
}

1007 
	$put_wÜd
 (
WORD
 *
w
)

1009 cÚ¡ *
s
;

1010 
n
;

1012 
s
 = 
w
->
‹xt
;

1013 
n
 = 
w
->
Ëngth
;‚ != 0;‚--)

1014 
	`putch¬
 (*
s
++);

1015 
out_cŞumn
 +ğ
w
->
Ëngth
;

1016 
	}
}

1021 
	$put_¥aû
 (
¥aû
)

1023 
¥aû_rg‘
, 
b_rg‘
;

1025 
¥aû_rg‘
 = 
out_cŞumn
 + 
¥aû
;

1026 ià(
bs
)

1028 
b_rg‘
 = 
¥aû_rg‘
 / 
TABWIDTH
 * TABWIDTH;

1029 ià(
out_cŞumn
 + 1 < 
b_rg‘
)

1030 
out_cŞumn
 < 
b_rg‘
)

1032 
	`putch¬
 ('\t');

1033 
out_cŞumn
 = (out_cŞumÀ/ 
TABWIDTH
 + 1) * TABWIDTH;

1036 
out_cŞumn
 < 
¥aû_rg‘
)

1038 
	`putch¬
 (' ');

1039 
out_cŞumn
++;

1041 
	}
}

	@fold.c

19 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<g‘İt.h
>

23 
	~<sys/ty³s.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"çdvi£.h
"

28 
	~"quÙe.h
"

29 
	~"x¡¹Ş.h
"

31 
	#TAB_WIDTH
 8

	)

34 
	#PROGRAM_NAME
 "fŞd"

	)

36 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

39 
boŞ
 
	gb»ak_¥aûs
;

42 
boŞ
 
	gcouÁ_by‹s
;

45 
boŞ
 
	ghave_»ad_¡dš
;

47 cÚ¡ 
	gshÜtİts
[] = "bsw:0::1::2::3::4::5::6::7::8::9::";

49 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

51 {"by‹s", 
no_¬gum’t
, 
NULL
, 'b'},

52 {"¥aûs", 
no_¬gum’t
, 
NULL
, 's'},

53 {"width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

54 {
GETOPT_HELP_OPTION_DECL
},

55 {
GETOPT_VERSION_OPTION_DECL
},

56 {
NULL
, 0, NULL, 0}

60 
	$u§ge
 (
¡©us
)

62 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

63 
	`em™_Œy_h–p
 ();

66 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

69 
´og¿m_Çme
);

70 
	`åuts
 (
	`_
("\
 iÅuˆlše šƒach FILE (¡ªd¬d iÅuˆby deçuÉ), wr™šgo\n\
 ouut.\n\
"), 
¡dout
);

75 
	`em™_mªd©Üy_¬g_nÙe
 ();

77 
	`åuts
 (
	`_
("\
-b, --by‹  couÁ by‹ ¿th”hª cŞumns\n\
-s, --¥aû  b»ak‡ˆ¥aûs\n\
-w, --width=WIDTH u£ WIDTH cŞumn š¡—d oà80\n\
"), 
¡dout
);

82 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

83 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

84 
	`em™_ªcÏry_šfo
 ();

86 
	`ex™
 (
¡©us
);

87 
	}
}

93 
size_t


94 
	$adju¡_cŞumn
 (
size_t
 
cŞumn
, 
c
)

96 ià(!
couÁ_by‹s
)

98 ià(
c
 == '\b')

100 ià(
cŞumn
 > 0)

101 
cŞumn
--;

103 ià(
c
 == '\r')

104 
cŞumn
 = 0;

105 ià(
c
 == '\t')

106 
cŞumn
 +ğ
TAB_WIDTH
 - column % TAB_WIDTH;

108 
cŞumn
++;

111 
cŞumn
++;

112  
cŞumn
;

113 
	}
}

119 
boŞ


120 
	$fŞd_fe
 (cÚ¡ *
f’ame
, 
size_t
 
width
)

122 
FILE
 *
i¡»am
;

123 
c
;

124 
size_t
 
cŞumn
 = 0;

125 
size_t
 
off£t_out
 = 0;

126 *
lše_out
 = 
NULL
;

127 
size_t
 
®loÿ‹d_out
 = 0;

128 
§ved_”ºo
;

130 ià(
	`STREQ
 (
f’ame
, "-"))

132 
i¡»am
 = 
¡dš
;

133 
have_»ad_¡dš
 = 
Œue
;

136 
i¡»am
 = 
	`fİ’
 (
f’ame
, "r");

138 ià(
i¡»am
 =ğ
NULL
)

140 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

141  
çl£
;

144 
	`çdvi£
 (
i¡»am
, 
FADVISE_SEQUENTIAL
);

146 (
c
 = 
	`g‘c
 (
i¡»am
)è!ğ
EOF
)

148 ià(
off£t_out
 + 1 >ğ
®loÿ‹d_out
)

149 
lše_out
 = 
	`X2REALLOC
 (lše_out, &
®loÿ‹d_out
);

151 ià(
c
 == '\n')

153 
lše_out
[
off£t_out
++] = 
c
;

154 
	`fwr™e
 (
lše_out
,  (), 
off£t_out
, 
¡dout
);

155 
cŞumn
 = 
off£t_out
 = 0;

159 
»sÿn
:

160 
cŞumn
 = 
	`adju¡_cŞumn
 (cŞumn, 
c
);

162 ià(
cŞumn
 > 
width
)

167 ià(
b»ak_¥aûs
)

169 
boŞ
 
found_bÏnk
 = 
çl£
;

170 
size_t
 
logiÿl_’d
 = 
off£t_out
;

173 
logiÿl_’d
)

175 --
logiÿl_’d
;

176 ià(
	`isbÏnk
 (
	`to_uch¬
 (
lše_out
[
logiÿl_’d
])))

178 
found_bÏnk
 = 
Œue
;

183 ià(
found_bÏnk
)

185 
size_t
 
i
;

188 
logiÿl_’d
++;

189 
	`fwr™e
 (
lše_out
,  (), (
size_t
è
logiÿl_’d
,

190 
¡dout
);

191 
	`putch¬
 ('\n');

194 
	`memmove
 (
lše_out
,†še_ouˆ+ 
logiÿl_’d
,

195 
off£t_out
 - 
logiÿl_’d
);

196 
off£t_out
 -ğ
logiÿl_’d
;

197 
cŞumn
 = 
i
 = 0; i < 
off£t_out
; i++)

198 
cŞumn
 = 
	`adju¡_cŞumn
 (cŞumn, 
lše_out
[
i
]);

199 
»sÿn
;

203 ià(
off£t_out
 == 0)

205 
lše_out
[
off£t_out
++] = 
c
;

209 
lše_out
[
off£t_out
++] = '\n';

210 
	`fwr™e
 (
lše_out
,  (), (
size_t
è
off£t_out
, 
¡dout
);

211 
cŞumn
 = 
off£t_out
 = 0;

212 
»sÿn
;

215 
lše_out
[
off£t_out
++] = 
c
;

218 
§ved_”ºo
 = 
”ºo
;

220 ià(
off£t_out
)

221 
	`fwr™e
 (
lše_out
,  (), (
size_t
è
off£t_out
, 
¡dout
);

223 ià(
	`ã¼Ü
 (
i¡»am
))

225 
	`”rÜ
 (0, 
§ved_”ºo
, "%s", 
f’ame
);

226 ià(!
	`STREQ
 (
f’ame
, "-"))

227 
	`fşo£
 (
i¡»am
);

228  
çl£
;

230 ià(!
	`STREQ
 (
f’ame
, "-"è&& 
	`fşo£
 (
i¡»am
è=ğ
EOF
)

232 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

233  
çl£
;

236  
Œue
;

237 
	}
}

240 
	$maš
 (
¬gc
, **
¬gv
)

242 
size_t
 
width
 = 80;

243 
i
;

244 
İtc
;

245 
boŞ
 
ok
;

247 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

248 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

249 
	`£oÿË
 (
LC_ALL
, "");

250 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

251 
	`‹xtdomaš
 (
PACKAGE
);

253 
	`©ex™
 (
şo£_¡dout
);

255 
b»ak_¥aûs
 = 
couÁ_by‹s
 = 
have_»ad_¡dš
 = 
çl£
;

257 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜtİts
, 
lÚgİts
, 
NULL
)) != -1)

259 
İrgbuf
[2];

261 
İtc
)

264 
couÁ_by‹s
 = 
Œue
;

268 
b»ak_¥aûs
 = 
Œue
;

273 ià(
İrg
)

274 
İrg
--;

277 
İrgbuf
[0] = 
İtc
;

278 
İrgbuf
[1] = '\0';

279 
İrg
 = 
İrgbuf
;

284 
tmp_ulÚg
;

285 ià(! (
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
tmp_ulÚg
, ""è=ğ
LONGINT_OK


286 && 0 < 
tmp_ulÚg
 &&mp_ulÚg < 
SIZE_MAX
 - 
TAB_WIDTH
))

287 
	`”rÜ
 (
EXIT_FAILURE
, 0,

288 
	`_
("šv®id‚umb” oàcŞumns: %s"), 
	`quÙe
 (
İrg
));

289 
width
 = 
tmp_ulÚg
;

293 
ÿ£_GETOPT_HELP_CHAR
;

295 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

298 
	`u§ge
 (
EXIT_FAILURE
);

302 ià(
¬gc
 =ğ
İtšd
)

303 
ok
 = 
	`fŞd_fe
 ("-", 
width
);

306 
ok
 = 
Œue
;

307 
i
 = 
İtšd
; i < 
¬gc
; i++)

308 
ok
 &ğ
	`fŞd_fe
 (
¬gv
[
i
], 
width
);

311 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

312 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

314 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

315 
	}
}

	@fs-is-local.h

4 
šlše
 

5 
	$is_loÿl_fs_ty³
 (
magic
)

7 
magic
)

9 
S_MAGIC_ADFS
:  1;

10 
S_MAGIC_AFFS
:  1;

11 
S_MAGIC_AFS
:  0;

12 
S_MAGIC_ANON_INODE_FS
:  1;

13 
S_MAGIC_AUFS
:  0;

14 
S_MAGIC_AUTOFS
:  1;

15 
S_MAGIC_BEFS
:  1;

16 
S_MAGIC_BDEVFS
:  1;

17 
S_MAGIC_BFS
:  1;

18 
S_MAGIC_BINFMTFS
:  1;

19 
S_MAGIC_BTRFS
:  1;

20 
S_MAGIC_CEPH
:  0;

21 
S_MAGIC_CGROUP
:  1;

22 
S_MAGIC_CIFS
:  0;

23 
S_MAGIC_CODA
:  0;

24 
S_MAGIC_COH
:  1;

25 
S_MAGIC_CRAMFS
:  1;

26 
S_MAGIC_CRAMFS_WEND
:  1;

27 
S_MAGIC_DEBUGFS
:  1;

28 
S_MAGIC_DEVFS
:  1;

29 
S_MAGIC_DEVPTS
:  1;

30 
S_MAGIC_ECRYPTFS
:  1;

31 
S_MAGIC_EFS
:  1;

32 
S_MAGIC_EXT
:  1;

33 
S_MAGIC_EXT2
:  1;

34 
S_MAGIC_EXT2_OLD
:  1;

35 
S_MAGIC_FAT
:  1;

36 
S_MAGIC_FHGFS
:  0;

37 
S_MAGIC_FUSEBLK
:  0;

38 
S_MAGIC_FUSECTL
:  0;

39 
S_MAGIC_FUTEXFS
:  1;

40 
S_MAGIC_GFS
:  0;

41 
S_MAGIC_GPFS
:  0;

42 
S_MAGIC_HFS
:  1;

43 
S_MAGIC_HPFS
:  1;

44 
S_MAGIC_HUGETLBFS
:  1;

45 
S_MAGIC_MTD_INODE_FS
:  1;

46 
S_MAGIC_INOTIFYFS
:  1;

47 
S_MAGIC_ISOFS
:  1;

48 
S_MAGIC_ISOFS_R_WIN
:  1;

49 
S_MAGIC_ISOFS_WIN
:  1;

50 
S_MAGIC_JFFS
:  1;

51 
S_MAGIC_JFFS2
:  1;

52 
S_MAGIC_JFS
:  1;

53 
S_MAGIC_KAFS
:  0;

54 
S_MAGIC_LUSTRE
:  0;

55 
S_MAGIC_MINIX
:  1;

56 
S_MAGIC_MINIX_30
:  1;

57 
S_MAGIC_MINIX_V2
:  1;

58 
S_MAGIC_MINIX_V2_30
:  1;

59 
S_MAGIC_MINIX_V3
:  1;

60 
S_MAGIC_MQUEUE
:  1;

61 
S_MAGIC_MSDOS
:  1;

62 
S_MAGIC_NCP
:  0;

63 
S_MAGIC_NFS
:  0;

64 
S_MAGIC_NFSD
:  0;

65 
S_MAGIC_NILFS
:  1;

66 
S_MAGIC_NTFS
:  1;

67 
S_MAGIC_OPENPROM
:  1;

68 
S_MAGIC_OCFS2
:  0;

69 
S_MAGIC_PANFS
:  0;

70 
S_MAGIC_PIPEFS
:  0;

71 
S_MAGIC_PROC
:  1;

72 
S_MAGIC_PSTOREFS
:  1;

73 
S_MAGIC_QNX4
:  1;

74 
S_MAGIC_QNX6
:  1;

75 
S_MAGIC_RAMFS
:  1;

76 
S_MAGIC_REISERFS
:  1;

77 
S_MAGIC_ROMFS
:  1;

78 
S_MAGIC_RPC_PIPEFS
:  1;

79 
S_MAGIC_SECURITYFS
:  1;

80 
S_MAGIC_SELINUX
:  1;

81 
S_MAGIC_SMB
:  0;

82 
S_MAGIC_SOCKFS
:  1;

83 
S_MAGIC_SQUASHFS
:  1;

84 
S_MAGIC_SYSFS
:  1;

85 
S_MAGIC_SYSV2
:  1;

86 
S_MAGIC_SYSV4
:  1;

87 
S_MAGIC_TMPFS
:  1;

88 
S_MAGIC_UDF
:  1;

89 
S_MAGIC_UFS
:  1;

90 
S_MAGIC_UFS_BYTESWAPPED
:  1;

91 
S_MAGIC_USBDEVFS
:  1;

92 
S_MAGIC_V9FS
:  1;

93 
S_MAGIC_VMHGFS
:  0;

94 
S_MAGIC_VXFS
:  1;

95 
S_MAGIC_VZFS
:  1;

96 
S_MAGIC_XENFS
:  1;

97 
S_MAGIC_XENIX
:  1;

98 
S_MAGIC_XFS
:  1;

99 
S_MAGIC_XIAFS
:  1;

100 
S_MAGIC_ZFS
:  1;

103 
	}
}

	@fs.h

5 #ià
defšed
 
__lšux__


6 
	#S_MAGIC_ADFS
 0xADF5

	)

7 
	#S_MAGIC_AFFS
 0xADFF

	)

8 
	#S_MAGIC_AFS
 0x5346414F

	)

9 
	#S_MAGIC_ANON_INODE_FS
 0x09041934

	)

10 
	#S_MAGIC_AUFS
 0x61756673

	)

11 
	#S_MAGIC_AUTOFS
 0x0187

	)

12 
	#S_MAGIC_BEFS
 0x42465331

	)

13 
	#S_MAGIC_BDEVFS
 0x62646576

	)

14 
	#S_MAGIC_BFS
 0x1BADFACE

	)

15 
	#S_MAGIC_BINFMTFS
 0x42494E4D

	)

16 
	#S_MAGIC_BTRFS
 0x9123683E

	)

17 
	#S_MAGIC_CEPH
 0x00C36400

	)

18 
	#S_MAGIC_CGROUP
 0x0027E0EB

	)

19 
	#S_MAGIC_CIFS
 0xFF534D42

	)

20 
	#S_MAGIC_CODA
 0x73757245

	)

21 
	#S_MAGIC_COH
 0x012FF7B7

	)

22 
	#S_MAGIC_CRAMFS
 0x28CD3D45

	)

23 
	#S_MAGIC_CRAMFS_WEND
 0x453DCD28

	)

24 
	#S_MAGIC_DEBUGFS
 0x64626720

	)

25 
	#S_MAGIC_DEVFS
 0x1373

	)

26 
	#S_MAGIC_DEVPTS
 0x1CD1

	)

27 
	#S_MAGIC_ECRYPTFS
 0xF15F

	)

28 
	#S_MAGIC_EFS
 0x00414A53

	)

29 
	#S_MAGIC_EXT
 0x137D

	)

30 
	#S_MAGIC_EXT2
 0xEF53

	)

31 
	#S_MAGIC_EXT2_OLD
 0xEF51

	)

32 
	#S_MAGIC_FAT
 0x4006

	)

33 
	#S_MAGIC_FHGFS
 0x19830326

	)

34 
	#S_MAGIC_FUSEBLK
 0x65735546

	)

35 
	#S_MAGIC_FUSECTL
 0x65735543

	)

36 
	#S_MAGIC_FUTEXFS
 0x0BAD1DEA

	)

37 
	#S_MAGIC_GFS
 0x1161970

	)

38 
	#S_MAGIC_GPFS
 0x47504653

	)

39 
	#S_MAGIC_HFS
 0x4244

	)

40 
	#S_MAGIC_HPFS
 0xF995E849

	)

41 
	#S_MAGIC_HUGETLBFS
 0x958458F6

	)

42 
	#S_MAGIC_MTD_INODE_FS
 0x11307854

	)

43 
	#S_MAGIC_INOTIFYFS
 0x2BAD1DEA

	)

44 
	#S_MAGIC_ISOFS
 0x9660

	)

45 
	#S_MAGIC_ISOFS_R_WIN
 0x4004

	)

46 
	#S_MAGIC_ISOFS_WIN
 0x4000

	)

47 
	#S_MAGIC_JFFS
 0x07C0

	)

48 
	#S_MAGIC_JFFS2
 0x72B6

	)

49 
	#S_MAGIC_JFS
 0x3153464A

	)

50 
	#S_MAGIC_KAFS
 0x6B414653

	)

51 
	#S_MAGIC_LUSTRE
 0x0BD00BD0

	)

52 
	#S_MAGIC_MINIX
 0x137F

	)

53 
	#S_MAGIC_MINIX_30
 0x138F

	)

54 
	#S_MAGIC_MINIX_V2
 0x2468

	)

55 
	#S_MAGIC_MINIX_V2_30
 0x2478

	)

56 
	#S_MAGIC_MINIX_V3
 0x4D5A

	)

57 
	#S_MAGIC_MQUEUE
 0x19800202

	)

58 
	#S_MAGIC_MSDOS
 0x4D44

	)

59 
	#S_MAGIC_NCP
 0x564C

	)

60 
	#S_MAGIC_NFS
 0x6969

	)

61 
	#S_MAGIC_NFSD
 0x6E667364

	)

62 
	#S_MAGIC_NILFS
 0x3434

	)

63 
	#S_MAGIC_NTFS
 0x5346544E

	)

64 
	#S_MAGIC_OPENPROM
 0x9FA1

	)

65 
	#S_MAGIC_OCFS2
 0x7461636f

	)

66 
	#S_MAGIC_PANFS
 0xAAD7AAEA

	)

67 
	#S_MAGIC_PIPEFS
 0x50495045

	)

68 
	#S_MAGIC_PROC
 0x9FA0

	)

69 
	#S_MAGIC_PSTOREFS
 0x6165676C

	)

70 
	#S_MAGIC_QNX4
 0x002F

	)

71 
	#S_MAGIC_QNX6
 0x68191122

	)

72 
	#S_MAGIC_RAMFS
 0x858458F6

	)

73 
	#S_MAGIC_REISERFS
 0x52654973

	)

74 
	#S_MAGIC_ROMFS
 0x7275

	)

75 
	#S_MAGIC_RPC_PIPEFS
 0x67596969

	)

76 
	#S_MAGIC_SECURITYFS
 0x73636673

	)

77 
	#S_MAGIC_SELINUX
 0xF97CFF8C

	)

78 
	#S_MAGIC_SMB
 0x517B

	)

79 
	#S_MAGIC_SOCKFS
 0x534F434B

	)

80 
	#S_MAGIC_SQUASHFS
 0x73717368

	)

81 
	#S_MAGIC_SYSFS
 0x62656572

	)

82 
	#S_MAGIC_SYSV2
 0x012FF7B6

	)

83 
	#S_MAGIC_SYSV4
 0x012FF7B5

	)

84 
	#S_MAGIC_TMPFS
 0x01021994

	)

85 
	#S_MAGIC_UDF
 0x15013346

	)

86 
	#S_MAGIC_UFS
 0x00011954

	)

87 
	#S_MAGIC_UFS_BYTESWAPPED
 0x54190100

	)

88 
	#S_MAGIC_USBDEVFS
 0x9FA2

	)

89 
	#S_MAGIC_V9FS
 0x01021997

	)

90 
	#S_MAGIC_VMHGFS
 0xBACBACBC

	)

91 
	#S_MAGIC_VXFS
 0xA501FCF5

	)

92 
	#S_MAGIC_VZFS
 0x565A4653

	)

93 
	#S_MAGIC_XENFS
 0xABBA1974

	)

94 
	#S_MAGIC_XENIX
 0x012FF7B4

	)

95 
	#S_MAGIC_XFS
 0x58465342

	)

96 
	#S_MAGIC_XIAFS
 0x012FD16D

	)

97 
	#S_MAGIC_ZFS
 0x2FC12FC1

	)

98 #–ià
defšed
 
__GNU__


99 
	~<hurd/hurd_ty³s.h
>

	@getlimits.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<æßt.h
>

24 
	~"sy¡em.h
"

25 
	~"lÚg-İtiÚs.h
"

27 
	#PROGRAM_NAME
 "g‘lim™s"

	)

29 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("Pad¿ig B¿dy", "P\303\241d¿ig B¿dy")

	)

31 #iâdeà
TIME_T_MAX


32 
	#TIME_T_MAX
 
	`TYPE_MAXIMUM
 (
time_t
)

	)

35 #iâdeà
TIME_T_MIN


36 
	#TIME_T_MIN
 
	`TYPE_MINIMUM
 (
time_t
)

	)

39 #iâdeà
SSIZE_MIN


40 
	#SSIZE_MIN
 
	`TYPE_MINIMUM
 (
ssize_t
)

	)

43 #iâdeà
PID_T_MIN


44 
	#PID_T_MIN
 
	`TYPE_MINIMUM
 (
pid_t
)

	)

50 
	#SIZE_MIN
 0

	)

51 
	#UCHAR_MIN
 0

	)

52 
	#UINT_MIN
 0

	)

53 
	#ULONG_MIN
 0

	)

54 
	#UINTMAX_MIN
 0

	)

55 
	#UID_T_MIN
 0

	)

56 
	#GID_T_MIN
 0

	)

59 
	$u§ge
 (
¡©us
)

61 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

62 
	`em™_Œy_h–p
 ();

65 
	`´štf
 (
	`_
("\
: %s\n\
"), 
´og¿m_Çme
);

69 
	`åuts
 (
	`_
("\
…ÏtfÜm d•’d’ˆlim™ š‡ fÜm© u£fuÈfÜ sh–Èsüts.\n\
\n\
"), 
¡dout
);

73 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

74 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

75 
	`em™_ªcÏry_šfo
 ();

77 
	`ex™
 (
¡©us
);

78 
	}
}

85 
	$decim®_absv®_add_Úe
 (*
buf
)

87 
boŞ
 
Ãg©ive
 = (
buf
[1] == '-');

88 *
ab¢um
 = 
buf
 + 1 + 
Ãg©ive
;

89 *
p
 = 
ab¢um
 + 
	`¡¾’
 (absnum);

90 
ab¢um
[-1] = '0';

91 *--
p
 == '9')

92 *
p
 = '0';

93 ++*
p
;

94 *
»suÉ
 = 
	`MIN
 (
ab¢um
, 
p
);

95 ià(
Ãg©ive
)

96 *--
»suÉ
 = '-';

97  
»suÉ
;

98 
	}
}

101 
	$maš
 (
¬gc
, **
¬gv
)

103 
lim™
[1 + 
	`MAX
 (
	`INT_BUFSIZE_BOUND
 (
štmax_t
),

104 
	`INT_BUFSIZE_BOUND
 (
uštmax_t
))];

106 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

107 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

108 
	`£oÿË
 (
LC_ALL
, "");

109 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

110 
	`‹xtdomaš
 (
PACKAGE
);

112 
	`š™Ÿlize_ex™_çu»
 (
EXIT_FAILURE
);

113 
	`©ex™
 (
şo£_¡dout
);

115 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
VERSION
,

116 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

118 
	#´št_št
(
TYPE
) \

119 
	`¥rštf
 (
lim™
 + 1, "%"
PRIuMAX
, (
uštmax_t
è
TYPE
##
_MAX
); \

120 
	`´štf
 (#TYPE"_MAX=%s\n", 
lim™
 + 1); \

121 
	`´štf
 (#TYPE"_OFLOW=%s\n", 
	`decim®_absv®_add_Úe
 (
lim™
)); \

122 ià(
TYPE
##
_MIN
) \

124 
	`¥rštf
 (
lim™
 + 1, "%"
PRIdMAX
, (
štmax_t
è
TYPE
##
_MIN
); \

125 
	`´štf
 (#TYPE"_MIN=%s\n", 
lim™
 + 1); \

126 
	`´štf
 (#TYPE"_UFLOW=%s\n", 
	`decim®_absv®_add_Úe
 (
lim™
)); \

127 }

	)

129 
	#´št_æßt
(
TYPE
) \

130 
	`´štf
 (#TYPE"_MIN=%Le\n", ()
TYPE
##
_MIN
); \

131 
	`´štf
 (#TYPE"_MAX=%Le\n", ()
TYPE
##
_MAX
);

	)

134 
	`´št_št
 (
CHAR
);

135 
	`´št_št
 (
SCHAR
);

136 
	`´št_št
 (
UCHAR
);

137 
	`´št_št
 (
SHRT
);

138 
	`´št_št
 (
INT
);

139 
	`´št_št
 (
UINT
);

140 
	`´št_št
 (
LONG
);

141 
	`´št_št
 (
ULONG
);

142 
	`´št_št
 (
SIZE
);

143 
	`´št_št
 (
SSIZE
);

144 
	`´št_št
 (
TIME_T
);

145 
	`´št_št
 (
UID_T
);

146 
	`´št_št
 (
GID_T
);

147 
	`´št_št
 (
PID_T
);

148 
	`´št_št
 (
OFF_T
);

149 
	`´št_št
 (
INTMAX
);

150 
	`´št_št
 (
UINTMAX
);

153 
	`´št_æßt
 (
FLT
);

154 
	`´št_æßt
 (
DBL
);

155 
	`´št_æßt
 (
LDBL
);

156 
	}
}

	@group-list.c

21 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~<pwd.h
>

25 
	~<g½.h
>

27 
	~"sy¡em.h
"

28 
	~"”rÜ.h
"

29 
	~"mg‘groups.h
"

30 
	~"quÙe.h
"

31 
	~"group-li¡.h
"

35 
boŞ


36 
	$´št_group_li¡
 (cÚ¡ *
u£ºame
,

37 
uid_t
 
ruid
, 
gid_t
 
rgid
, gid_ˆ
egid
,

38 
boŞ
 
u£_Çmes
)

40 
boŞ
 
ok
 = 
Œue
;

41 
·sswd
 *
pwd
 = 
NULL
;

43 ià(
u£ºame
)

45 
pwd
 = 
	`g‘pwuid
 (
ruid
);

46 ià(
pwd
 =ğ
NULL
)

47 
ok
 = 
çl£
;

50 ià(!
	`´št_group
 (
rgid
, 
u£_Çmes
))

51 
ok
 = 
çl£
;

53 ià(
egid
 !ğ
rgid
)

55 
	`putch¬
 (' ');

56 ià(!
	`´št_group
 (
egid
, 
u£_Çmes
))

57 
ok
 = 
çl£
;

61 
gid_t
 *
groups
;

62 
i
;

64 
n_groups
 = 
	`xg‘groups
 (
u£ºame
, (
pwd
 ?…wd->
pw_gid
 : 
egid
), &
groups
);

65 ià(
n_groups
 < 0)

67 ià(
u£ºame
)

69 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get groups for user %s"),

70 
	`quÙe
 (
u£ºame
));

74 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get groups forhe current…rocess"));

76  
çl£
;

79 
i
 = 0; i < 
n_groups
; i++)

80 ià(
groups
[
i
] !ğ
rgid
 && groups[i] !ğ
egid
)

82 
	`putch¬
 (' ');

83 ià(!
	`´št_group
 (
groups
[
i
], 
u£_Çmes
))

84 
ok
 = 
çl£
;

86 
	`ä“
 (
groups
);

88  
ok
;

89 
	}
}

95 
	$gidto¡r_±r
 (
gid_t
 cÚ¡ *
gid
)

97 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

98  
	`umaxto¡r
 (*
gid
, 
buf
);

99 
	}
}

100 
	#gidto¡r
(
g
è
	`gidto¡r_±r
 (&(g))

	)

103 
boŞ


104 
	$´št_group
 (
gid_t
 
gid
, 
boŞ
 
u£_Çme
)

106 
group
 *
g½
 = 
NULL
;

107 
boŞ
 
ok
 = 
Œue
;

109 ià(
u£_Çme
)

111 
g½
 = 
	`g‘grgid
 (
gid
);

112 ià(
g½
 =ğ
NULL
)

114 
	`”rÜ
 (0, 0, 
	`_
("cannot find‚ame for group ID %lu"),

115 (è
gid
);

116 
ok
 = 
çl£
;

120 *
s
 = 
g½
 ? g½->
gr_Çme
 : 
	`gidto¡r
 (
gid
);

121 
	`åuts
 (
s
, 
¡dout
);

122  
ok
;

123 
	}
}

	@group-list.h

18 
boŞ
 
´št_group
 (
gid_t
, bool);

19 
boŞ
 
´št_group_li¡
 (cÚ¡ *, 
uid_t
, 
gid_t
, gid_t, bool);

	@groups.c

20 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<pwd.h
>

24 
	~<g½.h
>

25 
	~<g‘İt.h
>

27 
	~"sy¡em.h
"

28 
	~"”rÜ.h
"

29 
	~"group-li¡.h
"

32 
	#PROGRAM_NAME
 "groups"

	)

34 
	#AUTHORS
 \

35 
	`´İ”_Çme
 ("David MacKenzie"), \

36 
	`´İ”_Çme
 ("Jame Youngmª")

	)

39 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

41 {
GETOPT_HELP_OPTION_DECL
},

42 {
GETOPT_VERSION_OPTION_DECL
},

43 {
NULL
, 0, NULL, 0}

47 
	$u§ge
 (
¡©us
)

49 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

50 
	`em™_Œy_h–p
 ();

53 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [USERNAME]...\n"), 
´og¿m_Çme
);

54 
	`åuts
 (
	`_
("\
 group memberships forƒach USERNAME or, if‚o USERNAME is specified, for\
\n\
 current…rocess (which may differ ifhe groups database has changed).\n"),

58 
¡dout
);

59 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

60 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

61 
	`em™_ªcÏry_šfo
 ();

63 
	`ex™
 (
¡©us
);

64 
	}
}

67 
	$maš
 (
¬gc
, **
¬gv
)

69 
İtc
;

70 
boŞ
 
ok
 = 
Œue
;

71 
gid_t
 
rgid
, 
egid
;

72 
uid_t
 
ruid
;

74 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

75 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

76 
	`£oÿË
 (
LC_ALL
, "");

77 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

78 
	`‹xtdomaš
 (
PACKAGE
);

80 
	`©ex™
 (
şo£_¡dout
);

85 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
lÚgİts
, 
NULL
)) != -1)

87 
İtc
)

89 
ÿ£_GETOPT_HELP_CHAR
;

90 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

92 
	`u§ge
 (
EXIT_FAILURE
);

96 ià(
İtšd
 =ğ
¬gc
)

99 
uid_t
 
NO_UID
 = -1;

100 
gid_t
 
NO_GID
 = -1;

102 
”ºo
 = 0;

103 
ruid
 = 
	`g‘uid
 ();

104 ià(
ruid
 =ğ
NO_UID
 && 
”ºo
)

105 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot get„eal UID"));

107 
”ºo
 = 0;

108 
egid
 = 
	`g‘egid
 ();

109 ià(
egid
 =ğ
NO_GID
 && 
”ºo
)

110 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot getƒffective GID"));

112 
”ºo
 = 0;

113 
rgid
 = 
	`g‘gid
 ();

114 ià(
rgid
 =ğ
NO_GID
 && 
”ºo
)

115 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot get„eal GID"));

117 ià(!
	`´št_group_li¡
 (
NULL
, 
ruid
, 
rgid
, 
egid
, 
Œue
))

118 
ok
 = 
çl£
;

119 
	`putch¬
 ('\n');

124 
İtšd
 < 
¬gc
)

126 
·sswd
 *
pwd
 = 
	`g‘pwÇm
 (
¬gv
[
İtšd
]);

127 ià(
pwd
 =ğ
NULL
)

128 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s:‚Øsuch u£r"), 
¬gv
[
İtšd
]);

129 
ruid
 = 
pwd
->
pw_uid
;

130 
rgid
 = 
egid
 = 
pwd
->
pw_gid
;

132 
	`´štf
 ("% : ", 
¬gv
[
İtšd
]);

133 ià(!
	`´št_group_li¡
 (
¬gv
[
İtšd
++], 
ruid
, 
rgid
, 
egid
, 
Œue
))

134 
ok
 = 
çl£
;

135 
	`putch¬
 ('\n');

139 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

140 
	}
}

	@head.c

26 
	~<cÚfig.h
>

28 
	~<¡dio.h
>

29 
	~<g‘İt.h
>

30 
	~<sys/ty³s.h
>

32 
	~"sy¡em.h
"

34 
	~"”rÜ.h
"

35 
	~"fuÎ-»ad.h
"

36 
	~"quÙe.h
"

37 
	~"§ã-»ad.h
"

38 
	~"xäeİ’.h
"

39 
	~"x¡¹Ş.h
"

42 
	#PROGRAM_NAME
 "h—d"

	)

44 
	#AUTHORS
 \

45 
	`´İ”_Çme
 ("David MacKenzie"), \

46 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

49 
	#DEFAULT_NUMBER
 10

	)

55 
boŞ
 
	g´esume_šput_pe
;

58 
boŞ
 
	g´št_h—d”s
;

61 
	eh—d”_mode


63 
	mmuÉË_fes
, 
	m®ways
, 
	mÃv”


67 
boŞ
 
	ghave_»ad_¡dš
;

69 
	eCİy_fd_¡©us


71 
	mCOPY_FD_OK
 = 0,

72 
	mCOPY_FD_READ_ERROR
,

73 
	mCOPY_FD_WRITE_ERROR
,

74 
	mCOPY_FD_UNEXPECTED_EOF


81 
	mPRESUME_INPUT_PIPE_OPTION
 = 
CHAR_MAX
 + 1

84 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

86 {"by‹s", 
»quœed_¬gum’t
, 
NULL
, 'c'},

87 {"lšes", 
»quœed_¬gum’t
, 
NULL
, 'n'},

88 {"-´esume-šput-pe", 
no_¬gum’t
, 
NULL
,

89 
PRESUME_INPUT_PIPE_OPTION
},

90 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

91 {"s’t", 
no_¬gum’t
, 
NULL
, 'q'},

92 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

93 {
GETOPT_HELP_OPTION_DECL
},

94 {
GETOPT_VERSION_OPTION_DECL
},

95 {
NULL
, 0, NULL, 0}

99 
	$u§ge
 (
¡©us
)

101 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

102 
	`em™_Œy_h–p
 ();

105 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

108 
´og¿m_Çme
);

109 
	`åuts
 (
	`_
("\
hfœ¡ 10†še oà—ch FILEØ¡ªd¬d ouut.\n\
 mÜthª oÃ FILE,…»ûd—ch w™h‡ h—d” givšghfÇme.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

115 
	`em™_mªd©Üy_¬g_nÙe
 ();

117 
	`åuts
 (
	`_
("\
-c, --by‹s=[-]K…ršˆthfœ¡ K by‹ oà—ch fe;\n\
hËadšg '-',…ršˆ®ÈbuˆthÏ¡\n\
 by‹ oà—ch fe\n\
-n, --lšes=[-]K…ršˆthfœ¡ K†še š¡—d oàthfœ¡ 10;\n\
hËadšg '-',…ršˆ®ÈbuˆthÏ¡\n\
†še oà—ch fe\n\
"), 
¡dout
);

125 
	`åuts
 (
	`_
("\
-q, --qu›t, --s’ˆ‚ev”…ršˆh—d” givšg fÇmes\n\
-v, --v”bo£‡lway ´šˆh—d” givšg fÇmes\n\
"), 
¡dout
);

129 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

130 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

131 
	`åuts
 (
	`_
("\
\n\
 may hav¨muÉl›¸suffix:\n\
 512, kB 1000, K 1024, MB 1000*1000, M 1024*1024,\n\
 1000*1000*1000, G 1024*1024*1024,‡nd sØÚ fÜ T, P, E, Z, Y.\n\
"), 
¡dout
);

137 
	`em™_ªcÏry_šfo
 ();

139 
	`ex™
 (
¡©us
);

140 
	}
}

143 
	$dŸgno£_cİy_fd_çu»
 (
Cİy_fd_¡©us
 
”r
, cÚ¡ *
f’ame
)

145 
”r
)

147 
COPY_FD_READ_ERROR
:

148 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

150 
COPY_FD_WRITE_ERROR
:

151 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ wr™šg %s"), 
	`quÙe
 (
f’ame
));

153 
COPY_FD_UNEXPECTED_EOF
:

154 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: fha shrunkoØmuch"), 
	`quÙe
 (
f’ame
));

157 
	`abÜt
 ();

159 
	}
}

162 
	$wr™e_h—d”
 (cÚ¡ *
f’ame
)

164 
boŞ
 
fœ¡_fe
 = 
Œue
;

166 
	`´štf
 ("%s==> % <==\n", (
fœ¡_fe
 ? "" : "\n"), 
f’ame
);

167 
fœ¡_fe
 = 
çl£
;

168 
	}
}

173 
Cİy_fd_¡©us


174 
	$cİy_fd
 (
¤c_fd
, 
FILE
 *
o_¡»am
, 
uštmax_t
 
n_by‹s
)

176 
buf
[
BUFSIZ
];

177 cÚ¡ 
size_t
 
buf_size
 =  (
buf
);

180 0 < 
n_by‹s
)

182 
size_t
 
n_to_»ad
 = 
	`MIN
 (
buf_size
, 
n_by‹s
);

183 
size_t
 
n_»ad
 = 
	`§ã_»ad
 (
¤c_fd
, 
buf
, 
n_to_»ad
);

184 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

185  
COPY_FD_READ_ERROR
;

187 
n_by‹s
 -ğ
n_»ad
;

189 ià(
n_»ad
 =ğ0 && 
n_by‹s
 != 0)

190  
COPY_FD_UNEXPECTED_EOF
;

192 ià(
	`fwr™e
 (
buf
, 1, 
n_»ad
, 
o_¡»am
) <‚_read)

193  
COPY_FD_WRITE_ERROR
;

196  
COPY_FD_OK
;

197 
	}
}

202 
boŞ


203 
	$–ide__by‹s_pe
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_–ide_0
)

205 
size_t
 
n_–ide
 = 
n_–ide_0
;

207 #iâdeà
HEAD_TAIL_PIPE_READ_BUFSIZE


208 
	#HEAD_TAIL_PIPE_READ_BUFSIZE
 
BUFSIZ


	)

210 
	#READ_BUFSIZE
 
HEAD_TAIL_PIPE_READ_BUFSIZE


	)

216 #iâdeà
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD


217 
	#HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
 1024 * 1024

	)

220 #ià
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
 < 2 * 
READ_BUFSIZE


224 ià(
SIZE_MAX
 < 
n_–ide_0
 + 
READ_BUFSIZE
)

226 
umax_buf
[
	`INT_BUFSIZE_BOUND
 (
n_–ide_0
)];

227 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s:‚umber of bytes isoo†arge"),

228 
	`umaxto¡r
 (
n_–ide_0
, 
umax_buf
));

242 ià(
n_–ide
 <ğ
HEAD_TAIL_PIPE_BYTECOUNT_THRESHOLD
)

244 
boŞ
 
ok
 = 
Œue
;

245 
boŞ
 
fœ¡
 = 
Œue
;

246 
boŞ
 
eof
 = 
çl£
;

247 
size_t
 
n_to_»ad
 = 
READ_BUFSIZE
 + 
n_–ide
;

248 
boŞ
 
i
;

249 *
b
[2];

250 
b
[0] = 
	`xnm®loc
 (2, 
n_to_»ad
);

251 
b
[1] = b[0] + 
n_to_»ad
;

253 
i
 = 
çl£
; ! 
eof
 ; i = !i)

255 
size_t
 
n_»ad
 = 
	`fuÎ_»ad
 (
fd
, 
b
[
i
], 
n_to_»ad
);

256 
size_t
 
d–
 = 0;

257 ià(
n_»ad
 < 
n_to_»ad
)

259 ià(
”ºo
 != 0)

261 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

262 
ok
 = 
çl£
;

267 ià(
n_»ad
 <ğ
n_–ide
)

269 ià(
fœ¡
)

277 
d–
 = 
n_–ide
 - 
n_»ad
;

280 
eof
 = 
Œue
;

285 iàĞ! 
fœ¡
)

290 
	`fwr™e
 (
b
[!
i
] + 
READ_BUFSIZE
, 1, 
n_–ide
 - 
d–
, 
¡dout
);

292 
fœ¡
 = 
çl£
;

294 ià(
n_–ide
 < 
n_»ad


295 && 
	`fwr™e
 (
b
[
i
], 1, 
n_»ad
 - 
n_–ide
, 
¡dout
) <‚_read -‚_elide)

297 
	`”rÜ
 (0, 
”ºo
, 
	`_
("writeƒrror"));

298 
ok
 = 
çl£
;

303 
	`ä“
 (
b
[0]);

304  
ok
;

311 
boŞ
 
ok
 = 
Œue
;

312 
boŞ
 
eof
 = 
çl£
;

313 
size_t
 
n_»ad
;

314 
boŞ
 
bufã»d_’ough
;

315 
size_t
 
i
, 
i_Ãxt
;

316 **
b
;

318 
size_t
 
»m
 = 
READ_BUFSIZE
 - (
n_–ide
 % READ_BUFSIZE);

319 
size_t
 
n_–ide_round
 = 
n_–ide
 + 
»m
;

320 
size_t
 
n_bufs
 = 
n_–ide_round
 / 
READ_BUFSIZE
 + 1;

321 
b
 = 
	`xÿÎoc
 (
n_bufs
,  *b);

323 
bufã»d_’ough
 = 
çl£
;

324 
i
 = 0, 
i_Ãxt
 = 1; !
eof
; i = i_Ãxt, i_Ãxˆğ(i_Ãxˆ+ 1è% 
n_bufs
)

326 ià(
b
[
i
] =ğ
NULL
)

327 
b
[
i
] = 
	`xm®loc
 (
READ_BUFSIZE
);

328 
n_»ad
 = 
	`fuÎ_»ad
 (
fd
, 
b
[
i
], 
READ_BUFSIZE
);

329 ià(
n_»ad
 < 
READ_BUFSIZE
)

331 ià(
”ºo
 != 0)

333 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

334 
ok
 = 
çl£
;

335 
ä“_mem
;

337 
eof
 = 
Œue
;

340 ià(
i
 + 1 =ğ
n_bufs
)

341 
bufã»d_’ough
 = 
Œue
;

343 ià(
bufã»d_’ough
)

345 ià(
	`fwr™e
 (
b
[
i_Ãxt
], 1, 
n_»ad
, 
¡dout
) <‚_read)

347 
	`”rÜ
 (0, 
”ºo
, 
	`_
("writeƒrror"));

348 
ok
 = 
çl£
;

349 
ä“_mem
;

355 ià(
»m
)

357 ià(
bufã»d_’ough
)

359 
size_t
 
n_by‹s_Ëá_š_b_i
 = 
READ_BUFSIZE
 - 
n_»ad
;

360 ià(
»m
 < 
n_by‹s_Ëá_š_b_i
)

362 
	`fwr™e
 (
b
[
i
] + 
n_»ad
, 1, 
»m
, 
¡dout
);

366 
	`fwr™e
 (
b
[
i
] + 
n_»ad
, 1, 
n_by‹s_Ëá_š_b_i
, 
¡dout
);

367 
	`fwr™e
 (
b
[
i_Ãxt
], 1, 
»m
 - 
n_by‹s_Ëá_š_b_i
, 
¡dout
);

370 ià(
i
 + 1 =ğ
n_bufs
)

384 
size_t
 
y
 = 
READ_BUFSIZE
 - 
»m
;

385 
size_t
 
x
 = 
n_»ad
 - 
y
;

386 
	`fwr™e
 (
b
[
i_Ãxt
], 1, 
x
, 
¡dout
);

390 
ä“_mem
:

391 
i
 = 0; i < 
n_bufs
; i++)

392 
	`ä“
 (
b
[
i
]);

393 
	`ä“
 (
b
);

395  
ok
;

397 
	}
}

406 
boŞ


407 
	$–ide__by‹s_fe
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_–ide
)

409 
¡©
 
¡©s
;

411 ià(
´esume_šput_pe
 || 
	`f¡©
 (
fd
, &
¡©s
è|| ! 
	`S_ISREG
 (¡©s.
¡_mode
))

413  
	`–ide__by‹s_pe
 (
f’ame
, 
fd
, 
n_–ide
);

417 
off_t
 
cu¼’t_pos
, 
’d_pos
;

418 
uštmax_t
 
by‹s_»maššg
;

419 
off_t
 
diff
;

420 
Cİy_fd_¡©us
 
”r
;

422 ià((
cu¼’t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) == -1

423 || (
’d_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)) == -1)

425 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ†£ek %s"), 
	`quÙe
 (
f’ame
));

426  
çl£
;

431 
by‹s_»maššg
 = (
diff
 = 
’d_pos
 - 
cu¼’t_pos
) < 0 ? 0 : diff;

433 ià(
by‹s_»maššg
 <ğ
n_–ide
)

434  
Œue
;

438 ià(
	`l£ek
 (
fd
, 0, 
cu¼’t_pos
) == -1)

440 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot†seek backo original…osition"),

441 
	`quÙe
 (
f’ame
));

442  
çl£
;

445 
”r
 = 
	`cİy_fd
 (
fd
, 
¡dout
, 
by‹s_»maššg
 - 
n_–ide
);

446 ià(
”r
 =ğ
COPY_FD_OK
)

447  
Œue
;

449 
	`dŸgno£_cİy_fd_çu»
 (
”r
, 
f’ame
);

450  
çl£
;

452 
	}
}

459 
boŞ


460 
	$–ide__lšes_pe
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_–ide
)

462 
	slšebufãr


464 
bufãr
[
BUFSIZ
];

465 
size_t
 
nby‹s
;

466 
size_t
 
Æšes
;

467 
lšebufãr
 *
Ãxt
;

469 
lšebufãr
 
	tLBUFFER
;

470 
LBUFFER
 *
fœ¡
, *
Ï¡
, *
tmp
;

471 
size_t
 
tÙ®_lšes
 = 0;

472 
boŞ
 
ok
 = 
Œue
;

473 
size_t
 
n_»ad
;

475 
fœ¡
 = 
Ï¡
 = 
	`xm®loc
 ( (
LBUFFER
));

476 
fœ¡
->
nby‹s
 = fœ¡->
Æšes
 = 0;

477 
fœ¡
->
Ãxt
 = 
NULL
;

478 
tmp
 = 
	`xm®loc
 ( (
LBUFFER
));

485 
n_»ad
 = 
	`§ã_»ad
 (
fd
, 
tmp
->
bufãr
, 
BUFSIZ
);

486 ià(
n_»ad
 =ğ0 ||‚_»ad =ğ
SAFE_READ_ERROR
)

488 
tmp
->
nby‹s
 = 
n_»ad
;

489 
tmp
->
Æšes
 = 0;

490 
tmp
->
Ãxt
 = 
NULL
;

494 cÚ¡ *
bufãr_’d
 = 
tmp
->
bufãr
 + 
n_»ad
;

495 cÚ¡ *
p
 = 
tmp
->
bufãr
;

496 (
p
 = 
	`memchr
 (p, '\n', 
bufãr_’d
 -…)))

498 ++
p
;

499 ++
tmp
->
Æšes
;

502 
tÙ®_lšes
 +ğ
tmp
->
Æšes
;

507 ià(
tmp
->
nby‹s
 + 
Ï¡
->nby‹ < 
BUFSIZ
)

509 
	`memıy
 (&
Ï¡
->
bufãr
[Ï¡->
nby‹s
], 
tmp
->buffer,mp->nbytes);

510 
Ï¡
->
nby‹s
 +ğ
tmp
->nbytes;

511 
Ï¡
->
Æšes
 +ğ
tmp
->nlines;

520 
Ï¡
 =†a¡->
Ãxt
 = 
tmp
;

521 ià(
n_–ide
 < 
tÙ®_lšes
 - 
fœ¡
->
Æšes
)

523 
	`fwr™e
 (
fœ¡
->
bufãr
, 1, fœ¡->
nby‹s
, 
¡dout
);

524 
tmp
 = 
fœ¡
;

525 
tÙ®_lšes
 -ğ
fœ¡
->
Æšes
;

526 
fœ¡
 = fœ¡->
Ãxt
;

529 
tmp
 = 
	`xm®loc
 ( (
LBUFFER
));

533 
	`ä“
 (
tmp
);

535 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

537 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

538 
ok
 = 
çl£
;

539 
ä“_lbufãrs
;

544 ià(
Ï¡
->
nby‹s
 &&†a¡->
bufãr
[last->nbytes - 1] != '\n')

546 ++
Ï¡
->
Æšes
;

547 ++
tÙ®_lšes
;

550 
tmp
 = 
fœ¡
; 
n_–ide
 < 
tÙ®_lšes
 -mp->
Æšes
;m°ğtmp->
Ãxt
)

552 
	`fwr™e
 (
tmp
->
bufãr
, 1,mp->
nby‹s
, 
¡dout
);

553 
tÙ®_lšes
 -ğ
tmp
->
Æšes
;

557 ià(
n_–ide
 < 
tÙ®_lšes
)

559 
size_t
 
n
 = 
tÙ®_lšes
 - 
n_–ide
;

560 cÚ¡ *
bufãr_’d
 = 
tmp
->
bufãr
 +mp->
nby‹s
;

561 cÚ¡ *
p
 = 
tmp
->
bufãr
;

562 
n
 && (
p
 = 
	`memchr
 (p, '\n', 
bufãr_’d
 -…)))

564 ++
p
;

565 ++
tmp
->
Æšes
;

566 --
n
;

568 
	`fwr™e
 (
tmp
->
bufãr
, 1, 
p
 -mp->bufãr, 
¡dout
);

571 
ä“_lbufãrs
:

572 
fœ¡
)

574 
tmp
 = 
fœ¡
->
Ãxt
;

575 
	`ä“
 (
fœ¡
);

576 
fœ¡
 = 
tmp
;

578  
ok
;

579 
	}
}

592 
boŞ


593 
	$–ide__lšes_£ekabË
 (cÚ¡ *
´‘ty_f’ame
, 
fd
,

594 
uštmax_t
 
n_lšes
,

595 
off_t
 
¡¬t_pos
, off_ˆ
’d_pos
)

597 
bufãr
[
BUFSIZ
];

598 
size_t
 
by‹s_»ad
;

599 
off_t
 
pos
 = 
’d_pos
;

603 
by‹s_»ad
 = (
pos
 - 
¡¬t_pos
è% 
BUFSIZ
;

604 ià(
by‹s_»ad
 == 0)

605 
by‹s_»ad
 = 
BUFSIZ
;

608 
pos
 -ğ
by‹s_»ad
;

609 ià(
	`l£ek
 (
fd
, 
pos
, 
SEEK_SET
) < 0)

611 
off£t_buf
[
	`INT_BUFSIZE_BOUND
 (
pos
)];

612 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot seeko offset %s"),

613 
´‘ty_f’ame
, 
	`ofáo¡r
 (
pos
, 
off£t_buf
));

614  
çl£
;

616 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, bytes_read);

617 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

619 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

620  
çl£
;

624 ià(
by‹s_»ad
 && 
bufãr
[bytes_read - 1] != '\n')

625 --
n_lšes
;

631 
size_t
 
n
 = 
by‹s_»ad
;

632 
n
)

634 cÚ¡ *
Æ
;

635 
Æ
 = 
	`memrchr
 (
bufãr
, '\n', 
n
);

636 ià(
Æ
 =ğ
NULL
)

638 
n
 = 
Æ
 - 
bufãr
;

639 ià(
n_lšes
-- == 0)

644 ià(
¡¬t_pos
 < 
pos
)

646 
Cİy_fd_¡©us
 
”r
;

647 ià(
	`l£ek
 (
fd
, 
¡¬t_pos
, 
SEEK_SET
) < 0)

650 
	`”rÜ
 (0, 
”ºo
,

652 
	`quÙe
 (
´‘ty_f’ame
));

653  
çl£
;

656 
”r
 = 
	`cİy_fd
 (
fd
, 
¡dout
, 
pos
 - 
¡¬t_pos
);

657 ià(
”r
 !ğ
COPY_FD_OK
)

659 
	`dŸgno£_cİy_fd_çu»
 (
”r
, 
´‘ty_f’ame
);

660  
çl£
;

668 
	`fwr™e
 (
bufãr
, 1, 
n
 + 1, 
¡dout
);

671 ià(
	`l£ek
 (
fd
, 
pos
 + 
n
 + 1, 
SEEK_SET
) < 0)

673 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: failedo„eset file…ointer"),

674 
	`quÙe
 (
´‘ty_f’ame
));

675  
çl£
;

677  
Œue
;

682 ià(
pos
 =ğ
¡¬t_pos
)

685  
Œue
;

687 
pos
 -ğ
BUFSIZ
;

688 ià(
	`l£ek
 (
fd
, 
pos
, 
SEEK_SET
) < 0)

690 
off£t_buf
[
	`INT_BUFSIZE_BOUND
 (
pos
)];

691 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot seeko offset %s"),

692 
´‘ty_f’ame
, 
	`ofáo¡r
 (
pos
, 
off£t_buf
));

693  
çl£
;

696 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
BUFSIZ
);

697 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

699 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

700  
çl£
;

705 ià(
by‹s_»ad
 == 0)

706  
Œue
;

708 
	}
}

714 
boŞ


715 
	$–ide__lšes_fe
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_–ide
)

717 ià(!
´esume_šput_pe
)

724 
off_t
 
¡¬t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
);

725 
off_t
 
’d_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

726 ià(0 <ğ
¡¬t_pos
 && s¹_po < 
’d_pos
)

729 ià(
’d_pos
 == 0)

730  
Œue
;

732  
	`–ide__lšes_£ekabË
 (
f’ame
, 
fd
, 
n_–ide
,

733 
¡¬t_pos
, 
’d_pos
);

740  
	`–ide__lšes_pe
 (
f’ame
, 
fd
, 
n_–ide
);

741 
	}
}

743 
boŞ


744 
	$h—d_by‹s
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
by‹s_to_wr™e
)

746 
bufãr
[
BUFSIZ
];

747 
size_t
 
by‹s_to_»ad
 = 
BUFSIZ
;

749 
by‹s_to_wr™e
)

751 
size_t
 
by‹s_»ad
;

752 ià(
by‹s_to_wr™e
 < 
by‹s_to_»ad
)

753 
by‹s_to_»ad
 = 
by‹s_to_wr™e
;

754 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
by‹s_to_»ad
);

755 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

757 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

758  
çl£
;

760 ià(
by‹s_»ad
 == 0)

762 ià(
	`fwr™e
 (
bufãr
, 1, 
by‹s_»ad
, 
¡dout
) < bytes_read)

763 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

764 
by‹s_to_wr™e
 -ğ
by‹s_»ad
;

766  
Œue
;

767 
	}
}

769 
boŞ


770 
	$h—d_lšes
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
lšes_to_wr™e
)

772 
bufãr
[
BUFSIZ
];

774 
lšes_to_wr™e
)

776 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
BUFSIZ
);

777 
size_t
 
by‹s_to_wr™e
 = 0;

779 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

781 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
f’ame
));

782  
çl£
;

784 ià(
by‹s_»ad
 == 0)

786 
by‹s_to_wr™e
 < 
by‹s_»ad
)

787 ià(
bufãr
[
by‹s_to_wr™e
++] =ğ'\n' && --
lšes_to_wr™e
 == 0)

789 
off_t
 
n_by‹s_·¡_EOL
 = 
by‹s_»ad
 - 
by‹s_to_wr™e
;

793 ià(
	`l£ek
 (
fd
, -
n_by‹s_·¡_EOL
, 
SEEK_CUR
) < 0)

795 
e
 = 
”ºo
;

796 
¡©
 
¡
;

797 ià(
	`f¡©
 (
fd
, &
¡
è!ğ0 || 
	`S_ISREG
 (¡.
¡_mode
))

798 
	`”rÜ
 (0, 
e
, 
	`_
("cannot„eposition file…ointer for %s"),

799 
	`quÙe
 (
f’ame
));

803 ià(
	`fwr™e
 (
bufãr
, 1, 
by‹s_to_wr™e
, 
¡dout
) < bytes_to_write)

804 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

806  
Œue
;

807 
	}
}

809 
boŞ


810 
	$h—d
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_un™s
, 
boŞ
 
couÁ_lšes
,

811 
boŞ
 
–ide_äom_’d
)

813 ià(
´št_h—d”s
)

814 
	`wr™e_h—d”
 (
f’ame
);

816 ià(
–ide_äom_’d
)

818 ià(
couÁ_lšes
)

820  
	`–ide__lšes_fe
 (
f’ame
, 
fd
, 
n_un™s
);

824  
	`–ide__by‹s_fe
 (
f’ame
, 
fd
, 
n_un™s
);

827 ià(
couÁ_lšes
)

828  
	`h—d_lšes
 (
f’ame
, 
fd
, 
n_un™s
);

830  
	`h—d_by‹s
 (
f’ame
, 
fd
, 
n_un™s
);

831 
	}
}

833 
boŞ


834 
	$h—d_fe
 (cÚ¡ *
f’ame
, 
uštmax_t
 
n_un™s
, 
boŞ
 
couÁ_lšes
,

835 
boŞ
 
–ide_äom_’d
)

837 
fd
;

838 
boŞ
 
ok
;

839 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
f’ame
, "-");

841 ià(
is_¡dš
)

843 
have_»ad_¡dš
 = 
Œue
;

844 
fd
 = 
STDIN_FILENO
;

845 
f’ame
 = 
	`_
("standard input");

846 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

847 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

851 
fd
 = 
	`İ’
 (
f’ame
, 
O_RDONLY
 | 
O_BINARY
);

852 ià(
fd
 < 0)

854 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ o³À% fÜ„—dšg"), 
	`quÙe
 (
f’ame
));

855  
çl£
;

859 
ok
 = 
	`h—d
 (
f’ame
, 
fd
, 
n_un™s
, 
couÁ_lšes
, 
–ide_äom_’d
);

860 ià(!
is_¡dš
 && 
	`şo£
 (
fd
) != 0)

862 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØşo£ %s"), 
	`quÙe
 (
f’ame
));

863  
çl£
;

865  
ok
;

866 
	}
}

874 
uštmax_t


875 
	$¡ršg_to_š‹g”
 (
boŞ
 
couÁ_lšes
, cÚ¡ *
n_¡ršg
)

877 
¡¹Ş_”rÜ
 
s_”r
;

878 
uštmax_t
 
n
;

880 
s_”r
 = 
	`x¡¹oumax
 (
n_¡ršg
, 
NULL
, 10, &
n
, "bkKmMGTPEZY0");

882 ià(
s_”r
 =ğ
LONGINT_OVERFLOW
)

884 
	`”rÜ
 (
EXIT_FAILURE
, 0,

885 
	`_
("%s: % i sØÏrgth© iˆi nÙ„•»£ÁabË"), 
n_¡ršg
,

886 
couÁ_lšes
 ? 
	`_
("number of†ines") : _("number of bytes"));

889 ià(
s_”r
 !ğ
LONGINT_OK
)

891 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s: %s", 
n_¡ršg
,

892 (
couÁ_lšes


893 ? 
	`_
("invalid‚umber of†ines")

894 : 
	`_
("invalid‚umber of bytes")));

897  
n
;

898 
	}
}

901 
	$maš
 (
¬gc
, **
¬gv
)

903 
h—d”_mode
 h—d”_modğ
muÉË_fes
;

904 
boŞ
 
ok
 = 
Œue
;

905 
c
;

906 
size_t
 
i
;

909 
uštmax_t
 
n_un™s
 = 
DEFAULT_NUMBER
;

913 
boŞ
 
couÁ_lšes
 = 
Œue
;

917 
boŞ
 
–ide_äom_’d
 = 
çl£
;

921 cÚ¡ *cÚ¡ 
deçuÉ_fe_li¡
[] = {"-", 
NULL
};

922 cÚ¡ *cÚ¡ *
fe_li¡
;

924 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

925 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

926 
	`£oÿË
 (
LC_ALL
, "");

927 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

928 
	`‹xtdomaš
 (
PACKAGE
);

930 
	`©ex™
 (
şo£_¡dout
);

932 
have_»ad_¡dš
 = 
çl£
;

934 
´št_h—d”s
 = 
çl£
;

936 ià(1 < 
¬gc
 && 
¬gv
[1][0] =ğ'-' && 
	`ISDIGIT
 (argv[1][1]))

938 *
a
 = 
¬gv
[1];

939 *
n_¡ršg
 = ++
a
;

940 *
’d_n_¡ršg
;

941 
muÉl›r_ch¬
 = 0;

945 dØ++
a
;

946 
	`ISDIGIT
 (*
a
));

949 
’d_n_¡ršg
 = 
a
;

952 ; *
a
;‡++)

954 *
a
)

957 
couÁ_lšes
 = 
çl£
;

958 
muÉl›r_ch¬
 = 0;

964 
couÁ_lšes
 = 
çl£
;

965 
muÉl›r_ch¬
 = *
a
;

969 
couÁ_lšes
 = 
Œue
;

973 
h—d”_mode
 = 
Ãv”
;

977 
h—d”_mode
 = 
®ways
;

981 
	`”rÜ
 (0, 0, 
	`_
("šv®id¿šg o±iÚ -- %c"), *
a
);

982 
	`u§ge
 (
EXIT_FAILURE
);

988 *
’d_n_¡ršg
 = 
muÉl›r_ch¬
;

989 ià(
muÉl›r_ch¬
)

990 *(++
’d_n_¡ršg
) = 0;

992 
n_un™s
 = 
	`¡ršg_to_š‹g”
 (
couÁ_lšes
, 
n_¡ršg
);

995 
¬gv
[1] =‡rgv[0];

996 
¬gv
++;

997 
¬gc
--;

1000 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "c:n:qv0123456789", 
lÚg_İtiÚs
, 
NULL
))

1003 
c
)

1005 
PRESUME_INPUT_PIPE_OPTION
:

1006 
´esume_šput_pe
 = 
Œue
;

1010 
couÁ_lšes
 = 
çl£
;

1011 
–ide_äom_’d
 = (*
İrg
 == '-');

1012 ià(
–ide_äom_’d
)

1013 ++
İrg
;

1014 
n_un™s
 = 
	`¡ršg_to_š‹g”
 (
couÁ_lšes
, 
İrg
);

1018 
couÁ_lšes
 = 
Œue
;

1019 
–ide_äom_’d
 = (*
İrg
 == '-');

1020 ià(
–ide_äom_’d
)

1021 ++
İrg
;

1022 
n_un™s
 = 
	`¡ršg_to_š‹g”
 (
couÁ_lšes
, 
İrg
);

1026 
h—d”_mode
 = 
Ãv”
;

1030 
h—d”_mode
 = 
®ways
;

1033 
ÿ£_GETOPT_HELP_CHAR
;

1035 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1038 ià(
	`ISDIGIT
 (
c
))

1039 
	`”rÜ
 (0, 0, 
	`_
("šv®id¿šg o±iÚ -- %c"), 
c
);

1040 
	`u§ge
 (
EXIT_FAILURE
);

1044 ià(
h—d”_mode
 =ğ
®ways


1045 || (
h—d”_mode
 =ğ
muÉË_fes
 && 
İtšd
 < 
¬gc
 - 1))

1046 
´št_h—d”s
 = 
Œue
;

1048 iàĞ! 
couÁ_lšes
 && 
–ide_äom_’d
 && 
OFF_T_MAX
 < 
n_un™s
)

1050 
umax_buf
[
	`INT_BUFSIZE_BOUND
 (
n_un™s
)];

1051 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s:‚umber of bytes isoo†arge"),

1052 
	`umaxto¡r
 (
n_un™s
, 
umax_buf
));

1055 
fe_li¡
 = (
İtšd
 < 
¬gc


1056 ? (cÚ¡ *cÚ¡ *è&
¬gv
[
İtšd
]

1057 : 
deçuÉ_fe_li¡
);

1059 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

1060 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

1062 
i
 = 0; 
fe_li¡
[i]; ++i)

1063 
ok
 &ğ
	`h—d_fe
 (
fe_li¡
[
i
], 
n_un™s
, 
couÁ_lšes
, 
–ide_äom_’d
);

1065 ià(
have_»ad_¡dš
 && 
	`şo£
 (
STDIN_FILENO
) < 0)

1066 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

1068 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1069 
	}
}

	@hostid.c

20 
	~<cÚfig.h
>

21 
	~<g‘İt.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

25 
	~"sy¡em.h
"

26 
	~"lÚg-İtiÚs.h
"

27 
	~"”rÜ.h
"

28 
	~"quÙe.h
"

31 
	#PROGRAM_NAME
 "ho¡id"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

36 
	$u§ge
 (
¡©us
)

38 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

39 
	`em™_Œy_h–p
 ();

42 
	`´štf
 (
	`_
("\
: % [OPTION]\n\
hnum”iøid’tif›¸(š hexadecim®èfÜhcu¼’ˆho¡.\n\
\n\
"), 
´og¿m_Çme
);

47 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

48 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

49 
	`em™_ªcÏry_šfo
 ();

51 
	`ex™
 (
¡©us
);

52 
	}
}

55 
	$maš
 (
¬gc
, **
¬gv
)

57 
id
;

59 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

60 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

61 
	`£oÿË
 (
LC_ALL
, "");

62 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

63 
	`‹xtdomaš
 (
PACKAGE
);

65 
	`©ex™
 (
şo£_¡dout
);

67 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

68 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

69 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

70 
	`u§ge
 (
EXIT_FAILURE
);

72 ià(
İtšd
 < 
¬gc
)

74 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

75 
	`u§ge
 (
EXIT_FAILURE
);

78 
id
 = 
	`g‘ho¡id
 ();

83 
id
 &= 0xffffffff;

85 
	`´štf
 ("%08x\n", 
id
);

87 
	`ex™
 (
EXIT_SUCCESS
);

88 
	}
}

	@hostname.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"lÚg-İtiÚs.h
"

26 
	~"”rÜ.h
"

27 
	~"quÙe.h
"

28 
	~"xg‘ho¡Çme.h
"

31 
	#PROGRAM_NAME
 "ho¡Çme"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

35 #ià!
defšed
 
HAVE_SETHOSTNAME
 && defšed 
HAVE_SYSINFO
 && \

36 
defšed
 
	gHAVE_SYS_SYSTEMINFO_H


37 
	~<sys/sy¡emšfo.h
>

40 
	$£tho¡Çme
 (*
Çme
, 
size_t
 
Çm–’
)

43  (
	`sysšfo
 (
SI_SET_HOSTNAME
, 
Çme
, 
Çm–’
) < 0 ? -1 : 0);

44 
	}
}

46 
	#HAVE_SETHOSTNAME
 1

	)

50 
	$u§ge
 (
¡©us
)

52 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

53 
	`em™_Œy_h–p
 ();

56 
	`´štf
 (
	`_
("\
: %s [NAME]\n\
: %s OPTION\n\
 or sethe hostname ofhe current system.\n\
\n\
"),

62 
´og¿m_Çme
,…rogram_name);

63 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

64 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

65 
	`em™_ªcÏry_šfo
 ();

67 
	`ex™
 (
¡©us
);

68 
	}
}

71 
	$maš
 (
¬gc
, **
¬gv
)

73 *
ho¡Çme
;

75 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

76 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

77 
	`£oÿË
 (
LC_ALL
, "");

78 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

79 
	`‹xtdomaš
 (
PACKAGE
);

81 
	`©ex™
 (
şo£_¡dout
);

83 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

84 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

85 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

86 
	`u§ge
 (
EXIT_FAILURE
);

88 ià(
¬gc
 =ğ
İtšd
 + 1)

90 #ifdeà
HAVE_SETHOSTNAME


92 cÚ¡ *
Çme
 = 
¬gv
[
İtšd
];

93 ià(
	`£tho¡Çme
 (
Çme
, 
	`¡¾’
 (name)) != 0)

94 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ s‘‚amtØ%s"), 
	`quÙe
 (
Çme
));

96 
	`”rÜ
 (
EXIT_FAILURE
, 0,

97 
	`_
("cannot set hostname;his system†ackshe functionality"));

101 ià(
¬gc
 <ğ
İtšd
)

103 
ho¡Çme
 = 
	`xg‘ho¡Çme
 ();

104 ià(
ho¡Çme
 =ğ
NULL
)

105 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot determine hostname"));

106 
	`´štf
 ("%s\n", 
ho¡Çme
);

109 ià(
İtšd
 + 1 < 
¬gc
)

111 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

112 
	`u§ge
 (
EXIT_FAILURE
);

115 
	`ex™
 (
EXIT_SUCCESS
);

116 
	}
}

	@id.c

20 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<pwd.h
>

24 
	~<g½.h
>

25 
	~<g‘İt.h
>

26 
	~<£lšux/£lšux.h
>

28 
	~"sy¡em.h
"

29 
	~"”rÜ.h
"

30 
	~"mg‘groups.h
"

31 
	~"quÙe.h
"

32 
	~"group-li¡.h
"

35 
	#PROGRAM_NAME
 "id"

	)

37 
	#AUTHORS
 \

38 
	`´İ”_Çme
 ("Arnold Robbins"), \

39 
	`´İ”_Çme
 ("David MacK’z›")

	)

42 
	gju¡_cÚ‹xt
 = 0;

44 
´št_u£r
 (
uid_t
 
uid
);

45 
´št_fuÎ_šfo
 (cÚ¡ *
u£ºame
);

48 
boŞ
 
	gu£_Çme
 = 
çl£
;

51 
uid_t
 
	gruid
, 
	geuid
;

52 
gid_t
 
	grgid
, 
	gegid
;

55 
boŞ
 
	gok
 = 
Œue
;

59 
£cur™y_cÚ‹xt_t
 
	gcÚ‹xt
 = 
NULL
;

61 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

63 {"cÚ‹xt", 
no_¬gum’t
, 
NULL
, 'Z'},

64 {"group", 
no_¬gum’t
, 
NULL
, 'g'},

65 {"groups", 
no_¬gum’t
, 
NULL
, 'G'},

66 {"Çme", 
no_¬gum’t
, 
NULL
, 'n'},

67 {"»®", 
no_¬gum’t
, 
NULL
, 'r'},

68 {"u£r", 
no_¬gum’t
, 
NULL
, 'u'},

69 {
GETOPT_HELP_OPTION_DECL
},

70 {
GETOPT_VERSION_OPTION_DECL
},

71 {
NULL
, 0, NULL, 0}

75 
	$u§ge
 (
¡©us
)

77 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

78 
	`em™_Œy_h–p
 ();

81 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [USERNAME]\n"), 
´og¿m_Çme
);

82 
	`åuts
 (
	`_
("\
 u£¸ªd grou°šfÜm©iÚ fÜh¥ecif›d USERNAME,\n\
 (wh’ USERNAME om™‹dèfÜhcu¼’ˆu£r.\n\
\n\
-¨ ignÜe, fÜ com·tib™y w™h oth” v”siÚs\n\
-Z, --cÚ‹xˆ…ršˆÚlyh£cur™y cÚ‹xˆoàthcu¼’ˆu£r\n\
-g, --grou°…ršˆÚlyhefãùivgrou°ID\n\
-G, --group …ršˆ®Ègrou°IDs\n\
-n, --Çm…ršˆ¨Çmš¡—d oà¨numb”, fÜ -ugG\n\
-r, --»®…ršˆth»® ID in¡—d oàthefãùivID, w™h -ugG\n\
-u, --u£¸…ršˆÚlyhefãùivu£¸ID\n\
"), 
¡dout
);

94 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

95 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

96 
	`åuts
 (
	`_
("\
\n\
‡ny OPTION,…ršˆsomu£fuÈ£ˆoàid’tif›d infÜm©iÚ.\n\
"), 
¡dout
);

100 
	`em™_ªcÏry_šfo
 ();

102 
	`ex™
 (
¡©us
);

103 
	}
}

106 
	$maš
 (
¬gc
, **
¬gv
)

108 
İtc
;

109 
£lšux_’abËd
 = (
	`is_£lšux_’abËd
 () > 0);

112 
boŞ
 
ju¡_group_li¡
 = 
çl£
;

114 
boŞ
 
ju¡_group
 = 
çl£
;

116 
boŞ
 
u£_»®
 = 
çl£
;

118 
boŞ
 
ju¡_u£r
 = 
çl£
;

120 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

121 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

122 
	`£oÿË
 (
LC_ALL
, "");

123 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

124 
	`‹xtdomaš
 (
PACKAGE
);

126 
	`©ex™
 (
şo£_¡dout
);

128 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "agÄuGZ", 
lÚgİts
, 
NULL
)) != -1)

130 
İtc
)

138 ià(!
£lšux_’abËd
)

139 
	`”rÜ
 (
EXIT_FAILURE
, 0,

140 
	`_
("--context (-Z) works only on‡n SELinux-enabled kernel"));

141 
ju¡_cÚ‹xt
 = 1;

145 
ju¡_group
 = 
Œue
;

148 
u£_Çme
 = 
Œue
;

151 
u£_»®
 = 
Œue
;

154 
ju¡_u£r
 = 
Œue
;

157 
ju¡_group_li¡
 = 
Œue
;

159 
ÿ£_GETOPT_HELP_CHAR
;

160 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

162 
	`u§ge
 (
EXIT_FAILURE
);

166 
size_t
 
n_ids
 = 
¬gc
 - 
İtšd
;

167 ià(1 < 
n_ids
)

169 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

170 
	`u§ge
 (
EXIT_FAILURE
);

173 ià(
n_ids
 && 
ju¡_cÚ‹xt
)

174 
	`”rÜ
 (
EXIT_FAILURE
, 0,

175 
	`_
("cannot…rint security context when user specified"));

177 ià(
ju¡_u£r
 + 
ju¡_group
 + 
ju¡_group_li¡
 + 
ju¡_cÚ‹xt
 > 1)

178 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot…rint \"only\" of morehan one choice"));

180 
boŞ
 
deçuÉ_fÜm©
 = (
ju¡_u£r
 + 
ju¡_group
 + 
ju¡_group_li¡


181 + 
ju¡_cÚ‹xt
 == 0);

183 ià(
deçuÉ_fÜm©
 && (
u£_»®
 || 
u£_Çme
))

184 
	`”rÜ
 (
EXIT_FAILURE
, 0,

185 
	`_
("cannot…rint only‚ames or„eal IDs in default format"));

192 ià(
£lšux_’abËd


193 && 
n_ids
 == 0

194 && (
ju¡_cÚ‹xt


195 || (
deçuÉ_fÜm©
 && ! 
	`g‘’v
 ("POSIXLY_CORRECT"))))

198 ià(
	`g‘cÚ
 (&
cÚ‹xt
è&& 
ju¡_cÚ‹xt
)

199 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("can't get…rocess context"));

202 ià(
n_ids
 == 1)

204 
·sswd
 *
pwd
 = 
	`g‘pwÇm
 (
¬gv
[
İtšd
]);

205 ià(
pwd
 =ğ
NULL
)

206 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s:‚Øsuch u£r"), 
¬gv
[
İtšd
]);

207 
ruid
 = 
euid
 = 
pwd
->
pw_uid
;

208 
rgid
 = 
egid
 = 
pwd
->
pw_gid
;

215 
uid_t
 
NO_UID
 = -1;

216 
gid_t
 
NO_GID
 = -1;

218 ià(
ju¡_u£r
 ? !
u£_»®


219 : !
ju¡_group
 && !
ju¡_group_li¡
 && !
ju¡_cÚ‹xt
)

221 
”ºo
 = 0;

222 
euid
 = 
	`g‘euid
 ();

223 ià(
euid
 =ğ
NO_UID
 && 
”ºo
)

224 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot getƒffective UID"));

227 ià(
ju¡_u£r
 ? 
u£_»®


228 : !
ju¡_group
 && (
ju¡_group_li¡
 || !
ju¡_cÚ‹xt
))

230 
”ºo
 = 0;

231 
ruid
 = 
	`g‘uid
 ();

232 ià(
ruid
 =ğ
NO_UID
 && 
”ºo
)

233 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot get„eal UID"));

236 ià(!
ju¡_u£r
 && (
ju¡_group
 || 
ju¡_group_li¡
 || !
ju¡_cÚ‹xt
))

238 
”ºo
 = 0;

239 
egid
 = 
	`g‘egid
 ();

240 ià(
egid
 =ğ
NO_GID
 && 
”ºo
)

241 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot getƒffective GID"));

243 
”ºo
 = 0;

244 
rgid
 = 
	`g‘gid
 ();

245 ià(
rgid
 =ğ
NO_GID
 && 
”ºo
)

246 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot get„eal GID"));

250 ià(
ju¡_u£r
)

252 
	`´št_u£r
 (
u£_»®
 ? 
ruid
 : 
euid
);

254 ià(
ju¡_group
)

256 ià(!
	`´št_group
 (
u£_»®
 ? 
rgid
 : 
egid
, 
u£_Çme
))

257 
ok
 = 
çl£
;

259 ià(
ju¡_group_li¡
)

261 ià(!
	`´št_group_li¡
 (
¬gv
[
İtšd
], 
ruid
, 
rgid
, 
egid
, 
u£_Çme
))

262 
ok
 = 
çl£
;

264 ià(
ju¡_cÚ‹xt
)

266 
	`åuts
 (
cÚ‹xt
, 
¡dout
);

270 
	`´št_fuÎ_šfo
 (
¬gv
[
İtšd
]);

272 
	`putch¬
 ('\n');

274 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

275 
	}
}

281 
	$gidto¡r_±r
 (
gid_t
 cÚ¡ *
gid
)

283 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

284  
	`umaxto¡r
 (*
gid
, 
buf
);

285 
	}
}

286 
	#gidto¡r
(
g
è
	`gidto¡r_±r
 (&(g))

	)

292 
	$uidto¡r_±r
 (
uid_t
 cÚ¡ *
uid
)

294 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

295  
	`umaxto¡r
 (*
uid
, 
buf
);

296 
	}
}

297 
	#uidto¡r
(
u
è
	`uidto¡r_±r
 (&(u))

	)

302 
	$´št_u£r
 (
uid_t
 
uid
)

304 
·sswd
 *
pwd
 = 
NULL
;

306 ià(
u£_Çme
)

308 
pwd
 = 
	`g‘pwuid
 (
uid
);

309 ià(
pwd
 =ğ
NULL
)

311 
	`”rÜ
 (0, 0, 
	`_
("cannot find‚ame for user ID %s"),

312 
	`uidto¡r
 (
uid
));

313 
ok
 = 
çl£
;

317 *
s
 = 
pwd
 ?…wd->
pw_Çme
 : 
	`uidto¡r
 (
uid
);

318 
	`åuts
 (
s
, 
¡dout
);

319 
	}
}

324 
	$´št_fuÎ_šfo
 (cÚ¡ *
u£ºame
)

326 
·sswd
 *
pwd
;

327 
group
 *
g½
;

329 
	`´štf
 (
	`_
("uid=%s"), 
	`uidto¡r
 (
ruid
));

330 
pwd
 = 
	`g‘pwuid
 (
ruid
);

331 ià(
pwd
)

332 
	`´štf
 ("(%s)", 
pwd
->
pw_Çme
);

334 
	`´štf
 (
	`_
(" gid=%s"), 
	`gidto¡r
 (
rgid
));

335 
g½
 = 
	`g‘grgid
 (
rgid
);

336 ià(
g½
)

337 
	`´štf
 ("(%s)", 
g½
->
gr_Çme
);

339 ià(
euid
 !ğ
ruid
)

341 
	`´štf
 (
	`_
("ƒuid=%s"), 
	`uidto¡r
 (
euid
));

342 
pwd
 = 
	`g‘pwuid
 (
euid
);

343 ià(
pwd
)

344 
	`´štf
 ("(%s)", 
pwd
->
pw_Çme
);

347 ià(
egid
 !ğ
rgid
)

349 
	`´štf
 (
	`_
("ƒgid=%s"), 
	`gidto¡r
 (
egid
));

350 
g½
 = 
	`g‘grgid
 (
egid
);

351 ià(
g½
)

352 
	`´štf
 ("(%s)", 
g½
->
gr_Çme
);

356 
gid_t
 *
groups
;

357 
i
;

359 
n_groups
 = 
	`xg‘groups
 (
u£ºame
, (
pwd
 ?…wd->
pw_gid
 : -1),

360 &
groups
);

361 ià(
n_groups
 < 0)

363 ià(
u£ºame
)

365 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get groups for user %s"),

366 
	`quÙe
 (
u£ºame
));

370 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get groups forhe current…rocess"));

372 
ok
 = 
çl£
;

376 ià(
n_groups
 > 0)

377 
	`åuts
 (
	`_
(" groups="), 
¡dout
);

378 
i
 = 0; i < 
n_groups
; i++)

380 ià(
i
 > 0)

381 
	`putch¬
 (',');

382 
	`åuts
 (
	`gidto¡r
 (
groups
[
i
]), 
¡dout
);

383 
g½
 = 
	`g‘grgid
 (
groups
[
i
]);

384 ià(
g½
)

385 
	`´štf
 ("(%s)", 
g½
->
gr_Çme
);

387 
	`ä“
 (
groups
);

392 ià(
cÚ‹xt
)

393 
	`´štf
 (
	`_
(" cÚ‹xt=%s"), 
cÚ‹xt
);

394 
	}
}

	@install.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<sigÇl.h
>

24 
	~<pwd.h
>

25 
	~<g½.h
>

26 
	~<£lšux/£lšux.h
>

27 
	~<sys/wa™.h
>

29 
	~"sy¡em.h
"

30 
	~"backupfe.h
"

31 
	~"”rÜ.h
"

32 
	~"ı-hash.h
"

33 
	~"cİy.h
"

34 
	~"f’ameÿt.h
"

35 
	~"fuÎ-»ad.h
"

36 
	~"mkªûsdœs.h
"

37 
	~"mkdœ-p.h
"

38 
	~"modechªge.h
"

39 
	~"´og-årštf.h
"

40 
	~"quÙe.h
"

41 
	~"quÙ—rg.h
"

42 
	~"§vewd.h
"

43 
	~"¡©-time.h
"

44 
	~"utim’s.h
"

45 
	~"x¡¹Ş.h
"

48 
	#PROGRAM_NAME
 "š¡®l"

	)

50 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

52 
	g£lšux_’abËd
 = 0;

53 
boŞ
 
	gu£_deçuÉ_£lšux_cÚ‹xt
 = 
Œue
;

55 #ià! 
HAVE_ENDGRENT


56 
	#’dg»Á
(è((è0)

	)

59 #ià! 
HAVE_ENDPWENT


60 
	#’dpw’t
(è((è0)

	)

63 #ià! 
HAVE_LCHOWN


64 
	#lchown
(
Çme
, 
uid
, 
gid
è
	`chown
 (Çme, uid, gid)

	)

67 #ià! 
HAVE_MATCHPATHCON_INIT_PREFIX


68 
	#m©ch·thcÚ_š™_´efix
(
a
, 
p
è

	)

73 *
	gowÃr_Çme
;

76 
uid_t
 
	gowÃr_id
;

80 *
	ggroup_Çme
;

83 
gid_t
 
	ggroup_id
;

85 
	#DEFAULT_MODE
 (
S_IRWXU
 | 
S_IRGRP
 | 
S_IXGRP
 | 
S_IROTH
 | 
S_IXOTH
)

	)

89 
mode_t
 
	gmode
 = 
DEFAULT_MODE
;

92 
mode_t
 
	gdœ_mode
 = 
DEFAULT_MODE
;

98 
mode_t
 
	gdœ_mode_b™s
 = 
CHMOD_MODE_BITS
;

101 
boŞ
 
	gcİy_Úly_if_Ãeded
;

104 
boŞ
 
	g¡r_fes
;

107 
boŞ
 
	gdœ_¬g
;

110 cÚ¡ *
	g¡r_´og¿m
 = "strip";

116 
	mPRESERVE_CONTEXT_OPTION
 = 
CHAR_MAX
 + 1,

117 
	mSTRIP_PROGRAM_OPTION


120 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

122 {"backup", 
İtiÚ®_¬gum’t
, 
NULL
, 'b'},

123 {"com·»", 
no_¬gum’t
, 
NULL
, 'C'},

124 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

125 {"dœeùÜy", 
no_¬gum’t
, 
NULL
, 'd'},

126 {"group", 
»quœed_¬gum’t
, 
NULL
, 'g'},

127 {"mode", 
»quœed_¬gum’t
, 
NULL
, 'm'},

128 {"no-rg‘-dœeùÜy", 
no_¬gum’t
, 
NULL
, 'T'},

129 {"owÃr", 
»quœed_¬gum’t
, 
NULL
, 'o'},

130 {"´e£rve-time¡amps", 
no_¬gum’t
, 
NULL
, 'p'},

131 {"´e£rve-cÚ‹xt", 
no_¬gum’t
, 
NULL
, 
PRESERVE_CONTEXT_OPTION
},

132 {"¡r", 
no_¬gum’t
, 
NULL
, 's'},

133 {"¡r-´og¿m", 
»quœed_¬gum’t
, 
NULL
, 
STRIP_PROGRAM_OPTION
},

134 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 'S'},

135 {"rg‘-dœeùÜy", 
»quœed_¬gum’t
, 
NULL
, 't'},

136 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

137 {
GETOPT_HELP_OPTION_DECL
},

138 {
GETOPT_VERSION_OPTION_DECL
},

139 {
NULL
, 0, NULL, 0}

144 
boŞ


145 
	$have_§me_cÚ‹Á
 (
a_fd
, 
b_fd
)

147 ’um { 
CMP_BLOCK_SIZE
 = 4096 };

148 
a_buff
[
CMP_BLOCK_SIZE
];

149 
b_buff
[
CMP_BLOCK_SIZE
];

151 
size_t
 
size
;

152 0 < (
size
 = 
	`fuÎ_»ad
 (
a_fd
, 
a_buff
, ‡_buff))) {

153 ià(
size
 !ğ
	`fuÎ_»ad
 (
b_fd
, 
b_buff
,  b_buff))

154  
çl£
;

156 ià(
	`memcmp
 (
a_buff
, 
b_buff
, 
size
) != 0)

157  
çl£
;

160  
size
 == 0;

161 
	}
}

164 
boŞ


165 
	$exŒa_mode
 (
mode_t
 
šput
)

167 
mode_t
 
mask
 = 
S_IRWXUGO
 | 
S_IFMT
;

168  !! (
šput
 & ~ 
mask
);

169 
	}
}

172 
boŞ


173 
	$Ãed_cİy
 (cÚ¡ *
¤c_Çme
, cÚ¡ *
de¡_Çme
,

174 cÚ¡ 
ı_İtiÚs
 *
x
)

176 
¡©
 
¤c_sb
, 
de¡_sb
;

177 
¤c_fd
, 
de¡_fd
;

178 
boŞ
 
cÚ‹Á_m©ch
;

180 ià(
	`exŒa_mode
 (
mode
))

181  
Œue
;

184 ià(
	`l¡©
 (
¤c_Çme
, &
¤c_sb
) != 0)

185  
Œue
;

187 ià(
	`l¡©
 (
de¡_Çme
, &
de¡_sb
) != 0)

188  
Œue
;

190 ià(!
	`S_ISREG
 (
¤c_sb
.
¡_mode
è|| !S_ISREG (
de¡_sb
.st_mode)

191 || 
	`exŒa_mode
 (
¤c_sb
.
¡_mode
è||ƒxŒa_mod(
de¡_sb
.st_mode))

192  
Œue
;

194 ià(
¤c_sb
.
¡_size
 !ğ
de¡_sb
.st_size

195 || (
de¡_sb
.
¡_mode
 & 
CHMOD_MODE_BITS
è!ğ
mode
)

196  
Œue
;

198 ià(
owÃr_id
 =ğ(
uid_t
) -1)

200 
”ºo
 = 0;

201 
uid_t
 
ruid
 = 
	`g‘uid
 ();

202 ià((
ruid
 =ğ(
uid_t
è-1 && 
”ºo
è|| 
de¡_sb
.
¡_uid
 !=„uid)

203  
Œue
;

205 ià(
de¡_sb
.
¡_uid
 !ğ
owÃr_id
)

206  
Œue
;

208 ià(
group_id
 =ğ(
uid_t
) -1)

210 
”ºo
 = 0;

211 
gid_t
 
rgid
 = 
	`g‘gid
 ();

212 ià((
rgid
 =ğ(
uid_t
è-1 && 
”ºo
è|| 
de¡_sb
.
¡_gid
 !=„gid)

213  
Œue
;

215 ià(
de¡_sb
.
¡_gid
 !ğ
group_id
)

216  
Œue
;

219 ià(
£lšux_’abËd
 && 
x
->
´e£rve_£cur™y_cÚ‹xt
)

221 
£cur™y_cÚ‹xt_t
 
fe_scÚ‹xt
 = 
NULL
;

222 
£cur™y_cÚ‹xt_t
 
to_scÚ‹xt
 = 
NULL
;

223 
boŞ
 
scÚ‹xt_m©ch
;

225 ià(
	`g‘fecÚ
 (
¤c_Çme
, &
fe_scÚ‹xt
) == -1)

226  
Œue
;

228 ià(
	`g‘fecÚ
 (
de¡_Çme
, &
to_scÚ‹xt
) == -1)

230 
	`ä“cÚ
 (
fe_scÚ‹xt
);

231  
Œue
;

234 
scÚ‹xt_m©ch
 = 
	`STREQ
 (
fe_scÚ‹xt
, 
to_scÚ‹xt
);

236 
	`ä“cÚ
 (
fe_scÚ‹xt
);

237 
	`ä“cÚ
 (
to_scÚ‹xt
);

238 ià(!
scÚ‹xt_m©ch
)

239  
Œue
;

243 
¤c_fd
 = 
	`İ’
 (
¤c_Çme
, 
O_RDONLY
 | 
O_BINARY
);

244 ià(
¤c_fd
 < 0)

245  
Œue
;

247 
de¡_fd
 = 
	`İ’
 (
de¡_Çme
, 
O_RDONLY
 | 
O_BINARY
);

248 ià(
de¡_fd
 < 0)

250 
	`şo£
 (
¤c_fd
);

251  
Œue
;

254 
cÚ‹Á_m©ch
 = 
	`have_§me_cÚ‹Á
 (
¤c_fd
, 
de¡_fd
);

256 
	`şo£
 (
¤c_fd
);

257 
	`şo£
 (
de¡_fd
);

258  !
cÚ‹Á_m©ch
;

259 
	}
}

262 
	$ı_İtiÚ_š™
 (
ı_İtiÚs
 *
x
)

264 
	`ı_İtiÚs_deçuÉ
 (
x
);

265 
x
->
cİy_as_»guÏr
 = 
Œue
;

266 
x
->
»æšk_mode
 = 
REFLINK_NEVER
;

267 
x
->
d”eã»nû
 = 
DEREF_ALWAYS
;

268 
x
->
uÆšk_de¡_befÜe_İ’šg
 = 
Œue
;

269 
x
->
uÆšk_de¡_aá”_çed_İ’
 = 
çl£
;

270 
x
->
h¬d_lšk
 = 
çl£
;

271 
x
->
š‹¿ùive
 = 
I_UNSPECIFIED
;

272 
x
->
move_mode
 = 
çl£
;

273 
x
->
Úe_fe_sy¡em
 = 
çl£
;

274 
x
->
´e£rve_owÃrsh
 = 
çl£
;

275 
x
->
´e£rve_lšks
 = 
çl£
;

276 
x
->
´e£rve_mode
 = 
çl£
;

277 
x
->
´e£rve_time¡amps
 = 
çl£
;

278 
x
->
ex¶ic™_no_´e£rve_mode
 = 
çl£
;

279 
x
->
»duû_dŸgno¡ics
=
çl£
;

280 
x
->
d©a_cİy_»quœed
 = 
Œue
;

281 
x
->
»quœe_´e£rve
 = 
çl£
;

282 
x
->
»quœe_´e£rve_cÚ‹xt
 = 
çl£
;

283 
x
->
»quœe_´e£rve_x©Œ
 = 
çl£
;

284 
x
->
»cursive
 = 
çl£
;

285 
x
->
¥¬£_mode
 = 
SPARSE_AUTO
;

286 
x
->
symbŞic_lšk
 = 
çl£
;

287 
x
->
backup_ty³
 = 
no_backups
;

292 
x
->
£t_mode
 = 
Œue
;

293 
x
->
mode
 = 
S_IRUSR
 | 
S_IWUSR
;

294 
x
->
¡dš_‰y
 = 
çl£
;

296 
x
->
İ’_dªglšg_de¡_symlšk
 = 
çl£
;

297 
x
->
upd©e
 = 
çl£
;

298 
x
->
´e£rve_£cur™y_cÚ‹xt
 = 
çl£
;

299 
x
->
´e£rve_x©Œ
 = 
çl£
;

300 
x
->
v”bo£
 = 
çl£
;

301 
x
->
de¡_šfo
 = 
NULL
;

302 
x
->
¤c_šfo
 = 
NULL
;

303 
	}
}

305 #ifdeà
ENABLE_MATCHPATHCON


310 
	$£tdeçuÉfecÚ
 (cÚ¡ *
fe
)

312 
¡©
 
¡
;

313 
£cur™y_cÚ‹xt_t
 
scÚ‹xt
 = 
NULL
;

314 
boŞ
 
fœ¡_ÿÎ
 = 
Œue
;

316 ià(
£lšux_’abËd
 != 1)

321 ià(
	`l¡©
 (
fe
, &
¡
) != 0)

324 ià(
fœ¡_ÿÎ
 && 
	`IS_ABSOLUTE_FILE_NAME
 (
fe
))

333 cÚ¡ *
p0
;

334 cÚ¡ *
p
 = 
fe
 + 1;

335 
	`ISSLASH
 (*
p
))

336 ++
p
;

339 
p0
 = 
p
 - 1;

341 ià(*
p
)

343 *
´efix
;

346 ++
p
;

348 *
p
 && !
	`ISSLASH
 (*p));

350 
´efix
 = 
	`m®loc
 (
p
 - 
p0
 + 2);

351 ià(
´efix
)

353 
	`¡pıy
 (
	`¡²ıy
 (
´efix
, 
p0
, 
p
 -…0), "/");

354 
	`m©ch·thcÚ_š™_´efix
 (
NULL
, 
´efix
);

355 
	`ä“
 (
´efix
);

359 
fœ¡_ÿÎ
 = 
çl£
;

363 ià((
	`m©ch·thcÚ
 (
fe
, 
¡
.
¡_mode
, &
scÚ‹xt
) != 0)

364 || 
	`STREQ
 (
scÚ‹xt
, "<<none>>"))

366 ià(
scÚ‹xt
 !ğ
NULL
)

367 
	`ä“cÚ
 (
scÚ‹xt
);

371 ià(
	`l£tfecÚ
 (
fe
, 
scÚ‹xt
è< 0 && 
”ºo
 !ğ
ENOTSUP
)

372 
	`”rÜ
 (0, 
”ºo
,

373 
	`_
("warning: %s: failedo change contexto %s"),

374 
	`quÙ—rg_cŞÚ
 (
fe
), 
scÚ‹xt
);

376 
	`ä“cÚ
 (
scÚ‹xt
);

378 
	}
}

381 
	$£tdeçuÉfecÚ
 (cÚ¡ *
fe
)

383 (è
fe
;

384 
	}
}

392 
boŞ


393 
	$rg‘_dœeùÜy_İ”ªd
 (cÚ¡ *
fe
)

395 cÚ¡ *
b
 = 
	`Ï¡_compÚ’t
 (
fe
);

396 
size_t
 
bËn
 = 
	`¡¾’
 (
b
);

397 
boŞ
 
looks_like_a_dœ
 = (
bËn
 =ğ0 || 
	`ISSLASH
 (
b
[blen - 1]));

398 
¡©
 
¡
;

399 
”r
 = (
	`¡©
 (
fe
, &
¡
è=ğ0 ? 0 : 
”ºo
);

400 
boŞ
 
is_a_dœ
 = !
”r
 && 
	`S_ISDIR
 (
¡
.
¡_mode
);

401 ià(
”r
 &&ƒ¼ !ğ
ENOENT
)

402 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
fe
));

403 ià(
is_a_dœ
 < 
looks_like_a_dœ
)

404 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("rg‘ % i nÙ‡ dœeùÜy"), 
	`quÙe
 (
fe
));

405  
is_a_dœ
;

406 
	}
}

410 
	$ªnounû_mkdœ
 (cÚ¡ *
dœ
, *
İtiÚs
)

412 
ı_İtiÚs
 cÚ¡ *
x
 = 
İtiÚs
;

413 ià(
x
->
v”bo£
)

414 
	`´og_årštf
 (
¡dout
, 
	`_
("ü—tšg dœeùÜy %s"), 
	`quÙe
 (
dœ
));

415 
	}
}

421 
	$make_ªû¡Ü
 (cÚ¡ *
dœ
, cÚ¡ *
compÚ’t
, *
İtiÚs
)

423 
r
 = 
	`mkdœ
 (
compÚ’t
, 
DEFAULT_MODE
);

424 ià(
r
 == 0)

425 
	`ªnounû_mkdœ
 (
dœ
, 
İtiÚs
);

426  
r
;

427 
	}
}

431 
	$´oûss_dœ
 (*
dœ
, 
§vewd
 *
wd
, *
İtiÚs
)

433  (
	`make_dœ_·»Ás
 (
dœ
, 
wd
,

434 
make_ªû¡Ü
, 
İtiÚs
,

435 
dœ_mode
, 
ªnounû_mkdœ
,

436 
dœ_mode_b™s
, 
owÃr_id
, 
group_id
, 
çl£
)

437 ? 
EXIT_SUCCESS


438 : 
EXIT_FAILURE
);

439 
	}
}

444 
boŞ


445 
	$cİy_fe
 (cÚ¡ *
äom
, cÚ¡ *
to
, cÚ¡ 
ı_İtiÚs
 *
x
)

447 
boŞ
 
cİy_što_£lf
;

449 ià(
cİy_Úly_if_Ãeded
 && !
	`Ãed_cİy
 (
äom
, 
to
, 
x
))

450  
Œue
;

458  
	`cİy
 (
äom
, 
to
, 
çl£
, 
x
, &
cİy_što_£lf
, 
NULL
);

459 
	}
}

464 
boŞ


465 
	$chªge_©Œibu‹s
 (cÚ¡ *
Çme
)

467 
boŞ
 
ok
 = 
çl£
;

480 ià(! (
owÃr_id
 =ğ(
uid_t
è-1 && 
group_id
 =ğ(
gid_t
) -1)

481 && 
	`lchown
 (
Çme
, 
owÃr_id
, 
group_id
) != 0)

482 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ chªgowÃrsh oà%s"), 
	`quÙe
 (
Çme
));

483 ià(
	`chmod
 (
Çme
, 
mode
) != 0)

484 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ chªg³rmissiÚ oà%s"), 
	`quÙe
 (
Çme
));

486 
ok
 = 
Œue
;

488 ià(
u£_deçuÉ_£lšux_cÚ‹xt
)

489 
	`£tdeçuÉfecÚ
 (
Çme
);

491  
ok
;

492 
	}
}

497 
boŞ


498 
	$chªge_time¡amps
 (
¡©
 cÚ¡ *
¤c_sb
, cÚ¡ *
de¡
)

500 
time¥ec
imespec[2];

501 
time¥ec
[0] = 
	`g‘_¡©_©ime
 (
¤c_sb
);

502 
time¥ec
[1] = 
	`g‘_¡©_mtime
 (
¤c_sb
);

504 ià(
	`utim’s
 (
de¡
, 
time¥ec
))

506 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ s‘im¡amp fÜ %s"), 
	`quÙe
 (
de¡
));

507  
çl£
;

509  
Œue
;

510 
	}
}

519 
	$¡r
 (cÚ¡ *
Çme
)

521 
¡©us
;

522 
pid_t
 
pid
 = 
	`fÜk
 ();

524 
pid
)

527 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("fork system call failed"));

530 
	`exeşp
 (
¡r_´og¿m
, sŒ_´og¿m, 
Çme
, 
NULL
);

531 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ„uÀ%s"), 
¡r_´og¿m
);

534 ià(
	`wa™pid
 (
pid
, &
¡©us
, 0) < 0)

535 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("waiting for strip"));

536 ià(! 
	`WIFEXITED
 (
¡©us
è|| 
	`WEXITSTATUS
 (status))

537 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("strip…rocesserminated‡bnormally"));

540 
	}
}

545 
	$g‘_ids
 ()

547 
·sswd
 *
pw
;

548 
group
 *
gr
;

550 ià(
owÃr_Çme
)

552 
pw
 = 
	`g‘pwÇm
 (
owÃr_Çme
);

553 ià(
pw
 =ğ
NULL
)

555 
tmp
;

556 ià(
	`x¡¹oul
 (
owÃr_Çme
, 
NULL
, 0, &
tmp
, NULLè!ğ
LONGINT_OK


557 || 
UID_T_MAX
 < 
tmp
)

558 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id u£¸%s"), 
	`quÙe
 (
owÃr_Çme
));

559 
owÃr_id
 = 
tmp
;

562 
owÃr_id
 = 
pw
->
pw_uid
;

563 
	`’dpw’t
 ();

566 
owÃr_id
 = (
uid_t
) -1;

568 ià(
group_Çme
)

570 
gr
 = 
	`g‘gºam
 (
group_Çme
);

571 ià(
gr
 =ğ
NULL
)

573 
tmp
;

574 ià(
	`x¡¹oul
 (
group_Çme
, 
NULL
, 0, &
tmp
, NULLè!ğ
LONGINT_OK


575 || 
GID_T_MAX
 < 
tmp
)

576 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id grou°%s"), 
	`quÙe
 (
group_Çme
));

577 
group_id
 = 
tmp
;

580 
group_id
 = 
gr
->
gr_gid
;

581 
	`’dg»Á
 ();

584 
group_id
 = (
gid_t
) -1;

585 
	}
}

588 
	$u§ge
 (
¡©us
)

590 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

591 
	`em™_Œy_h–p
 ();

594 
	`´štf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
: %s [OPTION]... -d DIRECTORY...\n\
"),

600 
´og¿m_Çme
,…rogram_name,…rogram_name,…rogram_name);

601 
	`åuts
 (
	`_
("\
\n\
 in¡®È´og¿m cİ› fe (oá’ ju¡ compedèštØde¡š©iÚ\n\
 you choo£. Iàyou wªˆtØdowÆßd‡nd in¡®È¨»ady-to-u£\n\
 oÀ¨GNU/Lšux sy¡em, you should in¡—d busšg‡…ackagmªag”\n\
 yum(1èÜ‡±-g‘(1).\n\
\n\
hfœ¡h»fÜms, cİy SOURCEØDEST o¸muÉË SOURCE(sèto\n\
ƒxi¡šg DIRECTORY, wh£‰šg…”missiÚ mode ªd owÃr/group.\n\
h4th fÜm, c»©®ÈcompÚ’t oàthgiv’ DIRECTORY(›s).\n\
"), 
¡dout
);

613 
	`em™_mªd©Üy_¬g_nÙe
 ();

615 
	`åuts
 (
	`_
("\
--backup[=CONTROL] mak¨backu°oà—chƒxi¡šg de¡š©iÚ fe\n\
-b†ik--backu°buˆdÛ nÙ‡cû±‡À¬gum’t\n\
-ø (ignÜed)\n\
-C, --com·» com·»ƒach…aœ oàsourû‡nd de¡š©iÚ fes,‡nd\n\
 somÿ£s, dØnÙ modifyhde¡š©iÚ‡ˆ®l\n\
-d, --dœeùÜy»©‡Î‡rgum’t a dœeùÜy‚ames; c»©®l\n\
 oàth¥ecif›d dœeùÜ›s\n\
"), 
¡dout
);

624 
	`åuts
 (
	`_
("\
-D c»©®ÈËadšg compÚ’t oàDESTƒxû±hÏ¡,\n\
 cİy SOURCEØDEST\n\
-g, --group=GROUP s‘ grou°owÃrsh, in¡—d oà´oûss' cu¼’ˆgroup\n\
-m, --mode=MODE s‘…”missiÚ mod× š chmod), in¡—d oàrwxr-xr-x\n\
-o, --owÃr=OWNER s‘ owÃrsh (su³r-u£¸Úly)\n\
"), 
¡dout
);

631 
	`åuts
 (
	`_
("\
-p, --´e£rve-time¡amp ‡µly‡cûss/modifiÿtiÚime oàSOURCE fes\n\
 cÜ»¥Údšg de¡š©iÚ fes\n\
-s, --¡r sŒ symbŞabËs\n\
--¡r-´og¿m=PROGRAM…rog¿m u£dØ¡r bš¬›s\n\
-S, --suffix=SUFFIX ov”ridthusu® backu°suffix\n\
-t, --rg‘-dœeùÜy=DIRECTORY cİy‡Î SOURCE‡rgum’t štØDIRECTORY\n\
-T, --no-rg‘-dœeùÜy»© DEST‡ ¨nÜm® fe\n\
-v, --v”bo£…ršˆthÇmoà—ch dœeùÜy‡ ™ i ü—‹d\n\
"), 
¡dout
);

641 
	`åuts
 (
	`_
("\
--´e£rve-cÚ‹xˆ…»£rvSELšux secur™y cÚ‹xt\n\
-Z, --cÚ‹xt=CONTEXT s‘ SELšux secur™y cÚ‹xˆoàfe ªd dœeùÜ›s\
\n\
"), 
¡dout
);

647 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

648 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

649 
	`åuts
 (
	`_
("\
\n\
 backu°suffix i '~', uÆes £ˆw™h --suffix o¸SIMPLE_BACKUP_SUFFIX.\n\
 v”siÚ cÚŒŞ m‘hod may b£Ëùed vŸh--backu°İtiÚ o¸through\n\
 VERSION_CONTROLƒnvœÚm’ˆv¬ŸbË. H”¬thv®ues:\n\
\n\
"), 
¡dout
);

656 
	`åuts
 (
	`_
("\
, ofà‚ev” makbackup Óv’ ià--backu°i giv’)\n\
, maknumb”ed backups\n\
,‚‚umb”ed iànumb”ed backup exi¡, sim¶Ùh”wi£\n\
,‚ev”‡lway maksim¶backups\n\
"), 
¡dout
);

662 
	`em™_ªcÏry_šfo
 ();

664 
	`ex™
 (
¡©us
);

665 
	}
}

671 
boŞ


672 
	$š¡®l_fe_š_fe
 (cÚ¡ *
äom
, cÚ¡ *
to
,

673 cÚ¡ 
ı_İtiÚs
 *
x
)

675 
¡©
 
äom_sb
;

676 ià(
x
->
´e£rve_time¡amps
 && 
	`¡©
 (
äom
, &
äom_sb
) != 0)

678 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
äom
));

679  
çl£
;

681 ià(! 
	`cİy_fe
 (
äom
, 
to
, 
x
))

682  
çl£
;

683 ià(
¡r_fes
)

684 
	`¡r
 (
to
);

685 ià(
x
->
´e£rve_time¡amps
 && (
¡r_fes
 || ! 
	`S_ISREG
 (
äom_sb
.
¡_mode
))

686 && ! 
	`chªge_time¡amps
 (&
äom_sb
, 
to
))

687  
çl£
;

688  
	`chªge_©Œibu‹s
 (
to
);

689 
	}
}

694 
boŞ


695 
	$š¡®l_fe_š_fe_·»Ás
 (cÚ¡ *
äom
, *
to
,

696 
ı_İtiÚs
 *
x
)

698 
boŞ
 
§ve_wÜkšg_dœeùÜy
 =

699 ! (
	`IS_ABSOLUTE_FILE_NAME
 (
äom
è&& IS_ABSOLUTE_FILE_NAME (
to
));

700 
¡©us
 = 
EXIT_SUCCESS
;

702 
§vewd
 
wd
;

703 
	`§vewd_š™
 (&
wd
);

704 ià(! 
§ve_wÜkšg_dœeùÜy
)

705 
	`§vewd_fšish
 (&
wd
);

707 ià(
	`mkªûsdœs
 (
to
, &
wd
, 
make_ªû¡Ü
, 
x
) == -1)

709 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ c»©dœeùÜy %s"), 
to
);

710 
¡©us
 = 
EXIT_FAILURE
;

713 ià(
§ve_wÜkšg_dœeùÜy
)

715 
»¡Üe_»suÉ
 = 
	`§vewd_»¡Üe
 (&
wd
, 
¡©us
);

716 
»¡Üe_”ºo
 = 
”ºo
;

717 
	`§vewd_fšish
 (&
wd
);

718 ià(
EXIT_SUCCESS
 < 
»¡Üe_»suÉ
)

719  
çl£
;

720 ià(
»¡Üe_»suÉ
 < 0 && 
¡©us
 =ğ
EXIT_SUCCESS
)

722 
	`”rÜ
 (0, 
»¡Üe_”ºo
, 
	`_
("ÿÂÙ c»©dœeùÜy %s"), 
to
);

723  
çl£
;

727  (
¡©us
 =ğ
EXIT_SUCCESS
 && 
	`š¡®l_fe_š_fe
 (
äom
, 
to
, 
x
));

728 
	}
}

734 
boŞ


735 
	$š¡®l_fe_š_dœ
 (cÚ¡ *
äom
, cÚ¡ *
to_dœ
,

736 cÚ¡ 
ı_İtiÚs
 *
x
)

738 cÚ¡ *
äom_ba£
 = 
	`Ï¡_compÚ’t
 (
äom
);

739 *
to
 = 
	`fe_Çme_cÚÿt
 (
to_dœ
, 
äom_ba£
, 
NULL
);

740 
boŞ
 
»t
 = 
	`š¡®l_fe_š_fe
 (
äom
, 
to
, 
x
);

741 
	`ä“
 (
to
);

742  
»t
;

743 
	}
}

746 
	$maš
 (
¬gc
, **
¬gv
)

748 
İtc
;

749 
ex™_¡©us
 = 
EXIT_SUCCESS
;

750 cÚ¡ *
¥ecif›d_mode
 = 
NULL
;

751 
boŞ
 
make_backups
 = 
çl£
;

752 *
backup_suffix_¡ršg
;

753 *
v”siÚ_cÚŒŞ_¡ršg
 = 
NULL
;

754 
boŞ
 
mkdœ_ªd_š¡®l
 = 
çl£
;

755 
ı_İtiÚs
 
x
;

756 cÚ¡ *
rg‘_dœeùÜy
 = 
NULL
;

757 
boŞ
 
no_rg‘_dœeùÜy
 = 
çl£
;

758 
n_fes
;

759 **
fe
;

760 
boŞ
 
¡r_´og¿m_¥ecif›d
 = 
çl£
;

761 
£cur™y_cÚ‹xt_t
 
scÚ‹xt
 = 
NULL
;

763 
£lšux_’abËd
 = (0 < 
	`is_£lšux_’abËd
 ());

765 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

766 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

767 
	`£oÿË
 (
LC_ALL
, "");

768 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

769 
	`‹xtdomaš
 (
PACKAGE
);

771 
	`©ex™
 (
şo£_¡dš
);

773 
	`ı_İtiÚ_š™
 (&
x
);

775 
owÃr_Çme
 = 
NULL
;

776 
group_Çme
 = 
NULL
;

777 
¡r_fes
 = 
çl£
;

778 
dœ_¬g
 = 
çl£
;

779 
	`umask
 (0);

783 
backup_suffix_¡ršg
 = 
	`g‘’v
 ("SIMPLE_BACKUP_SUFFIX");

785 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "bcCsDdg:m:o:±:TvS:Z:", 
lÚg_İtiÚs
,

786 
NULL
)) != -1)

788 
İtc
)

791 
make_backups
 = 
Œue
;

792 ià(
İrg
)

793 
v”siÚ_cÚŒŞ_¡ršg
 = 
İrg
;

798 
cİy_Úly_if_Ãeded
 = 
Œue
;

801 
¡r_fes
 = 
Œue
;

802 #ifdeà
SIGCHLD


804 
	`sigÇl
 (
SIGCHLD
, 
SIG_DFL
);

807 
STRIP_PROGRAM_OPTION
:

808 
¡r_´og¿m
 = 
	`x¡rdup
 (
İrg
);

809 
¡r_´og¿m_¥ecif›d
 = 
Œue
;

812 
dœ_¬g
 = 
Œue
;

815 
mkdœ_ªd_š¡®l
 = 
Œue
;

818 
x
.
v”bo£
 = 
Œue
;

821 
group_Çme
 = 
İrg
;

824 
¥ecif›d_mode
 = 
İrg
;

827 
owÃr_Çme
 = 
İrg
;

830 
x
.
´e£rve_time¡amps
 = 
Œue
;

833 
make_backups
 = 
Œue
;

834 
backup_suffix_¡ršg
 = 
İrg
;

837 ià(
rg‘_dœeùÜy
)

838 
	`”rÜ
 (
EXIT_FAILURE
, 0,

839 
	`_
("multiplearget directories specified"));

842 
¡©
 
¡
;

843 ià(
	`¡©
 (
İrg
, &
¡
) != 0)

844 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo‡ccess %s"),

845 
	`quÙe
 (
İrg
));

846 ià(! 
	`S_ISDIR
 (
¡
.
¡_mode
))

847 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

848 
	`quÙe
 (
İrg
));

850 
rg‘_dœeùÜy
 = 
İrg
;

853 
no_rg‘_dœeùÜy
 = 
Œue
;

856 
PRESERVE_CONTEXT_OPTION
:

857 iàĞ! 
£lšux_’abËd
)

859 
	`”rÜ
 (0, 0, 
	`_
("WARNING: ignoring --preserve-context; "

863 
x
.
´e£rve_£cur™y_cÚ‹xt
 = 
Œue
;

864 
u£_deçuÉ_£lšux_cÚ‹xt
 = 
çl£
;

867 iàĞ! 
£lšux_’abËd
)

869 
	`”rÜ
 (0, 0, 
	`_
("WARNING: ignoring --context (-Z); "

873 
scÚ‹xt
 = 
İrg
;

874 
u£_deçuÉ_£lšux_cÚ‹xt
 = 
çl£
;

876 
ÿ£_GETOPT_HELP_CHAR
;

877 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

879 
	`u§ge
 (
EXIT_FAILURE
);

884 ià(
dœ_¬g
 && 
¡r_fes
)

885 
	`”rÜ
 (
EXIT_FAILURE
, 0,

886 
	`_
("the strip option may‚ot be used when installing‡ directory"));

887 ià(
dœ_¬g
 && 
rg‘_dœeùÜy
)

888 
	`”rÜ
 (
EXIT_FAILURE
, 0,

889 
	`_
("target directory‚ot‡llowed when installing‡ directory"));

891 ià(
x
.
´e£rve_£cur™y_cÚ‹xt
 && 
scÚ‹xt
 !ğ
NULL
)

892 
	`”rÜ
 (
EXIT_FAILURE
, 0,

893 
	`_
("cannot forcearget contexto %s‡nd…reserve it"),

894 
	`quÙe
 (
scÚ‹xt
));

896 ià(
backup_suffix_¡ršg
)

897 
sim¶e_backup_suffix
 = 
	`x¡rdup
 (
backup_suffix_¡ršg
);

899 
x
.
backup_ty³
 = (
make_backups


900 ? 
	`xg‘_v”siÚ
 (
	`_
("backupype"),

901 
v”siÚ_cÚŒŞ_¡ršg
)

902 : 
no_backups
);

904 ià(
scÚ‹xt
 && 
	`£tfsü—‹cÚ
 (scontext) < 0)

905 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

906 
	`_
("failedo set default file creation contexto %s"),

907 
	`quÙe
 (
scÚ‹xt
));

909 
n_fes
 = 
¬gc
 - 
İtšd
;

910 
fe
 = 
¬gv
 + 
İtšd
;

912 ià(
n_fes
 <ğ! (
dœ_¬g
 || 
rg‘_dœeùÜy
))

914 ià(
n_fes
 <= 0)

915 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

917 
	`”rÜ
 (0, 0, 
	`_
("missing destination file operand‡fter %s"),

918 
	`quÙe
 (
fe
[0]));

919 
	`u§ge
 (
EXIT_FAILURE
);

922 ià(
no_rg‘_dœeùÜy
)

924 ià(
rg‘_dœeùÜy
)

925 
	`”rÜ
 (
EXIT_FAILURE
, 0,

926 
	`_
("cannot combine --target-directory (-t) "

928 ià(2 < 
n_fes
)

930 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
fe
[2]));

931 
	`u§ge
 (
EXIT_FAILURE
);

934 ià(! (
dœ_¬g
 || 
rg‘_dœeùÜy
))

936 ià(2 <ğ
n_fes
 && 
	`rg‘_dœeùÜy_İ”ªd
 (
fe
[n_files - 1]))

937 
rg‘_dœeùÜy
 = 
fe
[--
n_fes
];

938 ià(2 < 
n_fes
)

939 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

940 
	`quÙe
 (
fe
[
n_fes
 - 1]));

943 ià(
¥ecif›d_mode
)

945 
mode_chªge
 *
chªge
 = 
	`mode_compe
 (
¥ecif›d_mode
);

946 ià(!
chªge
)

947 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id mod%s"), 
	`quÙe
 (
¥ecif›d_mode
));

948 
mode
 = 
	`mode_adju¡
 (0, 
çl£
, 0, 
chªge
, 
NULL
);

949 
dœ_mode
 = 
	`mode_adju¡
 (0, 
Œue
, 0, 
chªge
, &
dœ_mode_b™s
);

950 
	`ä“
 (
chªge
);

953 ià(
¡r_´og¿m_¥ecif›d
 && !
¡r_fes
)

954 
	`”rÜ
 (0, 0, 
	`_
("WARNING: ignoring --strip-program option‡s -s option was "

957 ià(
cİy_Úly_if_Ãeded
 && 
x
.
´e£rve_time¡amps
)

959 
	`”rÜ
 (0, 0, 
	`_
("options --compare (-C)‡nd --preserve-timestamps‡re "

961 
	`u§ge
 (
EXIT_FAILURE
);

964 ià(
cİy_Úly_if_Ãeded
 && 
¡r_fes
)

966 
	`”rÜ
 (0, 0, 
	`_
("options --compare (-C)‡nd --strip‡re mutually "

968 
	`u§ge
 (
EXIT_FAILURE
);

971 ià(
cİy_Úly_if_Ãeded
 && 
	`exŒa_mode
 (
mode
))

972 
	`”rÜ
 (0, 0, 
	`_
("the --compare (-C) option is ignored when you"

975 
	`g‘_ids
 ();

977 ià(
dœ_¬g
)

978 
ex™_¡©us
 = 
	`§vewd_´oûss_fes
 (
n_fes
, 
fe
, 
´oûss_dœ
, &
x
);

983 
	`hash_š™
 ();

985 ià(!
rg‘_dœeùÜy
)

987 ià(! (
mkdœ_ªd_š¡®l


988 ? 
	`š¡®l_fe_š_fe_·»Ás
 (
fe
[0], fe[1], &
x
)

989 : 
	`š¡®l_fe_š_fe
 (
fe
[0], fe[1], &
x
)))

990 
ex™_¡©us
 = 
EXIT_FAILURE
;

994 
i
;

995 
	`de¡_šfo_š™
 (&
x
);

996 
i
 = 0; i < 
n_fes
; i++)

997 ià(! 
	`š¡®l_fe_š_dœ
 (
fe
[
i
], 
rg‘_dœeùÜy
, &
x
))

998 
ex™_¡©us
 = 
EXIT_FAILURE
;

1002 
	`ex™
 (
ex™_¡©us
);

1003 
	}
}

	@ioblksize.h

20 
	~"¡©-size.h
"

67 ’um { 
	mIO_BUFSIZE
 = 64*1024 };

68 
šlše
 
size_t


69 
	$io_blksize
 (
¡©
 
sb
)

71  
	`MAX
 (
IO_BUFSIZE
, 
	`ST_BLKSIZE
 (
sb
));

72 
	}
}

	@join.c

19 
	~<cÚfig.h
>

21 
	~<as£¹.h
>

22 
	~<sys/ty³s.h
>

23 
	~<g‘İt.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"çdvi£.h
"

28 
	~"h¬d-loÿË.h
"

29 
	~"lšebufãr.h
"

30 
	~"memÿ£cmp.h
"

31 
	~"quÙe.h
"

32 
	~"¡dio--.h
"

33 
	~"xmemcŞl.h
"

34 
	~"x¡¹Ş.h
"

35 
	~"¬gm©ch.h
"

38 
	#PROGRAM_NAME
 "još"

	)

40 
	#AUTHORS
 
	`´İ”_Çme
 ("MikH«¹–")

	)

42 
	#još
 
sy¡em_još


	)

44 
	#SWAPLINES
(
a
, 
b
) do { \

45 
lše
 *
tmp
 = 
a
; \

46 
a
 = 
b
; \

47 
b
 = 
tmp
; \

48 } 0);

	)

52 
	soui¡


56 
	mfe
;

59 
size_t
 
	mf›ld
;

61 
oui¡
 *
	mÃxt
;

65 
	sf›ld


67 *
	mbeg
;

68 
size_t
 
	mËn
;

72 
	slše


74 
lšebufãr
 
	mbuf
;

75 
size_t
 
	mnf›lds
;

76 
size_t
 
	mnf›lds_®loÿ‹d
;

77 
f›ld
 *
	mf›lds
;

82 
	s£q


84 
size_t
 
	mcouÁ
;

85 
size_t
 
	m®loc
;

86 
lše
 **
	mlšes
;

90 
lše
 *
	g´evlše
[2] = {
NULL
, NULL};

93 
uštmax_t
 
	glše_no
[2] = {0, 0};

96 *
	gg_Çmes
[2];

101 
lše
 *
	g¥¬–še
[2] = {
NULL
, NULL};

104 
boŞ
 
	gh¬d_LC_COLLATE
;

107 
boŞ
 
	g´št_uÅaœabËs_1
, 
	g´št_uÅaœabËs_2
;

110 
boŞ
 
	g´št_·œabËs
;

113 
boŞ
 
	g£’_uÅaœabË
;

116 
boŞ
 
	gissued_disÜd”_w¬nšg
[2];

119 cÚ¡ *
	gem±y_fËr
;

122 
boŞ
 
	gautofÜm©
;

125 
size_t
 
	gautocouÁ_1
;

126 
size_t
 
	gautocouÁ_2
;

129 
size_t
 
	gjoš_f›ld_1
 = 
SIZE_MAX
;

130 
size_t
 
	gjoš_f›ld_2
 = 
SIZE_MAX
;

133 
oui¡
 
	goui¡_h—d
;

136 
oui¡
 *
	goui¡_’d
 = &
oui¡_h—d
;

141 
	gb
 = -1;

146 
	mCHECK_ORDER_DEFAULT
,

147 
	mCHECK_ORDER_ENABLED
,

148 
	mCHECK_ORDER_DISABLED


149 } 
	gcheck_šput_Üd”
;

153 
	mCHECK_ORDER_OPTION
 = 
CHAR_MAX
 + 1,

154 
	mNOCHECK_ORDER_OPTION
,

155 
	mHEADER_LINE_OPTION


159 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

161 {"ignÜe-ÿ£", 
no_¬gum’t
, 
NULL
, 'i'},

162 {"check-Üd”", 
no_¬gum’t
, 
NULL
, 
CHECK_ORDER_OPTION
},

163 {"nocheck-Üd”", 
no_¬gum’t
, 
NULL
, 
NOCHECK_ORDER_OPTION
},

164 {"h—d”", 
no_¬gum’t
, 
NULL
, 
HEADER_LINE_OPTION
},

165 {
GETOPT_HELP_OPTION_DECL
},

166 {
GETOPT_VERSION_OPTION_DECL
},

167 {
NULL
, 0, NULL, 0}

171 
lše
 
	guni_bÏnk
;

174 
boŞ
 
	gignÜe_ÿ£
;

178 
boŞ
 
	gjoš_h—d”_lšes
;

181 
	$u§ge
 (
¡©us
)

183 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

184 
	`em™_Œy_h–p
 ();

187 
	`´štf
 (
	`_
("\
: %s [OPTION]... FILE1 FILE2\n\
"),

190 
´og¿m_Çme
);

191 
	`åuts
 (
	`_
("\
ƒach…aœ oàšpuˆlše w™h id’tiÿÈjoš f›lds, wr™¨lšto\n\
 ouut. ThdeçuÉ još f›ld i thfœ¡, d–im™ed\n\
 wh™e¥aû. Wh’ FILE1 o¸FILE2 (nÙ bÙhèi -,„—d snd¬d iÅut.\n\
\n\
-¨FILENUM‡lsØ´šˆuÅaœabË†še äom fFILENUM, wh”e\n\
 i 1 o¸2, cÜ»¥ÚdšgØFILE1 o¸FILE2\n\
-EMPTY„•Ïû missšg iÅuˆf›ld w™h EMPTY\n\
"), 
¡dout
);

200 
	`åuts
 (
	`_
("\
-i, --ignÜe-ÿ£ ignÜdifã»nû š ca£ wh’ com·ršg f›lds\n\
-j FIELDƒquiv®’ˆtØ'-1 FIELD -2 FIELD'\n\
-ØFORMAT obey FORMAT whcÚ¡ruùšg ouuˆlše\n\
-ˆCHAR u£ CHAR‡ špuˆªd ouuˆf›ld s•¬©Ü\n\
"), 
¡dout
);

206 
	`åuts
 (
	`_
("\
-v FILENUM†ik-¨FILENUM, buˆsuµ»s jošed ouuˆlšes\n\
-1 FIELD još oÀthi FIELD oàf1\n\
-2 FIELD još oÀthi FIELD oàf2\n\
--check-Üd” checkh©hšpuˆi cÜ»ùly sÜ‹d,ƒv’\n\
‡Î iÅuˆlše ¬·œabË\n\
--nocheck-Üd” dØnÙ checkh©hšpuˆi cÜ»ùly sÜ‹d\n\
--h—d”»©hfœ¡†ššƒach fa f›ld h—d”s,\n\
hem w™houˆŒyšgØ·œhem\n\
"), 
¡dout
);

216 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

217 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

218 
	`åuts
 (
	`_
("\
\n\
 -ˆCHAR i giv’,†—dšg bÏnk £·¿‹ f›ld ªd‡» ignÜed,\n\
 f›ld ¬£·¿‹d by CHAR. Any FIELD i ¨f›ld‚umb” couÁed\n\
 1. FORMAT i ÚÜ mÜcomm¨Ü bÏnk s•¬©ed s³cifiÿtiÚs,\n\
 bešg 'FILENUM.FIELD' o¸'0'. DeçuÉ FORMAT ouut thjoš f›ld,\n\
„emaššg f›ld äom FILE1,h»maššg f›ld äom FILE2,‡Î\n\
 by CHAR. IàFORMAT i thkeywÜd 'auto',h’hfœ¡\n\
 oà—ch fd‘”mše thnumb” oàf›ld ouuˆfÜƒach†še.\n\
\n\
: FILE1‡nd FILE2 mu¡ bsÜ‹d oÀthjoš f›lds.\n\
.g., u£ \"sÜˆ-k 1b,1\" ià'još' ha nØİtiÚs,\n\
 u£ \"još -ˆ''\" ià'sÜt' ha nØİtiÚs.\n\
, com·risÚ hÚÜhruË ¥ecif›d by 'LC_COLLATE'.\n\
hšpuˆi nÙ sÜ‹d‡nd somlše ÿÂÙ bjošed,‡\n\
 mes§gwÈbgiv’.\n\
"), 
¡dout
);

235 
	`em™_ªcÏry_šfo
 ();

237 
	`ex™
 (
¡©us
);

238 
	}
}

243 
	$exŒaù_f›ld
 (
lše
 *lše, *
f›ld
, 
size_t
 
Ën
)

245 ià(
lše
->
nf›lds
 >ğlše->
nf›lds_®loÿ‹d
)

247 
lše
->
f›lds
 = 
	`X2NREALLOC
 (lše->f›lds, &lše->
nf›lds_®loÿ‹d
);

249 
lše
->
f›lds
[lše->
nf›lds
].
beg
 = 
f›ld
;

250 
lše
->
f›lds
[lše->
nf›lds
].
Ën
 =†en;

251 ++(
lše
->
nf›lds
);

252 
	}
}

257 
	$xf›lds
 (
lše
 *line)

259 *
±r
 = 
lše
->
buf
.
bufãr
;

260 cÚ¡ *
lim
 = 
±r
 + 
lše
->
buf
.
Ëngth
 - 1;

262 ià(
±r
 =ğ
lim
)

265 ià(0 <ğ
b
 &&ab != '\n')

267 *
£p
;

268 ; (
£p
 = 
	`memchr
 (
±r
, 
b
, 
lim
 -…Œ)è!ğ
NULL
;…tr = sep + 1)

269 
	`exŒaù_f›ld
 (
lše
, 
±r
, 
£p
 -…tr);

271 ià(
b
 < 0)

274 
	`isbÏnk
 (
	`to_uch¬
 (*
±r
)))

275 ià(++
±r
 =ğ
lim
)

280 *
£p
;

281 
£p
 = 
±r
 + 1; s• !ğ
lim
 && ! 
	`isbÏnk
 (
	`to_uch¬
 (*sep)); sep++)

283 
	`exŒaù_f›ld
 (
lše
, 
±r
, 
£p
 -…tr);

284 ià(
£p
 =ğ
lim
)

286 
±r
 = 
£p
 + 1;…Œ !ğ
lim
 && 
	`isbÏnk
 (
	`to_uch¬
 (*ptr));…tr++)

289 
±r
 !ğ
lim
);

292 
	`exŒaù_f›ld
 (
lše
, 
±r
, 
lim
 -…tr);

293 
	}
}

296 
	$ä“lše
 (
lše
 *line)

298 ià(
lše
 =ğ
NULL
)

300 
	`ä“
 (
lše
->
f›lds
);

301 
lše
->
f›lds
 = 
NULL
;

302 
	`ä“
 (
lše
->
buf
.
bufãr
);

303 
lše
->
buf
.
bufãr
 = 
NULL
;

304 
	}
}

312 
	$keycmp
 (
lše
 cÚ¡ *
lše1
, lšcÚ¡ *
lše2
,

313 
size_t
 
jf_1
, size_ˆ
jf_2
)

316 *
beg1
;

317 *
beg2
;

319 
size_t
 
Ën1
;

320 
size_t
 
Ën2
;

321 
diff
;

323 ià(
jf_1
 < 
lše1
->
nf›lds
)

325 
beg1
 = 
lše1
->
f›lds
[
jf_1
].
beg
;

326 
Ën1
 = 
lše1
->
f›lds
[
jf_1
].
Ën
;

330 
beg1
 = 
NULL
;

331 
Ën1
 = 0;

334 ià(
jf_2
 < 
lše2
->
nf›lds
)

336 
beg2
 = 
lše2
->
f›lds
[
jf_2
].
beg
;

337 
Ën2
 = 
lše2
->
f›lds
[
jf_2
].
Ën
;

341 
beg2
 = 
NULL
;

342 
Ën2
 = 0;

345 ià(
Ën1
 == 0)

346  
Ën2
 == 0 ? 0 : -1;

347 ià(
Ën2
 == 0)

350 ià(
ignÜe_ÿ£
)

354 
diff
 = 
	`memÿ£cmp
 (
beg1
, 
beg2
, 
	`MIN
 (
Ën1
, 
Ën2
));

358 ià(
h¬d_LC_COLLATE
)

359  
	`xmemcŞl
 (
beg1
, 
Ën1
, 
beg2
, 
Ën2
);

360 
diff
 = 
	`memcmp
 (
beg1
, 
beg2
, 
	`MIN
 (
Ën1
, 
Ën2
));

363 ià(
diff
)

364  
diff
;

365  
Ën1
 < 
Ën2
 ? -1 :†en1 !=†en2;

366 
	}
}

380 
	$check_Üd”
 (cÚ¡ 
lše
 *
´ev
,

381 cÚ¡ 
lše
 *
cu¼’t
,

382 
wh©fe
)

384 ià(
check_šput_Üd”
 !ğ
CHECK_ORDER_DISABLED


385 && ((
check_šput_Üd”
 =ğ
CHECK_ORDER_ENABLED
è|| 
£’_uÅaœabË
))

387 ià(!
issued_disÜd”_w¬nšg
[
wh©fe
-1])

389 
size_t
 
još_f›ld
 = 
wh©fe
 =ğ1 ? 
još_f›ld_1
 : 
još_f›ld_2
;

390 ià(
	`keycmp
 (
´ev
, 
cu¼’t
, 
još_f›ld
, join_field) > 0)

393 
size_t
 
Ën
 = 
cu¼’t
->
buf
.
Ëngth
;

394 ià(0 < 
Ën
 && 
cu¼’t
->
buf
.
bufãr
[len - 1] == '\n')

395 --
Ën
;

399 
Ën
 = 
	`MIN
 (
INT_MAX
,†en);

401 
	`”rÜ
 ((
check_šput_Üd”
 =ğ
CHECK_ORDER_ENABLED


402 ? 
EXIT_FAILURE
 : 0),

403 0, 
	`_
("%s:%"
PRIuMAX
": is‚ot sorted: %.*s"),

404 
g_Çmes
[
wh©fe
 - 1], 
lše_no
[whatfile - 1],

405 (è
Ën
, 
cu¼’t
->
buf
.
bufãr
);

409 
issued_disÜd”_w¬nšg
[
wh©fe
-1] = 
Œue
;

413 
	}
}

415 
šlše
 

416 
	$»£t_lše
 (
lše
 *line)

418 
lše
->
nf›lds
 = 0;

419 
	}
}

421 
lše
 *

422 
	$š™_lš•
 (
lše
 **
lš•
)

424 
lše
 *lšğ
	`xÿÎoc
 (1,  *line);

425 *
lš•
 = 
lše
;

426  
lše
;

427 
	}
}

432 
boŞ


433 
	$g‘_lše
 (
FILE
 *
å
, 
lše
 **
lš•
, 
which
)

435 
lše
 *lšğ*
lš•
;

437 ià(
lše
 =ğ
´evlše
[
which
 - 1])

439 
	`SWAPLINES
 (
lše
, 
¥¬–še
[
which
 - 1]);

440 *
lš•
 = 
lše
;

443 ià(
lše
)

444 
	`»£t_lše
 (
lše
);

446 
lše
 = 
	`š™_lš•
 (
lš•
);

448 ià(! 
	`»adlšebufãr
 (&
lše
->
buf
, 
å
))

450 ià(
	`ã¼Ü
 (
å
))

451 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

452 
	`ä“lše
 (
lše
);

453  
çl£
;

455 ++
lše_no
[
which
 - 1];

457 
	`xf›lds
 (
lše
);

459 ià(
´evlše
[
which
 - 1])

460 
	`check_Üd”
 (
´evlše
[
which
 - 1], 
lše
, which);

462 
´evlše
[
which
 - 1] = 
lše
;

463  
Œue
;

464 
	}
}

467 
	$ä“_¥¬–še
 ()

469 
size_t
 
i
;

471 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
¥¬–še
); i++)

473 ià(
¥¬–še
[
i
])

475 
	`ä“lše
 (
¥¬–še
[
i
]);

476 
	`ä“
 (
¥¬–še
[
i
]);

479 
	}
}

482 
	$š™£q
 (
£q
 *seq)

484 
£q
->
couÁ
 = 0;

485 
£q
->
®loc
 = 0;

486 
£q
->
lšes
 = 
NULL
;

487 
	}
}

491 
boŞ


492 
	$g‘£q
 (
FILE
 *
å
, 
£q
 *£q, 
whichfe
)

494 ià(
£q
->
couÁ
 =ğ£q->
®loc
)

496 
size_t
 
i
;

497 
£q
->
lšes
 = 
	`X2NREALLOC
 (£q->lšes, &£q->
®loc
);

498 
i
 = 
£q
->
couÁ
; i < seq->
®loc
; i++)

499 
£q
->
lšes
[
i
] = 
NULL
;

502 ià(
	`g‘_lše
 (
å
, &
£q
->
lšes
[£q->
couÁ
], 
whichfe
))

504 ++
£q
->
couÁ
;

505  
Œue
;

507  
çl£
;

508 
	}
}

512 
boŞ


513 
	$advªû_£q
 (
FILE
 *
å
, 
£q
 *£q, 
boŞ
 
fœ¡
, 
whichfe
)

515 ià(
fœ¡
)

516 
£q
->
couÁ
 = 0;

518  
	`g‘£q
 (
å
, 
£q
, 
whichfe
);

519 
	}
}

522 
	$d–£q
 (
£q
 *seq)

524 
size_t
 
i
;

525 
i
 = 0; i < 
£q
->
®loc
; i++)

527 
	`ä“lše
 (
£q
->
lšes
[
i
]);

528 
	`ä“
 (
£q
->
lšes
[
i
]);

530 
	`ä“
 (
£q
->
lšes
);

531 
	}
}

538 
	$´f›ld
 (
size_t
 
n
, 
lše
 const *line)

540 
size_t
 
Ën
;

542 ià(
n
 < 
lše
->
nf›lds
)

544 
Ën
 = 
lše
->
f›lds
[
n
].len;

545 ià(
Ën
)

546 
	`fwr™e
 (
lše
->
f›lds
[
n
].
beg
, 1, 
Ën
, 
¡dout
);

547 ià(
em±y_fËr
)

548 
	`åuts
 (
em±y_fËr
, 
¡dout
);

550 ià(
em±y_fËr
)

551 
	`åuts
 (
em±y_fËr
, 
¡dout
);

552 
	}
}

557 
	$´f›lds
 (
lše
 cÚ¡ *lše, 
size_t
 
još_f›ld
, size_ˆ
autocouÁ
)

559 
size_t
 
i
;

560 
size_t
 
nf›lds
 = 
autofÜm©
 ? 
autocouÁ
 : 
lše
->nfields;

561 
ouut_£·¿tÜ
 = 
b
 < 0 ? ' ' :ab;

563 
i
 = 0; i < 
još_f›ld
 && i < 
nf›lds
; ++i)

565 
	`putch¬
 (
ouut_£·¿tÜ
);

566 
	`´f›ld
 (
i
, 
lše
);

568 
i
 = 
još_f›ld
 + 1; i < 
nf›lds
; ++i)

570 
	`putch¬
 (
ouut_£·¿tÜ
);

571 
	`´f›ld
 (
i
, 
lše
);

573 
	}
}

578 
	$´još
 (
lše
 cÚ¡ *
lše1
, lšcÚ¡ *
lše2
)

580 cÚ¡ 
oui¡
 *outlist;

581 
ouut_£·¿tÜ
 = 
b
 < 0 ? ' ' :ab;

582 
size_t
 
f›ld
;

583 
lše
 const *line;

585 
oui¡
 = 
oui¡_h—d
.
Ãxt
;

586 ià(
oui¡
)

588 cÚ¡ 
oui¡
 *
o
;

590 
o
 = 
oui¡
;

593 ià(
o
->
fe
 == 0)

595 ià(
lše1
 =ğ&
uni_bÏnk
)

597 
lše
 = 
lše2
;

598 
f›ld
 = 
još_f›ld_2
;

602 
lše
 = 
lše1
;

603 
f›ld
 = 
još_f›ld_1
;

608 
lše
 = (
o
->
fe
 =ğ1 ? 
lše1
 : 
lše2
);

609 
f›ld
 = 
o
->field;

611 
	`´f›ld
 (
f›ld
, 
lše
);

612 
o
 = o->
Ãxt
;

613 ià(
o
 =ğ
NULL
)

615 
	`putch¬
 (
ouut_£·¿tÜ
);

617 
	`putch¬
 ('\n');

621 ià(
lše1
 =ğ&
uni_bÏnk
)

623 
lše
 = 
lše2
;

624 
f›ld
 = 
još_f›ld_2
;

628 
lše
 = 
lše1
;

629 
f›ld
 = 
još_f›ld_1
;

633 
	`´f›ld
 (
f›ld
, 
lše
);

636 
	`´f›lds
 (
lše1
, 
još_f›ld_1
, 
autocouÁ_1
);

637 
	`´f›lds
 (
lše2
, 
još_f›ld_2
, 
autocouÁ_2
);

639 
	`putch¬
 ('\n');

641 
	}
}

646 
	$još
 (
FILE
 *
å1
, FILE *
å2
)

648 
£q
 
£q1
, 
£q2
;

649 
diff
;

650 
boŞ
 
eof1
, 
eof2
;

652 
	`çdvi£
 (
å1
, 
FADVISE_SEQUENTIAL
);

653 
	`çdvi£
 (
å2
, 
FADVISE_SEQUENTIAL
);

656 
	`š™£q
 (&
£q1
);

657 
	`g‘£q
 (
å1
, &
£q1
, 1);

658 
	`š™£q
 (&
£q2
);

659 
	`g‘£q
 (
å2
, &
£q2
, 2);

661 ià(
autofÜm©
)

663 
autocouÁ_1
 = 
£q1
.
couÁ
 ? seq1.
lšes
[0]->
nf›lds
 : 0;

664 
autocouÁ_2
 = 
£q2
.
couÁ
 ? seq2.
lšes
[0]->
nf›lds
 : 0;

667 ià(
još_h—d”_lšes
 && (
£q1
.
couÁ
 || 
£q2
.count))

669 
lše
 cÚ¡ *
hlše1
 = 
£q1
.
couÁ
 ? seq1.
lšes
[0] : &
uni_bÏnk
;

670 
lše
 cÚ¡ *
hlše2
 = 
£q2
.
couÁ
 ? seq2.
lšes
[0] : &
uni_bÏnk
;

671 
	`´još
 (
hlše1
, 
hlše2
);

672 
´evlše
[0] = 
NULL
;

673 
´evlše
[1] = 
NULL
;

674 ià(
£q1
.
couÁ
)

675 
	`advªû_£q
 (
å1
, &
£q1
, 
Œue
, 1);

676 ià(
£q2
.
couÁ
)

677 
	`advªû_£q
 (
å2
, &
£q2
, 
Œue
, 2);

680 
£q1
.
couÁ
 && 
£q2
.count)

682 
size_t
 
i
;

683 
diff
 = 
	`keycmp
 (
£q1
.
lšes
[0], 
£q2
.lines[0],

684 
još_f›ld_1
, 
još_f›ld_2
);

685 ià(
diff
 < 0)

687 ià(
´št_uÅaœabËs_1
)

688 
	`´još
 (
£q1
.
lšes
[0], &
uni_bÏnk
);

689 
	`advªû_£q
 (
å1
, &
£q1
, 
Œue
, 1);

690 
£’_uÅaœabË
 = 
Œue
;

693 ià(
diff
 > 0)

695 ià(
´št_uÅaœabËs_2
)

696 
	`´još
 (&
uni_bÏnk
, 
£q2
.
lšes
[0]);

697 
	`advªû_£q
 (
å2
, &
£q2
, 
Œue
, 2);

698 
£’_uÅaœabË
 = 
Œue
;

704 
eof1
 = 
çl£
;

706 ià(!
	`advªû_£q
 (
å1
, &
£q1
, 
çl£
, 1))

708 
eof1
 = 
Œue
;

709 ++
£q1
.
couÁ
;

712 !
	`keycmp
 (
£q1
.
lšes
[£q1.
couÁ
 - 1], 
£q2
.lines[0],

713 
još_f›ld_1
, 
još_f›ld_2
));

717 
eof2
 = 
çl£
;

719 ià(!
	`advªû_£q
 (
å2
, &
£q2
, 
çl£
, 2))

721 
eof2
 = 
Œue
;

722 ++
£q2
.
couÁ
;

725 !
	`keycmp
 (
£q1
.
lšes
[0], 
£q2
.lšes[£q2.
couÁ
 - 1],

726 
još_f›ld_1
, 
još_f›ld_2
));

728 ià(
´št_·œabËs
)

730 
i
 = 0; i < 
£q1
.
couÁ
 - 1; ++i)

732 
size_t
 
j
;

733 
j
 = 0; j < 
£q2
.
couÁ
 - 1; ++j)

734 
	`´još
 (
£q1
.
lšes
[
i
], 
£q2
.lšes[
j
]);

738 ià(!
eof1
)

740 
	`SWAPLINES
 (
£q1
.
lšes
[0], seq1.lšes[£q1.
couÁ
 - 1]);

741 
£q1
.
couÁ
 = 1;

744 
£q1
.
couÁ
 = 0;

746 ià(!
eof2
)

748 
	`SWAPLINES
 (
£q2
.
lšes
[0], seq2.lšes[£q2.
couÁ
 - 1]);

749 
£q2
.
couÁ
 = 1;

752 
£q2
.
couÁ
 = 0;

759 
lše
 *lšğ
NULL
;

760 
boŞ
 
check
 = 
çl£
;

762 ià(
check_šput_Üd”
 !ğ
CHECK_ORDER_DISABLED


763 && !(
issued_disÜd”_w¬nšg
[0] && issued_disorder_warning[1]))

764 
check
 = 
Œue
;

766 ià((
´št_uÅaœabËs_1
 || 
check
è&& 
£q1
.
couÁ
)

768 ià(
´št_uÅaœabËs_1
)

769 
	`´još
 (
£q1
.
lšes
[0], &
uni_bÏnk
);

770 ià(
£q2
.
couÁ
)

771 
£’_uÅaœabË
 = 
Œue
;

772 
	`g‘_lše
 (
å1
, &
lše
, 1))

774 ià(
´št_uÅaœabËs_1
)

775 
	`´još
 (
lše
, &
uni_bÏnk
);

776 ià(
issued_disÜd”_w¬nšg
[0] && !
´št_uÅaœabËs_1
)

781 ià((
´št_uÅaœabËs_2
 || 
check
è&& 
£q2
.
couÁ
)

783 ià(
´št_uÅaœabËs_2
)

784 
	`´još
 (&
uni_bÏnk
, 
£q2
.
lšes
[0]);

785 ià(
£q1
.
couÁ
)

786 
£’_uÅaœabË
 = 
Œue
;

787 
	`g‘_lše
 (
å2
, &
lše
, 2))

789 ià(
´št_uÅaœabËs_2
)

790 
	`´još
 (&
uni_bÏnk
, 
lše
);

791 ià(
issued_disÜd”_w¬nšg
[1] && !
´št_uÅaœabËs_2
)

796 
	`ä“lše
 (
lše
);

797 
	`ä“
 (
lše
);

799 
	`d–£q
 (&
£q1
);

800 
	`d–£q
 (&
£q2
);

801 
	}
}

806 
	$add_f›ld
 (
fe
, 
size_t
 
f›ld
)

808 
oui¡
 *
o
;

810 
	`as£¹
 (
fe
 == 0 || file == 1 || file == 2);

811 
	`as£¹
 (
fe
 !ğ0 || 
f›ld
 == 0);

813 
o
 = 
	`xm®loc
 ( *o);

814 
o
->
fe
 = file;

815 
o
->
f›ld
 = field;

816 
o
->
Ãxt
 = 
NULL
;

819 
oui¡_’d
->
Ãxt
 = 
o
;

820 
oui¡_’d
 = 
o
;

821 
	}
}

829 
size_t


830 
	$¡ršg_to_još_f›ld
 (cÚ¡ *
¡r
)

832 
size_t
 
»suÉ
;

833 
v®
;

834 
	`v”ify
 (
SIZE_MAX
 <ğ
ULONG_MAX
);

836 
¡¹Ş_”rÜ
 
s_”r
 = 
	`x¡¹oul
 (
¡r
, 
NULL
, 10, &
v®
, "");

837 ià(
s_”r
 =ğ
LONGINT_OVERFLOW
 || (s_”¸=ğ
LONGINT_OK
 && 
SIZE_MAX
 < 
v®
))

838 
v®
 = 
SIZE_MAX
;

839 ià(
s_”r
 !ğ
LONGINT_OK
 || 
v®
 == 0)

840 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id f›ld‚umb”: %s"), 
	`quÙe
 (
¡r
));

842 
»suÉ
 = 
v®
 - 1;

844  
»suÉ
;

845 
	}
}

852 
	$decode_f›ld_¥ec
 (cÚ¡ *
s
, *
fe_šdex
, 
size_t
 *
f›ld_šdex
)

855 
s
[0])

858 ià(
s
[1])

861 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id f›ld s³cif›r: %s"), 
	`quÙe
 (
s
));

863 *
fe_šdex
 = 0;

864 *
f›ld_šdex
 = 0;

869 ià(
s
[1] != '.')

870 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id f›ld s³cif›r: %s"), 
	`quÙe
 (
s
));

871 *
fe_šdex
 = 
s
[0] - '0';

872 *
f›ld_šdex
 = 
	`¡ršg_to_još_f›ld
 (
s
 + 2);

876 
	`”rÜ
 (
EXIT_FAILURE
, 0,

877 
	`_
("šv®id fnumb” iÀf›ld s³c: %s"), 
	`quÙe
 (
s
));

882 
	`abÜt
 ();

886 
	}
}

891 
	$add_f›ld_li¡
 (*
¡r
)

893 *
p
 = 
¡r
;

897 
fe_šdex
;

898 
size_t
 
f›ld_šdex
;

899 cÚ¡ *
¥ec_™em
 = 
p
;

901 
p
 = 
	`¡½brk
 (p, ", \t");

902 ià(
p
)

903 *
p
++ = '\0';

904 
	`decode_f›ld_¥ec
 (
¥ec_™em
, &
fe_šdex
, &
f›ld_šdex
);

905 
	`add_f›ld
 (
fe_šdex
, 
f›ld_šdex
);

907 
p
);

908 
	}
}

914 
	$£t_još_f›ld
 (
size_t
 *
v¬
, size_ˆ
v®
)

916 ià(*
v¬
 !ğ
SIZE_MAX
 && *v¬ !ğ
v®
)

918 
v¬1
 = *
v¬
 + 1;

919 
v®1
 = 
v®
 + 1;

920 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("incompatible join fields %lu, %lu"),

921 
v¬1
, 
v®1
);

923 *
v¬
 = 
v®
;

924 
	}
}

928 
	eİ”ªd_¡©us


932 
	mMUST_BE_OPERAND
,

936 
	mMIGHT_BE_J1_ARG
,

937 
	mMIGHT_BE_J2_ARG
,

941 
	mMIGHT_BE_O_ARG


948 
	$add_fe_Çme
 (*
Çme
, *
Çmes
[2],

949 
İ”ªd_¡©us
[2], 
jİtiÚ_couÁ
[2], *
nfes
,

950 *
´ev_İtc_¡©us
, *
İtc_¡©us
)

952 
n
 = *
nfes
;

954 ià(
n
 == 2)

956 
boŞ
 
İ0
 = (
İ”ªd_¡©us
[0] =ğ
MUST_BE_OPERAND
);

957 *
¬g
 = 
Çmes
[
İ0
];

958 
İ”ªd_¡©us
[
İ0
])

960 
MUST_BE_OPERAND
:

961 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
Çme
));

962 
	`u§ge
 (
EXIT_FAILURE
);

964 
MIGHT_BE_J1_ARG
:

965 
jİtiÚ_couÁ
[0]--;

966 
	`£t_još_f›ld
 (&
još_f›ld_1
, 
	`¡ršg_to_još_f›ld
 (
¬g
));

969 
MIGHT_BE_J2_ARG
:

970 
jİtiÚ_couÁ
[1]--;

971 
	`£t_još_f›ld
 (&
još_f›ld_2
, 
	`¡ršg_to_još_f›ld
 (
¬g
));

974 
MIGHT_BE_O_ARG
:

975 
	`add_f›ld_li¡
 (
¬g
);

978 ià(!
İ0
)

980 
İ”ªd_¡©us
[0] = operand_status[1];

981 
Çmes
[0] =‚ames[1];

983 
n
 = 1;

986 
İ”ªd_¡©us
[
n
] = *
´ev_İtc_¡©us
;

987 
Çmes
[
n
] = 
Çme
;

988 *
nfes
 = 
n
 + 1;

989 ià(*
´ev_İtc_¡©us
 =ğ
MIGHT_BE_O_ARG
)

990 *
İtc_¡©us
 = 
MIGHT_BE_O_ARG
;

991 
	}
}

994 
	$maš
 (
¬gc
, **
¬gv
)

996 
İtc_¡©us
;

997 
´ev_İtc_¡©us
 = 
MUST_BE_OPERAND
;

998 
İ”ªd_¡©us
[2];

999 
jİtiÚ_couÁ
[2] = { 0, 0 };

1000 
FILE
 *
å1
, *
å2
;

1001 
İtc
;

1002 
nfes
 = 0;

1003 
i
;

1005 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1006 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1007 
	`£oÿË
 (
LC_ALL
, "");

1008 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1009 
	`‹xtdomaš
 (
PACKAGE
);

1010 
h¬d_LC_COLLATE
 = 
	`h¬d_loÿË
 (
LC_COLLATE
);

1012 
	`©ex™
 (
şo£_¡dout
);

1013 
	`©ex™
 (
ä“_¥¬–še
);

1015 
´št_·œabËs
 = 
Œue
;

1016 
£’_uÅaœabË
 = 
çl£
;

1017 
issued_disÜd”_w¬nšg
[0] = issued_disÜd”_w¬nšg[1] = 
çl£
;

1018 
check_šput_Üd”
 = 
CHECK_ORDER_DEFAULT
;

1020 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "-a:e:i1:2:j:o:t:v:",

1021 
lÚgİts
, 
NULL
))

1024 
İtc_¡©us
 = 
MUST_BE_OPERAND
;

1026 
İtc
)

1029 
´št_·œabËs
 = 
çl£
;

1034 
v®
;

1035 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
v®
, ""è!ğ
LONGINT_OK


1036 || (
v®
 != 1 && val != 2))

1037 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1038 
	`_
("šv®id f›ld‚umb”: %s"), 
	`quÙe
 (
İrg
));

1039 ià(
v®
 == 1)

1040 
´št_uÅaœabËs_1
 = 
Œue
;

1042 
´št_uÅaœabËs_2
 = 
Œue
;

1047 ià(
em±y_fËr
 && ! 
	`STREQ
 (em±y_fËr, 
İrg
))

1048 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1049 
	`_
("conflictingƒmpty-field„eplacement strings"));

1050 
em±y_fËr
 = 
İrg
;

1054 
ignÜe_ÿ£
 = 
Œue
;

1058 
	`£t_još_f›ld
 (&
još_f›ld_1
, 
	`¡ršg_to_još_f›ld
 (
İrg
));

1062 
	`£t_još_f›ld
 (&
još_f›ld_2
, 
	`¡ršg_to_još_f›ld
 (
İrg
));

1066 ià((
İrg
[0] == '1' || optarg[0] == '2') && !optarg[1]

1067 && 
İrg
 =ğ
¬gv
[
İtšd
 - 1] + 2)

1070 
boŞ
 
is_j2
 = (
İrg
[0] == '2');

1071 
jİtiÚ_couÁ
[
is_j2
]++;

1072 
İtc_¡©us
 = 
MIGHT_BE_J1_ARG
 + 
is_j2
;

1076 
	`£t_još_f›ld
 (&
još_f›ld_1
, 
	`¡ršg_to_još_f›ld
 (
İrg
));

1077 
	`£t_još_f›ld
 (&
još_f›ld_2
, 
još_f›ld_1
);

1082 ià(
	`STREQ
 (
İrg
, "auto"))

1083 
autofÜm©
 = 
Œue
;

1086 
	`add_f›ld_li¡
 (
İrg
);

1087 
İtc_¡©us
 = 
MIGHT_BE_O_ARG
;

1093 
Ãwb
 = 
İrg
[0];

1094 ià(! 
Ãwb
)

1095 
Ãwb
 = '\n';

1096 ià(
İrg
[1])

1098 ià(
	`STREQ
 (
İrg
, "\\0"))

1099 
Ãwb
 = '\0';

1101 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multi-characterab %s"),

1102 
	`quÙe
 (
İrg
));

1104 ià(0 <ğ
b
 &&ab !ğ
Ãwb
)

1105 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("incompatibleabs"));

1106 
b
 = 
Ãwb
;

1110 
NOCHECK_ORDER_OPTION
:

1111 
check_šput_Üd”
 = 
CHECK_ORDER_DISABLED
;

1114 
CHECK_ORDER_OPTION
:

1115 
check_šput_Üd”
 = 
CHECK_ORDER_ENABLED
;

1119 
	`add_fe_Çme
 (
İrg
, 
g_Çmes
, 
İ”ªd_¡©us
, 
jİtiÚ_couÁ
,

1120 &
nfes
, &
´ev_İtc_¡©us
, &
İtc_¡©us
);

1123 
HEADER_LINE_OPTION
:

1124 
još_h—d”_lšes
 = 
Œue
;

1127 
ÿ£_GETOPT_HELP_CHAR
;

1129 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1132 
	`u§ge
 (
EXIT_FAILURE
);

1135 
´ev_İtc_¡©us
 = 
İtc_¡©us
;

1139 
´ev_İtc_¡©us
 = 
MUST_BE_OPERAND
;

1140 
İtšd
 < 
¬gc
)

1141 
	`add_fe_Çme
 (
¬gv
[
İtšd
++], 
g_Çmes
, 
İ”ªd_¡©us
, 
jİtiÚ_couÁ
,

1142 &
nfes
, &
´ev_İtc_¡©us
, &
İtc_¡©us
);

1144 ià(
nfes
 != 2)

1146 ià(
nfes
 == 0)

1147 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

1149 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

1150 
	`u§ge
 (
EXIT_FAILURE
);

1155 
i
 = 0; i < 2; i++)

1156 ià(
jİtiÚ_couÁ
[
i
] != 0)

1158 
	`£t_još_f›ld
 (&
još_f›ld_1
, 
i
);

1159 
	`£t_još_f›ld
 (&
još_f›ld_2
, 
i
);

1162 ià(
još_f›ld_1
 =ğ
SIZE_MAX
)

1163 
još_f›ld_1
 = 0;

1164 ià(
još_f›ld_2
 =ğ
SIZE_MAX
)

1165 
još_f›ld_2
 = 0;

1167 
å1
 = 
	`STREQ
 (
g_Çmes
[0], "-"è? 
¡dš
 : 
	`fİ’
 (g_names[0], "r");

1168 ià(!
å1
)

1169 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
g_Çmes
[0]);

1170 
å2
 = 
	`STREQ
 (
g_Çmes
[1], "-"è? 
¡dš
 : 
	`fİ’
 (g_names[1], "r");

1171 ià(!
å2
)

1172 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
g_Çmes
[1]);

1173 ià(
å1
 =ğ
å2
)

1174 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("both files cannot be standard input"));

1175 
	`još
 (
å1
, 
å2
);

1177 ià(
	`fşo£
 (
å1
) != 0)

1178 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
g_Çmes
[0]);

1179 ià(
	`fşo£
 (
å2
) != 0)

1180 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
g_Çmes
[1]);

1182 ià(
issued_disÜd”_w¬nšg
[0] || issued_disorder_warning[1])

1183 
	`ex™
 (
EXIT_FAILURE
);

1185 
	`ex™
 (
EXIT_SUCCESS
);

1186 
	}
}

	@kill.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<sigÇl.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"sig2¡r.h
"

28 
	~"İ”ªd2sig.h
"

31 
	#PROGRAM_NAME
 "kl"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

35 #ià! (
HAVE_DECL_STRSIGNAL
 || 
defšed
 
¡rsigÇl
)

36 #ià! (
HAVE_DECL_SYS_SIGLIST
 || 
defšed
 
sys_sigli¡
)

37 #ià
HAVE_DECL__SYS_SIGLIST
 || 
defšed
 
_sys_sigli¡


38 
	#sys_sigli¡
 
_sys_sigli¡


	)

39 #–ià
HAVE_DECL___SYS_SIGLIST
 || 
defšed
 
__sys_sigli¡


40 
	#sys_sigli¡
 
__sys_sigli¡


	)

43 #ià
HAVE_DECL_SYS_SIGLIST
 || 
defšed
 
sys_sigli¡


44 
	#¡rsigÇl
(
signum
è(0 <ğ(signumè&& (signumè<ğ
SIGNUM_BOUND
 \

45 ? 
sys_sigli¡
[
signum
] \

46 : 0)

	)

48 #iâdeà
¡rsigÇl


49 
	#¡rsigÇl
(
signum
è0

	)

53 cÚ¡ 
	gshÜt_İtiÚs
[] =

59 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

61 {"li¡", 
no_¬gum’t
, 
NULL
, 'l'},

62 {"sigÇl", 
»quœed_¬gum’t
, 
NULL
, 's'},

63 {"bË", 
no_¬gum’t
, 
NULL
, 't'},

64 {
GETOPT_HELP_OPTION_DECL
},

65 {
GETOPT_VERSION_OPTION_DECL
},

66 {
NULL
, 0, NULL, 0}

70 
	$u§ge
 (
¡©us
)

72 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

73 
	`em™_Œy_h–p
 ();

76 
	`´štf
 (
	`_
("\
: %s [-s SIGNAL | -SIGNAL] PID...\n\
: %s -l [SIGNAL]...\n\
: %s -t [SIGNAL]...\n\
"),

81 
´og¿m_Çme
,…rogram_name,…rogram_name);

82 
	`åuts
 (
	`_
("\
 sigÇl tØ´oûs£s, o¸li¡ sigÇls.\n\
"), 
¡dout
);

86 
	`em™_mªd©Üy_¬g_nÙe
 ();

88 
	`åuts
 (
	`_
("\
-s, --sigÇl=SIGNAL, -SIGNAL\n\
hÇmÜ‚umb” oàthsigÇÈtØb£Á\n\
-l, --li¡†i¡ sigÇÈÇmes, o¸cÚv”ˆsigÇÈÇme to/äom‚umb”s\n\
-t, --bË…ršˆ¨bË oàsigÇÈšfÜm©iÚ\n\
"), 
¡dout
);

94 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

95 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

96 
	`åuts
 (
	`_
("\n\
 may b¨sigÇÈÇmlik'HUP', o¸¨sigÇÈnumb”†ik'1',\n\
hex™ stu oà¨´oûs ‹rmš©ed by‡ sigÇl.\n\
 i ª iÁeg”; iàÃg©iv™ id’tif› ¨´oûs group.\n\
"), 
¡dout
);

101 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

102 
	`em™_ªcÏry_šfo
 ();

104 
	`ex™
 (
¡©us
);

105 
	}
}

112 
	$´št_bË_row
 (
num_width
, 
signum
,

113 
Çme_width
, cÚ¡ *
sigÇme
)

115 cÚ¡ *
desütiÚ
 = 
	`¡rsigÇl
 (
signum
);

116 
	`´štf
 ("%*d %-* %s\n", 
num_width
, 
signum
, 
Çme_width
, 
sigÇme
,

117 
desütiÚ
 ? description : "?");

118 
	}
}

125 
	$li¡_sigÇls
 (
boŞ
 
bË
, *cÚ¡ *
¬gv
)

127 
signum
;

128 
¡©us
 = 
EXIT_SUCCESS
;

129 
sigÇme
[
SIG2STR_MAX
];

131 ià(
bË
)

133 
Çme_width
 = 0;

136 
num_width
 = 1;

137 
signum
 = 1; signum <ğ
SIGNUM_BOUND
 / 10; signum *= 10)

138 
num_width
++;

141 
signum
 = 1; signum <ğ
SIGNUM_BOUND
; signum++)

142 ià(
	`sig2¡r
 (
signum
, 
sigÇme
) == 0)

144 
size_t
 
Ën
 = 
	`¡¾’
 (
sigÇme
);

145 ià(
Çme_width
 < 
Ën
)

146 
Çme_width
 = 
Ën
;

149 ià(
¬gv
)

150 ; *
¬gv
;‡rgv++)

152 
signum
 = 
	`İ”ªd2sig
 (*
¬gv
, 
sigÇme
);

153 ià(
signum
 < 0)

154 
¡©us
 = 
EXIT_FAILURE
;

156 
	`´št_bË_row
 (
num_width
, 
signum
, 
Çme_width
, 
sigÇme
);

159 
signum
 = 1; signum <ğ
SIGNUM_BOUND
; signum++)

160 ià(
	`sig2¡r
 (
signum
, 
sigÇme
) == 0)

161 
	`´št_bË_row
 (
num_width
, 
signum
, 
Çme_width
, 
sigÇme
);

165 ià(
¬gv
)

166 ; *
¬gv
;‡rgv++)

168 
signum
 = 
	`İ”ªd2sig
 (*
¬gv
, 
sigÇme
);

169 ià(
signum
 < 0)

170 
¡©us
 = 
EXIT_FAILURE
;

173 ià(
	`ISDIGIT
 (**
¬gv
))

174 
	`puts
 (
sigÇme
);

176 
	`´štf
 ("%d\n", 
signum
);

180 
signum
 = 1; signum <ğ
SIGNUM_BOUND
; signum++)

181 ià(
	`sig2¡r
 (
signum
, 
sigÇme
) == 0)

182 
	`puts
 (
sigÇme
);

185  
¡©us
;

186 
	}
}

192 
	$£nd_sigÇls
 (
signum
, *cÚ¡ *
¬gv
)

194 
¡©us
 = 
EXIT_SUCCESS
;

195 cÚ¡ *
¬g
 = *
¬gv
;

199 *
’dp
;

200 
štmax_t
 
n
 = (
”ºo
 = 0, 
	`¡¹oimax
 (
¬g
, &
’dp
, 10));

201 
pid_t
 
pid
 = 
n
;

203 ià(
”ºo
 =ğ
ERANGE
 || 
pid
 !ğ
n
 || 
¬g
 =ğ
’dp
 || *endp)

205 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id…roûs id"), 
¬g
);

206 
¡©us
 = 
EXIT_FAILURE
;

208 ià(
	`kl
 (
pid
, 
signum
) != 0)

210 
	`”rÜ
 (0, 
”ºo
, "%s", 
¬g
);

211 
¡©us
 = 
EXIT_FAILURE
;

214 (
¬g
 = *++
¬gv
));

216  
¡©us
;

217 
	}
}

220 
	$maš
 (
¬gc
, **
¬gv
)

222 
İtc
;

223 
boŞ
 
li¡
 = 
çl£
;

224 
boŞ
 
bË
 = 
çl£
;

225 
signum
 = -1;

226 
sigÇme
[
SIG2STR_MAX
];

228 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

229 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

230 
	`£oÿË
 (
LC_ALL
, "");

231 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

232 
	`‹xtdomaš
 (
PACKAGE
);

234 
	`©ex™
 (
şo£_¡dout
);

236 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, 
NULL
))

238 
İtc
)

242 ià(
İtšd
 != 2)

245 
İtšd
--;

246 
no_mÜe_İtiÚs
;

255 ià(! 
İrg
)

256 
İrg
 = 
¬gv
[
İtšd
 - 1] + 
	`¡¾’
 (argv[optind - 1]);

257 ià(
İrg
 !ğ
¬gv
[
İtšd
 - 1] + 2)

259 
	`”rÜ
 (0, 0, 
	`_
("šv®id o±iÚ -- %c"), 
İtc
);

260 
	`u§ge
 (
EXIT_FAILURE
);

262 
İrg
--;

266 ià(0 <ğ
signum
)

268 
	`”rÜ
 (0, 0, 
	`_
("%s: muÉË sigÇl ¥ecif›d"), 
İrg
);

269 
	`u§ge
 (
EXIT_FAILURE
);

271 
signum
 = 
	`İ”ªd2sig
 (
İrg
, 
sigÇme
);

272 ià(
signum
 < 0)

273 
	`u§ge
 (
EXIT_FAILURE
);

277 
bË
 = 
Œue
;

280 ià(
li¡
)

282 
	`”rÜ
 (0, 0, 
	`_
("multiple -l or -t options specified"));

283 
	`u§ge
 (
EXIT_FAILURE
);

285 
li¡
 = 
Œue
;

288 
ÿ£_GETOPT_HELP_CHAR
;

289 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

291 
	`u§ge
 (
EXIT_FAILURE
);

293 
no_mÜe_İtiÚs
:

295 ià(
signum
 < 0)

296 
signum
 = 
SIGTERM
;

297 ià(
li¡
)

299 
	`”rÜ
 (0, 0, 
	`_
("cannot combine signal with -l or -t"));

300 
	`u§ge
 (
EXIT_FAILURE
);

303 iàĞ! 
li¡
 && 
¬gc
 <ğ
İtšd
)

305 
	`”rÜ
 (0, 0, 
	`_
("no…rocess ID specified"));

306 
	`u§ge
 (
EXIT_FAILURE
);

309  (
li¡


310 ? 
	`li¡_sigÇls
 (
bË
, 
İtšd
 < 
¬gc
 ? 
¬gv
 + o±šd : 
NULL
)

311 : 
	`£nd_sigÇls
 (
signum
, 
¬gv
 + 
İtšd
));

312 
	}
}

	@lbracket.c

1 
	#LBRACKET
 1

	)

2 
	~"‹¡.c
"

	@libstdbuf.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<¡dlib.h
>

22 
	~"sy¡em.h
"

23 
	~"v”ify.h
"

62 
	$f’o_to_Çme
 (cÚ¡ 
fd
)

64 cÚ¡ *
»t
 = 
NULL
;

66 
fd
)

69 
»t
 = "stdin";

72 
»t
 = "stdout";

75 
»t
 = "stderr";

78 
»t
 = "unknown";

82  
»t
;

83 
	}
}

86 
	$­¶y_mode
 (
FILE
 *
¡»am
, cÚ¡ *
mode
)

88 *
buf
 = 
NULL
;

89 
£tvbuf_mode
;

90 
size_t
 
size
 = 0;

92 ià(*
mode
 == '0')

93 
£tvbuf_mode
 = 
_IONBF
;

94 ià(*
mode
 == 'L')

95 
£tvbuf_mode
 = 
_IOLBF
;

98 
£tvbuf_mode
 = 
_IOFBF
;

99 
	`v”ify
 (
SIZE_MAX
 <ğ
ULONG_MAX
);

100 
size
 = 
	`¡¹oul
 (
mode
, 
NULL
, 10);

101 ià(
size
 > 0)

103 ià(!(
buf
 = 
	`m®loc
 (
size
)))

108 
	`årštf
 (
¡d”r
,

109 
	`_
("çedØ®loÿ‹‡ %" 
PRIuMAX


110 " by‹ stdiØbufãr\n"), (
uštmax_t
è
size
);

116 
	`årštf
 (
¡d”r
, 
	`_
("invalid buffering mode %s for %s\n"),

117 
mode
, 
	`f’o_to_Çme
 (
	`f’o
 (
¡»am
)));

122 ià(
	`£tvbuf
 (
¡»am
, 
buf
, 
£tvbuf_mode
, 
size
) != 0)

124 
	`årštf
 (
¡d”r
, 
	`_
("could‚ot set buffering of %so mode %s\n"),

125 
	`f’o_to_Çme
 (
	`f’o
 (
¡»am
)), 
mode
);

126 
	`ä“
 (
buf
);

128 
	}
}

130 
__©Œibu‹__
 ((
cÚ¡ruùÜ
)) 

131 
	$¡dbuf
 ()

133 *
e_mode
 = 
	`g‘’v
 ("_STDBUF_E");

134 *
i_mode
 = 
	`g‘’v
 ("_STDBUF_I");

135 *
o_mode
 = 
	`g‘’v
 ("_STDBUF_O");

136 ià(
e_mode
)

137 
	`­¶y_mode
 (
¡d”r
, 
e_mode
);

138 ià(
i_mode
)

139 
	`­¶y_mode
 (
¡dš
, 
i_mode
);

140 ià(
o_mode
)

141 
	`­¶y_mode
 (
¡dout
, 
o_mode
);

142 
	}
}

	@link.c

23 
	~<cÚfig.h
>

24 
	~<¡dio.h
>

25 
	~<g‘İt.h
>

26 
	~<sys/ty³s.h
>

28 
	~"sy¡em.h
"

29 
	~"”rÜ.h
"

30 
	~"lÚg-İtiÚs.h
"

31 
	~"quÙe.h
"

34 
	#PROGRAM_NAME
 "lšk"

	)

36 
	#AUTHORS
 
	`´İ”_Çme
 ("Mich«ÈStÚe")

	)

39 
	$u§ge
 (
¡©us
)

41 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

42 
	`em™_Œy_h–p
 ();

45 
	`´štf
 (
	`_
("\
: % FILE1 FILE2\n\
: % OPTION\n"), 
´og¿m_Çme
,…rogram_name);

48 
	`åuts
 (
	`_
("Callhe†ink functiono create‡†ink‚amed FILE2\
‡nƒxisting FILE1.\n\n"),

50 
¡dout
);

51 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

52 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

53 
	`em™_ªcÏry_šfo
 ();

55 
	`ex™
 (
¡©us
);

56 
	}
}

59 
	$maš
 (
¬gc
, **
¬gv
)

61 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

62 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

63 
	`£oÿË
 (
LC_ALL
, "");

64 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`‹xtdomaš
 (
PACKAGE
);

67 
	`©ex™
 (
şo£_¡dout
);

69 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

70 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

71 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

72 
	`u§ge
 (
EXIT_FAILURE
);

74 ià(
¬gc
 < 
İtšd
 + 2)

76 ià(
¬gc
 < 
İtšd
 + 1)

77 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

79 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

80 
	`u§ge
 (
EXIT_FAILURE
);

83 ià(
İtšd
 + 2 < 
¬gc
)

85 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 2]));

86 
	`u§ge
 (
EXIT_FAILURE
);

89 ià(
	`lšk
 (
¬gv
[
İtšd
],‡rgv[optind + 1]) != 0)

90 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot create†ink %so %s"),

91 
	`quÙe_n
 (0, 
¬gv
[
İtšd
 + 1]), quote_n (1,‡rgv[optind]));

93 
	`ex™
 (
EXIT_SUCCESS
);

94 
	}
}

	@ln.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

24 
	~"sy¡em.h
"

25 
	~"backupfe.h
"

26 
	~"”rÜ.h
"

27 
	~"f’ameÿt.h
"

28 
	~"fe-£t.h
"

29 
	~"hash.h
"

30 
	~"hash-ŒË.h
"

31 
	~"quÙe.h
"

32 
	~"»Í©h.h
"

33 
	~"§me.h
"

34 
	~"ye¢o.h
"

35 
	~"ÿnÚiÿlize.h
"

38 
	#PROGRAM_NAME
 "Ê"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Mike Parker"), \

42 
	`´İ”_Çme
 ("David MacK’z›")

	)

45 
backup_ty³
 
	gbackup_ty³
;

48 
boŞ
 
	gsymbŞic_lšk
;

51 
boŞ
 
	g»Ïtive
;

54 
boŞ
 
	glogiÿl
 = !!
LINK_FOLLOWS_SYMLINKS
;

57 
boŞ
 
	gš‹¿ùive
;

60 
boŞ
 
	g»move_exi¡šg_fes
;

63 
boŞ
 
	gv”bo£
;

69 
boŞ
 
	gh¬d_dœ_lšk
;

75 
boŞ
 
	gd”eã»nû_de¡_dœ_symlšks
 = 
Œue
;

81 
Hash_bË
 *
	gde¡_£t
;

84 ’um { 
	mDEST_INFO_INITIAL_CAPACITY
 = 61 };

86 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

88 {"backup", 
İtiÚ®_¬gum’t
, 
NULL
, 'b'},

89 {"dœeùÜy", 
no_¬gum’t
, 
NULL
, 'F'},

90 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'n'},

91 {"no-rg‘-dœeùÜy", 
no_¬gum’t
, 
NULL
, 'T'},

92 {"fÜû", 
no_¬gum’t
, 
NULL
, 'f'},

93 {"š‹¿ùive", 
no_¬gum’t
, 
NULL
, 'i'},

94 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 'S'},

95 {"rg‘-dœeùÜy", 
»quœed_¬gum’t
, 
NULL
, 't'},

96 {"logiÿl", 
no_¬gum’t
, 
NULL
, 'L'},

97 {"physiÿl", 
no_¬gum’t
, 
NULL
, 'P'},

98 {"»Ïtive", 
no_¬gum’t
, 
NULL
, 'r'},

99 {"symbŞic", 
no_¬gum’t
, 
NULL
, 's'},

100 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

111 
boŞ


112 
	$rg‘_dœeùÜy_İ”ªd
 (cÚ¡ *
fe
)

114 cÚ¡ *
b
 = 
	`Ï¡_compÚ’t
 (
fe
);

115 
size_t
 
bËn
 = 
	`¡¾’
 (
b
);

116 
boŞ
 
looks_like_a_dœ
 = (
bËn
 =ğ0 || 
	`ISSLASH
 (
b
[blen - 1]));

117 
¡©
 
¡
;

118 
¡©_»suÉ
 =

119 (
d”eã»nû_de¡_dœ_symlšks
 ? 
	`¡©
 (
fe
, &
¡
è: 
	`l¡©
 (file, &st));

120 
”r
 = (
¡©_»suÉ
 =ğ0 ? 0 : 
”ºo
);

121 
boŞ
 
is_a_dœ
 = !
”r
 && 
	`S_ISDIR
 (
¡
.
¡_mode
);

122 ià(
”r
 &&ƒ¼ !ğ
ENOENT
)

123 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
fe
));

124 ià(
is_a_dœ
 < 
looks_like_a_dœ
)

125 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("rg‘ % i nÙ‡ dœeùÜy"), 
	`quÙe
 (
fe
));

126  
is_a_dœ
;

127 
	}
}

133 
	$cÚv”t_abs_»l
 (cÚ¡ *
äom
, cÚ¡ *
rg‘
)

135 *
»®rg‘
 = 
	`ÿnÚiÿlize_f’ame_mode
 (
rg‘
, 
CAN_MISSING
);

136 *
»®äom
 = 
	`ÿnÚiÿlize_f’ame_mode
 (
äom
, 
CAN_MISSING
);

139 *
»Ïtive_äom
 = 
	`xm®loc
 (
PATH_MAX
);

142 
»®rg‘
[
	`dœ_Ën
 (realtarget)] = '\0';

144 ià(!
	`»Í©h
 (
»®äom
, 
»®rg‘
, 
»Ïtive_äom
, 
PATH_MAX
))

146 
	`ä“
 (
»Ïtive_äom
);

147 
»Ïtive_äom
 = 
NULL
;

150 
	`ä“
 (
»®rg‘
);

151 
	`ä“
 (
»®äom
);

153  
»Ïtive_äom
 ?„–©ive_äom : 
	`x¡rdup
 (
äom
);

154 
	}
}

160 
boŞ


161 
	$do_lšk
 (cÚ¡ *
sourû
, cÚ¡ *
de¡
)

163 
¡©
 
sourû_¡©s
;

164 
¡©
 
de¡_¡©s
;

165 *
de¡_backup
 = 
NULL
;

166 *
»l_sourû
 = 
NULL
;

167 
boŞ
 
de¡_l¡©_ok
 = 
çl£
;

168 
boŞ
 
sourû_is_dœ
 = 
çl£
;

169 
boŞ
 
ok
;

171 ià(!
symbŞic_lšk
)

177 ià((
logiÿl
 ? 
	`¡©
 (
sourû
, &
sourû_¡©s
)

178 : 
	`l¡©
 (
sourû
, &
sourû_¡©s
))

181 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
sourû
));

182  
çl£
;

185 ià(
	`S_ISDIR
 (
sourû_¡©s
.
¡_mode
))

187 
sourû_is_dœ
 = 
Œue
;

188 ià(! 
h¬d_dœ_lšk
)

190 
	`”rÜ
 (0, 0, 
	`_
("%s: hard†ink‚ot‡llowed for directory"),

191 
	`quÙe
 (
sourû
));

192  
çl£
;

197 ià(
»move_exi¡šg_fes
 || 
š‹¿ùive
 || 
backup_ty³
 !ğ
no_backups
)

199 
de¡_l¡©_ok
 = (
	`l¡©
 (
de¡
, &
de¡_¡©s
) == 0);

200 ià(!
de¡_l¡©_ok
 && 
”ºo
 !ğ
ENOENT
)

202 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
de¡
));

203  
çl£
;

209 ià(
de¡_l¡©_ok


210 && 
de¡_£t
 !ğ
NULL


211 && 
	`£’_fe
 (
de¡_£t
, 
de¡
, &
de¡_¡©s
))

213 
	`”rÜ
 (0, 0,

214 
	`_
("will‚ot overwrite just-created %s with %s"),

215 
	`quÙe_n
 (0, 
de¡
), quÙe_À(1, 
sourû
));

216  
çl£
;

224 ià((
»move_exi¡šg_fes


230 || (!
symbŞic_lšk
 && 
backup_ty³
 !ğ
no_backups
))

231 && 
de¡_l¡©_ok


237 && (
backup_ty³
 =ğ
no_backups
 || !
symbŞic_lšk
)

238 && (!
symbŞic_lšk
 || 
	`¡©
 (
sourû
, &
sourû_¡©s
) == 0)

239 && 
	`SAME_INODE
 (
sourû_¡©s
, 
de¡_¡©s
)

244 && (
sourû_¡©s
.
¡_Æšk
 =ğ1 || 
	`§me_Çme
 (
sourû
, 
de¡
)))

246 
	`”rÜ
 (0, 0, 
	`_
("%s‡nd %s‡rehe same file"),

247 
	`quÙe_n
 (0, 
sourû
), quÙe_À(1, 
de¡
));

248  
çl£
;

251 ià(
de¡_l¡©_ok
)

253 ià(
	`S_ISDIR
 (
de¡_¡©s
.
¡_mode
))

255 
	`”rÜ
 (0, 0, 
	`_
("%s: cªnÙ ov”wr™dœeùÜy"), 
	`quÙe
 (
de¡
));

256  
çl£
;

258 ià(
š‹¿ùive
)

260 
	`årštf
 (
¡d”r
, 
	`_
("%s:„•Ïû %s? "), 
´og¿m_Çme
, 
	`quÙe
 (
de¡
));

261 ià(!
	`ye¢o
 ())

262  
Œue
;

263 
»move_exi¡šg_fes
 = 
Œue
;

266 ià(
backup_ty³
 !ğ
no_backups
)

268 
de¡_backup
 = 
	`fšd_backup_fe_Çme
 (
de¡
, 
backup_ty³
);

269 ià(
	`»Çme
 (
de¡
, 
de¡_backup
) != 0)

271 
»Çme_”ºo
 = 
”ºo
;

272 
	`ä“
 (
de¡_backup
);

273 
de¡_backup
 = 
NULL
;

274 ià(
»Çme_”ºo
 !ğ
ENOENT
)

276 
	`”rÜ
 (0, 
»Çme_”ºo
, 
	`_
("ÿÂÙ backu°%s"), 
	`quÙe
 (
de¡
));

277  
çl£
;

283 ià(
»Ïtive
)

284 
sourû
 = 
»l_sourû
 = 
	`cÚv”t_abs_»l
 (sourû, 
de¡
);

286 
ok
 = ((
symbŞic_lšk
 ? 
	`symlšk
 (
sourû
, 
de¡
)

287 : 
	`lšk©
 (
AT_FDCWD
, 
sourû
, AT_FDCWD, 
de¡
,

288 
logiÿl
 ? 
AT_SYMLINK_FOLLOW
 : 0))

310 ià(!
ok
 && 
”ºo
 =ğ
EEXIST
 && (
»move_exi¡šg_fes
 || 
de¡_backup
))

312 ià(
	`uÆšk
 (
de¡
) != 0)

314 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
de¡
));

315 
	`ä“
 (
de¡_backup
);

316 
	`ä“
 (
»l_sourû
);

317  
çl£
;

320 
ok
 = ((
symbŞic_lšk
 ? 
	`symlšk
 (
sourû
, 
de¡
)

321 : 
	`lšk©
 (
AT_FDCWD
, 
sourû
, AT_FDCWD, 
de¡
,

322 
logiÿl
 ? 
AT_SYMLINK_FOLLOW
 : 0))

326 ià(
ok
)

330 
	`»cÜd_fe
 (
de¡_£t
, 
de¡
, &
sourû_¡©s
);

332 ià(
v”bo£
)

334 ià(
de¡_backup
)

335 
	`´štf
 ("% ~ ", 
	`quÙe
 (
de¡_backup
));

336 
	`´štf
 ("% %c> %s\n", 
	`quÙe_n
 (0, 
de¡
), (
symbŞic_lšk
 ? '-' : '='),

337 
	`quÙe_n
 (1, 
sourû
));

342 
	`”rÜ
 (0, 
”ºo
,

343 (
symbŞic_lšk


344 ? (
”ºo
 !ğ
ENAMETOOLONG
 && *
sourû


345 ? 
	`_
("failedo create symbolic†ink %s")

346 : 
	`_
("failedo create symbolic†ink %s -> %s"))

347 : (
”ºo
 =ğ
EMLINK
 && !
sourû_is_dœ


348 ? 
	`_
("failedo create hard†inko %.0s%s")

349 : (
”ºo
 =ğ
EDQUOT
 ||ƒ¼nØ=ğ
EEXIST
 ||ƒ¼nØ=ğ
ENOSPC


350 || 
”ºo
 =ğ
EROFS
)

351 ? 
	`_
("failedo create hard†ink %s")

352 : 
	`_
("failedo create hard†ink %s => %s"))),

353 
	`quÙe_n
 (0, 
de¡
), quÙe_À(1, 
sourû
));

355 ià(
de¡_backup
)

357 ià(
	`»Çme
 (
de¡_backup
, 
de¡
) != 0)

358 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ un-backu°%s"), 
	`quÙe
 (
de¡
));

362 
	`ä“
 (
de¡_backup
);

363 
	`ä“
 (
»l_sourû
);

364  
ok
;

365 
	}
}

368 
	$u§ge
 (
¡©us
)

370 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

371 
	`em™_Œy_h–p
 ();

374 
	`´štf
 (
	`_
("\
: %s [OPTION]... [-T] TARGET LINK_NAME (1st form)\n\
: %s [OPTION]... TARGET (2nd form)\n\
: %s [OPTION]... TARGET... DIRECTORY (3rd form)\n\
: %s [OPTION]... -t DIRECTORY TARGET... (4th form)\n\
"),

380 
´og¿m_Çme
,…rogram_name,…rogram_name,…rogram_name);

381 
	`åuts
 (
	`_
("\
h1¡ fÜm, c»©¨lškØTARGET w™hhÇmLINK_NAME.\n\
h2nd fÜm, c»©¨lškØTARGET iÀthcu¼’ˆdœeùÜy.\n\
h3rd‡nd 4th fÜms, c»©lšk tØ—ch TARGET iÀDIRECTORY.\n\
 h¬d†šk by deçuÉ, symbŞiølšk w™h --symbŞic.\n\
 deçuÉ,ƒach de¡š©iÚ (ÇmoàÃw†škèshould‚Ù‡Ì—dyƒxi¡.\n\
 c»©šg h¬d†šks,ƒach TARGET mu¡ƒxi¡. SymbŞiølšks\n\
 hŞd‡rb™¿ryext; iàÏ‹¸»sŞved,‡„–©ivlšk is\n\
 iÀ»ÏtiÚØ™ ·»Á dœeùÜy.\n\
"), 
¡dout
);

392 
	`em™_mªd©Üy_¬g_nÙe
 ();

394 
	`åuts
 (
	`_
("\
--backup[=CONTROL] mak¨backu°oà—chƒxi¡šg de¡š©iÚ fe\n\
-b†ik--backu°buˆdÛ nÙ‡cû±‡À¬gum’t\n\
-d, -F, --dœeùÜy‡Îowhsu³ru£¸tØ©‹m±Øh¬d†šk\n\
 (nÙe: wÈ´obably fa duto\n\
„e¡riùiÚs,ƒv’ fÜhsu³ru£r)\n\
-f, --fÜû„emovexi¡šg de¡š©iÚ fes\n\
"), 
¡dout
);

402 
	`åuts
 (
	`_
("\
-i, --š‹¿ùiv…rom± wh‘h”Ø»movde¡š©iÚs\n\
-L, --logiÿÈ d”eã»nû TARGET th©‡» symbŞiølšks\n\
-n, --no-d”eã»nû»© LINK_NAME‡ ¨nÜm® fif\n\
 i ¨symbŞiølškØ¨dœeùÜy\n\
-P, --physiÿÈ makh¬d†šk dœeùlyØsymbŞiølšks\n\
-r, --»Ïtiv c»©symbŞiølšk »ÏtivtØlšk†oÿtiÚ\n\
-s, --symbŞiø maksymbŞiølšk š¡—d oàh¬d†šks\n\
"), 
¡dout
);

411 
	`åuts
 (
	`_
("\
-S, --suffix=SUFFIX ov”ridthusu® backu°suffix\n\
-t, --rg‘-dœeùÜy=DIRECTORY s³cifyhDIRECTORY iÀwhichØü—‹\n\
†šks\n\
-T, --no-rg‘-dœeùÜy»© LINK_NAME‡ ¨nÜm® f®ways\n\
-v, --v”bo£…ršˆÇmoà—ch†šked fe\n\
"), 
¡dout
);

418 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

419 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

420 
	`åuts
 (
	`_
("\
\n\
 backu°suffix i '~', uÆes £ˆw™h --suffix o¸SIMPLE_BACKUP_SUFFIX.\n\
 v”siÚ cÚŒŞ m‘hod may b£Ëùed vŸh--backu°İtiÚ o¸through\n\
 VERSION_CONTROLƒnvœÚm’ˆv¬ŸbË. H”¬thv®ues:\n\
\n\
"), 
¡dout
);

427 
	`åuts
 (
	`_
("\
, ofà‚ev” makbackup Óv’ ià--backu°i giv’)\n\
, maknumb”ed backups\n\
,‚‚umb”ed iànumb”ed backup exi¡, sim¶Ùh”wi£\n\
,‚ev”‡lway maksim¶backups\n\
"), 
¡dout
);

433 
	`´štf
 (
	`_
("\
\n\
 - ignÜe -L‡nd -P. Oth”wi£,hÏ¡ o±iÚ s³cif›d cÚŒŞs\n\
 wh’‡ TARGET i ¨symbŞiølšk, deçuÉšgØ%s.\n\
"), 
LINK_FOLLOWS_SYMLINKS
 ? "-L" : "-P");

438 
	`em™_ªcÏry_šfo
 ();

440 
	`ex™
 (
¡©us
);

441 
	}
}

444 
	$maš
 (
¬gc
, **
¬gv
)

446 
c
;

447 
boŞ
 
ok
;

448 
boŞ
 
make_backups
 = 
çl£
;

449 *
backup_suffix_¡ršg
;

450 *
v”siÚ_cÚŒŞ_¡ršg
 = 
NULL
;

451 cÚ¡ *
rg‘_dœeùÜy
 = 
NULL
;

452 
boŞ
 
no_rg‘_dœeùÜy
 = 
çl£
;

453 
n_fes
;

454 **
fe
;

456 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

457 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

458 
	`£oÿË
 (
LC_ALL
, "");

459 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

460 
	`‹xtdomaš
 (
PACKAGE
);

462 
	`©ex™
 (
şo£_¡dš
);

466 
backup_suffix_¡ršg
 = 
	`g‘’v
 ("SIMPLE_BACKUP_SUFFIX");

468 
symbŞic_lšk
 = 
»move_exi¡šg_fes
 = 
š‹¿ùive
 = 
v”bo£


469 ğ
h¬d_dœ_lšk
 = 
çl£
;

471 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "bdfšr¡:vFLPS:T", 
lÚg_İtiÚs
, 
NULL
))

474 
c
)

477 
make_backups
 = 
Œue
;

478 ià(
İrg
)

479 
v”siÚ_cÚŒŞ_¡ršg
 = 
İrg
;

483 
h¬d_dœ_lšk
 = 
Œue
;

486 
»move_exi¡šg_fes
 = 
Œue
;

487 
š‹¿ùive
 = 
çl£
;

490 
»move_exi¡šg_fes
 = 
çl£
;

491 
š‹¿ùive
 = 
Œue
;

494 
logiÿl
 = 
Œue
;

497 
d”eã»nû_de¡_dœ_symlšks
 = 
çl£
;

500 
logiÿl
 = 
çl£
;

503 
»Ïtive
 = 
Œue
;

506 
symbŞic_lšk
 = 
Œue
;

509 ià(
rg‘_dœeùÜy
)

510 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiplearget directories specified"));

513 
¡©
 
¡
;

514 ià(
	`¡©
 (
İrg
, &
¡
) != 0)

515 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo‡ccess %s"),

516 
	`quÙe
 (
İrg
));

517 ià(! 
	`S_ISDIR
 (
¡
.
¡_mode
))

518 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

519 
	`quÙe
 (
İrg
));

521 
rg‘_dœeùÜy
 = 
İrg
;

524 
no_rg‘_dœeùÜy
 = 
Œue
;

527 
v”bo£
 = 
Œue
;

530 
make_backups
 = 
Œue
;

531 
backup_suffix_¡ršg
 = 
İrg
;

533 
ÿ£_GETOPT_HELP_CHAR
;

534 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

536 
	`u§ge
 (
EXIT_FAILURE
);

541 
n_fes
 = 
¬gc
 - 
İtšd
;

542 
fe
 = 
¬gv
 + 
İtšd
;

544 ià(
n_fes
 <= 0)

546 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

547 
	`u§ge
 (
EXIT_FAILURE
);

550 ià(
no_rg‘_dœeùÜy
)

552 ià(
rg‘_dœeùÜy
)

553 
	`”rÜ
 (
EXIT_FAILURE
, 0,

554 
	`_
("cannot combine --target-directory "

556 ià(
n_fes
 != 2)

558 ià(
n_fes
 < 2)

559 
	`”rÜ
 (0, 0,

560 
	`_
("missing destination file operand‡fter %s"),

561 
	`quÙe
 (
fe
[0]));

563 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
fe
[2]));

564 
	`u§ge
 (
EXIT_FAILURE
);

567 ià(!
rg‘_dœeùÜy
)

569 ià(
n_fes
 < 2)

570 
rg‘_dœeùÜy
 = ".";

571 ià(2 <ğ
n_fes
 && 
	`rg‘_dœeùÜy_İ”ªd
 (
fe
[n_files - 1]))

572 
rg‘_dœeùÜy
 = 
fe
[--
n_fes
];

573 ià(2 < 
n_fes
)

574 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

575 
	`quÙe
 (
fe
[
n_fes
 - 1]));

578 ià(
backup_suffix_¡ršg
)

579 
sim¶e_backup_suffix
 = 
	`x¡rdup
 (
backup_suffix_¡ršg
);

581 
backup_ty³
 = (
make_backups


582 ? 
	`xg‘_v”siÚ
 (
	`_
("backu°ty³"), 
v”siÚ_cÚŒŞ_¡ršg
)

583 : 
no_backups
);

585 ià(
»Ïtive
 && !
symbŞic_lšk
)

587 
	`”rÜ
 (
EXIT_FAILURE
, 0,

588 
	`_
("cannot do --relative without --symbolic"));

592 ià(
rg‘_dœeùÜy
)

594 
i
;

599 ià(2 <ğ
n_fes


600 && 
»move_exi¡šg_fes


603 && ! 
symbŞic_lšk


606 && 
backup_ty³
 !ğ
numb”ed_backups
)

609 
de¡_£t
 = 
	`hash_š™Ÿlize
 (
DEST_INFO_INITIAL_CAPACITY
,

610 
NULL
,

611 
ŒË_hash
,

612 
ŒË_com·»
,

613 
ŒË_ä“
);

614 ià(
de¡_£t
 =ğ
NULL
)

615 
	`x®loc_d›
 ();

618 
ok
 = 
Œue
;

619 
i
 = 0; i < 
n_fes
; ++i)

621 *
de¡_ba£
;

622 *
de¡
 = 
	`fe_Çme_cÚÿt
 (
rg‘_dœeùÜy
,

623 
	`Ï¡_compÚ’t
 (
fe
[
i
]),

624 &
de¡_ba£
);

625 
	`¡r_Œašg_¦ashes
 (
de¡_ba£
);

626 
ok
 &ğ
	`do_lšk
 (
fe
[
i
], 
de¡
);

627 
	`ä“
 (
de¡
);

631 
ok
 = 
	`do_lšk
 (
fe
[0], file[1]);

633 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

634 
	}
}

	@logname.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<sys/ty³s.h
>

20 
	~<g‘İt.h
>

22 
	~"sy¡em.h
"

23 
	~"”rÜ.h
"

24 
	~"lÚg-İtiÚs.h
"

25 
	~"quÙe.h
"

28 
	#PROGRAM_NAME
 "logÇme"

	)

30 
	#AUTHORS
 
	`´İ”_Çme
 ("FIXME: unknown")

	)

33 
	$u§ge
 (
¡©us
)

35 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

36 
	`em™_Œy_h–p
 ();

39 
	`´štf
 (
	`_
("U§ge: % [OPTION]\n"), 
´og¿m_Çme
);

40 
	`åuts
 (
	`_
("\
hÇmoàthcu¼’ˆu£r.\n\
\n\
"), 
¡dout
);

44 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

45 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

46 
	`em™_ªcÏry_šfo
 ();

48 
	`ex™
 (
¡©us
);

49 
	}
}

52 
	$maš
 (
¬gc
, **
¬gv
)

54 *
ı
;

56 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

57 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

58 
	`£oÿË
 (
LC_ALL
, "");

59 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

60 
	`‹xtdomaš
 (
PACKAGE
);

62 
	`©ex™
 (
şo£_¡dout
);

64 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

65 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

66 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

67 
	`u§ge
 (
EXIT_FAILURE
);

69 ià(
İtšd
 < 
¬gc
)

71 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

72 
	`u§ge
 (
EXIT_FAILURE
);

76 
ı
 = 
	`g‘logš
 ();

77 ià(
ı
)

79 
	`puts
 (
ı
);

80 
	`ex™
 (
EXIT_SUCCESS
);

84 
	`”rÜ
 (0, 0, 
	`_
("no†ogin‚ame"));

85 
	`ex™
 (
EXIT_FAILURE
);

86 
	}
}

	@longlong.h

42 
	#__BITS4
 (
W_TYPE_SIZE
 / 4)

	)

43 
	#__Î_B
 ((
UWty³
è1 << (
W_TYPE_SIZE
 / 2))

	)

44 
	#__Î_low·¹
(
t
è((
UWty³
èÑè& (
__Î_B
 - 1))

	)

45 
	#__Î_high·¹
(
t
è((
UWty³
èÑè>> (
W_TYPE_SIZE
 / 2))

	)

49 #iâdeà
__MPN


50 
	#__MPN
(
x
è
__
##
	)
x

140 #ifdeà
_LONG_LONG_LIMB


141 
	#couÁ_Ëadšg_z”os_gcc_şz
(
couÁ
,
x
) \

143 
	`ASSERT
 ((
x
) != 0); \

144 (
couÁ
èğ
	`__butš_şzÎ
 (
x
); \

145 } 0)

	)

147 
	#couÁ_Ëadšg_z”os_gcc_şz
(
couÁ
,
x
) \

149 
	`ASSERT
 ((
x
) != 0); \

150 (
couÁ
èğ
	`__butš_şzl
 (
x
); \

151 } 0)

	)

154 #ifdeà
_LONG_LONG_LIMB


155 
	#couÁ_Œašg_z”os_gcc_ùz
(
couÁ
,
x
) \

157 
	`ASSERT
 ((
x
) != 0); \

158 (
couÁ
èğ
	`__butš_ùzÎ
 (
x
); \

159 } 0)

	)

161 
	#couÁ_Œašg_z”os_gcc_ùz
(
couÁ
,
x
) \

163 
	`ASSERT
 ((
x
) != 0); \

164 (
couÁ
èğ
	`__butš_ùzl
 (
x
); \

165 } 0)

	)

171 #ià! 
defšed
 (
NO_ASM
)

173 #ià
defšed
 (
__®pha
è&& 
W_TYPE_SIZE
 == 64

175 #ià
defšed
 (
__GNUC__
)

176 #ià
__GMP_GNUC_PREREQ
 (3,3)

177 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

179 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

180 (
ph
èğ
	`__butš_®pha_umulh
 (
__m0
, 
__m1
); \

181 (
¶
èğ
__m0
 * 
__m1
; \

182 } 0)

	)

184 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

186 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

187 
	`__asm__
 ("umulh %r1,%2,%0" \

188 : "ô" (
ph
) \

189 : "%rJ" (
m0
), "rI" (
m1
)); \

190 (
¶
èğ
__m0
 * 
__m1
; \

191 } 0)

	)

193 
	#UMUL_TIME
 18

	)

195 
	~<machše/butšs.h
>

196 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

198 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

199 (
ph
èğ
	`__UMULH
 (
m0
, 
m1
); \

200 (
¶
èğ
__m0
 * 
__m1
; \

201 } 0)

	)

203 #iâdeà
LONGLONG_STANDALONE


204 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

205 dØ{ 
UWty³
 
__di
; \

206 
__di
 = 
	`__MPN
(
šv”t_limb
è(
d
); \

207 
	`udiv_qºnd_´ešv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

208 } 0)

	)

209 
	#UDIV_PREINV_ALWAYS
 1

	)

210 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

211 
	#UDIV_TIME
 220

	)

216 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

218 #ià
defšed
 (
__GNUC__
è&& 
HAVE_HOST_CPU_®pha_CIX


219 
	#couÁ_Ëadšg_z”os
(
COUNT
,
X
) \

220 
	`__asm__
("ùlz %1,%0" : "ô"(
COUNT
è: "r"(
X
))

	)

221 
	#couÁ_Œašg_z”os
(
COUNT
,
X
) \

222 
	`__asm__
("ùtz %1,%0" : "ô"(
COUNT
è: "r"(
X
))

	)

225 #ià! 
defšed
 (
couÁ_Ëadšg_z”os
) \

226 && 
defšed
 (
__GNUC__
è&& ! 
	$defšed
 (
LONGLONG_STANDALONE
)

231 
	#ALPHA_CMPBGE_0
(
d¡
, 
¤c
) \

232 dØ{ 
	`asm
 ("cmpbg$31, %1, %0" : "ô" (
d¡
è: "r" (
¤c
)); 
	}
} 0)

	)

236 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

238 
UWty³
 
__şz__b
, 
__şz__c
, 
__şz__x
 = (
x
); \

239 
	`ALPHA_CMPBGE_0
 (
__şz__b
, 
__şz__x
); \

240 
__şz__b
 = 
__şz_b
 [(__clz__b >> 1) ^ 0x7F]; \

241 
__şz__b
 = __clz__b * 8 - 7; \

242 
__şz__x
 >>ğ
__şz__b
; \

243 
__şz__c
 = 
__şz_b
 [
__şz__x
]; \

244 
__şz__b
 = 65 - __clz__b; \

245 (
couÁ
èğ
__şz__b
 - 
__şz__c
; \

246 } 0)

	)

247 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

250 #ià! 
defšed
 (
couÁ_Ëadšg_z”os
è&& ! defšed (
LONGLONG_STANDALONE
)

251 #ià
HAVE_ATTRIBUTE_CONST


252 
	$__MPN
(
couÁ_Ëadšg_z”os
è(
UDIty³
è
	`__©Œibu‹__
 ((const));

254 
	$__MPN
(
couÁ_Ëadšg_z”os
è(
UDIty³
);

256 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

257 ((
couÁ
èğ
	`__MPN
(
couÁ_Ëadšg_z”os
è(
x
))

	)

261 #ià
	`defšed
 (
__AVR
è&& 
W_TYPE_SIZE
 == 8

262 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

264 
__p
 = (è(
m0
è* (
m1
); \

265 (
ph
èğ
__p
 >> 8; \

266 (
¶
èğ
__p
; \

267 
	}
} 0)

	)

270 #ià
defšed
 (
_CRAY
è&& 
W_TYPE_SIZE
 == 64

271 
	~<šŒšsics.h
>

272 
	#UDIV_PREINV_ALWAYS
 1

	)

273 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

274 
	#UDIV_TIME
 220

	)

275 
	$__MPN
(
couÁ_Ëadšg_z”os
è(
UDIty³
);

276 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

277 ((
couÁ
èğ
	`_Ëadz
 ((
UWty³
è(
x
)))

	)

278 #ià
	`defšed
 (
_CRAYIEEE
)

279 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

281 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

282 (
ph
èğ
	`_št_muÉ_uµ”
 (
m0
, 
m1
); \

283 (
¶
èğ
__m0
 * 
__m1
; \

284 
	}
} 0)

	)

285 #iâdeà
LONGLONG_STANDALONE


286 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

287 dØ{ 
UWty³
 
__di
; \

288 
__di
 = 
	`__MPN
(
šv”t_limb
è(
d
); \

289 
	`udiv_qºnd_´ešv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

290 } 0)

	)

295 #ià
defšed
 (
__Ÿ64
è&& 
W_TYPE_SIZE
 == 64

300 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

302 
UWty³
 
__x
; \

303 
__x
 = (
®
è- (
bl
); \

304 ià((
®
è< (
bl
)) \

305 (
sh
èğ(
ah
è- (
bh
) - 1; \

307 (
sh
èğ(
ah
è- (
bh
); \

308 (
¦
èğ
__x
; \

309 } 0)

	)

310 #ià
defšed
 (
__GNUC__
è&& ! defšed (
__INTEL_COMPILER
)

314 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

315 
	`__asm__
 ("xma.hu %0 = %2, %3, f0\n\txma.l %1 = %2, %3, f0" \

316 : "=&f" (
ph
), "=f" (
¶
) \

317 : "f" (
m0
), "f" (
m1
))

	)

318 
	#UMUL_TIME
 14

	)

319 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

321 
UWty³
 
_x
 = (
x
), 
_y
, 
_a
, 
_c
; \

322 
	`__asm__
 ("mux1 %0 = %1, @»v" : "ô" (
_y
è: "r" (
_x
)); \

323 
	`__asm__
 ("czx1.È%0 = %1" : "ô" (
_a
è: "r" (-
_y
 | _y)); \

324 
_c
 = (
_a
 - 1) << 3; \

325 
_x
 >>ğ
_c
; \

326 ià(
_x
 >= 1 << 4) \

327 
_x
 >>ğ4, 
_c
 += 4; \

328 ià(
_x
 >= 1 << 2) \

329 
_x
 >>ğ2, 
_c
 += 2; \

330 
_c
 +ğ
_x
 >> 1; \

331 (
couÁ
èğ
W_TYPE_SIZE
 - 1 - 
_c
; \

332 } 0)

	)

335 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) \

337 
UWty³
 
__ùz_x
 = (
x
); \

338 
	`__asm__
 ("popcnt %0 = %1" \

339 : "ô" (
couÁ
) \

340 : "r" ((
__ùz_x
-1) & ~__ctz_x)); \

341 } 0)

	)

343 #ià
defšed
 (
__INTEL_COMPILER
)

344 
	~<Ÿ64šŒš.h
>

345 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

347 
UWty³
 
_m0
 = (
m0
), 
_m1
 = (
m1
); \

348 
ph
 = 
	`_m64_xmahu
 (
_m0
, 
_m1
, 0); \

349 
¶
 = 
_m0
 * 
_m1
; \

350 } 0)

	)

352 #iâdeà
LONGLONG_STANDALONE


353 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

354 dØ{ 
UWty³
 
__di
; \

355 
__di
 = 
	`__MPN
(
šv”t_limb
è(
d
); \

356 
	`udiv_qºnd_´ešv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

357 } 0)

	)

358 
	#UDIV_PREINV_ALWAYS
 1

	)

359 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

361 
	#UDIV_TIME
 220

	)

365 #ià
defšed
 (
__GNUC__
)

369 #ià
__GNUC__
 < 2

370 
	#__CLOBBER_CC


	)

371 
	#__AND_CLOBBER_CC


	)

373 
	#__CLOBBER_CC
 : "cc"

	)

374 
	#__AND_CLOBBER_CC
 , "cc"

	)

377 #ià(
defšed
 (
__a29k__
è|| defšed (
_AM29K
)è&& 
W_TYPE_SIZE
 == 32

378 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

379 
	`__asm__
 ("add %1,%4,%5\n\taddc %0,%2,%3" \

380 : "ô" (
sh
), "=&r" (
¦
) \

381 : "r" (
ah
), "rI" (
bh
), "%r" (
®
), "rI" (
bl
))

	)

382 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

383 
	`__asm__
 ("sub %1,%4,%5\n\tsubc %0,%2,%3" \

384 : "ô" (
sh
), "=&r" (
¦
) \

385 : "r" (
ah
), "rI" (
bh
), "r" (
®
), "rI" (
bl
))

	)

386 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

388 
USIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

389 
	`__asm__
 ("multiplu %0,%1,%2" \

390 : "ô" (
xl
) \

391 : "r" (
__m0
), "r" (
__m1
)); \

392 
	`__asm__
 ("multmu %0,%1,%2" \

393 : "ô" (
xh
) \

394 : "r" (
__m0
), "r" (
__m1
)); \

395 } 0)

	)

396 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

397 
	`__asm__
 ("dividu %0,%3,%4" \

398 : "ô" (
q
), "=q" (
r
) \

399 : "1" (
n1
), "r" (
n0
), "r" (
d
))

	)

400 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

401 
	`__asm__
 ("clz %0,%1" \

402 : "ô" (
couÁ
) \

403 : "r" (
x
))

	)

404 
	#COUNT_LEADING_ZEROS_0
 32

	)

407 #ià
defšed
 (
__¬c__
)

408 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

409 
	`__asm__
 ("add.f\t%1, %4, %5\n\tadc\t%0, %2, %3" \

410 : "ô" (
sh
), \

411 "=&r" (
¦
) \

412 : "r" ((
USIty³
è(
ah
)), \

413 "rIJ" ((
USIty³
è(
bh
)), \

414 "%r" ((
USIty³
è(
®
)), \

415 "rIJ" ((
USIty³
è(
bl
)))

	)

416 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

417 
	`__asm__
 ("sub.f\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

418 : "ô" (
sh
), \

419 "=&r" (
¦
) \

420 : "r" ((
USIty³
è(
ah
)), \

421 "rIJ" ((
USIty³
è(
bh
)), \

422 "r" ((
USIty³
è(
®
)), \

423 "rIJ" ((
USIty³
è(
bl
)))

	)

426 #ià
defšed
 (
__¬m__
è&& 
W_TYPE_SIZE
 == 32

427 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

428 
	`__asm__
 ("adds\t%1, %4, %5\n\tadc\t%0, %2, %3" \

429 : "ô" (
sh
), "=&r" (
¦
) \

430 : "r" (
ah
), "rI" (
bh
), "%r" (
®
), "rI" (
bl
è
__CLOBBER_CC
)

	)

431 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

433 ià(
	`__butš_cÚ¡ªt_p
 (
®
)) \

435 ià(
	`__butš_cÚ¡ªt_p
 (
ah
)) \

436 
	`__asm__
 ("rsbs\t%1, %5, %4\n\trsc\t%0, %3, %2" \

437 : "ô" (
sh
), "=&r" (
¦
) \

438 : "rI" (
ah
), "r" (
bh
), "rI" (
®
), "r" (
bl
è
__CLOBBER_CC
); \

440 
	`__asm__
 ("rsbs\t%1, %5, %4\n\tsbc\t%0, %2, %3" \

441 : "ô" (
sh
), "=&r" (
¦
) \

442 : "r" (
ah
), "rI" (
bh
), "rI" (
®
), "r" (
bl
è
__CLOBBER_CC
); \

444 ià(
	`__butš_cÚ¡ªt_p
 (
ah
)) \

446 ià(
	`__butš_cÚ¡ªt_p
 (
bl
)) \

447 
	`__asm__
 ("subs\t%1, %4, %5\n\trsc\t%0, %3, %2" \

448 : "ô" (
sh
), "=&r" (
¦
) \

449 : "rI" (
ah
), "r" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
); \

451 
	`__asm__
 ("rsbs\t%1, %5, %4\n\trsc\t%0, %3, %2" \

452 : "ô" (
sh
), "=&r" (
¦
) \

453 : "rI" (
ah
), "r" (
bh
), "rI" (
®
), "r" (
bl
è
__CLOBBER_CC
); \

455 ià(
	`__butš_cÚ¡ªt_p
 (
bl
)) \

457 ià(
	`__butš_cÚ¡ªt_p
 (
bh
)) \

458 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

459 : "ô" (
sh
), "=&r" (
¦
) \

460 : "r" (
ah
), "rI" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
); \

462 
	`__asm__
 ("subs\t%1, %4, %5\n\trsc\t%0, %3, %2" \

463 : "ô" (
sh
), "=&r" (
¦
) \

464 : "rI" (
ah
), "r" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
); \

467 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

468 : "ô" (
sh
), "=&r" (
¦
) \

469 : "r" (
ah
), "rI" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
);\

470 } 0)

	)

471 #ià1 || 
defšed
 (
__¬m_m__
)

472 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

473 
	`__asm__
 ("umuÎ %0,%1,%2,%3" : "=&r" (
xl
), "=&r" (
xh
è: "r" (
a
), "r" (
b
))

	)

474 
	#UMUL_TIME
 5

	)

475 
	#smul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

476 
	`__asm__
 ("smuÎ %0,%1,%2,%3" : "=&r" (
xl
), "=&r" (
xh
è: "r" (
a
), "r" (
b
))

	)

477 #iâdeà
LONGLONG_STANDALONE


478 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

479 dØ{ 
UWty³
 
__di
; \

480 
__di
 = 
	`__MPN
(
šv”t_limb
è(
d
); \

481 
	`udiv_qºnd_´ešv
 (
q
, 
r
, 
n1
, 
n0
, 
d
, 
__di
); \

482 } 0)

	)

483 
	#UDIV_PREINV_ALWAYS
 1

	)

484 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

485 
	#UDIV_TIME
 70

	)

488 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

489 
	`__asm__
 ("%@ Inlined umul_ppmm\n" \

502 : "=&r" (
xh
), "ô" (
xl
) \

503 : "r" (
a
), "r" (
b
) \

504 : "r0", "r1", "r2")

	)

505 
	#UMUL_TIME
 20

	)

506 #iâdeà
LONGLONG_STANDALONE


507 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

508 dØ{ 
UWty³
 
__r
; \

509 (
q
èğ
	`__MPN
(
udiv_qºnd
è(&
__r
, (
n1
), (
n0
), (
d
)); \

510 (
r
èğ
__r
; \

511 } 0)

	)

512 
UWty³
 
	$__MPN
(
udiv_qºnd
è(
UWty³
 *, UWtype, UWtype, UWtype);

513 
	#UDIV_TIME
 200

	)

517 #ià
	`defšed
 (
__ARM_ARCH_5__
è|| defšed (
__ARM_ARCH_5T__
) || \

518 
	`defšed
 (
__ARM_ARCH_5E__
è|| defšed (
__ARM_ARCH_5TE__
)|| \

519 
	`defšed
 (
__ARM_ARCH_6__
è|| defšed (
__ARM_ARCH_6J__
) || \

520 
	`defšed
 (
__ARM_ARCH_6K__
è|| defšed (
__ARM_ARCH_6Z__
) || \

521 
	`defšed
 (
__ARM_ARCH_6ZK__
)|| defšed (
__ARM_ARCH_6T2__
)|| \

522 
	`defšed
 (
__ARM_ARCH_6M__
è|| defšed (
__ARM_ARCH_7__
) || \

523 
	`defšed
 (
__ARM_ARCH_7A__
è|| defšed (
__ARM_ARCH_7R__
) || \

524 
	`defšed
 (
__ARM_ARCH_7M__
è|| 
	$defšed
 (
__ARM_ARCH_7EM__
)

525 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

526 
	`__asm__
 ("şz\t%0, %1" : "ô" (
couÁ
è: "r" (
x
))

	)

527 
	#COUNT_LEADING_ZEROS_0
 32

	)

531 #ià
	`defšed
 (
__¯rch64__
è&& 
W_TYPE_SIZE
 == 64

532 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

533 
	`__asm__
 ("adds\t%1, %4, %5\n\tadc\t%0, %2, %3" \

534 : "ô" (
sh
), "=&r" (
¦
) \

535 : "r" (
ah
), "rZ" (
bh
), "%r" (
®
), "rI" (
bl
è
__CLOBBER_CC
)

	)

536 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

538 ià(
	`__butš_cÚ¡ªt_p
 (
bl
)) \

540 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

541 : "ô" (
sh
), "=&r" (
¦
) \

542 : "r" (
ah
), "r" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
); \

545 
	`__asm__
 ("subs\t%1, %4, %5\n\tsbc\t%0, %2, %3" \

546 : "ô" (
sh
), "=&r" (
¦
) \

547 : "r" (
ah
), "rZ" (
bh
), "r" (
®
), "rI" (
bl
è
__CLOBBER_CC
);\

548 
	}
} 0)

	)

549 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

551 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

552 
	`__asm__
 ("umulh\t%0, %1, %2" : "ô" (
ph
è: "r" (
m0
), "r" (
m1
)); \

553 (
¶
èğ
__m0
 * 
__m1
; \

554 } 0)

	)

555 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

556 
	`__asm__
 ("şz\t%0, %1" : "ô" (
couÁ
è: "r" (
x
))

	)

557 
	#COUNT_LEADING_ZEROS_0
 64

	)

560 #ià
defšed
 (
__ş³r__
è&& 
W_TYPE_SIZE
 == 32

561 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

562 ({uniÚ {
UDIty³
 
__Î
; \

563 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

564 } 
__x
; \

565 
	`__asm__
 ("mulwux %2,%0" \

566 : "ô" (
__x
.
__Î
) \

567 : "%0" ((
USIty³
)(
u
)), "r" ((USIty³)(
v
))); \

568 (
w1
èğ
__x
.
__i
.
__h
; (
w0
èğ__x.__i.
__l
;})

	)

569 
	#smul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

570 ({uniÚ {
DIty³
 
__Î
; \

571 ¡ruù {
SIty³
 
__l
, 
__h
;} 
__i
; \

572 } 
__x
; \

573 
	`__asm__
 ("mulwx %2,%0" \

574 : "ô" (
__x
.
__Î
) \

575 : "%0" ((
SIty³
)(
u
)), "r" ((SIty³)(
v
))); \

576 (
w1
èğ
__x
.
__i
.
__h
; (
w0
èğ__x.__i.
__l
;})

	)

577 
	#__umulsidi3
(
u
, 
v
) \

578 ({
UDIty³
 
__w
; \

579 
	`__asm__
 ("mulwux %2,%0" \

580 : "ô" (
__w
è: "%0" ((
USIty³
)(
u
)), "r" ((USIty³)(
v
))); \

581 
__w
; })

	)

585 #ià
defšed
 (
__uxp__
è&& 
W_TYPE_SIZE
 == 32

586 
	#umul_µmm
(
ph
, 
¶
, 
u
, 
v
) \

588 uniÚ {
UDIty³
 
__Î
; \

589 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

590 } 
__x
; \

591 
	`__asm__
 ("muÉ.lu %1,%2,%0" : "ô" (
__x
.
__Î
è: "%r" (
u
), "rK" (
v
));\

592 (
ph
èğ
__x
.
__i
.
__h
; \

593 (
¶
èğ
__x
.
__i
.
__l
; \

594 } 0)

	)

595 
	#smul_µmm
(
ph
, 
¶
, 
u
, 
v
) \

597 uniÚ {
UDIty³
 
__Î
; \

598 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

599 } 
__x
; \

600 
	`__asm__
 ("muÉ.È%1,%2,%0" : "ô" (
__x
.
__Î
è: "%r" (
u
), "rK" (
v
)); \

601 (
ph
èğ
__x
.
__i
.
__h
; \

602 (
¶
èğ
__x
.
__i
.
__l
; \

603 } 0)

	)

606 #ià
defšed
 (
__gmiüo__
è&& 
W_TYPE_SIZE
 == 32

607 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

608 
	`__asm__
 ("add.w %5,%1\n\taddx %3,%0" \

609 : "=g" (
sh
), "=&g" (
¦
) \

610 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

611 "%1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

612 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

613 
	`__asm__
 ("sub.w %5,%1\n\tsubx %3,%0" \

614 : "=g" (
sh
), "=&g" (
¦
) \

615 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

616 "1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

617 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

618 
	`__asm__
 ("mulx %3,%0,%1" \

619 : "=g" (
ph
), "ô" (
¶
) \

620 : "%0" ((
USIty³
)(
m0
)), "g" ((USIty³)(
m1
)))

	)

621 
	#udiv_qºnd
(
q
, 
r
, 
nh
, 
Æ
, 
d
) \

622 
	`__asm__
 ("divx %4,%0,%1" \

623 : "=g" (
q
), "ô" (
r
) \

624 : "1" ((
USIty³
)(
nh
)), "0" ((USIty³)(
Æ
)), "g" ((USIty³)(
d
)))

	)

625 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

626 
	`__asm__
 ("bsch/1 %1,%0" \

627 : "=g" (
couÁ
è: "g" ((
USIty³
)(
x
)), "0" ((USIty³)0))

	)

630 #ià
defšed
 (
__hµa
è&& 
W_TYPE_SIZE
 == 32

631 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

632 
	`__asm__
 ("add%I5 %5,%r4,%1\n\taddc %r2,%r3,%0" \

633 : "ô" (
sh
), "=&r" (
¦
) \

634 : "rM" (
ah
), "rM" (
bh
), "%rM" (
®
), "rI" (
bl
))

	)

635 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

636 
	`__asm__
 ("sub%I4 %4,%r5,%1\n\tsubb %r2,%r3,%0" \

637 : "ô" (
sh
), "=&r" (
¦
) \

638 : "rM" (
ah
), "rM" (
bh
), "rI" (
®
), "rM" (
bl
))

	)

639 #ià
defšed
 (
_PA_RISC1_1
)

640 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

642 uniÚ {
UDIty³
 
__Î
; \

643 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

644 } 
__x
; \

645 
	`__asm__
 ("xmpyu %1,%2,%0" : "=*f" (
__x
.
__Î
è: "*f" (
u
), "*f" (
v
)); \

646 (
wh
èğ
__x
.
__i
.
__h
; \

647 (
wl
èğ
__x
.
__i
.
__l
; \

648 } 0)

	)

649 
	#UMUL_TIME
 8

	)

650 
	#UDIV_TIME
 60

	)

652 
	#UMUL_TIME
 40

	)

653 
	#UDIV_TIME
 80

	)

655 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

657 
USIty³
 
__tmp
; \

658 
	`__asm__
 ( \

674 : "ô" (
couÁ
), "ô" (
__tmp
è: "1" (
x
)); \

675 } 0)

	)

681 #ià
defšed
 (
__hµa
è&& 
W_TYPE_SIZE
 =ğ64 && ! defšed (
_LONG_LONG_LIMB
)

682 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

683 
	`__asm__
 ("add%I5 %5,%r4,%1\n\tadd,dc %r2,%r3,%0" \

684 : "ô" (
sh
), "=&r" (
¦
) \

685 : "rM" (
ah
), "rM" (
bh
), "%rM" (
®
), "rI" (
bl
))

	)

686 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

687 
	`__asm__
 ("sub%I4 %4,%r5,%1\n\tsub,db %r2,%r3,%0" \

688 : "ô" (
sh
), "=&r" (
¦
) \

689 : "rM" (
ah
), "rM" (
bh
), "rI" (
®
), "rM" (
bl
))

	)

692 #ià(
defšed
 (
__i370__
è|| defšed (
__s390__
è|| defšed (
__mvs__
)è&& 
W_TYPE_SIZE
 == 32

693 #ià
defšed
 (
__z¬ch__
è|| defšed (
HAVE_HOST_CPU_s390_z¬ch
)

694 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

696  
	`__asm__
 ("alr\t%1,%5\n\talcr\t%0,%3" \

702 : "ô" (
sh
), "=&r" (
¦
) \

703 : "0" (
ah
), "r" (
bh
), "%1" (
®
), "r" (
bl
)
__CLOBBER_CC
); \

704 } 0)

	)

705 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

707  
	`__asm__
 ("slr\t%1,%5\n\tslbr\t%0,%3" \

713 : "ô" (
sh
), "=&r" (
¦
) \

714 : "0" (
ah
), "r" (
bh
), "1" (
®
), "r" (
bl
è
__CLOBBER_CC
); \

715 } 0)

	)

716 #ià
__GMP_GNUC_PREREQ
 (4,5)

717 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

719 uniÚ {
UDIty³
 
__Î
; \

720 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

721 } 
__x
; \

722 
__x
.
__Î
 = (
UDIty³
è(
m0
è* (UDIty³è(
m1
); \

723 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

724 } 0)

	)

729 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

731 uniÚ {
UDIty³
 
__Î
; \

732 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

733 } 
__x
; \

734 
	`__asm__
 ("mlr\t%0,%2" \

735 : "ô" (
__x
.
__Î
) \

736 : "%0" (
m0
), "r" (
m1
)); \

737 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

738 } 0)

	)

740 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

746 
USIty³
 
__r0
 
	`__asm__
 ("0"); \

747 
USIty³
 
__r1
 
	`__asm__
 ("1"èğ(
m0
); \

748 
	`__asm__
 ("mlr\t%0,%3" \

749 : "ô" (
__r0
), "ô" (
__r1
) \

750 : "r" (
__r1
), "r" (
m1
)); \

751 (
xh
èğ
__r0
; (
xl
èğ
__r1
; \

752 } 0)

	)

758 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

760 uniÚ {
UDIty³
 
__Î
; \

761 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

762 } 
__x
; \

763 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

764 
	`__asm__
 ("dlr\t%0,%2" \

765 : "ô" (
__x
.
__Î
) \

766 : "0" (
__x
.
__Î
), "r" (
d
)); \

767 (
q
èğ
__x
.
__i
.
__l
; (
r
èğ__x.__i.
__h
; \

768 } 0)

	)

770 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

772 
USIty³
 
__r0
 
	`__asm__
 ("0"èğ(
n1
); \

773 
USIty³
 
__r1
 
	`__asm__
 ("1"èğ(
n0
); \

774 
	`__asm__
 ("dlr\t%0,%4" \

775 : "ô" (
__r0
), "ô" (
__r1
) \

776 : "r" (
__r0
), "r" (
__r1
), "r" (
d
)); \

777 (
q
èğ
__r1
; (
r
èğ
__r0
; \

778 } 0)

	)

782 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

784 uniÚ {
DIty³
 
__Î
; \

785 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

786 } 
__x
; \

787 
	`__asm__
 ("mr\t%0,%2" \

788 : "ô" (
__x
.
__Î
) \

789 : "%0" (
m0
), "r" (
m1
)); \

790 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

791 } 0)

	)

793 
	#sdiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

795 uniÚ {
DIty³
 
__Î
; \

796 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

797 } 
__x
; \

798 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

799 
	`__asm__
 ("dr\t%0,%2" \

800 : "ô" (
__x
.
__Î
) \

801 : "0" (
__x
.
__Î
), "r" (
d
)); \

802 (
q
èğ
__x
.
__i
.
__l
; (
r
èğ__x.__i.
__h
; \

803 } 0)

	)

807 #ià
defšed
 (
__s390x__
è&& 
W_TYPE_SIZE
 == 64

812 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

814 
	`__asm__
 ("algr\t%1,%5\n\talcgr\t%0,%3" \

815 : "ô" (
sh
), "=&r" (
¦
) \

816 : "0" ((
UDIty³
)(
ah
)), "r" ((UDIty³)(
bh
)), \

817 "%1" ((
UDIty³
)(
®
)), "r" ((UDIty³)(
bl
)è
__CLOBBER_CC
); \

818 } 0)

	)

819 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

821 
	`__asm__
 ("slgr\t%1,%5\n\tslbgr\t%0,%3" \

822 : "ô" (
sh
), "=&r" (
¦
) \

823 : "0" ((
UDIty³
)(
ah
)), "r" ((UDIty³)(
bh
)), \

824 "1" ((
UDIty³
)(
®
)), "r" ((UDIty³)(
bl
)è
__CLOBBER_CC
); \

825 } 0)

	)

826 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

828 uniÚ {
	`__©Œibu‹__
 ((
	`mode
(
TI
))è
__Î
; \

829 ¡ruù {
UDIty³
 
__h
, 
__l
;} 
__i
; \

830 } 
__x
; \

831 
	`__asm__
 ("mlgr\t%0,%2" \

832 : "ô" (
__x
.
__Î
) \

833 : "%0" ((
UDIty³
)(
m0
)), "r" ((UDIty³)(
m1
))); \

834 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

835 } 0)

	)

836 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

838 uniÚ {
	`__©Œibu‹__
 ((
	`mode
(
TI
))è
__Î
; \

839 ¡ruù {
UDIty³
 
__h
, 
__l
;} 
__i
; \

840 } 
__x
; \

841 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

842 
	`__asm__
 ("dlgr\t%0,%2" \

843 : "ô" (
__x
.
__Î
) \

844 : "0" (
__x
.
__Î
), "r" ((
UDIty³
)(
d
))); \

845 (
q
èğ
__x
.
__i
.
__l
; (
r
èğ__x.__i.
__h
; \

846 } 0)

	)

848 
	#couÁ_Ëadšg_z”os
(
út
, 
x
) \

850 uniÚ {
	`__©Œibu‹__
 ((
	`mode
(
TI
))è
__Î
; \

851 ¡ruù {
UDIty³
 
__h
, 
__l
;} 
__i
; \

852 } 
__şr_út
; \

853 
	`__asm__
 ("flogr\t%0,%1" \

854 : "ô" (
__şr_út
.
__Î
) \

855 : "r" (
x
è
__CLOBBER_CC
); \

856 (
út
èğ
__şr_út
.
__i
.
__h
; \

857 } 0)

	)

861 #ià(
defšed
 (
__i386__
è|| defšed (
__i486__
)è&& 
W_TYPE_SIZE
 == 32

862 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

863 
	`__asm__
 ("addl %5,%k1\n\tadcl %3,%k0" \

864 : "ô" (
sh
), "=&r" (
¦
) \

865 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

866 "%1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

867 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

868 
	`__asm__
 ("subl %5,%k1\n\tsbbl %3,%k0" \

869 : "ô" (
sh
), "=&r" (
¦
) \

870 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

871 "1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

872 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

873 
	`__asm__
 ("mull %3" \

874 : "÷" (
w0
), "=d" (
w1
) \

875 : "%0" ((
USIty³
)(
u
)), "rm" ((USIty³)(
v
)))

	)

876 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
dx
) \

877 
	`__asm__
 ("divl %4" \

878 : "÷" (
q
), "=d" (
r
) \

879 : "0" ((
USIty³
)(
n0
)), "1" ((USIty³)(
n1
)), "rm" ((USIty³)(
dx
)))

	)

881 #ià
HAVE_HOST_CPU_i586
 || 
HAVE_HOST_CPU_³Áium
 || 
HAVE_HOST_CPU_³Áiummmx


888 #ià
HAVE_HOST_CPU_³Áiummmx
 && ! 
defšed
 (
LONGLONG_STANDALONE
)

907 
	#couÁ_Ëadšg_z”os
(
c
,
n
) \

909 
USIty³
 
__n
 = (
n
); \

910 
USIty³
 
__shiá
; \

911 
	`__asm__
 ("cmpl $0x1000000, %1\n" \

917 : "=&r" (
__shiá
è: "r" (
__n
)); \

918 
__shiá
 = __shift*8 + 24 + 1; \

919 (
c
èğ32 + 1 - 
__shiá
 - 
__şz_b
[
__n
 >> __shift]; \

920 } 0)

	)

921 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

922 
	#COUNT_LEADING_ZEROS_0
 31

	)

931 
	#couÁ_Ëadšg_z”os
(
c
,
n
) \

934 
d
; \

935 
a
[2]; \

936 } 
__u
; \

937 
	`ASSERT
 ((
n
) != 0); \

938 
__u
.
d
 = (
UWty³
è(
n
); \

939 (
c
èğ0x3FF + 31 - (
__u
.
a
[1] >> 20); \

940 } 0)

	)

941 
	#COUNT_LEADING_ZEROS_0
 (0x3FF + 31)

	)

946 #ià
__GMP_GNUC_PREREQ
 (3,4)

947 
	#couÁ_Ëadšg_z”os
(
couÁ
,
x
è
	`couÁ_Ëadšg_z”os_gcc_şz
(couÁ,x)

	)

955 #ià! 
defšed
 (
couÁ_Ëadšg_z”os
è&& 
__GNUC__
 < 3 \

956 && (
	gHAVE_HOST_CPU_i386
 \

957 || 
	gHAVE_HOST_CPU_i686
 \

958 || 
	gHAVE_HOST_CPU_³Áium´o
 \

959 || 
	gHAVE_HOST_CPU_³Áium2
 \

960 || 
	gHAVE_HOST_CPU_³Áium3
)

961 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

963 
USIty³
 
__cbtmp
; \

964 
	`ASSERT
 ((
x
) != 0); \

965 
	`__asm__
 ("b¤È%1,%0" : "ô" (
__cbtmp
è: "rm" ((
USIty³
)(
x
))); \

966 (
couÁ
èğ31 - 
__cbtmp
; \

967 } 0)

	)

970 #iâdeà
couÁ_Ëadšg_z”os


971 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

973 
USIty³
 
__cbtmp
; \

974 
	`ASSERT
 ((
x
) != 0); \

975 
	`__asm__
 ("b¤È%1,%0" : "ô" (
__cbtmp
è: "rm" ((
USIty³
)(
x
))); \

976 (
couÁ
èğ
__cbtmp
 ^ 31; \

977 } 0)

	)

980 #ià
__GMP_GNUC_PREREQ
 (3,4)

981 
	#couÁ_Œašg_z”os
(
couÁ
,
x
è
	`couÁ_Œašg_z”os_gcc_ùz
(couÁ,x)

	)

984 #iâdeà
couÁ_Œašg_z”os


985 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) \

987 
	`ASSERT
 ((
x
) != 0); \

988 
	`__asm__
 ("bsæ %1,%k0" : "ô" (
couÁ
è: "rm" ((
USIty³
)(
x
))); \

989 } 0)

	)

994 #iâdeà
UMUL_TIME


995 
	#UMUL_TIME
 10

	)

997 #iâdeà
UDIV_TIME


998 
	#UDIV_TIME
 40

	)

1002 #ià
defšed
 (
__amd64__
è&& 
W_TYPE_SIZE
 == 64

1003 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1004 
	`__asm__
 ("addq %5,%q1\n\tadcq %3,%q0" \

1005 : "ô" (
sh
), "=&r" (
¦
) \

1006 : "0" ((
UDIty³
)(
ah
)), "rme" ((UDIty³)(
bh
)), \

1007 "%1" ((
UDIty³
)(
®
)), "rme" ((UDIty³)(
bl
)))

	)

1008 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1009 
	`__asm__
 ("subq %5,%q1\n\tsbbq %3,%q0" \

1010 : "ô" (
sh
), "=&r" (
¦
) \

1011 : "0" ((
UDIty³
)(
ah
)), "rme" ((UDIty³)(
bh
)), \

1012 "1" ((
UDIty³
)(
®
)), "rme" ((UDIty³)(
bl
)))

	)

1013 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1014 
	`__asm__
 ("mulq %3" \

1015 : "÷" (
w0
), "=d" (
w1
) \

1016 : "%0" ((
UDIty³
)(
u
)), "rm" ((UDIty³)(
v
)))

	)

1017 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
dx
) \

1018 
	`__asm__
 ("divq %4" \

1019 : "÷" (
q
), "=d" (
r
) \

1020 : "0" ((
UDIty³
)(
n0
)), "1" ((UDIty³)(
n1
)), "rm" ((UDIty³)(
dx
)))

	)

1022 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1024 
UDIty³
 
__cbtmp
; \

1025 
	`ASSERT
 ((
x
) != 0); \

1026 
	`__asm__
 ("b¤q %1,%0" : "ô" (
__cbtmp
è: "rm" ((
UDIty³
)(
x
))); \

1027 (
couÁ
èğ
__cbtmp
 ^ 63; \

1028 } 0)

	)

1031 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) \

1033 
	`ASSERT
 ((
x
) != 0); \

1034 
	`__asm__
 ("bsfq %1,%q0" : "ô" (
couÁ
è: "rm" ((
UDIty³
)(
x
))); \

1035 } 0)

	)

1038 #ià
defšed
 (
__i860__
è&& 
W_TYPE_SIZE
 == 32

1039 
	#rshiá_rhlc
(
r
,
h
,
l
,
c
) \

1040 
	`__asm__
 ("shr %3,r0,r0\;shrd %1,%2,%0" \

1041 "ô" (
r
è: "r" (
h
), "r" (
l
), "º" (
c
))

	)

1044 #ià
defšed
 (
__i960__
è&& 
W_TYPE_SIZE
 == 32

1045 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1046 
	`__asm__
 ("cmpo 1,0\;addc %5,%4,%1\;addc %3,%2,%0" \

1047 : "ô" (
sh
), "=&r" (
¦
) \

1048 : "dI" (
ah
), "dI" (
bh
), "%dI" (
®
), "dI" (
bl
))

	)

1049 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1050 
	`__asm__
 ("cmpo 0,0\;subc %5,%4,%1\;subc %3,%2,%0" \

1051 : "ô" (
sh
), "=&r" (
¦
) \

1052 : "dI" (
ah
), "dI" (
bh
), "dI" (
®
), "dI" (
bl
))

	)

1053 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1054 ({uniÚ {
UDIty³
 
__Î
; \

1055 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1056 } 
__x
; \

1057 
	`__asm__
 ("emul %2,%1,%0" \

1058 : "=d" (
__x
.
__Î
è: "%dI" (
u
), "dI" (
v
)); \

1059 (
w1
èğ
__x
.
__i
.
__h
; (
w0
èğ__x.__i.
__l
;})

	)

1060 
	#__umulsidi3
(
u
, 
v
) \

1061 ({
UDIty³
 
__w
; \

1062 
	`__asm__
 ("emuÈ%2,%1,%0" : "=d" (
__w
è: "%dI" (
u
), "dI" (
v
)); \

1063 
__w
; })

	)

1064 
	#udiv_qºnd
(
q
, 
r
, 
nh
, 
Æ
, 
d
) \

1066 uniÚ {
UDIty³
 
__Î
; \

1067 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1068 } 
__Â
; \

1069 
__Â
.
__i
.
__h
 = (
nh
); __Â.__i.
__l
 = (
Æ
); \

1070 
	`__asm__
 ("ediv %d,%n,%0" \

1071 : "=d" (
__rq
.
__Î
è: "dI" (
__Â
.__Î), "dI" (
d
)); \

1072 (
r
èğ
__rq
.
__i
.
__l
; (
q
èğ__rq.__i.
__h
; \

1073 } 0)

	)

1074 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1076 
USIty³
 
__cbtmp
; \

1077 
	`__asm__
 ("sÿnb™ %1,%0" : "ô" (
__cbtmp
è: "r" (
x
)); \

1078 (
couÁ
èğ
__cbtmp
 ^ 31; \

1079 } 0)

	)

1080 
	#COUNT_LEADING_ZEROS_0
 (-32è

	)

1081 #ià
defšed
 (
__i960mx
)

1082 
	#rshiá_rhlc
(
r
,
h
,
l
,
c
) \

1084 uniÚ {
UDIty³
 
__Î
; \

1085 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1086 } 
__Â
; \

1087 
__Â
.
__i
.
__h
 = (
h
); __Â.__i.
__l
 = (
l
); \

1088 
	`__asm__
 ("sh» %2,%1,%0" : "=d" (
r
è: "dI" (
__Â
.
__Î
), "dI" (
c
)); \

1089 }

	)

1093 #ià(
defšed
 (
__mc68000__
è|| defšed (
__mc68020__
è|| defšed(
mc68020
) \

1094 || 
defšed
 (
__m68k__
è|| defšed (
__mc5200__
è|| defšed (
__mc5206e__
) \

1095 || 
defšed
 (
__mc5307__
)è&& 
	gW_TYPE_SIZE
 == 32

1096 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1097 
	`__asm__
 ("add%.l %5,%1\n\taddx%.l %3,%0" \

1098 : "=d" (
sh
), "=&d" (
¦
) \

1099 : "0" ((
USIty³
)(
ah
)), "d" ((USIty³)(
bh
)), \

1100 "%1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1101 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1102 
	`__asm__
 ("sub%.l %5,%1\n\tsubx%.l %3,%0" \

1103 : "=d" (
sh
), "=&d" (
¦
) \

1104 : "0" ((
USIty³
)(
ah
)), "d" ((USIty³)(
bh
)), \

1105 "1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1107 #ià
defšed
 (
__mc68020__
è|| defšed(
mc68020
) \

1108 || 
defšed
 (
__mc68030__
è|| defšed (
mc68030
) \

1109 || 
defšed
 (
__mc68040__
è|| defšed (
mc68040
) \

1110 || 
defšed
 (
__mıu32__
è|| defšed (
mıu32
) \

1111 || 
	$defšed
 (
__NeXT__
)

1112 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1113 
	`__asm__
 ("mulu%.l %3,%1:%0" \

1114 : "=d" (
w0
), "=d" (
w1
) \

1115 : "%0" ((
USIty³
)(
u
)), "dmi" ((USIty³)(
v
)))

	)

1116 
	#UMUL_TIME
 45

	)

1117 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1118 
	`__asm__
 ("divu%.l %4,%1:%0" \

1119 : "=d" (
q
), "=d" (
r
) \

1120 : "0" ((
USIty³
)(
n0
)), "1" ((USIty³)(
n1
)), "dmi" ((USIty³)(
d
)))

	)

1121 
	#UDIV_TIME
 90

	)

1122 
	#sdiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1123 
	`__asm__
 ("divs%.l %4,%1:%0" \

1124 : "=d" (
q
), "=d" (
r
) \

1125 : "0" ((
USIty³
)(
n0
)), "1" ((USIty³)(
n1
)), "dmi" ((USIty³)(
d
)))

	)

1127 
	#umul_µmm
(
xh
, 
xl
, 
a
, 
b
) \

1128 dØ{ 
USIty³
 
__umul_tmp1
, 
__umul_tmp2
; \

1129 
	`__asm__
 ("| Inlined umul_ppmm\n" \

1151 : "=&d" (
xh
), "=&d" (
xl
), \

1152 "=d" (
__umul_tmp1
), "=&d" (
__umul_tmp2
) \

1153 : "%2" ((
USIty³
)(
a
)), "d" ((USIty³)(
b
))); \

1154 
	}
} 0)

	)

1155 
	#UMUL_TIME
 100

	)

1156 
	#UDIV_TIME
 400

	)

1161 #ià(
defšed
 (
__mc68020__
è|| defšed (
mc68020
) \

1162 || 
defšed
 (
__mc68030__
è|| defšed (
mc68030
) \

1163 || 
defšed
 (
__mc68040__
è|| defšed (
mc68040
) \

1164 || 
defšed
 (
__mc68060__
è|| defšed (
mc68060
) \

1165 || 
defšed
 (
__NeXT__
)) \

1166 && ! 
	$defšed
 (
__mıu32__
)

1167 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1168 
	`__asm__
 ("bfffo %1{%b2:%b2},%0" \

1169 : "=d" (
couÁ
) \

1170 : "od" ((
USIty³
è(
x
)), "n" (0))

	)

1171 
	#COUNT_LEADING_ZEROS_0
 32

	)

1175 #ià
	`defšed
 (
__m88000__
è&& 
W_TYPE_SIZE
 == 32

1176 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1177 
	`__asm__
 ("addu.co %1,%r4,%r5\n\taddu.ci %0,%r2,%r3" \

1178 : "ô" (
sh
), "=&r" (
¦
) \

1179 : "rJ" (
ah
), "rJ" (
bh
), "%rJ" (
®
), "rJ" (
bl
))

	)

1180 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1181 
	`__asm__
 ("subu.co %1,%r4,%r5\n\tsubu.ci %0,%r2,%r3" \

1182 : "ô" (
sh
), "=&r" (
¦
) \

1183 : "rJ" (
ah
), "rJ" (
bh
), "rJ" (
®
), "rJ" (
bl
))

	)

1184 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1186 
USIty³
 
__cbtmp
; \

1187 
	`__asm__
 ("ff1 %0,%1" : "ô" (
__cbtmp
è: "r" (
x
)); \

1188 (
couÁ
èğ
__cbtmp
 ^ 31; \

1189 
	}
} 0)

	)

1190 
	#COUNT_LEADING_ZEROS_0
 63

	)

1191 #ià
defšed
 (
__m88110__
)

1192 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1194 uniÚ {
UDIty³
 
__Î
; \

1195 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

1196 } 
__x
; \

1197 
	`__asm__
 ("mulu.d %0,%1,%2" : "ô" (
__x
.
__Î
è: "r" (
u
), "r" (
v
)); \

1198 (
wh
èğ
__x
.
__i
.
__h
; \

1199 (
wl
èğ
__x
.
__i
.
__l
; \

1200 } 0)

	)

1201 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1202 ({uniÚ {
UDIty³
 
__Î
; \

1203 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

1204 } 
__x
, 
__q
; \

1205 
__x
.
__i
.
__h
 = (
n1
); __x.__i.
__l
 = (
n0
); \

1206 
	`__asm__
 ("divu.d %0,%1,%2" \

1207 : "ô" (
__q
.
__Î
è: "r" (
__x
.__Î), "r" (
d
)); \

1208 (
r
èğ(
n0
è- 
__q
.
__l
 * (
d
); (
q
èğ__q.__l; })

	)

1209 
	#UMUL_TIME
 5

	)

1210 
	#UDIV_TIME
 25

	)

1212 
	#UMUL_TIME
 17

	)

1213 
	#UDIV_TIME
 150

	)

1217 #ià
defšed
 (
__ms
è&& 
W_TYPE_SIZE
 == 32

1218 #ià
__GMP_GNUC_PREREQ
 (4,4)

1219 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1221 
UDIty³
 
__Î
 = (UDIty³)(
u
è* (
v
); \

1222 
w1
 = 
__Î
 >> 32; \

1223 
w0
 = 
__Î
; \

1224 } 0)

	)

1226 #ià!
defšed
 (
umul_µmm
è&& 
__GMP_GNUC_PREREQ
 (2,7)

1227 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1228 
	`__asm__
 ("muÉu %2,%3" : "ö" (
w0
), "=h" (
w1
è: "d" (
u
), "d" (
v
))

	)

1230 #ià!
defšed
 (
umul_µmm
)

1231 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1232 
	`__asm__
 ("multu %2,%3\n\tmflo %0\n\tmfhi %1" \

1233 : "=d" (
w0
), "=d" (
w1
è: "d" (
u
), "d" (
v
))

	)

1235 
	#UMUL_TIME
 10

	)

1236 
	#UDIV_TIME
 100

	)

1239 #ià(
defšed
 (
__ms
è&& __m >ğ3è&& 
W_TYPE_SIZE
 == 64

1240 #ià
__GMP_GNUC_PREREQ
 (4,4)

1241 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1243 
	t__Î_UTIty³
 
	t__©Œibu‹__
((
	tmode
(
	tTI
))); \

1244 
__Î_UTIty³
 
__Î
 = (__Î_UTIty³)(
u
è* (
v
); \

1245 
w1
 = 
__Î
 >> 64; \

1246 
w0
 = 
__Î
; \

1247 } 0)

	)

1249 #ià!
defšed
 (
umul_µmm
è&& 
__GMP_GNUC_PREREQ
 (2,7)

1250 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1251 
	`__asm__
 ("dmuÉu %2,%3" : "ö" (
w0
), "=h" (
w1
è: "d" (
u
), "d" (
v
))

	)

1253 #ià!
defšed
 (
umul_µmm
)

1254 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1255 
	`__asm__
 ("dmultu %2,%3\n\tmflo %0\n\tmfhi %1" \

1256 : "=d" (
w0
), "=d" (
w1
è: "d" (
u
), "d" (
v
))

	)

1258 
	#UMUL_TIME
 20

	)

1259 
	#UDIV_TIME
 140

	)

1262 #ià
defšed
 (
__mmix__
è&& 
W_TYPE_SIZE
 == 64

1263 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1264 
	`__asm__
 ("MULU %0,%2,%3" : "ô" (
w0
), "=z" (
w1
è: "r" (
u
), "r" (
v
))

	)

1267 #ià
defšed
 (
__ns32000__
è&& 
W_TYPE_SIZE
 == 32

1268 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1269 ({uniÚ {
UDIty³
 
__Î
; \

1270 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1271 } 
__x
; \

1272 
	`__asm__
 ("meid %2,%0" \

1273 : "=g" (
__x
.
__Î
) \

1274 : "%0" ((
USIty³
)(
u
)), "g" ((USIty³)(
v
))); \

1275 (
w1
èğ
__x
.
__i
.
__h
; (
w0
èğ__x.__i.
__l
;})

	)

1276 
	#__umulsidi3
(
u
, 
v
) \

1277 ({
UDIty³
 
__w
; \

1278 
	`__asm__
 ("meid %2,%0" \

1279 : "=g" (
__w
) \

1280 : "%0" ((
USIty³
)(
u
)), "g" ((USIty³)(
v
))); \

1281 
__w
; })

	)

1282 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1283 ({uniÚ {
UDIty³
 
__Î
; \

1284 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1285 } 
__x
; \

1286 
__x
.
__i
.
__h
 = (
n1
); __x.__i.
__l
 = (
n0
); \

1287 
	`__asm__
 ("deid %2,%0" \

1288 : "=g" (
__x
.
__Î
) \

1289 : "0" (
__x
.
__Î
), "g" ((
USIty³
)(
d
))); \

1290 (
r
èğ
__x
.
__i
.
__l
; (
q
èğ__x.__i.
__h
; })

	)

1291 
	#couÁ_Œašg_z”os
(
couÁ
,
x
) \

1293 
	`__asm__
 ("ffsd %2,%0" \

1294 : "ô" (
couÁ
) \

1295 : "0" ((
USIty³
è0), "r" ((USIty³è(
x
))); \

1296 } 0)

	)

1318 #ià(
HAVE_HOST_CPU_FAMILY_pow”
 || 
HAVE_HOST_CPU_FAMILY_pow”pc
) \

1319 && 
	gW_TYPE_SIZE
 == 32

1320 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1322 ià(
	`__butš_cÚ¡ªt_p
 (
bh
) && (bh) == 0) \

1323 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{aze|addze} %0,%2" \

1324 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "%r" (
®
), "rI" (
bl
));\

1325 ià(
	`__butš_cÚ¡ªt_p
 (
bh
è&& (bhè=ğ~(
USIty³
) 0) \

1326 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{ame|addme} %0,%2" \

1327 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "%r" (
®
), "rI" (
bl
));\

1329 
	`__asm__
 ("{a%I5|add%I5c} %1,%4,%5\n\t{ae|adde} %0,%2,%3" \

1330 : "ô" (
sh
), "=&r" (
¦
) \

1331 : "r" (
ah
), "r" (
bh
), "%r" (
®
), "rI" (
bl
)); \

1332 } 0)

	)

1333 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1335 ià(
	`__butš_cÚ¡ªt_p
 (
ah
) && (ah) == 0) \

1336 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfze|subfze} %0,%2" \

1337 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "r" (
bl
));\

1338 ià(
	`__butš_cÚ¡ªt_p
 (
ah
è&& (ahè=ğ~(
USIty³
) 0) \

1339 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfme|subfme} %0,%2" \

1340 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "r" (
bl
));\

1341 ià(
	`__butš_cÚ¡ªt_p
 (
bh
) && (bh) == 0) \

1342 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{ame|addme} %0,%2" \

1343 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "r" (
bl
));\

1344 ià(
	`__butš_cÚ¡ªt_p
 (
bh
è&& (bhè=ğ~(
USIty³
) 0) \

1345 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{aze|addze} %0,%2" \

1346 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "r" (
bl
));\

1348 
	`__asm__
 ("{sf%I4|subf%I4c} %1,%5,%4\n\t{sfe|subfe} %0,%3,%2" \

1349 : "ô" (
sh
), "=&r" (
¦
) \

1350 : "r" (
ah
), "r" (
bh
), "rI" (
®
), "r" (
bl
)); \

1351 } 0)

	)

1352 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1353 
	`__asm__
 ("{úz|úzw} %0,%1" : "ô" (
couÁ
è: "r" (
x
))

	)

1354 
	#COUNT_LEADING_ZEROS_0
 32

	)

1355 #ià
HAVE_HOST_CPU_FAMILY_pow”pc


1356 #ià
__GMP_GNUC_PREREQ
 (4,4)

1357 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1359 
UDIty³
 
__Î
 = (UDIty³)(
u
è* (
v
); \

1360 
w1
 = 
__Î
 >> 32; \

1361 
w0
 = 
__Î
; \

1362 } 0)

	)

1364 #ià!
defšed
 (
umul_µmm
)

1365 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1367 
USIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1368 
	`__asm__
 ("mulhwu %0,%1,%2" : "ô" (
ph
è: "%r" (
m0
), "r" (
m1
)); \

1369 (
¶
èğ
__m0
 * 
__m1
; \

1370 } 0)

	)

1372 
	#UMUL_TIME
 15

	)

1373 
	#smul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1375 
SIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1376 
	`__asm__
 ("mulhw %0,%1,%2" : "ô" (
ph
è: "%r" (
m0
), "r" (
m1
)); \

1377 (
¶
èğ
__m0
 * 
__m1
; \

1378 } 0)

	)

1379 
	#SMUL_TIME
 14

	)

1380 
	#UDIV_TIME
 120

	)

1382 
	#UMUL_TIME
 8

	)

1383 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1384 
	`__asm__
 ("muÈ%0,%2,%3" : "ô" (
xh
), "=q" (
xl
è: "r" (
m0
), "r" (
m1
))

	)

1385 
	#SMUL_TIME
 4

	)

1386 
	#sdiv_qºnd
(
q
, 
r
, 
nh
, 
Æ
, 
d
) \

1387 
	`__asm__
 ("div %0,%2,%4" : "ô" (
q
), "=q" (
r
è: "r" (
nh
), "1" (
Æ
), "r" (
d
))

	)

1388 
	#UDIV_TIME
 100

	)

1394 #ià
HAVE_HOST_CPU_FAMILY_pow”pc
 && 
W_TYPE_SIZE
 == 64

1395 #ià!
defšed
 (
_LONG_LONG_LIMB
)

1398 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1400 ià(
	`__butš_cÚ¡ªt_p
 (
bh
) && (bh) == 0) \

1401 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{aze|addze} %0,%2" \

1402 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "%r" (
®
), "rI" (
bl
));\

1403 ià(
	`__butš_cÚ¡ªt_p
 (
bh
è&& (bhè=ğ~(
UDIty³
) 0) \

1404 
	`__asm__
 ("{a%I4|add%I4c} %1,%3,%4\n\t{ame|addme} %0,%2" \

1405 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "%r" (
®
), "rI" (
bl
));\

1407 
	`__asm__
 ("{a%I5|add%I5c} %1,%4,%5\n\t{ae|adde} %0,%2,%3" \

1408 : "ô" (
sh
), "=&r" (
¦
) \

1409 : "r" (
ah
), "r" (
bh
), "%r" (
®
), "rI" (
bl
)); \

1410 } 0)

	)

1413 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1415 ià(
	`__butš_cÚ¡ªt_p
 (
bl
) && bl > -0x8000 && bl <= 0x8000) { \

1416 ià(
	`__butš_cÚ¡ªt_p
 (
ah
) && (ah) == 0) \

1417 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{sfze|subfze} %0,%2" \

1418 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "*rI" (-
bl
)); \

1419 ià(
	`__butš_cÚ¡ªt_p
 (
ah
è&& (ahè=ğ~(
UDIty³
) 0) \

1420 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{sfme|subfme} %0,%2" \

1421 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "*rI" (-
bl
)); \

1422 ià(
	`__butš_cÚ¡ªt_p
 (
bh
) && (bh) == 0) \

1423 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{ame|addme} %0,%2" \

1424 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "*rI" (-
bl
)); \

1425 ià(
	`__butš_cÚ¡ªt_p
 (
bh
è&& (bhè=ğ~(
UDIty³
) 0) \

1426 
	`__asm__
 ("{ai|addic} %1,%3,%4\n\t{aze|addze} %0,%2" \

1427 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "*rI" (-
bl
)); \

1429 
	`__asm__
 ("{ai|addic} %1,%4,%5\n\t{sfe|subfe} %0,%3,%2" \

1430 : "ô" (
sh
), "=&r" (
¦
) \

1431 : "r" (
ah
), "r" (
bh
), "rI" (
®
), "*rI" (-
bl
)); \

1433 ià(
	`__butš_cÚ¡ªt_p
 (
ah
) && (ah) == 0) \

1434 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfze|subfze} %0,%2" \

1435 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "r" (
bl
)); \

1436 ià(
	`__butš_cÚ¡ªt_p
 (
ah
è&& (ahè=ğ~(
UDIty³
) 0) \

1437 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{sfme|subfme} %0,%2" \

1438 : "ô" (
sh
), "=&r" (
¦
è: "r" (
bh
), "rI" (
®
), "r" (
bl
)); \

1439 ià(
	`__butš_cÚ¡ªt_p
 (
bh
) && (bh) == 0) \

1440 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{ame|addme} %0,%2" \

1441 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "r" (
bl
)); \

1442 ià(
	`__butš_cÚ¡ªt_p
 (
bh
è&& (bhè=ğ~(
UDIty³
) 0) \

1443 
	`__asm__
 ("{sf%I3|subf%I3c} %1,%4,%3\n\t{aze|addze} %0,%2" \

1444 : "ô" (
sh
), "=&r" (
¦
è: "r" (
ah
), "rI" (
®
), "r" (
bl
)); \

1446 
	`__asm__
 ("{sf%I4|subf%I4c} %1,%5,%4\n\t{sfe|subfe} %0,%3,%2" \

1447 : "ô" (
sh
), "=&r" (
¦
) \

1448 : "r" (
ah
), "r" (
bh
), "rI" (
®
), "r" (
bl
)); \

1450 } 0)

	)

1452 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1453 
	`__asm__
 ("úzd %0,%1" : "ô" (
couÁ
è: "r" (
x
))

	)

1454 
	#COUNT_LEADING_ZEROS_0
 64

	)

1455 #ià0 && 
__GMP_GNUC_PREREQ
 (4,4)

1456 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1458 
	t__Î_UTIty³
 
	t__©Œibu‹__
((
	tmode
(
	tTI
))); \

1459 
__Î_UTIty³
 
__Î
 = (__Î_UTIty³)(
u
è* (
v
); \

1460 
w1
 = 
__Î
 >> 64; \

1461 
w0
 = 
__Î
; \

1462 } 0)

	)

1464 #ià!
defšed
 (
umul_µmm
)

1465 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1467 
UDIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1468 
	`__asm__
 ("mulhdu %0,%1,%2" : "ô" (
ph
è: "%r" (
m0
), "r" (
m1
)); \

1469 (
¶
èğ
__m0
 * 
__m1
; \

1470 } 0)

	)

1472 
	#UMUL_TIME
 15

	)

1473 
	#smul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1475 
DIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1476 
	`__asm__
 ("mulhd %0,%1,%2" : "ô" (
ph
è: "%r" (
m0
), "r" (
m1
)); \

1477 (
¶
èğ
__m0
 * 
__m1
; \

1478 } 0)

	)

1479 
	#SMUL_TIME
 14

	)

1480 
	#UDIV_TIME
 120

	)

1483 #ià
defšed
 (
__pyr__
è&& 
W_TYPE_SIZE
 == 32

1484 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1485 
	`__asm__
 ("addw %5,%1\n\taddwc %3,%0" \

1486 : "ô" (
sh
), "=&r" (
¦
) \

1487 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

1488 "%1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1489 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1490 
	`__asm__
 ("subw %5,%1\n\tsubwb %3,%0" \

1491 : "ô" (
sh
), "=&r" (
¦
) \

1492 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

1493 "1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1495 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1496 ({uniÚ {
UDIty³
 
__Î
; \

1497 ¡ruù {
USIty³
 
__h
, 
__l
;} 
__i
; \

1498 } 
__x
; \

1499 
	`__asm__
 ("movw %1,%R0\n\tuemul %2,%0" \

1500 : "=&r" (
__x
.
__Î
) \

1501 : "g" ((
USIty³
è(
u
)), "g" ((USIty³)(
v
))); \

1502 (
w1
èğ
__x
.
__i
.
__h
; (
w0
èğ__x.__i.
__l
;})

	)

1505 #ià
defšed
 (
__ibm032__
è && 
W_TYPE_SIZE
 == 32

1506 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1507 
	`__asm__
 ("a %1,%5\n\tae %0,%3" \

1508 : "ô" (
sh
), "=&r" (
¦
) \

1509 : "0" ((
USIty³
)(
ah
)), "r" ((USIty³)(
bh
)), \

1510 "%1" ((
USIty³
)(
®
)), "r" ((USIty³)(
bl
)))

	)

1511 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1512 
	`__asm__
 ("s %1,%5\n\tse %0,%3" \

1513 : "ô" (
sh
), "=&r" (
¦
) \

1514 : "0" ((
USIty³
)(
ah
)), "r" ((USIty³)(
bh
)), \

1515 "1" ((
USIty³
)(
®
)), "r" ((USIty³)(
bl
)))

	)

1516 
	#smul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1517 
	`__asm__
 ( \

1538 : "ô" (
ph
), "ô" (
¶
) \

1539 : "%r" ((
USIty³
)(
m0
)), "r" ((USIty³)(
m1
)) \

1540 : "r2")

	)

1541 
	#UMUL_TIME
 20

	)

1542 
	#UDIV_TIME
 200

	)

1543 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1545 ià((
x
) >= 0x10000) \

1546 
	`__asm__
 ("clz %0,%1" \

1547 : "ô" (
couÁ
è: "r" ((
USIty³
)(
x
) >> 16)); \

1550 
	`__asm__
 ("clz %0,%1" \

1551 : "ô" (
couÁ
è: "r" ((
USIty³
)(
x
))); \

1552 (
couÁ
) += 16; \

1554 } 0)

	)

1557 #ià(
defšed
 (
__SH2__
è|| defšed (
__SH3__
è|| defšed (
__SH4__
)è&& 
W_TYPE_SIZE
 == 32

1558 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1559 
	`__asm__
 ("dmulu.l %2,%3\n\tsts macl,%1\n\tsts mach,%0" \

1560 : "ô" (
w1
), "ô" (
w0
è: "r" (
u
), "r" (
v
è: "maş", "mach")

	)

1561 
	#UMUL_TIME
 5

	)

1564 #ià
defšed
 (
__¥¬c__
è&& 
W_TYPE_SIZE
 == 32

1565 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1566 
	`__asm__
 ("addcc %r4,%5,%1\n\taddx %r2,%3,%0" \

1567 : "ô" (
sh
), "=&r" (
¦
) \

1568 : "rJ" (
ah
), "rI" (
bh
),"%rJ" (
®
), "rI" (
bl
) \

1569 
__CLOBBER_CC
)

	)

1570 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1571 
	`__asm__
 ("subcc %r4,%5,%1\n\tsubx %r2,%3,%0" \

1572 : "ô" (
sh
), "=&r" (
¦
) \

1573 : "rJ" (
ah
), "rI" (
bh
), "rJ" (
®
), "rI" (
bl
) \

1574 
__CLOBBER_CC
)

	)

1577 #ià
defšed
 (
__¥¬c_v9__
è|| defšed (
__¥¬cv9
)

1582 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1583 
	`__asm__
 ("mulx %2,%3,%%g1; srl %%g1,0,%1; srlx %%g1,32,%0" : \

1584 "ô" (
w1
), "ô" (
w0
è: "r" (
u
), "r" (
v
è: "g1")

	)

1587 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1588 
	`__asm__
 ("umuÈ%2,%3,%1;rd %%y,%0" : "ô" (
w1
), "ô" (
w0
è: "r" (
u
), "r" (
v
))

	)

1591 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1593 
USIty³
 
__q
; \

1594 
	`__asm__
 ("mov %1,%%y;nop;nop;nop;udiv %2,%3,%0" \

1595 : "ô" (
__q
è: "r" (
n1
), "r" (
n0
), "r" (
d
)); \

1596 (
r
èğ(
n0
è- 
__q
 * (
d
); \

1597 (
q
èğ
__q
; \

1598 } 0)

	)

1600 #ià
defšed
 (
__¥¬c_v8__
) \

1601 || 
defšed
 (
__¥¬cv8
) \

1602 || 
	gHAVE_HOST_CPU_su³r¥¬c


1607 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1608 
	`__asm__
 ("umuÈ%2,%3,%1;rd %%y,%0" : "ô" (
w1
), "ô" (
w0
è: "r" (
u
), "r" (
v
))

	)

1609 
	#UMUL_TIME
 5

	)

1611 #ià
HAVE_HOST_CPU_su³r¥¬c


1612 
	#UDIV_TIME
 60

	)

1616 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1618 
USIty³
 
__q
; \

1619 
	`__asm__
 ("mov %1,%%y;nop;nop;nop;udiv %2,%3,%0" \

1620 : "ô" (
__q
è: "r" (
n1
), "r" (
n0
), "r" (
d
)); \

1621 (
r
èğ(
n0
è- 
__q
 * (
d
); \

1622 (
q
èğ
__q
; \

1623 } 0)

	)

1624 
	#UDIV_TIME
 25

	)

1628 #ià
defšed
 (
__¥¬ş™e__
)

1631 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1632 
	`__asm__
 ("umuÈ%2,%3,%1;rd %%y,%0" : "ô" (
w1
), "ô" (
w0
è: "r" (
u
), "r" (
v
))

	)

1633 
	#UMUL_TIME
 5

	)

1634 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1635 
	`__asm__
 ("! Inlined udiv_qrnnd\n" \

1674 : "ô" (
q
), "ô" (
r
è: "r" (
n1
), "r" (
n0
), "rI" (
d
) \

1675 : "%g1" 
__AND_CLOBBER_CC
)

	)

1676 
	#UDIV_TIME
 37

	)

1677 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

1678 
	`__asm__
 ("sÿÀ%1,1,%0" : "ô" (
couÁ
è: "r" (
x
))

	)

1686 #iâdeà
umul_µmm


1687 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1688 
	`__asm__
 ("! Inlined umul_ppmm\n" \

1728 : "ô" (
w1
), "ô" (
w0
è: "%rI" (
u
), "r" (
v
) \

1729 : "%g1", "%g2" 
__AND_CLOBBER_CC
)

	)

1730 
	#UMUL_TIME
 39

	)

1732 #iâdeà
udiv_qºnd


1733 #iâdeà
LONGLONG_STANDALONE


1734 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1735 dØ{ 
UWty³
 
__r
; \

1736 (
q
èğ
	`__MPN
(
udiv_qºnd
è(&
__r
, (
n1
), (
n0
), (
d
)); \

1737 (
r
èğ
__r
; \

1738 } 0)

	)

1739 
UWty³
 
	$__MPN
(
udiv_qºnd
è(
UWty³
 *, UWtype, UWtype, UWtype);

1740 #iâdeà
UDIV_TIME


1741 
	#UDIV_TIME
 140

	)

1747 #ià
	`defšed
 (
__¥¬c__
è&& 
W_TYPE_SIZE
 == 64

1748 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1749 
	`__asm__
 ( \

1753 : "ô" (
sh
), "=&r" (
¦
) \

1754 : "rJ" (
ah
), "rI" (
bh
), "%rJ" (
®
), "rI" (
bl
), \

1755 "%rJ" ((
®
è>> 32), "rI" ((
bl
) >> 32) \

1756 
__CLOBBER_CC
)

	)

1757 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1758 
	`__asm__
 ( \

1762 : "ô" (
sh
), "=&r" (
¦
) \

1763 : "rJ" (
ah
), "rI" (
bh
), "rJ" (
®
), "rI" (
bl
), \

1764 "rJ" ((
®
è>> 32), "rI" ((
bl
) >> 32) \

1765 
__CLOBBER_CC
)

	)

1768 #ià
	`defšed
 (
__vax__
è&& 
W_TYPE_SIZE
 == 32

1769 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1770 
	`__asm__
 ("addl2 %5,%1\n\tadwc %3,%0" \

1771 : "=g" (
sh
), "=&g" (
¦
) \

1772 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

1773 "%1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1774 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1775 
	`__asm__
 ("subl2 %5,%1\n\tsbwc %3,%0" \

1776 : "=g" (
sh
), "=&g" (
¦
) \

1777 : "0" ((
USIty³
)(
ah
)), "g" ((USIty³)(
bh
)), \

1778 "1" ((
USIty³
)(
®
)), "g" ((USIty³)(
bl
)))

	)

1779 
	#smul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1781 uniÚ {
UDIty³
 
__Î
; \

1782 ¡ruù {
USIty³
 
__l
, 
__h
;} 
__i
; \

1783 } 
__x
; \

1784 
USIty³
 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1785 
	`__asm__
 ("emul %1,%2,$0,%0" \

1786 : "=g" (
__x
.
__Î
è: "g" (
__m0
), "g" (
__m1
)); \

1787 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

1788 
	}
} 0)

	)

1789 
	#sdiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1791 uniÚ {
DIty³
 
__Î
; \

1792 ¡ruù {
SIty³
 
__l
, 
__h
;} 
__i
; \

1793 } 
__x
; \

1794 
__x
.
__i
.
__h
 = 
n1
; __x.__i.
__l
 = 
n0
; \

1795 
	`__asm__
 ("ediv %3,%2,%0,%1" \

1796 : "=g" (
q
), "=g" (
r
è: "g" (
__x
.
__Î
), "g" (
d
)); \

1797 } 0)

	)

1801 
	#couÁ_Œašg_z”os
(
couÁ
,
x
) \

1803 
	`__asm__
 ("ffs 0, 31, %1, %0" \

1804 : "=g" (
couÁ
) \

1805 : "g" ((
USIty³
è(
x
))); \

1806 } 0)

	)

1810 #ià
defšed
 (
__z8000__
è&& 
W_TYPE_SIZE
 == 16

1811 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1812 
	`__asm__
 ("add %H1,%H5\n\tadc %H0,%H3" \

1813 : "ô" (
sh
), "=&r" (
¦
) \

1814 : "0" (()(
ah
)), "r" (()(
bh
)), \

1815 "%1" (()(
®
)), "rQR" (()(
bl
)))

	)

1816 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1817 
	`__asm__
 ("sub %H1,%H5\n\tsbc %H0,%H3" \

1818 : "ô" (
sh
), "=&r" (
¦
) \

1819 : "0" (()(
ah
)), "r" (()(
bh
)), \

1820 "1" (()(
®
)), "rQR" (()(
bl
)))

	)

1821 
	#umul_µmm
(
xh
, 
xl
, 
m0
, 
m1
) \

1823 uniÚ {
__Î
; \

1824 ¡ruù {
__h
, 
__l
;} 
__i
; \

1825 } 
__x
; \

1826 
__m0
 = (
m0
), 
__m1
 = (
m1
); \

1827 
	`__asm__
 ("mult %S0,%H3" \

1828 : "ô" (
__x
.
__i
.
__h
), "ô" (__x.__i.
__l
) \

1829 : "%1" (
m0
), "rQR" (
m1
)); \

1830 (
xh
èğ
__x
.
__i
.
__h
; (
xl
èğ__x.__i.
__l
; \

1831 (
xh
è+ğ((((sigÃd è
__m0
 >> 15è& 
__m1
) \

1832 + (((sigÃd è
__m1
 >> 15è& 
__m0
)); \

1833 } 0)

	)

1842 #ià!
defšed
 (
umul_µmm
è&& defšed (
__umulsidi3
)

1843 
	#umul_µmm
(
ph
, 
¶
, 
m0
, 
m1
) \

1845 
UDWty³
 
__Î
 = 
	`__umulsidi3
 (
m0
, 
m1
); \

1846 
ph
 = (
UWty³
è(
__Î
 >> 
W_TYPE_SIZE
); \

1847 
¶
 = (
UWty³
è
__Î
; \

1848 }

	)

1851 #ià!
defšed
 (
__umulsidi3
)

1852 
	#__umulsidi3
(
u
, 
v
) \

1853 ({
UWty³
 
__hi
, 
__lo
; \

1854 
	`umul_µmm
 (
__hi
, 
__lo
, 
u
, 
v
); \

1855 ((
UDWty³
è
__hi
 << 
W_TYPE_SIZE
è| 
__lo
; })

	)

1864 
	#m²_umul_µmm
 
	`__MPN
(
umul_µmm
)

	)

1865 
UWty³
 
m²_umul_µmm
 (UWtype *, UWtype, UWtype);

1867 #ià! 
defšed
 (
umul_µmm
è&& 
HAVE_NATIVE_m²_umul_µmm
 \

1868 && ! 
	$defšed
 (
LONGLONG_STANDALONE
)

1869 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1871 
UWty³
 
__umul_µmm__p0
; \

1872 (
wh
èğ
	`m²_umul_µmm
 (&
__umul_µmm__p0
, (
UWty³
è(
u
), (UWty³è(
v
)); \

1873 (
wl
èğ
__umul_µmm__p0
; \

1874 
	}
} 0)

	)

1877 
	#m²_umul_µmm_r
 
	`__MPN
(
umul_µmm_r
)

	)

1878 
UWty³
 
m²_umul_µmm_r
 (UWtype, UWtype, UWtype *);

1880 #ià! 
defšed
 (
umul_µmm
è&& 
HAVE_NATIVE_m²_umul_µmm_r
 \

1881 && ! 
	$defšed
 (
LONGLONG_STANDALONE
)

1882 
	#umul_µmm
(
wh
, 
wl
, 
u
, 
v
) \

1884 
UWty³
 
__umul_µmm__p0
; \

1885 (
wh
èğ
	`m²_umul_µmm_r
 ((
UWty³
è(
u
), (UWty³è(
v
), &
__umul_µmm__p0
); \

1886 (
wl
èğ
__umul_µmm__p0
; \

1887 
	}
} 0)

	)

1890 
	#m²_udiv_qºnd
 
	`__MPN
(
udiv_qºnd
)

	)

1891 
UWty³
 
m²_udiv_qºnd
 (UWtype *, UWtype, UWtype, UWtype);

1893 #ià! 
defšed
 (
udiv_qºnd
è&& 
HAVE_NATIVE_m²_udiv_qºnd
 \

1894 && ! 
	$defšed
 (
LONGLONG_STANDALONE
)

1895 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1897 
UWty³
 
__udiv_qºnd__r
; \

1898 (
q
èğ
	`m²_udiv_qºnd
 (&
__udiv_qºnd__r
, \

1899 (
UWty³
è(
n1
), (UWty³è(
n0
), (UWty³è
d
); \

1900 (
r
èğ
__udiv_qºnd__r
; \

1901 
	}
} 0)

	)

1904 
	#m²_udiv_qºnd_r
 
	`__MPN
(
udiv_qºnd_r
)

	)

1905 
UWty³
 
m²_udiv_qºnd_r
 (UWtype, UWtype, UWtype, UWtype *);

1907 #ià! 
defšed
 (
udiv_qºnd
è&& 
HAVE_NATIVE_m²_udiv_qºnd_r
 \

1908 && ! 
	$defšed
 (
LONGLONG_STANDALONE
)

1909 
	#udiv_qºnd
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

1911 
UWty³
 
__udiv_qºnd__r
; \

1912 (
q
èğ
	`m²_udiv_qºnd_r
 ((
UWty³
è(
n1
), (UWty³è(
n0
), (UWty³è
d
, \

1913 &
__udiv_qºnd__r
); \

1914 (
r
èğ
__udiv_qºnd__r
; \

1915 
	}
} 0)

	)

1921 #ià!
defšed
 (
add_s§¯a
)

1922 
	#add_s§¯a
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1924 
UWty³
 
__x
; \

1925 
__x
 = (
®
è+ (
bl
); \

1926 (
sh
èğ(
ah
è+ (
bh
è+ (
__x
 < (
®
)); \

1927 (
¦
èğ
__x
; \

1928 } 0)

	)

1931 #ià!
defšed
 (
sub_ddmmss
)

1932 
	#sub_ddmmss
(
sh
, 
¦
, 
ah
, 
®
, 
bh
, 
bl
) \

1934 
UWty³
 
__x
; \

1935 
__x
 = (
®
è- (
bl
); \

1936 (
sh
èğ(
ah
è- (
bh
è- ((
®
è< (
bl
)); \

1937 (
¦
èğ
__x
; \

1938 } 0)

	)

1943 #ià!
defšed
 (
umul_µmm
è&& defšed (
smul_µmm
)

1944 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1946 
UWty³
 
__w1
; \

1947 
UWty³
 
__xm0
 = (
u
), 
__xm1
 = (
v
); \

1948 
	`smul_µmm
 (
__w1
, 
w0
, 
__xm0
, 
__xm1
); \

1949 (
w1
èğ
__w1
 + (-(
__xm0
 >> (
W_TYPE_SIZE
 - 1)è& 
__xm1
) \

1950 + (-(
__xm1
 >> (
W_TYPE_SIZE
 - 1)è& 
__xm0
); \

1951 } 0)

	)

1964 #ià!
defšed
 (
umul_µmm
)

1965 
	#umul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1967 
UWty³
 
__x0
, 
__x1
, 
__x2
, 
__x3
; \

1968 
UHWty³
 
__ul
, 
__vl
, 
__uh
, 
__vh
; \

1969 
UWty³
 
__u
 = (
u
), 
__v
 = (
v
); \

1971 
__ul
 = 
	`__Î_low·¹
 (
__u
); \

1972 
__uh
 = 
	`__Î_high·¹
 (
__u
); \

1973 
__vl
 = 
	`__Î_low·¹
 (
__v
); \

1974 
__vh
 = 
	`__Î_high·¹
 (
__v
); \

1976 
__x0
 = (
UWty³
è
__ul
 * 
__vl
; \

1977 
__x1
 = (
UWty³
è
__ul
 * 
__vh
; \

1978 
__x2
 = (
UWty³
è
__uh
 * 
__vl
; \

1979 
__x3
 = (
UWty³
è
__uh
 * 
__vh
; \

1981 
__x1
 +ğ
	`__Î_high·¹
 (
__x0
); \

1982 
__x1
 +ğ
__x2
; \

1983 ià(
__x1
 < 
__x2
) \

1984 
__x3
 +ğ
__Î_B
; \

1986 (
w1
èğ
__x3
 + 
	`__Î_high·¹
 (
__x1
); \

1987 (
w0
èğ(
__x1
 << 
W_TYPE_SIZE
/2è+ 
	`__Î_low·¹
 (
__x0
); \

1988 } 0)

	)

1993 #ià!
defšed
 (
smul_µmm
)

1994 
	#smul_µmm
(
w1
, 
w0
, 
u
, 
v
) \

1996 
UWty³
 
__w1
; \

1997 
UWty³
 
__xm0
 = (
u
), 
__xm1
 = (
v
); \

1998 
	`umul_µmm
 (
__w1
, 
w0
, 
__xm0
, 
__xm1
); \

1999 (
w1
èğ
__w1
 - (-(
__xm0
 >> (
W_TYPE_SIZE
 - 1)è& 
__xm1
) \

2000 - (-(
__xm1
 >> (
W_TYPE_SIZE
 - 1)è& 
__xm0
); \

2001 } 0)

	)

2005 
	#__udiv_qºnd_c
(
q
, 
r
, 
n1
, 
n0
, 
d
) \

2007 
UWty³
 
__d1
, 
__d0
, 
__q1
, 
__q0
, 
__r1
, 
__r0
, 
__m
; \

2009 
	`ASSERT
 ((
d
) != 0); \

2010 
	`ASSERT
 ((
n1
è< (
d
)); \

2012 
__d1
 = 
	`__Î_high·¹
 (
d
); \

2013 
__d0
 = 
	`__Î_low·¹
 (
d
); \

2015 
__q1
 = (
n1
è/ 
__d1
; \

2016 
__r1
 = (
n1
è- 
__q1
 * 
__d1
; \

2017 
__m
 = 
__q1
 * 
__d0
; \

2018 
__r1
 = __r1 * 
__Î_B
 | 
	`__Î_high·¹
 (
n0
); \

2019 ià(
__r1
 < 
__m
) \

2021 
__q1
--, 
__r1
 +ğ(
d
); \

2022 ià(
__r1
 >ğ(
d
)) \

2023 ià(
__r1
 < 
__m
) \

2024 
__q1
--, 
__r1
 +ğ(
d
); \

2026 
__r1
 -ğ
__m
; \

2028 
__q0
 = 
__r1
 / 
__d1
; \

2029 
__r0
 = 
__r1
 - 
__q0
 * 
__d1
; \

2030 
__m
 = 
__q0
 * 
__d0
; \

2031 
__r0
 = __r0 * 
__Î_B
 | 
	`__Î_low·¹
 (
n0
); \

2032 ià(
__r0
 < 
__m
) \

2034 
__q0
--, 
__r0
 +ğ(
d
); \

2035 ià(
__r0
 >ğ(
d
)) \

2036 ià(
__r0
 < 
__m
) \

2037 
__q0
--, 
__r0
 +ğ(
d
); \

2039 
__r0
 -ğ
__m
; \

2041 (
q
èğ
__q1
 * 
__Î_B
 | 
__q0
; \

2042 (
r
èğ
__r0
; \

2043 } 0)

	)

2047 #ià!
defšed
 (
udiv_qºnd
è&& defšed (
sdiv_qºnd
)

2048 
	#udiv_qºnd
(
q
, 
r
, 
nh
, 
Æ
, 
d
) \

2050 
UWty³
 
__r
; \

2051 (
q
èğ
	`__MPN
(
udiv_w_sdiv
è(&
__r
, 
nh
, 
Æ
, 
d
); \

2052 (
r
èğ
__r
; \

2053 } 0)

	)

2054 
__GMP_DECLSPEC
 
UWty³
 
	$__MPN
(
udiv_w_sdiv
è(
UWty³
 *, UWtype, UWtype, UWtype);

2058 #ià!
	`defšed
 (
udiv_qºnd
)

2059 
	#UDIV_NEEDS_NORMALIZATION
 1

	)

2060 
	#udiv_qºnd
 
__udiv_qºnd_c


	)

2063 #ià!
	`defšed
 (
couÁ_Ëadšg_z”os
)

2064 
	#couÁ_Ëadšg_z”os
(
couÁ
, 
x
) \

2066 
UWty³
 
__xr
 = (
x
); \

2067 
UWty³
 
__a
; \

2069 ià(
W_TYPE_SIZE
 == 32) \

2071 
__a
 = 
__xr
 < ((
UWty³
è1 << 2*
__BITS4
) \

2072 ? (
__xr
 < ((
UWty³
è1 << 
__BITS4
) ? 1 : __BITS4 + 1) \

2073 : (
__xr
 < ((
UWty³
è1 << 3*
__BITS4
) ? 2*__BITS4 + 1 \

2074 : 3*
__BITS4
 + 1); \

2078 
__a
 = 
W_TYPE_SIZE
 - 8; __a > 0; __a -= 8) \

2079 ià(((
__xr
 >> 
__a
) & 0xff) != 0) \

2081 ++
__a
; \

2084 (
couÁ
èğ
W_TYPE_SIZE
 + 1 - 
__a
 - 
__şz_b
[
__xr
 >> __a]; \

2085 
	}
} 0)

	)

2087 
	#COUNT_LEADING_ZEROS_0
 (
W_TYPE_SIZE
 - 1)

	)

2088 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

2089 
	#COUNT_LEADING_ZEROS_SLOW


	)

2093 #ià
HAVE_HOST_CPU_FAMILY_x86
 && 
WANT_FAT_BINARY


2094 
	#COUNT_LEADING_ZEROS_NEED_CLZ_TAB


	)

2097 #ifdeà
COUNT_LEADING_ZEROS_NEED_CLZ_TAB


2098 cÚ¡ 
__GMP_DECLSPEC
 
__şz_b
[129];

2101 #ià!
defšed
 (
couÁ_Œašg_z”os
)

2102 #ià!
defšed
 (
COUNT_LEADING_ZEROS_SLOW
)

2104 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) \

2106 
UWty³
 
__ùz_x
 = (
x
); \

2107 
UWty³
 
__ùz_c
; \

2108 
	`ASSERT
 (
__ùz_x
 != 0); \

2109 
	`couÁ_Ëadšg_z”os
 (
__ùz_c
, 
__ùz_x
 & -__ctz_x); \

2110 (
couÁ
èğ
W_TYPE_SIZE
 - 1 - 
__ùz_c
; \

2111 } 0)

	)

2116 
	#couÁ_Œašg_z”os
(
couÁ
, 
x
) \

2118 
UWty³
 
__ùz_x
 = (
x
); \

2119 
__ùz_c
; \

2121 ià(
	`LIKELY
 ((
__ùz_x
 & 0xff) != 0)) \

2122 (
couÁ
èğ
__şz_b
[
__ùz_x
 & -__ctz_x] - 2; \

2125 
__ùz_c
 = 8 - 2; __ùz_ø< 
W_TYPE_SIZE
 - 2; __ctz_c += 8) \

2127 
__ùz_x
 >>= 8; \

2128 ià(
	`LIKELY
 ((
__ùz_x
 & 0xff) != 0)) \

2132 (
couÁ
èğ
__ùz_c
 + 
__şz_b
[
__ùz_x
 & -__ctz_x]; \

2134 } 0)

	)

2138 #iâdeà
UDIV_NEEDS_NORMALIZATION


2139 
	#UDIV_NEEDS_NORMALIZATION
 0

	)

2144 #iâdeà
UDIV_PREINV_ALWAYS


2145 
	#UDIV_PREINV_ALWAYS
 0

	)

2149 #iâdeà
UMUL_TIME


2150 
	#UMUL_TIME
 1

	)

2153 #iâdeà
UDIV_TIME


2154 
	#UDIV_TIME
 
UMUL_TIME


	)

	@ls-dir.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_MULTI_COL
;

	@ls-ls.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_LS
;

	@ls-vdir.c

1 
	~"ls.h
"

2 
	gls_mode
 = 
LS_LONG_FORMAT
;

	@ls.c

38 
	~<cÚfig.h
>

39 
	~<sys/ty³s.h
>

41 
	~<‹rmios.h
>

42 #ià
HAVE_STROPTS_H


43 
	~<¡rİts.h
>

45 
	~<sys/ioùl.h
>

47 #ifdeà
WINSIZE_IN_PTEM


48 
	~<sys/¡»am.h
>

49 
	~<sys/±em.h
>

52 
	~<¡dio.h
>

53 
	~<as£¹.h
>

54 
	~<£tjmp.h
>

55 
	~<pwd.h
>

56 
	~<g‘İt.h
>

57 
	~<sigÇl.h
>

58 
	~<£lšux/£lšux.h
>

59 
	~<wch¬.h
>

61 #ià
HAVE_LANGINFO_CODESET


62 
	~<Ïngšfo.h
>

67 #iâdeà
SA_NOCLDSTOP


68 
	#SA_NOCLDSTOP
 0

	)

69 
	#sig´ocmask
(
How
, 
S‘
, 
O£t
è

	)

70 
	#sig£t_t
 

	)

71 #ià! 
HAVE_SIGINTERRUPT


72 
	#sigš‹¼u±
(
sig
, 
æag
è

	)

80 #iâdeà
SA_RESTART


81 
	#SA_RESTART
 0

	)

84 
	~"sy¡em.h
"

85 
	~<âm©ch.h
>

87 
	~"aş.h
"

88 
	~"¬gm©ch.h
"

89 
	~"dev-šo.h
"

90 
	~"”rÜ.h
"

91 
	~"f’ameÿt.h
"

92 
	~"h¬d-loÿË.h
"

93 
	~"hash.h
"

94 
	~"humª.h
"

95 
	~"femode.h
"

96 
	~"fev”cmp.h
"

97 
	~"idÿche.h
"

98 
	~"ls.h
"

99 
	~"mbswidth.h
"

100 
	~"mpsÜt.h
"

101 
	~"ob¡ack.h
"

102 
	~"quÙe.h
"

103 
	~"quÙ—rg.h
"

104 
	~"¡©-size.h
"

105 
	~"¡©-time.h
"

106 
	~"¡ráime.h
"

107 
	~"x¡¹Ş.h
"

108 
	~"¬—dlšk.h
"

109 
	~"mb§lign.h
"

114 #ifdeà
HAVE_CAP


115 
	~<sys/ÿ·b™y.h
>

118 
	#PROGRAM_NAME
 (
ls_mode
 =ğ
LS_LS
 ? "ls" \

119 : (
ls_mode
 =ğ
LS_MULTI_COL
 \

120 ? "dœ" : "vdœ"))

	)

122 
	#AUTHORS
 \

123 
	`´İ”_Çme
 ("Richard M. Stallman"), \

124 
	`´İ”_Çme
 ("David MacK’z›")

	)

126 
	#ob¡ack_chunk_®loc
 
m®loc


	)

127 
	#ob¡ack_chunk_ä“
 
ä“


	)

131 
	#lÚgdiff
(
a
, 
b
è(×è< (bè? -1 : (aè> (b))

	)

143 #iâdeà
READDIR_LIES_ABOUT_MOUNTPOINT_D_INO


144 
	#READDIR_LIES_ABOUT_MOUNTPOINT_D_INO
 1

	)

147 #ià
READDIR_LIES_ABOUT_MOUNTPOINT_D_INO


148 
	#RELIABLE_D_INO
(
dp
è
NOT_AN_INODE_NUMBER


	)

150 
	#RELIABLE_D_INO
(
dp
è
	`D_INO
 (dp)

	)

153 #ià! 
HAVE_STRUCT_STAT_ST_AUTHOR


154 
	#¡_authÜ
 
¡_uid


	)

157 
	ef‘y³


159 
	munknown
,

160 
	mfifo
,

161 
	mch¬dev
,

162 
	mdœeùÜy
,

163 
	mblockdev
,

164 
	mnÜm®
,

165 
	msymbŞic_lšk
,

166 
	msock
,

167 
	mwh™eout
,

168 
	m¬g_dœeùÜy


173 cÚ¡ 
	gf‘y³_Ë‰”
[] = "?pcdb-lswd";

177 
v”ify
 ( 
f‘y³_Ë‰”
 - 1 =ğ
¬g_dœeùÜy
 + 1);

179 
	#FILETYPE_INDICATORS
 \

181 
C_ORPHAN
, 
C_FIFO
, 
C_CHR
, 
C_DIR
, 
C_BLK
, 
C_FILE
, \

182 
C_LINK
, 
C_SOCK
, 
C_FILE
, 
C_DIR
 \

183 }

	)

185 
	eaş_ty³


187 
	mACL_T_NONE
,

188 
	mACL_T_SELINUX_ONLY
,

189 
	mACL_T_YES


192 
	sfešfo


195 *
	mÇme
;

198 *
	mlškÇme
;

200 
¡©
 
	m¡©
;

202 
f‘y³
 
	mf‘y³
;

206 
mode_t
 
	mlškmode
;

209 
£cur™y_cÚ‹xt_t
 
	mscÚ‹xt
;

211 
boŞ
 
	m¡©_ok
;

215 
boŞ
 
	mlškok
;

219 
aş_ty³
 
	maş_ty³
;

222 
boŞ
 
	mhas_ÿ·b™y
;

225 
	#LEN_STR_PAIR
(
s
è (sè- 1, 
	)
s

231 
	sbš_¡r


233 
size_t
 
	mËn
;

234 cÚ¡ *
	m¡ršg
;

237 #ià! 
HAVE_TCGETPGRP


238 
	#tcg‘pg½
(
Fd
è0

	)

241 
size_t
 
quÙe_Çme
 (
FILE
 *
out
, cÚ¡ *
Çme
,

242 
quÙšg_İtiÚs
 cÚ¡ *
İtiÚs
,

243 
size_t
 *
width
);

244 *
make_lšk_Çme
 (cÚ¡ *
Çme
, cÚ¡ *
lškÇme
);

245 
decode_sw™ches
 (
¬gc
, **
¬gv
);

246 
boŞ
 
fe_ignÜed
 (cÚ¡ *
Çme
);

247 
uštmax_t
 
gobbË_fe
 (cÚ¡ *
Çme
, 
f‘y³
 
ty³
,

248 
šo_t
 
šode
, 
boŞ
 
commªd_lše_¬g
,

249 cÚ¡ *
dœÇme
);

250 
boŞ
 
´št_cŞÜ_šdiÿtÜ
 (cÚ¡ 
fešfo
 *
f
,

251 
boŞ
 
symlšk_rg‘
);

252 
put_šdiÿtÜ
 (cÚ¡ 
bš_¡r
 *
šd
);

253 
add_ignÜe_·‰”n
 (cÚ¡ *
·‰”n
);

254 
©ch
 (*
de¡
, cÚ¡ *
dœÇme
, cÚ¡ *
Çme
);

255 
ş—r_fes
 ();

256 
exŒaù_dœs_äom_fes
 (cÚ¡ *
dœÇme
,

257 
boŞ
 
commªd_lše_¬g
);

258 
g‘_lšk_Çme
 (cÚ¡ *
f’ame
, 
fešfo
 *
f
,

259 
boŞ
 
commªd_lše_¬g
);

260 
šd’t
 (
size_t
 
äom
, size_ˆ
to
);

261 
size_t
 
ÿlcuÏ‹_cŞumns
 (
boŞ
 
by_cŞumns
);

262 
´št_cu¼’t_fes
 ();

263 
´št_dœ
 (cÚ¡ *
Çme
, cÚ¡ *
»®Çme
,

264 
boŞ
 
commªd_lše_¬g
);

265 
size_t
 
´št_fe_Çme_ªd_äls
 (cÚ¡ 
fešfo
 *
f
,

266 
size_t
 
¡¬t_cŞ
);

267 
´št_hÜizÚl
 ();

268 
fÜm©_u£r_width
 (
uid_t
 
u
);

269 
fÜm©_group_width
 (
gid_t
 
g
);

270 
´št_lÚg_fÜm©
 (cÚ¡ 
fešfo
 *
f
);

271 
´št_mªy_³r_lše
 ();

272 
size_t
 
´št_Çme_w™h_quÙšg
 (cÚ¡ 
fešfo
 *
f
,

273 
boŞ
 
symlšk_rg‘
,

274 
ob¡ack
 *
¡ack
,

275 
size_t
 
¡¬t_cŞ
);

276 
´•_nÚ_f’ame_‹xt
 ();

277 
boŞ
 
´št_ty³_šdiÿtÜ
 (boŞ 
¡©_ok
, 
mode_t
 
mode
,

278 
f‘y³
 
ty³
);

279 
´št_w™h_commas
 ();

280 
queue_dœeùÜy
 (cÚ¡ *
Çme
, cÚ¡ *
»®Çme
,

281 
boŞ
 
commªd_lše_¬g
);

282 
sÜt_fes
 ();

283 
·r£_ls_cŞÜ
 ();

287 
	#INITIAL_TABLE_SIZE
 30

	)

296 
Hash_bË
 *
	gaùive_dœ_£t
;

298 
	#LOOP_DETECT
 (!!
aùive_dœ_£t
)

	)

307 
fešfo
 *
	gcwd_fe
;

310 
size_t
 
	gcwd_n_®loc
;

313 
size_t
 
	gcwd_n_u£d
;

317 **
	gsÜ‹d_fe
;

318 
size_t
 
	gsÜ‹d_fe_®loc
;

325 
boŞ
 
	gcŞÜ_symlšk_as_»ã»Á
;

328 
	#FILE_OR_LINK_MODE
(
Fe
) \

329 ((
cŞÜ_symlšk_as_»ã»Á
 && (
Fe
)->
lškok
) \

330 ? (
Fe
)->
lškmode
 : (Fe)->
¡©
.
¡_mode
)

	)

335 
	s³ndšg


337 *
	mÇme
;

341 *
	m»®Çme
;

342 
boŞ
 
	mcommªd_lše_¬g
;

343 
³ndšg
 *
	mÃxt
;

346 
³ndšg
 *
	g³ndšg_dœs
;

351 
time¥ec
 
	gcu¼’t_time
;

353 
boŞ
 
	g´št_scÚ‹xt
;

354 
	gUNKNOWN_SECURITY_CONTEXT
[] = "?";

359 
boŞ
 
	gªy_has_aş
;

365 
	gšode_numb”_width
;

366 
	gblock_size_width
;

367 
	gÆšk_width
;

368 
	gscÚ‹xt_width
;

369 
	gowÃr_width
;

370 
	ggroup_width
;

371 
	gauthÜ_width
;

372 
	gmajÜ_deviû_numb”_width
;

373 
	gmšÜ_deviû_numb”_width
;

374 
	gfe_size_width
;

387 
	efÜm©


389 
	mlÚg_fÜm©
,

390 
	mÚe_³r_lše
,

391 
	mmªy_³r_lše
,

392 
	mhÜizÚl
,

393 
	mw™h_commas


396 
fÜm©
 
	gfÜm©
;

401 
	etime_¡yË


403 
	mfuÎ_iso_time_¡yË
,

404 
	mlÚg_iso_time_¡yË
,

405 
	miso_time_¡yË
,

406 
	mloÿË_time_¡yË


409 cÚ¡ *cÚ¡ 
	gtime_¡yË_¬gs
[] =

411 "fuÎ-iso", "lÚg-iso", "iso", "loÿË", 
NULL


413 
time_¡yË
 cÚ¡ 
	gtime_¡yË_ty³s
[] =

415 
fuÎ_iso_time_¡yË
, 
lÚg_iso_time_¡yË
, 
iso_time_¡yË
,

416 
loÿË_time_¡yË


418 
ARGMATCH_VERIFY
 (
time_¡yË_¬gs
, 
time_¡yË_ty³s
);

424 
	etime_ty³


426 
	mtime_mtime
,

427 
	mtime_ùime
,

428 
	mtime_©ime
,

429 
	mtime_numty³s


432 
time_ty³
 
	gtime_ty³
;

438 
	esÜt_ty³


440 
	msÜt_nÚe
 = -1,

441 
	msÜt_Çme
,

442 
	msÜt_ex‹nsiÚ
,

443 
	msÜt_size
,

444 
	msÜt_v”siÚ
,

445 
	msÜt_time
,

446 
	msÜt_numty³s


449 
sÜt_ty³
 
	gsÜt_ty³
;

457 
boŞ
 
	gsÜt_»v”£
;

461 
boŞ
 
	g´št_owÃr
 = 
Œue
;

465 
boŞ
 
	g´št_authÜ
;

469 
boŞ
 
	g´št_group
 = 
Œue
;

474 
boŞ
 
	gnum”ic_ids
;

478 
boŞ
 
	g´št_block_size
;

481 
	ghumª_ouut_İts
;

484 
uštmax_t
 
	gouut_block_size
;

487 
	gfe_humª_ouut_İts
;

488 
uštmax_t
 
	gfe_ouut_block_size
 = 1;

493 
boŞ
 
	gdœed
;

502 
	ešdiÿtÜ_¡yË


504 
	mnÚe
,

505 
	m¦ash
,

506 
	mfe_ty³
,

507 
	mşassify


510 
šdiÿtÜ_¡yË
 
	gšdiÿtÜ_¡yË
;

513 cÚ¡ *cÚ¡ 
	gšdiÿtÜ_¡yË_¬gs
[] =

515 "nÚe", "¦ash", "fe-ty³", "şassify", 
NULL


517 
šdiÿtÜ_¡yË
 cÚ¡ 
	gšdiÿtÜ_¡yË_ty³s
[] =

519 
nÚe
, 
¦ash
, 
fe_ty³
, 
şassify


521 
ARGMATCH_VERIFY
 (
šdiÿtÜ_¡yË_¬gs
, 
šdiÿtÜ_¡yË_ty³s
);

527 
boŞ
 
	g´št_w™h_cŞÜ
;

533 
boŞ
 
	gu£d_cŞÜ
 = 
çl£
;

535 
	ecŞÜ_ty³


537 
	mcŞÜ_Ãv”
,

538 
	mcŞÜ_®ways
,

539 
	mcŞÜ_if_‰y


542 
	eD”eã»nû_symlšk


544 
	mDEREF_UNDEFINED
 = 1,

545 
	mDEREF_NEVER
,

546 
	mDEREF_COMMAND_LINE_ARGUMENTS
,

547 
	mDEREF_COMMAND_LINE_SYMLINK_TO_DIR
,

548 
	mDEREF_ALWAYS


551 
	ešdiÿtÜ_no


553 
	mC_LEFT
, 
	mC_RIGHT
, 
	mC_END
, 
	mC_RESET
, 
	mC_NORM
, 
	mC_FILE
, 
	mC_DIR
, 
	mC_LINK
,

554 
	mC_FIFO
, 
	mC_SOCK
,

555 
	mC_BLK
, 
	mC_CHR
, 
	mC_MISSING
, 
	mC_ORPHAN
, 
	mC_EXEC
, 
	mC_DOOR
, 
	mC_SETUID
, 
	mC_SETGID
,

556 
	mC_STICKY
, 
	mC_OTHER_WRITABLE
, 
	mC_STICKY_OTHER_WRITABLE
, 
	mC_CAP
, 
	mC_MULTIHARDLINK
,

557 
	mC_CLR_TO_EOL


560 cÚ¡ *cÚ¡ 
	gšdiÿtÜ_Çme
[]=

564 "ow", "tw", "ÿ", "mh", "ş", 
NULL


567 
	scŞÜ_ext_ty³


569 
bš_¡r
 
	mext
;

570 
bš_¡r
 
	m£q
;

571 
cŞÜ_ext_ty³
 *
	mÃxt
;

574 
bš_¡r
 
	gcŞÜ_šdiÿtÜ
[] =

576 { 
LEN_STR_PAIR
 ("\033[") },

577 { 
LEN_STR_PAIR
 ("m") },

578 { 0, 
NULL
 },

579 { 
LEN_STR_PAIR
 ("0") },

580 { 0, 
NULL
 },

581 { 0, 
NULL
 },

582 { 
LEN_STR_PAIR
 ("01;34") },

583 { 
LEN_STR_PAIR
 ("01;36") },

584 { 
LEN_STR_PAIR
 ("33") },

585 { 
LEN_STR_PAIR
 ("01;35") },

586 { 
LEN_STR_PAIR
 ("01;33") },

587 { 
LEN_STR_PAIR
 ("01;33") },

588 { 0, 
NULL
 },

589 { 0, 
NULL
 },

590 { 
LEN_STR_PAIR
 ("01;32") },

591 { 
LEN_STR_PAIR
 ("01;35") },

592 { 
LEN_STR_PAIR
 ("37;41") },

593 { 
LEN_STR_PAIR
 ("30;43") },

594 { 
LEN_STR_PAIR
 ("37;44") },

595 { 
LEN_STR_PAIR
 ("34;42") },

596 { 
LEN_STR_PAIR
 ("30;42") },

597 { 
LEN_STR_PAIR
 ("30;41") },

598 { 0, 
NULL
 },

599 { 
LEN_STR_PAIR
 ("\033[K") },

603 
cŞÜ_ext_ty³
 *
	gcŞÜ_ext_li¡
 = 
NULL
;

606 *
	gcŞÜ_buf
;

611 
boŞ
 
	gcheck_symlšk_cŞÜ
;

615 
boŞ
 
	g´št_šode
;

620 
D”eã»nû_symlšk
 
	gd”eã»nû
;

625 
boŞ
 
	g»cursive
;

630 
boŞ
 
	gimmedŸ‹_dœs
;

634 
boŞ
 
	gdœeùÜ›s_fœ¡
;

642 
	mIGNORE_DEFAULT
,

645 
	mIGNORE_DOT_AND_DOTDOT
,

648 
	mIGNORE_MINIMAL


649 } 
	gignÜe_mode
;

656 
	signÜe_·‰”n


658 cÚ¡ *
	m·‰”n
;

659 
ignÜe_·‰”n
 *
	mÃxt
;

662 
ignÜe_·‰”n
 *
	gignÜe_·‰”ns
;

666 
ignÜe_·‰”n
 *
	ghide_·‰”ns
;

677 
boŞ
 
	gqm¬k_fuÂy_ch¬s
;

681 
quÙšg_İtiÚs
 *
	gf’ame_quÙšg_İtiÚs
;

682 
quÙšg_İtiÚs
 *
	gdœÇme_quÙšg_İtiÚs
;

686 
size_t
 
	gbsize
;

690 
boŞ
 
	g´št_dœ_Çme
;

695 
size_t
 
	glše_Ëngth
;

700 
boŞ
 
	gfÜm©_Ãeds_¡©
;

705 
boŞ
 
	gfÜm©_Ãeds_ty³
;

713 ’um { 
	mTIME_STAMP_LEN_MAXIMUM
 = 
MAX
 (1000, 
INT_STRLEN_BOUND
 (
time_t
)) };

718 cÚ¡ *
	glÚg_time_fÜm©
[2] =

732 
N_
("%b %e %Y"),

745 
N_
("%b %e %H:%M")

750 
sig£t_t
 
	gÿught_sigÇls
;

754 
sig_©omic_t
 vŞ©
	gš‹¼u±_sigÇl
;

758 
sig_©omic_t
 vŞ©
	g¡İ_sigÇl_couÁ
;

762 
	gex™_¡©us
;

771 
	mLS_MINOR_PROBLEM
 = 1,

775 
	mLS_FAILURE
 = 2

782 
	mAUTHOR_OPTION
 = 
CHAR_MAX
 + 1,

783 
	mBLOCK_SIZE_OPTION
,

784 
	mCOLOR_OPTION
,

785 
	mDEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
,

786 
	mFILE_TYPE_INDICATOR_OPTION
,

787 
	mFORMAT_OPTION
,

788 
	mFULL_TIME_OPTION
,

789 
	mGROUP_DIRECTORIES_FIRST_OPTION
,

790 
	mHIDE_OPTION
,

791 
	mINDICATOR_STYLE_OPTION
,

792 
	mQUOTING_STYLE_OPTION
,

793 
	mSHOW_CONTROL_CHARS_OPTION
,

794 
	mSI_OPTION
,

795 
	mSORT_OPTION
,

796 
	mTIME_OPTION
,

797 
	mTIME_STYLE_OPTION


800 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

802 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

803 {"esÿ³", 
no_¬gum’t
, 
NULL
, 'b'},

804 {"dœeùÜy", 
no_¬gum’t
, 
NULL
, 'd'},

805 {"dœed", 
no_¬gum’t
, 
NULL
, 'D'},

806 {"fuÎ-time", 
no_¬gum’t
, 
NULL
, 
FULL_TIME_OPTION
},

807 {"group-dœeùÜ›s-fœ¡", 
no_¬gum’t
, 
NULL
,

808 
GROUP_DIRECTORIES_FIRST_OPTION
},

809 {"humª-»adabË", 
no_¬gum’t
, 
NULL
, 'h'},

810 {"šode", 
no_¬gum’t
, 
NULL
, 'i'},

811 {"kibiby‹s", 
no_¬gum’t
, 
NULL
, 'k'},

812 {"num”ic-uid-gid", 
no_¬gum’t
, 
NULL
, 'n'},

813 {"no-group", 
no_¬gum’t
, 
NULL
, 'G'},

814 {"hide-cÚŒŞ-ch¬s", 
no_¬gum’t
, 
NULL
, 'q'},

815 {"»v”£", 
no_¬gum’t
, 
NULL
, 'r'},

816 {"size", 
no_¬gum’t
, 
NULL
, 's'},

817 {"width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

818 {"®mo¡-®l", 
no_¬gum’t
, 
NULL
, 'A'},

819 {"ignÜe-backups", 
no_¬gum’t
, 
NULL
, 'B'},

820 {"şassify", 
no_¬gum’t
, 
NULL
, 'F'},

821 {"fe-ty³", 
no_¬gum’t
, 
NULL
, 
FILE_TYPE_INDICATOR_OPTION
},

822 {"si", 
no_¬gum’t
, 
NULL
, 
SI_OPTION
},

823 {"d”eã»nû-commªd-lše", 
no_¬gum’t
, 
NULL
, 'H'},

824 {"d”eã»nû-commªd-lše-symlšk-to-dœ", 
no_¬gum’t
, 
NULL
,

825 
DEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
},

826 {"hide", 
»quœed_¬gum’t
, 
NULL
, 
HIDE_OPTION
},

827 {"ignÜe", 
»quœed_¬gum’t
, 
NULL
, 'I'},

828 {"šdiÿtÜ-¡yË", 
»quœed_¬gum’t
, 
NULL
, 
INDICATOR_STYLE_OPTION
},

829 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 'L'},

830 {"l™”®", 
no_¬gum’t
, 
NULL
, 'N'},

831 {"quÙe-Çme", 
no_¬gum’t
, 
NULL
, 'Q'},

832 {"quÙšg-¡yË", 
»quœed_¬gum’t
, 
NULL
, 
QUOTING_STYLE_OPTION
},

833 {"»cursive", 
no_¬gum’t
, 
NULL
, 'R'},

834 {"fÜm©", 
»quœed_¬gum’t
, 
NULL
, 
FORMAT_OPTION
},

835 {"show-cÚŒŞ-ch¬s", 
no_¬gum’t
, 
NULL
, 
SHOW_CONTROL_CHARS_OPTION
},

836 {"sÜt", 
»quœed_¬gum’t
, 
NULL
, 
SORT_OPTION
},

837 {"bsize", 
»quœed_¬gum’t
, 
NULL
, 'T'},

838 {"time", 
»quœed_¬gum’t
, 
NULL
, 
TIME_OPTION
},

839 {"time-¡yË", 
»quœed_¬gum’t
, 
NULL
, 
TIME_STYLE_OPTION
},

840 {"cŞÜ", 
İtiÚ®_¬gum’t
, 
NULL
, 
COLOR_OPTION
},

841 {"block-size", 
»quœed_¬gum’t
, 
NULL
, 
BLOCK_SIZE_OPTION
},

842 {"cÚ‹xt", 
no_¬gum’t
, 0, 'Z'},

843 {"authÜ", 
no_¬gum’t
, 
NULL
, 
AUTHOR_OPTION
},

844 {
GETOPT_HELP_OPTION_DECL
},

845 {
GETOPT_VERSION_OPTION_DECL
},

846 {
NULL
, 0, NULL, 0}

849 cÚ¡ *cÚ¡ 
	gfÜm©_¬gs
[] =

852 "v”tiÿl", "sšgË-cŞumn", 
NULL


854 
fÜm©
 cÚ¡ 
	gfÜm©_ty³s
[] =

856 
lÚg_fÜm©
,†Úg_fÜm©, 
w™h_commas
, 
hÜizÚl
, horizontal,

857 
mªy_³r_lše
, 
Úe_³r_lše


859 
ARGMATCH_VERIFY
 (
fÜm©_¬gs
, 
fÜm©_ty³s
);

861 cÚ¡ *cÚ¡ 
	gsÜt_¬gs
[] =

863 "nÚe", "time", "size", "ex‹nsiÚ", "v”siÚ", 
NULL


865 
sÜt_ty³
 cÚ¡ 
	gsÜt_ty³s
[] =

867 
sÜt_nÚe
, 
sÜt_time
, 
sÜt_size
, 
sÜt_ex‹nsiÚ
, 
sÜt_v”siÚ


869 
ARGMATCH_VERIFY
 (
sÜt_¬gs
, 
sÜt_ty³s
);

871 cÚ¡ *cÚ¡ 
	gtime_¬gs
[] =

873 "©ime", "acûss", "u£", "ùime", "¡©us", 
NULL


875 
time_ty³
 cÚ¡ 
	gtime_ty³s
[] =

877 
time_©ime
,ime_©ime,ime_©ime, 
time_ùime
,ime_ctime

879 
ARGMATCH_VERIFY
 (
time_¬gs
, 
time_ty³s
);

881 cÚ¡ *cÚ¡ 
	gcŞÜ_¬gs
[] =

886 "auto", "‰y", "if-‰y", 
NULL


888 
cŞÜ_ty³
 cÚ¡ 
	gcŞÜ_ty³s
[] =

890 
cŞÜ_®ways
, color_always, color_always,

891 
cŞÜ_Ãv”
, color_never, color_never,

892 
cŞÜ_if_‰y
, color_if_tty, color_if_tty

894 
ARGMATCH_VERIFY
 (
cŞÜ_¬gs
, 
cŞÜ_ty³s
);

897 
	scŞumn_šfo


899 
boŞ
 
	mv®id_Ën
;

900 
size_t
 
	mlše_Ën
;

901 
size_t
 *
	mcŞ_¬r
;

905 
cŞumn_šfo
 *
	gcŞumn_šfo
;

908 
size_t
 
	gmax_idx
;

912 
	#MIN_COLUMN_WIDTH
 3

	)

920 
size_t
 
	gdœed_pos
;

922 
	#DIRED_PUTCHAR
(
c
èdØ{
	`putch¬
 ((c)); ++
dœed_pos
;} 0)

	)

925 
	#DIRED_FPUTS
(
s
, 
¡»am
, 
s_Ën
) \

926 dØ{
	`åuts
 (
s
, 
¡»am
); 
dœed_pos
 +ğ
s_Ën
;} 0)

	)

929 
	#DIRED_FPUTS_LITERAL
(
s
, 
¡»am
) \

930 dØ{
	`åuts
 (
s
, 
¡»am
); 
dœed_pos
 +ğ (sè- 1;} 0)

	)

932 
	#DIRED_INDENT
() \

935 ià(
dœed
) \

936 
	`DIRED_FPUTS_LITERAL
 (" ", 
¡dout
); \

938 0)

	)

941 
ob¡ack
 
	gdœed_ob¡ack
;

948 
ob¡ack
 
	gsubdœed_ob¡ack
;

951 
	#PUSH_CURRENT_DIRED_POS
(
obs
) \

954 ià(
dœed
) \

955 
	`ob¡ack_grow
 (
obs
, &
dœed_pos
,  (dired_pos)); \

957 0)

	)

962 
ob¡ack
 
	gdev_šo_ob¡ack
;

965 
	#DEV_INO_PUSH
(
Dev
, 
Ino
) \

968 
dev_šo
 *
di
; \

969 
	`ob¡ack_bÏnk
 (&
dev_šo_ob¡ack
,  (
dev_šo
)); \

970 
di
 = -1 + (
dev_šo
 *è
	`ob¡ack_Ãxt_ä“
 (&
dev_šo_ob¡ack
); \

971 
di
->
¡_dev
 = (
Dev
); \

972 
di
->
¡_šo
 = (
Ino
); \

974 0)

	)

978 
dev_šo


979 
	$dev_šo_pİ
 ()

981 
	`as£¹
 ( (
dev_šo
è<ğ
	`ob¡ack_objeù_size
 (&
dev_šo_ob¡ack
));

982 
	`ob¡ack_bÏnk
 (&
dev_šo_ob¡ack
, -(è( (
dev_šo
)));

983  *(
dev_šo
 *è
	`ob¡ack_Ãxt_ä“
 (&
dev_šo_ob¡ack
);

984 
	}
}

1003 
	$dœed_dump_ob¡ack
 (cÚ¡ *
´efix
, 
ob¡ack
 *
os
)

1005 
size_t
 
n_pos
;

1007 
n_pos
 = 
	`ob¡ack_objeù_size
 (
os
è/  (
dœed_pos
);

1008 ià(
n_pos
 > 0)

1010 
size_t
 
i
;

1011 
size_t
 *
pos
;

1013 
pos
 = (
size_t
 *è
	`ob¡ack_fšish
 (
os
);

1014 
	`åuts
 (
´efix
, 
¡dout
);

1015 
i
 = 0; i < 
n_pos
; i++)

1016 
	`´štf
 (" %lu", (è
pos
[
i
]);

1017 
	`putch¬
 ('\n');

1019 
	}
}

1030 ’um { 
	mMAX_MON_WIDTH
 = 5 };

1034 
	gabmÚ
[12][
MAX_MON_WIDTH
 * 2 * 
MB_LEN_MAX
 + 1];

1036 
size_t
 
	g»quœed_mÚ_width
;

1038 
size_t


1039 
	$abmÚ_š™
 ()

1041 #ifdeà
HAVE_NL_LANGINFO


1042 
»quœed_mÚ_width
 = 
MAX_MON_WIDTH
;

1043 
size_t
 
cu¼_max_width
;

1046 
cu¼_max_width
 = 
»quœed_mÚ_width
;

1047 
»quœed_mÚ_width
 = 0;

1048 
i
 = 0; i < 12; i++)

1050 
size_t
 
width
 = 
cu¼_max_width
;

1052 
size_t
 
»q
 = 
	`mb§lign
 (
	`Æ_Ïngšfo
 (
ABMON_1
 + 
i
),

1053 
abmÚ
[
i
],  (abmon[i]),

1054 &
width
, 
MBS_ALIGN_LEFT
, 0);

1056 ià(
»q
 =ğ(
size_t
è-1 ||„eq >ğ (
abmÚ
[
i
]))

1058 
»quœed_mÚ_width
 = 0;

1059  
»quœed_mÚ_width
;

1062 
»quœed_mÚ_width
 = 
	`MAX
 (»quœed_mÚ_width, 
width
);

1065 
cu¼_max_width
 > 
»quœed_mÚ_width
);

1068  
»quœed_mÚ_width
;

1069 
	}
}

1071 
size_t


1072 
	$dev_šo_hash
 (cÚ¡ *
x
, 
size_t
 
bË_size
)

1074 
dev_šo
 cÚ¡ *
p
 = 
x
;

1075  (
uštmax_t
è
p
->
¡_šo
 % 
bË_size
;

1076 
	}
}

1078 
boŞ


1079 
	$dev_šo_com·»
 (cÚ¡ *
x
, cÚ¡ *
y
)

1081 
dev_šo
 cÚ¡ *
a
 = 
x
;

1082 
dev_šo
 cÚ¡ *
b
 = 
y
;

1083  
	`SAME_INODE
 (*
a
, *
b
è? 
Œue
 : 
çl£
;

1084 
	}
}

1087 
	$dev_šo_ä“
 (*
x
)

1089 
	`ä“
 (
x
);

1090 
	}
}

1096 
boŞ


1097 
	$vis™_dœ
 (
dev_t
 
dev
, 
šo_t
 
šo
)

1099 
dev_šo
 *
’t
;

1100 
dev_šo
 *
’t_äom_bË
;

1101 
boŞ
 
found_m©ch
;

1103 
’t
 = 
	`xm®loc
 ( *ent);

1104 
’t
->
¡_šo
 = 
šo
;

1105 
’t
->
¡_dev
 = 
dev
;

1108 
’t_äom_bË
 = 
	`hash_š£¹
 (
aùive_dœ_£t
, 
’t
);

1110 ià(
’t_äom_bË
 =ğ
NULL
)

1113 
	`x®loc_d›
 ();

1116 
found_m©ch
 = (
’t_äom_bË
 !ğ
’t
);

1118 ià(
found_m©ch
)

1121 
	`ä“
 (
’t
);

1124  
found_m©ch
;

1125 
	}
}

1128 
	$ä“_³ndšg_’t
 (
³ndšg
 *
p
)

1130 
	`ä“
 (
p
->
Çme
);

1131 
	`ä“
 (
p
->
»®Çme
);

1132 
	`ä“
 (
p
);

1133 
	}
}

1135 
boŞ


1136 
	$is_cŞÜed
 (
šdiÿtÜ_no
 
ty³
)

1138 
size_t
 
Ën
 = 
cŞÜ_šdiÿtÜ
[
ty³
].len;

1139 cÚ¡ *
s
 = 
cŞÜ_šdiÿtÜ
[
ty³
].
¡ršg
;

1140  ! (
Ën
 == 0

1141 || (
Ën
 =ğ1 && 
	`STRNCMP_LIT
 (
s
, "0") == 0)

1142 || (
Ën
 =ğ2 && 
	`STRNCMP_LIT
 (
s
, "00") == 0));

1143 
	}
}

1146 
	$»¡Üe_deçuÉ_cŞÜ
 ()

1148 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_LEFT
]);

1149 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_RIGHT
]);

1150 
	}
}

1153 
	$£t_nÜm®_cŞÜ
 ()

1155 ià(
´št_w™h_cŞÜ
 && 
	`is_cŞÜed
 (
C_NORM
))

1157 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_LEFT
]);

1158 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_NORM
]);

1159 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_RIGHT
]);

1161 
	}
}

1166 
	$sighªdËr
 (
sig
)

1168 ià(! 
SA_NOCLDSTOP
)

1169 
	`sigÇl
 (
sig
, 
SIG_IGN
);

1170 ià(! 
š‹¼u±_sigÇl
)

1171 
š‹¼u±_sigÇl
 = 
sig
;

1172 
	}
}

1177 
	$¡İhªdËr
 (
sig
)

1179 ià(! 
SA_NOCLDSTOP
)

1180 
	`sigÇl
 (
sig
, 
¡İhªdËr
);

1181 ià(! 
š‹¼u±_sigÇl
)

1182 
¡İ_sigÇl_couÁ
++;

1183 
	}
}

1192 
	$´oûss_sigÇls
 ()

1194 
š‹¼u±_sigÇl
 || 
¡İ_sigÇl_couÁ
)

1196 
sig
;

1197 
¡İs
;

1198 
sig£t_t
 
Şd£t
;

1200 ià(
u£d_cŞÜ
)

1201 
	`»¡Üe_deçuÉ_cŞÜ
 ();

1202 
	`fæush
 (
¡dout
);

1204 
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &
Şd£t
);

1208 
sig
 = 
š‹¼u±_sigÇl
;

1209 
¡İs
 = 
¡İ_sigÇl_couÁ
;

1214 ià(
¡İs
)

1216 
¡İ_sigÇl_couÁ
 = 
¡İs
 - 1;

1217 
sig
 = 
SIGSTOP
;

1220 
	`sigÇl
 (
sig
, 
SIG_DFL
);

1223 
	`¿i£
 (
sig
);

1224 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şd£t
, 
NULL
);

1229 
	}
}

1232 
	$maš
 (
¬gc
, **
¬gv
)

1234 
i
;

1235 
³ndšg
 *
thi¥’d
;

1236 
n_fes
;

1239 cÚ¡ 
sig
[] =

1242 
SIGTSTP
,

1245 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

1246 #ifdeà
SIGPOLL


1247 
SIGPOLL
,

1249 #ifdeà
SIGPROF


1250 
SIGPROF
,

1252 #ifdeà
SIGVTALRM


1253 
SIGVTALRM
,

1255 #ifdeà
SIGXCPU


1256 
SIGXCPU
,

1258 #ifdeà
SIGXFSZ


1259 
SIGXFSZ
,

1262 ’um { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

1264 #ià! 
SA_NOCLDSTOP


1265 
boŞ
 
ÿught_sig
[
nsigs
];

1268 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1269 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1270 
	`£oÿË
 (
LC_ALL
, "");

1271 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1272 
	`‹xtdomaš
 (
PACKAGE
);

1274 
	`š™Ÿlize_ex™_çu»
 (
LS_FAILURE
);

1275 
	`©ex™
 (
şo£_¡dout
);

1277 
	`as£¹
 (
	`ARRAY_CARDINALITY
 (
cŞÜ_šdiÿtÜ
) + 1

1278 =ğ
	`ARRAY_CARDINALITY
 (
šdiÿtÜ_Çme
));

1280 
ex™_¡©us
 = 
EXIT_SUCCESS
;

1281 
´št_dœ_Çme
 = 
Œue
;

1282 
³ndšg_dœs
 = 
NULL
;

1284 
cu¼’t_time
.
tv_£c
 = 
	`TYPE_MINIMUM
 (
time_t
);

1285 
cu¼’t_time
.
tv_n£c
 = -1;

1287 
i
 = 
	`decode_sw™ches
 (
¬gc
, 
¬gv
);

1289 ià(
´št_w™h_cŞÜ
)

1290 
	`·r£_ls_cŞÜ
 ();

1294 ià(
´št_w™h_cŞÜ
)

1297 ià(
	`is_cŞÜed
 (
C_ORPHAN
)

1298 || (
	`is_cŞÜed
 (
C_EXEC
è&& 
cŞÜ_symlšk_as_»ã»Á
)

1299 || (
	`is_cŞÜed
 (
C_MISSING
è&& 
fÜm©
 =ğ
lÚg_fÜm©
))

1300 
check_symlšk_cŞÜ
 = 
Œue
;

1306 ià(0 <ğ
	`tcg‘pg½
 (
STDOUT_FILENO
))

1308 
j
;

1309 #ià
SA_NOCLDSTOP


1310 
sigaùiÚ
 
aù
;

1312 
	`sigem±y£t
 (&
ÿught_sigÇls
);

1313 
j
 = 0; j < 
nsigs
; j++)

1315 
	`sigaùiÚ
 (
sig
[
j
], 
NULL
, &
aù
);

1316 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

1317 
	`sigadd£t
 (&
ÿught_sigÇls
, 
sig
[
j
]);

1320 
aù
.
§_mask
 = 
ÿught_sigÇls
;

1321 
aù
.
§_æags
 = 
SA_RESTART
;

1323 
j
 = 0; j < 
nsigs
; j++)

1324 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
sig
[
j
]))

1326 
aù
.
§_hªdËr
 = 
sig
[
j
] =ğ
SIGTSTP
 ? 
¡İhªdËr
 : 
sighªdËr
;

1327 
	`sigaùiÚ
 (
sig
[
j
], &
aù
, 
NULL
);

1330 
j
 = 0; j < 
nsigs
; j++)

1332 
ÿught_sig
[
j
] = (
	`sigÇl
 (
sig
[j], 
SIG_IGN
) != SIG_IGN);

1333 ià(
ÿught_sig
[
j
])

1335 
	`sigÇl
 (
sig
[
j
], sig[j] =ğ
SIGTSTP
 ? 
¡İhªdËr
 : 
sighªdËr
);

1336 
	`sigš‹¼u±
 (
sig
[
j
], 0);

1343 ià(
d”eã»nû
 =ğ
DEREF_UNDEFINED
)

1344 
d”eã»nû
 = ((
immedŸ‹_dœs


1345 || 
šdiÿtÜ_¡yË
 =ğ
şassify


1346 || 
fÜm©
 =ğ
lÚg_fÜm©
)

1347 ? 
DEREF_NEVER


1348 : 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
);

1352 ià(
»cursive
)

1354 
aùive_dœ_£t
 = 
	`hash_š™Ÿlize
 (
INITIAL_TABLE_SIZE
, 
NULL
,

1355 
dev_šo_hash
,

1356 
dev_šo_com·»
,

1357 
dev_šo_ä“
);

1358 ià(
aùive_dœ_£t
 =ğ
NULL
)

1359 
	`x®loc_d›
 ();

1361 
	`ob¡ack_š™
 (&
dev_šo_ob¡ack
);

1364 
fÜm©_Ãeds_¡©
 = 
sÜt_ty³
 =ğ
sÜt_time
 || sÜt_ty³ =ğ
sÜt_size


1365 || 
fÜm©
 =ğ
lÚg_fÜm©


1366 || 
´št_scÚ‹xt


1367 || 
´št_block_size
;

1368 
fÜm©_Ãeds_ty³
 = (! 
fÜm©_Ãeds_¡©


1369 && (
»cursive


1370 || 
´št_w™h_cŞÜ


1371 || 
šdiÿtÜ_¡yË
 !ğ
nÚe


1372 || 
dœeùÜ›s_fœ¡
));

1374 ià(
dœed
)

1376 
	`ob¡ack_š™
 (&
dœed_ob¡ack
);

1377 
	`ob¡ack_š™
 (&
subdœed_ob¡ack
);

1380 
cwd_n_®loc
 = 100;

1381 
cwd_fe
 = 
	`xnm®loc
 (
cwd_n_®loc
,  *cwd_file);

1382 
cwd_n_u£d
 = 0;

1384 
	`ş—r_fes
 ();

1386 
n_fes
 = 
¬gc
 - 
i
;

1388 ià(
n_fes
 <= 0)

1390 ià(
immedŸ‹_dœs
)

1391 
	`gobbË_fe
 (".", 
dœeùÜy
, 
NOT_AN_INODE_NUMBER
, 
Œue
, "");

1393 
	`queue_dœeùÜy
 (".", 
NULL
, 
Œue
);

1397 
	`gobbË_fe
 (
¬gv
[
i
++], 
unknown
, 
NOT_AN_INODE_NUMBER
, 
Œue
, "");

1398 
i
 < 
¬gc
);

1400 ià(
cwd_n_u£d
)

1402 
	`sÜt_fes
 ();

1403 ià(!
immedŸ‹_dœs
)

1404 
	`exŒaù_dœs_äom_fes
 (
NULL
, 
Œue
);

1412 ià(
cwd_n_u£d
)

1414 
	`´št_cu¼’t_fes
 ();

1415 ià(
³ndšg_dœs
)

1416 
	`DIRED_PUTCHAR
 ('\n');

1418 ià(
n_fes
 <ğ1 && 
³ndšg_dœs
 &&…’dšg_dœs->
Ãxt
 == 0)

1419 
´št_dœ_Çme
 = 
çl£
;

1421 
³ndšg_dœs
)

1423 
thi¥’d
 = 
³ndšg_dœs
;

1424 
³ndšg_dœs
 =…’dšg_dœs->
Ãxt
;

1426 ià(
LOOP_DETECT
)

1428 ià(
thi¥’d
->
Çme
 =ğ
NULL
)

1434 
dev_šo
 
di
 = 
	`dev_šo_pİ
 ();

1435 
dev_šo
 *
found
 = 
	`hash_d–‘e
 (
aùive_dœ_£t
, &
di
);

1437 
	`as£¹
 (
found
);

1438 
	`dev_šo_ä“
 (
found
);

1439 
	`ä“_³ndšg_’t
 (
thi¥’d
);

1444 
	`´št_dœ
 (
thi¥’d
->
Çme
,hi¥’d->
»®Çme
,

1445 
thi¥’d
->
commªd_lše_¬g
);

1447 
	`ä“_³ndšg_’t
 (
thi¥’d
);

1448 
´št_dœ_Çme
 = 
Œue
;

1451 ià(
´št_w™h_cŞÜ
)

1453 
j
;

1455 ià(
u£d_cŞÜ
)

1459 ià(!(
cŞÜ_šdiÿtÜ
[
C_LEFT
].
Ën
 == 2

1460 && 
	`memcmp
 (
cŞÜ_šdiÿtÜ
[
C_LEFT
].
¡ršg
, "\033[", 2) == 0

1461 && 
cŞÜ_šdiÿtÜ
[
C_RIGHT
].
Ën
 == 1

1462 && 
cŞÜ_šdiÿtÜ
[
C_RIGHT
].
¡ršg
[0] == 'm'))

1463 
	`»¡Üe_deçuÉ_cŞÜ
 ();

1465 
	`fæush
 (
¡dout
);

1468 #ià
SA_NOCLDSTOP


1469 
j
 = 0; j < 
nsigs
; j++)

1470 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
sig
[
j
]))

1471 
	`sigÇl
 (
sig
[
j
], 
SIG_DFL
);

1473 
j
 = 0; j < 
nsigs
; j++)

1474 ià(
ÿught_sig
[
j
])

1475 
	`sigÇl
 (
sig
[
j
], 
SIG_DFL
);

1482 
j
 = 
¡İ_sigÇl_couÁ
; j; j--)

1483 
	`¿i£
 (
SIGSTOP
);

1484 
j
 = 
š‹¼u±_sigÇl
;

1485 ià(
j
)

1486 
	`¿i£
 (
j
);

1489 ià(
dœed
)

1492 
	`dœed_dump_ob¡ack
 ("//DIRED//", &
dœed_ob¡ack
);

1493 
	`dœed_dump_ob¡ack
 ("//SUBDIRED//", &
subdœed_ob¡ack
);

1494 
	`´štf
 ("//DIRED-OPTIONS// --quoting-style=%s\n",

1495 
quÙšg_¡yË_¬gs
[
	`g‘_quÙšg_¡yË
 (
f’ame_quÙšg_İtiÚs
)]);

1498 ià(
LOOP_DETECT
)

1500 
	`as£¹
 (
	`hash_g‘_n_’Œ›s
 (
aùive_dœ_£t
) == 0);

1501 
	`hash_ä“
 (
aùive_dœ_£t
);

1504 
	`ex™
 (
ex™_¡©us
);

1505 
	}
}

1511 
	$decode_sw™ches
 (
¬gc
, **
¬gv
)

1513 *
time_¡yË_İtiÚ
 = 
NULL
;

1515 
boŞ
 
sÜt_ty³_¥ecif›d
 = 
çl£
;

1516 
boŞ
 
kibiby‹s_¥ecif›d
 = 
çl£
;

1518 
qm¬k_fuÂy_ch¬s
 = 
çl£
;

1522 
ls_mode
)

1524 
LS_MULTI_COL
:

1526 
fÜm©
 = 
mªy_³r_lše
;

1527 
	`£t_quÙšg_¡yË
 (
NULL
, 
esÿ³_quÙšg_¡yË
);

1530 
LS_LONG_FORMAT
:

1532 
fÜm©
 = 
lÚg_fÜm©
;

1533 
	`£t_quÙšg_¡yË
 (
NULL
, 
esÿ³_quÙšg_¡yË
);

1536 
LS_LS
:

1538 ià(
	`i§‰y
 (
STDOUT_FILENO
))

1540 
fÜm©
 = 
mªy_³r_lše
;

1542 
qm¬k_fuÂy_ch¬s
 = 
Œue
;

1546 
fÜm©
 = 
Úe_³r_lše
;

1547 
qm¬k_fuÂy_ch¬s
 = 
çl£
;

1552 
	`abÜt
 ();

1555 
time_ty³
 = 
time_mtime
;

1556 
sÜt_ty³
 = 
sÜt_Çme
;

1557 
sÜt_»v”£
 = 
çl£
;

1558 
num”ic_ids
 = 
çl£
;

1559 
´št_block_size
 = 
çl£
;

1560 
šdiÿtÜ_¡yË
 = 
nÚe
;

1561 
´št_šode
 = 
çl£
;

1562 
d”eã»nû
 = 
DEREF_UNDEFINED
;

1563 
»cursive
 = 
çl£
;

1564 
immedŸ‹_dœs
 = 
çl£
;

1565 
ignÜe_mode
 = 
IGNORE_DEFAULT
;

1566 
ignÜe_·‰”ns
 = 
NULL
;

1567 
hide_·‰”ns
 = 
NULL
;

1568 
´št_scÚ‹xt
 = 
çl£
;

1572 cÚ¡ *
q_¡yË
 = 
	`g‘’v
 ("QUOTING_STYLE");

1573 ià(
q_¡yË
)

1575 
i
 = 
	`ARGMATCH
 (
q_¡yË
, 
quÙšg_¡yË_¬gs
, 
quÙšg_¡yË_v®s
);

1576 ià(0 <ğ
i
)

1577 
	`£t_quÙšg_¡yË
 (
NULL
, 
quÙšg_¡yË_v®s
[
i
]);

1579 
	`”rÜ
 (0, 0,

1580 
	`_
("ignoring invalid value ofƒnvironment variable QUOTING_STYLE: %s"),

1581 
	`quÙ—rg
 (
q_¡yË
));

1585 
lše_Ëngth
 = 80;

1587 cÚ¡ *
p
 = 
	`g‘’v
 ("COLUMNS");

1588 ià(
p
 && *p)

1590 
tmp_ulÚg
;

1591 ià(
	`x¡¹oul
 (
p
, 
NULL
, 0, &
tmp_ulÚg
, NULLè=ğ
LONGINT_OK


1592 && 0 < 
tmp_ulÚg
 &&mp_ulÚg <ğ
SIZE_MAX
)

1594 
lše_Ëngth
 = 
tmp_ulÚg
;

1598 
	`”rÜ
 (0, 0,

1599 
	`_
("ignoring invalid width inƒnvironment variable COLUMNS: %s"),

1600 
	`quÙ—rg
 (
p
));

1605 #ifdeà
TIOCGWINSZ


1607 
wšsize
 
ws
;

1609 ià(
	`ioùl
 (
STDOUT_FILENO
, 
TIOCGWINSZ
, &
ws
) != -1

1610 && 0 < 
ws
.
ws_cŞ
 && ws.ws_cŞ =ğ(
size_t
) ws.ws_col)

1611 
lše_Ëngth
 = 
ws
.
ws_cŞ
;

1616 cÚ¡ *
p
 = 
	`g‘’v
 ("TABSIZE");

1617 
bsize
 = 8;

1618 ià(
p
)

1620 
tmp_ulÚg
;

1621 ià(
	`x¡¹oul
 (
p
, 
NULL
, 0, &
tmp_ulÚg
, NULLè=ğ
LONGINT_OK


1622 && 
tmp_ulÚg
 <ğ
SIZE_MAX
)

1624 
bsize
 = 
tmp_ulÚg
;

1628 
	`”rÜ
 (0, 0,

1629 
	`_
("ignoring invalidab size inƒnvironment variable TABSIZE: %s"),

1630 
	`quÙ—rg
 (
p
));

1635 
Œue
)

1637 
oi
 = -1;

1638 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
,

1640 
lÚg_İtiÚs
, &
oi
);

1641 ià(
c
 == -1)

1644 
c
)

1647 
ignÜe_mode
 = 
IGNORE_MINIMAL
;

1651 
	`£t_quÙšg_¡yË
 (
NULL
, 
esÿ³_quÙšg_¡yË
);

1655 
time_ty³
 = 
time_ùime
;

1659 
immedŸ‹_dœs
 = 
Œue
;

1664 
ignÜe_mode
 = 
IGNORE_MINIMAL
;

1665 
sÜt_ty³
 = 
sÜt_nÚe
;

1666 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1668 ià(
fÜm©
 =ğ
lÚg_fÜm©
)

1669 
fÜm©
 = (
	`i§‰y
 (
STDOUT_FILENO
è? 
mªy_³r_lše
 : 
Úe_³r_lše
);

1670 
´št_block_size
 = 
çl£
;

1671 
´št_w™h_cŞÜ
 = 
çl£
;

1674 
FILE_TYPE_INDICATOR_OPTION
:

1675 
šdiÿtÜ_¡yË
 = 
fe_ty³
;

1679 
fÜm©
 = 
lÚg_fÜm©
;

1680 
´št_owÃr
 = 
çl£
;

1684 
fe_humª_ouut_İts
 = 
humª_ouut_İts
 =

1685 
humª_autosÿË
 | 
humª_SI
 | 
humª_ba£_1024
;

1686 
fe_ouut_block_size
 = 
ouut_block_size
 = 1;

1690 
´št_šode
 = 
Œue
;

1694 
kibiby‹s_¥ecif›d
 = 
Œue
;

1698 
fÜm©
 = 
lÚg_fÜm©
;

1702 
fÜm©
 = 
w™h_commas
;

1706 
num”ic_ids
 = 
Œue
;

1707 
fÜm©
 = 
lÚg_fÜm©
;

1711 
fÜm©
 = 
lÚg_fÜm©
;

1712 
´št_group
 = 
çl£
;

1716 
šdiÿtÜ_¡yË
 = 
¦ash
;

1720 
qm¬k_fuÂy_ch¬s
 = 
Œue
;

1724 
sÜt_»v”£
 = 
Œue
;

1728 
´št_block_size
 = 
Œue
;

1732 
sÜt_ty³
 = 
sÜt_time
;

1733 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1737 
time_ty³
 = 
time_©ime
;

1741 
sÜt_ty³
 = 
sÜt_v”siÚ
;

1742 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1747 
tmp_ulÚg
;

1748 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 0, &
tmp_ulÚg
, NULLè!ğ
LONGINT_OK


1749 || ! (0 < 
tmp_ulÚg
 &&mp_ulÚg <ğ
SIZE_MAX
))

1750 
	`”rÜ
 (
LS_FAILURE
, 0, 
	`_
("invalid†ine width: %s"),

1751 
	`quÙ—rg
 (
İrg
));

1752 
lše_Ëngth
 = 
tmp_ulÚg
;

1757 
fÜm©
 = 
hÜizÚl
;

1761 ià(
ignÜe_mode
 =ğ
IGNORE_DEFAULT
)

1762 
ignÜe_mode
 = 
IGNORE_DOT_AND_DOTDOT
;

1766 
	`add_ignÜe_·‰”n
 ("*~");

1767 
	`add_ignÜe_·‰”n
 (".*~");

1771 
fÜm©
 = 
mªy_³r_lše
;

1775 
dœed
 = 
Œue
;

1779 
šdiÿtÜ_¡yË
 = 
şassify
;

1783 
´št_group
 = 
çl£
;

1787 
d”eã»nû
 = 
DEREF_COMMAND_LINE_ARGUMENTS
;

1790 
DEREFERENCE_COMMAND_LINE_SYMLINK_TO_DIR_OPTION
:

1791 
d”eã»nû
 = 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
;

1795 
	`add_ignÜe_·‰”n
 (
İrg
);

1799 
d”eã»nû
 = 
DEREF_ALWAYS
;

1803 
	`£t_quÙšg_¡yË
 (
NULL
, 
l™”®_quÙšg_¡yË
);

1807 
	`£t_quÙšg_¡yË
 (
NULL
, 
c_quÙšg_¡yË
);

1811 
»cursive
 = 
Œue
;

1815 
sÜt_ty³
 = 
sÜt_size
;

1816 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1821 
tmp_ulÚg
;

1822 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 0, &
tmp_ulÚg
, NULLè!ğ
LONGINT_OK


1823 || 
SIZE_MAX
 < 
tmp_ulÚg
)

1824 
	`”rÜ
 (
LS_FAILURE
, 0, 
	`_
("invalidab size: %s"),

1825 
	`quÙ—rg
 (
İrg
));

1826 
bsize
 = 
tmp_ulÚg
;

1831 
sÜt_ty³
 = 
sÜt_nÚe
;

1832 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1836 
sÜt_ty³
 = 
sÜt_ex‹nsiÚ
;

1837 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1842 ià(
fÜm©
 !ğ
lÚg_fÜm©
)

1843 
fÜm©
 = 
Úe_³r_lše
;

1846 
AUTHOR_OPTION
:

1847 
´št_authÜ
 = 
Œue
;

1850 
HIDE_OPTION
:

1852 
ignÜe_·‰”n
 *
hide
 = 
	`xm®loc
 ( *hide);

1853 
hide
->
·‰”n
 = 
İrg
;

1854 
hide
->
Ãxt
 = 
hide_·‰”ns
;

1855 
hide_·‰”ns
 = 
hide
;

1859 
SORT_OPTION
:

1860 
sÜt_ty³
 = 
	`XARGMATCH
 ("--sÜt", 
İrg
, 
sÜt_¬gs
, 
sÜt_ty³s
);

1861 
sÜt_ty³_¥ecif›d
 = 
Œue
;

1864 
GROUP_DIRECTORIES_FIRST_OPTION
:

1865 
dœeùÜ›s_fœ¡
 = 
Œue
;

1868 
TIME_OPTION
:

1869 
time_ty³
 = 
	`XARGMATCH
 ("--time", 
İrg
, 
time_¬gs
, 
time_ty³s
);

1872 
FORMAT_OPTION
:

1873 
fÜm©
 = 
	`XARGMATCH
 ("--fÜm©", 
İrg
, 
fÜm©_¬gs
, 
fÜm©_ty³s
);

1876 
FULL_TIME_OPTION
:

1877 
fÜm©
 = 
lÚg_fÜm©
;

1878 
time_¡yË_İtiÚ
 = 
	`bad_ÿ¡
 ("full-iso");

1881 
COLOR_OPTION
:

1883 
i
;

1884 ià(
İrg
)

1885 
i
 = 
	`XARGMATCH
 ("--cŞÜ", 
İrg
, 
cŞÜ_¬gs
, 
cŞÜ_ty³s
);

1889 
i
 = 
cŞÜ_®ways
;

1891 
´št_w™h_cŞÜ
 = (
i
 =ğ
cŞÜ_®ways


1892 || (
i
 =ğ
cŞÜ_if_‰y


1893 && 
	`i§‰y
 (
STDOUT_FILENO
)));

1895 ià(
´št_w™h_cŞÜ
)

1900 
bsize
 = 0;

1905 
INDICATOR_STYLE_OPTION
:

1906 
šdiÿtÜ_¡yË
 = 
	`XARGMATCH
 ("--šdiÿtÜ-¡yË", 
İrg
,

1907 
šdiÿtÜ_¡yË_¬gs
,

1908 
šdiÿtÜ_¡yË_ty³s
);

1911 
QUOTING_STYLE_OPTION
:

1912 
	`£t_quÙšg_¡yË
 (
NULL
,

1913 
	`XARGMATCH
 ("--quÙšg-¡yË", 
İrg
,

1914 
quÙšg_¡yË_¬gs
,

1915 
quÙšg_¡yË_v®s
));

1918 
TIME_STYLE_OPTION
:

1919 
time_¡yË_İtiÚ
 = 
İrg
;

1922 
SHOW_CONTROL_CHARS_OPTION
:

1923 
qm¬k_fuÂy_ch¬s
 = 
çl£
;

1926 
BLOCK_SIZE_OPTION
:

1928 
¡¹Ş_”rÜ
 
e
 = 
	`humª_İtiÚs
 (
İrg
, &
humª_ouut_İts
,

1929 &
ouut_block_size
);

1930 ià(
e
 !ğ
LONGINT_OK
)

1931 
	`x¡¹Ş_çl
 (
e
, 
oi
, 0, 
lÚg_İtiÚs
, 
İrg
);

1932 
fe_humª_ouut_İts
 = 
humª_ouut_İts
;

1933 
fe_ouut_block_size
 = 
ouut_block_size
;

1937 
SI_OPTION
:

1938 
fe_humª_ouut_İts
 = 
humª_ouut_İts
 =

1939 
humª_autosÿË
 | 
humª_SI
;

1940 
fe_ouut_block_size
 = 
ouut_block_size
 = 1;

1944 
´št_scÚ‹xt
 = 
Œue
;

1947 
ÿ£_GETOPT_HELP_CHAR
;

1949 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1952 
	`u§ge
 (
LS_FAILURE
);

1956 ià(! 
ouut_block_size
)

1958 cÚ¡ *
ls_block_size
 = 
	`g‘’v
 ("LS_BLOCK_SIZE");

1959 
	`humª_İtiÚs
 (
ls_block_size
,

1960 &
humª_ouut_İts
, &
ouut_block_size
);

1961 ià(
ls_block_size
 || 
	`g‘’v
 ("BLOCK_SIZE"))

1963 
fe_humª_ouut_İts
 = 
humª_ouut_İts
;

1964 
fe_ouut_block_size
 = 
ouut_block_size
;

1966 ià(
kibiby‹s_¥ecif›d
)

1968 
humª_ouut_İts
 = 0;

1969 
ouut_block_size
 = 1024;

1973 
max_idx
 = 
	`MAX
 (1, 
lše_Ëngth
 / 
MIN_COLUMN_WIDTH
);

1975 
f’ame_quÙšg_İtiÚs
 = 
	`şÚe_quÙšg_İtiÚs
 (
NULL
);

1976 ià(
	`g‘_quÙšg_¡yË
 (
f’ame_quÙšg_İtiÚs
è=ğ
esÿ³_quÙšg_¡yË
)

1977 
	`£t_ch¬_quÙšg
 (
f’ame_quÙšg_İtiÚs
, ' ', 1);

1978 ià(
fe_ty³
 <ğ
šdiÿtÜ_¡yË
)

1980 cÚ¡ *
p
;

1981 
p
 = "*=>@|" + 
šdiÿtÜ_¡yË
 - 
fe_ty³
; *p;…++)

1982 
	`£t_ch¬_quÙšg
 (
f’ame_quÙšg_İtiÚs
, *
p
, 1);

1985 
dœÇme_quÙšg_İtiÚs
 = 
	`şÚe_quÙšg_İtiÚs
 (
NULL
);

1986 
	`£t_ch¬_quÙšg
 (
dœÇme_quÙšg_İtiÚs
, ':', 1);

1991 ià(
dœed
 && 
fÜm©
 !ğ
lÚg_fÜm©
)

1992 
dœed
 = 
çl£
;

2002 ià((
time_ty³
 =ğ
time_ùime
 ||ime_ty³ =ğ
time_©ime
)

2003 && !
sÜt_ty³_¥ecif›d
 && 
fÜm©
 !ğ
lÚg_fÜm©
)

2005 
sÜt_ty³
 = 
sÜt_time
;

2008 ià(
fÜm©
 =ğ
lÚg_fÜm©
)

2010 *
¡yË
 = 
time_¡yË_İtiÚ
;

2011 cÚ¡ 
posix_´efix
[] = "posix-";

2013 ià(! 
¡yË
)

2014 ià(! (
¡yË
 = 
	`g‘’v
 ("TIME_STYLE")))

2015 
¡yË
 = 
	`bad_ÿ¡
 ("locale");

2017 
	`STREQ_LEN
 (
¡yË
, 
posix_´efix
, …osix_prefix - 1))

2019 ià(! 
	`h¬d_loÿË
 (
LC_TIME
))

2020  
İtšd
;

2021 
¡yË
 +ğ 
posix_´efix
 - 1;

2024 ià(*
¡yË
 == '+')

2026 *
p0
 = 
¡yË
 + 1;

2027 *
p1
 = 
	`¡rchr
 (
p0
, '\n');

2028 ià(! 
p1
)

2029 
p1
 = 
p0
;

2032 ià(
	`¡rchr
 (
p1
 + 1, '\n'))

2033 
	`”rÜ
 (
LS_FAILURE
, 0, 
	`_
("invalidime style format %s"),

2034 
	`quÙe
 (
p0
));

2035 *
p1
++ = '\0';

2037 
lÚg_time_fÜm©
[0] = 
p0
;

2038 
lÚg_time_fÜm©
[1] = 
p1
;

2042 
±rdiff_t
 
»s
 = 
	`¬gm©ch
 (
¡yË
, 
time_¡yË_¬gs
,

2043 (cÚ¡ *è
time_¡yË_ty³s
,

2044  (*
time_¡yË_ty³s
));

2045 ià(
»s
 < 0)

2050 
	`¬gm©ch_šv®id
 ("tim¡yË", 
¡yË
, 
»s
);

2057 
	`åuts
 (
	`_
("V®id‡rgum’t ¬e:\n"), 
¡d”r
);

2058 cÚ¡ *cÚ¡ *
p
 = 
time_¡yË_¬gs
;

2059 *
p
)

2060 
	`årštf
 (
¡d”r
, " - [posix-]%s\n", *
p
++);

2061 
	`åuts
 (
	`_
(" - +FORMAT (e.g., +%H:%M) for‡ 'date'-style"

2062 " fÜm©\n"), 
¡d”r
);

2063 
	`u§ge
 (
LS_FAILURE
);

2065 
»s
)

2067 
fuÎ_iso_time_¡yË
:

2068 
lÚg_time_fÜm©
[0] =†ong_time_format[1] =

2072 
lÚg_iso_time_¡yË
:

2073 
lÚg_time_fÜm©
[0] =†ong_time_format[1] = "%Y-%m-%d %H:%M";

2076 
iso_time_¡yË
:

2077 
lÚg_time_fÜm©
[0] = "%Y-%m-%d ";

2078 
lÚg_time_fÜm©
[1] = "%m-%d %H:%M";

2081 
loÿË_time_¡yË
:

2082 ià(
	`h¬d_loÿË
 (
LC_TIME
))

2084 
i
;

2085 
i
 = 0; i < 2; i++)

2086 
lÚg_time_fÜm©
[
i
] =

2087 
	`dcg‘‹xt
 (
NULL
, 
lÚg_time_fÜm©
[
i
], 
LC_TIME
);

2093 ià(
	`¡r¡r
 (
lÚg_time_fÜm©
[0], "%b")

2094 || 
	`¡r¡r
 (
lÚg_time_fÜm©
[1], "%b"))

2095 ià(!
	`abmÚ_š™
 ())

2096 
	`”rÜ
 (0, 0, 
	`_
("error initializing month strings"));

2099  
İtšd
;

2100 
	}
}

2115 
boŞ


2116 
	$g‘_funky_¡ršg
 (**
de¡
, cÚ¡ **
¤c
, 
boŞ
 
equ®s_’d
,

2117 
size_t
 *
ouut_couÁ
)

2119 
num
;

2120 
size_t
 
couÁ
;

2122 
ST_GND
, 
ST_BACKSLASH
, 
ST_OCTAL
, 
ST_HEX
, 
ST_CARET
, 
ST_END
, 
ST_ERROR


2123 } 
¡©e
;

2124 cÚ¡ *
p
;

2125 *
q
;

2127 
p
 = *
¤c
;

2128 
q
 = *
de¡
;

2130 
couÁ
 = 0;

2131 
num
 = 0;

2133 
¡©e
 = 
ST_GND
;

2134 
¡©e
 < 
ST_END
)

2136 
¡©e
)

2138 
ST_GND
:

2139 *
p
)

2143 
¡©e
 = 
ST_END
;

2146 
¡©e
 = 
ST_BACKSLASH
;

2147 ++
p
;

2150 
¡©e
 = 
ST_CARET
;

2151 ++
p
;

2154 ià(
equ®s_’d
)

2156 
¡©e
 = 
ST_END
;

2161 *(
q
++èğ*(
p
++);

2162 ++
couÁ
;

2167 
ST_BACKSLASH
:

2168 *
p
)

2178 
¡©e
 = 
ST_OCTAL
;

2179 
num
 = *
p
 - '0';

2183 
¡©e
 = 
ST_HEX
;

2184 
num
 = 0;

2187 
num
 = '\a';

2190 
num
 = '\b';

2193 
num
 = 27;

2196 
num
 = '\f';

2199 
num
 = '\n';

2202 
num
 = '\r';

2205 
num
 = '\t';

2208 
num
 = '\v';

2211 
num
 = 127;

2214 
num
 = ' ';

2217 
¡©e
 = 
ST_ERROR
;

2220 
num
 = *
p
;

2223 ià(
¡©e
 =ğ
ST_BACKSLASH
)

2225 *(
q
++èğ
num
;

2226 ++
couÁ
;

2227 
¡©e
 = 
ST_GND
;

2229 ++
p
;

2232 
ST_OCTAL
:

2233 ià(*
p
 < '0' || *p > '7')

2235 *(
q
++èğ
num
;

2236 ++
couÁ
;

2237 
¡©e
 = 
ST_GND
;

2240 
num
 = (num << 3è+ (*(
p
++) - '0');

2243 
ST_HEX
:

2244 *
p
)

2256 
num
 = (num << 4è+ (*(
p
++) - '0');

2264 
num
 = (num << 4è+ (*(
p
++) - 'a') + 10;

2272 
num
 = (num << 4è+ (*(
p
++) - 'A') + 10;

2275 *(
q
++èğ
num
;

2276 ++
couÁ
;

2277 
¡©e
 = 
ST_GND
;

2282 
ST_CARET
:

2283 
¡©e
 = 
ST_GND
;

2284 ià(*
p
 >= '@' && *p <= '~')

2286 *(
q
++èğ*(
p
++) & 037;

2287 ++
couÁ
;

2289 ià(*
p
 == '?')

2291 *(
q
++) = 127;

2292 ++
couÁ
;

2295 
¡©e
 = 
ST_ERROR
;

2299 
	`abÜt
 ();

2303 *
de¡
 = 
q
;

2304 *
¤c
 = 
p
;

2305 *
ouut_couÁ
 = 
couÁ
;

2307  
¡©e
 !ğ
ST_ERROR
;

2308 
	}
}

2310 
	e·r£_¡©e


2312 
	mPS_START
 = 1,

2313 
	mPS_2
,

2314 
	mPS_3
,

2315 
	mPS_4
,

2316 
	mPS_DONE
,

2317 
	mPS_FAIL


2321 
	$·r£_ls_cŞÜ
 ()

2323 cÚ¡ *
p
;

2324 *
buf
;

2325 
šd_no
;

2326 
Ïb–
[3];

2327 
cŞÜ_ext_ty³
 *
ext
;

2329 ià((
p
 = 
	`g‘’v
 ("LS_COLORS")è=ğ
NULL
 || *p == '\0')

2332 
ext
 = 
NULL
;

2333 
	`¡rıy
 (
Ïb–
, "??");

2339 
buf
 = 
cŞÜ_buf
 = 
	`x¡rdup
 (
p
);

2341 
·r£_¡©e
 
¡©e
 = 
PS_START
;

2342 
Œue
)

2344 
¡©e
)

2346 
PS_START
:

2347 *
p
)

2350 ++
p
;

2359 
ext
 = 
	`xm®loc
 ( *ext);

2360 
ext
->
Ãxt
 = 
cŞÜ_ext_li¡
;

2361 
cŞÜ_ext_li¡
 = 
ext
;

2363 ++
p
;

2364 
ext
->ext.
¡ršg
 = 
buf
;

2366 
¡©e
 = (
	`g‘_funky_¡ršg
 (&
buf
, &
p
, 
Œue
, &
ext
->ext.
Ën
)

2367 ? 
PS_4
 : 
PS_FAIL
);

2371 
¡©e
 = 
PS_DONE
;

2372 
dÚe
;

2375 
Ïb–
[0] = *(
p
++);

2376 
¡©e
 = 
PS_2
;

2381 
PS_2
:

2382 ià(*
p
)

2384 
Ïb–
[1] = *(
p
++);

2385 
¡©e
 = 
PS_3
;

2388 
¡©e
 = 
PS_FAIL
;

2391 
PS_3
:

2392 
¡©e
 = 
PS_FAIL
;

2393 ià(*(
p
++) == '=')

2395 
šd_no
 = 0; 
šdiÿtÜ_Çme
[šd_no] !ğ
NULL
; ++ind_no)

2397 ià(
	`STREQ
 (
Ïb–
, 
šdiÿtÜ_Çme
[
šd_no
]))

2399 
cŞÜ_šdiÿtÜ
[
šd_no
].
¡ršg
 = 
buf
;

2400 
¡©e
 = (
	`g‘_funky_¡ršg
 (&
buf
, &
p
, 
çl£
,

2401 &
cŞÜ_šdiÿtÜ
[
šd_no
].
Ën
)

2402 ? 
PS_START
 : 
PS_FAIL
);

2406 ià(
¡©e
 =ğ
PS_FAIL
)

2407 
	`”rÜ
 (0, 0, 
	`_
("uÄecognized…»fix: %s"), 
	`quÙ—rg
 (
Ïb–
));

2411 
PS_4
:

2412 ià(*(
p
++) == '=')

2414 
ext
->
£q
.
¡ršg
 = 
buf
;

2415 
¡©e
 = (
	`g‘_funky_¡ršg
 (&
buf
, &
p
, 
çl£
, &
ext
->
£q
.
Ën
)

2416 ? 
PS_START
 : 
PS_FAIL
);

2419 
¡©e
 = 
PS_FAIL
;

2422 
PS_FAIL
:

2423 
dÚe
;

2426 
	`abÜt
 ();

2429 
dÚe
:

2431 ià(
¡©e
 =ğ
PS_FAIL
)

2433 
cŞÜ_ext_ty³
 *
e
;

2434 
cŞÜ_ext_ty³
 *
e2
;

2436 
	`”rÜ
 (0, 0,

2437 
	`_
("unparsable value for LS_COLORSƒnvironment variable"));

2438 
	`ä“
 (
cŞÜ_buf
);

2439 
e
 = 
cŞÜ_ext_li¡
;ƒ !ğ
NULL
; )

2441 
e2
 = 
e
;

2442 
e
 =ƒ->
Ãxt
;

2443 
	`ä“
 (
e2
);

2445 
´št_w™h_cŞÜ
 = 
çl£
;

2448 ià(
cŞÜ_šdiÿtÜ
[
C_LINK
].
Ën
 == 6

2449 && !
	`STRNCMP_LIT
 (
cŞÜ_šdiÿtÜ
[
C_LINK
].
¡ršg
, "target"))

2450 
cŞÜ_symlšk_as_»ã»Á
 = 
Œue
;

2451 
	}
}

2457 
	$£t_ex™_¡©us
 (
boŞ
 
£rious
)

2459 ià(
£rious
)

2460 
ex™_¡©us
 = 
LS_FAILURE
;

2461 ià(
ex™_¡©us
 =ğ
EXIT_SUCCESS
)

2462 
ex™_¡©us
 = 
LS_MINOR_PROBLEM
;

2463 
	}
}

2470 
	$fe_çu»
 (
boŞ
 
£rious
, cÚ¡ *
mes§ge
, cÚ¡ *
fe
)

2472 
	`”rÜ
 (0, 
”ºo
, 
mes§ge
, 
	`quÙ—rg_cŞÚ
 (
fe
));

2473 
	`£t_ex™_¡©us
 (
£rious
);

2474 
	}
}

2487 
	$queue_dœeùÜy
 (cÚ¡ *
Çme
, cÚ¡ *
»®Çme
, 
boŞ
 
commªd_lše_¬g
)

2489 
³ndšg
 *
Ãw
 = 
	`xm®loc
 ( *new);

2490 
Ãw
->
»®Çme
 =„—Êam? 
	`x¡rdup
 (»®Çmeè: 
NULL
;

2491 
Ãw
->
Çme
 =‚am? 
	`x¡rdup
 (Çmeè: 
NULL
;

2492 
Ãw
->
commªd_lše_¬g
 = command_line_arg;

2493 
Ãw
->
Ãxt
 = 
³ndšg_dœs
;

2494 
³ndšg_dœs
 = 
Ãw
;

2495 
	}
}

2503 
	$´št_dœ
 (cÚ¡ *
Çme
, cÚ¡ *
»®Çme
, 
boŞ
 
commªd_lše_¬g
)

2505 
DIR
 *
dœp
;

2506 
dœ’t
 *
Ãxt
;

2507 
uštmax_t
 
tÙ®_blocks
 = 0;

2508 
boŞ
 
fœ¡
 = 
Œue
;

2510 
”ºo
 = 0;

2511 
dœp
 = 
	`İ’dœ
 (
Çme
);

2512 ià(!
dœp
)

2514 
	`fe_çu»
 (
commªd_lše_¬g
, 
	`_
("ÿÂÙ o³ÀdœeùÜy %s"), 
Çme
);

2518 ià(
LOOP_DETECT
)

2520 
¡©
 
dœ_¡©
;

2521 
fd
 = 
	`dœfd
 (
dœp
);

2524 ià((0 <ğ
fd


2525 ? 
	`f¡©
 (
fd
, &
dœ_¡©
)

2526 : 
	`¡©
 (
Çme
, &
dœ_¡©
)) < 0)

2528 
	`fe_çu»
 (
commªd_lše_¬g
,

2529 
	`_
("ÿÂÙ d‘”mšdeviû‡nd inodoà%s"), 
Çme
);

2530 
	`şo£dœ
 (
dœp
);

2536 ià(
	`vis™_dœ
 (
dœ_¡©
.
¡_dev
, dœ_¡©.
¡_šo
))

2538 
	`”rÜ
 (0, 0, 
	`_
("%s:‚ot†isting‡lready-listed directory"),

2539 
	`quÙ—rg_cŞÚ
 (
Çme
));

2540 
	`şo£dœ
 (
dœp
);

2541 
	`£t_ex™_¡©us
 (
Œue
);

2545 
	`DEV_INO_PUSH
 (
dœ_¡©
.
¡_dev
, dœ_¡©.
¡_šo
);

2548 ià(
»cursive
 || 
´št_dœ_Çme
)

2550 ià(!
fœ¡
)

2551 
	`DIRED_PUTCHAR
 ('\n');

2552 
fœ¡
 = 
çl£
;

2553 
	`DIRED_INDENT
 ();

2554 
	`PUSH_CURRENT_DIRED_POS
 (&
subdœed_ob¡ack
);

2555 
dœed_pos
 +ğ
	`quÙe_Çme
 (
¡dout
, 
»®Çme
 ?„—Êam: 
Çme
,

2556 
dœÇme_quÙšg_İtiÚs
, 
NULL
);

2557 
	`PUSH_CURRENT_DIRED_POS
 (&
subdœed_ob¡ack
);

2558 
	`DIRED_FPUTS_LITERAL
 (":\n", 
¡dout
);

2564 
	`ş—r_fes
 ();

2570 
”ºo
 = 0;

2571 
Ãxt
 = 
	`»addœ
 (
dœp
);

2572 ià(
Ãxt
)

2574 ià(! 
	`fe_ignÜed
 (
Ãxt
->
d_Çme
))

2576 
f‘y³
 
ty³
 = 
unknown
;

2578 #ià
HAVE_STRUCT_DIRENT_D_TYPE


2579 
Ãxt
->
d_ty³
)

2581 
DT_BLK
: 
ty³
 = 
blockdev
; ;

2582 
DT_CHR
: 
ty³
 = 
ch¬dev
; ;

2583 
DT_DIR
: 
ty³
 = 
dœeùÜy
; ;

2584 
DT_FIFO
: 
ty³
 = 
fifo
; ;

2585 
DT_LNK
: 
ty³
 = 
symbŞic_lšk
; ;

2586 
DT_REG
: 
ty³
 = 
nÜm®
; ;

2587 
DT_SOCK
: 
ty³
 = 
sock
; ;

2588 #ifdeà
DT_WHT


2589 
DT_WHT
: 
ty³
 = 
wh™eout
; ;

2593 
tÙ®_blocks
 +ğ
	`gobbË_fe
 (
Ãxt
->
d_Çme
, 
ty³
,

2594 
	`RELIABLE_D_INO
 (
Ãxt
),

2595 
çl£
, 
Çme
);

2601 ià(
fÜm©
 =ğ
Úe_³r_lše
 && 
sÜt_ty³
 =ğ
sÜt_nÚe


2602 && !
´št_block_size
 && !
»cursive
)

2607 
	`sÜt_fes
 ();

2608 
	`´št_cu¼’t_fes
 ();

2609 
	`ş—r_fes
 ();

2613 ià(
”ºo
 != 0)

2615 
	`fe_çu»
 (
commªd_lše_¬g
, 
	`_
("»adšg dœeùÜy %s"), 
Çme
);

2616 ià(
”ºo
 !ğ
EOVERFLOW
)

2625 
	`´oûss_sigÇls
 ();

2628 ià(
	`şo£dœ
 (
dœp
) != 0)

2630 
	`fe_çu»
 (
commªd_lše_¬g
, 
	`_
("şosšg dœeùÜy %s"), 
Çme
);

2635 
	`sÜt_fes
 ();

2640 ià(
»cursive
)

2641 
	`exŒaù_dœs_äom_fes
 (
Çme
, 
commªd_lše_¬g
);

2643 ià(
fÜm©
 =ğ
lÚg_fÜm©
 || 
´št_block_size
)

2645 cÚ¡ *
p
;

2646 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

2648 
	`DIRED_INDENT
 ();

2649 
p
 = 
	`_
("total");

2650 
	`DIRED_FPUTS
 (
p
, 
¡dout
, 
	`¡¾’
 (p));

2651 
	`DIRED_PUTCHAR
 (' ');

2652 
p
 = 
	`humª_»adabË
 (
tÙ®_blocks
, 
buf
, 
humª_ouut_İts
,

2653 
ST_NBLOCKSIZE
, 
ouut_block_size
);

2654 
	`DIRED_FPUTS
 (
p
, 
¡dout
, 
	`¡¾’
 (p));

2655 
	`DIRED_PUTCHAR
 ('\n');

2658 ià(
cwd_n_u£d
)

2659 
	`´št_cu¼’t_fes
 ();

2660 
	}
}

2666 
	$add_ignÜe_·‰”n
 (cÚ¡ *
·‰”n
)

2668 
ignÜe_·‰”n
 *
ignÜe
;

2670 
ignÜe
 = 
	`xm®loc
 ( *ignore);

2671 
ignÜe
->
·‰”n
 =…attern;

2673 
ignÜe
->
Ãxt
 = 
ignÜe_·‰”ns
;

2674 
ignÜe_·‰”ns
 = 
ignÜe
;

2675 
	}
}

2679 
boŞ


2680 
	$·‰”ns_m©ch
 (
ignÜe_·‰”n
 cÚ¡ *
·‰”ns
, cÚ¡ *
fe
)

2682 
ignÜe_·‰”n
 cÚ¡ *
p
;

2683 
p
 = 
·‰”ns
;…;… =…->
Ãxt
)

2684 ià(
	`âm©ch
 (
p
->
·‰”n
, 
fe
, 
FNM_PERIOD
) == 0)

2685  
Œue
;

2686  
çl£
;

2687 
	}
}

2691 
boŞ


2692 
	$fe_ignÜed
 (cÚ¡ *
Çme
)

2694  ((
ignÜe_mode
 !ğ
IGNORE_MINIMAL


2695 && 
Çme
[0] == '.'

2696 && (
ignÜe_mode
 =ğ
IGNORE_DEFAULT
 || ! 
Çme
[1 + (name[1] == '.')]))

2697 || (
ignÜe_mode
 =ğ
IGNORE_DEFAULT


2698 && 
	`·‰”ns_m©ch
 (
hide_·‰”ns
, 
Çme
))

2699 || 
	`·‰”ns_m©ch
 (
ignÜe_·‰”ns
, 
Çme
));

2700 
	}
}

2706 
uštmax_t


2707 
	$unsigÃd_fe_size
 (
off_t
 
size
)

2709  
size
 + (siz< 0è* ((
uštmax_t
è
OFF_T_MAX
 - 
OFF_T_MIN
 + 1);

2710 
	}
}

2712 #ifdeà
HAVE_CAP


2714 
boŞ


2715 
	$has_ÿ·b™y
 (cÚ¡ *
Çme
)

2717 *
»suÉ
;

2718 
boŞ
 
has_ÿp
;

2720 
ÿp_t
 
ÿp_d
 = 
	`ÿp_g‘_fe
 (
Çme
);

2721 ià(
ÿp_d
 =ğ
NULL
)

2722  
çl£
;

2724 
»suÉ
 = 
	`ÿp_to_‹xt
 (
ÿp_d
, 
NULL
);

2725 
	`ÿp_ä“
 (
ÿp_d
);

2726 ià(!
»suÉ
)

2727  
çl£
;

2730 
has_ÿp
 = !!*
»suÉ
;

2732 
	`ÿp_ä“
 (
»suÉ
);

2733  
has_ÿp
;

2734 
	}
}

2736 
boŞ


2737 
	$has_ÿ·b™y
 (cÚ¡ *
Çme
 
ATTRIBUTE_UNUSED
)

2739 
”ºo
 = 
ENOTSUP
;

2740  
çl£
;

2741 
	}
}

2747 
	$ä“_’t
 (
fešfo
 *
f
)

2749 
	`ä“
 (
f
->
Çme
);

2750 
	`ä“
 (
f
->
lškÇme
);

2751 ià(
f
->
scÚ‹xt
 !ğ
UNKNOWN_SECURITY_CONTEXT
)

2752 
	`ä“cÚ
 (
f
->
scÚ‹xt
);

2753 
	}
}

2757 
	$ş—r_fes
 ()

2759 
size_t
 
i
;

2761 
i
 = 0; i < 
cwd_n_u£d
; i++)

2763 
fešfo
 *
f
 = 
sÜ‹d_fe
[
i
];

2764 
	`ä“_’t
 (
f
);

2767 
cwd_n_u£d
 = 0;

2768 
ªy_has_aş
 = 
çl£
;

2769 
šode_numb”_width
 = 0;

2770 
block_size_width
 = 0;

2771 
Æšk_width
 = 0;

2772 
owÃr_width
 = 0;

2773 
group_width
 = 0;

2774 
authÜ_width
 = 0;

2775 
scÚ‹xt_width
 = 0;

2776 
majÜ_deviû_numb”_width
 = 0;

2777 
mšÜ_deviû_numb”_width
 = 0;

2778 
fe_size_width
 = 0;

2779 
	}
}

2783 
boŞ


2784 
	$”ºo_unsuµÜ‹d
 (
”r
)

2786  (
”r
 =ğ
EINVAL


2787 || 
”r
 =ğ
ENOSYS


2788 || 
”r
 =ğ
ENOTSUP


2789 || 
”r
 =ğ
EOPNOTSUPP
);

2790 
	}
}

2796 
	$g‘fecÚ_ÿche
 (cÚ¡ *
fe
, 
fešfo
 *
f
, 
boŞ
 
d”ef
)

2800 
dev_t
 
unsuµÜ‹d_deviû
;

2802 ià(
f
->
¡©
.
¡_dev
 =ğ
unsuµÜ‹d_deviû
)

2804 
”ºo
 = 
ENOTSUP
;

2807 
r
 = (
d”ef


2808 ? 
	`g‘fecÚ
 (
fe
, &
f
->
scÚ‹xt
)

2809 : 
	`lg‘fecÚ
 (
fe
, &
f
->
scÚ‹xt
));

2810 ià(
r
 < 0 && 
	`”ºo_unsuµÜ‹d
 (
”ºo
))

2811 
unsuµÜ‹d_deviû
 = 
f
->
¡©
.
¡_dev
;

2812  
r
;

2813 
	}
}

2819 
	$fe_has_aş_ÿche
 (cÚ¡ *
fe
, 
fešfo
 *
f
)

2823 
dev_t
 
unsuµÜ‹d_deviû
;

2825 ià(
f
->
¡©
.
¡_dev
 =ğ
unsuµÜ‹d_deviû
)

2827 
”ºo
 = 
ENOTSUP
;

2833 
”ºo
 = 0;

2834 
n
 = 
	`fe_has_aş
 (
fe
, &
f
->
¡©
);

2835 ià(
n
 <ğ0 && 
	`”ºo_unsuµÜ‹d
 (
”ºo
))

2836 
unsuµÜ‹d_deviû
 = 
f
->
¡©
.
¡_dev
;

2837  
n
;

2838 
	}
}

2843 
boŞ


2844 
	$has_ÿ·b™y_ÿche
 (cÚ¡ *
fe
, 
fešfo
 *
f
)

2848 
dev_t
 
unsuµÜ‹d_deviû
;

2850 ià(
f
->
¡©
.
¡_dev
 =ğ
unsuµÜ‹d_deviû
)

2852 
”ºo
 = 
ENOTSUP
;

2856 
boŞ
 
b
 = 
	`has_ÿ·b™y
 (
fe
);

2857 iàĞ!
b
 && 
	`”ºo_unsuµÜ‹d
 (
”ºo
))

2858 
unsuµÜ‹d_deviû
 = 
f
->
¡©
.
¡_dev
;

2859  
b
;

2860 
	}
}

2865 
uštmax_t


2866 
	$gobbË_fe
 (cÚ¡ *
Çme
, 
f‘y³
 
ty³
, 
šo_t
 
šode
,

2867 
boŞ
 
commªd_lše_¬g
, cÚ¡ *
dœÇme
)

2869 
uštmax_t
 
blocks
 = 0;

2870 
fešfo
 *
f
;

2874 
	`as£¹
 (! 
commªd_lše_¬g
 || 
šode
 =ğ
NOT_AN_INODE_NUMBER
);

2876 ià(
cwd_n_u£d
 =ğ
cwd_n_®loc
)

2878 
cwd_fe
 = 
	`xÄ—Îoc
 (cwd_fe, 
cwd_n_®loc
, 2 *  *cwd_file);

2879 
cwd_n_®loc
 *= 2;

2882 
f
 = &
cwd_fe
[
cwd_n_u£d
];

2883 
	`mem£t
 (
f
, '\0',  *f);

2884 
f
->
¡©
.
¡_šo
 = 
šode
;

2885 
f
->
f‘y³
 = 
ty³
;

2887 ià(
commªd_lše_¬g


2888 || 
fÜm©_Ãeds_¡©


2892 || (
ty³
 =ğ
dœeùÜy
 && 
´št_w™h_cŞÜ


2893 && (
	`is_cŞÜed
 (
C_OTHER_WRITABLE
)

2894 || 
	`is_cŞÜed
 (
C_STICKY
)

2895 || 
	`is_cŞÜed
 (
C_STICKY_OTHER_WRITABLE
)))

2898 || ((
´št_šode
 || 
fÜm©_Ãeds_ty³
)

2899 && (
ty³
 =ğ
symbŞic_lšk
 ||y³ =ğ
unknown
)

2900 && (
d”eã»nû
 =ğ
DEREF_ALWAYS


2901 || (
commªd_lše_¬g
 && 
d”eã»nû
 !ğ
DEREF_NEVER
)

2902 || 
cŞÜ_symlšk_as_»ã»Á
 || 
check_symlšk_cŞÜ
))

2905 || (
´št_šode
 && 
šode
 =ğ
NOT_AN_INODE_NUMBER
)

2906 || (
fÜm©_Ãeds_ty³


2907 && (
ty³
 =ğ
unknown
 || 
commªd_lše_¬g


2911 || (
ty³
 =ğ
nÜm®
 && (
šdiÿtÜ_¡yË
 =ğ
şassify


2918 || (
´št_w™h_cŞÜ


2919 && (
	`is_cŞÜed
 (
C_EXEC
)

2920 || 
	`is_cŞÜed
 (
C_SETUID
)

2921 || 
	`is_cŞÜed
 (
C_SETGID
)

2922 || 
	`is_cŞÜed
 (
C_CAP
)))

2927 *
absŞu‹_Çme
;

2928 
boŞ
 
do_d”ef
;

2929 
”r
;

2931 ià(
Çme
[0] =ğ'/' || 
dœÇme
[0] == 0)

2932 
absŞu‹_Çme
 = (*è
Çme
;

2935 
absŞu‹_Çme
 = 
	`®loÿ
 (
	`¡¾’
 (
Çme
è+ sŒËÀ(
dœÇme
) + 2);

2936 
	`©ch
 (
absŞu‹_Çme
, 
dœÇme
, 
Çme
);

2939 
d”eã»nû
)

2941 
DEREF_ALWAYS
:

2942 
”r
 = 
	`¡©
 (
absŞu‹_Çme
, &
f
->
¡©
);

2943 
do_d”ef
 = 
Œue
;

2946 
DEREF_COMMAND_LINE_ARGUMENTS
:

2947 
DEREF_COMMAND_LINE_SYMLINK_TO_DIR
:

2948 ià(
commªd_lše_¬g
)

2950 
boŞ
 
Ãed_l¡©
;

2951 
”r
 = 
	`¡©
 (
absŞu‹_Çme
, &
f
->
¡©
);

2952 
do_d”ef
 = 
Œue
;

2954 ià(
d”eã»nû
 =ğ
DEREF_COMMAND_LINE_ARGUMENTS
)

2957 
Ãed_l¡©
 = (
”r
 < 0

2958 ? 
”ºo
 =ğ
ENOENT


2959 : ! 
	`S_ISDIR
 (
f
->
¡©
.
¡_mode
));

2960 ià(!
Ãed_l¡©
)

2970 
”r
 = 
	`l¡©
 (
absŞu‹_Çme
, &
f
->
¡©
);

2971 
do_d”ef
 = 
çl£
;

2975 ià(
”r
 != 0)

2980 
	`fe_çu»
 (
commªd_lše_¬g
,

2981 
	`_
("ÿÂÙ‡cûs %s"), 
absŞu‹_Çme
);

2982 ià(
commªd_lše_¬g
)

2985 
f
->
Çme
 = 
	`x¡rdup
 (name);

2986 
cwd_n_u£d
++;

2991 
f
->
¡©_ok
 = 
Œue
;

2994 ià((
ty³
 =ğ
nÜm®
 || 
	`S_ISREG
 (
f
->
¡©
.
¡_mode
))

2995 && 
´št_w™h_cŞÜ
 && 
	`is_cŞÜed
 (
C_CAP
))

2996 
f
->
has_ÿ·b™y
 = 
	`has_ÿ·b™y_ÿche
 (
absŞu‹_Çme
, f);

2998 ià(
fÜm©
 =ğ
lÚg_fÜm©
 || 
´št_scÚ‹xt
)

3000 
boŞ
 
have_£lšux
 = 
çl£
;

3001 
boŞ
 
have_aş
 = 
çl£
;

3002 
©Œ_Ën
 = 
	`g‘fecÚ_ÿche
 (
absŞu‹_Çme
, 
f
, 
do_d”ef
);

3003 
”r
 = (
©Œ_Ën
 < 0);

3005 ià(
”r
 == 0)

3006 
have_£lšux
 = ! 
	`STREQ
 ("uÆab–ed", 
f
->
scÚ‹xt
);

3009 
f
->
scÚ‹xt
 = 
UNKNOWN_SECURITY_CONTEXT
;

3015 ià(
”ºo
 =ğ
ENOTSUP
 ||ƒ¼nØ=ğ
EOPNOTSUPP
 ||ƒ¼nØ=ğ
ENODATA
)

3016 
”r
 = 0;

3019 ià(
”r
 =ğ0 && 
fÜm©
 =ğ
lÚg_fÜm©
)

3021 
n
 = 
	`fe_has_aş_ÿche
 (
absŞu‹_Çme
, 
f
);

3022 
”r
 = (
n
 < 0);

3023 
have_aş
 = (0 < 
n
);

3026 
f
->
aş_ty³
 = (!
have_£lšux
 && !
have_aş


3027 ? 
ACL_T_NONE


3028 : (
have_£lšux
 && !
have_aş


3029 ? 
ACL_T_SELINUX_ONLY


3030 : 
ACL_T_YES
));

3031 
ªy_has_aş
 |ğ
f
->
aş_ty³
 !ğ
ACL_T_NONE
;

3033 ià(
”r
)

3034 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙ—rg_cŞÚ
 (
absŞu‹_Çme
));

3037 ià(
	`S_ISLNK
 (
f
->
¡©
.
¡_mode
)

3038 && (
fÜm©
 =ğ
lÚg_fÜm©
 || 
check_symlšk_cŞÜ
))

3040 
¡©
 
lšk¡©s
;

3042 
	`g‘_lšk_Çme
 (
absŞu‹_Çme
, 
f
, 
commªd_lše_¬g
);

3043 *
lškÇme
 = 
	`make_lšk_Çme
 (
absŞu‹_Çme
, 
f
->linkname);

3047 ià(
lškÇme


3048 && (
fe_ty³
 <ğ
šdiÿtÜ_¡yË
 || 
check_symlšk_cŞÜ
)

3049 && 
	`¡©
 (
lškÇme
, &
lšk¡©s
) == 0)

3051 
f
->
lškok
 = 
Œue
;

3056 ià(!
commªd_lše_¬g
 || 
fÜm©
 =ğ
lÚg_fÜm©


3057 || !
	`S_ISDIR
 (
lšk¡©s
.
¡_mode
))

3061 
f
->
lškmode
 = 
lšk¡©s
.
¡_mode
;

3064 
	`ä“
 (
lškÇme
);

3067 ià(
	`S_ISLNK
 (
f
->
¡©
.
¡_mode
))

3068 
f
->
f‘y³
 = 
symbŞic_lšk
;

3069 ià(
	`S_ISDIR
 (
f
->
¡©
.
¡_mode
))

3071 ià(
commªd_lše_¬g
 && !
immedŸ‹_dœs
)

3072 
f
->
f‘y³
 = 
¬g_dœeùÜy
;

3074 
f
->
f‘y³
 = 
dœeùÜy
;

3077 
f
->
f‘y³
 = 
nÜm®
;

3079 
blocks
 = 
	`ST_NBLOCKS
 (
f
->
¡©
);

3080 ià(
fÜm©
 =ğ
lÚg_fÜm©
 || 
´št_block_size
)

3082 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

3083 
Ën
 = 
	`mbswidth
 (
	`humª_»adabË
 (
blocks
, 
buf
, 
humª_ouut_İts
,

3084 
ST_NBLOCKSIZE
, 
ouut_block_size
),

3086 ià(
block_size_width
 < 
Ën
)

3087 
block_size_width
 = 
Ën
;

3090 ià(
fÜm©
 =ğ
lÚg_fÜm©
)

3092 ià(
´št_owÃr
)

3094 
Ën
 = 
	`fÜm©_u£r_width
 (
f
->
¡©
.
¡_uid
);

3095 ià(
owÃr_width
 < 
Ën
)

3096 
owÃr_width
 = 
Ën
;

3099 ià(
´št_group
)

3101 
Ën
 = 
	`fÜm©_group_width
 (
f
->
¡©
.
¡_gid
);

3102 ià(
group_width
 < 
Ën
)

3103 
group_width
 = 
Ën
;

3106 ià(
´št_authÜ
)

3108 
Ën
 = 
	`fÜm©_u£r_width
 (
f
->
¡©
.
¡_authÜ
);

3109 ià(
authÜ_width
 < 
Ën
)

3110 
authÜ_width
 = 
Ën
;

3114 ià(
´št_scÚ‹xt
)

3116 
Ën
 = 
	`¡¾’
 (
f
->
scÚ‹xt
);

3117 ià(
scÚ‹xt_width
 < 
Ën
)

3118 
scÚ‹xt_width
 = 
Ën
;

3121 ià(
fÜm©
 =ğ
lÚg_fÜm©
)

3123 
b
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3124 
b_Ën
 = 
	`¡¾’
 (
	`umaxto¡r
 (
f
->
¡©
.
¡_Æšk
, 
b
));

3125 ià(
Æšk_width
 < 
b_Ën
)

3126 
Æšk_width
 = 
b_Ën
;

3128 ià(
	`S_ISCHR
 (
f
->
¡©
.
¡_mode
è|| 
	`S_ISBLK
 (f->stat.st_mode))

3130 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3131 
Ën
 = 
	`¡¾’
 (
	`umaxto¡r
 (
	`majÜ
 (
f
->
¡©
.
¡_rdev
), 
buf
));

3132 ià(
majÜ_deviû_numb”_width
 < 
Ën
)

3133 
majÜ_deviû_numb”_width
 = 
Ën
;

3134 
Ën
 = 
	`¡¾’
 (
	`umaxto¡r
 (
	`mšÜ
 (
f
->
¡©
.
¡_rdev
), 
buf
));

3135 ià(
mšÜ_deviû_numb”_width
 < 
Ën
)

3136 
mšÜ_deviû_numb”_width
 = 
Ën
;

3137 
Ën
 = 
majÜ_deviû_numb”_width
 + 2 + 
mšÜ_deviû_numb”_width
;

3138 ià(
fe_size_width
 < 
Ën
)

3139 
fe_size_width
 = 
Ën
;

3143 
buf
[
LONGEST_HUMAN_READABLE
 + 1];

3144 
uštmax_t
 
size
 = 
	`unsigÃd_fe_size
 (
f
->
¡©
.
¡_size
);

3145 
Ën
 = 
	`mbswidth
 (
	`humª_»adabË
 (
size
, 
buf
,

3146 
fe_humª_ouut_İts
,

3147 1, 
fe_ouut_block_size
),

3149 ià(
fe_size_width
 < 
Ën
)

3150 
fe_size_width
 = 
Ën
;

3155 ià(
´št_šode
)

3157 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3158 
Ën
 = 
	`¡¾’
 (
	`umaxto¡r
 (
f
->
¡©
.
¡_šo
, 
buf
));

3159 ià(
šode_numb”_width
 < 
Ën
)

3160 
šode_numb”_width
 = 
Ën
;

3163 
f
->
Çme
 = 
	`x¡rdup
 (name);

3164 
cwd_n_u£d
++;

3166  
blocks
;

3167 
	}
}

3170 
boŞ


3171 
	$is_dœeùÜy
 (cÚ¡ 
fešfo
 *
f
)

3173  
f
->
f‘y³
 =ğ
dœeùÜy
 || f->f‘y³ =ğ
¬g_dœeùÜy
;

3174 
	}
}

3181 
	$g‘_lšk_Çme
 (cÚ¡ *
f’ame
, 
fešfo
 *
f
, 
boŞ
 
commªd_lše_¬g
)

3183 
f
->
lškÇme
 = 
	`¬—dlšk_w™h_size
 (
f’ame
, f->
¡©
.
¡_size
);

3184 ià(
f
->
lškÇme
 =ğ
NULL
)

3185 
	`fe_çu»
 (
commªd_lše_¬g
, 
	`_
("cannot„ead symbolic†ink %s"),

3186 
f’ame
);

3187 
	}
}

3195 
	$make_lšk_Çme
 (cÚ¡ *
Çme
, cÚ¡ *
lškÇme
)

3197 ià(!
lškÇme
)

3198  
NULL
;

3200 ià(
	`IS_ABSOLUTE_FILE_NAME
 (
lškÇme
))

3201  
	`x¡rdup
 (
lškÇme
);

3205 
size_t
 
´efix_Ën
 = 
	`dœ_Ën
 (
Çme
);

3206 ià(
´efix_Ën
 == 0)

3207  
	`x¡rdup
 (
lškÇme
);

3209 *
p
 = 
	`xm®loc
 (
´efix_Ën
 + 1 + 
	`¡¾’
 (
lškÇme
) + 1);

3214 iàĞ! 
	`ISSLASH
 (
Çme
[
´efix_Ën
 - 1]))

3215 ++
´efix_Ën
;

3217 
	`¡pıy
 (
	`¡²ıy
 (
p
, 
Çme
, 
´efix_Ën
), 
lškÇme
);

3218  
p
;

3219 
	}
}

3224 
boŞ


3225 
	$ba£Çme_is_dÙ_Ü_dÙdÙ
 (cÚ¡ *
Çme
)

3227 cÚ¡ *
ba£
 = 
	`Ï¡_compÚ’t
 (
Çme
);

3228  
	`dÙ_Ü_dÙdÙ
 (
ba£
);

3229 
	}
}

3240 
	$exŒaù_dœs_äom_fes
 (cÚ¡ *
dœÇme
, 
boŞ
 
commªd_lše_¬g
)

3242 
size_t
 
i
;

3243 
size_t
 
j
;

3244 
boŞ
 
ignÜe_dÙ_ªd_dÙ_dÙ
 = (
dœÇme
 !ğ
NULL
);

3246 ià(
dœÇme
 && 
LOOP_DETECT
)

3251 
	`queue_dœeùÜy
 (
NULL
, 
dœÇme
, 
çl£
);

3256 
i
 = 
cwd_n_u£d
; i-- != 0; )

3258 
fešfo
 *
f
 = 
sÜ‹d_fe
[
i
];

3260 ià(
	`is_dœeùÜy
 (
f
)

3261 && (! 
ignÜe_dÙ_ªd_dÙ_dÙ


3262 || ! 
	`ba£Çme_is_dÙ_Ü_dÙdÙ
 (
f
->
Çme
)))

3264 ià(!
dœÇme
 || 
f
->
Çme
[0] == '/')

3265 
	`queue_dœeùÜy
 (
f
->
Çme
, f->
lškÇme
, 
commªd_lše_¬g
);

3268 *
Çme
 = 
	`fe_Çme_cÚÿt
 (
dœÇme
, 
f
->Çme, 
NULL
);

3269 
	`queue_dœeùÜy
 (
Çme
, 
f
->
lškÇme
, 
commªd_lše_¬g
);

3270 
	`ä“
 (
Çme
);

3272 ià(
f
->
f‘y³
 =ğ
¬g_dœeùÜy
)

3273 
	`ä“_’t
 (
f
);

3280 
i
 = 0, 
j
 = 0; i < 
cwd_n_u£d
; i++)

3282 
fešfo
 *
f
 = 
sÜ‹d_fe
[
i
];

3283 
sÜ‹d_fe
[
j
] = 
f
;

3284 
j
 +ğ(
f
->
f‘y³
 !ğ
¬g_dœeùÜy
);

3286 
cwd_n_u£d
 = 
j
;

3287 
	}
}

3292 
jmp_buf
 
	gçed_¡rcŞl
;

3295 
	$x¡rcŞl
 (cÚ¡ *
a
, cÚ¡ *
b
)

3297 
diff
;

3298 
”ºo
 = 0;

3299 
diff
 = 
	`¡rcŞl
 (
a
, 
b
);

3300 ià(
”ºo
)

3302 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot compare file‚ames %s‡nd %s"),

3303 
	`quÙe_n
 (0, 
a
), quÙe_À(1, 
b
));

3304 
	`£t_ex™_¡©us
 (
çl£
);

3305 
	`lÚgjmp
 (
çed_¡rcŞl
, 1);

3307  
diff
;

3308 
	}
}

3312 cÚ¡ *
	tV
;

3313 (*
	tqsÜtFunc
)(
	tV
 
	ta
, V 
	tb
);

3318 
	#DIRFIRST_CHECK
(
a
, 
b
) \

3321 
boŞ
 
a_is_dœ
 = 
	`is_dœeùÜy
 ((
fešfo
 cÚ¡ *è
a
); \

3322 
boŞ
 
b_is_dœ
 = 
	`is_dœeùÜy
 ((
fešfo
 cÚ¡ *è
b
); \

3323 ià(
a_is_dœ
 && !
b_is_dœ
) \

3325 ià(!
a_is_dœ
 && 
b_is_dœ
) \

3327 
	}
} \

3328 0)

	)

3335 
	#DEFINE_SORT_FUNCTIONS
(
key_Çme
, 
key_cmp_func
) \

3337 
x¡rcŞl_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3338 {  
	`key_cmp_func
 (
a
, 
b
, 
x¡rcŞl
); } \

3339 
¡rcmp_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3340 {  
	`key_cmp_func
 (
a
, 
b
, 
¡rcmp
); } \

3343 
»v_x¡rcŞl_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3344 {  
	`key_cmp_func
 (
b
, 
a
, 
x¡rcŞl
); } \

3345 
»v_¡rcmp_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3346 {  
	`key_cmp_func
 (
b
, 
a
, 
¡rcmp
); } \

3349 
x¡rcŞl_df_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3350 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (a, b, 
x¡rcŞl
); } \

3351 
¡rcmp_df_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3352 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (a, b, 
¡rcmp
); } \

3355 
»v_x¡rcŞl_df_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3356 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (b,‡, 
x¡rcŞl
); } \

3357 
»v_¡rcmp_df_
##
	`key_Çme
 (
V
 
a
, V 
b
) \

3358 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`key_cmp_func
 (b,‡, 
¡rcmp
); }

	)

3360 
šlše
 

3361 
cmp_ùime
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3362 (*
cmp
) (const *, const *))

3364 
diff
 = 
	`time¥ec_cmp
 (
	`g‘_¡©_ùime
 (&
b
->
¡©
),

3365 
	`g‘_¡©_ùime
 (&
a
->
¡©
));

3366  
diff
 ? difà: 
	`cmp
 (
a
->
Çme
, 
b
->name);

3367 
	}
}

3369 
šlše
 

3370 
cmp_mtime
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3371 (*
cmp
) (const *, const *))

3373 
diff
 = 
	`time¥ec_cmp
 (
	`g‘_¡©_mtime
 (&
b
->
¡©
),

3374 
	`g‘_¡©_mtime
 (&
a
->
¡©
));

3375  
diff
 ? difà: 
	`cmp
 (
a
->
Çme
, 
b
->name);

3376 
	}
}

3378 
šlše
 

3379 
cmp_©ime
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3380 (*
cmp
) (const *, const *))

3382 
diff
 = 
	`time¥ec_cmp
 (
	`g‘_¡©_©ime
 (&
b
->
¡©
),

3383 
	`g‘_¡©_©ime
 (&
a
->
¡©
));

3384  
diff
 ? difà: 
	`cmp
 (
a
->
Çme
, 
b
->name);

3385 
	}
}

3387 
šlše
 

3388 
cmp_size
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3389 (*
cmp
) (const *, const *))

3391 
diff
 = 
	`lÚgdiff
 (
b
->
¡©
.
¡_size
, 
a
->stat.st_size);

3392  
diff
 ? difà: 
	`cmp
 (
a
->
Çme
, 
b
->name);

3393 
	}
}

3395 
šlše
 

3396 
cmp_Çme
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3397 (*
cmp
) (const *, const *))

3399  
	`cmp
 (
a
->
Çme
, 
b
->name);

3400 
	}
}

3405 
šlše
 

3406 
cmp_ex‹nsiÚ
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
,

3407 (*
cmp
) (const *, const *))

3409 cÚ¡ *
ba£1
 = 
	`¡¼chr
 (
a
->
Çme
, '.');

3410 cÚ¡ *
ba£2
 = 
	`¡¼chr
 (
b
->
Çme
, '.');

3411 
diff
 = 
	`cmp
 (
ba£1
 ? ba£1 : "", 
ba£2
 ? base2 : "");

3412  
diff
 ? difà: 
	`cmp
 (
a
->
Çme
, 
b
->name);

3413 
	}
}

3415 
	$DEFINE_SORT_FUNCTIONS
 (
ùime
, 
cmp_ùime
)

3416 
	$DEFINE_SORT_FUNCTIONS
 (
mtime
, 
cmp_mtime
)

3417 
	$DEFINE_SORT_FUNCTIONS
 (
©ime
, 
cmp_©ime
)

3418 
	$DEFINE_SORT_FUNCTIONS
 (
size
, 
cmp_size
)

3419 
	$DEFINE_SORT_FUNCTIONS
 (
Çme
, 
cmp_Çme
)

3420 
	$DEFINE_SORT_FUNCTIONS
 (
ex‹nsiÚ
, 
cmp_ex‹nsiÚ
)

3431 
šlše
 

3432 
	$cmp_v”siÚ
 (
fešfo
 cÚ¡ *
a
, fešfØcÚ¡ *
b
)

3434  
	`fev”cmp
 (
a
->
Çme
, 
b
->name);

3435 
	}
}

3437 
	$x¡rcŞl_v”siÚ
 (
V
 
a
, V 
b
)

3438 {  
	`cmp_v”siÚ
 (
a
, 
b
); 
	}
}

3439 
	$»v_x¡rcŞl_v”siÚ
 (
V
 
a
, V 
b
)

3440 {  
	`cmp_v”siÚ
 (
b
, 
a
); 
	}
}

3441 
	$x¡rcŞl_df_v”siÚ
 (
V
 
a
, V 
b
)

3442 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`cmp_v”siÚ
 (a, b); 
	}
}

3443 
	$»v_x¡rcŞl_df_v”siÚ
 (
V
 
a
, V 
b
)

3444 { 
	`DIRFIRST_CHECK
 (
a
, 
b
);  
	`cmp_v”siÚ
 (b,‡); 
	}
}

3457 
	#LIST_SORTFUNCTION_VARIANTS
(
key_Çme
) \

3460 { 
x¡rcŞl_
##
key_Çme
, 
x¡rcŞl_df_
##key_name }, \

3461 { 
»v_x¡rcŞl_
##
key_Çme
, 
»v_x¡rcŞl_df_
##key_name }, \

3464 { 
¡rcmp_
##
key_Çme
, 
¡rcmp_df_
##key_name }, \

3465 { 
»v_¡rcmp_
##
key_Çme
, 
»v_¡rcmp_df_
##key_name }, \

3467 }

	)

3469 
qsÜtFunc
 cÚ¡ 
	gsÜt_funùiÚs
[][2][2][2] =

3471 
LIST_SORTFUNCTION_VARIANTS
 (
Çme
),

3472 
LIST_SORTFUNCTION_VARIANTS
 (
ex‹nsiÚ
),

3473 
LIST_SORTFUNCTION_VARIANTS
 (
size
),

3477 { 
x¡rcŞl_v”siÚ
, 
x¡rcŞl_df_v”siÚ
 },

3478 { 
»v_x¡rcŞl_v”siÚ
, 
»v_x¡rcŞl_df_v”siÚ
 },

3486 { 
NULL
, NULL },

3487 { 
NULL
, NULL },

3492 
LIST_SORTFUNCTION_VARIANTS
 (
mtime
),

3493 
LIST_SORTFUNCTION_VARIANTS
 (
ùime
),

3494 
LIST_SORTFUNCTION_VARIANTS
 (
©ime
)

3505 
v”ify
 (
ARRAY_CARDINALITY
 (
sÜt_funùiÚs
)

3506 =ğ
sÜt_numty³s
 + 
time_numty³s
 - 1 );

3511 
	$š™Ÿlize_Üd”šg_veùÜ
 ()

3513 
size_t
 
i
;

3514 
i
 = 0; i < 
cwd_n_u£d
; i++)

3515 
sÜ‹d_fe
[
i
] = &
cwd_fe
[i];

3516 
	}
}

3521 
	$sÜt_fes
 ()

3523 
boŞ
 
u£_¡rcmp
;

3525 ià(
sÜ‹d_fe_®loc
 < 
cwd_n_u£d
 + cwd_n_used / 2)

3527 
	`ä“
 (
sÜ‹d_fe
);

3528 
sÜ‹d_fe
 = 
	`xnm®loc
 (
cwd_n_u£d
, 3 *  *sorted_file);

3529 
sÜ‹d_fe_®loc
 = 3 * 
cwd_n_u£d
;

3532 
	`š™Ÿlize_Üd”šg_veùÜ
 ();

3534 ià(
sÜt_ty³
 =ğ
sÜt_nÚe
)

3542 ià(! 
	`£tjmp
 (
çed_¡rcŞl
))

3543 
u£_¡rcmp
 = 
çl£
;

3546 
u£_¡rcmp
 = 
Œue
;

3547 
	`as£¹
 (
sÜt_ty³
 !ğ
sÜt_v”siÚ
);

3548 
	`š™Ÿlize_Üd”šg_veùÜ
 ();

3552 
	`mpsÜt
 ((cÚ¡ **è
sÜ‹d_fe
, 
cwd_n_u£d
,

3553 
sÜt_funùiÚs
[
sÜt_ty³
 + (sÜt_ty³ =ğ
sÜt_time
 ? 
time_ty³
 : 0)]

3554 [
u£_¡rcmp
][
sÜt_»v”£
]

3555 [
dœeùÜ›s_fœ¡
]);

3556 
	}
}

3561 
	$´št_cu¼’t_fes
 ()

3563 
size_t
 
i
;

3565 
fÜm©
)

3567 
Úe_³r_lše
:

3568 
i
 = 0; i < 
cwd_n_u£d
; i++)

3570 
	`´št_fe_Çme_ªd_äls
 (
sÜ‹d_fe
[
i
], 0);

3571 
	`putch¬
 ('\n');

3575 
mªy_³r_lše
:

3576 
	`´št_mªy_³r_lše
 ();

3579 
hÜizÚl
:

3580 
	`´št_hÜizÚl
 ();

3583 
w™h_commas
:

3584 
	`´št_w™h_commas
 ();

3587 
lÚg_fÜm©
:

3588 
i
 = 0; i < 
cwd_n_u£d
; i++)

3590 
	`£t_nÜm®_cŞÜ
 ();

3591 
	`´št_lÚg_fÜm©
 (
sÜ‹d_fe
[
i
]);

3592 
	`DIRED_PUTCHAR
 ('\n');

3596 
	}
}

3602 
size_t


3603 
	$®ign_n¡ráime
 (*
buf
, 
size_t
 
size
, cÚ¡ *
fmt
, 
tm
 const *tm,

3604 
__utc
, 
__ns
)

3606 cÚ¡ *
nfmt
 = 
fmt
;

3609 
½l_fmt
[ (
abmÚ
[0]) + 100];

3610 cÚ¡ *
pb
;

3611 ià(
»quœed_mÚ_width
 && (
pb
 = 
	`¡r¡r
 (
fmt
, "%b")))

3613 ià(
	`¡¾’
 (
fmt
è< ( (
½l_fmt
è-  (
abmÚ
[0]) + 2))

3615 *
pfmt
 = 
½l_fmt
;

3616 
nfmt
 = 
½l_fmt
;

3618 
pfmt
 = 
	`mempıy
 (pfmt, 
fmt
, 
pb
 - fmt);

3619 
pfmt
 = 
	`¡pıy
 (pfmt, 
abmÚ
[
tm
->
tm_mÚ
]);

3620 
	`¡rıy
 (
pfmt
, 
pb
 + 2);

3623 
size_t
 
»t
 = 
	`n¡ráime
 (
buf
, 
size
, 
nfmt
, 
tm
, 
__utc
, 
__ns
);

3624  
»t
;

3625 
	}
}

3631 
	$lÚg_time_ex³ùed_width
 ()

3633 
width
 = -1;

3635 ià(
width
 < 0)

3637 
time_t
 
•och
 = 0;

3638 
tm
 cÚ¡ *tm = 
	`loÿÉime
 (&
•och
);

3639 
buf
[
TIME_STAMP_LEN_MAXIMUM
 + 1];

3648 ià(
tm
)

3650 
size_t
 
Ën
 =

3651 
	`®ign_n¡ráime
 (
buf
,  buf, 
lÚg_time_fÜm©
[0], 
tm
, 0, 0);

3652 ià(
Ën
 != 0)

3653 
width
 = 
	`mb¢width
 (
buf
, 
Ën
, 0);

3656 ià(
width
 < 0)

3657 
width
 = 0;

3660  
width
;

3661 
	}
}

3667 
	$fÜm©_u£r_Ü_group
 (cÚ¡ *
Çme
, 
id
, 
width
)

3669 
size_t
 
Ën
;

3671 ià(
Çme
)

3673 
width_g­
 = 
width
 - 
	`mbswidth
 (
Çme
, 0);

3674 
·d
 = 
	`MAX
 (0, 
width_g­
);

3675 
	`åuts
 (
Çme
, 
¡dout
);

3676 
Ën
 = 
	`¡¾’
 (
Çme
è+ 
·d
;

3679 
	`putch¬
 (' ');

3680 
·d
--);

3684 
	`´štf
 ("%*lu ", 
width
, 
id
);

3685 
Ën
 = 
width
;

3688 
dœed_pos
 +ğ
Ën
 + 1;

3689 
	}
}

3695 
	$fÜm©_u£r
 (
uid_t
 
u
, 
width
, 
boŞ
 
¡©_ok
)

3697 
	`fÜm©_u£r_Ü_group
 (! 
¡©_ok
 ? "?" :

3698 (
num”ic_ids
 ? 
NULL
 : 
	`g‘u£r
 (
u
)), u, 
width
);

3699 
	}
}

3704 
	$fÜm©_group
 (
gid_t
 
g
, 
width
, 
boŞ
 
¡©_ok
)

3706 
	`fÜm©_u£r_Ü_group
 (! 
¡©_ok
 ? "?" :

3707 (
num”ic_ids
 ? 
NULL
 : 
	`g‘group
 (
g
)), g, 
width
);

3708 
	}
}

3713 
	$fÜm©_u£r_Ü_group_width
 (cÚ¡ *
Çme
, 
id
)

3715 ià(
Çme
)

3717 
Ën
 = 
	`mbswidth
 (
Çme
, 0);

3718  
	`MAX
 (0, 
Ën
);

3722 
buf
[
	`INT_BUFSIZE_BOUND
 (
id
)];

3723 
	`¥rštf
 (
buf
, "%lu", 
id
);

3724  
	`¡¾’
 (
buf
);

3726 
	}
}

3731 
	$fÜm©_u£r_width
 (
uid_t
 
u
)

3733  
	`fÜm©_u£r_Ü_group_width
 (
num”ic_ids
 ? 
NULL
 : 
	`g‘u£r
 (
u
), u);

3734 
	}
}

3739 
	$fÜm©_group_width
 (
gid_t
 
g
)

3741  
	`fÜm©_u£r_Ü_group_width
 (
num”ic_ids
 ? 
NULL
 : 
	`g‘group
 (
g
), g);

3742 
	}
}

3748 
	$fÜm©_šode
 (*
buf
, 
size_t
 
buæ’
, cÚ¡ 
fešfo
 *
f
)

3750 
	`as£¹
 (
	`INT_BUFSIZE_BOUND
 (
uštmax_t
è<ğ
buæ’
);

3751  (
f
->
¡©_ok
 && f->
¡©
.
¡_šo
 !ğ
NOT_AN_INODE_NUMBER


3752 ? 
	`umaxto¡r
 (
f
->
¡©
.
¡_šo
, 
buf
)

3754 
	}
}

3758 
	$´št_lÚg_fÜm©
 (cÚ¡ 
fešfo
 *
f
)

3760 
modebuf
[12];

3761 
buf


3762 [
LONGEST_HUMAN_READABLE
 + 1

3763 + 
LONGEST_HUMAN_READABLE
 + 1

3764 +  (
modebuf
) - 1 + 1

3765 + 
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)

3766 + 
LONGEST_HUMAN_READABLE
 + 2

3767 + 
LONGEST_HUMAN_READABLE
 + 1

3768 + 
TIME_STAMP_LEN_MAXIMUM
 + 1

3770 
size_t
 
s
;

3771 *
p
;

3772 
time¥ec
 
wh’_time¥ec
;

3773 
tm
 *
wh’_loÿl
;

3777 ià(
f
->
¡©_ok
)

3778 
	`femode¡ršg
 (&
f
->
¡©
, 
modebuf
);

3781 
modebuf
[0] = 
f‘y³_Ë‰”
[
f
->
f‘y³
];

3782 
	`mem£t
 (
modebuf
 + 1, '?', 10);

3783 
modebuf
[11] = '\0';

3785 ià(! 
ªy_has_aş
)

3786 
modebuf
[10] = '\0';

3787 ià(
f
->
aş_ty³
 =ğ
ACL_T_SELINUX_ONLY
)

3788 
modebuf
[10] = '.';

3789 ià(
f
->
aş_ty³
 =ğ
ACL_T_YES
)

3790 
modebuf
[10] = '+';

3792 
time_ty³
)

3794 
time_ùime
:

3795 
wh’_time¥ec
 = 
	`g‘_¡©_ùime
 (&
f
->
¡©
);

3797 
time_mtime
:

3798 
wh’_time¥ec
 = 
	`g‘_¡©_mtime
 (&
f
->
¡©
);

3800 
time_©ime
:

3801 
wh’_time¥ec
 = 
	`g‘_¡©_©ime
 (&
f
->
¡©
);

3804 
	`abÜt
 ();

3807 
p
 = 
buf
;

3809 ià(
´št_šode
)

3811 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3812 
	`¥rštf
 (
p
, "%* ", 
šode_numb”_width
,

3813 
	`fÜm©_šode
 (
hbuf
,  hbuf, 
f
));

3816 
p
 +ğ
	`¡¾’
 (p);

3819 ià(
´št_block_size
)

3821 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

3822 cÚ¡ *
blocks
 =

3823 (! 
f
->
¡©_ok


3825 : 
	`humª_»adabË
 (
	`ST_NBLOCKS
 (
f
->
¡©
), 
hbuf
, 
humª_ouut_İts
,

3826 
ST_NBLOCKSIZE
, 
ouut_block_size
));

3827 
·d
;

3828 
·d
 = 
block_size_width
 - 
	`mbswidth
 (
blocks
, 0); 0 <…ad;…ad--)

3829 *
p
++ = ' ';

3830 (*
p
++ = *
blocks
++))

3832 
p
[-1] = ' ';

3838 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3839 
	`¥rštf
 (
p
, "% %* ", 
modebuf
, 
Æšk_width
,

3840 ! 
f
->
¡©_ok
 ? "?" : 
	`umaxto¡r
 (f->
¡©
.
¡_Æšk
, 
hbuf
));

3845 
p
 +ğ
	`¡¾’
 (p);

3847 
	`DIRED_INDENT
 ();

3849 ià(
´št_owÃr
 || 
´št_group
 || 
´št_authÜ
 || 
´št_scÚ‹xt
)

3851 
	`DIRED_FPUTS
 (
buf
, 
¡dout
, 
p
 - buf);

3853 ià(
´št_owÃr
)

3854 
	`fÜm©_u£r
 (
f
->
¡©
.
¡_uid
, 
owÃr_width
, f->
¡©_ok
);

3856 ià(
´št_group
)

3857 
	`fÜm©_group
 (
f
->
¡©
.
¡_gid
, 
group_width
, f->
¡©_ok
);

3859 ià(
´št_authÜ
)

3860 
	`fÜm©_u£r
 (
f
->
¡©
.
¡_authÜ
, 
authÜ_width
, f->
¡©_ok
);

3862 ià(
´št_scÚ‹xt
)

3863 
	`fÜm©_u£r_Ü_group
 (
f
->
scÚ‹xt
, 0, 
scÚ‹xt_width
);

3865 
p
 = 
buf
;

3868 ià(
f
->
¡©_ok


3869 && (
	`S_ISCHR
 (
f
->
¡©
.
¡_mode
è|| 
	`S_ISBLK
 (f->stat.st_mode)))

3871 
majÜbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3872 
mšÜbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

3873 
bÏnks_width
 = (
fe_size_width


3874 - (
majÜ_deviû_numb”_width
 + 2

3875 + 
mšÜ_deviû_numb”_width
));

3876 
	`¥rštf
 (
p
, "%*s, %*s ",

3877 
majÜ_deviû_numb”_width
 + 
	`MAX
 (0, 
bÏnks_width
),

3878 
	`umaxto¡r
 (
	`majÜ
 (
f
->
¡©
.
¡_rdev
), 
majÜbuf
),

3879 
mšÜ_deviû_numb”_width
,

3880 
	`umaxto¡r
 (
	`mšÜ
 (
f
->
¡©
.
¡_rdev
), 
mšÜbuf
));

3881 
p
 +ğ
fe_size_width
 + 1;

3885 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

3886 cÚ¡ *
size
 =

3887 (! 
f
->
¡©_ok


3889 : 
	`humª_»adabË
 (
	`unsigÃd_fe_size
 (
f
->
¡©
.
¡_size
),

3890 
hbuf
, 
fe_humª_ouut_İts
, 1,

3891 
fe_ouut_block_size
));

3892 
·d
;

3893 
·d
 = 
fe_size_width
 - 
	`mbswidth
 (
size
, 0); 0 <…ad;…ad--)

3894 *
p
++ = ' ';

3895 (*
p
++ = *
size
++))

3897 
p
[-1] = ' ';

3900 
wh’_loÿl
 = 
	`loÿÉime
 (&
wh’_time¥ec
.
tv_£c
);

3901 
s
 = 0;

3902 *
p
 = '\1';

3904 ià(
f
->
¡©_ok
 && 
wh’_loÿl
)

3906 
time¥ec
 
six_mÚths_ago
;

3907 
boŞ
 
»ûÁ
;

3908 cÚ¡ *
fmt
;

3913 ià(
	`time¥ec_cmp
 (
cu¼’t_time
, 
wh’_time¥ec
) < 0)

3919 
	`g‘time
 (&
cu¼’t_time
);

3926 
six_mÚths_ago
.
tv_£c
 = 
cu¼’t_time
.tv_sec - 31556952 / 2;

3927 
six_mÚths_ago
.
tv_n£c
 = 
cu¼’t_time
.tv_nsec;

3929 
»ûÁ
 = (
	`time¥ec_cmp
 (
six_mÚths_ago
, 
wh’_time¥ec
) < 0

3930 && (
	`time¥ec_cmp
 (
wh’_time¥ec
, 
cu¼’t_time
) < 0));

3931 
fmt
 = 
lÚg_time_fÜm©
[
»ûÁ
];

3935 
s
 = 
	`®ign_n¡ráime
 (
p
, 
TIME_STAMP_LEN_MAXIMUM
 + 1, 
fmt
,

3936 
wh’_loÿl
, 0, 
wh’_time¥ec
.
tv_n£c
);

3939 ià(
s
 || !*
p
)

3941 
p
 +ğ
s
;

3942 *
p
++ = ' ';

3945 *
p
 = '\0';

3951 
hbuf
[
	`INT_BUFSIZE_BOUND
 (
štmax_t
)];

3952 
	`¥rštf
 (
p
, "%* ", 
	`lÚg_time_ex³ùed_width
 (),

3953 (! 
f
->
¡©_ok


3955 : 
	`tim‘o¡r
 (
wh’_time¥ec
.
tv_£c
, 
hbuf
)));

3957 
p
 +ğ
	`¡¾’
 (p);

3960 
	`DIRED_FPUTS
 (
buf
, 
¡dout
, 
p
 - buf);

3961 
size_t
 
w
 = 
	`´št_Çme_w™h_quÙšg
 (
f
, 
çl£
, &
dœed_ob¡ack
, 
p
 - 
buf
);

3963 ià(
f
->
f‘y³
 =ğ
symbŞic_lšk
)

3965 ià(
f
->
lškÇme
)

3967 
	`DIRED_FPUTS_LITERAL
 (" -> ", 
¡dout
);

3968 
	`´št_Çme_w™h_quÙšg
 (
f
, 
Œue
, 
NULL
, (
p
 - 
buf
è+ 
w
 + 4);

3969 ià(
šdiÿtÜ_¡yË
 !ğ
nÚe
)

3970 
	`´št_ty³_šdiÿtÜ
 (
Œue
, 
f
->
lškmode
, 
unknown
);

3973 ià(
šdiÿtÜ_¡yË
 !ğ
nÚe
)

3974 
	`´št_ty³_šdiÿtÜ
 (
f
->
¡©_ok
, f->
¡©
.
¡_mode
, f->
f‘y³
);

3975 
	}
}

3983 
size_t


3984 
	$quÙe_Çme
 (
FILE
 *
out
, cÚ¡ *
Çme
, 
quÙšg_İtiÚs
 cÚ¡ *
İtiÚs
,

3985 
size_t
 *
width
)

3987 
sm®lbuf
[
BUFSIZ
];

3988 
size_t
 
Ën
 = 
	`quÙ—rg_bufãr
 (
sm®lbuf
,  sm®lbuf, 
Çme
, -1, 
İtiÚs
);

3989 *
buf
;

3990 
size_t
 
di¥Ïyed_width
 
	`IF_LINT
 ( = 0);

3992 ià(
Ën
 <  
sm®lbuf
)

3993 
buf
 = 
sm®lbuf
;

3996 
buf
 = 
	`®loÿ
 (
Ën
 + 1);

3997 
	`quÙ—rg_bufãr
 (
buf
, 
Ën
 + 1, 
Çme
, -1, 
İtiÚs
);

4000 ià(
qm¬k_fuÂy_ch¬s
)

4002 ià(
MB_CUR_MAX
 > 1)

4004 cÚ¡ *
p
 = 
buf
;

4005 cÚ¡ *
¶im™
 = 
buf
 + 
Ën
;

4006 *
q
 = 
buf
;

4007 
di¥Ïyed_width
 = 0;

4009 
p
 < 
¶im™
)

4010 *
p
)

4033 *
q
++ = *
p
++;

4034 
di¥Ïyed_width
 += 1;

4041 
mb¡©e_t
 
mb¡©e
 = { 0, };

4044 
wch¬_t
 
wc
;

4045 
size_t
 
by‹s
;

4046 
w
;

4048 
by‹s
 = 
	`mb¹owc
 (&
wc
, 
p
, 
¶im™
 -…, &
mb¡©e
);

4050 ià(
by‹s
 =ğ(
size_t
) -1)

4055 
p
++;

4056 *
q
++ = '?';

4057 
di¥Ïyed_width
 += 1;

4061 ià(
by‹s
 =ğ(
size_t
) -2)

4066 
p
 = 
¶im™
;

4067 *
q
++ = '?';

4068 
di¥Ïyed_width
 += 1;

4072 ià(
by‹s
 == 0)

4074 
by‹s
 = 1;

4076 
w
 = 
	`wcwidth
 (
wc
);

4077 ià(
w
 >= 0)

4081 ; 
by‹s
 > 0; --bytes)

4082 *
q
++ = *
p
++;

4083 
di¥Ïyed_width
 +ğ
w
;

4090 
p
 +ğ
by‹s
;

4091 *
q
++ = '?';

4092 
di¥Ïyed_width
 += 1;

4095 ! 
	`mbsš™
 (&
mb¡©e
));

4101 
Ën
 = 
q
 - 
buf
;

4105 *
p
 = 
buf
;

4106 cÚ¡ *
¶im™
 = 
buf
 + 
Ën
;

4108 
p
 < 
¶im™
)

4110 ià(! 
	`i¥ršt
 (
	`to_uch¬
 (*
p
)))

4111 *
p
 = '?';

4112 
p
++;

4114 
di¥Ïyed_width
 = 
Ën
;

4117 ià(
width
 !ğ
NULL
)

4119 ià(
MB_CUR_MAX
 > 1)

4120 
di¥Ïyed_width
 = 
	`mb¢width
 (
buf
, 
Ën
, 0);

4123 cÚ¡ *
p
 = 
buf
;

4124 cÚ¡ *
¶im™
 = 
buf
 + 
Ën
;

4126 
di¥Ïyed_width
 = 0;

4127 
p
 < 
¶im™
)

4129 ià(
	`i¥ršt
 (
	`to_uch¬
 (*
p
)))

4130 
di¥Ïyed_width
++;

4131 
p
++;

4136 ià(
out
 !ğ
NULL
)

4137 
	`fwr™e
 (
buf
, 1, 
Ën
, 
out
);

4138 ià(
width
 !ğ
NULL
)

4139 *
width
 = 
di¥Ïyed_width
;

4140  
Ën
;

4141 
	}
}

4143 
size_t


4144 
	$´št_Çme_w™h_quÙšg
 (cÚ¡ 
fešfo
 *
f
,

4145 
boŞ
 
symlšk_rg‘
,

4146 
ob¡ack
 *
¡ack
,

4147 
size_t
 
¡¬t_cŞ
)

4149 cÚ¡ * 
Çme
 = 
symlšk_rg‘
 ? 
f
->
lškÇme
 : f->name;

4151 
boŞ
 
u£d_cŞÜ_this_time


4152 ğ(
´št_w™h_cŞÜ


4153 && (
	`´št_cŞÜ_šdiÿtÜ
 (
f
, 
symlšk_rg‘
)

4154 || 
	`is_cŞÜed
 (
C_NORM
)));

4156 ià(
¡ack
)

4157 
	`PUSH_CURRENT_DIRED_POS
 (
¡ack
);

4159 
size_t
 
width
 = 
	`quÙe_Çme
 (
¡dout
, 
Çme
, 
f’ame_quÙšg_İtiÚs
, 
NULL
);

4160 
dœed_pos
 +ğ
width
;

4162 ià(
¡ack
)

4163 
	`PUSH_CURRENT_DIRED_POS
 (
¡ack
);

4165 
	`´oûss_sigÇls
 ();

4166 ià(
u£d_cŞÜ_this_time
)

4168 
	`´•_nÚ_f’ame_‹xt
 ();

4169 ià(
¡¬t_cŞ
 / 
lše_Ëngth
 !ğ(¡¬t_cŞ + 
width
 - 1) /†ine_length)

4170 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_CLR_TO_EOL
]);

4173  
width
;

4174 
	}
}

4177 
	$´•_nÚ_f’ame_‹xt
 ()

4179 ià(
cŞÜ_šdiÿtÜ
[
C_END
].
¡ršg
 !ğ
NULL
)

4180 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_END
]);

4183 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_LEFT
]);

4184 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_RESET
]);

4185 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_RIGHT
]);

4187 
	}
}

4193 
size_t


4194 
	$´št_fe_Çme_ªd_äls
 (cÚ¡ 
fešfo
 *
f
, 
size_t
 
¡¬t_cŞ
)

4196 
buf
[
	`MAX
 (
LONGEST_HUMAN_READABLE
 + 1, 
	`INT_BUFSIZE_BOUND
 (
uštmax_t
))];

4198 
	`£t_nÜm®_cŞÜ
 ();

4200 ià(
´št_šode
)

4201 
	`´štf
 ("%* ", 
fÜm©
 =ğ
w™h_commas
 ? 0 : 
šode_numb”_width
,

4202 
	`fÜm©_šode
 (
buf
,  buf, 
f
));

4204 ià(
´št_block_size
)

4205 
	`´štf
 ("%* ", 
fÜm©
 =ğ
w™h_commas
 ? 0 : 
block_size_width
,

4206 ! 
f
->
¡©_ok
 ? "?"

4207 : 
	`humª_»adabË
 (
	`ST_NBLOCKS
 (
f
->
¡©
), 
buf
, 
humª_ouut_İts
,

4208 
ST_NBLOCKSIZE
, 
ouut_block_size
));

4210 ià(
´št_scÚ‹xt
)

4211 
	`´štf
 ("%* ", 
fÜm©
 =ğ
w™h_commas
 ? 0 : 
scÚ‹xt_width
, 
f
->
scÚ‹xt
);

4213 
size_t
 
width
 = 
	`´št_Çme_w™h_quÙšg
 (
f
, 
çl£
, 
NULL
, 
¡¬t_cŞ
);

4215 ià(
šdiÿtÜ_¡yË
 !ğ
nÚe
)

4216 
width
 +ğ
	`´št_ty³_šdiÿtÜ
 (
f
->
¡©_ok
, f->
¡©
.
¡_mode
, f->
f‘y³
);

4218  
width
;

4219 
	}
}

4224 
	$g‘_ty³_šdiÿtÜ
 (
boŞ
 
¡©_ok
, 
mode_t
 
mode
, 
f‘y³
 
ty³
)

4226 
c
;

4228 ià(
¡©_ok
 ? 
	`S_ISREG
 (
mode
è: 
ty³
 =ğ
nÜm®
)

4230 ià(
¡©_ok
 && 
šdiÿtÜ_¡yË
 =ğ
şassify
 && (
mode
 & 
S_IXUGO
))

4231 
c
 = '*';

4233 
c
 = 0;

4237 ià(
¡©_ok
 ? 
	`S_ISDIR
 (
mode
è: 
ty³
 =ğ
dœeùÜy
 ||y³ =ğ
¬g_dœeùÜy
)

4238 
c
 = '/';

4239 ià(
šdiÿtÜ_¡yË
 =ğ
¦ash
)

4240 
c
 = 0;

4241 ià(
¡©_ok
 ? 
	`S_ISLNK
 (
mode
è: 
ty³
 =ğ
symbŞic_lšk
)

4242 
c
 = '@';

4243 ià(
¡©_ok
 ? 
	`S_ISFIFO
 (
mode
è: 
ty³
 =ğ
fifo
)

4244 
c
 = '|';

4245 ià(
¡©_ok
 ? 
	`S_ISSOCK
 (
mode
è: 
ty³
 =ğ
sock
)

4246 
c
 = '=';

4247 ià(
¡©_ok
 && 
	`S_ISDOOR
 (
mode
))

4248 
c
 = '>';

4250 
c
 = 0;

4252  
c
;

4253 
	}
}

4255 
boŞ


4256 
	$´št_ty³_šdiÿtÜ
 (
boŞ
 
¡©_ok
, 
mode_t
 
mode
, 
f‘y³
 
ty³
)

4258 
c
 = 
	`g‘_ty³_šdiÿtÜ
 (
¡©_ok
, 
mode
, 
ty³
);

4259 ià(
c
)

4260 
	`DIRED_PUTCHAR
 (
c
);

4261  !!
c
;

4262 
	}
}

4265 
boŞ


4266 
	$´št_cŞÜ_šdiÿtÜ
 (cÚ¡ 
fešfo
 *
f
, 
boŞ
 
symlšk_rg‘
)

4268 
šdiÿtÜ_no
 
ty³
;

4269 
cŞÜ_ext_ty³
 *
ext
;

4270 
size_t
 
Ën
;

4272 cÚ¡ * 
Çme
;

4273 
mode_t
 
mode
;

4274 
lškok
;

4275 ià(
symlšk_rg‘
)

4277 
Çme
 = 
f
->
lškÇme
;

4278 
mode
 = 
f
->
lškmode
;

4279 
lškok
 = 
f
->linkok ? 0 : -1;

4283 
Çme
 = 
f
->name;

4284 
mode
 = 
	`FILE_OR_LINK_MODE
 (
f
);

4285 
lškok
 = 
f
->linkok;

4290 ià(
lškok
 =ğ-1 && 
	`is_cŞÜed
 (
C_MISSING
))

4291 
ty³
 = 
C_MISSING
;

4292 ià(!
f
->
¡©_ok
)

4294 
šdiÿtÜ_no
 
f‘y³_šdiÿtÜ
[] = 
FILETYPE_INDICATORS
;

4295 
ty³
 = 
f‘y³_šdiÿtÜ
[
f
->
f‘y³
];

4299 ià(
	`S_ISREG
 (
mode
))

4301 
ty³
 = 
C_FILE
;

4303 ià((
mode
 & 
S_ISUID
è!ğ0 && 
	`is_cŞÜed
 (
C_SETUID
))

4304 
ty³
 = 
C_SETUID
;

4305 ià((
mode
 & 
S_ISGID
è!ğ0 && 
	`is_cŞÜed
 (
C_SETGID
))

4306 
ty³
 = 
C_SETGID
;

4307 ià(
	`is_cŞÜed
 (
C_CAP
è&& 
f
->
has_ÿ·b™y
)

4308 
ty³
 = 
C_CAP
;

4309 ià((
mode
 & 
S_IXUGO
è!ğ0 && 
	`is_cŞÜed
 (
C_EXEC
))

4310 
ty³
 = 
C_EXEC
;

4311 ià((1 < 
f
->
¡©
.
¡_Æšk
è&& 
	`is_cŞÜed
 (
C_MULTIHARDLINK
))

4312 
ty³
 = 
C_MULTIHARDLINK
;

4314 ià(
	`S_ISDIR
 (
mode
))

4316 
ty³
 = 
C_DIR
;

4318 ià((
mode
 & 
S_ISVTX
è&& (mod& 
S_IWOTH
)

4319 && 
	`is_cŞÜed
 (
C_STICKY_OTHER_WRITABLE
))

4320 
ty³
 = 
C_STICKY_OTHER_WRITABLE
;

4321 ià((
mode
 & 
S_IWOTH
è!ğ0 && 
	`is_cŞÜed
 (
C_OTHER_WRITABLE
))

4322 
ty³
 = 
C_OTHER_WRITABLE
;

4323 ià((
mode
 & 
S_ISVTX
è!ğ0 && 
	`is_cŞÜed
 (
C_STICKY
))

4324 
ty³
 = 
C_STICKY
;

4326 ià(
	`S_ISLNK
 (
mode
))

4327 
ty³
 = 
C_LINK
;

4328 ià(
	`S_ISFIFO
 (
mode
))

4329 
ty³
 = 
C_FIFO
;

4330 ià(
	`S_ISSOCK
 (
mode
))

4331 
ty³
 = 
C_SOCK
;

4332 ià(
	`S_ISBLK
 (
mode
))

4333 
ty³
 = 
C_BLK
;

4334 ià(
	`S_ISCHR
 (
mode
))

4335 
ty³
 = 
C_CHR
;

4336 ià(
	`S_ISDOOR
 (
mode
))

4337 
ty³
 = 
C_DOOR
;

4341 
ty³
 = 
C_ORPHAN
;

4346 
ext
 = 
NULL
;

4347 ià(
ty³
 =ğ
C_FILE
)

4351 
Ën
 = 
	`¡¾’
 (
Çme
);

4352 
Çme
 +ğ
Ën
;

4353 
ext
 = 
cŞÜ_ext_li¡
;ƒxˆ!ğ
NULL
;ƒxˆğext->
Ãxt
)

4355 ià(
ext
->ext.
Ën
 <=†en

4356 && 
	`STREQ_LEN
 (
Çme
 - 
ext
->ext.
Ën
,ƒxt->ext.
¡ršg
,

4357 
ext
->ext.
Ën
))

4363 ià(
ty³
 =ğ
C_LINK
 && !
lškok
)

4365 ià(
cŞÜ_symlšk_as_»ã»Á
 || 
	`is_cŞÜed
 (
C_ORPHAN
))

4366 
ty³
 = 
C_ORPHAN
;

4370 cÚ¡ 
bš_¡r
 *cÚ¡ 
s


4371 ğ
ext
 ? &Óxt->
£q
è: &
cŞÜ_šdiÿtÜ
[
ty³
];

4372 ià(
s
->
¡ršg
 !ğ
NULL
)

4375 ià(
	`is_cŞÜed
 (
C_NORM
))

4376 
	`»¡Üe_deçuÉ_cŞÜ
 ();

4377 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_LEFT
]);

4378 
	`put_šdiÿtÜ
 (
s
);

4379 
	`put_šdiÿtÜ
 (&
cŞÜ_šdiÿtÜ
[
C_RIGHT
]);

4380  
Œue
;

4383  
çl£
;

4385 
	}
}

4389 
	$put_šdiÿtÜ
 (cÚ¡ 
bš_¡r
 *
šd
)

4391 ià(! 
u£d_cŞÜ
)

4393 
u£d_cŞÜ
 = 
Œue
;

4394 
	`´•_nÚ_f’ame_‹xt
 ();

4397 
	`fwr™e
 (
šd
->
¡ršg
, ind->
Ën
, 1, 
¡dout
);

4398 
	}
}

4400 
size_t


4401 
	$Ëngth_of_fe_Çme_ªd_äls
 (cÚ¡ 
fešfo
 *
f
)

4403 
size_t
 
Ën
 = 0;

4404 
size_t
 
Çme_width
;

4405 
buf
[
	`MAX
 (
LONGEST_HUMAN_READABLE
 + 1, 
	`INT_BUFSIZE_BOUND
 (
uštmax_t
))];

4407 ià(
´št_šode
)

4408 
Ën
 +ğ1 + (
fÜm©
 =ğ
w™h_commas


4409 ? 
	`¡¾’
 (
	`umaxto¡r
 (
f
->
¡©
.
¡_šo
, 
buf
))

4410 : 
šode_numb”_width
);

4412 ià(
´št_block_size
)

4413 
Ën
 +ğ1 + (
fÜm©
 =ğ
w™h_commas


4414 ? 
	`¡¾’
 (! 
f
->
¡©_ok
 ? "?"

4415 : 
	`humª_»adabË
 (
	`ST_NBLOCKS
 (
f
->
¡©
), 
buf
,

4416 
humª_ouut_İts
, 
ST_NBLOCKSIZE
,

4417 
ouut_block_size
))

4418 : 
block_size_width
);

4420 ià(
´št_scÚ‹xt
)

4421 
Ën
 +ğ1 + (
fÜm©
 =ğ
w™h_commas
 ? 
	`¡¾’
 (
f
->
scÚ‹xt
è: 
scÚ‹xt_width
);

4423 
	`quÙe_Çme
 (
NULL
, 
f
->
Çme
, 
f’ame_quÙšg_İtiÚs
, &
Çme_width
);

4424 
Ën
 +ğ
Çme_width
;

4426 ià(
šdiÿtÜ_¡yË
 !ğ
nÚe
)

4428 
c
 = 
	`g‘_ty³_šdiÿtÜ
 (
f
->
¡©_ok
, f->
¡©
.
¡_mode
, f->
f‘y³
);

4429 
Ën
 +ğ(
c
 != 0);

4432  
Ën
;

4433 
	}
}

4436 
	$´št_mªy_³r_lše
 ()

4438 
size_t
 
row
;

4439 
size_t
 
cŞs
 = 
	`ÿlcuÏ‹_cŞumns
 (
Œue
);

4440 
cŞumn_šfo
 cÚ¡ *
lše_fmt
 = &cŞumn_šfo[
cŞs
 - 1];

4444 
size_t
 
rows
 = 
cwd_n_u£d
 / 
cŞs
 + (cwd_n_used % cols != 0);

4446 
row
 = 0;„ow < 
rows
;„ow++)

4448 
size_t
 
cŞ
 = 0;

4449 
size_t
 
fe¢o
 = 
row
;

4450 
size_t
 
pos
 = 0;

4455 
fešfo
 cÚ¡ *
f
 = 
sÜ‹d_fe
[
fe¢o
];

4456 
size_t
 
Çme_Ëngth
 = 
	`Ëngth_of_fe_Çme_ªd_äls
 (
f
);

4457 
size_t
 
max_Çme_Ëngth
 = 
lše_fmt
->
cŞ_¬r
[
cŞ
++];

4458 
	`´št_fe_Çme_ªd_äls
 (
f
, 
pos
);

4460 
fe¢o
 +ğ
rows
;

4461 ià(
fe¢o
 >ğ
cwd_n_u£d
)

4464 
	`šd’t
 (
pos
 + 
Çme_Ëngth
,…o + 
max_Çme_Ëngth
);

4465 
pos
 +ğ
max_Çme_Ëngth
;

4467 
	`putch¬
 ('\n');

4469 
	}
}

4472 
	$´št_hÜizÚl
 ()

4474 
size_t
 
fe¢o
;

4475 
size_t
 
pos
 = 0;

4476 
size_t
 
cŞs
 = 
	`ÿlcuÏ‹_cŞumns
 (
çl£
);

4477 
cŞumn_šfo
 cÚ¡ *
lše_fmt
 = &cŞumn_šfo[
cŞs
 - 1];

4478 
fešfo
 cÚ¡ *
f
 = 
sÜ‹d_fe
[0];

4479 
size_t
 
Çme_Ëngth
 = 
	`Ëngth_of_fe_Çme_ªd_äls
 (
f
);

4480 
size_t
 
max_Çme_Ëngth
 = 
lše_fmt
->
cŞ_¬r
[0];

4483 
	`´št_fe_Çme_ªd_äls
 (
f
, 0);

4486 
fe¢o
 = 1; fe¢Ø< 
cwd_n_u£d
; ++filesno)

4488 
size_t
 
cŞ
 = 
fe¢o
 % 
cŞs
;

4490 ià(
cŞ
 == 0)

4492 
	`putch¬
 ('\n');

4493 
pos
 = 0;

4497 
	`šd’t
 (
pos
 + 
Çme_Ëngth
,…o + 
max_Çme_Ëngth
);

4498 
pos
 +ğ
max_Çme_Ëngth
;

4501 
f
 = 
sÜ‹d_fe
[
fe¢o
];

4502 
	`´št_fe_Çme_ªd_äls
 (
f
, 
pos
);

4504 
Çme_Ëngth
 = 
	`Ëngth_of_fe_Çme_ªd_äls
 (
f
);

4505 
max_Çme_Ëngth
 = 
lše_fmt
->
cŞ_¬r
[
cŞ
];

4507 
	`putch¬
 ('\n');

4508 
	}
}

4511 
	$´št_w™h_commas
 ()

4513 
size_t
 
fe¢o
;

4514 
size_t
 
pos
 = 0;

4516 
fe¢o
 = 0; fe¢Ø< 
cwd_n_u£d
; filesno++)

4518 
fešfo
 cÚ¡ *
f
 = 
sÜ‹d_fe
[
fe¢o
];

4519 
size_t
 
Ën
 = 
	`Ëngth_of_fe_Çme_ªd_äls
 (
f
);

4521 ià(
fe¢o
 != 0)

4523 
£·¿tÜ
;

4525 ià(
pos
 + 
Ën
 + 2 < 
lše_Ëngth
)

4527 
pos
 += 2;

4528 
£·¿tÜ
 = ' ';

4532 
pos
 = 0;

4533 
£·¿tÜ
 = '\n';

4536 
	`putch¬
 (',');

4537 
	`putch¬
 (
£·¿tÜ
);

4540 
	`´št_fe_Çme_ªd_äls
 (
f
, 
pos
);

4541 
pos
 +ğ
Ën
;

4543 
	`putch¬
 ('\n');

4544 
	}
}

4550 
	$šd’t
 (
size_t
 
äom
, size_ˆ
to
)

4552 
äom
 < 
to
)

4554 ià(
bsize
 !ğ0 && 
to
 /absiz> (
äom
 + 1) /absize)

4556 
	`putch¬
 ('\t');

4557 
äom
 +ğ
bsize
 - from %absize;

4561 
	`putch¬
 (' ');

4562 
äom
++;

4565 
	}
}

4572 
	$©ch
 (*
de¡
, cÚ¡ *
dœÇme
, cÚ¡ *
Çme
)

4574 cÚ¡ *
dœÇm•
 = 
dœÇme
;

4577 ià(
dœÇme
[0] != '.' || dirname[1] != 0)

4579 *
dœÇm•
)

4580 *
de¡
++ = *
dœÇm•
++;

4582 ià(
dœÇm•
 > 
dœÇme
 && dirnamep[-1] != '/')

4583 *
de¡
++ = '/';

4585 *
Çme
)

4586 *
de¡
++ = *
Çme
++;

4587 *
de¡
 = 0;

4588 
	}
}

4595 
	$š™_cŞumn_šfo
 ()

4597 
size_t
 
i
;

4598 
size_t
 
max_cŞs
 = 
	`MIN
 (
max_idx
, 
cwd_n_u£d
);

4601 
size_t
 
cŞumn_šfo_®loc
;

4603 ià(
cŞumn_šfo_®loc
 < 
max_cŞs
)

4605 
size_t
 
Ãw_cŞumn_šfo_®loc
;

4606 
size_t
 *
p
;

4608 ià(
max_cŞs
 < 
max_idx
 / 2)

4615 
cŞumn_šfo
 = 
	`xÄ—Îoc
 (cŞumn_šfo, 
max_cŞs
,

4616 2 *  *
cŞumn_šfo
);

4617 
Ãw_cŞumn_šfo_®loc
 = 2 * 
max_cŞs
;

4621 
cŞumn_šfo
 = 
	`xÄ—Îoc
 (cŞumn_šfo, 
max_idx
,  *column_info);

4622 
Ãw_cŞumn_šfo_®loc
 = 
max_idx
;

4630 
size_t
 
cŞumn_šfo_growth
 = 
Ãw_cŞumn_šfo_®loc
 - 
cŞumn_šfo_®loc
;

4631 
size_t
 
s
 = 
cŞumn_šfo_®loc
 + 1 + 
Ãw_cŞumn_šfo_®loc
;

4632 
size_t
 
t
 = 
s
 * 
cŞumn_šfo_growth
;

4633 ià(
s
 < 
Ãw_cŞumn_šfo_®loc
 || 
t
 / 
cŞumn_šfo_growth
 != s)

4634 
	`x®loc_d›
 ();

4635 
p
 = 
	`xnm®loc
 (
t
 / 2,  *p);

4639 
i
 = 
cŞumn_šfo_®loc
; i < 
Ãw_cŞumn_šfo_®loc
; i++)

4641 
cŞumn_šfo
[
i
].
cŞ_¬r
 = 
p
;

4642 
p
 +ğ
i
 + 1;

4645 
cŞumn_šfo_®loc
 = 
Ãw_cŞumn_šfo_®loc
;

4648 
i
 = 0; i < 
max_cŞs
; ++i)

4650 
size_t
 
j
;

4652 
cŞumn_šfo
[
i
].
v®id_Ën
 = 
Œue
;

4653 
cŞumn_šfo
[
i
].
lše_Ën
 = (˜+ 1è* 
MIN_COLUMN_WIDTH
;

4654 
j
 = 0; j <ğ
i
; ++j)

4655 
cŞumn_šfo
[
i
].
cŞ_¬r
[
j
] = 
MIN_COLUMN_WIDTH
;

4657 
	}
}

4662 
size_t


4663 
	$ÿlcuÏ‹_cŞumns
 (
boŞ
 
by_cŞumns
)

4665 
size_t
 
fe¢o
;

4666 
size_t
 
cŞs
;

4671 
size_t
 
max_cŞs
 = 
	`MIN
 (
max_idx
, 
cwd_n_u£d
);

4673 
	`š™_cŞumn_šfo
 ();

4676 
fe¢o
 = 0; fe¢Ø< 
cwd_n_u£d
; ++filesno)

4678 
fešfo
 cÚ¡ *
f
 = 
sÜ‹d_fe
[
fe¢o
];

4679 
size_t
 
Çme_Ëngth
 = 
	`Ëngth_of_fe_Çme_ªd_äls
 (
f
);

4680 
size_t
 
i
;

4682 
i
 = 0; i < 
max_cŞs
; ++i)

4684 ià(
cŞumn_šfo
[
i
].
v®id_Ën
)

4686 
size_t
 
idx
 = (
by_cŞumns


4687 ? 
fe¢o
 / ((
cwd_n_u£d
 + 
i
) / (i + 1))

4688 : 
fe¢o
 % (
i
 + 1));

4689 
size_t
 
»®_Ëngth
 = 
Çme_Ëngth
 + (
idx
 =ğ
i
 ? 0 : 2);

4691 ià(
cŞumn_šfo
[
i
].
cŞ_¬r
[
idx
] < 
»®_Ëngth
)

4693 
cŞumn_šfo
[
i
].
lše_Ën
 +ğ(
»®_Ëngth


4694 - 
cŞumn_šfo
[
i
].
cŞ_¬r
[
idx
]);

4695 
cŞumn_šfo
[
i
].
cŞ_¬r
[
idx
] = 
»®_Ëngth
;

4696 
cŞumn_šfo
[
i
].
v®id_Ën
 = (cŞumn_šfo[i].
lše_Ën


4697 < 
lše_Ëngth
);

4704 
cŞs
 = 
max_cŞs
; 1 < cols; --cols)

4706 ià(
cŞumn_šfo
[
cŞs
 - 1].
v®id_Ën
)

4710  
cŞs
;

4711 
	}
}

4714 
	$u§ge
 (
¡©us
)

4716 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

4717 
	`em™_Œy_h–p
 ();

4720 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]...\n"), 
´og¿m_Çme
);

4721 
	`åuts
 (
	`_
("\
 infÜm©iÚ‡bouˆthFILE Ñhcu¼’ˆdœeùÜy by deçuÉ).\n\
ƒÁr› ®phab‘iÿÎy iànÚoà-cáuvSUX‚Ü --sÜˆi ¥ecif›d.\n\
"), 
¡dout
);

4726 
	`em™_mªd©Üy_¬g_nÙe
 ();

4728 
	`åuts
 (
	`_
("\
-a, --®È dØnÙ ignÜ’Œ› ¡¬tšg w™h .\n\
-A, --®mo¡-®È dØnÙ†i¡ im¶›d .‡nd ..\n\
--authÜ w™h -l,…ršˆthauthÜ oà—ch fe\n\
-b, --esÿ³…ršˆC-¡yËƒsÿ³ fÜ‚Úg¿phiøch¬aù”s\n\
"), 
¡dout
);

4734 
	`åuts
 (
	`_
("\
--block-size=SIZE sÿË size by SIZE befÜ´štšghem. E.g.,\n\
'--block-size=M'…ršt size š un™ of\n\
1,048,576 by‹s. S“ SIZE fÜm© b–ow.\n\
-B, --ignÜe-backup  dØnÙ†i¡ im¶›dƒÁr› ’dšg w™h ~\n\
-ø w™h -É: sÜˆby,‡nd show, ctimÑimoàÏ¡\n\
 oàf¡©u šfÜm©iÚ)\n\
 -l: show ctimªd sÜˆby‚ame\n\
: sÜˆby ctime,‚ewe¡ fœ¡\n\
"), 
¡dout
);

4744 
	`åuts
 (
	`_
("\
-C†i¡ƒÁr› by cŞumns\n\
--cŞÜ[=WHEN] cŞÜizthouut. WHEN deçuÉ tØ'®ways'\n\
 cª b'Ãv”' o¸'auto'. MÜšfØb–ow\n\
-d, --dœeùÜy†i¡ dœeùÜyƒÁr› š¡—d oàcÚ‹Ás,\n\
 dØnÙ d”eã»nû symbŞiølšks\n\
-D, --dœed g’”©ouuˆdesigÃd fÜ Emacs' dœed mode\n\
"), 
¡dout
);

4752 
	`åuts
 (
	`_
("\
-à dØnÙ sÜt,ƒÇbË -aU, di§bË -l --cŞÜ\n\
-F, --şassify‡µ’d indiÿtÜ (Úoà*/=>@|ètØ’Œ›s\n\
--fe-ty³†ikewi£,ƒxû± dØnÙ‡µ’d '*'\n\
--fÜm©=WORD‡üos -x, comma -m, hÜizÚÈ-x,†Úg -l,\n\
-cŞumÀ-1, v”bo£ -l, v”tiÿÈ-C\n\
--fuÎ-tim†ik-È--time-¡yË=fuÎ-iso\n\
"), 
¡dout
);

4760 
	`åuts
 (
	`_
("\
-g†ik-l, buˆdØnÙ†i¡ owÃr\n\
"), 
¡dout
);

4763 
	`åuts
 (
	`_
("\
--group-dœeùÜ›s-fœ¡\n\
 dœeùÜ› befÜfes.\n\
 w™h‡ --sÜˆİtiÚ, buˆªy\n\
 oà--sÜtòÚ(-Uèdi§bË groupšg\n\
"), 
¡dout
);

4769 
	`åuts
 (
	`_
("\
-G, --no-grou° iÀ¨lÚg†i¡šg, dÚ'ˆ´šˆgrou°Çmes\n\
-h, --humª-»adabË w™h -l,…ršˆsize š humª„—dabË fÜm©\n\
Ó.g., 1K 234M 2G)\n\
--s˜†ikewi£, buˆu£…ow” oà1000‚Ù 1024\n\
"), 
¡dout
);

4775 
	`åuts
 (
	`_
("\
-H, --d”eã»nû-commªd-lše\n\
 symbŞiølšk li¡ed oÀthcommªd†še\n\
--d”eã»nû-commªd-lše-symlšk-to-dœ\n\
ƒach commªd†šsymbŞiølšk\n\
…ošt tØ¨dœeùÜy\n\
--hide=PATTERN dØnÙ†i¡ im¶›dƒÁr› m©chšg sh–ÈPATTERN\
\n\
(ov”ridd’ by -¨Ü -A)\n\
"), 
¡dout
);

4785 
	`åuts
 (
	`_
("\
--šdiÿtÜ-¡yË=WORD‡µ’d indiÿtÜ w™h styË WORDØ’Œy‚ames:\
\n\
 (deçuÉ), sÏsh (-p),\n\
-ty³ (--fe-ty³), cÏssify (-F)\n\
-i, --šod…ršˆthšdex‚umb” oà—ch fe\n\
-I, --ignÜe=PATTERN dØnÙ†i¡ im¶›dƒÁr› m©chšg sh–ÈPATTERN\
\n\
-k, --kibiby‹  u£ 1024-by‹ blocks\n\
"), 
¡dout
);

4795 
	`åuts
 (
	`_
("\
-È u£‡†Úg†i¡šg fÜm©\n\
-L, --d”eã»nû wh’ showšg fšfÜm©iÚ fÜ‡ symbŞic\n\
, show infÜm©iÚ fÜhfthlšk\n\
„©h”hª fÜhlšk it£lf\n\
-m fÈwidth w™h‡ comm¨£·¿‹d†i¡ oà’Œ›s\
\n\
"), 
¡dout
);

4803 
	`åuts
 (
	`_
("\
-n, --num”ic-uid-gid†ik-l, buˆli¡‚um”iøu£¸ªd grou°IDs\n\
-N, --l™”®…ršˆ¿wƒÁry‚ame (dÚ'ˆŒ—ˆe.g. cÚŒŞ\n\
 s³cŸÎy)\n\
-Ø†ik-l, buˆdØnÙ†i¡ grou°šfÜm©iÚ\n\
-p, --šdiÿtÜ-¡yË=¦ash\n\
 / indiÿtÜØdœeùÜ›s\n\
"), 
¡dout
);

4811 
	`åuts
 (
	`_
("\
-q, --hide-cÚŒŞ-ch¬ …ršˆ? in¡—d oànÚ g¿phiøch¬aù”s\n\
--show-cÚŒŞ-ch¬  show‚Ú g¿phiøch¬aù” as-i (deçuÉ\n\
…rog¿m i 'ls'‡nd ouuˆi ¨‹rmš®)\n\
-Q, --quÙe-Çmƒnşo£ƒÁry‚ame š doubË quÙes\n\
--quÙšg-¡yË=WORD u£ quÙšg styË WORD fÜƒÁry‚ames:\n\
,†oÿË, sh–l, sh–l-®ways, c,ƒsÿ³\
\n\
"), 
¡dout
);

4820 
	`åuts
 (
	`_
("\
-r, --»v”£„ev”£ ord” whsÜtšg\n\
-R, --»cursiv†i¡ subdœeùÜ› »cursiv–y\n\
-s, --siz…ršˆth®loÿ‹d sizoà—ch fe, iÀblocks\n\
"), 
¡dout
);

4825 
	`åuts
 (
	`_
("\
-S sÜˆby fsize\n\
--sÜt=WORD sÜˆby WORD in¡—d oàÇme:‚Ú-U,\n\
 -X, siz-S,im-t, v”siÚ -v\n\
--time=WORD w™h -l, showima WORD in¡—d oàmodifiÿtiÚ\
\n\
:‡tim-u,‡cûs -u, u£ -u, ctim-c,\n\
 stu -c; u£ s³cif›dima sÜˆkey\n\
 --sÜtñime\n\
"), 
¡dout
);

4835 
	`åuts
 (
	`_
("\
--time-¡yË=STYLE w™h -l, showime usšg styË STYLE:\n\
-iso,†Úg-iso, iso,†oÿË, +FORMAT.\n\
 i š‹½»‹d†ik'd©e'; iàFORMAT is\n\
1<Ãwlše>FORMAT2, FORMAT1‡µl› to\n\
-»ûÁ fe ªd FORMAT2Ø»ûÁ fes;\n\
 STYLE i ´efixed w™h 'posix-', STYLE\n\
ƒfãù oÆy outsidthPOSIX†oÿË\n\
"), 
¡dout
);

4844 
	`åuts
 (
	`_
("\
-ˆ sÜˆby modifiÿtiÚime,‚ewe¡ fœ¡\n\
-T, --bsize=COLS‡ssumb stİ ©ƒach COLS in¡—d oà8\n\
"), 
¡dout
);

4848 
	`åuts
 (
	`_
("\
-u w™h -É: sÜˆby,‡nd show,‡cûs time\n\
 -l: show‡cûs timªd sÜˆby‚ame\n\
: sÜˆby‡cûs time\n\
-U dØnÙ sÜt;†i¡ƒÁr› š dœeùÜy ord”\n\
-v‚©u¿ÈsÜˆoà(v”siÚènumb” w™hšext\n\
"), 
¡dout
);

4855 
	`åuts
 (
	`_
("\
-w, --width=COLS‡ssumsü“Àwidth in¡—d oàcu¼’ˆv®ue\n\
-x†i¡ƒÁr› by†še š¡—d oàby cŞumns\n\
-X sÜˆ®phab‘iÿÎy byƒÁryƒx‹nsiÚ\n\
-Z, --cÚ‹xˆ…ršˆªy SELšux secur™y cÚ‹xˆoà—ch fe\n\
-1†i¡ oÃ f³¸lše\n\
"), 
¡dout
);

4862 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

4863 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

4864 
	`em™_size_nÙe
 ();

4865 
	`åuts
 (
	`_
("\
\n\
 cŞÜØdi¡šguish fty³ i di§bËd bÙh by deçuÉ‡nd\n\
 --cŞÜòev”. W™h --cŞÜ÷uto,† em™ cŞÜ code Úly wh’\n\
 ouuˆi cÚÃùedØ¨‹rmš®. ThLS_COLORSƒnvœÚm’t\n\
 cª chªgth£‰šgs. U£hdœcŞÜ commªdØ£ˆ™.\n\
"), 
¡dout
);

4872 
	`åuts
 (
	`_
("\
\n\
 stus:\n\
0 iàOK,\n\
1 iàmšÜ…robËm Ó.g., cªnÙ‡cûs subdœeùÜy),\n\
2 ià£riou ŒoubË (e.g., cªnÙ‡cûs commªd-lš¬gum’t).\n\
"), 
¡dout
);

4879 
	`em™_ªcÏry_šfo
 ();

4881 
	`ex™
 (
¡©us
);

4882 
	}
}

	@ls.h

2 
	#LS_LS
 1

	)

5 
	#LS_MULTI_COL
 2

	)

8 
	#LS_LONG_FORMAT
 3

	)

10 
ls_mode
;

	@make-prime-list.c

20 
	~<cÚfig.h
>

22 
	~<lim™s.h
>

23 
	~<¡dšt.h
>

24 
	~<š‰y³s.h
>

25 
	~<¡dio.h
>

26 
	~<¡ršg.h
>

27 
	~<¡dlib.h
>

28 
	~<”ºo.h
>

31 #undeà
fşo£


32 #undeà
m®loc


33 #undeà
¡»¼Ü


41 #iâdeà
wide_ušt


42 #ià4 < 
__GNUC__
 + (6 <ğ
__GNUC_MINOR__
è&& 
ULONG_MAX
 >> 31 >> 31 >> 1 != 0

43 
	t__št128
 
	twide_ušt
;

45 
uštmax_t
 
	twide_ušt
;

49 
	s´ime


51 
	mp
;

52 
wide_ušt
 
	mpšv
;

53 
wide_ušt
 
	mlim
;

56 
wide_ušt
 
_GL_ATTRIBUTE_CONST


57 
	$bšv”t
 (
wide_ušt
 
a
)

59 
wide_ušt
 
x
 = 0xf5397db1 >> (4*((
a
/2) & 0x7));

62 
wide_ušt
 
y
 = 2*
x
 - x*x*
a
;

63 ià(
y
 =ğ
x
)

64  
x
;

65 
x
 = 
y
;

67 
	}
}

70 
	$´oûss_´ime
 (
´ime
 *
šfo
, 
p
)

72 
wide_ušt
 
max
 = -1;

73 
šfo
->
p
 =…;

74 
šfo
->
pšv
 = 
	`bšv”t
 (
p
);

75 
šfo
->
lim
 = 
max
 / 
p
;

76 
	}
}

79 
	$´št_wide_ušt
 (
wide_ušt
 
n
, 
Ã¡šg
, 
wide_ušt_b™s
)

84 
hex_dig™s_³r_l™”®
 = 7;

85 
b™s_³r_l™”®
 = 
hex_dig™s_³r_l™”®
 * 4;

87 
»mašd”
 = 
n
 & ((1 << 
b™s_³r_l™”®
) - 1);

89 ià(
n
 !ğ
»mašd”
)

91 
Ãeds_·»Áhe£s
 = 
n
 >> 
b™s_³r_l™”®
 >> bits_per_literal != 0;

92 ià(
Ãeds_·»Áhe£s
)

93 
	`´štf
 ("(");

94 
	`´št_wide_ušt
 (
n
 >> 
b™s_³r_l™”®
, 
Ã¡šg
 + 1, 
wide_ušt_b™s
);

95 ià(
Ãeds_·»Áhe£s
)

96 
	`´štf
 (")\n%*s", 
Ã¡šg
 + 3, "");

97 
	`´štf
 (" << %d | ", 
b™s_³r_l™”®
);

99 ià(
Ã¡šg
)

101 
	`´štf
 ("(uintmax_t) ");

102 
hex_dig™s_³r_l™”®


103 ğ((
wide_ušt_b™s
 - 1è% 
b™s_³r_l™”®
) % 4 + 1;

106 
	`´štf
 ("0x%0*xU", 
hex_dig™s_³r_l™”®
, 
»mašd”
);

107 
	}
}

110 
	$ouut_´imes
 (cÚ¡ 
´ime
 *
´imes
, 
Årimes
)

112 
i
;

113 
p
;

114 
is_´ime
;

119 
wide_ušt_b™s
 = 0;

120 
wide_ušt
 
mask
 = -1;

121 
wide_ušt_b™s
 = 0; 
mask
; wide_uint_bits++)

122 
mask
 >>= 1;

124 
	`puts
 ("/* Generated file -- DO NOT EDIT */\n");

125 
	`´štf
 ("#defšWIDE_UINT_BITS %u\n", 
wide_ušt_b™s
);

127 
i
 = 0, 
p
 = 2; i < 
Årimes
; i++)

129 
d8
 = 
i
 + 8 < 
Årimes
 ? 
´imes
[˜+ 8].
p
 -…rimes[i].p : 0xff;

130 ià(255 < 
d8
)

131 
	`abÜt
 ();

132 
	`´štf
 ("P (%u, %u,\À (", 
´imes
[
i
].
p
 -…, 
d8
);

133 
	`´št_wide_ušt
 (
´imes
[
i
].
pšv
, 0, 
wide_ušt_b™s
);

134 
	`´štf
 ("),\À UINTMAX_MAX / %d)\n", 
´imes
[
i
].
p
);

135 
p
 = 
´imes
[
i
].p;

138 
	`´štf
 ("\n#undef FIRST_OMITTED_PRIME\n");

143 
p
 += 2;

144 
i
 = 0, 
is_´ime
 = 1; is_prime; i++)

146 ià(
´imes
[
i
].
p
 *…rimes[i].p >…)

148 ià(
p
 * 
´imes
[
i
].
pšv
 <ğ´imes[i].
lim
)

150 
is_´ime
 = 0;

155 !
is_´ime
);

157 
	`´štf
 ("#defšFIRST_OMITTED_PRIME %u\n", 
p
);

158 
	}
}

161 
	$x®loc
 (
size_t
 
s
)

163 *
p
 = 
	`m®loc
 (
s
);

164 ià(
p
)

165  
p
;

167 
	`årštf
 (
¡d”r
, "Virtual memoryƒxhausted.\n");

168 
	`ex™
 (
EXIT_FAILURE
);

169 
	}
}

172 
	$maš
 (
¬gc
, **
¬gv
)

174 
lim™
;

176 *
s›ve
;

177 
size_t
 
size
, 
i
;

179 
´ime
 *
´ime_li¡
;

180 
Årimes
;

182 ià(
¬gc
 != 2)

184 
	`årštf
 (
¡d”r
, "Usage: %s LIMIT\n"

185 "Produû ¨li¡ oàodd…rime <ğLIMIT\n", 
¬gv
[0]);

186  
EXIT_FAILURE
;

188 
lim™
 = 
	`©oi
 (
¬gv
[1]);

189 ià(
lim™
 < 3)

190 
	`ex™
 (
EXIT_SUCCESS
);

193 iàĞ!(
lim™
 & 1))

194 
lim™
--;

196 
size
 = (
lim™
-1)/2;

198 
s›ve
 = 
	`x®loc
 (
size
);

199 
	`mem£t
 (
s›ve
, 1, 
size
);

201 
´ime_li¡
 = 
	`x®loc
 (
size
 *  (*prime_list));

202 
Årimes
 = 0;

204 
i
 = 0; i < 
size
;)

206 
p
 = 3+2*
i
;

207 
j
;

209 
	`´oûss_´ime
 (&
´ime_li¡
[
Årimes
++], 
p
);

211 
j
 = (
p
*°- 3)/2; j < 
size
; j+=…)

212 
s›ve
[
j
] = 0;

214 
i
 < 
size
 && 
s›ve
[++i] == 0)

218 
	`ouut_´imes
 (
´ime_li¡
, 
Årimes
);

220 ià(
	`ã¼Ü
 (
¡dout
è+ 
	`fşo£
 (stdout))

222 
	`årštf
 (
¡d”r
, "wr™”rÜ: %s\n", 
	`¡»¼Ü
 (
”ºo
));

223  
EXIT_FAILURE
;

226  
EXIT_SUCCESS
;

227 
	}
}

	@md5sum.c

19 
	~<cÚfig.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

26 #ià
HASH_ALGO_MD5


27 
	~"md5.h
"

29 #ià
HASH_ALGO_SHA1


30 
	~"sha1.h
"

32 #ià
HASH_ALGO_SHA256
 || 
HASH_ALGO_SHA224


33 
	~"sha256.h
"

35 #ià
HASH_ALGO_SHA512
 || 
HASH_ALGO_SHA384


36 
	~"sha512.h
"

38 
	~"”rÜ.h
"

39 
	~"çdvi£.h
"

40 
	~"¡dio--.h
"

41 
	~"xäeİ’.h
"

44 #ià
HASH_ALGO_MD5


45 
	#PROGRAM_NAME
 "md5sum"

	)

46 
	#DIGEST_TYPE_STRING
 "MD5"

	)

47 
	#DIGEST_STREAM
 
md5_¡»am


	)

48 
	#DIGEST_BITS
 128

	)

49 
	#DIGEST_REFERENCE
 "RFC 1321"

	)

50 
	#DIGEST_ALIGN
 4

	)

51 #–ià
HASH_ALGO_SHA1


52 
	#PROGRAM_NAME
 "sha1sum"

	)

53 
	#DIGEST_TYPE_STRING
 "SHA1"

	)

54 
	#DIGEST_STREAM
 
sha1_¡»am


	)

55 
	#DIGEST_BITS
 160

	)

56 
	#DIGEST_REFERENCE
 "FIPS-180-1"

	)

57 
	#DIGEST_ALIGN
 4

	)

58 #–ià
HASH_ALGO_SHA256


59 
	#PROGRAM_NAME
 "sha256sum"

	)

60 
	#DIGEST_TYPE_STRING
 "SHA256"

	)

61 
	#DIGEST_STREAM
 
sha256_¡»am


	)

62 
	#DIGEST_BITS
 256

	)

63 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

64 
	#DIGEST_ALIGN
 4

	)

65 #–ià
HASH_ALGO_SHA224


66 
	#PROGRAM_NAME
 "sha224sum"

	)

67 
	#DIGEST_TYPE_STRING
 "SHA224"

	)

68 
	#DIGEST_STREAM
 
sha224_¡»am


	)

69 
	#DIGEST_BITS
 224

	)

70 
	#DIGEST_REFERENCE
 "RFC 3874"

	)

71 
	#DIGEST_ALIGN
 4

	)

72 #–ià
HASH_ALGO_SHA512


73 
	#PROGRAM_NAME
 "sha512sum"

	)

74 
	#DIGEST_TYPE_STRING
 "SHA512"

	)

75 
	#DIGEST_STREAM
 
sha512_¡»am


	)

76 
	#DIGEST_BITS
 512

	)

77 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

78 
	#DIGEST_ALIGN
 8

	)

79 #–ià
HASH_ALGO_SHA384


80 
	#PROGRAM_NAME
 "sha384sum"

	)

81 
	#DIGEST_TYPE_STRING
 "SHA384"

	)

82 
	#DIGEST_STREAM
 
sha384_¡»am


	)

83 
	#DIGEST_BITS
 384

	)

84 
	#DIGEST_REFERENCE
 "FIPS-180-2"

	)

85 
	#DIGEST_ALIGN
 8

	)

90 
	#DIGEST_HEX_BYTES
 (
DIGEST_BITS
 / 4)

	)

91 
	#DIGEST_BIN_BYTES
 (
DIGEST_BITS
 / 8)

	)

93 
	#AUTHORS
 \

94 
	`´İ”_Çme
 ("Ulrich Drepper"), \

95 
	`´İ”_Çme
 ("Scott Miller"), \

96 
	`´İ”_Çme
 ("David MadÜe")

	)

100 
	#MIN_DIGEST_LINE_LENGTH
 \

101 (
DIGEST_HEX_BYTES
 \

103 + 1 )

	)

106 
boŞ
 
	ghave_»ad_¡dš
;

109 
size_t
 
	gmš_dige¡_lše_Ëngth
;

112 
size_t
 
	gdige¡_hex_by‹s
;

116 
boŞ
 
	g¡©us_Úly
 = 
çl£
;

120 
boŞ
 
	gw¬n
 = 
çl£
;

123 
boŞ
 
	gqu›t
 = 
çl£
;

127 
boŞ
 
	g¡riù
 = 
çl£
;

130 
	gbsd_»v”£d
 = -1;

136 
	mSTATUS_OPTION
 = 
CHAR_MAX
 + 1,

137 
	mQUIET_OPTION
,

138 
	mSTRICT_OPTION
,

139 
	mTAG_OPTION


142 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

144 { "bš¬y", 
no_¬gum’t
, 
NULL
, 'b' },

145 { "check", 
no_¬gum’t
, 
NULL
, 'c' },

146 { "qu›t", 
no_¬gum’t
, 
NULL
, 
QUIET_OPTION
 },

147 { "¡©us", 
no_¬gum’t
, 
NULL
, 
STATUS_OPTION
 },

148 { "‹xt", 
no_¬gum’t
, 
NULL
, 't' },

149 { "w¬n", 
no_¬gum’t
, 
NULL
, 'w' },

150 { "¡riù", 
no_¬gum’t
, 
NULL
, 
STRICT_OPTION
 },

151 { "g", 
no_¬gum’t
, 
NULL
, 
TAG_OPTION
 },

152 { 
GETOPT_HELP_OPTION_DECL
 },

153 { 
GETOPT_VERSION_OPTION_DECL
 },

154 { 
NULL
, 0, NULL, 0 }

158 
	$u§ge
 (
¡©us
)

160 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

161 
	`em™_Œy_h–p
 ();

164 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
 or check %s (%d-bit) checksums.\n\
‚o FILE, or when FILE is -,„ead standard input.\n\
\n\
"),

170 
´og¿m_Çme
,

171 
DIGEST_TYPE_STRING
,

172 
DIGEST_BITS
);

173 ià(
O_BINARY
)

174 
	`åuts
 (
	`_
("\
-b, --bš¬y„—d iÀbš¬y mod(deçuÉ uÆes »adšgty stdš)\n\
"), 
¡dout
);

178 
	`åuts
 (
	`_
("\
-b, --bš¬y„—d iÀbš¬y mode\n\
"), 
¡dout
);

181 
	`´štf
 (
	`_
("\
-c, --check„ead %s sums fromhe FILEs‡nd checkhem\n"),

183 
DIGEST_TYPE_STRING
);

184 
	`åuts
 (
	`_
("\
--g c»©¨BSD-¡yË checksum\n\
"), 
¡dout
);

187 ià(
O_BINARY
)

188 
	`åuts
 (
	`_
("\
-t, --‹xˆ„—d iÀ‹xˆmod(deçuÉ ià»adšgty stdš)\n\
"), 
¡dout
);

192 
	`åuts
 (
	`_
("\
-t, --‹xˆ„—d iÀ‹xˆmod(deçuÉ)\n\
"), 
¡dout
);

195 
	`åuts
 (
	`_
("\
\n\
 fŞlowšgh»İtiÚ ¬u£fuÈÚly wh’ v”ifyšg checksums:\n\
--qu›ˆ dÚ'ˆ´šˆOK fÜƒach sucûssfuÎy v”if›d fe\n\
--¡©u  dÚ'ˆouuˆªythšg, stu codshow sucûss\n\
-w, --w¬À w¬Àabouˆim´İ”ly fÜm©‹d checksum†šes\n\
\n\
"), 
¡dout
);

203 
	`åuts
 (
	`_
("\
--¡riù w™h --check,ƒx™‚Ú-z”ØfÜ‡ny inv®id iÅut\n\
"), 
¡dout
);

206 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

207 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

208 
	`´štf
 (
	`_
("\
\n\
 sums‡re computed‡s described in %s. When checking,he input\n\
 be‡ former output ofhis…rogram. The default mode iso…rint\n\
†ine with checksum,‡ character indicating input mode ('*' for binary,\n\
 forext),‡nd‚ame forƒach FILE.\n"),

214 
DIGEST_REFERENCE
);

215 
	`em™_ªcÏry_šfo
 ();

218 
	`ex™
 (
¡©us
);

219 
	}
}

221 
	#ISWHITE
(
c
è((cè=ğ' ' || (cè=ğ'\t')

	)

232 
	$f’ame_uÃsÿ³
 (*
s
, 
size_t
 
s_Ën
)

234 *
d¡
 = 
s
;

236 
size_t
 
i
 = 0; i < 
s_Ën
; i++)

238 
s
[
i
])

241 ià(
i
 =ğ
s_Ën
 - 1)

244  
NULL
;

246 ++
i
;

247 
s
[
i
])

250 *
d¡
++ = '\n';

253 *
d¡
++ = '\\';

257  
NULL
;

263  
NULL
;

266 *
d¡
++ = 
s
[
i
];

270 ià(
d¡
 < 
s
 + 
s_Ën
)

271 *
d¡
 = '\0';

273  
s
;

274 
	}
}

280 
boŞ


281 
	$bsd_¥l™_3
 (*
s
, 
size_t
 
s_Ën
, **
hex_dige¡
,

282 **
fe_Çme
, 
boŞ
 
esÿ³d_f’ame
)

284 
size_t
 
i
;

286 ià(
s_Ën
 == 0)

287  
çl£
;

290 
i
 = 
s_Ën
 - 1;

291 
i
 && 
s
[i] != ')')

292 
i
--;

294 ià(
s
[
i
] != ')')

295  
çl£
;

297 *
fe_Çme
 = 
s
;

299 ià(
esÿ³d_f’ame
 && 
	`f’ame_uÃsÿ³
 (
s
, 
i
è=ğ
NULL
)

300  
çl£
;

302 
s
[
i
++] = '\0';

304 
	`ISWHITE
 (
s
[
i
]))

305 
i
++;

307 ià(
s
[
i
] != '=')

308  
çl£
;

310 
i
++;

312 
	`ISWHITE
 (
s
[
i
]))

313 
i
++;

315 *
hex_dige¡
 = (*è&
s
[
i
];

316  
Œue
;

317 
	}
}

323 
boŞ


324 
	$¥l™_3
 (*
s
, 
size_t
 
s_Ën
,

325 **
hex_dige¡
, *
bš¬y
, **
fe_Çme
)

327 
boŞ
 
esÿ³d_f’ame
 = 
çl£
;

328 
size_t
 
®go_Çme_Ën
;

330 
size_t
 
i
 = 0;

331 
	`ISWHITE
 (
s
[
i
]))

332 ++
i
;

334 ià(
s
[
i
] == '\\')

336 ++
i
;

337 
esÿ³d_f’ame
 = 
Œue
;

342 
®go_Çme_Ën
 = 
	`¡¾’
 (
DIGEST_TYPE_STRING
);

343 ià(
	`STREQ_LEN
 (
s
 + 
i
, 
DIGEST_TYPE_STRING
, 
®go_Çme_Ën
))

345 ià(
s
[
i
 + 
®go_Çme_Ën
] == ' ')

346 ++
i
;

347 ià(
s
[
i
 + 
®go_Çme_Ën
] == '(')

349 *
bš¬y
 = 0;

350  
	`bsd_¥l™_3
 (
s
 + 
i
 + 
®go_Çme_Ën
 + 1,

351 
s_Ën
 - (
i
 + 
®go_Çme_Ën
 + 1),

352 
hex_dige¡
, 
fe_Çme
, 
esÿ³d_f’ame
);

360 ià(
s_Ën
 - 
i
 < 
mš_dige¡_lše_Ëngth
 + (
s
[i] == '\\'))

361  
çl£
;

363 *
hex_dige¡
 = (*è&
s
[
i
];

368 
i
 +ğ
dige¡_hex_by‹s
;

369 ià(!
	`ISWHITE
 (
s
[
i
]))

370  
çl£
;

372 
s
[
i
++] = '\0';

375 ià((
s_Ën
 - 
i
 =ğ1è|| (
s
[i] != ' ' && s[i] != '*'))

383 ià(
bsd_»v”£d
 == 0)

384  
çl£
;

385 
bsd_»v”£d
 = 1;

387 ià(
bsd_»v”£d
 != 1)

389 
bsd_»v”£d
 = 0;

390 *
bš¬y
 = (
s
[
i
++] == '*');

395 *
fe_Çme
 = &
s
[
i
];

397 ià(
esÿ³d_f’ame
)

398  
	`f’ame_uÃsÿ³
 (&
s
[
i
], 
s_Ën
 - iè!ğ
NULL
;

400  
Œue
;

401 
	}
}

405 
boŞ
 
_GL_ATTRIBUTE_PURE


406 
	$hex_dig™s
 (cÚ¡ *
s
)

408 
i
;

409 
i
 = 0; i < 
dige¡_hex_by‹s
; i++)

411 ià(!
	`isxdig™
 (*
s
))

412  
çl£
;

413 ++
s
;

415  *
s
 == '\0';

416 
	}
}

429 
boŞ


430 
	$dige¡_fe
 (cÚ¡ *
f’ame
, *
bš¬y
, *
bš_»suÉ
)

432 
FILE
 *
å
;

433 
”r
;

434 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
f’ame
, "-");

436 ià(
is_¡dš
)

438 
have_»ad_¡dš
 = 
Œue
;

439 
å
 = 
¡dš
;

440 ià(
O_BINARY
 && *
bš¬y
)

442 ià(*
bš¬y
 < 0)

443 *
bš¬y
 = ! 
	`i§‰y
 (
STDIN_FILENO
);

444 ià(*
bš¬y
)

445 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

450 
å
 = 
	`fİ’
 (
f’ame
, (
O_BINARY
 && *
bš¬y
 ? "rb" : "r"));

451 ià(
å
 =ğ
NULL
)

453 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

454  
çl£
;

458 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

460 
”r
 = 
	`DIGEST_STREAM
 (
å
, 
bš_»suÉ
);

461 ià(
”r
)

463 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

464 ià(
å
 !ğ
¡dš
)

465 
	`fşo£
 (
å
);

466  
çl£
;

469 ià(!
is_¡dš
 && 
	`fşo£
 (
å
) != 0)

471 
	`”rÜ
 (0, 
”ºo
, "%s", 
f’ame
);

472  
çl£
;

475  
Œue
;

476 
	}
}

478 
boŞ


479 
	$dige¡_check
 (cÚ¡ *
checkfe_Çme
)

481 
FILE
 *
checkfe_¡»am
;

482 
uštmax_t
 
n_misfÜm©‹d_lšes
 = 0;

483 
uštmax_t
 
n_´İ”ly_fÜm©‹d_lšes
 = 0;

484 
uštmax_t
 
n_im´İ”ly_fÜm©‹d_lšes
 = 0;

485 
uštmax_t
 
n_mism©ched_checksums
 = 0;

486 
uštmax_t
 
n_İ’_Ü_»ad_çu»s
 = 0;

487 
bš_bufãr_uÇligÃd
[
DIGEST_BIN_BYTES
 + 
DIGEST_ALIGN
];

489 *
bš_bufãr
 = 
	`±r_®ign
 (
bš_bufãr_uÇligÃd
, 
DIGEST_ALIGN
);

490 
uštmax_t
 
lše_numb”
;

491 *
lše
;

492 
size_t
 
lše_ch¬s_®loÿ‹d
;

493 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
checkfe_Çme
, "-");

495 ià(
is_¡dš
)

497 
have_»ad_¡dš
 = 
Œue
;

498 
checkfe_Çme
 = 
	`_
("standard input");

499 
checkfe_¡»am
 = 
¡dš
;

503 
checkfe_¡»am
 = 
	`fİ’
 (
checkfe_Çme
, "r");

504 ià(
checkfe_¡»am
 =ğ
NULL
)

506 
	`”rÜ
 (0, 
”ºo
, "%s", 
checkfe_Çme
);

507  
çl£
;

511 
lše_numb”
 = 0;

512 
lše
 = 
NULL
;

513 
lše_ch¬s_®loÿ‹d
 = 0;

516 *
f’ame
 
	`IF_LINT
 ( = 
NULL
);

517 
bš¬y
;

518 *
hex_dige¡
 
	`IF_LINT
 ( = 
NULL
);

519 
ssize_t
 
lše_Ëngth
;

521 ++
lše_numb”
;

522 ià(
lše_numb”
 == 0)

523 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s:oo many checksum†ines"),

524 
checkfe_Çme
);

526 
lše_Ëngth
 = 
	`g‘lše
 (&
lše
, &
lše_ch¬s_®loÿ‹d
, 
checkfe_¡»am
);

527 ià(
lše_Ëngth
 <= 0)

531 ià(
lše
[0] == '#')

535 ià(
lše
[
lše_Ëngth
 - 1] == '\n')

536 
lše
[--
lše_Ëngth
] = '\0';

538 ià(! (
	`¥l™_3
 (
lše
, 
lše_Ëngth
, &
hex_dige¡
, &
bš¬y
, &
f’ame
)

539 && ! (
is_¡dš
 && 
	`STREQ
 (
f’ame
, "-"))

540 && 
	`hex_dig™s
 (
hex_dige¡
)))

542 ++
n_misfÜm©‹d_lšes
;

544 ià(
w¬n
)

546 
	`”rÜ
 (0, 0,

547 
	`_
("%s: %" 
PRIuMAX


549 
checkfe_Çme
, 
lše_numb”
,

550 
DIGEST_TYPE_STRING
);

553 ++
n_im´İ”ly_fÜm©‹d_lšes
;

557 cÚ¡ 
bš2hex
[] = { '0', '1', '2', '3',

561 
boŞ
 
ok
;

563 ++
n_´İ”ly_fÜm©‹d_lšes
;

565 
ok
 = 
	`dige¡_fe
 (
f’ame
, &
bš¬y
, 
bš_bufãr
);

567 ià(!
ok
)

569 ++
n_İ’_Ü_»ad_çu»s
;

570 ià(!
¡©us_Úly
)

572 
	`´štf
 (
	`_
("%s: FAILED o³ÀÜ„—d\n"), 
f’ame
);

577 
size_t
 
dige¡_bš_by‹s
 = 
dige¡_hex_by‹s
 / 2;

578 
size_t
 
út
;

581 
út
 = 0; cÁ < 
dige¡_bš_by‹s
; ++cnt)

583 ià(
	`tŞow”
 (
hex_dige¡
[2 * 
út
])

584 !ğ
bš2hex
[
bš_bufãr
[
út
] >> 4]

585 || (
	`tŞow”
 (
hex_dige¡
[2 * 
út
 + 1])

586 !ğ(
bš2hex
[
bš_bufãr
[
út
] & 0xf])))

589 ià(
út
 !ğ
dige¡_bš_by‹s
)

590 ++
n_mism©ched_checksums
;

592 ià(!
¡©us_Úly
)

594 ià(
út
 !ğ
dige¡_bš_by‹s
)

595 
	`´štf
 ("%s: %s\n", 
f’ame
, 
	`_
("FAILED"));

596 ià(!
qu›t
)

597 
	`´štf
 ("%s: %s\n", 
f’ame
, 
	`_
("OK"));

602 !
	`ãof
 (
checkfe_¡»am
è&& !
	`ã¼Ü
 (checkfile_stream));

604 
	`ä“
 (
lše
);

606 ià(
	`ã¼Ü
 (
checkfe_¡»am
))

608 
	`”rÜ
 (0, 0, 
	`_
("%s:„—dƒ¼Ü"), 
checkfe_Çme
);

609  
çl£
;

612 ià(!
is_¡dš
 && 
	`fşo£
 (
checkfe_¡»am
) != 0)

614 
	`”rÜ
 (0, 
”ºo
, "%s", 
checkfe_Çme
);

615  
çl£
;

618 ià(
n_´İ”ly_fÜm©‹d_lšes
 == 0)

621 
	`”rÜ
 (0, 0, 
	`_
("%s:‚o…roperly formatted %s checksum†ines found"),

622 
checkfe_Çme
, 
DIGEST_TYPE_STRING
);

626 ià(!
¡©us_Úly
)

628 ià(
n_misfÜm©‹d_lšes
 != 0)

629 
	`”rÜ
 (0, 0,

630 (
ng‘‹xt


631 ("WARNING: %" 
PRIuMAX
 "†ine is improperly formatted",

632 "WARNING: %" 
PRIuMAX
 "†ines‡re improperly formatted",

633 
	`£Ëù_¶u¿l
 (
n_misfÜm©‹d_lšes
))),

634 
n_misfÜm©‹d_lšes
);

636 ià(
n_İ’_Ü_»ad_çu»s
 != 0)

637 
	`”rÜ
 (0, 0,

638 (
ng‘‹xt


639 ("WARNING: %" 
PRIuMAX
 "†isted file could‚ot be„ead",

640 "WARNING: %" 
PRIuMAX
 "†isted files could‚ot be„ead",

641 
	`£Ëù_¶u¿l
 (
n_İ’_Ü_»ad_çu»s
))),

642 
n_İ’_Ü_»ad_çu»s
);

644 ià(
n_mism©ched_checksums
 != 0)

645 
	`”rÜ
 (0, 0,

646 (
ng‘‹xt


647 ("WARNING: %" 
PRIuMAX
 " computed checksum did NOT match",

648 "WARNING: %" 
PRIuMAX
 " computed checksums did NOT match",

649 
	`£Ëù_¶u¿l
 (
n_mism©ched_checksums
))),

650 
n_mism©ched_checksums
);

654  (
n_´İ”ly_fÜm©‹d_lšes
 != 0

655 && 
n_mism©ched_checksums
 == 0

656 && 
n_İ’_Ü_»ad_çu»s
 == 0

657 && (!
¡riù
 || 
n_im´İ”ly_fÜm©‹d_lšes
 == 0));

658 
	}
}

661 
	$´št_f’ame
 (cÚ¡ *
fe
)

665 *
fe
)

667 *
fe
)

670 
	`åuts
 ("\\n", 
¡dout
);

674 
	`åuts
 ("\\\\", 
¡dout
);

678 
	`putch¬
 (*
fe
);

681 
fe
++;

683 
	}
}

686 
	$maš
 (
¬gc
, **
¬gv
)

688 
bš_bufãr_uÇligÃd
[
DIGEST_BIN_BYTES
 + 
DIGEST_ALIGN
];

690 *
bš_bufãr
 = 
	`±r_®ign
 (
bš_bufãr_uÇligÃd
, 
DIGEST_ALIGN
);

691 
boŞ
 
do_check
 = 
çl£
;

692 
İt
;

693 
boŞ
 
ok
 = 
Œue
;

694 
bš¬y
 = -1;

695 
boŞ
 
´efix_g
 = 
çl£
;

698 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

699 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

700 
	`£oÿË
 (
LC_ALL
, "");

701 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

702 
	`‹xtdomaš
 (
PACKAGE
);

704 
	`©ex™
 (
şo£_¡dout
);

708 
	`£tvbuf
 (
¡dout
, 
NULL
, 
_IOLBF
, 0);

710 (
İt
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "bùw", 
lÚg_İtiÚs
, 
NULL
)) != -1)

711 
İt
)

714 
bš¬y
 = 1;

717 
do_check
 = 
Œue
;

719 
STATUS_OPTION
:

720 
¡©us_Úly
 = 
Œue
;

721 
w¬n
 = 
çl£
;

722 
qu›t
 = 
çl£
;

725 
bš¬y
 = 0;

728 
¡©us_Úly
 = 
çl£
;

729 
w¬n
 = 
Œue
;

730 
qu›t
 = 
çl£
;

732 
QUIET_OPTION
:

733 
¡©us_Úly
 = 
çl£
;

734 
w¬n
 = 
çl£
;

735 
qu›t
 = 
Œue
;

737 
STRICT_OPTION
:

738 
¡riù
 = 
Œue
;

740 
TAG_OPTION
:

741 
´efix_g
 = 
Œue
;

742 
bš¬y
 = 1;

744 
ÿ£_GETOPT_HELP_CHAR
;

745 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

747 
	`u§ge
 (
EXIT_FAILURE
);

750 
mš_dige¡_lše_Ëngth
 = 
MIN_DIGEST_LINE_LENGTH
;

751 
dige¡_hex_by‹s
 = 
DIGEST_HEX_BYTES
;

753 ià(
´efix_g
 && !
bš¬y
)

760 
	`”rÜ
 (0, 0, 
	`_
("--tag does‚ot support --text mode"));

761 
	`u§ge
 (
EXIT_FAILURE
);

764 ià(
´efix_g
 && 
do_check
)

766 
	`”rÜ
 (0, 0, 
	`_
("the --tag option is meaningless when "

768 
	`u§ge
 (
EXIT_FAILURE
);

771 ià(0 <ğ
bš¬y
 && 
do_check
)

773 
	`”rÜ
 (0, 0, 
	`_
("the --binary‡nd --text options‡re meaningless when "

775 
	`u§ge
 (
EXIT_FAILURE
);

778 ià(
¡©us_Úly
 && !
do_check
)

780 
	`”rÜ
 (0, 0,

781 
	`_
("the --status option is meaningful only when verifying checksums"));

782 
	`u§ge
 (
EXIT_FAILURE
);

785 ià(
w¬n
 && !
do_check
)

787 
	`”rÜ
 (0, 0,

788 
	`_
("the --warn option is meaningful only when verifying checksums"));

789 
	`u§ge
 (
EXIT_FAILURE
);

792 ià(
qu›t
 && !
do_check
)

794 
	`”rÜ
 (0, 0,

795 
	`_
("the --quiet option is meaningful only when verifying checksums"));

796 
	`u§ge
 (
EXIT_FAILURE
);

799 ià(
¡riù
 & !
do_check
)

801 
	`”rÜ
 (0, 0,

802 
	`_
("the --strict option is meaningful only when verifying checksums"));

803 
	`u§ge
 (
EXIT_FAILURE
);

806 ià(!
O_BINARY
 && 
bš¬y
 < 0)

807 
bš¬y
 = 0;

809 ià(
İtšd
 =ğ
¬gc
)

810 
¬gv
[
¬gc
++] = 
	`bad_ÿ¡
 ("-");

812 ; 
İtšd
 < 
¬gc
; ++optind)

814 *
fe
 = 
¬gv
[
İtšd
];

816 ià(
do_check
)

817 
ok
 &ğ
	`dige¡_check
 (
fe
);

820 
fe_is_bš¬y
 = 
bš¬y
;

822 ià(! 
	`dige¡_fe
 (
fe
, &
fe_is_bš¬y
, 
bš_bufãr
))

823 
ok
 = 
çl£
;

826 ià(
´efix_g
)

828 ià(
	`¡rchr
 (
fe
, '\n') || strchr (file, '\\'))

829 
	`putch¬
 ('\\');

831 
	`åuts
 (
DIGEST_TYPE_STRING
, 
¡dout
);

832 
	`åuts
 (" (", 
¡dout
);

833 
	`´št_f’ame
 (
fe
);

834 
	`åuts
 ("èğ", 
¡dout
);

837 
size_t
 
i
;

841 ià(!
´efix_g
 && (
	`¡rchr
 (
fe
, '\n') || strchr (file, '\\')))

842 
	`putch¬
 ('\\');

844 
i
 = 0; i < (
dige¡_hex_by‹s
 / 2); ++i)

845 
	`´štf
 ("%02x", 
bš_bufãr
[
i
]);

847 ià(!
´efix_g
)

849 
	`putch¬
 (' ');

851 
	`putch¬
 (
fe_is_bš¬y
 ? '*' : ' ');

853 
	`´št_f’ame
 (
fe
);

856 
	`putch¬
 ('\n');

861 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

862 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard input"));

864 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

865 
	}
}

	@mkdir.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<£lšux/£lšux.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"mkdœ-p.h
"

28 
	~"modechªge.h
"

29 
	~"´og-årštf.h
"

30 
	~"quÙe.h
"

31 
	~"§vewd.h
"

34 
	#PROGRAM_NAME
 "mkdœ"

	)

36 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

38 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

40 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

41 {"mode", 
»quœed_¬gum’t
, 
NULL
, 'm'},

42 {"·»Ás", 
no_¬gum’t
, 
NULL
, 'p'},

43 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

44 {
GETOPT_HELP_OPTION_DECL
},

45 {
GETOPT_VERSION_OPTION_DECL
},

46 {
NULL
, 0, NULL, 0}

50 
	$u§ge
 (
¡©us
)

52 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

53 
	`em™_Œy_h–p
 ();

56 
	`´štf
 (
	`_
("U§ge: % [OPTION]... DIRECTORY...\n"), 
´og¿m_Çme
);

57 
	`åuts
 (
	`_
("\
hDIRECTORY(›s), iàthey dØnÙ‡Ì—dyƒxi¡.\n\
"), 
¡dout
);

61 
	`em™_mªd©Üy_¬g_nÙe
 ();

63 
	`åuts
 (
	`_
("\
-m, --mode=MODE s‘ fmod× š chmod),‚Ù‡ôwx - umask\n\
-p, --·»Á ‚Ø”rÜ iàexi¡šg, mak·»Á dœeùÜ› a Ãeded\n\
-v, --v”bo£…ršˆ¨mes§gfÜƒach c»©ed dœeùÜy\n\
-Z, --cÚ‹xt=CTX s‘hSELšux secur™y cÚ‹xˆoà—ch c»©ed\n\
ØCTX\n\
"), 
¡dout
);

70 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

71 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

72 
	`em™_ªcÏry_šfo
 ();

74 
	`ex™
 (
¡©us
);

75 
	}
}

78 
	smkdœ_İtiÚs


82 (*
	mmake_ªû¡Ü_funùiÚ
) (const *, const *, *);

85 
mode_t
 
	mªû¡Ü_mode
;

88 
mode_t
 
	mmode
;

91 
mode_t
 
	mmode_b™s
;

94 cÚ¡ *
	mü—‹d_dœeùÜy_fÜm©
;

99 
	$ªnounû_mkdœ
 (cÚ¡ *
dœ
, *
İtiÚs
)

101 
mkdœ_İtiÚs
 cÚ¡ *
o
 = 
İtiÚs
;

102 ià(
o
->
ü—‹d_dœeùÜy_fÜm©
)

103 
	`´og_årštf
 (
¡dout
, 
o
->
ü—‹d_dœeùÜy_fÜm©
, 
	`quÙe
 (
dœ
));

104 
	}
}

112 
	$make_ªû¡Ü
 (cÚ¡ *
dœ
, cÚ¡ *
compÚ’t
, *
İtiÚs
)

114 
mkdœ_İtiÚs
 cÚ¡ *
o
 = 
İtiÚs
;

115 
r
 = 
	`mkdœ
 (
compÚ’t
, 
o
->
ªû¡Ü_mode
);

116 ià(
r
 == 0)

118 
r
 = ! (
o
->
ªû¡Ü_mode
 & 
S_IRUSR
);

119 
	`ªnounû_mkdœ
 (
dœ
, 
İtiÚs
);

121  
r
;

122 
	}
}

126 
	$´oûss_dœ
 (*
dœ
, 
§vewd
 *
wd
, *
İtiÚs
)

128 
mkdœ_İtiÚs
 cÚ¡ *
o
 = 
İtiÚs
;

129  (
	`make_dœ_·»Ás
 (
dœ
, 
wd
, 
o
->
make_ªû¡Ü_funùiÚ
, 
İtiÚs
,

130 
o
->
mode
, 
ªnounû_mkdœ
,

131 
o
->
mode_b™s
, (
uid_t
è-1, (
gid_t
è-1, 
Œue
)

132 ? 
EXIT_SUCCESS


133 : 
EXIT_FAILURE
);

134 
	}
}

137 
	$maš
 (
¬gc
, **
¬gv
)

139 cÚ¡ *
¥ecif›d_mode
 = 
NULL
;

140 
İtc
;

141 
£cur™y_cÚ‹xt_t
 
scÚ‹xt
 = 
NULL
;

142 
mkdœ_İtiÚs
 
İtiÚs
;

144 
İtiÚs
.
make_ªû¡Ü_funùiÚ
 = 
NULL
;

145 
İtiÚs
.
mode
 = 
S_IRWXUGO
;

146 
İtiÚs
.
mode_b™s
 = 0;

147 
İtiÚs
.
ü—‹d_dœeùÜy_fÜm©
 = 
NULL
;

149 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

150 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

151 
	`£oÿË
 (
LC_ALL
, "");

152 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

153 
	`‹xtdomaš
 (
PACKAGE
);

155 
	`©ex™
 (
şo£_¡dout
);

157 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "pm:vZ:", 
lÚgİts
, 
NULL
)) != -1)

159 
İtc
)

162 
İtiÚs
.
make_ªû¡Ü_funùiÚ
 = 
make_ªû¡Ü
;

165 
¥ecif›d_mode
 = 
İrg
;

168 
İtiÚs
.
ü—‹d_dœeùÜy_fÜm©
 = 
	`_
("created directory %s");

171 
scÚ‹xt
 = 
İrg
;

173 
ÿ£_GETOPT_HELP_CHAR
;

174 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

176 
	`u§ge
 (
EXIT_FAILURE
);

180 ià(
İtšd
 =ğ
¬gc
)

182 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

183 
	`u§ge
 (
EXIT_FAILURE
);

186 ià(
scÚ‹xt
 && 
	`£tfsü—‹cÚ
 (scontext) < 0)

187 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

188 
	`_
("failedo set default file creation contexto %s"),

189 
	`quÙe
 (
scÚ‹xt
));

191 ià(
İtiÚs
.
make_ªû¡Ü_funùiÚ
 || 
¥ecif›d_mode
)

193 
mode_t
 
umask_v®ue
 = 
	`umask
 (0);

195 
İtiÚs
.
ªû¡Ü_mode
 = (
S_IRWXUGO
 & ~
umask_v®ue
è| (
S_IWUSR
 | 
S_IXUSR
);

197 ià(
¥ecif›d_mode
)

199 
mode_chªge
 *
chªge
 = 
	`mode_compe
 (
¥ecif›d_mode
);

200 ià(!
chªge
)

201 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode %s"),

202 
	`quÙe
 (
¥ecif›d_mode
));

203 
İtiÚs
.
mode
 = 
	`mode_adju¡
 (
S_IRWXUGO
, 
Œue
, 
umask_v®ue
, 
chªge
,

204 &
İtiÚs
.
mode_b™s
);

205 
	`ä“
 (
chªge
);

208 
İtiÚs
.
mode
 = 
S_IRWXUGO
 & ~
umask_v®ue
;

211 
	`ex™
 (
	`§vewd_´oûss_fes
 (
¬gc
 - 
İtšd
, 
¬gv
 + optind,

212 
´oûss_dœ
, &
İtiÚs
));

213 
	}
}

	@mkfifo.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<£lšux/£lšux.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"modechªge.h
"

28 
	~"quÙe.h
"

31 
	#PROGRAM_NAME
 "mkfifo"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

35 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

37 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

38 {"mode", 
»quœed_¬gum’t
, 
NULL
, 'm'},

39 {
GETOPT_HELP_OPTION_DECL
},

40 {
GETOPT_VERSION_OPTION_DECL
},

41 {
NULL
, 0, NULL, 0}

45 
	$u§ge
 (
¡©us
)

47 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

48 
	`em™_Œy_h–p
 ();

51 
	`´štf
 (
	`_
("U§ge: % [OPTION]... NAME...\n"), 
´og¿m_Çme
);

52 
	`åuts
 (
	`_
("\
‚amed…e (FIFOsèw™hhgiv’ NAMEs.\n\
"), 
¡dout
);

56 
	`em™_mªd©Üy_¬g_nÙe
 ();

58 
	`åuts
 (
	`_
("\
-m, --mode=MODE s‘ f³rmissiÚ b™ tØMODE,‚Ù‡ôw - umask\n\
"), 
¡dout
);

61 
	`åuts
 (
	`_
("\
-Z, --cÚ‹xt=CTX s‘hSELšux secur™y cÚ‹xˆoà—ch NAMEØCTX\n\
"), 
¡dout
);

64 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

65 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

66 
	`em™_ªcÏry_šfo
 ();

68 
	`ex™
 (
¡©us
);

69 
	}
}

72 
	$maš
 (
¬gc
, **
¬gv
)

74 
mode_t
 
Ãwmode
;

75 cÚ¡ *
¥ecif›d_mode
 = 
NULL
;

76 
ex™_¡©us
 = 
EXIT_SUCCESS
;

77 
İtc
;

78 
£cur™y_cÚ‹xt_t
 
scÚ‹xt
 = 
NULL
;

80 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

81 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

82 
	`£oÿË
 (
LC_ALL
, "");

83 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

84 
	`‹xtdomaš
 (
PACKAGE
);

86 
	`©ex™
 (
şo£_¡dout
);

88 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "m:Z:", 
lÚgİts
, 
NULL
)) != -1)

90 
İtc
)

93 
¥ecif›d_mode
 = 
İrg
;

96 
scÚ‹xt
 = 
İrg
;

98 
ÿ£_GETOPT_HELP_CHAR
;

99 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

101 
	`u§ge
 (
EXIT_FAILURE
);

105 ià(
İtšd
 =ğ
¬gc
)

107 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

108 
	`u§ge
 (
EXIT_FAILURE
);

111 ià(
scÚ‹xt
 && 
	`£tfsü—‹cÚ
 (scontext) < 0)

112 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

113 
	`_
("failedo set default file creation contexto %s"),

114 
	`quÙe
 (
scÚ‹xt
));

116 
Ãwmode
 = 
MODE_RW_UGO
;

117 ià(
¥ecif›d_mode
)

119 
mode_chªge
 *
chªge
 = 
	`mode_compe
 (
¥ecif›d_mode
);

120 ià(!
chªge
)

121 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode"));

122 
Ãwmode
 = 
	`mode_adju¡
 (Ãwmode, 
çl£
, 
	`umask
 (0), 
chªge
, 
NULL
);

123 
	`ä“
 (
chªge
);

124 ià(
Ãwmode
 & ~
S_IRWXUGO
)

125 
	`”rÜ
 (
EXIT_FAILURE
, 0,

126 
	`_
("mode must specify only file…ermission bits"));

129 ; 
İtšd
 < 
¬gc
; ++optind)

130 ià(
	`mkfifo
 (
¬gv
[
İtšd
], 
Ãwmode
) != 0)

132 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ c»©fifØ%s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

133 
ex™_¡©us
 = 
EXIT_FAILURE
;

136 
	`ex™
 (
ex™_¡©us
);

137 
	}
}

	@mknod.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<£lšux/£lšux.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"modechªge.h
"

28 
	~"quÙe.h
"

29 
	~"x¡¹Ş.h
"

32 
	#PROGRAM_NAME
 "mknod"

	)

34 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

36 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

38 {
GETOPT_SELINUX_CONTEXT_OPTION_DECL
},

39 {"mode", 
»quœed_¬gum’t
, 
NULL
, 'm'},

40 {
GETOPT_HELP_OPTION_DECL
},

41 {
GETOPT_VERSION_OPTION_DECL
},

42 {
NULL
, 0, NULL, 0}

46 
	$u§ge
 (
¡©us
)

48 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

49 
	`em™_Œy_h–p
 ();

52 
	`´štf
 (
	`_
("Usage: %s [OPTION]... NAME TYPE [MAJOR MINOR]\n"),

53 
´og¿m_Çme
);

54 
	`åuts
 (
	`_
("\
h¥ecŸÈfNAME oàthgiv’ TYPE.\n\
"), 
¡dout
);

58 
	`em™_mªd©Üy_¬g_nÙe
 ();

60 
	`åuts
 (
	`_
("\
-m, --mode=MODE s‘ f³rmissiÚ b™ tØMODE,‚Ù‡ôw - umask\n\
"), 
¡dout
);

63 
	`åuts
 (
	`_
("\
-Z, --cÚ‹xt=CTX s‘hSELšux secur™y cÚ‹xˆoàNAMEØCTX\n\
"), 
¡dout
);

66 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

67 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

68 
	`åuts
 (
	`_
("\
\n\
 MAJOR‡nd MINOR mu¡ b¥ecif›d wh’ TYPE i b, c, o¸u,‡ndhey\n\
 bom™‹d wh’ TYPE i p. IàMAJOR o¸MINOR begš w™h 0x o¸0X,\n\
 i š‹½»‹d‡ hexadecim®; oth”wi£, ià™ begš w™h 0,‡ où®;\n\
,‡ decim®. TYPE may be:\n\
"), 
¡dout
);

75 
	`åuts
 (
	`_
("\
\n\
 c»©¨block (bufã»dè¥ecŸÈfe\n\
, u c»©¨ch¬aù” (unbufã»dè¥ecŸÈfe\n\
 c»©¨FIFO\n\
"), 
¡dout
);

81 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

82 
	`em™_ªcÏry_šfo
 ();

84 
	`ex™
 (
¡©us
);

85 
	}
}

88 
	$maš
 (
¬gc
, **
¬gv
)

90 
mode_t
 
Ãwmode
;

91 cÚ¡ *
¥ecif›d_mode
 = 
NULL
;

92 
İtc
;

93 
ex³ùed_İ”ªds
;

94 
mode_t
 
node_ty³
;

95 
£cur™y_cÚ‹xt_t
 
scÚ‹xt
 = 
NULL
;

97 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

98 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

99 
	`£oÿË
 (
LC_ALL
, "");

100 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

101 
	`‹xtdomaš
 (
PACKAGE
);

103 
	`©ex™
 (
şo£_¡dout
);

105 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "m:Z:", 
lÚgİts
, 
NULL
)) != -1)

107 
İtc
)

110 
¥ecif›d_mode
 = 
İrg
;

113 
scÚ‹xt
 = 
İrg
;

115 
ÿ£_GETOPT_HELP_CHAR
;

116 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

118 
	`u§ge
 (
EXIT_FAILURE
);

122 
Ãwmode
 = 
MODE_RW_UGO
;

123 ià(
¥ecif›d_mode
)

125 
mode_chªge
 *
chªge
 = 
	`mode_compe
 (
¥ecif›d_mode
);

126 ià(!
chªge
)

127 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid mode"));

128 
Ãwmode
 = 
	`mode_adju¡
 (Ãwmode, 
çl£
, 
	`umask
 (0), 
chªge
, 
NULL
);

129 
	`ä“
 (
chªge
);

130 ià(
Ãwmode
 & ~
S_IRWXUGO
)

131 
	`”rÜ
 (
EXIT_FAILURE
, 0,

132 
	`_
("mode must specify only file…ermission bits"));

138 
ex³ùed_İ”ªds
 = (
¬gc
 <ğ
İtšd


139 || (
İtšd
 + 1 < 
¬gc
 && 
¬gv
[optind + 1][0] == 'p')

142 ià(
¬gc
 - 
İtšd
 < 
ex³ùed_İ”ªds
)

144 ià(
¬gc
 <ğ
İtšd
)

145 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

147 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

148 ià(
ex³ùed_İ”ªds
 =ğ4 && 
¬gc
 - 
İtšd
 == 2)

149 
	`årštf
 (
¡d”r
, "%s\n",

150 
	`_
("Special files„equire major‡nd minor device‚umbers."));

151 
	`u§ge
 (
EXIT_FAILURE
);

154 ià(
ex³ùed_İ”ªds
 < 
¬gc
 - 
İtšd
)

156 
	`”rÜ
 (0, 0, 
	`_
("extra operand %s"),

157 
	`quÙe
 (
¬gv
[
İtšd
 + 
ex³ùed_İ”ªds
]));

158 ià(
ex³ùed_İ”ªds
 =ğ2 && 
¬gc
 - 
İtšd
 == 4)

159 
	`årštf
 (
¡d”r
, "%s\n",

160 
	`_
("Fifos do‚ot have major‡nd minor device‚umbers."));

161 
	`u§ge
 (
EXIT_FAILURE
);

164 ià(
scÚ‹xt
 && 
	`£tfsü—‹cÚ
 (scontext) < 0)

165 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

166 
	`_
("failedo set default file creation contexto %s"),

167 
	`quÙe
 (
scÚ‹xt
));

172 
¬gv
[
İtšd
 + 1][0])

175 #iâdeà
S_IFBLK


176 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("block special files‚ot supported"));

178 
node_ty³
 = 
S_IFBLK
;

180 
block_Ü_ch¬aù”
;

184 #iâdeà
S_IFCHR


185 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("character special files‚ot supported"));

187 
node_ty³
 = 
S_IFCHR
;

189 
block_Ü_ch¬aù”
;

191 
block_Ü_ch¬aù”
:

193 cÚ¡ *
s_majÜ
 = 
¬gv
[
İtšd
 + 2];

194 cÚ¡ *
s_mšÜ
 = 
¬gv
[
İtšd
 + 3];

195 
uštmax_t
 
i_majÜ
, 
i_mšÜ
;

196 
dev_t
 
deviû
;

198 ià(
	`x¡¹oumax
 (
s_majÜ
, 
NULL
, 0, &
i_majÜ
, NULLè!ğ
LONGINT_OK


199 || 
i_majÜ
 !ğ(
majÜ_t
) i_major)

200 
	`”rÜ
 (
EXIT_FAILURE
, 0,

201 
	`_
("šv®id majÜ deviû‚umb” %s"), 
	`quÙe
 (
s_majÜ
));

203 ià(
	`x¡¹oumax
 (
s_mšÜ
, 
NULL
, 0, &
i_mšÜ
, NULLè!ğ
LONGINT_OK


204 || 
i_mšÜ
 !ğ(
mšÜ_t
) i_minor)

205 
	`”rÜ
 (
EXIT_FAILURE
, 0,

206 
	`_
("šv®id mšÜ deviû‚umb” %s"), 
	`quÙe
 (
s_mšÜ
));

208 
deviû
 = 
	`makedev
 (
i_majÜ
, 
i_mšÜ
);

209 #ifdeà
NODEV


210 ià(
deviû
 =ğ
NODEV
)

211 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id deviû % %s"), 
s_majÜ
, 
s_mšÜ
);

214 ià(
	`mknod
 (
¬gv
[
İtšd
], 
Ãwmode
 | 
node_ty³
, 
deviû
) != 0)

215 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
¬gv
[
İtšd
]));

220 ià(
	`mkfifo
 (
¬gv
[
İtšd
], 
Ãwmode
) != 0)

221 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
¬gv
[
İtšd
]));

225 
	`”rÜ
 (0, 0, 
	`_
("šv®id deviûy³ %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

226 
	`u§ge
 (
EXIT_FAILURE
);

229 
	`ex™
 (
EXIT_SUCCESS
);

230 
	}
}

	@mktemp.c

19 
	~<cÚfig.h
>

20 
	~<sys/ty³s.h
>

21 
	~<g‘İt.h
>

23 
	~"sy¡em.h
"

25 
	~"şo£-¡»am.h
"

26 
	~"”rÜ.h
"

27 
	~"f’ameÿt.h
"

28 
	~"quÙe.h
"

29 
	~"¡dio--.h
"

30 
	~"‹m²ame.h
"

33 
	#PROGRAM_NAME
 "mk‹mp"

	)

35 
	#AUTHORS
 \

36 
	`´İ”_Çme
 ("Jim Meyering"), \

37 
	`´İ”_Çme
 ("EriøBÏke")

	)

39 cÚ¡ *
	gdeçuÉ_‹m¶©e
 = "tmp.XXXXXXXXXX";

45 
	mSUFFIX_OPTION
 = 
CHAR_MAX
 + 1,

46 
	mTMPDIR_OPTION


49 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

51 {"dœeùÜy", 
no_¬gum’t
, 
NULL
, 'd'},

52 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

53 {"dry-run", 
no_¬gum’t
, 
NULL
, 'u'},

54 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 
SUFFIX_OPTION
},

55 {"tmpdœ", 
İtiÚ®_¬gum’t
, 
NULL
, 
TMPDIR_OPTION
},

56 {
GETOPT_HELP_OPTION_DECL
},

57 {
GETOPT_VERSION_OPTION_DECL
},

58 {
NULL
, 0, NULL, 0}

62 
	$u§ge
 (
¡©us
)

64 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

65 
	`em™_Œy_h–p
 ();

68 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [TEMPLATE]\n"), 
´og¿m_Çme
);

69 
	`åuts
 (
	`_
("\
‡empÜ¬y fÜ dœeùÜy, saãly,‡nd…ršˆ™ Çme.\n\
 mu¡ cÚš‡ˆËa¡ 3 cÚ£cutiv'X' š†a¡ compÚ’t.\n\
 TEMPLATE i nÙ s³cif›d, u£mp.XXXXXXXXXX,‡nd --tmpdœ i im¶›d.\n\
"), 
¡dout
);

74 
	`åuts
 (
	`_
("\
‡» c»©ed u+rw,‡nd dœeùÜ› u+rwx, mšu umask„e¡riùiÚs.\n\
"), 
¡dout
);

77 
	`åuts
 ("\n", 
¡dout
);

78 
	`åuts
 (
	`_
("\
-d, --dœeùÜy c»©¨dœeùÜy,‚Ù‡ fe\n\
-u, --dry-ruÀ dØnÙ c»©ªythšg; m”–y…ršˆ¨Çm(un§ã)\n\
-q, --qu›ˆ suµ»s dŸgno¡ic abouˆfe/dœ-ü—tiÚ fau»\n\
"), 
¡dout
);

83 
	`åuts
 (
	`_
("\
--suffix=SUFF‡µ’d SUFFØTEMPLATE. SUFF mu¡‚Ù cÚš sÏsh.\n\
 o±iÚ i im¶›d iàTEMPLATE dÛ nÙƒnd iÀX.\n\
"), 
¡dout
);

87 
	`åuts
 (
	`_
("\
--tmpdœ[=DIR] iÁ”´‘ TEMPLATE„–©ivtØDIR. IàDIR i nÙ\n\
, u£ $TMPDIR ià£t,ƒl£ /tmp. W™h\n\
 o±iÚ, TEMPLATE mu¡‚Ù bª‡bsŞu‹‚ame.\n\
 w™h -t, TEMPLATE may cÚš sÏshes, but\n\
 c»©e Úlyhfš® compÚ’t\n\
"), 
¡dout
);

94 
	`åuts
 ("\n", 
¡dout
);

95 
	`åuts
 (
	`_
("\
-°DIR u£ DIR‡ ¨´efix; im¶› -ˆ[d•»ÿ‹d]\n\
-ˆ iÁ”´‘ TEMPLATE‡ ¨sšgË fÇmcompÚ’t,\n\
Ø¨dœeùÜy: $TMPDIR, ià£t;ƒl£he\n\
 s³cif›d vŸ -p;ƒl£ /tm°[d•»ÿ‹d]\n\
"), 
¡dout
);

101 
	`åuts
 ("\n", 
¡dout
);

102 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

103 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

104 
	`em™_ªcÏry_šfo
 ();

107 
	`ex™
 (
¡©us
);

108 
	}
}

110 
size_t


111 
	$couÁ_cÚ£cutive_X_s
 (cÚ¡ *
s
, 
size_t
 
Ën
)

113 
size_t
 
n
 = 0;

114  ; 
Ën
 && 
s
[len-1] == 'X';†en--)

115 ++
n
;

116  
n
;

117 
	}
}

120 
	$mk¡emp_Ën
 (*
tm¶
, 
size_t
 
suff_Ën
, size_ˆ
x_Ën
, 
boŞ
 
dry_run
)

122  
	`g’_‹m²ame_Ën
 (
tm¶
, 
suff_Ën
, 0, 
dry_run
 ? 
GT_NOCREATE
 : 
GT_FILE
,

123 
x_Ën
);

124 
	}
}

127 
	$mkd‹mp_Ën
 (*
tm¶
, 
size_t
 
suff_Ën
, size_ˆ
x_Ën
, 
boŞ
 
dry_run
)

129  
	`g’_‹m²ame_Ën
 (
tm¶
, 
suff_Ën
, 0, 
dry_run
 ? 
GT_NOCREATE
 : 
GT_DIR
,

130 
x_Ën
);

131 
	}
}

134 
boŞ
 
	g¡dout_şo£d
;

141 
	$maybe_şo£_¡dout
 ()

143 ià(!
¡dout_şo£d
)

144 
	`şo£_¡dout
 ();

145 ià(
	`şo£_¡»am
 (
¡d”r
) != 0)

146 
	`_ex™
 (
EXIT_FAILURE
);

147 
	}
}

150 
	$maš
 (
¬gc
, **
¬gv
)

152 cÚ¡ *
de¡_dœ
;

153 cÚ¡ *
de¡_dœ_¬g
 = 
NULL
;

154 
boŞ
 
suµ»ss_¡d”r
 = 
çl£
;

155 
c
;

156 
n_¬gs
;

157 *
‹m¶©e
;

158 *
suffix
 = 
NULL
;

159 
boŞ
 
u£_de¡_dœ
 = 
çl£
;

160 
boŞ
 
d•»ÿ‹d_t_İtiÚ
 = 
çl£
;

161 
boŞ
 
ü—‹_dœeùÜy
 = 
çl£
;

162 
boŞ
 
dry_run
 = 
çl£
;

163 
¡©us
 = 
EXIT_SUCCESS
;

164 
size_t
 
x_couÁ
;

165 
size_t
 
suffix_Ën
;

166 *
de¡_Çme
;

168 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

169 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

170 
	`£oÿË
 (
LC_ALL
, "");

171 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

172 
	`‹xtdomaš
 (
PACKAGE
);

174 
	`©ex™
 (
maybe_şo£_¡dout
);

176 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "dp:qtuV", 
lÚgİts
, 
NULL
)) != -1)

178 
c
)

181 
ü—‹_dœeùÜy
 = 
Œue
;

184 
de¡_dœ_¬g
 = 
İrg
;

185 
u£_de¡_dœ
 = 
Œue
;

188 
suµ»ss_¡d”r
 = 
Œue
;

191 
u£_de¡_dœ
 = 
Œue
;

192 
d•»ÿ‹d_t_İtiÚ
 = 
Œue
;

195 
dry_run
 = 
Œue
;

198 
TMPDIR_OPTION
:

199 
u£_de¡_dœ
 = 
Œue
;

200 
de¡_dœ_¬g
 = 
İrg
;

203 
SUFFIX_OPTION
:

204 
suffix
 = 
İrg
;

207 
ÿ£_GETOPT_HELP_CHAR
;

211 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

213 
	`u§ge
 (
EXIT_FAILURE
);

217 ià(
suµ»ss_¡d”r
)

221 ià(!
	`äeİ’
 ("/dev/nuÎ", "wb", 
¡d”r
))

222 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

223 
	`_
("failedo„edirect stderro /dev/null"));

226 
n_¬gs
 = 
¬gc
 - 
İtšd
;

227 ià(2 <ğ
n_¬gs
)

229 
	`”rÜ
 (0, 0, 
	`_
("too manyemplates"));

230 
	`u§ge
 (
EXIT_FAILURE
);

233 ià(
n_¬gs
 == 0)

235 
u£_de¡_dœ
 = 
Œue
;

236 
‹m¶©e
 = (*è
deçuÉ_‹m¶©e
;

240 
‹m¶©e
 = 
¬gv
[
İtšd
];

243 ià(
suffix
)

245 
size_t
 
Ën
 = 
	`¡¾’
 (
‹m¶©e
);

246 ià(!
Ën
 || 
‹m¶©e
[len - 1] != 'X')

248 
	`”rÜ
 (
EXIT_FAILURE
, 0,

249 
	`_
("with --suffix,emplate %s mustƒnd in X"),

250 
	`quÙe
 (
‹m¶©e
));

252 
suffix_Ën
 = 
	`¡¾’
 (
suffix
);

253 
de¡_Çme
 = 
	`xch¬®loc
 (
Ën
 + 
suffix_Ën
 + 1);

254 
	`memıy
 (
de¡_Çme
, 
‹m¶©e
, 
Ën
);

255 
	`memıy
 (
de¡_Çme
 + 
Ën
, 
suffix
, 
suffix_Ën
 + 1);

256 
‹m¶©e
 = 
de¡_Çme
;

257 
suffix
 = 
de¡_Çme
 + 
Ën
;

261 
‹m¶©e
 = 
	`x¡rdup
 (template);

262 
suffix
 = 
	`¡¼chr
 (
‹m¶©e
, 'X');

263 ià(!
suffix
)

264 
suffix
 = 
	`¡rchr
 (
‹m¶©e
, '\0');

266 
suffix
++;

267 
suffix_Ën
 = 
	`¡¾’
 (
suffix
);

271 ià(
suffix_Ën
 && 
	`Ï¡_compÚ’t
 (
suffix
) != suffix)

273 
	`”rÜ
 (
EXIT_FAILURE
, 0,

274 
	`_
("invalid suffix %s, contains directory separator"),

275 
	`quÙe
 (
suffix
));

277 
x_couÁ
 = 
	`couÁ_cÚ£cutive_X_s
 (
‹m¶©e
, 
suffix
 -emplate);

278 ià(
x_couÁ
 < 3)

279 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("toØãw X' šem¶©%s"), 
	`quÙe
 (
‹m¶©e
));

281 ià(
u£_de¡_dœ
)

283 ià(
d•»ÿ‹d_t_İtiÚ
)

285 *
’v
 = 
	`g‘’v
 ("TMPDIR");

286 
de¡_dœ
 = (
’v
 && *env

287 ? 
’v


288 : (
de¡_dœ_¬g
 ? dest_dir_arg : "/tmp"));

290 ià(
	`Ï¡_compÚ’t
 (
‹m¶©e
) !=emplate)

291 
	`”rÜ
 (
EXIT_FAILURE
, 0,

292 
	`_
("invalidemplate, %s, contains directory separator"),

293 
	`quÙe
 (
‹m¶©e
));

297 ià(
de¡_dœ_¬g
 && *dest_dir_arg)

298 
de¡_dœ
 = 
de¡_dœ_¬g
;

301 *
’v
 = 
	`g‘’v
 ("TMPDIR");

302 
de¡_dœ
 = (
’v
 && *env ?ƒnv : "/tmp");

304 ià(
	`IS_ABSOLUTE_FILE_NAME
 (
‹m¶©e
))

305 
	`”rÜ
 (
EXIT_FAILURE
, 0,

306 
	`_
("invalidemplate, %s; with --tmpdir,"

308 
	`quÙe
 (
‹m¶©e
));

311 
de¡_Çme
 = 
	`fe_Çme_cÚÿt
 (
de¡_dœ
, 
‹m¶©e
, 
NULL
);

312 
	`ä“
 (
‹m¶©e
);

313 
‹m¶©e
 = 
de¡_Çme
;

319 
de¡_Çme
 = 
	`x¡rdup
 (
‹m¶©e
);

321 ià(
ü—‹_dœeùÜy
)

323 
”r
 = 
	`mkd‹mp_Ën
 (
de¡_Çme
, 
suffix_Ën
, 
x_couÁ
, 
dry_run
);

324 ià(
”r
 != 0)

326 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo create directory viaemplate %s"),

327 
	`quÙe
 (
‹m¶©e
));

328 
¡©us
 = 
EXIT_FAILURE
;

333 
fd
 = 
	`mk¡emp_Ën
 (
de¡_Çme
, 
suffix_Ën
, 
x_couÁ
, 
dry_run
);

334 ià(
fd
 < 0 || (!
dry_run
 && 
	`şo£
 (fd) != 0))

336 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo create file viaemplate %s"),

337 
	`quÙe
 (
‹m¶©e
));

338 
¡©us
 = 
EXIT_FAILURE
;

342 ià(
¡©us
 =ğ
EXIT_SUCCESS
)

344 
	`puts
 (
de¡_Çme
);

347 ià(!
dry_run
 && ((
¡dout_şo£d
 = 
Œue
), 
	`şo£_¡»am
 (
¡dout
) != 0))

349 
§ved_”ºo
 = 
”ºo
;

350 
	`»move
 (
de¡_Çme
);

351 
	`”rÜ
 (
EXIT_FAILURE
, 
§ved_”ºo
, 
	`_
("writeƒrror"));

355 #ifdeà
lšt


356 
	`ä“
 (
de¡_Çme
);

357 
	`ä“
 (
‹m¶©e
);

360 
	`ex™
 (
¡©us
);

361 
	}
}

	@mv.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<as£¹.h
>

24 
	~<£lšux/£lšux.h
>

26 
	~"sy¡em.h
"

27 
	~"backupfe.h
"

28 
	~"cİy.h
"

29 
	~"ı-hash.h
"

30 
	~"”rÜ.h
"

31 
	~"f’ameÿt.h
"

32 
	~"quÙe.h
"

33 
	~"»move.h
"

34 
	~"roÙ-dev-šo.h
"

35 
	~"´iv-£t.h
"

38 
	#PROGRAM_NAME
 "mv"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Mike Parker"), \

42 
	`´İ”_Çme
 ("David MacKenzie"), \

43 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

49 
	mSTRIP_TRAILING_SLASHES_OPTION
 = 
CHAR_MAX
 + 1

53 
boŞ
 
	g»move_Œašg_¦ashes
;

55 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

57 {"backup", 
İtiÚ®_¬gum’t
, 
NULL
, 'b'},

58 {"fÜû", 
no_¬gum’t
, 
NULL
, 'f'},

59 {"š‹¿ùive", 
no_¬gum’t
, 
NULL
, 'i'},

60 {"no-şobb”", 
no_¬gum’t
, 
NULL
, 'n'},

61 {"no-rg‘-dœeùÜy", 
no_¬gum’t
, 
NULL
, 'T'},

62 {"¡r-Œašg-¦ashes", 
no_¬gum’t
, 
NULL
, 
STRIP_TRAILING_SLASHES_OPTION
},

63 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 'S'},

64 {"rg‘-dœeùÜy", 
»quœed_¬gum’t
, 
NULL
, 't'},

65 {"upd©e", 
no_¬gum’t
, 
NULL
, 'u'},

66 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

73 
	$rm_İtiÚ_š™
 (
rm_İtiÚs
 *
x
)

75 
x
->
ignÜe_missšg_fes
 = 
çl£
;

76 
x
->
»move_em±y_dœeùÜ›s
 = 
Œue
;

77 
x
->
»cursive
 = 
Œue
;

78 
x
->
Úe_fe_sy¡em
 = 
çl£
;

82 
x
->
š‹¿ùive
 = 
RMI_NEVER
;

83 
x
->
¡dš_‰y
 = 
çl£
;

85 
x
->
v”bo£
 = 
çl£
;

91 
x
->
»quœe_»¡Üe_cwd
 = 
Œue
;

94 
dev_šo
 
dev_šo_buf
;

95 
x
->
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

96 ià(
x
->
roÙ_dev_šo
 =ğ
NULL
)

97 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

98 
	`quÙe
 ("/"));

100 
	}
}

103 
	$ı_İtiÚ_š™
 (
ı_İtiÚs
 *
x
)

105 
boŞ
 
£lšux_’abËd
 = (0 < 
	`is_£lšux_’abËd
 ());

107 
	`ı_İtiÚs_deçuÉ
 (
x
);

108 
x
->
cİy_as_»guÏr
 = 
çl£
;

109 
x
->
»æšk_mode
 = 
REFLINK_NEVER
;

110 
x
->
d”eã»nû
 = 
DEREF_NEVER
;

111 
x
->
uÆšk_de¡_befÜe_İ’šg
 = 
çl£
;

112 
x
->
uÆšk_de¡_aá”_çed_İ’
 = 
çl£
;

113 
x
->
h¬d_lšk
 = 
çl£
;

114 
x
->
š‹¿ùive
 = 
I_UNSPECIFIED
;

115 
x
->
move_mode
 = 
Œue
;

116 
x
->
Úe_fe_sy¡em
 = 
çl£
;

117 
x
->
´e£rve_owÃrsh
 = 
Œue
;

118 
x
->
´e£rve_lšks
 = 
Œue
;

119 
x
->
´e£rve_mode
 = 
Œue
;

120 
x
->
´e£rve_time¡amps
 = 
Œue
;

121 
x
->
ex¶ic™_no_´e£rve_mode
ğ
çl£
;

122 
x
->
´e£rve_£cur™y_cÚ‹xt
 = 
£lšux_’abËd
;

123 
x
->
»duû_dŸgno¡ics
 = 
çl£
;

124 
x
->
d©a_cİy_»quœed
 = 
Œue
;

125 
x
->
»quœe_´e£rve
 = 
çl£
;

126 
x
->
»quœe_´e£rve_cÚ‹xt
 = 
çl£
;

127 
x
->
´e£rve_x©Œ
 = 
Œue
;

128 
x
->
»quœe_´e£rve_x©Œ
 = 
çl£
;

129 
x
->
»cursive
 = 
Œue
;

130 
x
->
¥¬£_mode
 = 
SPARSE_AUTO
;

131 
x
->
symbŞic_lšk
 = 
çl£
;

132 
x
->
£t_mode
 = 
çl£
;

133 
x
->
mode
 = 0;

134 
x
->
¡dš_‰y
 = 
	`i§‰y
 (
STDIN_FILENO
);

136 
x
->
İ’_dªglšg_de¡_symlšk
 = 
çl£
;

137 
x
->
upd©e
 = 
çl£
;

138 
x
->
v”bo£
 = 
çl£
;

139 
x
->
de¡_šfo
 = 
NULL
;

140 
x
->
¤c_šfo
 = 
NULL
;

141 
	}
}

147 
boŞ


148 
	$rg‘_dœeùÜy_İ”ªd
 (cÚ¡ *
fe
)

150 
¡©
 
¡
;

151 
”r
 = (
	`¡©
 (
fe
, &
¡
è=ğ0 ? 0 : 
”ºo
);

152 
boŞ
 
is_a_dœ
 = !
”r
 && 
	`S_ISDIR
 (
¡
.
¡_mode
);

153 ià(
”r
 &&ƒ¼ !ğ
ENOENT
)

154 
	`”rÜ
 (
EXIT_FAILURE
, 
”r
, 
	`_
("çedØacûs %s"), 
	`quÙe
 (
fe
));

155  
is_a_dœ
;

156 
	}
}

162 
boŞ


163 
	$do_move
 (cÚ¡ *
sourû
, cÚ¡ *
de¡
, cÚ¡ 
ı_İtiÚs
 *
x
)

165 
boŞ
 
cİy_što_£lf
;

166 
boŞ
 
»Çme_sucûeded
;

167 
boŞ
 
ok
 = 
	`cİy
 (
sourû
, 
de¡
, 
çl£
, 
x
, &
cİy_što_£lf
, &
»Çme_sucûeded
);

169 ià(
ok
)

171 cÚ¡ *
dœ_to_»move
;

172 ià(
cİy_što_£lf
)

185 
dœ_to_»move
 = 
NULL
;

186 
ok
 = 
çl£
;

188 ià(
»Çme_sucûeded
)

192 
dœ_to_»move
 = 
NULL
;

218 
dœ_to_»move
 = 
sourû
;

221 ià(
dœ_to_»move
 !ğ
NULL
)

223 
rm_İtiÚs
„m_options;

224 
RM_¡©us
 
¡©us
;

225 cÚ¡ *
dœ
[2];

227 
	`rm_İtiÚ_š™
 (&
rm_İtiÚs
);

228 
rm_İtiÚs
.
v”bo£
 = 
x
->verbose;

229 
dœ
[0] = 
dœ_to_»move
;

230 
dœ
[1] = 
NULL
;

232 
¡©us
 = 
	`rm
 ((*è
dœ
, &
rm_İtiÚs
);

233 
	`as£¹
 (
	`VALID_STATUS
 (
¡©us
));

234 ià(
¡©us
 =ğ
RM_ERROR
)

235 
ok
 = 
çl£
;

239  
ok
;

240 
	}
}

246 
boŞ


247 
	$movefe
 (*
sourû
, *
de¡
, 
boŞ
 
de¡_is_dœ
,

248 cÚ¡ 
ı_İtiÚs
 *
x
)

250 
boŞ
 
ok
;

259 ià(
»move_Œašg_¦ashes
)

260 
	`¡r_Œašg_¦ashes
 (
sourû
);

262 ià(
de¡_is_dœ
)

265 cÚ¡ *
¤c_ba£Çme
 = 
	`Ï¡_compÚ’t
 (
sourû
);

266 *
Ãw_de¡
 = 
	`fe_Çme_cÚÿt
 (
de¡
, 
¤c_ba£Çme
, 
NULL
);

267 
	`¡r_Œašg_¦ashes
 (
Ãw_de¡
);

268 
ok
 = 
	`do_move
 (
sourû
, 
Ãw_de¡
, 
x
);

269 
	`ä“
 (
Ãw_de¡
);

273 
ok
 = 
	`do_move
 (
sourû
, 
de¡
, 
x
);

276  
ok
;

277 
	}
}

280 
	$u§ge
 (
¡©us
)

282 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

283 
	`em™_Œy_h–p
 ();

286 
	`´štf
 (
	`_
("\
: %s [OPTION]... [-T] SOURCE DEST\n\
: %s [OPTION]... SOURCE... DIRECTORY\n\
: %s [OPTION]... -t DIRECTORY SOURCE...\n\
"),

291 
´og¿m_Çme
,…rogram_name,…rogram_name);

292 
	`åuts
 (
	`_
("\
 SOURCEØDEST, o¸movSOURCE(sètØDIRECTORY.\n\
"), 
¡dout
);

296 
	`em™_mªd©Üy_¬g_nÙe
 ();

298 
	`åuts
 (
	`_
("\
--backup[=CONTROL] mak¨backu°oà—chƒxi¡šg de¡š©iÚ fe\
\n\
-b†ik--backu°buˆdÛ nÙ‡cû±‡À¬gum’t\n\
-f, --fÜû dØnÙ…rom± befÜov”wr™šg\n\
-i, --š‹¿ùiv…rom± befÜov”wr™e\n\
-n, --no-şobb” dØnÙ ov”wr™ªƒxi¡šg fe\n\
 you s³cify mÜthª oÃ oà-i, -f, -n, oÆyhfš® oÃake efãù.\n\
"), 
¡dout
);

307 
	`åuts
 (
	`_
("\
--¡r-Œašg-¦ashe „emovªy¿šg sÏshe äomƒach SOURCE\n\
\n\
-S, --suffix=SUFFIX ov”ridthusu® backu°suffix\n\
"), 
¡dout
);

312 
	`åuts
 (
	`_
("\
-t, --rg‘-dœeùÜy=DIRECTORY mov®ÈSOURCE‡rgum’t štØDIRECTORY\n\
-T, --no-rg‘-dœeùÜy»© DEST‡ ¨nÜm® fe\n\
-u, --upd© movÚly wh’hSOURCE fi Ãw”\n\
hde¡š©iÚ fÜ wh’he\n\
 fi missšg\n\
-v, --v”bo£ƒx¶aš wh© i bešg dÚe\n\
"), 
¡dout
);

320 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

321 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

322 
	`åuts
 (
	`_
("\
\n\
 backu°suffix i '~', uÆes £ˆw™h --suffix o¸SIMPLE_BACKUP_SUFFIX.\n\
 v”siÚ cÚŒŞ m‘hod may b£Ëùed vŸh--backu°İtiÚ o¸through\n\
 VERSION_CONTROLƒnvœÚm’ˆv¬ŸbË. H”¬thv®ues:\n\
\n\
"), 
¡dout
);

329 
	`åuts
 (
	`_
("\
, ofà‚ev” makbackup Óv’ ià--backu°i giv’)\n\
, maknumb”ed backups\n\
,‚‚umb”ed iànumb”ed backup exi¡, sim¶Ùh”wi£\n\
,‚ev”‡lway maksim¶backups\n\
"), 
¡dout
);

335 
	`em™_ªcÏry_šfo
 ();

337 
	`ex™
 (
¡©us
);

338 
	}
}

341 
	$maš
 (
¬gc
, **
¬gv
)

343 
c
;

344 
boŞ
 
ok
;

345 
boŞ
 
make_backups
 = 
çl£
;

346 *
backup_suffix_¡ršg
;

347 *
v”siÚ_cÚŒŞ_¡ršg
 = 
NULL
;

348 
ı_İtiÚs
 
x
;

349 *
rg‘_dœeùÜy
 = 
NULL
;

350 
boŞ
 
no_rg‘_dœeùÜy
 = 
çl£
;

351 
n_fes
;

352 **
fe
;

354 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

355 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

356 
	`£oÿË
 (
LC_ALL
, "");

357 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

358 
	`‹xtdomaš
 (
PACKAGE
);

360 
	`©ex™
 (
şo£_¡dš
);

362 
	`ı_İtiÚ_š™
 (&
x
);

365 
	`´iv_£t_»move_lškdœ
 ();

369 
backup_suffix_¡ršg
 = 
	`g‘’v
 ("SIMPLE_BACKUP_SUFFIX");

371 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "bfšt:uvS:T", 
lÚg_İtiÚs
, 
NULL
))

374 
c
)

377 
make_backups
 = 
Œue
;

378 ià(
İrg
)

379 
v”siÚ_cÚŒŞ_¡ršg
 = 
İrg
;

382 
x
.
š‹¿ùive
 = 
I_ALWAYS_YES
;

385 
x
.
š‹¿ùive
 = 
I_ASK_USER
;

388 
x
.
š‹¿ùive
 = 
I_ALWAYS_NO
;

390 
STRIP_TRAILING_SLASHES_OPTION
:

391 
»move_Œašg_¦ashes
 = 
Œue
;

394 ià(
rg‘_dœeùÜy
)

395 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiplearget directories specified"));

398 
¡©
 
¡
;

399 ià(
	`¡©
 (
İrg
, &
¡
) != 0)

400 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo‡ccess %s"),

401 
	`quÙe
 (
İrg
));

402 ià(! 
	`S_ISDIR
 (
¡
.
¡_mode
))

403 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

404 
	`quÙe
 (
İrg
));

406 
rg‘_dœeùÜy
 = 
İrg
;

409 
no_rg‘_dœeùÜy
 = 
Œue
;

412 
x
.
upd©e
 = 
Œue
;

415 
x
.
v”bo£
 = 
Œue
;

418 
make_backups
 = 
Œue
;

419 
backup_suffix_¡ršg
 = 
İrg
;

421 
ÿ£_GETOPT_HELP_CHAR
;

422 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

424 
	`u§ge
 (
EXIT_FAILURE
);

428 
n_fes
 = 
¬gc
 - 
İtšd
;

429 
fe
 = 
¬gv
 + 
İtšd
;

431 ià(
n_fes
 <ğ!
rg‘_dœeùÜy
)

433 ià(
n_fes
 <= 0)

434 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

436 
	`”rÜ
 (0, 0, 
	`_
("missing destination file operand‡fter %s"),

437 
	`quÙe
 (
fe
[0]));

438 
	`u§ge
 (
EXIT_FAILURE
);

441 ià(
no_rg‘_dœeùÜy
)

443 ià(
rg‘_dœeùÜy
)

444 
	`”rÜ
 (
EXIT_FAILURE
, 0,

445 
	`_
("cannot combine --target-directory (-t) "

447 ià(2 < 
n_fes
)

449 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
fe
[2]));

450 
	`u§ge
 (
EXIT_FAILURE
);

453 ià(!
rg‘_dœeùÜy
)

455 
	`as£¹
 (2 <ğ
n_fes
);

456 ià(
	`rg‘_dœeùÜy_İ”ªd
 (
fe
[
n_fes
 - 1]))

457 
rg‘_dœeùÜy
 = 
fe
[--
n_fes
];

458 ià(2 < 
n_fes
)

459 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("target %s is‚ot‡ directory"),

460 
	`quÙe
 (
fe
[
n_fes
 - 1]));

463 ià(
make_backups
 && 
x
.
š‹¿ùive
 =ğ
I_ALWAYS_NO
)

465 
	`”rÜ
 (0, 0,

466 
	`_
("options --backup‡nd --no-clobber‡re mutuallyƒxclusive"));

467 
	`u§ge
 (
EXIT_FAILURE
);

470 ià(
backup_suffix_¡ršg
)

471 
sim¶e_backup_suffix
 = 
	`x¡rdup
 (
backup_suffix_¡ršg
);

473 
x
.
backup_ty³
 = (
make_backups


474 ? 
	`xg‘_v”siÚ
 (
	`_
("backupype"),

475 
v”siÚ_cÚŒŞ_¡ršg
)

476 : 
no_backups
);

478 
	`hash_š™
 ();

480 ià(
rg‘_dœeùÜy
)

482 
i
;

487 ià(2 <ğ
n_fes
)

488 
	`de¡_šfo_š™
 (&
x
);

490 
ok
 = 
Œue
;

491 
i
 = 0; i < 
n_fes
; ++i)

492 
ok
 &ğ
	`movefe
 (
fe
[
i
], 
rg‘_dœeùÜy
, 
Œue
, &
x
);

495 
ok
 = 
	`movefe
 (
fe
[0], fe[1], 
çl£
, &
x
);

497 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

498 
	}
}

	@nice.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

26 #ià! 
HAVE_NICE


29 
	~<sys/»sourû.h
>

32 
	~"”rÜ.h
"

33 
	~"quÙe.h
"

34 
	~"x¡¹Ş.h
"

37 
	#PROGRAM_NAME
 "niû"

	)

39 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

41 #ià
HAVE_NICE


42 
	#GET_NICENESS
(è
	`niû
 (0)

	)

44 
	#GET_NICENESS
(è
	`g‘´iÜ™y
 (
PRIO_PROCESS
, 0)

	)

47 #iâdeà
NZERO


48 
	#NZERO
 20

	)

52 #ià
NZERO
 == 0

53 #undeà
NZERO


54 
	#NZERO
 20

	)

57 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

59 {"adju¡m’t", 
»quœed_¬gum’t
, 
NULL
, 'n'},

60 {
GETOPT_HELP_OPTION_DECL
},

61 {
GETOPT_VERSION_OPTION_DECL
},

62 {
NULL
, 0, NULL, 0}

66 
	$u§ge
 (
¡©us
)

68 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

69 
	`em™_Œy_h–p
 ();

72 
	`´štf
 (
	`_
("U§ge: % [OPTION] [COMMAND [ARG]...]\n"), 
´og¿m_Çme
);

73 
	`´štf
 (
	`_
("\
 COMMAND with‡n‡djusted‚iceness, which‡ffects…rocess scheduling.\n\
‚o COMMAND,…rinthe current‚iceness. Niceness values„ange from\n\
%d (most favorableohe…rocess)o %d (least favorableohe…rocess).\n\
"),

78 - 
NZERO
, NZERO - 1);

80 
	`em™_mªd©Üy_¬g_nÙe
 ();

82 
	`åuts
 (
	`_
("\
-n, --adju¡m’t=N‡dd iÁeg” NØthniûÃs (deçuÉ 10)\n\
"), 
¡dout
);

85 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

86 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

87 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

88 
	`em™_ªcÏry_šfo
 ();

90 
	`ex™
 (
¡©us
);

91 
	}
}

93 
boŞ


94 
	$³rm_»Ï‹d_”ºo
 (
”r
)

96  
”r
 =ğ
EACCES
 ||ƒ¼ =ğ
EPERM
;

97 
	}
}

100 
	$maš
 (
¬gc
, **
¬gv
)

102 
cu¼’t_niûÃss
;

103 
adju¡m’t
 = 10;

104 cÚ¡ *
adju¡m’t_giv’
 = 
NULL
;

105 
boŞ
 
ok
;

106 
i
;

108 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

109 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

110 
	`£oÿË
 (
LC_ALL
, "");

111 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

112 
	`‹xtdomaš
 (
PACKAGE
);

114 
	`š™Ÿlize_ex™_çu»
 (
EXIT_CANCELED
);

115 
	`©ex™
 (
şo£_¡dout
);

117 
i
 = 1; i < 
¬gc
; )

119 cÚ¡ *
s
 = 
¬gv
[
i
];

121 ià(
s
[0] =ğ'-' && 
	`ISDIGIT
 (s[1 + (s[1] == '-' || s[1] == '+')]))

123 
adju¡m’t_giv’
 = 
s
 + 1;

124 ++
i
;

128 
c
;

129 
çke_¬gc
 = 
¬gc
 - (
i
 - 1);

130 **
çke_¬gv
 = 
¬gv
 + (
i
 - 1);

133 
çke_¬gv
[0] = 
¬gv
[0];

136 
İtšd
 = 0;

138 
c
 = 
	`g‘İt_lÚg
 (
çke_¬gc
, 
çke_¬gv
, "+n:", 
lÚgİts
, 
NULL
);

139 
i
 +ğ
İtšd
 - 1;

141 
c
)

144 
adju¡m’t_giv’
 = 
İrg
;

150 
ÿ£_GETOPT_HELP_CHAR
;

152 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

155 
	`u§ge
 (
EXIT_CANCELED
);

159 ià(
c
 == -1)

164 ià(
adju¡m’t_giv’
)

169 ’um { 
MIN_ADJUSTMENT
 = 1 - 2 * 
NZERO
, 
MAX_ADJUSTMENT
 = 2 * NZERO - 1 };

170 
tmp
;

171 ià(
LONGINT_OVERFLOW
 < 
	`x¡¹Ş
 (
adju¡m’t_giv’
, 
NULL
, 10, &
tmp
, ""))

172 
	`”rÜ
 (
EXIT_CANCELED
, 0, 
	`_
("invalid‡djustment %s"),

173 
	`quÙe
 (
adju¡m’t_giv’
));

174 
adju¡m’t
 = 
	`MAX
 (
MIN_ADJUSTMENT
, 
	`MIN
 (
tmp
, 
MAX_ADJUSTMENT
));

177 ià(
i
 =ğ
¬gc
)

179 ià(
adju¡m’t_giv’
)

181 
	`”rÜ
 (0, 0, 
	`_
("a command must be given with‡n‡djustment"));

182 
	`u§ge
 (
EXIT_CANCELED
);

185 
”ºo
 = 0;

186 
cu¼’t_niûÃss
 = 
	`GET_NICENESS
 ();

187 ià(
cu¼’t_niûÃss
 =ğ-1 && 
”ºo
 != 0)

188 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot get‚iceness"));

189 
	`´štf
 ("%d\n", 
cu¼’t_niûÃss
);

190 
	`ex™
 (
EXIT_SUCCESS
);

193 
”ºo
 = 0;

194 #ià
HAVE_NICE


195 
ok
 = (
	`niû
 (
adju¡m’t
è!ğ-1 || 
”ºo
 == 0);

197 
cu¼’t_niûÃss
 = 
	`GET_NICENESS
 ();

198 ià(
cu¼’t_niûÃss
 =ğ-1 && 
”ºo
 != 0)

199 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot get‚iceness"));

200 
ok
 = (
	`£riÜ™y
 (
PRIO_PROCESS
, 0, 
cu¼’t_niûÃss
 + 
adju¡m’t
) == 0);

202 ià(!
ok
)

204 
	`”rÜ
 (
	`³rm_»Ï‹d_”ºo
 (
”ºo
) ? 0

205 : 
EXIT_CANCELED
, 
”ºo
, 
	`_
("cannot set‚iceness"));

211 ià(
	`ã¼Ü
 (
¡d”r
))

212 
	`ex™
 (
EXIT_CANCELED
);

215 
	`execvp
 (
¬gv
[
i
], &argv[i]);

218 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

219 
	`”rÜ
 (0, 
”ºo
, "%s", 
¬gv
[
i
]);

220 
	`ex™
 (
ex™_¡©us
);

222 
	}
}

	@nl.c

20 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~<g‘İt.h
>

26 
	~"sy¡em.h
"

28 
	~<»gex.h
>

30 
	~"”rÜ.h
"

31 
	~"çdvi£.h
"

32 
	~"lšebufãr.h
"

33 
	~"quÙe.h
"

34 
	~"x¡¹Ş.h
"

37 
	#PROGRAM_NAME
 "Æ"

	)

39 
	#AUTHORS
 \

40 
	`´İ”_Çme
 ("Scott Bartram"), \

41 
	`´İ”_Çme
 ("David MacK’z›")

	)

47 cÚ¡ 
	gFORMAT_RIGHT_NOLZ
[] = "%*" 
PRIdMAX
 "%s";

50 cÚ¡ 
	gFORMAT_RIGHT_LZ
[] = "%0*" 
PRIdMAX
 "%s";

53 cÚ¡ 
	gFORMAT_LEFT
[] = "%-*" 
PRIdMAX
 "%s";

56 cÚ¡ 
	gDEFAULT_SECTION_DELIMITERS
[] = "\\:";

60 
	e£ùiÚ


62 
	mH—d”
, 
	mBody
, 
	mFoÙ”
, 
	mText


66 cÚ¡ *
	gbody_ty³
 = "t";

69 cÚ¡ *
	gh—d”_ty³
 = "n";

72 cÚ¡ *
	gfoÙ”_ty³
 = "n";

75 cÚ¡ *
	gcu¼’t_ty³
;

78 
»_·‰”n_bufãr
 
	gbody_»gex
;

81 
»_·‰”n_bufãr
 
	gh—d”_»gex
;

84 
»_·‰”n_bufãr
 
	gfoÙ”_»gex
;

87 
	gbody_ç¡m­
[
UCHAR_MAX
 + 1];

88 
	gh—d”_ç¡m­
[
UCHAR_MAX
 + 1];

89 
	gfoÙ”_ç¡m­
[
UCHAR_MAX
 + 1];

92 
»_·‰”n_bufãr
 *
	gcu¼’t_»gex
 = 
NULL
;

95 cÚ¡ *
	g£·¿tÜ_¡r
 = "\t";

98 cÚ¡ *
	g£ùiÚ_d–
 = 
DEFAULT_SECTION_DELIMITERS
;

101 *
	gh—d”_d–
 = 
NULL
;

104 
size_t
 
	gh—d”_d–_Ën
;

107 *
	gbody_d–
 = 
NULL
;

110 
size_t
 
	gbody_d–_Ën
;

113 *
	gfoÙ”_d–
 = 
NULL
;

116 
size_t
 
	gfoÙ”_d–_Ën
;

119 
lšebufãr
 
	glše_buf
;

122 *
	g´št_no_lše_fmt
 = 
NULL
;

125 
štmax_t
 
	g¡¬tšg_lše_numb”
 = 1;

128 
štmax_t
 
	g·ge_šü
 = 1;

131 
boŞ
 
	g»£t_numb”s
 = 
Œue
;

134 
štmax_t
 
	gbÏnk_još
 = 1;

137 
	glš’o_width
 = 6;

140 cÚ¡ *
	glš’o_fÜm©
 = 
FORMAT_RIGHT_NOLZ
;

143 
štmax_t
 
	glše_no
;

146 
boŞ
 
	ghave_»ad_¡dš
;

148 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

150 {"h—d”-numb”šg", 
»quœed_¬gum’t
, 
NULL
, 'h'},

151 {"body-numb”šg", 
»quœed_¬gum’t
, 
NULL
, 'b'},

152 {"foÙ”-numb”šg", 
»quœed_¬gum’t
, 
NULL
, 'f'},

153 {"¡¬tšg-lše-numb”", 
»quœed_¬gum’t
, 
NULL
, 'v'},

154 {"lše-šüem’t", 
»quœed_¬gum’t
, 
NULL
, 'i'},

155 {"no-»numb”", 
no_¬gum’t
, 
NULL
, 'p'},

156 {"još-bÏnk-lšes", 
»quœed_¬gum’t
, 
NULL
, 'l'},

157 {"numb”-£·¿tÜ", 
»quœed_¬gum’t
, 
NULL
, 's'},

158 {"numb”-width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

159 {"numb”-fÜm©", 
»quœed_¬gum’t
, 
NULL
, 'n'},

160 {"£ùiÚ-d–im™”", 
»quœed_¬gum’t
, 
NULL
, 'd'},

161 {
GETOPT_HELP_OPTION_DECL
},

162 {
GETOPT_VERSION_OPTION_DECL
},

163 {
NULL
, 0, NULL, 0}

169 
	$u§ge
 (
¡©us
)

171 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

172 
	`em™_Œy_h–p
 ();

175 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

178 
´og¿m_Çme
);

179 
	`åuts
 (
	`_
("\
ƒach FILEØ¡ªd¬d ouut, w™h†šnumb” added.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

184 
	`em™_mªd©Üy_¬g_nÙe
 ();

186 
	`åuts
 (
	`_
("\
-b, --body-numb”šg=STYLE u£ STYLE fÜ‚umb”šg body†šes\n\
-d, --£ùiÚ-d–im™”=CC u£ CC fÜ s•¬©šg†ogiÿÈ·ges\n\
-f, --foÙ”-numb”šg=STYLE u£ STYLE fÜ‚umb”šg foÙ”†šes\n\
"), 
¡dout
);

191 
	`åuts
 (
	`_
("\
-h, --h—d”-numb”šg=STYLE u£ STYLE fÜ‚umb”šg h—d”†šes\n\
-i, --lše-šüem’t=NUMBER†šnumb” inüem’ˆ©ƒach†še\n\
-l, --još-bÏnk-lšes=NUMBER grou°oàNUMBERƒm±y†še couÁed‡ Úe\n\
-n, --numb”-fÜm©=FORMAT in£¹†šnumb” accÜdšgØFORMAT\n\
-p, --no-»numb” dØnÙ„e£ˆlšnumb” ©†ogiÿÈ·ges\n\
-s, --numb”-£·¿tÜ=STRING‡dd STRING‡á” (possibËèlšnumb”\n\
"), 
¡dout
);

199 
	`åuts
 (
	`_
("\
-v, --¡¬tšg-lše-numb”=NUMBER fœ¡†šnumb” oÀ—ch†ogiÿÈ·ge\n\
-w, --numb”-width=NUMBER u£ NUMBER cŞumn fÜ†šnumb”s\n\
"), 
¡dout
);

203 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

204 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

205 
	`åuts
 (
	`_
("\
\n\
 deçuÉ, s–eù -v1 -i1 -l1 -sTAB -w6 -ÄÀ-hÀ-bˆ-â. CC‡»\n\
 d–im™” ch¬aù” fÜ s•¬©šg†ogiÿÈ·ges,‡ missšg\n\
 ch¬aù” im¶› :. Ty³ \\\\ fÜ \\. STYLE i Úof:\n\
"), 
¡dout
);

211 
	`åuts
 (
	`_
("\
\n\
‚umb”‡Î†šes\n\
‚umb” oÆy‚Úem±y†šes\n\
‚umb”‚Ølšes\n\
‚umb” oÆy†še th© cÚš‡ m©ch fÜhbasiø»guÏr\n\
, BRE\n\
\n\
 i Úof:\n\
\n\
†eá ju¡if›d,‚ØËadšg z”os\n\
„ighˆju¡if›d,‚ØËadšg z”os\n\
„ighˆju¡if›d,†—dšg z”os\n\
\n\
"), 
¡dout
);

226 
	`em™_ªcÏry_šfo
 ();

228 
	`ex™
 (
¡©us
);

229 
	}
}

234 
boŞ


235 
	$bud_ty³_¬g
 (cÚ¡ **
ty³p
,

236 
»_·‰”n_bufãr
 *
»gexp
, *
ç¡m­
)

238 cÚ¡ *
”rmsg
;

239 
boŞ
 
rv®
 = 
Œue
;

241 *
İrg
)

246 *
ty³p
 = 
İrg
;

249 *
ty³p
 = 
İrg
++;

250 
»gexp
->
bufãr
 = 
NULL
;

251 
»gexp
->
®loÿ‹d
 = 0;

252 
»gexp
->
ç¡m­
 = fastmap;

253 
»gexp
->
Œª¦©e
 = 
NULL
;

254 
»_syÁax_İtiÚs
 =

255 
RE_SYNTAX_POSIX_BASIC
 & ~
RE_CONTEXT_INVALID_DUP
 & ~
RE_NO_EMPTY_RANGES
;

256 
”rmsg
 = 
	`»_compe_·‰”n
 (
İrg
, 
	`¡¾’
 (İrg), 
»gexp
);

257 ià(
”rmsg
)

258 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s", 
”rmsg
);

261 
rv®
 = 
çl£
;

264  
rv®
;

265 
	}
}

270 
	$´št_lš’o
 ()

272 
štmax_t
 
Ãxt_lše_no
;

274 
	`´štf
 (
lš’o_fÜm©
, 
lš’o_width
, 
lše_no
, 
£·¿tÜ_¡r
);

276 
Ãxt_lše_no
 = 
lše_no
 + 
·ge_šü
;

277 ià(
Ãxt_lše_no
 < 
lše_no
)

278 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("line‚umber overflow"));

279 
lše_no
 = 
Ãxt_lše_no
;

280 
	}
}

285 
	$´oc_h—d”
 ()

287 
cu¼’t_ty³
 = 
h—d”_ty³
;

288 
cu¼’t_»gex
 = &
h—d”_»gex
;

289 ià(
»£t_numb”s
)

290 
lše_no
 = 
¡¬tšg_lše_numb”
;

291 
	`putch¬
 ('\n');

292 
	}
}

297 
	$´oc_body
 ()

299 
cu¼’t_ty³
 = 
body_ty³
;

300 
cu¼’t_»gex
 = &
body_»gex
;

301 
	`putch¬
 ('\n');

302 
	}
}

307 
	$´oc_foÙ”
 ()

309 
cu¼’t_ty³
 = 
foÙ”_ty³
;

310 
cu¼’t_»gex
 = &
foÙ”_»gex
;

311 
	`putch¬
 ('\n');

312 
	}
}

317 
	$´oc_‹xt
 ()

319 
štmax_t
 
bÏnk_lšes
 = 0;

321 *
cu¼’t_ty³
)

324 ià(
bÏnk_još
 > 1)

326 ià(1 < 
lše_buf
.
Ëngth
 || ++
bÏnk_lšes
 =ğ
bÏnk_još
)

328 
	`´št_lš’o
 ();

329 
bÏnk_lšes
 = 0;

332 
	`åuts
 (
´št_no_lše_fmt
, 
¡dout
);

335 
	`´št_lš’o
 ();

338 ià(1 < 
lše_buf
.
Ëngth
)

339 
	`´št_lš’o
 ();

341 
	`åuts
 (
´št_no_lše_fmt
, 
¡dout
);

344 
	`åuts
 (
´št_no_lše_fmt
, 
¡dout
);

347 
	`»_£¬ch
 (
cu¼’t_»gex
, 
lše_buf
.
bufãr
,†še_buf.
Ëngth
 - 1,

348 0, 
lše_buf
.
Ëngth
 - 1, 
NULL
))

351 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("error in„egularƒxpression search"));

354 
	`åuts
 (
´št_no_lše_fmt
, 
¡dout
);

358 
	`´št_lš’o
 ();

362 
	`fwr™e
 (
lše_buf
.
bufãr
,  (),†še_buf.
Ëngth
, 
¡dout
);

363 
	}
}

367 
£ùiÚ


368 
	$check_£ùiÚ
 ()

370 
size_t
 
Ën
 = 
lše_buf
.
Ëngth
 - 1;

372 ià(
Ën
 < 2 || 
	`memcmp
 (
lše_buf
.
bufãr
, 
£ùiÚ_d–
, 2))

373  
Text
;

374 ià(
Ën
 =ğ
h—d”_d–_Ën


375 && !
	`memcmp
 (
lše_buf
.
bufãr
, 
h—d”_d–
, 
h—d”_d–_Ën
))

376  
H—d”
;

377 ià(
Ën
 =ğ
body_d–_Ën


378 && !
	`memcmp
 (
lše_buf
.
bufãr
, 
body_d–
, 
body_d–_Ën
))

379  
Body
;

380 ià(
Ën
 =ğ
foÙ”_d–_Ën


381 && !
	`memcmp
 (
lše_buf
.
bufãr
, 
foÙ”_d–
, 
foÙ”_d–_Ën
))

382  
FoÙ”
;

383  
Text
;

384 
	}
}

389 
	$´oûss_fe
 (
FILE
 *
å
)

391 
	`»adlšebufãr
 (&
lše_buf
, 
å
))

393 
	`check_£ùiÚ
 ())

395 
H—d”
:

396 
	`´oc_h—d”
 ();

398 
Body
:

399 
	`´oc_body
 ();

401 
FoÙ”
:

402 
	`´oc_foÙ”
 ();

404 
Text
:

405 
	`´oc_‹xt
 ();

409 
	}
}

414 
boŞ


415 
	$Æ_fe
 (cÚ¡ *
fe
)

417 
FILE
 *
¡»am
;

419 ià(
	`STREQ
 (
fe
, "-"))

421 
have_»ad_¡dš
 = 
Œue
;

422 
¡»am
 = 
¡dš
;

426 
¡»am
 = 
	`fİ’
 (
fe
, "r");

427 ià(
¡»am
 =ğ
NULL
)

429 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

430  
çl£
;

434 
	`çdvi£
 (
¡»am
, 
FADVISE_SEQUENTIAL
);

436 
	`´oûss_fe
 (
¡»am
);

438 ià(
	`ã¼Ü
 (
¡»am
))

440 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

441  
çl£
;

443 ià(
	`STREQ
 (
fe
, "-"))

444 
	`ş—»¼
 (
¡»am
);

445 ià(
	`fşo£
 (
¡»am
è=ğ
EOF
)

447 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

448  
çl£
;

450  
Œue
;

451 
	}
}

454 
	$maš
 (
¬gc
, **
¬gv
)

456 
c
;

457 
size_t
 
Ën
;

458 
boŞ
 
ok
 = 
Œue
;

460 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

461 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

462 
	`£oÿË
 (
LC_ALL
, "");

463 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

464 
	`‹xtdomaš
 (
PACKAGE
);

466 
	`©ex™
 (
şo£_¡dout
);

468 
have_»ad_¡dš
 = 
çl£
;

470 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "h:b:f:v:i:¶:s:w:n:d:", 
lÚgİts
,

471 
NULL
)) != -1)

473 
c
)

476 ià(! 
	`bud_ty³_¬g
 (&
h—d”_ty³
, &
h—d”_»gex
, 
h—d”_ç¡m­
))

478 
	`”rÜ
 (0, 0, 
	`_
("invalid header‚umbering style: %s"),

479 
	`quÙe
 (
İrg
));

480 
ok
 = 
çl£
;

484 ià(! 
	`bud_ty³_¬g
 (&
body_ty³
, &
body_»gex
, 
body_ç¡m­
))

486 
	`”rÜ
 (0, 0, 
	`_
("invalid body‚umbering style: %s"),

487 
	`quÙe
 (
İrg
));

488 
ok
 = 
çl£
;

492 ià(! 
	`bud_ty³_¬g
 (&
foÙ”_ty³
, &
foÙ”_»gex
, 
foÙ”_ç¡m­
))

494 
	`”rÜ
 (0, 0, 
	`_
("invalid footer‚umbering style: %s"),

495 
	`quÙe
 (
İrg
));

496 
ok
 = 
çl£
;

500 ià(
	`x¡¹oimax
 (
İrg
, 
NULL
, 10, &
¡¬tšg_lše_numb”
, "")

501 !ğ
LONGINT_OK
)

503 
	`”rÜ
 (0, 0, 
	`_
("invalid starting†ine‚umber: %s"),

504 
	`quÙe
 (
İrg
));

505 
ok
 = 
çl£
;

509 ià(! (
	`x¡¹oimax
 (
İrg
, 
NULL
, 10, &
·ge_šü
, ""è=ğ
LONGINT_OK


510 && 0 < 
·ge_šü
))

512 
	`”rÜ
 (0, 0, 
	`_
("invalid†ine‚umber increment: %s"),

513 
	`quÙe
 (
İrg
));

514 
ok
 = 
çl£
;

518 
»£t_numb”s
 = 
çl£
;

521 ià(! (
	`x¡¹oimax
 (
İrg
, 
NULL
, 10, &
bÏnk_još
, ""è=ğ
LONGINT_OK


522 && 0 < 
bÏnk_još
))

524 
	`”rÜ
 (0, 0, 
	`_
("invalid‚umber of blank†ines: %s"),

525 
	`quÙe
 (
İrg
));

526 
ok
 = 
çl£
;

530 
£·¿tÜ_¡r
 = 
İrg
;

534 
tmp_lÚg
;

535 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


536 || 
tmp_lÚg
 <ğ0 ||mp_lÚg > 
INT_MAX
)

538 
	`”rÜ
 (0, 0, 
	`_
("invalid†ine‚umber field width: %s"),

539 
	`quÙe
 (
İrg
));

540 
ok
 = 
çl£
;

544 
lš’o_width
 = 
tmp_lÚg
;

549 ià(
	`STREQ
 (
İrg
, "ln"))

550 
lš’o_fÜm©
 = 
FORMAT_LEFT
;

551 ià(
	`STREQ
 (
İrg
, "rn"))

552 
lš’o_fÜm©
 = 
FORMAT_RIGHT_NOLZ
;

553 ià(
	`STREQ
 (
İrg
, "rz"))

554 
lš’o_fÜm©
 = 
FORMAT_RIGHT_LZ
;

557 
	`”rÜ
 (0, 0, 
	`_
("invalid†ine‚umbering format: %s"),

558 
	`quÙe
 (
İrg
));

559 
ok
 = 
çl£
;

563 
£ùiÚ_d–
 = 
İrg
;

565 
ÿ£_GETOPT_HELP_CHAR
;

566 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

568 
ok
 = 
çl£
;

573 ià(!
ok
)

574 
	`u§ge
 (
EXIT_FAILURE
);

577 
Ën
 = 
	`¡¾’
 (
£ùiÚ_d–
);

579 
h—d”_d–_Ën
 = 
Ën
 * 3;

580 
h—d”_d–
 = 
	`xm®loc
 (
h—d”_d–_Ën
 + 1);

581 
	`¡pıy
 (¡pıy (¡pıy (
h—d”_d–
, 
£ùiÚ_d–
), section_del), section_del);

583 
body_d–_Ën
 = 
Ën
 * 2;

584 
body_d–
 = 
	`xm®loc
 (
body_d–_Ën
 + 1);

585 
	`¡pıy
 (¡pıy (
body_d–
, 
£ùiÚ_d–
), section_del);

587 
foÙ”_d–_Ën
 = 
Ën
;

588 
foÙ”_d–
 = 
	`xm®loc
 (
foÙ”_d–_Ën
 + 1);

589 
	`¡pıy
 (
foÙ”_d–
, 
£ùiÚ_d–
);

592 
	`š™bufãr
 (&
lše_buf
);

595 
Ën
 = 
	`¡¾’
 (
£·¿tÜ_¡r
);

596 
´št_no_lše_fmt
 = 
	`xm®loc
 (
lš’o_width
 + 
Ën
 + 1);

597 
	`mem£t
 (
´št_no_lše_fmt
, ' ', 
lš’o_width
 + 
Ën
);

598 
´št_no_lše_fmt
[
lš’o_width
 + 
Ën
] = '\0';

600 
lše_no
 = 
¡¬tšg_lše_numb”
;

601 
cu¼’t_ty³
 = 
body_ty³
;

602 
cu¼’t_»gex
 = &
body_»gex
;

606 ià(
İtšd
 =ğ
¬gc
)

607 
ok
 = 
	`Æ_fe
 ("-");

609 ; 
İtšd
 < 
¬gc
; optind++)

610 
ok
 &ğ
	`Æ_fe
 (
¬gv
[
İtšd
]);

612 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

613 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

615 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

616 
	}
}

	@nohup.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<sigÇl.h
>

25 
	~"sy¡em.h
"

27 
	~"şÛxec.h
"

28 
	~"”rÜ.h
"

29 
	~"f’ameÿt.h
"

30 
	~"fd-»İ’.h
"

31 
	~"lÚg-İtiÚs.h
"

32 
	~"quÙe.h
"

33 
	~"uni¡d--.h
"

35 
	#PROGRAM_NAME
 "nohup"

	)

37 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

43 
	mPOSIX_NOHUP_FAILURE
 = 127

47 
	$u§ge
 (
¡©us
)

49 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

50 
	`em™_Œy_h–p
 ();

53 
	`´štf
 (
	`_
("\
: %s COMMAND [ARG]...\n\
: %s OPTION\n\
"),

57 
´og¿m_Çme
,…rogram_name);

59 
	`åuts
 (
	`_
("\
 COMMAND, ignÜšg hªgu°sigÇls.\n\
\n\
"), 
¡dout
);

63 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

64 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

65 
	`´štf
 (
	`_
("\n\
 standard input is‡erminal,„edirect it from /dev/null.\n\
 standard output is‡erminal,‡ppend outputo 'nohup.out' if…ossible,\n\
'$HOME/nohup.out' otherwise.\n\
 standardƒrror is‡erminal,„edirect ito standard output.\n\
 save outputo FILE, use '%s COMMAND > FILE'.\n"),

71 
´og¿m_Çme
);

72 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

73 
	`em™_ªcÏry_šfo
 ();

75 
	`ex™
 (
¡©us
);

76 
	}
}

79 
	$maš
 (
¬gc
, **
¬gv
)

81 
out_fd
 = 
STDOUT_FILENO
;

82 
§ved_¡d”r_fd
 = 
STDERR_FILENO
;

83 
boŞ
 
ignÜšg_šput
;

84 
boŞ
 
»dœeùšg_¡dout
;

85 
boŞ
 
¡dout_is_şo£d
;

86 
boŞ
 
»dœeùšg_¡d”r
;

87 
ex™_š‹º®_çu»
;

89 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

90 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

91 
	`£oÿË
 (
LC_ALL
, "");

92 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

93 
	`‹xtdomaš
 (
PACKAGE
);

99 
ex™_š‹º®_çu»
 = (
	`g‘’v
 ("POSIXLY_CORRECT")

100 ? 
POSIX_NOHUP_FAILURE
 : 
EXIT_CANCELED
);

101 
	`š™Ÿlize_ex™_çu»
 (
ex™_š‹º®_çu»
);

102 
	`©ex™
 (
şo£_¡dout
);

104 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

105 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

106 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+", 
NULL
, NULL) != -1)

107 
	`u§ge
 (
ex™_š‹º®_çu»
);

109 ià(
¬gc
 <ğ
İtšd
)

111 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

112 
	`u§ge
 (
ex™_š‹º®_çu»
);

115 
ignÜšg_šput
 = 
	`i§‰y
 (
STDIN_FILENO
);

116 
»dœeùšg_¡dout
 = 
	`i§‰y
 (
STDOUT_FILENO
);

117 
¡dout_is_şo£d
 = (!
»dœeùšg_¡dout
 && 
”ºo
 =ğ
EBADF
);

118 
»dœeùšg_¡d”r
 = 
	`i§‰y
 (
STDERR_FILENO
);

123 ià(
ignÜšg_šput
)

125 ià(
	`fd_»İ’
 (
STDIN_FILENO
, "/dev/nuÎ", 
O_WRONLY
, 0) < 0)

127 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo„ender standard input unusable"));

128 
	`ex™
 (
ex™_š‹º®_çu»
);

130 ià(!
»dœeùšg_¡dout
 && !
»dœeùšg_¡d”r
)

131 
	`”rÜ
 (0, 0, 
	`_
("ignoring input"));

138 ià(
»dœeùšg_¡dout
 || (
»dœeùšg_¡d”r
 && 
¡dout_is_şo£d
))

140 *
š_home
 = 
NULL
;

141 cÚ¡ *
fe
 = "nohup.out";

142 
æags
 = 
O_CREAT
 | 
O_WRONLY
 | 
O_APPEND
;

143 
mode_t
 
mode
 = 
S_IRUSR
 | 
S_IWUSR
;

144 
mode_t
 
umask_v®ue
 = 
	`umask
 (~
mode
);

145 
out_fd
 = (
»dœeùšg_¡dout


146 ? 
	`fd_»İ’
 (
STDOUT_FILENO
, 
fe
, 
æags
, 
mode
)

147 : 
	`İ’
 (
fe
, 
æags
, 
mode
));

149 ià(
out_fd
 < 0)

151 
§ved_”ºo
 = 
”ºo
;

152 cÚ¡ *
home
 = 
	`g‘’v
 ("HOME");

153 ià(
home
)

155 
š_home
 = 
	`fe_Çme_cÚÿt
 (
home
, 
fe
, 
NULL
);

156 
out_fd
 = (
»dœeùšg_¡dout


157 ? 
	`fd_»İ’
 (
STDOUT_FILENO
, 
š_home
, 
æags
, 
mode
)

158 : 
	`İ’
 (
š_home
, 
æags
, 
mode
));

160 ià(
out_fd
 < 0)

162 
§ved_”ºo2
 = 
”ºo
;

163 
	`”rÜ
 (0, 
§ved_”ºo
, 
	`_
("çedØİ’ %s"), 
	`quÙe
 (
fe
));

164 ià(
š_home
)

165 
	`”rÜ
 (0, 
§ved_”ºo2
, 
	`_
("failedo open %s"),

166 
	`quÙe
 (
š_home
));

167 
	`ex™
 (
ex™_š‹º®_çu»
);

169 
fe
 = 
š_home
;

172 
	`umask
 (
umask_v®ue
);

173 
	`”rÜ
 (0, 0,

174 
	`_
(
ignÜšg_šput


175 ? 
	`N_
("ignoring input‡nd‡ppending outputo %s")

176 : 
	`N_
("appending outputo %s")),

177 
	`quÙe
 (
fe
));

178 
	`ä“
 (
š_home
);

182 ià(
»dœeùšg_¡d”r
)

188 
§ved_¡d”r_fd
 = 
	`dup
 (
STDERR_FILENO
);

190 ià(0 <ğ
§ved_¡d”r_fd


191 && 
	`£t_şÛxec_æag
 (
§ved_¡d”r_fd
, 
Œue
) != 0)

192 
	`”rÜ
 (
ex™_š‹º®_çu»
, 
”ºo
,

193 
	`_
("failedo sethe copy of stderro close onƒxec"));

195 ià(!
»dœeùšg_¡dout
)

196 
	`”rÜ
 (0, 0,

197 
	`_
(
ignÜšg_šput


198 ? 
	`N_
("ignoring input‡nd„edirecting stderro stdout")

199 : 
	`N_
("redirecting stderro stdout")));

201 ià(
	`dup2
 (
out_fd
, 
STDERR_FILENO
) < 0)

202 
	`”rÜ
 (
ex™_š‹º®_çu»
, 
”ºo
,

203 
	`_
("failedo„edirect standardƒrror"));

205 ià(
¡dout_is_şo£d
)

206 
	`şo£
 (
out_fd
);

215 ià(
	`ã¼Ü
 (
¡d”r
))

216 
	`ex™
 (
ex™_š‹º®_çu»
);

218 
	`sigÇl
 (
SIGHUP
, 
SIG_IGN
);

221 
ex™_¡©us
;

222 
§ved_”ºo
;

223 **
cmd
 = 
¬gv
 + 
İtšd
;

225 
	`execvp
 (*
cmd
, cmd);

226 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

227 
§ved_”ºo
 = 
”ºo
;

235 ià(
	`dup2
 (
§ved_¡d”r_fd
, 
STDERR_FILENO
) == STDERR_FILENO)

236 
	`”rÜ
 (0, 
§ved_”ºo
, 
	`_
("çedØruÀcommªd %s"), 
	`quÙe
 (*
cmd
));

238 
	`ex™
 (
ex™_¡©us
);

240 
	}
}

	@nproc.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"Åroc.h
"

27 
	~"quÙe.h
"

28 
	~"x¡¹Ş.h
"

31 
	#PROGRAM_NAME
 "Åroc"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("Giu£µSüivªo")

	)

37 
	mALL_OPTION
 = 
CHAR_MAX
 + 1,

38 
	mIGNORE_OPTION


41 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

43 {"®l", 
no_¬gum’t
, 
NULL
, 
ALL_OPTION
},

44 {"ignÜe", 
»quœed_¬gum’t
, 
NULL
, 
IGNORE_OPTION
},

45 {
GETOPT_HELP_OPTION_DECL
},

46 {
GETOPT_VERSION_OPTION_DECL
},

47 {
NULL
, 0, NULL, 0}

51 
	$u§ge
 (
¡©us
)

53 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

54 
	`em™_Œy_h–p
 ();

57 
	`´štf
 (
	`_
("U§ge: % [OPTION]...\n"), 
´og¿m_Çme
);

58 
	`åuts
 (
	`_
("\
hnumb” oà´oûssšg un™ avaabËØthcu¼’ˆ´oûss,\n\
 may bËs thªhnumb” oàÚlš´oûssÜs\n\
\n\
"), 
¡dout
);

63 
	`åuts
 (
	`_
("\
--®È…ršˆthnumb” oàš¡®Ëd…roûssÜs\n\
--ignÜe=N iàpossibË,ƒxşudN…roûssšg un™s\n\
"), 
¡dout
);

68 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

69 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

70 
	`em™_ªcÏry_šfo
 ();

72 
	`ex™
 (
¡©us
);

73 
	}
}

76 
	$maš
 (
¬gc
, **
¬gv
)

78 
Åroc
, 
ignÜe
 = 0;

79 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

80 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

81 
	`£oÿË
 (
LC_ALL
, "");

82 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

83 
	`‹xtdomaš
 (
PACKAGE
);

85 
	`©ex™
 (
şo£_¡dout
);

87 
Åroc_qu”y
 
mode
 = 
NPROC_CURRENT_OVERRIDABLE
;

91 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
lÚgİts
, 
NULL
);

92 ià(
c
 == -1)

94 
c
)

96 
ÿ£_GETOPT_HELP_CHAR
;

98 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

100 
ALL_OPTION
:

101 
mode
 = 
NPROC_ALL
;

104 
IGNORE_OPTION
:

105 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
ignÜe
, ""è!ğ
LONGINT_OK
)

107 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id‚umb”ØignÜe"), 
İrg
);

108 
	`u§ge
 (
EXIT_FAILURE
);

113 
	`u§ge
 (
EXIT_FAILURE
);

117 ià(
¬gc
 !ğ
İtšd
)

119 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

120 
	`u§ge
 (
EXIT_FAILURE
);

123 
Åroc
 = 
	`num_´oûssÜs
 (
mode
);

125 ià(
ignÜe
 < 
Åroc
)

126 
Åroc
 -ğ
ignÜe
;

128 
Åroc
 = 1;

130 
	`´štf
 ("%lu\n", 
Åroc
);

132 
	`ex™
 (
EXIT_SUCCESS
);

133 
	}
}

	@numfmt.c

17 
	~<cÚfig.h
>

18 
	~<æßt.h
>

19 
	~<g‘İt.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<Ïngšfo.h
>

24 
	~"mb§lign.h
"

25 
	~"¬gm©ch.h
"

26 
	~"”rÜ.h
"

27 
	~"quÙe.h
"

28 
	~"sy¡em.h
"

29 
	~"x¡¹Ş.h
"

30 
	~"x¡ºdup.h
"

33 
	#PROGRAM_NAME
 "numfmt"

	)

35 
	#AUTHORS
 
	`´İ”_Çme
 ("As§àGÜdÚ")

	)

38 ’um { 
	mEXIT_CONVERSION_WARNINGS
 = 2 };

42 
	mFROM_OPTION
 = 
CHAR_MAX
 + 1,

43 
	mFROM_UNIT_OPTION
,

44 
	mTO_OPTION
,

45 
	mTO_UNIT_OPTION
,

46 
	mROUND_OPTION
,

47 
	mSUFFIX_OPTION
,

48 
	mGROUPING_OPTION
,

49 
	mPADDING_OPTION
,

50 
	mFIELD_OPTION
,

51 
	mDEBUG_OPTION
,

52 
	mDEV_DEBUG_OPTION
,

53 
	mHEADER_OPTION
,

54 
	mFORMAT_OPTION
,

55 
	mINVALID_OPTION


58 
	esÿË_ty³


60 
	msÿË_nÚe
,

61 
	msÿË_auto
,

62 
	msÿË_SI
,

63 
	msÿË_IEC
,

64 
	msÿË_IEC_I


67 cÚ¡ *cÚ¡ 
	gsÿË_äom_¬gs
[] =

69 "nÚe", "auto", "si", "›c", "›c-i", 
NULL


72 
sÿË_ty³
 cÚ¡ 
	gsÿË_äom_ty³s
[] =

74 
sÿË_nÚe
, 
sÿË_auto
, 
sÿË_SI
, 
sÿË_IEC
, 
sÿË_IEC_I


77 cÚ¡ *cÚ¡ 
	gsÿË_to_¬gs
[] =

79 "nÚe", "si", "›c", "›c-i", 
NULL


82 
sÿË_ty³
 cÚ¡ 
	gsÿË_to_ty³s
[] =

84 
sÿË_nÚe
, 
sÿË_SI
, 
sÿË_IEC
, 
sÿË_IEC_I


88 
	eround_ty³


90 
	mround_ûšg
,

91 
	mround_æoÜ
,

92 
	mround_äom_z”o
,

93 
	mround_to_z”o
,

94 
	mround_Ã¬e¡
,

97 cÚ¡ *cÚ¡ 
	ground_¬gs
[] =

99 "up", "down", "äom-z”o", "tow¬ds-z”o", "Ã¬e¡", 
NULL


102 
round_ty³
 cÚ¡ 
	ground_ty³s
[] =

104 
round_ûšg
, 
round_æoÜ
, 
round_äom_z”o
, 
round_to_z”o
, 
round_Ã¬e¡


108 
	ešv®_ty³


110 
	mšv®_abÜt
,

111 
	mšv®_ç
,

112 
	mšv®_w¬n
,

113 
	mšv®_ignÜe


116 cÚ¡ *cÚ¡ 
	gšv®_¬gs
[] =

118 "abÜt", "ç", "w¬n", "ignÜe", 
NULL


121 
šv®_ty³
 cÚ¡ 
	gšv®_ty³s
[] =

123 
šv®_abÜt
, 
šv®_ç
, 
šv®_w¬n
, 
šv®_ignÜe


126 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

128 {"äom", 
»quœed_¬gum’t
, 
NULL
, 
FROM_OPTION
},

129 {"äom-un™", 
»quœed_¬gum’t
, 
NULL
, 
FROM_UNIT_OPTION
},

130 {"to", 
»quœed_¬gum’t
, 
NULL
, 
TO_OPTION
},

131 {"to-un™", 
»quœed_¬gum’t
, 
NULL
, 
TO_UNIT_OPTION
},

132 {"round", 
»quœed_¬gum’t
, 
NULL
, 
ROUND_OPTION
},

133 {"·ddšg", 
»quœed_¬gum’t
, 
NULL
, 
PADDING_OPTION
},

134 {"suffix", 
»quœed_¬gum’t
, 
NULL
, 
SUFFIX_OPTION
},

135 {"groupšg", 
no_¬gum’t
, 
NULL
, 
GROUPING_OPTION
},

136 {"d–im™”", 
»quœed_¬gum’t
, 
NULL
, 'd'},

137 {"f›ld", 
»quœed_¬gum’t
, 
NULL
, 
FIELD_OPTION
},

138 {"debug", 
no_¬gum’t
, 
NULL
, 
DEBUG_OPTION
},

139 {"-debug", 
no_¬gum’t
, 
NULL
, 
DEV_DEBUG_OPTION
},

140 {"h—d”", 
İtiÚ®_¬gum’t
, 
NULL
, 
HEADER_OPTION
},

141 {"fÜm©", 
»quœed_¬gum’t
, 
NULL
, 
FORMAT_OPTION
},

142 {"šv®id", 
»quœed_¬gum’t
, 
NULL
, 
INVALID_OPTION
},

143 {
GETOPT_HELP_OPTION_DECL
},

144 {
GETOPT_VERSION_OPTION_DECL
},

145 {
NULL
, 0, NULL, 0}

149 ’um { 
	mDELIMITER_DEFAULT
 = 
CHAR_MAX
 + 1 };

153 ’um { 
	mMAX_UNSCALED_DIGITS
 = 18 };

159 ’um { 
	mMAX_ACCEPTABLE_DIGITS
 = 27 };

161 
sÿË_ty³
 
	gsÿË_äom
 = 
sÿË_nÚe
;

162 
sÿË_ty³
 
	gsÿË_to
 = 
sÿË_nÚe
;

163 
round_ty³
 
	g_round
 = 
round_äom_z”o
;

164 
šv®_ty³
 
	g_šv®id
 = 
šv®_abÜt
;

165 cÚ¡ *
	gsuffix
 = 
NULL
;

166 
uštmax_t
 
	gäom_un™_size
 = 1;

167 
uštmax_t
 
	gto_un™_size
 = 1;

168 
	ggroupšg
 = 0;

169 *
	g·ddšg_bufãr
 = 
NULL
;

170 
size_t
 
	g·ddšg_bufãr_size
 = 0;

171 
	g·ddšg_width
 = 0;

172 cÚ¡ *
	gfÜm©_¡r
 = 
NULL
;

173 *
	gfÜm©_¡r_´efix
 = 
NULL
;

174 *
	gfÜm©_¡r_suffix
 = 
NULL
;

177 
	gcÚv_ex™_code
 = 
EXIT_CONVERSION_WARNINGS
;

181 
	gauto_·ddšg
 = 0;

182 
mbs_®ign_t
 
	g·ddšg_®ignm’t
 = 
MBS_ALIGN_RIGHT
;

183 
	gf›ld
 = 1;

184 
	gd–im™”
 = 
DELIMITER_DEFAULT
;

187 
uštmax_t
 
	gh—d”
 = 0;

191 
boŞ
 
	gdebug
;

194 cÚ¡ *
	gdecim®_pošt
;

195 
	gdecim®_pošt_Ëngth
;

198 
boŞ
 
	gdev_debug
 = 
çl£
;

204 
šlše
 

205 
	$devmsg
 (cÚ¡ *
fmt
, ...)

207 ià(
dev_debug
)

209 
va_li¡
 
­
;

210 
	`va_¡¬t
 (
­
, 
fmt
);

211 
	`vårštf
 (
¡d”r
, 
fmt
, 
­
);

212 
	`va_’d
 (
­
);

214 
	}
}

216 
šlše
 

217 
	$deçuÉ_sÿË_ba£
 (
sÿË_ty³
 
sÿË
)

219 
sÿË
)

221 
sÿË_IEC
:

222 
sÿË_IEC_I
:

225 
sÿË_nÚe
:

226 
sÿË_auto
:

227 
sÿË_SI
:

231 
	}
}

233 
šlše
 

234 
	$v®id_suffix
 (cÚ¡ 
suf
)

236 cÚ¡ *
v®id_suffixes
 = "KMGTPEZY";

237  (
	`¡rchr
 (
v®id_suffixes
, 
suf
è!ğ
NULL
);

238 
	}
}

240 
šlše
 

241 
	$suffix_pow”
 (cÚ¡ 
suf
)

243 
suf
)

272 
	}
}

274 
šlše
 const *

275 
	$suffix_pow”_ch¬aù”
 (
pow”
)

277 
pow”
)

309 
	}
}

313 
	$pow”ld
 (
ba£
, 
x
)

315 
»suÉ
 = 
ba£
;

316 ià(
x
 == 0)

322 --
x
)

323 
»suÉ
 *ğ
ba£
;

324  
»suÉ
;

325 
	}
}

328 
šlše
 

329 
	$ab¦d
 (
v®
)

331  
v®
 < 0 ? -val : val;

332 
	}
}

339 
	$ex¶d
 (
v®
, 
ba£
, *
x
)

341 
pow”
 = 0;

343 ià(
v®
 >ğ-
LDBL_MAX
 && val <= LDBL_MAX)

345 
	`ab¦d
 (
v®
è>ğ
ba£
)

347 ++
pow”
;

348 
v®
 /ğ
ba£
;

351 ià(
x
)

352 *
x
 = 
pow”
;

353  
v®
;

354 
	}
}

358 
šlše
 
štmax_t


359 
	$sim¶e_round_ûšg
 (
v®
)

361 
štmax_t
 
štv®
 = 
v®
;

362 ià(
štv®
 < 
v®
)

363 
štv®
++;

364  
štv®
;

365 
	}
}

369 
šlše
 
štmax_t


370 
	$sim¶e_round_æoÜ
 (
v®
)

372  -
	`sim¶e_round_ûšg
 (-
v®
);

373 
	}
}

377 
šlše
 
štmax_t


378 
	$sim¶e_round_äom_z”o
 (
v®
)

380  
v®
 < 0 ? 
	`sim¶e_round_æoÜ
 (v®è: 
	`sim¶e_round_ûšg
 (val);

381 
	}
}

385 
šlše
 
štmax_t


386 
	$sim¶e_round_to_z”o
 (
v®
)

388  
v®
;

389 
	}
}

393 
šlše
 
štmax_t


394 
	$sim¶e_round_Ã¬e¡
 (
v®
)

396  
v®
 < 0 ? val - 0.5 : val + 0.5;

397 
	}
}

399 
šlše
 
štmax_t


400 
	$sim¶e_round
 (
v®
, 
round_ty³
 
t
)

402 
t
)

404 
round_ûšg
:

405  
	`sim¶e_round_ûšg
 (
v®
);

407 
round_æoÜ
:

408  
	`sim¶e_round_æoÜ
 (
v®
);

410 
round_äom_z”o
:

411  
	`sim¶e_round_äom_z”o
 (
v®
);

413 
round_to_z”o
:

414  
	`sim¶e_round_to_z”o
 (
v®
);

416 
round_Ã¬e¡
:

417  
	`sim¶e_round_Ã¬e¡
 (
v®
);

423 
	}
}

425 
	esim¶e_¡¹od_”rÜ


427 
	mSSE_OK
 = 0,

428 
	mSSE_OK_PRECISION_LOSS
,

429 
	mSSE_OVERFLOW
,

430 
	mSSE_INVALID_NUMBER
,

433 
	mSSE_VALID_BUT_FORBIDDEN_SUFFIX
,

434 
	mSSE_INVALID_SUFFIX
,

435 
	mSSE_MISSING_I_SUFFIX


454 
sim¶e_¡¹od_”rÜ


455 
	$sim¶e_¡¹od_št
 (cÚ¡ *
šput_¡r
,

456 **
’d±r
, *
v®ue
, 
boŞ
 *
Ãg©ive
)

458 
sim¶e_¡¹od_”rÜ
 
e
 = 
SSE_OK
;

460 
v®
 = 0;

461 
dig™s
 = 0;

463 ià(*
šput_¡r
 == '-')

465 
šput_¡r
++;

466 *
Ãg©ive
 = 
Œue
;

469 *
Ãg©ive
 = 
çl£
;

471 *
’d±r
 = (*è
šput_¡r
;

472 *
’d±r
 && 
	`isdig™
 (**endptr))

474 
dig™
 = (**
’d±r
) - '0';

477 ià(
dig™
 < 0 || digit > 9)

478  
SSE_INVALID_NUMBER
;

480 ià(
dig™s
 > 
MAX_UNSCALED_DIGITS
)

481 
e
 = 
SSE_OK_PRECISION_LOSS
;

483 ++
dig™s
;

484 ià(
dig™s
 > 
MAX_ACCEPTABLE_DIGITS
)

485  
SSE_OVERFLOW
;

487 
v®
 *= 10;

488 
v®
 +ğ
dig™
;

490 ++(*
’d±r
);

492 ià(
dig™s
 == 0)

493  
SSE_INVALID_NUMBER
;

494 ià(*
Ãg©ive
)

495 
v®
 = -val;

497 ià(
v®ue
)

498 *
v®ue
 = 
v®
;

500  
e
;

501 
	}
}

517 
sim¶e_¡¹od_”rÜ


518 
	$sim¶e_¡¹od_æßt
 (cÚ¡ *
šput_¡r
,

519 **
’d±r
,

520 *
v®ue
,

521 
size_t
 *
´ecisiÚ
)

523 
boŞ
 
Ãg©ive
;

524 
sim¶e_¡¹od_”rÜ
 
e
 = 
SSE_OK
;

526 ià(
´ecisiÚ
)

527 *
´ecisiÚ
 = 0;

530 
e
 = 
	`sim¶e_¡¹od_št
 (
šput_¡r
, 
’d±r
, 
v®ue
, &
Ãg©ive
);

531 ià(
e
 !ğ
SSE_OK
 &&ƒ !ğ
SSE_OK_PRECISION_LOSS
)

532  
e
;

536 ià(
	`STREQ_LEN
 (*
’d±r
, 
decim®_pošt
, 
decim®_pošt_Ëngth
))

538 *
±r2
;

539 
v®_äac
 = 0;

540 
boŞ
 
Ãg_äac
;

542 (*
’d±r
è+ğ
decim®_pošt_Ëngth
;

543 
sim¶e_¡¹od_”rÜ
 
e2
 =

544 
	`sim¶e_¡¹od_št
 (*
’d±r
, &
±r2
, &
v®_äac
, &
Ãg_äac
);

545 ià(
e2
 !ğ
SSE_OK
 &&ƒ2 !ğ
SSE_OK_PRECISION_LOSS
)

546  
e2
;

547 ià(
e2
 =ğ
SSE_OK_PRECISION_LOSS
)

548 
e
 = 
e2
;

549 ià(
Ãg_äac
)

550  
SSE_INVALID_NUMBER
;

553 
size_t
 
expÚ’t
 = 
±r2
 - *
’d±r
;

555 
v®_äac
 = ((èv®_äacè/ 
	`pow”ld
 (10, 
expÚ’t
);

557 ià(
v®ue
)

559 ià(
Ãg©ive
)

560 *
v®ue
 -ğ
v®_äac
;

562 *
v®ue
 +ğ
v®_äac
;

565 ià(
´ecisiÚ
)

566 *
´ecisiÚ
 = 
expÚ’t
;

568 *
’d±r
 = 
±r2
;

570  
e
;

571 
	}
}

592 
sim¶e_¡¹od_”rÜ


593 
	$sim¶e_¡¹od_humª
 (cÚ¡ *
šput_¡r
,

594 **
’d±r
, *
v®ue
, 
size_t
 *
´ecisiÚ
,

595 
sÿË_ty³
 
®lowed_sÿlšg
)

597 
pow”
 = 0;

599 
sÿË_ba£
 = 
	`deçuÉ_sÿË_ba£
 (
®lowed_sÿlšg
);

601 
	`devmsg
 ("simple_strtod_human:\n input string: '%s'\n "

602 "loÿË decim®-pošt: '%s'\n", 
šput_¡r
, 
decim®_pošt
);

604 
sim¶e_¡¹od_”rÜ
 
e
 =

605 
	`sim¶e_¡¹od_æßt
 (
šput_¡r
, 
’d±r
, 
v®ue
, 
´ecisiÚ
);

606 ià(
e
 !ğ
SSE_OK
 &&ƒ !ğ
SSE_OK_PRECISION_LOSS
)

607  
e
;

609 
	`devmsg
 ("…arsed‚umeric value: %Lf\n"

610 " iÅuˆ´ecisiÚ = %d\n", *
v®ue
, ()*
´ecisiÚ
);

612 ià(**
’d±r
 != '\0')

617 
	`isbÏnk
 (**
’d±r
))

618 (*
’d±r
)++;

620 ià(!
	`v®id_suffix
 (**
’d±r
))

621  
SSE_INVALID_SUFFIX
;

623 ià(
®lowed_sÿlšg
 =ğ
sÿË_nÚe
)

624  
SSE_VALID_BUT_FORBIDDEN_SUFFIX
;

626 
pow”
 = 
	`suffix_pow”
 (**
’d±r
);

627 (*
’d±r
)++;

629 ià(
®lowed_sÿlšg
 =ğ
sÿË_auto
 && **
’d±r
 == 'i')

633 
sÿË_ba£
 = 1024;

634 (*
’d±r
)++;

635 
	`devmsg
 (" Auto-scaling, found 'i', switchingo base %d\n",

636 
sÿË_ba£
);

639 *
´ecisiÚ
 = 0;

642 ià(
®lowed_sÿlšg
 =ğ
sÿË_IEC_I
)

644 ià(**
’d±r
 == 'i')

645 (*
’d±r
)++;

647  
SSE_MISSING_I_SUFFIX
;

650 
muÉl›r
 = 
	`pow”ld
 (
sÿË_ba£
, 
pow”
);

652 
	`devmsg
 (" suffix…ow”=%d^%d = %Lf\n", 
sÿË_ba£
, 
pow”
, 
muÉl›r
);

655 (*
v®ue
èğ(*v®ueè* 
muÉl›r
;

657 
	`devmsg
 ("„‘uºšg v®ue: %Là(%LG)\n", *
v®ue
, *value);

659  
e
;

660 
	}
}

664 
	$sim¶e_¡¹od_çl
 (
sim¶e_¡¹od_”rÜ
 
”r
, cÚ¡ *
šput_¡r
)

666 cÚ¡ *
msgid
 = 
NULL
;

668 
”r
)

670 
SSE_OK_PRECISION_LOSS
:

671 
SSE_OK
:

673 
	`abÜt
 ();

675 
SSE_OVERFLOW
:

676 
msgid
 = 
	`N_
("valueoo†argeo be converted: '%s'");

679 
SSE_INVALID_NUMBER
:

680 
msgid
 = 
	`N_
("invalid‚umber: '%s'");

683 
SSE_VALID_BUT_FORBIDDEN_SUFFIX
:

684 
msgid
 = 
	`N_
("rejecting suffix in input: '%s' (consider using --from)");

687 
SSE_INVALID_SUFFIX
:

688 
msgid
 = 
	`N_
("invalid suffix in input: '%s'");

691 
SSE_MISSING_I_SUFFIX
:

692 
msgid
 = 
	`N_
("missing 'i' suffix in input: '%s' (e.g Ki/Mi/Gi)");

697 ià(
_šv®id
 !ğ
šv®_ignÜe
)

698 
	`”rÜ
 (
cÚv_ex™_code
, 0, 
	`g‘‹xt
 (
msgid
), 
šput_¡r
);

699 
	}
}

703 
	$doubË_to_humª
 (
v®
, 
´ecisiÚ
,

704 *
buf
, 
size_t
 
buf_size
,

705 
sÿË_ty³
 
sÿË
, 
group
, 
round_ty³
 
round
)

707 
	`devmsg
 ("double_to_human:\n");

709 ià(
sÿË
 =ğ
sÿË_nÚe
)

711 
v®
 *ğ
	`pow”ld
 (10, 
´ecisiÚ
);

712 
v®
 = 
	`sim¶e_round
 (v®, 
round
);

713 
v®
 /ğ
	`pow”ld
 (10, 
´ecisiÚ
);

715 
	`devmsg
 ((
group
) ?

717 "‚Øsÿlšg,„‘uºšg v®ue: %.*Lf\n", 
´ecisiÚ
, 
v®
);

719 
i
 = 
	`¢´štf
 (
buf
, 
buf_size
, (
group
) ? "%'.*Lf" : "%.*Lf",

720 
´ecisiÚ
, 
v®
);

721 ià(
i
 < 0 || i >ğ(è
buf_size
)

722 
	`”rÜ
 (
EXIT_FAILURE
, 0,

723 
	`_
("çedØ´•¬v®u'%Lf' fÜ…rštšg"), 
v®
);

728 
sÿË_ba£
 = 
	`deçuÉ_sÿË_ba£
 (
sÿË
);

731 
pow”
 = 0;

732 
v®
 = 
	`ex¶d
 (v®, 
sÿË_ba£
, &
pow”
);

733 
	`devmsg
 (" sÿËd v®utØ%Là* %0.à^ %d\n", 
v®
, 
sÿË_ba£
, 
pow”
);

736 
‹n_Ü_Ëss
 = 0;

737 ià(
	`ab¦d
 (
v®
) < 10)

741 
‹n_Ü_Ëss
 = 1;

742 
v®
 *= 10;

744 
v®
 = 
	`sim¶e_round
 (v®, 
round
);

748 ià(
	`ab¦d
 (
v®
è>ğ
sÿË_ba£
)

750 
v®
 /ğ
sÿË_ba£
;

751 
pow”
++;

753 ià(
‹n_Ü_Ëss
)

754 
v®
 /= 10;

758 
show_decim®_pošt
 = (
v®
 !ğ0è&& (
	`ab¦d
 (v®è< 10è&& (
pow”
 > 0);

761 
	`devmsg
 ("‡á”„oundšg, v®ue=%Là* %0.à^ %d\n", 
v®
, 
sÿË_ba£
, 
pow”
);

763 
	`¢´štf
 (
buf
, 
buf_size
, (
show_decim®_pošt
) ? "%.1Lf%s" : "%.0Lf%s",

764 
v®
, 
	`suffix_pow”_ch¬aù”
 (
pow”
));

766 ià(
sÿË
 =ğ
sÿË_IEC_I
 && 
pow”
 > 0)

767 
	`¡ºÿt
 (
buf
, "i", 
buf_size
 - 
	`¡¾’
 (buf) - 1);

769 
	`devmsg
 ("„‘uºšg v®ue: '%s'\n", 
buf
);

772 
	}
}

777 
uštmax_t


778 
	$un™_to_umax
 (cÚ¡ *
n_¡ršg
)

780 
¡¹Ş_”rÜ
 
s_”r
;

781 *
’d
 = 
NULL
;

782 
uštmax_t
 
n
;

784 
s_”r
 = 
	`x¡¹oumax
 (
n_¡ršg
, &
’d
, 10, &
n
, "KMGTPEZY");

786 ià(
s_”r
 !ğ
LONGINT_OK
 || *
’d
 || 
n
 == 0)

787 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id un™ size: '%s'"), 
n_¡ršg
);

789  
n
;

790 
	}
}

794 
	$£tup_·ddšg_bufãr
 (
size_t
 
mš_size
)

796 ià(
·ddšg_bufãr_size
 > 
mš_size
)

799 
·ddšg_bufãr_size
 = 
mš_size
 + 1;

800 
·ddšg_bufãr
 = 
	`»®loc
 (·ddšg_bufãr, 
·ddšg_bufãr_size
);

801 ià(!
·ddšg_bufãr
)

802 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

803 
·ddšg_bufãr_size
);

804 
	}
}

807 
	$u§ge
 (
¡©us
)

809 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

810 
	`em™_Œy_h–p
 ();

813 
	`´štf
 (
	`_
("\
: % [OPTION]... [NUMBER]...\n\
"), 
´og¿m_Çme
);

816 
	`åuts
 (
	`_
("\
 NUMBER(s), o¸thnumb” äom snd¬d iÅuˆiànÚ¬¥ecif›d.\n\
"), 
¡dout
);

819 
	`em™_mªd©Üy_¬g_nÙe
 ();

820 
	`åuts
 (
	`_
("\
--debug…ršˆw¬nšg abouˆšv®id iÅut\n\
"), 
¡dout
);

823 
	`åuts
 (
	`_
("\
-d, --d–im™”=X u£ X in¡—d oàwh™e¥aû fÜ f›ld d–im™”\n\
"), 
¡dout
);

826 
	`åuts
 (
	`_
("\
--f›ld=N„•Ïûhnumb” iÀšpuˆf›ld N (deçuÉ i 1)\n\
"), 
¡dout
);

829 
	`åuts
 (
	`_
("\
--fÜm©=FORMAT u£…rštà¡yË flßtšg-pošˆFORMAT;\n\
 FORMAT b–ow fÜ d‘as\n\
"), 
¡dout
);

833 
	`åuts
 (
	`_
("\
--äom=UNIT‡uto-sÿË iÅuˆnumb” tØUNITs; deçuÉ i 'nÚe';\n\
 UNIT b–ow\n\
"), 
¡dout
);

837 
	`åuts
 (
	`_
("\
--äom-un™=N s³cifyhšpuˆun™ siz(š¡—d oàthdeçuÉ 1)\n\
"), 
¡dout
);

840 
	`åuts
 (
	`_
("\
--groupšg u£†oÿË-defšed groupšg oàdig™s,ƒ.g. 1,000,000\n\
(which m—n ™ ha nØefãù iÀthC/POSIX†oÿË)\n\
"), 
¡dout
);

844 
	`åuts
 (
	`_
("\
--h—d”[=N]…ršˆ(w™houˆcÚv”tšgèthfœ¡ N h—d”†šes;\n\
 deçuÉ tØ1 iànÙ s³cif›d\n\
"), 
¡dout
);

848 
	`åuts
 (
	`_
("\
--šv®id=MODE fau» modfÜ inv®id‚umb”s: MODE cª be:\n\
 (deçuÉ), fa, w¬n, ignÜe\n\
"), 
¡dout
);

852 
	`åuts
 (
	`_
("\
--·ddšg=N…adhouuˆtØN ch¬aù”s;…os™ivN wl\n\
-®ign;‚eg©ivN wÈËá-®ign;\n\
 i ignÜed iàthouuˆi wid”hª N;\n\
 deçuÉ i tØautom©iÿÎy…ad ià¨wh™e¥aû\n\
 found\n\
"), 
¡dout
);

859 
	`åuts
 (
	`_
("\
--round=METHOD u£ METHOD fÜ„oundšg wh’ sÿlšg; METHOD cª be:\n\
, down, from-z”Ø(deçuÉ),ow¬ds-z”o,‚—»¡\n\
"), 
¡dout
);

863 
	`åuts
 (
	`_
("\
--suffix=SUFFIX‡dd SUFFIXØouuˆnumb”s,‡nd‡cû± o±iÚ®\n\
 iÀšpuˆnumb”s\n\
"), 
¡dout
);

867 
	`åuts
 (
	`_
("\
--to=UNIT‡uto-sÿË ouuˆnumb” tØUNITs; s“ UNIT b–ow\n\
"), 
¡dout
);

870 
	`åuts
 (
	`_
("\
--to-un™=Nhouuˆun™ siz(š¡—d oàthdeçuÉ 1)\n\
"), 
¡dout
);

874 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

875 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

877 
	`åuts
 (
	`_
("\
\n\
 o±iÚs:\n"), 
¡dout
);

880 
	`åuts
 (
	`_
("\
‚Øauto-sÿlšg i dÚe; suffixe wÈŒigg”‡À”rÜ\n\
"), 
¡dout
);

883 
	`åuts
 (
	`_
("\
‡cû± o±iÚ® sšgË/twØË‰” suffix:\n\
1K = 1000,\n\
1K˜ğ1024,\n\
1M = 1000000,\n\
1M˜ğ1048576,\n"), 
¡dout
);

889 
	`åuts
 (
	`_
("\
‡cû± o±iÚ® sšgË†‘‹¸suffix:\n\
1K = 1000,\n\
1M = 1000000,\n\
...\n"), 
¡dout
);

894 
	`åuts
 (
	`_
("\
‡cû± o±iÚ® sšgË†‘‹¸suffix:\n\
1K = 1024,\n\
1M = 1048576,\n\
...\n"), 
¡dout
);

899 
	`åuts
 (
	`_
("\
-˜‡cû± o±iÚ®wo-Ë‰” suffix:\n\
1K˜ğ1024,\n\
1M˜ğ1048576,\n\
...\n"), 
¡dout
);

905 
	`åuts
 (
	`_
("\n\
 mu¡ bsu™abË fÜ…rštšg oÃ flßtšg-pošˆ¬gum’ˆ'%f'.\n\
 quÙ(%'fèwÈ’abË --groupšg (iàsuµÜ‹d by cu¼’ˆloÿË).\n\
 width v®u(%10fèwÈ·d ouut. O±iÚ®‚eg©ivwidth v®ues\n\
(%-10fèwÈËá-·d ouut.\n\
"), 
¡dout
);

912 
	`´štf
 (
	`_
("\n\
 stu i 0 ià®Èšpuˆnumb” w”sucûssfuÎy cÚv”‹d.\n\
 deçuÉ, % wÈ¡İ‡ˆthfœ¡ cÚv”siÚƒ¼Ü w™hƒx™ stu 2.\n\
 --šv®id='ç'‡ w¬nšg i ´š‹d fÜƒach cÚv”siÚƒ¼Ü\n\
hex™ stu i 2. W™h --šv®id='w¬n'ƒach cÚv”siÚƒ¼Ü is\n\
, buˆthex™ stu i 0. W™h --šv®id='ignÜe' cÚv”siÚ\n\
‡»‚Ù dŸgno£d‡ndhex™ stu i 0.\n\
"), 
´og¿m_Çme
);

921 
	`´štf
 (
	`_
("\n\
:\n\
$ %s --to=si 1000\n\
-> \"1.0K\"\n\
$ %s --to=iec 2048\n\
-> \"2.0K\"\n\
$ %s --to=iec-i 4096\n\
-> \"4.0Ki\"\n\
$ƒcho 1K | %s --from=si\n\
-> \"1000\"\n\
$ƒcho 1K | %s --from=iec\n\
-> \"1024\"\n\
$ df | %s --header --field 2 --to=si\n\
$†s -l | %s --header --field 5 --to=iec\n\
$†s -lh | %s --header --field 5 --from=iec --padding=10\n\
$†s -lh | %s --header --field 5 --from=iec --format %%10f\n"),

937 
´og¿m_Çme
,…rogram_name,…rogram_name,

938 
´og¿m_Çme
,…rogram_name,…rogram_name,

939 
´og¿m_Çme
,…rogram_name,…rogram_name);

940 
	`em™_ªcÏry_šfo
 ();

942 
	`ex™
 (
¡©us
);

943 
	}
}

962 
	$·r£_fÜm©_¡ršg
 (cÚ¡ *
fmt
)

964 
size_t
 
i
;

965 
size_t
 
´efix_Ën
 = 0;

966 
size_t
 
suffix_pos
;

967 
·d
 = 0;

968 *
’d±r
 = 
NULL
;

970 
i
 = 0; !(
fmt
[i] == '%' && fmt[i + 1] != '%'); i += (fmt[i] == '%') + 1)

972 ià(!
fmt
[
i
])

973 
	`”rÜ
 (
EXIT_FAILURE
, 0,

974 
	`_
("fÜm© % ha nØ%% dœeùive"), 
	`quÙe
 (
fmt
));

975 
´efix_Ën
++;

978 
i
++;

979 
i
 +ğ
	`¡r¥n
 (
fmt
 + i, " ");

980 ià(
fmt
[
i
] == '\'')

982 
groupšg
 = 1;

983 
i
++;

985 
i
 +ğ
	`¡r¥n
 (
fmt
 + i, " ");

986 
”ºo
 = 0;

987 
·d
 = 
	`¡¹Ş
 (
fmt
 + 
i
, &
’d±r
, 10);

988 ià(
”ºo
 =ğ
ERANGE
)

989 
	`”rÜ
 (
EXIT_FAILURE
, 0,

990 
	`_
("šv®id fÜm© % (width ov”æow)"), 
	`quÙe
 (
fmt
));

992 ià(
’d±r
 !ğ(
fmt
 + 
i
è&& 
·d
 != 0)

994 ià(
·d
 < 0)

996 
·ddšg_®ignm’t
 = 
MBS_ALIGN_LEFT
;

997 
·ddšg_width
 = -
·d
;

1001 
·ddšg_width
 = 
·d
;

1004 
i
 = 
’d±r
 - 
fmt
;

1006 ià(
fmt
[
i
] == '\0')

1007 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("fÜm© % ’d š %%"), 
	`quÙe
 (
fmt
));

1009 ià(
fmt
[
i
] != 'f')

1010 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid format %s,"

1012 
	`quÙe
 (
fmt
));

1013 
i
++;

1014 
suffix_pos
 = 
i
;

1016 ; 
fmt
[
i
] != '\0'; i += (fmt[i] == '%') + 1)

1017 ià(
fmt
[
i
] == '%' && fmt[i + 1] != '%')

1018 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("format %s hasoo many %% directives"),

1019 
	`quÙe
 (
fmt
));

1021 ià(
´efix_Ën
)

1023 
fÜm©_¡r_´efix
 = 
	`x¡ºdup
 (
fmt
, 
´efix_Ën
);

1024 ià(!
fÜm©_¡r_´efix
)

1025 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

1026 
´efix_Ën
 + 1);

1028 ià(
fmt
[
suffix_pos
] != '\0')

1030 
fÜm©_¡r_suffix
 = 
	`¡rdup
 (
fmt
 + 
suffix_pos
);

1031 ià(!
fÜm©_¡r_suffix
)

1032 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("out of memory (requested %zu bytes)"),

1033 
	`¡¾’
 (
fmt
 + 
suffix_pos
));

1036 
	`devmsg
 ("format String:\n input: %s\n grouping: %s\n"

1039 
	`quÙe
 (
fmt
), (
groupšg
) ? "yes" : "no",

1040 
·ddšg_width
,

1041 (
·ddšg_®ignm’t
 =ğ
MBS_ALIGN_LEFT
) ? "Left" : "Right",

1042 
fÜm©_¡r_´efix
, 
fÜm©_¡r_suffix
);

1043 
	}
}

1053 
sim¶e_¡¹od_”rÜ


1054 
	$·r£_humª_numb”
 (cÚ¡ *
¡r
, *
v®ue
,

1055 
size_t
 *
´ecisiÚ
)

1057 *
±r
 = 
NULL
;

1059 
sim¶e_¡¹od_”rÜ
 
e
 =

1060 
	`sim¶e_¡¹od_humª
 (
¡r
, &
±r
, 
v®ue
, 
´ecisiÚ
, 
sÿË_äom
);

1061 ià(
e
 !ğ
SSE_OK
 &&ƒ !ğ
SSE_OK_PRECISION_LOSS
)

1063 
	`sim¶e_¡¹od_çl
 (
e
, 
¡r
);

1064  
e
;

1067 ià(
±r
 && *ptr != '\0')

1069 ià(
_šv®id
 !ğ
šv®_ignÜe
)

1070 
	`”rÜ
 (
cÚv_ex™_code
, 0, 
	`_
("invalid suffix in input '%s': '%s'"),

1071 
¡r
, 
±r
);

1072 
e
 = 
SSE_INVALID_SUFFIX
;

1074  
e
;

1075 
	}
}

1081 
	$´•¬e_·dded_numb”
 (cÚ¡ 
v®
, 
size_t
 
´ecisiÚ
)

1084 
buf
[128];

1087 
x
;

1088 
	`ex¶d
 (
v®
, 10, &
x
);

1089 ià(
sÿË_to
 =ğ
sÿË_nÚe
 && 
x
 > 
MAX_UNSCALED_DIGITS
)

1091 ià(
_šv®id
 !ğ
šv®_ignÜe
)

1092 
	`”rÜ
 (
cÚv_ex™_code
, 0, 
	`_
("valueoo†argeo be…rinted: '%Lg'"

1093 " (cÚsid” usšg --to)"), 
v®
);

1097 ià(
x
 > 
MAX_ACCEPTABLE_DIGITS
 - 1)

1099 ià(
_šv®id
 !ğ
šv®_ignÜe
)

1100 
	`”rÜ
 (
cÚv_ex™_code
, 0, 
	`_
("valueoo†argeo be…rinted: '%Lg'"

1101 " (ÿÂÙ hªdË v®ue > 999Y)"), 
v®
);

1105 
	`doubË_to_humª
 (
v®
, 
´ecisiÚ
, 
buf
,  (buf), 
sÿË_to
, 
groupšg
,

1106 
_round
);

1107 ià(
suffix
)

1108 
	`¡ºÿt
 (
buf
, 
suffix
,  (bufè- 
	`¡¾’
 (buf) -1);

1110 
	`devmsg
 ("fÜm©tšg ouut:\À v®ue: %Lf\À humªized: '%s'\n", 
v®
, 
buf
);

1112 ià(
·ddšg_width
 && 
	`¡¾’
 (
buf
) <…adding_width)

1114 
size_t
 
w
 = 
·ddšg_width
;

1115 
	`mb§lign
 (
buf
, 
·ddšg_bufãr
, 
·ddšg_bufãr_size
, &
w
,

1116 
·ddšg_®ignm’t
, 
MBA_UNIBYTE_ONLY
);

1118 
	`devmsg
 (" Aá”…addšg: '%s'\n", 
·ddšg_bufãr
);

1122 
	`£tup_·ddšg_bufãr
 (
	`¡¾’
 (
buf
) + 1);

1123 
	`¡rıy
 (
·ddšg_bufãr
, 
buf
);

1127 
	}
}

1130 
	$´št_·dded_numb”
 ()

1132 ià(
fÜm©_¡r_´efix
)

1133 
	`åuts
 (
fÜm©_¡r_´efix
, 
¡dout
);

1135 
	`åuts
 (
·ddšg_bufãr
, 
¡dout
);

1137 ià(
fÜm©_¡r_suffix
)

1138 
	`åuts
 (
fÜm©_¡r_suffix
, 
¡dout
);

1139 
	}
}

1144 
	$´oûss_suffixed_numb”
 (*
‹xt
, *
»suÉ
, 
size_t
 *
´ecisiÚ
)

1146 ià(
suffix
 && 
	`¡¾’
 (
‹xt
) > strlen (suffix))

1148 *
possibË_suffix
 = 
‹xt
 + 
	`¡¾’
 (‹xtè- sŒËÀ(
suffix
);

1150 ià(
	`STREQ
 (
suffix
, 
possibË_suffix
))

1153 *
possibË_suffix
 = '\0';

1154 
	`devmsg
 ("Œimmšg suffix '%s'\n", 
suffix
);

1157 
	`devmsg
 ("no valid suffix found\n");

1161 *
p
 = 
‹xt
;

1162 *
p
 && 
	`isbÏnk
 (*p))

1163 ++
p
;

1164 cÚ¡ 
sk_couÁ
 = 
‹xt
 - 
p
;

1167 ià(
auto_·ddšg
)

1169 ià(
sk_couÁ
 > 0 || 
f›ld
 > 1)

1171 
·ddšg_width
 = 
	`¡¾’
 (
‹xt
);

1172 
	`£tup_·ddšg_bufãr
 (
·ddšg_width
);

1176 
·ddšg_width
 = 0;

1178 
	`devmsg
 ("£‰šg Auto-PaddšgØ%ld ch¬aù”s\n", 
·ddšg_width
);

1181 
v®
 = 0;

1182 
sim¶e_¡¹od_”rÜ
 
e
 = 
	`·r£_humª_numb”
 (
p
, &
v®
, 
´ecisiÚ
);

1183 ià(
e
 =ğ
SSE_OK_PRECISION_LOSS
 && 
debug
)

1184 
	`”rÜ
 (0, 0, 
	`_
("Ïrgšpuˆv®u'%s':…ossibË…»cisiÚ†oss"), 
p
);

1186 ià(
äom_un™_size
 !ğ1 || 
to_un™_size
 != 1)

1187 
v®
 = (v® * 
äom_un™_size
è/ 
to_un™_size
;

1189 *
»suÉ
 = 
v®
;

1191  (
e
 =ğ
SSE_OK
 ||ƒ =ğ
SSE_OK_PRECISION_LOSS
);

1192 
	}
}

1197 
šlše
 *

1198 
__©Œibu‹
 ((
pu»
))

1199 
	$sk_f›lds
 (*
buf
, 
f›lds
)

1201 *
±r
 = 
buf
;

1202 ià(
d–im™”
 !ğ
DELIMITER_DEFAULT
)

1204 ià(*
±r
 =ğ
d–im™”
)

1205 
f›lds
--;

1206 *
±r
 && 
f›lds
--)

1208 *
±r
 && *±¸=ğ
d–im™”
)

1209 ++
±r
;

1210 *
±r
 && *±¸!ğ
d–im™”
)

1211 ++
±r
;

1215 *
±r
 && 
f›lds
--)

1217 *
±r
 && 
	`isbÏnk
 (*ptr))

1218 ++
±r
;

1219 *
±r
 && !
	`isbÏnk
 (*ptr))

1220 ++
±r
;

1222  
±r
;

1223 
	}
}

1237 
	$exŒaù_f›lds
 (*
lše
, 
_f›ld
,

1238 ** 
_´efix
, ** 
_d©a
, ** 
_suffix
)

1240 *
±r
 = 
lše
;

1241 *
_´efix
 = 
NULL
;

1242 *
_d©a
 = 
NULL
;

1243 *
_suffix
 = 
NULL
;

1245 
	`devmsg
 ("exŒaùšg F›lds:\À iÅut: '%s'\À f›ld: %d\n", 
lše
, 
_f›ld
);

1247 ià(
f›ld
 > 1)

1250 *
_´efix
 = 
lše
;

1251 
±r
 = 
	`sk_f›lds
 (
lše
, 
f›ld
 - 1);

1252 ià(*
±r
 == '\0')

1255 
	`devmsg
 (" TOO FEW FIELDS!\À…»fix: '%s'\n", *
_´efix
);

1259 *
±r
 = '\0';

1260 ++
±r
;

1263 *
_d©a
 = 
±r
;

1264 *
_suffix
 = 
	`sk_f›lds
 (*
_d©a
, 1);

1265 ià(**
_suffix
)

1269 **
_suffix
 = '\0';

1270 ++(*
_suffix
);

1273 *
_suffix
 = 
NULL
;

1275 
	`devmsg
 ("…refix: '%s'\n‚umber: '%s'\n suffix: '%s'\n",

1276 *
_´efix
, *
_d©a
, *
_suffix
);

1277 
	}
}

1283 
	$´oûss_lše
 (*
lše
, 
boŞ
 
Ãwlše
)

1285 *
´e
, *
num
, *
suf
;

1286 
v®
 = 0;

1287 
size_t
 
´ecisiÚ
 = 0;

1288 
v®id_numb”
 = 0;

1290 
	`exŒaù_f›lds
 (
lše
, 
f›ld
, &
´e
, &
num
, &
suf
);

1291 ià(!
num
)

1292 ià(
_šv®id
 !ğ
šv®_ignÜe
)

1293 
	`”rÜ
 (
cÚv_ex™_code
, 0, 
	`_
("input†ine isoo short, "

1295 
f›ld
);

1297 ià(
num
)

1299 
v®id_numb”
 = 
	`´oûss_suffixed_numb”
 (
num
, &
v®
, &
´ecisiÚ
);

1300 ià(
v®id_numb”
)

1301 
v®id_numb”
 = 
	`´•¬e_·dded_numb”
 (
v®
, 
´ecisiÚ
);

1304 ià(
´e
)

1305 
	`åuts
 (
´e
, 
¡dout
);

1307 ià(
´e
 && 
num
)

1308 
	`åutc
 ((
d–im™”
 =ğ
DELIMITER_DEFAULT
è? ' ' : d–im™”, 
¡dout
);

1310 ià(
v®id_numb”
)

1312 
	`´št_·dded_numb”
 ();

1316 ià(
num
)

1317 
	`åuts
 (
num
, 
¡dout
);

1320 ià(
suf
)

1322 
	`åutc
 ((
d–im™”
 =ğ
DELIMITER_DEFAULT
è? ' ' : d–im™”, 
¡dout
);

1323 
	`åuts
 (
suf
, 
¡dout
);

1326 ià(
Ãwlše
)

1327 
	`putch¬
 ('\n');

1329  
v®id_numb”
;

1330 
	}
}

1333 
	$maš
 (
¬gc
, **
¬gv
)

1335 
v®id_numb”s
 = 1;

1337 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1338 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1339 
	`£oÿË
 (
LC_ALL
, "");

1340 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1341 
	`‹xtdomaš
 (
PACKAGE
);

1343 
decim®_pošt
 = 
	`Æ_Ïngšfo
 (
RADIXCHAR
);

1344 ià(
decim®_pošt
 =ğ
NULL
 || 
	`¡¾’
 (decimal_point) == 0)

1345 
decim®_pošt
 = ".";

1346 
decim®_pošt_Ëngth
 = 
	`¡¾’
 (
decim®_pošt
);

1348 
	`©ex™
 (
şo£_¡dout
);

1350 
Œue
)

1352 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "d:", 
lÚgİts
, 
NULL
);

1354 ià(
c
 == -1)

1357 
c
)

1359 
FROM_OPTION
:

1360 
sÿË_äom
 = 
	`XARGMATCH
 ("--äom", 
İrg
,

1361 
sÿË_äom_¬gs
, 
sÿË_äom_ty³s
);

1364 
FROM_UNIT_OPTION
:

1365 
äom_un™_size
 = 
	`un™_to_umax
 (
İrg
);

1368 
TO_OPTION
:

1369 
sÿË_to
 =

1370 
	`XARGMATCH
 ("--to", 
İrg
, 
sÿË_to_¬gs
, 
sÿË_to_ty³s
);

1373 
TO_UNIT_OPTION
:

1374 
to_un™_size
 = 
	`un™_to_umax
 (
İrg
);

1377 
ROUND_OPTION
:

1378 
_round
 = 
	`XARGMATCH
 ("--round", 
İrg
, 
round_¬gs
, 
round_ty³s
);

1381 
GROUPING_OPTION
:

1382 
groupšg
 = 1;

1385 
PADDING_OPTION
:

1386 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
·ddšg_width
, ""è!ğ
LONGINT_OK


1387 || 
·ddšg_width
 == 0)

1388 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id…addšg v®u'%s'"), 
İrg
);

1389 ià(
·ddšg_width
 < 0)

1391 
·ddšg_®ignm’t
 = 
MBS_ALIGN_LEFT
;

1392 
·ddšg_width
 = -padding_width;

1398 
FIELD_OPTION
:

1399 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
f›ld
, ""è!ğ
LONGINT_OK


1400 || 
f›ld
 <= 0)

1401 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id f›ld v®u'%s'"), 
İrg
);

1406 ià(
İrg
[0] != '\0' && optarg[1] != '\0')

1407 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1408 
	`_
("the delimiter must be‡ single character"));

1409 
d–im™”
 = 
İrg
[0];

1412 
SUFFIX_OPTION
:

1413 
suffix
 = 
İrg
;

1416 
DEBUG_OPTION
:

1417 
debug
 = 
Œue
;

1420 
DEV_DEBUG_OPTION
:

1421 
dev_debug
 = 
Œue
;

1422 
debug
 = 
Œue
;

1425 
HEADER_OPTION
:

1426 ià(
İrg
)

1428 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
h—d”
, ""è!ğ
LONGINT_OK


1429 || 
h—d”
 == 0)

1430 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid header value '%s'"),

1431 
İrg
);

1435 
h—d”
 = 1;

1439 
FORMAT_OPTION
:

1440 
fÜm©_¡r
 = 
İrg
;

1443 
INVALID_OPTION
:

1444 
_šv®id
 = 
	`XARGMATCH
 ("--šv®id", 
İrg
, 
šv®_¬gs
, 
šv®_ty³s
);

1447 
ÿ£_GETOPT_HELP_CHAR
;

1448 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1451 
	`u§ge
 (
EXIT_FAILURE
);

1455 ià(
fÜm©_¡r
 !ğ
NULL
 && 
groupšg
)

1456 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("--grouping cannot be combined with --format"));

1457 ià(
fÜm©_¡r
 !ğ
NULL
 && 
·ddšg_width
 > 0)

1458 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("--padding cannot be combined with --format"));

1461 ià(
debug
 && 
sÿË_äom
 =ğ
sÿË_nÚe
 && 
sÿË_to
 == scale_none

1462 && !
groupšg
 && (
·ddšg_width
 =ğ0è&& (
fÜm©_¡r
 =ğ
NULL
))

1463 
	`”rÜ
 (0, 0, 
	`_
("no conversion option specified"));

1465 ià(
fÜm©_¡r
)

1466 
	`·r£_fÜm©_¡ršg
 (
fÜm©_¡r
);

1468 ià(
groupšg
)

1470 ià(
sÿË_to
 !ğ
sÿË_nÚe
)

1471 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("grouping cannot be combined with --to"));

1472 ià(
debug
 && (
	`¡¾’
 (
	`Æ_Ïngšfo
 (
THOUSEP
)) == 0))

1473 
	`”rÜ
 (0, 0, 
	`_
("grouping has‚oƒffect inhis†ocale"));

1477 
	`£tup_·ddšg_bufãr
 (
·ddšg_width
);

1478 
auto_·ddšg
 = (
·ddšg_width
 =ğ0 && 
d–im™”
 =ğ
DELIMITER_DEFAULT
);

1480 ià(
_šv®id
 !ğ
šv®_abÜt
)

1481 
cÚv_ex™_code
 = 0;

1483 ià(
¬gc
 > 
İtšd
)

1485 ià(
debug
 && 
h—d”
)

1486 
	`”rÜ
 (0, 0, 
	`_
("--header ignored with command-line input"));

1488 ; 
İtšd
 < 
¬gc
; optind++)

1489 
v®id_numb”s
 &ğ
	`´oûss_lše
 (
¬gv
[
İtšd
], 
Œue
);

1493 *
lše
 = 
NULL
;

1494 
size_t
 
lše_®loÿ‹d
 = 0;

1495 
ssize_t
 
Ën
;

1497 
h—d”
-- && 
	`g‘lše
 (&
lše
, &
lše_®loÿ‹d
, 
¡dš
) > 0)

1498 
	`åuts
 (
lše
, 
¡dout
);

1500 (
Ën
 = 
	`g‘lše
 (&
lše
, &
lše_®loÿ‹d
, 
¡dš
)) > 0)

1502 
boŞ
 
Ãwlše
 = 
lše
[
Ën
 - 1] == '\n';

1503 ià(
Ãwlše
)

1504 
lše
[
Ën
 - 1] = '\0';

1505 
v®id_numb”s
 &ğ
	`´oûss_lše
 (
lše
, 
Ãwlše
);

1508 
	`IF_LINT
 (
	`ä“
 (
lše
));

1510 ià(
	`ã¼Ü
 (
¡dš
))

1511 
	`”rÜ
 (0, 
”ºo
, 
	`_
("error„eading input"));

1514 
	`ä“
 (
·ddšg_bufãr
);

1515 
	`ä“
 (
fÜm©_¡r_´efix
);

1516 
	`ä“
 (
fÜm©_¡r_suffix
);

1519 ià(
debug
 && !
v®id_numb”s
)

1520 
	`”rÜ
 (0, 0, 
	`_
("failedo convert some ofhe input‚umbers"));

1522 
ex™_¡©us
 = 
EXIT_SUCCESS
;

1523 ià(!
v®id_numb”s
 && 
_šv®id
 !ğ
šv®_w¬n
 && _šv®id !ğ
šv®_ignÜe
)

1524 
ex™_¡©us
 = 
EXIT_CONVERSION_WARNINGS
;

1526 
	`ex™
 (
ex™_¡©us
);

1527 
	}
}

	@od.c

19 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<as£¹.h
>

23 
	~<g‘İt.h
>

24 
	~<sys/ty³s.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"áß¡r.h
"

28 
	~"quÙe.h
"

29 
	~"xäeİ’.h
"

30 
	~"x´štf.h
"

31 
	~"x¡¹Ş.h
"

34 
	#PROGRAM_NAME
 "od"

	)

36 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

39 
	#DEFAULT_BYTES_PER_BLOCK
 16

	)

41 #ià
HAVE_UNSIGNED_LONG_LONG_INT


42 
	tunsigÃd_lÚg_lÚg_št
;

46 
	tunsigÃd_lÚg_lÚg_št
;

49 
	esize_¥ec


51 
	mNO_SIZE
,

52 
	mCHAR
,

53 
	mSHORT
,

54 
	mINT
,

55 
	mLONG
,

56 
	mLONG_LONG
,

58 
	mFLOAT_SINGLE
,

59 
	mFLOAT_DOUBLE
,

60 
	mFLOAT_LONG_DOUBLE
,

61 
	mN_SIZE_SPECS


64 
	eouut_fÜm©


66 
	mSIGNED_DECIMAL
,

67 
	mUNSIGNED_DECIMAL
,

68 
	mOCTAL
,

69 
	mHEXADECIMAL
,

70 
	mFLOATING_POINT
,

71 
	mNAMED_CHARACTER
,

72 
	mCHARACTER


75 
	#MAX_INTEGRAL_TYPE_SIZE
  (
unsigÃd_lÚg_lÚg_št
)

	)

83 
	mFMT_BYTES_ALLOCATED
 =

85 + 
MAX
 ( "ld",

86 
MAX
 ( 
PRIdMAX
,

87 
MAX
 ( 
PRIoMAX
,

88 
MAX
 ( 
PRIuMAX
,

89  
PRIxMAX
)))))

93 
v”ify
 (
MAX_INTEGRAL_TYPE_SIZE
 * 
CHAR_BIT
 / 3 <= 99);

97 
	st¥ec


99 
ouut_fÜm©
 
	mfmt
;

100 
size_¥ec
 
	msize
;

105 (*
	m´št_funùiÚ
è(
size_t
 
	mf›lds
, size_ˆ
	mbÏnk
, cÚ¡ *
	md©a
,

106 cÚ¡ *
	mfmt
, 
	mwidth
, 
	m·d
);

107 
	mfmt_¡ršg
[
FMT_BYTES_ALLOCATED
];

108 
boŞ
 
	mhexl_mode_Œa”
;

109 
	mf›ld_width
;

110 
	m·d_width
;

123 cÚ¡ 
	gby‹s_to_où_dig™s
[] =

126 cÚ¡ 
	gby‹s_to_sigÃd_dec_dig™s
[] =

129 cÚ¡ 
	gby‹s_to_unsigÃd_dec_dig™s
[] =

132 cÚ¡ 
	gby‹s_to_hex_dig™s
[] =

138 
v”ify
 (
MAX_INTEGRAL_TYPE_SIZE
 < 
ARRAY_CARDINALITY
 (
by‹s_to_hex_dig™s
));

141 
v”ify
 ( 
by‹s_to_où_dig™s
 =ğ 
by‹s_to_sigÃd_dec_dig™s
);

142 
v”ify
 ( 
by‹s_to_où_dig™s
 =ğ 
by‹s_to_unsigÃd_dec_dig™s
);

143 
v”ify
 ( 
by‹s_to_où_dig™s
 =ğ 
by‹s_to_hex_dig™s
);

146 cÚ¡ 
	gwidth_by‹s
[] =

153  (
unsigÃd_lÚg_lÚg_št
),

161 
v”ify
 (
ARRAY_CARDINALITY
 (
width_by‹s
è=ğ
N_SIZE_SPECS
);

164 cÚ¡ 
	gch¬Çme
[33][4] =

174 
	gadd»ss_ba£
;

178 
	#MAX_ADDRESS_LENGTH
 \

179 (( (
uštmax_t
è* 
CHAR_BIT
 + CHAR_BIT - 1è/ 3)

	)

182 
	gadd»ss_·d_Ën
;

185 
size_t
 
	g¡ršg_mš
;

188 
boŞ
 
	gæag_dump_¡ršgs
;

193 
boŞ
 
	gŒad™iÚ®
;

196 
boŞ
 
	gæag_p£udo_¡¬t
;

200 
uštmax_t
 
	gp£udo_off£t
;

204 (*
fÜm©_add»ss
è(
uštmax_t
, );

207 
uštmax_t
 
n_by‹s_to_sk
 = 0;

211 
boŞ
 
lim™_by‹s_to_fÜm©
 = 
çl£
;

214 
uštmax_t
 
max_by‹s_to_fÜm©
;

217 
uštmax_t
 
’d_off£t
;

222 
boŞ
 
abb»vŸ‹_du¶iÿ‹_blocks
 = 
Œue
;

225 
t¥ec
 *
¥ec
;

228 
size_t
 
n_¥ecs
;

231 
size_t
 
n_¥ecs_®loÿ‹d
;

237 
size_t
 
by‹s_³r_block
;

241 cÚ¡ *
šput_f’ame
;

244 cÚ¡ *cÚ¡ *
fe_li¡
;

248 cÚ¡ *cÚ¡ 
deçuÉ_fe_li¡
[] = {"-", 
NULL
};

251 
FILE
 *
	gš_¡»am
;

254 
boŞ
 
	ghave_»ad_¡dš
;

257 
size_¥ec
 
	gš‹g¿l_ty³_size
[
MAX_INTEGRAL_TYPE_SIZE
 + 1];

259 
	#MAX_FP_TYPE_SIZE
  ()

	)

260 
size_¥ec
 
	gå_ty³_size
[
MAX_FP_TYPE_SIZE
 + 1];

262 cÚ¡ 
	gshÜt_İtiÚs
[] = "A:aBbcDdeFfHhIij:LlN:OoS:st:vw::Xx";

268 
	mTRADITIONAL_OPTION
 = 
CHAR_MAX
 + 1

271 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

273 {"sk-by‹s", 
»quœed_¬gum’t
, 
NULL
, 'j'},

274 {"add»ss-¿dix", 
»quœed_¬gum’t
, 
NULL
, 'A'},

275 {"»ad-by‹s", 
»quœed_¬gum’t
, 
NULL
, 'N'},

276 {"fÜm©", 
»quœed_¬gum’t
, 
NULL
, 't'},

277 {"ouut-du¶iÿ‹s", 
no_¬gum’t
, 
NULL
, 'v'},

278 {"¡ršgs", 
İtiÚ®_¬gum’t
, 
NULL
, 'S'},

279 {"Œad™iÚ®", 
no_¬gum’t
, 
NULL
, 
TRADITIONAL_OPTION
},

280 {"width", 
İtiÚ®_¬gum’t
, 
NULL
, 'w'},

282 {
GETOPT_HELP_OPTION_DECL
},

283 {
GETOPT_VERSION_OPTION_DECL
},

284 {
NULL
, 0, NULL, 0}

288 
	$u§ge
 (
¡©us
)

290 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

291 
	`em™_Œy_h–p
 ();

294 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [-abcdfilosx]... [FILE] [[+]OFFSET[.][b]]\n\
: %s --traditional [OPTION]... [FILE] [[+]OFFSET[.][b] [+][LABEL][.][b]]\n\
"),

299 
´og¿m_Çme
,…rogram_name,…rogram_name);

300 
	`åuts
 (
	`_
("\n\
‡ÀuÇmbiguou »´e£Á©iÚ, où® by‹ by deçuÉ,\n\
 FILEØ¡ªd¬d ouut. W™h mÜthª oÃ FILE‡rgum’t,\n\
hem iÀthli¡ed ord”ØfÜmhšput.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
\n\
"), 
¡dout
);

307 
	`åuts
 (
	`_
("\
 fœ¡‡nd secÚd c®ÈfÜm© bÙh‡µly,h£cÚd fÜm© i assumed\n\
hÏ¡ o³¿nd begš w™h + o¸(iàth”¬2 o³¿ndsè¨dig™.\n\
 OFFSET o³¿nd m—n -j OFFSET. LABEL i thp£udo-add»ss\n\
 fœ¡ by‹…rš‹d, inüem’‹d wh’ dum°i ´og»ssšg.\n\
 OFFSET‡nd LABEL,‡ 0x o¸0X…»fix indiÿ‹ hexadecim®;\n\
 may b. fÜ où®‡nd b fÜ muÉly by 512.\n\
"), 
¡dout
);

316 
	`em™_mªd©Üy_¬g_nÙe
 ();

318 
	`åuts
 (
	`_
("\
-A, --add»ss-¿dix=RADIX ouuˆfÜm© fÜ foff£ts. RADIX i Úe\n\
 [doxn], fÜ Decim®, Où®, Hex o¸NÚe\n\
-j, --sk-by‹s=BYTES sk BYTES iÅuˆby‹ fœ¡\n\
"), 
¡dout
);

323 
	`åuts
 (
	`_
("\
-N, --»ad-by‹s=BYTES†im™ dum°tØBYTES iÅuˆby‹s\n\
-S BYTES, --¡ršgs[=BYTES] ouuˆ¡ršg oà©†—¡ BYTES g¿phiøch¬s.\
\n\
3 i im¶›d wh’ BYTES i nÙ s³cif›d\n\
-t, --fÜm©=TYPE s–eù ouuˆfÜm© o¸fÜm©s\n\
-v, --ouut-du¶iÿ‹  dØnÙ u£ *Øm¬k†šsuµ»ssiÚ\n\
-w[BYTES], --width[=BYTES] ouuˆBYTES by‹ ³¸ouuˆlše.\n\
32 i im¶›d wh’ BYTES i nÙ s³cif›d\n\
--Œad™iÚ®‡cû±‡rgum’t šhœd fÜm‡bove\n\
"), 
¡dout
);

334 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

335 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

336 
	`åuts
 (
	`_
("\
\n\
\n\
 fÜm© s³cifiÿtiÚ may bš‹rmixed;hey‡ccumuÏ‹:\n\
-¨ sama -ˆa, s–eù‚amed ch¬aù”s, ignÜšg high-Üd” b™\n\
-b sama -ˆo1, s–eù où® by‹s\n\
-ø sama -ˆc, s–eù ASCII ch¬aù” Ü back¦ashƒsÿ³s\n\
-d sama -ˆu2, s–eù unsigÃd decim® 2-by‹ un™s\n\
"), 
¡dout
);

345 
	`åuts
 (
	`_
("\
-à sama -ˆfF, s–eù flßts\n\
-˜ sama -ˆdI, s–eù decim® iÁs\n\
-È sama -ˆdL, s–eù decim®†Úgs\n\
-Ø sama -ˆo2, s–eù où® 2-by‹ un™s\n\
-  sama -ˆd2, s–eù decim® 2-by‹ un™s\n\
-x sama -ˆx2, s–eù hexadecim® 2-by‹ un™s\n\
"), 
¡dout
);

353 
	`åuts
 (
	`_
("\
\n\
\n\
 i madu°oàÚÜ mÜoàthe£ s³cifiÿtiÚs:\n\
‚amed ch¬aù”, ignÜšg high-Üd” b™\n\
 ASCII ch¬aù” o¸back¦ashƒsÿ³\n\
"), 
¡dout
);

360 
	`åuts
 (
	`_
("\
[SIZE] sigÃd decim®, SIZE by‹ ³¸š‹g”\n\
[SIZE] flßtšg…ošt, SIZE by‹ ³¸š‹g”\n\
[SIZE] où®, SIZE by‹ ³¸š‹g”\n\
[SIZE] unsigÃd decim®, SIZE by‹ ³¸š‹g”\n\
[SIZE] hexadecim®, SIZE by‹ ³¸š‹g”\n\
"), 
¡dout
);

367 
	`åuts
 (
	`_
("\
\n\
 i ¨numb”. FÜ TYPE iÀ[doux], SIZE may‡lsØbC fÜ\n\
(ch¬), S fÜ sizeof(shÜt), I fÜ sizeof(štèÜ L fÜ\n\
ÖÚg). IàTYPE i f, SIZE may‡lsØbF fÜ sizeof(æßt), D\n\
 sizeof(doubËèÜ L fÜ sizeofÖÚg doubË).\n\
"), 
¡dout
);

374 
	`åuts
 (
	`_
("\
\n\
‡ z suffixØªyy³ di¥Ïy ´šbË ch¬aù” ©h’d of\n\
 ouuˆlše.\n\
"), 
¡dout
);

379 
	`åuts
 (
	`_
("\
\n\
\n\
 i hex w™h 0x o¸0X…»fix,‡nd may hav¨muÉl›¸suffix:\n\
 512\n\
 1000\n\
 1024\n\
 1000*1000\n\
 1024*1024\n\
 sØÚ fÜ G, T, P, E, Z, Y.\n\
"), 
¡dout
);

390 
	`em™_ªcÏry_šfo
 ();

392 
	`ex™
 (
¡©us
);

393 
	}
}

397 
	#PRINT_FIELDS
(
N
, 
T
, 
FMT_STRING
, 
ACTION
) \

399 
	`N
 (
size_t
 
f›lds
, size_ˆ
bÏnk
, cÚ¡ *
block
, \

400 cÚ¡ *
FMT_STRING
, 
width
, 
·d
) \

402 
T
 cÚ¡ *
p
 = 
block
; \

403 
size_t
 
i
; \

404 
·d_»maššg
 = 
·d
; \

405 
i
 = 
f›lds
; 
bÏnk
 < i; i--) \

407 
Ãxt_·d
 = 
·d
 * (
i
 - 1è/ 
f›lds
; \

408 
adju¡ed_width
 = 
·d_»maššg
 - 
Ãxt_·d
 + 
width
; \

409 
T
 
x
 = *
p
++; \

410 
ACTION
; \

411 
·d_»maššg
 = 
Ãxt_·d
; \

413 }

	)

415 
	#PRINT_TYPE
(
N
, 
T
) \

416 
	`PRINT_FIELDS
 (
N
, 
T
, 
fmt_¡ršg
, 
	`x´štf
 (fmt_¡ršg, 
adju¡ed_width
, 
x
))

	)

418 
	#PRINT_FLOATTYPE
(
N
, 
T
, 
FTOASTR
, 
BUFSIZE
) \

419 
	`PRINT_FIELDS
 (
N
, 
T
, 
fmt_¡ršg
 
ATTRIBUTE_UNUSED
, \

420 
buf
[
BUFSIZE
]; \

421 
	`FTOASTR
 (
buf
,  buf, 0, 0, 
x
); \

422 
	`x´štf
 ("%*s", 
adju¡ed_width
, 
buf
))

	)

424 
	$PRINT_TYPE
 (
´št_s_ch¬
, signed )

425 
	$PRINT_TYPE
 (
´št_ch¬
, )

426 
	$PRINT_TYPE
 (
´št_s_shÜt
, )

427 
	$PRINT_TYPE
 (
´št_shÜt
, )

428 
	$PRINT_TYPE
 (
´št_št
, )

429 
	$PRINT_TYPE
 (
´št_lÚg
, )

430 
	$PRINT_TYPE
 (
´št_lÚg_lÚg
, 
unsigÃd_lÚg_lÚg_št
)

432 
	$PRINT_FLOATTYPE
 (
´št_æßt
, , 
áß¡r
, 
FLT_BUFSIZE_BOUND
)

433 
	$PRINT_FLOATTYPE
 (
´št_doubË
, , 
dtß¡r
, 
DBL_BUFSIZE_BOUND
)

434 
	$PRINT_FLOATTYPE
 (
´št_lÚg_doubË
, , 
ldtß¡r
, 
LDBL_BUFSIZE_BOUND
)

436 #undeà
PRINT_TYPE


437 #undeà
PRINT_FLOATTYPE


440 
	$dump_hexl_mode_Œa”
 (
size_t
 
n_by‹s
, cÚ¡ *
block
)

442 
size_t
 
i
;

443 
	`åuts
 (" >", 
¡dout
);

444 
i
 = 
n_by‹s
; i > 0; i--)

446 
c
 = *
block
++;

447 
c2
 = (
	`i¥ršt
 (
c
) ? c : '.');

448 
	`putch¬
 (
c2
);

450 
	`putch¬
 ('<');

451 
	}
}

454 
	$´št_Çmed_ascii
 (
size_t
 
f›lds
, size_ˆ
bÏnk
, cÚ¡ *
block
,

455 cÚ¡ *
unu£d_fmt_¡ršg
 
ATTRIBUTE_UNUSED
,

456 
width
, 
·d
)

458 cÚ¡ *
p
 = 
block
;

459 
size_t
 
i
;

460 
·d_»maššg
 = 
·d
;

461 
i
 = 
f›lds
; 
bÏnk
 < i; i--)

463 
Ãxt_·d
 = 
·d
 * (
i
 - 1è/ 
f›lds
;

464 
masked_c
 = *
p
++ & 0x7f;

465 cÚ¡ *
s
;

466 
buf
[2];

468 ià(
masked_c
 == 127)

469 
s
 = "del";

470 ià(
masked_c
 <= 040)

471 
s
 = 
ch¬Çme
[
masked_c
];

474 
buf
[0] = 
masked_c
;

475 
buf
[1] = 0;

476 
s
 = 
buf
;

479 
	`x´štf
 ("%*s", 
·d_»maššg
 - 
Ãxt_·d
 + 
width
, 
s
);

480 
·d_»maššg
 = 
Ãxt_·d
;

482 
	}
}

485 
	$´št_ascii
 (
size_t
 
f›lds
, size_ˆ
bÏnk
, cÚ¡ *
block
,

486 cÚ¡ *
unu£d_fmt_¡ršg
 
ATTRIBUTE_UNUSED
, 
width
,

487 
·d
)

489 cÚ¡ *
p
 = 
block
;

490 
size_t
 
i
;

491 
·d_»maššg
 = 
·d
;

492 
i
 = 
f›lds
; 
bÏnk
 < i; i--)

494 
Ãxt_·d
 = 
·d
 * (
i
 - 1è/ 
f›lds
;

495 
c
 = *
p
++;

496 cÚ¡ *
s
;

497 
buf
[4];

499 
c
)

502 
s
 = "\\0";

506 
s
 = "\\a";

510 
s
 = "\\b";

514 
s
 = "\\f";

518 
s
 = "\\n";

522 
s
 = "\\r";

526 
s
 = "\\t";

530 
s
 = "\\v";

534 
	`¥rštf
 (
buf
, (
	`i¥ršt
 (
c
) ? "%c" : "%03o"), c);

535 
s
 = 
buf
;

538 
	`x´štf
 ("%*s", 
·d_»maššg
 - 
Ãxt_·d
 + 
width
, 
s
);

539 
·d_»maššg
 = 
Ãxt_·d
;

541 
	}
}

551 
boŞ


552 
	$sim¶e_¡¹oul
 (cÚ¡ *
s
, cÚ¡ **
p
, *
v®
)

554 
sum
;

556 
sum
 = 0;

557 
	`ISDIGIT
 (*
s
))

559 
c
 = *
s
++ - '0';

560 ià(
sum
 > (
ULONG_MAX
 - 
c
) / 10)

561  
çl£
;

562 
sum
 = sum * 10 + 
c
;

564 *
p
 = 
s
;

565 *
v®
 = 
sum
;

566  
Œue
;

567 
	}
}

588 
boŞ


589 
	$decode_Úe_fÜm©
 (cÚ¡ *
s_Üig
, cÚ¡ *
s
, cÚ¡ **
Ãxt
,

590 
t¥ec
 *tspec)

592 
size_¥ec
 size_spec;

593 
size
;

594 
ouut_fÜm©
 
fmt
;

595 (*
´št_funùiÚ
è(
size_t
, size_t, const *, const *,

597 cÚ¡ *
p
;

598 
c
;

599 
f›ld_width
;

601 
	`as£¹
 (
t¥ec
 !ğ
NULL
);

603 *
s
)

609 
c
 = *
s
;

610 ++
s
;

611 *
s
)

614 ++
s
;

615 
size
 =  ();

619 ++
s
;

620 
size
 =  ();

624 ++
s
;

625 
size
 =  ();

629 ++
s
;

630 
size
 =  ();

634 ià(! 
	`sim¶e_¡¹oul
 (
s
, &
p
, &
size
))

639 
	`”rÜ
 (0, 0, 
	`_
("šv®idy³ sŒšg %s"), 
	`quÙe
 (
s_Üig
));

640  
çl£
;

642 ià(
p
 =ğ
s
)

643 
size
 =  ();

646 ià(
MAX_INTEGRAL_TYPE_SIZE
 < 
size


647 || 
š‹g¿l_ty³_size
[
size
] =ğ
NO_SIZE
)

649 
	`”rÜ
 (0, 0, 
	`_
("invalidype string %s;\nthis system"

651 
	`quÙe
 (
s_Üig
), 
size
);

652  
çl£
;

654 
s
 = 
p
;

659 
	#ISPEC_TO_FORMAT
(
S³c
, 
Mš_fÜm©
, 
LÚg_fÜm©
, 
Max_fÜm©
) \

660 ((
S³c
è=ğ
LONG_LONG
 ? (
Max_fÜm©
) \

661 : ((
S³c
è=ğ
LONG
 ? (
LÚg_fÜm©
) \

662 : (
Mš_fÜm©
))) \

663 

	)

664 
size_¥ec
 = 
š‹g¿l_ty³_size
[
size
];

666 
c
)

669 
fmt
 = 
SIGNED_DECIMAL
;

670 
f›ld_width
 = 
by‹s_to_sigÃd_dec_dig™s
[
size
];

671 
	`¥rštf
 (
t¥ec
->
fmt_¡ršg
, "%%*%s",

672 
	`ISPEC_TO_FORMAT
 (
size_¥ec
, "d", "ld", 
PRIdMAX
));

676 
fmt
 = 
OCTAL
;

677 
	`¥rštf
 (
t¥ec
->
fmt_¡ršg
, "%%*.%d%s",

678 (
f›ld_width
 = 
by‹s_to_où_dig™s
[
size
]),

679 
	`ISPEC_TO_FORMAT
 (
size_¥ec
, "o", "lo", 
PRIoMAX
));

683 
fmt
 = 
UNSIGNED_DECIMAL
;

684 
f›ld_width
 = 
by‹s_to_unsigÃd_dec_dig™s
[
size
];

685 
	`¥rštf
 (
t¥ec
->
fmt_¡ršg
, "%%*%s",

686 
	`ISPEC_TO_FORMAT
 (
size_¥ec
, "u", "lu", 
PRIuMAX
));

690 
fmt
 = 
HEXADECIMAL
;

691 
	`¥rštf
 (
t¥ec
->
fmt_¡ršg
, "%%*.%d%s",

692 (
f›ld_width
 = 
by‹s_to_hex_dig™s
[
size
]),

693 
	`ISPEC_TO_FORMAT
 (
size_¥ec
, "x", "lx", 
PRIxMAX
));

697 
	`abÜt
 ();

700 
	`as£¹
 (
	`¡¾’
 (
t¥ec
->
fmt_¡ršg
è< 
FMT_BYTES_ALLOCATED
);

702 
size_¥ec
)

704 
CHAR
:

705 
´št_funùiÚ
 = (
fmt
 =ğ
SIGNED_DECIMAL


706 ? 
´št_s_ch¬


707 : 
´št_ch¬
);

710 
SHORT
:

711 
´št_funùiÚ
 = (
fmt
 =ğ
SIGNED_DECIMAL


712 ? 
´št_s_shÜt


713 : 
´št_shÜt
);

716 
INT
:

717 
´št_funùiÚ
 = 
´št_št
;

720 
LONG
:

721 
´št_funùiÚ
 = 
´št_lÚg
;

724 
LONG_LONG
:

725 
´št_funùiÚ
 = 
´št_lÚg_lÚg
;

729 
	`abÜt
 ();

734 
fmt
 = 
FLOATING_POINT
;

735 ++
s
;

736 *
s
)

739 ++
s
;

740 
size
 =  ();

744 ++
s
;

745 
size
 =  ();

749 ++
s
;

750 
size
 =  ();

754 ià(! 
	`sim¶e_¡¹oul
 (
s
, &
p
, &
size
))

759 
	`”rÜ
 (0, 0, 
	`_
("šv®idy³ sŒšg %s"), 
	`quÙe
 (
s_Üig
));

760  
çl£
;

762 ià(
p
 =ğ
s
)

763 
size
 =  ();

766 ià(
size
 > 
MAX_FP_TYPE_SIZE


767 || 
å_ty³_size
[
size
] =ğ
NO_SIZE
)

769 
	`”rÜ
 (0, 0,

770 
	`_
("invalidype string %s;\n"

773 
	`quÙe
 (
s_Üig
), 
size
);

774  
çl£
;

776 
s
 = 
p
;

780 
size_¥ec
 = 
å_ty³_size
[
size
];

783 
lcÚv
 cÚ¡ *
loÿË
 = 
	`loÿËcÚv
 ();

784 
size_t
 
decim®_pošt_Ën
 =

785 (
loÿË
->
decim®_pošt
[0] ? 
	`¡¾’
 (locale->decimal_point) : 1);

787 
size_¥ec
)

789 
FLOAT_SINGLE
:

790 
´št_funùiÚ
 = 
´št_æßt
;

791 
f›ld_width
 = 
	`FLT_STRLEN_BOUND_L
 (
decim®_pošt_Ën
);

794 
FLOAT_DOUBLE
:

795 
´št_funùiÚ
 = 
´št_doubË
;

796 
f›ld_width
 = 
	`DBL_STRLEN_BOUND_L
 (
decim®_pošt_Ën
);

799 
FLOAT_LONG_DOUBLE
:

800 
´št_funùiÚ
 = 
´št_lÚg_doubË
;

801 
f›ld_width
 = 
	`LDBL_STRLEN_BOUND_L
 (
decim®_pošt_Ën
);

805 
	`abÜt
 ();

812 ++
s
;

813 
fmt
 = 
NAMED_CHARACTER
;

814 
size_¥ec
 = 
CHAR
;

815 
´št_funùiÚ
 = 
´št_Çmed_ascii
;

816 
f›ld_width
 = 3;

820 ++
s
;

821 
fmt
 = 
CHARACTER
;

822 
size_¥ec
 = 
CHAR
;

823 
´št_funùiÚ
 = 
´št_ascii
;

824 
f›ld_width
 = 3;

828 
	`”rÜ
 (0, 0, 
	`_
("invalid character '%c' inype string %s"),

829 *
s
, 
	`quÙe
 (
s_Üig
));

830  
çl£
;

833 
t¥ec
->
size
 = 
size_¥ec
;

834 
t¥ec
->
fmt
 = fmt;

835 
t¥ec
->
´št_funùiÚ
 =…rint_function;

837 
t¥ec
->
f›ld_width
 = field_width;

838 
t¥ec
->
hexl_mode_Œa”
 = (*
s
 == 'z');

839 ià(
t¥ec
->
hexl_mode_Œa”
)

840 
s
++;

842 ià(
Ãxt
 !ğ
NULL
)

843 *
Ãxt
 = 
s
;

845  
Œue
;

846 
	}
}

855 
boŞ


856 
	$İ’_Ãxt_fe
 ()

858 
boŞ
 
ok
 = 
Œue
;

862 
šput_f’ame
 = *
fe_li¡
;

863 ià(
šput_f’ame
 =ğ
NULL
)

864  
ok
;

865 ++
fe_li¡
;

867 ià(
	`STREQ
 (
šput_f’ame
, "-"))

869 
šput_f’ame
 = 
	`_
("standard input");

870 
š_¡»am
 = 
¡dš
;

871 
have_»ad_¡dš
 = 
Œue
;

872 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

873 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

877 
š_¡»am
 = 
	`fİ’
 (
šput_f’ame
, (
O_BINARY
 ? "rb" : "r"));

878 ià(
š_¡»am
 =ğ
NULL
)

880 
	`”rÜ
 (0, 
”ºo
, "%s", 
šput_f’ame
);

881 
ok
 = 
çl£
;

885 
š_¡»am
 =ğ
NULL
);

887 ià(
lim™_by‹s_to_fÜm©
 && !
æag_dump_¡ršgs
)

888 
	`£tvbuf
 (
š_¡»am
, 
NULL
, 
_IONBF
, 0);

890  
ok
;

891 
	}
}

900 
boŞ


901 
	$check_ªd_şo£
 (
š_”ºo
)

903 
boŞ
 
ok
 = 
Œue
;

905 ià(
š_¡»am
 !ğ
NULL
)

907 ià(
	`ã¼Ü
 (
š_¡»am
))

909 
	`”rÜ
 (0, 
š_”ºo
, 
	`_
("%s:„—dƒ¼Ü"), 
šput_f’ame
);

910 ià(! 
	`STREQ
 (
fe_li¡
[-1], "-"))

911 
	`fşo£
 (
š_¡»am
);

912 
ok
 = 
çl£
;

914 ià(! 
	`STREQ
 (
fe_li¡
[-1], "-"è&& 
	`fşo£
 (
š_¡»am
) != 0)

916 
	`”rÜ
 (0, 
”ºo
, "%s", 
šput_f’ame
);

917 
ok
 = 
çl£
;

920 
š_¡»am
 = 
NULL
;

923 ià(
	`ã¼Ü
 (
¡dout
))

925 
	`”rÜ
 (0, 0, 
	`_
("writeƒrror"));

926 
ok
 = 
çl£
;

929  
ok
;

930 
	}
}

936 
boŞ


937 
	$decode_fÜm©_¡ršg
 (cÚ¡ *
s
)

939 cÚ¡ *
s_Üig
 = 
s
;

940 
	`as£¹
 (
s
 !ğ
NULL
);

942 *
s
 != '\0')

944 cÚ¡ *
Ãxt
;

946 ià(
n_¥ecs_®loÿ‹d
 <ğ
n_¥ecs
)

947 
¥ec
 = 
	`X2NREALLOC
 (¥ec, &
n_¥ecs_®loÿ‹d
);

949 ià(! 
	`decode_Úe_fÜm©
 (
s_Üig
, 
s
, &
Ãxt
, &
¥ec
[
n_¥ecs
]))

950  
çl£
;

952 
	`as£¹
 (
s
 !ğ
Ãxt
);

953 
s
 = 
Ãxt
;

954 ++
n_¥ecs
;

957  
Œue
;

958 
	}
}

967 
boŞ


968 
	$sk
 (
uštmax_t
 
n_sk
)

970 
boŞ
 
ok
 = 
Œue
;

971 
š_”ºo
 = 0;

973 ià(
n_sk
 == 0)

974  
Œue
;

976 
š_¡»am
 !ğ
NULL
)

978 
¡©
 
fe_¡©s
;

990 ià(
	`f¡©
 (
	`f’o
 (
š_¡»am
), &
fe_¡©s
) == 0)

998 ià(
	`S_ISREG
 (
fe_¡©s
.
¡_mode
è&& 0 < fe_¡©s.
¡_size
)

1000 ià((
uštmax_t
è
fe_¡©s
.
¡_size
 < 
n_sk
)

1001 
n_sk
 -ğ
fe_¡©s
.
¡_size
;

1004 ià(
	`f£eko
 (
š_¡»am
, 
n_sk
, 
SEEK_CUR
) != 0)

1006 
š_”ºo
 = 
”ºo
;

1007 
ok
 = 
çl£
;

1009 
n_sk
 = 0;

1018 
buf
[
BUFSIZ
];

1019 
size_t
 
n_by‹s_»ad
, 
n_by‹s_to_»ad
 = 
BUFSIZ
;

1021 0 < 
n_sk
)

1023 ià(
n_sk
 < 
n_by‹s_to_»ad
)

1024 
n_by‹s_to_»ad
 = 
n_sk
;

1025 
n_by‹s_»ad
 = 
	`ä—d
 (
buf
, 1, 
n_by‹s_to_»ad
, 
š_¡»am
);

1026 
n_sk
 -ğ
n_by‹s_»ad
;

1027 ià(
n_by‹s_»ad
 !ğ
n_by‹s_to_»ad
)

1029 
š_”ºo
 = 
”ºo
;

1030 
ok
 = 
çl£
;

1031 
n_sk
 = 0;

1037 ià(
n_sk
 == 0)

1043 
	`”rÜ
 (0, 
”ºo
, "%s", 
šput_f’ame
);

1044 
ok
 = 
çl£
;

1047 
ok
 &ğ
	`check_ªd_şo£
 (
š_”ºo
);

1049 
ok
 &ğ
	`İ’_Ãxt_fe
 ();

1052 ià(
n_sk
 != 0)

1053 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot skip…astƒnd of combined input"));

1055  
ok
;

1056 
	}
}

1059 
	$fÜm©_add»ss_nÚe
 (
uštmax_t
 
add»ss
 
ATTRIBUTE_UNUSED
,

1060 
c
 
ATTRIBUTE_UNUSED
)

1062 
	}
}

1065 
	$fÜm©_add»ss_¡d
 (
uštmax_t
 
add»ss
, 
c
)

1067 
buf
[
MAX_ADDRESS_LENGTH
 + 2];

1068 *
p
 = 
buf
 +  buf;

1069 cÚ¡ *
pbound
;

1071 *--
p
 = '\0';

1072 *--
p
 = 
c
;

1073 
pbound
 = 
p
 - 
add»ss_·d_Ën
;

1077 
add»ss_ba£
)

1081 *--
p
 = '0' + (
add»ss
 & 7);

1082 (
add»ss
 >>= 3) != 0);

1087 *--
p
 = '0' + (
add»ss
 % 10);

1088 (
add»ss
 /= 10) != 0);

1093 *--
p
 = "0123456789abcdef"[
add»ss
 & 15];

1094 (
add»ss
 >>= 4) != 0);

1098 
pbound
 < 
p
)

1099 *--
p
 = '0';

1101 
	`åuts
 (
p
, 
¡dout
);

1102 
	}
}

1105 
	$fÜm©_add»ss_·»n
 (
uštmax_t
 
add»ss
, 
c
)

1107 
	`putch¬
 ('(');

1108 
	`fÜm©_add»ss_¡d
 (
add»ss
, ')');

1109 ià(
c
)

1110 
	`putch¬
 (
c
);

1111 
	}
}

1114 
	$fÜm©_add»ss_Ïb–
 (
uštmax_t
 
add»ss
, 
c
)

1116 
	`fÜm©_add»ss_¡d
 (
add»ss
, ' ');

1117 
	`fÜm©_add»ss_·»n
 (
add»ss
 + 
p£udo_off£t
, 
c
);

1118 
	}
}

1131 
	$wr™e_block
 (
uštmax_t
 
cu¼’t_off£t
, 
size_t
 
n_by‹s
,

1132 cÚ¡ *
´ev_block
, cÚ¡ *
cu¼_block
)

1134 
boŞ
 
fœ¡
 = 
Œue
;

1135 
boŞ
 
´ev_·œ_equ®
 = 
çl£
;

1137 
	#EQUAL_BLOCKS
(
b1
, 
b2
è(
	`memcmp
 (b1, b2, 
by‹s_³r_block
è=ğ0)

	)

1139 ià(
abb»vŸ‹_du¶iÿ‹_blocks


1140 && !
fœ¡
 && 
n_by‹s
 =ğ
by‹s_³r_block


1141 && 
	`EQUAL_BLOCKS
 (
´ev_block
, 
cu¼_block
))

1143 ià(
´ev_·œ_equ®
)

1150 
	`´štf
 ("*\n");

1151 
´ev_·œ_equ®
 = 
Œue
;

1156 
size_t
 
i
;

1158 
´ev_·œ_equ®
 = 
çl£
;

1159 
i
 = 0; i < 
n_¥ecs
; i++)

1161 
d©um_width
 = 
width_by‹s
[
¥ec
[
i
].
size
];

1162 
f›lds_³r_block
 = 
by‹s_³r_block
 / 
d©um_width
;

1163 
bÏnk_f›lds
 = (
by‹s_³r_block
 - 
n_by‹s
è/ 
d©um_width
;

1164 ià(
i
 == 0)

1165 
	`fÜm©_add»ss
 (
cu¼’t_off£t
, '\0');

1167 
	`´štf
 ("%*s", 
add»ss_·d_Ën
, "");

1168 (*
¥ec
[
i
].
´št_funùiÚ
è(
f›lds_³r_block
, 
bÏnk_f›lds
,

1169 
cu¼_block
, 
¥ec
[
i
].
fmt_¡ršg
,

1170 
¥ec
[
i
].
f›ld_width
, s³c[i].
·d_width
);

1171 ià(
¥ec
[
i
].
hexl_mode_Œa”
)

1174 
f›ld_width
 = 
¥ec
[
i
].field_width;

1175 
·d_width
 = (
¥ec
[
i
].·d_width * 
bÏnk_f›lds


1176 / 
f›lds_³r_block
);

1177 
	`´štf
 ("%*s", 
bÏnk_f›lds
 * 
f›ld_width
 + 
·d_width
, "");

1178 
	`dump_hexl_mode_Œa”
 (
n_by‹s
, 
cu¼_block
);

1180 
	`putch¬
 ('\n');

1183 
fœ¡
 = 
çl£
;

1184 
	}
}

1197 
boŞ


1198 
	$»ad_ch¬
 (*
c
)

1200 
boŞ
 
ok
 = 
Œue
;

1202 *
c
 = 
EOF
;

1204 
š_¡»am
 !ğ
NULL
)

1206 *
c
 = 
	`fg‘c
 (
š_¡»am
);

1208 ià(*
c
 !ğ
EOF
)

1211 
ok
 &ğ
	`check_ªd_şo£
 (
”ºo
);

1213 
ok
 &ğ
	`İ’_Ãxt_fe
 ();

1216  
ok
;

1217 
	}
}

1233 
boŞ


1234 
	$»ad_block
 (
size_t
 
n
, *
block
, size_ˆ*
n_by‹s_š_bufãr
)

1236 
boŞ
 
ok
 = 
Œue
;

1238 
	`as£¹
 (0 < 
n
 &&‚ <ğ
by‹s_³r_block
);

1240 *
n_by‹s_š_bufãr
 = 0;

1242 ià(
n
 == 0)

1243  
Œue
;

1245 
š_¡»am
 !ğ
NULL
)

1247 
size_t
 
n_Ãeded
;

1248 
size_t
 
n_»ad
;

1250 
n_Ãeded
 = 
n
 - *
n_by‹s_š_bufãr
;

1251 
n_»ad
 = 
	`ä—d
 (
block
 + *
n_by‹s_š_bufãr
, 1, 
n_Ãeded
, 
š_¡»am
);

1253 *
n_by‹s_š_bufãr
 +ğ
n_»ad
;

1255 ià(
n_»ad
 =ğ
n_Ãeded
)

1258 
ok
 &ğ
	`check_ªd_şo£
 (
”ºo
);

1260 
ok
 &ğ
	`İ’_Ãxt_fe
 ();

1263  
ok
;

1264 
	}
}

1269 
_GL_ATTRIBUTE_PURE


1270 
	$g‘_lcm
 ()

1272 
size_t
 
i
;

1273 
l_c_m
 = 1;

1275 
i
 = 0; i < 
n_¥ecs
; i++)

1276 
l_c_m
 = 
	`lcm
 (l_c_m, 
width_by‹s
[
¥ec
[
i
].
size
]);

1277  
l_c_m
;

1278 
	}
}

1283 
boŞ


1284 
	$·r£_Şd_off£t
 (cÚ¡ *
s
, 
uštmax_t
 *
off£t
)

1286 
¿dix
;

1288 ià(*
s
 == '\0')

1289  
çl£
;

1292 ià(
s
[0] == '+')

1293 ++
s
;

1298 ià(
	`¡rchr
 (
s
, '.'è!ğ
NULL
)

1299 
¿dix
 = 10;

1302 ià(
s
[0] == '0' && (s[1] == 'x' || s[1] == 'X'))

1303 
¿dix
 = 16;

1305 
¿dix
 = 8;

1308  
	`x¡¹oumax
 (
s
, 
NULL
, 
¿dix
, 
off£t
, "Bb"è=ğ
LONGINT_OK
;

1309 
	}
}

1323 
boŞ


1324 
	$dump
 ()

1326 *
block
[2];

1327 
uštmax_t
 
cu¼’t_off£t
;

1328 
boŞ
 
idx
 = 
çl£
;

1329 
boŞ
 
ok
 = 
Œue
;

1330 
size_t
 
n_by‹s_»ad
;

1332 
block
[0] = 
	`xnm®loc
 (2, 
by‹s_³r_block
);

1333 
block
[1] = block[0] + 
by‹s_³r_block
;

1335 
cu¼’t_off£t
 = 
n_by‹s_to_sk
;

1337 ià(
lim™_by‹s_to_fÜm©
)

1341 
size_t
 
n_Ãeded
;

1342 ià(
cu¼’t_off£t
 >ğ
’d_off£t
)

1344 
n_by‹s_»ad
 = 0;

1347 
n_Ãeded
 = 
	`MIN
 (
’d_off£t
 - 
cu¼’t_off£t
,

1348 (
uštmax_t
è
by‹s_³r_block
);

1349 
ok
 &ğ
	`»ad_block
 (
n_Ãeded
, 
block
[
idx
], &
n_by‹s_»ad
);

1350 ià(
n_by‹s_»ad
 < 
by‹s_³r_block
)

1352 
	`as£¹
 (
n_by‹s_»ad
 =ğ
by‹s_³r_block
);

1353 
	`wr™e_block
 (
cu¼’t_off£t
, 
n_by‹s_»ad
,

1354 
block
[!
idx
], block[idx]);

1355 
cu¼’t_off£t
 +ğ
n_by‹s_»ad
;

1356 
idx
 = !idx;

1363 
ok
 &ğ
	`»ad_block
 (
by‹s_³r_block
, 
block
[
idx
], &
n_by‹s_»ad
);

1364 ià(
n_by‹s_»ad
 < 
by‹s_³r_block
)

1366 
	`as£¹
 (
n_by‹s_»ad
 =ğ
by‹s_³r_block
);

1367 
	`wr™e_block
 (
cu¼’t_off£t
, 
n_by‹s_»ad
,

1368 
block
[!
idx
], block[idx]);

1369 
cu¼’t_off£t
 +ğ
n_by‹s_»ad
;

1370 
idx
 = !idx;

1374 ià(
n_by‹s_»ad
 > 0)

1376 
l_c_m
;

1377 
size_t
 
by‹s_to_wr™e
;

1379 
l_c_m
 = 
	`g‘_lcm
 ();

1383 
by‹s_to_wr™e
 = 
l_c_m
 * ((
n_by‹s_»ad
 +†_c_m - 1) /†_c_m);

1385 
	`mem£t
 (
block
[
idx
] + 
n_by‹s_»ad
, 0, 
by‹s_to_wr™e
 -‚_bytes_read);

1386 
	`wr™e_block
 (
cu¼’t_off£t
, 
n_by‹s_»ad
, 
block
[!
idx
], block[idx]);

1387 
cu¼’t_off£t
 +ğ
n_by‹s_»ad
;

1390 
	`fÜm©_add»ss
 (
cu¼’t_off£t
, '\n');

1392 ià(
lim™_by‹s_to_fÜm©
 && 
cu¼’t_off£t
 >ğ
’d_off£t
)

1393 
ok
 &ğ
	`check_ªd_şo£
 (0);

1395 
	`ä“
 (
block
[0]);

1397  
ok
;

1398 
	}
}

1406 
boŞ


1407 
	$dump_¡ršgs
 ()

1409 
size_t
 
bufsize
 = 
	`MAX
 (100, 
¡ršg_mš
);

1410 *
buf
 = 
	`xm®loc
 (
bufsize
);

1411 
uštmax_t
 
add»ss
 = 
n_by‹s_to_sk
;

1412 
boŞ
 
ok
 = 
Œue
;

1416 
size_t
 
i
;

1417 
c
;

1420 
Œylše
:

1422 ià(
lim™_by‹s_to_fÜm©


1423 && (
’d_off£t
 < 
¡ršg_mš
 ||ƒnd_off£ˆ- sŒšg_mš <ğ
add»ss
))

1426 
i
 = 0; i < 
¡ršg_mš
; i++)

1428 
ok
 &ğ
	`»ad_ch¬
 (&
c
);

1429 
add»ss
++;

1430 ià(
c
 < 0)

1432 
	`ä“
 (
buf
);

1433  
ok
;

1435 ià(! 
	`i¥ršt
 (
c
))

1437 
Œylše
;

1438 
buf
[
i
] = 
c
;

1443 !
lim™_by‹s_to_fÜm©
 || 
add»ss
 < 
’d_off£t
)

1445 ià(
i
 =ğ
bufsize
)

1447 
buf
 = 
	`X2REALLOC
 (buf, &
bufsize
);

1449 
ok
 &ğ
	`»ad_ch¬
 (&
c
);

1450 
add»ss
++;

1451 ià(
c
 < 0)

1453 
	`ä“
 (
buf
);

1454  
ok
;

1456 ià(
c
 == '\0')

1458 ià(! 
	`i¥ršt
 (
c
))

1459 
Œylše
;

1460 
buf
[
i
++] = 
c
;

1465 
buf
[
i
] = 0;

1466 
	`fÜm©_add»ss
 (
add»ss
 - 
i
 - 1, ' ');

1468 
i
 = 0; (
c
 = 
buf
[i]); i++)

1470 
c
)

1473 
	`åuts
 ("\\a", 
¡dout
);

1477 
	`åuts
 ("\\b", 
¡dout
);

1481 
	`åuts
 ("\\f", 
¡dout
);

1485 
	`åuts
 ("\\n", 
¡dout
);

1489 
	`åuts
 ("\\r", 
¡dout
);

1493 
	`åuts
 ("\\t", 
¡dout
);

1497 
	`åuts
 ("\\v", 
¡dout
);

1501 
	`putc
 (
c
, 
¡dout
);

1504 
	`putch¬
 ('\n');

1510 
	`ä“
 (
buf
);

1512 
ok
 &ğ
	`check_ªd_şo£
 (0);

1513  
ok
;

1514 
	}
}

1517 
	$maš
 (
¬gc
, **
¬gv
)

1519 
n_fes
;

1520 
size_t
 
i
;

1521 
l_c_m
;

1522 
size_t
 
desœed_width
 
	`IF_LINT
 ( = 0);

1523 
boŞ
 
mod”n
 = 
çl£
;

1524 
boŞ
 
width_¥ecif›d
 = 
çl£
;

1525 
boŞ
 
ok
 = 
Œue
;

1526 
size_t
 
width_³r_block
 = 0;

1527 cÚ¡ 
muÉl›rs
[] = "bEGKkMmPTYZ0";

1531 
uštmax_t
 
p£udo_¡¬t
 
	`IF_LINT
 ( = 0);

1533 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1534 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1535 
	`£oÿË
 (
LC_ALL
, "");

1536 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1537 
	`‹xtdomaš
 (
PACKAGE
);

1539 
	`©ex™
 (
şo£_¡dout
);

1541 
i
 = 0; i <ğ
MAX_INTEGRAL_TYPE_SIZE
; i++)

1542 
š‹g¿l_ty³_size
[
i
] = 
NO_SIZE
;

1544 
š‹g¿l_ty³_size
[ ()] = 
CHAR
;

1545 
š‹g¿l_ty³_size
[ ()] = 
SHORT
;

1546 
š‹g¿l_ty³_size
[ ()] = 
INT
;

1547 
š‹g¿l_ty³_size
[ ()] = 
LONG
;

1548 #ià
HAVE_UNSIGNED_LONG_LONG_INT


1551 
š‹g¿l_ty³_size
[ (
unsigÃd_lÚg_lÚg_št
)] = 
LONG_LONG
;

1554 
i
 = 0; i <ğ
MAX_FP_TYPE_SIZE
; i++)

1555 
å_ty³_size
[
i
] = 
NO_SIZE
;

1557 
å_ty³_size
[ ()] = 
FLOAT_SINGLE
;

1561 
å_ty³_size
[ ()] = 
FLOAT_LONG_DOUBLE
;

1562 
å_ty³_size
[ ()] = 
FLOAT_DOUBLE
;

1564 
n_¥ecs
 = 0;

1565 
n_¥ecs_®loÿ‹d
 = 0;

1566 
¥ec
 = 
NULL
;

1568 
fÜm©_add»ss
 = 
fÜm©_add»ss_¡d
;

1569 
add»ss_ba£
 = 8;

1570 
add»ss_·d_Ën
 = 7;

1571 
æag_dump_¡ršgs
 = 
çl£
;

1573 
Œue
)

1575 
uštmax_t
 
tmp
;

1576 
¡¹Ş_”rÜ
 
s_”r
;

1577 
oi
 = -1;

1578 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, &
oi
);

1579 ià(
c
 == -1)

1582 
c
)

1585 
mod”n
 = 
Œue
;

1586 
İrg
[0])

1589 
fÜm©_add»ss
 = 
fÜm©_add»ss_¡d
;

1590 
add»ss_ba£
 = 10;

1591 
add»ss_·d_Ën
 = 7;

1594 
fÜm©_add»ss
 = 
fÜm©_add»ss_¡d
;

1595 
add»ss_ba£
 = 8;

1596 
add»ss_·d_Ën
 = 7;

1599 
fÜm©_add»ss
 = 
fÜm©_add»ss_¡d
;

1600 
add»ss_ba£
 = 16;

1601 
add»ss_·d_Ën
 = 6;

1604 
fÜm©_add»ss
 = 
fÜm©_add»ss_nÚe
;

1605 
add»ss_·d_Ën
 = 0;

1608 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1609 
	`_
("invalid output‡ddress„adix '%c';\
 must be one character from [doxn]"),

1611 
İrg
[0]);

1617 
mod”n
 = 
Œue
;

1618 
s_”r
 = 
	`x¡¹oumax
 (
İrg
, 
NULL
, 0, &
n_by‹s_to_sk
, 
muÉl›rs
);

1619 ià(
s_”r
 !ğ
LONGINT_OK
)

1620 
	`x¡¹Ş_çl
 (
s_”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

1624 
mod”n
 = 
Œue
;

1625 
lim™_by‹s_to_fÜm©
 = 
Œue
;

1627 
s_”r
 = 
	`x¡¹oumax
 (
İrg
, 
NULL
, 0, &
max_by‹s_to_fÜm©
,

1628 
muÉl›rs
);

1629 ià(
s_”r
 !ğ
LONGINT_OK
)

1630 
	`x¡¹Ş_çl
 (
s_”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

1634 
mod”n
 = 
Œue
;

1635 ià(
İrg
 =ğ
NULL
)

1636 
¡ršg_mš
 = 3;

1639 
s_”r
 = 
	`x¡¹oumax
 (
İrg
, 
NULL
, 0, &
tmp
, 
muÉl›rs
);

1640 ià(
s_”r
 !ğ
LONGINT_OK
)

1641 
	`x¡¹Ş_çl
 (
s_”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

1645 ià(
SIZE_MAX
 < 
tmp
)

1646 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("% i toØÏrge"), 
İrg
);

1648 
¡ršg_mš
 = 
tmp
;

1650 
æag_dump_¡ršgs
 = 
Œue
;

1654 
mod”n
 = 
Œue
;

1655 
ok
 &ğ
	`decode_fÜm©_¡ršg
 (
İrg
);

1659 
mod”n
 = 
Œue
;

1660 
abb»vŸ‹_du¶iÿ‹_blocks
 = 
çl£
;

1663 
TRADITIONAL_OPTION
:

1664 
Œad™iÚ®
 = 
Œue
;

1674 
	#CASE_OLD_ARG
(
Şd_ch¬
,
Ãw_¡ršg
) \

1675 
Şd_ch¬
: \

1676 
ok
 &ğ
	`decode_fÜm©_¡ršg
 (
Ãw_¡ršg
); \

1677 

	)

1679 
	`CASE_OLD_ARG
 ('a', "a");

1680 
	`CASE_OLD_ARG
 ('b', "o1");

1681 
	`CASE_OLD_ARG
 ('c', "c");

1682 
	`CASE_OLD_ARG
 ('D', "u4");

1683 
	`CASE_OLD_ARG
 ('d', "u2");

1685 
	`CASE_OLD_ARG
 ('e', "fD");

1686 
	`CASE_OLD_ARG
 ('f', "fF");

1688 
	`CASE_OLD_ARG
 ('H', "x4");

1689 
	`CASE_OLD_ARG
 ('i', "dI");

1691 
	`CASE_OLD_ARG
 ('l', "dL");

1692 
	`CASE_OLD_ARG
 ('O', "o4");

1694 
	`CASE_OLD_ARG
 ('o', "o2");

1695 
	`CASE_OLD_ARG
 ('s', "d2");

1697 
	`CASE_OLD_ARG
 ('x', "x2");

1699 #undeà
CASE_OLD_ARG


1702 
mod”n
 = 
Œue
;

1703 
width_¥ecif›d
 = 
Œue
;

1704 ià(
İrg
 =ğ
NULL
)

1706 
desœed_width
 = 32;

1710 
uštmax_t
 
w_tmp
;

1711 
s_”r
 = 
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
w_tmp
, "");

1712 ià(
s_”r
 !ğ
LONGINT_OK
)

1713 
	`x¡¹Ş_çl
 (
s_”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
İrg
);

1714 ià(
SIZE_MAX
 < 
w_tmp
)

1715 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("% i toØÏrge"), 
İrg
);

1716 
desœed_width
 = 
w_tmp
;

1720 
ÿ£_GETOPT_HELP_CHAR
;

1722 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1725 
	`u§ge
 (
EXIT_FAILURE
);

1730 ià(!
ok
)

1731 
	`ex™
 (
EXIT_FAILURE
);

1733 ià(
æag_dump_¡ršgs
 && 
n_¥ecs
 > 0)

1734 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1735 
	`_
("noype may be specified when dumping strings"));

1737 
n_fes
 = 
¬gc
 - 
İtšd
;

1751 ià(!
mod”n
 || 
Œad™iÚ®
)

1753 
uštmax_t
 
o1
;

1754 
uštmax_t
 
o2
;

1756 
n_fes
)

1759 ià((
Œad™iÚ®
 || 
¬gv
[
İtšd
][0] == '+')

1760 && 
	`·r£_Şd_off£t
 (
¬gv
[
İtšd
], &
o1
))

1762 
n_by‹s_to_sk
 = 
o1
;

1763 --
n_fes
;

1764 ++
¬gv
;

1769 ià((
Œad™iÚ®
 || 
¬gv
[
İtšd
 + 1][0] == '+'

1770 || 
	`ISDIGIT
 (
¬gv
[
İtšd
 + 1][0]))

1771 && 
	`·r£_Şd_off£t
 (
¬gv
[
İtšd
 + 1], &
o2
))

1773 ià(
Œad™iÚ®
 && 
	`·r£_Şd_off£t
 (
¬gv
[
İtšd
], &
o1
))

1775 
n_by‹s_to_sk
 = 
o1
;

1776 
æag_p£udo_¡¬t
 = 
Œue
;

1777 
p£udo_¡¬t
 = 
o2
;

1778 
¬gv
 += 2;

1779 
n_fes
 -= 2;

1783 
n_by‹s_to_sk
 = 
o2
;

1784 --
n_fes
;

1785 
¬gv
[
İtšd
 + 1] =‡rgv[optind];

1786 ++
¬gv
;

1792 ià(
Œad™iÚ®


1793 && 
	`·r£_Şd_off£t
 (
¬gv
[
İtšd
 + 1], &
o1
)

1794 && 
	`·r£_Şd_off£t
 (
¬gv
[
İtšd
 + 2], &
o2
))

1796 
n_by‹s_to_sk
 = 
o1
;

1797 
æag_p£udo_¡¬t
 = 
Œue
;

1798 
p£udo_¡¬t
 = 
o2
;

1799 
¬gv
[
İtšd
 + 2] =‡rgv[optind];

1800 
¬gv
 += 2;

1801 
n_fes
 -= 2;

1806 ià(
Œad™iÚ®
 && 1 < 
n_fes
)

1808 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

1809 
	`”rÜ
 (0, 0, "%s",

1810 
	`_
("compatibility mode supports‡t most one file"));

1811 
	`u§ge
 (
EXIT_FAILURE
);

1815 ià(
æag_p£udo_¡¬t
)

1817 ià(
fÜm©_add»ss
 =ğ
fÜm©_add»ss_nÚe
)

1819 
add»ss_ba£
 = 8;

1820 
add»ss_·d_Ën
 = 7;

1821 
fÜm©_add»ss
 = 
fÜm©_add»ss_·»n
;

1824 
fÜm©_add»ss
 = 
fÜm©_add»ss_Ïb–
;

1827 ià(
lim™_by‹s_to_fÜm©
)

1829 
’d_off£t
 = 
n_by‹s_to_sk
 + 
max_by‹s_to_fÜm©
;

1830 ià(
’d_off£t
 < 
n_by‹s_to_sk
)

1831 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("skip-bytes +„ead-bytes isoo†arge"));

1834 ià(
n_¥ecs
 == 0)

1835 
	`decode_fÜm©_¡ršg
 ("oS");

1837 ià(
n_fes
 > 0)

1842 
fe_li¡
 = (cÚ¡ *cÚ¡ *è&
¬gv
[
İtšd
];

1850 
fe_li¡
 = 
deçuÉ_fe_li¡
;

1854 
ok
 = 
	`İ’_Ãxt_fe
 ();

1855 ià(
š_¡»am
 =ğ
NULL
)

1856 
ş—nup
;

1859 
ok
 &ğ
	`sk
 (
n_by‹s_to_sk
);

1860 ià(
š_¡»am
 =ğ
NULL
)

1861 
ş—nup
;

1863 
p£udo_off£t
 = (
æag_p£udo_¡¬t
 ? 
p£udo_¡¬t
 - 
n_by‹s_to_sk
 : 0);

1866 
l_c_m
 = 
	`g‘_lcm
 ();

1868 ià(
width_¥ecif›d
)

1870 ià(
desœed_width
 !ğ0 && desœed_width % 
l_c_m
 == 0)

1871 
by‹s_³r_block
 = 
desœed_width
;

1874 
	`”rÜ
 (0, 0, 
	`_
("warning: invalid width %lu; using %d instead"),

1875 (è
desœed_width
, 
l_c_m
);

1876 
by‹s_³r_block
 = 
l_c_m
;

1881 ià(
l_c_m
 < 
DEFAULT_BYTES_PER_BLOCK
)

1882 
by‹s_³r_block
 = 
l_c_m
 * (
DEFAULT_BYTES_PER_BLOCK
 /†_c_m);

1884 
by‹s_³r_block
 = 
l_c_m
;

1888 
i
 = 0; i < 
n_¥ecs
; i++)

1890 
f›lds_³r_block
 = 
by‹s_³r_block
 / 
width_by‹s
[
¥ec
[
i
].
size
];

1891 
block_width
 = (
¥ec
[
i
].
f›ld_width
 + 1è* 
f›lds_³r_block
;

1892 ià(
width_³r_block
 < 
block_width
)

1893 
width_³r_block
 = 
block_width
;

1895 
i
 = 0; i < 
n_¥ecs
; i++)

1897 
f›lds_³r_block
 = 
by‹s_³r_block
 / 
width_by‹s
[
¥ec
[
i
].
size
];

1898 
block_width
 = 
¥ec
[
i
].
f›ld_width
 * 
f›lds_³r_block
;

1899 
¥ec
[
i
].
·d_width
 = 
width_³r_block
 - 
block_width
;

1902 #ifdeà
DEBUG


1903 
	`´štf
 ("lcm=%d, width_³r_block=%zu\n", 
l_c_m
, 
width_³r_block
);

1904 
i
 = 0; i < 
n_¥ecs
; i++)

1906 
f›lds_³r_block
 = 
by‹s_³r_block
 / 
width_by‹s
[
¥ec
[
i
].
size
];

1907 
	`as£¹
 (
by‹s_³r_block
 % 
width_by‹s
[
¥ec
[
i
].
size
] == 0);

1908 
	`as£¹
 (1 <ğ
¥ec
[
i
].
·d_width
 / 
f›lds_³r_block
);

1909 
	`´štf
 ("%d: fmt=\"%s\" in_width=%d out_width=%d…ad=%d\n",

1910 
i
, 
¥ec
[i].
fmt_¡ršg
, 
width_by‹s
[¥ec[i].
size
],

1911 
¥ec
[
i
].
f›ld_width
, s³c[i].
·d_width
);

1915 
ok
 &ğ(
æag_dump_¡ršgs
 ? 
	`dump_¡ršgs
 (è: 
	`dump
 ());

1917 
ş—nup
:

1919 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

1920 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard input"));

1922 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1923 
	}
}

	@operand2sig.c

24 
	~<cÚfig.h
>

25 
	~<¡dio.h
>

26 
	~<sys/ty³s.h
>

27 
	~<sys/wa™.h
>

29 
	~"sy¡em.h
"

30 
	~"”rÜ.h
"

31 
	~"sig2¡r.h
"

32 
	~"İ”ªd2sig.h
"

35 
	$İ”ªd2sig
 (cÚ¡ *
İ”ªd
, *
sigÇme
)

37 
signum
;

39 ià(
	`ISDIGIT
 (*
İ”ªd
))

41 *
’dp
;

42 
l
 = (
”ºo
 = 0, 
	`¡¹Ş
 (
İ”ªd
, &
’dp
, 10));

43 
i
 = 
l
;

44 
signum
 = (
İ”ªd
 =ğ
’dp
 || *’d°|| 
”ºo
 || 
i
 !ğ
l
 ? -1

45 : 
	`WIFSIGNALED
 (
i
è? 
	`WTERMSIG
 (i) : i);

51 *
upÿ£d
 = 
	`x¡rdup
 (
İ”ªd
);

52 *
p
;

53 
p
 = 
upÿ£d
; *p;…++)

54 ià(
	`¡rchr
 ("abcdefghijklmnİqr¡uvwxyz", *
p
))

55 *
p
 += 'A' - 'a';

59 ià(!(
	`¡r2sig
 (
upÿ£d
, &
signum
) == 0

60 || (
upÿ£d
[0] == 'S' && upcased[1] == 'I' && upcased[2] == 'G'

61 && 
	`¡r2sig
 (
upÿ£d
 + 3, &
signum
) == 0)))

62 
signum
 = -1;

64 
	`ä“
 (
upÿ£d
);

67 ià(
signum
 < 0 || 
	`sig2¡r
 (signum, 
sigÇme
) != 0)

69 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id sigÇl"), 
İ”ªd
);

73  
signum
;

74 
	}
}

	@operand2sig.h

18 
İ”ªd2sig
 (cÚ¡ *
İ”ªd
, *
sigÇme
);

	@paste.c

38 
	~<cÚfig.h
>

40 
	~<¡dio.h
>

41 
	~<g‘İt.h
>

42 
	~<sys/ty³s.h
>

43 
	~"sy¡em.h
"

44 
	~"”rÜ.h
"

45 
	~"çdvi£.h
"

46 
	~"quÙ—rg.h
"

49 
	#PROGRAM_NAME
 "·¡e"

	)

51 
	#AUTHORS
 \

52 
	`´İ”_Çme
 ("David M. Ihnat"), \

53 
	`´İ”_Çme
 ("David MacK’z›")

	)

56 
	#EMPTY_DELIM
 '\0'

	)

59 
boŞ
 
	ghave_»ad_¡dš
;

63 
boŞ
 
	g£rŸl_m”ge
;

66 *
	gd–ims
;

69 cÚ¡ *
	gd–im_’d
;

71 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

73 {"£rŸl", 
no_¬gum’t
, 
NULL
, 's'},

74 {"d–im™”s", 
»quœed_¬gum’t
, 
NULL
, 'd'},

75 {
GETOPT_HELP_OPTION_DECL
},

76 {
GETOPT_VERSION_OPTION_DECL
},

77 {
NULL
, 0, NULL, 0}

89 
	$cŞÏp£_esÿ³s
 (cÚ¡ *
¡½Œ
)

91 *
¡rout
 = 
	`x¡rdup
 (
¡½Œ
);

92 
boŞ
 
back¦ash_©_’d
 = 
çl£
;

94 
d–ims
 = 
¡rout
;

96 *
¡½Œ
)

98 ià(*
¡½Œ
 != '\\')

99 *
¡rout
++ = *
¡½Œ
++;

102 *++
¡½Œ
)

105 *
¡rout
++ = 
EMPTY_DELIM
;

109 *
¡rout
++ = '\b';

113 *
¡rout
++ = '\f';

117 *
¡rout
++ = '\n';

121 *
¡rout
++ = '\r';

125 *
¡rout
++ = '\t';

129 *
¡rout
++ = '\v';

133 *
¡rout
++ = '\\';

137 
back¦ash_©_’d
 = 
Œue
;

138 
dÚe
;

141 *
¡rout
++ = *
¡½Œ
;

144 
¡½Œ
++;

148 
dÚe
:

150 
d–im_’d
 = 
¡rout
;

151  
back¦ash_©_’d
 ? 1 : 0;

152 
	}
}

156 
	$wr™e_”rÜ
 (è
ATTRIBUTE_NORETURN
;

158 
	$wr™e_”rÜ
 ()

160 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

161 
	`abÜt
 ();

162 
	}
}

166 
šlše
 

167 
	$xputch¬
 (
c
)

169 ià(
	`putch¬
 (
c
) < 0)

170 
	`wr™e_”rÜ
 ();

171 
	}
}

177 
boŞ


178 
	$·¡e_·¿Î–
 (
size_t
 
nfes
, **
âam±r
)

180 
boŞ
 
ok
 = 
Œue
;

185 *
d–buf
 = 
	`xm®loc
 (
nfes
 + 2);

189 
FILE
 **
f•Œ
 = 
	`xnm®loc
 (
nfes
 + 1,  *fileptr);

192 
size_t
 
fes_İ’
;

195 
boŞ
 
İ’ed_¡dš
 = 
çl£
;

201 
fes_İ’
 = 0; fes_İ’ < 
nfes
; ++files_open)

203 ià(
	`STREQ
 (
âam±r
[
fes_İ’
], "-"))

205 
have_»ad_¡dš
 = 
Œue
;

206 
f•Œ
[
fes_İ’
] = 
¡dš
;

210 
f•Œ
[
fes_İ’
] = 
	`fİ’
 (
âam±r
[files_open], "r");

211 ià(
f•Œ
[
fes_İ’
] =ğ
NULL
)

212 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
âam±r
[
fes_İ’
]);

213 ià(
	`f’o
 (
f•Œ
[
fes_İ’
]è=ğ
STDIN_FILENO
)

214 
İ’ed_¡dš
 = 
Œue
;

215 
	`çdvi£
 (
f•Œ
[
fes_İ’
], 
FADVISE_SEQUENTIAL
);

219 ià(
İ’ed_¡dš
 && 
have_»ad_¡dš
)

220 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("standard input is closed"));

226 
fes_İ’
)

229 
boŞ
 
somedÚe
 = 
çl£
;

230 cÚ¡ *
d–im±r
 = 
d–ims
;

231 
size_t
 
d–ims_§ved
 = 0;

232 
size_t
 
i
;

234 
i
 = 0; i < 
nfes
 && 
fes_İ’
; i++)

236 
chr
 
	`IF_LINT
 ( = 0);

237 
”r
 
	`IF_LINT
 ( = 0);

238 
size_t
 
lše_Ëngth
 = 0;

240 ià(
f•Œ
[
i
])

242 
chr
 = 
	`g‘c
 (
f•Œ
[
i
]);

243 
”r
 = 
”ºo
;

244 ià(
chr
 !ğ
EOF
 && 
d–ims_§ved
)

246 ià(
	`fwr™e
 (
d–buf
, 1, 
d–ims_§ved
, 
¡dout
) != delims_saved)

247 
	`wr™e_”rÜ
 ();

248 
d–ims_§ved
 = 0;

251 
chr
 !ğ
EOF
)

253 
lše_Ëngth
++;

254 ià(
chr
 == '\n')

256 
	`xputch¬
 (
chr
);

257 
chr
 = 
	`g‘c
 (
f•Œ
[
i
]);

258 
”r
 = 
”ºo
;

262 ià(
lše_Ëngth
 == 0)

266 ià(
f•Œ
[
i
])

268 ià(
	`ã¼Ü
 (
f•Œ
[
i
]))

270 
	`”rÜ
 (0, 
”r
, "%s", 
âam±r
[
i
]);

271 
ok
 = 
çl£
;

273 ià(
f•Œ
[
i
] =ğ
¡dš
)

274 
	`ş—»¼
 (
f•Œ
[
i
]);

275 ià(
	`fşo£
 (
f•Œ
[
i
]è=ğ
EOF
)

277 
	`”rÜ
 (0, 
”ºo
, "%s", 
âam±r
[
i
]);

278 
ok
 = 
çl£
;

281 
f•Œ
[
i
] = 
NULL
;

282 
fes_İ’
--;

285 ià(
i
 + 1 =ğ
nfes
)

289 ià(
somedÚe
)

292 ià(
d–ims_§ved
)

294 ià(
	`fwr™e
 (
d–buf
, 1, 
d–ims_§ved
, 
¡dout
)

295 !ğ
d–ims_§ved
)

296 
	`wr™e_”rÜ
 ();

297 
d–ims_§ved
 = 0;

299 
	`xputch¬
 ('\n');

306 ià(*
d–im±r
 !ğ
EMPTY_DELIM
)

307 
d–buf
[
d–ims_§ved
++] = *
d–im±r
;

308 ià(++
d–im±r
 =ğ
d–im_’d
)

309 
d–im±r
 = 
d–ims
;

315 
somedÚe
 = 
Œue
;

318 ià(
i
 + 1 !ğ
nfes
)

320 ià(
chr
 !ğ'\n' && ch¸!ğ
EOF
)

321 
	`xputch¬
 (
chr
);

322 ià(*
d–im±r
 !ğ
EMPTY_DELIM
)

323 
	`xputch¬
 (*
d–im±r
);

324 ià(++
d–im±r
 =ğ
d–im_’d
)

325 
d–im±r
 = 
d–ims
;

331 
c
 = (
chr
 =ğ
EOF
 ? '\n' : chr);

332 
	`xputch¬
 (
c
);

337 
	`ä“
 (
f•Œ
);

338 
	`ä“
 (
d–buf
);

339  
ok
;

340 
	}
}

346 
boŞ


347 
	$·¡e_£rŸl
 (
size_t
 
nfes
, **
âam±r
)

349 
boŞ
 
ok
 = 
Œue
;

350 
ch¬Ãw
, 
ch¬Şd
;

351 cÚ¡ *
d–im±r
;

352 
FILE
 *
f•Œ
;

354 ; 
nfes
;‚fes--, 
âam±r
++)

356 
§ved_”ºo
;

357 
boŞ
 
is_¡dš
 = 
	`STREQ
 (*
âam±r
, "-");

358 ià(
is_¡dš
)

360 
have_»ad_¡dš
 = 
Œue
;

361 
f•Œ
 = 
¡dš
;

365 
f•Œ
 = 
	`fİ’
 (*
âam±r
, "r");

366 ià(
f•Œ
 =ğ
NULL
)

368 
	`”rÜ
 (0, 
”ºo
, "%s", *
âam±r
);

369 
ok
 = 
çl£
;

372 
	`çdvi£
 (
f•Œ
, 
FADVISE_SEQUENTIAL
);

375 
d–im±r
 = 
d–ims
;

377 
ch¬Şd
 = 
	`g‘c
 (
f•Œ
);

378 
§ved_”ºo
 = 
”ºo
;

379 ià(
ch¬Şd
 !ğ
EOF
)

387 (
ch¬Ãw
 = 
	`g‘c
 (
f•Œ
)è!ğ
EOF
)

390 ià(
ch¬Şd
 == '\n')

392 ià(*
d–im±r
 !ğ
EMPTY_DELIM
)

393 
	`xputch¬
 (*
d–im±r
);

395 ià(++
d–im±r
 =ğ
d–im_’d
)

396 
d–im±r
 = 
d–ims
;

399 
	`xputch¬
 (
ch¬Şd
);

401 
ch¬Şd
 = 
ch¬Ãw
;

403 
§ved_”ºo
 = 
”ºo
;

406 
	`xputch¬
 (
ch¬Şd
);

409 ià(
ch¬Şd
 != '\n')

410 
	`xputch¬
 ('\n');

412 ià(
	`ã¼Ü
 (
f•Œ
))

414 
	`”rÜ
 (0, 
§ved_”ºo
, "%s", *
âam±r
);

415 
ok
 = 
çl£
;

417 ià(
is_¡dš
)

418 
	`ş—»¼
 (
f•Œ
);

419 ià(
	`fşo£
 (
f•Œ
è=ğ
EOF
)

421 
	`”rÜ
 (0, 
”ºo
, "%s", *
âam±r
);

422 
ok
 = 
çl£
;

425  
ok
;

426 
	}
}

429 
	$u§ge
 (
¡©us
)

431 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

432 
	`em™_Œy_h–p
 ();

435 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

438 
´og¿m_Çme
);

439 
	`åuts
 (
	`_
("\
†še cÚsi¡šg oàth£qu’tŸÎy cÜ»¥Údšg†še äom\n\
 FILE, s•¬©ed by TABs,Ø¡ªd¬d ouut.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

445 
	`em™_mªd©Üy_¬g_nÙe
 ();

447 
	`åuts
 (
	`_
("\
-d, --d–im™”s=LIST„eu£ ch¬aù” äom LIST in¡—d oàTABs\n\
-s, --£rŸÈ…a¡Úf©‡imš¡—d oàš…¬®Ël\n\
"), 
¡dout
);

451 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

452 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

454 
	`em™_ªcÏry_šfo
 ();

456 
	`ex™
 (
¡©us
);

457 
	}
}

460 
	$maš
 (
¬gc
, **
¬gv
)

462 
İtc
;

463 
boŞ
 
ok
;

464 cÚ¡ *
d–im_¬g
 = "\t";

466 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

467 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

468 
	`£oÿË
 (
LC_ALL
, "");

469 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

470 
	`‹xtdomaš
 (
PACKAGE
);

472 
	`©ex™
 (
şo£_¡dout
);

474 
have_»ad_¡dš
 = 
çl£
;

475 
£rŸl_m”ge
 = 
çl£
;

477 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "d:s", 
lÚgİts
, 
NULL
)) != -1)

479 
İtc
)

483 
d–im_¬g
 = (
İrg
[0] == '\0' ? "\\0" : optarg);

487 
£rŸl_m”ge
 = 
Œue
;

490 
ÿ£_GETOPT_HELP_CHAR
;

492 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

495 
	`u§ge
 (
EXIT_FAILURE
);

499 ià(
İtšd
 =ğ
¬gc
)

500 
¬gv
[
¬gc
++] = 
	`bad_ÿ¡
 ("-");

502 ià(
	`cŞÏp£_esÿ³s
 (
d–im_¬g
))

506 
	`£t_quÙšg_¡yË
 (
NULL
, 
esÿ³_quÙšg_¡yË
);

507 
	`”rÜ
 (
EXIT_FAILURE
, 0,

508 
	`_
("delimiter†istƒnds with‡n unescaped backslash: %s"),

509 
	`quÙ—rg_cŞÚ
 (
d–im_¬g
));

512 ià(!
£rŸl_m”ge
)

513 
ok
 = 
	`·¡e_·¿Î–
 (
¬gc
 - 
İtšd
, &
¬gv
[optind]);

515 
ok
 = 
	`·¡e_£rŸl
 (
¬gc
 - 
İtšd
, &
¬gv
[optind]);

517 
	`ä“
 (
d–ims
);

519 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

520 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

521 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

522 
	}
}

	@pathchk.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<g‘İt.h
>

20 
	~<sys/ty³s.h
>

21 
	~<wch¬.h
>

23 
	~"sy¡em.h
"

24 
	~"”rÜ.h
"

25 
	~"quÙe.h
"

26 
	~"quÙ—rg.h
"

29 
	#PROGRAM_NAME
 "·thchk"

	)

31 
	#AUTHORS
 \

32 
	`´İ”_Çme
 ("Paul Eggert"), \

33 
	`´İ”_Çme
 ("David MacKenzie"), \

34 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

36 #iâdeà
_POSIX_PATH_MAX


37 
	#_POSIX_PATH_MAX
 256

	)

39 #iâdeà
_POSIX_NAME_MAX


40 
	#_POSIX_NAME_MAX
 14

	)

43 #ifdeà
_XOPEN_NAME_MAX


44 
	#NAME_MAX_MINIMUM
 
_XOPEN_NAME_MAX


	)

46 
	#NAME_MAX_MINIMUM
 
_POSIX_NAME_MAX


	)

48 #ifdeà
_XOPEN_PATH_MAX


49 
	#PATH_MAX_MINIMUM
 
_XOPEN_PATH_MAX


	)

51 
	#PATH_MAX_MINIMUM
 
_POSIX_PATH_MAX


	)

54 #ià! (
HAVE_PATHCONF
 && 
defšed
 
_PC_NAME_MAX
 && defšed 
_PC_PATH_MAX
)

55 #iâdeà
_PC_NAME_MAX


56 
	#_PC_NAME_MAX
 0

	)

57 
	#_PC_PATH_MAX
 1

	)

59 #iâdeà
·thcÚf


60 
	#·thcÚf
(
fe
, 
æag
) \

61 (
æag
 =ğ
_PC_NAME_MAX
 ? 
NAME_MAX_MINIMUM
 : 
PATH_MAX_MINIMUM
)

	)

65 
boŞ
 
v®id©e_fe_Çme
 (*, bool, bool);

71 
	mPORTABILITY_OPTION
 = 
CHAR_MAX
 + 1

74 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

76 {"pÜb™y", 
no_¬gum’t
, 
NULL
, 
PORTABILITY_OPTION
},

77 {
GETOPT_HELP_OPTION_DECL
},

78 {
GETOPT_VERSION_OPTION_DECL
},

79 {
NULL
, 0, NULL, 0}

83 
	$u§ge
 (
¡©us
)

85 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

86 
	`em™_Œy_h–p
 ();

89 
	`´štf
 (
	`_
("U§ge: % [OPTION]... NAME...\n"), 
´og¿m_Çme
);

90 
	`åuts
 (
	`_
("\
 inv®id o¸uÅÜbË fÇmes.\n\
\n\
-° check fÜ mo¡ POSIX sy¡ems\n\
-P check fÜƒm±y‚ame ªd†—dšg \"-\"\n\
--pÜb™y check fÜ‡Î POSIX sy¡em Óquiv®’ˆtØ-°-P)\n\
"), 
¡dout
);

97 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

98 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

99 
	`em™_ªcÏry_šfo
 ();

101 
	`ex™
 (
¡©us
);

102 
	}
}

105 
	$maš
 (
¬gc
, **
¬gv
)

107 
boŞ
 
ok
 = 
Œue
;

108 
boŞ
 
check_basic_pÜb™y
 = 
çl£
;

109 
boŞ
 
check_exŒa_pÜb™y
 = 
çl£
;

110 
İtc
;

112 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

113 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

114 
	`£oÿË
 (
LC_ALL
, "");

115 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

116 
	`‹xtdomaš
 (
PACKAGE
);

118 
	`©ex™
 (
şo£_¡dout
);

120 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+pP", 
lÚgİts
, 
NULL
)) != -1)

122 
İtc
)

124 
PORTABILITY_OPTION
:

125 
check_basic_pÜb™y
 = 
Œue
;

126 
check_exŒa_pÜb™y
 = 
Œue
;

130 
check_basic_pÜb™y
 = 
Œue
;

134 
check_exŒa_pÜb™y
 = 
Œue
;

137 
ÿ£_GETOPT_HELP_CHAR
;

139 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

142 
	`u§ge
 (
EXIT_FAILURE
);

146 ià(
İtšd
 =ğ
¬gc
)

148 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

149 
	`u§ge
 (
EXIT_FAILURE
);

152 ; 
İtšd
 < 
¬gc
; ++optind)

153 
ok
 &ğ
	`v®id©e_fe_Çme
 (
¬gv
[
İtšd
],

154 
check_basic_pÜb™y
, 
check_exŒa_pÜb™y
);

156 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

157 
	}
}

162 
boŞ


163 
	$no_Ëadšg_hyph’
 (cÚ¡ *
fe
)

165 cÚ¡ *
p
;

167 
p
 = 
fe
; (°ğ
	`¡rchr
 (p, '-'));…++)

168 ià(
p
 =ğ
fe
 ||…[-1] == '/')

170 
	`”rÜ
 (0, 0, 
	`_
("leading '-' in‡ component of file‚ame %s"),

171 
	`quÙe
 (
fe
));

172  
çl£
;

175  
Œue
;

176 
	}
}

181 
boŞ


182 
	$pÜbË_ch¬s_Úly
 (cÚ¡ *
fe
, 
size_t
 
f–’
)

184 
size_t
 
v®idËn
 = 
	`¡r¥n
 (
fe
,

189 cÚ¡ *
šv®id
 = 
fe
 + 
v®idËn
;

191 ià(*
šv®id
)

193 
mb¡©e_t
 
mb¡©e
 = { 0, };

194 
size_t
 
ch¬Ën
 = 
	`mb¾’
 (
šv®id
, 
f–’
 - 
v®idËn
, &
mb¡©e
);

195 
	`”rÜ
 (0, 0,

196 
	`_
("nonportable character %s in file‚ame %s"),

197 
	`quÙ—rg_n_¡yË_mem
 (1, 
loÿË_quÙšg_¡yË
, 
šv®id
,

198 (
ch¬Ën
 <ğ
MB_LEN_MAX
 ? charlen : 1)),

199 
	`quÙe_n
 (0, 
fe
));

200  
çl£
;

203  
Œue
;

204 
	}
}

208 * 
_GL_ATTRIBUTE_PURE


209 
	$compÚ’t_¡¬t
 (*
f
)

211 *
f
 == '/')

212 
f
++;

213  
f
;

214 
	}
}

218 
size_t
 
_GL_ATTRIBUTE_PURE


219 
	$compÚ’t_Ën
 (cÚ¡ *
f
)

221 
size_t
 
Ën
;

222 
Ën
 = 1; 
f
[len] != '/' && f[len];†en++)

224  
Ën
;

225 
	}
}

247 
boŞ


248 
	$v®id©e_fe_Çme
 (*
fe
, 
boŞ
 
check_basic_pÜb™y
,

249 
boŞ
 
check_exŒa_pÜb™y
)

251 
size_t
 
f–’
 = 
	`¡¾’
 (
fe
);

254 *
¡¬t
;

257 
boŞ
 
check_compÚ’t_Ëngths
;

260 
boŞ
 
fe_exi¡s
 = 
çl£
;

262 ià(
check_exŒa_pÜb™y
 && ! 
	`no_Ëadšg_hyph’
 (
fe
))

263  
çl£
;

265 ià((
check_basic_pÜb™y
 || 
check_exŒa_pÜb™y
)

266 && 
f–’
 == 0)

272 
	`”rÜ
 (0, 0, 
	`_
("empty file‚ame"));

273  
çl£
;

276 ià(
check_basic_pÜb™y
)

278 ià(! 
	`pÜbË_ch¬s_Úly
 (
fe
, 
f–’
))

279  
çl£
;

288 
¡©
 
¡
;

289 ià(
	`l¡©
 (
fe
, &
¡
) == 0)

290 
fe_exi¡s
 = 
Œue
;

291 ià(
”ºo
 !ğ
ENOENT
 || 
f–’
 == 0)

293 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

294  
çl£
;

298 ià(
check_basic_pÜb™y


299 || (! 
fe_exi¡s
 && 
PATH_MAX_MINIMUM
 <ğ
f–’
))

301 
size_t
 
maxsize
;

303 ià(
check_basic_pÜb™y
)

304 
maxsize
 = 
_POSIX_PATH_MAX
;

307 
size
;

308 cÚ¡ *
dœ
 = (*
fe
 == '/' ? "/" : ".");

309 
”ºo
 = 0;

310 
size
 = 
	`·thcÚf
 (
dœ
, 
_PC_PATH_MAX
);

311 ià(
size
 < 0 && 
”ºo
 != 0)

313 
	`”rÜ
 (0, 
”ºo
,

314 
	`_
("%s: unableo determine maximum file‚ame†ength"),

315 
dœ
);

316  
çl£
;

318 
maxsize
 = 
	`MIN
 (
size
, 
SSIZE_MAX
);

321 ià(
maxsize
 <ğ
f–’
)

323 
Ën
 = 
f–’
;

324 
maxËn
 = 
maxsize
 - 1;

325 
	`”rÜ
 (0, 0, 
	`_
("limit %luƒxceeded by†ength %lu of file‚ame %s"),

326 
maxËn
, 
Ën
, 
	`quÙe
 (
fe
));

327  
çl£
;

336 
check_compÚ’t_Ëngths
 = 
check_basic_pÜb™y
;

337 ià(! 
check_compÚ’t_Ëngths
 && ! 
fe_exi¡s
)

339 
¡¬t
 = 
fe
; *(¡¬ˆğ
	`compÚ’t_¡¬t
 (start)); )

341 
size_t
 
Ëngth
 = 
	`compÚ’t_Ën
 (
¡¬t
);

343 ià(
NAME_MAX_MINIMUM
 < 
Ëngth
)

345 
check_compÚ’t_Ëngths
 = 
Œue
;

349 
¡¬t
 +ğ
Ëngth
;

353 ià(
check_compÚ’t_Ëngths
)

359 
size_t
 
Çme_max
 = 
NAME_MAX_MINIMUM
;

362 
size_t
 
known_Çme_max
 = (
check_basic_pÜb™y
 ? 
_POSIX_NAME_MAX
 : 0);

364 
¡¬t
 = 
fe
; *(¡¬ˆğ
	`compÚ’t_¡¬t
 (start)); )

366 
size_t
 
Ëngth
;

368 ià(
known_Çme_max
)

369 
Çme_max
 = 
known_Çme_max
;

372 
Ën
;

373 cÚ¡ *
dœ
 = (
¡¬t
 =ğ
fe
 ? "." : file);

374 
c
 = *
¡¬t
;

375 
”ºo
 = 0;

376 *
¡¬t
 = '\0';

377 
Ën
 = 
	`·thcÚf
 (
dœ
, 
_PC_NAME_MAX
);

378 *
¡¬t
 = 
c
;

379 ià(0 <ğ
Ën
)

380 
Çme_max
 = 
	`MIN
 (
Ën
, 
SSIZE_MAX
);

382 
”ºo
)

386 
Çme_max
 = 
SIZE_MAX
;

389 
ENOENT
:

391 
known_Çme_max
 = 
Çme_max
;

395 *
¡¬t
 = '\0';

396 
	`”rÜ
 (0, 
”ºo
, "%s", 
dœ
);

397 *
¡¬t
 = 
c
;

398  
çl£
;

402 
Ëngth
 = 
	`compÚ’t_Ën
 (
¡¬t
);

404 ià(
Çme_max
 < 
Ëngth
)

406 
Ën
 = 
Ëngth
;

407 
maxËn
 = 
Çme_max
;

408 
c
 = 
¡¬t
[
Ën
];

409 
¡¬t
[
Ën
] = '\0';

410 
	`”rÜ
 (0, 0,

411 
	`_
("limit %luƒxceeded by†ength %lu "

413 
maxËn
, 
Ën
, 
	`quÙe
 (
¡¬t
));

414 
¡¬t
[
Ën
] = 
c
;

415  
çl£
;

418 
¡¬t
 +ğ
Ëngth
;

422  
Œue
;

423 
	}
}

	@pinky.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<pwd.h
>

22 
	~<¡dio.h
>

24 
	~<sys/ty³s.h
>

25 
	~"sy¡em.h
"

27 
	~"ÿnÚ-ho¡.h
"

28 
	~"”rÜ.h
"

29 
	~"h¬d-loÿË.h
"

30 
	~"»adutmp.h
"

33 
	#PROGRAM_NAME
 "pšky"

	)

35 
	#AUTHORS
 \

36 
	`´İ”_Çme
 ("Joseph Arceneaux"), \

37 
	`´İ”_Çme
 ("David MacKenzie"), \

38 
	`´İ”_Çme
 ("Kaveh Ghazi")

	)

40 *
‰yÇme
 ();

45 
boŞ
 
	gšşude_idË
 = 
Œue
;

48 
boŞ
 
	gšşude_h—dšg
 = 
Œue
;

51 
boŞ
 
	gšşude_fuÎÇme
 = 
Œue
;

54 
boŞ
 
	gšşude_´ojeù
 = 
Œue
;

57 
boŞ
 
	gšşude_¶ª
 = 
Œue
;

61 
boŞ
 
	gšşude_home_ªd_sh–l
 = 
Œue
;

64 
boŞ
 
	gdo_shÜt_fÜm©
 = 
Œue
;

67 #ifdeà
HAVE_UT_HOST


68 
boŞ
 
	gšşude_wh”e
 = 
Œue
;

73 cÚ¡ *
	gtime_fÜm©
;

74 
	gtime_fÜm©_width
;

76 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

78 {
GETOPT_HELP_OPTION_DECL
},

79 {
GETOPT_VERSION_OPTION_DECL
},

80 {
NULL
, 0, NULL, 0}

85 
size_t
 
_GL_ATTRIBUTE_PURE


86 
	$couÁ_am³r§nds
 (cÚ¡ *
¡r
)

88 
size_t
 
couÁ
 = 0;

91 ià(*
¡r
 == '&')

92 
couÁ
++;

93 } *
¡r
++);

94  
couÁ
;

95 
	}
}

104 
	$ü—‹_fuÎÇme
 (cÚ¡ *
gecos_Çme
, cÚ¡ *
u£r_Çme
)

106 
size_t
 
rsize
 = 
	`¡¾’
 (
gecos_Çme
) + 1;

107 *
»suÉ
;

108 *
r
;

109 
size_t
 
am³r§nds
 = 
	`couÁ_am³r§nds
 (
gecos_Çme
);

111 ià(
am³r§nds
 != 0)

113 
size_t
 
uËn
 = 
	`¡¾’
 (
u£r_Çme
);

114 
size_t
 
´oduù
 = 
am³r§nds
 * 
uËn
;

115 
rsize
 +ğ
´oduù
 - 
am³r§nds
;

116 ià(
	`x®loc_ov”sized
 (
uËn
, 
am³r§nds
è|| 
rsize
 < 
´oduù
)

117 
	`x®loc_d›
 ();

120 
r
 = 
»suÉ
 = 
	`xm®loc
 (
rsize
);

122 *
gecos_Çme
)

124 ià(*
gecos_Çme
 == '&')

126 cÚ¡ *
uÇme
 = 
u£r_Çme
;

127 ià(
	`i¦ow”
 (
	`to_uch¬
 (*
uÇme
)))

128 *
r
++ = 
	`touµ”
 (
	`to_uch¬
 (*
uÇme
++));

129 *
uÇme
)

130 *
r
++ = *
uÇme
++;

134 *
r
++ = *
gecos_Çme
;

137 
gecos_Çme
++;

139 *
r
 = 0;

141  
»suÉ
;

142 
	}
}

148 
	$idË_¡ršg
 (
time_t
 
wh’
)

150 
time_t
 
now
 = 0;

151 
buf
[
	`INT_STRLEN_BOUND
 () + 2];

152 
time_t
 
£cÚds_idË
;

154 ià(
now
 == 0)

155 
	`time
 (&
now
);

157 
£cÚds_idË
 = 
now
 - 
wh’
;

158 ià(
£cÚds_idË
 < 60)

160 ià(
£cÚds_idË
 < (24 * 60 * 60))

162 
hours
 = 
£cÚds_idË
 / (60 * 60);

163 
mšu‹s
 = (
£cÚds_idË
 % (60 * 60)) / 60;

164 
	`¥rštf
 (
buf
, "%02d:%02d", 
hours
, 
mšu‹s
);

168 
days
 = 
£cÚds_idË
 / (24 * 60 * 60);

169 
	`¥rštf
 (
buf
, "%lud", 
days
);

171  
buf
;

172 
	}
}

176 
	$time_¡ršg
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

178 
buf
[
	`INT_STRLEN_BOUND
 (
štmax_t
) +  "-%m-%d %H:%M"];

186 
time_t
 
t
 = 
	`UT_TIME_MEMBER
 (
utmp_’t
);

187 
tm
 *
tmp
 = 
	`loÿÉime
 (&
t
);

189 ià(
tmp
)

191 
	`¡ráime
 (
buf
,  buf, 
time_fÜm©
, 
tmp
);

192  
buf
;

195  
	`tim‘o¡r
 (
t
, 
buf
);

196 
	}
}

201 
	$´št_’Œy
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

203 
¡©
 
¡©s
;

204 
time_t
 
Ï¡_chªge
;

205 
mesg
;

207 
	#DEV_DIR_WITH_TRAILING_SLASH
 "/dev/"

	)

208 
	#DEV_DIR_LEN
 ( (
DEV_DIR_WITH_TRAILING_SLASH
è- 1)

	)

210 
lše
[ (
utmp_’t
->
ut_lše
è+ 
DEV_DIR_LEN
 + 1];

211 *
p
 = 
lše
;

216 iàĞ! 
	`IS_ABSOLUTE_FILE_NAME
 (
utmp_’t
->
ut_lše
))

217 
p
 = 
	`¡pıy
 (p, 
DEV_DIR_WITH_TRAILING_SLASH
);

218 
	`¡znıy
 (
p
, 
utmp_’t
->
ut_lše
,  (utmp_ent->ut_line));

220 ià(
	`¡©
 (
lše
, &
¡©s
) == 0)

222 
mesg
 = (
¡©s
.
¡_mode
 & 
S_IWGRP
) ? ' ' : '*';

223 
Ï¡_chªge
 = 
¡©s
.
¡_©ime
;

227 
mesg
 = '?';

228 
Ï¡_chªge
 = 0;

231 
	`´štf
 ("%-8.*s", 
UT_USER_SIZE
, 
	`UT_USER
 (
utmp_’t
));

233 ià(
šşude_fuÎÇme
)

235 
·sswd
 *
pw
;

236 
Çme
[
UT_USER_SIZE
 + 1];

238 
	`¡znıy
 (
Çme
, 
	`UT_USER
 (
utmp_’t
), 
UT_USER_SIZE
);

239 
pw
 = 
	`g‘pwÇm
 (
Çme
);

240 ià(
pw
 =ğ
NULL
)

242 
	`´štf
 (" %19s", 
	`_
(" ???"));

245 *cÚ¡ 
comma
 = 
	`¡rchr
 (
pw
->
pw_gecos
, ',');

246 *
»suÉ
;

248 ià(
comma
)

249 *
comma
 = '\0';

251 
»suÉ
 = 
	`ü—‹_fuÎÇme
 (
pw
->
pw_gecos
,…w->
pw_Çme
);

252 
	`´štf
 (" %-19.19s", 
»suÉ
);

253 
	`ä“
 (
»suÉ
);

257 
	`´štf
 (" %c%-8.*s",

258 
mesg
, (è (
utmp_’t
->
ut_lše
), utmp_ent->ut_line);

260 ià(
šşude_idË
)

262 ià(
Ï¡_chªge
)

263 
	`´štf
 (" %-6s", 
	`idË_¡ršg
 (
Ï¡_chªge
));

266 
	`´štf
 (" %-6s", 
	`_
("?????"));

269 
	`´štf
 (" %s", 
	`time_¡ršg
 (
utmp_’t
));

271 #ifdeà
HAVE_UT_HOST


272 ià(
šşude_wh”e
 && 
utmp_’t
->
ut_ho¡
[0])

274 
ut_ho¡
[ (
utmp_’t
->ut_host) + 1];

275 *
ho¡
 = 
NULL
;

276 *
di¥Ïy
 = 
NULL
;

279 
	`¡znıy
 (
ut_ho¡
, 
utmp_’t
->ut_host,  (utmp_ent->ut_host));

282 
di¥Ïy
 = 
	`¡rchr
 (
ut_ho¡
, ':');

283 ià(
di¥Ïy
)

284 *
di¥Ïy
++ = '\0';

286 ià(*
ut_ho¡
)

288 
ho¡
 = 
	`ÿnÚ_ho¡
 (
ut_ho¡
);

289 iàĞ! 
ho¡
)

290 
ho¡
 = 
ut_ho¡
;

292 ià(
di¥Ïy
)

293 
	`´štf
 (" %s:%s", 
ho¡
, 
di¥Ïy
);

295 
	`´štf
 (" %s", 
ho¡
);

297 ià(
ho¡
 !ğ
ut_ho¡
)

298 
	`ä“
 (
ho¡
);

302 
	`putch¬
 ('\n');

303 
	}
}

308 
	$´št_lÚg_’Œy
 (cÚ¡ 
Çme
[])

310 
·sswd
 *
pw
;

312 
pw
 = 
	`g‘pwÇm
 (
Çme
);

314 
	`´štf
 (
	`_
("Login‚ame: "));

315 
	`´štf
 ("%-28s", 
Çme
);

317 
	`´štf
 (
	`_
("In„eal†ife: "));

318 ià(
pw
 =ğ
NULL
)

321 
	`´štf
 (" %s", 
	`_
("???\n"));

326 *cÚ¡ 
comma
 = 
	`¡rchr
 (
pw
->
pw_gecos
, ',');

327 *
»suÉ
;

329 ià(
comma
)

330 *
comma
 = '\0';

332 
»suÉ
 = 
	`ü—‹_fuÎÇme
 (
pw
->
pw_gecos
,…w->
pw_Çme
);

333 
	`´štf
 (" %s", 
»suÉ
);

334 
	`ä“
 (
»suÉ
);

337 
	`putch¬
 ('\n');

339 ià(
šşude_home_ªd_sh–l
)

341 
	`´štf
 (
	`_
("Directory: "));

342 
	`´štf
 ("%-29s", 
pw
->
pw_dœ
);

343 
	`´štf
 (
	`_
("Shell: "));

344 
	`´štf
 (" %s", 
pw
->
pw_sh–l
);

345 
	`putch¬
 ('\n');

348 ià(
šşude_´ojeù
)

350 
FILE
 *
¡»am
;

351 
buf
[1024];

352 cÚ¡ *cÚ¡ 
ba£´ojeù
 = "/.project";

353 *cÚ¡ 
´ojeù
 =

354 
	`xm®loc
 (
	`¡¾’
 (
pw
->
pw_dœ
è+ sŒËÀ(
ba£´ojeù
) + 1);

355 
	`¡pıy
 (¡pıy (
´ojeù
, 
pw
->
pw_dœ
), 
ba£´ojeù
);

357 
¡»am
 = 
	`fİ’
 (
´ojeù
, "r");

358 ià(
¡»am
)

360 
size_t
 
by‹s
;

362 
	`´štf
 (
	`_
("Project: "));

364 (
by‹s
 = 
	`ä—d
 (
buf
, 1,  (buf), 
¡»am
)) > 0)

365 
	`fwr™e
 (
buf
, 1, 
by‹s
, 
¡dout
);

366 
	`fşo£
 (
¡»am
);

369 
	`ä“
 (
´ojeù
);

372 ià(
šşude_¶ª
)

374 
FILE
 *
¡»am
;

375 
buf
[1024];

376 cÚ¡ *cÚ¡ 
ba£¶ª
 = "/.plan";

377 *cÚ¡ 
¶ª
 =

378 
	`xm®loc
 (
	`¡¾’
 (
pw
->
pw_dœ
è+ sŒËÀ(
ba£¶ª
) + 1);

379 
	`¡pıy
 (¡pıy (
¶ª
, 
pw
->
pw_dœ
), 
ba£¶ª
);

381 
¡»am
 = 
	`fİ’
 (
¶ª
, "r");

382 ià(
¡»am
)

384 
size_t
 
by‹s
;

386 
	`´štf
 (
	`_
("Plan:\n"));

388 (
by‹s
 = 
	`ä—d
 (
buf
, 1,  (buf), 
¡»am
)) > 0)

389 
	`fwr™e
 (
buf
, 1, 
by‹s
, 
¡dout
);

390 
	`fşo£
 (
¡»am
);

393 
	`ä“
 (
¶ª
);

396 
	`putch¬
 ('\n');

397 
	}
}

403 
	$´št_h—dšg
 ()

405 
	`´štf
 ("%-8s", 
	`_
("Login"));

406 ià(
šşude_fuÎÇme
)

407 
	`´štf
 (" %-19s", 
	`_
("Name"));

408 
	`´štf
 (" %-9s", 
	`_
(" TTY"));

409 ià(
šşude_idË
)

410 
	`´štf
 (" %-6s", 
	`_
("Idle"));

411 
	`´štf
 (" %-*s", 
time_fÜm©_width
, 
	`_
("When"));

412 #ifdeà
HAVE_UT_HOST


413 ià(
šşude_wh”e
)

414 
	`´štf
 (" %s", 
	`_
("Where"));

416 
	`putch¬
 ('\n');

417 
	}
}

422 
	$sÿn_’Œ›s
 (
size_t
 
n
, cÚ¡ 
STRUCT_UTMP
 *
utmp_buf
,

423 cÚ¡ 
¬gc_Çmes
, *cÚ¡ 
¬gv_Çmes
[])

425 ià(
	`h¬d_loÿË
 (
LC_TIME
))

427 
time_fÜm©
 = "%Y-%m-%d %H:%M";

428 
time_fÜm©_width
 = 4 + 1 + 2 + 1 + 2 + 1 + 2 + 1 + 2;

432 
time_fÜm©
 = "%b %e %H:%M";

433 
time_fÜm©_width
 = 3 + 1 + 2 + 1 + 2 + 1 + 2;

436 ià(
šşude_h—dšg
)

437 
	`´št_h—dšg
 ();

439 
n
--)

441 ià(
	`IS_USER_PROCESS
 (
utmp_buf
))

443 ià(
¬gc_Çmes
)

445 
i
;

447 
i
 = 0; i < 
¬gc_Çmes
; i++)

448 ià(
	`¡ºcmp
 (
	`UT_USER
 (
utmp_buf
), 
¬gv_Çmes
[
i
], 
UT_USER_SIZE
)

451 
	`´št_’Œy
 (
utmp_buf
);

456 
	`´št_’Œy
 (
utmp_buf
);

458 
utmp_buf
++;

460 
	}
}

465 
	$shÜt_pšky
 (cÚ¡ *
f’ame
,

466 cÚ¡ 
¬gc_Çmes
, *cÚ¡ 
¬gv_Çmes
[])

468 
size_t
 
n_u£rs
;

469 
STRUCT_UTMP
 *
utmp_buf
;

471 ià(
	`»ad_utmp
 (
f’ame
, &
n_u£rs
, &
utmp_buf
, 0) != 0)

472 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
f’ame
);

474 
	`sÿn_’Œ›s
 (
n_u£rs
, 
utmp_buf
, 
¬gc_Çmes
, 
¬gv_Çmes
);

475 
	}
}

478 
	$lÚg_pšky
 (cÚ¡ 
¬gc_Çmes
, *cÚ¡ 
¬gv_Çmes
[])

480 
i
;

482 
i
 = 0; i < 
¬gc_Çmes
; i++)

483 
	`´št_lÚg_’Œy
 (
¬gv_Çmes
[
i
]);

484 
	}
}

487 
	$u§ge
 (
¡©us
)

489 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

490 
	`em™_Œy_h–p
 ();

493 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [USER]...\n"), 
´og¿m_Çme
);

494 
	`åuts
 (
	`_
("\
\n\
-È…roduû†Úg fÜm© ouuˆfÜh¥ecif›d USERs\n\
-b om™hu£r' homdœeùÜy‡nd sh–Èš†Úg fÜm©\n\
-h om™hu£r' ´ojeù fš†Úg fÜm©\n\
-° om™hu£r' ¶ª fš†Úg fÜm©\n\
-  dØshÜˆfÜm© ouut,hi i thdeçuÉ\n\
"), 
¡dout
);

502 
	`åuts
 (
	`_
("\
-à om™hlšoàcŞumÀh—dšg š shÜˆfÜm©\n\
-w om™hu£r' fuÎ‚amš shÜˆfÜm©\n\
-˜ om™hu£r' fuÎ‚amªd„emÙho¡ iÀshÜˆfÜm©\n\
-q om™hu£r' fuÎ‚ame,„emÙho¡‡nd idËime\n\
 shÜˆfÜm©\n\
"), 
¡dout
);

509 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

510 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

511 
	`´štf
 (
	`_
("\
\n\
†ightweighˆ'fšg”'…rog¿m;…ršˆu£¸šfÜm©iÚ.\n\
 utm°fwÈb%s.\n\
"), 
UTMP_FILE
);

516 
	`em™_ªcÏry_šfo
 ();

518 
	`ex™
 (
¡©us
);

519 
	}
}

522 
	$maš
 (
¬gc
, **
¬gv
)

524 
İtc
;

525 
n_u£rs
;

527 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

528 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

529 
	`£oÿË
 (
LC_ALL
, "");

530 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

531 
	`‹xtdomaš
 (
PACKAGE
);

533 
	`©ex™
 (
şo£_¡dout
);

535 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "sfwiqbhÍ", 
lÚgİts
, 
NULL
)) != -1)

537 
İtc
)

540 
do_shÜt_fÜm©
 = 
Œue
;

544 
do_shÜt_fÜm©
 = 
çl£
;

548 
šşude_h—dšg
 = 
çl£
;

552 
šşude_fuÎÇme
 = 
çl£
;

556 
šşude_fuÎÇme
 = 
çl£
;

557 #ifdeà
HAVE_UT_HOST


558 
šşude_wh”e
 = 
çl£
;

563 
šşude_fuÎÇme
 = 
çl£
;

564 #ifdeà
HAVE_UT_HOST


565 
šşude_wh”e
 = 
çl£
;

567 
šşude_idË
 = 
çl£
;

571 
šşude_´ojeù
 = 
çl£
;

575 
šşude_¶ª
 = 
çl£
;

579 
šşude_home_ªd_sh–l
 = 
çl£
;

582 
ÿ£_GETOPT_HELP_CHAR
;

584 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

587 
	`u§ge
 (
EXIT_FAILURE
);

591 
n_u£rs
 = 
¬gc
 - 
İtšd
;

593 ià(!
do_shÜt_fÜm©
 && 
n_u£rs
 == 0)

595 
	`”rÜ
 (0, 0, 
	`_
("no username specified;‡t†east one must be\
 when using -l"));

597 
	`u§ge
 (
EXIT_FAILURE
);

600 ià(
do_shÜt_fÜm©
)

601 
	`shÜt_pšky
 (
UTMP_FILE
, 
n_u£rs
, 
¬gv
 + 
İtšd
);

603 
	`lÚg_pšky
 (
n_u£rs
, 
¬gv
 + 
İtšd
);

605 
	`ex™
 (
EXIT_SUCCESS
);

606 
	}
}

	@pr.c

311 
	~<cÚfig.h
>

313 
	~<g‘İt.h
>

314 
	~<sys/ty³s.h
>

315 
	~"sy¡em.h
"

316 
	~"”rÜ.h
"

317 
	~"çdvi£.h
"

318 
	~"h¬d-loÿË.h
"

319 
	~"mbswidth.h
"

320 
	~"quÙe.h
"

321 
	~"¡©-time.h
"

322 
	~"¡dio--.h
"

323 
	~"¡ráime.h
"

324 
	~"x¡¹Ş.h
"

327 
	#PROGRAM_NAME
 "´"

	)

329 
	#AUTHORS
 \

330 
	`´İ”_Çme
 ("Pete TerMaat"), \

331 
	`´İ”_Çme
 ("RŞªd HuebÃr")

	)

337 
	#ANYWHERE
 0

	)

382 
	gCOLUMN
;

383 
	sCOLUMN


385 
FILE
 *
	må
;

386 cÚ¡ *
	mÇme
;

389 
	mOPEN
,

390 
	mFF_FOUND
,

392 
	mON_HOLD
,

393 
	mCLOSED


395 
	m¡©us
;

398 
boŞ
 (*
´št_func
è(
	mCOLUMN
 *);

401 (*
	mch¬_func
) ();

403 
	mcu¼’t_lše
;

404 
	mlšes_¡Üed
;

405 
	mlšes_to_´št
;

406 
	m¡¬t_pos™iÚ
;

407 
boŞ
 
	mnumb”ed
;

408 
boŞ
 
	mfuÎ_·ge_´š‹d
;

416 
COLUMN
 
	tCOLUMN
;

418 
ch¬_to_şump
 (
c
);

419 
boŞ
 
»ad_lše
 (
COLUMN
 *
p
);

420 
boŞ
 
´št_·ge
 ();

421 
boŞ
 
´št_¡Üed
 (
COLUMN
 *
p
);

422 
boŞ
 
İ’_fe
 (*
Çme
, 
COLUMN
 *
p
);

423 
boŞ
 
sk_to_·ge
 (
uštmax_t
 
·ge
);

424 
´št_h—d”
 ();

425 
·d_aüoss_to
 (
pos™iÚ
);

426 
add_lše_numb”
 (
COLUMN
 *
p
);

427 
g‘İrg
 (*
¬g
, 
sw™ch_ch¬
, *
ch¬aù”
,

428 *
numb”
);

429 
´št_fes
 (
numb”_of_fes
, **
av
);

430 
š™_·¿m‘”s
 (
numb”_of_fes
);

431 
š™_h—d”
 (cÚ¡ *
f’ame
, 
desc
);

432 
boŞ
 
š™_ås
 (
numb”_of_fes
, **
av
);

433 
š™_funcs
 ();

434 
š™_¡Üe_cŞs
 ();

435 
¡Üe_cŞumns
 ();

436 
b®ªû
 (
tÙ®_¡Üed
);

437 
¡Üe_ch¬
 (
c
);

438 
·d_down
 (
lšes
);

439 
»ad_»¡_of_lše
 (
COLUMN
 *
p
);

440 
sk_»ad
 (
COLUMN
 *
p
, 
cŞumn_numb”
);

441 
´št_ch¬
 (
c
);

442 
ş—nup
 ();

443 
´št_£p_¡ršg
 ();

444 
£·¿tÜ_¡ršg
 (cÚ¡ *
İrg_S
);

447 
COLUMN
 *
	gcŞumn_veùÜ
;

453 *
	gbuff
;

457 
	gbuff_cu¼’t
;

461 
size_t
 
	gbuff_®loÿ‹d
;

467 *
	glše_veùÜ
;

474 *
	g’d_veùÜ
;

477 
boŞ
 
	g·¿Î–_fes
 = 
çl£
;

481 
boŞ
 
	g®ign_em±y_cŞs
;

485 
boŞ
 
	gem±y_lše
;

492 
boŞ
 
	gFF_Úly
;

497 
boŞ
 
	gex¶ic™_cŞumns
 = 
çl£
;

500 
boŞ
 
	gexŒem™›s
 = 
Œue
;

504 
boŞ
 
	gk“p_FF
 = 
çl£
;

505 
boŞ
 
	g´št_a_FF
 = 
çl£
;

509 
boŞ
 
	g´št_a_h—d”
;

512 
boŞ
 
	gu£_fÜm_ãed
 = 
çl£
;

515 
boŞ
 
	ghave_»ad_¡dš
 = 
çl£
;

518 
boŞ
 
	g´št_aüoss_æag
 = 
çl£
;

521 
boŞ
 
	g¡Üšg_cŞumns
 = 
Œue
;

527 
boŞ
 
	gb®ªû_cŞumns
 = 
çl£
;

530 
	glšes_³r_·ge
 = 66;

534 ’um { 
	mlšes_³r_h—d”
 = 5 };

535 
	glšes_³r_body
;

536 ’um { 
	mlšes_³r_foÙ”
 = 5 };

540 
	gch¬s_³r_lše
 = 72;

543 
boŞ
 
	gŒunÿ‹_lšes
 = 
çl£
;

547 
boŞ
 
	gjoš_lšes
 = 
çl£
;

551 
	gch¬s_³r_cŞumn
;

554 
boŞ
 
	guÁabify_šput
 = 
çl£
;

557 
	gšput_b_ch¬
 = '\t';

561 
	gch¬s_³r_šput_b
 = 8;

564 
boŞ
 
	gbify_ouut
 = 
çl£
;

567 
	gouut_b_ch¬
 = '\t';

570 
	gch¬s_³r_ouut_b
 = 8;

575 
	g¥aûs_nÙ_´š‹d
;

578 
	gch¬s_³r_m¬gš
 = 0;

584 
	gouut_pos™iÚ
;

590 
	gšput_pos™iÚ
;

594 
boŞ
 
	gçed_İ’s
 = 
çl£
;

598 
	#TAB_WIDTH
(
c_
, 
h_
è((c_è- ((h_è% (c_)))

	)

602 
	#POS_AFTER_TAB
(
c_
, 
h_
è((h_è+ 
	`TAB_WIDTH
 (c_, h_))

	)

605 
	gcŞumns
 = 1;

609 
uštmax_t
 
	gfœ¡_·ge_numb”
 = 0;

610 
uštmax_t
 
	gÏ¡_·ge_numb”
 = 
UINTMAX_MAX
;

613 
	gfes_»ady_to_»ad
 = 0;

616 
uštmax_t
 
	g·ge_numb”
;

631 
	glše_numb”
;

634 
boŞ
 
	gnumb”ed_lšes
 = 
çl£
;

637 
	gnumb”_£·¿tÜ
 = '\t';

641 
	glše_couÁ
 = 1;

646 
boŞ
 
	gsk_couÁ
 = 
Œue
;

650 
	g¡¬t_lše_num
 = 1;

653 
	gch¬s_³r_numb”
 = 5;

658 
	gnumb”_width
;

661 *
	gnumb”_buff
;

665 
boŞ
 
	gu£_esc_£qu’û
 = 
çl£
;

669 
boŞ
 
	gu£_úŒl_´efix
 = 
çl£
;

672 
boŞ
 
	gdoubË_¥aû
 = 
çl£
;

676 
	gtÙ®_fes
 = 0;

679 
boŞ
 
	gignÜe_çed_İ’s
 = 
çl£
;

683 
boŞ
 
	gu£_cŞ_£·¿tÜ
 = 
çl£
;

688 *
	gcŞ_£p_¡ršg
 = (*) "";

689 
	gcŞ_£p_Ëngth
 = 0;

690 *
	gcŞumn_£·¿tÜ
 = (*) " ";

691 *
	glše_£·¿tÜ
 = (*) "\t";

695 
	g£·¿tÜs_nÙ_´š‹d
;

699 
	g·ddšg_nÙ_´š‹d
;

703 
boŞ
 
	g·d_v”tiÿÎy
;

706 *
	gcu¡om_h—d”
;

709 cÚ¡ *
	gd©e_fÜm©
;

712 *
	gd©e_‹xt
;

713 cÚ¡ *
	gfe_‹xt
;

716 
	gh—d”_width_avaabË
;

718 *
	gşump_buff
;

724 
boŞ
 
	gÏ¡_lše
 = 
çl£
;

730 
	mCOLUMNS_OPTION
 = 
CHAR_MAX
 + 1,

731 
	mPAGES_OPTION


734 cÚ¡ 
	gshÜt_İtiÚs
[] =

737 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

739 {"·ges", 
»quœed_¬gum’t
, 
NULL
, 
PAGES_OPTION
},

740 {"cŞumns", 
»quœed_¬gum’t
, 
NULL
, 
COLUMNS_OPTION
},

741 {"aüoss", 
no_¬gum’t
, 
NULL
, 'a'},

742 {"show-cÚŒŞ-ch¬s", 
no_¬gum’t
, 
NULL
, 'c'},

743 {"doubË-¥aû", 
no_¬gum’t
, 
NULL
, 'd'},

744 {"d©e-fÜm©", 
»quœed_¬gum’t
, 
NULL
, 'D'},

745 {"ex·nd-bs", 
İtiÚ®_¬gum’t
, 
NULL
, 'e'},

746 {"fÜm-ãed", 
no_¬gum’t
, 
NULL
, 'f'},

747 {"h—d”", 
»quœed_¬gum’t
, 
NULL
, 'h'},

748 {"ouut-bs", 
İtiÚ®_¬gum’t
, 
NULL
, 'i'},

749 {"još-lšes", 
no_¬gum’t
, 
NULL
, 'J'},

750 {"Ëngth", 
»quœed_¬gum’t
, 
NULL
, 'l'},

751 {"m”ge", 
no_¬gum’t
, 
NULL
, 'm'},

752 {"numb”-lšes", 
İtiÚ®_¬gum’t
, 
NULL
, 'n'},

753 {"fœ¡-lše-numb”", 
»quœed_¬gum’t
, 
NULL
, 'N'},

754 {"šd’t", 
»quœed_¬gum’t
, 
NULL
, 'o'},

755 {"no-fe-w¬nšgs", 
no_¬gum’t
, 
NULL
, 'r'},

756 {"£·¿tÜ", 
İtiÚ®_¬gum’t
, 
NULL
, 's'},

757 {"£p-¡ršg", 
İtiÚ®_¬gum’t
, 
NULL
, 'S'},

758 {"om™-h—d”", 
no_¬gum’t
, 
NULL
, 't'},

759 {"om™-·gš©iÚ", 
no_¬gum’t
, 
NULL
, 'T'},

760 {"show-nÚ´štšg", 
no_¬gum’t
, 
NULL
, 'v'},

761 {"width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

762 {"·ge-width", 
»quœed_¬gum’t
, 
NULL
, 'W'},

763 {
GETOPT_HELP_OPTION_DECL
},

764 {
GETOPT_VERSION_OPTION_DECL
},

765 {
NULL
, 0, NULL, 0}

771 
_GL_ATTRIBUTE_PURE


772 
	$cŞs_»ady_to_´št
 ()

774 
COLUMN
 *
q
;

775 
i
;

776 
n
;

778 
n
 = 0;

779 
q
 = 
cŞumn_veùÜ
, 
i
 = 0; i < 
cŞumns
; ++q, ++i)

780 ià(
q
->
¡©us
 =ğ
OPEN


781 || 
q
->
¡©us
 =ğ
FF_FOUND


782 || (
¡Üšg_cŞumns
 && 
q
->
lšes_¡Üed
 > 0 && q->
lšes_to_´št
 > 0))

783 ++
n
;

784  
n
;

785 
	}
}

790 
boŞ


791 
	$fœ¡_Ï¡_·ge
 (
oi
, 
c
, cÚ¡ *
·ges
)

793 *
p
;

794 
uštmax_t
 
fœ¡
;

795 
uštmax_t
 
Ï¡
 = 
UINTMAX_MAX
;

796 
¡¹Ş_”rÜ
 
”r
 = 
	`x¡¹oumax
 (
·ges
, &
p
, 10, &
fœ¡
, "");

797 ià(
”r
 !ğ
LONGINT_OK
 &&ƒ¼ !ğ
LONGINT_INVALID_SUFFIX_CHAR
)

798 
	`x¡¹Ş_çl
 (
”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
·ges
);

800 ià(
p
 =ğ
·ges
 || !
fœ¡
)

801  
çl£
;

803 ià(*
p
 == ':')

805 cÚ¡ *
p1
 = 
p
 + 1;

806 
”r
 = 
	`x¡¹oumax
 (
p1
, &
p
, 10, &
Ï¡
, "");

807 ià(
”r
 !ğ
LONGINT_OK
)

808 
	`x¡¹Ş_çl
 (
”r
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
·ges
);

809 ià(
p1
 =ğ
p
 || 
Ï¡
 < 
fœ¡
)

810  
çl£
;

813 ià(*
p
)

814  
çl£
;

816 
fœ¡_·ge_numb”
 = 
fœ¡
;

817 
Ï¡_·ge_numb”
 = 
Ï¡
;

818  
Œue
;

819 
	}
}

826 
	$·r£_cŞumn_couÁ
 (cÚ¡ *
s
)

828 
tmp_lÚg
;

829 ià(
	`x¡¹Ş
 (
s
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


830 || !(1 <ğ
tmp_lÚg
 &&mp_lÚg <ğ
INT_MAX
))

831 
	`”rÜ
 (
EXIT_FAILURE
, 0,

832 
	`_
("šv®id‚umb” oàcŞumns: %s"), 
	`quÙe
 (
s
));

834 
cŞumns
 = 
tmp_lÚg
;

835 
ex¶ic™_cŞumns
 = 
Œue
;

836 
	}
}

841 
	$£·¿tÜ_¡ršg
 (cÚ¡ *
İrg_S
)

843 
cŞ_£p_Ëngth
 = (è
	`¡¾’
 (
İrg_S
);

844 
cŞ_£p_¡ršg
 = 
	`xm®loc
 (
cŞ_£p_Ëngth
 + 1);

845 
	`¡rıy
 (
cŞ_£p_¡ršg
, 
İrg_S
);

846 
	}
}

849 
	$maš
 (
¬gc
, **
¬gv
)

851 
n_fes
;

852 
boŞ
 
Şd_İtiÚs
 = 
çl£
;

853 
boŞ
 
Şd_w
 = 
çl£
;

854 
boŞ
 
Şd_s
 = 
çl£
;

855 **
fe_Çmes
;

858 *
cŞumn_couÁ_¡ršg
 = 
NULL
;

859 
size_t
 
n_dig™s
 = 0;

860 
size_t
 
n_®loc
 = 0;

862 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

863 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

864 
	`£oÿË
 (
LC_ALL
, "");

865 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

866 
	`‹xtdomaš
 (
PACKAGE
);

868 
	`©ex™
 (
şo£_¡dout
);

870 
n_fes
 = 0;

871 
fe_Çmes
 = (
¬gc
 > 1

872 ? 
	`xm®loc
 ((
¬gc
 - 1) *  (*))

873 : 
NULL
);

875 
Œue
)

877 
oi
 = -1;

878 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, &
oi
);

879 ià(
c
 == -1)

882 ià(
	`ISDIGIT
 (
c
))

885 ià(
n_dig™s
 + 1 >ğ
n_®loc
)

886 
cŞumn_couÁ_¡ršg


887 ğ
	`X2REALLOC
 (
cŞumn_couÁ_¡ršg
, &
n_®loc
);

888 
cŞumn_couÁ_¡ršg
[
n_dig™s
++] = 
c
;

889 
cŞumn_couÁ_¡ršg
[
n_dig™s
] = '\0';

893 
n_dig™s
 = 0;

895 
c
)

899 ià(! (
fœ¡_·ge_numb”
 == 0

900 && *
İrg
 =ğ'+' && 
	`fœ¡_Ï¡_·ge
 (-2, '+', optarg + 1)))

901 
fe_Çmes
[
n_fes
++] = 
İrg
;

904 
PAGES_OPTION
:

906 ià(! 
İrg
)

907 
	`”rÜ
 (
EXIT_FAILURE
, 0,

908 
	`_
("'--pages=FIRST_PAGE[:LAST_PAGE]' missing‡rgument"));

909 ià(! 
	`fœ¡_Ï¡_·ge
 (
oi
, 0, 
İrg
))

910 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid…age„ange %s"),

911 
	`quÙe
 (
İrg
));

915 
COLUMNS_OPTION
:

917 
	`·r£_cŞumn_couÁ
 (
İrg
);

922 
	`ä“
 (
cŞumn_couÁ_¡ršg
);

923 
cŞumn_couÁ_¡ršg
 = 
NULL
;

924 
n_®loc
 = 0;

929 
´št_aüoss_æag
 = 
Œue
;

930 
¡Üšg_cŞumns
 = 
çl£
;

933 
b®ªû_cŞumns
 = 
Œue
;

936 
u£_úŒl_´efix
 = 
Œue
;

939 
doubË_¥aû
 = 
Œue
;

942 
d©e_fÜm©
 = 
İrg
;

945 ià(
İrg
)

946 
	`g‘İrg
 (
İrg
, 'e', &
šput_b_ch¬
,

947 &
ch¬s_³r_šput_b
);

949 
uÁabify_šput
 = 
Œue
;

953 
u£_fÜm_ãed
 = 
Œue
;

956 
cu¡om_h—d”
 = 
İrg
;

959 ià(
İrg
)

960 
	`g‘İrg
 (
İrg
, 'i', &
ouut_b_ch¬
,

961 &
ch¬s_³r_ouut_b
);

963 
bify_ouut
 = 
Œue
;

966 
još_lšes
 = 
Œue
;

970 
tmp_lÚg
;

971 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


972 || 
tmp_lÚg
 <ğ0 ||mp_lÚg > 
INT_MAX
)

974 
	`”rÜ
 (
EXIT_FAILURE
, 0,

975 
	`_
("'-l PAGE_LENGTH' invalid‚umber of†ines: %s"),

976 
	`quÙe
 (
İrg
));

978 
lšes_³r_·ge
 = 
tmp_lÚg
;

982 
·¿Î–_fes
 = 
Œue
;

983 
¡Üšg_cŞumns
 = 
çl£
;

986 
numb”ed_lšes
 = 
Œue
;

987 ià(
İrg
)

988 
	`g‘İrg
 (
İrg
, 'n', &
numb”_£·¿tÜ
,

989 &
ch¬s_³r_numb”
);

992 
sk_couÁ
 = 
çl£
;

994 
tmp_lÚg
;

995 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


996 || 
tmp_lÚg
 > 
INT_MAX
)

998 
	`”rÜ
 (
EXIT_FAILURE
, 0,

999 
	`_
("'-N NUMBER' invalid starting†ine‚umber: %s"),

1000 
	`quÙe
 (
İrg
));

1002 
¡¬t_lše_num
 = 
tmp_lÚg
;

1007 
tmp_lÚg
;

1008 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


1009 || 
tmp_lÚg
 < 0 ||mp_lÚg > 
INT_MAX
)

1010 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1011 
	`_
("'-ØMARGIN' inv®id†šoff£t: %s"), 
	`quÙe
 (
İrg
));

1012 
ch¬s_³r_m¬gš
 = 
tmp_lÚg
;

1016 
ignÜe_çed_İ’s
 = 
Œue
;

1019 
Şd_İtiÚs
 = 
Œue
;

1020 
Şd_s
 = 
Œue
;

1021 ià(!
u£_cŞ_£·¿tÜ
 && 
İrg
)

1022 
	`£·¿tÜ_¡ršg
 (
İrg
);

1025 
Şd_s
 = 
çl£
;

1027 
cŞ_£p_¡ršg
 = 
	`bad_ÿ¡
 ("");

1028 
cŞ_£p_Ëngth
 = 0;

1029 
u£_cŞ_£·¿tÜ
 = 
Œue
;

1030 ià(
İrg
)

1031 
	`£·¿tÜ_¡ršg
 (
İrg
);

1034 
exŒem™›s
 = 
çl£
;

1035 
k“p_FF
 = 
Œue
;

1038 
exŒem™›s
 = 
çl£
;

1039 
k“p_FF
 = 
çl£
;

1042 
u£_esc_£qu’û
 = 
Œue
;

1045 
Şd_İtiÚs
 = 
Œue
;

1046 
Şd_w
 = 
Œue
;

1048 
tmp_lÚg
;

1049 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


1050 || 
tmp_lÚg
 <ğ0 ||mp_lÚg > 
INT_MAX
)

1051 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1052 
	`_
("'-w PAGE_WIDTH' invalid‚umber of characters: %s"),

1053 
	`quÙe
 (
İrg
));

1054 ià(!
Œunÿ‹_lšes
)

1055 
ch¬s_³r_lše
 = 
tmp_lÚg
;

1059 
Şd_w
 = 
çl£
;

1060 
Œunÿ‹_lšes
 = 
Œue
;

1062 
tmp_lÚg
;

1063 ià(
	`x¡¹Ş
 (
İrg
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


1064 || 
tmp_lÚg
 <ğ0 ||mp_lÚg > 
INT_MAX
)

1065 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1066 
	`_
("'-W PAGE_WIDTH' invalid‚umber of characters: %s"),

1067 
	`quÙe
 (
İrg
));

1068 
ch¬s_³r_lše
 = 
tmp_lÚg
;

1071 
ÿ£_GETOPT_HELP_CHAR
;

1072 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1074 
	`u§ge
 (
EXIT_FAILURE
);

1079 ià(
cŞumn_couÁ_¡ršg
)

1081 
	`·r£_cŞumn_couÁ
 (
cŞumn_couÁ_¡ršg
);

1082 
	`ä“
 (
cŞumn_couÁ_¡ršg
);

1085 ià(! 
d©e_fÜm©
)

1086 
d©e_fÜm©
 = (
	`g‘’v
 ("POSIXLY_CORRECT"è&& !
	`h¬d_loÿË
 (
LC_TIME
)

1091 ià(
fœ¡_·ge_numb”
 == 0)

1092 
fœ¡_·ge_numb”
 = 1;

1094 ià(
·¿Î–_fes
 && 
ex¶ic™_cŞumns
)

1095 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1096 
	`_
("cannot specify‚umber of columns when…rinting in…arallel"));

1098 ià(
·¿Î–_fes
 && 
´št_aüoss_æag
)

1099 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1100 
	`_
("cannot specify both…rinting‡cross‡nd…rinting in…arallel"));

1106 ià(
Şd_İtiÚs
)

1108 ià(
Şd_w
)

1110 ià(
·¿Î–_fes
 || 
ex¶ic™_cŞumns
)

1113 
Œunÿ‹_lšes
 = 
Œue
;

1114 ià(
Şd_s
)

1117 
u£_cŞ_£·¿tÜ
 = 
Œue
;

1122 
još_lšes
 = 
Œue
;

1124 ià(!
u£_cŞ_£·¿tÜ
)

1127 ià(
Şd_s
 && (
·¿Î–_fes
 || 
ex¶ic™_cŞumns
))

1129 ià(!
Œunÿ‹_lšes
)

1133 
još_lšes
 = 
Œue
;

1134 ià(
cŞ_£p_Ëngth
 > 0)

1136 
u£_cŞ_£·¿tÜ
 = 
Œue
;

1142 
u£_cŞ_£·¿tÜ
 = 
Œue
;

1147 ; 
İtšd
 < 
¬gc
; optind++)

1149 
fe_Çmes
[
n_fes
++] = 
¬gv
[
İtšd
];

1152 ià(
n_fes
 == 0)

1155 
	`´št_fes
 (0, 
NULL
);

1159 ià(
·¿Î–_fes
)

1160 
	`´št_fes
 (
n_fes
, 
fe_Çmes
);

1163 
i
;

1164 
i
 = 0; i < 
n_fes
; i++)

1165 
	`´št_fes
 (1, &
fe_Çmes
[
i
]);

1169 
	`ş—nup
 ();

1171 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

1172 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard input"));

1173 ià(
çed_İ’s
)

1174 
	`ex™
 (
EXIT_FAILURE
);

1175 
	`ex™
 (
EXIT_SUCCESS
);

1176 
	}
}

1185 
	$g‘İrg
 (*
¬g
, 
sw™ch_ch¬
, *
ch¬aù”
, *
numb”
)

1187 ià(!
	`ISDIGIT
 (*
¬g
))

1188 *
ch¬aù”
 = *
¬g
++;

1189 ià(*
¬g
)

1191 
tmp_lÚg
;

1192 ià(
	`x¡¹Ş
 (
¬g
, 
NULL
, 10, &
tmp_lÚg
, ""è!ğ
LONGINT_OK


1193 || 
tmp_lÚg
 <ğ0 ||mp_lÚg > 
INT_MAX
)

1195 
	`”rÜ
 (0, 0,

1196 
	`_
("'-%c'ƒxtra characters or invalid‚umber inhe‡rgument: %s"),

1197 
sw™ch_ch¬
, 
	`quÙe
 (
¬g
));

1198 
	`u§ge
 (
EXIT_FAILURE
);

1200 *
numb”
 = 
tmp_lÚg
;

1202 
	}
}

1207 
	$š™_·¿m‘”s
 (
numb”_of_fes
)

1209 
ch¬s_u£d_by_numb”
 = 0;

1211 
lšes_³r_body
 = 
lšes_³r_·ge
 - 
lšes_³r_h—d”
 - 
lšes_³r_foÙ”
;

1212 ià(
lšes_³r_body
 <= 0)

1214 
exŒem™›s
 = 
çl£
;

1215 
k“p_FF
 = 
Œue
;

1217 ià(
exŒem™›s
 =ğ
çl£
)

1218 
lšes_³r_body
 = 
lšes_³r_·ge
;

1220 ià(
doubË_¥aû
)

1221 
lšes_³r_body
 =†ines_per_body / 2;

1225 ià(
numb”_of_fes
 == 0)

1226 
·¿Î–_fes
 = 
çl£
;

1228 ià(
·¿Î–_fes
)

1229 
cŞumns
 = 
numb”_of_fes
;

1233 ià(
¡Üšg_cŞumns
)

1234 
b®ªû_cŞumns
 = 
Œue
;

1237 ià(
cŞumns
 > 1)

1239 ià(!
u£_cŞ_£·¿tÜ
)

1242 ià(
još_lšes
)

1243 
cŞ_£p_¡ršg
 = 
lše_£·¿tÜ
;

1245 
cŞ_£p_¡ršg
 = 
cŞumn_£·¿tÜ
;

1247 
cŞ_£p_Ëngth
 = 1;

1248 
u£_cŞ_£·¿tÜ
 = 
Œue
;

1252 ià(!
još_lšes
 && *
cŞ_£p_¡ršg
 == '\t')

1253 
cŞ_£p_¡ršg
 = 
cŞumn_£·¿tÜ
;

1255 
Œunÿ‹_lšes
 = 
Œue
;

1256 
bify_ouut
 = 
Œue
;

1259 
¡Üšg_cŞumns
 = 
çl£
;

1262 ià(
još_lšes
)

1263 
Œunÿ‹_lšes
 = 
çl£
;

1265 ià(
numb”ed_lšes
)

1267 
ch¬s_³r_deçuÉ_b
 = 8;

1269 
lše_couÁ
 = 
¡¬t_lše_num
;

1277 ià(
numb”_£·¿tÜ
 == '\t')

1278 
numb”_width
 = (
ch¬s_³r_numb”


1279 + 
	`TAB_WIDTH
 (
ch¬s_³r_deçuÉ_b
, 
ch¬s_³r_numb”
));

1281 
numb”_width
 = 
ch¬s_³r_numb”
 + 1;

1285 ià(
·¿Î–_fes
)

1286 
ch¬s_u£d_by_numb”
 = 
numb”_width
;

1289 
ch¬s_³r_cŞumn
 = (
ch¬s_³r_lše
 - 
ch¬s_u£d_by_numb”


1290 - (
cŞumns
 - 1è* 
cŞ_£p_Ëngth
) / columns;

1292 ià(
ch¬s_³r_cŞumn
 < 1)

1293 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("page widthoo‚arrow"));

1295 ià(
numb”ed_lšes
)

1297 
	`ä“
 (
numb”_buff
);

1298 
numb”_buff
 = 
	`xm®loc
 (
	`MAX
 (
ch¬s_³r_numb”
,

1299 
	`INT_STRLEN_BOUND
 (
lše_numb”
)) + 1);

1307 
	`ä“
 (
şump_buff
);

1308 
şump_buff
 = 
	`xm®loc
 (
	`MAX
 (8, 
ch¬s_³r_šput_b
));

1309 
	}
}

1322 
boŞ


1323 
	$š™_ås
 (
numb”_of_fes
, **
av
)

1325 
i
, 
fes_Ëá
;

1326 
COLUMN
 *
p
;

1327 
FILE
 *
fœ¡å
;

1328 cÚ¡ *
fœ¡Çme
;

1330 
tÙ®_fes
 = 0;

1332 
	`ä“
 (
cŞumn_veùÜ
);

1333 
cŞumn_veùÜ
 = 
	`xnm®loc
 (
cŞumns
,  (
COLUMN
));

1335 ià(
·¿Î–_fes
)

1337 
fes_Ëá
 = 
numb”_of_fes
;

1338 
p
 = 
cŞumn_veùÜ
; 
fes_Ëá
--; ++p, ++
av
)

1340 ià(! 
	`İ’_fe
 (*
av
, 
p
))

1342 --
p
;

1343 --
cŞumns
;

1346 ià(
cŞumns
 == 0)

1347  
çl£
;

1348 
	`š™_h—d”
 ("", -1);

1352 
p
 = 
cŞumn_veùÜ
;

1353 ià(
numb”_of_fes
 > 0)

1355 ià(! 
	`İ’_fe
 (*
av
, 
p
))

1356  
çl£
;

1357 
	`š™_h—d”
 (*
av
, 
	`f’o
 (
p
->
å
));

1358 
p
->
lšes_¡Üed
 = 0;

1362 
p
->
Çme
 = 
	`_
("standard input");

1363 
p
->
å
 = 
¡dš
;

1364 
have_»ad_¡dš
 = 
Œue
;

1365 
p
->
¡©us
 = 
OPEN
;

1366 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

1367 ++
tÙ®_fes
;

1368 
	`š™_h—d”
 ("", -1);

1369 
p
->
lšes_¡Üed
 = 0;

1372 
fœ¡Çme
 = 
p
->
Çme
;

1373 
fœ¡å
 = 
p
->
å
;

1374 
i
 = 
cŞumns
 - 1, ++
p
; i; --i, ++p)

1376 
p
->
Çme
 = 
fœ¡Çme
;

1377 
p
->
å
 = 
fœ¡å
;

1378 
p
->
¡©us
 = 
OPEN
;

1379 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

1380 
p
->
lšes_¡Üed
 = 0;

1383 
fes_»ady_to_»ad
 = 
tÙ®_fes
;

1384  
Œue
;

1385 
	}
}

1394 
	$š™_funcs
 ()

1396 
i
, 
h
, 
h_Ãxt
;

1397 
COLUMN
 *
p
;

1399 
h
 = 
ch¬s_³r_m¬gš
;

1401 ià(!
Œunÿ‹_lšes
)

1402 
h_Ãxt
 = 
ANYWHERE
;

1408 ià(
·¿Î–_fes
 && 
numb”ed_lšes
)

1409 
h_Ãxt
 = 
h
 + 
ch¬s_³r_cŞumn
 + 
numb”_width
;

1411 
h_Ãxt
 = 
h
 + 
ch¬s_³r_cŞumn
;

1416 
h
 = h + 
cŞ_£p_Ëngth
;

1420 
p
 = 
cŞumn_veùÜ
, 
i
 = 1; i < 
cŞumns
; ++p, ++i)

1422 ià(
¡Üšg_cŞumns
)

1424 
p
->
ch¬_func
 = 
¡Üe_ch¬
;

1425 
p
->
´št_func
 = 
´št_¡Üed
;

1430 
p
->
ch¬_func
 = 
´št_ch¬
;

1431 
p
->
´št_func
 = 
»ad_lše
;

1436 
p
->
numb”ed
 = 
numb”ed_lšes
 && (!
·¿Î–_fes
 || 
i
 == 1);

1437 
p
->
¡¬t_pos™iÚ
 = 
h
;

1443 ià(!
Œunÿ‹_lšes
)

1445 
h
 = 
ANYWHERE
;

1446 
h_Ãxt
 = 
ANYWHERE
;

1450 
h
 = 
h_Ãxt
 + 
cŞ_£p_Ëngth
;

1451 
h_Ãxt
 = 
h
 + 
ch¬s_³r_cŞumn
;

1459 ià(
¡Üšg_cŞumns
 && 
b®ªû_cŞumns
)

1461 
p
->
ch¬_func
 = 
¡Üe_ch¬
;

1462 
p
->
´št_func
 = 
´št_¡Üed
;

1466 
p
->
ch¬_func
 = 
´št_ch¬
;

1467 
p
->
´št_func
 = 
»ad_lše
;

1470 
p
->
numb”ed
 = 
numb”ed_lšes
 && (!
·¿Î–_fes
 || 
i
 == 1);

1471 
p
->
¡¬t_pos™iÚ
 = 
h
;

1472 
	}
}

1479 
boŞ


1480 
	$İ’_fe
 (*
Çme
, 
COLUMN
 *
p
)

1482 ià(
	`STREQ
 (
Çme
, "-"))

1484 
p
->
Çme
 = 
	`_
("standard input");

1485 
p
->
å
 = 
¡dš
;

1486 
have_»ad_¡dš
 = 
Œue
;

1490 
p
->
Çme
 =‚ame;

1491 
p
->
å
 = 
	`fİ’
 (
Çme
, "r");

1493 ià(
p
->
å
 =ğ
NULL
)

1495 
çed_İ’s
 = 
Œue
;

1496 ià(!
ignÜe_çed_İ’s
)

1497 
	`”rÜ
 (0, 
”ºo
, "%s", 
Çme
);

1498  
çl£
;

1500 
	`çdvi£
 (
p
->
å
, 
FADVISE_SEQUENTIAL
);

1501 
p
->
¡©us
 = 
OPEN
;

1502 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

1503 ++
tÙ®_fes
;

1504  
Œue
;

1505 
	}
}

1513 
	$şo£_fe
 (
COLUMN
 *
p
)

1515 
COLUMN
 *
q
;

1516 
i
;

1518 ià(
p
->
¡©us
 =ğ
CLOSED
)

1520 ià(
	`ã¼Ü
 (
p
->
å
))

1521 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
p
->
Çme
);

1522 ià(
	`f’o
 (
p
->
å
è!ğ
STDIN_FILENO
 && 
	`fşo£
 (p->fp) != 0)

1523 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
p
->
Çme
);

1525 ià(!
·¿Î–_fes
)

1527 
q
 = 
cŞumn_veùÜ
, 
i
 = 
cŞumns
; i; ++q, --i)

1529 
q
->
¡©us
 = 
CLOSED
;

1530 ià(
q
->
lšes_¡Üed
 == 0)

1532 
q
->
lšes_to_´št
 = 0;

1538 
p
->
¡©us
 = 
CLOSED
;

1539 
p
->
lšes_to_´št
 = 0;

1542 --
fes_»ady_to_»ad
;

1543 
	}
}

1552 
	$hŞd_fe
 (
COLUMN
 *
p
)

1554 
COLUMN
 *
q
;

1555 
i
;

1557 ià(!
·¿Î–_fes
)

1558 
q
 = 
cŞumn_veùÜ
, 
i
 = 
cŞumns
; i; ++q, --i)

1560 ià(
¡Üšg_cŞumns
)

1561 
q
->
¡©us
 = 
FF_FOUND
;

1563 
q
->
¡©us
 = 
ON_HOLD
;

1566 
p
->
¡©us
 = 
ON_HOLD
;

1568 
p
->
lšes_to_´št
 = 0;

1569 --
fes_»ady_to_»ad
;

1570 
	}
}

1576 
	$»£t_¡©us
 ()

1578 
i
 = 
cŞumns
;

1579 
COLUMN
 *
p
;

1581 
p
 = 
cŞumn_veùÜ
; 
i
; --i, ++p)

1582 ià(
p
->
¡©us
 =ğ
ON_HOLD
)

1584 
p
->
¡©us
 = 
OPEN
;

1585 
fes_»ady_to_»ad
++;

1588 ià(
¡Üšg_cŞumns
)

1590 ià(
cŞumn_veùÜ
->
¡©us
 =ğ
CLOSED
)

1592 
fes_»ady_to_»ad
 = 0;

1594 
fes_»ady_to_»ad
 = 1;

1596 
	}
}

1608 
	$´št_fes
 (
numb”_of_fes
, **
av
)

1610 
	`š™_·¿m‘”s
 (
numb”_of_fes
);

1611 ià(! 
	`š™_ås
 (
numb”_of_fes
, 
av
))

1613 ià(
¡Üšg_cŞumns
)

1614 
	`š™_¡Üe_cŞs
 ();

1616 ià(
fœ¡_·ge_numb”
 > 1)

1618 ià(!
	`sk_to_·ge
 (
fœ¡_·ge_numb”
))

1621 
·ge_numb”
 = 
fœ¡_·ge_numb”
;

1624 
·ge_numb”
 = 1;

1626 
	`š™_funcs
 ();

1628 
lše_numb”
 = 
lše_couÁ
;

1629 
	`´št_·ge
 ())

1631 
	}
}

1638 
	$š™_h—d”
 (cÚ¡ *
f’ame
, 
desc
)

1640 *
buf
 = 
NULL
;

1641 
¡©
 
¡
;

1642 
time¥ec
 
t
;

1643 
ns
;

1644 
tm
 *tm;

1647 ià(
	`STREQ
 (
f’ame
, "-"))

1648 
desc
 = -1;

1649 ià(0 <ğ
desc
 && 
	`f¡©
 (desc, &
¡
) == 0)

1650 
t
 = 
	`g‘_¡©_mtime
 (&
¡
);

1653 
time¥ec
imespec;

1654 ià(! 
time¥ec
.
tv_£c
)

1655 
	`g‘time
 (&
time¥ec
);

1656 
t
 = 
time¥ec
;

1659 
ns
 = 
t
.
tv_n£c
;

1660 
tm
 = 
	`loÿÉime
 (&
t
.
tv_£c
);

1661 ià(
tm
 =ğ
NULL
)

1663 
buf
 = 
	`xm®loc
 (
	`INT_BUFSIZE_BOUND
 ()

1664 + 
	`MAX
 (10, 
	`INT_BUFSIZE_BOUND
 ()));

1665 
	`¥rštf
 (
buf
, "%ld.%09d", (è
t
.
tv_£c
, 
ns
);

1669 
size_t
 
bufsize
 = 
	`n¡ráime
 (
NULL
, 
SIZE_MAX
, 
d©e_fÜm©
, 
tm
, 0, 
ns
) + 1;

1670 
buf
 = 
	`xm®loc
 (
bufsize
);

1671 
	`n¡ráime
 (
buf
, 
bufsize
, 
d©e_fÜm©
, 
tm
, 0, 
ns
);

1674 
	`ä“
 (
d©e_‹xt
);

1675 
d©e_‹xt
 = 
buf
;

1676 
fe_‹xt
 = 
cu¡om_h—d”
 ? cu¡om_h—d” : 
desc
 < 0 ? "" : 
f’ame
;

1677 
h—d”_width_avaabË
 = (
ch¬s_³r_lše


1678 - 
	`mbswidth
 (
d©e_‹xt
, 0)

1679 - 
	`mbswidth
 (
fe_‹xt
, 0));

1680 
	}
}

1693 
	$š™_·ge
 ()

1695 
j
;

1696 
COLUMN
 *
p
;

1698 ià(
¡Üšg_cŞumns
)

1700 
	`¡Üe_cŞumns
 ();

1701 
j
 = 
cŞumns
 - 1, 
p
 = 
cŞumn_veùÜ
; j; --j, ++p)

1703 
p
->
lšes_to_´št
 =…->
lšes_¡Üed
;

1707 ià(
b®ªû_cŞumns
)

1709 
p
->
lšes_to_´št
 =…->
lšes_¡Üed
;

1715 ià(
p
->
¡©us
 =ğ
OPEN
)

1717 
p
->
lšes_to_´št
 = 
lšes_³r_body
;

1720 
p
->
lšes_to_´št
 = 0;

1724 
j
 = 
cŞumns
, 
p
 = 
cŞumn_veùÜ
; j; --j, ++p)

1725 ià(
p
->
¡©us
 =ğ
OPEN
)

1727 
p
->
lšes_to_´št
 = 
lšes_³r_body
;

1730 
p
->
lšes_to_´št
 = 0;

1731 
	}
}

1738 
	$®ign_cŞumn
 (
COLUMN
 *
p
)

1740 
·ddšg_nÙ_´š‹d
 = 
p
->
¡¬t_pos™iÚ
;

1741 ià(
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
 > 0)

1743 
	`·d_aüoss_to
 (
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
);

1744 
·ddšg_nÙ_´š‹d
 = 
ANYWHERE
;

1747 ià(
u£_cŞ_£·¿tÜ
)

1748 
	`´št_£p_¡ršg
 ();

1750 ià(
p
->
numb”ed
)

1751 
	`add_lše_numb”
 (
p
);

1752 
	}
}

1765 
boŞ


1766 
	$´št_·ge
 ()

1768 
j
;

1769 
lšes_Ëá_Ú_·ge
;

1770 
COLUMN
 *
p
;

1779 
boŞ
 
pv
;

1781 
	`š™_·ge
 ();

1783 ià(
	`cŞs_»ady_to_´št
 () == 0)

1784  
çl£
;

1786 ià(
exŒem™›s
)

1787 
´št_a_h—d”
 = 
Œue
;

1790 
·d_v”tiÿÎy
 = 
çl£
;

1791 
pv
 = 
çl£
;

1793 
lšes_Ëá_Ú_·ge
 = 
lšes_³r_body
;

1794 ià(
doubË_¥aû
)

1795 
lšes_Ëá_Ú_·ge
 *= 2;

1797 
lšes_Ëá_Ú_·ge
 > 0 && 
	`cŞs_»ady_to_´št
 () > 0)

1799 
ouut_pos™iÚ
 = 0;

1800 
¥aûs_nÙ_´š‹d
 = 0;

1801 
£·¿tÜs_nÙ_´š‹d
 = 0;

1802 
·d_v”tiÿÎy
 = 
çl£
;

1803 
®ign_em±y_cŞs
 = 
çl£
;

1804 
em±y_lše
 = 
Œue
;

1806 
j
 = 1, 
p
 = 
cŞumn_veùÜ
; j <ğ
cŞumns
; ++j, ++p)

1808 
šput_pos™iÚ
 = 0;

1809 ià(
p
->
lšes_to_´št
 > 0 ||…->
¡©us
 =ğ
FF_FOUND
)

1811 
FF_Úly
 = 
çl£
;

1812 
·ddšg_nÙ_´š‹d
 = 
p
->
¡¬t_pos™iÚ
;

1813 ià(!(
p
->
´št_func
) (p))

1814 
	`»ad_»¡_of_lše
 (
p
);

1815 
pv
 |ğ
·d_v”tiÿÎy
;

1817 --
p
->
lšes_to_´št
;

1818 ià(
p
->
lšes_to_´št
 <= 0)

1820 ià(
	`cŞs_»ady_to_´št
 () <= 0)

1825 ià(
·¿Î–_fes
 && 
p
->
¡©us
 !ğ
OPEN
)

1827 ià(
em±y_lše
)

1828 
®ign_em±y_cŞs
 = 
Œue
;

1829 ià(
p
->
¡©us
 =ğ
CLOSED


1830 || (
p
->
¡©us
 =ğ
ON_HOLD
 && 
FF_Úly
))

1831 
	`®ign_cŞumn
 (
p
);

1834 ià(
·¿Î–_fes
)

1837 ià(
em±y_lše
)

1838 
®ign_em±y_cŞs
 = 
Œue
;

1840 
	`®ign_cŞumn
 (
p
);

1844 ià(
u£_cŞ_£·¿tÜ
)

1845 ++
£·¿tÜs_nÙ_´š‹d
;

1848 ià(
·d_v”tiÿÎy
)

1850 
	`putch¬
 ('\n');

1851 --
lšes_Ëá_Ú_·ge
;

1854 ià(
	`cŞs_»ady_to_´št
 (è<ğ0 && !
exŒem™›s
)

1857 ià(
doubË_¥aû
 && 
pv
)

1859 
	`putch¬
 ('\n');

1860 --
lšes_Ëá_Ú_·ge
;

1864 ià(
lšes_Ëá_Ú_·ge
 == 0)

1865 
j
 = 1, 
p
 = 
cŞumn_veùÜ
; j <ğ
cŞumns
; ++j, ++p)

1866 ià(
p
->
¡©us
 =ğ
OPEN
)

1867 
p
->
fuÎ_·ge_´š‹d
 = 
Œue
;

1869 
·d_v”tiÿÎy
 = 
pv
;

1871 ià(
·d_v”tiÿÎy
 && 
exŒem™›s
)

1872 
	`·d_down
 (
lšes_Ëá_Ú_·ge
 + 
lšes_³r_foÙ”
);

1873 ià(
k“p_FF
 && 
´št_a_FF
)

1875 
	`putch¬
 ('\f');

1876 
´št_a_FF
 = 
çl£
;

1879 ià(
Ï¡_·ge_numb”
 < ++
·ge_numb”
)

1880  
çl£
;

1882 
	`»£t_¡©us
 ();

1884  
Œue
;

1885 
	}
}

1902 
	$š™_¡Üe_cŞs
 ()

1904 
tÙ®_lšes
 = 
lšes_³r_body
 * 
cŞumns
;

1905 
ch¬s_if_Œunÿ‹
 = 
tÙ®_lšes
 * (
ch¬s_³r_cŞumn
 + 1);

1907 
	`ä“
 (
lše_veùÜ
);

1909 
lše_veùÜ
 = 
	`xm®loc
 ((
tÙ®_lšes
 + 1) *  *line_vector);

1911 
	`ä“
 (
’d_veùÜ
);

1912 
’d_veùÜ
 = 
	`xm®loc
 (
tÙ®_lšes
 *  *end_vector);

1914 
	`ä“
 (
buff
);

1915 
buff_®loÿ‹d
 = (
u£_cŞ_£·¿tÜ


1916 ? 2 * 
ch¬s_if_Œunÿ‹


1917 : 
ch¬s_if_Œunÿ‹
);

1918 
buff
 = 
	`xm®loc
 (
buff_®loÿ‹d
);

1919 
	}
}

1934 
	$¡Üe_cŞumns
 ()

1936 
i
, 
j
;

1937 
lše
 = 0;

1938 
buff_¡¬t
;

1939 
Ï¡_cŞ
;

1940 
COLUMN
 *
p
;

1942 
buff_cu¼’t
 = 0;

1943 
buff_¡¬t
 = 0;

1945 ià(
b®ªû_cŞumns
)

1946 
Ï¡_cŞ
 = 
cŞumns
;

1948 
Ï¡_cŞ
 = 
cŞumns
 - 1;

1950 
i
 = 1, 
p
 = 
cŞumn_veùÜ
; i <ğ
Ï¡_cŞ
; ++i, ++p)

1951 
p
->
lšes_¡Üed
 = 0;

1953 
i
 = 1, 
p
 = 
cŞumn_veùÜ
; i <ğ
Ï¡_cŞ
 && 
fes_»ady_to_»ad
;

1954 ++
i
, ++
p
)

1956 
p
->
cu¼’t_lše
 = 
lše
;

1957 
j
 = 
lšes_³r_body
; j && 
fes_»ady_to_»ad
; --j)

1959 ià(
p
->
¡©us
 =ğ
OPEN
)

1961 
šput_pos™iÚ
 = 0;

1963 ià(!
	`»ad_lše
 (
p
))

1964 
	`»ad_»¡_of_lše
 (
p
);

1966 ià(
p
->
¡©us
 =ğ
OPEN


1967 || 
buff_¡¬t
 !ğ
buff_cu¼’t
)

1969 ++
p
->
lšes_¡Üed
;

1970 
lše_veùÜ
[
lše
] = 
buff_¡¬t
;

1971 
’d_veùÜ
[
lše
++] = 
šput_pos™iÚ
;

1972 
buff_¡¬t
 = 
buff_cu¼’t
;

1978 
lše_veùÜ
[
lše
] = 
buff_¡¬t
;

1980 ià(
b®ªû_cŞumns
)

1981 
	`b®ªû
 (
lše
);

1982 
	}
}

1985 
	$b®ªû
 (
tÙ®_¡Üed
)

1987 
COLUMN
 *
p
;

1988 
i
, 
lšes
;

1989 
fœ¡_lše
 = 0;

1991 
i
 = 1, 
p
 = 
cŞumn_veùÜ
; i <ğ
cŞumns
; ++i, ++p)

1993 
lšes
 = 
tÙ®_¡Üed
 / 
cŞumns
;

1994 ià(
i
 <ğ
tÙ®_¡Üed
 % 
cŞumns
)

1995 ++
lšes
;

1997 
p
->
lšes_¡Üed
 = 
lšes
;

1998 
p
->
cu¼’t_lše
 = 
fœ¡_lše
;

2000 
fœ¡_lše
 +ğ
lšes
;

2002 
	}
}

2007 
	$¡Üe_ch¬
 (
c
)

2009 ià(
buff_cu¼’t
 >ğ
buff_®loÿ‹d
)

2012 
buff
 = 
	`X2REALLOC
 (buff, &
buff_®loÿ‹d
);

2014 
buff
[
buff_cu¼’t
++] = 
c
;

2015 
	}
}

2018 
	$add_lše_numb”
 (
COLUMN
 *
p
)

2020 
i
;

2021 *
s
;

2022 
num_width
;

2026 
num_width
 = 
	`¥rštf
 (
numb”_buff
, "%*d", 
ch¬s_³r_numb”
, 
lše_numb”
);

2027 
lše_numb”
++;

2028 
s
 = 
numb”_buff
 + (
num_width
 - 
ch¬s_³r_numb”
);

2029 
i
 = 
ch¬s_³r_numb”
; i > 0; i--)

2030 (
p
->
ch¬_func
è(*
s
++);

2032 ià(
cŞumns
 > 1)

2037 ià(
numb”_£·¿tÜ
 == '\t')

2039 
i
 = 
numb”_width
 - 
ch¬s_³r_numb”
;

2040 
i
-- > 0)

2041 (
p
->
ch¬_func
) (' ');

2044 (
p
->
ch¬_func
è(
numb”_£·¿tÜ
);

2051 (
p
->
ch¬_func
è(
numb”_£·¿tÜ
);

2052 ià(
numb”_£·¿tÜ
 == '\t')

2053 
ouut_pos™iÚ
 = 
	`POS_AFTER_TAB
 (
ch¬s_³r_ouut_b
,

2054 
ouut_pos™iÚ
);

2057 ià(
Œunÿ‹_lšes
 && !
·¿Î–_fes
)

2058 
šput_pos™iÚ
 +ğ
numb”_width
;

2059 
	}
}

2065 
	$·d_aüoss_to
 (
pos™iÚ
)

2067 
h
 = 
ouut_pos™iÚ
;

2069 ià(
bify_ouut
)

2070 
¥aûs_nÙ_´š‹d
 = 
pos™iÚ
 - 
ouut_pos™iÚ
;

2073 ++
h
 <ğ
pos™iÚ
)

2074 
	`putch¬
 (' ');

2075 
ouut_pos™iÚ
 = 
pos™iÚ
;

2077 
	}
}

2085 
	$·d_down
 (
lšes
)

2087 
i
;

2089 ià(
u£_fÜm_ãed
)

2090 
	`putch¬
 ('\f');

2092 
i
 = 
lšes
; i; --i)

2093 
	`putch¬
 ('\n');

2094 
	}
}

2103 
	$»ad_»¡_of_lše
 (
COLUMN
 *
p
)

2105 
c
;

2106 
FILE
 *
f
 = 
p
->
å
;

2108 (
c
 = 
	`g‘c
 (
f
)) != '\n')

2110 ià(
c
 == '\f')

2112 ià((
c
 = 
	`g‘c
 (
f
)) != '\n')

2113 
	`ung‘c
 (
c
, 
f
);

2114 ià(
k“p_FF
)

2115 
´št_a_FF
 = 
Œue
;

2116 
	`hŞd_fe
 (
p
);

2119 ià(
c
 =ğ
EOF
)

2121 
	`şo£_fe
 (
p
);

2125 
	}
}

2137 
	$sk_»ad
 (
COLUMN
 *
p
, 
cŞumn_numb”
)

2139 
c
;

2140 
FILE
 *
f
 = 
p
->
å
;

2141 
i
;

2142 
boŞ
 
sšgË_ff
 = 
çl£
;

2143 
COLUMN
 *
q
;

2146 ià((
c
 = 
	`g‘c
 (
f
)è=ğ'\f' && 
p
->
fuÎ_·ge_´š‹d
)

2149 ià((
c
 = 
	`g‘c
 (
f
)) == '\n')

2150 
c
 = 
	`g‘c
 (
f
);

2152 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

2156 ià(
c
 == '\f')

2157 
sšgË_ff
 = 
Œue
;

2161 ià(
Ï¡_lše
)

2162 
p
->
fuÎ_·ge_´š‹d
 = 
Œue
;

2164 
c
 != '\n')

2166 ià(
c
 == '\f')

2170 ià(
Ï¡_lše
)

2172 ià(!
·¿Î–_fes
)

2173 
q
 = 
cŞumn_veùÜ
, 
i
 = 
cŞumns
; i; ++q, --i)

2174 
q
->
fuÎ_·ge_´š‹d
 = 
çl£
;

2176 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

2179 ià((
c
 = 
	`g‘c
 (
f
)) != '\n')

2180 
	`ung‘c
 (
c
, 
f
);

2181 
	`hŞd_fe
 (
p
);

2184 ià(
c
 =ğ
EOF
)

2186 
	`şo£_fe
 (
p
);

2189 
c
 = 
	`g‘c
 (
f
);

2192 ià(
sk_couÁ
)

2193 ià((!
·¿Î–_fes
 || 
cŞumn_numb”
 =ğ1è&& !
sšgË_ff
)

2194 ++
lše_couÁ
;

2195 
	}
}

2204 
	$´št_wh™e_¥aû
 ()

2206 
h_Ãw
;

2207 
h_Şd
 = 
ouut_pos™iÚ
;

2208 
gßl
 = 
h_Şd
 + 
¥aûs_nÙ_´š‹d
;

2210 
gßl
 - 
h_Şd
 > 1

2211 && (
h_Ãw
 = 
	`POS_AFTER_TAB
 (
ch¬s_³r_ouut_b
, 
h_Şd
)è<ğ
gßl
)

2213 
	`putch¬
 (
ouut_b_ch¬
);

2214 
h_Şd
 = 
h_Ãw
;

2216 ++
h_Şd
 <ğ
gßl
)

2217 
	`putch¬
 (' ');

2219 
ouut_pos™iÚ
 = 
gßl
;

2220 
¥aûs_nÙ_´š‹d
 = 0;

2221 
	}
}

2229 
	$´št_£p_¡ršg
 ()

2231 *
s
;

2232 
l
 = 
cŞ_£p_Ëngth
;

2234 
s
 = 
cŞ_£p_¡ršg
;

2236 ià(
£·¿tÜs_nÙ_´š‹d
 <= 0)

2239 ià(
¥aûs_nÙ_´š‹d
 > 0)

2240 
	`´št_wh™e_¥aû
 ();

2244 ; 
£·¿tÜs_nÙ_´š‹d
 > 0; --separators_not_printed)

2246 
l
-- > 0)

2250 ià(*
s
 == ' ')

2254 
s
++;

2255 ++
¥aûs_nÙ_´š‹d
;

2259 ià(
¥aûs_nÙ_´š‹d
 > 0)

2260 
	`´št_wh™e_¥aû
 ();

2261 
	`putch¬
 (*
s
++);

2262 ++
ouut_pos™iÚ
;

2266 ià(
¥aûs_nÙ_´š‹d
 > 0)

2267 
	`´št_wh™e_¥aû
 ();

2270 
	}
}

2276 
	$´št_şump
 (
COLUMN
 *
p
, 
n
, *
şump
)

2278 
n
--)

2279 (
p
->
ch¬_func
è(*
şump
++);

2280 
	}
}

2292 
	$´št_ch¬
 (
c
)

2294 ià(
bify_ouut
)

2296 ià(
c
 == ' ')

2298 ++
¥aûs_nÙ_´š‹d
;

2301 ià(
¥aûs_nÙ_´š‹d
 > 0)

2302 
	`´št_wh™e_¥aû
 ();

2305 ià(! 
	`i¥ršt
 (
	`to_uch¬
 (
c
)))

2307 ià(
c
 == '\b')

2308 --
ouut_pos™iÚ
;

2311 ++
ouut_pos™iÚ
;

2313 
	`putch¬
 (
c
);

2314 
	}
}

2319 
boŞ


2320 
	$sk_to_·ge
 (
uštmax_t
 
·ge
)

2322 
uštmax_t
 
n
;

2323 
i
;

2324 
j
;

2325 
COLUMN
 *
p
;

2327 
n
 = 1;‚ < 
·ge
; ++n)

2329 
i
 = 1; i < 
lšes_³r_body
; ++i)

2331 
j
 = 1, 
p
 = 
cŞumn_veùÜ
; j <ğ
cŞumns
; ++j, ++p)

2332 ià(
p
->
¡©us
 =ğ
OPEN
)

2333 
	`sk_»ad
 (
p
, 
j
);

2335 
Ï¡_lše
 = 
Œue
;

2336 
j
 = 1, 
p
 = 
cŞumn_veùÜ
; j <ğ
cŞumns
; ++j, ++p)

2337 ià(
p
->
¡©us
 =ğ
OPEN
)

2338 
	`sk_»ad
 (
p
, 
j
);

2340 ià(
¡Üšg_cŞumns
)

2341 
j
 = 1, 
p
 = 
cŞumn_veùÜ
; j <ğ
cŞumns
; ++j, ++p)

2342 ià(
p
->
¡©us
 !ğ
CLOSED
)

2343 
p
->
¡©us
 = 
ON_HOLD
;

2345 
	`»£t_¡©us
 ();

2346 
Ï¡_lše
 = 
çl£
;

2348 ià(
fes_»ady_to_»ad
 < 1)

2352 
	`”rÜ
 (0, 0,

2353 
	`_
("¡¬tšg…agnumb” %"
PRIuMAX


2354 "ƒxûed ·gcouÁ %"
PRIuMAX
),

2355 
·ge
, 
n
);

2359  
fes_»ady_to_»ad
 > 0;

2360 
	}
}

2368 
	$´št_h—d”
 ()

2370 
·ge_‹xt
[256 + 
	`INT_STRLEN_BOUND
 (
·ge_numb”
)];

2371 
avaabË_width
;

2372 
lhs_¥aûs
;

2373 
rhs_¥aûs
;

2375 
ouut_pos™iÚ
 = 0;

2376 
	`·d_aüoss_to
 (
ch¬s_³r_m¬gš
);

2377 
	`´št_wh™e_¥aû
 ();

2379 ià(
·ge_numb”
 == 0)

2380 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("page‚umber overflow"));

2385 
	`¥rštf
 (
·ge_‹xt
, 
	`_
("Pag%"
PRIuMAX
), 
·ge_numb”
);

2386 
avaabË_width
 = 
h—d”_width_avaabË
 - 
	`mbswidth
 (
·ge_‹xt
, 0);

2387 
avaabË_width
 = 
	`MAX
 (0,‡vailable_width);

2388 
lhs_¥aûs
 = 
avaabË_width
 >> 1;

2389 
rhs_¥aûs
 = 
avaabË_width
 - 
lhs_¥aûs
;

2391 
	`´štf
 ("\n\n%*s%s%*s%s%*s%s\n\n\n",

2392 
ch¬s_³r_m¬gš
, "",

2393 
d©e_‹xt
, 
lhs_¥aûs
, " ",

2394 
fe_‹xt
, 
rhs_¥aûs
, " ", 
·ge_‹xt
);

2396 
´št_a_h—d”
 = 
çl£
;

2397 
ouut_pos™iÚ
 = 0;

2398 
	}
}

2421 
boŞ


2422 
	$»ad_lše
 (
COLUMN
 *
p
)

2424 
c
;

2425 
ch¬s
 
	`IF_LINT
 ( = 0);

2426 
Ï¡_šput_pos™iÚ
;

2427 
j
, 
k
;

2428 
COLUMN
 *
q
;

2431 
c
 = 
	`g‘c
 (
p
->
å
);

2433 
Ï¡_šput_pos™iÚ
 = 
šput_pos™iÚ
;

2435 ià(
c
 =ğ'\f' && 
p
->
fuÎ_·ge_´š‹d
)

2436 ià((
c
 = 
	`g‘c
 (
p
->
å
)) == '\n')

2437 
c
 = 
	`g‘c
 (
p
->
å
);

2438 
p
->
fuÎ_·ge_´š‹d
 = 
çl£
;

2440 
c
)

2443 ià((
c
 = 
	`g‘c
 (
p
->
å
)) != '\n')

2444 
	`ung‘c
 (
c
, 
p
->
å
);

2445 
FF_Úly
 = 
Œue
;

2446 ià(
´št_a_h—d”
 && !
¡Üšg_cŞumns
)

2448 
·d_v”tiÿÎy
 = 
Œue
;

2449 
	`´št_h—d”
 ();

2451 ià(
k“p_FF
)

2452 
´št_a_FF
 = 
Œue
;

2453 
	`hŞd_fe
 (
p
);

2454  
Œue
;

2455 
EOF
:

2456 
	`şo£_fe
 (
p
);

2457  
Œue
;

2461 
ch¬s
 = 
	`ch¬_to_şump
 (
c
);

2464 ià(
Œunÿ‹_lšes
 && 
šput_pos™iÚ
 > 
ch¬s_³r_cŞumn
)

2466 
šput_pos™iÚ
 = 
Ï¡_šput_pos™iÚ
;

2467  
çl£
;

2470 ià(
p
->
ch¬_func
 !ğ
¡Üe_ch¬
)

2472 
·d_v”tiÿÎy
 = 
Œue
;

2474 ià(
´št_a_h—d”
 && !
¡Üšg_cŞumns
)

2475 
	`´št_h—d”
 ();

2477 ià(
·¿Î–_fes
 && 
®ign_em±y_cŞs
)

2480 
k
 = 
£·¿tÜs_nÙ_´š‹d
;

2481 
£·¿tÜs_nÙ_´š‹d
 = 0;

2482 
j
 = 1, 
q
 = 
cŞumn_veùÜ
; j <ğ
k
; ++j, ++q)

2484 
	`®ign_cŞumn
 (
q
);

2485 
£·¿tÜs_nÙ_´š‹d
 += 1;

2487 
·ddšg_nÙ_´š‹d
 = 
p
->
¡¬t_pos™iÚ
;

2488 ià(
Œunÿ‹_lšes
)

2489 
¥aûs_nÙ_´š‹d
 = 
ch¬s_³r_cŞumn
;

2491 
¥aûs_nÙ_´š‹d
 = 0;

2492 
®ign_em±y_cŞs
 = 
çl£
;

2495 ià(
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
 > 0)

2497 
	`·d_aüoss_to
 (
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
);

2498 
·ddšg_nÙ_´š‹d
 = 
ANYWHERE
;

2501 ià(
u£_cŞ_£·¿tÜ
)

2502 
	`´št_£p_¡ršg
 ();

2505 ià(
p
->
numb”ed
)

2506 
	`add_lše_numb”
 (
p
);

2508 
em±y_lše
 = 
çl£
;

2509 ià(
c
 == '\n')

2510  
Œue
;

2512 
	`´št_şump
 (
p
, 
ch¬s
, 
şump_buff
);

2514 
Œue
)

2516 
c
 = 
	`g‘c
 (
p
->
å
);

2518 
c
)

2521  
Œue
;

2523 ià((
c
 = 
	`g‘c
 (
p
->
å
)) != '\n')

2524 
	`ung‘c
 (
c
, 
p
->
å
);

2525 ià(
k“p_FF
)

2526 
´št_a_FF
 = 
Œue
;

2527 
	`hŞd_fe
 (
p
);

2528  
Œue
;

2529 
EOF
:

2530 
	`şo£_fe
 (
p
);

2531  
Œue
;

2534 
Ï¡_šput_pos™iÚ
 = 
šput_pos™iÚ
;

2535 
ch¬s
 = 
	`ch¬_to_şump
 (
c
);

2536 ià(
Œunÿ‹_lšes
 && 
šput_pos™iÚ
 > 
ch¬s_³r_cŞumn
)

2538 
šput_pos™iÚ
 = 
Ï¡_šput_pos™iÚ
;

2539  
çl£
;

2542 
	`´št_şump
 (
p
, 
ch¬s
, 
şump_buff
);

2544 
	}
}

2560 
boŞ


2561 
	$´št_¡Üed
 (
COLUMN
 *
p
)

2563 
COLUMN
 *
q
;

2564 
i
;

2566 
lše
 = 
p
->
cu¼’t_lše
++;

2567 *
fœ¡
 = &
buff
[
lše_veùÜ
[
lše
]];

2579 *
Ï¡
 = &
buff
[
lše_veùÜ
[
lše
 + 1]];

2581 
·d_v”tiÿÎy
 = 
Œue
;

2583 ià(
´št_a_h—d”
)

2584 
	`´št_h—d”
 ();

2586 ià(
p
->
¡©us
 =ğ
FF_FOUND
)

2588 
i
 = 1, 
q
 = 
cŞumn_veùÜ
; i <ğ
cŞumns
; ++i, ++q)

2589 
q
->
¡©us
 = 
ON_HOLD
;

2590 ià(
cŞumn_veùÜ
->
lšes_to_´št
 <= 0)

2592 ià(!
exŒem™›s
)

2593 
·d_v”tiÿÎy
 = 
çl£
;

2594  
Œue
;

2598 ià(
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
 > 0)

2600 
	`·d_aüoss_to
 (
·ddšg_nÙ_´š‹d
 - 
cŞ_£p_Ëngth
);

2601 
·ddšg_nÙ_´š‹d
 = 
ANYWHERE
;

2604 ià(
u£_cŞ_£·¿tÜ
)

2605 
	`´št_£p_¡ršg
 ();

2607 
fœ¡
 !ğ
Ï¡
)

2608 
	`´št_ch¬
 (*
fœ¡
++);

2610 ià(
¥aûs_nÙ_´š‹d
 == 0)

2612 
ouut_pos™iÚ
 = 
p
->
¡¬t_pos™iÚ
 + 
’d_veùÜ
[
lše
];

2613 ià(
p
->
¡¬t_pos™iÚ
 - 
cŞ_£p_Ëngth
 =ğ
ch¬s_³r_m¬gš
)

2614 
ouut_pos™iÚ
 -ğ
cŞ_£p_Ëngth
;

2617  
Œue
;

2618 
	}
}

2633 
	$ch¬_to_şump
 (
c
)

2635 
uc
 = 
c
;

2636 *
s
 = 
şump_buff
;

2637 
i
;

2638 
esc_buff
[4];

2639 
width
;

2640 
ch¬s
;

2641 
ch¬s_³r_c
 = 8;

2643 ià(
c
 =ğ
šput_b_ch¬
)

2644 
ch¬s_³r_c
 = 
ch¬s_³r_šput_b
;

2646 ià(
c
 =ğ
šput_b_ch¬
 || c == '\t')

2648 
width
 = 
	`TAB_WIDTH
 (
ch¬s_³r_c
, 
šput_pos™iÚ
);

2650 ià(
uÁabify_šput
)

2652 
i
 = 
width
; i; --i)

2653 *
s
++ = ' ';

2654 
ch¬s
 = 
width
;

2658 *
s
 = 
c
;

2659 
ch¬s
 = 1;

2663 ià(! 
	`i¥ršt
 (
uc
))

2665 ià(
u£_esc_£qu’û
)

2667 
width
 = 4;

2668 
ch¬s
 = 4;

2669 *
s
++ = '\\';

2670 
	`¥rštf
 (
esc_buff
, "%03o", 
uc
);

2671 
i
 = 0; i <= 2; ++i)

2672 *
s
++ = 
esc_buff
[
i
];

2674 ià(
u£_úŒl_´efix
)

2676 ià(
uc
 < 0200)

2678 
width
 = 2;

2679 
ch¬s
 = 2;

2680 *
s
++ = '^';

2681 *
s
 = 
c
 ^ 0100;

2685 
width
 = 4;

2686 
ch¬s
 = 4;

2687 *
s
++ = '\\';

2688 
	`¥rštf
 (
esc_buff
, "%03o", 
uc
);

2689 
i
 = 0; i <= 2; ++i)

2690 *
s
++ = 
esc_buff
[
i
];

2693 ià(
c
 == '\b')

2695 
width
 = -1;

2696 
ch¬s
 = 1;

2697 *
s
 = 
c
;

2701 
width
 = 0;

2702 
ch¬s
 = 1;

2703 *
s
 = 
c
;

2708 
width
 = 1;

2709 
ch¬s
 = 1;

2710 *
s
 = 
c
;

2714 ià(
width
 < 0 && 
šput_pos™iÚ
 == 0)

2716 
ch¬s
 = 0;

2717 
šput_pos™iÚ
 = 0;

2719 ià(
width
 < 0 && 
šput_pos™iÚ
 <= -width)

2720 
šput_pos™iÚ
 = 0;

2722 
šput_pos™iÚ
 +ğ
width
;

2724  
ch¬s
;

2725 
	}
}

2733 
	$ş—nup
 ()

2735 
	`ä“
 (
numb”_buff
);

2736 
	`ä“
 (
şump_buff
);

2737 
	`ä“
 (
cŞumn_veùÜ
);

2738 
	`ä“
 (
lše_veùÜ
);

2739 
	`ä“
 (
’d_veùÜ
);

2740 
	`ä“
 (
buff
);

2741 
	}
}

2746 
	$u§ge
 (
¡©us
)

2748 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

2749 
	`em™_Œy_h–p
 ();

2752 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

2755 
´og¿m_Çme
);

2757 
	`åuts
 (
	`_
("\
 o¸cŞumÇ‹ FILE(sèfÜ…rštšg.\n\
"), 
¡dout
);

2761 
	`em™_mªd©Üy_¬g_nÙe
 ();

2763 
	`åuts
 (
	`_
("\
+FIRST_PAGE[:LAST_PAGE], --·ges=FIRST_PAGE[:LAST_PAGE]\n\
 [¡İ]…rštšg w™h…agFIRST_[LAST_]PAGE\n\
-COLUMN, --cŞumns=COLUMN\n\
 COLUMN cŞumn ªd…ršˆcŞumn down,\n\
 -¨i u£d. B®ªû‚umb” oàlše šhe\n\
 oÀ—ch…age\n\
"), 
¡dout
);

2771 
	`åuts
 (
	`_
("\
-a, --aüos …ršˆcŞumn aüos ¿th”hª down, u£dog‘h”\n\
 -COLUMN\n\
-c, --show-cÚŒŞ-ch¬s\n\
 h©‚Ù©iÚ (^Gèªd où® back¦ash‚Ù©iÚ\n\
-d, --doubË-¥aû\n\
 s·ûhouut\n\
"), 
¡dout
);

2779 
	`åuts
 (
	`_
("\
-D, --d©e-fÜm©=FORMAT\n\
 FORMAT fÜhh—d” d©e\n\
-e[CHAR[WIDTH]], --ex·nd-bs[=CHAR[WIDTH]]\n\
 iÅuˆCHAR (TABsètØb WIDTH (8)\n\
-F, -f, --fÜm-ãed\n\
 fÜm f“d š¡—d oàÃwlše tØ£·¿‹…ages\n\
(by‡ 3-lš·gh—d” w™h -F o¸¨5-lšh—d”\n\
¿” w™houˆ-F)\n\
"), 
¡dout
);

2789 
	`åuts
 (
	`_
("\
-h, --h—d”=HEADER\n\
‡ c’‹»d HEADER in¡—d oàf’amš…agh—d”,\n\
-h \"\"…ršt ¨bÏnk†še, dÚ'ˆu£ -h\"\"\n\
-i[CHAR[WIDTH]], --ouut-bs[=CHAR[WIDTH]]\n\
 s·û w™h CHAR (TABsètØb WIDTH (8)\n\
-J, --još-lše  m”gfuÎ†šes,uº ofà-W†šŒunÿtiÚ,‚ØcŞumn\n\
, --£p-¡ršg[=STRING] s‘ £·¿tÜs\n\
"), 
¡dout
);

2798 
	`åuts
 (
	`_
("\
-l, --Ëngth=PAGE_LENGTH\n\
h·gËngthØPAGE_LENGTH (66èlšes\n\
(deçuÉ‚umb” oàlše oà‹xˆ56,‡nd w™h -F 63)\n\
-m, --m”g…ršˆ®Èfe š…¬®Ël, oÃ iÀ—ch cŞumn,\n\
†šes, buˆjoš†še oàfuÎ†’gth w™h -J\n\
"), 
¡dout
);

2805 
	`åuts
 (
	`_
("\
-n[SEP[DIGITS]], --numb”-lšes[=SEP[DIGITS]]\n\
†šes, u£ DIGITS (5èdig™s,h’ SEP (TAB),\n\
 couÁšg s¹ w™h 1¡†šoàšpuˆfe\n\
-N, --fœ¡-lše-numb”=NUMBER\n\
 couÁšg w™h NUMBER‡ˆ1¡†šoàfœ¡\n\
…rš‹d (£+FIRST_PAGE)\n\
"), 
¡dout
);

2813 
	`åuts
 (
	`_
("\
-o, --šd’t=MARGIN\n\
ƒach†šw™h MARGIN (z”oè¥aûs, dØnÙ\n\
 -w o¸-W, MARGIN wÈbaddedØPAGE_WIDTH\n\
-r, --no-fe-w¬nšgs\n\
 w¬nšg wh’‡ fÿÂÙ bİ’ed\n\
"), 
¡dout
);

2820 
	`åuts
 (
	`_
("\
-s[CHAR], --£·¿tÜ[=CHAR]\n\
 cŞumn by‡ sšgË ch¬aù”, deçuÉ fÜ CHAR\n\
h<TAB> ch¬aù” w™houˆ-w‡nd \'nØch¬\' w™h -w\n\
-s[CHAR]uº ofàlšŒunÿtiÚ oà®È3 cŞumn\n\
 (-COLUMN|-¨-COLUMN|-mèexû± -w i £t\n\
"), 
¡dout
);

2827 
	`åuts
 (
	`_
("\
-S[STRING], --£p-¡ršg[=STRING]\n\
 cŞumn by STRING,\n\
 -S: DeçuÉ s•¬©Ü <TAB> w™h -J‡nd <¥aû>\n\
 (§ma -S\" \"),‚Øefãù oÀcŞumÀİtiÚs\n\
-t, --om™-h—d” om™…agh—d” ªd¿”s\n\
"), 
¡dout
);

2834 
	`åuts
 (
	`_
("\
-T, --om™-·gš©iÚ\n\
…agh—d” ªd¿”s,ƒlimš©ªy…agš©iÚ\n\
 fÜm f“d £ˆš iÅuˆfes\n\
-v, --show-nÚ´štšg\n\
 où® back¦ash‚Ù©iÚ\n\
-w, --width=PAGE_WIDTH\n\
…agwidthØPAGE_WIDTH (72èch¬aù” fÜ\n\
ext-cŞumÀouuˆÚly, -s[ch¬]uº ofà(72)\n\
"), 
¡dout
);

2844 
	`åuts
 (
	`_
("\
-W, --·ge-width=PAGE_WIDTH\n\
…agwidthØPAGE_WIDTH (72èch¬aù” ®ways,\n\
†šes,ƒxû± -J o±iÚ i £t,‚Øš‹rã»nû\n\
 -S o¸-s\n\
"), 
¡dout
);

2850 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

2851 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

2852 
	`åuts
 (
	`_
("\
\n\
-ˆi im¶›d iàPAGE_LENGTH <ğ10. W™h‚ØFILE, o¸wh’ FILE i -,„—d\n\
 iÅut.\n\
"), 
¡dout
);

2857 
	`em™_ªcÏry_šfo
 ();

2859 
	`ex™
 (
¡©us
);

2860 
	}
}

	@primes.h

3 
	#WIDE_UINT_BITS
 128

	)

4 
P
 (1, 26,

5 (((((
uštmax_t
) 0xaaaaU << 28 | 0xaaaaaaaU)

9 
UINTMAX_MAX
 / 3)

10 
P
 (2, 26,

11 (((((
uštmax_t
) 0xccccU << 28 | 0xcccccccU)

15 
UINTMAX_MAX
 / 5)

16 
P
 (2, 30,

17 (((((
uštmax_t
) 0xb6dbU << 28 | 0x6db6db6U)

21 
UINTMAX_MAX
 / 7)

22 
P
 (4, 30,

23 (((((
uštmax_t
) 0xa2e8U << 28 | 0xba2e8baU)

27 
UINTMAX_MAX
 / 11)

28 
P
 (2, 30,

29 (((((
uštmax_t
) 0xc4ecU << 28 | 0x4ec4ec4U)

33 
UINTMAX_MAX
 / 13)

34 
P
 (4, 30,

35 (((((
uštmax_t
) 0xf0f0U << 28 | 0xf0f0f0fU)

39 
UINTMAX_MAX
 / 17)

40 
P
 (2, 34,

41 (((((
uštmax_t
) 0xbca1U << 28 | 0xaf286bcU)

45 
UINTMAX_MAX
 / 19)

46 
P
 (4, 36,

47 (((((
uštmax_t
) 0x4de9U << 28 | 0xbd37a6fU)

51 
UINTMAX_MAX
 / 23)

52 
P
 (6, 32,

53 (((((
uštmax_t
) 0xc234U << 28 | 0xf72c234U)

57 
UINTMAX_MAX
 / 29)

58 
P
 (2, 36,

59 (((((
uštmax_t
) 0xdef7U << 28 | 0xbdef7bdU)

63 
UINTMAX_MAX
 / 31)

64 
P
 (6, 34,

65 (((((
uštmax_t
) 0xc1baU << 28 | 0xcf914c1U)

69 
UINTMAX_MAX
 / 37)

70 
P
 (4, 32,

71 (((((
uštmax_t
) 0x18f9U << 28 | 0xc18f9c1U)

75 
UINTMAX_MAX
 / 41)

76 
P
 (2, 36,

77 (((((
uštmax_t
) 0xbe82U << 28 | 0xfa0be82U)

81 
UINTMAX_MAX
 / 43)

82 
P
 (4, 36,

83 (((((
uštmax_t
) 0x3677U << 28 | 0xd46cefaU)

87 
UINTMAX_MAX
 / 47)

88 
P
 (6, 36,

89 (((((
uštmax_t
) 0x1352U << 28 | 0x1cfb2b7U)

93 
UINTMAX_MAX
 / 53)

94 
P
 (6, 38,

95 (((((
uštmax_t
) 0x8f2fU << 28 | 0xba93868U)

99 
UINTMAX_MAX
 / 59)

100 
P
 (2, 40,

101 (((((
uštmax_t
) 0x14fbU << 28 | 0xcda3ac1U)

105 
UINTMAX_MAX
 / 61)

106 
P
 (6, 36,

107 (((((
uštmax_t
) 0xc2ddU << 28 | 0x9ca81e9U)

111 
UINTMAX_MAX
 / 67)

112 
P
 (4, 36,

113 (((((
uštmax_t
) 0x4f52U << 28 | 0xedf8c9eU)

117 
UINTMAX_MAX
 / 71)

118 
P
 (2, 36,

119 (((((
uštmax_t
) 0x3f1fU << 28 | 0x8fc7e3fU)

123 
UINTMAX_MAX
 / 73)

124 
P
 (6, 34,

125 (((((
uštmax_t
) 0xd5dfU << 28 | 0x984dc5aU)

129 
UINTMAX_MAX
 / 79)

130 
P
 (4, 44,

131 (((((
uštmax_t
) 0x2818U << 28 | 0xacb90f6U)

135 
UINTMAX_MAX
 / 83)

136 
P
 (6, 42,

137 (((((
uštmax_t
) 0xd1faU << 28 | 0x3f47e8fU)

141 
UINTMAX_MAX
 / 89)

142 
P
 (8, 40,

143 (((((
uštmax_t
) 0x5f02U << 28 | 0xa3a0fd5U)

147 
UINTMAX_MAX
 / 97)

148 
P
 (4, 38,

149 (((((
uštmax_t
) 0xc32bU << 28 | 0x16cfd77U)

153 
UINTMAX_MAX
 / 101)

154 
P
 (2, 46,

155 (((((
uštmax_t
) 0xd0c6U << 28 | 0xd5bf60eU)

159 
UINTMAX_MAX
 / 103)

160 
P
 (4, 44,

161 (((((
uštmax_t
) 0xa2b1U << 28 | 0x0bf66e0U)

165 
UINTMAX_MAX
 / 107)

166 
P
 (2, 48,

167 (((((
uštmax_t
) 0xc096U << 28 | 0x4fda6c0U)

171 
UINTMAX_MAX
 / 109)

172 
P
 (4, 50,

173 (((((
uštmax_t
) 0xc090U << 28 | 0xfdbc090U)

177 
UINTMAX_MAX
 / 113)

178 
P
 (14, 40,

179 (((((
uštmax_t
) 0xbf7eU << 28 | 0xfdfbf7eU)

183 
UINTMAX_MAX
 / 127)

184 
P
 (4, 42,

185 (((((
uštmax_t
) 0xf82eU << 28 | 0xe6986d6U)

189 
UINTMAX_MAX
 / 131)

190 
P
 (6, 42,

191 (((((
uštmax_t
) 0x21a2U << 28 | 0x91c0779U)

195 
UINTMAX_MAX
 / 137)

196 
P
 (2, 42,

197 (((((
uštmax_t
) 0xa212U << 28 | 0x6ad1f4fU)

201 
UINTMAX_MAX
 / 139)

202 
P
 (10, 42,

203 (((((
uštmax_t
) 0x93c2U << 28 | 0x25cc74dU)

207 
UINTMAX_MAX
 / 149)

208 
P
 (2, 42,

209 (((((
uštmax_t
) 0x26feU << 28 | 0x4dfc9bfU)

213 
UINTMAX_MAX
 / 151)

214 
P
 (6, 40,

215 (((((
uštmax_t
) 0x0685U << 28 | 0xb4fe5e9U)

219 
UINTMAX_MAX
 / 157)

220 
P
 (6, 36,

221 (((((
uštmax_t
) 0x8bc7U << 28 | 0x75ca99eU)

225 
UINTMAX_MAX
 / 163)

226 
P
 (4, 44,

227 (((((
uštmax_t
) 0x513eU << 28 | 0xd9ad38bU)

231 
UINTMAX_MAX
 / 167)

232 
P
 (6, 50,

233 (((((
uštmax_t
) 0x133cU << 28 | 0xaba736cU)

237 
UINTMAX_MAX
 / 173)

238 
P
 (6, 48,

239 (((((
uštmax_t
) 0x0e4dU << 28 | 0x3aa30a0U)

243 
UINTMAX_MAX
 / 179)

244 
P
 (2, 48,

245 (((((
uštmax_t
) 0x6fbcU << 28 | 0x1c498c0U)

249 
UINTMAX_MAX
 / 181)

250 
P
 (10, 42,

251 (((((
uštmax_t
) 0x7749U << 28 | 0xb79f7f5U)

255 
UINTMAX_MAX
 / 191)

256 
P
 (2, 46,

257 (((((
uštmax_t
) 0x9094U << 28 | 0x8f40feaU)

261 
UINTMAX_MAX
 / 193)

262 
P
 (4, 44,

263 (((((
uštmax_t
) 0x0bb2U << 28 | 0x07cc053U)

267 
UINTMAX_MAX
 / 197)

268 
P
 (2, 52,

269 (((((
uštmax_t
) 0x7a36U << 28 | 0x07b7f5bU)

273 
UINTMAX_MAX
 / 199)

274 
P
 (12, 46,

275 (((((
uštmax_t
) 0x2f51U << 28 | 0x4a026d3U)

279 
UINTMAX_MAX
 / 211)

280 
P
 (12, 40,

281 (((((
uštmax_t
) 0xdd8fU << 28 | 0x7f6d0eeU)

285 
UINTMAX_MAX
 / 223)

286 
P
 (4, 42,

287 (((((
uštmax_t
) 0x766aU << 28 | 0x024168eU)

291 
UINTMAX_MAX
 / 227)

292 
P
 (2, 42,

293 (((((
uštmax_t
) 0x0c4cU << 28 | 0x0478bbcU)

297 
UINTMAX_MAX
 / 229)

298 
P
 (4, 44,

299 (((((
uštmax_t
) 0x758fU << 28 | 0xee6bac7U)

303 
UINTMAX_MAX
 / 233)

304 
P
 (6, 42,

305 (((((
uštmax_t
) 0x077fU << 28 | 0x76e538cU)

309 
UINTMAX_MAX
 / 239)

310 
P
 (2, 42,

311 (((((
uštmax_t
) 0x10feU << 28 | 0xf010fefU)

315 
UINTMAX_MAX
 / 241)

316 
P
 (10, 42,

317 (((((
uštmax_t
) 0xa020U << 28 | 0xa32fefaU)

321 
UINTMAX_MAX
 / 251)

322 
P
 (6, 50,

323 (((((
uštmax_t
) 0xff00U << 28 | 0xff00ff0U)

327 
UINTMAX_MAX
 / 257)

328 
P
 (6, 48,

329 (((((
uštmax_t
) 0xf836U << 28 | 0x826ef73U)

333 
UINTMAX_MAX
 / 263)

334 
P
 (6, 44,

335 (((((
uštmax_t
) 0x3ce8U << 28 | 0x354b2eaU)

339 
UINTMAX_MAX
 / 269)

340 
P
 (2, 46,

341 (((((
uštmax_t
) 0x8715U << 28 | 0xba188f9U)

345 
UINTMAX_MAX
 / 271)

346 
P
 (6, 54,

347 (((((
uštmax_t
) 0xb25eU << 28 | 0x4463cffU)

351 
UINTMAX_MAX
 / 277)

352 
P
 (4, 56,

353 (((((
uštmax_t
) 0x6c69U << 28 | 0xae01d27U)

357 
UINTMAX_MAX
 / 281)

358 
P
 (2, 64,

359 (((((
uštmax_t
) 0xf26eU << 28 | 0x5c44bfcU)

363 
UINTMAX_MAX
 / 283)

364 
P
 (10, 56,

365 (((((
uštmax_t
) 0xb07dU << 28 | 0xd0d1b15U)

369 
UINTMAX_MAX
 / 293)

370 
P
 (14, 46,

371 (((((
uštmax_t
) 0xd2f8U << 28 | 0x7ebfcaaU)

375 
UINTMAX_MAX
 / 307)

376 
P
 (4, 48,

377 (((((
uštmax_t
) 0xbe25U << 28 | 0xdd6d7aaU)

381 
UINTMAX_MAX
 / 311)

382 
P
 (2, 54,

383 (((((
uštmax_t
) 0xbc1dU << 28 | 0x71afd8bU)

387 
UINTMAX_MAX
 / 313)

388 
P
 (4, 56,

389 (((((
uštmax_t
) 0x2ed6U << 28 | 0xd05a72aU)

393 
UINTMAX_MAX
 / 317)

394 
P
 (14, 48,

395 (((((
uštmax_t
) 0x62ffU << 28 | 0x3a018bfU)

399 
UINTMAX_MAX
 / 331)

400 
P
 (6, 46,

401 (((((
uštmax_t
) 0x3fcfU << 28 | 0x61fe7b0U)

405 
UINTMAX_MAX
 / 337)

406 
P
 (10, 42,

407 (((((
uštmax_t
) 0x398bU << 28 | 0x6f668c2U)

411 
UINTMAX_MAX
 / 347)

412 
P
 (2, 48,

413 (((((
uštmax_t
) 0x8c1aU << 28 | 0x682913cU)

417 
UINTMAX_MAX
 / 349)

418 
P
 (4, 48,

419 (((((
uštmax_t
) 0x0b9aU << 28 | 0x7862a0fU)

423 
UINTMAX_MAX
 / 353)

424 
P
 (6, 50,

425 (((((
uštmax_t
) 0xe7c1U << 28 | 0x3f77161U)

429 
UINTMAX_MAX
 / 359)

430 
P
 (8, 52,

431 (((((
uštmax_t
) 0x7318U << 28 | 0x6a06f9bU)

435 
UINTMAX_MAX
 / 367)

436 
P
 (6, 48,

437 (((((
uštmax_t
) 0x7c39U << 28 | 0xa6c708eU)

441 
UINTMAX_MAX
 / 373)

442 
P
 (6, 52,

443 (((((
uštmax_t
) 0x3763U << 28 | 0x4af9ebbU)

447 
UINTMAX_MAX
 / 379)

448 
P
 (4, 50,

449 (((((
uštmax_t
) 0x5035U << 28 | 0x78fb523U)

453 
UINTMAX_MAX
 / 383)

454 
P
 (6, 50,

455 (((((
uštmax_t
) 0xbcdfU << 28 | 0xc0d2975U)

459 
UINTMAX_MAX
 / 389)

460 
P
 (8, 46,

461 (((((
uštmax_t
) 0xf5aeU << 28 | 0xc02944fU)

465 
UINTMAX_MAX
 / 397)

466 
P
 (4, 48,

467 (((((
uštmax_t
) 0xc7d2U << 28 | 0x08f00a3U)

471 
UINTMAX_MAX
 / 401)

472 
P
 (8, 48,

473 (((((
uštmax_t
) 0xd38fU << 28 | 0x55c0280U)

477 
UINTMAX_MAX
 / 409)

478 
P
 (10, 42,

479 (((((
uštmax_t
) 0xca3bU << 28 | 0xe03aa76U)

483 
UINTMAX_MAX
 / 419)

484 
P
 (2, 42,

485 (((((
uštmax_t
) 0x6a69U << 28 | 0xce2344bU)

489 
UINTMAX_MAX
 / 421)

490 
P
 (10, 36,

491 (((((
uštmax_t
) 0xfecfU << 28 | 0xe37d53bU)

495 
UINTMAX_MAX
 / 431)

496 
P
 (2, 46,

497 (((((
uštmax_t
) 0xa58aU << 28 | 0xf00975aU)

501 
UINTMAX_MAX
 / 433)

502 
P
 (6, 48,

503 (((((
uštmax_t
) 0xdc6dU << 28 | 0xa187df5U)

507 
UINTMAX_MAX
 / 439)

508 
P
 (4, 48,

509 (((((
uštmax_t
) 0x8fe4U << 28 | 0x4308ab0U)

513 
UINTMAX_MAX
 / 443)

514 
P
 (6, 50,

515 (((((
uštmax_t
) 0xf1bfU << 28 | 0x0091f5bU)

519 
UINTMAX_MAX
 / 449)

520 
P
 (8, 46,

521 (((((
uštmax_t
) 0x5e1cU << 28 | 0x023d9e8U)

525 
UINTMAX_MAX
 / 457)

526 
P
 (4, 48,

527 (((((
uštmax_t
) 0x7880U << 28 | 0xd53da3dU)

531 
UINTMAX_MAX
 / 461)

532 
P
 (2, 58,

533 (((((
uštmax_t
) 0x1ddbU << 28 | 0x81ef699U)

537 
UINTMAX_MAX
 / 463)

538 
P
 (4, 56,

539 (((((
uštmax_t
) 0xf364U << 28 | 0x5121706U)

543 
UINTMAX_MAX
 / 467)

544 
P
 (12, 62,

545 (((((
uštmax_t
) 0xadb1U << 28 | 0xf8848afU)

549 
UINTMAX_MAX
 / 479)

550 
P
 (8, 60,

551 (((((
uštmax_t
) 0xd9a0U << 28 | 0x541b55aU)

555 
UINTMAX_MAX
 / 487)

556 
P
 (4, 66,

557 (((((
uštmax_t
) 0x673bU << 28 | 0xf592825U)

561 
UINTMAX_MAX
 / 491)

562 
P
 (8, 64,

563 (((((
uštmax_t
) 0x0ddaU << 28 | 0x093c062U)

567 
UINTMAX_MAX
 / 499)

568 
P
 (4, 66,

569 (((((
uštmax_t
) 0xa9fcU << 28 | 0xf24229bU)

573 
UINTMAX_MAX
 / 503)

574 
P
 (6, 62,

575 (((((
uštmax_t
) 0xcbb1U << 28 | 0x8a4f773U)

579 
UINTMAX_MAX
 / 509)

580 
P
 (12, 56,

581 (((((
uštmax_t
) 0x01f7U << 28 | 0x27cce5fU)

585 
UINTMAX_MAX
 / 521)

586 
P
 (2, 64,

587 (((((
uštmax_t
) 0x6da4U << 28 | 0xf4bdeb7U)

591 
UINTMAX_MAX
 / 523)

592 
P
 (18, 52,

593 (((((
uštmax_t
) 0x4d9aU << 28 | 0xbc552cfU)

597 
UINTMAX_MAX
 / 541)

598 
P
 (6, 52,

599 (((((
uštmax_t
) 0x141fU << 28 | 0xd312409U)

603 
UINTMAX_MAX
 / 547)

604 
P
 (10, 44,

605 (((((
uštmax_t
) 0xddfdU << 28 | 0x3e0bf32U)

609 
UINTMAX_MAX
 / 557)

610 
P
 (6, 44,

611 (((((
uštmax_t
) 0xdb2bU << 28 | 0x3278f3bU)

615 
UINTMAX_MAX
 / 563)

616 
P
 (6, 44,

617 (((((
uštmax_t
) 0xcb5cU << 28 | 0x3b636e3U)

621 
UINTMAX_MAX
 / 569)

622 
P
 (2, 46,

623 (((((
uštmax_t
) 0x1bcbU << 28 | 0xfe34e75U)

627 
UINTMAX_MAX
 / 571)

628 
P
 (6, 42,

629 (((((
uštmax_t
) 0x6b5eU << 28 | 0x80aa5efU)

633 
UINTMAX_MAX
 / 577)

634 
P
 (10, 44,

635 (((((
uštmax_t
) 0x9a62U << 28 | 0x8feb110U)

639 
UINTMAX_MAX
 / 587)

640 
P
 (6, 48,

641 (((((
uštmax_t
) 0xbe61U << 28 | 0x909eddeU)

645 
UINTMAX_MAX
 / 593)

646 
P
 (6, 44,

647 (((((
uštmax_t
) 0x4febU << 28 | 0x7c5e05fU)

651 
UINTMAX_MAX
 / 599)

652 
P
 (2, 46,

653 (((((
uštmax_t
) 0x1ff2U << 28 | 0x5e8ff92U)

657 
UINTMAX_MAX
 / 601)

658 
P
 (6, 46,

659 (((((
uštmax_t
) 0x3014U << 28 | 0x3e6b1faU)

663 
UINTMAX_MAX
 / 607)

664 
P
 (6, 46,

665 (((((
uštmax_t
) 0xd491U << 28 | 0x54c6c94U)

669 
UINTMAX_MAX
 / 613)

670 
P
 (4, 44,

671 (((((
uštmax_t
) 0x9b97U << 28 | 0x71454a4U)

675 
UINTMAX_MAX
 / 617)

676 
P
 (2, 54,

677 (((((
uštmax_t
) 0x3abaU << 28 | 0x1b4baefU)

681 
UINTMAX_MAX
 / 619)

682 
P
 (12, 46,

683 (((((
uštmax_t
) 0xcc11U << 28 | 0xd9dd1bfU)

687 
UINTMAX_MAX
 / 631)

688 
P
 (10, 42,

689 (((((
uštmax_t
) 0xff99U << 28 | 0xc27f006U)

693 
UINTMAX_MAX
 / 641)

694 
P
 (2, 48,

695 (((((
uštmax_t
) 0x111eU << 28 | 0xa8032f6U)

699 
UINTMAX_MAX
 / 643)

700 
P
 (4, 54,

701 (((((
uštmax_t
) 0xdd93U << 28 | 0x95f5b66U)

705 
UINTMAX_MAX
 / 647)

706 
P
 (6, 56,

707 (((((
uštmax_t
) 0xa7caU << 28 | 0xaed9303U)

711 
UINTMAX_MAX
 / 653)

712 
P
 (6, 60,

713 (((((
uštmax_t
) 0x2be5U << 28 | 0x958f582U)

717 
UINTMAX_MAX
 / 659)

718 
P
 (2, 66,

719 (((((
uštmax_t
) 0x995eU << 28 | 0x1ca8dbfU)

723 
UINTMAX_MAX
 / 661)

724 
P
 (12, 60,

725 (((((
uštmax_t
) 0x9f00U << 28 | 0x6160ff9U)

729 
UINTMAX_MAX
 / 673)

730 
P
 (4, 62,

731 (((((
uštmax_t
) 0xb33cU << 28 | 0xe15ee9bU)

735 
UINTMAX_MAX
 / 677)

736 
P
 (6, 60,

737 (((((
uštmax_t
) 0xfa00U << 28 | 0xbfe802fU)

741 
UINTMAX_MAX
 / 683)

742 
P
 (8, 60,

743 (((((
uštmax_t
) 0x1c28U << 28 | 0x02f6bcfU)

747 
UINTMAX_MAX
 / 691)

748 
P
 (10, 56,

749 (((((
uštmax_t
) 0xcf6dU << 28 | 0xec4793eU)

753 
UINTMAX_MAX
 / 701)

754 
P
 (8, 52,

755 (((((
uštmax_t
) 0x1e54U << 28 | 0x7da72d2U)

759 
UINTMAX_MAX
 / 709)

760 
P
 (10, 50,

761 (((((
uštmax_t
) 0x7746U << 28 | 0xda9d5fcU)

765 
UINTMAX_MAX
 / 719)

766 
P
 (8, 46,

767 (((((
uštmax_t
) 0xcdffU << 28 | 0x4bb5591U)

771 
UINTMAX_MAX
 / 727)

772 
P
 (6, 54,

773 (((((
uštmax_t
) 0x2c01U << 28 | 0x65a1b3dU)

777 
UINTMAX_MAX
 / 733)

778 
P
 (6, 58,

779 (((((
uštmax_t
) 0xa802U << 28 | 0xc574bddU)

783 
UINTMAX_MAX
 / 739)

784 
P
 (4, 66,

785 (((((
uštmax_t
) 0x5411U << 28 | 0xeaa350fU)

789 
UINTMAX_MAX
 / 743)

790 
P
 (8, 60,

791 (((((
uštmax_t
) 0xfceeU << 28 | 0x9d7c6bbU)

795 
UINTMAX_MAX
 / 751)

796 
P
 (6, 64,

797 (((((
uštmax_t
) 0x4248U << 28 | 0x5eb0874U)

801 
UINTMAX_MAX
 / 757)

802 
P
 (4, 62,

803 (((((
uštmax_t
) 0xe060U << 28 | 0xe20f797U)

807 
UINTMAX_MAX
 / 761)

808 
P
 (8, 58,

809 (((((
uštmax_t
) 0x782dU << 28 | 0x463deb5U)

813 
UINTMAX_MAX
 / 769)

814 
P
 (4, 56,

815 (((((
uštmax_t
) 0x4a2fU << 28 | 0x06f468aU)

819 
UINTMAX_MAX
 / 773)

820 
P
 (14, 52,

821 (((((
uštmax_t
) 0xda44U << 28 | 0x4f5ea87U)

825 
UINTMAX_MAX
 / 787)

826 
P
 (10, 56,

827 (((((
uštmax_t
) 0xfb80U << 28 | 0xcd9225eU)

831 
UINTMAX_MAX
 / 797)

832 
P
 (12, 48,

833 (((((
uštmax_t
) 0x1719U << 28 | 0xa1b36beU)

837 
UINTMAX_MAX
 / 809)

838 
P
 (2, 48,

839 (((((
uštmax_t
) 0x2867U << 28 | 0x894fdcaU)

843 
UINTMAX_MAX
 / 811)

844 
P
 (10, 42,

845 (((((
uštmax_t
) 0x8932U << 28 | 0xd36914eU)

849 
UINTMAX_MAX
 / 821)

850 
P
 (2, 54,

851 (((((
uštmax_t
) 0xdeb7U << 28 | 0x8610cc0U)

855 
UINTMAX_MAX
 / 823)

856 
P
 (4, 54,

857 (((((
uštmax_t
) 0x8fa1U << 28 | 0xe560e3dU)

861 
UINTMAX_MAX
 / 827)

862 
P
 (2, 54,

863 (((((
uštmax_t
) 0x6724U << 28 | 0x2159dccU)

867 
UINTMAX_MAX
 / 829)

868 
P
 (10, 48,

869 (((((
uštmax_t
) 0x5e96U << 28 | 0xbb58ca9U)

873 
UINTMAX_MAX
 / 839)

874 
P
 (14, 54,

875 (((((
uštmax_t
) 0x2450U << 28 | 0x6e7171bU)

879 
UINTMAX_MAX
 / 853)

880 
P
 (4, 54,

881 (((((
uštmax_t
) 0x3743U << 28 | 0x3611535U)

885 
UINTMAX_MAX
 / 857)

886 
P
 (2, 60,

887 (((((
uštmax_t
) 0x232aU << 28 | 0x9df37baU)

891 
UINTMAX_MAX
 / 859)

892 
P
 (4, 66,

893 (((((
uštmax_t
) 0x569eU << 28 | 0x67d2e92U)

897 
UINTMAX_MAX
 / 863)

898 
P
 (14, 60,

899 (((((
uštmax_t
) 0x7e1aU << 28 | 0x457923eU)

903 
UINTMAX_MAX
 / 877)

904 
P
 (4, 60,

905 (((((
uštmax_t
) 0x9764U << 28 | 0x3fed672U)

909 
UINTMAX_MAX
 / 881)

910 
P
 (2, 64,

911 (((((
uštmax_t
) 0xea8bU << 28 | 0xbde5e83U)

915 
UINTMAX_MAX
 / 883)

916 
P
 (4, 66,

917 (((((
uštmax_t
) 0x3d2fU << 28 | 0x9f06a35U)

921 
UINTMAX_MAX
 / 887)

922 
P
 (20, 60,

923 (((((
uštmax_t
) 0x81d5U << 28 | 0xa9a1ba9U)

927 
UINTMAX_MAX
 / 907)

928 
P
 (4, 60,

929 (((((
uštmax_t
) 0x752eU << 28 | 0x5ddb77fU)

933 
UINTMAX_MAX
 / 911)

934 
P
 (8, 58,

935 (((((
uštmax_t
) 0x1abdU << 28 | 0xfafc60fU)

939 
UINTMAX_MAX
 / 919)

940 
P
 (10, 54,

941 (((((
uštmax_t
) 0xac3aU << 28 | 0x6b786c0U)

945 
UINTMAX_MAX
 / 929)

946 
P
 (8, 54,

947 (((((
uštmax_t
) 0x131fU << 28 | 0xf741d81U)

951 
UINTMAX_MAX
 / 937)

952 
P
 (4, 56,

953 (((((
uštmax_t
) 0xc53cU << 28 | 0xaad918cU)

957 
UINTMAX_MAX
 / 941)

958 
P
 (6, 62,

959 (((((
uštmax_t
) 0xea1aU << 28 | 0x7df8f8bU)

963 
UINTMAX_MAX
 / 947)

964 
P
 (6, 60,

965 (((((
uštmax_t
) 0xbb3bU << 28 | 0x5dc0113U)

969 
UINTMAX_MAX
 / 953)

970 
P
 (14, 52,

971 (((((
uštmax_t
) 0x50beU << 28 | 0x9c31c53U)

975 
UINTMAX_MAX
 / 967)

976 
P
 (4, 50,

977 (((((
uštmax_t
) 0x6580U << 28 | 0xec3a008U)

981 
UINTMAX_MAX
 / 971)

982 
P
 (6, 54,

983 (((((
uštmax_t
) 0x1108U << 28 | 0x1f71752U)

987 
UINTMAX_MAX
 / 977)

988 
P
 (6, 50,

989 (((((
uštmax_t
) 0xb81fU << 28 | 0x4053563U)

993 
UINTMAX_MAX
 / 983)

994 
P
 (8, 48,

995 (((((
uštmax_t
) 0x9c8bU << 28 | 0x7ed668eU)

999 
UINTMAX_MAX
 / 991)

1000 
P
 (6, 52,

1001 (((((
uštmax_t
) 0x0291U << 28 | 0x54fdb06U)

1005 
UINTMAX_MAX
 / 997)

1006 
P
 (12, 42,

1007 (((((
uštmax_t
) 0x2240U << 28 | 0x71aa3e6U)

1011 
UINTMAX_MAX
 / 1009)

1012 
P
 (4, 48,

1013 (((((
uštmax_t
) 0x02c7U << 28 | 0xa505cffU)

1017 
UINTMAX_MAX
 / 1013)

1018 
P
 (6, 44,

1019 (((((
uštmax_t
) 0xcafdU << 28 | 0xbd2c779U)

1023 
UINTMAX_MAX
 / 1019)

1024 
P
 (2, 48,

1025 (((((
uštmax_t
) 0x513cU << 28 | 0xedb245bU)

1029 
UINTMAX_MAX
 / 1021)

1030 
P
 (10, 56,

1031 (((((
uštmax_t
) 0x2e6eU << 28 | 0xbe33267U)

1035 
UINTMAX_MAX
 / 1031)

1036 
P
 (2, 58,

1037 (((((
uštmax_t
) 0x007eU << 28 | 0xe2825abU)

1041 
UINTMAX_MAX
 / 1033)

1042 
P
 (6, 54,

1043 (((((
uštmax_t
) 0x2f8dU << 28 | 0xacb84cdU)

1047 
UINTMAX_MAX
 / 1039)

1048 
P
 (10, 48,

1049 (((((
uštmax_t
) 0x01f3U << 28 | 0xcc435b0U)

1053 
UINTMAX_MAX
 / 1049)

1054 
P
 (2, 52,

1055 (((((
uštmax_t
) 0x8c0eU << 28 | 0x9d59e14U)

1059 
UINTMAX_MAX
 / 1051)

1060 
P
 (10, 48,

1061 (((((
uštmax_t
) 0x6e81U << 28 | 0xcf42d5cU)

1065 
UINTMAX_MAX
 / 1061)

1066 
P
 (2, 54,

1067 (((((
uštmax_t
) 0x9c4cU << 28 | 0x1a02688U)

1071 
UINTMAX_MAX
 / 1063)

1072 
P
 (6, 54,

1073 (((((
uštmax_t
) 0x7bcfU << 28 | 0x2599067U)

1077 
UINTMAX_MAX
 / 1069)

1078 
P
 (18, 42,

1079 (((((
uštmax_t
) 0x46a7U << 28 | 0x3667275U)

1083 
UINTMAX_MAX
 / 1087)

1084 
P
 (4, 60,

1085 (((((
uštmax_t
) 0xe720U << 28 | 0x9daecfeU)

1089 
UINTMAX_MAX
 / 1091)

1090 
P
 (2, 60,

1091 (((((
uštmax_t
) 0x194bU << 28 | 0xa6ff4c1U)

1095 
UINTMAX_MAX
 / 1093)

1096 
P
 (4, 66,

1097 (((((
uštmax_t
) 0x777bU << 28 | 0x730c5e4U)

1101 
UINTMAX_MAX
 / 1097)

1102 
P
 (6, 68,

1103 (((((
uštmax_t
) 0x2aefU << 28 | 0xfc49577U)

1107 
UINTMAX_MAX
 / 1103)

1108 
P
 (6, 72,

1109 (((((
uštmax_t
) 0xf1b0U << 28 | 0x213da24U)

1113 
UINTMAX_MAX
 / 1109)

1114 
P
 (8, 70,

1115 (((((
uštmax_t
) 0x8822U << 28 | 0xd60f205U)

1119 
UINTMAX_MAX
 / 1117)

1120 
P
 (6, 70,

1121 (((((
uštmax_t
) 0x3606U << 28 | 0xd6bd351U)

1125 
UINTMAX_MAX
 / 1123)

1126 
P
 (6, 72,

1127 (((((
uštmax_t
) 0x0122U << 28 | 0x3d38ea0U)

1131 
UINTMAX_MAX
 / 1129)

1132 
P
 (22, 62,

1133 (((((
uštmax_t
) 0x78feU << 28 | 0x716e8a5U)

1137 
UINTMAX_MAX
 / 1151)

1138 
P
 (2, 64,

1139 (((((
uštmax_t
) 0xd6ecU << 28 | 0xaef5908U)

1143 
UINTMAX_MAX
 / 1153)

1144 
P
 (10, 60,

1145 (((((
uštmax_t
) 0x7867U << 28 | 0xe595e6eU)

1149 
UINTMAX_MAX
 / 1163)

1150 
P
 (8, 58,

1151 (((((
uštmax_t
) 0xa705U << 28 | 0xe713e4eU)

1155 
UINTMAX_MAX
 / 1171)

1156 
P
 (10, 50,

1157 (((((
uštmax_t
) 0x92c0U << 28 | 0x0ddf7c3U)

1161 
UINTMAX_MAX
 / 1181)

1162 
P
 (6, 50,

1163 (((((
uštmax_t
) 0xab06U << 28 | 0xaf8e205U)

1167 
UINTMAX_MAX
 / 1187)

1168 
P
 (6, 56,

1169 (((((
uštmax_t
) 0xe187U << 28 | 0x673725fU)

1173 
UINTMAX_MAX
 / 1193)

1174 
P
 (8, 58,

1175 (((((
uštmax_t
) 0x57d1U << 28 | 0xf5579b6U)

1179 
UINTMAX_MAX
 / 1201)

1180 
P
 (12, 64,

1181 (((((
uštmax_t
) 0x5f64U << 28 | 0xab5ec29U)

1185 
UINTMAX_MAX
 / 1213)

1186 
P
 (4, 62,

1187 (((((
uštmax_t
) 0x48c8U << 28 | 0x41a1574U)

1191 
UINTMAX_MAX
 / 1217)

1192 
P
 (6, 60,

1193 (((((
uštmax_t
) 0x348aU << 28 | 0x26ef0b8U)

1197 
UINTMAX_MAX
 / 1223)

1198 
P
 (6, 60,

1199 (((((
uštmax_t
) 0x5247U << 28 | 0x3d081faU)

1203 
UINTMAX_MAX
 / 1229)

1204 
P
 (2, 60,

1205 (((((
uštmax_t
) 0x0ec3U << 28 | 0xe6367c5U)

1209 
UINTMAX_MAX
 / 1231)

1210 
P
 (6, 60,

1211 (((((
uštmax_t
) 0xb57fU << 28 | 0x46921bbU)

1215 
UINTMAX_MAX
 / 1237)

1216 
P
 (12, 52,

1217 (((((
uštmax_t
) 0xb2eeU << 28 | 0xfcecf03U)

1221 
UINTMAX_MAX
 / 1249)

1222 
P
 (10, 44,

1223 (((((
uštmax_t
) 0xed4bU << 28 | 0x07ee1b3U)

1227 
UINTMAX_MAX
 / 1259)

1228 
P
 (18, 30,

1229 (((((
uštmax_t
) 0x435bU << 28 | 0x9d5e6bdU)

1233 
UINTMAX_MAX
 / 1277)

1234 
P
 (2, 40,

1235 (((((
uštmax_t
) 0x6013U << 28 | 0x370b023U)

1239 
UINTMAX_MAX
 / 1279)

1240 
P
 (4, 38,

1241 (((((
uštmax_t
) 0x3447U << 28 | 0x089473bU)

1245 
UINTMAX_MAX
 / 1283)

1246 
P
 (6, 38,

1247 (((((
uštmax_t
) 0x0f7dU << 28 | 0xb74fa3dU)

1251 
UINTMAX_MAX
 / 1289)

1252 
P
 (2, 70,

1253 (((((
uštmax_t
) 0x5316U << 28 | 0x02c6b14U)

1257 
UINTMAX_MAX
 / 1291)

1258 
P
 (6, 70,

1259 (((((
uštmax_t
) 0x2128U << 28 | 0xdb7c26aU)

1263 
UINTMAX_MAX
 / 1297)

1264 
P
 (4, 72,

1265 (((((
uštmax_t
) 0xb01cU << 28 | 0x55cadf2U)

1269 
UINTMAX_MAX
 / 1301)

1270 
P
 (2, 78,

1271 (((((
uštmax_t
) 0x3d4cU << 28 | 0x6d3cb58U)

1275 
UINTMAX_MAX
 / 1303)

1276 
P
 (4, 92,

1277 (((((
uštmax_t
) 0x0bc0U << 28 | 0x89e42fcU)

1281 
UINTMAX_MAX
 / 1307)

1282 
P
 (12, 90,

1283 (((((
uštmax_t
) 0x34fcU << 28 | 0x4ff6af1U)

1287 
UINTMAX_MAX
 / 1319)

1288 
P
 (2, 102,

1289 (((((
uštmax_t
) 0x18ffU << 28 | 0xce639c0U)

1293 
UINTMAX_MAX
 / 1321)

1294 
P
 (6, 100,

1295 (((((
uštmax_t
) 0x9b4cU << 28 | 0x33b39aeU)

1299 
UINTMAX_MAX
 / 1327)

1300 
P
 (34, 68,

1301 (((((
uštmax_t
) 0xbbe8U << 28 | 0xad0c9a3U)

1305 
UINTMAX_MAX
 / 1361)

1306 
P
 (6, 66,

1307 (((((
uštmax_t
) 0xa28dU << 28 | 0x33dfca1U)

1311 
UINTMAX_MAX
 / 1367)

1312 
P
 (6, 66,

1313 (((((
uštmax_t
) 0x677bU << 28 | 0x3ed5acdU)

1317 
UINTMAX_MAX
 / 1373)

1318 
P
 (8, 66,

1319 (((((
uštmax_t
) 0xf4e0U << 28 | 0xac06ac6U)

1323 
UINTMAX_MAX
 / 1381)

1324 
P
 (18, 52,

1325 (((((
uštmax_t
) 0x3ba7U << 28 | 0x6f12d90U)

1329 
UINTMAX_MAX
 / 1399)

1330 
P
 (10, 44,

1331 (((((
uštmax_t
) 0x3d69U << 28 | 0x32b0f71U)

1335 
UINTMAX_MAX
 / 1409)

1336 
P
 (14, 36,

1337 (((((
uštmax_t
) 0xb7adU << 28 | 0xf701426U)

1341 
UINTMAX_MAX
 / 1423)

1342 
P
 (4, 44,

1343 (((((
uštmax_t
) 0xd0d1U << 28 | 0x893d2caU)

1347 
UINTMAX_MAX
 / 1427)

1348 
P
 (2, 52,

1349 (((((
uštmax_t
) 0xc00bU << 28 | 0x7721dbcU)

1353 
UINTMAX_MAX
 / 1429)

1354 
P
 (4, 50,

1355 (((((
uštmax_t
) 0xe9d9U << 28 | 0x0e1cf0dU)

1359 
UINTMAX_MAX
 / 1433)

1360 
P
 (6, 48,

1361 (((((
uštmax_t
) 0x8489U << 28 | 0x56fe661U)

1365 
UINTMAX_MAX
 / 1439)

1366 
P
 (8, 42,

1367 (((((
uštmax_t
) 0xfd85U << 28 | 0xed3f28dU)

1371 
UINTMAX_MAX
 / 1447)

1372 
P
 (4, 42,

1373 (((((
uštmax_t
) 0x0a68U << 28 | 0xcca8aacU)

1377 
UINTMAX_MAX
 / 1451)

1378 
P
 (2, 46,

1379 (((((
uštmax_t
) 0x57eaU << 28 | 0xdb877ceU)

1383 
UINTMAX_MAX
 / 1453)

1384 
P
 (6, 52,

1385 (((((
uštmax_t
) 0x1c12U << 28 | 0xf330f43U)

1389 
UINTMAX_MAX
 / 1459)

1390 
P
 (12, 52,

1391 (((((
uštmax_t
) 0x472dU << 28 | 0xc52d6c1U)

1395 
UINTMAX_MAX
 / 1471)

1396 
P
 (10, 50,

1397 (((((
uštmax_t
) 0xda51U << 28 | 0x3e0e2c9U)

1401 
UINTMAX_MAX
 / 1481)

1402 
P
 (2, 60,

1403 (((((
uštmax_t
) 0x442fU << 28 | 0xa4dae2dU)

1407 
UINTMAX_MAX
 / 1483)

1408 
P
 (4, 62,

1409 (((((
uštmax_t
) 0x091fU << 28 | 0xd96fbb2U)

1413 
UINTMAX_MAX
 / 1487)

1414 
P
 (2, 64,

1415 (((((
uštmax_t
) 0x3accU << 28 | 0x97fbdfaU)

1419 
UINTMAX_MAX
 / 1489)

1420 
P
 (4, 66,

1421 (((((
uštmax_t
) 0x4d54U << 28 | 0xe047548U)

1425 
UINTMAX_MAX
 / 1493)

1426 
P
 (6, 68,

1427 (((((
uštmax_t
) 0x7e8cU << 28 | 0x61afbbbU)

1431 
UINTMAX_MAX
 / 1499)

1432 
P
 (12, 60,

1433 (((((
uštmax_t
) 0xc4b3U << 28 | 0x96f4fccU)

1437 
UINTMAX_MAX
 / 1511)

1438 
P
 (12, 56,

1439 (((((
uštmax_t
) 0x9eadU << 28 | 0x21c933fU)

1443 
UINTMAX_MAX
 / 1523)

1444 
P
 (8, 52,

1445 (((((
uštmax_t
) 0x0584U << 28 | 0x992a4deU)

1449 
UINTMAX_MAX
 / 1531)

1450 
P
 (12, 54,

1451 (((((
uštmax_t
) 0x8b08U << 28 | 0x7620d9aU)

1455 
UINTMAX_MAX
 / 1543)

1456 
P
 (6, 52,

1457 (((((
uštmax_t
) 0xc108U << 28 | 0x6dbce6bU)

1461 
UINTMAX_MAX
 / 1549)

1462 
P
 (4, 54,

1463 (((((
uštmax_t
) 0xe478U << 28 | 0xaa1e005U)

1467 
UINTMAX_MAX
 / 1553)

1468 
P
 (6, 50,

1469 (((((
uštmax_t
) 0x5cf1U << 28 | 0x0e9d4faU)

1473 
UINTMAX_MAX
 / 1559)

1474 
P
 (8, 46,

1475 (((((
uštmax_t
) 0x9ecbU << 28 | 0x8ef2c45U)

1479 
UINTMAX_MAX
 / 1567)

1480 
P
 (4, 48,

1481 (((((
uštmax_t
) 0xfb99U << 28 | 0xaa49543U)

1485 
UINTMAX_MAX
 / 1571)

1486 
P
 (8, 42,

1487 (((((
uštmax_t
) 0x7abbU << 28 | 0x187b379U)

1491 
UINTMAX_MAX
 / 1579)

1492 
P
 (4, 44,

1493 (((((
uštmax_t
) 0x3cceU << 28 | 0x5a3d212U)

1497 
UINTMAX_MAX
 / 1583)

1498 
P
 (14, 40,

1499 (((((
uštmax_t
) 0xc6eeU << 28 | 0xd90c05cU)

1503 
UINTMAX_MAX
 / 1597)

1504 
P
 (4, 56,

1505 (((((
uštmax_t
) 0x8798U << 28 | 0x627f99aU)

1509 
UINTMAX_MAX
 / 1601)

1510 
P
 (6, 56,

1511 (((((
uštmax_t
) 0x5233U << 28 | 0x4bab403U)

1515 
UINTMAX_MAX
 / 1607)

1516 
P
 (2, 58,

1517 (((((
uštmax_t
) 0x0e51U << 28 | 0xc7ad43fU)

1521 
UINTMAX_MAX
 / 1609)

1522 
P
 (4, 56,

1523 (((((
uštmax_t
) 0x00a2U << 28 | 0x84ffd75U)

1527 
UINTMAX_MAX
 / 1613)

1528 
P
 (6, 74,

1529 (((((
uštmax_t
) 0xe72cU << 28 | 0xbfa4ebeU)

1533 
UINTMAX_MAX
 / 1619)

1534 
P
 (2, 76,

1535 (((((
uštmax_t
) 0x22beU << 28 | 0x75d04e5U)

1539 
UINTMAX_MAX
 / 1621)

1540 
P
 (6, 72,

1541 (((((
uštmax_t
) 0x84f4U << 28 | 0xd419cdfU)

1545 
UINTMAX_MAX
 / 1627)

1546 
P
 (10, 72,

1547 (((((
uštmax_t
) 0xe83aU << 28 | 0xccdcd04U)

1551 
UINTMAX_MAX
 / 1637)

1552 
P
 (20, 64,

1553 (((((
uštmax_t
) 0x9e34U << 28 | 0x383c8ffU)

1557 
UINTMAX_MAX
 / 1657)

1558 
P
 (6, 60,

1559 (((((
uštmax_t
) 0x2e7dU << 28 | 0x4e5ad2eU)

1563 
UINTMAX_MAX
 / 1663)

1564 
P
 (4, 66,

1565 (((((
uštmax_t
) 0xe596U << 28 | 0x098573aU)

1569 
UINTMAX_MAX
 / 1667)

1570 
P
 (2, 72,

1571 (((((
uštmax_t
) 0x7181U << 28 | 0x4dc42e0U)

1575 
UINTMAX_MAX
 / 1669)

1576 
P
 (24, 54,

1577 (((((
uštmax_t
) 0xa4abU << 28 | 0x2bb32f5U)

1581 
UINTMAX_MAX
 / 1693)

1582 
P
 (4, 56,

1583 (((((
uštmax_t
) 0xa2ecU << 28 | 0x3cf1f87U)

1587 
UINTMAX_MAX
 / 1697)

1588 
P
 (2, 60,

1589 (((((
uštmax_t
) 0x6ff3U << 28 | 0xf223422U)

1593 
UINTMAX_MAX
 / 1699)

1594 
P
 (10, 68,

1595 (((((
uštmax_t
) 0x6c00U << 28 | 0x9963e9dU)

1599 
UINTMAX_MAX
 / 1709)

1600 
P
 (12, 62,

1601 (((((
uštmax_t
) 0x894cU << 28 | 0x02f99a8U)

1605 
UINTMAX_MAX
 / 1721)

1606 
P
 (2, 64,

1607 (((((
uštmax_t
) 0xc8e0U << 28 | 0xa6684d4U)

1611 
UINTMAX_MAX
 / 1723)

1612 
P
 (10, 56,

1613 (((((
uštmax_t
) 0xf8c2U << 28 | 0xfdc8c0aU)

1617 
UINTMAX_MAX
 / 1733)

1618 
P
 (8, 60,

1619 (((((
uštmax_t
) 0xd0a7U << 28 | 0x0a25594U)

1623 
UINTMAX_MAX
 / 1741)

1624 
P
 (6, 64,

1625 (((((
uštmax_t
) 0xdb5dU << 28 | 0xa31878bU)

1629 
UINTMAX_MAX
 / 1747)

1630 
P
 (6, 70,

1631 (((((
uštmax_t
) 0x75b4U << 28 | 0x5a8abbcU)

1635 
UINTMAX_MAX
 / 1753)

1636 
P
 (6, 72,

1637 (((((
uštmax_t
) 0x7e53U << 28 | 0x89d2e22U)

1641 
UINTMAX_MAX
 / 1759)

1642 
P
 (18, 70,

1643 (((((
uštmax_t
) 0xeaf7U << 28 | 0x801270aU)

1647 
UINTMAX_MAX
 / 1777)

1648 
P
 (6, 78,

1649 (((((
uštmax_t
) 0x1ad9U << 28 | 0x60a0cecU)

1653 
UINTMAX_MAX
 / 1783)

1654 
P
 (4, 80,

1655 (((((
uštmax_t
) 0x082aU << 28 | 0x676e737U)

1659 
UINTMAX_MAX
 / 1787)

1660 
P
 (2, 82,

1661 (((((
uštmax_t
) 0x50b4U << 28 | 0xdfcda14U)

1665 
UINTMAX_MAX
 / 1789)

1666 
P
 (12, 72,

1667 (((((
uštmax_t
) 0x1ffbU << 28 | 0x738ffdbU)

1671 
UINTMAX_MAX
 / 1801)

1672 
P
 (10, 66,

1673 (((((
uštmax_t
) 0xa660U << 28 | 0xf8ca6cdU)

1677 
UINTMAX_MAX
 / 1811)

1678 
P
 (12, 56,

1679 (((((
uštmax_t
) 0xed52U << 28 | 0xb6467eaU)

1683 
UINTMAX_MAX
 / 1823)

1684 
P
 (8, 58,

1685 (((((
uštmax_t
) 0xdaf2U << 28 | 0xff4d09aU)

1689 
UINTMAX_MAX
 / 1831)

1690 
P
 (16, 54,

1691 (((((
uštmax_t
) 0x6054U << 28 | 0x454d33bU)

1695 
UINTMAX_MAX
 / 1847)

1696 
P
 (14, 46,

1697 (((((
uštmax_t
) 0xf545U << 28 | 0x31625b1U)

1701 
UINTMAX_MAX
 / 1861)

1702 
P
 (6, 46,

1703 (((((
uštmax_t
) 0x6df8U << 28 | 0x0c1100aU)

1707 
UINTMAX_MAX
 / 1867)

1708 
P
 (4, 60,

1709 (((((
uštmax_t
) 0xaf8bU << 28 | 0xf8e2952U)

1713 
UINTMAX_MAX
 / 1871)

1714 
P
 (2, 60,

1715 (((((
uštmax_t
) 0x4d5cU << 28 | 0x4227171U)

1719 
UINTMAX_MAX
 / 1873)

1720 
P
 (4, 72,

1721 (((((
uštmax_t
) 0xf78bU << 28 | 0x4082eeaU)

1725 
UINTMAX_MAX
 / 1877)

1726 
P
 (2, 72,

1727 (((((
uštmax_t
) 0xf354U << 28 | 0x558f76aU)

1731 
UINTMAX_MAX
 / 1879)

1732 
P
 (10, 84,

1733 (((((
uštmax_t
) 0x0ab4U << 28 | 0xc91d231U)

1737 
UINTMAX_MAX
 / 1889)

1738 
P
 (12, 78,

1739 (((((
uštmax_t
) 0x1b56U << 28 | 0x52256feU)

1743 
UINTMAX_MAX
 / 1901)

1744 
P
 (6, 80,

1745 (((((
uštmax_t
) 0xaca2U << 28 | 0xb39dbc1U)

1749 
UINTMAX_MAX
 / 1907)

1750 
P
 (6, 80,

1751 (((((
uštmax_t
) 0x3856U << 28 | 0xb755c78U)

1755 
UINTMAX_MAX
 / 1913)

1756 
P
 (18, 66,

1757 (((((
uštmax_t
) 0x052bU << 28 | 0x9de5385U)

1761 
UINTMAX_MAX
 / 1931)

1762 
P
 (2, 66,

1763 (((((
uštmax_t
) 0x820dU << 28 | 0x822f698U)

1767 
UINTMAX_MAX
 / 1933)

1768 
P
 (16, 54,

1769 (((((
uštmax_t
) 0xcd09U << 28 | 0x536828fU)

1773 
UINTMAX_MAX
 / 1949)

1774 
P
 (2, 60,

1775 (((((
uštmax_t
) 0x8486U << 28 | 0xe386c1eU)

1779 
UINTMAX_MAX
 / 1951)

1780 
P
 (22, 44,

1781 (((((
uštmax_t
) 0xec68U << 28 | 0x5200c74U)

1785 
UINTMAX_MAX
 / 1973)

1786 
P
 (6, 48,

1787 (((((
uštmax_t
) 0xd8acU << 28 | 0xd298624U)

1791 
UINTMAX_MAX
 / 1979)

1792 
P
 (8, 42,

1793 (((((
uštmax_t
) 0x03ddU << 28 | 0x78b87ecU)

1797 
UINTMAX_MAX
 / 1987)

1798 
P
 (6, 46,

1799 (((((
uštmax_t
) 0x8950U << 28 | 0x062a636U)

1803 
UINTMAX_MAX
 / 1993)

1804 
P
 (4, 56,

1805 (((((
uštmax_t
) 0xa9daU << 28 | 0xd301275U)

1809 
UINTMAX_MAX
 / 1997)

1810 
P
 (2, 64,

1811 (((((
uštmax_t
) 0xfa3cU << 28 | 0xb3cd496U)

1815 
UINTMAX_MAX
 / 1999)

1816 
P
 (4, 66,

1817 (((((
uštmax_t
) 0x5c05U << 28 | 0x9fa1eedU)

1821 
UINTMAX_MAX
 / 2003)

1822 
P
 (8, 70,

1823 (((((
uštmax_t
) 0x8e52U << 28 | 0x3c5712bU)

1827 
UINTMAX_MAX
 / 2011)

1828 
P
 (6, 66,

1829 (((((
uštmax_t
) 0x8de5U << 28 | 0xdaaf67bU)

1833 
UINTMAX_MAX
 / 2017)

1834 
P
 (10, 60,

1835 (((((
uštmax_t
) 0xec2bU << 28 | 0xf35ed8fU)

1839 
UINTMAX_MAX
 / 2027)

1840 
P
 (2, 60,

1841 (((((
uštmax_t
) 0xe8c8U << 28 | 0xdd0cfedU)

1845 
UINTMAX_MAX
 / 2029)

1846 
P
 (10, 60,

1847 (((((
uštmax_t
) 0x65f2U << 28 | 0xb107280U)

1851 
UINTMAX_MAX
 / 2039)

1852 
P
 (14, 58,

1853 (((((
uštmax_t
) 0x44b5U << 28 | 0x0ed6b9cU)

1857 
UINTMAX_MAX
 / 2053)

1858 
P
 (10, 50,

1859 (((((
uštmax_t
) 0x9e96U << 28 | 0xa5899dfU)

1863 
UINTMAX_MAX
 / 2063)

1864 
P
 (6, 60,

1865 (((((
uštmax_t
) 0x49beU << 28 | 0x6c24212U)

1869 
UINTMAX_MAX
 / 2069)

1870 
P
 (12, 50,

1871 (((((
uštmax_t
) 0xd1fdU << 28 | 0xc922526U)

1875 
UINTMAX_MAX
 / 2081)

1876 
P
 (2, 54,

1877 (((((
uštmax_t
) 0xb8d7U << 28 | 0x51f95d0U)

1881 
UINTMAX_MAX
 / 2083)

1882 
P
 (4, 54,

1883 (((((
uštmax_t
) 0x971fU << 28 | 0x47835f8U)

1887 
UINTMAX_MAX
 / 2087)

1888 
P
 (2, 54,

1889 (((((
uštmax_t
) 0x418fU << 28 | 0xfe0a0c7U)

1893 
UINTMAX_MAX
 / 2089)

1894 
P
 (10, 54,

1895 (((((
uštmax_t
) 0xd06fU << 28 | 0x3ae8760U)

1899 
UINTMAX_MAX
 / 2099)

1900 
P
 (12, 50,

1901 (((((
uštmax_t
) 0x16adU << 28 | 0x6a5a779U)

1905 
UINTMAX_MAX
 / 2111)

1906 
P
 (2, 66,

1907 (((((
uštmax_t
) 0xfe0fU << 28 | 0xc007c0fU)

1911 
UINTMAX_MAX
 / 2113)

1912 
P
 (16, 74,

1913 (((((
uštmax_t
) 0x9763U << 28 | 0x3395b43U)

1917 
UINTMAX_MAX
 / 2129)

1918 
P
 (2, 76,

1919 (((((
uštmax_t
) 0x9a20U << 28 | 0xea7f195U)

1923 
UINTMAX_MAX
 / 2131)

1924 
P
 (6, 76,

1925 (((((
uštmax_t
) 0x7285U << 28 | 0xee07e80U)

1929 
UINTMAX_MAX
 / 2137)

1930 
P
 (4, 80,

1931 (((((
uštmax_t
) 0x3dd1U << 28 | 0x5e1a10fU)

1935 
UINTMAX_MAX
 / 2141)

1936 
P
 (2, 94,

1937 (((((
uštmax_t
) 0x4f14U << 28 | 0xe7bff85U)

1941 
UINTMAX_MAX
 / 2143)

1942 
P
 (10, 86,

1943 (((((
uštmax_t
) 0x12e7U << 28 | 0xdccdf10U)

1947 
UINTMAX_MAX
 / 2153)

1948 
P
 (8, 82,

1949 (((((
uštmax_t
) 0xd7b8U << 28 | 0xebfac9aU)

1953 
UINTMAX_MAX
 / 2161)

1954 
P
 (18, 72,

1955 (((((
uštmax_t
) 0xae1cU << 28 | 0xe6bd9efU)

1959 
UINTMAX_MAX
 / 2179)

1960 
P
 (24, 64,

1961 (((((
uštmax_t
) 0x459bU << 28 | 0x5dc70f3U)

1965 
UINTMAX_MAX
 / 2203)

1966 
P
 (4, 62,

1967 (((((
uštmax_t
) 0x4ec2U << 28 | 0xa38d65bU)

1971 
UINTMAX_MAX
 / 2207)

1972 
P
 (6, 60,

1973 (((((
uštmax_t
) 0x525dU << 28 | 0x3cf6a14U)

1977 
UINTMAX_MAX
 / 2213)

1978 
P
 (8, 60,

1979 (((((
uštmax_t
) 0x716bU << 28 | 0x4f6a9e5U)

1983 
UINTMAX_MAX
 / 2221)

1984 
P
 (16, 50,

1985 (((((
uštmax_t
) 0x48abU << 28 | 0x336212fU)

1989 
UINTMAX_MAX
 / 2237)

1990 
P
 (2, 54,

1991 (((((
uštmax_t
) 0xbde9U << 28 | 0xd1944b7U)

1995 
UINTMAX_MAX
 / 2239)

1996 
P
 (4, 54,

1997 (((((
uštmax_t
) 0xb595U << 28 | 0xdb3fccdU)

2001 
UINTMAX_MAX
 / 2243)

2002 
P
 (8, 58,

2003 (((((
uštmax_t
) 0x8a10U << 28 | 0x9aab45fU)

2007 
UINTMAX_MAX
 / 2251)

2008 
P
 (16, 44,

2009 (((((
uštmax_t
) 0x2e69U << 28 | 0x78b763bU)

2013 
UINTMAX_MAX
 / 2267)

2014 
P
 (2, 64,

2015 (((((
uštmax_t
) 0x7e40U << 28 | 0x4f6dc75U)

2019 
UINTMAX_MAX
 / 2269)

2020 
P
 (4, 66,

2021 (((((
uštmax_t
) 0xa706U << 28 | 0x6b72173U)

2025 
UINTMAX_MAX
 / 2273)

2026 
P
 (8, 60,

2027 (((((
uštmax_t
) 0x1165U << 28 | 0x5853800U)

2031 
UINTMAX_MAX
 / 2281)

2032 
P
 (6, 60,

2033 (((((
uštmax_t
) 0xad0dU << 28 | 0xfdfc31bU)

2037 
UINTMAX_MAX
 / 2287)

2038 
P
 (6, 58,

2039 (((((
uštmax_t
) 0x65b5U << 28 | 0x32cc4f0U)

2043 
UINTMAX_MAX
 / 2293)

2044 
P
 (4, 60,

2045 (((((
uštmax_t
) 0xcdbcU << 28 | 0x7622fecU)

2049 
UINTMAX_MAX
 / 2297)

2050 
P
 (12, 62,

2051 (((((
uštmax_t
) 0x37c4U << 28 | 0x92cae49U)

2055 
UINTMAX_MAX
 / 2309)

2056 
P
 (2, 66,

2057 (((((
uštmax_t
) 0xc031U << 28 | 0xa083283U)

2061 
UINTMAX_MAX
 / 2311)

2062 
P
 (22, 48,

2063 (((((
uštmax_t
) 0xc841U << 28 | 0xd685a6aU)

2067 
UINTMAX_MAX
 / 2333)

2068 
P
 (6, 44,

2069 (((((
uštmax_t
) 0xc4c9U << 28 | 0xd2b0364U)

2073 
UINTMAX_MAX
 / 2339)

2074 
P
 (2, 48,

2075 (((((
uštmax_t
) 0xe3c9U << 28 | 0x5290213U)

2079 
UINTMAX_MAX
 / 2341)

2080 
P
 (6, 46,

2081 (((((
uštmax_t
) 0xf02fU << 28 | 0x1ede4bbU)

2085 
UINTMAX_MAX
 / 2347)

2086 
P
 (4, 48,

2087 (((((
uštmax_t
) 0x83f9U << 28 | 0x7773bffU)

2091 
UINTMAX_MAX
 / 2351)

2092 
P
 (6, 54,

2093 (((((
uštmax_t
) 0xd472U << 28 | 0x42b02b7U)

2097 
UINTMAX_MAX
 / 2357)

2098 
P
 (14, 46,

2099 (((((
uštmax_t
) 0xd905U << 28 | 0xb8f4727U)

2103 
UINTMAX_MAX
 / 2371)

2104 
P
 (6, 46,

2105 (((((
uštmax_t
) 0xf2c0U << 28 | 0xc7e3914U)

2109 
UINTMAX_MAX
 / 2377)

2110 
P
 (4, 56,

2111 (((((
uštmax_t
) 0x6c7cU << 28 | 0x4a67008U)

2115 
UINTMAX_MAX
 / 2381)

2116 
P
 (2, 58,

2117 (((((
uštmax_t
) 0x7e55U << 28 | 0xba2c0b9U)

2121 
UINTMAX_MAX
 / 2383)

2122 
P
 (6, 58,

2123 (((((
uštmax_t
) 0xbf46U << 28 | 0xd4d0be4U)

2127 
UINTMAX_MAX
 / 2389)

2128 
P
 (4, 66,

2129 (((((
uštmax_t
) 0x1908U << 28 | 0x738977bU)

2133 
UINTMAX_MAX
 / 2393)

2134 
P
 (6, 68,

2135 (((((
uštmax_t
) 0x6a48U << 28 | 0xc6e8d7fU)

2139 
UINTMAX_MAX
 / 2399)

2140 
P
 (12, 62,

2141 (((((
uštmax_t
) 0x9f7bU << 28 | 0x7cc2f24U)

2145 
UINTMAX_MAX
 / 2411)

2146 
P
 (6, 60,

2147 (((((
uštmax_t
) 0x57ceU << 28 | 0x01e8101U)

2151 
UINTMAX_MAX
 / 2417)

2152 
P
 (6, 80,

2153 (((((
uštmax_t
) 0x22c2U << 28 | 0x9d6cb7dU)

2157 
UINTMAX_MAX
 / 2423)

2158 
P
 (14, 84,

2159 (((((
uštmax_t
) 0x366aU << 28 | 0x190050aU)

2163 
UINTMAX_MAX
 / 2437)

2164 
P
 (4, 90,

2165 (((((
uštmax_t
) 0x7708U << 28 | 0x7eb0665U)

2169 
UINTMAX_MAX
 / 2441)

2170 
P
 (6, 92,

2171 (((((
uštmax_t
) 0x8f53U << 28 | 0x96f6b06U)

2175 
UINTMAX_MAX
 / 2447)

2176 
P
 (12, 84,

2177 (((((
uštmax_t
) 0x0c2eU << 28 | 0x394250fU)

2181 
UINTMAX_MAX
 / 2459)

2182 
P
 (8, 82,

2183 (((((
uštmax_t
) 0x78afU << 28 | 0x29d1b7fU)

2187 
UINTMAX_MAX
 / 2467)

2188 
P
 (6, 78,

2189 (((((
uštmax_t
) 0x1287U << 28 | 0x9bcb69bU)

2193 
UINTMAX_MAX
 / 2473)

2194 
P
 (4, 80,

2195 (((((
uštmax_t
) 0x92c2U << 28 | 0x17c54bfU)

2199 
UINTMAX_MAX
 / 2477)

2200 
P
 (26, 76,

2201 (((((
uštmax_t
) 0xd46eU << 28 | 0x0ce30e3U)

2205 
UINTMAX_MAX
 / 2503)

2206 
P
 (18, 70,

2207 (((((
uštmax_t
) 0xa49bU << 28 | 0x91ec4ccU)

2211 
UINTMAX_MAX
 / 2521)

2212 
P
 (10, 62,

2213 (((((
uštmax_t
) 0x6098U << 28 | 0x1f8eb77U)

2217 
UINTMAX_MAX
 / 2531)

2218 
P
 (8, 70,

2219 (((((
uštmax_t
) 0x62e9U << 28 | 0x505bf44U)

2223 
UINTMAX_MAX
 / 2539)

2224 
P
 (4, 74,

2225 (((((
uštmax_t
) 0xb3cbU << 28 | 0x3fecabfU)

2229 
UINTMAX_MAX
 / 2543)

2230 
P
 (6, 72,

2231 (((((
uštmax_t
) 0xef3aU << 28 | 0x59c92a1U)

2235 
UINTMAX_MAX
 / 2549)

2236 
P
 (2, 82,

2237 (((((
uštmax_t
) 0xe69cU << 28 | 0x5983c36U)

2241 
UINTMAX_MAX
 / 2551)

2242 
P
 (6, 90,

2243 (((((
uštmax_t
) 0x437aU << 28 | 0xa4cb09bU)

2247 
UINTMAX_MAX
 / 2557)

2248 
P
 (22, 78,

2249 (((((
uštmax_t
) 0x1b65U << 28 | 0x8bdca98U)

2253 
UINTMAX_MAX
 / 2579)

2254 
P
 (12, 68,

2255 (((((
uštmax_t
) 0x3ea4U << 28 | 0x3624f3dU)

2259 
UINTMAX_MAX
 / 2591)

2260 
P
 (2, 70,

2261 (((((
uštmax_t
) 0x2d05U << 28 | 0x08fbf3cU)

2265 
UINTMAX_MAX
 / 2593)

2266 
P
 (16, 62,

2267 (((((
uštmax_t
) 0xc716U << 28 | 0xdcc634cU)

2271 
UINTMAX_MAX
 / 2609)

2272 
P
 (8, 60,

2273 (((((
uštmax_t
) 0xe30bU << 28 | 0x71f669dU)

2277 
UINTMAX_MAX
 / 2617)

2278 
P
 (4, 62,

2279 (((((
uštmax_t
) 0xa624U << 28 | 0x238d871U)

2283 
UINTMAX_MAX
 / 2621)

2284 
P
 (12, 54,

2285 (((((
uštmax_t
) 0x6488U << 28 | 0x81e55c1U)

2289 
UINTMAX_MAX
 / 2633)

2290 
P
 (14, 42,

2291 (((((
uštmax_t
) 0x8513U << 28 | 0xd3830beU)

2295 
UINTMAX_MAX
 / 2647)

2296 
P
 (10, 36,

2297 (((((
uštmax_t
) 0x49b5U << 28 | 0x0a4f32fU)

2301 
UINTMAX_MAX
 / 2657)

2302 
P
 (2, 40,

2303 (((((
uštmax_t
) 0xa1f0U << 28 | 0x049f0c9U)

2307 
UINTMAX_MAX
 / 2659)

2308 
P
 (4, 44,

2309 (((((
uštmax_t
) 0x25f8U << 28 | 0xe2df380U)

2313 
UINTMAX_MAX
 / 2663)

2314 
P
 (8, 40,

2315 (((((
uštmax_t
) 0x1654U << 28 | 0xeb02967U)

2319 
UINTMAX_MAX
 / 2671)

2320 
P
 (6, 36,

2321 (((((
uštmax_t
) 0x304aU << 28 | 0xf935d6eU)

2325 
UINTMAX_MAX
 / 2677)

2326 
P
 (6, 36,

2327 (((((
uštmax_t
) 0xef7eU << 28 | 0x3c1c9feU)

2331 
UINTMAX_MAX
 / 2683)

2332 
P
 (4, 42,

2333 (((((
uštmax_t
) 0xd02cU << 28 | 0x34f8dabU)

2337 
UINTMAX_MAX
 / 2687)

2338 
P
 (2, 42,

2339 (((((
uštmax_t
) 0xca7fU << 28 | 0x00185f3U)

2343 
UINTMAX_MAX
 / 2689)

2344 
P
 (4, 48,

2345 (((((
uštmax_t
) 0x613fU << 28 | 0x67e6e76U)

2349 
UINTMAX_MAX
 / 2693)

2350 
P
 (6, 50,

2351 (((((
uštmax_t
) 0x91e1U << 28 | 0x1433fa4U)

2355 
UINTMAX_MAX
 / 2699)

2356 
P
 (8, 46,

2357 (((((
uštmax_t
) 0x99c5U << 28 | 0x2d7ced2U)

2361 
UINTMAX_MAX
 / 2707)

2362 
P
 (4, 56,

2363 (((((
uštmax_t
) 0xe699U << 28 | 0x2a662c6U)

2367 
UINTMAX_MAX
 / 2711)

2368 
P
 (2, 64,

2369 (((((
uštmax_t
) 0x86efU << 28 | 0x7ca673aU)

2373 
UINTMAX_MAX
 / 2713)

2374 
P
 (6, 70,

2375 (((((
uštmax_t
) 0xb29bU << 28 | 0x59ea585U)

2379 
UINTMAX_MAX
 / 2719)

2380 
P
 (10, 62,

2381 (((((
uštmax_t
) 0x2d67U << 28 | 0x181bc45U)

2385 
UINTMAX_MAX
 / 2729)

2386 
P
 (2, 66,

2387 (((((
uštmax_t
) 0xffa0U << 28 | 0x02ffe80U)

2391 
UINTMAX_MAX
 / 2731)

2392 
P
 (10, 60,

2393 (((((
uštmax_t
) 0xef00U << 28 | 0x778c303U)

2397 
UINTMAX_MAX
 / 2741)

2398 
P
 (8, 54,

2399 (((((
uštmax_t
) 0xd453U << 28 | 0x113a63aU)

2403 
UINTMAX_MAX
 / 2749)

2404 
P
 (4, 66,

2405 (((((
uštmax_t
) 0x01c4U << 28 | 0x4cfeca8U)

2409 
UINTMAX_MAX
 / 2753)

2410 
P
 (14, 66,

2411 (((((
uštmax_t
) 0x3887U << 28 | 0x72a189cU)

2415 
UINTMAX_MAX
 / 2767)

2416 
P
 (10, 60,

2417 (((((
uštmax_t
) 0x835dU << 28 | 0x625cbd2U)

2421 
UINTMAX_MAX
 / 2777)

2422 
P
 (12, 54,

2423 (((((
uštmax_t
) 0x8052U << 28 | 0x3e3ba9bU)

2427 
UINTMAX_MAX
 / 2789)

2428 
P
 (2, 60,

2429 (((((
uštmax_t
) 0xced6U << 28 | 0x1518ac7U)

2433 
UINTMAX_MAX
 / 2791)

2434 
P
 (6, 60,

2435 (((((
uštmax_t
) 0x42d0U << 28 | 0x7f67b31U)

2439 
UINTMAX_MAX
 / 2797)

2440 
P
 (4, 60,

2441 (((((
uštmax_t
) 0xa787U << 28 | 0x5b7cc16U)

2445 
UINTMAX_MAX
 / 2801)

2446 
P
 (2, 76,

2447 (((((
uštmax_t
) 0x69abU << 28 | 0x6d816a6U)

2451 
UINTMAX_MAX
 / 2803)

2452 
P
 (16, 68,

2453 (((((
uštmax_t
) 0xace8U << 28 | 0x1dc954bU)

2457 
UINTMAX_MAX
 / 2819)

2458 
P
 (14, 64,

2459 (((((
uštmax_t
) 0x7c3fU << 28 | 0xfa377bbU)

2463 
UINTMAX_MAX
 / 2833)

2464 
P
 (4, 66,

2465 (((((
uštmax_t
) 0x1f0aU << 28 | 0x8ec0eccU)

2469 
UINTMAX_MAX
 / 2837)

2470 
P
 (6, 66,

2471 (((((
uštmax_t
) 0x609eU << 28 | 0x7b00a15U)

2475 
UINTMAX_MAX
 / 2843)

2476 
P
 (8, 66,

2477 (((((
uštmax_t
) 0x7362U << 28 | 0x52ca08cU)

2481 
UINTMAX_MAX
 / 2851)

2482 
P
 (6, 70,

2483 (((((
uštmax_t
) 0xa370U << 28 | 0x463ffa4U)

2487 
UINTMAX_MAX
 / 2857)

2488 
P
 (4, 78,

2489 (((((
uštmax_t
) 0x4586U << 28 | 0x7cbbe80U)

2493 
UINTMAX_MAX
 / 2861)

2494 
P
 (18, 74,

2495 (((((
uštmax_t
) 0x508fU << 28 | 0xb1c027dU)

2499 
UINTMAX_MAX
 / 2879)

2500 
P
 (8, 70,

2501 (((((
uštmax_t
) 0xbc40U << 28 | 0xe8adccbU)

2505 
UINTMAX_MAX
 / 2887)

2506 
P
 (10, 66,

2507 (((((
uštmax_t
) 0x73d9U << 28 | 0x78cc4e1U)

2511 
UINTMAX_MAX
 / 2897)

2512 
P
 (6, 66,

2513 (((((
uštmax_t
) 0x1c21U << 28 | 0x8299f86U)

2517 
UINTMAX_MAX
 / 2903)

2518 
P
 (6, 62,

2519 (((((
uštmax_t
) 0x5da2U << 28 | 0x8a842e1U)

2523 
UINTMAX_MAX
 / 2909)

2524 
P
 (8, 82,

2525 (((((
uštmax_t
) 0x21f6U << 28 | 0xb281b61U)

2529 
UINTMAX_MAX
 / 2917)

2530 
P
 (10, 74,

2531 (((((
uštmax_t
) 0x2e9dU << 28 | 0xf4a1477U)

2535 
UINTMAX_MAX
 / 2927)

2536 
P
 (12, 72,

2537 (((((
uštmax_t
) 0x891aU << 28 | 0x37ebcabU)

2541 
UINTMAX_MAX
 / 2939)

2542 
P
 (14, 66,

2543 (((((
uštmax_t
) 0xccadU << 28 | 0xbad1f78U)

2547 
UINTMAX_MAX
 / 2953)

2548 
P
 (4, 66,

2549 (((((
uštmax_t
) 0xb335U << 28 | 0x6a92a82U)

2553 
UINTMAX_MAX
 / 2957)

2554 
P
 (6, 74,

2555 (((((
uštmax_t
) 0x58bbU << 28 | 0x5017802U)

2559 
UINTMAX_MAX
 / 2963)

2560 
P
 (6, 72,

2561 (((((
uštmax_t
) 0x7501U << 28 | 0xa365242U)

2565 
UINTMAX_MAX
 / 2969)

2566 
P
 (2, 78,

2567 (((((
uštmax_t
) 0x18a4U << 28 | 0xbffa7c4U)

2571 
UINTMAX_MAX
 / 2971)

2572 
P
 (28, 62,

2573 (((((
uštmax_t
) 0xa633U << 28 | 0x0bdd838U)

2577 
UINTMAX_MAX
 / 2999)

2578 
P
 (2, 66,

2579 (((((
uštmax_t
) 0xe2ffU << 28 | 0x0fc80a3U)

2583 
UINTMAX_MAX
 / 3001)

2584 
P
 (10, 68,

2585 (((((
uštmax_t
) 0x1183U << 28 | 0xb2cce6eU)

2589 
UINTMAX_MAX
 / 3011)

2590 
P
 (8, 64,

2591 (((((
uštmax_t
) 0xbfb9U << 28 | 0x73118d8U)

2595 
UINTMAX_MAX
 / 3019)

2596 
P
 (4, 66,

2597 (((((
uštmax_t
) 0xa152U << 28 | 0xbc81bc6U)

2601 
UINTMAX_MAX
 / 3023)

2602 
P
 (14, 72,

2603 (((((
uštmax_t
) 0xaebdU << 28 | 0xa92d6f2U)

2607 
UINTMAX_MAX
 / 3037)

2608 
P
 (4, 78,

2609 (((((
uštmax_t
) 0x890cU << 28 | 0xb62bf18U)

2613 
UINTMAX_MAX
 / 3041)

2614 
P
 (8, 72,

2615 (((((
uštmax_t
) 0x699fU << 28 | 0xc793db6U)

2619 
UINTMAX_MAX
 / 3049)

2620 
P
 (12, 76,

2621 (((((
uštmax_t
) 0x14fdU << 28 | 0xe8c0055U)

2625 
UINTMAX_MAX
 / 3061)

2626 
P
 (6, 96,

2627 (((((
uštmax_t
) 0xa99cU << 28 | 0x01006adU)

2631 
UINTMAX_MAX
 / 3067)

2632 
P
 (12, 88,

2633 (((((
uštmax_t
) 0x59e0U << 28 | 0xe778f96U)

2637 
UINTMAX_MAX
 / 3079)

2638 
P
 (4, 86,

2639 (((((
uštmax_t
) 0x6edaU << 28 | 0x627b0f3U)

2643 
UINTMAX_MAX
 / 3083)

2644 
P
 (6, 92,

2645 (((((
uštmax_t
) 0xf88aU << 28 | 0x9107df8U)

2649 
UINTMAX_MAX
 / 3089)

2650 
P
 (20, 78,

2651 (((((
uštmax_t
) 0xcddaU << 28 | 0x9dee60fU)

2655 
UINTMAX_MAX
 / 3109)

2656 
P
 (10, 72,

2657 (((((
uštmax_t
) 0x4ff1U << 28 | 0x8de982bU)

2661 
UINTMAX_MAX
 / 3119)

2662 
P
 (2, 82,

2663 (((((
uštmax_t
) 0x8fdfU << 28 | 0x30a40ccU)

2667 
UINTMAX_MAX
 / 3121)

2668 
P
 (16, 72,

2669 (((((
uštmax_t
) 0x0ca6U << 28 | 0x26ae799U)

2673 
UINTMAX_MAX
 / 3137)

2674 
P
 (26, 54,

2675 (((((
uštmax_t
) 0x3a1cU << 28 | 0xa6ba507U)

2679 
UINTMAX_MAX
 / 3163)

2680 
P
 (4, 54,

2681 (((((
uštmax_t
) 0x340eU << 28 | 0x8ccfe76U)

2685 
UINTMAX_MAX
 / 3167)

2686 
P
 (2, 60,

2687 (((((
uštmax_t
) 0xe94cU << 28 | 0xd3010cdU)

2691 
UINTMAX_MAX
 / 3169)

2692 
P
 (12, 70,

2693 (((((
uštmax_t
) 0x69d4U << 28 | 0x0f213ccU)

2697 
UINTMAX_MAX
 / 3181)

2698 
P
 (6, 66,

2699 (((((
uštmax_t
) 0xcc45U << 28 | 0x14a4d46U)

2703 
UINTMAX_MAX
 / 3187)

2704 
P
 (4, 66,

2705 (((((
uštmax_t
) 0x6351U << 28 | 0xbffadd9U)

2709 
UINTMAX_MAX
 / 3191)

2710 
P
 (12, 56,

2711 (((((
uštmax_t
) 0x77baU << 28 | 0x4e2aae1U)

2715 
UINTMAX_MAX
 / 3203)

2716 
P
 (6, 62,

2717 (((((
uštmax_t
) 0x8d1fU << 28 | 0x82e96c6U)

2721 
UINTMAX_MAX
 / 3209)

2722 
P
 (8, 82,

2723 (((((
uštmax_t
) 0x0ef5U << 28 | 0xe4c8da5U)

2727 
UINTMAX_MAX
 / 3217)

2728 
P
 (4, 80,

2729 (((((
uštmax_t
) 0x9ccfU << 28 | 0x98fef77U)

2733 
UINTMAX_MAX
 / 3221)

2734 
P
 (8, 78,

2735 (((((
uštmax_t
) 0x9c06U << 28 | 0xa8de9f5U)

2739 
UINTMAX_MAX
 / 3229)

2740 
P
 (22, 62,

2741 (((((
uštmax_t
) 0xdcf5U << 28 | 0x5e929f8U)

2745 
UINTMAX_MAX
 / 3251)

2746 
P
 (2, 66,

2747 (((((
uštmax_t
) 0xcebcU << 28 | 0x664e397U)

2751 
UINTMAX_MAX
 / 3253)

2752 
P
 (4, 66,

2753 (((((
uštmax_t
) 0x921eU << 28 | 0x0671f84U)

2757 
UINTMAX_MAX
 / 3257)

2758 
P
 (2, 70,

2759 (((((
uštmax_t
) 0x4223U << 28 | 0xfa07b2bU)

2763 
UINTMAX_MAX
 / 3259)

2764 
P
 (12, 60,

2765 (((((
uštmax_t
) 0x4ceeU << 28 | 0xdc3bcb1U)

2769 
UINTMAX_MAX
 / 3271)

2770 
P
 (28, 44,

2771 (((((
uštmax_t
) 0x969eU << 28 | 0xc4a2f55U)

2775 
UINTMAX_MAX
 / 3299)

2776 
P
 (2, 46,

2777 (((((
uštmax_t
) 0xd886U << 28 | 0xa176bb8U)

2781 
UINTMAX_MAX
 / 3301)

2782 
P
 (6, 52,

2783 (((((
uštmax_t
) 0xaaecU << 28 | 0xb97a633U)

2787 
UINTMAX_MAX
 / 3307)

2788 
P
 (6, 48,

2789 (((((
uštmax_t
) 0x1a59U << 28 | 0x7af0505U)

2793 
UINTMAX_MAX
 / 3313)

2794 
P
 (6, 52,

2795 (((((
uštmax_t
) 0x76c8U << 28 | 0x6358785U)

2799 
UINTMAX_MAX
 / 3319)

2800 
P
 (4, 50,

2801 (((((
uštmax_t
) 0xb781U << 28 | 0xa8058bfU)

2805 
UINTMAX_MAX
 / 3323)

2806 
P
 (6, 60,

2807 (((((
uštmax_t
) 0xc604U << 28 | 0x75cf8d9U)

2811 
UINTMAX_MAX
 / 3329)

2812 
P
 (2, 60,

2813 (((((
uštmax_t
) 0x9d2aU << 28 | 0x8009d65U)

2817 
UINTMAX_MAX
 / 3331)

2818 
P
 (12, 64,

2819 (((((
uštmax_t
) 0x4053U << 28 | 0x511894dU)

2823 
UINTMAX_MAX
 / 3343)

2824 
P
 (4, 66,

2825 (((((
uštmax_t
) 0xcbfdU << 28 | 0x3f19edcU)

2829 
UINTMAX_MAX
 / 3347)

2830 
P
 (12, 74,

2831 (((((
uštmax_t
) 0x303eU << 28 | 0x309fbe2U)

2835 
UINTMAX_MAX
 / 3359)

2836 
P
 (2, 88,

2837 (((((
uštmax_t
) 0x1123U << 28 | 0x440491fU)

2841 
UINTMAX_MAX
 / 3361)

2842 
P
 (10, 86,

2843 (((((
uštmax_t
) 0x5ae7U << 28 | 0x03df7f3U)

2847 
UINTMAX_MAX
 / 3371)

2848 
P
 (2, 88,

2849 (((((
uštmax_t
) 0x11fcU << 28 | 0xcff5122U)

2853 
UINTMAX_MAX
 / 3373)

2854 
P
 (16, 74,

2855 (((((
uštmax_t
) 0x80cbU << 28 | 0x0c29652U)

2859 
UINTMAX_MAX
 / 3389)

2860 
P
 (2, 76,

2861 (((((
uštmax_t
) 0xc57dU << 28 | 0xffd958dU)

2865 
UINTMAX_MAX
 / 3391)

2866 
P
 (16, 62,

2867 (((((
uštmax_t
) 0x9c4aU << 28 | 0x3cdce8eU)

2871 
UINTMAX_MAX
 / 3407)

2872 
P
 (6, 78,

2873 (((((
uštmax_t
) 0x0cf9U << 28 | 0xeca5ea8U)

2877 
UINTMAX_MAX
 / 3413)

2878 
P
 (20, 66,

2879 (((((
uštmax_t
) 0xfe48U << 28 | 0xee074edU)

2883 
UINTMAX_MAX
 / 3433)

2884 
P
 (16, 62,

2885 (((((
uštmax_t
) 0xa409U << 28 | 0x342e04eU)

2889 
UINTMAX_MAX
 / 3449)

2890 
P
 (8, 60,

2891 (((((
uštmax_t
) 0xe4e5U << 28 | 0x902e357U)

2895 
UINTMAX_MAX
 / 3457)

2896 
P
 (4, 66,

2897 (((((
uštmax_t
) 0x7588U << 28 | 0x9dfe5f6U)

2901 
UINTMAX_MAX
 / 3461)

2902 
P
 (2, 66,

2903 (((((
uštmax_t
) 0x3784U << 28 | 0x6603fdeU)

2907 
UINTMAX_MAX
 / 3463)

2908 
P
 (4, 66,

2909 (((((
uštmax_t
) 0xb450U << 28 | 0xa1daeecU)

2913 
UINTMAX_MAX
 / 3467)

2914 
P
 (2, 70,

2915 (((((
uštmax_t
) 0xfbf0U << 28 | 0xf20d6e5U)

2919 
UINTMAX_MAX
 / 3469)

2920 
P
 (22, 50,

2921 (((((
uštmax_t
) 0xeeb1U << 28 | 0x9bd44b6U)

2925 
UINTMAX_MAX
 / 3491)

2926 
P
 (8, 48,

2927 (((((
uštmax_t
) 0x7386U << 28 | 0x8c53fdfU)

2931 
UINTMAX_MAX
 / 3499)

2932 
P
 (12, 46,

2933 (((((
uštmax_t
) 0xba13U << 28 | 0x65219cfU)

2937 
UINTMAX_MAX
 / 3511)

2938 
P
 (6, 42,

2939 (((((
uštmax_t
) 0xe16dU << 28 | 0xb1887adU)

2943 
UINTMAX_MAX
 / 3517)

2944 
P
 (10, 44,

2945 (((((
uštmax_t
) 0x4cf0U << 28 | 0x1ab5e49U)

2949 
UINTMAX_MAX
 / 3527)

2950 
P
 (2, 52,

2951 (((((
uštmax_t
) 0x6374U << 28 | 0x6df92e5U)

2955 
UINTMAX_MAX
 / 3529)

2956 
P
 (4, 50,

2957 (((((
uštmax_t
) 0x3fc3U << 28 | 0xb6abbabU)

2961 
UINTMAX_MAX
 / 3533)

2962 
P
 (6, 54,

2963 (((((
uštmax_t
) 0x82b6U << 28 | 0x6ef6f53U)

2967 
UINTMAX_MAX
 / 3539)

2968 
P
 (2, 66,

2969 (((((
uštmax_t
) 0x20c0U << 28 | 0x04a07f3U)

2973 
UINTMAX_MAX
 / 3541)

2974 
P
 (6, 66,

2975 (((((
uštmax_t
) 0xfb2aU << 28 | 0x13c68cbU)

2979 
UINTMAX_MAX
 / 3547)

2980 
P
 (10, 60,

2981 (((((
uštmax_t
) 0x8908U << 28 | 0x46d1b90U)

2985 
UINTMAX_MAX
 / 3557)

2986 
P
 (2, 64,

2987 (((((
uštmax_t
) 0xf7baU << 28 | 0x5f17856U)

2991 
UINTMAX_MAX
 / 3559)

2992 
P
 (12, 60,

2993 (((((
uštmax_t
) 0x811cU << 28 | 0x75db26eU)

2997 
UINTMAX_MAX
 / 3571)

2998 
P
 (10, 56,

2999 (((((
uštmax_t
) 0x6fbcU << 28 | 0x83d31afU)

3003 
UINTMAX_MAX
 / 3581)

3004 
P
 (2, 60,

3005 (((((
uštmax_t
) 0xdf7dU << 28 | 0xad8c657U)

3009 
UINTMAX_MAX
 / 3583)

3010 
P
 (10, 66,

3011 (((((
uštmax_t
) 0x48beU << 28 | 0xf2f618aU)

3015 
UINTMAX_MAX
 / 3593)

3016 
P
 (14, 64,

3017 (((((
uštmax_t
) 0x5c8cU << 28 | 0x86d951dU)

3021 
UINTMAX_MAX
 / 3607)

3022 
P
 (6, 60,

3023 (((((
uštmax_t
) 0x3e35U << 28 | 0xfddfd4eU)

3027 
UINTMAX_MAX
 / 3613)

3028 
P
 (4, 60,

3029 (((((
uštmax_t
) 0x3f46U << 28 | 0x480d05dU)

3033 
UINTMAX_MAX
 / 3617)

3034 
P
 (6, 68,

3035 (((((
uštmax_t
) 0xa7f5U << 28 | 0x427da20U)

3039 
UINTMAX_MAX
 / 3623)

3040 
P
 (8, 66,

3041 (((((
uštmax_t
) 0x1756U << 28 | 0x39f44bdU)

3045 
UINTMAX_MAX
 / 3631)

3046 
P
 (6, 64,

3047 (((((
uštmax_t
) 0xf7b1U << 28 | 0xba9905dU)

3051 
UINTMAX_MAX
 / 3637)

3052 
P
 (6, 66,

3053 (((((
uštmax_t
) 0x0ec1U << 28 | 0xcf3b3d3U)

3057 
UINTMAX_MAX
 / 3643)

3058 
P
 (16, 60,

3059 (((((
uštmax_t
) 0x694bU << 28 | 0xe954ddeU)

3063 
UINTMAX_MAX
 / 3659)

3064 
P
 (12, 56,

3065 (((((
uštmax_t
) 0xd628U << 28 | 0x9612455U)

3069 
UINTMAX_MAX
 / 3671)

3070 
P
 (2, 60,

3071 (((((
uštmax_t
) 0x63bcU << 28 | 0xcfb30dbU)

3075 
UINTMAX_MAX
 / 3673)

3076 
P
 (4, 62,

3077 (((((
uštmax_t
) 0x7cf8U << 28 | 0xb08fb32U)

3081 
UINTMAX_MAX
 / 3677)

3082 
P
 (14, 70,

3083 (((((
uštmax_t
) 0x99e7U << 28 | 0xb98849cU)

3087 
UINTMAX_MAX
 / 3691)

3088 
P
 (6, 70,

3089 (((((
uštmax_t
) 0x1767U << 28 | 0xa90721dU)

3093 
UINTMAX_MAX
 / 3697)

3094 
P
 (4, 68,

3095 (((((
uštmax_t
) 0x817cU << 28 | 0xb6e3047U)

3099 
UINTMAX_MAX
 / 3701)

3100 
P
 (8, 70,

3101 (((((
uštmax_t
) 0x916dU << 28 | 0x896be15U)

3105 
UINTMAX_MAX
 / 3709)

3106 
P
 (10, 74,

3107 (((((
uštmax_t
) 0x50e1U << 28 | 0xc7f7bd5U)

3111 
UINTMAX_MAX
 / 3719)

3112 
P
 (8, 70,

3113 (((((
uštmax_t
) 0xc1e7U << 28 | 0xf58f36eU)

3117 
UINTMAX_MAX
 / 3727)

3118 
P
 (6, 70,

3119 (((((
uštmax_t
) 0xe72cU << 28 | 0xc7f8de3U)

3123 
UINTMAX_MAX
 / 3733)

3124 
P
 (6, 82,

3125 (((((
uštmax_t
) 0x81e2U << 28 | 0x02e029aU)

3129 
UINTMAX_MAX
 / 3739)

3130 
P
 (22, 62,

3131 (((((
uštmax_t
) 0x66a5U << 28 | 0x216bc00U)

3135 
UINTMAX_MAX
 / 3761)

3136 
P
 (6, 66,

3137 (((((
uštmax_t
) 0x3442U << 28 | 0x9973536U)

3141 
UINTMAX_MAX
 / 3767)

3142 
P
 (2, 78,

3143 (((((
uštmax_t
) 0xc952U << 28 | 0x869f58aU)

3147 
UINTMAX_MAX
 / 3769)

3148 
P
 (10, 72,

3149 (((((
uštmax_t
) 0xc462U << 28 | 0xe78b7b7U)

3153 
UINTMAX_MAX
 / 3779)

3154 
P
 (14, 60,

3155 (((((
uštmax_t
) 0xa7b8U << 28 | 0x300e09dU)

3159 
UINTMAX_MAX
 / 3793)

3160 
P
 (4, 66,

3161 (((((
uštmax_t
) 0x678fU << 28 | 0x45607afU)

3165 
UINTMAX_MAX
 / 3797)

3166 
P
 (6, 74,

3167 (((((
uštmax_t
) 0x3066U << 28 | 0x51b882dU)

3171 
UINTMAX_MAX
 / 3803)

3172 
P
 (18, 60,

3173 (((((
uštmax_t
) 0x03f3U << 28 | 0xf0b9737U)

3177 
UINTMAX_MAX
 / 3821)

3178 
P
 (2, 66,

3179 (((((
uštmax_t
) 0x824fU << 28 | 0x6b12f35U)

3183 
UINTMAX_MAX
 / 3823)

3184 
P
 (10, 74,

3185 (((((
uštmax_t
) 0xba8aU << 28 | 0x4084821U)

3189 
UINTMAX_MAX
 / 3833)

3190 
P
 (14, 64,

3191 (((((
uštmax_t
) 0x1f9bU << 28 | 0xea70762U)

3195 
UINTMAX_MAX
 / 3847)

3196 
P
 (4, 66,

3197 (((((
uštmax_t
) 0xb7acU << 28 | 0x817ee73U)

3201 
UINTMAX_MAX
 / 3851)

3202 
P
 (2, 66,

3203 (((((
uštmax_t
) 0xf8c2U << 28 | 0x0286585U)

3207 
UINTMAX_MAX
 / 3853)

3208 
P
 (10, 60,

3209 (((((
uštmax_t
) 0x7727U << 28 | 0x2a58ab3U)

3213 
UINTMAX_MAX
 / 3863)

3214 
P
 (14, 52,

3215 (((((
uštmax_t
) 0x61caU << 28 | 0x83edc68U)

3219 
UINTMAX_MAX
 / 3877)

3220 
P
 (4, 50,

3221 (((((
uštmax_t
) 0x74f3U << 28 | 0x8879e60U)

3225 
UINTMAX_MAX
 / 3881)

3226 
P
 (8, 54,

3227 (((((
uštmax_t
) 0x1c6fU << 28 | 0xe7c6996U)

3231 
UINTMAX_MAX
 / 3889)

3232 
P
 (18, 40,

3233 (((((
uštmax_t
) 0x374dU << 28 | 0x408a62aU)

3237 
UINTMAX_MAX
 / 3907)

3238 
P
 (4, 56,

3239 (((((
uštmax_t
) 0xc8e2U << 28 | 0xbdb1524U)

3243 
UINTMAX_MAX
 / 3911)

3244 
P
 (6, 72,

3245 (((((
uštmax_t
) 0xbfc1U << 28 | 0x421336fU)

3249 
UINTMAX_MAX
 / 3917)

3250 
P
 (2, 82,

3251 (((((
uštmax_t
) 0x7daeU << 28 | 0x58b5560U)

3255 
UINTMAX_MAX
 / 3919)

3256 
P
 (4, 80,

3257 (((((
uštmax_t
) 0xf1f8U << 28 | 0x4cbdc3dU)

3261 
UINTMAX_MAX
 / 3923)

3262 
P
 (6, 78,

3263 (((((
uštmax_t
) 0xa6abU << 28 | 0x9f4ec63U)

3267 
UINTMAX_MAX
 / 3929)

3268 
P
 (2, 82,

3269 (((((
uštmax_t
) 0x8198U << 28 | 0x742e1b7U)

3273 
UINTMAX_MAX
 / 3931)

3274 
P
 (12, 76,

3275 (((((
uštmax_t
) 0x5ab3U << 28 | 0x52c7947U)

3279 
UINTMAX_MAX
 / 3943)

3280 
P
 (4, 74,

3281 (((((
uštmax_t
) 0xec69U << 28 | 0x9751239U)

3285 
UINTMAX_MAX
 / 3947)

3286 
P
 (20, 60,

3287 (((((
uštmax_t
) 0xa4e1U << 28 | 0x58dc715U)

3291 
UINTMAX_MAX
 / 3967)

3292 
P
 (22, 60,

3293 (((((
uštmax_t
) 0x4cd1U << 28 | 0xba8fa08U)

3297 
UINTMAX_MAX
 / 3989)

3298 
P
 (12, 50,

3299 (((((
uštmax_t
) 0x48afU << 28 | 0x92759a4U)

3303 
UINTMAX_MAX
 / 4001)

3304 
P
 (2, 54,

3305 (((((
uštmax_t
) 0x9293U << 28 | 0xfc29b25U)

3309 
UINTMAX_MAX
 / 4003)

3310 
P
 (4, 66,

3311 (((((
uštmax_t
) 0xc02cU << 28 | 0xfa2fa91U)

3315 
UINTMAX_MAX
 / 4007)

3316 
P
 (6, 66,

3317 (((((
uštmax_t
) 0x15c0U << 28 | 0xd8627efU)

3321 
UINTMAX_MAX
 / 4013)

3322 
P
 (6, 72,

3323 (((((
uštmax_t
) 0x1143U << 28 | 0x12ca6e3U)

3327 
UINTMAX_MAX
 / 4019)

3328 
P
 (2, 72,

3329 (((((
uštmax_t
) 0xcfadU << 28 | 0x7d3b04aU)

3333 
UINTMAX_MAX
 / 4021)

3334 
P
 (6, 72,

3335 (((((
uštmax_t
) 0x9d46U << 28 | 0x3eef687U)

3339 
UINTMAX_MAX
 / 4027)

3340 
P
 (22, 62,

3341 (((((
uštmax_t
) 0xe98eU << 28 | 0x1152e37U)

3345 
UINTMAX_MAX
 / 4049)

3346 
P
 (2, 76,

3347 (((((
uštmax_t
) 0xa002U << 28 | 0x05affefU)

3351 
UINTMAX_MAX
 / 4051)

3352 
P
 (6, 72,

3353 (((((
uštmax_t
) 0x1d87U << 28 | 0xfb74ed0U)

3357 
UINTMAX_MAX
 / 4057)

3358 
P
 (16, 60,

3359 (((((
uštmax_t
) 0x7051U << 28 | 0x751852fU)

3363 
UINTMAX_MAX
 / 4073)

3364 
P
 (6, 60,

3365 (((((
uštmax_t
) 0x88e1U << 28 | 0x6f867eeU)

3369 
UINTMAX_MAX
 / 4079)

3370 
P
 (12, 62,

3371 (((((
uštmax_t
) 0xe8e8U << 28 | 0xc8bebb9U)

3375 
UINTMAX_MAX
 / 4091)

3376 
P
 (2, 64,

3377 (((((
uštmax_t
) 0xc605U << 28 | 0x20f62e2U)

3381 
UINTMAX_MAX
 / 4093)

3382 
P
 (6, 60,

3383 (((((
uštmax_t
) 0x46c2U << 28 | 0xbb7cd89U)

3387 
UINTMAX_MAX
 / 4099)

3388 
P
 (12, 66,

3389 (((((
uštmax_t
) 0xfc73U << 28 | 0x53e15cbU)

3393 
UINTMAX_MAX
 / 4111)

3394 
P
 (16, 74,

3395 (((((
uštmax_t
) 0x3d78U << 28 | 0xe5c2d68U)

3399 
UINTMAX_MAX
 / 4127)

3400 
P
 (2, 82,

3401 (((((
uštmax_t
) 0x4a66U << 28 | 0x8c7e3baU)

3405 
UINTMAX_MAX
 / 4129)

3406 
P
 (4, 84,

3407 (((((
uštmax_t
) 0x616eU << 28 | 0xb008eb5U)

3411 
UINTMAX_MAX
 / 4133)

3412 
P
 (6, 80,

3413 (((((
uštmax_t
) 0x12bdU << 28 | 0xa25ba9aU)

3417 
UINTMAX_MAX
 / 4139)

3418 
P
 (14, 76,

3419 (((((
uštmax_t
) 0x98dfU << 28 | 0x642b264U)

3423 
UINTMAX_MAX
 / 4153)

3424 
P
 (4, 74,

3425 (((((
uštmax_t
) 0xcc45U << 28 | 0x381a1c7U)

3429 
UINTMAX_MAX
 / 4157)

3430 
P
 (2, 82,

3431 (((((
uštmax_t
) 0x1344U << 28 | 0x23b36d8U)

3435 
UINTMAX_MAX
 / 4159)

3436 
P
 (18, 66,

3437 (((((
uštmax_t
) 0xd614U << 28 | 0x399c587U)

3441 
UINTMAX_MAX
 / 4177)

3442 
P
 (24, 52,

3443 (((((
uštmax_t
) 0x5c04U << 28 | 0x24ce751U)

3447 
UINTMAX_MAX
 / 4201)

3448 
P
 (10, 48,

3449 (((((
uštmax_t
) 0xa4cfU << 28 | 0x6d1fac5U)

3453 
UINTMAX_MAX
 / 4211)

3454 
P
 (6, 44,

3455 (((((
uštmax_t
) 0x16b4U << 28 | 0x4c7d8a9U)

3459 
UINTMAX_MAX
 / 4217)

3460 
P
 (2, 52,

3461 (((((
uštmax_t
) 0x7d2dU << 28 | 0xb0c132cU)

3465 
UINTMAX_MAX
 / 4219)

3466 
P
 (10, 44,

3467 (((((
uštmax_t
) 0xc12aU << 28 | 0x5044c45U)

3471 
UINTMAX_MAX
 / 4229)

3472 
P
 (2, 52,

3473 (((((
uštmax_t
) 0x3b6aU << 28 | 0xabf51beU)

3477 
UINTMAX_MAX
 / 4231)

3478 
P
 (10, 48,

3479 (((((
uštmax_t
) 0x0b0bU << 28 | 0xe43ba38U)

3483 
UINTMAX_MAX
 / 4241)

3484 
P
 (2, 54,

3485 (((((
uštmax_t
) 0x1841U << 28 | 0x2954499U)

3489 
UINTMAX_MAX
 / 4243)

3490 
P
 (10, 74,

3491 (((((
uštmax_t
) 0x67e4U << 28 | 0x8d552c3U)

3495 
UINTMAX_MAX
 / 4253)

3496 
P
 (6, 78,

3497 (((((
uštmax_t
) 0xa030U << 28 | 0x161ea7bU)

3501 
UINTMAX_MAX
 / 4259)

3502 
P
 (2, 78,

3503 (((((
uštmax_t
) 0xf2a9U << 28 | 0x8b90bb7U)

3507 
UINTMAX_MAX
 / 4261)

3508 
P
 (10, 78,

3509 (((((
uštmax_t
) 0xa0c1U << 28 | 0xb926e68U)

3513 
UINTMAX_MAX
 / 4271)

3514 
P
 (2, 84,

3515 (((((
uštmax_t
) 0xc4edU << 28 | 0x7ccb753U)

3519 
UINTMAX_MAX
 / 4273)

3520 
P
 (10, 80,

3521 (((((
uštmax_t
) 0x5305U << 28 | 0xada2a32U)

3525 
UINTMAX_MAX
 / 4283)

3526 
P
 (6, 84,

3527 (((((
uštmax_t
) 0x0b38U << 28 | 0xa4bcd9fU)

3531 
UINTMAX_MAX
 / 4289)

3532 
P
 (8, 94,

3533 (((((
uštmax_t
) 0xc8f3U << 28 | 0x8c6bf3dU)

3537 
UINTMAX_MAX
 / 4297)

3538 
P
 (30, 70,

3539 (((((
uštmax_t
) 0x3ed4U << 28 | 0xdeb0e60U)

3543 
UINTMAX_MAX
 / 4327)

3544 
P
 (10, 72,

3545 (((((
uštmax_t
) 0xe304U << 28 | 0x8b8a2eaU)

3549 
UINTMAX_MAX
 / 4337)

3550 
P
 (2, 82,

3551 (((((
uštmax_t
) 0x63b5U << 28 | 0xa908ca7U)

3555 
UINTMAX_MAX
 / 4339)

3556 
P
 (10, 74,

3557 (((((
uštmax_t
) 0xd58fU << 28 | 0x1940b11U)

3561 
UINTMAX_MAX
 / 4349)

3562 
P
 (8, 84,

3563 (((((
uštmax_t
) 0xa973U << 28 | 0xcee1454U)

3567 
UINTMAX_MAX
 / 4357)

3568 
P
 (6, 84,

3569 (((((
uštmax_t
) 0xc544U << 28 | 0x1f37189U)

3573 
UINTMAX_MAX
 / 4363)

3574 
P
 (10, 78,

3575 (((((
uštmax_t
) 0xc201U << 28 | 0x49b4038U)

3579 
UINTMAX_MAX
 / 4373)

3580 
P
 (18, 66,

3581 (((((
uštmax_t
) 0xfcf7U << 28 | 0xe56a2a8U)

3585 
UINTMAX_MAX
 / 4391)

3586 
P
 (6, 66,

3587 (((((
uštmax_t
) 0xc364U << 28 | 0x3300862U)

3591 
UINTMAX_MAX
 / 4397)

3592 
P
 (12, 72,

3593 (((((
uštmax_t
) 0xa5f1U << 28 | 0xb76bd2bU)

3597 
UINTMAX_MAX
 / 4409)

3598 
P
 (12, 62,

3599 (((((
uštmax_t
) 0x9b97U << 28 | 0x89df750U)

3603 
UINTMAX_MAX
 / 4421)

3604 
P
 (2, 70,

3605 (((((
uštmax_t
) 0x612dU << 28 | 0xe5f44efU)

3609 
UINTMAX_MAX
 / 4423)

3610 
P
 (18, 66,

3611 (((((
uštmax_t
) 0x9811U << 28 | 0x1015369U)

3615 
UINTMAX_MAX
 / 4441)

3616 
P
 (6, 66,

3617 (((((
uštmax_t
) 0xa197U << 28 | 0x1cf4c64U)

3621 
UINTMAX_MAX
 / 4447)

3622 
P
 (4, 66,

3623 (((((
uštmax_t
) 0x0f02U << 28 | 0xeeeb01cU)

3627 
UINTMAX_MAX
 / 4451)

3628 
P
 (6, 62,

3629 (((((
uštmax_t
) 0x8d2eU << 28 | 0x94fe559U)

3633 
UINTMAX_MAX
 / 4457)

3634 
P
 (6, 60,

3635 (((((
uštmax_t
) 0xa84bU << 28 | 0xb74450fU)

3639 
UINTMAX_MAX
 / 4463)

3640 
P
 (18, 66,

3641 (((((
uštmax_t
) 0x495aU << 28 | 0xe4dcfaaU)

3645 
UINTMAX_MAX
 / 4481)

3646 
P
 (2, 66,

3647 (((((
uštmax_t
) 0x6837U << 28 | 0x46fb256U)

3651 
UINTMAX_MAX
 / 4483)

3652 
P
 (10, 68,

3653 (((((
uštmax_t
) 0xf6ffU << 28 | 0x5f8d222U)

3657 
UINTMAX_MAX
 / 4493)

3658 
P
 (14, 60,

3659 (((((
uštmax_t
) 0xd49aU << 28 | 0xb982b2bU)

3663 
UINTMAX_MAX
 / 4507)

3664 
P
 (6, 70,

3665 (((((
uštmax_t
) 0x2f4fU << 28 | 0x04983ffU)

3669 
UINTMAX_MAX
 / 4513)

3670 
P
 (4, 74,

3671 (((((
uštmax_t
) 0xadefU << 28 | 0x566dd5fU)

3675 
UINTMAX_MAX
 / 4517)

3676 
P
 (2, 78,

3677 (((((
uštmax_t
) 0xd118U << 28 | 0x137ccc9U)

3681 
UINTMAX_MAX
 / 4519)

3682 
P
 (4, 80,

3683 (((((
uštmax_t
) 0x01cfU << 28 | 0xa9f7f67U)

3687 
UINTMAX_MAX
 / 4523)

3688 
P
 (24, 74,

3689 (((((
uštmax_t
) 0x9c1fU << 28 | 0x4da38ddU)

3693 
UINTMAX_MAX
 / 4547)

3694 
P
 (2, 88,

3695 (((((
uštmax_t
) 0x41acU << 28 | 0x994bcdcU)

3699 
UINTMAX_MAX
 / 4549)

3700 
P
 (12, 78,

3701 (((((
uštmax_t
) 0x556dU << 28 | 0x480324aU)

3705 
UINTMAX_MAX
 / 4561)

3706 
P
 (6, 76,

3707 (((((
uštmax_t
) 0x9c39U << 28 | 0x2ce6456U)

3711 
UINTMAX_MAX
 / 4567)

3712 
P
 (16, 66,

3713 (((((
uštmax_t
) 0xcdc8U << 28 | 0x79fec56U)

3717 
UINTMAX_MAX
 / 4583)

3718 
P
 (8, 60,

3719 (((((
uštmax_t
) 0x375eU << 28 | 0xf621586U)

3723 
UINTMAX_MAX
 / 4591)

3724 
P
 (6, 60,

3725 (((((
uštmax_t
) 0x75c7U << 28 | 0xfa35597U)

3729 
UINTMAX_MAX
 / 4597)

3730 
P
 (6, 60,

3731 (((((
uštmax_t
) 0x4083U << 28 | 0xb2ce1ccU)

3735 
UINTMAX_MAX
 / 4603)

3736 
P
 (18, 52,

3737 (((((
uštmax_t
) 0x9d9cU << 28 | 0x64622aeU)

3741 
UINTMAX_MAX
 / 4621)

3742 
P
 (16, 42,

3743 (((((
uštmax_t
) 0x02b4U << 28 | 0x87cfdbcU)

3747 
UINTMAX_MAX
 / 4637)

3748 
P
 (2, 52,

3749 (((((
uštmax_t
) 0x32e1U << 28 | 0x4328c7fU)

3753 
UINTMAX_MAX
 / 4639)

3754 
P
 (4, 60,

3755 (((((
uštmax_t
) 0xf929U << 28 | 0xbd10602U)

3759 
UINTMAX_MAX
 / 4643)

3760 
P
 (6, 72,

3761 (((((
uštmax_t
) 0xa0bcU << 28 | 0x8b6d15cU)

3765 
UINTMAX_MAX
 / 4649)

3766 
P
 (2, 72,

3767 (((((
uštmax_t
) 0xf169U << 28 | 0xf4a94f1U)

3771 
UINTMAX_MAX
 / 4651)

3772 
P
 (6, 72,

3773 (((((
uštmax_t
) 0xafdaU << 28 | 0x2e10d23U)

3777 
UINTMAX_MAX
 / 4657)

3778 
P
 (6, 70,

3779 (((((
uštmax_t
) 0x70eeU << 28 | 0x0c3017bU)

3783 
UINTMAX_MAX
 / 4663)

3784 
P
 (10, 78,

3785 (((((
uštmax_t
) 0x2b47U << 28 | 0x45bd0e3U)

3789 
UINTMAX_MAX
 / 4673)

3790 
P
 (6, 80,

3791 (((((
uštmax_t
) 0x5aa8U << 28 | 0x9fc2b8dU)

3795 
UINTMAX_MAX
 / 4679)

3796 
P
 (12, 92,

3797 (((((
uštmax_t
) 0x834dU << 28 | 0x385f9c7U)

3801 
UINTMAX_MAX
 / 4691)

3802 
P
 (12, 84,

3803 (((((
uštmax_t
) 0xcbb0U << 28 | 0x86fea3aU)

3807 
UINTMAX_MAX
 / 4703)

3808 
P
 (18, 68,

3809 (((((
uštmax_t
) 0x4bceU << 28 | 0xc35242bU)

3813 
UINTMAX_MAX
 / 4721)

3814 
P
 (2, 70,

3815 (((((
uštmax_t
) 0x1cf1U << 28 | 0xbea1a20U)

3819 
UINTMAX_MAX
 / 4723)

3820 
P
 (6, 70,

3821 (((((
uštmax_t
) 0x530aU << 28 | 0xaa16d83U)

3825 
UINTMAX_MAX
 / 4729)

3826 
P
 (4, 68,

3827 (((((
uštmax_t
) 0x6dbeU << 28 | 0xc4fd598U)

3831 
UINTMAX_MAX
 / 4733)

3832 
P
 (18, 62,

3833 (((((
uštmax_t
) 0x9327U << 28 | 0xd1e0357U)

3837 
UINTMAX_MAX
 / 4751)

3838 
P
 (8, 58,

3839 (((((
uštmax_t
) 0xfe7eU << 28 | 0x69c1b53U)

3843 
UINTMAX_MAX
 / 4759)

3844 
P
 (24, 48,

3845 (((((
uštmax_t
) 0xdba8U << 28 | 0x6fc17c3U)

3849 
UINTMAX_MAX
 / 4783)

3850 
P
 (4, 74,

3851 (((((
uštmax_t
) 0x4928U << 28 | 0x7ba43b4U)

3855 
UINTMAX_MAX
 / 4787)

3856 
P
 (2, 82,

3857 (((((
uštmax_t
) 0xfd7cU << 28 | 0xd1c2bd5U)

3861 
UINTMAX_MAX
 / 4789)

3862 
P
 (4, 84,

3863 (((((
uštmax_t
) 0x1951U << 28 | 0x21b3d5eU)

3867 
UINTMAX_MAX
 / 4793)

3868 
P
 (6, 90,

3869 (((((
uštmax_t
) 0xced1U << 28 | 0x00e827bU)

3873 
UINTMAX_MAX
 / 4799)

3874 
P
 (2, 102,

3875 (((((
uštmax_t
) 0xe394U << 28 | 0x4a02e12U)

3879 
UINTMAX_MAX
 / 4801)

3880 
P
 (12, 96,

3881 (((((
uštmax_t
) 0x3e2dU << 28 | 0xa2eb33fU)

3885 
UINTMAX_MAX
 / 4813)

3886 
P
 (4, 102,

3887 (((((
uštmax_t
) 0xf205U << 28 | 0xd890fadU)

3891 
UINTMAX_MAX
 / 4817)

3892 
P
 (14, 100,

3893 (((((
uštmax_t
) 0x7974U << 28 | 0xa2271b8U)

3897 
UINTMAX_MAX
 / 4831)

3898 
P
 (30, 72,

3899 (((((
uštmax_t
) 0xf434U << 28 | 0x0837312U)

3903 
UINTMAX_MAX
 / 4861)

3904 
P
 (10, 66,

3905 (((((
uštmax_t
) 0x4c78U << 28 | 0x09ab985U)

3909 
UINTMAX_MAX
 / 4871)

3910 
P
 (6, 66,

3911 (((((
uštmax_t
) 0x9273U << 28 | 0x60376e4U)

3915 
UINTMAX_MAX
 / 4877)

3916 
P
 (12, 62,

3917 (((((
uštmax_t
) 0x47a1U << 28 | 0xbf627e6U)

3921 
UINTMAX_MAX
 / 4889)

3922 
P
 (14, 54,

3923 (((((
uštmax_t
) 0x3f55U << 28 | 0x93b5db8U)

3927 
UINTMAX_MAX
 / 4903)

3928 
P
 (6, 58,

3929 (((((
uštmax_t
) 0x29aaU << 28 | 0xc9d12b8U)

3933 
UINTMAX_MAX
 / 4909)

3934 
P
 (10, 50,

3935 (((((
uštmax_t
) 0x3c51U << 28 | 0x65394caU)

3939 
UINTMAX_MAX
 / 4919)

3940 
P
 (12, 42,

3941 (((((
uštmax_t
) 0xf258U << 28 | 0x91c808bU)

3945 
UINTMAX_MAX
 / 4931)

3946 
P
 (2, 54,

3947 (((((
uštmax_t
) 0x708fU << 28 | 0xa57e92aU)

3951 
UINTMAX_MAX
 / 4933)

3952 
P
 (4, 56,

3953 (((((
uštmax_t
) 0x983dU << 28 | 0xcf2775dU)

3957 
UINTMAX_MAX
 / 4937)

3958 
P
 (6, 56,

3959 (((((
uštmax_t
) 0x729cU << 28 | 0xb7c09bcU)

3963 
UINTMAX_MAX
 / 4943)

3964 
P
 (8, 255,

3965 (((((
uštmax_t
) 0xe8f0U << 28 | 0x5536727U)

3969 
UINTMAX_MAX
 / 4951)

3970 
P
 (6, 255,

3971 (((((
uštmax_t
) 0xbdf2U << 28 | 0x781fd01U)

3975 
UINTMAX_MAX
 / 4957)

3976 
P
 (10, 255,

3977 (((((
uštmax_t
) 0x0439U << 28 | 0xee5f8e3U)

3981 
UINTMAX_MAX
 / 4967)

3982 
P
 (2, 255,

3983 (((((
uštmax_t
) 0x77adU << 28 | 0xfb283c9U)

3987 
UINTMAX_MAX
 / 4969)

3988 
P
 (4, 255,

3989 (((((
uštmax_t
) 0x5d7bU << 28 | 0xe851f3fU)

3993 
UINTMAX_MAX
 / 4973)

3994 
P
 (14, 255,

3995 (((((
uštmax_t
) 0x373cU << 28 | 0x1c8a99bU)

3999 
UINTMAX_MAX
 / 4987)

4000 
P
 (6, 255,

4001 (((((
uštmax_t
) 0x5b50U << 28 | 0xa687decU)

4005 
UINTMAX_MAX
 / 4993)

4006 
P
 (6, 255,

4007 (((((
uštmax_t
) 0x0b44U << 28 | 0x292c4bfU)

4011 
UINTMAX_MAX
 / 4999)

4013 #undeà
FIRST_OMITTED_PRIME


4014 
	#FIRST_OMITTED_PRIME
 5003

	)

	@printenv.c

30 
	~<cÚfig.h
>

31 
	~<¡dio.h
>

32 
	~<sys/ty³s.h
>

33 
	~<g‘İt.h
>

35 
	~"sy¡em.h
"

38 ’um { 
	mPRINTENV_FAILURE
 = 2 };

41 
	#PROGRAM_NAME
 "´š‹nv"

	)

43 
	#AUTHORS
 \

44 
	`´İ”_Çme
 ("David MacKenzie"), \

45 
	`´İ”_Çme
 ("Rich¬d MlyÇrik")

	)

47 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

49 {"nuÎ", 
no_¬gum’t
, 
NULL
, '0'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$u§ge
 (
¡©us
)

58 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

59 
	`em™_Œy_h–p
 ();

62 
	`´štf
 (
	`_
("\
: %s [OPTION]... [VARIABLE]...\n\
he values ofhe specifiedƒnvironment VARIABLE(s).\n\
‚o VARIABLE is specified,…rint‚ame‡nd value…airs forhem‡ll.\n\
\n\
"),

68 
´og¿m_Çme
);

69 
	`åuts
 (
	`_
("\
-0, --nuÎƒndƒach ouuˆlšw™h 0 by‹„©h”hª‚ewlše\n\
"), 
¡dout
);

72 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

73 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

74 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

75 
	`em™_ªcÏry_šfo
 ();

77 
	`ex™
 (
¡©us
);

78 
	}
}

81 
	$maš
 (
¬gc
, **
¬gv
)

83 **
’v
;

84 *
•
, *
­
;

85 
i
;

86 
boŞ
 
ok
;

87 
İtc
;

88 
boŞ
 
İt_nul_‹rmš©e_ouut
 = 
çl£
;

90 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

91 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

92 
	`£oÿË
 (
LC_ALL
, "");

93 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

94 
	`‹xtdomaš
 (
PACKAGE
);

96 
	`š™Ÿlize_ex™_çu»
 (
PRINTENV_FAILURE
);

97 
	`©ex™
 (
şo£_¡dout
);

99 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+iu:0", 
lÚgİts
, 
NULL
)) != -1)

101 
İtc
)

104 
İt_nul_‹rmš©e_ouut
 = 
Œue
;

106 
ÿ£_GETOPT_HELP_CHAR
;

107 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

109 
	`u§ge
 (
PRINTENV_FAILURE
);

113 ià(
İtšd
 >ğ
¬gc
)

115 
’v
 = 
’vœÚ
; *’v !ğ
NULL
; ++env)

116 
	`´štf
 ("%s%c", *
’v
, 
İt_nul_‹rmš©e_ouut
 ? '\0' : '\n');

117 
ok
 = 
Œue
;

121 
m©ches
 = 0;

123 
i
 = 
İtšd
; i < 
¬gc
; ++i)

125 
boŞ
 
m©ched
 = 
çl£
;

128 ià(
	`¡rchr
 (
¬gv
[
i
], '='))

131 
’v
 = 
’vœÚ
; *env; ++env)

133 
•
 = *
’v
;

134 
­
 = 
¬gv
[
i
];

135 *
•
 !ğ'\0' && *
­
 != '\0' && *ep++ == *ap++)

137 ià(*
•
 =ğ'=' && *
­
 == '\0')

139 
	`´štf
 ("%s%c", 
•
 + 1,

140 
İt_nul_‹rmš©e_ouut
 ? '\0' : '\n');

141 
m©ched
 = 
Œue
;

147 
m©ches
 +ğ
m©ched
;

150 
ok
 = (
m©ches
 =ğ
¬gc
 - 
İtšd
);

153 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

154 
	}
}

	@printf.c

49 
	~<cÚfig.h
>

50 
	~<¡dio.h
>

51 
	~<sys/ty³s.h
>

53 
	~"sy¡em.h
"

54 
	~"c-¡¹od.h
"

55 
	~"”rÜ.h
"

56 
	~"quÙe.h
"

57 
	~"unicodeio.h
"

58 
	~"x´štf.h
"

61 
	#PROGRAM_NAME
 "´štf"

	)

63 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

65 
	#isodig™
(
c
è((cè>ğ'0' && (cè<ğ'7')

	)

66 
	#hextobš
(
c
) ((c) >= 'a' && (c) <= 'f' ? (c) - 'a' + 10 : \

67 (
c
è>ğ'A' && (cè<ğ'F' ? (cè- 'A' + 10 : (cè- '0')

	)

68 
	#oùtobš
(
c
è((cè- '0')

	)

71 
	gex™_¡©us
;

74 
boŞ
 
	gposixly_cÜ»ù
;

78 cÚ¡ *cÚ¡ 
	gcfcc_msg
 =

79 
N_
("warning: %s: character(s) following character constant have been ignored");

82 
	$u§ge
 (
¡©us
)

84 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

85 
	`em™_Œy_h–p
 ();

88 
	`´štf
 (
	`_
("\
: %s FORMAT [ARGUMENT]...\n\
: %s OPTION\n\
"),

92 
´og¿m_Çme
,…rogram_name);

93 
	`åuts
 (
	`_
("\
 ARGUMENT(sèaccÜdšgØFORMAT, o¸execu‹‡ccÜdšgØOPTION:\n\
\n\
"), 
¡dout
);

97 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

98 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

99 
	`åuts
 (
	`_
("\
\n\
 cÚŒŞ thouuˆa š C…rštf. IÁ”´‘ed sequ’û ¬e:\n\
\n\
\\\" doubË quÙe\n\
"), 
¡dout
);

105 
	`åuts
 (
	`_
("\
\\\\ back¦ash\n\
\\¨‡Ë¹ (BEL)\n\
\\b back¥aû\n\
\\ø…roduû‚Øfu¹h” ouut\n\
\\ƒsÿ³\n\
\\à fÜm f“d\n\
\\À‚ew†še\n\
\\¸ c¬rŸg»tuº\n\
\\ˆ hÜizÚÈb\n\
\\v v”tiÿÈb\n\
"), 
¡dout
);

117 
	`åuts
 (
	`_
("\
\\NNN by‹ w™h où® v®uNNN (1Ø3 dig™s)\n\
\\xHH by‹ w™h hexadecim® v®uHH (1Ø2 dig™s)\n\
\\uHHHH Unicod(ISO/IEC 10646èch¬aù” w™h hex v®uHHHH (4 dig™s)\n\
\\UHHHHHHHH Unicodch¬aù” w™h hex v®uHHHHHHHH (8 dig™s)\n\
"), 
¡dout
);

123 
	`åuts
 (
	`_
("\
%%‡ sšgË %\n\
%b ARGUMENT‡ ¨¡ršg w™h '\\'ƒsÿ³ š‹½»‹d,\n\
h© où®ƒsÿ³ ¬oàthfÜm \\0 o¸\\0NNN\n\
\n\
‡Î C fÜm© s³cifiÿtiÚ ’dšg w™h oÃ oàdiouxXãEgGcs, w™h\n\
 cÚv”‹dØ´İ”y³ fœ¡. V¬ŸbË width ¬hªdËd.\n\
"), 
¡dout
);

131 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

132 
	`em™_ªcÏry_šfo
 ();

134 
	`ex™
 (
¡©us
);

135 
	}
}

138 
	$v”ify_num”ic
 (cÚ¡ *
s
, cÚ¡ *
’d
)

140 ià(
”ºo
)

142 
	`”rÜ
 (0, 
”ºo
, "%s", 
s
);

143 
ex™_¡©us
 = 
EXIT_FAILURE
;

145 ià(*
’d
)

147 ià(
s
 =ğ
’d
)

148 
	`”rÜ
 (0, 0, 
	`_
("%s:ƒx³ùed‡‚um”iøv®ue"), 
s
);

150 
	`”rÜ
 (0, 0, 
	`_
("%s: v®unÙ com¶‘–y cÚv”‹d"), 
s
);

151 
ex™_¡©us
 = 
EXIT_FAILURE
;

153 
	}
}

155 
	#STRTOX
(
TYPE
, 
FUNC_NAME
, 
LIB_FUNC_EXPR
) \

156 
TYPE
 \

157 
	`FUNC_NAME
 (cÚ¡ *
s
) \

159 *
’d
; \

160 
TYPE
 
v®
; \

162 ià((*
s
 == '\"' || *s == '\'') && *(s + 1)) \

164 
ch
 = *++
s
; \

165 
v®
 = 
ch
; \

170 ià(*++
s
 !ğ0 && !
posixly_cÜ»ù
) \

171 
	`”rÜ
 (0, 0, 
	`_
(
cfcc_msg
), 
s
); \

175 
”ºo
 = 0; \

176 
v®
 = (
LIB_FUNC_EXPR
); \

177 
	`v”ify_num”ic
 (
s
, 
’d
); \

179  
v®
; \

181 

	)

182 
STRTOX
 (
štmax_t
, 
v¡¹oimax
, 
	$¡¹oimax
 (
s
, &
’d
, 0))

183 
	`STRTOX
 (
uštmax_t
, 
v¡¹oumax
, 
	$¡¹oumax
 (
s
, &
’d
, 0))

184 
	`STRTOX
 (, 
v¡¹Şd
, 
	$c_¡¹Şd
 (
s
, &
’d
))

189 
	$´št_esc_ch¬
 (
c
)

191 
c
)

194 
	`putch¬
 ('\a');

197 
	`putch¬
 ('\b');

200 
	`ex™
 (
EXIT_SUCCESS
);

203 
	`putch¬
 ('\x1B');

206 
	`putch¬
 ('\f');

209 
	`putch¬
 ('\n');

212 
	`putch¬
 ('\r');

215 
	`putch¬
 ('\t');

218 
	`putch¬
 ('\v');

221 
	`putch¬
 (
c
);

224 
	}
}

233 
	$´št_esc
 (cÚ¡ *
esc¡¬t
, 
boŞ
 
où®_0
)

235 cÚ¡ *
p
 = 
esc¡¬t
 + 1;

236 
esc_v®ue
 = 0;

237 
esc_Ëngth
;

239 ià(*
p
 == 'x')

242 
esc_Ëngth
 = 0, ++
p
;

243 
esc_Ëngth
 < 2 && 
	`isxdig™
 (
	`to_uch¬
 (*
p
));

244 ++
esc_Ëngth
, ++
p
)

245 
esc_v®ue
 =ƒsc_v®u* 16 + 
	`hextobš
 (*
p
);

246 ià(
esc_Ëngth
 == 0)

247 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("missing hexadecimal‚umber inƒscape"));

248 
	`putch¬
 (
esc_v®ue
);

250 ià(
	`isodig™
 (*
p
))

255 
esc_Ëngth
 = 0, 
p
 +ğ
où®_0
 && *p == '0';

256 
esc_Ëngth
 < 3 && 
	`isodig™
 (*
p
);

257 ++
esc_Ëngth
, ++
p
)

258 
esc_v®ue
 =ƒsc_v®u* 8 + 
	`oùtobš
 (*
p
);

259 
	`putch¬
 (
esc_v®ue
);

261 ià(*
p
 && 
	`¡rchr
 ("\"\\abcefnrtv", *p))

262 
	`´št_esc_ch¬
 (*
p
++);

263 ià(*
p
 == 'u' || *p == 'U')

265 
esc_ch¬
 = *
p
;

266 
uni_v®ue
;

268 
uni_v®ue
 = 0;

269 
esc_Ëngth
 = (
esc_ch¬
 =ğ'u' ? 4 : 8), ++
p
;

270 
esc_Ëngth
 > 0;

271 --
esc_Ëngth
, ++
p
)

273 ià(! 
	`isxdig™
 (
	`to_uch¬
 (*
p
)))

274 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("missing hexadecimal‚umber inƒscape"));

275 
uni_v®ue
 = uni_v®u* 16 + 
	`hextobš
 (*
p
);

283 ià((
uni_v®ue
 <= 0x9f

284 && 
uni_v®ue
 != 0x24 && uni_value != 0x40 && uni_value != 0x60)

285 || (
uni_v®ue
 >= 0xd800 && uni_value <= 0xdfff))

286 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid universal character‚ame \\%c%0*x"),

287 
esc_ch¬
, (esc_ch¬ =ğ'u' ? 4 : 8), 
uni_v®ue
);

289 
	`´št_unicode_ch¬
 (
¡dout
, 
uni_v®ue
, 0);

293 
	`putch¬
 ('\\');

294 ià(*
p
)

296 
	`putch¬
 (*
p
);

297 
p
++;

300  
p
 - 
esc¡¬t
 - 1;

301 
	}
}

306 
	$´št_esc_¡ršg
 (cÚ¡ *
¡r
)

308 ; *
¡r
; str++)

309 ià(*
¡r
 == '\\')

310 
¡r
 +ğ
	`´št_esc
 (¡r, 
Œue
);

312 
	`putch¬
 (*
¡r
);

313 
	}
}

324 
	$´št_dœec
 (cÚ¡ *
¡¬t
, 
size_t
 
Ëngth
, 
cÚv”siÚ
,

325 
boŞ
 
have_f›ld_width
, 
f›ld_width
,

326 
boŞ
 
have_´ecisiÚ
, 
´ecisiÚ
,

327 cÚ¡ *
¬gum’t
)

329 *
p
;

335 *
q
;

336 cÚ¡ *
Ëngth_modif›r
;

337 
size_t
 
Ëngth_modif›r_Ën
;

339 
cÚv”siÚ
)

342 
Ëngth_modif›r
 = 
PRIdMAX
;

343 
Ëngth_modif›r_Ën
 =  
PRIdMAX
 - 2;

348 
Ëngth_modif›r
 = "L";

349 
Ëngth_modif›r_Ën
 = 1;

353 
Ëngth_modif›r
 = 
¡¬t
;

354 
Ëngth_modif›r_Ën
 = 0;

358 
p
 = 
	`xm®loc
 (
Ëngth
 + 
Ëngth_modif›r_Ën
 + 2);

359 
q
 = 
	`mempıy
 (
p
, 
¡¬t
, 
Ëngth
);

360 
q
 = 
	`mempıy
 (q, 
Ëngth_modif›r
, 
Ëngth_modif›r_Ën
);

361 *
q
++ = 
cÚv”siÚ
;

362 *
q
 = '\0';

365 
cÚv”siÚ
)

370 
štmax_t
 
¬g
 = 
	`v¡¹oimax
 (
¬gum’t
);

371 ià(!
have_f›ld_width
)

373 ià(!
have_´ecisiÚ
)

374 
	`x´štf
 (
p
, 
¬g
);

376 
	`x´štf
 (
p
, 
´ecisiÚ
, 
¬g
);

380 ià(!
have_´ecisiÚ
)

381 
	`x´štf
 (
p
, 
f›ld_width
, 
¬g
);

383 
	`x´štf
 (
p
, 
f›ld_width
, 
´ecisiÚ
, 
¬g
);

393 
uštmax_t
 
¬g
 = 
	`v¡¹oumax
 (
¬gum’t
);

394 ià(!
have_f›ld_width
)

396 ià(!
have_´ecisiÚ
)

397 
	`x´štf
 (
p
, 
¬g
);

399 
	`x´štf
 (
p
, 
´ecisiÚ
, 
¬g
);

403 ià(!
have_´ecisiÚ
)

404 
	`x´štf
 (
p
, 
f›ld_width
, 
¬g
);

406 
	`x´štf
 (
p
, 
f›ld_width
, 
´ecisiÚ
, 
¬g
);

420 
¬g
 = 
	`v¡¹Şd
 (
¬gum’t
);

421 ià(!
have_f›ld_width
)

423 ià(!
have_´ecisiÚ
)

424 
	`x´štf
 (
p
, 
¬g
);

426 
	`x´štf
 (
p
, 
´ecisiÚ
, 
¬g
);

430 ià(!
have_´ecisiÚ
)

431 
	`x´štf
 (
p
, 
f›ld_width
, 
¬g
);

433 
	`x´štf
 (
p
, 
f›ld_width
, 
´ecisiÚ
, 
¬g
);

439 ià(!
have_f›ld_width
)

440 
	`x´štf
 (
p
, *
¬gum’t
);

442 
	`x´štf
 (
p
, 
f›ld_width
, *
¬gum’t
);

446 ià(!
have_f›ld_width
)

448 ià(!
have_´ecisiÚ
)

449 
	`x´štf
 (
p
, 
¬gum’t
);

451 
	`x´štf
 (
p
, 
´ecisiÚ
, 
¬gum’t
);

455 ià(!
have_´ecisiÚ
)

456 
	`x´štf
 (
p
, 
f›ld_width
, 
¬gum’t
);

458 
	`x´štf
 (
p
, 
f›ld_width
, 
´ecisiÚ
, 
¬gum’t
);

463 
	`ä“
 (
p
);

464 
	}
}

471 
	$´št_fÜm©‹d
 (cÚ¡ *
fÜm©
, 
¬gc
, **
¬gv
)

473 
§ve_¬gc
 = 
¬gc
;

474 cÚ¡ *
f
;

475 cÚ¡ *
dœec_¡¬t
;

476 
size_t
 
dœec_Ëngth
;

477 
boŞ
 
have_f›ld_width
;

478 
f›ld_width
 = 0;

479 
boŞ
 
have_´ecisiÚ
;

480 
´ecisiÚ
 = 0;

481 
ok
[
UCHAR_MAX
 + 1];

483 
f
 = 
fÜm©
; *f; ++f)

485 *
f
)

488 
dœec_¡¬t
 = 
f
++;

489 
dœec_Ëngth
 = 1;

490 
have_f›ld_width
 = 
have_´ecisiÚ
 = 
çl£
;

491 ià(*
f
 == '%')

493 
	`putch¬
 ('%');

496 ià(*
f
 == 'b')

500 ià(
¬gc
 > 0)

502 
	`´št_esc_¡ršg
 (*
¬gv
);

503 ++
¬gv
;

504 --
¬gc
;

509 
	`mem£t
 (
ok
, 0,  ok);

510 
ok
['a'] = ok['A'] = ok['c'] = ok['d'] = ok['e'] = ok['E'] =

511 
ok
['f'] = ok['F'] = ok['g'] = ok['G'] = ok['i'] = ok['o'] =

512 
ok
['s'] = ok['u'] = ok['x'] = ok['X'] = 1;

514 ;; 
f
++, 
dœec_Ëngth
++)

515 *
f
)

517 #ià(
__GLIBC__
 =ğ2 && 2 <ğ
__GLIBC_MINOR__
) || 3 <= __GLIBC__

521 
ok
['a'] = ok['A'] = ok['c'] = ok['e'] = ok['E'] =

522 
ok
['o'] = ok['s'] = ok['x'] = ok['X'] = 0;

527 
ok
['c'] = ok['d'] = ok['i'] = ok['s'] = ok['u'] = 0;

530 
ok
['c'] = ok['s'] = 0;

533 
no_mÜe_æag_ch¬aù”s
;

535 
no_mÜe_æag_ch¬aù”s
:

537 ià(*
f
 == '*')

539 ++
f
;

540 ++
dœec_Ëngth
;

541 ià(
¬gc
 > 0)

543 
štmax_t
 
width
 = 
	`v¡¹oimax
 (*
¬gv
);

544 ià(
INT_MIN
 <ğ
width
 && width <ğ
INT_MAX
)

545 
f›ld_width
 = 
width
;

547 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid field width: %s"),

548 *
¬gv
);

549 ++
¬gv
;

550 --
¬gc
;

553 
f›ld_width
 = 0;

554 
have_f›ld_width
 = 
Œue
;

557 
	`ISDIGIT
 (*
f
))

559 ++
f
;

560 ++
dœec_Ëngth
;

562 ià(*
f
 == '.')

564 ++
f
;

565 ++
dœec_Ëngth
;

566 
ok
['c'] = 0;

567 ià(*
f
 == '*')

569 ++
f
;

570 ++
dœec_Ëngth
;

571 ià(
¬gc
 > 0)

573 
štmax_t
 
´ec
 = 
	`v¡¹oimax
 (*
¬gv
);

574 ià(
´ec
 < 0)

579 
´ecisiÚ
 = -1;

581 ià(
INT_MAX
 < 
´ec
)

582 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid…recision: %s"),

583 *
¬gv
);

585 
´ecisiÚ
 = 
´ec
;

586 ++
¬gv
;

587 --
¬gc
;

590 
´ecisiÚ
 = 0;

591 
have_´ecisiÚ
 = 
Œue
;

594 
	`ISDIGIT
 (*
f
))

596 ++
f
;

597 ++
dœec_Ëngth
;

601 *
f
 == 'l' || *f == 'L' || *f == 'h'

602 || *
f
 == 'j' || *f == 't' || *f == 'z')

603 ++
f
;

606 
cÚv”siÚ
 = *
f
;

607 ià(! 
ok
[
cÚv”siÚ
])

608 
	`”rÜ
 (
EXIT_FAILURE
, 0,

609 
	`_
("%.*s: invalid conversion specification"),

610 (è(
f
 + 1 - 
dœec_¡¬t
), direc_start);

613 
	`´št_dœec
 (
dœec_¡¬t
, 
dœec_Ëngth
, *
f
,

614 
have_f›ld_width
, 
f›ld_width
,

615 
have_´ecisiÚ
, 
´ecisiÚ
,

616 (
¬gc
 <ğ0 ? "" : (¬gc--, *
¬gv
++)));

620 
f
 +ğ
	`´št_esc
 (f, 
çl£
);

624 
	`putch¬
 (*
f
);

628  
§ve_¬gc
 - 
¬gc
;

629 
	}
}

632 
	$maš
 (
¬gc
, **
¬gv
)

634 *
fÜm©
;

635 
¬gs_u£d
;

637 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

638 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

639 
	`£oÿË
 (
LC_ALL
, "");

640 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

641 
	`‹xtdomaš
 (
PACKAGE
);

643 
	`©ex™
 (
şo£_¡dout
);

645 
ex™_¡©us
 = 
EXIT_SUCCESS
;

647 
posixly_cÜ»ù
 = (
	`g‘’v
 ("POSIXLY_CORRECT"è!ğ
NULL
);

651 ià(
¬gc
 == 2)

653 ià(
	`STREQ
 (
¬gv
[1], "--help"))

654 
	`u§ge
 (
EXIT_SUCCESS
);

656 ià(
	`STREQ
 (
¬gv
[1], "--version"))

658 
	`v”siÚ_‘c
 (
¡dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
, 
AUTHORS
,

659 (*è
NULL
);

660 
	`ex™
 (
EXIT_SUCCESS
);

666 ià(1 < 
¬gc
 && 
	`STREQ
 (
¬gv
[1], "--"))

668 --
¬gc
;

669 ++
¬gv
;

672 ià(
¬gc
 <= 1)

674 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

675 
	`u§ge
 (
EXIT_FAILURE
);

678 
fÜm©
 = 
¬gv
[1];

679 
¬gc
 -= 2;

680 
¬gv
 += 2;

684 
¬gs_u£d
 = 
	`´št_fÜm©‹d
 (
fÜm©
, 
¬gc
, 
¬gv
);

685 
¬gc
 -ğ
¬gs_u£d
;

686 
¬gv
 +ğ
¬gs_u£d
;

688 
¬gs_u£d
 > 0 && 
¬gc
 > 0);

690 ià(
¬gc
 > 0)

691 
	`”rÜ
 (0, 0,

692 
	`_
("warning: ignoringƒxcess‡rguments, starting with %s"),

693 
	`quÙe
 (
¬gv
[0]));

695 
	`ex™
 (
ex™_¡©us
);

696 
	}
}

	@prog-fprintf.c

17 
	~<cÚfig.h
>

18 
	~<¡d¬g.h
>

19 
	~<sys/ty³s.h
>

21 
	~"sy¡em.h
"

23 
	~"´og-årštf.h
"

28 
	$´og_årštf
 (
FILE
 *
å
, cÚ¡ *
fmt
, ...)

30 
va_li¡
 
­
;

31 
	`åuts
 (
´og¿m_Çme
, 
å
);

32 
	`åuts
 (": ", 
å
);

33 
	`va_¡¬t
 (
­
, 
fmt
);

34 
	`vårštf
 (
å
, 
fmt
, 
­
);

35 
	`va_’d
 (
­
);

36 
	`åutc
 ('\n', 
å
);

37 
	}
}

	@prog-fprintf.h

17 #iâdeà
PROG_FPRINTF_H


18 
	#PROG_FPRINTF_H


	)

20 
	~<¡dio.h
>

22 
	$´og_årštf
 (
FILE
 *
å
, cÚ¡ *
fmt
, ...)

23 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

	@ptx.c

20 
	~<cÚfig.h
>

22 
	~<g‘İt.h
>

23 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~<»gex.h
>

26 
	~"¬gm©ch.h
"

27 
	~"dŸü™.h
"

28 
	~"”rÜ.h
"

29 
	~"çdvi£.h
"

30 
	~"quÙe.h
"

31 
	~"quÙ—rg.h
"

32 
	~"»ad-fe.h
"

33 
	~"¡dio--.h
"

34 
	~"x¡¹Ş.h
"

37 
	#PROGRAM_NAME
 "±x"

	)

42 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("F. Pš¬d", "F¿n\xc3\xa7oi Pš¬d")

	)

45 
	#CHAR_SET_SIZE
 256

	)

47 
	#ISODIGIT
(
C
è((Cè>ğ'0' && (Cè<ğ'7')

	)

48 
	#HEXTOBIN
(
C
) ((C) >= 'a' && (C) <= 'f' ? (C)-'a'+10 \

49 : (
C
è>ğ'A' && (Cè<ğ'F' ? (C)-'A'+10 : (C)-'0')

	)

50 
	#OCTTOBIN
(
C
è((Cè- '0')

	)

54 #ià
WITH_DMALLOC


55 
	#MALLOC_FUNC_CHECK
 1

	)

56 
	~<dm®loc.h
>

68 
	eFÜm©


70 
	mUNKNOWN_FORMAT
,

71 
	mDUMB_FORMAT
,

72 
	mROFF_FORMAT
,

73 
	mTEX_FORMAT


76 
boŞ
 
	ggnu_ex‹nsiÚs
 = 
Œue
;

77 
boŞ
 
	gauto_»ã»nû
 = 
çl£
;

78 
boŞ
 
	gšput_»ã»nû
 = 
çl£
;

79 
boŞ
 
	gright_»ã»nû
 = 
çl£
;

80 
	glše_width
 = 72;

81 
	gg­_size
 = 3;

82 cÚ¡ *
	gŒunÿtiÚ_¡ršg
 = "/";

84 cÚ¡ *
	gmaüo_Çme
 = "xx";

85 
FÜm©
 
	gouut_fÜm©
 = 
UNKNOWN_FORMAT
;

88 
boŞ
 
	gignÜe_ÿ£
 = 
çl£
;

89 cÚ¡ *
	gb»ak_fe
 = 
NULL
;

90 cÚ¡ *
	gÚly_fe
 = 
NULL
;

91 cÚ¡ *
	gignÜe_fe
 = 
NULL
;

94 
	s»gex_d©a


97 cÚ¡ *
	m¡ršg
;

100 
»_·‰”n_bufãr
 
	m·‰”n
;

101 
	mç¡m­
[
UCHAR_MAX
 + 1];

104 
»gex_d©a
 
	gcÚ‹xt_»gex
;

105 
»gex_d©a
 
	gwÜd_»gex
;

113 *
	m¡¬t
;

114 *
	m’d
;

116 
	tBLOCK
;

120 *
	m¡¬t
;

121 
	msize
;

123 
	tWORD
;

127 
WORD
 *
	m¡¬t
;

128 
size_t
 
	m®loc
;

129 
size_t
 
	mËngth
;

131 
	tWORD_TABLE
;

136 
	gfŞded_ch¬s
[
CHAR_SET_SIZE
];

139 
»_»gi¡”s
 
	gcÚ‹xt_»gs
;

142 
»_»gi¡”s
 
	gwÜd_»gs
;

149 
	gwÜd_ç¡m­
[
CHAR_SET_SIZE
];

152 
	gmaximum_wÜd_Ëngth
;

155 
	g»ã»nû_max_width
;

159 
WORD_TABLE
 
	gignÜe_bË
;

160 
WORD_TABLE
 
	gÚly_bË
;

164 
	gnumb”_šput_fes
;

165 
	gtÙ®_lše_couÁ
;

166 cÚ¡ **
	gšput_fe_Çme
;

167 *
	gfe_lše_couÁ
;

169 
BLOCK
 
	g‹xt_bufãr
;

173 
	#SKIP_NON_WHITE
(
cursÜ
, 
lim™
) \

174 
cursÜ
 < 
lim™
 && ! 
	`is¥aû
 (
	`to_uch¬
 (*cursor))) \

175 
cursÜ
++

	)

177 
	#SKIP_WHITE
(
cursÜ
, 
lim™
) \

178 
cursÜ
 < 
lim™
 && 
	`is¥aû
 (
	`to_uch¬
 (*cursor))) \

179 
cursÜ
++

	)

181 
	#SKIP_WHITE_BACKWARDS
(
cursÜ
, 
¡¬t
) \

182 
cursÜ
 > 
¡¬t
 && 
	`is¥aû
 (
	`to_uch¬
 (cursor[-1]))) \

183 
cursÜ
--

	)

185 
	#SKIP_SOMETHING
(
cursÜ
, 
lim™
) \

186 ià(
wÜd_»gex
.
¡ršg
) \

188 
»goff_t
 
couÁ
; \

189 
couÁ
 = 
	`»_m©ch
 (&
wÜd_»gex
.
·‰”n
, 
cursÜ
, 
lim™
 - cursÜ, 0, 
NULL
); \

190 ià(
couÁ
 == -2) \

191 
	`m©ch”_”rÜ
 (); \

192 
cursÜ
 +ğ
couÁ
 == -1 ? 1 : count; \

194 ià(
wÜd_ç¡m­
[
	`to_uch¬
 (*
cursÜ
)]) \

195 
cursÜ
 < 
lim™
 && 
wÜd_ç¡m­
[
	`to_uch¬
 (*cursor)]) \

196 
cursÜ
++; \

198 
cursÜ
++

	)

227 
	tDELTA
;

231 
WORD
 
	mkey
;

232 
DELTA
 
	mËá
;

233 
DELTA
 
	mright
;

234 
	m»ã»nû
;

236 
	tOCCURS
;

241 
OCCURS
 *
	goccurs_bË
[1];

242 
size_t
 
	goccurs_®loc
[1];

243 
size_t
 
	gnumb”_of_occurs
[1];

249 
	ged™ed_æag
[
CHAR_SET_SIZE
];

251 
	gh®f_lše_width
;

252 
	gbefÜe_max_width
;

253 
	gkeyaá”_max_width
;

254 
	gŒunÿtiÚ_¡ršg_Ëngth
;

262 
BLOCK
 
	g
;

263 
	g_ŒunÿtiÚ
;

265 
BLOCK
 
	gbefÜe
;

266 
	gbefÜe_ŒunÿtiÚ
;

268 
BLOCK
 
	gkeyaá”
;

269 
	gkeyaá”_ŒunÿtiÚ
;

271 
BLOCK
 
	gh—d
;

272 
	gh—d_ŒunÿtiÚ
;

274 
BLOCK
 
	g»ã»nû
;

280 
ATTRIBUTE_NORETURN


281 
	$m©ch”_”rÜ
 ()

283 
	`”rÜ
 (0, 
”ºo
, 
	`_
("error in„egularƒxpression matcher"));

284 
	`ex™
 (
EXIT_FAILURE
);

285 
	}
}

294 
	$cİy_uÃsÿ³d_¡ršg
 (cÚ¡ *
¡ršg
)

296 *
»suÉ
;

297 *
cursÜ
;

298 
v®ue
;

299 
Ëngth
;

301 
»suÉ
 = 
	`xm®loc
 (
	`¡¾’
 (
¡ršg
) + 1);

302 
cursÜ
 = 
»suÉ
;

304 *
¡ršg
)

306 ià(*
¡ršg
 == '\\')

308 
¡ršg
++;

309 *
¡ršg
)

312 
v®ue
 = 0;

313 
Ëngth
 = 0, 
¡ršg
++;

314 
Ëngth
 < 3 && 
	`isxdig™
 (
	`to_uch¬
 (*
¡ršg
));

315 
Ëngth
++, 
¡ršg
++)

316 
v®ue
 = v®u* 16 + 
	`HEXTOBIN
 (*
¡ršg
);

317 ià(
Ëngth
 == 0)

319 *
cursÜ
++ = '\\';

320 *
cursÜ
++ = 'x';

323 *
cursÜ
++ = 
v®ue
;

327 
v®ue
 = 0;

328 
Ëngth
 = 0, 
¡ršg
++;

329 
Ëngth
 < 3 && 
	`ISODIGIT
 (*
¡ršg
);

330 
Ëngth
++, 
¡ršg
++)

331 
v®ue
 = v®u* 8 + 
	`OCTTOBIN
 (*
¡ršg
);

332 *
cursÜ
++ = 
v®ue
;

336 #ià
__STDC__


337 *
cursÜ
++ = '\a';

339 *
cursÜ
++ = 7;

341 
¡ršg
++;

345 *
cursÜ
++ = '\b';

346 
¡ršg
++;

350 *
¡ršg
)

351 
¡ršg
++;

355 *
cursÜ
++ = '\f';

356 
¡ršg
++;

360 *
cursÜ
++ = '\n';

361 
¡ršg
++;

365 *
cursÜ
++ = '\r';

366 
¡ršg
++;

370 *
cursÜ
++ = '\t';

371 
¡ršg
++;

375 #ià
__STDC__


376 *
cursÜ
++ = '\v';

378 *
cursÜ
++ = 11;

380 
¡ršg
++;

388 *
cursÜ
++ = '\\';

389 *
cursÜ
++ = *
¡ršg
++;

394 *
cursÜ
++ = *
¡ršg
++;

397 *
cursÜ
 = '\0';

398  
»suÉ
;

399 
	}
}

406 
	$compe_»gex
 (
»gex_d©a
 *
»gex
)

408 
»_·‰”n_bufãr
 *
·‰”n
 = &
»gex
->pattern;

409 cÚ¡ *
¡ršg
 = 
»gex
->string;

410 cÚ¡ *
mes§ge
;

412 
·‰”n
->
bufãr
 = 
NULL
;

413 
·‰”n
->
®loÿ‹d
 = 0;

414 
·‰”n
->
ç¡m­
 = 
»gex
->fastmap;

415 
·‰”n
->
Œª¦©e
 = 
ignÜe_ÿ£
 ? 
fŞded_ch¬s
 : 
NULL
;

417 
mes§ge
 = 
	`»_compe_·‰”n
 (
¡ršg
, 
	`¡¾’
 (¡ršg), 
·‰”n
);

418 ià(
mes§ge
)

419 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("% (fÜ„egex°%s)"), 
mes§ge
, 
	`quÙe
 (
¡ršg
));

425 
	`»_compe_ç¡m­
 (
·‰”n
);

426 
	}
}

434 
	$š™Ÿlize_»gex
 ()

436 
ch¬aù”
;

440 ià(
ignÜe_ÿ£
)

441 
ch¬aù”
 = 0; ch¬aù” < 
CHAR_SET_SIZE
; character++)

442 
fŞded_ch¬s
[
ch¬aù”
] = 
	`touµ”
 (character);

451 ià(
cÚ‹xt_»gex
.
¡ršg
)

453 ià(!*
cÚ‹xt_»gex
.
¡ršg
)

454 
cÚ‹xt_»gex
.
¡ršg
 = 
NULL
;

456 ià(
gnu_ex‹nsiÚs
 && !
šput_»ã»nû
)

457 
cÚ‹xt_»gex
.
¡ršg
 = "[.?!][]\"')}]*\\($\\|\t\\| \\)[ \t\n]*";

459 
cÚ‹xt_»gex
.
¡ršg
 = "\n";

461 ià(
cÚ‹xt_»gex
.
¡ršg
)

462 
	`compe_»gex
 (&
cÚ‹xt_»gex
);

472 ià(
wÜd_»gex
.
¡ršg
)

473 
	`compe_»gex
 (&
wÜd_»gex
);

474 ià(!
b»ak_fe
)

476 ià(
gnu_ex‹nsiÚs
)

481 
ch¬aù”
 = 0; ch¬aù” < 
CHAR_SET_SIZE
; character++)

482 
wÜd_ç¡m­
[
ch¬aù”
] = !! 
	`i§Íha
 (character);

489 
	`mem£t
 (
wÜd_ç¡m­
, 1, 
CHAR_SET_SIZE
);

490 
wÜd_ç¡m­
[' '] = 0;

491 
wÜd_ç¡m­
['\t'] = 0;

492 
wÜd_ç¡m­
['\n'] = 0;

495 
	}
}

509 
	$sw®low_fe_š_memÜy
 (cÚ¡ *
fe_Çme
, 
BLOCK
 *
block
)

511 
size_t
 
u£d_Ëngth
;

516 
boŞ
 
usšg_¡dš
 = !
fe_Çme
 || !*fe_Çm|| 
	`STREQ
 (file_name, "-");

517 ià(
usšg_¡dš
)

518 
block
->
¡¬t
 = 
	`ä—d_fe
 (
¡dš
, &
u£d_Ëngth
);

520 
block
->
¡¬t
 = 
	`»ad_fe
 (
fe_Çme
, &
u£d_Ëngth
);

522 ià(!
block
->
¡¬t
)

523 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
usšg_¡dš
 ? "-" : 
fe_Çme
));

525 
block
->
’d
 = block->
¡¬t
 + 
u£d_Ëngth
;

526 
	}
}

539 
	$com·»_wÜds
 (cÚ¡ *
void_fœ¡
, cÚ¡ *
void_£cÚd
)

541 
	#fœ¡
 ((cÚ¡ 
WORD
 *è
void_fœ¡
)

	)

542 
	#£cÚd
 ((cÚ¡ 
WORD
 *è
void_£cÚd
)

	)

543 
Ëngth
;

544 
couÁ”
;

545 
v®ue
;

547 
Ëngth
 = 
fœ¡
->
size
 < 
£cÚd
->size ? first->size : second->size;

549 ià(
ignÜe_ÿ£
)

551 
couÁ”
 = 0; couÁ” < 
Ëngth
; counter++)

553 
v®ue
 = (
fŞded_ch¬s
 [
	`to_uch¬
 (
fœ¡
->
¡¬t
[
couÁ”
])]

554 - 
fŞded_ch¬s
 [
	`to_uch¬
 (
£cÚd
->
¡¬t
[
couÁ”
])]);

555 ià(
v®ue
 != 0)

556  
v®ue
;

561 
couÁ”
 = 0; couÁ” < 
Ëngth
; counter++)

563 
v®ue
 = (
	`to_uch¬
 (
fœ¡
->
¡¬t
[
couÁ”
])

564 - 
	`to_uch¬
 (
£cÚd
->
¡¬t
[
couÁ”
]));

565 ià(
v®ue
 != 0)

566  
v®ue
;

570  
fœ¡
->
size
 - 
£cÚd
->size;

571 #undeà
fœ¡


572 #undeà
£cÚd


573 
	}
}

582 
	$com·»_occurs
 (cÚ¡ *
void_fœ¡
, cÚ¡ *
void_£cÚd
)

584 
	#fœ¡
 ((cÚ¡ 
OCCURS
 *è
void_fœ¡
)

	)

585 
	#£cÚd
 ((cÚ¡ 
OCCURS
 *è
void_£cÚd
)

	)

586 
v®ue
;

588 
v®ue
 = 
	`com·»_wÜds
 (&
fœ¡
->
key
, &
£cÚd
->key);

589  
v®ue
 =ğ0 ? 
fœ¡
->
key
.
¡¬t
 - 
£cÚd
->key.start : value;

590 #undeà
fœ¡


591 #undeà
£cÚd


592 
	}
}

598 
_GL_ATTRIBUTE_PURE


599 
	$£¬ch_bË
 (
WORD
 *
wÜd
, 
WORD_TABLE
 *
bË
)

601 
lowe¡
;

602 
highe¡
;

603 
middË
;

604 
v®ue
;

606 
lowe¡
 = 0;

607 
highe¡
 = 
bË
->
Ëngth
 - 1;

608 
lowe¡
 <ğ
highe¡
)

610 
middË
 = (
lowe¡
 + 
highe¡
) / 2;

611 
v®ue
 = 
	`com·»_wÜds
 (
wÜd
, 
bË
->
¡¬t
 + 
middË
);

612 ià(
v®ue
 < 0)

613 
highe¡
 = 
middË
 - 1;

614 ià(
v®ue
 > 0)

615 
lowe¡
 = 
middË
 + 1;

620 
	}
}

629 
	$sÜt_found_occurs
 ()

634 
	`qsÜt
 (
occurs_bË
[0], 
numb”_of_occurs
[0],  **occurs_table,

635 
com·»_occurs
);

636 
	}
}

647 
	$dige¡_b»ak_fe
 (cÚ¡ *
fe_Çme
)

649 
BLOCK
 
fe_cÚ‹Ás
;

650 *
cursÜ
;

652 
	`sw®low_fe_š_memÜy
 (
fe_Çme
, &
fe_cÚ‹Ás
);

656 
	`mem£t
 (
wÜd_ç¡m­
, 1, 
CHAR_SET_SIZE
);

657 
cursÜ
 = 
fe_cÚ‹Ás
.
¡¬t
; cursÜ < fe_cÚ‹Ás.
’d
; cursor++)

658 
wÜd_ç¡m­
[
	`to_uch¬
 (*
cursÜ
)] = 0;

660 ià(!
gnu_ex‹nsiÚs
)

669 
wÜd_ç¡m­
[' '] = 0;

670 
wÜd_ç¡m­
['\t'] = 0;

671 
wÜd_ç¡m­
['\n'] = 0;

676 
	`ä“
 (
fe_cÚ‹Ás
.
¡¬t
);

677 
	}
}

687 
	$dige¡_wÜd_fe
 (cÚ¡ *
fe_Çme
, 
WORD_TABLE
 *
bË
)

689 
BLOCK
 
fe_cÚ‹Ás
;

690 *
cursÜ
;

691 *
wÜd_¡¬t
;

693 
	`sw®low_fe_š_memÜy
 (
fe_Çme
, &
fe_cÚ‹Ás
);

695 
bË
->
¡¬t
 = 
NULL
;

696 
bË
->
®loc
 = 0;

697 
bË
->
Ëngth
 = 0;

701 
cursÜ
 = 
fe_cÚ‹Ás
.
¡¬t
;

702 
cursÜ
 < 
fe_cÚ‹Ás
.
’d
)

707 
wÜd_¡¬t
 = 
cursÜ
;

708 
cursÜ
 < 
fe_cÚ‹Ás
.
’d
 && *cursor != '\n')

709 
cursÜ
++;

713 ià(
cursÜ
 > 
wÜd_¡¬t
)

715 ià(
bË
->
Ëngth
 =ğbË->
®loc
)

717 ià((
SIZE_MAX
 /  *
bË
->
¡¬t
 - 1è/ 2 <abË->
®loc
)

718 
	`x®loc_d›
 ();

719 
bË
->
®loc
 =able->alloc * 2 + 1;

720 
bË
->
¡¬t
 = 
	`x»®loc
 (table->start,

721 
bË
->
®loc
 *  *bË->
¡¬t
);

724 
bË
->
¡¬t
[bË->
Ëngth
].¡¬ˆğ
wÜd_¡¬t
;

725 
bË
->
¡¬t
[bË->
Ëngth
].
size
 = 
cursÜ
 - 
wÜd_¡¬t
;

726 
bË
->
Ëngth
++;

731 ià(
cursÜ
 < 
fe_cÚ‹Ás
.
’d
)

732 
cursÜ
++;

737 
	`qsÜt
 (
bË
->
¡¬t
,abË->
Ëngth
, abË->¡¬t[0], 
com·»_wÜds
);

738 
	}
}

747 
	$fšd_occurs_š_‹xt
 ()

749 *
cursÜ
;

750 *
sÿn
;

751 *
lše_¡¬t
;

752 *
lše_sÿn
;

753 
»ã»nû_Ëngth
;

754 
WORD
 
possibË_key
;

755 
OCCURS
 *
occurs_cursÜ
;

757 *
cÚ‹xt_¡¬t
;

758 *
cÚ‹xt_’d
;

759 *
wÜd_¡¬t
;

760 *
wÜd_’d
;

761 *
Ãxt_cÚ‹xt_¡¬t
;

767 
»ã»nû_Ëngth
 = 0;

778 
lše_¡¬t
 = 
‹xt_bufãr
.
¡¬t
;

779 
lše_sÿn
 = 
lše_¡¬t
;

780 ià(
šput_»ã»nû
)

782 
	`SKIP_NON_WHITE
 (
lše_sÿn
, 
‹xt_bufãr
.
’d
);

783 
»ã»nû_Ëngth
 = 
lše_sÿn
 - 
lše_¡¬t
;

784 
	`SKIP_WHITE
 (
lše_sÿn
, 
‹xt_bufãr
.
’d
);

789 
cursÜ
 = 
‹xt_bufãr
.
¡¬t
;

790 
cursÜ
 < 
‹xt_bufãr
.
’d
;

791 
cursÜ
 = 
Ãxt_cÚ‹xt_¡¬t
)

798 
cÚ‹xt_¡¬t
 = 
cursÜ
;

808 
Ãxt_cÚ‹xt_¡¬t
 = 
‹xt_bufãr
.
’d
;

809 ià(
cÚ‹xt_»gex
.
¡ršg
)

810 
	`»_£¬ch
 (&
cÚ‹xt_»gex
.
·‰”n
, 
cursÜ
,

811 
‹xt_bufãr
.
’d
 - 
cursÜ
,

812 0, 
‹xt_bufãr
.
’d
 - 
cursÜ
, &
cÚ‹xt_»gs
))

815 
	`m©ch”_”rÜ
 ();

821 
Ãxt_cÚ‹xt_¡¬t
 = 
cursÜ
 + 
cÚ‹xt_»gs
.
’d
[0];

829 
cÚ‹xt_’d
 = 
Ãxt_cÚ‹xt_¡¬t
;

830 
	`SKIP_WHITE_BACKWARDS
 (
cÚ‹xt_’d
, 
cÚ‹xt_¡¬t
);

837 ià(
wÜd_»gex
.
¡ršg
)

844 
»goff_t
 
r
 = 
	`»_£¬ch
 (&
wÜd_»gex
.
·‰”n
, 
cursÜ
,

845 
cÚ‹xt_’d
 - 
cursÜ
,

846 0, 
cÚ‹xt_’d
 - 
cursÜ
, &
wÜd_»gs
);

847 ià(
r
 == -2)

848 
	`m©ch”_”rÜ
 ();

849 ià(
r
 == -1)

851 
wÜd_¡¬t
 = 
cursÜ
 + 
wÜd_»gs
.
¡¬t
[0];

852 
wÜd_’d
 = 
cursÜ
 + 
wÜd_»gs
.
’d
[0];

861 
sÿn
 = 
cursÜ
;

862 
sÿn
 < 
cÚ‹xt_’d


863 && !
wÜd_ç¡m­
[
	`to_uch¬
 (*
sÿn
)])

864 
sÿn
++;

866 ià(
sÿn
 =ğ
cÚ‹xt_’d
)

869 
wÜd_¡¬t
 = 
sÿn
;

871 
sÿn
 < 
cÚ‹xt_’d


872 && 
wÜd_ç¡m­
[
	`to_uch¬
 (*
sÿn
)])

873 
sÿn
++;

875 
wÜd_’d
 = 
sÿn
;

880 
cursÜ
 = 
wÜd_¡¬t
;

885 ià(
wÜd_’d
 =ğ
wÜd_¡¬t
)

887 
cursÜ
++;

898 
possibË_key
.
¡¬t
 = 
cursÜ
;

899 
possibË_key
.
size
 = 
wÜd_’d
 - 
wÜd_¡¬t
;

900 
cursÜ
 +ğ
possibË_key
.
size
;

902 ià(
possibË_key
.
size
 > 
maximum_wÜd_Ëngth
)

903 
maximum_wÜd_Ëngth
 = 
possibË_key
.
size
;

910 ià(
šput_»ã»nû
)

912 
lše_sÿn
 < 
possibË_key
.
¡¬t
)

913 ià(*
lše_sÿn
 == '\n')

915 
tÙ®_lše_couÁ
++;

916 
lše_sÿn
++;

917 
lše_¡¬t
 = 
lše_sÿn
;

918 
	`SKIP_NON_WHITE
 (
lše_sÿn
, 
‹xt_bufãr
.
’d
);

919 
»ã»nû_Ëngth
 = 
lše_sÿn
 - 
lše_¡¬t
;

922 
lše_sÿn
++;

923 ià(
lše_sÿn
 > 
possibË_key
.
¡¬t
)

937 ià(
ignÜe_fe
 && 
	`£¬ch_bË
 (&
possibË_key
, &
ignÜe_bË
))

939 ià(
Úly_fe
 && !
	`£¬ch_bË
 (&
possibË_key
, &
Úly_bË
))

946 ià(
numb”_of_occurs
[0] =ğ
occurs_®loc
[0])

948 ià((
SIZE_MAX
 /  *
occurs_bË
[0] - 1) / 2

949 < 
occurs_®loc
[0])

950 
	`x®loc_d›
 ();

951 
occurs_®loc
[0] = occurs_alloc[0] * 2 + 1;

952 
occurs_bË
[0] =

953 
	`x»®loc
 (
occurs_bË
[0],

954 
occurs_®loc
[0] *  *
occurs_bË
[0]);

957 
occurs_cursÜ
 = 
occurs_bË
[0] + 
numb”_of_occurs
[0];

961 ià(
auto_»ã»nû
)

970 
lše_sÿn
 < 
possibË_key
.
¡¬t
)

971 ià(*
lše_sÿn
 == '\n')

973 
tÙ®_lše_couÁ
++;

974 
lše_sÿn
++;

975 
lše_¡¬t
 = 
lše_sÿn
;

976 
	`SKIP_NON_WHITE
 (
lše_sÿn
, 
‹xt_bufãr
.
’d
);

979 
lše_sÿn
++;

981 
occurs_cursÜ
->
»ã»nû
 = 
tÙ®_lše_couÁ
;

983 ià(
šput_»ã»nû
)

991 
occurs_cursÜ
->
»ã»nû


992 ğ(
DELTA
è(
lše_¡¬t
 - 
possibË_key
.
¡¬t
);

993 ià(
»ã»nû_Ëngth
 > 
»ã»nû_max_width
)

994 
»ã»nû_max_width
 = 
»ã»nû_Ëngth
;

999 ià(
šput_»ã»nû
 && 
lše_¡¬t
 =ğ
cÚ‹xt_¡¬t
)

1001 
	`SKIP_NON_WHITE
 (
cÚ‹xt_¡¬t
, 
cÚ‹xt_’d
);

1002 
	`SKIP_WHITE
 (
cÚ‹xt_¡¬t
, 
cÚ‹xt_’d
);

1007 
occurs_cursÜ
->
key
 = 
possibË_key
;

1008 
occurs_cursÜ
->
Ëá
 = 
cÚ‹xt_¡¬t
 - 
possibË_key
.
¡¬t
;

1009 
occurs_cursÜ
->
right
 = 
cÚ‹xt_’d
 - 
possibË_key
.
¡¬t
;

1011 
numb”_of_occurs
[0]++;

1014 
	}
}

1023 
	$´št_¥aûs
 (
numb”
)

1025 
couÁ”
;

1027 
couÁ”
 = 
numb”
; counter > 0; counter--)

1028 
	`putch¬
 (' ');

1029 
	}
}

1036 
	$´št_f›ld
 (
BLOCK
 
f›ld
)

1038 *
cursÜ
;

1039 
ba£
;

1040 
dŸü™ic
;

1045 
cursÜ
 = 
f›ld
.
¡¬t
; cursÜ < f›ld.
’d
; cursor++)

1047 
ch¬aù”
 = *
cursÜ
;

1048 ià(
ed™ed_æag
[
ch¬aù”
])

1056 
dŸü™ic
 = 
	`todŸc
 (
ch¬aù”
);

1057 ià(
dŸü™ic
 !ğ0 && 
ouut_fÜm©
 =ğ
TEX_FORMAT
)

1059 
ba£
 = 
	`toba£
 (
ch¬aù”
);

1060 
dŸü™ic
)

1064 
ba£
)

1067 
	`åuts
 ("\\Û{}", 
¡dout
);

1071 
	`åuts
 ("\\OE{}", 
¡dout
);

1075 
	`åuts
 ("\\«{}", 
¡dout
);

1079 
	`åuts
 ("\\AE{}", 
¡dout
);

1083 
	`putch¬
 (' ');

1088 
	`´štf
 ("\\'%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1092 
	`´štf
 ("\\'%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1096 
	`´štf
 ("\\^%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1100 
	`´štf
 ("\\\"%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1104 
	`´štf
 ("\\~%s%c", (
ba£
 == 'i' ? "\\" : ""), base);

1108 
	`´štf
 ("\\c{%c}", 
ba£
);

1112 
ba£
)

1115 
	`åuts
 ("\\¯{}", 
¡dout
);

1119 
	`åuts
 ("\\AA{}", 
¡dout
);

1123 
	`putch¬
 (' ');

1128 
ba£
)

1131 
	`åuts
 ("\\o{}", 
¡dout
);

1135 
	`åuts
 ("\\O{}", 
¡dout
);

1139 
	`putch¬
 (' ');

1150 
ch¬aù”
)

1154 
	`putch¬
 ('"');

1155 
	`putch¬
 ('"');

1164 
	`putch¬
 ('\\');

1165 
	`putch¬
 (
ch¬aù”
);

1172 
	`´štf
 ("$\\%c$", 
ch¬aù”
);

1177 
	`åuts
 ("\\back¦ash{}", 
¡dout
);

1182 
	`putch¬
 (' ');

1186 
	`putch¬
 (*
cursÜ
);

1188 
	}
}

1198 
	$fix_ouut_·¿m‘”s
 ()

1200 
fe_šdex
;

1201 
lše_Üdš®
;

1202 
Üdš®_¡ršg
[12];

1203 
»ã»nû_width
;

1204 
ch¬aù”
;

1205 cÚ¡ *
cursÜ
;

1211 ià(
auto_»ã»nû
)

1213 
»ã»nû_max_width
 = 0;

1214 
fe_šdex
 = 0; fe_šdex < 
numb”_šput_fes
; file_index++)

1216 
lše_Üdš®
 = 
fe_lše_couÁ
[
fe_šdex
] + 1;

1217 ià(
fe_šdex
 > 0)

1218 
lše_Üdš®
 -ğ
fe_lše_couÁ
[
fe_šdex
 - 1];

1219 
	`¥rštf
 (
Üdš®_¡ršg
, "%d", 
lše_Üdš®
);

1220 
»ã»nû_width
 = 
	`¡¾’
 (
Üdš®_¡ršg
);

1221 ià(
šput_fe_Çme
[
fe_šdex
])

1222 
»ã»nû_width
 +ğ
	`¡¾’
 (
šput_fe_Çme
[
fe_šdex
]);

1223 ià(
»ã»nû_width
 > 
»ã»nû_max_width
)

1224 
»ã»nû_max_width
 = 
»ã»nû_width
;

1226 
»ã»nû_max_width
++;

1227 
»ã»nû
.
¡¬t
 = 
	`xm®loc
 ((
size_t
è
»ã»nû_max_width
 + 1);

1233 ià((
auto_»ã»nû
 || 
šput_»ã»nû
è&& !
right_»ã»nû
)

1234 
lše_width
 -ğ
»ã»nû_max_width
 + 
g­_size
;

1248 
h®f_lše_width
 = 
lše_width
 / 2;

1249 
befÜe_max_width
 = 
h®f_lše_width
 - 
g­_size
;

1250 
keyaá”_max_width
 = 
h®f_lše_width
;

1256 ià(
ŒunÿtiÚ_¡ršg
 && *truncation_string)

1257 
ŒunÿtiÚ_¡ršg_Ëngth
 = 
	`¡¾’
 (
ŒunÿtiÚ_¡ršg
);

1259 
ŒunÿtiÚ_¡ršg
 = 
NULL
;

1261 ià(
gnu_ex‹nsiÚs
)

1286 
befÜe_max_width
 -ğ2 * 
ŒunÿtiÚ_¡ršg_Ëngth
;

1287 ià(
befÜe_max_width
 < 0)

1288 
befÜe_max_width
 = 0;

1289 
keyaá”_max_width
 -ğ2 * 
ŒunÿtiÚ_¡ršg_Ëngth
;

1300 
keyaá”_max_width
 -ğ2 * 
ŒunÿtiÚ_¡ršg_Ëngth
 + 1;

1307 
ch¬aù”
 = 0; ch¬aù” < 
CHAR_SET_SIZE
; character++)

1308 
ed™ed_æag
[
ch¬aù”
] = !! 
	`is¥aû
 (character);

1309 
ed™ed_æag
['\f'] = 1;

1314 
ouut_fÜm©
)

1316 
UNKNOWN_FORMAT
:

1319 
DUMB_FORMAT
:

1322 
ROFF_FORMAT
:

1326 
ed™ed_æag
['"'] = 1;

1329 
TEX_FORMAT
:

1333 
cursÜ
 = "$%&#_{}\\"; *cursor; cursor++)

1334 
ed™ed_æag
[
	`to_uch¬
 (*
cursÜ
)] = 1;

1339 
ch¬aù”
 = 0200; ch¬aù” < 
CHAR_SET_SIZE
; character++)

1340 
ed™ed_æag
[
ch¬aù”
] = 
	`todŸc
 (character) != 0;

1343 
	}
}

1351 
	$defše_®l_f›lds
 (
OCCURS
 *
occurs
)

1353 
_max_width
;

1354 
h—d_max_width
;

1355 *
cursÜ
;

1356 *
Ëá_cÚ‹xt_¡¬t
;

1357 *
right_cÚ‹xt_’d
;

1358 *
Ëá_f›ld_¡¬t
;

1359 
fe_šdex
;

1360 cÚ¡ *
fe_Çme
;

1361 
lše_Üdš®
;

1369 
keyaá”
.
¡¬t
 = 
occurs
->
key
.start;

1370 
keyaá”
.
’d
 = keyaá”.
¡¬t
 + 
occurs
->
key
.
size
;

1371 
Ëá_cÚ‹xt_¡¬t
 = 
keyaá”
.
¡¬t
 + 
occurs
->
Ëá
;

1372 
right_cÚ‹xt_’d
 = 
keyaá”
.
¡¬t
 + 
occurs
->
right
;

1374 
cursÜ
 = 
keyaá”
.
’d
;

1375 
cursÜ
 < 
right_cÚ‹xt_’d


1376 && 
cursÜ
 <ğ
keyaá”
.
¡¬t
 + 
keyaá”_max_width
)

1378 
keyaá”
.
’d
 = 
cursÜ
;

1379 
	`SKIP_SOMETHING
 (
cursÜ
, 
right_cÚ‹xt_’d
);

1381 ià(
cursÜ
 <ğ
keyaá”
.
¡¬t
 + 
keyaá”_max_width
)

1382 
keyaá”
.
’d
 = 
cursÜ
;

1384 
keyaá”_ŒunÿtiÚ
 = 
ŒunÿtiÚ_¡ršg
 && 
keyaá”
.
’d
 < 
right_cÚ‹xt_’d
;

1386 
	`SKIP_WHITE_BACKWARDS
 (
keyaá”
.
’d
, keyaá”.
¡¬t
);

1400 ià(-
occurs
->
Ëá
 > 
h®f_lše_width
 + 
maximum_wÜd_Ëngth
)

1402 
Ëá_f›ld_¡¬t


1403 ğ
keyaá”
.
¡¬t
 - (
h®f_lše_width
 + 
maximum_wÜd_Ëngth
);

1404 
	`SKIP_SOMETHING
 (
Ëá_f›ld_¡¬t
, 
keyaá”
.
¡¬t
);

1407 
Ëá_f›ld_¡¬t
 = 
keyaá”
.
¡¬t
 + 
occurs
->
Ëá
;

1415 
befÜe
.
¡¬t
 = 
Ëá_f›ld_¡¬t
;

1416 
befÜe
.
’d
 = 
keyaá”
.
¡¬t
;

1417 
	`SKIP_WHITE_BACKWARDS
 (
befÜe
.
’d
, befÜe.
¡¬t
);

1419 
befÜe
.
¡¬t
 + 
befÜe_max_width
 < befÜe.
’d
)

1420 
	`SKIP_SOMETHING
 (
befÜe
.
¡¬t
, befÜe.
’d
);

1422 ià(
ŒunÿtiÚ_¡ršg
)

1424 
cursÜ
 = 
befÜe
.
¡¬t
;

1425 
	`SKIP_WHITE_BACKWARDS
 (
cursÜ
, 
‹xt_bufãr
.
¡¬t
);

1426 
befÜe_ŒunÿtiÚ
 = 
cursÜ
 > 
Ëá_cÚ‹xt_¡¬t
;

1429 
befÜe_ŒunÿtiÚ
 = 0;

1431 
	`SKIP_WHITE
 (
befÜe
.
¡¬t
, 
‹xt_bufãr
.
’d
);

1440 
_max_width


1441 ğ
befÜe_max_width
 - (
befÜe
.
’d
 - befÜe.
¡¬t
è- 
g­_size
;

1443 ià(
_max_width
 > 0)

1445 

.
¡¬t
 = 
keyaá”
.
’d
;

1446 
	`SKIP_WHITE
 (

.
¡¬t
, 
‹xt_bufãr
.
’d
);

1448 

.
’d
 =a.
¡¬t
;

1449 
cursÜ
 = 

.
’d
;

1450 
cursÜ
 < 
right_cÚ‹xt_’d


1451 && 
cursÜ
 < 

.
¡¬t
 + 
_max_width
)

1453 

.
’d
 = 
cursÜ
;

1454 
	`SKIP_SOMETHING
 (
cursÜ
, 
right_cÚ‹xt_’d
);

1457 ià(
cursÜ
 < 

.
¡¬t
 + 
_max_width
)

1458 

.
’d
 = 
cursÜ
;

1460 ià(

.
’d
 >a.
¡¬t
)

1462 
keyaá”_ŒunÿtiÚ
 = 0;

1463 
_ŒunÿtiÚ
 = 
ŒunÿtiÚ_¡ršg
 && 

.
’d
 < 
right_cÚ‹xt_’d
;

1466 
_ŒunÿtiÚ
 = 0;

1468 
	`SKIP_WHITE_BACKWARDS
 (

.
’d
,a.
¡¬t
);

1475 

.
¡¬t
 = 
NULL
;

1476 

.
’d
 = 
NULL
;

1477 
_ŒunÿtiÚ
 = 0;

1486 
h—d_max_width


1487 ğ
keyaá”_max_width
 - (
keyaá”
.
’d
 - keyaá”.
¡¬t
è- 
g­_size
;

1489 ià(
h—d_max_width
 > 0)

1491 
h—d
.
’d
 = 
befÜe
.
¡¬t
;

1492 
	`SKIP_WHITE_BACKWARDS
 (
h—d
.
’d
, 
‹xt_bufãr
.
¡¬t
);

1494 
h—d
.
¡¬t
 = 
Ëá_f›ld_¡¬t
;

1495 
h—d
.
¡¬t
 + 
h—d_max_width
 < h—d.
’d
)

1496 
	`SKIP_SOMETHING
 (
h—d
.
¡¬t
, h—d.
’d
);

1498 ià(
h—d
.
’d
 > h—d.
¡¬t
)

1500 
befÜe_ŒunÿtiÚ
 = 0;

1501 
h—d_ŒunÿtiÚ
 = (
ŒunÿtiÚ_¡ršg


1502 && 
h—d
.
¡¬t
 > 
Ëá_cÚ‹xt_¡¬t
);

1505 
h—d_ŒunÿtiÚ
 = 0;

1507 
	`SKIP_WHITE
 (
h—d
.
¡¬t
, h—d.
’d
);

1514 
h—d
.
¡¬t
 = 
NULL
;

1515 
h—d
.
’d
 = 
NULL
;

1516 
h—d_ŒunÿtiÚ
 = 0;

1519 ià(
auto_»ã»nû
)

1527 
fe_šdex
 = 0;

1528 
fe_lše_couÁ
[
fe_šdex
] < 
occurs
->
»ã»nû
)

1529 
fe_šdex
++;

1531 
fe_Çme
 = 
šput_fe_Çme
[
fe_šdex
];

1532 ià(!
fe_Çme
)

1533 
fe_Çme
 = "";

1535 
lše_Üdš®
 = 
occurs
->
»ã»nû
 + 1;

1536 ià(
fe_šdex
 > 0)

1537 
lše_Üdš®
 -ğ
fe_lše_couÁ
[
fe_šdex
 - 1];

1539 
	`¥rštf
 (
»ã»nû
.
¡¬t
, "%s:%d", 
fe_Çme
, 
lše_Üdš®
);

1540 
»ã»nû
.
’d
 =„eã»nû.
¡¬t
 + 
	`¡¾’
 (reference.start);

1542 ià(
šput_»ã»nû
)

1548 
»ã»nû
.
¡¬t
 = 
keyaá”
.¡¬ˆ+ (
DELTA
è
occurs
->reference;

1549 
»ã»nû
.
’d
 =„eã»nû.
¡¬t
;

1550 
	`SKIP_NON_WHITE
 (
»ã»nû
.
’d
, 
right_cÚ‹xt_’d
);

1552 
	}
}

1561 
	$ouut_Úe_roff_lše
 ()

1565 
	`´štf
 (".% \"", 
maüo_Çme
);

1566 
	`´št_f›ld
 (

);

1567 ià(
_ŒunÿtiÚ
)

1568 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1569 
	`putch¬
 ('"');

1573 
	`åuts
 (" \"", 
¡dout
);

1574 ià(
befÜe_ŒunÿtiÚ
)

1575 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1576 
	`´št_f›ld
 (
befÜe
);

1577 
	`putch¬
 ('"');

1581 
	`åuts
 (" \"", 
¡dout
);

1582 
	`´št_f›ld
 (
keyaá”
);

1583 ià(
keyaá”_ŒunÿtiÚ
)

1584 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1585 
	`putch¬
 ('"');

1589 
	`åuts
 (" \"", 
¡dout
);

1590 ià(
h—d_ŒunÿtiÚ
)

1591 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1592 
	`´št_f›ld
 (
h—d
);

1593 
	`putch¬
 ('"');

1597 ià(
auto_»ã»nû
 || 
šput_»ã»nû
)

1599 
	`åuts
 (" \"", 
¡dout
);

1600 
	`´št_f›ld
 (
»ã»nû
);

1601 
	`putch¬
 ('"');

1604 
	`putch¬
 ('\n');

1605 
	}
}

1612 
	$ouut_Úe_‹x_lše
 ()

1614 
BLOCK
 
key
;

1615 
BLOCK
 
aá”
;

1616 *
cursÜ
;

1618 
	`´štf
 ("\\% ", 
maüo_Çme
);

1619 
	`putch¬
 ('{');

1620 
	`´št_f›ld
 (

);

1621 
	`åuts
 ("}{", 
¡dout
);

1622 
	`´št_f›ld
 (
befÜe
);

1623 
	`åuts
 ("}{", 
¡dout
);

1624 
key
.
¡¬t
 = 
keyaá”
.start;

1625 
aá”
.
’d
 = 
keyaá”
.end;

1626 
cursÜ
 = 
keyaá”
.
¡¬t
;

1627 
	`SKIP_SOMETHING
 (
cursÜ
, 
keyaá”
.
’d
);

1628 
key
.
’d
 = 
cursÜ
;

1629 
aá”
.
¡¬t
 = 
cursÜ
;

1630 
	`´št_f›ld
 (
key
);

1631 
	`åuts
 ("}{", 
¡dout
);

1632 
	`´št_f›ld
 (
aá”
);

1633 
	`åuts
 ("}{", 
¡dout
);

1634 
	`´št_f›ld
 (
h—d
);

1635 
	`putch¬
 ('}');

1636 ià(
auto_»ã»nû
 || 
šput_»ã»nû
)

1638 
	`putch¬
 ('{');

1639 
	`´št_f›ld
 (
»ã»nû
);

1640 
	`putch¬
 ('}');

1642 
	`putch¬
 ('\n');

1643 
	}
}

1650 
	$ouut_Úe_dumb_lše
 ()

1652 ià(!
right_»ã»nû
)

1654 ià(
auto_»ã»nû
)

1661 
	`´št_f›ld
 (
»ã»nû
);

1662 
	`putch¬
 (':');

1663 
	`´št_¥aûs
 (
»ã»nû_max_width


1664 + 
g­_size


1665 - (
»ã»nû
.
’d
 -„eã»nû.
¡¬t
)

1673 
	`´št_f›ld
 (
»ã»nû
);

1674 
	`´št_¥aûs
 (
»ã»nû_max_width


1675 + 
g­_size


1676 - (
»ã»nû
.
’d
 -„eã»nû.
¡¬t
));

1680 ià(

.
¡¬t
 <a.
’d
)

1684 
	`´št_f›ld
 (

);

1685 ià(
_ŒunÿtiÚ
)

1686 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1688 
	`´št_¥aûs
 (
h®f_lše_width
 - 
g­_size


1689 - (
befÜe
.
’d
 - befÜe.
¡¬t
)

1690 - (
befÜe_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0)

1691 - (

.
’d
 -a.
¡¬t
)

1692 - (
_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0));

1695 
	`´št_¥aûs
 (
h®f_lše_width
 - 
g­_size


1696 - (
befÜe
.
’d
 - befÜe.
¡¬t
)

1697 - (
befÜe_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0));

1701 ià(
befÜe_ŒunÿtiÚ
)

1702 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1703 
	`´št_f›ld
 (
befÜe
);

1705 
	`´št_¥aûs
 (
g­_size
);

1709 
	`´št_f›ld
 (
keyaá”
);

1710 ià(
keyaá”_ŒunÿtiÚ
)

1711 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1713 ià(
h—d
.
¡¬t
 < h—d.
’d
)

1717 
	`´št_¥aûs
 (
h®f_lše_width


1718 - (
keyaá”
.
’d
 - keyaá”.
¡¬t
)

1719 - (
keyaá”_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0)

1720 - (
h—d
.
’d
 - h—d.
¡¬t
)

1721 - (
h—d_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0));

1722 ià(
h—d_ŒunÿtiÚ
)

1723 
	`åuts
 (
ŒunÿtiÚ_¡ršg
, 
¡dout
);

1724 
	`´št_f›ld
 (
h—d
);

1728 ià((
auto_»ã»nû
 || 
šput_»ã»nû
è&& 
right_»ã»nû
)

1729 
	`´št_¥aûs
 (
h®f_lše_width


1730 - (
keyaá”
.
’d
 - keyaá”.
¡¬t
)

1731 - (
keyaá”_ŒunÿtiÚ
 ? 
ŒunÿtiÚ_¡ršg_Ëngth
 : 0));

1733 ià((
auto_»ã»nû
 || 
šput_»ã»nû
è&& 
right_»ã»nû
)

1737 
	`´št_¥aûs
 (
g­_size
);

1738 
	`´št_f›ld
 (
»ã»nû
);

1741 
	`putch¬
 ('\n');

1742 
	}
}

1750 
	$g’”©e_®l_ouut
 ()

1752 
size_t
 
occurs_šdex
;

1753 
OCCURS
 *
occurs_cursÜ
;

1759 

.
¡¬t
 = 
NULL
;

1760 

.
’d
 = 
NULL
;

1761 
_ŒunÿtiÚ
 = 0;

1763 
h—d
.
¡¬t
 = 
NULL
;

1764 
h—d
.
’d
 = 
NULL
;

1765 
h—d_ŒunÿtiÚ
 = 0;

1769 
occurs_cursÜ
 = 
occurs_bË
[0];

1771 
occurs_šdex
 = 0; occurs_šdex < 
numb”_of_occurs
[0]; occurs_index++)

1776 
	`defše_®l_f›lds
 (
occurs_cursÜ
);

1780 
ouut_fÜm©
)

1782 
UNKNOWN_FORMAT
:

1785 
DUMB_FORMAT
:

1786 
	`ouut_Úe_dumb_lše
 ();

1789 
ROFF_FORMAT
:

1790 
	`ouut_Úe_roff_lše
 ();

1793 
TEX_FORMAT
:

1794 
	`ouut_Úe_‹x_lše
 ();

1800 
occurs_cursÜ
++;

1802 
	}
}

1811 
	$u§ge
 (
¡©us
)

1813 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

1814 
	`em™_Œy_h–p
 ();

1817 
	`´štf
 (
	`_
("\
: %s [OPTION]... [INPUT]... (without -G)\n\
: %s -G [OPTION]... [INPUT [OUTPUT]]\n"),

1820 
´og¿m_Çme
,…rogram_name);

1821 
	`åuts
 (
	`_
("\
‡…”mu‹d index, inşudšg cÚ‹xt, oàthwÜd šhšpuˆfes.\n\
"), 
¡dout
);

1825 
	`em™_mªd©Üy_¬g_nÙe
 ();

1827 
	`åuts
 (
	`_
("\
-A, --auto-»ã»nû ouuˆautom©iÿÎy g’”©ed„eã»nûs\n\
-G, --Œad™iÚ® behavmÜlikSy¡em V '±x'\n\
-F, --æag-ŒunÿtiÚ=STRING u£ STRING fÜ fÏggšg†šŒunÿtiÚs\n\
"), 
¡dout
);

1832 
	`åuts
 (
	`_
("\
-M, --maüo-Çme=STRING maüØÇmtØu£ in¡—d oà'xx'\n\
-O, --fÜm©ôofà g’”©ouuˆa rofàdœeùives\n\
-R, --right-side-»f …uˆ»ã»nû ©„ight,‚Ù couÁed iÀ-w\n\
-S, --£Á’û-»gexp=REGEXP fÜƒnd oàlše Üƒnd oà£Á’ûs\n\
-T, --fÜm©ñex g’”©ouuˆa TeX dœeùives\n\
"), 
¡dout
);

1839 
	`åuts
 (
	`_
("\
-W, --wÜd-»gexp=REGEXP u£ REGEXPØm©chƒach keywÜd\n\
-b, --b»ak-fe=FILE wÜd b»ak ch¬aù” šhi FILE\n\
-f, --ignÜe-ÿ£ fŞd†ow” ca£Øuµ” ca£ fÜ sÜtšg\n\
-g, --g­-size=NUMBER g­ sizš cŞumn b‘w“Àouuˆf›lds\n\
-i, --ignÜe-fe=FILE„—d ignÜwÜd†i¡ from FILE\n\
-o, --Úly-fe=FILE„—d oÆy wÜd†i¡ fromhi FILE\n\
"), 
¡dout
);

1847 
	`åuts
 (
	`_
("\
-r, --»ã»nû  fœ¡ f›ld oà—ch†ši ¨»ã»nû\n\
-t, --ty³£t-mod -‚Ù im¶em’‹d -\n\
-w, --width=NUMBER ouuˆwidth iÀcŞumns,„eã»nûƒxşuded\n\
"), 
¡dout
);

1852 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

1853 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

1854 
	`åuts
 (
	`_
("\
\n\
‚ØFILE o¸iàFILE i -,„—d Snd¬d IÅut. '-F /' by deçuÉ.\n\
"), 
¡dout
);

1858 
	`em™_ªcÏry_šfo
 ();

1860 
	`ex™
 (
¡©us
);

1861 
	}
}

1869 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

1871 {"auto-»ã»nû", 
no_¬gum’t
, 
NULL
, 'A'},

1872 {"b»ak-fe", 
»quœed_¬gum’t
, 
NULL
, 'b'},

1873 {"æag-ŒunÿtiÚ", 
»quœed_¬gum’t
, 
NULL
, 'F'},

1874 {"ignÜe-ÿ£", 
no_¬gum’t
, 
NULL
, 'f'},

1875 {"g­-size", 
»quœed_¬gum’t
, 
NULL
, 'g'},

1876 {"ignÜe-fe", 
»quœed_¬gum’t
, 
NULL
, 'i'},

1877 {"maüo-Çme", 
»quœed_¬gum’t
, 
NULL
, 'M'},

1878 {"Úly-fe", 
»quœed_¬gum’t
, 
NULL
, 'o'},

1879 {"»ã»nûs", 
no_¬gum’t
, 
NULL
, 'r'},

1880 {"right-side-»fs", 
no_¬gum’t
, 
NULL
, 'R'},

1881 {"fÜm©", 
»quœed_¬gum’t
, 
NULL
, 10},

1882 {"£Á’û-»gexp", 
»quœed_¬gum’t
, 
NULL
, 'S'},

1883 {"Œad™iÚ®", 
no_¬gum’t
, 
NULL
, 'G'},

1884 {"ty³£t-mode", 
no_¬gum’t
, 
NULL
, 't'},

1885 {"width", 
»quœed_¬gum’t
, 
NULL
, 'w'},

1886 {"wÜd-»gexp", 
»quœed_¬gum’t
, 
NULL
, 'W'},

1887 {
GETOPT_HELP_OPTION_DECL
},

1888 {
GETOPT_VERSION_OPTION_DECL
},

1889 {
NULL
, 0, NULL, 0},

1892 cÚ¡* cÚ¡ 
	gfÜm©_¬gs
[] =

1894 "roff", "‹x", 
NULL


1897 
FÜm©
 cÚ¡ 
	gfÜm©_v®s
[] =

1899 
ROFF_FORMAT
, 
TEX_FORMAT


1903 
	$maš
 (
¬gc
, **
¬gv
)

1905 
İtch¬
;

1906 
fe_šdex
;

1910 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1911 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1912 
	`£oÿË
 (
LC_ALL
, "");

1913 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1914 
	`‹xtdomaš
 (
PACKAGE
);

1916 
	`©ex™
 (
şo£_¡dout
);

1918 #ià
HAVE_SETCHRCLASS


1919 
	`£tchrşass
 (
NULL
);

1922 
İtch¬
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "AF:GM:ORS:TW:b:i:fg:o:trw:",

1923 
lÚg_İtiÚs
, 
NULL
),

1924 
İtch¬
 !ğ
EOF
)

1926 
İtch¬
)

1929 
	`u§ge
 (
EXIT_FAILURE
);

1932 
gnu_ex‹nsiÚs
 = 
çl£
;

1936 
b»ak_fe
 = 
İrg
;

1940 
ignÜe_ÿ£
 = 
Œue
;

1945 
tmp_ulÚg
;

1946 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 0, &
tmp_ulÚg
, NULLè!ğ
LONGINT_OK


1947 || ! (0 < 
tmp_ulÚg
 &&mp_ulÚg <ğ
INT_MAX
))

1948 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid gap width: %s"),

1949 
	`quÙ—rg
 (
İrg
));

1950 
g­_size
 = 
tmp_ulÚg
;

1955 
ignÜe_fe
 = 
İrg
;

1959 
Úly_fe
 = 
İrg
;

1963 
šput_»ã»nû
 = 
Œue
;

1972 
tmp_ulÚg
;

1973 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 0, &
tmp_ulÚg
, NULLè!ğ
LONGINT_OK


1974 || ! (0 < 
tmp_ulÚg
 &&mp_ulÚg <ğ
INT_MAX
))

1975 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid†ine width: %s"),

1976 
	`quÙ—rg
 (
İrg
));

1977 
lše_width
 = 
tmp_ulÚg
;

1982 
auto_»ã»nû
 = 
Œue
;

1986 
ŒunÿtiÚ_¡ršg
 = 
	`cİy_uÃsÿ³d_¡ršg
 (
İrg
);

1990 
maüo_Çme
 = 
İrg
;

1994 
ouut_fÜm©
 = 
ROFF_FORMAT
;

1998 
right_»ã»nû
 = 
Œue
;

2002 
cÚ‹xt_»gex
.
¡ršg
 = 
	`cİy_uÃsÿ³d_¡ršg
 (
İrg
);

2006 
ouut_fÜm©
 = 
TEX_FORMAT
;

2010 
wÜd_»gex
.
¡ršg
 = 
	`cİy_uÃsÿ³d_¡ršg
 (
İrg
);

2011 ià(!*
wÜd_»gex
.
¡ršg
)

2012 
wÜd_»gex
.
¡ršg
 = 
NULL
;

2016 
ouut_fÜm©
 = 
	`XARGMATCH
 ("--fÜm©", 
İrg
,

2017 
fÜm©_¬gs
, 
fÜm©_v®s
);

2018 
ÿ£_GETOPT_HELP_CHAR
;

2020 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2028 ià(
İtšd
 =ğ
¬gc
)

2033 
šput_fe_Çme
 = 
	`xm®loc
 ( *input_file_name);

2034 
fe_lše_couÁ
 = 
	`xm®loc
 ( *file_line_count);

2035 
numb”_šput_fes
 = 1;

2036 
šput_fe_Çme
[0] = 
NULL
;

2038 ià(
gnu_ex‹nsiÚs
)

2040 
numb”_šput_fes
 = 
¬gc
 - 
İtšd
;

2041 
šput_fe_Çme
 = 
	`xm®loc
 (
numb”_šput_fes
 *  *input_file_name);

2042 
fe_lše_couÁ
 = 
	`xm®loc
 (
numb”_šput_fes
 *  *file_line_count);

2044 
fe_šdex
 = 0; fe_šdex < 
numb”_šput_fes
; file_index++)

2046 ià(!*
¬gv
[
İtšd
] || 
	`STREQ
 (argv[optind], "-"))

2047 
šput_fe_Çme
[
fe_šdex
] = 
NULL
;

2049 
šput_fe_Çme
[
fe_šdex
] = 
¬gv
[
İtšd
];

2050 
İtšd
++;

2058 
numb”_šput_fes
 = 1;

2059 
šput_fe_Çme
 = 
	`xm®loc
 ( *input_file_name);

2060 
fe_lše_couÁ
 = 
	`xm®loc
 ( *file_line_count);

2061 ià(!*
¬gv
[
İtšd
] || 
	`STREQ
 (argv[optind], "-"))

2062 
šput_fe_Çme
[0] = 
NULL
;

2064 
šput_fe_Çme
[0] = 
¬gv
[
İtšd
];

2065 
İtšd
++;

2069 ià(
İtšd
 < 
¬gc
)

2071 ià(! 
	`äeİ’
 (
¬gv
[
İtšd
], "w", 
¡dout
))

2072 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
¬gv
[
İtšd
]);

2073 
İtšd
++;

2078 ià(
İtšd
 < 
¬gc
)

2080 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

2081 
	`u§ge
 (
EXIT_FAILURE
);

2088 ià(
ouut_fÜm©
 =ğ
UNKNOWN_FORMAT
)

2089 
ouut_fÜm©
 = 
gnu_ex‹nsiÚs
 ? 
DUMB_FORMAT
 : 
ROFF_FORMAT
;

2093 
	`š™Ÿlize_»gex
 ();

2097 ià(
b»ak_fe
)

2098 
	`dige¡_b»ak_fe
 (
b»ak_fe
);

2104 ià(
ignÜe_fe
)

2106 
	`dige¡_wÜd_fe
 (
ignÜe_fe
, &
ignÜe_bË
);

2107 ià(
ignÜe_bË
.
Ëngth
 == 0)

2108 
ignÜe_fe
 = 
NULL
;

2111 ià(
Úly_fe
)

2113 
	`dige¡_wÜd_fe
 (
Úly_fe
, &
Úly_bË
);

2114 ià(
Úly_bË
.
Ëngth
 == 0)

2115 
Úly_fe
 = 
NULL
;

2120 
numb”_of_occurs
[0] = 0;

2121 
tÙ®_lše_couÁ
 = 0;

2122 
maximum_wÜd_Ëngth
 = 0;

2123 
»ã»nû_max_width
 = 0;

2125 
fe_šdex
 = 0; fe_šdex < 
numb”_šput_fes
; file_index++)

2130 
	`sw®low_fe_š_memÜy
 (
šput_fe_Çme
[
fe_šdex
], &
‹xt_bufãr
);

2131 
	`fšd_occurs_š_‹xt
 ();

2137 
tÙ®_lše_couÁ
++;

2138 
fe_lše_couÁ
[
fe_šdex
] = 
tÙ®_lše_couÁ
;

2143 
	`sÜt_found_occurs
 ();

2144 
	`fix_ouut_·¿m‘”s
 ();

2145 
	`g’”©e_®l_ouut
 ();

2149 
	`ex™
 (
EXIT_SUCCESS
);

2150 
	}
}

	@pwd.c

17 
	~<cÚfig.h
>

18 
	~<g‘İt.h
>

19 
	~<¡dio.h
>

20 
	~<sys/ty³s.h
>

22 
	~"sy¡em.h
"

23 
	~"”rÜ.h
"

24 
	~"quÙe.h
"

25 
	~"roÙ-dev-šo.h
"

26 
	~"xg‘cwd.h
"

29 
	#PROGRAM_NAME
 "pwd"

	)

31 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

33 
	sfe_Çme


35 *
	mbuf
;

36 
size_t
 
	mn_®loc
;

37 *
	m¡¬t
;

40 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

42 {"logiÿl", 
no_¬gum’t
, 
NULL
, 'L'},

43 {"physiÿl", 
no_¬gum’t
, 
NULL
, 'P'},

44 {
GETOPT_HELP_OPTION_DECL
},

45 {
GETOPT_VERSION_OPTION_DECL
},

46 {
NULL
, 0, NULL, 0}

50 
	$u§ge
 (
¡©us
)

52 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

53 
	`em™_Œy_h–p
 ();

56 
	`´štf
 (
	`_
("U§ge: % [OPTION]...\n"), 
´og¿m_Çme
);

57 
	`åuts
 (
	`_
("\
hfuÎ f’amoàthcu¼’ˆwÜkšg dœeùÜy.\n\
\n\
"), 
¡dout
);

61 
	`åuts
 (
	`_
("\
-L, --logiÿÈ u£ PWD fromƒnvœÚm’t,ƒv’ ià™ cÚš symlšks\n\
-P, --physiÿÈ‡void‡Î symlšks\n\
"), 
¡dout
);

65 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

66 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

67 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

68 
	`em™_ªcÏry_šfo
 ();

70 
	`ex™
 (
¡©us
);

71 
	}
}

74 
	$fe_Çme_ä“
 (
fe_Çme
 *
p
)

76 
	`ä“
 (
p
->
buf
);

77 
	`ä“
 (
p
);

78 
	}
}

80 
fe_Çme
 *

81 
	$fe_Çme_š™
 ()

83 
fe_Çme
 *
p
 = 
	`xm®loc
 ( *p);

87 
p
->
n_®loc
 = 
	`MIN
 (2 * 
PATH_MAX
, 32 * 1024);

89 
p
->
buf
 = 
	`xm®loc
 (p->
n_®loc
);

90 
p
->
¡¬t
 =…->
buf
 + (p->
n_®loc
 - 1);

91 
p
->
¡¬t
[0] = '\0';

92  
p
;

93 
	}
}

97 
	$fe_Çme_´•’d
 (
fe_Çme
 *
p
, cÚ¡ *
s
, 
size_t
 
s_Ën
)

99 
size_t
 
n_ä“
 = 
p
->
¡¬t
 -…->
buf
;

100 ià(
n_ä“
 < 1 + 
s_Ën
)

102 
size_t
 
h®f
 = 
p
->
n_®loc
 + 1 + 
s_Ën
;

107 *
q
 = 
	`xnm®loc
 (2, 
h®f
);

108 
size_t
 
n_u£d
 = 
p
->
n_®loc
 - 
n_ä“
;

109 
p
->
¡¬t
 = 
q
 + 2 * 
h®f
 - 
n_u£d
;

110 
	`memıy
 (
p
->
¡¬t
,…->
buf
 + 
n_ä“
, 
n_u£d
);

111 
	`ä“
 (
p
->
buf
);

112 
p
->
buf
 = 
q
;

113 
p
->
n_®loc
 = 2 * 
h®f
;

116 
p
->
¡¬t
 -ğ1 + 
s_Ën
;

117 
p
->
¡¬t
[0] = '/';

118 
	`memıy
 (
p
->
¡¬t
 + 1, 
s
, 
s_Ën
);

119 
	}
}

123 
	$Áh_·»Á
 (
size_t
 
n
)

125 *
buf
 = 
	`xnm®loc
 (3, 
n
);

126 *
p
 = 
buf
;

127 
size_t
 
i
;

129 
i
 = 0; i < 
n
; i++)

131 
	`memıy
 (
p
, "../", 3);

132 
p
 += 3;

134 
p
[-1] = '\0';

135  
buf
;

136 
	}
}

150 
	$fšd_dœ_’Œy
 (
¡©
 *
dÙ_sb
, 
fe_Çme
 *file_name,

151 
size_t
 
·»Á_height
)

153 
DIR
 *
dœp
;

154 
fd
;

155 
¡©
 
·»Á_sb
;

156 
boŞ
 
u£_l¡©
;

157 
boŞ
 
found
;

159 
dœp
 = 
	`İ’dœ
 ("..");

160 ià(
dœp
 =ğ
NULL
)

161 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot open directory %s"),

162 
	`quÙe
 (
	`Áh_·»Á
 (
·»Á_height
)));

164 
fd
 = 
	`dœfd
 (
dœp
);

165 ià((0 <ğ
fd
 ? 
	`fchdœ
 (fdè: 
	`chdœ
 ("..")) < 0)

166 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo chdiro %s"),

167 
	`quÙe
 (
	`Áh_·»Á
 (
·»Á_height
)));

169 ià((0 <ğ
fd
 ? 
	`f¡©
 (fd, &
·»Á_sb
è: 
	`¡©
 (".", &parent_sb)) < 0)

170 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo stat %s"),

171 
	`quÙe
 (
	`Áh_·»Á
 (
·»Á_height
)));

175 
u£_l¡©
 = (
·»Á_sb
.
¡_dev
 !ğ
dÙ_sb
->st_dev);

177 
found
 = 
çl£
;

180 
dœ’t
 cÚ¡ *
dp
;

181 
¡©
 
’t_sb
;

182 
šo_t
 
šo
;

184 
”ºo
 = 0;

185 ià((
dp
 = 
	`»addœ_ignÜšg_dÙ_ªd_dÙdÙ
 (
dœp
)è=ğ
NULL
)

187 ià(
”ºo
)

190 
e
 = 
”ºo
;

191 
	`şo£dœ
 (
dœp
);

192 
”ºo
 = 
e
;

195 
dœp
 = 
NULL
;

200 
šo
 = 
	`D_INO
 (
dp
);

202 ià(
šo
 =ğ
NOT_AN_INODE_NUMBER
 || 
u£_l¡©
)

204 ià(
	`l¡©
 (
dp
->
d_Çme
, &
’t_sb
) < 0)

209 
šo
 = 
’t_sb
.
¡_šo
;

212 ià(
šo
 !ğ
dÙ_sb
->
¡_šo
)

217 iàĞ! 
u£_l¡©
 || 
’t_sb
.
¡_dev
 =ğ
dÙ_sb
->st_dev)

219 
	`fe_Çme_´•’d
 (
fe_Çme
, 
dp
->
d_Çme
, 
	`_D_EXACT_NAMLEN
 (dp));

220 
found
 = 
Œue
;

225 ià(
dœp
 =ğ
NULL
 || 
	`şo£dœ
 (dirp) != 0)

229 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("reading directory %s"),

230 
	`quÙe
 (
	`Áh_·»Á
 (
·»Á_height
)));

233 iàĞ! 
found
)

234 
	`”rÜ
 (
EXIT_FAILURE
, 0,

235 
	`_
("couldn't find directoryƒntry in %s with matching i-node"),

236 
	`quÙe
 (
	`Áh_·»Á
 (
·»Á_height
)));

238 *
dÙ_sb
 = 
·»Á_sb
;

239 
	}
}

265 
	$robu¡_g‘cwd
 (
fe_Çme
 *file_name)

267 
size_t
 
height
 = 1;

268 
dev_šo
 
dev_šo_buf
;

269 
dev_šo
 *
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

270 
¡©
 
dÙ_sb
;

272 ià(
roÙ_dev_šo
 =ğ
NULL
)

273 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

274 
	`quÙe
 ("/"));

276 ià(
	`¡©
 (".", &
dÙ_sb
) < 0)

277 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ¡© %s"), 
	`quÙe
 ("."));

282 ià(
	`SAME_INODE
 (
dÙ_sb
, *
roÙ_dev_šo
))

285 
	`fšd_dœ_’Œy
 (&
dÙ_sb
, 
fe_Çme
, 
height
++);

289 ià(
fe_Çme
->
¡¬t
[0] == '\0')

290 
	`fe_Çme_´•’d
 (
fe_Çme
, "", 0);

291 
	}
}

297 
	$logiÿl_g‘cwd
 ()

299 
¡©
 
¡1
;

300 
¡©
 
¡2
;

301 *
wd
 = 
	`g‘’v
 ("PWD");

302 *
p
;

305 ià(!
wd
 || wd[0] != '/')

306  
NULL
;

307 
p
 = 
wd
;

308 (
p
 = 
	`¡r¡r
 (p, "/.")))

310 ià(!
p
[2] ||…[2] == '/'

311 || (
p
[2] == '.' && (!p[3] ||…[3] == '/')))

312  
NULL
;

313 
p
++;

317 ià(
	`¡©
 (
wd
, &
¡1
è=ğ0 && sˆ(".", &
¡2
è=ğ0 && 
	`SAME_INODE
 (st1, st2))

318  
wd
;

319  
NULL
;

320 
	}
}

324 
	$maš
 (
¬gc
, **
¬gv
)

326 *
wd
;

328 
boŞ
 
logiÿl
 = (
	`g‘’v
 ("POSIXLY_CORRECT"è!ğ
NULL
);

330 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

331 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

332 
	`£oÿË
 (
LC_ALL
, "");

333 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

334 
	`‹xtdomaš
 (
PACKAGE
);

336 
	`©ex™
 (
şo£_¡dout
);

340 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "LP", 
lÚgİts
, 
NULL
);

341 ià(
c
 == -1)

343 
c
)

346 
logiÿl
 = 
Œue
;

349 
logiÿl
 = 
çl£
;

352 
ÿ£_GETOPT_HELP_CHAR
;

354 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

357 
	`u§ge
 (
EXIT_FAILURE
);

361 ià(
İtšd
 < 
¬gc
)

362 
	`”rÜ
 (0, 0, 
	`_
("ignoring‚on-option‡rguments"));

364 ià(
logiÿl
)

366 
wd
 = 
	`logiÿl_g‘cwd
 ();

367 ià(
wd
)

369 
	`puts
 (
wd
);

370 
	`ex™
 (
EXIT_SUCCESS
);

374 
wd
 = 
	`xg‘cwd
 ();

375 ià(
wd
 !ğ
NULL
)

377 
	`puts
 (
wd
);

378 
	`ä“
 (
wd
);

382 
fe_Çme
 *fe_Çmğ
	`fe_Çme_š™
 ();

383 
	`robu¡_g‘cwd
 (
fe_Çme
);

384 
	`puts
 (
fe_Çme
->
¡¬t
);

385 
	`fe_Çme_ä“
 (
fe_Çme
);

388 
	`ex™
 (
EXIT_SUCCESS
);

389 
	}
}

	@readlink.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"ÿnÚiÿlize.h
"

26 
	~"”rÜ.h
"

27 
	~"¬—dlšk.h
"

30 
	#PROGRAM_NAME
 "»adlšk"

	)

32 
	#AUTHORS
 
	`´İ”_Çme
 ("Dm™ry V. Levš")

	)

35 
boŞ
 
	gno_Ãwlše
;

38 
boŞ
 
	gv”bo£
;

40 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

42 {"ÿnÚiÿlize", 
no_¬gum’t
, 
NULL
, 'f'},

43 {"ÿnÚiÿlize-exi¡šg", 
no_¬gum’t
, 
NULL
, 'e'},

44 {"ÿnÚiÿlize-missšg", 
no_¬gum’t
, 
NULL
, 'm'},

45 {"no-Ãwlše", 
no_¬gum’t
, 
NULL
, 'n'},

46 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

47 {"s’t", 
no_¬gum’t
, 
NULL
, 's'},

48 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

49 {"z”o", 
no_¬gum’t
, 
NULL
, 'z'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$u§ge
 (
¡©us
)

58 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

59 
	`em™_Œy_h–p
 ();

62 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

63 
	`åuts
 (
	`_
("Print value of‡ symbolic†ink or canonical file‚ame\n\n"),

64 
¡dout
);

65 
	`åuts
 (
	`_
("\
-f, --ÿnÚiÿliz cªÚiÿlizby fŞlowšgƒv”y symlšk in\n\
 compÚ’ˆoàthgiv’‚am»cursiv–y;\
\n\
 buˆthÏ¡ compÚ’ˆmu¡ƒxi¡\n\
-e, --ÿnÚiÿlize-exi¡šg cªÚiÿlizby fŞlowšgƒv”y symlšk in\n\
 compÚ’ˆoàthgiv’‚am»cursiv–y,\
\n\
 compÚ’t mu¡ƒxi¡\n\
"), 
¡dout
);

75 
	`åuts
 (
	`_
("\
-m, --ÿnÚiÿlize-missšg cªÚiÿlizby fŞlowšgƒv”y symlšk in\n\
 compÚ’ˆoàthgiv’‚am»cursiv–y,\
\n\
„equœem’t Ú compÚ’t exi¡’û\n\
-n, --no-Ãwlš dØnÙ ouuˆthŒašg d–im™”\n\
-q, --qu›t,\n\
-s, --s’ˆ suµ»s mo¡ƒ¼Ü mes§ges\n\
-v, --v”bo£„•Üˆ”rÜ mes§ges\n\
-z, --z”Ø s•¬©ouuˆw™h NUL„©h”hª‚ewlše\n\
"), 
¡dout
);

86 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

87 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

88 
	`em™_ªcÏry_šfo
 ();

90 
	`ex™
 (
¡©us
);

91 
	}
}

94 
	$maš
 (
¬gc
, **
¬gv
)

97 
ÿn_mode
 = -1;

98 
¡©us
 = 
EXIT_SUCCESS
;

99 
İtc
;

100 
boŞ
 
u£_nuls
 = 
çl£
;

102 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

103 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

104 
	`£oÿË
 (
LC_ALL
, "");

105 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

106 
	`‹xtdomaš
 (
PACKAGE
);

108 
	`©ex™
 (
şo£_¡dout
);

110 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "efmnqsvz", 
lÚgİts
, 
NULL
)) != -1)

112 
İtc
)

115 
ÿn_mode
 = 
CAN_EXISTING
;

118 
ÿn_mode
 = 
CAN_ALL_BUT_LAST
;

121 
ÿn_mode
 = 
CAN_MISSING
;

124 
no_Ãwlše
 = 
Œue
;

128 
v”bo£
 = 
çl£
;

131 
v”bo£
 = 
Œue
;

134 
u£_nuls
 = 
Œue
;

136 
ÿ£_GETOPT_HELP_CHAR
;

137 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

139 
	`u§ge
 (
EXIT_FAILURE
);

143 ià(
İtšd
 >ğ
¬gc
)

145 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

146 
	`u§ge
 (
EXIT_FAILURE
);

149 ià(
¬gc
 - 
İtšd
 > 1)

151 ià(
no_Ãwlše
)

152 
	`”rÜ
 (0, 0, 
	`_
("ignoring --no-newline with multiple‡rguments"));

153 
no_Ãwlše
 = 
çl£
;

156 ; 
İtšd
 < 
¬gc
; ++optind)

158 cÚ¡ *
âame
 = 
¬gv
[
İtšd
];

159 *
v®ue
 = (
ÿn_mode
 != -1

160 ? 
	`ÿnÚiÿlize_f’ame_mode
 (
âame
, 
ÿn_mode
)

161 : 
	`¬—dlšk_w™h_size
 (
âame
, 63));

162 ià(
v®ue
)

164 
	`åuts
 (
v®ue
, 
¡dout
);

165 ià(! 
no_Ãwlše
)

166 
	`putch¬
 (
u£_nuls
 ? '\0' : '\n');

167 
	`ä“
 (
v®ue
);

171 
¡©us
 = 
EXIT_FAILURE
;

172 ià(
v”bo£
)

173 
	`”rÜ
 (0, 
”ºo
, "%s", 
âame
);

177  
¡©us
;

178 
	}
}

	@realpath.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"ÿnÚiÿlize.h
"

26 
	~"”rÜ.h
"

27 
	~"quÙe.h
"

28 
	~"»Í©h.h
"

31 
	#PROGRAM_NAME
 "»®·th"

	)

33 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("Pad¿ig B¿dy", "P\303\241d¿ig B¿dy")

	)

37 
	mRELATIVE_TO_OPTION
 = 
CHAR_MAX
 + 1,

38 
	mRELATIVE_BASE_OPTION


41 
boŞ
 
	gv”bo£
 = 
Œue
;

42 
boŞ
 
	glogiÿl
;

43 
boŞ
 
	gu£_nuls
;

44 cÚ¡ *
	gÿn_»Ïtive_to
;

45 cÚ¡ *
	gÿn_»Ïtive_ba£
;

47 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

49 {"ÿnÚiÿlize-exi¡šg", 
no_¬gum’t
, 
NULL
, 'e'},

50 {"ÿnÚiÿlize-missšg", 
no_¬gum’t
, 
NULL
, 'm'},

51 {"»Ïtive-to", 
»quœed_¬gum’t
, 
NULL
, 
RELATIVE_TO_OPTION
},

52 {"»Ïtive-ba£", 
»quœed_¬gum’t
, 
NULL
, 
RELATIVE_BASE_OPTION
},

53 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

54 {"¡r", 
no_¬gum’t
, 
NULL
, 's' },

55 {"no-symlšks", 
no_¬gum’t
, 
NULL
, 's'},

56 {"z”o", 
no_¬gum’t
, 
NULL
, 'z'},

57 {"logiÿl", 
no_¬gum’t
, 
NULL
, 'L'},

58 {"physiÿl", 
no_¬gum’t
, 
NULL
, 'P'},

59 {
GETOPT_HELP_OPTION_DECL
},

60 {
GETOPT_VERSION_OPTION_DECL
},

61 {
NULL
, 0, NULL, 0}

65 
	$u§ge
 (
¡©us
)

67 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

68 
	`em™_Œy_h–p
 ();

71 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

72 
	`åuts
 (
	`_
("\
h»sŞved‡bsŞu‹ fÇme;\n\
 buˆthÏ¡ compÚ’ˆmu¡ƒxi¡\n\
\n\
"), 
¡dout
);

77 
	`åuts
 (
	`_
("\
-e, --ÿnÚiÿlize-exi¡šg‡Î compÚ’t oàth·th mu¡ƒxi¡\n\
-m, --ÿnÚiÿlize-missšg‚ØcompÚ’t oàth·th‚“dƒxi¡\n\
-L, --logiÿÈ„esŞv'..' compÚ’t befÜsymlšks\n\
-P, --physiÿÈ„esŞvsymlšk a ’couÁ”ed (deçuÉ)\n\
-q, --qu›ˆ suµ»s mo¡ƒ¼Ü mes§ges\n\
--»Ïtive-to=FILE…ršˆth»sŞved…©h„–©ivtØFILE\n\
--»Ïtive-ba£=FILE…ršˆabsŞu‹…©h uÆes ·th b–ow FILE\n\
-s, --¡r, --no-symlšk  dÚ'ˆex·nd symlšks\n\
-z, --z”Ø s•¬©ouuˆw™h NUL„©h”hª‚ewlše\n\
\n\
"), 
¡dout
);

89 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

90 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

91 
	`em™_ªcÏry_šfo
 ();

93 
	`ex™
 (
¡©us
);

94 
	}
}

99 
	$»®·th_ÿnÚ
 (cÚ¡ *
âame
, 
ÿn_mode
)

101 *
ÿn_âame
 = 
	`ÿnÚiÿlize_f’ame_mode
 (
âame
, 
ÿn_mode
);

102 ià(
logiÿl
 && 
ÿn_âame
)

104 
ÿn_mode
 &ğ~
CAN_NOLINKS
;

105 *
ÿn_âame2
 = 
	`ÿnÚiÿlize_f’ame_mode
 (
ÿn_âame
, 
ÿn_mode
);

106 
	`ä“
 (
ÿn_âame
);

107  
ÿn_âame2
;

109  
ÿn_âame
;

110 
	}
}

113 
boŞ
 
_GL_ATTRIBUTE_PURE


114 
	$·th_´efix
 (cÚ¡ *
´efix
, cÚ¡ *
·th
)

117 
´efix
++;

118 
·th
++;

122 ià(!*
´efix
)

123  *
·th
 != '/';

126 ià(*
´efix
 == '/' && !prefix[1])

127  *
·th
 == '/';

130 *
´efix
 && *
·th
)

132 ià(*
´efix
 !ğ*
·th
)

134 
´efix
++;

135 
·th
++;

137  (!*
´efix
 && (*
·th
 == '/' || !*path));

138 
	}
}

140 
boŞ


141 
	$isdœ
 (cÚ¡ *
·th
)

143 
¡©
 
sb
;

144 ià(
	`¡©
 (
·th
, &
sb
) != 0)

145 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
·th
));

146  
	`S_ISDIR
 (
sb
.
¡_mode
);

147 
	}
}

149 
boŞ


150 
	$´oûss_·th
 (cÚ¡ *
âame
, 
ÿn_mode
)

152 *
ÿn_âame
 = 
	`»®·th_ÿnÚ
 (
âame
, 
ÿn_mode
);

153 ià(!
ÿn_âame
)

155 ià(
v”bo£
)

156 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`quÙe
 (
âame
));

157  
çl£
;

160 ià(!
ÿn_»Ïtive_to


161 || (
ÿn_»Ïtive_ba£
 && !
	`·th_´efix
 (ÿn_»Ïtive_ba£, 
ÿn_âame
))

162 || (
ÿn_»Ïtive_to
 && !
	`»Í©h
 (
ÿn_âame
, cª_»Ïtive_to, 
NULL
, 0)))

163 
	`åuts
 (
ÿn_âame
, 
¡dout
);

165 
	`putch¬
 (
u£_nuls
 ? '\0' : '\n');

167 
	`ä“
 (
ÿn_âame
);

169  
Œue
;

170 
	}
}

173 
	$maš
 (
¬gc
, **
¬gv
)

175 
boŞ
 
ok
 = 
Œue
;

176 
ÿn_mode
 = 
CAN_ALL_BUT_LAST
;

177 cÚ¡ *
»Ïtive_to
 = 
NULL
;

178 cÚ¡ *
»Ïtive_ba£
 = 
NULL
;

180 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

181 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

182 
	`£oÿË
 (
LC_ALL
, "");

183 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

184 
	`‹xtdomaš
 (
PACKAGE
);

186 
	`©ex™
 (
şo£_¡dout
);

190 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "eLmPqsz", 
lÚgİts
, 
NULL
);

191 ià(
c
 == -1)

193 
c
)

196 
ÿn_mode
 &ğ~
CAN_MODE_MASK
;

197 
ÿn_mode
 |ğ
CAN_EXISTING
;

200 
ÿn_mode
 &ğ~
CAN_MODE_MASK
;

201 
ÿn_mode
 |ğ
CAN_MISSING
;

204 
ÿn_mode
 |ğ
CAN_NOLINKS
;

205 
logiÿl
 = 
Œue
;

208 
ÿn_mode
 |ğ
CAN_NOLINKS
;

209 
logiÿl
 = 
çl£
;

212 
ÿn_mode
 &ğ~
CAN_NOLINKS
;

213 
logiÿl
 = 
çl£
;

216 
v”bo£
 = 
çl£
;

219 
u£_nuls
 = 
Œue
;

221 
RELATIVE_TO_OPTION
:

222 
»Ïtive_to
 = 
İrg
;

224 
RELATIVE_BASE_OPTION
:

225 
»Ïtive_ba£
 = 
İrg
;

227 
ÿ£_GETOPT_HELP_CHAR
;

228 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

230 
	`u§ge
 (
EXIT_FAILURE
);

234 ià(
İtšd
 >ğ
¬gc
)

236 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

237 
	`u§ge
 (
EXIT_FAILURE
);

240 ià(
»Ïtive_ba£
 && !
»Ïtive_to
)

241 
»Ïtive_to
 = 
»Ïtive_ba£
;

243 
boŞ
 
Ãed_dœ
 = (
ÿn_mode
 & 
CAN_MODE_MASK
è=ğ
CAN_EXISTING
;

244 ià(
»Ïtive_to
)

246 
ÿn_»Ïtive_to
 = 
	`»®·th_ÿnÚ
 (
»Ïtive_to
, 
ÿn_mode
);

247 ià(!
ÿn_»Ïtive_to
)

248 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
»Ïtive_to
));

249 ià(
Ãed_dœ
 && !
	`isdœ
 (
ÿn_»Ïtive_to
))

250 
	`”rÜ
 (
EXIT_FAILURE
, 
ENOTDIR
, "%s", 
	`quÙe
 (
»Ïtive_to
));

252 ià(
»Ïtive_ba£
 =ğ
»Ïtive_to
)

253 
ÿn_»Ïtive_ba£
 = 
ÿn_»Ïtive_to
;

254 ià(
»Ïtive_ba£
)

256 *
ba£
 = 
	`»®·th_ÿnÚ
 (
»Ïtive_ba£
, 
ÿn_mode
);

257 ià(!
ba£
)

258 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 (
»Ïtive_ba£
));

259 ià(
Ãed_dœ
 && !
	`isdœ
 (
ba£
))

260 
	`”rÜ
 (
EXIT_FAILURE
, 
ENOTDIR
, "%s", 
	`quÙe
 (
»Ïtive_ba£
));

263 ià(
	`·th_´efix
 (
ba£
, 
ÿn_»Ïtive_to
))

264 
ÿn_»Ïtive_ba£
 = 
ba£
;

267 
	`ä“
 (
ba£
);

268 
ÿn_»Ïtive_ba£
 = 
ÿn_»Ïtive_to
;

269 
ÿn_»Ïtive_to
 = 
NULL
;

273 ; 
İtšd
 < 
¬gc
; ++optind)

274 
ok
 &ğ
	`´oûss_·th
 (
¬gv
[
İtšd
], 
ÿn_mode
);

276 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

277 
	}
}

	@relpath.c

19 
	~<cÚfig.h
>

21 
	~"”rÜ.h
"

22 
	~"sy¡em.h
"

23 
	~"»Í©h.h
"

29 
_GL_ATTRIBUTE_PURE


30 
	$·th_commÚ_´efix
 (cÚ¡ *
·th1
, cÚ¡ *
·th2
)

32 
i
 = 0;

33 
»t
 = 0;

38 ià((
·th1
[1] =ğ'/'è!ğ(
·th2
[1] == '/'))

41 *
·th1
 && *
·th2
)

43 ià(*
·th1
 !ğ*
·th2
)

45 ià(*
·th1
 == '/')

46 
»t
 = 
i
 + 1;

47 
·th1
++;

48 
·th2
++;

49 
i
++;

52 ià((!*
·th1
 && !*
·th2
)

53 || (!*
·th1
 && *
·th2
 == '/')

54 || (!*
·th2
 && *
·th1
 == '/'))

55 
»t
 = 
i
;

57  
»t
;

58 
	}
}

65 
boŞ


66 
	$bufãr_Ü_ouut
 (cÚ¡ * 
¡r
, **
pbuf
, 
size_t
 *
¶’
)

68 ià(*
pbuf
)

70 
size_t
 
¦’
 = 
	`¡¾’
 (
¡r
);

71 ià(
¦’
 >ğ*
¶’
)

72  
Œue
;

73 
	`memıy
 (*
pbuf
, 
¡r
, 
¦’
 + 1);

74 *
pbuf
 +ğ
¦’
;

75 *
¶’
 -ğ
¦’
;

79 
	`åuts
 (
¡r
, 
¡dout
);

82  
çl£
;

83 
	}
}

87 
boŞ


88 
	$»Í©h
 (cÚ¡ *
ÿn_âame
, cÚ¡ *
ÿn_»ldœ
, *
buf
, 
size_t
 
Ën
)

90 
boŞ
 
buf_”r
 = 
çl£
;

93 
commÚ_šdex
 = 
	`·th_commÚ_´efix
 (
ÿn_»ldœ
, 
ÿn_âame
);

94 ià(!
commÚ_šdex
)

95  
çl£
;

97 cÚ¡ *
»Éo_suffix
 = 
ÿn_»ldœ
 + 
commÚ_šdex
;

98 cÚ¡ *
âame_suffix
 = 
ÿn_âame
 + 
commÚ_šdex
;

101 ià(*
»Éo_suffix
 == '/')

102 
»Éo_suffix
++;

103 ià(*
âame_suffix
 == '/')

104 
âame_suffix
++;

108 ià(*
»Éo_suffix
)

110 
buf_”r
 |ğ
	`bufãr_Ü_ouut
 ("..", &
buf
, &
Ën
);

111 ; *
»Éo_suffix
; ++relto_suffix)

113 ià(*
»Éo_suffix
 == '/')

114 
buf_”r
 |ğ
	`bufãr_Ü_ouut
 ("/..", &
buf
, &
Ën
);

117 ià(*
âame_suffix
)

119 
buf_”r
 |ğ
	`bufãr_Ü_ouut
 ("/", &
buf
, &
Ën
);

120 
buf_”r
 |ğ
	`bufãr_Ü_ouut
 (
âame_suffix
, &
buf
, &
Ën
);

125 
buf_”r
 |ğ
	`bufãr_Ü_ouut
 (*
âame_suffix
 ? fname_suffix : ".",

126 &
buf
, &
Ën
);

129 ià(
buf_”r
)

130 
	`”rÜ
 (0, 
ENAMETOOLONG
, "%s", 
	`_
("generating„elative…ath"));

132  !
buf_”r
;

133 
	}
}

	@relpath.h

19 #iâdeà
_RELPATH_H


20 
	#_RELPATH_H


	)

22 
boŞ


23 
»Í©h
 (cÚ¡ *
ÿn_âame
, cÚ¡ *
ÿn_»ldœ
, *
buf
, 
size_t
 
Ën
);

	@remove.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<as£¹.h
>

24 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"fe-ty³.h
"

27 
	~"ignÜe-v®ue.h
"

28 
	~"quÙe.h
"

29 
	~"»move.h
"

30 
	~"roÙ-dev-šo.h
"

31 
	~"wr™e-ªy-fe.h
"

32 
	~"xás.h
"

33 
	~"ye¢o.h
"

35 
	eT”Çry


37 
	mT_UNKNOWN
 = 2,

38 
	mT_NO
,

39 
	mT_YES


41 
T”Çry
 
	tT”Çry
;

46 
	eProm±_aùiÚ


48 
	mPA_DESCEND_INTO_DIR
 = 2,

49 
	mPA_REMOVE_DIR


54 #ià! 
HAVE_STRUCT_DIRENT_D_TYPE


57 #undeà
DT_UNKNOWN


58 #undeà
DT_DIR


59 #undeà
DT_LNK


60 
	#DT_UNKNOWN
 0

	)

61 
	#DT_DIR
 1

	)

62 
	#DT_LNK
 2

	)

70 
	$ÿche_f¡©©
 (
fd
, cÚ¡ *
fe
, 
¡©
 *
¡
, 
æag
)

72 ià(
¡
->
¡_size
 =ğ-1 && 
	`f¡©©
 (
fd
, 
fe
, st, 
æag
) != 0)

74 
¡
->
¡_size
 = -2;

75 
¡
->
¡_šo
 = 
”ºo
;

77 ià(0 <ğ
¡
->
¡_size
)

79 
”ºo
 = (è
¡
->
¡_šo
;

81 
	}
}

84 
šlše
 
¡©
 *

85 
	$ÿche_¡©_š™
 (
¡©
 *
¡
)

87 
¡
->
¡_size
 = -1;

88  
¡
;

89 
	}
}

96 
	$wr™e_´Ùeùed_nÚ_symlšk
 (
fd_cwd
,

97 cÚ¡ *
fe
,

98 
¡©
 *
buf
)

100 ià(
	`ÿn_wr™e_ªy_fe
 ())

102 ià(
	`ÿche_f¡©©
 (
fd_cwd
, 
fe
, 
buf
, 
AT_SYMLINK_NOFOLLOW
) != 0)

104 ià(
	`S_ISLNK
 (
buf
->
¡_mode
))

155 ià(
	`çcûs§t
 (
fd_cwd
, 
fe
, 
W_OK
, 
AT_EACCESS
) == 0)

158  
”ºo
 =ğ
EACCES
 ? 1 : -1;

160 
	}
}

175 
RM_¡©us


176 
	$´om±
 (
FTS
 cÚ¡ *
ás
, 
FTSENT
 cÚ¡ *
’t
, 
boŞ
 
is_dœ
,

177 
rm_İtiÚs
 cÚ¡ *
x
, 
Prom±_aùiÚ
 
mode
,

178 
T”Çry
 *
is_em±y_p
)

180 
fd_cwd
 = 
ás
->
ás_cwd_fd
;

181 cÚ¡ *
fuÎ_Çme
 = 
’t
->
ás_·th
;

182 cÚ¡ *
f’ame
 = 
’t
->
ás_acı©h
;

183 ià(
is_em±y_p
)

184 *
is_em±y_p
 = 
T_UNKNOWN
;

186 
¡©
 
¡
;

187 
¡©
 *
sbuf
 = &
¡
;

188 
	`ÿche_¡©_š™
 (
sbuf
);

190 
dœ’t_ty³
 = 
is_dœ
 ? 
DT_DIR
 : 
DT_UNKNOWN
;

191 
wr™e_´Ùeùed
 = 0;

193 
boŞ
 
is_em±y
 = 
çl£
;

194 ià(
is_em±y_p
)

196 
is_em±y
 = 
	`is_em±y_dœ
 (
fd_cwd
, 
f’ame
);

197 *
is_em±y_p
 = 
is_em±y
 ? 
T_YES
 : 
T_NO
;

203 ià(
’t
->
ás_numb”
)

204  
RM_USER_DECLINED
;

206 ià(
x
->
š‹¿ùive
 =ğ
RMI_NEVER
)

207  
RM_OK
;

209 
wp_”ºo
 = 0;

210 ià(!
x
->
ignÜe_missšg_fes


211 && ((
x
->
š‹¿ùive
 =ğ
RMI_ALWAYS
è|| x->
¡dš_‰y
)

212 && 
dœ’t_ty³
 !ğ
DT_LNK
)

214 
wr™e_´Ùeùed
 = 
	`wr™e_´Ùeùed_nÚ_symlšk
 (
fd_cwd
, 
f’ame
, 
sbuf
);

215 
wp_”ºo
 = 
”ºo
;

218 ià(
wr™e_´Ùeùed
 || 
x
->
š‹¿ùive
 =ğ
RMI_ALWAYS
)

220 ià(0 <ğ
wr™e_´Ùeùed
 && 
dœ’t_ty³
 =ğ
DT_UNKNOWN
)

222 ià(
	`ÿche_f¡©©
 (
fd_cwd
, 
f’ame
, 
sbuf
, 
AT_SYMLINK_NOFOLLOW
) == 0)

224 ià(
	`S_ISLNK
 (
sbuf
->
¡_mode
))

225 
dœ’t_ty³
 = 
DT_LNK
;

226 ià(
	`S_ISDIR
 (
sbuf
->
¡_mode
))

227 
dœ’t_ty³
 = 
DT_DIR
;

233 
wr™e_´Ùeùed
 = -1;

234 
wp_”ºo
 = 
”ºo
;

238 ià(0 <ğ
wr™e_´Ùeùed
)

239 
dœ’t_ty³
)

241 
DT_LNK
:

243 ià(
x
->
š‹¿ùive
 !ğ
RMI_ALWAYS
)

244  
RM_OK
;

247 
DT_DIR
:

251 iàĞ! (
x
->
»cursive
 || (x->
»move_em±y_dœeùÜ›s
 && 
is_em±y
)))

253 
wr™e_´Ùeùed
 = -1;

254 
wp_”ºo
 = 
EISDIR
;

259 cÚ¡ *
quÙed_Çme
 = 
	`quÙe
 (
fuÎ_Çme
);

261 ià(
wr™e_´Ùeùed
 < 0)

263 
	`”rÜ
 (0, 
wp_”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
quÙed_Çme
);

264  
RM_ERROR
;

268 ià(
dœ’t_ty³
 =ğ
DT_DIR


269 && 
mode
 =ğ
PA_DESCEND_INTO_DIR


270 && !
is_em±y
)

271 
	`årštf
 (
¡d”r
,

272 (
wr™e_´Ùeùed


273 ? 
	`_
("%s: descend into write-protected directory %s? ")

274 : 
	`_
("%s: descend into directory %s? ")),

275 
´og¿m_Çme
, 
quÙed_Çme
);

278 ià(
	`ÿche_f¡©©
 (
fd_cwd
, 
f’ame
, 
sbuf
, 
AT_SYMLINK_NOFOLLOW
) != 0)

280 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
quÙed_Çme
);

281  
RM_ERROR
;

284 
	`årštf
 (
¡d”r
,

285 (
wr™e_´Ùeùed


290 ? 
	`_
("%s:„emove write-protected %s %s? ")

291 : 
	`_
("%s:„emove %s %s? ")),

292 
´og¿m_Çme
, 
	`fe_ty³
 (
sbuf
), 
quÙed_Çme
);

295 ià(!
	`ye¢o
 ())

296  
RM_USER_DECLINED
;

298  
RM_OK
;

299 
	}
}

304 
šlše
 
boŞ


305 
	$nÚexi¡’t_fe_”ºo
 (
”ºum
)

319 
”ºum
)

321 
EILSEQ
:

322 
EINVAL
:

323 
ENOENT
:

324 
ENOTDIR
:

325  
Œue
;

327  
çl£
;

329 
	}
}

332 
šlše
 
boŞ


333 
	$ignÜabË_missšg
 (
rm_İtiÚs
 cÚ¡ *
x
, 
”ºum
)

335  
x
->
ignÜe_missšg_fes
 && 
	`nÚexi¡’t_fe_”ºo
 (
”ºum
);

336 
	}
}

340 
	$ás_sk_Œ“
 (
FTS
 *
ás
, 
FTSENT
 *
’t
)

342 
	`ás_£t
 (
ás
, 
’t
, 
FTS_SKIP
);

344 
	`ignÜe_v®ue
 (
	`ás_»ad
 (
ás
));

345 
	}
}

351 
	$m¬k_ªû¡Ü_dœs
 (
FTSENT
 *
’t
)

353 
FTSENT
 *
p
;

354 
p
 = 
’t
->
ás_·»Á
; 
FTS_ROOTLEVEL
 <ğp->
ás_Ëv–
;… =…->fts_parent)

356 ià(
p
->
ás_numb”
)

358 
p
->
ás_numb”
 = 1;

360 
	}
}

365 
RM_¡©us


366 
	$exci£
 (
FTS
 *
ás
, 
FTSENT
 *
’t
, 
rm_İtiÚs
 cÚ¡ *
x
, 
boŞ
 
is_dœ
)

368 
æag
 = 
is_dœ
 ? 
AT_REMOVEDIR
 : 0;

369 ià(
	`uÆšk©
 (
ás
->
ás_cwd_fd
, 
’t
->
ás_acı©h
, 
æag
) == 0)

371 ià(
x
->
v”bo£
)

373 
	`´štf
 ((
is_dœ


374 ? 
	`_
("removed directory: %s\n")

375 : 
	`_
("»moved %s\n")), 
	`quÙe
 (
’t
->
ás_·th
));

377  
RM_OK
;

384 ià(
”ºo
 =ğ
EROFS
)

386 
¡©
 
¡
;

387 iàĞ! (
	`l¡©©
 (
ás
->
ás_cwd_fd
, 
’t
->
ás_acı©h
, &
¡
)

388 && 
”ºo
 =ğ
ENOENT
))

389 
”ºo
 = 
EROFS
;

392 ià(
	`ignÜabË_missšg
 (
x
, 
”ºo
))

393  
RM_OK
;

400 ià(
’t
->
ás_šfo
 =ğ
FTS_DNR


401 && (
”ºo
 =ğ
ENOTEMPTY
 ||ƒ¼nØ=ğ
EISDIR
 ||ƒ¼nØ=ğ
ENOTDIR


402 || 
”ºo
 =ğ
EEXIST
)

403 && (
’t
->
ás_”ºo
 =ğ
EPERM
 ||ƒÁ->ás_”ºØ=ğ
EACCES
))

404 
”ºo
 = 
’t
->
ás_”ºo
;

405 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
’t
->
ás_·th
));

406 
	`m¬k_ªû¡Ü_dœs
 (
’t
);

407  
RM_ERROR
;

408 
	}
}

416 
RM_¡©us


417 
	$rm_ás
 (
FTS
 *
ás
, 
FTSENT
 *
’t
, 
rm_İtiÚs
 cÚ¡ *
x
)

419 
’t
->
ás_šfo
)

421 
FTS_D
:

422 ià(! 
x
->
»cursive


423 && !(
x
->
»move_em±y_dœeùÜ›s


424 && 
	`is_em±y_dœ
 (
ás
->
ás_cwd_fd
, 
’t
->
ás_acı©h
)))

430 
”r
 = 
x
->
»move_em±y_dœeùÜ›s
 ? 
ENOTEMPTY
 : 
EISDIR
;

431 
	`”rÜ
 (0, 
”r
, 
	`_
("ÿÂÙ„emov%s"), 
	`quÙe
 (
’t
->
ás_·th
));

432 
	`m¬k_ªû¡Ü_dœs
 (
’t
);

433 
	`ás_sk_Œ“
 (
ás
, 
’t
);

434  
RM_ERROR
;

438 ià(
’t
->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
)

442 ià(
	`dÙ_Ü_dÙdÙ
 (
	`Ï¡_compÚ’t
 (
’t
->
ás_acı©h
)))

444 
	`”rÜ
 (0, 0, 
	`_
("cannot„emove directory: %s"),

445 
	`quÙe
 (
’t
->
ás_·th
));

446 
	`ás_sk_Œ“
 (
ás
, 
’t
);

447  
RM_ERROR
;

452 ià(
	`ROOT_DEV_INO_CHECK
 (
x
->
roÙ_dev_šo
, 
’t
->
ás_¡©p
))

454 
	`ROOT_DEV_INO_WARN
 (
’t
->
ás_·th
);

455 
	`ás_sk_Œ“
 (
ás
, 
’t
);

456  
RM_ERROR
;

461 
T”Çry
 
is_em±y_dœeùÜy
;

462 
RM_¡©us
 
s
 = 
	`´om±
 (
ás
, 
’t
, 
Œue
 , 
x
,

463 
PA_DESCEND_INTO_DIR
, &
is_em±y_dœeùÜy
);

465 ià(
s
 =ğ
RM_OK
 && 
is_em±y_dœeùÜy
 =ğ
T_YES
)

469 
s
 = 
	`exci£
 (
ás
, 
’t
, 
x
, 
Œue
);

470 
	`ás_sk_Œ“
 (
ás
, 
’t
);

473 ià(
s
 !ğ
RM_OK
)

475 
	`m¬k_ªû¡Ü_dœs
 (
’t
);

476 
	`ás_sk_Œ“
 (
ás
, 
’t
);

479  
s
;

482 
FTS_F
:

483 
FTS_NS
:

484 
FTS_SL
:

485 
FTS_SLNONE
:

486 
FTS_DP
:

487 
FTS_DNR
:

488 
FTS_NSOK
:

489 
FTS_DEFAULT
:

494 ià(
’t
->
ás_šfo
 =ğ
FTS_DP


495 && 
x
->
Úe_fe_sy¡em


496 && 
FTS_ROOTLEVEL
 < 
’t
->
ás_Ëv–


497 && 
’t
->
ás_¡©p
->
¡_dev
 !ğ
ás
->
ás_dev
)

499 
	`m¬k_ªû¡Ü_dœs
 (
’t
);

500 
	`”rÜ
 (0, 0, 
	`_
("skipping %s, since it's on‡ different device"),

501 
	`quÙe
 (
’t
->
ás_·th
));

502  
RM_ERROR
;

505 
boŞ
 
is_dœ
 = 
’t
->
ás_šfo
 =ğ
FTS_DP
 ||ƒÁ->ás_šfØ=ğ
FTS_DNR
;

506 
RM_¡©us
 
s
 = 
	`´om±
 (
ás
, 
’t
, 
is_dœ
, 
x
, 
PA_REMOVE_DIR
, 
NULL
);

507 ià(
s
 !ğ
RM_OK
)

508  
s
;

509  
	`exci£
 (
ás
, 
’t
, 
x
, 
is_dœ
);

512 
FTS_DC
:

513 
	`em™_cyşe_w¬nšg
 (
’t
->
ás_·th
);

514 
	`ás_sk_Œ“
 (
ás
, 
’t
);

515  
RM_ERROR
;

517 
FTS_ERR
:

520 
	`”rÜ
 (0, 
’t
->
ás_”ºo
, 
	`_
("traversal failed: %s"),

521 
	`quÙe
 (
’t
->
ás_·th
));

522 
	`ás_sk_Œ“
 (
ás
, 
’t
);

523  
RM_ERROR
;

526 
	`”rÜ
 (0, 0, 
	`_
("unexpected failure: fts_info=%d: %s\n"

528 
’t
->
ás_šfo
,

529 
	`quÙe
 (
’t
->
ás_·th
),

530 
PACKAGE_BUGREPORT
);

531 
	`abÜt
 ();

533 
	}
}

537 
RM_¡©us


538 
	$rm
 (*cÚ¡ *
fe
, 
rm_İtiÚs
 cÚ¡ *
x
)

540 
RM_¡©us
 
rm_¡©us
 = 
RM_OK
;

542 ià(*
fe
)

544 
b™_æags
 = (
FTS_CWDFD


545 | 
FTS_NOSTAT


546 | 
FTS_PHYSICAL
);

548 ià(
x
->
Úe_fe_sy¡em
)

549 
b™_æags
 |ğ
FTS_XDEV
;

551 
FTS
 *
ás
 = 
	`xás_İ’
 (
fe
, 
b™_æags
, 
NULL
);

555 
FTSENT
 *
’t
;

557 
’t
 = 
	`ás_»ad
 (
ás
);

558 ià(
’t
 =ğ
NULL
)

560 ià(
”ºo
 != 0)

562 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_read failed"));

563 
rm_¡©us
 = 
RM_ERROR
;

568 
RM_¡©us
 
s
 = 
	`rm_ás
 (
ás
, 
’t
, 
x
);

570 
	`as£¹
 (
	`VALID_STATUS
 (
s
));

571 
	`UPDATE_STATUS
 (
rm_¡©us
, 
s
);

574 ià(
	`ás_şo£
 (
ás
) != 0)

576 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fts_close failed"));

577 
rm_¡©us
 = 
RM_ERROR
;

581  
rm_¡©us
;

582 
	}
}

	@remove.h

18 #iâdeà
REMOVE_H


19 
	#REMOVE_H


	)

21 
	~"dev-šo.h
"

23 
	erm_š‹¿ùive


27 
	mRMI_ALWAYS
 = 3,

28 
	mRMI_SOMETIMES
,

29 
	mRMI_NEVER


32 
	srm_İtiÚs


35 
boŞ
 
	mignÜe_missšg_fes
;

38 
rm_š‹¿ùive
 
	mš‹¿ùive
;

47 
boŞ
 
	mÚe_fe_sy¡em
;

50 
boŞ
 
	m»cursive
;

53 
boŞ
 
	m»move_em±y_dœeùÜ›s
;

57 
dev_šo
 *
	mroÙ_dev_šo
;

60 
boŞ
 
	m¡dš_‰y
;

63 
boŞ
 
	mv”bo£
;

71 
boŞ
 
	m»quœe_»¡Üe_cwd
;

74 
	eRM_¡©us


77 
	mRM_OK
 = 2,

78 
	mRM_USER_DECLINED
,

79 
	mRM_ERROR
,

80 
	mRM_NONEMPTY_DIR


83 
	#VALID_STATUS
(
S
) \

84 ((
S
è=ğ
RM_OK
 || (Sè=ğ
RM_USER_DECLINED
 || (Sè=ğ
RM_ERROR
)

	)

86 
	#UPDATE_STATUS
(
S
, 
New_v®ue
) \

89 ià((
New_v®ue
è=ğ
RM_ERROR
 \

90 || ((
New_v®ue
è=ğ
RM_USER_DECLINED
 && (
S
è=ğ
RM_OK
)) \

91 (
S
èğ(
New_v®ue
); \

93 0)

	)

95 
RM_¡©us
 
rm
 (*cÚ¡ *
fe
, 
rm_İtiÚs
 cÚ¡ *
x
);

	@rm.c

21 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<g‘İt.h
>

24 
	~<sys/ty³s.h
>

25 
	~<as£¹.h
>

27 
	~"sy¡em.h
"

28 
	~"¬gm©ch.h
"

29 
	~"”rÜ.h
"

30 
	~"quÙe.h
"

31 
	~"quÙ—rg.h
"

32 
	~"»move.h
"

33 
	~"roÙ-dev-šo.h
"

34 
	~"ye¢o.h
"

35 
	~"´iv-£t.h
"

38 
	#PROGRAM_NAME
 "rm"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Paul Rubin"), \

42 
	`´İ”_Çme
 ("David MacKenzie"), \

43 
	`´İ”_Çme
 ("Richard M. Stallman"), \

44 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

50 
	mINTERACTIVE_OPTION
 = 
CHAR_MAX
 + 1,

51 
	mONE_FILE_SYSTEM
,

52 
	mNO_PRESERVE_ROOT
,

53 
	mPRESERVE_ROOT
,

54 
	mPRESUME_INPUT_TTY_OPTION


57 
	eš‹¿ùive_ty³


59 
	mš‹¿ùive_Ãv”
,

60 
	mš‹¿ùive_Úû
,

61 
	mš‹¿ùive_®ways


64 
İtiÚ
 cÚ¡ 
	glÚg_İts
[] =

66 {"fÜû", 
no_¬gum’t
, 
NULL
, 'f'},

67 {"š‹¿ùive", 
İtiÚ®_¬gum’t
, 
NULL
, 
INTERACTIVE_OPTION
},

69 {"Úe-fe-sy¡em", 
no_¬gum’t
, 
NULL
, 
ONE_FILE_SYSTEM
},

70 {"no-´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
NO_PRESERVE_ROOT
},

71 {"´e£rve-roÙ", 
no_¬gum’t
, 
NULL
, 
PRESERVE_ROOT
},

77 {"-´esume-šput-‰y", 
no_¬gum’t
, 
NULL
, 
PRESUME_INPUT_TTY_OPTION
},

79 {"»cursive", 
no_¬gum’t
, 
NULL
, 'r'},

80 {"dœ", 
no_¬gum’t
, 
NULL
, 'd'},

81 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

82 {
GETOPT_HELP_OPTION_DECL
},

83 {
GETOPT_VERSION_OPTION_DECL
},

84 {
NULL
, 0, NULL, 0}

87 cÚ¡ *cÚ¡ 
	gš‹¿ùive_¬gs
[] =

91 "®ways", "yes", 
NULL


93 
š‹¿ùive_ty³
 cÚ¡ 
	gš‹¿ùive_ty³s
[] =

95 
š‹¿ùive_Ãv”
, interactive_never, interactive_never,

96 
š‹¿ùive_Úû
,

97 
š‹¿ùive_®ways
, interactive_always

99 
ARGMATCH_VERIFY
 (
š‹¿ùive_¬gs
, 
š‹¿ùive_ty³s
);

105 
	$dŸgno£_Ëadšg_hyph’
 (
¬gc
, **
¬gv
)

109 
i
;

111 
i
 = 1; i < 
¬gc
; i++)

113 cÚ¡ *
¬g
 = 
¬gv
[
i
];

114 
¡©
 
¡
;

116 ià(
¬g
[0] =ğ'-' &&‡rg[1] && 
	`l¡©
 (¬g, &
¡
) == 0)

118 
	`årštf
 (
¡d”r
,

119 
	`_
("Try '%s ./%s'o„emovehe file %s.\n"),

120 
¬gv
[0],

121 
	`quÙ—rg_n_¡yË
 (1, 
sh–l_quÙšg_¡yË
, 
¬g
),

122 
	`quÙe
 (
¬g
));

126 
	}
}

129 
	$u§ge
 (
¡©us
)

131 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

132 
	`em™_Œy_h–p
 ();

135 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

136 
	`åuts
 (
	`_
("\
 (uÆškèthFILE(s).\n\
\n\
-f, --fÜû ignÜnÚexi¡’ˆfe ªd‡rgum’ts,‚ev”…rom±\n\
-˜…rom± befÜev”y„emov®\n\
"), 
¡dout
);

142 
	`åuts
 (
	`_
("\
-I…rom± onû befÜ»movšg mÜthªh»fes, or\n\
„emovšg„ecursiv–y. Les šŒusivthª -i,\n\
 stÈgivšg…rÙeùiÚ‡gaš¡ mo¡ mi¡akes\n\
--š‹¿ùive[=WHEN]…rom±‡ccÜdšgØWHEN:‚ev”, onû (-I), or\n\
 (-i). W™houˆWHEN,…rom±‡lways\n\
"), 
¡dout
);

149 
	`åuts
 (
	`_
("\
--Úe-fe-sy¡em wh’„emovšg‡ h›¿rchy„ecursiv–y, sk‡ny\n\
h© i Ú‡ fsy¡em difã»Á from\n\
 oàthcÜ»¥Údšg commªd†š¬gum’t\n\
"), 
¡dout
);

154 
	`åuts
 (
	`_
("\
--no-´e£rve-roÙ dØnÙ»© '/' s³cŸÎy\n\
--´e£rve-roÙ dØnÙ„emov'/' (deçuÉ)\n\
-r, -R, --»cursiv„emovdœeùÜ› ªdheœ cÚ‹Á »cursiv–y\n\
-d, --dœ„emovem±y dœeùÜ›s\n\
-v, --v”bo£ƒx¶aš wh© i bešg dÚe\n\
"), 
¡dout
);

161 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

162 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

163 
	`åuts
 (
	`_
("\
\n\
 deçuÉ,„m dÛ nÙ„emovdœeùÜ›s. U£h--»cursiv(-¸Ü -R)\n\
Ø»mov—ch†i¡ed dœeùÜy,oo,‡lÚg w™h‡Î oà™ cÚ‹Ás.\n\
"), 
¡dout
);

168 
	`´štf
 (
	`_
("\
\n\
„emove‡ file whose‚ame starts with‡ '-', forƒxample '-foo',\n\
 one ofhese commands:\n\
%s -- -foo\n\
\n\
%s ./-foo\n\
"),

176 
´og¿m_Çme
,…rogram_name);

177 
	`åuts
 (
	`_
("\
\n\
h© iàyou u£„mØ»mov¨fe, iˆmighˆbpossibËØ»cov”\n\
 oà™ cÚ‹Ás, giv’ suffic›Áƒx³¹i£‡nd/Üime. FÜ g»©”\n\
h©hcÚ‹Á ¬Œuly uÄecov”abË, cÚsid” usšg sh»d.\n\
"), 
¡dout
);

183 
	`em™_ªcÏry_šfo
 ();

185 
	`ex™
 (
¡©us
);

186 
	}
}

189 
	$rm_İtiÚ_š™
 (
rm_İtiÚs
 *
x
)

191 
x
->
ignÜe_missšg_fes
 = 
çl£
;

192 
x
->
š‹¿ùive
 = 
RMI_SOMETIMES
;

193 
x
->
Úe_fe_sy¡em
 = 
çl£
;

194 
x
->
»move_em±y_dœeùÜ›s
 = 
çl£
;

195 
x
->
»cursive
 = 
çl£
;

196 
x
->
roÙ_dev_šo
 = 
NULL
;

197 
x
->
¡dš_‰y
 = 
	`i§‰y
 (
STDIN_FILENO
);

198 
x
->
v”bo£
 = 
çl£
;

202 
x
->
»quœe_»¡Üe_cwd
 = 
çl£
;

203 
	}
}

206 
	$maš
 (
¬gc
, **
¬gv
)

208 
boŞ
 
´e£rve_roÙ
 = 
Œue
;

209 
rm_İtiÚs
 
x
;

210 
boŞ
 
´om±_Úû
 = 
çl£
;

211 
c
;

213 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

214 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

215 
	`£oÿË
 (
LC_ALL
, "");

216 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

217 
	`‹xtdomaš
 (
PACKAGE
);

219 
	`©ex™
 (
şo£_¡dš
);

221 
	`rm_İtiÚ_š™
 (&
x
);

224 
	`´iv_£t_»move_lškdœ
 ();

226 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "dfœvIR", 
lÚg_İts
, 
NULL
)) != -1)

228 
c
)

231 
x
.
»move_em±y_dœeùÜ›s
 = 
Œue
;

235 
x
.
š‹¿ùive
 = 
RMI_NEVER
;

236 
x
.
ignÜe_missšg_fes
 = 
Œue
;

237 
´om±_Úû
 = 
çl£
;

241 
x
.
š‹¿ùive
 = 
RMI_ALWAYS
;

242 
x
.
ignÜe_missšg_fes
 = 
çl£
;

243 
´om±_Úû
 = 
çl£
;

247 
x
.
š‹¿ùive
 = 
RMI_NEVER
;

248 
x
.
ignÜe_missšg_fes
 = 
çl£
;

249 
´om±_Úû
 = 
Œue
;

254 
x
.
»cursive
 = 
Œue
;

257 
INTERACTIVE_OPTION
:

259 
i
;

260 ià(
İrg
)

261 
i
 = 
	`XARGMATCH
 ("--š‹¿ùive", 
İrg
, 
š‹¿ùive_¬gs
,

262 
š‹¿ùive_ty³s
);

264 
i
 = 
š‹¿ùive_®ways
;

265 
i
)

267 
š‹¿ùive_Ãv”
:

268 
x
.
š‹¿ùive
 = 
RMI_NEVER
;

269 
´om±_Úû
 = 
çl£
;

272 
š‹¿ùive_Úû
:

273 
x
.
š‹¿ùive
 = 
RMI_SOMETIMES
;

274 
x
.
ignÜe_missšg_fes
 = 
çl£
;

275 
´om±_Úû
 = 
Œue
;

278 
š‹¿ùive_®ways
:

279 
x
.
š‹¿ùive
 = 
RMI_ALWAYS
;

280 
x
.
ignÜe_missšg_fes
 = 
çl£
;

281 
´om±_Úû
 = 
çl£
;

287 
ONE_FILE_SYSTEM
:

288 
x
.
Úe_fe_sy¡em
 = 
Œue
;

291 
NO_PRESERVE_ROOT
:

292 
´e£rve_roÙ
 = 
çl£
;

295 
PRESERVE_ROOT
:

296 
´e£rve_roÙ
 = 
Œue
;

299 
PRESUME_INPUT_TTY_OPTION
:

300 
x
.
¡dš_‰y
 = 
Œue
;

304 
x
.
v”bo£
 = 
Œue
;

307 
ÿ£_GETOPT_HELP_CHAR
;

308 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

310 
	`dŸgno£_Ëadšg_hyph’
 (
¬gc
, 
¬gv
);

311 
	`u§ge
 (
EXIT_FAILURE
);

315 ià(
¬gc
 <ğ
İtšd
)

317 ià(
x
.
ignÜe_missšg_fes
)

318 
	`ex™
 (
EXIT_SUCCESS
);

321 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

322 
	`u§ge
 (
EXIT_FAILURE
);

326 ià(
x
.
»cursive
 && 
´e£rve_roÙ
)

328 
dev_šo
 
dev_šo_buf
;

329 
x
.
roÙ_dev_šo
 = 
	`g‘_roÙ_dev_šo
 (&
dev_šo_buf
);

330 ià(
x
.
roÙ_dev_šo
 =ğ
NULL
)

331 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get‡ttributes of %s"),

332 
	`quÙe
 ("/"));

335 
size_t
 
n_fes
 = 
¬gc
 - 
İtšd
;

336 **
fe
 = 
¬gv
 + 
İtšd
;

338 ià(
´om±_Úû
 && (
x
.
»cursive
 || 3 < 
n_fes
))

340 
	`årštf
 (
¡d”r
,

341 (
x
.
»cursive


342 ? 
	`_
("%s:„emove‡ll‡rguments„ecursively? ")

343 : 
	`_
("%s:„emove‡ll‡rguments? ")),

344 
´og¿m_Çme
);

345 ià(!
	`ye¢o
 ())

346 
	`ex™
 (
EXIT_SUCCESS
);

349 
RM_¡©us
 
¡©us
 = 
	`rm
 (
fe
, &
x
);

350 
	`as£¹
 (
	`VALID_STATUS
 (
¡©us
));

351 
	`ex™
 (
¡©us
 =ğ
RM_ERROR
 ? 
EXIT_FAILURE
 : 
EXIT_SUCCESS
);

352 
	}
}

	@rmdir.c

25 
	~<cÚfig.h
>

26 
	~<¡dio.h
>

27 
	~<g‘İt.h
>

28 
	~<sys/ty³s.h
>

30 
	~"sy¡em.h
"

31 
	~"”rÜ.h
"

32 
	~"´og-årštf.h
"

33 
	~"quÙe.h
"

36 
	#PROGRAM_NAME
 "rmdœ"

	)

38 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

41 
boŞ
 
	g»move_em±y_·»Ás
;

45 
boŞ
 
	gignÜe_ç_Ú_nÚ_em±y
;

48 
boŞ
 
	gv”bo£
;

54 
	mIGNORE_FAIL_ON_NON_EMPTY_OPTION
 = 
CHAR_MAX
 + 1

57 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

61 {"ignÜe-ç-Ú-nÚ-em±y", 
no_¬gum’t
, 
NULL
,

62 
IGNORE_FAIL_ON_NON_EMPTY_OPTION
},

64 {"·th", 
no_¬gum’t
, 
NULL
, 'p'},

65 {"·»Ás", 
no_¬gum’t
, 
NULL
, 'p'},

66 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

67 {
GETOPT_HELP_OPTION_DECL
},

68 {
GETOPT_VERSION_OPTION_DECL
},

69 {
NULL
, 0, NULL, 0}

74 
boŞ


75 
	$”ºo_rmdœ_nÚ_em±y
 (
”rÜ_numb”
)

77  
”rÜ_numb”
 =ğ
ENOTEMPTY
 ||ƒ¼Ü_numb” =ğ
EEXIST
;

78 
	}
}

82 
boŞ


83 
	$”ºo_may_be_em±y
 (
”rÜ_numb”
)

85 
”rÜ_numb”
)

87 
EACCES
:

88 
EPERM
:

89 
EROFS
:

90 
EEXIST
:

91 
EBUSY
:

92  
Œue
;

94  
çl£
;

96 
	}
}

100 
boŞ


101 
	$ignÜabË_çu»
 (
”rÜ_numb”
, cÚ¡ *
dœ
)

103  (
ignÜe_ç_Ú_nÚ_em±y


104 && (
	`”ºo_rmdœ_nÚ_em±y
 (
”rÜ_numb”
)

105 || (
	`”ºo_may_be_em±y
 (
”rÜ_numb”
)

106 && 
	`is_em±y_dœ
 (
AT_FDCWD
, 
dœ
))));

107 
	}
}

114 
boŞ


115 
	$»move_·»Ás
 (*
dœ
)

117 *
¦ash
;

118 
boŞ
 
ok
 = 
Œue
;

120 
	`¡r_Œašg_¦ashes
 (
dœ
);

123 
¦ash
 = 
	`¡¼chr
 (
dœ
, '/');

124 ià(
¦ash
 =ğ
NULL
)

128 
¦ash
 > 
dœ
 && *slash == '/')

129 --
¦ash
;

130 
¦ash
[1] = 0;

133 ià(
v”bo£
)

134 
	`´og_årštf
 (
¡dout
, 
	`_
("»movšg dœeùÜy, %s"), 
	`quÙe
 (
dœ
));

136 
ok
 = (
	`rmdœ
 (
dœ
) == 0);

138 ià(!
ok
)

141 ià(
	`ignÜabË_çu»
 (
”ºo
, 
dœ
))

143 
ok
 = 
Œue
;

148 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo„emove directory %s"),

149 
	`quÙe
 (
dœ
));

154  
ok
;

155 
	}
}

158 
	$u§ge
 (
¡©us
)

160 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

161 
	`em™_Œy_h–p
 ();

164 
	`´štf
 (
	`_
("U§ge: % [OPTION]... DIRECTORY...\n"), 
´og¿m_Çme
);

165 
	`åuts
 (
	`_
("\
hDIRECTORY(›s), iàthey‡»ƒm±y.\n\
\n\
--ignÜe-ç-Ú-nÚ-em±y\n\
ƒach fau»h© i sŞ–y beÿu£‡ dœeùÜy\n\
‚Ú-em±y\n\
"), 
¡dout
);

172 
	`åuts
 (
	`_
("\
-p, --·»Á „emovDIRECTORY‡nd it ªû¡Üs;ƒ.g., 'rmdœ -°a/b/c' is\
\n\
Ø'rmdœ‡/b/øa/b‡'\n\
-v, --v”bo£ ouuˆ¨dŸgno¡iøfÜƒv”y dœeùÜy…roûs£d\n\
"), 
¡dout
);

178 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

179 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

180 
	`em™_ªcÏry_šfo
 ();

182 
	`ex™
 (
¡©us
);

183 
	}
}

186 
	$maš
 (
¬gc
, **
¬gv
)

188 
boŞ
 
ok
 = 
Œue
;

189 
İtc
;

191 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

192 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

193 
	`£oÿË
 (
LC_ALL
, "");

194 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

195 
	`‹xtdomaš
 (
PACKAGE
);

197 
	`©ex™
 (
şo£_¡dout
);

199 
»move_em±y_·»Ás
 = 
çl£
;

201 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "pv", 
lÚgİts
, 
NULL
)) != -1)

203 
İtc
)

206 
»move_em±y_·»Ás
 = 
Œue
;

208 
IGNORE_FAIL_ON_NON_EMPTY_OPTION
:

209 
ignÜe_ç_Ú_nÚ_em±y
 = 
Œue
;

212 
v”bo£
 = 
Œue
;

214 
ÿ£_GETOPT_HELP_CHAR
;

215 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

217 
	`u§ge
 (
EXIT_FAILURE
);

221 ià(
İtšd
 =ğ
¬gc
)

223 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

224 
	`u§ge
 (
EXIT_FAILURE
);

227 ; 
İtšd
 < 
¬gc
; ++optind)

229 *
dœ
 = 
¬gv
[
İtšd
];

232 ià(
v”bo£
)

233 
	`´og_årštf
 (
¡dout
, 
	`_
("»movšg dœeùÜy, %s"), 
	`quÙe
 (
dœ
));

235 ià(
	`rmdœ
 (
dœ
) != 0)

237 ià(
	`ignÜabË_çu»
 (
”ºo
, 
dœ
))

242 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØ»mov%s"), 
	`quÙe
 (
dœ
));

243 
ok
 = 
çl£
;

245 ià(
»move_em±y_·»Ás
)

247 
ok
 &ğ
	`»move_·»Ás
 (
dœ
);

251 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

252 
	}
}

	@runcon.c

43 
	~<cÚfig.h
>

44 
	~<¡dio.h
>

45 
	~<g‘İt.h
>

46 
	~<£lšux/£lšux.h
>

47 
	~<£lšux/cÚ‹xt.h
>

48 #ifdeà
HAVE_SELINUX_FLASK_H


49 
	~<£lšux/æask.h
>

51 
	#SECCLASS_PROCESS
 0

	)

53 
	~<sys/ty³s.h
>

54 
	~"sy¡em.h
"

55 
	~"”rÜ.h
"

56 
	~"quÙe.h
"

57 
	~"quÙ—rg.h
"

60 
	#PROGRAM_NAME
 "runcÚ"

	)

62 
	#AUTHORS
 
	`´İ”_Çme
 ("Rus£Î Cok”")

	)

64 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

66 {"rŞe", 
»quœed_¬gum’t
, 
NULL
, 'r'},

67 {"ty³", 
»quœed_¬gum’t
, 
NULL
, 't'},

68 {"u£r", 
»quœed_¬gum’t
, 
NULL
, 'u'},

69 {"¿nge", 
»quœed_¬gum’t
, 
NULL
, 'l'},

70 {"compu‹", 
no_¬gum’t
, 
NULL
, 'c'},

71 {
GETOPT_HELP_OPTION_DECL
},

72 {
GETOPT_VERSION_OPTION_DECL
},

73 {
NULL
, 0, NULL, 0}

77 
	$u§ge
 (
¡©us
)

79 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

80 
	`em™_Œy_h–p
 ();

83 
	`´štf
 (
	`_
("\
: % CONTEXT COMMAND [¬gs]\n\
: % [ -ø] [-u USER] [-¸ROLE] [-ˆTYPE] [-ÈRANGE] COMMAND [¬gs]\n\
"), 
´og¿m_Çme
,…rogram_name);

87 
	`åuts
 (
	`_
("\
‡…rog¿m iÀ¨difã»Á secur™y cÚ‹xt.\n\
‚e™h” CONTEXT‚Ü COMMAND,…ršˆthcu¼’ˆ£cur™y cÚ‹xt.\n\
"), 
¡dout
);

92 
	`em™_mªd©Üy_¬g_nÙe
 ();

94 
	`åuts
 (
	`_
("\
 Com¶‘£cur™y cÚ‹xt\n\
-c, --compu‹ compu‹…roûs Œªs™iÚ cÚ‹xˆbefÜmodifyšg\n\
-t, --ty³=TYPEy³ (fÜ samrŞa ·»Á)\n\
-u, --u£r=USER u£¸id’t™y\n\
-r, --rŞe=ROLE„Şe\n\
-l, --¿nge=RANGE†ev–¿nge\n\
\n\
"), 
¡dout
);

103 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

104 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

105 
	`em™_ªcÏry_šfo
 ();

107 
	`ex™
 (
¡©us
);

108 
	}
}

111 
	$maš
 (
¬gc
, **
¬gv
)

113 *
rŞe
 = 
NULL
;

114 *
¿nge
 = 
NULL
;

115 *
u£r
 = 
NULL
;

116 *
ty³
 = 
NULL
;

117 *
cÚ‹xt
 = 
NULL
;

118 
£cur™y_cÚ‹xt_t
 
cur_cÚ‹xt
 = 
NULL
;

119 
£cur™y_cÚ‹xt_t
 
fe_cÚ‹xt
 = 
NULL
;

120 
£cur™y_cÚ‹xt_t
 
Ãw_cÚ‹xt
 = 
NULL
;

121 
boŞ
 
compu‹_Œªs
 = 
çl£
;

123 
cÚ‹xt_t
 
cÚ
;

125 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

126 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

127 
	`£oÿË
 (
LC_ALL
, "");

128 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

129 
	`‹xtdomaš
 (
PACKAGE
);

131 
	`©ex™
 (
şo£_¡dout
);

135 
İtiÚ_šdex
 = 0;

136 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+r:t:u:l:c", 
lÚg_İtiÚs
,

137 &
İtiÚ_šdex
);

138 ià(
c
 == -1)

140 
c
)

143 ià(
rŞe
)

144 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple„oles"));

145 
rŞe
 = 
İrg
;

148 ià(
ty³
)

149 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multipleypes"));

150 
ty³
 = 
İrg
;

153 ià(
u£r
)

154 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple users"));

155 
u£r
 = 
İrg
;

158 ià(
¿nge
)

159 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple†evelranges"));

160 
¿nge
 = 
İrg
;

163 
compu‹_Œªs
 = 
Œue
;

166 
ÿ£_GETOPT_HELP_CHAR
;

167 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

169 
	`u§ge
 (
EXIT_FAILURE
);

174 ià(
¬gc
 - 
İtšd
 == 0)

176 ià(
	`g‘cÚ
 (&
cur_cÚ‹xt
) < 0)

177 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get current context"));

178 
	`åuts
 (
cur_cÚ‹xt
, 
¡dout
);

179 
	`åutc
 ('\n', 
¡dout
);

180 
	`ex™
 (
EXIT_SUCCESS
);

183 ià(!(
u£r
 || 
rŞe
 || 
ty³
 || 
¿nge
 || 
compu‹_Œªs
))

185 ià(
İtšd
 >ğ
¬gc
)

187 
	`”rÜ
 (0, 0, 
	`_
("you must specify -c, -t, -u, -l, -r, or context"));

188 
	`u§ge
 (
EXIT_FAILURE
);

190 
cÚ‹xt
 = 
¬gv
[
İtšd
++];

193 ià(
İtšd
 >ğ
¬gc
)

195 
	`”rÜ
 (0, 0, 
	`_
("no command specified"));

196 
	`u§ge
 (
EXIT_FAILURE
);

199 ià(
	`is_£lšux_’abËd
 () != 1)

200 
	`”rÜ
 (
EXIT_FAILURE
, 0,

201 
	`_
("% may bu£d oÆy oÀ¨SELšux k”Ãl"), 
´og¿m_Çme
);

203 ià(
cÚ‹xt
)

205 
cÚ
 = 
	`cÚ‹xt_Ãw
 (
cÚ‹xt
);

206 ià(!
cÚ
)

207 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo create security context: %s"),

208 
	`quÙ—rg_cŞÚ
 (
cÚ‹xt
));

212 ià(
	`g‘cÚ
 (&
cur_cÚ‹xt
) < 0)

213 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo get current context"));

216 ià(
compu‹_Œªs
)

219 ià(
	`g‘fecÚ
 (
¬gv
[
İtšd
], &
fe_cÚ‹xt
) == -1)

220 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

221 
	`_
("failedo get security context of %s"),

222 
	`quÙe
 (
¬gv
[
İtšd
]));

224 ià(
	`£cur™y_compu‹_ü—‹
 (
cur_cÚ‹xt
, 
fe_cÚ‹xt
,

225 
SECCLASS_PROCESS
, &
Ãw_cÚ‹xt
) != 0)

226 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

227 
	`_
("failedo compute‡‚ew context"));

229 
	`ä“cÚ
 (
fe_cÚ‹xt
);

230 
	`ä“cÚ
 (
cur_cÚ‹xt
);

233 
cur_cÚ‹xt
 = 
Ãw_cÚ‹xt
;

236 
cÚ
 = 
	`cÚ‹xt_Ãw
 (
cur_cÚ‹xt
);

237 ià(!
cÚ
)

238 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo create security context: %s"),

239 
	`quÙ—rg_cŞÚ
 (
cur_cÚ‹xt
));

240 ià(
u£r
 && 
	`cÚ‹xt_u£r_£t
 (
cÚ
, user))

241 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ£ˆÃw u£¸%s"), 
u£r
);

242 ià(
ty³
 && 
	`cÚ‹xt_ty³_£t
 (
cÚ
,ype))

243 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ£ˆÃwy³ %s"), 
ty³
);

244 ià(
¿nge
 && 
	`cÚ‹xt_¿nge_£t
 (
cÚ
,„ange))

245 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ£ˆÃw„ªg%s"), 
¿nge
);

246 ià(
rŞe
 && 
	`cÚ‹xt_rŞe_£t
 (
cÚ
,„ole))

247 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ£ˆÃw„Ş%s"), 
rŞe
);

250 ià(
	`£cur™y_check_cÚ‹xt
 (
	`cÚ‹xt_¡r
 (
cÚ
)) < 0)

251 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("invalid context: %s"),

252 
	`quÙ—rg_cŞÚ
 (
	`cÚ‹xt_¡r
 (
cÚ
)));

254 ià(
	`£‹xeccÚ
 (
	`cÚ‹xt_¡r
 (
cÚ
)) != 0)

255 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("unableo set security context %s"),

256 
	`quÙe
 (
	`cÚ‹xt_¡r
 (
cÚ
)));

257 ià(
cur_cÚ‹xt
 !ğ
NULL
)

258 
	`ä“cÚ
 (
cur_cÚ‹xt
);

260 
	`execvp
 (
¬gv
[
İtšd
],‡rgv + optind);

263 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

264 
	`”rÜ
 (0, 
”ºo
, "%s", 
¬gv
[
İtšd
]);

265 
	`ex™
 (
ex™_¡©us
);

267 
	}
}

	@seq.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"c-¡¹od.h
"

26 
	~"”rÜ.h
"

27 
	~"quÙe.h
"

28 
	~"x¡¹od.h
"

32 #iâdeà
isfš™e


33 
	#isfš™e
(
x
è((xè* 0 =ğ0)

	)

37 
	#PROGRAM_NAME
 "£q"

	)

39 
	#AUTHORS
 
	`´İ”_Çme
 ("UÌich D»µ”")

	)

42 
boŞ
 
	gequ®_width
;

45 cÚ¡ *
	g£·¿tÜ
;

49 cÚ¡ 
	g‹rmš©Ü
[] = "\n";

51 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

53 { "equ®-width", 
no_¬gum’t
, 
NULL
, 'w'},

54 { "fÜm©", 
»quœed_¬gum’t
, 
NULL
, 'f'},

55 { "£·¿tÜ", 
»quœed_¬gum’t
, 
NULL
, 's'},

56 {
GETOPT_HELP_OPTION_DECL
},

57 {
GETOPT_VERSION_OPTION_DECL
},

58 { 
NULL
, 0, NULL, 0}

62 
	$u§ge
 (
¡©us
)

64 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

65 
	`em™_Œy_h–p
 ();

68 
	`´štf
 (
	`_
("\
: % [OPTION]... LAST\n\
: % [OPTION]... FIRST LAST\n\
: % [OPTION]... FIRST INCREMENT LAST\n\
"), 
´og¿m_Çme
,…rogram_name,…rogram_name);

73 
	`åuts
 (
	`_
("\
‚umb” äom FIRSTØLAST, iÀ¡• oàINCREMENT.\n\
"), 
¡dout
);

77 
	`em™_mªd©Üy_¬g_nÙe
 ();

79 
	`åuts
 (
	`_
("\
-f, --fÜm©=FORMAT u£…rštà¡yË flßtšg-pošˆFORMAT\n\
-s, --£·¿tÜ=STRING u£ STRINGØ£·¿‹‚umb” (deçuÉ: \\n)\n\
-w, --equ®-widthƒqu®izwidth by…addšg w™h†—dšg z”Ûs\n\
"), 
¡dout
);

84 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

85 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

86 
	`åuts
 (
	`_
("\
\n\
 FIRST o¸INCREMENT i om™‹d, iˆdeçuÉ tØ1. Th© is,‡n\n\
 INCREMENT deçuÉ tØ1ƒv’ wh’ LAST i sm®Ë¸thª FIRST.\n\
, INCREMENT,‡nd LAST‡» iÁ”´‘ed‡ æßtšg…ošˆv®ues.\n\
 i usu®ly…os™iviàFIRST i sm®Ë¸thª LAST,‡nd\n\
 i usu®ly‚eg©iviàFIRST i g»©”hª LAST.\n\
"), 
¡dout
);

94 
	`åuts
 (
	`_
("\
 mu¡ bsu™abË fÜ…rštšg oÃ‡rgum’ˆoàty³ 'doubË';\n\
 deçuÉ tØ%.PRECàiàFIRST, INCREMENT,‡nd LAST‡»‡Î fixed…ošt\n\
‚umb” w™h maximum…»cisiÚ PREC,‡ndØ%g oth”wi£.\n\
"), 
¡dout
);

99 
	`em™_ªcÏry_šfo
 ();

101 
	`ex™
 (
¡©us
);

102 
	}
}

105 
	sİ”ªd


108 
	mv®ue
;

114 
size_t
 
	mwidth
;

118 
	m´ecisiÚ
;

120 
İ”ªd
 
	tİ”ªd
;

123 
	sÏyout


126 
size_t
 
	m´efix_Ën
;

127 
size_t
 
	msuffix_Ën
;

133 
İ”ªd


134 
	$sÿn_¬g
 (cÚ¡ *
¬g
)

136 
İ”ªd
 
»t
;

138 ià(! 
	`x¡¹Şd
 (
¬g
, 
NULL
, &
»t
.
v®ue
, 
c_¡¹Şd
))

140 
	`”rÜ
 (0, 0, 
	`_
("šv®id flßtšg…ošˆ¬gum’t: %s"), 
¬g
);

141 
	`u§ge
 (
EXIT_FAILURE
);

145 
	`is¥aû
 (
	`to_uch¬
 (*
¬g
)) || *arg == '+')

146 
¬g
++;

148 
»t
.
width
 = 
	`¡¾’
 (
¬g
);

149 
»t
.
´ecisiÚ
 = 
INT_MAX
;

151 ià(! 
¬g
[
	`¡rc¥n
 (¬g, "xX")] && 
	`isfš™e
 (
»t
.
v®ue
))

153 cÚ¡ *
decim®_pošt
 = 
	`¡rchr
 (
¬g
, '.');

154 ià(! 
decim®_pošt
)

155 
»t
.
´ecisiÚ
 = 0;

158 
size_t
 
äaùiÚ_Ën
 = 
	`¡rc¥n
 (
decim®_pošt
 + 1, "eE");

159 ià(
äaùiÚ_Ën
 <ğ
INT_MAX
)

160 
»t
.
´ecisiÚ
 = 
äaùiÚ_Ën
;

161 
»t
.
width
 +ğ(
äaùiÚ_Ën
 == 0

163 : (
decim®_pošt
 =ğ
¬g


164 || ! 
	`ISDIGIT
 (
decim®_pošt
[-1])));

166 cÚ¡ *
e
 = 
	`¡rchr
 (
¬g
, 'e');

167 ià(! 
e
)

168 
e
 = 
	`¡rchr
 (
¬g
, 'E');

169 ià(
e
)

171 
expÚ’t
 = 
	`¡¹Ş
 (
e
 + 1, 
NULL
, 10);

172 
»t
.
´ecisiÚ
 +ğ
expÚ’t
 < 0 ? -exponent : 0;

174 
»t
.
width
 -ğ
	`¡¾’
 (
¬g
è- (
e
 -‡rg);

176 ià(
expÚ’t
 < 0)

178 ià(
decim®_pošt
)

180 ià(
e
 =ğ
decim®_pošt
 + 1)

181 
»t
.
width
++;

184 
»t
.
width
++;

185 
expÚ’t
 = -exponent;

187 
»t
.
width
 +ğ
expÚ’t
;

191  
»t
;

192 
	}
}

200 
	$lÚg_doubË_fÜm©
 (cÚ¡ *
fmt
, 
Ïyout
 *layout)

202 
size_t
 
i
;

203 
size_t
 
´efix_Ën
 = 0;

204 
size_t
 
suffix_Ën
 = 0;

205 
size_t
 
Ëngth_modif›r_off£t
;

206 
boŞ
 
has_L
;

208 
i
 = 0; ! (
fmt
[i] == '%' && fmt[i + 1] != '%'); i += (fmt[i] == '%') + 1)

210 ià(!
fmt
[
i
])

211 
	`”rÜ
 (
EXIT_FAILURE
, 0,

212 
	`_
("fÜm© % ha nØ%% dœeùive"), 
	`quÙe
 (
fmt
));

213 
´efix_Ën
++;

216 
i
++;

217 
i
 +ğ
	`¡r¥n
 (
fmt
 + i, "-+#0 '");

218 
i
 +ğ
	`¡r¥n
 (
fmt
 + i, "0123456789");

219 ià(
fmt
[
i
] == '.')

221 
i
++;

222 
i
 +ğ
	`¡r¥n
 (
fmt
 + i, "0123456789");

225 
Ëngth_modif›r_off£t
 = 
i
;

226 
has_L
 = (
fmt
[
i
] == 'L');

227 
i
 +ğ
has_L
;

228 ià(
fmt
[
i
] == '\0')

229 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("fÜm© % ’d š %%"), 
	`quÙe
 (
fmt
));

230 ià(! 
	`¡rchr
 ("efgaEFGA", 
fmt
[
i
]))

231 
	`”rÜ
 (
EXIT_FAILURE
, 0,

232 
	`_
("fÜm© % ha unknowÀ%%%ødœeùive"), 
	`quÙe
 (
fmt
), fmt[
i
]);

234 
i
++; ; i +ğ(
fmt
[i] == '%') + 1)

235 ià(
fmt
[
i
] == '%' && fmt[i + 1] != '%')

236 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("format %s hasoo many %% directives"),

237 
	`quÙe
 (
fmt
));

238 ià(
fmt
[
i
])

239 
suffix_Ën
++;

242 
size_t
 
fÜm©_size
 = 
i
 + 1;

243 *
ldfmt
 = 
	`xm®loc
 (
fÜm©_size
 + 1);

244 
	`memıy
 (
ldfmt
, 
fmt
, 
Ëngth_modif›r_off£t
);

245 
ldfmt
[
Ëngth_modif›r_off£t
] = 'L';

246 
	`¡rıy
 (
ldfmt
 + 
Ëngth_modif›r_off£t
 + 1,

247 
fmt
 + 
Ëngth_modif›r_off£t
 + 
has_L
);

248 
Ïyout
->
´efix_Ën
 =…refix_len;

249 
Ïyout
->
suffix_Ën
 = suffix_len;

250  
ldfmt
;

252 
	}
}

258 
	$´št_numb”s
 (cÚ¡ *
fmt
, 
Ïyout
†ayout,

259 
fœ¡
, 
¡•
, 
Ï¡
)

261 
boŞ
 
out_of_¿nge
 = (
¡•
 < 0 ? 
fœ¡
 < 
Ï¡
 :†ast < first);

263 ià(! 
out_of_¿nge
)

265 
x
 = 
fœ¡
;

266 
i
;

268 
i
 = 1; ; i++)

270 
x0
 = 
x
;

271 
	`´štf
 (
fmt
, 
x
);

272 ià(
out_of_¿nge
)

274 
x
 = 
fœ¡
 + 
i
 * 
¡•
;

275 
out_of_¿nge
 = (
¡•
 < 0 ? 
x
 < 
Ï¡
 :†ast < x);

277 ià(
out_of_¿nge
)

286 
boŞ
 
´št_exŒa_numb”
 = 
çl£
;

287 
x_v®
;

288 *
x_¡r
;

289 
x_¡¾’
;

290 
	`£oÿË
 (
LC_NUMERIC
, "C");

291 
x_¡¾’
 = 
	`a¥rštf
 (&
x_¡r
, 
fmt
, 
x
);

292 
	`£oÿË
 (
LC_NUMERIC
, "");

293 ià(
x_¡¾’
 < 0)

294 
	`x®loc_d›
 ();

295 
x_¡r
[
x_¡¾’
 - 
Ïyout
.
suffix_Ën
] = '\0';

297 ià(
	`x¡¹Şd
 (
x_¡r
 + 
Ïyout
.
´efix_Ën
, 
NULL
, &
x_v®
, 
c_¡¹Şd
)

298 && 
x_v®
 =ğ
Ï¡
)

300 *
x0_¡r
 = 
NULL
;

301 ià(
	`a¥rštf
 (&
x0_¡r
, 
fmt
, 
x0
) < 0)

302 
	`x®loc_d›
 ();

303 
´št_exŒa_numb”
 = !
	`STREQ
 (
x0_¡r
, 
x_¡r
);

304 
	`ä“
 (
x0_¡r
);

307 
	`ä“
 (
x_¡r
);

308 ià(! 
´št_exŒa_numb”
)

312 
	`åuts
 (
£·¿tÜ
, 
¡dout
);

315 
	`åuts
 (
‹rmš©Ü
, 
¡dout
);

317 
	}
}

321 
	$g‘_deçuÉ_fÜm©
 (
İ”ªd
 
fœ¡
, o³¿nd 
¡•
, o³¿nd 
Ï¡
)

323 
fÜm©_buf
[ "%0.Lf" + 2 * 
	`INT_STRLEN_BOUND
 ()];

325 
´ec
 = 
	`MAX
 (
fœ¡
.
´ecisiÚ
, 
¡•
.precision);

327 ià(
´ec
 !ğ
INT_MAX
 && 
Ï¡
.
´ecisiÚ
 != INT_MAX)

329 ià(
equ®_width
)

332 
size_t
 
fœ¡_width
 = 
fœ¡
.
width
 + (
´ec
 - fœ¡.
´ecisiÚ
);

334 
size_t
 
Ï¡_width
 = 
Ï¡
.
width
 + (
´ec
 -†a¡.
´ecisiÚ
);

335 ià(
Ï¡
.
´ecisiÚ
 && 
´ec
 == 0)

336 
Ï¡_width
--;

337 ià(
Ï¡
.
´ecisiÚ
 =ğ0 && 
´ec
)

338 
Ï¡_width
++;

339 ià(
fœ¡
.
´ecisiÚ
 =ğ0 && 
´ec
)

340 
fœ¡_width
++;

341 
size_t
 
width
 = 
	`MAX
 (
fœ¡_width
, 
Ï¡_width
);

342 ià(
width
 <ğ
INT_MAX
)

344 
w
 = 
width
;

345 
	`¥rštf
 (
fÜm©_buf
, "%%0%d.%dLf", 
w
, 
´ec
);

346  
fÜm©_buf
;

351 
	`¥rštf
 (
fÜm©_buf
, "%%.%dLf", 
´ec
);

352  
fÜm©_buf
;

357 
	}
}

363 
	$šü
 (**
s0
, 
size_t
 *
s_Ën
)

365 *
s
 = *
s0
;

366 *
’dp
 = 
s
 + *
s_Ën
 - 1;

370 ià((*
’dp
)++ < '9')

372 *
’dp
-- = '0';

374 
’dp
 >ğ
s
);

375 *--(*
s0
) = '1';

376 ++*
s_Ën
;

377 
	}
}

382 
	$cmp
 (cÚ¡ *
a
, 
size_t
 
a_Ën
, cÚ¡ *
b
, size_ˆ
b_Ën
)

384 ià(
a_Ën
 < 
b_Ën
)

386 ià(
b_Ën
 < 
a_Ën
)

388  (
	`¡rcmp
 (
a
, 
b
));

389 
	}
}

393 cÚ¡ * 
_GL_ATTRIBUTE_PURE


394 
	$Œim_Ëadšg_z”os
 (cÚ¡ *
s
)

396 cÚ¡ *
p
 = 
s
;

397 *
s
 == '0')

398 ++
s
;

401 ià(!*
s
 && s !ğ
p
)

402 --
s
;

403  
s
;

404 
	}
}

409 
boŞ


410 
	$£q_ç¡
 (cÚ¡ *
a
, cÚ¡ *
b
)

414 
a
 = 
	`Œim_Ëadšg_z”os
 (a);

415 
b
 = 
	`Œim_Ëadšg_z”os
 (b);

417 
size_t
 
p_Ën
 = 
	`¡¾’
 (
a
);

418 
size_t
 
q_Ën
 = 
	`¡¾’
 (
b
);

419 
size_t
 
n
 = 
	`MAX
 (
p_Ën
, 
q_Ën
);

420 *
p0
 = 
	`xm®loc
 (
n
 + 1);

421 *
p
 = 
	`memıy
 (
p0
 + 
n
 - 
p_Ën
, 
a
,…_len + 1);

422 *
q0
 = 
	`xm®loc
 (
n
 + 1);

423 *
q
 = 
	`memıy
 (
q0
 + 
n
 - 
q_Ën
, 
b
, q_len + 1);

425 
boŞ
 
ok
 = 
	`cmp
 (
p
, 
p_Ën
, 
q
, 
q_Ën
) <= 0;

426 ià(
ok
)

431 ’um {
N
 = 40};

432 *
buf
 = 
	`xm®loc
 (
N
 * (
n
 + 1));

433 cÚ¡ *
buf_’d
 = 
buf
 + 
N
 * (
n
 + 1);

435 *
z
 = 
buf
;

438 
z
 = 
	`mempıy
 (z, 
p
, 
p_Ën
);

441 
	`cmp
 (
p
, 
p_Ën
, 
q
, 
q_Ën
) < 0)

443 *
z
++ = *
£·¿tÜ
;

444 
	`šü
 (&
p
, &
p_Ën
);

445 
z
 = 
	`mempıy
 (z, 
p
, 
p_Ën
);

448 ià(
buf_’d
 - (
n
 + 1è< 
z
)

450 
	`fwr™e
 (
buf
, 
z
 - buf, 1, 
¡dout
);

451 
z
 = 
buf
;

456 *
z
++ = *
‹rmš©Ü
;

457 
	`fwr™e
 (
buf
, 
z
 - buf, 1, 
¡dout
);

459 
	`IF_LINT
 (
	`ä“
 (
buf
));

462 
	`ä“
 (
p0
);

463 
	`ä“
 (
q0
);

464  
ok
;

465 
	}
}

468 
boŞ
 
_GL_ATTRIBUTE_PURE


469 
	$®l_dig™s_p
 (cÚ¡ *
s
)

471 
size_t
 
n
 = 
	`¡¾’
 (
s
);

472  
	`ISDIGIT
 (
s
[0]è&& 
n
 =ğ
	`¡r¥n
 (s, "0123456789");

473 
	}
}

476 
	$maš
 (
¬gc
, **
¬gv
)

478 
İtc
;

479 
İ”ªd
 
fœ¡
 = { 1, 1, 0 };

480 
İ”ªd
 
¡•
 = { 1, 1, 0 };

481 
İ”ªd
 
Ï¡
;

482 
Ïyout
†ayout = { 0, 0 };

485 cÚ¡ *
fÜm©_¡r
 = 
NULL
;

487 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

488 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

489 
	`£oÿË
 (
LC_ALL
, "");

490 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

491 
	`‹xtdomaš
 (
PACKAGE
);

493 
	`©ex™
 (
şo£_¡dout
);

495 
equ®_width
 = 
çl£
;

496 
£·¿tÜ
 = "\n";

501 
İtšd
 < 
¬gc
)

503 ià(
¬gv
[
İtšd
][0] == '-'

504 && ((
İtc
 = 
¬gv
[
İtšd
][1]è=ğ'.' || 
	`ISDIGIT
 (optc)))

510 
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+f:s:w", 
lÚg_İtiÚs
, 
NULL
);

511 ià(
İtc
 == -1)

514 
İtc
)

517 
fÜm©_¡r
 = 
İrg
;

521 
£·¿tÜ
 = 
İrg
;

525 
equ®_width
 = 
Œue
;

528 
ÿ£_GETOPT_HELP_CHAR
;

530 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

533 
	`u§ge
 (
EXIT_FAILURE
);

537 
n_¬gs
 = 
¬gc
 - 
İtšd
;

538 ià(
n_¬gs
 < 1)

540 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

541 
	`u§ge
 (
EXIT_FAILURE
);

544 ià(3 < 
n_¬gs
)

546 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 3]));

547 
	`u§ge
 (
EXIT_FAILURE
);

550 ià(
fÜm©_¡r
)

551 
fÜm©_¡r
 = 
	`lÚg_doubË_fÜm©
 (fÜm©_¡r, &
Ïyout
);

553 ià(
fÜm©_¡r
 !ğ
NULL
 && 
equ®_width
)

555 
	`”rÜ
 (0, 0, 
	`_
("format string may‚ot be specified"

557 
	`u§ge
 (
EXIT_FAILURE
);

566 ià(
	`®l_dig™s_p
 (
¬gv
[
İtšd
])

567 && (
n_¬gs
 =ğ1 || 
	`®l_dig™s_p
 (
¬gv
[
İtšd
 + 1]))

568 && (
n_¬gs
 < 3 || (
	`STREQ
 ("1", 
¬gv
[
İtšd
 + 1])

569 && 
	`®l_dig™s_p
 (
¬gv
[
İtšd
 + 2])))

570 && !
equ®_width
 && !
fÜm©_¡r
 && 
	`¡¾’
 (
£·¿tÜ
) == 1)

572 cÚ¡ *
s1
 = 
n_¬gs
 =ğ1 ? "1" : 
¬gv
[
İtšd
];

573 cÚ¡ *
s2
 = 
¬gv
[
İtšd
 + (
n_¬gs
 - 1)];

574 ià(
	`£q_ç¡
 (
s1
, 
s2
))

575 
	`ex™
 (
EXIT_SUCCESS
);

580 
Ï¡
 = 
	`sÿn_¬g
 (
¬gv
[
İtšd
++]);

582 ià(
İtšd
 < 
¬gc
)

584 
fœ¡
 = 
Ï¡
;

585 
Ï¡
 = 
	`sÿn_¬g
 (
¬gv
[
İtšd
++]);

587 ià(
İtšd
 < 
¬gc
)

589 
¡•
 = 
Ï¡
;

590 
Ï¡
 = 
	`sÿn_¬g
 (
¬gv
[
İtšd
++]);

594 ià(
fœ¡
.
´ecisiÚ
 =ğ0 && 
¡•
.´ecisiÚ =ğ0 && 
Ï¡
.precision == 0

595 && 0 <ğ
fœ¡
.
v®ue
 && 
¡•
.v®u=ğ1 && 0 <ğ
Ï¡
.value

596 && !
equ®_width
 && !
fÜm©_¡r
 && 
	`¡¾’
 (
£·¿tÜ
) == 1)

598 *
s1
;

599 *
s2
;

600 ià(
	`a¥rštf
 (&
s1
, "%0.Lf", 
fœ¡
.
v®ue
) < 0)

601 
	`x®loc_d›
 ();

602 ià(
	`a¥rštf
 (&
s2
, "%0.Lf", 
Ï¡
.
v®ue
) < 0)

603 
	`x®loc_d›
 ();

605 ià(
	`£q_ç¡
 (
s1
, 
s2
))

607 
	`IF_LINT
 (
	`ä“
 (
s1
));

608 
	`IF_LINT
 (
	`ä“
 (
s2
));

609 
	`ex™
 (
EXIT_SUCCESS
);

612 
	`ä“
 (
s1
);

613 
	`ä“
 (
s2
);

617 ià(
fÜm©_¡r
 =ğ
NULL
)

618 
fÜm©_¡r
 = 
	`g‘_deçuÉ_fÜm©
 (
fœ¡
, 
¡•
, 
Ï¡
);

620 
	`´št_numb”s
 (
fÜm©_¡r
, 
Ïyout
, 
fœ¡
.
v®ue
, 
¡•
.v®ue, 
Ï¡
.value);

622 
	`ex™
 (
EXIT_SUCCESS
);

623 
	}
}

	@setuidgid.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<pwd.h
>

24 
	~<g½.h
>

26 
	~"sy¡em.h
"

28 
	~"”rÜ.h
"

29 
	~"lÚg-İtiÚs.h
"

30 
	~"mg‘groups.h
"

31 
	~"quÙe.h
"

32 
	~"x¡¹Ş.h
"

34 
	#PROGRAM_NAME
 "£tuidgid"

	)

38 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

40 
	#SETUIDGID_FAILURE
 111

	)

43 
	$u§ge
 (
¡©us
)

45 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

46 
	`em™_Œy_h–p
 ();

49 
	`´štf
 (
	`_
("\
: %s [SHORT-OPTION]... USER COMMAND [ARGUMENT]...\n\
: %s LONG-OPTION\n\
"),

53 
´og¿m_Çme
,…rogram_name);

55 
	`åuts
 (
	`_
("\
‡ny suµËm’Ègroups,‡ssumthu£r-ID‡nd group-ID oàth¥ecif›d\
\n\
 (num”iøID o¸u£¸Çme),‡nd„uÀCOMMAND w™h‡ny s³cif›d ARGUMENTs.\n\
 w™h stu 111 iàuÇbËØassumth»quœed u£¸ªd grou°ID.\n\
,ƒx™ w™hhex™ stu oàCOMMAND.\n\
…rog¿m i u£fuÈÚly wh’„uÀby„oÙ (u£¸ID z”o).\n\
\n\
"), 
¡dout
);

64 
	`åuts
 (
	`_
("\
-g GID[,GID1...]‡lsØ£ˆth´im¬y group-IDØthnum”iøGID,‡nd\n\
(ià¥ecif›dèsuµËm’Ègrou°ID tØGID1, ...\n\
"), 
¡dout
);

68 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

69 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

70 
	`em™_ªcÏry_šfo
 ();

72 
	`ex™
 (
¡©us
);

73 
	}
}

76 
	$maš
 (
¬gc
, **
¬gv
)

78 
uid_t
 
uid
;

79 
GETGROUPS_T
 *
gids
 = 
NULL
;

80 
size_t
 
n_gids
 = 0;

81 
size_t
 
n_gids_®loÿ‹d
 = 0;

82 
gid_t
 
´im¬y_gid
;

84 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

85 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

86 
	`£oÿË
 (
LC_ALL
, "");

87 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

88 
	`‹xtdomaš
 (
PACKAGE
);

90 
	`š™Ÿlize_ex™_çu»
 (
SETUIDGID_FAILURE
);

91 
	`©ex™
 (
şo£_¡dout
);

93 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

94 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

96 
c
;

97 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+g:", 
NULL
, NULL)) != -1)

99 
c
)

103 
tmp_ul
;

104 *
gr
 = 
İrg
;

105 *
±r
;

106 
Œue
)

108 ià(! (
	`x¡¹oul
 (
gr
, &
±r
, 10, &
tmp_ul
, 
NULL
è=ğ
LONGINT_OK


109 && 
tmp_ul
 <ğ
GID_T_MAX
))

110 
	`”rÜ
 (
SETUIDGID_FAILURE
, 0, 
	`_
("invalid group %s"),

111 
	`quÙe
 (
gr
));

112 ià(
n_gids
 =ğ
n_gids_®loÿ‹d
)

113 
gids
 = 
	`X2NREALLOC
 (gids, &
n_gids_®loÿ‹d
);

114 
gids
[
n_gids
++] = 
tmp_ul
;

116 ià(*
±r
 == '\0')

118 ià(*
±r
 != ',')

120 
	`”rÜ
 (0, 0, 
	`_
("šv®id grou°%s"), 
	`quÙe
 (
gr
));

121 
	`u§ge
 (
SETUIDGID_FAILURE
);

123 
gr
 = 
±r
 + 1;

129 
	`u§ge
 (
SETUIDGID_FAILURE
);

134 ià(
¬gc
 <ğ
İtšd
 + 1)

136 ià(
¬gc
 < 
İtšd
 + 1)

137 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

139 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

140 
	`u§ge
 (
SETUIDGID_FAILURE
);

144 cÚ¡ 
·sswd
 *
pwd
;

145 
tmp_ul
;

146 *
u£r
 = 
¬gv
[
İtšd
];

147 *
±r
;

148 
boŞ
 
have_uid
 = 
çl£
;

150 ià(
	`x¡¹oul
 (
u£r
, &
±r
, 10, &
tmp_ul
, ""è=ğ
LONGINT_OK


151 && 
tmp_ul
 <ğ
UID_T_MAX
)

153 
uid
 = 
tmp_ul
;

154 
have_uid
 = 
Œue
;

157 ià(!
have_uid
)

159 
pwd
 = 
	`g‘pwÇm
 (
u£r
);

160 ià(
pwd
 =ğ
NULL
)

162 
	`”rÜ
 (0, 
”ºo
, 
	`_
("unknowÀu£r-ID: %s"), 
	`quÙe
 (
u£r
));

163 
	`u§ge
 (
SETUIDGID_FAILURE
);

165 
uid
 = 
pwd
->
pw_uid
;

167 ià(
n_gids
 == 0)

169 
pwd
 = 
	`g‘pwuid
 (
uid
);

170 ià(
pwd
 =ğ
NULL
)

172 
	`”rÜ
 (0, 
”ºo
,

173 
	`_
("tØu£ u£r-ID % you‚“dØu£ -goo"), 
	`quÙe
 (
u£r
));

174 
	`u§ge
 (
SETUIDGID_FAILURE
);

178 #ià
HAVE_SETGROUPS


179 ià(
n_gids
 == 0)

181 
n
 = 
	`xg‘groups
 (
pwd
->
pw_Çme
,…wd->
pw_gid
, &
gids
);

182 ià(
n
 <= 0)

183 
	`”rÜ
 (
SETUIDGID_FAILURE
, 
”ºo
,

184 
	`_
("çedØg‘ group fÜ u£¸%s"), 
	`quÙe
 (
pwd
->
pw_Çme
));

185 
n_gids
 = 
n
;

188 ià(
	`£tgroups
 (
n_gids
, 
gids
))

189 
	`”rÜ
 (
SETUIDGID_FAILURE
, 
”ºo
,

190 
	`_
("failedo set supplemental group(s)"));

192 
´im¬y_gid
 = 
gids
[0];

194 
´im¬y_gid
 = 
pwd
->
pw_gid
;

198 ià(
	`£tgid
 (
´im¬y_gid
))

199 
	`”rÜ
 (
SETUIDGID_FAILURE
, 
”ºo
,

200 
	`_
("ÿÂÙ s‘ group-IDØ%lu"), (è
´im¬y_gid
);

202 ià(
	`£tuid
 (
uid
))

203 
	`”rÜ
 (
SETUIDGID_FAILURE
, 
”ºo
,

204 
	`_
("ÿÂÙ s‘ u£r-IDØ%lu"), (è
uid
);

207 **
cmd
 = 
¬gv
 + 
İtšd
 + 1;

208 
ex™_¡©us
;

209 
	`execvp
 (*
cmd
, cmd);

210 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

212 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØruÀcommªd %s"), 
	`quÙe
 (*
cmd
));

213 
	`ex™
 (
ex™_¡©us
);

215 
	}
}

	@shred.c

72 
	#PROGRAM_NAME
 "sh»d"

	)

74 
	#AUTHORS
 
	`´İ”_Çme
 ("CŞš Plumb")

	)

76 
	~<cÚfig.h
>

78 
	~<g‘İt.h
>

79 
	~<¡dio.h
>

80 
	~<as£¹.h
>

81 
	~<£tjmp.h
>

82 
	~<sys/ty³s.h
>

84 
	~"sy¡em.h
"

85 
	~"x¡¹Ş.h
"

86 
	~"”rÜ.h
"

87 
	~"fú--.h
"

88 
	~"humª.h
"

89 
	~"quÙ—rg.h
"

90 
	~"¿ndšt.h
"

91 
	~"¿nd»ad.h
"

92 
	~"¡©-size.h
"

95 ’um { 
	mDEFAULT_PASSES
 = 3 };

99 ’um { 
	mVERBOSE_UPDATE
 = 5 };

103 ’um { 
	mSECTOR_SIZE
 = 512 };

104 ’um { 
	mSECTOR_MASK
 = 
SECTOR_SIZE
 - 1 };

105 
v”ify
 (0 < 
SECTOR_SIZE
 && (SECTOR_SIZE & 
SECTOR_MASK
) == 0);

107 
	sO±iÚs


109 
boŞ
 
	mfÜû
;

110 
size_t
 
	mn_™”©iÚs
;

111 
off_t
 
	msize
;

112 
boŞ
 
	m»move_fe
;

113 
boŞ
 
	mv”bo£
;

114 
boŞ
 
	mexaù
;

115 
boŞ
 
	mz”o_fl
;

122 
	mRANDOM_SOURCE_OPTION
 = 
CHAR_MAX
 + 1

125 
İtiÚ
 cÚ¡ 
	glÚg_İts
[] =

127 {"exaù", 
no_¬gum’t
, 
NULL
, 'x'},

128 {"fÜû", 
no_¬gum’t
, 
NULL
, 'f'},

129 {"™”©iÚs", 
»quœed_¬gum’t
, 
NULL
, 'n'},

130 {"size", 
»quœed_¬gum’t
, 
NULL
, 's'},

131 {"¿ndom-sourû", 
»quœed_¬gum’t
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

132 {"»move", 
no_¬gum’t
, 
NULL
, 'u'},

133 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

134 {"z”o", 
no_¬gum’t
, 
NULL
, 'z'},

135 {
GETOPT_HELP_OPTION_DECL
},

136 {
GETOPT_VERSION_OPTION_DECL
},

137 {
NULL
, 0, NULL, 0}

141 
	$u§ge
 (
¡©us
)

143 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

144 
	`em™_Œy_h–p
 ();

147 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

148 
	`åuts
 (
	`_
("\
h¥ecif›d FILE(sè»³©edly, iÀÜd”Ømak™ h¬d”\n\
ƒv’ v”yƒx³nsivh¬dw¬´obšgØ»cov”hd©a.\n\
"), 
¡dout
);

153 
	`em™_mªd©Üy_¬g_nÙe
 ();

155 
	`´štf
 (
	`_
("\
-f, --fÜû chªg³rmissiÚ tØ®low wr™šg iàÃûs§ry\n\
-n, --™”©iÚs=N ov”wr™Nime š¡—d oàthdeçuÉ (%d)\n\
--¿ndom-sourû=FILE g‘„ªdom by‹ äom FILE\n\
-s, --size=N sh»dhi mªy by‹ (suffixe likK, M, G‡cû±ed)\n\
"), 
DEFAULT_PASSES
);

161 
	`åuts
 (
	`_
("\
-u, --»movrunÿ‹‡nd„emovfaá” ov”wr™šg\n\
-v, --v”bo£ show…rog»ss\n\
-x, --exaù dØnÙ„ound fsize u°tØthÃxˆfuÎ block;\n\
 i thdeçuÉ fÜ‚Ú-»guÏ¸fes\n\
-z, --z”Ø‡dd‡ fš® ov”wr™w™h z”o tØhidsh»ddšg\n\
"), 
¡dout
);

168 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

169 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

170 
	`åuts
 (
	`_
("\
\n\
 FILE i -, sh»d snd¬d ouut.\n\
\n\
 FILE(sèià--»mov(-uèi ¥ecif›d. ThdeçuÉ i nÙØ»move\n\
 fe beÿu£ iˆi commÚØİ”©Ú deviû fe lik/dev/hda,\n\
ho£ fe usu®ly should‚Ù b»moved. Wh’ o³¿tšg oÀ»guÏr\n\
, mo¡…eİË u£h--»movİtiÚ.\n\
\n\
"), 
¡dout
);

180 
	`åuts
 (
	`_
("\
: NÙth© sh»d„–› Ú‡ v”y impÜÁ‡ssum±iÚ:\n\
hfsy¡em ov”wr™e d©¨š…Ïû. Thi i thŒad™iÚ®\n\
ØdØthšgs, buˆmªy mod”Àfsy¡em design dØnÙ s©isfyhis\n\
. ThfŞlowšg‡»ƒxam¶e oàfsy¡em Ú which sh»d is\n\
ƒfãùive, o¸i nÙ gu¬ª‹edØbefãùivš‡Î fsy¡em modes:\n\
\n\
"), 
¡dout
);

188 
	`åuts
 (
	`_
("\
*†og-¡ruùu»d o¸jouº®ed fsy¡ems, such‡ tho£ suµl›d w™h\n\
‡nd SŞ¬i ×nd JFS, Rei£rFS, XFS, Ext3,ƒtc.)\n\
\n\
* fsy¡em th© wr™»dundªˆd©¨ªd c¬ry oÀev’ iàsomwr™es\n\
, such‡ RAID-ba£d fsy¡ems\n\
\n\
* fsy¡em th© mak¢­shÙs, such‡ N‘wÜk AµlŸnû' NFS s”v”\n\
\n\
"), 
¡dout
);

198 
	`åuts
 (
	`_
("\
* fsy¡em th© cachšempÜ¬y†oÿtiÚs, such‡ NFS\n\
 3 cl›Ás\n\
\n\
* com´es£d fsy¡ems\n\
\n\
"), 
¡dout
);

205 
	`åuts
 (
	`_
("\
hÿ£ oàext3 fsy¡ems,habovdisşaim”‡µl›s\n\
×nd sh»d i thu oàlim™edƒfãùiv’essèÚly iÀd©a=jouº® mode,\n\
 jouº® fd©¨š‡dd™iÚØju¡ m‘ad©a. IÀbÙhhe\n\
=Üd”ed (deçuÉèªd d©a=wr™eback modes, sh»d wÜk a usu®.\n\
3 jouº®šg mode ÿÀbchªged by‡ddšghd©a=som‘hšg o±iÚ\n\
hmouÁ o±iÚ fÜ‡…¬ticuÏ¸fsy¡em iÀth/‘c/f¡ab fe,\n\
 docum’‹d iÀthmouÁ mª…ag(mª mouÁ).\n\
\n\
"), 
¡dout
);

215 
	`åuts
 (
	`_
("\
‡dd™iÚ, fsy¡em backup ªd„emÙmœrÜ may cÚš cİ›s\n\
hfth© cªnÙ b»moved,‡ndh© wÈ®low‡ sh»dded fe\n\
 b»cov”ed†©”.\n\
"), 
¡dout
);

220 
	`em™_ªcÏry_šfo
 ();

222 
	`ex™
 (
¡©us
);

223 
	}
}

233 
	$fÍ©‹º
 (
ty³
, *
r
, 
size_t
 
size
)

235 
size_t
 
i
;

236 
b™s
 = 
ty³
 & 0xfff;

238 
b™s
 |= bits << 12;

239 
r
[0] = (
b™s
 >> 4) & 255;

240 
r
[1] = (
b™s
 >> 8) & 255;

241 
r
[2] = 
b™s
 & 255;

242 
i
 = 3; i < 
size
 / 2; i *= 2)

243 
	`memıy
 (
r
 + 
i
,„, i);

244 ià(
i
 < 
size
)

245 
	`memıy
 (
r
 + 
i
,„, 
size
 - i);

248 ià(
ty³
 & 0x1000)

249 
i
 = 0; i < 
size
; i +ğ
SECTOR_SIZE
)

250 
r
[
i
] ^= 0x80;

251 
	}
}

257 
	#PASS_NAME_SIZE
 7

	)

259 
	$·s¢ame
 (cÚ¡ *
d©a
, 
Çme
[
PASS_NAME_SIZE
])

261 ià(
d©a
)

262 
	`¥rštf
 (
Çme
, "%02x%02x%02x", 
d©a
[0], data[1], data[2]);

264 
	`memıy
 (
Çme
, "¿ndom", 
PASS_NAME_SIZE
);

265 
	}
}

269 
boŞ


270 
	$ignÜabË_sync_”ºo
 (
”ºo_v®
)

272  (
”ºo_v®
 =ğ
EINVAL


273 || 
”ºo_v®
 =ğ
EBADF


275 || 
”ºo_v®
 =ğ
EISDIR
);

276 
	}
}

285 
	$dosync
 (
fd
, cÚ¡ *
qÇme
)

287 
”r
;

289 #ià
HAVE_FDATASYNC


290 ià(
	`fd©async
 (
fd
) == 0)

292 
”r
 = 
”ºo
;

293 iàĞ! 
	`ignÜabË_sync_”ºo
 (
”r
))

295 
	`”rÜ
 (0, 
”r
, 
	`_
("%s: fd©asynøçed"), 
qÇme
);

296 
”ºo
 = 
”r
;

301 ià(
	`fsync
 (
fd
) == 0)

303 
”r
 = 
”ºo
;

304 iàĞ! 
	`ignÜabË_sync_”ºo
 (
”r
))

306 
	`”rÜ
 (0, 
”r
, 
	`_
("%s: fsynøçed"), 
qÇme
);

307 
”ºo
 = 
”r
;

311 
	`sync
 ();

313 
	}
}

318 
	$dœeù_mode
 (
fd
, 
boŞ
 
’abË
)

320 ià(
O_DIRECT
)

322 
fd_æags
 = 
	`fú
 (
fd
, 
F_GETFL
);

323 ià(0 < 
fd_æags
)

325 
Ãw_æags
 = (
’abË


326 ? (
fd_æags
 | 
O_DIRECT
)

327 : (
fd_æags
 & ~
O_DIRECT
));

328 ià(
Ãw_æags
 !ğ
fd_æags
)

329 
	`fú
 (
fd
, 
F_SETFL
, 
Ãw_æags
);

333 #ià
HAVE_DIRECTIO
 && 
defšed
 
DIRECTIO_ON
 && defšed 
DIRECTIO_OFF


336 
	`dœeùio
 (
fd
, 
’abË
 ? 
DIRECTIO_ON
 : 
DIRECTIO_OFF
);

338 
	}
}

351 
	$dİass
 (
fd
, cÚ¡ *
qÇme
, 
off_t
 *
siz•
, 
ty³
,

352 
¿nd»ad_sourû
 *
s
, 
k
, 
n
)

354 
off_t
 
size
 = *
siz•
;

355 
off_t
 
off£t
;

356 
time_t
 
th»sh
 
	`IF_LINT
 ( = 0);

357 
time_t
 
now
 = 0;

358 
size_t
 
lim
;

359 
size_t
 
soff
;

360 
ssize_t
 
ssize
;

364 
ušt32_t
 
	tfl_·‰”n_bufãr
[3 * 1024];

367 
fl_·‰”n_bufãr
 
bufãr
;

368 
c
[ (
fl_·‰”n_bufãr
)];

369 
u
[ (
fl_·‰”n_bufãr
)];

370 } 
r
;

372 
off_t
 
sizeof_r
 =  
r
;

373 
·ss_¡ršg
[
PASS_NAME_SIZE
];

374 
boŞ
 
wr™e_”rÜ
 = 
çl£
;

375 
boŞ
 
fœ¡_wr™e
 = 
Œue
;

378 
´evious_off£t_buf
[
LONGEST_HUMAN_READABLE
 + 1];

379 cÚ¡ *
´evious_humª_off£t
 
	`IF_LINT
 ( = 0);

381 ià(
	`l£ek
 (
fd
, 0, 
SEEK_SET
) == -1)

383 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cªnÙ„ewšd"), 
qÇme
);

388 ià(
ty³
 >= 0)

390 
lim
 = (0 <ğ
size
 && siz< 
sizeof_r
 ? size : sizeof_r);

391 
	`fÍ©‹º
 (
ty³
, 
r
.
u
, 
lim
);

392 
	`·s¢ame
 (
r
.
u
, 
·ss_¡ršg
);

396 
	`·s¢ame
 (0, 
·ss_¡ršg
);

400 ià(
n
)

402 
	`”rÜ
 (0, 0, 
	`_
("%s:…as %lu/%lu (%s)..."), 
qÇme
, 
k
, 
n
, 
·ss_¡ršg
);

403 
th»sh
 = 
	`time
 (
NULL
è+ 
VERBOSE_UPDATE
;

404 
´evious_humª_off£t
 = "";

407 
off£t
 = 0;

408 
Œue
)

411 
lim
 =  
r
;

412 ià(0 <ğ
size
 && siz- 
off£t
 < 
sizeof_r
)

414 ià(
size
 < 
off£t
)

416 
lim
 = 
size
 - 
off£t
;

417 ià(!
lim
)

420 ià(
ty³
 < 0)

421 
	`¿nd»ad
 (
s
, &
r
, 
lim
);

423 
soff
 = 0; sofà< 
lim
; sofà+ğ
ssize
, 
fœ¡_wr™e
 = 
çl£
)

425 
ssize
 = 
	`wr™e
 (
fd
, 
r
.
c
 + 
soff
, 
lim
 - soff);

426 ià(
ssize
 <= 0)

428 ià(
size
 < 0 && (
ssize
 =ğ0 || 
”ºo
 =ğ
ENOSPC
))

431 *
siz•
 = 
size
 = 
off£t
 + 
soff
;

436 
”ºum
 = 
”ºo
;

437 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

446 ià(
k
 =ğ1 && 
fœ¡_wr™e
 && 
”ºo
 =ğ
EINVAL
)

448 
	`dœeù_mode
 (
fd
, 
çl£
);

449 
ssize
 = 0;

452 
	`”rÜ
 (0, 
”ºum
, 
	`_
("%s:ƒrror writing‡t offset %s"),

453 
qÇme
, 
	`umaxto¡r
 (
off£t
 + 
soff
, 
buf
));

459 
	`v”ify
 ( 
r
 % 
SECTOR_SIZE
 == 0);

460 ià(
”ºum
 =ğ
EIO
 && 0 <ğ
size
 && (
soff
 | 
SECTOR_MASK
è< 
lim
)

462 
size_t
 
soff1
 = (
soff
 | 
SECTOR_MASK
) + 1;

463 ià(
	`l£ek
 (
fd
, 
off£t
 + 
soff1
, 
SEEK_SET
) != -1)

466 
ssize
 = 
soff1
 - 
soff
;

467 
wr™e_”rÜ
 = 
Œue
;

470 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:†£ek faed"), 
qÇme
);

479 ià(
off£t
 > 
OFF_T_MAX
 - (
off_t
è
soff
)

481 
	`”rÜ
 (0, 0, 
	`_
("%s: ftoØÏrge"), 
qÇme
);

485 
off£t
 +ğ
soff
;

487 
boŞ
 
dÚe
 = 
off£t
 =ğ
size
;

490 ià(
n
 && ((
dÚe
 && *
´evious_humª_off£t
)

491 || 
th»sh
 <ğ(
now
 = 
	`time
 (
NULL
))))

493 
off£t_buf
[
LONGEST_HUMAN_READABLE
 + 1];

494 
size_buf
[
LONGEST_HUMAN_READABLE
 + 1];

495 
humª_´og»ss_İts
 = (
humª_autosÿË
 | 
humª_SI


496 | 
humª_ba£_1024
 | 
humª_B
);

497 cÚ¡ *
humª_off£t


498 ğ
	`humª_»adabË
 (
off£t
, 
off£t_buf
,

499 
humª_æoÜ
 | 
humª_´og»ss_İts
, 1, 1);

501 ià(
dÚe
 || !
	`STREQ
 (
´evious_humª_off£t
, 
humª_off£t
))

503 ià(
size
 < 0)

504 
	`”rÜ
 (0, 0, 
	`_
("%s:…ass %lu/%lu (%s)...%s"),

505 
qÇme
, 
k
, 
n
, 
·ss_¡ršg
, 
humª_off£t
);

508 
uštmax_t
 
off
 = 
off£t
;

509 
³rûÁ
 = (
size
 == 0

511 : (
off
 <ğ
	`TYPE_MAXIMUM
 (
uštmax_t
) / 100

512 ? 
off
 * 100 / 
size


513 : 
off
 / (
size
 / 100)));

514 cÚ¡ *
humª_size


515 ğ
	`humª_»adabË
 (
size
, 
size_buf
,

516 
humª_ûšg
 | 
humª_´og»ss_İts
,

518 ià(
dÚe
)

519 
humª_off£t
 = 
humª_size
;

520 
	`”rÜ
 (0, 0, 
	`_
("%s:…ass %lu/%lu (%s)...%s/%s %d%%"),

521 
qÇme
, 
k
, 
n
, 
·ss_¡ršg
, 
humª_off£t
, 
humª_size
,

522 
³rûÁ
);

525 
	`¡rıy
 (
´evious_off£t_buf
, 
humª_off£t
);

526 
´evious_humª_off£t
 = 
´evious_off£t_buf
;

527 
th»sh
 = 
now
 + 
VERBOSE_UPDATE
;

536 ià(
	`dosync
 (
fd
, 
qÇme
) != 0)

538 ià(
”ºo
 !ğ
EIO
)

540 
wr™e_”rÜ
 = 
Œue
;

547 ià(
	`dosync
 (
fd
, 
qÇme
) != 0)

549 ià(
”ºo
 !ğ
EIO
)

551 
wr™e_”rÜ
 = 
Œue
;

554  
wr™e_”rÜ
;

555 
	}
}

612 
	g·‰”ns
[] =

637 
	$g’·‰”n
 (*
de¡
, 
size_t
 
num
, 
¿ndšt_sourû
 *
s
)

639 
size_t
 
¿nd·s£s
;

640 cÚ¡ *
p
;

641 *
d
;

642 
size_t
 
n
;

643 
size_t
 
accum
, 
tİ
, 
sw­
;

644 
k
;

646 ià(!
num
)

650 
p
 = 
·‰”ns
;

651 
¿nd·s£s
 = 0;

652 
d
 = 
de¡
;

653 
n
 = 
num
;

655 
Œue
)

657 
k
 = *
p
++;

658 ià(!
k
)

660 
p
 = 
·‰”ns
;

662 ià(
k
 < 0)

664 
k
 = -k;

665 ià((
size_t
è
k
 >ğ
n
)

667 
¿nd·s£s
 +ğ
n
;

670 
¿nd·s£s
 +ğ
k
;

671 
n
 -ğ
k
;

673 ià((
size_t
è
k
 <ğ
n
)

675 
	`memıy
 (
d
, 
p
, 
k
 *  ());

676 
p
 +ğ
k
;

677 
d
 +ğ
k
;

678 
n
 -ğ
k
;

680 ià(
n
 < 2 || 3 *‚ < (
size_t
è
k
)

682 
¿nd·s£s
 +ğ
n
;

689 ià(
n
 =ğ(
size_t
è
k
 || 
	`¿ndšt_choo£
 (
s
, k) <‚)

691 *
d
++ = *
p
;

692 
n
--;

694 
p
++;

696 
n
);

700 
tİ
 = 
num
 - 
¿nd·s£s
;

723 
¿nd·s£s
--;

724 
accum
 = 
¿nd·s£s
;

725 
n
 = 0;‚ < 
num
;‚++)

727 ià(
accum
 <ğ
¿nd·s£s
)

729 
accum
 +ğ
num
 - 1;

730 
de¡
[
tİ
++] = de¡[
n
];

731 
de¡
[
n
] = -1;

735 
sw­
 = 
n
 + 
	`¿ndšt_choo£
 (
s
, 
tİ
 -‚);

736 
k
 = 
de¡
[
n
];

737 
de¡
[
n
] = de¡[
sw­
];

738 
de¡
[
sw­
] = 
k
;

740 
accum
 -ğ
¿nd·s£s
;

743 
	}
}

749 
boŞ


750 
	$do_wefd
 (
fd
, cÚ¡ *
qÇme
, 
¿ndšt_sourû
 *
s
,

751 
O±iÚs
 cÚ¡ *
æags
)

753 
size_t
 
i
;

754 
¡©
 
¡
;

755 
off_t
 
size
;

756 
n
;

757 *
·s§¼ay
;

758 
boŞ
 
ok
 = 
Œue
;

759 
¿nd»ad_sourû
 *
rs
;

761 
n
 = 0;

762 ià(
æags
->
v”bo£
)

763 
n
 = 
æags
->
n_™”©iÚs
 + fÏgs->
z”o_fl
;

765 ià(
	`f¡©
 (
fd
, &
¡
))

767 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: f¡© faed"), 
qÇme
);

768  
çl£
;

774 ià((
	`S_ISCHR
 (
¡
.
¡_mode
è&& 
	`i§‰y
 (
fd
))

775 || 
	`S_ISFIFO
 (
¡
.
¡_mode
)

776 || 
	`S_ISSOCK
 (
¡
.
¡_mode
))

778 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id fty³"), 
qÇme
);

779  
çl£
;

782 
	`dœeù_mode
 (
fd
, 
Œue
);

785 
·s§¼ay
 = 
	`xnm®loc
 (
æags
->
n_™”©iÚs
,  *passarray);

787 
size
 = 
æags
->size;

788 ià(
size
 == -1)

792 ià(
	`S_ISREG
 (
¡
.
¡_mode
))

794 
size
 = 
¡
.
¡_size
;

795 ià(
size
 < 0)

797 
	`”rÜ
 (0, 0, 
	`_
("%s: fha Ãg©ivsize"), 
qÇme
);

798  
çl£
;

803 
size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

804 ià(
size
 <= 0)

808 
size
 = -1;

813 ià(0 <ğ
size
 && !(
æags
->
exaù
è&& 
	`S_ISREG
 (
¡
.
¡_mode
))

815 
size
 +ğ
	`ST_BLKSIZE
 (
¡
) - 1 - (size - 1) % ST_BLKSIZE (st);

818 ià(
size
 < 0)

819 
size
 = 
	`TYPE_MAXIMUM
 (
off_t
);

824 
	`g’·‰”n
 (
·s§¼ay
, 
æags
->
n_™”©iÚs
, 
s
);

826 
rs
 = 
	`¿ndšt_g‘_sourû
 (
s
);

829 
i
 = 0; i < 
æags
->
n_™”©iÚs
; i++)

831 
”r
 = 
	`dİass
 (
fd
, 
qÇme
, &
size
, 
·s§¼ay
[
i
], 
rs
, i + 1, 
n
);

832 ià(
”r
)

834 ià(
”r
 < 0)

836 
	`mem£t
 (
·s§¼ay
, 0, 
æags
->
n_™”©iÚs
 *  ());

837 
	`ä“
 (
·s§¼ay
);

838  
çl£
;

840 
ok
 = 
çl£
;

844 
	`mem£t
 (
·s§¼ay
, 0, 
æags
->
n_™”©iÚs
 *  ());

845 
	`ä“
 (
·s§¼ay
);

847 ià(
æags
->
z”o_fl
)

849 
”r
 = 
	`dİass
 (
fd
, 
qÇme
, &
size
, 0, 
rs
, 
æags
->
n_™”©iÚs
 + 1, 
n
);

850 ià(
”r
)

852 ià(
”r
 < 0)

853  
çl£
;

854 
ok
 = 
çl£
;

861 ià(
æags
->
»move_fe
 && 
	`árunÿ‹
 (
fd
, 0) != 0

862 && 
	`S_ISREG
 (
¡
.
¡_mode
))

864 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:ƒ¼Ürunÿtšg"), 
qÇme
);

865  
çl£
;

868  
ok
;

869 
	}
}

872 
boŞ


873 
	$wefd
 (
fd
, cÚ¡ *
qÇme
, 
¿ndšt_sourû
 *
s
,

874 
O±iÚs
 cÚ¡ *
æags
)

876 
fd_æags
 = 
	`fú
 (
fd
, 
F_GETFL
);

878 ià(
fd_æags
 < 0)

880 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: fú faed"), 
qÇme
);

881  
çl£
;

883 ià(
fd_æags
 & 
O_APPEND
)

885 
	`”rÜ
 (0, 0, 
	`_
("%s: cªnÙ sh»d‡µ’d-Úly fdesütÜ"), 
qÇme
);

886  
çl£
;

888  
	`do_wefd
 (
fd
, 
qÇme
, 
s
, 
æags
);

889 
	}
}

894 cÚ¡ 
	gÇme£t
[] =

902 
boŞ


903 
	$šúame
 (*
Çme
, 
size_t
 
Ën
)

905 
Ën
--)

907 cÚ¡ *
p
 = 
	`¡rchr
 (
Çme£t
, 
Çme
[
Ën
]);

911 
	`as£¹
 (
p
);

914 ià(
p
[1])

916 
Çme
[
Ën
] = 
p
[1];

917  
Œue
;

921 
Çme
[
Ën
] = 
Çme£t
[0];

924  
çl£
;

925 
	}
}

953 
boŞ


954 
	$w’ame
 (*
ŞdÇme
, cÚ¡ *
qŞdÇme
, 
O±iÚs
 cÚ¡ *
æags
)

956 *
ÃwÇme
 = 
	`x¡rdup
 (
ŞdÇme
);

957 *
ba£
 = 
	`Ï¡_compÚ’t
 (
ÃwÇme
);

958 
size_t
 
Ën
 = 
	`ba£_Ën
 (
ba£
);

959 *
dœ
 = 
	`dœ_Çme
 (
ÃwÇme
);

960 *
qdœ
 = 
	`x¡rdup
 (
	`quÙ—rg_cŞÚ
 (
dœ
));

961 
boŞ
 
fœ¡
 = 
Œue
;

962 
boŞ
 
ok
 = 
Œue
;

964 
dœ_fd
 = 
	`İ’
 (
dœ
, 
O_RDONLY
 | 
O_DIRECTORY
 | 
O_NOCTTY
 | 
O_NONBLOCK
);

966 ià(
æags
->
v”bo£
)

967 
	`”rÜ
 (0, 0, 
	`_
("%s:„emovšg"), 
qŞdÇme
);

969 
Ën
)

971 
	`mem£t
 (
ba£
, 
Çme£t
[0], 
Ën
);

972 
ba£
[
Ën
] = 0;

975 
¡©
 
¡
;

976 ià(
	`l¡©
 (
ÃwÇme
, &
¡
) < 0)

978 ià(
	`»Çme
 (
ŞdÇme
, 
ÃwÇme
) == 0)

980 ià(0 <ğ
dœ_fd
 && 
	`dosync
 (dœ_fd, 
qdœ
) != 0)

981 
ok
 = 
çl£
;

982 ià(
æags
->
v”bo£
)

990 cÚ¡ *
Şd
 = (
fœ¡
 ? 
qŞdÇme
 : 
ŞdÇme
);

991 
	`”rÜ
 (0, 0, 
	`_
("%s:„’amedØ%s"), 
Şd
, 
ÃwÇme
);

992 
fœ¡
 = 
çl£
;

994 
	`memıy
 (
ŞdÇme
 + (
ba£
 - 
ÃwÇme
), ba£, 
Ën
 + 1);

1008 
	`šúame
 (
ba£
, 
Ën
));

1009 
Ën
--;

1011 ià(
	`uÆšk
 (
ŞdÇme
) != 0)

1013 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: faedØ»move"), 
qŞdÇme
);

1014 
ok
 = 
çl£
;

1016 ià(
æags
->
v”bo£
)

1017 
	`”rÜ
 (0, 0, 
	`_
("%s:„emoved"), 
qŞdÇme
);

1018 ià(0 <ğ
dœ_fd
)

1020 ià(
	`dosync
 (
dœ_fd
, 
qdœ
) != 0)

1021 
ok
 = 
çl£
;

1022 ià(
	`şo£
 (
dœ_fd
) != 0)

1024 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: faedØşo£"), 
qdœ
);

1025 
ok
 = 
çl£
;

1028 
	`ä“
 (
ÃwÇme
);

1029 
	`ä“
 (
dœ
);

1030 
	`ä“
 (
qdœ
);

1031  
ok
;

1032 
	}
}

1046 
boŞ


1047 
	$wefe
 (*
Çme
, cÚ¡ *
qÇme
,

1048 
¿ndšt_sourû
 *
s
, 
O±iÚs
 cÚ¡ *
æags
)

1050 
boŞ
 
ok
;

1051 
fd
;

1053 
fd
 = 
	`İ’
 (
Çme
, 
O_WRONLY
 | 
O_NOCTTY
 | 
O_BINARY
);

1054 ià(
fd
 < 0

1055 && (
”ºo
 =ğ
EACCES
 && 
æags
->
fÜû
)

1056 && 
	`chmod
 (
Çme
, 
S_IWUSR
) == 0)

1057 
fd
 = 
	`İ’
 (
Çme
, 
O_WRONLY
 | 
O_NOCTTY
 | 
O_BINARY
);

1058 ià(
fd
 < 0)

1060 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: faedØİ’ fÜ wr™šg"), 
qÇme
);

1061  
çl£
;

1064 
ok
 = 
	`do_wefd
 (
fd
, 
qÇme
, 
s
, 
æags
);

1065 ià(
	`şo£
 (
fd
) != 0)

1067 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: faedØşo£"), 
qÇme
);

1068 
ok
 = 
çl£
;

1070 ià(
ok
 && 
æags
->
»move_fe
)

1071 
ok
 = 
	`w’ame
 (
Çme
, 
qÇme
, 
æags
);

1072  
ok
;

1073 
	}
}

1077 
¿ndšt_sourû
 *
	g¿ndšt_sourû
;

1083 
	$ş—r_¿ndom_d©a
 ()

1085 
	`¿ndšt_®l_ä“
 (
¿ndšt_sourû
);

1086 
	}
}

1090 
	$maš
 (
¬gc
, **
¬gv
)

1092 
boŞ
 
ok
 = 
Œue
;

1093 
O±iÚs
 
æags
 = { 0, };

1094 **
fe
;

1095 
n_fes
;

1096 
c
;

1097 
i
;

1098 cÚ¡ *
¿ndom_sourû
 = 
NULL
;

1100 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1101 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1102 
	`£oÿË
 (
LC_ALL
, "");

1103 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1104 
	`‹xtdomaš
 (
PACKAGE
);

1106 
	`©ex™
 (
şo£_¡dout
);

1108 
æags
.
n_™”©iÚs
 = 
DEFAULT_PASSES
;

1109 
æags
.
size
 = -1;

1111 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "â:s:uvxz", 
lÚg_İts
, 
NULL
)) != -1)

1113 
c
)

1116 
æags
.
fÜû
 = 
Œue
;

1121 
uštmax_t
 
tmp
;

1122 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
tmp
, NULLè!ğ
LONGINT_OK


1123 || 
	`MIN
 (
UINT32_MAX
, 
SIZE_MAX
 /  ()è< 
tmp
)

1125 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalid‚umber of…asses"),

1126 
	`quÙ—rg_cŞÚ
 (
İrg
));

1128 
æags
.
n_™”©iÚs
 = 
tmp
;

1132 
RANDOM_SOURCE_OPTION
:

1133 ià(
¿ndom_sourû
 && !
	`STREQ
 (¿ndom_sourû, 
İrg
))

1134 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple„andom sources specified"));

1135 
¿ndom_sourû
 = 
İrg
;

1139 
æags
.
»move_fe
 = 
Œue
;

1144 
uštmax_t
 
tmp
;

1145 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 0, &
tmp
, "cbBkKMGTPEZY0")

1146 !ğ
LONGINT_OK
)

1148 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalid file size"),

1149 
	`quÙ—rg_cŞÚ
 (
İrg
));

1151 
æags
.
size
 = 
tmp
;

1156 
æags
.
v”bo£
 = 
Œue
;

1160 
æags
.
exaù
 = 
Œue
;

1164 
æags
.
z”o_fl
 = 
Œue
;

1167 
ÿ£_GETOPT_HELP_CHAR
;

1169 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1172 
	`u§ge
 (
EXIT_FAILURE
);

1176 
fe
 = 
¬gv
 + 
İtšd
;

1177 
n_fes
 = 
¬gc
 - 
İtšd
;

1179 ià(
n_fes
 == 0)

1181 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

1182 
	`u§ge
 (
EXIT_FAILURE
);

1185 
¿ndšt_sourû
 = 
	`¿ndšt_®l_Ãw
 (
¿ndom_sourû
, 
SIZE_MAX
);

1186 ià(! 
¿ndšt_sourû
)

1187 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙ—rg_cŞÚ
 (
¿ndom_sourû
));

1188 
	`©ex™
 (
ş—r_¿ndom_d©a
);

1190 
i
 = 0; i < 
n_fes
; i++)

1192 *
qÇme
 = 
	`x¡rdup
 (
	`quÙ—rg_cŞÚ
 (
fe
[
i
]));

1193 ià(
	`STREQ
 (
fe
[
i
], "-"))

1195 
ok
 &ğ
	`wefd
 (
STDOUT_FILENO
, 
qÇme
, 
¿ndšt_sourû
, &
æags
);

1200 
ok
 &ğ
	`wefe
 (
fe
[
i
], 
qÇme
, 
¿ndšt_sourû
, &
æags
);

1202 
	`ä“
 (
qÇme
);

1205 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1206 
	}
}

	@shuf.c

20 
	~<cÚfig.h
>

22 
	~<sys/ty³s.h
>

23 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"çdvi£.h
"

27 
	~"g‘İt.h
"

28 
	~"quÙe.h
"

29 
	~"quÙ—rg.h
"

30 
	~"¿ndšt.h
"

31 
	~"¿nd³rm.h
"

32 
	~"»ad-fe.h
"

33 
	~"¡dio--.h
"

34 
	~"x¡¹Ş.h
"

37 
	#PROGRAM_NAME
 "shuf"

	)

39 
	#AUTHORS
 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

42 
	$u§ge
 (
¡©us
)

44 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

45 
	`em™_Œy_h–p
 ();

48 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]\n\
: %s -e [OPTION]... [ARG]...\n\
: %s -i LO-HI [OPTION]...\n\
"),

53 
´og¿m_Çme
,…rogram_name,…rogram_name);

54 
	`åuts
 (
	`_
("\
‡„ªdom…”mutiÚ oàthšpuˆlše tØ¡ªd¬d ouut.\n\
"), 
¡dout
);

58 
	`em™_mªd©Üy_¬g_nÙe
 ();

60 
	`åuts
 (
	`_
("\
-e, --echØ»©ƒach ARG‡ ª iÅuˆlše\n\
-i, --šput-¿nge=LO-HI»©ƒach‚umb” LOhrough HI‡ ª iÅuˆlše\n\
-n, --h—d-couÁ=COUNT ouuˆ© mo¡ COUNT†šes\n\
-o, --ouut=FILE wr™»suÉØFILE in¡—d oà¡ªd¬d ouut\n\
--¿ndom-sourû=FILE g‘„ªdom by‹ äom FILE\n\
-z, --z”o-‹rmš©edƒnd†še w™h 0 by‹,‚Ù‚ewlše\n\
"), 
¡dout
);

68 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

69 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

70 
	`åuts
 (
	`_
("\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

74 
	`em™_ªcÏry_šfo
 ();

77 
	`ex™
 (
¡©us
);

78 
	}
}

84 
	mRANDOM_SOURCE_OPTION
 = 
CHAR_MAX
 + 1

87 
İtiÚ
 cÚ¡ 
	glÚg_İts
[] =

89 {"echo", 
no_¬gum’t
, 
NULL
, 'e'},

90 {"šput-¿nge", 
»quœed_¬gum’t
, 
NULL
, 'i'},

91 {"h—d-couÁ", 
»quœed_¬gum’t
, 
NULL
, 'n'},

92 {"ouut", 
»quœed_¬gum’t
, 
NULL
, 'o'},

93 {"¿ndom-sourû", 
»quœed_¬gum’t
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

94 {"z”o-‹rmš©ed", 
no_¬gum’t
, 
NULL
, 'z'},

95 {
GETOPT_HELP_OPTION_DECL
},

96 {
GETOPT_VERSION_OPTION_DECL
},

100 
boŞ


101 
	$šput_numb”s_İtiÚ_u£d
 (
size_t
 
lo_šput
, size_ˆ
hi_šput
)

103  ! (
lo_šput
 =ğ
SIZE_MAX
 && 
hi_šput
 == 0);

104 
	}
}

107 
	$šput_äom_¬gv
 (**
İ”ªd
, 
n_İ”ªds
, 
eŞby‹
)

109 *
p
;

110 
size_t
 
size
 = 
n_İ”ªds
;

111 
i
;

113 
i
 = 0; i < 
n_İ”ªds
; i++)

114 
size
 +ğ
	`¡¾’
 (
İ”ªd
[
i
]);

115 
p
 = 
	`xm®loc
 (
size
);

117 
i
 = 0; i < 
n_İ”ªds
; i++)

119 *
p1
 = 
	`¡pıy
 (
p
, 
İ”ªd
[
i
]);

120 
İ”ªd
[
i
] = 
p
;

121 
p
 = 
p1
;

122 *
p
++ = 
eŞby‹
;

125 
İ”ªd
[
n_İ”ªds
] = 
p
;

126 
	}
}

132 
	$Ãxt_lše
 (*
lše
, 
eŞby‹
, 
size_t
 
n
)

134 *
p
 = 
	`memchr
 (
lše
, 
eŞby‹
, 
n
);

135  
p
 + 1;

136 
	}
}

144 
size_t


145 
	$»ad_šput
 (
FILE
 *
š
, 
eŞby‹
, ***
¶še
)

147 *
p
;

148 *
buf
 = 
NULL
;

149 
size_t
 
u£d
;

150 *
lim
;

151 **
lše
;

152 
size_t
 
i
;

153 
size_t
 
n_lšes
;

155 ià(!(
buf
 = 
	`ä—d_fe
 (
š
, &
u£d
)))

156 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

158 ià(
u£d
 && 
buf
[u£d - 1] !ğ
eŞby‹
)

159 
buf
[
u£d
++] = 
eŞby‹
;

161 
lim
 = 
buf
 + 
u£d
;

163 
n_lšes
 = 0;

164 
p
 = 
buf
;… < 
lim
;… = 
	`Ãxt_lše
 (p, 
eŞby‹
,†im -…))

165 
n_lšes
++;

167 *
¶še
 = 
lše
 = 
	`xnm®loc
 (
n_lšes
 + 1,  *line);

169 
lše
[0] = 
p
 = 
buf
;

170 
i
 = 1; i <ğ
n_lšes
; i++)

171 
lše
[
i
] = 
p
 = 
	`Ãxt_lše
 (p, 
eŞby‹
, 
lim
 -…);

173  
n_lšes
;

174 
	}
}

177 
	$wr™e_³rmu‹d_ouut
 (
size_t
 
n_lšes
, * cÚ¡ *
lše
, size_ˆ
lo_šput
,

178 
size_t
 cÚ¡ *
³rmutiÚ
, 
eŞby‹
)

180 
size_t
 
i
;

182 ià(
lše
)

183 
i
 = 0; i < 
n_lšes
; i++)

185 * cÚ¡ *
p
 = 
lše
 + 
³rmutiÚ
[
i
];

186 
size_t
 
Ën
 = 
p
[1] -…[0];

187 ià(
	`fwr™e
 (
p
[0],  *p[0], 
Ën
, 
¡dout
) !=†en)

191 
i
 = 0; i < 
n_lšes
; i++)

193 
n
 = 
lo_šput
 + 
³rmutiÚ
[
i
];

194 ià(
	`´štf
 ("%lu%c", 
n
, 
eŞby‹
) < 0)

199 
	}
}

202 
	$maš
 (
¬gc
, **
¬gv
)

204 
boŞ
 
echo
 = 
çl£
;

205 
size_t
 
lo_šput
 = 
SIZE_MAX
;

206 
size_t
 
hi_šput
 = 0;

207 
size_t
 
h—d_lšes
 = 
SIZE_MAX
;

208 cÚ¡ *
outfe
 = 
NULL
;

209 *
¿ndom_sourû
 = 
NULL
;

210 
eŞby‹
 = '\n';

211 **
šput_lšes
 = 
NULL
;

213 
İtc
;

214 
n_İ”ªds
;

215 **
İ”ªd
;

216 
size_t
 
n_lšes
;

217 **
lše
;

218 
¿ndšt_sourû
 *randint_source;

219 
size_t
 *
³rmutiÚ
;

221 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

222 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

223 
	`£oÿË
 (
LC_ALL
, "");

224 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

225 
	`‹xtdomaš
 (
PACKAGE
);

227 
	`©ex™
 (
şo£_¡dout
);

229 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "ei:n:o:z", 
lÚg_İts
, 
NULL
)) != -1)

230 
İtc
)

233 
echo
 = 
Œue
;

238 
¬gv®
 = 0;

239 *
p
 = 
	`¡rchr
 (
İrg
, '-');

240 cÚ¡ *
hi_İrg
 = 
İrg
;

241 
boŞ
 
šv®id
 = !
p
;

243 ià(
	`šput_numb”s_İtiÚ_u£d
 (
lo_šput
, 
hi_šput
))

244 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple -i options specified"));

246 ià(
p
)

248 *
p
 = '\0';

249 
šv®id
 = ((
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
¬gv®
, NULL)

250 !ğ
LONGINT_OK
)

251 || 
SIZE_MAX
 < 
¬gv®
);

252 *
p
 = '-';

253 
lo_šput
 = 
¬gv®
;

254 
hi_İrg
 = 
p
 + 1;

257 
šv®id
 |ğ((
	`x¡¹oul
 (
hi_İrg
, 
NULL
, 10, &
¬gv®
, NULL)

258 !ğ
LONGINT_OK
)

259 || 
SIZE_MAX
 < 
¬gv®
);

260 
hi_šput
 = 
¬gv®
;

261 
n_lšes
 = 
hi_šput
 - 
lo_šput
 + 1;

262 
šv®id
 |ğ((
lo_šput
 <ğ
hi_šput
è=ğ(
n_lšes
 == 0));

263 ià(
šv®id
)

264 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid input„ange %s"),

265 
	`quÙe
 (
İrg
));

271 
¬gv®
;

272 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
¬gv®
, NULL);

274 ià(
e
 =ğ
LONGINT_OK
)

275 
h—d_lšes
 = 
	`MIN
 (h—d_lšes, 
¬gv®
);

276 ià(
e
 !ğ
LONGINT_OVERFLOW
)

277 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid†ine count %s"),

278 
	`quÙe
 (
İrg
));

283 ià(
outfe
 && !
	`STREQ
 (outfe, 
İrg
))

284 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple output files specified"));

285 
outfe
 = 
İrg
;

288 
RANDOM_SOURCE_OPTION
:

289 ià(
¿ndom_sourû
 && !
	`STREQ
 (¿ndom_sourû, 
İrg
))

290 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("multiple„andom sources specified"));

291 
¿ndom_sourû
 = 
İrg
;

295 
eŞby‹
 = '\0';

298 
ÿ£_GETOPT_HELP_CHAR
;

299 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

301 
	`u§ge
 (
EXIT_FAILURE
);

304 
n_İ”ªds
 = 
¬gc
 - 
İtšd
;

305 
İ”ªd
 = 
¬gv
 + 
İtšd
;

307 ià(
echo
)

309 ià(
	`šput_numb”s_İtiÚ_u£d
 (
lo_šput
, 
hi_šput
))

310 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot combine -e‡nd -i options"));

311 
	`šput_äom_¬gv
 (
İ”ªd
, 
n_İ”ªds
, 
eŞby‹
);

312 
n_lšes
 = 
n_İ”ªds
;

313 
lše
 = 
İ”ªd
;

315 ià(
	`šput_numb”s_İtiÚ_u£d
 (
lo_šput
, 
hi_šput
))

317 ià(
n_İ”ªds
)

319 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
İ”ªd
[0]));

320 
	`u§ge
 (
EXIT_FAILURE
);

322 
n_lšes
 = 
hi_šput
 - 
lo_šput
 + 1;

323 
lše
 = 
NULL
;

327 
n_İ”ªds
)

333 ià(! (
	`STREQ
 (
İ”ªd
[0], "-"è|| 
	`äeİ’
 (İ”ªd[0], "r", 
¡dš
)))

334 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
İ”ªd
[0]);

338 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
İ”ªd
[1]));

339 
	`u§ge
 (
EXIT_FAILURE
);

342 
	`çdvi£
 (
¡dš
, 
FADVISE_SEQUENTIAL
);

344 
n_lšes
 = 
	`»ad_šput
 (
¡dš
, 
eŞby‹
, &
šput_lšes
);

345 
lše
 = 
šput_lšes
;

348 
h—d_lšes
 = 
	`MIN
 (h—d_lšes, 
n_lšes
);

350 
¿ndšt_sourû
 = 
	`¿ndšt_®l_Ãw
 (
¿ndom_sourû
,

351 
	`¿nd³rm_bound
 (
h—d_lšes
, 
n_lšes
));

352 ià(! 
¿ndšt_sourû
)

353 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙ—rg_cŞÚ
 (
¿ndom_sourû
));

358 ià(! (
echo
 || 
	`šput_numb”s_İtiÚ_u£d
 (
lo_šput
, 
hi_šput
))

359 && (
	`fşo£
 (
¡dš
) != 0))

360 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

362 
³rmutiÚ
 = 
	`¿nd³rm_Ãw
 (
¿ndšt_sourû
, 
h—d_lšes
, 
n_lšes
);

364 ià(
outfe
 && ! 
	`äeİ’
 (outfe, "w", 
¡dout
))

365 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙ—rg_cŞÚ
 (
outfe
));

366 ià(
	`wr™e_³rmu‹d_ouut
 (
h—d_lšes
, 
lše
, 
lo_šput
, 
³rmutiÚ
, 
eŞby‹
)

368 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

370 #ifdeà
lšt


371 
	`ä“
 (
³rmutiÚ
);

372 
	`¿ndšt_®l_ä“
 (
¿ndšt_sourû
);

373 ià(
šput_lšes
)

375 
	`ä“
 (
šput_lšes
[0]);

376 
	`ä“
 (
šput_lšes
);

380  
EXIT_SUCCESS
;

381 
	}
}

	@sleep.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<sys/ty³s.h
>

20 
	~<g‘İt.h
>

22 
	~"sy¡em.h
"

23 
	~"c-¡¹od.h
"

24 
	~"”rÜ.h
"

25 
	~"lÚg-İtiÚs.h
"

26 
	~"quÙe.h
"

27 
	~"xÇno¦“p.h
"

28 
	~"x¡¹od.h
"

31 
	#PROGRAM_NAME
 "¦“p"

	)

33 
	#AUTHORS
 \

34 
	`´İ”_Çme
 ("Jim Meyering"), \

35 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

38 
	$u§ge
 (
¡©us
)

40 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

41 
	`em™_Œy_h–p
 ();

44 
	`´štf
 (
	`_
("\
: %s NUMBER[SUFFIX]...\n\
: %s OPTION\n\
 for NUMBER seconds. SUFFIX may be 's' for seconds (the default),\n\
'm' for minutes, 'h' for hours or 'd' for days. Unlike most implementations\n\
„equire NUMBER be‡n integer, here NUMBER may be‡n‡rbitrary floating\n\
‚umber. Givenwo or more‡rguments,…ause forhe‡mount ofime\n\
 byhe sum ofheir values.\n\
\n\
"),

54 
´og¿m_Çme
,…rogram_name);

55 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

56 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

57 
	`em™_ªcÏry_šfo
 ();

59 
	`ex™
 (
¡©us
);

60 
	}
}

68 
boŞ


69 
	$­¶y_suffix
 (*
x
, 
suffix_ch¬
)

71 
muÉl›r
;

73 
suffix_ch¬
)

77 
muÉl›r
 = 1;

80 
muÉl›r
 = 60;

83 
muÉl›r
 = 60 * 60;

86 
muÉl›r
 = 60 * 60 * 24;

89  
çl£
;

92 *
x
 *ğ
muÉl›r
;

94  
Œue
;

95 
	}
}

98 
	$maš
 (
¬gc
, **
¬gv
)

100 
i
;

101 
£cÚds
 = 0.0;

102 
boŞ
 
ok
 = 
Œue
;

104 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

105 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

106 
	`£oÿË
 (
LC_ALL
, "");

107 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

108 
	`‹xtdomaš
 (
PACKAGE
);

110 
	`©ex™
 (
şo£_¡dout
);

112 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

113 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

114 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

115 
	`u§ge
 (
EXIT_FAILURE
);

117 ià(
¬gc
 == 1)

119 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

120 
	`u§ge
 (
EXIT_FAILURE
);

123 
i
 = 
İtšd
; i < 
¬gc
; i++)

125 
s
;

126 cÚ¡ *
p
;

127 ià(! 
	`x¡¹od
 (
¬gv
[
i
], &
p
, &
s
, 
c_¡¹od
)

129 || ! (0 <ğ
s
)

131 || (*
p
 && *(p+1))

133 || ! 
	`­¶y_suffix
 (&
s
, *
p
))

135 
	`”rÜ
 (0, 0, 
	`_
("šv®idimš‹rv® %s"), 
	`quÙe
 (
¬gv
[
i
]));

136 
ok
 = 
çl£
;

139 
£cÚds
 +ğ
s
;

142 ià(!
ok
)

143 
	`u§ge
 (
EXIT_FAILURE
);

145 ià(
	`xÇno¦“p
 (
£cÚds
))

146 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot„ead„ealtime clock"));

148 
	`ex™
 (
EXIT_SUCCESS
);

149 
	}
}

	@sort.c

23 
	~<cÚfig.h
>

25 
	~<g‘İt.h
>

26 
	~<±h»ad.h
>

27 
	~<sys/»sourû.h
>

28 
	~<sys/ty³s.h
>

29 
	~<sys/wa™.h
>

30 
	~<sigÇl.h
>

31 
	~<as£¹.h
>

32 
	~"sy¡em.h
"

33 
	~"¬gm©ch.h
"

34 
	~"”rÜ.h
"

35 
	~"çdvi£.h
"

36 
	~"fev”cmp.h
"

37 
	~"h¬d-loÿË.h
"

38 
	~"hash.h
"

39 
	~"h—p.h
"

40 
	~"ignÜe-v®ue.h
"

41 
	~"md5.h
"

42 
	~"mbswidth.h
"

43 
	~"Åroc.h
"

44 
	~"physmem.h
"

45 
	~"posixv”.h
"

46 
	~"quÙe.h
"

47 
	~"quÙ—rg.h
"

48 
	~"¿nd»ad.h
"

49 
	~"»adtok’s0.h
"

50 
	~"¡dio--.h
"

51 
	~"¡dlib--.h
"

52 
	~"¡ºumcmp.h
"

53 
	~"xmemcŞl.h
"

54 
	~"xÇno¦“p.h
"

55 
	~"x¡¹Ş.h
"

57 #iâdeà
RLIMIT_DATA


58 
	s¾im™
 { 
size_t
 
	m¾im_cur
; };

59 
	#g‘¾im™
(
Resourû
, 
RÍ
è(-1)

	)

63 
	#PROGRAM_NAME
 "sÜt"

	)

65 
	#AUTHORS
 \

66 
	`´İ”_Çme
 ("Mike Haertel"), \

67 
	`´İ”_Çme
 ("PauÈEgg”t")

	)

69 #ià
HAVE_LANGINFO_CODESET


70 
	~<Ïngšfo.h
>

75 #iâdeà
SA_NOCLDSTOP


76 
	#SA_NOCLDSTOP
 0

	)

78 
	#sig´ocmask
(
How
, 
S‘
, 
O£t
è(0)

	)

79 
	#sig£t_t
 

	)

80 #ià! 
HAVE_SIGINTERRUPT


81 
	#sigš‹¼u±
(
sig
, 
æag
è

	)

85 #ià!
defšed
 
OPEN_MAX
 && defšed 
NR_OPEN


86 
	#OPEN_MAX
 
NR_OPEN


	)

88 #ià!
defšed
 
OPEN_MAX


89 
	#OPEN_MAX
 20

	)

92 
	#UCHAR_LIM
 (
UCHAR_MAX
 + 1)

	)

94 #ià
HAVE_C99_STRTOLD


95 
	#lÚg_doubË
 

	)

97 
	#lÚg_doubË
 

	)

98 #undeà
¡¹Şd


99 
	#¡¹Şd
 
¡¹od


	)

102 #iâdeà
DEFAULT_TMPDIR


103 
	#DEFAULT_TMPDIR
 "/tmp"

	)

109 
	#MAX_MERGE
(
tÙ®
, 
Ëv–
è((ÑÙ®è>> (2 * (Öev–è+ 1))è+ 1)

	)

119 ’um { 
	mSUBTHREAD_LINES_HEURISTIC
 = 128 * 1024 };

120 
v”ify
 (4 <ğ
SUBTHREAD_LINES_HEURISTIC
);

124 ’um { 
	mDEFAULT_MAX_THREADS
 = 8 };

131 
	mSORT_OUT_OF_ORDER
 = 1,

135 
	mSORT_FAILURE
 = 2

144 
	mMAX_FORK_TRIES_COMPRESS
 = 4,

149 
	mMAX_FORK_TRIES_DECOMPRESS
 = 9

155 
	mMERGE_END
 = 0,

158 
	mMERGE_ROOT
 = 1

162 
	gdecim®_pošt
;

165 
	gthou§nds_£p
;

168 
boŞ
 
	gh¬d_LC_COLLATE
;

169 #ià
HAVE_NL_LANGINFO


170 
boŞ
 
	gh¬d_LC_TIME
;

173 
	#NONZERO
(
x
è((xè!ğ0)

	)

176 
	ebÏnkty³
 { 
	mbl_¡¬t
, 
	mbl_’d
, 
	mbl_bÙh
 };

179 
	geŞch¬
 = '\n';

182 
	slše


184 *
	m‹xt
;

185 
size_t
 
	mËngth
;

186 *
	mkeybeg
;

187 *
	mkeylim
;

191 
	sbufãr


193 *
	mbuf
;

198 
size_t
 
	mu£d
;

199 
size_t
 
	mÆšes
;

200 
size_t
 
	m®loc
;

201 
size_t
 
	mËá
;

202 
size_t
 
	mlše_by‹s
;

203 
boŞ
 
	meof
;

207 
	skeyf›ld


209 
size_t
 
	mswÜd
;

210 
size_t
 
	msch¬
;

211 
size_t
 
	mewÜd
;

212 
size_t
 
	mech¬
;

213 
boŞ
 cÚ¡ *
	mignÜe
;

214 cÚ¡ *
	mŒª¦©e
;

215 
boŞ
 
	msksbÏnks
;

216 
boŞ
 
	mskebÏnks
;

217 
boŞ
 
	mnum”ic
;

220 
boŞ
 
	m¿ndom
;

221 
boŞ
 
	mg’”®_num”ic
;

223 
boŞ
 
	mhumª_num”ic
;

225 
boŞ
 
	mmÚth
;

226 
boŞ
 
	m»v”£
;

227 
boŞ
 
	mv”siÚ
;

228 
boŞ
 
	mobsŞ‘e_u£d
;

229 
keyf›ld
 *
	mÃxt
;

232 
	smÚth


234 cÚ¡ *
	mÇme
;

235 
	mv®
;

239 
	sm”ge_node


241 
lše
 *
	mlo
;

242 
lše
 *
	mhi
;

243 
lše
 *
	m’d_lo
;

244 
lše
 *
	m’d_hi
;

245 
lše
 **
	mde¡
;

246 
size_t
 
	mÆo
;

247 
size_t
 
	mnhi
;

248 
m”ge_node
 *
	m·»Á
;

249 
m”ge_node
 *
	mlo_chd
;

250 
m”ge_node
 *
	mhi_chd
;

251 
	mËv–
;

252 
boŞ
 
	mqueued
;

253 
±h»ad_mu‹x_t
 
	mlock
;

257 
	sm”ge_node_queue


259 
h—p
 *
	m´iÜ™y_queue
;

260 
±h»ad_mu‹x_t
 
	mmu‹x
;

261 
±h»ad_cÚd_t
 
	mcÚd
;

266 
lše
 
	g§ved_lše
;

275 
boŞ
 
	gbÏnks
[
UCHAR_LIM
];

278 
boŞ
 
	gnÚ´štšg
[
UCHAR_LIM
];

281 
boŞ
 
	gnÚdiùiÚ¬y
[
UCHAR_LIM
];

284 
	gfŞd_touµ”
[
UCHAR_LIM
];

286 
	#MONTHS_PER_YEAR
 12

	)

290 
mÚth
 
	gmÚthb
[] =

307 
	#NMERGE_DEFAULT
 16

	)

310 
	#MIN_MERGE_BUFFER_SIZE
 (2 +  (
lše
))

	)

313 
	#MIN_SORT_SIZE
 (
nm”ge
 * 
MIN_MERGE_BUFFER_SIZE
)

	)

318 
size_t
 
	gm”ge_bufãr_size
 = 
MAX
 (
MIN_MERGE_BUFFER_SIZE
, 256 * 1024);

322 
size_t
 
	gsÜt_size
;

329 
	#INPUT_FILE_SIZE_GUESS
 (128 * 1024)

	)

332 cÚ¡ **
	g‹mp_dœs
;

335 
size_t
 
	g‹mp_dœ_couÁ
;

338 
size_t
 
	g‹mp_dœ_®loc
;

341 
boŞ
 
	g»v”£
;

346 
boŞ
 
	g¡abË
;

349 ’um { 
	mTAB_DEFAULT
 = 
CHAR_MAX
 + 1 };

354 
	gb
 = 
TAB_DEFAULT
;

358 
boŞ
 
	gunique
;

361 
boŞ
 
	ghave_»ad_¡dš
;

364 
keyf›ld
 *
	gkeyli¡
;

367 cÚ¡ *
	gcom´ess_´og¿m
;

370 
boŞ
 
	gdebug
;

374 
	gnm”ge
 = 
NMERGE_DEFAULT
;

379 
	$d›
 (cÚ¡ *, cÚ¡ *è
ATTRIBUTE_NORETURN
;

381 
	$d›
 (cÚ¡ *
mes§ge
, cÚ¡ *
fe
)

383 
	`”rÜ
 (0, 
”ºo
, "%s: %s", 
mes§ge
, 
fe
 ? f: 
	`_
("standard output"));

384 
	`ex™
 (
SORT_FAILURE
);

385 
	}
}

388 
	$u§ge
 (
¡©us
)

390 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

391 
	`em™_Œy_h–p
 ();

394 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [OPTION]... --files0-from=F\n\
"),

398 
´og¿m_Çme
,…rogram_name);

399 
	`åuts
 (
	`_
("\
 sÜ‹d cÚÿ‹ÇtiÚ oà®ÈFILE(sètØ¡ªd¬d ouut.\n\
"), 
¡dout
);

403 
	`em™_mªd©Üy_¬g_nÙe
 ();

405 
	`åuts
 (
	`_
("\
 o±iÚs:\n\
\n\
"), 
¡dout
);

409 
	`åuts
 (
	`_
("\
-b, --ignÜe-Ëadšg-bÏnk  ignÜËadšg bÏnks\n\
-d, --diùiÚ¬y-Üd” cÚsid” oÆy bÏnk ªd‡Íhªum”iøch¬aù”s\
\n\
-f, --ignÜe-ÿ£ fŞd†ow” ca£Øuµ” ca£ ch¬aù”s\n\
"), 
¡dout
);

415 
	`åuts
 (
	`_
("\
-g, --g’”®-num”ic-sÜˆ com·»‡ccÜdšgØg’”®‚um”iÿÈv®ue\n\
-i, --ignÜe-nÚ´štšg cÚsid” oÆy…ršbË ch¬aù”s\n\
-M, --mÚth-sÜˆ com·» (unknownè< 'JAN' < ... < 'DEC'\n\
"), 
¡dout
);

420 
	`åuts
 (
	`_
("\
-h, --humª-num”ic-sÜˆ com·» humª„—dabË‚umb” Ó.g., 2K 1G)\n\
"), 
¡dout
);

423 
	`åuts
 (
	`_
("\
-n, --num”ic-sÜˆ com·»‡ccÜdšgØ¡ršg‚um”iÿÈv®ue\n\
-R, --¿ndom-sÜˆ sÜˆby„ªdom hash oàkeys\n\
--¿ndom-sourû=FILE g‘„ªdom by‹ äom FILE\n\
-r, --»v”£„ev”£h»suÉ oàcom·risÚs\n\
"), 
¡dout
);

429 
	`åuts
 (
	`_
("\
--sÜt=WORD sÜˆaccÜdšgØWORD:\n\
-num”iø-g, humª-num”iø-h, mÚth -M,\
\n\
 -n,„ªdom -R, v”siÚ -V\n\
-V, --v”siÚ-sÜˆ‚©u¿ÈsÜˆoà(v”siÚènumb” w™hšext\n\
\n\
"), 
¡dout
);

437 
	`åuts
 (
	`_
("\
 o±iÚs:\n\
\n\
"), 
¡dout
);

441 
	`åuts
 (
	`_
("\
--b©ch-size=NMERGE m”g© mo¡ NMERGE iÅut © onû;\n\
 mÜu£em°fes\n\
"), 
¡dout
);

445 
	`åuts
 (
	`_
("\
-c, --check, --check=dŸgno£-fœ¡ check fÜ sÜ‹d iÅut; dØnÙ sÜt\n\
-C, --check=qu›t, --check=s’ˆ†ik-c, buˆdØnÙ„•Üˆfœ¡ bad†še\
\n\
--com´ess-´og¿m=PROG com´es ‹mpÜ¬› w™h PROG;\n\
hem w™h PROG -d\n\
"), 
¡dout
);

452 
	`åuts
 (
	`_
("\
--debug‡ÂÙ©th·¹ oàthlšu£dØsÜt,\n\
 w¬Àabouˆque¡iÚabË u§gtØ¡d”r\n\
--fes0-äom=F„—d iÅuˆäomhfe ¥ecif›d by\n\
-‹rmš©ed‚ame š fF;\n\
 F i -h’„—d‚ame äom snd¬d iÅut\n\
"), 
¡dout
);

459 
	`åuts
 (
	`_
("\
-k, --key=KEYDEF sÜˆvŸ‡ key; KEYDEF give loÿtiÚ‡ndy³\n\
-m, --m”g m”g®»ady sÜ‹d fes; dØnÙ sÜt\n\
"), 
¡dout
);

463 
	`åuts
 (
	`_
("\
-o, --ouut=FILE wr™»suÉØFILE in¡—d oà¡ªd¬d ouut\n\
-s, --¡abË sbizsÜˆby di§blšg†a¡-»sÜˆcom·risÚ\
\n\
-S, --bufãr-size=SIZE u£ SIZE fÜ maš memÜy bufãr\n\
"), 
¡dout
);

469 
	`´štf
 (
	`_
("\
-t, --f›ld-£·¿tÜ=SEP u£ SEP in¡—d oànÚ-bÏnkØbÏnk¿ns™iÚ\n\
-T, --‹mpÜ¬y-dœeùÜy=DIR u£ DIR fÜempÜ¬›s,‚Ù $TMPDIR o¸%s;\n\
 o±iÚ ¥ecify muÉË dœeùÜ›s\n\
--·¿Î–=N chªgthnumb” oàsÜt ruÀcÚcu¼’yØN\n\
-u, --uniqu w™h -c, check fÜ sŒiù ord”šg;\n\
 -c, ouuˆÚlyhfœ¡ oàªƒqu®„un\
\n\
"), 
DEFAULT_TMPDIR
);

478 
	`åuts
 (
	`_
("\
-z, --z”o-‹rmš©edƒnd†še w™h 0 by‹,‚Ù‚ewlše\n\
"), 
¡dout
);

481 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

482 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

483 
	`åuts
 (
	`_
("\
\n\
 i F[.C][OPTS][,F[.C][OPTS]] fÜ s¹‡nd stİ…os™iÚ, wh”F i a\n\
‚umb”‡nd C‡ ch¬aù”…os™iÚ iÀthf›ld; bÙh‡» origš 1,‡nd\n\
 stİ…os™iÚ deçuÉ tØthlše' ’d. IàÃ™h” -ˆnÜ -b i š\n\
, ch¬aù” š‡ f›ld‡» couÁed fromhbegšnšg oàth´eûdšg\n\
. OPTS i ÚÜ mÜsšgË-Ë‰” ord”šg o±iÚ [bdfgiMhnRrV],\
\n\
 ov”ridglob® ord”šg o±iÚ fÜh© key. IànØkey i giv’, u£\n\
ƒÁœlša thkey.\n\
\n\
 may bfŞlowed byhfŞlowšg muÉliÿtivsuffixes:\n\
"), 
¡dout
);

496 
	`åuts
 (
	`_
("\
% 1% oàmemÜy, b 1, K 1024 (deçuÉ),‡nd sØÚ fÜ M, G, T, P, E, Z, Y.\n\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
\n\
*** WARNING ***\n\
†oÿË s³cif›d byh’vœÚm’ˆafãù sÜˆÜd”.\n\
 LC_ALL=CØg‘hŒad™iÚ® sÜˆÜd”h© u£s\n\
 by‹ v®ues.\n\
"), 
¡dout
 );

506 
	`em™_ªcÏry_šfo
 ();

509 
	`ex™
 (
¡©us
);

510 
	}
}

516 
	mCHECK_OPTION
 = 
CHAR_MAX
 + 1,

517 
	mCOMPRESS_PROGRAM_OPTION
,

518 
	mDEBUG_PROGRAM_OPTION
,

519 
	mFILES0_FROM_OPTION
,

520 
	mNMERGE_OPTION
,

521 
	mRANDOM_SOURCE_OPTION
,

522 
	mSORT_OPTION
,

523 
	mPARALLEL_OPTION


526 cÚ¡ 
	gshÜt_İtiÚs
[] = "-bcCdfghik:mMno:rRsS:t:T:uVy:z";

528 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

530 {"ignÜe-Ëadšg-bÏnks", 
no_¬gum’t
, 
NULL
, 'b'},

531 {"check", 
İtiÚ®_¬gum’t
, 
NULL
, 
CHECK_OPTION
},

532 {"com´ess-´og¿m", 
»quœed_¬gum’t
, 
NULL
, 
COMPRESS_PROGRAM_OPTION
},

533 {"debug", 
no_¬gum’t
, 
NULL
, 
DEBUG_PROGRAM_OPTION
},

534 {"diùiÚ¬y-Üd”", 
no_¬gum’t
, 
NULL
, 'd'},

535 {"ignÜe-ÿ£", 
no_¬gum’t
, 
NULL
, 'f'},

536 {"fes0-äom", 
»quœed_¬gum’t
, 
NULL
, 
FILES0_FROM_OPTION
},

537 {"g’”®-num”ic-sÜt", 
no_¬gum’t
, 
NULL
, 'g'},

538 {"ignÜe-nÚ´štšg", 
no_¬gum’t
, 
NULL
, 'i'},

539 {"key", 
»quœed_¬gum’t
, 
NULL
, 'k'},

540 {"m”ge", 
no_¬gum’t
, 
NULL
, 'm'},

541 {"mÚth-sÜt", 
no_¬gum’t
, 
NULL
, 'M'},

542 {"num”ic-sÜt", 
no_¬gum’t
, 
NULL
, 'n'},

543 {"humª-num”ic-sÜt", 
no_¬gum’t
, 
NULL
, 'h'},

544 {"v”siÚ-sÜt", 
no_¬gum’t
, 
NULL
, 'V'},

545 {"¿ndom-sÜt", 
no_¬gum’t
, 
NULL
, 'R'},

546 {"¿ndom-sourû", 
»quœed_¬gum’t
, 
NULL
, 
RANDOM_SOURCE_OPTION
},

547 {"sÜt", 
»quœed_¬gum’t
, 
NULL
, 
SORT_OPTION
},

548 {"ouut", 
»quœed_¬gum’t
, 
NULL
, 'o'},

549 {"»v”£", 
no_¬gum’t
, 
NULL
, 'r'},

550 {"¡abË", 
no_¬gum’t
, 
NULL
, 's'},

551 {"b©ch-size", 
»quœed_¬gum’t
, 
NULL
, 
NMERGE_OPTION
},

552 {"bufãr-size", 
»quœed_¬gum’t
, 
NULL
, 'S'},

553 {"f›ld-£·¿tÜ", 
»quœed_¬gum’t
, 
NULL
, 't'},

554 {"‹mpÜ¬y-dœeùÜy", 
»quœed_¬gum’t
, 
NULL
, 'T'},

555 {"unique", 
no_¬gum’t
, 
NULL
, 'u'},

556 {"z”o-‹rmš©ed", 
no_¬gum’t
, 
NULL
, 'z'},

557 {"·¿Î–", 
»quœed_¬gum’t
, 
NULL
, 
PARALLEL_OPTION
},

558 {
GETOPT_HELP_OPTION_DECL
},

559 {
GETOPT_VERSION_OPTION_DECL
},

560 {
NULL
, 0, NULL, 0},

563 
	#CHECK_TABLE
 \

564 
	`_ù_
("quiet", 'C') \

565 
	`_ù_
("silent", 'C') \

566 
	`_ù_
("dŸgno£-fœ¡", 'c')

	)

568 cÚ¡ *cÚ¡ 
	gcheck_¬gs
[] =

570 
	#_ù_
(
_s
, 
_c
è_s,

	)

571 
CHECK_TABLE
 
NULL


572 #undeà
_ù_


574 cÚ¡ 
	gcheck_ty³s
[] =

576 
	#_ù_
(
_s
, 
_c
è_c,

	)

577 
CHECK_TABLE


578 #undeà
_ù_


581 
	#SORT_TABLE
 \

582 
	`_¡_
("general-numeric", 'g') \

583 
	`_¡_
("human-numeric", 'h') \

584 
	`_¡_
("month", 'M') \

585 
	`_¡_
("numeric", 'n') \

586 
	`_¡_
("random", 'R') \

587 
	`_¡_
("v”siÚ", 'V')

	)

589 cÚ¡ *cÚ¡ 
	gsÜt_¬gs
[] =

591 
	#_¡_
(
_s
, 
_c
è_s,

	)

592 
SORT_TABLE
 
NULL


593 #undeà
_¡_


595 cÚ¡ 
	gsÜt_ty³s
[] =

597 
	#_¡_
(
_s
, 
_c
è_c,

	)

598 
SORT_TABLE


599 #undeà
_¡_


603 
sig£t_t
 
	gÿught_sigÇls
;

606 
	scs_¡©us


608 
boŞ
 
	mv®id
;

609 
sig£t_t
 
	msigs
;

613 
cs_¡©us


614 
	$cs_’‹r
 ()

616 
cs_¡©us
 
¡©us
;

617 
¡©us
.
v®id
 = (
	`sig´ocmask
 (
SIG_BLOCK
, &
ÿught_sigÇls
, &¡©us.
sigs
) == 0);

618  
¡©us
;

619 
	}
}

623 
	$cs_Ëave
 (
cs_¡©us
 
¡©us
)

625 ià(
¡©us
.
v®id
)

628 
	`sig´ocmask
 (
SIG_SETMASK
, &
¡©us
.
sigs
, 
NULL
);

630 
	}
}

635 ’um { 
	mUNCOMPRESSED
, 
	mUNREAPED
, 
	mREAPED
 };

638 
	s‹m²ode


640 
‹m²ode
 *vŞ©
	mÃxt
;

641 
pid_t
 
	mpid
;

642 
	m¡©e
;

643 
	mÇme
[1];

645 
‹m²ode
 *vŞ©
	g‹mph—d
;

646 
‹m²ode
 *vŞ©*
	g‹m±a
 = &
‹mph—d
;

649 
	ssÜtfe


652 cÚ¡ *
	mÇme
;

655 
‹m²ode
 *
	m‹mp
;

659 
Hash_bË
 *
	g´oùab
;

661 ’um { 
	mINIT_PROCTAB_SIZE
 = 47 };

663 
size_t


664 
	$´oùab_hash”
 (cÚ¡ *
’Œy
, 
size_t
 
bsize
)

666 
‹m²ode
 cÚ¡ *
node
 = 
’Œy
;

667  
node
->
pid
 % 
bsize
;

668 
	}
}

670 
boŞ


671 
	$´oùab_com·¿tÜ
 (cÚ¡ *
e1
, cÚ¡ *
e2
)

673 
‹m²ode
 cÚ¡ *
n1
 = 
e1
;

674 
‹m²ode
 cÚ¡ *
n2
 = 
e2
;

675  
n1
->
pid
 =ğ
n2
->pid;

676 
	}
}

679 
pid_t
 
	gÅrocs
;

681 
boŞ
 
d–‘e_´oc
 (
pid_t
);

690 
pid_t


691 
	$»­
 (
pid_t
 
pid
)

693 
¡©us
;

694 
pid_t
 
ıid
 = 
	`wa™pid
 ((
pid
 ?…id : -1), &
¡©us
, (pid ? 0 : 
WNOHANG
));

696 ià(
ıid
 < 0)

697 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("waiting for %s [-d]"),

698 
com´ess_´og¿m
);

699 ià(0 < 
ıid
 && (0 < 
pid
 || 
	`d–‘e_´oc
 (cpid)))

701 ià(! 
	`WIFEXITED
 (
¡©us
è|| 
	`WEXITSTATUS
 (status))

702 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("%s [-d]erminated‡bnormally"),

703 
com´ess_´og¿m
);

704 --
Årocs
;

707  
ıid
;

708 
	}
}

714 
	$»gi¡”_´oc
 (
‹m²ode
 *
‹mp
)

716 ià(! 
´oùab
)

718 
´oùab
 = 
	`hash_š™Ÿlize
 (
INIT_PROCTAB_SIZE
, 
NULL
,

719 
´oùab_hash”
,

720 
´oùab_com·¿tÜ
,

721 
NULL
);

722 ià(! 
´oùab
)

723 
	`x®loc_d›
 ();

726 
‹mp
->
¡©e
 = 
UNREAPED
;

728 ià(! 
	`hash_š£¹
 (
´oùab
, 
‹mp
))

729 
	`x®loc_d›
 ();

730 
	}
}

735 
boŞ


736 
	$d–‘e_´oc
 (
pid_t
 
pid
)

738 
‹m²ode
 
‹¡
;

740 
‹¡
.
pid
 =…id;

741 
‹m²ode
 *
node
 = 
	`hash_d–‘e
 (
´oùab
, &
‹¡
);

742 ià(! 
node
)

743  
çl£
;

744 
node
->
¡©e
 = 
REAPED
;

745  
Œue
;

746 
	}
}

752 
	$wa™_´oc
 (
pid_t
 
pid
)

754 ià(
	`d–‘e_´oc
 (
pid
))

755 
	`»­
 (
pid
);

756 
	}
}

762 
	$»­_ex™ed
 ()

764 0 < 
Årocs
 && 
	`»­
 (0))

766 
	}
}

771 
	$»­_some
 ()

773 
	`»­
 (-1);

774 
	`»­_ex™ed
 ();

775 
	}
}

780 
	$»­_®l
 ()

782 0 < 
Årocs
)

783 
	`»­
 (-1);

784 
	}
}

789 
	$ş—nup
 ()

791 
‹m²ode
 cÚ¡ *
node
;

793 
node
 = 
‹mph—d
;‚ode;‚odğnode->
Ãxt
)

794 
	`uÆšk
 (
node
->
Çme
);

795 
‹mph—d
 = 
NULL
;

796 
	}
}

801 
	$ex™_ş—nup
 ()

803 ià(
‹mph—d
)

807 
cs_¡©us
 
cs
 = 
	`cs_’‹r
 ();

808 
	`ş—nup
 ();

809 
	`cs_Ëave
 (
cs
);

812 
	`şo£_¡dout
 ();

813 
	}
}

821 
‹m²ode
 *

822 
	$ü—‹_‹mp_fe
 (*
pfd
, 
boŞ
 
survive_fd_exhau¡iÚ
)

824 cÚ¡ 
¦ashba£
[] = "/sortXXXXXX";

825 
size_t
 
‹mp_dœ_šdex
;

826 
fd
;

827 
§ved_”ºo
;

828 cÚ¡ *
‹mp_dœ
 = 
‹mp_dœs
[
‹mp_dœ_šdex
];

829 
size_t
 
Ën
 = 
	`¡¾’
 (
‹mp_dœ
);

830 
‹m²ode
 *
node
 =

831 
	`xm®loc
 (
	`off£tof
 (
‹m²ode
, 
Çme
è+ 
Ën
 +  
¦ashba£
);

832 *
fe
 = 
node
->
Çme
;

833 
cs_¡©us
 
cs
;

835 
	`memıy
 (
fe
, 
‹mp_dœ
, 
Ën
);

836 
	`memıy
 (
fe
 + 
Ën
, 
¦ashba£
,  slashbase);

837 
node
->
Ãxt
 = 
NULL
;

838 ià(++
‹mp_dœ_šdex
 =ğ
‹mp_dœ_couÁ
)

839 
‹mp_dœ_šdex
 = 0;

842 
cs
 = 
	`cs_’‹r
 ();

843 
fd
 = 
	`mk¡emp
 (
fe
);

844 ià(0 <ğ
fd
)

846 *
‹m±a
 = 
node
;

847 
‹m±a
 = &
node
->
Ãxt
;

849 
§ved_”ºo
 = 
”ºo
;

850 
	`cs_Ëave
 (
cs
);

851 
”ºo
 = 
§ved_”ºo
;

853 ià(
fd
 < 0)

855 ià(! (
survive_fd_exhau¡iÚ
 && 
”ºo
 =ğ
EMFILE
))

856 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("cannot createemporary file in %s"),

857 
	`quÙe
 (
‹mp_dœ
));

858 
	`ä“
 (
node
);

859 
node
 = 
NULL
;

862 *
pfd
 = 
fd
;

863  
node
;

864 
	}
}

913 
FILE
 *

914 
	$¡»am_İ’
 (cÚ¡ *
fe
, cÚ¡ *
how
)

916 
FILE
 *
å
;

918 ià(*
how
 == 'r')

920 ià(
	`STREQ
 (
fe
, "-"))

922 
have_»ad_¡dš
 = 
Œue
;

923 
å
 = 
¡dš
;

926 
å
 = 
	`fİ’
 (
fe
, 
how
);

927 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

929 ià(*
how
 == 'w')

931 ià(
fe
 && 
	`árunÿ‹
 (
STDOUT_FILENO
, 0) != 0)

932 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("%s:ƒrrorruncating"),

933 
	`quÙe
 (
fe
));

934 
å
 = 
¡dout
;

937 
	`as£¹
 (!"unexpected mode…assedo stream_open");

939  
å
;

940 
	}
}

945 
FILE
 *

946 
	$xfİ’
 (cÚ¡ *
fe
, cÚ¡ *
how
)

948 
FILE
 *
å
 = 
	`¡»am_İ’
 (
fe
, 
how
);

949 ià(!
å
)

950 
	`d›
 (
	`_
("İ’ faed"), 
fe
);

951  
å
;

952 
	}
}

957 
	$xfşo£
 (
FILE
 *
å
, cÚ¡ *
fe
)

959 
	`f’o
 (
å
))

961 
STDIN_FILENO
:

963 ià(
	`ãof
 (
å
))

964 
	`ş—»¼
 (
å
);

967 
STDOUT_FILENO
:

969 ià(
	`fæush
 (
å
) != 0)

970 
	`d›
 (
	`_
("fæush faed"), 
fe
);

974 ià(
	`fşo£
 (
å
) != 0)

975 
	`d›
 (
	`_
("şo£ faed"), 
fe
);

978 
	}
}

981 
	$move_fd_Ü_d›
 (
Şdfd
, 
Ãwfd
)

983 ià(
Şdfd
 !ğ
Ãwfd
)

985 ià(
	`dup2
 (
Şdfd
, 
Ãwfd
) < 0)

986 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("dup2 failed"));

987 
	`şo£
 (
Şdfd
);

989 
	}
}

996 
pid_t


997 
	$pe_fÜk
 (
pefds
[2], 
size_t
 
Œ›s
)

999 #ià
HAVE_WORKING_FORK


1000 
‹m²ode
 *
§ved_‹mph—d
;

1001 
§ved_”ºo
;

1002 
wa™_»Œy
 = 0.25;

1003 
pid_t
 
pid
 
	`IF_LINT
 ( = -1);

1004 
cs_¡©us
 
cs
;

1006 ià(
	`pe
 (
pefds
) < 0)

1016 ià(
nm”ge
 + 1 < 
Årocs
)

1017 
	`»­_some
 ();

1019 
Œ›s
--)

1023 
cs
 = 
	`cs_’‹r
 ();

1024 
§ved_‹mph—d
 = 
‹mph—d
;

1025 
‹mph—d
 = 
NULL
;

1027 
pid
 = 
	`fÜk
 ();

1028 
§ved_”ºo
 = 
”ºo
;

1029 ià(
pid
)

1030 
‹mph—d
 = 
§ved_‹mph—d
;

1032 
	`cs_Ëave
 (
cs
);

1033 
”ºo
 = 
§ved_”ºo
;

1035 ià(0 <ğ
pid
 || 
”ºo
 !ğ
EAGAIN
)

1039 
	`xÇno¦“p
 (
wa™_»Œy
);

1040 
wa™_»Œy
 *= 2;

1041 
	`»­_ex™ed
 ();

1045 ià(
pid
 < 0)

1047 
§ved_”ºo
 = 
”ºo
;

1048 
	`şo£
 (
pefds
[0]);

1049 
	`şo£
 (
pefds
[1]);

1050 
”ºo
 = 
§ved_”ºo
;

1052 ià(
pid
 == 0)

1054 
	`şo£
 (
STDIN_FILENO
);

1055 
	`şo£
 (
STDOUT_FILENO
);

1058 ++
Årocs
;

1060  
pid
;

1065 
	}
}

1073 
‹m²ode
 *

1074 
	$maybe_ü—‹_‹mp
 (
FILE
 **
på
, 
boŞ
 
survive_fd_exhau¡iÚ
)

1076 
‹mpfd
;

1077 
‹m²ode
 *
node
 = 
	`ü—‹_‹mp_fe
 (&
‹mpfd
, 
survive_fd_exhau¡iÚ
);

1078 ià(! 
node
)

1079  
NULL
;

1081 
node
->
¡©e
 = 
UNCOMPRESSED
;

1083 ià(
com´ess_´og¿m
)

1085 
pefds
[2];

1087 
node
->
pid
 = 
	`pe_fÜk
 (
pefds
, 
MAX_FORK_TRIES_COMPRESS
);

1088 ià(0 < 
node
->
pid
)

1090 
	`şo£
 (
‹mpfd
);

1091 
	`şo£
 (
pefds
[0]);

1092 
‹mpfd
 = 
pefds
[1];

1094 
	`»gi¡”_´oc
 (
node
);

1096 ià(
node
->
pid
 == 0)

1098 
	`şo£
 (
pefds
[1]);

1099 
	`move_fd_Ü_d›
 (
‹mpfd
, 
STDOUT_FILENO
);

1100 
	`move_fd_Ü_d›
 (
pefds
[0], 
STDIN_FILENO
);

1102 ià(
	`exeşp
 (
com´ess_´og¿m
, com´ess_´og¿m, (*è
NULL
) < 0)

1103 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("couldn'tƒxecute %s"),

1104 
com´ess_´og¿m
);

1108 *
på
 = 
	`fdİ’
 (
‹mpfd
, "w");

1109 ià(! *
på
)

1110 
	`d›
 (
	`_
("couldn'ˆü—‹empÜ¬y fe"), 
node
->
Çme
);

1112  
node
;

1113 
	}
}

1119 
‹m²ode
 *

1120 
	$ü—‹_‹mp
 (
FILE
 **
på
)

1122  
	`maybe_ü—‹_‹mp
 (
på
, 
çl£
);

1123 
	}
}

1130 
FILE
 *

1131 
	$İ’_‹mp
 (
‹m²ode
 *
‹mp
)

1133 
‹mpfd
, 
pefds
[2];

1134 
FILE
 *
å
 = 
NULL
;

1136 ià(
‹mp
->
¡©e
 =ğ
UNREAPED
)

1137 
	`wa™_´oc
 (
‹mp
->
pid
);

1139 
‹mpfd
 = 
	`İ’
 (
‹mp
->
Çme
, 
O_RDONLY
);

1140 ià(
‹mpfd
 < 0)

1141  
NULL
;

1143 
pid_t
 
chd
 = 
	`pe_fÜk
 (
pefds
, 
MAX_FORK_TRIES_DECOMPRESS
);

1145 
chd
)

1148 ià(
”ºo
 !ğ
EMFILE
)

1149 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("couldn't create…rocess for %s -d"),

1150 
com´ess_´og¿m
);

1151 
	`şo£
 (
‹mpfd
);

1152 
”ºo
 = 
EMFILE
;

1156 
	`şo£
 (
pefds
[0]);

1157 
	`move_fd_Ü_d›
 (
‹mpfd
, 
STDIN_FILENO
);

1158 
	`move_fd_Ü_d›
 (
pefds
[1], 
STDOUT_FILENO
);

1160 
	`exeşp
 (
com´ess_´og¿m
, com´ess_´og¿m, "-d", (*è
NULL
);

1161 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("couldn'tƒxecute %s -d"),

1162 
com´ess_´og¿m
);

1165 
‹mp
->
pid
 = 
chd
;

1166 
	`»gi¡”_´oc
 (
‹mp
);

1167 
	`şo£
 (
‹mpfd
);

1168 
	`şo£
 (
pefds
[1]);

1170 
å
 = 
	`fdİ’
 (
pefds
[0], "r");

1171 ià(! 
å
)

1173 
§ved_”ºo
 = 
”ºo
;

1174 
	`şo£
 (
pefds
[0]);

1175 
”ºo
 = 
§ved_”ºo
;

1180  
å
;

1181 
	}
}

1185 
	$add_‹mp_dœ
 (cÚ¡ *
dœ
)

1187 ià(
‹mp_dœ_couÁ
 =ğ
‹mp_dœ_®loc
)

1188 
‹mp_dœs
 = 
	`X2NREALLOC
 (‹mp_dœs, &
‹mp_dœ_®loc
);

1190 
‹mp_dœs
[
‹mp_dœ_couÁ
++] = 
dœ
;

1191 
	}
}

1196 
	$z­‹mp
 (cÚ¡ *
Çme
)

1198 
‹m²ode
 *vŞ©*
²ode
;

1199 
‹m²ode
 *
node
;

1200 
‹m²ode
 *
Ãxt
;

1201 
uÆšk_¡©us
;

1202 
uÆšk_”ºo
 = 0;

1203 
cs_¡©us
 
cs
;

1205 
²ode
 = &
‹mph—d
; (
node
 = *²ode)->
Çme
 !ğÇme;…nodğ&node->
Ãxt
)

1208 ià(
node
->
¡©e
 =ğ
UNREAPED
)

1209 
	`wa™_´oc
 (
node
->
pid
);

1212 
Ãxt
 = 
node
->next;

1213 
cs
 = 
	`cs_’‹r
 ();

1214 
uÆšk_¡©us
 = 
	`uÆšk
 (
Çme
);

1215 
uÆšk_”ºo
 = 
”ºo
;

1216 *
²ode
 = 
Ãxt
;

1217 
	`cs_Ëave
 (
cs
);

1219 ià(
uÆšk_¡©us
 != 0)

1220 
	`”rÜ
 (0, 
uÆšk_”ºo
, 
	`_
("w¬nšg: cªnÙ„emove: %s"), 
Çme
);

1221 ià(! 
Ãxt
)

1222 
‹m±a
 = 
²ode
;

1223 
	`ä“
 (
node
);

1224 
	}
}

1226 #ià
HAVE_NL_LANGINFO


1229 
	$¡ruù_mÚth_cmp
 (cÚ¡ *
m1
, cÚ¡ *
m2
)

1231 
mÚth
 cÚ¡ *
mÚth1
 = 
m1
;

1232 
mÚth
 cÚ¡ *
mÚth2
 = 
m2
;

1233  
	`¡rcmp
 (
mÚth1
->
Çme
, 
mÚth2
->name);

1234 
	}
}

1241 
	$š™bËs
 ()

1243 
size_t
 
i
;

1245 
i
 = 0; i < 
UCHAR_LIM
; ++i)

1247 
bÏnks
[
i
] = !! 
	`isbÏnk
 (i);

1248 
nÚ´štšg
[
i
] = ! 
	`i¥ršt
 (i);

1249 
nÚdiùiÚ¬y
[
i
] = ! 
	`i§Êum
 (iè&& ! 
	`isbÏnk
 (i);

1250 
fŞd_touµ”
[
i
] = 
	`touµ”
 (i);

1253 #ià
HAVE_NL_LANGINFO


1255 ià(
h¬d_LC_TIME
)

1257 
i
 = 0; i < 
MONTHS_PER_YEAR
; i++)

1259 cÚ¡ *
s
;

1260 
size_t
 
s_Ën
;

1261 
size_t
 
j
, 
k
;

1262 *
Çme
;

1264 
s
 = 
	`Æ_Ïngšfo
 (
ABMON_1
 + 
i
);

1265 
s_Ën
 = 
	`¡¾’
 (
s
);

1266 
mÚthb
[
i
].
Çme
 =‚amğ
	`xm®loc
 (
s_Ën
 + 1);

1267 
mÚthb
[
i
].
v®
 = i + 1;

1269 
j
 = 
k
 = 0; j < 
s_Ën
; j++)

1270 ià(! 
	`isbÏnk
 (
	`to_uch¬
 (
s
[
j
])))

1271 
Çme
[
k
++] = 
fŞd_touµ”
[
	`to_uch¬
 (
s
[
j
])];

1272 
Çme
[
k
] = '\0';

1274 
	`qsÜt
 (
mÚthb
, 
MONTHS_PER_YEAR
,  *mÚthb, 
¡ruù_mÚth_cmp
);

1277 
	}
}

1283 
	$¥ecify_nm”ge
 (
oi
, 
c
, cÚ¡ *
s
)

1285 
uštmax_t
 
n
;

1286 
¾im™
„limit;

1287 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oumax
 (
s
, 
NULL
, 10, &
n
, NULL);

1292 
max_nm”ge
 = ((
	`g‘¾im™
 (
RLIMIT_NOFILE
, &
¾im™
) == 0

1293 ? 
¾im™
.
¾im_cur


1294 : 
OPEN_MAX
)

1297 ià(
e
 =ğ
LONGINT_OK
)

1299 
nm”ge
 = 
n
;

1300 ià(
nm”ge
 !ğ
n
)

1301 
e
 = 
LONGINT_OVERFLOW
;

1304 ià(
nm”ge
 < 2)

1306 
	`”rÜ
 (0, 0, 
	`_
("invalid --%s‡rgument %s"),

1307 
lÚg_İtiÚs
[
oi
].
Çme
, 
	`quÙe
 (
s
));

1308 
	`”rÜ
 (
SORT_FAILURE
, 0,

1309 
	`_
("minimum --%s‡rgument is %s"),

1310 
lÚg_İtiÚs
[
oi
].
Çme
, 
	`quÙe
 ("2"));

1312 ià(
max_nm”ge
 < 
nm”ge
)

1314 
e
 = 
LONGINT_OVERFLOW
;

1321 ià(
e
 =ğ
LONGINT_OVERFLOW
)

1323 
max_nm”ge_buf
[
	`INT_BUFSIZE_BOUND
 (
max_nm”ge
)];

1324 
	`”rÜ
 (0, 0, 
	`_
("--%s‡rgument %soo†arge"),

1325 
lÚg_İtiÚs
[
oi
].
Çme
, 
	`quÙe
 (
s
));

1326 
	`”rÜ
 (
SORT_FAILURE
, 0,

1327 
	`_
("maximum --%s‡rgument with current„limit is %s"),

1328 
lÚg_İtiÚs
[
oi
].
Çme
,

1329 
	`uš‰o¡r
 (
max_nm”ge
, 
max_nm”ge_buf
));

1332 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
s
);

1333 
	}
}

1337 
	$¥ecify_sÜt_size
 (
oi
, 
c
, cÚ¡ *
s
)

1339 
uštmax_t
 
n
;

1340 *
suffix
;

1341 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oumax
 (
s
, &
suffix
, 10, &
n
, "EgGkKmMPtTYZ");

1344 ià(
e
 =ğ
LONGINT_OK
 && 
	`ISDIGIT
 (
suffix
[-1]))

1346 ià(
n
 <ğ
UINTMAX_MAX
 / 1024)

1347 
n
 *= 1024;

1349 
e
 = 
LONGINT_OVERFLOW
;

1353 ià(
e
 =ğ
LONGINT_INVALID_SUFFIX_CHAR
 && 
	`ISDIGIT
 (
suffix
[-1]) && ! suffix[1])

1354 
suffix
[0])

1357 
e
 = 
LONGINT_OK
;

1362 
mem
 = 
	`physmem_tÙ®
 (è* 
n
 / 100;

1365 ià(
mem
 < 
UINTMAX_MAX
)

1367 
n
 = 
mem
;

1368 
e
 = 
LONGINT_OK
;

1371 
e
 = 
LONGINT_OVERFLOW
;

1376 ià(
e
 =ğ
LONGINT_OK
)

1380 ià(
n
 < 
sÜt_size
)

1383 
sÜt_size
 = 
n
;

1384 ià(
sÜt_size
 =ğ
n
)

1386 
sÜt_size
 = 
	`MAX
 (sÜt_size, 
MIN_SORT_SIZE
);

1390 
e
 = 
LONGINT_OVERFLOW
;

1393 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
s
);

1394 
	}
}

1397 
size_t


1398 
	$¥ecify_Áh»ads
 (
oi
, 
c
, cÚ¡ *
s
)

1400 
Áh»ads
;

1401 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oul
 (
s
, 
NULL
, 10, &
Áh»ads
, "");

1402 ià(
e
 =ğ
LONGINT_OVERFLOW
)

1403  
SIZE_MAX
;

1404 ià(
e
 !ğ
LONGINT_OK
)

1405 
	`x¡¹Ş_çl
 (
e
, 
oi
, 
c
, 
lÚg_İtiÚs
, 
s
);

1406 ià(
SIZE_MAX
 < 
Áh»ads
)

1407 
Áh»ads
 = 
SIZE_MAX
;

1408 ià(
Áh»ads
 == 0)

1409 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("number in…arallel must be‚onzero"));

1410  
Áh»ads
;

1411 
	}
}

1414 
size_t


1415 
	$deçuÉ_sÜt_size
 ()

1421 
size_t
 
size
 = 
SIZE_MAX
;

1422 
¾im™
„limit;

1423 ià(
	`g‘¾im™
 (
RLIMIT_DATA
, &
¾im™
è=ğ0 &&„lim™.
¾im_cur
 < 
size
)

1424 
size
 = 
¾im™
.
¾im_cur
;

1425 #ifdeà
RLIMIT_AS


1426 ià(
	`g‘¾im™
 (
RLIMIT_AS
, &
¾im™
è=ğ0 &&„lim™.
¾im_cur
 < 
size
)

1427 
size
 = 
¾im™
.
¾im_cur
;

1432 
size
 /= 2;

1434 #ifdeà
RLIMIT_RSS


1437 ià(
	`g‘¾im™
 (
RLIMIT_RSS
, &
¾im™
è=ğ0 &&„lim™.
¾im_cur
 / 16 * 15 < 
size
)

1438 
size
 = 
¾im™
.
¾im_cur
 / 16 * 15;

1443 
ava
 = 
	`physmem_avaabË
 ();

1444 
tÙ®
 = 
	`physmem_tÙ®
 ();

1445 
mem
 = 
	`MAX
 (
ava
, 
tÙ®
 / 8);

1448 ià(
tÙ®
 * 0.75 < 
size
)

1449 
size
 = 
tÙ®
 * 0.75;

1454 ià(
mem
 < 
size
)

1455 
size
 = 
mem
;

1456  
	`MAX
 (
size
, 
MIN_SORT_SIZE
);

1457 
	}
}

1466 
size_t


1467 
	$sÜt_bufãr_size
 (
FILE
 *cÚ¡ *
ås
, 
size_t
 
nås
,

1468 *cÚ¡ *
fes
, 
size_t
 
nfes
,

1469 
size_t
 
lše_by‹s
)

1473 
size_t
 
size_bound
;

1476 
size_t
 
wÜ¡_ÿ£_³r_šput_by‹
 = 
lše_by‹s
 + 1;

1480 
size_t
 
size
 = 
wÜ¡_ÿ£_³r_šput_by‹
 + 1;

1482 
size_t
 
i
;

1484 
i
 = 0; i < 
nfes
; i++)

1486 
¡©
 
¡
;

1487 
off_t
 
fe_size
;

1488 
size_t
 
wÜ¡_ÿ£
;

1490 ià((
i
 < 
nås
 ? 
	`f¡©
 (
	`f’o
 (
ås
[i]), &
¡
)

1491 : 
	`STREQ
 (
fes
[
i
], "-"è? 
	`f¡©
 (
STDIN_FILENO
, &
¡
)

1492 : 
	`¡©
 (
fes
[
i
], &
¡
))

1494 
	`d›
 (
	`_
("¡© faed"), 
fes
[
i
]);

1496 ià(
	`S_ISREG
 (
¡
.
¡_mode
))

1497 
fe_size
 = 
¡
.
¡_size
;

1502 ià(
sÜt_size
)

1503  
sÜt_size
;

1504 
fe_size
 = 
INPUT_FILE_SIZE_GUESS
;

1507 ià(! 
size_bound
)

1509 
size_bound
 = 
sÜt_size
;

1510 ià(! 
size_bound
)

1511 
size_bound
 = 
	`deçuÉ_sÜt_size
 ();

1517 
wÜ¡_ÿ£
 = 
fe_size
 * 
wÜ¡_ÿ£_³r_šput_by‹
 + 1;

1518 ià(
fe_size
 !ğ
wÜ¡_ÿ£
 / 
wÜ¡_ÿ£_³r_šput_by‹


1519 || 
size_bound
 - 
size
 <ğ
wÜ¡_ÿ£
)

1520  
size_bound
;

1521 
size
 +ğ
wÜ¡_ÿ£
;

1524  
size
;

1525 
	}
}

1532 
	$š™buf
 (
bufãr
 *
buf
, 
size_t
 
lše_by‹s
, size_ˆ
®loc
)

1538 
Œue
)

1540 
®loc
 +ğ (
lše
) -‡lloc %  (line);

1541 
buf
->buàğ
	`m®loc
 (
®loc
);

1542 ià(
buf
->buf)

1544 
®loc
 /= 2;

1545 ià(
®loc
 <ğ
lše_by‹s
 + 1)

1546 
	`x®loc_d›
 ();

1549 
buf
->
lše_by‹s
 =†ine_bytes;

1550 
buf
->
®loc
 =‡lloc;

1551 
buf
->
u£d
 = buf->
Ëá
 = buf->
Æšes
 = 0;

1552 
buf
->
eof
 = 
çl£
;

1553 
	}
}

1557 
šlše
 
lše
 *

1558 
	$bufãr_lš–im
 (
bufãr
 cÚ¡ *
buf
)

1560  (
lše
 *è(
buf
->buà+ buf->
®loc
);

1561 
	}
}

1567 
	$begf›ld
 (
lše
 cÚ¡ *lše, 
keyf›ld
 cÚ¡ *
key
)

1569 *
±r
 = 
lše
->
‹xt
, *
lim
 =…Œ +†še->
Ëngth
 - 1;

1570 
size_t
 
swÜd
 = 
key
->sword;

1571 
size_t
 
sch¬
 = 
key
->schar;

1576 ià(
b
 !ğ
TAB_DEFAULT
)

1577 
±r
 < 
lim
 && 
swÜd
--)

1579 
±r
 < 
lim
 && *±¸!ğ
b
)

1580 ++
±r
;

1581 ià(
±r
 < 
lim
)

1582 ++
±r
;

1585 
±r
 < 
lim
 && 
swÜd
--)

1587 
±r
 < 
lim
 && 
bÏnks
[
	`to_uch¬
 (*ptr)])

1588 ++
±r
;

1589 
±r
 < 
lim
 && !
bÏnks
[
	`to_uch¬
 (*ptr)])

1590 ++
±r
;

1595 ià(
key
->
sksbÏnks
)

1596 
±r
 < 
lim
 && 
bÏnks
[
	`to_uch¬
 (*ptr)])

1597 ++
±r
;

1600 
±r
 = 
	`MIN
 (
lim
,…Œ + 
sch¬
);

1602  
±r
;

1603 
	}
}

1609 
	$limf›ld
 (
lše
 cÚ¡ *lše, 
keyf›ld
 cÚ¡ *
key
)

1611 *
±r
 = 
lše
->
‹xt
, *
lim
 =…Œ +†še->
Ëngth
 - 1;

1612 
size_t
 
ewÜd
 = 
key
->ewÜd, 
ech¬
 = key->echar;

1614 ià(
ech¬
 == 0)

1615 
ewÜd
++;

1624 ià(
b
 !ğ
TAB_DEFAULT
)

1625 
±r
 < 
lim
 && 
ewÜd
--)

1627 
±r
 < 
lim
 && *±¸!ğ
b
)

1628 ++
±r
;

1629 ià(
±r
 < 
lim
 && (
ewÜd
 || 
ech¬
))

1630 ++
±r
;

1633 
±r
 < 
lim
 && 
ewÜd
--)

1635 
±r
 < 
lim
 && 
bÏnks
[
	`to_uch¬
 (*ptr)])

1636 ++
±r
;

1637 
±r
 < 
lim
 && !
bÏnks
[
	`to_uch¬
 (*ptr)])

1638 ++
±r
;

1641 #ifdeà
POSIX_UNSPECIFIED


1673 ià(
b
 !ğ
TAB_DEFAULT
)

1675 *
Ãwlim
;

1676 
Ãwlim
 = 
	`memchr
 (
±r
, 
b
, 
lim
 -…tr);

1677 ià(
Ãwlim
)

1678 
lim
 = 
Ãwlim
;

1682 *
Ãwlim
;

1683 
Ãwlim
 = 
±r
;

1684 
Ãwlim
 < 
lim
 && 
bÏnks
[
	`to_uch¬
 (*newlim)])

1685 ++
Ãwlim
;

1686 
Ãwlim
 < 
lim
 && !
bÏnks
[
	`to_uch¬
 (*newlim)])

1687 ++
Ãwlim
;

1688 
lim
 = 
Ãwlim
;

1692 ià(
ech¬
 != 0)

1696 ià(
key
->
skebÏnks
)

1697 
±r
 < 
lim
 && 
bÏnks
[
	`to_uch¬
 (*ptr)])

1698 ++
±r
;

1701 
±r
 = 
	`MIN
 (
lim
,…Œ + 
ech¬
);

1704  
±r
;

1705 
	}
}

1713 
boŞ


1714 
	$flbuf
 (
bufãr
 *
buf
, 
FILE
 *
å
, cÚ¡ *
fe
)

1716 
keyf›ld
 cÚ¡ *
key
 = 
keyli¡
;

1717 
eŞ
 = 
eŞch¬
;

1718 
size_t
 
lše_by‹s
 = 
buf
->line_bytes;

1719 
size_t
 
m”gesize
 = 
m”ge_bufãr_size
 - 
MIN_MERGE_BUFFER_SIZE
;

1721 ià(
buf
->
eof
)

1722  
çl£
;

1724 ià(
buf
->
u£d
 !ğbuf->
Ëá
)

1726 
	`memmove
 (
buf
->buf, buf->buà+ buf->
u£d
 - buf->
Ëá
, buf->left);

1727 
buf
->
u£d
 = buf->
Ëá
;

1728 
buf
->
Æšes
 = 0;

1731 
Œue
)

1733 *
±r
 = 
buf
->buà+ buf->
u£d
;

1734 
lše
 *
lš–im
 = 
	`bufãr_lš–im
 (
buf
);

1735 
lše
 *lšğ
lš–im
 - 
buf
->
Æšes
;

1736 
size_t
 
ava
 = (*è
lš–im
 - 
buf
->
Æšes
 * 
lše_by‹s
 - 
±r
;

1737 *
lše_¡¬t
 = 
buf
->
Æšes
 ? 
lše
->
‹xt
 +†še->
Ëngth
 : buf->buf;

1739 
lše_by‹s
 + 1 < 
ava
)

1746 
size_t
 
»adsize
 = (
ava
 - 1è/ (
lše_by‹s
 + 1);

1747 
size_t
 
by‹s_»ad
 = 
	`ä—d
 (
±r
, 1, 
»adsize
, 
å
);

1748 *
±¾im
 = 
±r
 + 
by‹s_»ad
;

1749 *
p
;

1750 
ava
 -ğ
by‹s_»ad
;

1752 ià(
by‹s_»ad
 !ğ
»adsize
)

1754 ià(
	`ã¼Ü
 (
å
))

1755 
	`d›
 (
	`_
("»ad faed"), 
fe
);

1756 ià(
	`ãof
 (
å
))

1758 
buf
->
eof
 = 
Œue
;

1759 ià(
buf
->buà=ğ
±¾im
)

1760  
çl£
;

1761 ià(
lše_¡¬t
 !ğ
±¾im
 &&…Œlim[-1] !ğ
eŞ
)

1762 *
±¾im
++ = 
eŞ
;

1767 (
p
 = 
	`memchr
 (
±r
, 
eŞ
, 
±¾im
 -…tr)))

1772 *
p
 = '\0';

1773 
±r
 = 
p
 + 1;

1774 
lše
--;

1775 
lše
->
‹xt
 = 
lše_¡¬t
;

1776 
lše
->
Ëngth
 = 
±r
 - 
lše_¡¬t
;

1777 
m”gesize
 = 
	`MAX
 (m”gesize, 
lše
->
Ëngth
);

1778 
ava
 -ğ
lše_by‹s
;

1780 ià(
key
)

1784 
lše
->
keylim
 = (
key
->
ewÜd
 =ğ
SIZE_MAX


1785 ? 
p


1786 : 
	`limf›ld
 (
lše
, 
key
));

1788 ià(
key
->
swÜd
 !ğ
SIZE_MAX
)

1789 
lše
->
keybeg
 = 
	`begf›ld
 (lše, 
key
);

1792 ià(
key
->
sksbÏnks
)

1793 
bÏnks
[
	`to_uch¬
 (*
lše_¡¬t
)])

1794 
lše_¡¬t
++;

1795 
lše
->
keybeg
 = 
lše_¡¬t
;

1799 
lše_¡¬t
 = 
±r
;

1802 
±r
 = 
±¾im
;

1803 ià(
buf
->
eof
)

1807 
buf
->
u£d
 = 
±r
 - buf->buf;

1808 
buf
->
Æšes
 = 
	`bufãr_lš–im
 (bufè- 
lše
;

1809 ià(
buf
->
Æšes
 != 0)

1811 
buf
->
Ëá
 = 
±r
 - 
lše_¡¬t
;

1812 
m”ge_bufãr_size
 = 
m”gesize
 + 
MIN_MERGE_BUFFER_SIZE
;

1813  
Œue
;

1820 
size_t
 
lše_®loc
 = 
buf
->
®loc
 /  (
lše
);

1821 
buf
->buàğ
	`x2Ä—Îoc
 (buf->buf, &
lše_®loc
,  (
lše
));

1822 
buf
->
®loc
 = 
lše_®loc
 *  (
lše
);

1825 
	}
}

1828 cÚ¡ 
	gun™_Üd”
[
UCHAR_LIM
] =

1861 
_GL_ATTRIBUTE_PURE


1862 
	$fšd_un™_Üd”
 (cÚ¡ *
numb”
)

1864 
boŞ
 
mšus_sign
 = (*
numb”
 == '-');

1865 cÚ¡ *
p
 = 
numb”
 + 
mšus_sign
;

1866 
nÚz”o
 = 0;

1867 
ch
;

1877 
	`ISDIGIT
 (
ch
 = *
p
++))

1878 
nÚz”o
 |ğ
ch
 - '0';

1880 
ch
 =ğ
thou§nds_£p
);

1882 ià(
ch
 =ğ
decim®_pošt
)

1883 
	`ISDIGIT
 (
ch
 = *
p
++))

1884 
nÚz”o
 |ğ
ch
 - '0';

1886 ià(
nÚz”o
)

1888 
Üd”
 = 
un™_Üd”
[
ch
];

1889  (
mšus_sign
 ? -
Üd”
 : order);

1893 
	}
}

1899 
	$humª_numcom·»
 (cÚ¡ *
a
, cÚ¡ *
b
)

1901 
bÏnks
[
	`to_uch¬
 (*
a
)])

1902 
a
++;

1903 
bÏnks
[
	`to_uch¬
 (*
b
)])

1904 
b
++;

1906 
diff
 = 
	`fšd_un™_Üd”
 (
a
è- fšd_un™_Üd” (
b
);

1907  (
diff
 ? difà: 
	`¡ºumcmp
 (
a
, 
b
, 
decim®_pošt
, 
thou§nds_£p
));

1908 
	}
}

1915 
	$numcom·»
 (cÚ¡ *
a
, cÚ¡ *
b
)

1917 
bÏnks
[
	`to_uch¬
 (*
a
)])

1918 
a
++;

1919 
bÏnks
[
	`to_uch¬
 (*
b
)])

1920 
b
++;

1922  
	`¡ºumcmp
 (
a
, 
b
, 
decim®_pošt
, 
thou§nds_£p
);

1923 
	}
}

1930 
	$Çn_com·»
 (cÚ¡ *
§
, cÚ¡ *
sb
)

1932 
lÚg_doubË
 
a
;

1933 
	`mem£t
 (&
a
, 0, ‡);

1934 
a
 = 
	`¡¹Şd
 (
§
, 
NULL
);

1936 
lÚg_doubË
 
b
;

1937 
	`mem£t
 (&
b
, 0,  b);

1938 
b
 = 
	`¡¹Şd
 (
sb
, 
NULL
);

1940  
	`memcmp
 (&
a
, &
b
, ‡);

1941 
	}
}

1944 
	$g’”®_numcom·»
 (cÚ¡ *
§
, cÚ¡ *
sb
)

1949 *
—
;

1950 *
eb
;

1951 
lÚg_doubË
 
a
 = 
	`¡¹Şd
 (
§
, &
—
);

1952 
lÚg_doubË
 
b
 = 
	`¡¹Şd
 (
sb
, &
eb
);

1955 ià(
§
 =ğ
—
)

1956  
sb
 =ğ
eb
 ? 0 : -1;

1957 ià(
sb
 =ğ
eb
)

1963  (
a
 < 
b
 ? -1

1964 : 
a
 > 
b
 ? 1

1965 : 
a
 =ğ
b
 ? 0

1966 : 
b
 == b ? -1

1967 : 
a
 ==‡ ? 1

1968 : 
	`Çn_com·»
 (
§
, 
sb
));

1969 
	}
}

1975 
	$g‘mÚth
 (cÚ¡ *
mÚth
, **
—
)

1977 
size_t
 
lo
 = 0;

1978 
size_t
 
hi
 = 
MONTHS_PER_YEAR
;

1980 
bÏnks
[
	`to_uch¬
 (*
mÚth
)])

1981 
mÚth
++;

1985 
size_t
 
ix
 = (
lo
 + 
hi
) / 2;

1986 cÚ¡ *
m
 = 
mÚth
;

1987 cÚ¡ *
n
 = 
mÚthb
[
ix
].
Çme
;

1989 ;; 
m
++, 
n
++)

1991 ià(!*
n
)

1993 ià(
—
)

1994 *
—
 = (*è
m
;

1995  
mÚthb
[
ix
].
v®
;

1997 ià(
	`to_uch¬
 (
fŞd_touµ”
[to_uch¬ (*
m
)]è<o_uch¬ (*
n
))

1999 
hi
 = 
ix
;

2002 ià(
	`to_uch¬
 (
fŞd_touµ”
[to_uch¬ (*
m
)]è>o_uch¬ (*
n
))

2004 
lo
 = 
ix
 + 1;

2009 
lo
 < 
hi
);

2012 
	}
}

2015 
md5_ùx
 
	g¿ndom_md5_¡©e
;

2020 
	$¿ndom_md5_¡©e_š™
 (cÚ¡ *
¿ndom_sourû
)

2022 
buf
[
MD5_DIGEST_SIZE
];

2023 
¿nd»ad_sourû
 *
r
 = 
	`¿nd»ad_Ãw
 (
¿ndom_sourû
,  
buf
);

2024 ià(! 
r
)

2025 
	`d›
 (
	`_
("İ’ faed"), 
¿ndom_sourû
);

2026 
	`¿nd»ad
 (
r
, 
buf
,  buf);

2027 ià(
	`¿nd»ad_ä“
 (
r
) != 0)

2028 
	`d›
 (
	`_
("şo£ faed"), 
¿ndom_sourû
);

2029 
	`md5_š™_ùx
 (&
¿ndom_md5_¡©e
);

2030 
	`md5_´oûss_by‹s
 (
buf
,  buf, &
¿ndom_md5_¡©e
);

2031 
	}
}

2035 
size_t


2036 
	$x¡rxäm
 (*
»¡riù
 
de¡
, cÚ¡ *»¡riù 
¤c
, 
size_t
 
de¡size
)

2038 
”ºo
 = 0;

2039 
size_t
 
Œª¦©ed_size
 = 
	`¡rxäm
 (
de¡
, 
¤c
, 
de¡size
);

2041 ià(
”ºo
)

2043 
	`”rÜ
 (0, 
”ºo
, 
	`_
("stringransformation failed"));

2044 
	`”rÜ
 (0, 0, 
	`_
("set LC_ALL='C'o work‡roundhe…roblem"));

2045 
	`”rÜ
 (
SORT_FAILURE
, 0,

2046 
	`_
("the untransformed string was %s"),

2047 
	`quÙ—rg_n_¡yË
 (0, 
loÿË_quÙšg_¡yË
, 
¤c
));

2050  
Œª¦©ed_size
;

2051 
	}
}

2058 
	$com·»_¿ndom
 (*
»¡riù
 
‹x
, 
size_t
 
ËÇ
,

2059 *
»¡riù
 
‹xtb
, 
size_t
 
Ënb
)

2065 
xäm_diff
 = 0;

2067 
¡ackbuf
[4000];

2068 *
buf
 = 
¡ackbuf
;

2069 
size_t
 
bufsize
 =  
¡ackbuf
;

2070 *
®loÿ‹d
 = 
NULL
;

2071 
ušt32_t
 
dig
[2][
MD5_DIGEST_SIZE
 /  (uint32_t)];

2072 
md5_ùx
 
s
[2];

2073 
s
[0] = s[1] = 
¿ndom_md5_¡©e
;

2075 ià(
h¬d_LC_COLLATE
)

2077 cÚ¡ *
lima
 = 
‹x
 + 
ËÇ
;

2078 cÚ¡ *
limb
 = 
‹xtb
 + 
Ënb
;

2080 
Œue
)

2097 
size_t
 
guess_bufsize
 = 3 * (
ËÇ
 + 
Ënb
) + 2;

2098 ià(
bufsize
 < 
guess_bufsize
)

2100 
bufsize
 = 
	`MAX
 (
guess_bufsize
, bufsize * 3 / 2);

2101 
	`ä“
 (
®loÿ‹d
);

2102 
buf
 = 
®loÿ‹d
 = 
	`m®loc
 (
bufsize
);

2103 ià(! 
buf
)

2105 
buf
 = 
¡ackbuf
;

2106 
bufsize
 =  
¡ackbuf
;

2110 
size_t
 
siz—
 =

2111 (
‹x
 < 
lima
 ? 
	`x¡rxäm
 (
buf
,ex, 
bufsize
) + 1 : 0);

2112 
boŞ
 
a_f™s
 = 
siz—
 <ğ
bufsize
;

2113 
size_t
 
sizeb
 =

2114 (
‹xtb
 < 
limb


2115 ? (
	`x¡rxäm
 ((
a_f™s
 ? 
buf
 + 
siz—
 : 
NULL
), 
‹xtb
,

2116 (
a_f™s
 ? 
bufsize
 - 
siz—
 : 0))

2120 ià(! (
a_f™s
 && 
siz—
 + 
sizeb
 <ğ
bufsize
))

2122 
bufsize
 = 
siz—
 + 
sizeb
;

2123 ià(
bufsize
 < 
SIZE_MAX
 / 3)

2124 
bufsize
 = bufsize * 3 / 2;

2125 
	`ä“
 (
®loÿ‹d
);

2126 
buf
 = 
®loÿ‹d
 = 
	`xm®loc
 (
bufsize
);

2127 ià(
‹x
 < 
lima
)

2128 
	`¡rxäm
 (
buf
, 
‹x
, 
siz—
);

2129 ià(
‹xtb
 < 
limb
)

2130 
	`¡rxäm
 (
buf
 + 
siz—
, 
‹xtb
, 
sizeb
);

2137 ià(
‹x
 < 
lima
)

2138 
‹x
 +ğ
	`¡¾’
 (texta) + 1;

2139 ià(
‹xtb
 < 
limb
)

2140 
‹xtb
 +ğ
	`¡¾’
 (textb) + 1;

2141 ià(! (
‹x
 < 
lima
 || 
‹xtb
 < 
limb
))

2143 
ËÇ
 = 
siz—
; 
‹x
 = 
buf
;

2144 
Ënb
 = 
sizeb
; 
‹xtb
 = 
buf
 + 
siz—
;

2150 
	`md5_´oûss_by‹s
 (
buf
, 
siz—
, &
s
[0]);

2151 
	`md5_´oûss_by‹s
 (
buf
 + 
siz—
, 
sizeb
, &
s
[1]);

2154 ià(! 
xäm_diff
)

2156 
xäm_diff
 = 
	`memcmp
 (
buf
, buà+ 
siz—
, 
	`MIN
 (siz—, 
sizeb
));

2157 ià(! 
xäm_diff
)

2158 
xäm_diff
 = (
siz—
 > 
sizeb
) - (sizea < sizeb);

2164 
	`md5_´oûss_by‹s
 (
‹x
, 
ËÇ
, &
s
[0]); 
	`md5_fšish_ùx
 (&s[0], 
dig
[0]);

2165 
	`md5_´oûss_by‹s
 (
‹xtb
, 
Ënb
, &
s
[1]); 
	`md5_fšish_ùx
 (&s[1], 
dig
[1]);

2166 
diff
 = 
	`memcmp
 (
dig
[0], dig[1],  dig[0]);

2169 ià(! 
diff
)

2171 ià(! 
xäm_diff
)

2173 
xäm_diff
 = 
	`memcmp
 (
‹x
, 
‹xtb
, 
	`MIN
 (
ËÇ
, 
Ënb
));

2174 ià(! 
xäm_diff
)

2175 
xäm_diff
 = (
ËÇ
 > 
Ënb
) - (lena <†enb);

2178 
diff
 = 
xäm_diff
;

2181 
	`ä“
 (
®loÿ‹d
);

2183  
diff
;

2184 
	}
}

2190 
size_t


2191 
	$debug_width
 (cÚ¡ *
‹xt
, cÚ¡ *
lim
)

2193 
size_t
 
width
 = 
	`mb¢width
 (
‹xt
, 
lim
 -ext, 0);

2194 
‹xt
 < 
lim
)

2195 
width
 +ğ(*
‹xt
++ == '\t');

2196  
width
;

2197 
	}
}

2203 
	$m¬k_key
 (
size_t
 
off£t
, size_ˆ
width
)

2205 
off£t
--)

2206 
	`putch¬
 (' ');

2208 ià(!
width
)

2209 
	`´štf
 (
	`_
("^‚o match for key\n"));

2213 
	`putch¬
 ('_');

2214 --
width
);

2216 
	`putch¬
 ('\n');

2218 
	}
}

2222 
šlše
 
boŞ


2223 
	$key_num”ic
 (
keyf›ld
 cÚ¡ *
key
)

2225  
key
->
num”ic
 || key->
g’”®_num”ic
 || key->
humª_num”ic
;

2226 
	}
}

2232 
	$debug_key
 (
lše
 cÚ¡ *lše, 
keyf›ld
 cÚ¡ *
key
)

2234 *
‹xt
 = 
lše
->text;

2235 *
beg
 = 
‹xt
;

2236 *
lim
 = 
‹xt
 + 
lše
->
Ëngth
 - 1;

2238 ià(
key
)

2240 ià(
key
->
swÜd
 !ğ
SIZE_MAX
)

2241 
beg
 = 
	`begf›ld
 (
lše
, 
key
);

2242 ià(
key
->
ewÜd
 !ğ
SIZE_MAX
)

2243 
lim
 = 
	`limf›ld
 (
lše
, 
key
);

2245 ià(
key
->
sksbÏnks
 || key->
mÚth
 || 
	`key_num”ic
 (key))

2247 
§ved
 = *
lim
;

2248 *
lim
 = '\0';

2250 
bÏnks
[
	`to_uch¬
 (*
beg
)])

2251 
beg
++;

2253 *
tigh‹r_lim
 = 
beg
;

2255 ià(
lim
 < 
beg
)

2256 
tigh‹r_lim
 = 
lim
;

2257 ià(
key
->
mÚth
)

2258 
	`g‘mÚth
 (
beg
, &
tigh‹r_lim
);

2259 ià(
key
->
g’”®_num”ic
)

2260 
	`ignÜe_v®ue
 (
	`¡¹Şd
 (
beg
, &
tigh‹r_lim
));

2261 ià(
key
->
num”ic
 || key->
humª_num”ic
)

2263 *
p
 = 
beg
 + (beg < 
lim
 && *beg == '-');

2264 
boŞ
 
found_dig™
 = 
çl£
;

2265 
ch
;

2269 
	`ISDIGIT
 (
ch
 = *
p
++))

2270 
found_dig™
 = 
Œue
;

2272 
ch
 =ğ
thou§nds_£p
);

2274 ià(
ch
 =ğ
decim®_pošt
)

2275 
	`ISDIGIT
 (
ch
 = *
p
++))

2276 
found_dig™
 = 
Œue
;

2278 ià(
found_dig™
)

2279 
tigh‹r_lim
 = 
p
 - ! (
key
->
humª_num”ic
 && 
un™_Üd”
[
ch
]);

2282 
tigh‹r_lim
 = 
lim
;

2284 *
lim
 = 
§ved
;

2285 
lim
 = 
tigh‹r_lim
;

2289 
size_t
 
off£t
 = 
	`debug_width
 (
‹xt
, 
beg
);

2290 
size_t
 
width
 = 
	`debug_width
 (
beg
, 
lim
);

2291 
	`m¬k_key
 (
off£t
, 
width
);

2292 
	}
}

2297 
	$debug_lše
 (
lše
 const *line)

2299 
keyf›ld
 cÚ¡ *
key
 = 
keyli¡
;

2302 
	`debug_key
 (
lše
, 
key
);

2303 
key
 && ((key = key->
Ãxt
è|| ! (
unique
 || 
¡abË
)));

2304 
	}
}

2308 
boŞ


2309 
	$deçuÉ_key_com·»
 (
keyf›ld
 cÚ¡ *
key
)

2311  ! (
key
->
ignÜe


2312 || 
key
->
Œª¦©e


2313 || 
key
->
sksbÏnks


2314 || 
key
->
skebÏnks


2315 || 
	`key_num”ic
 (
key
)

2316 || 
key
->
mÚth


2317 || 
key
->
v”siÚ


2318 || 
key
->
¿ndom


2321 
	}
}

2326 
	$key_to_İts
 (
keyf›ld
 cÚ¡ *
key
, *
İts
)

2328 ià(
key
->
sksbÏnks
 || key->
skebÏnks
)

2329 *
İts
++ = 'b';

2330 ià(
key
->
ignÜe
 =ğ
nÚdiùiÚ¬y
)

2331 *
İts
++ = 'd';

2332 ià(
key
->
Œª¦©e
)

2333 *
İts
++ = 'f';

2334 ià(
key
->
g’”®_num”ic
)

2335 *
İts
++ = 'g';

2336 ià(
key
->
humª_num”ic
)

2337 *
İts
++ = 'h';

2338 ià(
key
->
ignÜe
 =ğ
nÚ´štšg
)

2339 *
İts
++ = 'i';

2340 ià(
key
->
mÚth
)

2341 *
İts
++ = 'M';

2342 ià(
key
->
num”ic
)

2343 *
İts
++ = 'n';

2344 ià(
key
->
¿ndom
)

2345 *
İts
++ = 'R';

2346 ià(
key
->
»v”£
)

2347 *
İts
++ = 'r';

2348 ià(
key
->
v”siÚ
)

2349 *
İts
++ = 'V';

2350 *
İts
 = '\0';

2351 
	}
}

2356 
	$key_w¬nšgs
 (
keyf›ld
 cÚ¡ *
gkey
, 
boŞ
 
gkey_Úly
)

2358 
keyf›ld
 cÚ¡ *
key
;

2359 
keyf›ld
 
ugkey
 = *
gkey
;

2360 
keynum
 = 1;

2362 
key
 = 
keyli¡
; key; key = key->
Ãxt
, 
keynum
++)

2364 ià(
key
->
obsŞ‘e_u£d
)

2366 
size_t
 
swÜd
 = 
key
->sword;

2367 
size_t
 
ewÜd
 = 
key
->eword;

2368 
tmp
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

2372 
obuf
[
	`INT_BUFSIZE_BOUND
 (
swÜd
) * 2 + 4];

2373 
nbuf
[
	`INT_BUFSIZE_BOUND
 (
swÜd
) * 2 + 5];

2374 *
po
 = 
obuf
;

2375 *
²
 = 
nbuf
;

2377 ià(
swÜd
 =ğ
SIZE_MAX
)

2378 
swÜd
++;

2380 
po
 = 
	`¡pıy
 (¡pıy (po, "+"), 
	`umaxto¡r
 (
swÜd
, 
tmp
));

2381 
²
 = 
	`¡pıy
 (¡pıy (², "-k "), 
	`umaxto¡r
 (
swÜd
 + 1, 
tmp
));

2382 ià(
key
->
ewÜd
 !ğ
SIZE_MAX
)

2384 
	`¡pıy
 (¡pıy (
po
, " -"), 
	`umaxto¡r
 (
ewÜd
 + 1, 
tmp
));

2385 
	`¡pıy
 (¡pıy (
²
, ","),

2386 
	`umaxto¡r
 (
ewÜd
 + 1

2387 + (
key
->
ech¬
 =ğ
SIZE_MAX
), 
tmp
));

2389 
	`”rÜ
 (0, 0, 
	`_
("obsolescent key %s used; consider %s instead"),

2390 
	`quÙe_n
 (0, 
obuf
), quÙe_À(1, 
nbuf
));

2394 ià(
key
->
swÜd
 !ğ
SIZE_MAX
 && key->
ewÜd
 < key->sword)

2395 
	`”rÜ
 (0, 0, 
	`_
("key %lu ha z”Øwidth‡nd wÈbignÜed"), 
keynum
);

2398 
boŞ
 
im¶ic™_sk
 = 
	`key_num”ic
 (
key
è|| key->
mÚth
;

2399 
boŞ
 
maybe_¥aû_®igÃd
 = !
h¬d_LC_COLLATE
 && 
	`deçuÉ_key_com·»
 (
key
)

2400 && !(
key
->
sch¬
 || key->
ech¬
);

2401 
boŞ
 
lše_off£t
 = 
key
->
ewÜd
 =ğ0 && key->
ech¬
 != 0;

2402 ià(!
gkey_Úly
 && 
b
 =ğ
TAB_DEFAULT
 && !
lše_off£t


2403 && ((!
key
->
sksbÏnks
 && !(
im¶ic™_sk
 || 
maybe_¥aû_®igÃd
))

2404 || (!
key
->
sksbÏnks
 && key->
sch¬
)

2405 || (!
key
->
skebÏnks
 && key->
ech¬
)))

2406 
	`”rÜ
 (0, 0, 
	`_
("leading blanks‡re significant in key %lu; "

2407 "cÚsid”‡lsØ¥ecifyšg 'b'"), 
keynum
);

2412 ià(!
gkey_Úly
 && 
	`key_num”ic
 (
key
))

2414 
size_t
 
swÜd
 = 
key
->sword + 1;

2415 
size_t
 
ewÜd
 = 
key
->eword + 1;

2416 ià(!
swÜd
)

2417 
swÜd
++;

2418 ià(!
ewÜd
 || 
swÜd
 <ƒword)

2419 
	`”rÜ
 (0, 0, 
	`_
("key %lu is‚umeric‡nd spans multiple fields"),

2420 
keynum
);

2424 ià(
ugkey
.
ignÜe
 && (ugkey.ignÜ=ğ
key
->ignore))

2425 
ugkey
.
ignÜe
 = 
NULL
;

2426 ià(
ugkey
.
Œª¦©e
 && (ugkey.Œª¦©=ğ
key
->translate))

2427 
ugkey
.
Œª¦©e
 = 
NULL
;

2428 
ugkey
.
sksbÏnks
 &ğ!
key
->skipsblanks;

2429 
ugkey
.
skebÏnks
 &ğ!
key
->skipeblanks;

2430 
ugkey
.
mÚth
 &ğ!
key
->month;

2431 
ugkey
.
num”ic
 &ğ!
key
->numeric;

2432 
ugkey
.
g’”®_num”ic
 &ğ!
key
->general_numeric;

2433 
ugkey
.
humª_num”ic
 &ğ!
key
->human_numeric;

2434 
ugkey
.
¿ndom
 &ğ!
key
->random;

2435 
ugkey
.
v”siÚ
 &ğ!
key
->version;

2436 
ugkey
.
»v”£
 &ğ!
key
->reverse;

2441 ià(!
	`deçuÉ_key_com·»
 (&
ugkey
)

2442 || (
ugkey
.
»v”£
 && (
¡abË
 || 
unique
è&& 
keyli¡
))

2444 
boŞ
 
ugkey_»v”£
 = 
ugkey
.
»v”£
;

2445 ià(!(
¡abË
 || 
unique
))

2446 
ugkey
.
»v”£
 = 
çl£
;

2448 
İts
[ 
shÜt_İtiÚs
];

2449 
	`key_to_İts
 (&
ugkey
, 
İts
);

2450 
	`”rÜ
 (0, 0,

2451 
	`ng‘‹xt
 ("option '-%s' is ignored",

2453 
	`£Ëù_¶u¿l
 (
	`¡¾’
 (
İts
))), opts);

2454 
ugkey
.
»v”£
 = 
ugkey_»v”£
;

2456 ià(
ugkey
.
»v”£
 && !(
¡abË
 || 
unique
è&& 
keyli¡
)

2457 
	`”rÜ
 (0, 0, 
	`_
("option '-r' only‡pplieso†ast-resort comparison"));

2458 
	}
}

2464 
	$keycom·»
 (
lše
 cÚ¡ *
a
, lšcÚ¡ *
b
)

2466 
keyf›ld
 *
key
 = 
keyli¡
;

2470 *
‹x
 = 
a
->
keybeg
;

2471 *
‹xtb
 = 
b
->
keybeg
;

2472 *
lima
 = 
a
->
keylim
;

2473 *
limb
 = 
b
->
keylim
;

2475 
diff
;

2477 
Œue
)

2479 cÚ¡ *
Œª¦©e
 = 
key
->translate;

2480 
boŞ
 cÚ¡ *
ignÜe
 = 
key
->ignore;

2483 
lima
 = 
	`MAX
 (
‹x
,†ima);

2484 
limb
 = 
	`MAX
 (
‹xtb
,†imb);

2487 
size_t
 
ËÇ
 = 
lima
 - 
‹x
;

2488 
size_t
 
Ënb
 = 
limb
 - 
‹xtb
;

2490 ià(
h¬d_LC_COLLATE
 || 
	`key_num”ic
 (
key
)

2491 || 
key
->
mÚth
 || key->
¿ndom
 || key->
v”siÚ
)

2493 *

;

2494 *
tb
;

2495 
size_t
 
’a
;

2496 
size_t
 
’b
;

2498 
’da
 
	`IF_LINT
 (= 0);

2499 
’db
 
	`IF_LINT
 (= 0);

2500 *
®loÿ‹d
 
	`IF_LINT
 (ğ
NULL
);

2501 
¡ackbuf
[4000];

2503 ià(
ignÜe
 || 
Œª¦©e
)

2509 
size_t
 
i
;

2512 
size_t
 
size
 = 
ËÇ
 + 1 + 
Ënb
 + 1;

2513 ià(
size
 <ğ 
¡ackbuf
)

2514 

 = 
¡ackbuf
, 
®loÿ‹d
 = 
NULL
;

2516 

 = 
®loÿ‹d
 = 
	`xm®loc
 (
size
);

2517 
tb
 = 

 + 
ËÇ
 + 1;

2521 
’a
 = 
i
 = 0; i < 
ËÇ
; i++)

2522 ià(! (
ignÜe
 && ignÜe[
	`to_uch¬
 (
‹x
[
i
])]))

2523 

[
’a
++] = (
Œª¦©e


2524 ? 
Œª¦©e
[
	`to_uch¬
 (
‹x
[
i
])]

2525 : 
‹x
[
i
]);

2526 

[
’a
] = '\0';

2528 
’b
 = 
i
 = 0; i < 
Ënb
; i++)

2529 ià(! (
ignÜe
 && ignÜe[
	`to_uch¬
 (
‹xtb
[
i
])]))

2530 
tb
[
’b
++] = (
Œª¦©e


2531 ? 
Œª¦©e
[
	`to_uch¬
 (
‹xtb
[
i
])]

2532 : 
‹xtb
[
i
]);

2533 
tb
[
’b
] = '\0';

2538 

 = 
‹x
; 
’a
 = 
ËÇ
; 
’da
 =a[tlena];a[tlena] = '\0';

2539 
tb
 = 
‹xtb
; 
’b
 = 
Ënb
; 
’db
 =b[tlenb];b[tlenb] = '\0';

2542 ià(
key
->
num”ic
)

2543 
diff
 = 
	`numcom·»
 (

, 
tb
);

2544 ià(
key
->
g’”®_num”ic
)

2545 
diff
 = 
	`g’”®_numcom·»
 (

, 
tb
);

2546 ià(
key
->
humª_num”ic
)

2547 
diff
 = 
	`humª_numcom·»
 (

, 
tb
);

2548 ià(
key
->
mÚth
)

2549 
diff
 = 
	`g‘mÚth
 (

, 
NULL
è- g‘mÚth (
tb
, NULL);

2550 ià(
key
->
¿ndom
)

2551 
diff
 = 
	`com·»_¿ndom
 (

, 
’a
, 
tb
, 
’b
);

2552 ià(
key
->
v”siÚ
)

2553 
diff
 = 
	`fev”cmp
 (

, 
tb
);

2558 ià(
’a
 == 0)

2559 
diff
 = - 
	`NONZERO
 (
’b
);

2560 ià(
’b
 == 0)

2561 
diff
 = 1;

2563 
diff
 = 
	`xmemcŞl0
 (

, 
’a
 + 1, 
tb
, 
’b
 + 1);

2566 ià(
ignÜe
 || 
Œª¦©e
)

2567 
	`ä“
 (
®loÿ‹d
);

2570 

[
’a
] = 
’da
;

2571 
tb
[
’b
] = 
’db
;

2574 ià(
ignÜe
)

2576 
	#CMP_WITH_IGNORE
(
A
, 
B
) \

2579 
Œue
) \

2581 
‹x
 < 
lima
 && 
ignÜe
[
	`to_uch¬
 (*texta)]) \

2582 ++
‹x
; \

2583 
‹xtb
 < 
limb
 && 
ignÜe
[
	`to_uch¬
 (*textb)]) \

2584 ++
‹xtb
; \

2585 ià(! (
‹x
 < 
lima
 && 
‹xtb
 < 
limb
)) \

2587 
diff
 = 
	`to_uch¬
 (
A
è-o_uch¬ (
B
); \

2588 ià(
diff
) \

2589 
nÙ_equ®
; \

2590 ++
‹x
; \

2591 ++
‹xtb
; \

2594 
diff
 = (
‹x
 < 
lima
è- (
‹xtb
 < 
limb
); \

2596 0)

	)

2598 ià(
Œª¦©e
)

2599 
	`CMP_WITH_IGNORE
 (
Œª¦©e
[
	`to_uch¬
 (*
‹x
)],

2600 
Œª¦©e
[
	`to_uch¬
 (*
‹xtb
)]);

2602 
	`CMP_WITH_IGNORE
 (*
‹x
, *
‹xtb
);

2604 ià(
ËÇ
 == 0)

2605 
diff
 = - 
	`NONZERO
 (
Ënb
);

2606 ià(
Ënb
 == 0)

2607 
g»©”
;

2610 ià(
Œª¦©e
)

2612 
‹x
 < 
lima
 && 
‹xtb
 < 
limb
)

2614 
diff
 = (
	`to_uch¬
 (
Œª¦©e
[to_uch¬ (*
‹x
++)])

2615 - 
	`to_uch¬
 (
Œª¦©e
[to_uch¬ (*
‹xtb
++)]));

2616 ià(
diff
)

2617 
nÙ_equ®
;

2622 
diff
 = 
	`memcmp
 (
‹x
, 
‹xtb
, 
	`MIN
 (
ËÇ
, 
Ënb
));

2623 ià(
diff
)

2624 
nÙ_equ®
;

2626 
diff
 = 
ËÇ
 < 
Ënb
 ? -1 :†ena !=†enb;

2629 ià(
diff
)

2630 
nÙ_equ®
;

2632 
key
 = key->
Ãxt
;

2633 ià(! 
key
)

2637 ià(
key
->
ewÜd
 !ğ
SIZE_MAX
)

2638 
lima
 = 
	`limf›ld
 (
a
, 
key
), 
limb
 =†imf›ld (
b
, key);

2640 
lima
 = 
a
->
‹xt
 +‡->
Ëngth
 - 1, 
limb
 = 
b
->text + b->length - 1;

2642 ià(
key
->
swÜd
 !ğ
SIZE_MAX
)

2643 
‹x
 = 
	`begf›ld
 (
a
, 
key
), 
‹xtb
 = begf›ld (
b
, key);

2646 
‹x
 = 
a
->
‹xt
, 
‹xtb
 = 
b
->text;

2647 ià(
key
->
sksbÏnks
)

2649 
‹x
 < 
lima
 && 
bÏnks
[
	`to_uch¬
 (*texta)])

2650 ++
‹x
;

2651 
‹xtb
 < 
limb
 && 
bÏnks
[
	`to_uch¬
 (*textb)])

2652 ++
‹xtb
;

2659 
g»©”
:

2660 
diff
 = 1;

2661 
nÙ_equ®
:

2662  
key
->
»v”£
 ? -
diff
 : diff;

2663 
	}
}

2669 
	$com·»
 (
lše
 cÚ¡ *
a
, lšcÚ¡ *
b
)

2671 
diff
;

2672 
size_t
 
®’
, 
bËn
;

2677 ià(
keyli¡
)

2679 
diff
 = 
	`keycom·»
 (
a
, 
b
);

2680 ià(
diff
 || 
unique
 || 
¡abË
)

2681  
diff
;

2686 
®’
 = 
a
->
Ëngth
 - 1, 
bËn
 = 
b
->length - 1;

2688 ià(
®’
 == 0)

2689 
diff
 = - 
	`NONZERO
 (
bËn
);

2690 ià(
bËn
 == 0)

2691 
diff
 = 1;

2692 ià(
h¬d_LC_COLLATE
)

2698 
diff
 = 
	`xmemcŞl0
 (
a
->
‹xt
, 
®’
 + 1, 
b
->‹xt, 
bËn
 + 1);

2700 ià(! (
diff
 = 
	`memcmp
 (
a
->
‹xt
, 
b
->‹xt, 
	`MIN
 (
®’
, 
bËn
))))

2701 
diff
 = 
®’
 < 
bËn
 ? -1 :‡len != blen;

2703  
»v”£
 ? -
diff
 : diff;

2704 
	}
}

2712 
	$wr™e_lše
 (
lše
 cÚ¡ *lše, 
FILE
 *
å
, cÚ¡ *
ouut_fe
)

2714 *
buf
 = 
lše
->
‹xt
;

2715 
size_t
 
n_by‹s
 = 
lše
->
Ëngth
;

2716 *
ebuf
 = 
buf
 + 
n_by‹s
;

2718 ià(!
ouut_fe
 && 
debug
)

2721 cÚ¡ *
c
 = 
buf
;

2723 
c
 < 
ebuf
)

2725 
wc
 = *
c
++;

2726 ià(
wc
 == '\t')

2727 
wc
 = '>';

2728 ià(
c
 =ğ
ebuf
)

2729 
wc
 = '\n';

2730 ià(
	`åutc
 (
wc
, 
å
è=ğ
EOF
)

2731 
	`d›
 (
	`_
("wr™çed"), 
ouut_fe
);

2734 
	`debug_lše
 (
lše
);

2738 
ebuf
[-1] = 
eŞch¬
;

2739 ià(
	`fwr™e
 (
buf
, 1, 
n_by‹s
, 
å
) !=‚_bytes)

2740 
	`d›
 (
	`_
("wr™çed"), 
ouut_fe
);

2741 
ebuf
[-1] = '\0';

2743 
	}
}

2750 
boŞ


2751 
	$check
 (cÚ¡ *
fe_Çme
, 
checkÚly
)

2753 
FILE
 *
å
 = 
	`xfİ’
 (
fe_Çme
, "r");

2754 
bufãr
 
buf
;

2755 
lše
 
‹mp
;

2756 
size_t
 
®loc
 = 0;

2757 
uštmax_t
 
lše_numb”
 = 0;

2758 
keyf›ld
 cÚ¡ *
key
 = 
keyli¡
;

2759 
boŞ
 
nÚunique
 = ! 
unique
;

2760 
boŞ
 
Üd”ed
 = 
Œue
;

2762 
	`š™buf
 (&
buf
,  (
lše
),

2763 
	`MAX
 (
m”ge_bufãr_size
, 
sÜt_size
));

2764 
‹mp
.
‹xt
 = 
NULL
;

2766 
	`flbuf
 (&
buf
, 
å
, 
fe_Çme
))

2768 
lše
 cÚ¡ *lšğ
	`bufãr_lš–im
 (&
buf
);

2769 
lše
 cÚ¡ *
lšeba£
 =†š- 
buf
.
Æšes
;

2773 ià(
®loc
 && 
nÚunique
 <ğ
	`com·»
 (&
‹mp
, 
lše
 - 1))

2775 
found_disÜd”
:

2777 ià(
checkÚly
 == 'c')

2779 
lše
 cÚ¡ *
disÜd”_lše
 =†ine - 1;

2780 
uštmax_t
 
disÜd”_lše_numb”
 =

2781 
	`bufãr_lš–im
 (&
buf
è- 
disÜd”_lše
 + 
lše_numb”
;

2782 
hr_buf
[
	`INT_BUFSIZE_BOUND
 (
disÜd”_lše_numb”
)];

2783 
	`årštf
 (
¡d”r
, 
	`_
("%s: %s:%s: disorder: "),

2784 
´og¿m_Çme
, 
fe_Çme
,

2785 
	`umaxto¡r
 (
disÜd”_lše_numb”
, 
hr_buf
));

2786 
	`wr™e_lše
 (
disÜd”_lše
, 
¡d”r
, 
	`_
("standardƒrror"));

2789 
Üd”ed
 = 
çl£
;

2795 
lšeba£
 < --
lše
)

2796 ià(
nÚunique
 <ğ
	`com·»
 (
lše
,†ine - 1))

2797 
found_disÜd”
;

2799 
lše_numb”
 +ğ
buf
.
Æšes
;

2802 ià(
®loc
 < 
lše
->
Ëngth
)

2806 
®loc
 *= 2;

2807 ià(! 
®loc
)

2809 
®loc
 = 
lše
->
Ëngth
;

2813 
®loc
 < 
lše
->
Ëngth
);

2815 
	`ä“
 (
‹mp
.
‹xt
);

2816 
‹mp
.
‹xt
 = 
	`xm®loc
 (
®loc
);

2818 
	`memıy
 (
‹mp
.
‹xt
, 
lše
->‹xt,†še->
Ëngth
);

2819 
‹mp
.
Ëngth
 = 
lše
->length;

2820 ià(
key
)

2822 
‹mp
.
keybeg
 =emp.
‹xt
 + (
lše
->keybeg -†ine->text);

2823 
‹mp
.
keylim
 =emp.
‹xt
 + (
lše
->keylim -†ine->text);

2827 
	`xfşo£
 (
å
, 
fe_Çme
);

2828 
	`ä“
 (
buf
.buf);

2829 
	`ä“
 (
‹mp
.
‹xt
);

2830  
Üd”ed
;

2831 
	}
}

2838 
size_t


2839 
	$İ’_šput_fes
 (
sÜtfe
 *
fes
, 
size_t
 
nfes
, 
FILE
 ***
pås
)

2841 
FILE
 **
ås
 = *
pås
 = 
	`xnm®loc
 (
nfes
,  *fps);

2842 
i
;

2845 
i
 = 0; i < 
nfes
; i++)

2847 
ås
[
i
] = (
fes
[i].
‹mp
 && fes[i].‹mp->
¡©e
 !ğ
UNCOMPRESSED


2848 ? 
	`İ’_‹mp
 (
fes
[
i
].
‹mp
)

2849 : 
	`¡»am_İ’
 (
fes
[
i
].
Çme
, "r"));

2850 ià(!
ås
[
i
])

2854  
i
;

2855 
	}
}

2866 
	$m”geås
 (
sÜtfe
 *
fes
, 
size_t
 
Áemps
, size_ˆ
nfes
,

2867 
FILE
 *
oå
, cÚ¡ *
ouut_fe
, FILE **
ås
)

2869 
bufãr
 *bufã¸ğ
	`xnm®loc
 (
nfes
,  *buffer);

2871 
lše
 
§ved
;

2872 
lše
 cÚ¡ *
§vedlše
 = 
NULL
;

2874 
size_t
 
§v—Îoc
 = 0;

2875 
lše
 cÚ¡ **
cur
 = 
	`xnm®loc
 (
nfes
,  *cur);

2877 
lše
 cÚ¡ **
ba£
 = 
	`xnm®loc
 (
nfes
,  *base);

2879 
size_t
 *
Üd
 = 
	`xnm®loc
 (
nfes
,  *ord);

2883 
size_t
 
i
;

2884 
size_t
 
j
;

2885 
size_t
 
t
;

2886 
keyf›ld
 cÚ¡ *
key
 = 
keyli¡
;

2887 
§ved
.
‹xt
 = 
NULL
;

2890 
i
 = 0; i < 
nfes
; )

2892 
	`š™buf
 (&
bufãr
[
i
],  (
lše
),

2893 
	`MAX
 (
m”ge_bufãr_size
, 
sÜt_size
 / 
nfes
));

2894 ià(
	`flbuf
 (&
bufãr
[
i
], 
ås
[i], 
fes
[i].
Çme
))

2896 
lše
 cÚ¡ *
lš–im
 = 
	`bufãr_lš–im
 (&
bufãr
[
i
]);

2897 
cur
[
i
] = 
lš–im
 - 1;

2898 
ba£
[
i
] = 
lš–im
 - 
bufãr
[i].
Æšes
;

2899 
i
++;

2904 
	`xfşo£
 (
ås
[
i
], 
fes
[i].
Çme
);

2905 ià(
i
 < 
Áemps
)

2907 
Áemps
--;

2908 
	`z­‹mp
 (
fes
[
i
].
Çme
);

2910 
	`ä“
 (
bufãr
[
i
].
buf
);

2911 --
nfes
;

2912 
j
 = 
i
; j < 
nfes
; ++j)

2914 
fes
[
j
] = files[j + 1];

2915 
ås
[
j
] = fps[j + 1];

2923 
i
 = 0; i < 
nfes
; ++i)

2924 
Üd
[
i
] = i;

2925 
i
 = 1; i < 
nfes
; ++i)

2926 ià(0 < 
	`com·»
 (
cur
[
Üd
[
i
 - 1]], cur[ord[i]]))

2927 
t
 = 
Üd
[
i
 - 1], ord[i - 1] = ord[i], ord[i] =, i = 0;

2930 
nfes
)

2932 
lše
 cÚ¡ *
sm®Ë¡
 = 
cur
[
Üd
[0]];

2936 ià(
unique
)

2938 ià(
§vedlše
 && 
	`com·»
 (§vedlše, 
sm®Ë¡
))

2940 
§vedlše
 = 
NULL
;

2941 
	`wr™e_lše
 (&
§ved
, 
oå
, 
ouut_fe
);

2943 ià(!
§vedlše
)

2945 
§vedlše
 = &
§ved
;

2946 ià(
§v—Îoc
 < 
sm®Ë¡
->
Ëngth
)

2949 ià(! 
§v—Îoc
)

2951 
§v—Îoc
 = 
sm®Ë¡
->
Ëngth
;

2954 (
§v—Îoc
 *ğ2è< 
sm®Ë¡
->
Ëngth
);

2956 
	`ä“
 (
§ved
.
‹xt
);

2957 
§ved
.
‹xt
 = 
	`xm®loc
 (
§v—Îoc
);

2959 
§ved
.
Ëngth
 = 
sm®Ë¡
->length;

2960 
	`memıy
 (
§ved
.
‹xt
, 
sm®Ë¡
->‹xt, saved.
Ëngth
);

2961 ià(
key
)

2963 
§ved
.
keybeg
 =

2964 
§ved
.
‹xt
 + (
sm®Ë¡
->
keybeg
 - smallest->text);

2965 
§ved
.
keylim
 =

2966 
§ved
.
‹xt
 + (
sm®Ë¡
->
keylim
 - smallest->text);

2971 
	`wr™e_lše
 (
sm®Ë¡
, 
oå
, 
ouut_fe
);

2974 ià(
ba£
[
Üd
[0]] < 
sm®Ë¡
)

2975 
cur
[
Üd
[0]] = 
sm®Ë¡
 - 1;

2978 ià(
	`flbuf
 (&
bufãr
[
Üd
[0]], 
ås
[Üd[0]], 
fes
[Üd[0]].
Çme
))

2980 
lše
 cÚ¡ *
lš–im
 = 
	`bufãr_lš–im
 (&
bufãr
[
Üd
[0]]);

2981 
cur
[
Üd
[0]] = 
lš–im
 - 1;

2982 
ba£
[
Üd
[0]] = 
lš–im
 - 
bufãr
[Üd[0]].
Æšes
;

2987 
i
 = 1; i < 
nfes
; ++i)

2988 ià(
Üd
[
i
] > ord[0])

2989 --
Üd
[
i
];

2990 --
nfes
;

2991 
	`xfşo£
 (
ås
[
Üd
[0]], 
fes
[Üd[0]].
Çme
);

2992 ià(
Üd
[0] < 
Áemps
)

2994 
Áemps
--;

2995 
	`z­‹mp
 (
fes
[
Üd
[0]].
Çme
);

2997 
	`ä“
 (
bufãr
[
Üd
[0]].
buf
);

2998 
i
 = 
Üd
[0]; i < 
nfes
; ++i)

3000 
ås
[
i
] = fps[i + 1];

3001 
fes
[
i
] = files[i + 1];

3002 
bufãr
[
i
] = buffer[i + 1];

3003 
cur
[
i
] = cur[i + 1];

3004 
ba£
[
i
] = base[i + 1];

3006 
i
 = 0; i < 
nfes
; ++i)

3007 
Üd
[
i
] = ord[i + 1];

3017 
size_t
 
lo
 = 1;

3018 
size_t
 
hi
 = 
nfes
;

3019 
size_t
 
´obe
 = 
lo
;

3020 
size_t
 
Üd0
 = 
Üd
[0];

3021 
size_t
 
couÁ_of_sm®Ër_lšes
;

3023 
lo
 < 
hi
)

3025 
cmp
 = 
	`com·»
 (
cur
[
Üd0
], cur[
Üd
[
´obe
]]);

3026 ià(
cmp
 < 0 || (cm°=ğ0 && 
Üd0
 < 
Üd
[
´obe
]))

3027 
hi
 = 
´obe
;

3029 
lo
 = 
´obe
 + 1;

3030 
´obe
 = (
lo
 + 
hi
) / 2;

3033 
couÁ_of_sm®Ër_lšes
 = 
lo
 - 1;

3034 
j
 = 0; j < 
couÁ_of_sm®Ër_lšes
; j++)

3035 
Üd
[
j
] = ord[j + 1];

3036 
Üd
[
couÁ_of_sm®Ër_lšes
] = 
Üd0
;

3040 ià(
unique
 && 
§vedlše
)

3042 
	`wr™e_lše
 (&
§ved
, 
oå
, 
ouut_fe
);

3043 
	`ä“
 (
§ved
.
‹xt
);

3046 
	`xfşo£
 (
oå
, 
ouut_fe
);

3047 
	`ä“
 (
ås
);

3048 
	`ä“
 (
bufãr
);

3049 
	`ä“
 (
Üd
);

3050 
	`ä“
 (
ba£
);

3051 
	`ä“
 (
cur
);

3052 
	}
}

3064 
size_t


3065 
	$m”gefes
 (
sÜtfe
 *
fes
, 
size_t
 
Áemps
, size_ˆ
nfes
,

3066 
FILE
 *
oå
, cÚ¡ *
ouut_fe
)

3068 
FILE
 **
ås
;

3069 
size_t
 
nİ’ed
 = 
	`İ’_šput_fes
 (
fes
, 
nfes
, &
ås
);

3070 ià(
nİ’ed
 < 
nfes
 &&‚opened < 2)

3071 
	`d›
 (
	`_
("İ’ faed"), 
fes
[
nİ’ed
].
Çme
);

3072 
	`m”geås
 (
fes
, 
Áemps
, 
nİ’ed
, 
oå
, 
ouut_fe
, 
ås
);

3073  
nİ’ed
;

3074 
	}
}

3083 
	$m”g–šes
 (
lše
 *
»¡riù
 
t
, 
size_t
 
Æšes
,

3084 
lše
 cÚ¡ *
»¡riù
 
lo
)

3086 
size_t
 
Æo
 = 
Æšes
 / 2;

3087 
size_t
 
nhi
 = 
Æšes
 - 
Æo
;

3088 
lše
 *
hi
 = 
t
 - 
Æo
;

3090 
Œue
)

3091 ià(
	`com·»
 (
lo
 - 1, 
hi
 - 1) <= 0)

3093 *--
t
 = *--
lo
;

3094 ià(! --
Æo
)

3103 *--
t
 = *--
hi
;

3104 ià(! --
nhi
)

3107 *--
t
 = *--
lo
;

3108 --
Æo
);

3113 
	}
}

3130 
	$£qu’tŸl_sÜt
 (
lše
 *
»¡riù
 
lšes
, 
size_t
 
Æšes
,

3131 
lše
 *
»¡riù
 
‹mp
, 
boŞ
 
to_‹mp
)

3133 ià(
Æšes
 == 2)

3138 
sw­
 = (0 < 
	`com·»
 (&
lšes
[-1], &lines[-2]));

3139 ià(
to_‹mp
)

3141 
‹mp
[-1] = 
lšes
[-1 - 
sw­
];

3142 
‹mp
[-2] = 
lšes
[-2 + 
sw­
];

3144 ià(
sw­
)

3146 
‹mp
[-1] = 
lšes
[-1];

3147 
lšes
[-1] =†ines[-2];

3148 
lšes
[-2] = 
‹mp
[-1];

3153 
size_t
 
Æo
 = 
Æšes
 / 2;

3154 
size_t
 
nhi
 = 
Æšes
 - 
Æo
;

3155 
lše
 *
lo
 = 
lšes
;

3156 
lše
 *
hi
 = 
lšes
 - 
Æo
;

3158 
	`£qu’tŸl_sÜt
 (
hi
, 
nhi
, 
‹mp
 - (
to_‹mp
 ? 
Æo
 : 0),o_temp);

3159 ià(1 < 
Æo
)

3160 
	`£qu’tŸl_sÜt
 (
lo
, 
Æo
, 
‹mp
, !
to_‹mp
);

3161 ià(!
to_‹mp
)

3162 
‹mp
[-1] = 
lo
[-1];

3164 
lše
 *
de¡
;

3165 
lše
 cÚ¡ *
sÜ‹d_lo
;

3166 ià(
to_‹mp
)

3168 
de¡
 = 
‹mp
;

3169 
sÜ‹d_lo
 = 
lšes
;

3173 
de¡
 = 
lšes
;

3174 
sÜ‹d_lo
 = 
‹mp
;

3176 
	`m”g–šes
 (
de¡
, 
Æšes
, 
sÜ‹d_lo
);

3178 
	}
}

3180 
m”ge_node
 *
š™_node
 (m”ge_nod*
»¡riù
,

3181 
m”ge_node
 *
»¡riù
,

3182 
lše
 *, 
size_t
, size_t, 
boŞ
);

3187 
m”ge_node
 *

3188 
	$m”ge_Œ“_š™
 (
size_t
 
Áh»ads
, size_ˆ
Æšes
, 
lše
 *
de¡
)

3190 
m”ge_node
 *
m”ge_Œ“
 = 
	`xm®loc
 (2 *  *m”ge_Œ“ * 
Áh»ads
);

3192 
m”ge_node
 *
roÙ
 = 
m”ge_Œ“
;

3193 
roÙ
->
lo
 =„oÙ->
hi
 =„oÙ->
’d_lo
 =„oÙ->
’d_hi
 = 
NULL
;

3194 
roÙ
->
de¡
 = 
NULL
;

3195 
roÙ
->
Æo
 =„oÙ->
nhi
 = 
Æšes
;

3196 
roÙ
->
·»Á
 = 
NULL
;

3197 
roÙ
->
Ëv–
 = 
MERGE_END
;

3198 
roÙ
->
queued
 = 
çl£
;

3199 
	`±h»ad_mu‹x_š™
 (&
roÙ
->
lock
, 
NULL
);

3201 
	`š™_node
 (
roÙ
,„oÙ + 1, 
de¡
, 
Áh»ads
, 
Æšes
, 
çl£
);

3202  
m”ge_Œ“
;

3203 
	}
}

3207 
	$m”ge_Œ“_de¡roy
 (
m”ge_node
 *
m”ge_Œ“
)

3209 
	`ä“
 (
m”ge_Œ“
);

3210 
	}
}

3219 
m”ge_node
 *

3220 
	$š™_node
 (
m”ge_node
 *
»¡riù
 
·»Á
,

3221 
m”ge_node
 *
»¡riù
 
node_poŞ
,

3222 
lše
 *
de¡
, 
size_t
 
Áh»ads
,

3223 
size_t
 
tÙ®_lšes
, 
boŞ
 
is_lo_chd
)

3225 
size_t
 
Æšes
 = (
is_lo_chd
 ? 
·»Á
->
Æo
 :…¬’t->
nhi
);

3226 
size_t
 
Æo
 = 
Æšes
 / 2;

3227 
size_t
 
nhi
 = 
Æšes
 - 
Æo
;

3228 
lše
 *
lo
 = 
de¡
 - 
tÙ®_lšes
;

3229 
lše
 *
hi
 = 
lo
 - 
Æo
;

3230 
lše
 **
·»Á_’d
 = (
is_lo_chd
 ? &
·»Á
->
’d_lo
 : &·»Á->
’d_hi
);

3232 
m”ge_node
 *
node
 = 
node_poŞ
++;

3233 
node
->
lo
 =‚ode->
’d_lo
 =†o;

3234 
node
->
hi
 =‚ode->
’d_hi
 = hi;

3235 
node
->
de¡
 = 
·»Á_’d
;

3236 
node
->
Æo
 =‚lo;

3237 
node
->
nhi
 =‚hi;

3238 
node
->
·»Á
 =…arent;

3239 
node
->
Ëv–
 = 
·»Á
->level + 1;

3240 
node
->
queued
 = 
çl£
;

3241 
	`±h»ad_mu‹x_š™
 (&
node
->
lock
, 
NULL
);

3243 ià(
Áh»ads
 > 1)

3245 
size_t
 
lo_th»ads
 = 
Áh»ads
 / 2;

3246 
size_t
 
hi_th»ads
 = 
Áh»ads
 - 
lo_th»ads
;

3247 
node
->
lo_chd
 = 
node_poŞ
;

3248 
node_poŞ
 = 
	`š™_node
 (
node
,‚ode_poŞ, 
lo
, 
lo_th»ads
,

3249 
tÙ®_lšes
, 
Œue
);

3250 
node
->
hi_chd
 = 
node_poŞ
;

3251 
node_poŞ
 = 
	`š™_node
 (
node
,‚ode_poŞ, 
hi
, 
hi_th»ads
,

3252 
tÙ®_lšes
, 
çl£
);

3256 
node
->
lo_chd
 = 
NULL
;

3257 
node
->
hi_chd
 = 
NULL
;

3259  
node_poŞ
;

3260 
	}
}

3266 
	$com·»_nodes
 (cÚ¡ *
a
, cÚ¡ *
b
)

3268 
m”ge_node
 cÚ¡ *
nod—
 = 
a
;

3269 
m”ge_node
 cÚ¡ *
nodeb
 = 
b
;

3270 ià(
nod—
->
Ëv–
 =ğ
nodeb
->level)

3271  (
nod—
->
Æo
 +‚od—->
nhi
è< (
nodeb
->nlo +‚odeb->nhi);

3272  
nod—
->
Ëv–
 < 
nodeb
->level;

3273 
	}
}

3277 
šlše
 

3278 
	$lock_node
 (
m”ge_node
 *
node
)

3280 
	`±h»ad_mu‹x_lock
 (&
node
->
lock
);

3281 
	}
}

3285 
šlše
 

3286 
	$uÆock_node
 (
m”ge_node
 *
node
)

3288 
	`±h»ad_mu‹x_uÆock
 (&
node
->
lock
);

3289 
	}
}

3294 
	$queue_de¡roy
 (
m”ge_node_queue
 *
queue
)

3296 
	`h—p_ä“
 (
queue
->
´iÜ™y_queue
);

3297 
	`±h»ad_cÚd_de¡roy
 (&
queue
->
cÚd
);

3298 
	`±h»ad_mu‹x_de¡roy
 (&
queue
->
mu‹x
);

3299 
	}
}

3305 
	$queue_š™
 (
m”ge_node_queue
 *
queue
, 
size_t
 
Áh»ads
)

3310 
queue
->
´iÜ™y_queue
 = 
	`h—p_®loc
 (
com·»_nodes
, 2 * 
Áh»ads
);

3311 
	`±h»ad_mu‹x_š™
 (&
queue
->
mu‹x
, 
NULL
);

3312 
	`±h»ad_cÚd_š™
 (&
queue
->
cÚd
, 
NULL
);

3313 
	}
}

3319 
	$queue_š£¹
 (
m”ge_node_queue
 *
queue
, 
m”ge_node
 *
node
)

3321 
	`±h»ad_mu‹x_lock
 (&
queue
->
mu‹x
);

3322 
	`h—p_š£¹
 (
queue
->
´iÜ™y_queue
, 
node
);

3323 
node
->
queued
 = 
Œue
;

3324 
	`±h»ad_mu‹x_uÆock
 (&
queue
->
mu‹x
);

3325 
	`±h»ad_cÚd_sigÇl
 (&
queue
->
cÚd
);

3326 
	}
}

3330 
m”ge_node
 *

3331 
	$queue_pİ
 (
m”ge_node_queue
 *
queue
)

3333 
m”ge_node
 *
node
;

3334 
	`±h»ad_mu‹x_lock
 (&
queue
->
mu‹x
);

3335 ! (
node
 = 
	`h—p_»move_tİ
 (
queue
->
´iÜ™y_queue
)))

3336 
	`±h»ad_cÚd_wa™
 (&
queue
->
cÚd
, &queue->
mu‹x
);

3337 
	`±h»ad_mu‹x_uÆock
 (&
queue
->
mu‹x
);

3338 
	`lock_node
 (
node
);

3339 
node
->
queued
 = 
çl£
;

3340  
node
;

3341 
	}
}

3351 
	$wr™e_unique
 (
lše
 cÚ¡ *lše, 
FILE
 *
tå
, cÚ¡ *
‹mp_ouut
)

3353 ià(
unique
)

3355 ià(
§ved_lše
.
‹xt
 && ! 
	`com·»
 (
lše
, &saved_line))

3357 
§ved_lše
 = *
lše
;

3360 
	`wr™e_lše
 (
lše
, 
tå
, 
‹mp_ouut
);

3361 
	}
}

3371 
	$m”g–šes_node
 (
m”ge_node
 *
»¡riù
 
node
, 
size_t
 
tÙ®_lšes
,

3372 
FILE
 *
tå
, cÚ¡ *
‹mp_ouut
)

3374 
lše
 *
lo_Üig
 = 
node
->
lo
;

3375 
lše
 *
hi_Üig
 = 
node
->
hi
;

3376 
size_t
 
to_m”ge
 = 
	`MAX_MERGE
 (
tÙ®_lšes
, 
node
->
Ëv–
);

3377 
size_t
 
m”ged_lo
;

3378 
size_t
 
m”ged_hi
;

3380 ià(
node
->
Ëv–
 > 
MERGE_ROOT
)

3383 
lše
 *
de¡
 = *
node
->dest;

3384 
node
->
lo
 !ğnode->
’d_lo
 &&‚ode->
hi
 !ğnode->
’d_hi
 && 
to_m”ge
--)

3385 ià(
	`com·»
 (
node
->
lo
 - 1,‚ode->
hi
 - 1) <= 0)

3386 *--
de¡
 = *--
node
->
lo
;

3388 *--
de¡
 = *--
node
->
hi
;

3390 
m”ged_lo
 = 
lo_Üig
 - 
node
->
lo
;

3391 
m”ged_hi
 = 
hi_Üig
 - 
node
->
hi
;

3393 ià(
node
->
nhi
 =ğ
m”ged_hi
)

3394 
node
->
lo
 !ğnode->
’d_lo
 && 
to_m”ge
--)

3395 *--
de¡
 = *--
node
->
lo
;

3396 ià(
node
->
Æo
 =ğ
m”ged_lo
)

3397 
node
->
hi
 !ğnode->
’d_hi
 && 
to_m”ge
--)

3398 *--
de¡
 = *--
node
->
hi
;

3399 *
node
->
de¡
 = dest;

3404 
node
->
lo
 !ğnode->
’d_lo
 &&‚ode->
hi
 !ğnode->
’d_hi
 && 
to_m”ge
--)

3406 ià(
	`com·»
 (
node
->
lo
 - 1,‚ode->
hi
 - 1) <= 0)

3407 
	`wr™e_unique
 (--
node
->
lo
, 
tå
, 
‹mp_ouut
);

3409 
	`wr™e_unique
 (--
node
->
hi
, 
tå
, 
‹mp_ouut
);

3412 
m”ged_lo
 = 
lo_Üig
 - 
node
->
lo
;

3413 
m”ged_hi
 = 
hi_Üig
 - 
node
->
hi
;

3415 ià(
node
->
nhi
 =ğ
m”ged_hi
)

3417 
node
->
lo
 !ğnode->
’d_lo
 && 
to_m”ge
--)

3418 
	`wr™e_unique
 (--
node
->
lo
, 
tå
, 
‹mp_ouut
);

3420 ià(
node
->
Æo
 =ğ
m”ged_lo
)

3422 
node
->
hi
 !ğnode->
’d_hi
 && 
to_m”ge
--)

3423 
	`wr™e_unique
 (--
node
->
hi
, 
tå
, 
‹mp_ouut
);

3428 
m”ged_lo
 = 
lo_Üig
 - 
node
->
lo
;

3429 
m”ged_hi
 = 
hi_Üig
 - 
node
->
hi
;

3430 
node
->
Æo
 -ğ
m”ged_lo
;

3431 
node
->
nhi
 -ğ
m”ged_hi
;

3432 
	}
}

3439 
	$queue_check_š£¹
 (
m”ge_node_queue
 *
queue
, 
m”ge_node
 *
node
)

3441 ià(! 
node
->
queued
)

3443 
boŞ
 
lo_ava
 = (
node
->
lo
 -‚ode->
’d_lo
) != 0;

3444 
boŞ
 
hi_ava
 = (
node
->
hi
 -‚ode->
’d_hi
) != 0;

3445 ià(
lo_ava
 ? 
hi_ava
 || ! 
node
->
nhi
 : hi_ava && !‚ode->
Æo
)

3446 
	`queue_š£¹
 (
queue
, 
node
);

3448 
	}
}

3453 
	$queue_check_š£¹_·»Á
 (
m”ge_node_queue
 *
queue
,

3454 
m”ge_node
 *
node
)

3456 ià(
node
->
Ëv–
 > 
MERGE_ROOT
)

3458 
	`lock_node
 (
node
->
·»Á
);

3459 
	`queue_check_š£¹
 (
queue
, 
node
->
·»Á
);

3460 
	`uÆock_node
 (
node
->
·»Á
);

3462 ià(
node
->
Æo
 +‚ode->
nhi
 == 0)

3466 
	`queue_š£¹
 (
queue
, 
node
->
·»Á
);

3468 
	}
}

3477 
	$m”ge_loİ
 (
m”ge_node_queue
 *
queue
,

3478 
size_t
 
tÙ®_lšes
, 
FILE
 *
tå
, cÚ¡ *
‹mp_ouut
)

3482 
m”ge_node
 *
node
 = 
	`queue_pİ
 (
queue
);

3484 ià(
node
->
Ëv–
 =ğ
MERGE_END
)

3486 
	`uÆock_node
 (
node
);

3488 
	`queue_š£¹
 (
queue
, 
node
);

3491 
	`m”g–šes_node
 (
node
, 
tÙ®_lšes
, 
tå
, 
‹mp_ouut
);

3492 
	`queue_check_š£¹
 (
queue
, 
node
);

3493 
	`queue_check_š£¹_·»Á
 (
queue
, 
node
);

3495 
	`uÆock_node
 (
node
);

3497 
	}
}

3500 
sÜšes
 (
lše
 *
»¡riù
, 
size_t
, size_t,

3501 
m”ge_node
 *, 
m”ge_node_queue
 *,

3502 
FILE
 *, const *);

3506 
	sth»ad_¬gs


3510 
lše
 *
	mlšes
;

3513 
size_t
 
	mÁh»ads
;

3516 
size_t
 cÚ¡ 
	mtÙ®_lšes
;

3520 
m”ge_node
 *cÚ¡ 
	mnode
;

3524 
m”ge_node_queue
 *cÚ¡ 
	mqueue
;

3528 
FILE
 *
	mtå
;

3529 cÚ¡ *
	mouut_‹mp
;

3535 
	$sÜšes_th»ad
 (*
d©a
)

3537 
th»ad_¬gs
 cÚ¡ *
¬gs
 = 
d©a
;

3538 
	`sÜšes
 (
¬gs
->
lšes
,‡rgs->
Áh»ads
,‡rgs->
tÙ®_lšes
,

3539 
¬gs
->
node
,‡rgs->
queue
,‡rgs->
tå
,

3540 
¬gs
->
ouut_‹mp
);

3541  
NULL
;

3542 
	}
}

3569 
	$sÜšes
 (
lše
 *
»¡riù
 
lšes
, 
size_t
 
Áh»ads
,

3570 
size_t
 
tÙ®_lšes
, 
m”ge_node
 *
node
,

3571 
m”ge_node_queue
 *
queue
, 
FILE
 *
tå
, cÚ¡ *
‹mp_ouut
)

3573 
size_t
 
Æšes
 = 
node
->
Æo
 +‚ode->
nhi
;

3576 
size_t
 
lo_th»ads
 = 
Áh»ads
 / 2;

3577 
size_t
 
hi_th»ads
 = 
Áh»ads
 - 
lo_th»ads
;

3578 
±h»ad_t
 
th»ad
;

3579 
th»ad_¬gs
 
¬gs
 = {
lšes
, 
lo_th»ads
, 
tÙ®_lšes
,

3580 
node
->
lo_chd
, 
queue
, 
tå
, 
‹mp_ouut
};

3582 ià(
Áh»ads
 > 1 && 
SUBTHREAD_LINES_HEURISTIC
 <ğ
Æšes


3583 && 
	`±h»ad_ü—‹
 (&
th»ad
, 
NULL
, 
sÜšes_th»ad
, &
¬gs
) == 0)

3585 
	`sÜšes
 (
lšes
 - 
node
->
Æo
, 
hi_th»ads
, 
tÙ®_lšes
,

3586 
node
->
hi_chd
, 
queue
, 
tå
, 
‹mp_ouut
);

3587 
	`±h»ad_još
 (
th»ad
, 
NULL
);

3593 
size_t
 
Æo
 = 
node
->nlo;

3594 
size_t
 
nhi
 = 
node
->nhi;

3595 
lše
 *
‹mp
 = 
lšes
 - 
tÙ®_lšes
;

3596 ià(1 < 
nhi
)

3597 
	`£qu’tŸl_sÜt
 (
lšes
 - 
Æo
, 
nhi
, 
‹mp
 -‚lØ/ 2, 
çl£
);

3598 ià(1 < 
Æo
)

3599 
	`£qu’tŸl_sÜt
 (
lšes
, 
Æo
, 
‹mp
, 
çl£
);

3602 
node
->
lo
 = 
lšes
;

3603 
node
->
hi
 = 
lšes
 - 
Æo
;

3604 
node
->
’d_lo
 = 
lšes
 - 
Æo
;

3605 
node
->
’d_hi
 = 
lšes
 - 
Æo
 - 
nhi
;

3607 
	`queue_š£¹
 (
queue
, 
node
);

3608 
	`m”ge_loİ
 (
queue
, 
tÙ®_lšes
, 
tå
, 
‹mp_ouut
);

3611 
	`±h»ad_mu‹x_de¡roy
 (&
node
->
lock
);

3612 
	}
}

3632 
	$avoid_Œashšg_šput
 (
sÜtfe
 *
fes
, 
size_t
 
Áemps
,

3633 
size_t
 
nfes
, cÚ¡ *
outfe
)

3635 
size_t
 
i
;

3636 
boŞ
 
gÙ_out¡©
 = 
çl£
;

3637 
¡©
 
out¡©
;

3638 
‹m²ode
 *
‹mpcİy
 = 
NULL
;

3640 
i
 = 
Áemps
; i < 
nfes
; i++)

3642 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
fes
[
i
].
Çme
, "-");

3643 
boŞ
 
§me
;

3644 
¡©
 
š¡©
;

3646 ià(
outfe
 && 
	`STREQ
 (outfe, 
fes
[
i
].
Çme
è&& !
is_¡dš
)

3647 
§me
 = 
Œue
;

3650 ià(! 
gÙ_out¡©
)

3652 ià(
	`f¡©
 (
STDOUT_FILENO
, &
out¡©
) != 0)

3654 
gÙ_out¡©
 = 
Œue
;

3657 
§me
 = (((
is_¡dš


3658 ? 
	`f¡©
 (
STDIN_FILENO
, &
š¡©
)

3659 : 
	`¡©
 (
fes
[
i
].
Çme
, &
š¡©
))

3661 && 
	`SAME_INODE
 (
š¡©
, 
out¡©
));

3664 ià(
§me
)

3666 ià(! 
‹mpcİy
)

3668 
FILE
 *
táp
;

3669 
‹mpcİy
 = 
	`ü—‹_‹mp
 (&
táp
);

3670 
	`m”gefes
 (&
fes
[
i
], 0, 1, 
táp
, 
‹mpcİy
->
Çme
);

3673 
fes
[
i
].
Çme
 = 
‹mpcİy
->name;

3674 
fes
[
i
].
‹mp
 = 
‹mpcİy
;

3677 
	}
}

3689 
	$check_šputs
 (*cÚ¡ *
fes
, 
size_t
 
nfes
)

3691 
size_t
 
i
;

3692 
i
 = 0; i < 
nfes
; i++)

3694 ià(
	`STREQ
 (
fes
[
i
], "-"))

3697 ià(
	`euidacûss
 (
fes
[
i
], 
R_OK
) != 0)

3698 
	`d›
 (
	`_
("ÿÂÙ„—d"), 
fes
[
i
]);

3700 
	}
}

3707 
	$check_ouut
 (cÚ¡ *
outfe
)

3709 ià(
outfe
)

3711 
outfd
 = 
	`İ’
 (
outfe
, 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
, 
MODE_RW_UGO
);

3712 ià(
outfd
 < 0)

3713 
	`d›
 (
	`_
("İ’ faed"), 
outfe
);

3714 
	`move_fd_Ü_d›
 (
outfd
, 
STDOUT_FILENO
);

3716 
	}
}

3724 
	$m”ge
 (
sÜtfe
 *
fes
, 
size_t
 
Áemps
, size_ˆ
nfes
,

3725 cÚ¡ *
ouut_fe
)

3727 
nm”ge
 < 
nfes
)

3730 
size_t
 
š
;

3733 
size_t
 
out
;

3737 
size_t
 
»mašd”
;

3740 
size_t
 
ch—p_¦Ùs
;

3745 
out
 = 
š
 = 0; 
nm”ge
 <ğ
nfes
 - in; out++)

3747 
FILE
 *
tå
;

3748 
‹m²ode
 *
‹mp
 = 
	`ü—‹_‹mp
 (&
tå
);

3749 
size_t
 
num_m”ged
 = 
	`m”gefes
 (&
fes
[
š
], 
	`MIN
 (
Áemps
, 
nm”ge
),

3750 
nm”ge
, 
tå
, 
‹mp
->
Çme
);

3751 
Áemps
 -ğ
	`MIN
 (Áemps, 
num_m”ged
);

3752 
fes
[
out
].
Çme
 = 
‹mp
->name;

3753 
fes
[
out
].
‹mp
 =emp;

3754 
š
 +ğ
num_m”ged
;

3757 
»mašd”
 = 
nfes
 - 
š
;

3758 
ch—p_¦Ùs
 = 
nm”ge
 - 
out
 %‚merge;

3760 ià(
ch—p_¦Ùs
 < 
»mašd”
)

3765 
size_t
 
nshÜtm”ge
 = 
»mašd”
 - 
ch—p_¦Ùs
 + 1;

3766 
FILE
 *
tå
;

3767 
‹m²ode
 *
‹mp
 = 
	`ü—‹_‹mp
 (&
tå
);

3768 
size_t
 
num_m”ged
 = 
	`m”gefes
 (&
fes
[
š
], 
	`MIN
 (
Áemps
, 
nshÜtm”ge
),

3769 
nshÜtm”ge
, 
tå
, 
‹mp
->
Çme
);

3770 
Áemps
 -ğ
	`MIN
 (Áemps, 
num_m”ged
);

3771 
fes
[
out
].
Çme
 = 
‹mp
->name;

3772 
fes
[
out
++].
‹mp
 =emp;

3773 
š
 +ğ
num_m”ged
;

3778 
	`memmove
 (&
fes
[
out
], &fes[
š
], (
nfes
 - in) *  *files);

3779 
Áemps
 +ğ
out
;

3780 
nfes
 -ğ
š
 - 
out
;

3783 
	`avoid_Œashšg_šput
 (
fes
, 
Áemps
, 
nfes
, 
ouut_fe
);

3789 
Œue
)

3792 
FILE
 **
ås
;

3793 
size_t
 
nİ’ed
 = 
	`İ’_šput_fes
 (
fes
, 
nfes
, &
ås
);

3795 ià(
nİ’ed
 =ğ
nfes
)

3797 
FILE
 *
oå
 = 
	`¡»am_İ’
 (
ouut_fe
, "w");

3798 ià(
oå
)

3800 
	`m”geås
 (
fes
, 
Áemps
, 
nfes
, 
oå
, 
ouut_fe
, 
ås
);

3803 ià(
”ºo
 !ğ
EMFILE
 || 
nİ’ed
 <= 2)

3804 
	`d›
 (
	`_
("İ’ faed"), 
ouut_fe
);

3806 ià(
nİ’ed
 <= 2)

3807 
	`d›
 (
	`_
("İ’ faed"), 
fes
[
nİ’ed
].
Çme
);

3814 
FILE
 *
tå
;

3815 
‹m²ode
 *
‹mp
;

3818 
nİ’ed
--;

3819 
	`xfşo£
 (
ås
[
nİ’ed
], 
fes
[nİ’ed].
Çme
);

3820 
‹mp
 = 
	`maybe_ü—‹_‹mp
 (&
tå
, ! (
nİ’ed
 <= 2));

3822 !
‹mp
);

3825 
	`m”geås
 (&
fes
[0], 
	`MIN
 (
Áemps
, 
nİ’ed
),‚İ’ed, 
tå
, 
‹mp
->
Çme
,

3826 
ås
);

3827 
Áemps
 -ğ
	`MIN
 (Áemps, 
nİ’ed
);

3828 
fes
[0].
Çme
 = 
‹mp
->name;

3829 
fes
[0].
‹mp
 =emp;

3831 
	`memmove
 (&
fes
[1], &fes[
nİ’ed
], (
nfes
 -‚opened) *  *files);

3832 
Áemps
++;

3833 
nfes
 -ğ
nİ’ed
 - 1;

3835 
	}
}

3840 
	$sÜt
 (*cÚ¡ *
fes
, 
size_t
 
nfes
, cÚ¡ *
ouut_fe
,

3841 
size_t
 
Áh»ads
)

3843 
bufãr
 
buf
;

3844 
	`IF_LINT
 (
buf
.buàğ
NULL
);

3845 
size_t
 
Áemps
 = 0;

3846 
boŞ
 
ouut_fe_ü—‹d
 = 
çl£
;

3848 
buf
.
®loc
 = 0;

3850 
nfes
)

3852 cÚ¡ *
‹mp_ouut
;

3853 cÚ¡ *
fe
 = *
fes
;

3854 
FILE
 *
å
 = 
	`xfİ’
 (
fe
, "r");

3855 
FILE
 *
tå
;

3857 
size_t
 
by‹s_³r_lše
;

3858 ià(
Áh»ads
 > 1)

3861 
size_t
 
tmp
 = 1;

3862 
size_t
 
muÉ
 = 1;

3863 
tmp
 < 
Áh»ads
)

3865 
tmp
 *= 2;

3866 
muÉ
++;

3868 
by‹s_³r_lše
 = (
muÉ
 *  (
lše
));

3871 
by‹s_³r_lše
 =  (
lše
) * 3 / 2;

3873 ià(! 
buf
.
®loc
)

3874 
	`š™buf
 (&
buf
, 
by‹s_³r_lše
,

3875 
	`sÜt_bufãr_size
 (&
å
, 1, 
fes
, 
nfes
, 
by‹s_³r_lše
));

3876 
buf
.
eof
 = 
çl£
;

3877 
fes
++;

3878 
nfes
--;

3880 
	`flbuf
 (&
buf
, 
å
, 
fe
))

3882 
lše
 *line;

3884 ià(
buf
.
eof
 && 
nfes


3885 && (
by‹s_³r_lše
 + 1

3886 < (
buf
.
®loc
 - buf.
u£d
 - 
by‹s_³r_lše
 * buf.
Æšes
)))

3891 
buf
.
Ëá
 = buf.
u£d
;

3895 
§ved_lše
.
‹xt
 = 
NULL
;

3896 
lše
 = 
	`bufãr_lš–im
 (&
buf
);

3897 ià(
buf
.
eof
 && !
nfes
 && !
Áemps
 && !buf.
Ëá
)

3899 
	`xfşo£
 (
å
, 
fe
);

3900 
tå
 = 
	`xfİ’
 (
ouut_fe
, "w");

3901 
‹mp_ouut
 = 
ouut_fe
;

3902 
ouut_fe_ü—‹d
 = 
Œue
;

3906 ++
Áemps
;

3907 
‹mp_ouut
 = 
	`ü—‹_‹mp
 (&
tå
)->
Çme
;

3909 ià(1 < 
buf
.
Æšes
)

3911 
m”ge_node_queue
 
queue
;

3912 
	`queue_š™
 (&
queue
, 
Áh»ads
);

3913 
m”ge_node
 *
m”ge_Œ“
 =

3914 
	`m”ge_Œ“_š™
 (
Áh»ads
, 
buf
.
Æšes
, 
lše
);

3915 
m”ge_node
 *
roÙ
 = 
m”ge_Œ“
 + 1;

3917 
	`sÜšes
 (
lše
, 
Áh»ads
, 
buf
.
Æšes
, 
roÙ
,

3918 &
queue
, 
tå
, 
‹mp_ouut
);

3919 
	`queue_de¡roy
 (&
queue
);

3920 
	`±h»ad_mu‹x_de¡roy
 (&
roÙ
->
lock
);

3921 
	`m”ge_Œ“_de¡roy
 (
m”ge_Œ“
);

3924 
	`wr™e_unique
 (
lše
 - 1, 
tå
, 
‹mp_ouut
);

3926 
	`xfşo£
 (
tå
, 
‹mp_ouut
);

3928 ià(
ouut_fe_ü—‹d
)

3929 
fšish
;

3931 
	`xfşo£
 (
å
, 
fe
);

3934 
fšish
:

3935 
	`ä“
 (
buf
.buf);

3937 ià(! 
ouut_fe_ü—‹d
)

3939 
size_t
 
i
;

3940 
‹m²ode
 *
node
 = 
‹mph—d
;

3941 
sÜtfe
 *
‹mpfes
 = 
	`xnm®loc
 (
Áemps
,  *tempfiles);

3942 
i
 = 0; 
node
; i++)

3944 
‹mpfes
[
i
].
Çme
 = 
node
->name;

3945 
‹mpfes
[
i
].
‹mp
 = 
node
;

3946 
node
 =‚ode->
Ãxt
;

3948 
	`m”ge
 (
‹mpfes
, 
Áemps
,‚‹mps, 
ouut_fe
);

3949 
	`ä“
 (
‹mpfes
);

3952 
	`»­_®l
 ();

3953 
	}
}

3958 
	$š£¹key
 (
keyf›ld
 *
key_¬g
)

3960 
keyf›ld
 **
p
;

3961 
keyf›ld
 *
key
 = 
	`xmemdup
 (
key_¬g
,  *key);

3963 
p
 = &
keyli¡
; *p;… = &(*p)->
Ãxt
)

3965 *
p
 = 
key
;

3966 
key
->
Ãxt
 = 
NULL
;

3967 
	}
}

3971 
	$badf›ld¥ec
 (const *, const *)

3972 
ATTRIBUTE_NORETURN
;

3974 
	$badf›ld¥ec
 (cÚ¡ *
¥ec
, cÚ¡ *
msgid
)

3976 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("%s: invalid field specification %s"),

3977 
	`_
(
msgid
), 
	`quÙe
 (
¥ec
));

3978 
	`abÜt
 ();

3979 
	}
}

3983 
	$šcom·tibË_İtiÚs
 (cÚ¡ *è
ATTRIBUTE_NORETURN
;

3985 
	$šcom·tibË_İtiÚs
 (cÚ¡ *
İts
)

3987 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("İtiÚ '-%s'‡» incom·tibË"), 
İts
);

3988 
	`abÜt
 ();

3989 
	}
}

3994 
	$check_Üd”šg_com·tib™y
 ()

3996 
keyf›ld
 *
key
;

3998 
key
 = 
keyli¡
; key; key = key->
Ãxt
)

3999 ià(1 < (
key
->
num”ic
 + key->
g’”®_num”ic
 + key->
humª_num”ic


4000 + 
key
->
mÚth
 + (key->
v”siÚ
 | key->
¿ndom
 | !!key->
ignÜe
)))

4003 
İts
[ 
shÜt_İtiÚs
];

4005 
key
->
sksbÏnks
 = key->
skebÏnks
 = key->
»v”£
 = 
çl£
;

4006 
	`key_to_İts
 (
key
, 
İts
);

4007 
	`šcom·tibË_İtiÚs
 (
İts
);

4009 
	}
}

4018 
	$·r£_f›ld_couÁ
 (cÚ¡ *
¡ršg
, 
size_t
 *
v®
, cÚ¡ *
msgid
)

4020 *
suffix
;

4021 
uštmax_t
 
n
;

4023 
	`x¡¹oumax
 (
¡ršg
, &
suffix
, 10, &
n
, ""))

4025 
LONGINT_OK
:

4026 
LONGINT_INVALID_SUFFIX_CHAR
:

4027 *
v®
 = 
n
;

4028 ià(*
v®
 =ğ
n
)

4031 
LONGINT_OVERFLOW
:

4032 
LONGINT_OVERFLOW
 | 
LONGINT_INVALID_SUFFIX_CHAR
:

4033 *
v®
 = 
SIZE_MAX
;

4036 
LONGINT_INVALID
:

4037 ià(
msgid
)

4038 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("%s: invalid count‡t start of %s"),

4039 
	`_
(
msgid
), 
	`quÙe
 (
¡ršg
));

4040  
NULL
;

4043  
suffix
;

4044 
	}
}

4049 
	$sighªdËr
 (
sig
)

4051 ià(! 
SA_NOCLDSTOP
)

4052 
	`sigÇl
 (
sig
, 
SIG_IGN
);

4054 
	`ş—nup
 ();

4056 
	`sigÇl
 (
sig
, 
SIG_DFL
);

4057 
	`¿i£
 (
sig
);

4058 
	}
}

4066 
	$£t_Üd”šg
 (cÚ¡ *
s
, 
keyf›ld
 *
key
, 
bÏnkty³
 blanktype)

4068 *
s
)

4070 *
s
)

4073 ià(
bÏnkty³
 =ğ
bl_¡¬t
 || bÏnkty³ =ğ
bl_bÙh
)

4074 
key
->
sksbÏnks
 = 
Œue
;

4075 ià(
bÏnkty³
 =ğ
bl_’d
 || bÏnkty³ =ğ
bl_bÙh
)

4076 
key
->
skebÏnks
 = 
Œue
;

4079 
key
->
ignÜe
 = 
nÚdiùiÚ¬y
;

4082 
key
->
Œª¦©e
 = 
fŞd_touµ”
;

4085 
key
->
g’”®_num”ic
 = 
Œue
;

4088 
key
->
humª_num”ic
 = 
Œue
;

4093 ià(! 
key
->
ignÜe
)

4094 
key
->
ignÜe
 = 
nÚ´štšg
;

4097 
key
->
mÚth
 = 
Œue
;

4100 
key
->
num”ic
 = 
Œue
;

4103 
key
->
¿ndom
 = 
Œue
;

4106 
key
->
»v”£
 = 
Œue
;

4109 
key
->
v”siÚ
 = 
Œue
;

4112  (*è
s
;

4114 ++
s
;

4116  (*è
s
;

4117 
	}
}

4121 
keyf›ld
 *

4122 
	$key_š™
 (
keyf›ld
 *
key
)

4124 
	`mem£t
 (
key
, 0,  *key);

4125 
key
->
ewÜd
 = 
SIZE_MAX
;

4126  
key
;

4127 
	}
}

4130 
	$maš
 (
¬gc
, **
¬gv
)

4132 
keyf›ld
 *
key
;

4133 
keyf›ld
 
key_buf
;

4134 
keyf›ld
 
gkey
;

4135 
boŞ
 
gkey_Úly
 = 
çl£
;

4136 cÚ¡ *
s
;

4137 
c
 = 0;

4138 
checkÚly
 = 0;

4139 
boŞ
 
m”geÚly
 = 
çl£
;

4140 *
¿ndom_sourû
 = 
NULL
;

4141 
boŞ
 
Ãed_¿ndom
 = 
çl£
;

4142 
size_t
 
Áh»ads
 = 0;

4143 
size_t
 
nfes
 = 0;

4144 
boŞ
 
posixly_cÜ»ù
 = (
	`g‘’v
 ("POSIXLY_CORRECT"è!ğ
NULL
);

4145 
boŞ
 
obsŞ‘e_u§ge
 = (
	`posix2_v”siÚ
 () < 200112);

4146 **
fes
;

4147 *
fes_äom
 = 
NULL
;

4148 
Tok’s
 
tok
;

4149 cÚ¡ *
outfe
 = 
NULL
;

4151 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

4152 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

4153 
	`£oÿË
 (
LC_ALL
, "");

4154 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

4155 
	`‹xtdomaš
 (
PACKAGE
);

4157 
	`š™Ÿlize_ex™_çu»
 (
SORT_FAILURE
);

4159 
h¬d_LC_COLLATE
 = 
	`h¬d_loÿË
 (
LC_COLLATE
);

4160 #ià
HAVE_NL_LANGINFO


4161 
h¬d_LC_TIME
 = 
	`h¬d_loÿË
 (
LC_TIME
);

4166 
lcÚv
 cÚ¡ *
loÿË
 = 
	`loÿËcÚv
 ();

4171 
decim®_pošt
 = 
	`to_uch¬
 (
loÿË
->decimal_point[0]);

4172 ià(! 
decim®_pošt
 || 
loÿË
->decimal_point[1])

4173 
decim®_pošt
 = '.';

4176 
thou§nds_£p
 = 
	`to_uch¬
 (*
loÿË
->thousands_sep);

4177 ià(! 
thou§nds_£p
 || 
loÿË
->thousands_sep[1])

4178 
thou§nds_£p
 = -1;

4181 
have_»ad_¡dš
 = 
çl£
;

4182 
	`š™bËs
 ();

4185 
size_t
 
i
;

4186 cÚ¡ 
sig
[] =

4189 
SIGALRM
, 
SIGHUP
, 
SIGINT
, 
SIGPIPE
, 
SIGQUIT
, 
SIGTERM
,

4190 #ifdeà
SIGPOLL


4191 
SIGPOLL
,

4193 #ifdeà
SIGPROF


4194 
SIGPROF
,

4196 #ifdeà
SIGVTALRM


4197 
SIGVTALRM
,

4199 #ifdeà
SIGXCPU


4200 
SIGXCPU
,

4202 #ifdeà
SIGXFSZ


4203 
SIGXFSZ
,

4206 ’um { 
nsigs
 = 
	`ARRAY_CARDINALITY
 (
sig
) };

4208 #ià
SA_NOCLDSTOP


4209 
sigaùiÚ
 
aù
;

4211 
	`sigem±y£t
 (&
ÿught_sigÇls
);

4212 
i
 = 0; i < 
nsigs
; i++)

4214 
	`sigaùiÚ
 (
sig
[
i
], 
NULL
, &
aù
);

4215 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

4216 
	`sigadd£t
 (&
ÿught_sigÇls
, 
sig
[
i
]);

4219 
aù
.
§_hªdËr
 = 
sighªdËr
;

4220 
aù
.
§_mask
 = 
ÿught_sigÇls
;

4221 
aù
.
§_æags
 = 0;

4223 
i
 = 0; i < 
nsigs
; i++)

4224 ià(
	`sigismemb”
 (&
ÿught_sigÇls
, 
sig
[
i
]))

4225 
	`sigaùiÚ
 (
sig
[
i
], &
aù
, 
NULL
);

4227 
i
 = 0; i < 
nsigs
; i++)

4228 ià(
	`sigÇl
 (
sig
[
i
], 
SIG_IGN
) != SIG_IGN)

4230 
	`sigÇl
 (
sig
[
i
], 
sighªdËr
);

4231 
	`sigš‹¼u±
 (
sig
[
i
], 1);

4235 
	`sigÇl
 (
SIGCHLD
, 
SIG_DFL
);

4238 
	`©ex™
 (
ex™_ş—nup
);

4240 
	`key_š™
 (&
gkey
);

4241 
gkey
.
swÜd
 = 
SIZE_MAX
;

4243 
fes
 = 
	`xnm®loc
 (
¬gc
,  *files);

4245 
Œue
)

4251 
oi
 = -1;

4253 ià(
c
 == -1

4254 || (
posixly_cÜ»ù
 && 
nfes
 != 0

4255 && ! (
obsŞ‘e_u§ge


4256 && ! 
checkÚly


4257 && 
İtšd
 !ğ
¬gc


4258 && 
¬gv
[
İtšd
][0] == '-' &&‡rgv[optind][1] == 'o'

4259 && (
¬gv
[
İtšd
][2] || o±šd + 1 !ğ
¬gc
)))

4260 || ((
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, 
shÜt_İtiÚs
,

4261 
lÚg_İtiÚs
, &
oi
))

4264 ià(
¬gc
 <ğ
İtšd
)

4266 
fes
[
nfes
++] = 
¬gv
[
İtšd
++];

4268 
c
)

4271 
key
 = 
NULL
;

4272 ià(
İrg
[0] == '+')

4274 
boŞ
 
mšus_pos_u§ge
 = (
İtšd
 !ğ
¬gc
 && 
¬gv
[optind][0] == '-'

4275 && 
	`ISDIGIT
 (
¬gv
[
İtšd
][1]));

4276 
obsŞ‘e_u§ge
 |ğ
mšus_pos_u§ge
 && !
posixly_cÜ»ù
;

4277 ià(
obsŞ‘e_u§ge
)

4281 
key
 = 
	`key_š™
 (&
key_buf
);

4282 
s
 = 
	`·r£_f›ld_couÁ
 (
İrg
 + 1, &
key
->
swÜd
, 
NULL
);

4283 ià(
s
 && *s == '.')

4284 
s
 = 
	`·r£_f›ld_couÁ
 ( + 1, &
key
->
sch¬
, 
NULL
);

4285 ià(! (
key
->
swÜd
 || key->
sch¬
))

4286 
key
->
swÜd
 = 
SIZE_MAX
;

4287 ià(! 
s
 || *
	`£t_Üd”šg
 (s, 
key
, 
bl_¡¬t
))

4288 
key
 = 
NULL
;

4291 ià(
mšus_pos_u§ge
)

4293 cÚ¡ *
İrg1
 = 
¬gv
[
İtšd
++];

4294 
s
 = 
	`·r£_f›ld_couÁ
 (
İrg1
 + 1, &
key
->
ewÜd
,

4295 
	`N_
("invalid‚umber‡fter '-'"));

4299 
	`as£¹
 (
s
);

4300 ià(*
s
 == '.')

4301 
s
 = 
	`·r£_f›ld_couÁ
 ( + 1, &
key
->
ech¬
,

4302 
	`N_
("invalid‚umber‡fter '.'"));

4303 ià(!
key
->
ech¬
 && key->
ewÜd
)

4311 
key
->
ewÜd
--;

4313 ià(*
	`£t_Üd”šg
 (
s
, 
key
, 
bl_’d
))

4314 
	`badf›ld¥ec
 (
İrg1
,

4315 
	`N_
("stray character in field spec"));

4317 
key
->
obsŞ‘e_u£d
 = 
Œue
;

4318 
	`š£¹key
 (
key
);

4322 ià(! 
key
)

4323 
fes
[
nfes
++] = 
İrg
;

4326 
SORT_OPTION
:

4327 
c
 = 
	`XARGMATCH
 ("--sÜt", 
İrg
, 
sÜt_¬gs
, 
sÜt_ty³s
);

4341 
¡r
[2];

4342 
¡r
[0] = 
c
;

4343 
¡r
[1] = '\0';

4344 
	`£t_Üd”šg
 (
¡r
, &
gkey
, 
bl_bÙh
);

4348 
CHECK_OPTION
:

4349 
c
 = (
İrg


4350 ? 
	`XARGMATCH
 ("--check", 
İrg
, 
check_¬gs
, 
check_ty³s
)

4355 ià(
checkÚly
 && checkÚly !ğ
c
)

4356 
	`šcom·tibË_İtiÚs
 ("cC");

4357 
checkÚly
 = 
c
;

4360 
COMPRESS_PROGRAM_OPTION
:

4361 ià(
com´ess_´og¿m
 && !
	`STREQ
 (com´ess_´og¿m, 
İrg
))

4362 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("multiple compress…rograms specified"));

4363 
com´ess_´og¿m
 = 
İrg
;

4366 
DEBUG_PROGRAM_OPTION
:

4367 
debug
 = 
Œue
;

4370 
FILES0_FROM_OPTION
:

4371 
fes_äom
 = 
İrg
;

4375 
key
 = 
	`key_š™
 (&
key_buf
);

4378 
s
 = 
	`·r£_f›ld_couÁ
 (
İrg
, &
key
->
swÜd
,

4379 
	`N_
("invalid‚umber‡t field start"));

4380 ià(! 
key
->
swÜd
--)

4383 
	`badf›ld¥ec
 (
İrg
, 
	`N_
("field‚umber is zero"));

4385 ià(*
s
 == '.')

4387 
s
 = 
	`·r£_f›ld_couÁ
 ( + 1, &
key
->
sch¬
,

4388 
	`N_
("invalid‚umber‡fter '.'"));

4389 ià(! 
key
->
sch¬
--)

4392 
	`badf›ld¥ec
 (
İrg
, 
	`N_
("character offset is zero"));

4395 ià(! (
key
->
swÜd
 || key->
sch¬
))

4396 
key
->
swÜd
 = 
SIZE_MAX
;

4397 
s
 = 
	`£t_Üd”šg
 (s, 
key
, 
bl_¡¬t
);

4398 ià(*
s
 != ',')

4400 
key
->
ewÜd
 = 
SIZE_MAX
;

4401 
key
->
ech¬
 = 0;

4406 
s
 = 
	`·r£_f›ld_couÁ
 ( + 1, &
key
->
ewÜd
,

4407 
	`N_
("invalid‚umber‡fter ','"));

4408 ià(! 
key
->
ewÜd
--)

4411 
	`badf›ld¥ec
 (
İrg
, 
	`N_
("field‚umber is zero"));

4413 ià(*
s
 == '.')

4415 
s
 = 
	`·r£_f›ld_couÁ
 ( + 1, &
key
->
ech¬
,

4416 
	`N_
("invalid‚umber‡fter '.'"));

4418 
s
 = 
	`£t_Üd”šg
 (s, 
key
, 
bl_’d
);

4420 ià(*
s
)

4421 
	`badf›ld¥ec
 (
İrg
, 
	`N_
("stray character in field spec"));

4422 
	`š£¹key
 (
key
);

4426 
m”geÚly
 = 
Œue
;

4429 
NMERGE_OPTION
:

4430 
	`¥ecify_nm”ge
 (
oi
, 
c
, 
İrg
);

4434 ià(
outfe
 && !
	`STREQ
 (outfe, 
İrg
))

4435 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("multiple output files specified"));

4436 
outfe
 = 
İrg
;

4439 
RANDOM_SOURCE_OPTION
:

4440 ià(
¿ndom_sourû
 && !
	`STREQ
 (¿ndom_sourû, 
İrg
))

4441 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("multiple„andom sources specified"));

4442 
¿ndom_sourû
 = 
İrg
;

4446 
¡abË
 = 
Œue
;

4450 
	`¥ecify_sÜt_size
 (
oi
, 
c
, 
İrg
);

4455 
Ãwb
 = 
İrg
[0];

4456 ià(! 
Ãwb
)

4457 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("emptyab"));

4458 ià(
İrg
[1])

4460 ià(
	`STREQ
 (
İrg
, "\\0"))

4461 
Ãwb
 = '\0';

4468 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("multi-characterab %s"),

4469 
	`quÙe
 (
İrg
));

4472 ià(
b
 !ğ
TAB_DEFAULT
 &&ab !ğ
Ãwb
)

4473 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("incompatibleabs"));

4474 
b
 = 
Ãwb
;

4479 
	`add_‹mp_dœ
 (
İrg
);

4482 
PARALLEL_OPTION
:

4483 
Áh»ads
 = 
	`¥ecify_Áh»ads
 (
oi
, 
c
, 
İrg
);

4487 
unique
 = 
Œue
;

4501 ià(
İrg
 =ğ
¬gv
[
İtšd
 - 1])

4503 cÚ¡ *
p
;

4504 
p
 = 
İrg
; 
	`ISDIGIT
 (*p);…++)

4506 
İtšd
 -ğ(*
p
 != '\0');

4511 
eŞch¬
 = 0;

4514 
ÿ£_GETOPT_HELP_CHAR
;

4516 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

4519 
	`u§ge
 (
SORT_FAILURE
);

4523 ià(
fes_äom
)

4525 
FILE
 *
¡»am
;

4529 ià(
nfes
)

4531 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
fes
[0]));

4532 
	`årštf
 (
¡d”r
, "%s\n",

4533 
	`_
("file operands cannot be combined with --files0-from"));

4534 
	`u§ge
 (
SORT_FAILURE
);

4537 ià(
	`STREQ
 (
fes_äom
, "-"))

4538 
¡»am
 = 
¡dš
;

4541 
¡»am
 = 
	`fİ’
 (
fes_äom
, "r");

4542 ià(
¡»am
 =ğ
NULL
)

4543 
	`”rÜ
 (
SORT_FAILURE
, 
”ºo
, 
	`_
("cannot open %s for„eading"),

4544 
	`quÙe
 (
fes_äom
));

4547 
	`»adtok’s0_š™
 (&
tok
);

4549 ià(! 
	`»adtok’s0
 (
¡»am
, &
tok
è|| 
	`fşo£
 (stream) != 0)

4550 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("cannot„ead file‚ames from %s"),

4551 
	`quÙe
 (
fes_äom
));

4553 ià(
tok
.
n_tok
)

4555 
size_t
 
i
;

4556 
	`ä“
 (
fes
);

4557 
fes
 = 
tok
.tok;

4558 
nfes
 = 
tok
.
n_tok
;

4559 
i
 = 0; i < 
nfes
; i++)

4561 ià(
	`STREQ
 (
fes
[
i
], "-"))

4562 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("when„eading file‚ames from stdin, "

4564 
	`quÙe
 (
fes
[
i
]));

4565 ià(
fes
[
i
][0] == '\0')

4570 
fe_numb”
 = 
i
 + 1;

4571 
	`”rÜ
 (
SORT_FAILURE
, 0,

4572 
	`_
("%s:%lu: invalid zero-length file‚ame"),

4573 
	`quÙ—rg_cŞÚ
 (
fes_äom
), 
fe_numb”
);

4578 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("no input from %s"),

4579 
	`quÙe
 (
fes_äom
));

4583 
key
 = 
keyli¡
; key; key = key->
Ãxt
)

4585 ià(
	`deçuÉ_key_com·»
 (
key
è&& !key->
»v”£
)

4587 
key
->
ignÜe
 = 
gkey
.ignore;

4588 
key
->
Œª¦©e
 = 
gkey
.translate;

4589 
key
->
sksbÏnks
 = 
gkey
.skipsblanks;

4590 
key
->
skebÏnks
 = 
gkey
.skipeblanks;

4591 
key
->
mÚth
 = 
gkey
.month;

4592 
key
->
num”ic
 = 
gkey
.numeric;

4593 
key
->
g’”®_num”ic
 = 
gkey
.general_numeric;

4594 
key
->
humª_num”ic
 = 
gkey
.human_numeric;

4595 
key
->
v”siÚ
 = 
gkey
.version;

4596 
key
->
¿ndom
 = 
gkey
.random;

4597 
key
->
»v”£
 = 
gkey
.reverse;

4600 
Ãed_¿ndom
 |ğ
key
->
¿ndom
;

4603 ià(!
keyli¡
 && !
	`deçuÉ_key_com·»
 (&
gkey
))

4605 
gkey_Úly
 = 
Œue
;

4606 
	`š£¹key
 (&
gkey
);

4607 
Ãed_¿ndom
 |ğ
gkey
.
¿ndom
;

4610 
	`check_Üd”šg_com·tib™y
 ();

4612 ià(
debug
)

4614 ià(
checkÚly
 || 
outfe
)

4616 
İts
[] = "X --debug";

4617 
İts
[0] = (
checkÚly
 ? checkonly : 'o');

4618 
	`šcom·tibË_İtiÚs
 (
İts
);

4623 ià(
h¬d_LC_COLLATE
)

4624 
	`”rÜ
 (0, 0, 
	`_
("using %s sorting„ules"),

4625 
	`quÙe
 (
	`£oÿË
 (
LC_COLLATE
, 
NULL
)));

4627 
	`”rÜ
 (0, 0, 
	`_
("using simple byte comparison"));

4628 
	`key_w¬nšgs
 (&
gkey
, 
gkey_Úly
);

4631 
»v”£
 = 
gkey
.reverse;

4633 ià(
Ãed_¿ndom
)

4634 
	`¿ndom_md5_¡©e_š™
 (
¿ndom_sourû
);

4636 ià(
‹mp_dœ_couÁ
 == 0)

4638 cÚ¡ *
tmp_dœ
 = 
	`g‘’v
 ("TMPDIR");

4639 
	`add_‹mp_dœ
 (
tmp_dœ
 ?mp_dœ : 
DEFAULT_TMPDIR
);

4642 ià(
nfes
 == 0)

4644 *
mšus
 = (*) "-";

4645 
nfes
 = 1;

4646 
	`ä“
 (
fes
);

4647 
fes
 = &
mšus
;

4652 ià(0 < 
sÜt_size
)

4653 
sÜt_size
 = 
	`MAX
 (sÜt_size, 
MIN_SORT_SIZE
);

4655 ià(
checkÚly
)

4657 ià(
nfes
 > 1)

4658 
	`”rÜ
 (
SORT_FAILURE
, 0, 
	`_
("extra operand %s‚ot‡llowed with -%c"),

4659 
	`quÙe
 (
fes
[1]), 
checkÚly
);

4661 ià(
outfe
)

4663 
İts
[] = {0, 'o', 0};

4664 
İts
[0] = 
checkÚly
;

4665 
	`šcom·tibË_İtiÚs
 (
İts
);

4670 
	`ex™
 (
	`check
 (
fes
[0], 
checkÚly
è? 
EXIT_SUCCESS
 : 
SORT_OUT_OF_ORDER
);

4674 
	`check_šputs
 (
fes
, 
nfes
);

4677 
	`check_ouut
 (
outfe
);

4679 ià(
m”geÚly
)

4681 
sÜtfe
 *
sÜtfes
 = 
	`xÿÎoc
 (
nfes
,  *sortfiles);

4682 
size_t
 
i
;

4684 
i
 = 0; i < 
nfes
; ++i)

4685 
sÜtfes
[
i
].
Çme
 = 
fes
[i];

4687 
	`m”ge
 (
sÜtfes
, 0, 
nfes
, 
outfe
);

4688 
	`IF_LINT
 (
	`ä“
 (
sÜtfes
));

4692 ià(!
Áh»ads
)

4694 
Å
 = 
	`num_´oûssÜs
 (
NPROC_CURRENT_OVERRIDABLE
);

4695 
Áh»ads
 = 
	`MIN
 (
Å
, 
DEFAULT_MAX_THREADS
);

4699 
size_t
 
Áh»ads_max
 = 
SIZE_MAX
 / (2 *  (
m”ge_node
));

4700 
Áh»ads
 = 
	`MIN
 (Áh»ads, 
Áh»ads_max
);

4702 
	`sÜt
 (
fes
, 
nfes
, 
outfe
, 
Áh»ads
);

4705 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

4706 
	`d›
 (
	`_
("close failed"), "-");

4708 
	`ex™
 (
EXIT_SUCCESS
);

4709 
	}
}

	@split.c

23 
	~<cÚfig.h
>

25 
	~<as£¹.h
>

26 
	~<¡dio.h
>

27 
	~<g‘İt.h
>

28 
	~<sigÇl.h
>

29 
	~<sys/ty³s.h
>

30 
	~<sys/wa™.h
>

32 
	~"sy¡em.h
"

33 
	~"”rÜ.h
"

34 
	~"fd-»İ’.h
"

35 
	~"fú--.h
"

36 
	~"fuÎ-»ad.h
"

37 
	~"fuÎ-wr™e.h
"

38 
	~"ioblksize.h
"

39 
	~"quÙe.h
"

40 
	~"§ã-»ad.h
"

41 
	~"sig2¡r.h
"

42 
	~"xäeİ’.h
"

43 
	~"x¡¹Ş.h
"

46 
	#PROGRAM_NAME
 "¥l™"

	)

48 
	#AUTHORS
 \

49 
	`´İ”_Çme_utf8
 ("Torbjorn Granlund", "Torbj\303\266rn Granlund"), \

50 
	`´İ”_Çme
 ("Rich¬d M. SÎmª")

	)

53 cÚ¡ *
	gf‹r_commªd
;

56 
	gf‹r_pid
;

59 *
	gİ’_pes
;

60 
size_t
 
	gİ’_pes_®loc
;

61 
size_t
 
	gn_İ’_pes
;

64 
sig£t_t
 
	gŞdblocked
;

65 
sig£t_t
 
	gÃwblocked
;

68 cÚ¡ *
	goutba£
;

71 *
	goutfe
;

75 *
	goutfe_mid
;

78 
boŞ
 
	gsuffix_auto
 = 
Œue
;

81 
size_t
 
	gsuffix_Ëngth
;

84 cÚ¡ *
	gsuffix_®phab‘
 = "abcdefghijklmnopqrstuvwxyz";

87 cÚ¡ *
	gnum”ic_suffix_¡¬t
;

90 cÚ¡ *
	gadd™iÚ®_suffix
;

93 *
	gšfe
;

96 
¡©
 
	gš_¡©_buf
;

99 
	gouut_desc
 = -1;

103 
boŞ
 
	gv”bo£
;

106 
boŞ
 
	g–ide_em±y_fes
;

110 
boŞ
 
	gunbufã»d
;

113 
	eS¶™_ty³


115 
	mty³_undef
, 
	mty³_by‹s
, 
	mty³_by‹¦šes
, 
	mty³_lšes
, 
	mty³_dig™s
,

116 
	mty³_chunk_by‹s
, 
	mty³_chunk_lšes
, 
	mty³_¼


123 
	mVERBOSE_OPTION
 = 
CHAR_MAX
 + 1,

124 
	mFILTER_OPTION
,

125 
	mIO_BLKSIZE_OPTION
,

126 
	mADDITIONAL_SUFFIX_OPTION


129 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

131 {"by‹s", 
»quœed_¬gum’t
, 
NULL
, 'b'},

132 {"lšes", 
»quœed_¬gum’t
, 
NULL
, 'l'},

133 {"lše-by‹s", 
»quœed_¬gum’t
, 
NULL
, 'C'},

134 {"numb”", 
»quœed_¬gum’t
, 
NULL
, 'n'},

135 {"–ide-em±y-fes", 
no_¬gum’t
, 
NULL
, 'e'},

136 {"unbufã»d", 
no_¬gum’t
, 
NULL
, 'u'},

137 {"suffix-Ëngth", 
»quœed_¬gum’t
, 
NULL
, 'a'},

138 {"add™iÚ®-suffix", 
»quœed_¬gum’t
, 
NULL
,

139 
ADDITIONAL_SUFFIX_OPTION
},

140 {"num”ic-suffixes", 
İtiÚ®_¬gum’t
, 
NULL
, 'd'},

141 {"f‹r", 
»quœed_¬gum’t
, 
NULL
, 
FILTER_OPTION
},

142 {"v”bo£", 
no_¬gum’t
, 
NULL
, 
VERBOSE_OPTION
},

143 {"-io-blksize", 
»quœed_¬gum’t
, 
NULL
,

144 
IO_BLKSIZE_OPTION
},

145 {
GETOPT_HELP_OPTION_DECL
},

146 {
GETOPT_VERSION_OPTION_DECL
},

147 {
NULL
, 0, NULL, 0}

151 
šlše
 
boŞ


152 
	$ignÜabË
 (
”r
)

154  
f‹r_commªd
 && 
”r
 =ğ
EPIPE
;

155 
	}
}

158 
	$£t_suffix_Ëngth
 (
uštmax_t
 
n_un™s
, 
S¶™_ty³
 
¥l™_ty³
)

160 
	#DEFAULT_SUFFIX_LENGTH
 2

	)

162 
size_t
 
suffix_Ãeded
 = 0;

167 ià(
num”ic_suffix_¡¬t
)

168 
suffix_auto
 = 
çl£
;

171 ià(
¥l™_ty³
 =ğ
ty³_chunk_by‹s
 || s¶™_ty³ =ğ
ty³_chunk_lšes


172 || 
¥l™_ty³
 =ğ
ty³_¼
)

174 
size_t
 
®phab‘_Ën
 = 
	`¡¾’
 (
suffix_®phab‘
);

175 
boŞ
 
®phab‘_¦İ
 = (
n_un™s
 % 
®phab‘_Ën
) != 0;

176 
n_un™s
 /ğ
®phab‘_Ën
)

177 
suffix_Ãeded
++;

178 
suffix_Ãeded
 +ğ
®phab‘_¦İ
;

179 
suffix_auto
 = 
çl£
;

182 ià(
suffix_Ëngth
)

184 ià(
suffix_Ëngth
 < 
suffix_Ãeded
)

186 
	`”rÜ
 (
EXIT_FAILURE
, 0,

187 
	`_
("the suffix†ength‚eedso be‡t†east %zu"),

188 
suffix_Ãeded
);

190 
suffix_auto
 = 
çl£
;

194 
suffix_Ëngth
 = 
	`MAX
 (
DEFAULT_SUFFIX_LENGTH
, 
suffix_Ãeded
);

195 
	}
}

198 
	$u§ge
 (
¡©us
)

200 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

201 
	`em™_Œy_h–p
 ();

204 
	`´štf
 (
	`_
("\
: %s [OPTION]... [INPUT [PREFIX]]\n\
"),

207 
´og¿m_Çme
);

208 
	`åuts
 (
	`_
("\
 fixed-sizp›û oàINPUTØPREFIX¯, PREFIXab, ...; deçuÉ\n\
 i 1000†šes,‡nd deçuÉ PREFIX i 'x'. W™h‚ØINPUT, o¸wh’ INPUT\n\
 -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

214 
	`em™_mªd©Üy_¬g_nÙe
 ();

216 
	`årštf
 (
¡dout
, 
	`_
("\
-a, --suffix-Ëngth=N g’”©suffixe oàËngth N (deçuÉ %d)\n\
--add™iÚ®-suffix=SUFFIX‡µ’d‡Àadd™iÚ® SUFFIXØfÇmes.\n\
-b, --by‹s=SIZE…uˆSIZE by‹ ³¸ouuˆfe\n\
-C, --lše-by‹s=SIZE…uˆ© mo¡ SIZE by‹ oàlše ³¸ouuˆfe\n\
-d, --num”ic-suffixes[=FROM] u£‚um”iøsuffixe š¡—d oà®phab‘ic.\n\
 chªge th¡¬ˆv®u(deçuÉ 0).\n\
-e, --–ide-em±y-fe  dØnÙ g’”©em±y ouuˆfe w™h '-n'\n\
--f‹r=COMMAND wr™tØsh–ÈCOMMAND; fÇmi $FILE\n\
-l, --lšes=NUMBER…uˆNUMBER†še ³¸ouuˆfe\n\
-n, --numb”=CHUNKS g’”©CHUNKS ouuˆfes. S“ b–ow\n\
-u, --unbufã»d immedŸ‹ly cİy iÅuˆtØouuˆw™h '-Àr/...'\n\
"), 
DEFAULT_SUFFIX_LENGTH
);

229 
	`åuts
 (
	`_
("\
--v”bo£…ršˆ¨dŸgno¡iøju¡ befÜ—ch\n\
 fi İ’ed\n\
"), 
¡dout
);

233 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

234 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

235 
	`em™_size_nÙe
 ();

236 
	`åuts
 (
	`_
("\n\
 may be:\n\
 s¶™ iÁØN fe ba£d oÀsizoàšput\n\
/N ouuˆKth oàNØ¡dout\n\
/N s¶™ iÁØN fe w™houˆ¥l™tšg†šes\n\
/K/N ouuˆKth oàNØ¡douˆw™houˆ¥l™tšg†šes\n\
/N†ik'l' buˆu£„ound„obš di¡ributiÚ\n\
/K/N†ikewi£ buˆÚly ouuˆKth oàNØ¡dout\n\
"), 
¡dout
);

245 
	`em™_ªcÏry_šfo
 ();

247 
	`ex™
 (
¡©us
);

248 
	}
}

254 
	$Ãxt_fe_Çme
 ()

257 
size_t
 *
sufšdex
;

258 
size_t
 
outba£_Ëngth
;

259 
size_t
 
outfe_Ëngth
;

260 
size_t
 
addsuf_Ëngth
;

262 ià(! 
outfe
)

264 
boŞ
 
wid’
;

266 
Ãw_Çme
:

267 
wid’
 = !! 
outfe_Ëngth
;

269 ià(! 
wid’
)

273 
outba£_Ëngth
 = 
	`¡¾’
 (
outba£
);

274 
addsuf_Ëngth
 = 
add™iÚ®_suffix
 ? 
	`¡¾’
 (additional_suffix) : 0;

275 
outfe_Ëngth
 = 
outba£_Ëngth
 + 
suffix_Ëngth
 + 
addsuf_Ëngth
;

284 
outfe_Ëngth
 += 2;

285 
suffix_Ëngth
++;

288 ià(
outfe_Ëngth
 + 1 < 
outba£_Ëngth
)

289 
	`x®loc_d›
 ();

290 
outfe
 = 
	`x»®loc
 (outfe, 
outfe_Ëngth
 + 1);

292 ià(! 
wid’
)

293 
	`memıy
 (
outfe
, 
outba£
, 
outba£_Ëngth
);

297 
outfe
[
outba£_Ëngth
] = 
suffix_®phab‘
[
sufšdex
[0]];

298 
outba£_Ëngth
++;

301 
outfe_mid
 = 
outfe
 + 
outba£_Ëngth
;

302 
	`mem£t
 (
outfe_mid
, 
suffix_®phab‘
[0], 
suffix_Ëngth
);

303 ià(
add™iÚ®_suffix
)

304 
	`memıy
 (
outfe_mid
 + 
suffix_Ëngth
, 
add™iÚ®_suffix
, 
addsuf_Ëngth
);

305 
outfe
[
outfe_Ëngth
] = 0;

307 
	`ä“
 (
sufšdex
);

308 
sufšdex
 = 
	`xÿÎoc
 (
suffix_Ëngth
,  *sufindex);

310 ià(
num”ic_suffix_¡¬t
)

312 
	`as£¹
 (! 
wid’
);

315 
size_t
 
i
 = 
	`¡¾’
 (
num”ic_suffix_¡¬t
);

316 
	`memıy
 (
outfe_mid
 + 
suffix_Ëngth
 - 
i
, 
num”ic_suffix_¡¬t
, i);

319 
size_t
 *
sufšdex_’d
 = 
sufšdex
 + 
suffix_Ëngth
;

320 
i
-- != 0)

321 *--
sufšdex_’d
 = 
num”ic_suffix_¡¬t
[
i
] - '0';

324 #ià! 
_POSIX_NO_TRUNC
 && 
HAVE_PATHCONF
 && 
defšed
 
_PC_NAME_MAX


330 *
dœ
 = 
	`dœ_Çme
 (
outfe
);

331 
Çme_max
 = 
	`·thcÚf
 (
dœ
, 
_PC_NAME_MAX
);

332 ià(0 <ğ
Çme_max
 &&‚ame_max < 
	`ba£_Ën
 (
	`Ï¡_compÚ’t
 (
outfe
)))

333 
	`”rÜ
 (
EXIT_FAILURE
, 
ENAMETOOLONG
, "%s", 
outfe
);

334 
	`ä“
 (
dœ
);

342 
size_t
 
i
 = 
suffix_Ëngth
;

343 
i
-- != 0)

345 
sufšdex
[
i
]++;

346 ià(
suffix_auto
 && 
i
 =ğ0 && ! 
suffix_®phab‘
[
sufšdex
[0] + 1])

347 
Ãw_Çme
;

348 
outfe_mid
[
i
] = 
suffix_®phab‘
[
sufšdex
[i]];

349 ià(
outfe_mid
[
i
])

351 
sufšdex
[
i
] = 0;

352 
outfe_mid
[
i
] = 
suffix_®phab‘
[
sufšdex
[i]];

354 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("output file suffixesƒxhausted"));

356 
	}
}

361 
	$ü—‹
 (cÚ¡ *
Çme
)

363 ià(!
f‹r_commªd
)

365 ià(
v”bo£
)

366 
	`årštf
 (
¡dout
, 
	`_
("ü—tšg f%s\n"), 
	`quÙe
 (
Çme
));

368 
fd
 = 
	`İ’
 (
Çme
, 
O_WRONLY
 | 
O_CREAT
 | 
O_BINARY
, 
MODE_RW_UGO
);

369 ià(
fd
 < 0)

370  
fd
;

371 
¡©
 
out_¡©_buf
;

372 ià(
	`f¡©
 (
fd
, &
out_¡©_buf
) != 0)

373 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("çedØ¡© %s"), 
	`quÙe
 (
Çme
));

374 ià(
	`SAME_INODE
 (
š_¡©_buf
, 
out_¡©_buf
))

375 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s would overwrite input;‡borting"),

376 
	`quÙe
 (
Çme
));

377 ià(
	`árunÿ‹
 (
fd
, 0) != 0)

378 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("%s:ƒ¼Ürunÿtšg"), 
	`quÙe
 (
Çme
));

380  
fd
;

384 
fd_·œ
[2];

385 
pid_t
 
chd_pid
;

386 cÚ¡ *
sh–l_´og
 = 
	`g‘’v
 ("SHELL");

387 ià(
sh–l_´og
 =ğ
NULL
)

388 
sh–l_´og
 = "/bin/sh";

389 ià(
	`£‹nv
 ("FILE", 
Çme
, 1) != 0)

390 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

391 
	`_
("failedo set FILEƒnvironment variable"));

392 ià(
v”bo£
)

393 
	`årštf
 (
¡dout
, 
	`_
("executšg w™h FILE=%s\n"), 
	`quÙe
 (
Çme
));

394 ià(
	`pe
 (
fd_·œ
) != 0)

395 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo create…ipe"));

396 
chd_pid
 = 
	`fÜk
 ();

397 ià(
chd_pid
 == 0)

402 
j
;

407 
j
 = 0; j < 
n_İ’_pes
; ++j)

408 ià(
	`şo£
 (
İ’_pes
[
j
]) != 0)

409 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("closing…rior…ipe"));

410 ià(
	`şo£
 (
fd_·œ
[1]))

411 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("closing output…ipe"));

412 ià(
fd_·œ
[0] !ğ
STDIN_FILENO
)

414 ià(
	`dup2
 (
fd_·œ
[0], 
STDIN_FILENO
) != STDIN_FILENO)

415 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("moving input…ipe"));

416 ià(
	`şo£
 (
fd_·œ
[0]) != 0)

417 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("closing input…ipe"));

419 
	`sig´ocmask
 (
SIG_SETMASK
, &
Şdblocked
, 
NULL
);

420 
	`exeş
 (
sh–l_´og
, 
	`Ï¡_compÚ’t
 (shell_prog), "-c",

421 
f‹r_commªd
, (*è
NULL
);

422 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo„un command: \"%s -c %s\""),

423 
sh–l_´og
, 
f‹r_commªd
);

425 ià(
chd_pid
 == -1)

426 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("fork system call failed"));

427 ià(
	`şo£
 (
fd_·œ
[0]) != 0)

428 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("failedo close input…ipe"));

429 
f‹r_pid
 = 
chd_pid
;

430 ià(
n_İ’_pes
 =ğ
İ’_pes_®loc
)

431 
İ’_pes
 = 
	`x2Ä—Îoc
 (İ’_pes, &
İ’_pes_®loc
,

432  *
İ’_pes
);

433 
İ’_pes
[
n_İ’_pes
++] = 
fd_·œ
[1];

434  
fd_·œ
[1];

436 
	}
}

442 
	$şo£out
 (
FILE
 *
å
, 
fd
, 
pid_t
 
pid
, cÚ¡ *
Çme
)

444 ià(
å
 !ğ
NULL
 && 
	`fşo£
 (åè!ğ0 && ! 
	`ignÜabË
 (
”ºo
))

445 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
Çme
);

446 ià(
fd
 >= 0)

448 ià(
å
 =ğ
NULL
 && 
	`şo£
 (
fd
) < 0)

449 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
Çme
);

450 
j
;

451 
j
 = 0; j < 
n_İ’_pes
; ++j)

453 ià(
İ’_pes
[
j
] =ğ
fd
)

455 
İ’_pes
[
j
] = o³n_pes[--
n_İ’_pes
];

460 ià(
pid
 > 0)

462 
w¡©us
 = 0;

463 ià(
	`wa™pid
 (
pid
, &
w¡©us
, 0è=ğ-1 && 
”ºo
 !ğ
ECHILD
)

464 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("waiting for child…rocess"));

465 ià(
	`WIFSIGNALED
 (
w¡©us
))

467 
sig
 = 
	`WTERMSIG
 (
w¡©us
);

468 ià(
sig
 !ğ
SIGPIPE
)

470 
sigÇme
[
	`MAX
 (
SIG2STR_MAX
, 
	`INT_BUFSIZE_BOUND
 ())];

471 ià(
	`sig2¡r
 (
sig
, 
sigÇme
) != 0)

472 
	`¥rštf
 (
sigÇme
, "%d", 
sig
);

473 
	`”rÜ
 (
sig
 + 128, 0,

474 
	`_
("with FILE=%s, signal %s from command: %s"),

475 
Çme
, 
sigÇme
, 
f‹r_commªd
);

478 ià(
	`WIFEXITED
 (
w¡©us
))

480 
ex
 = 
	`WEXITSTATUS
 (
w¡©us
);

481 ià(
ex
 != 0)

482 
	`”rÜ
 (
ex
, 0, 
	`_
("with FILE=%s,ƒxit %d from command: %s"),

483 
Çme
, 
ex
, 
f‹r_commªd
);

488 
	`”rÜ
 (
EXIT_FAILURE
, 0,

489 
	`_
("unknowÀ¡©u äom commªd (0x%X)"), 
w¡©us
);

492 
	}
}

499 
	$cwr™e
 (
boŞ
 
Ãw_fe_æag
, cÚ¡ *
bp
, 
size_t
 
by‹s
)

501 ià(
Ãw_fe_æag
)

503 ià(!
bp
 && 
by‹s
 =ğ0 && 
–ide_em±y_fes
)

505 
	`şo£out
 (
NULL
, 
ouut_desc
, 
f‹r_pid
, 
outfe
);

506 
	`Ãxt_fe_Çme
 ();

507 ià((
ouut_desc
 = 
	`ü—‹
 (
outfe
)) < 0)

508 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
outfe
);

510 ià(
	`fuÎ_wr™e
 (
ouut_desc
, 
bp
, 
by‹s
è!ğby‹ && ! 
	`ignÜabË
 (
”ºo
))

511 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
outfe
);

512 
	}
}

518 
	$by‹s_¥l™
 (
uštmax_t
 
n_by‹s
, *
buf
, 
size_t
 
bufsize
, uštmax_ˆ
max_fes
)

520 
size_t
 
n_»ad
;

521 
boŞ
 
Ãw_fe_æag
 = 
Œue
;

522 
size_t
 
to_»ad
;

523 
uštmax_t
 
to_wr™e
 = 
n_by‹s
;

524 *
bp_out
;

525 
uštmax_t
 
İ’ed
 = 0;

529 
n_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

530 ià(
n_»ad
 < 
bufsize
 && 
”ºo
)

531 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

532 
bp_out
 = 
buf
;

533 
to_»ad
 = 
n_»ad
;

534 
Œue
)

536 ià(
to_»ad
 < 
to_wr™e
)

538 ià(
to_»ad
)

540 
	`cwr™e
 (
Ãw_fe_æag
, 
bp_out
, 
to_»ad
);

541 
İ’ed
 +ğ
Ãw_fe_æag
;

542 
to_wr™e
 -ğ
to_»ad
;

543 
Ãw_fe_æag
 = 
çl£
;

549 
size_t
 
w
 = 
to_wr™e
;

550 
	`cwr™e
 (
Ãw_fe_æag
, 
bp_out
, 
w
);

551 
İ’ed
 +ğ
Ãw_fe_æag
;

552 
Ãw_fe_æag
 = !
max_fes
 || (
İ’ed
 < max_files);

553 ià(!
Ãw_fe_æag
 && 
	`ignÜabË
 (
”ºo
))

556 
n_»ad
 = 0;

559 
bp_out
 +ğ
w
;

560 
to_»ad
 -ğ
w
;

561 
to_wr™e
 = 
n_by‹s
;

565 
n_»ad
 =ğ
bufsize
);

570 
İ’ed
++ < 
max_fes
)

571 
	`cwr™e
 (
Œue
, 
NULL
, 0);

572 
	}
}

578 
	$lšes_¥l™
 (
uštmax_t
 
n_lšes
, *
buf
, 
size_t
 
bufsize
)

580 
size_t
 
n_»ad
;

581 *
bp
, *
bp_out
, *
eob
;

582 
boŞ
 
Ãw_fe_æag
 = 
Œue
;

583 
uštmax_t
 
n
 = 0;

587 
n_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

588 ià(
n_»ad
 < 
bufsize
 && 
”ºo
)

589 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

590 
bp
 = 
bp_out
 = 
buf
;

591 
eob
 = 
bp
 + 
n_»ad
;

592 *
eob
 = '\n';

593 
Œue
)

595 
bp
 = 
	`memchr
 (bp, '\n', 
eob
 - bp + 1);

596 ià(
bp
 =ğ
eob
)

598 ià(
eob
 !ğ
bp_out
)

600 
size_t
 
Ën
 = 
eob
 - 
bp_out
;

601 
	`cwr™e
 (
Ãw_fe_æag
, 
bp_out
, 
Ën
);

602 
Ãw_fe_æag
 = 
çl£
;

607 ++
bp
;

608 ià(++
n
 >ğ
n_lšes
)

610 
	`cwr™e
 (
Ãw_fe_æag
, 
bp_out
, 
bp
 - bp_out);

611 
bp_out
 = 
bp
;

612 
Ãw_fe_æag
 = 
Œue
;

613 
n
 = 0;

617 
n_»ad
 =ğ
bufsize
);

618 
	}
}

627 
	$lše_by‹s_¥l™
 (
size_t
 
n_by‹s
)

629 *
bp
;

630 
boŞ
 
eof
 = 
çl£
;

631 
size_t
 
n_bufã»d
 = 0;

632 *
buf
 = 
	`xm®loc
 (
n_by‹s
);

638 
size_t
 
to_»ad
 = 
n_by‹s
 - 
n_bufã»d
;

639 
size_t
 
n_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
 + 
n_bufã»d
, 
to_»ad
);

640 ià(
n_»ad
 < 
to_»ad
 && 
”ºo
)

641 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

643 
n_bufã»d
 +ğ
n_»ad
;

644 ià(
n_bufã»d
 !ğ
n_by‹s
)

646 ià(
n_bufã»d
 == 0)

648 
eof
 = 
Œue
;

652 
bp
 = 
buf
 + 
n_bufã»d
;

653 ià(
n_bufã»d
 =ğ
n_by‹s
)

655 
bp
 > 
buf
 && bp[-1] != '\n')

656 
bp
--;

660 ià(
bp
 =ğ
buf
)

661 
bp
 = 
buf
 + 
n_bufã»d
;

664 
	`cwr™e
 (
Œue
, 
buf
, 
bp
 - buf);

669 
n_bufã»d
 -ğ
bp
 - 
buf
;

670 ià(
n_bufã»d
 > 0)

671 
	`memmove
 (
buf
, 
bp
, 
n_bufã»d
);

673 !
eof
);

674 
	`ä“
 (
buf
);

675 
	}
}

686 
	$lšes_chunk_¥l™
 (
uštmax_t
 
k
, uštmax_ˆ
n
, *
buf
, 
size_t
 
bufsize
,

687 
off_t
 
fe_size
)

689 
	`as£¹
 (
n
 && 
k
 <ğÀ&&‚ <ğ
fe_size
);

691 cÚ¡ 
off_t
 
chunk_size
 = 
fe_size
 / 
n
;

692 
uštmax_t
 
chunk_no
 = 1;

693 
off_t
 
chunk_’d
 = 
chunk_size
 - 1;

694 
off_t
 
n_wr™‹n
 = 0;

695 
boŞ
 
Ãw_fe_æag
 = 
Œue
;

696 
boŞ
 
chunk_Œunÿ‹d
 = 
çl£
;

698 ià(
k
 > 1)

701 
off_t
 
¡¬t
 = (
k
 - 1è* 
chunk_size
 - 1;

702 ià(
	`l£ek
 (
STDIN_FILENO
, 
¡¬t
, 
SEEK_CUR
) < 0)

703 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

704 
n_wr™‹n
 = 
¡¬t
;

705 
chunk_no
 = 
k
 - 1;

706 
chunk_’d
 = 
chunk_no
 * 
chunk_size
 - 1;

709 
n_wr™‹n
 < 
fe_size
)

711 *
bp
 = 
buf
, *
eob
;

712 
size_t
 
n_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

713 ià(
n_»ad
 < 
bufsize
 && 
”ºo
)

714 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

715 ià(
n_»ad
 == 0)

717 
n_»ad
 = 
	`MIN
 (n_»ad, 
fe_size
 - 
n_wr™‹n
);

718 
chunk_Œunÿ‹d
 = 
çl£
;

719 
eob
 = 
buf
 + 
n_»ad
;

721 
bp
 !ğ
eob
)

723 
size_t
 
to_wr™e
;

724 
boŞ
 
Ãxt
 = 
çl£
;

727 
off_t
 
sk
 = 
	`MIN
 (
n_»ad
, 
	`MAX
 (0, 
chunk_’d
 - 
n_wr™‹n
));

728 *
bp_out
 = 
	`memchr
 (
bp
 + 
sk
, '\n', 
n_»ad
 - skip);

729 ià(
bp_out
++)

730 
Ãxt
 = 
Œue
;

732 
bp_out
 = 
eob
;

733 
to_wr™e
 = 
bp_out
 - 
bp
;

735 ià(
k
 =ğ
chunk_no
)

740 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
bp
, 
to_wr™e
) !=o_write)

741 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`_
("writeƒrror"));

743 ià(! 
k
)

744 
	`cwr™e
 (
Ãw_fe_æag
, 
bp
, 
to_wr™e
);

745 
n_wr™‹n
 +ğ
to_wr™e
;

746 
bp
 +ğ
to_wr™e
;

747 
n_»ad
 -ğ
to_wr™e
;

748 
Ãw_fe_æag
 = 
Ãxt
;

752 
Ãxt
 || 
chunk_’d
 <ğ
n_wr™‹n
 - 1)

754 ià(!
Ãxt
 && 
bp
 =ğ
eob
)

757 
chunk_Œunÿ‹d
 = 
Œue
;

760 
chunk_no
++;

761 ià(
k
 && 
chunk_no
 > k)

763 ià(
chunk_no
 =ğ
n
)

764 
chunk_’d
 = 
fe_size
 - 1;

766 
chunk_’d
 +ğ
chunk_size
;

767 ià(
chunk_’d
 <ğ
n_wr™‹n
 - 1)

769 ià(! 
k
)

770 
	`cwr™e
 (
Œue
, 
NULL
, 0);

773 
Ãxt
 = 
çl£
;

778 ià(
chunk_Œunÿ‹d
)

779 
chunk_no
++;

784 !
k
 && 
chunk_no
++ <ğ
n
)

785 
	`cwr™e
 (
Œue
, 
NULL
, 0);

786 
	}
}

791 
	$by‹s_chunk_exŒaù
 (
uštmax_t
 
k
, uštmax_ˆ
n
, *
buf
, 
size_t
 
bufsize
,

792 
off_t
 
fe_size
)

794 
off_t
 
¡¬t
;

795 
off_t
 
’d
;

797 
	`as£¹
 (
k
 && 
n
 && k <ğÀ&&‚ <ğ
fe_size
);

799 
¡¬t
 = (
k
 - 1è* (
fe_size
 / 
n
);

800 
’d
 = (
k
 =ğ
n
è? 
fe_size
 : k * (file_size /‚);

802 ià(
	`l£ek
 (
STDIN_FILENO
, 
¡¬t
, 
SEEK_CUR
) < 0)

803 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

805 
¡¬t
 < 
’d
)

807 
size_t
 
n_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

808 ià(
n_»ad
 < 
bufsize
 && 
”ºo
)

809 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

810 ià(
n_»ad
 == 0)

812 
n_»ad
 = 
	`MIN
 (n_»ad, 
’d
 - 
¡¬t
);

813 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
buf
, 
n_»ad
) !=‚_read

814 && ! 
	`ignÜabË
 (
”ºo
))

815 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`quÙe
 ("-"));

816 
¡¬t
 +ğ
n_»ad
;

818 
	}
}

820 
	sof_šfo


822 *
	mof_Çme
;

823 
	mofd
;

824 
FILE
 *
	mofe
;

825 
	mİid
;

826 } 
	tof_t
;

830 
	mOFD_NEW
 = -1,

831 
	mOFD_APPEND
 = -2

839 
boŞ


840 
	$ofe_İ’
 (
of_t
 *
fes
, 
size_t
 
i_check
, size_ˆ
nfes
)

842 
boŞ
 
fe_lim™
 = 
çl£
;

844 ià(
fes
[
i_check
].
ofd
 <ğ
OFD_NEW
)

846 
fd
;

847 
size_t
 
i_»İ’
 = 
i_check
 ? i_check - 1 : 
nfes
 - 1;

852 
Œue
)

854 ià(
fes
[
i_check
].
ofd
 =ğ
OFD_NEW
)

855 
fd
 = 
	`ü—‹
 (
fes
[
i_check
].
of_Çme
);

872 
fd
 = 
	`İ’
 (
fes
[
i_check
].
of_Çme
,

873 
O_WRONLY
 | 
O_BINARY
 | 
O_APPEND
 | 
O_NONBLOCK
);

876 ià(-1 < 
fd
)

879 ià(!(
”ºo
 =ğ
EMFILE
 ||ƒ¼nØ=ğ
ENFILE
))

880 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_check
].
of_Çme
);

882 
fe_lim™
 = 
Œue
;

885 
fes
[
i_»İ’
].
ofd
 < 0)

887 
i_»İ’
 = i_»İ’ ? i_»İ’ - 1 : 
nfes
 - 1;

889 ià(
i_»İ’
 =ğ
i_check
)

890 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_check
].
of_Çme
);

893 ià(
	`fşo£
 (
fes
[
i_»İ’
].
ofe
) != 0)

894 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_»İ’
].
of_Çme
);

895 
fes
[
i_»İ’
].
ofe
 = 
NULL
;

896 
fes
[
i_»İ’
].
ofd
 = 
OFD_APPEND
;

899 
fes
[
i_check
].
ofd
 = 
fd
;

900 ià(!(
fes
[
i_check
].
ofe
 = 
	`fdİ’
 (
fd
, "a")))

901 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_check
].
of_Çme
);

902 
fes
[
i_check
].
İid
 = 
f‹r_pid
;

903 
f‹r_pid
 = 0;

906  
fe_lim™
;

907 
	}
}

915 
	$lšes_¼
 (
uštmax_t
 
k
, uštmax_ˆ
n
, *
buf
, 
size_t
 
bufsize
)

917 
boŞ
 
w¿µed
 = 
çl£
;

918 
boŞ
 
wrÙe
 = 
çl£
;

919 
boŞ
 
fe_lim™
;

920 
size_t
 
i_fe
;

921 
of_t
 *
fes
 
	`IF_LINT
 (ğ
NULL
);

922 
uštmax_t
 
lše_no
;

924 ià(
k
)

925 
lše_no
 = 1;

928 ià(
SIZE_MAX
 < 
n
)

929 
	`”rÜ
 (
ex™_çu»
, 0, "%s", 
	`_
("memoryƒxhausted"));

930 
fes
 = 
	`xnm®loc
 (
n
,  *files);

933 
i_fe
 = 0; i_f< 
n
; i_file++)

935 
	`Ãxt_fe_Çme
 ();

936 
fes
[
i_fe
].
of_Çme
 = 
	`x¡rdup
 (
outfe
);

937 
fes
[
i_fe
].
ofd
 = 
OFD_NEW
;

938 
fes
[
i_fe
].
ofe
 = 
NULL
;

939 
fes
[
i_fe
].
İid
 = 0;

941 
i_fe
 = 0;

942 
fe_lim™
 = 
çl£
;

945 
Œue
)

947 *
bp
 = 
buf
, *
eob
;

950 
size_t
 
n_»ad
 = 
	`§ã_»ad
 (
STDIN_FILENO
, 
buf
, 
bufsize
);

951 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

952 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

953 ià(
n_»ad
 == 0)

955 
eob
 = 
buf
 + 
n_»ad
;

957 
bp
 !ğ
eob
)

959 
size_t
 
to_wr™e
;

960 
boŞ
 
Ãxt
 = 
çl£
;

963 *
bp_out
 = 
	`memchr
 (
bp
, '\n', 
eob
 - bp);

964 ià(
bp_out
)

966 
bp_out
++;

967 
Ãxt
 = 
Œue
;

970 
bp_out
 = 
eob
;

971 
to_wr™e
 = 
bp_out
 - 
bp
;

973 ià(
k
)

975 ià(
lše_no
 =ğ
k
 && 
unbufã»d
)

977 ià(
	`fuÎ_wr™e
 (
STDOUT_FILENO
, 
bp
, 
to_wr™e
) !=o_write)

978 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`_
("writeƒrror"));

980 ià(
lše_no
 =ğ
k
 && 
	`fwr™e
 (
bp
, 
to_wr™e
, 1, 
¡dout
) != 1)

982 
	`ş—»¼
 (
¡dout
);

983 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
	`_
("writeƒrror"));

985 ià(
Ãxt
)

986 
lše_no
 = (lše_nØ=ğ
n
) ? 1 :†ine_no + 1;

991 
fe_lim™
 |ğ
	`ofe_İ’
 (
fes
, 
i_fe
, 
n
);

992 ià(
unbufã»d
)

996 ià(
	`fuÎ_wr™e
 (
fes
[
i_fe
].
ofd
, 
bp
, 
to_wr™e
) !=o_write

997 && ! 
	`ignÜabË
 (
”ºo
))

998 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_fe
].
of_Çme
);

1000 ià(
	`fwr™e
 (
bp
, 
to_wr™e
, 1, 
fes
[
i_fe
].
ofe
) != 1

1001 && ! 
	`ignÜabË
 (
”ºo
))

1002 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_fe
].
of_Çme
);

1003 ià(! 
	`ignÜabË
 (
”ºo
))

1004 
wrÙe
 = 
Œue
;

1006 ià(
fe_lim™
)

1008 ià(
	`fşo£
 (
fes
[
i_fe
].
ofe
) != 0)

1009 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fes
[
i_fe
].
of_Çme
);

1010 
fes
[
i_fe
].
ofe
 = 
NULL
;

1011 
fes
[
i_fe
].
ofd
 = 
OFD_APPEND
;

1013 ià(
Ãxt
 && ++
i_fe
 =ğ
n
)

1015 
w¿µed
 = 
Œue
;

1017 ià(! 
wrÙe
)

1018 
no_f‹rs
;

1019 
wrÙe
 = 
çl£
;

1020 
i_fe
 = 0;

1024 
bp
 = 
bp_out
;

1028 
no_f‹rs
:

1033 ià(!
k
)

1035 
ûšg
 = (
w¿µed
 ? 
n
 : 
i_fe
);

1036 
i_fe
 = 0; i_f< 
n
; i_file++)

1038 ià(
i_fe
 >ğ
ûšg
 && !
–ide_em±y_fes
)

1039 
fe_lim™
 |ğ
	`ofe_İ’
 (
fes
, 
i_fe
, 
n
);

1040 ià(
fes
[
i_fe
].
ofd
 >= 0)

1041 
	`şo£out
 (
fes
[
i_fe
].
ofe
, fes[i_fe].
ofd
,

1042 
fes
[
i_fe
].
İid
, fes[i_fe].
of_Çme
);

1043 
fes
[
i_fe
].
ofd
 = 
OFD_APPEND
;

1046 
	`IF_LINT
 (
	`ä“
 (
fes
));

1047 
	}
}

1049 
	#FAIL_ONLY_ONE_WAY
() \

1052 
	`”rÜ
 (0, 0, 
	`_
("cannot split in morehan one way")); \

1053 
	`u§ge
 (
EXIT_FAILURE
); \

1055 0)

	)

1060 
	$·r£_chunk
 (
uštmax_t
 *
k_un™s
, uštmax_ˆ*
n_un™s
, *
¦ash
)

1062 *
¦ash
 = '\0';

1063 ià(
	`x¡¹oumax
 (
¦ash
 + 1, 
NULL
, 10, 
n_un™s
, ""è!ğ
LONGINT_OK


1064 || *
n_un™s
 == 0)

1065 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id‚umb” oàchunks"), 
¦ash
 + 1);

1066 ià(
¦ash
 !ğ
İrg


1067 && (
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, 
k_un™s
, ""è!ğ
LONGINT_OK


1068 || *
k_un™s
 =ğ0 || *
n_un™s
 < *k_units))

1069 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id chunk‚umb”"), 
İrg
);

1070 
	}
}

1074 
	$maš
 (
¬gc
, **
¬gv
)

1076 
S¶™_ty³
 
¥l™_ty³
 = 
ty³_undef
;

1077 
size_t
 
š_blk_size
 = 0;

1078 
size_t
 
·ge_size
 = 
	`g‘·gesize
 ();

1079 
uštmax_t
 
k_un™s
 = 0;

1080 
uštmax_t
 
n_un™s
;

1082 cÚ¡ 
muÉl›rs
[] = "bEGKkMmPTYZ0";

1083 
c
;

1084 
dig™s_İtšd
 = 0;

1085 
off_t
 
fe_size
 
	`IF_LINT
 (= 0);

1087 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1088 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1089 
	`£oÿË
 (
LC_ALL
, "");

1090 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1091 
	`‹xtdomaš
 (
PACKAGE
);

1093 
	`©ex™
 (
şo£_¡dout
);

1097 
šfe
 = 
	`bad_ÿ¡
 ("-");

1098 
outba£
 = 
	`bad_ÿ¡
 ("x");

1100 
Œue
)

1103 
this_İtšd
 = 
İtšd
 ? optind : 1;

1104 *
¦ash
;

1106 
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "0123456789C:a:b:del:n:u",

1107 
lÚgİts
, 
NULL
);

1108 ià(
c
 == -1)

1111 
c
)

1115 
tmp
;

1116 ià(
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
tmp
, ""è!ğ
LONGINT_OK


1117 || 
SIZE_MAX
 /  (
size_t
è< 
tmp
)

1119 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id suffix†’gth"), 
İrg
);

1120 
	`u§ge
 (
EXIT_FAILURE
);

1122 
suffix_Ëngth
 = 
tmp
;

1126 
ADDITIONAL_SUFFIX_OPTION
:

1127 ià(
	`Ï¡_compÚ’t
 (
İrg
) != optarg)

1129 
	`”rÜ
 (0, 0,

1130 
	`_
("invalid suffix %s, contains directory separator"),

1131 
	`quÙe
 (
İrg
));

1132 
	`u§ge
 (
EXIT_FAILURE
);

1134 
add™iÚ®_suffix
 = 
İrg
;

1138 ià(
¥l™_ty³
 !ğ
ty³_undef
)

1139 
	`FAIL_ONLY_ONE_WAY
 ();

1140 
¥l™_ty³
 = 
ty³_by‹s
;

1141 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
n_un™s
, 
muÉl›rs
è!ğ
LONGINT_OK


1142 || 
n_un™s
 == 0)

1144 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id‚umb” oàby‹s"), 
İrg
);

1145 
	`u§ge
 (
EXIT_FAILURE
);

1150 ià(
OFF_T_MAX
 < 
n_un™s
)

1151 
	`”rÜ
 (
EXIT_FAILURE
, 
EFBIG
,

1152 
	`_
("%s: inv®id‚umb” oàby‹s"), 
İrg
);

1157 ià(
¥l™_ty³
 !ğ
ty³_undef
)

1158 
	`FAIL_ONLY_ONE_WAY
 ();

1159 
¥l™_ty³
 = 
ty³_lšes
;

1160 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
n_un™s
, ""è!ğ
LONGINT_OK


1161 || 
n_un™s
 == 0)

1163 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id‚umb” oàlšes"), 
İrg
);

1164 
	`u§ge
 (
EXIT_FAILURE
);

1169 ià(
¥l™_ty³
 !ğ
ty³_undef
)

1170 
	`FAIL_ONLY_ONE_WAY
 ();

1171 
¥l™_ty³
 = 
ty³_by‹¦šes
;

1172 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
n_un™s
, 
muÉl›rs
è!ğ
LONGINT_OK


1173 || 
n_un™s
 =ğ0 || 
SIZE_MAX
 <‚_units)

1175 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id‚umb” oàby‹s"), 
İrg
);

1176 
	`u§ge
 (
EXIT_FAILURE
);

1178 ià(
OFF_T_MAX
 < 
n_un™s
)

1179 
	`”rÜ
 (
EXIT_FAILURE
, 
EFBIG
,

1180 
	`_
("%s: inv®id‚umb” oàby‹s"), 
İrg
);

1184 ià(
¥l™_ty³
 !ğ
ty³_undef
)

1185 
	`FAIL_ONLY_ONE_WAY
 ();

1187 
	`is¥aû
 (
	`to_uch¬
 (*
İrg
)))

1188 
İrg
++;

1189 ià(
	`STRNCMP_LIT
 (
İrg
, "r/") == 0)

1191 
¥l™_ty³
 = 
ty³_¼
;

1192 
İrg
 += 2;

1194 ià(
	`STRNCMP_LIT
 (
İrg
, "l/") == 0)

1196 
¥l™_ty³
 = 
ty³_chunk_lšes
;

1197 
İrg
 += 2;

1200 
¥l™_ty³
 = 
ty³_chunk_by‹s
;

1201 ià((
¦ash
 = 
	`¡rchr
 (
İrg
, '/')))

1202 
	`·r£_chunk
 (&
k_un™s
, &
n_un™s
, 
¦ash
);

1203 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
n_un™s
, ""è!ğ
LONGINT_OK


1204 || 
n_un™s
 == 0)

1205 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id‚umb” oàchunks"), 
İrg
);

1209 
unbufã»d
 = 
Œue
;

1222 ià(
¥l™_ty³
 =ğ
ty³_undef
)

1224 
¥l™_ty³
 = 
ty³_dig™s
;

1225 
n_un™s
 = 0;

1227 ià(
¥l™_ty³
 !ğ
ty³_undef
 && s¶™_ty³ !ğ
ty³_dig™s
)

1228 
	`FAIL_ONLY_ONE_WAY
 ();

1229 ià(
dig™s_İtšd
 !ğ0 && dig™s_İtšd !ğ
this_İtšd
)

1230 
n_un™s
 = 0;

1231 
dig™s_İtšd
 = 
this_İtšd
;

1232 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
n_un™s
, 
c
 - '0', 
uštmax_t
))

1234 
bufãr
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

1235 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1236 
	`_
("line count option -%s%c... isoo†arge"),

1237 
	`umaxto¡r
 (
n_un™s
, 
bufãr
), 
c
);

1242 
suffix_®phab‘
 = "0123456789";

1243 ià(
İrg
)

1245 ià(
	`¡¾’
 (
İrg
è!ğ
	`¡r¥n
 (İrg, 
suffix_®phab‘
))

1247 
	`”rÜ
 (0, 0,

1248 
	`_
("%s: invalid start value for‚umerical suffix"),

1249 
İrg
);

1250 
	`u§ge
 (
EXIT_FAILURE
);

1255 *
İrg
 == '0' && *(optarg + 1) != '\0')

1256 
İrg
++;

1257 
num”ic_suffix_¡¬t
 = 
İrg
;

1263 
–ide_em±y_fes
 = 
Œue
;

1266 
FILTER_OPTION
:

1267 
f‹r_commªd
 = 
İrg
;

1270 
IO_BLKSIZE_OPTION
:

1272 
uštmax_t
 
tmp_blk_size
;

1273 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, &
tmp_blk_size
,

1274 
muÉl›rs
è!ğ
LONGINT_OK


1275 || 
tmp_blk_size
 =ğ0 || 
SIZE_MAX
 - 
·ge_size
 <mp_blk_size)

1276 
	`”rÜ
 (0, 0, 
	`_
("%s: inv®id IO block size"), 
İrg
);

1278 
š_blk_size
 = 
tmp_blk_size
;

1282 
VERBOSE_OPTION
:

1283 
v”bo£
 = 
Œue
;

1286 
ÿ£_GETOPT_HELP_CHAR
;

1288 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1291 
	`u§ge
 (
EXIT_FAILURE
);

1295 ià(
k_un™s
 !ğ0 && 
f‹r_commªd
)

1297 
	`”rÜ
 (0, 0, 
	`_
("--filter does‚ot…rocess‡ chunkƒxtractedo stdout"));

1298 
	`u§ge
 (
EXIT_FAILURE
);

1302 ià(
¥l™_ty³
 =ğ
ty³_undef
)

1304 
¥l™_ty³
 = 
ty³_lšes
;

1305 
n_un™s
 = 1000;

1308 ià(
n_un™s
 == 0)

1310 
	`”rÜ
 (0, 0, 
	`_
("%s: invalid‚umber of†ines"), "0");

1311 
	`u§ge
 (
EXIT_FAILURE
);

1314 
	`£t_suffix_Ëngth
 (
n_un™s
, 
¥l™_ty³
);

1318 ià(
İtšd
 < 
¬gc
)

1319 
šfe
 = 
¬gv
[
İtšd
++];

1321 ià(
İtšd
 < 
¬gc
)

1322 
outba£
 = 
¬gv
[
İtšd
++];

1324 ià(
İtšd
 < 
¬gc
)

1326 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

1327 
	`u§ge
 (
EXIT_FAILURE
);

1332 ià(
num”ic_suffix_¡¬t
 && 
	`¡¾’
 (num”ic_suffix_¡¬tè> 
suffix_Ëngth
)

1334 
	`”rÜ
 (0, 0, 
	`_
("numerical suffix start value isoo†arge "

1336 
	`u§ge
 (
EXIT_FAILURE
);

1340 ià(! 
	`STREQ
 (
šfe
, "-")

1341 && 
	`fd_»İ’
 (
STDIN_FILENO
, 
šfe
, 
O_RDONLY
, 0) < 0)

1342 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot open %s for„eading"),

1343 
	`quÙe
 (
šfe
));

1346 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

1347 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

1351 ià(
	`f¡©
 (
STDIN_FILENO
, &
š_¡©_buf
) != 0)

1352 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

1353 ià(
š_blk_size
 == 0)

1354 
š_blk_size
 = 
	`io_blksize
 (
š_¡©_buf
);

1356 ià(
¥l™_ty³
 =ğ
ty³_chunk_by‹s
 || s¶™_ty³ =ğ
ty³_chunk_lšes
)

1358 
off_t
 
šput_off£t
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_CUR
);

1359 ià(
	`u§bË_¡_size
 (&
š_¡©_buf
))

1360 
fe_size
 = 
š_¡©_buf
.
¡_size
;

1361 ià(0 <ğ
šput_off£t
)

1363 
fe_size
 = 
	`l£ek
 (
STDIN_FILENO
, 0, 
SEEK_END
);

1364 
šput_off£t
 = (
fe_size
 < 0

1365 ? 
fe_size


1366 : 
	`l£ek
 (
STDIN_FILENO
, 
šput_off£t
, 
SEEK_SET
));

1368 ià(
šput_off£t
 < 0)

1369 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: cannot determine file size"),

1370 
	`quÙe
 (
šfe
));

1371 
fe_size
 -ğ
šput_off£t
;

1373 ià(
OFF_T_MAX
 < 
n_un™s
)

1375 
bufãr
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

1376 
	`”rÜ
 (
EXIT_FAILURE
, 
EFBIG
, 
	`_
("%s: invalid‚umber of chunks"),

1377 
	`umaxto¡r
 (
n_un™s
, 
bufãr
));

1381 
fe_size
 = 
	`MAX
 (fe_size, 
n_un™s
);

1384 *
b
 = 
	`xm®loc
 (
š_blk_size
 + 1 + 
·ge_size
 - 1);

1385 *
buf
 = 
	`±r_®ign
 (
b
, 
·ge_size
);

1389 ià(
f‹r_commªd
)

1391 
sigaùiÚ
 
aù
;

1392 
	`sigem±y£t
 (&
Ãwblocked
);

1393 
	`sigaùiÚ
 (
SIGPIPE
, 
NULL
, &
aù
);

1394 ià(
aù
.
§_hªdËr
 !ğ
SIG_IGN
)

1395 
	`sigadd£t
 (&
Ãwblocked
, 
SIGPIPE
);

1396 
	`sig´ocmask
 (
SIG_BLOCK
, &
Ãwblocked
, &
Şdblocked
);

1399 
¥l™_ty³
)

1401 
ty³_dig™s
:

1402 
ty³_lšes
:

1403 
	`lšes_¥l™
 (
n_un™s
, 
buf
, 
š_blk_size
);

1406 
ty³_by‹s
:

1407 
	`by‹s_¥l™
 (
n_un™s
, 
buf
, 
š_blk_size
, 0);

1410 
ty³_by‹¦šes
:

1411 
	`lše_by‹s_¥l™
 (
n_un™s
);

1414 
ty³_chunk_by‹s
:

1415 ià(
k_un™s
 == 0)

1416 
	`by‹s_¥l™
 (
fe_size
 / 
n_un™s
, 
buf
, 
š_blk_size
,‚_units);

1418 
	`by‹s_chunk_exŒaù
 (
k_un™s
, 
n_un™s
, 
buf
, 
š_blk_size
, 
fe_size
);

1421 
ty³_chunk_lšes
:

1422 
	`lšes_chunk_¥l™
 (
k_un™s
, 
n_un™s
, 
buf
, 
š_blk_size
, 
fe_size
);

1425 
ty³_¼
:

1428 
	`lšes_¼
 (
k_un™s
, 
n_un™s
, 
buf
, 
š_blk_size
);

1432 
	`abÜt
 ();

1435 
	`IF_LINT
 (
	`ä“
 (
b
));

1437 ià(
	`şo£
 (
STDIN_FILENO
) != 0)

1438 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

1439 
	`şo£out
 (
NULL
, 
ouut_desc
, 
f‹r_pid
, 
outfe
);

1441 
	`ex™
 (
EXIT_SUCCESS
);

1442 
	}
}

	@stat.c

19 
	~<cÚfig.h
>

23 #ià((
STAT_STATVFS
 || 
STAT_STATVFS64
) \

24 && (
	gHAVE_STRUCT_STATVFS_F_BASETYPE
 || 
	gHAVE_STRUCT_STATVFS_F_FSTYPENAME
 \

25 || (! 
	gHAVE_STRUCT_STATFS_F_FSTYPENAME
 && 
	gHAVE_STRUCT_STATVFS_F_TYPE
)))

26 
	#USE_STATVFS
 1

	)

28 
	#USE_STATVFS
 0

	)

31 
	~<¡ddef.h
>

32 
	~<¡dio.h
>

33 
	~<¡d®ign.h
>

34 
	~<sys/ty³s.h
>

35 
	~<pwd.h
>

36 
	~<g½.h
>

37 #ià
USE_STATVFS


38 
	~<sys/¡©vfs.h
>

39 #–ià
HAVE_SYS_VFS_H


40 
	~<sys/vfs.h
>

41 #–ià
HAVE_SYS_MOUNT_H
 && 
HAVE_SYS_PARAM_H


46 
	~<sys/·¿m.h
>

47 
	~<sys/mouÁ.h
>

48 #ià
HAVE_NFS_NFS_CLNT_H
 && 
HAVE_NFS_VFS_H


50 
	~<Ãtš‘/š.h
>

51 
	~<nfs/nfs_şÁ.h
>

52 
	~<nfs/vfs.h
>

54 #–ià
HAVE_OS_H


55 
	~<fs_šfo.h
>

57 
	~<£lšux/£lšux.h
>

59 
	~"sy¡em.h
"

61 
	~"¬—dlšk.h
"

62 
	~"”rÜ.h
"

63 
	~"fe-ty³.h
"

64 
	~"femode.h
"

65 
	~"fs.h
"

66 
	~"g‘İt.h
"

67 
	~"mouÁli¡.h
"

68 
	~"quÙe.h
"

69 
	~"quÙ—rg.h
"

70 
	~"¡©-size.h
"

71 
	~"¡©-time.h
"

72 
	~"¡ráime.h
"

73 
	~"fšd-mouÁ-pošt.h
"

74 
	~"xva¥rštf.h
"

76 #ià
USE_STATVFS


77 
	#STRUCT_STATVFS
 
¡©vfs


	)

78 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
STRUCT_STATVFS_F_FSID_IS_INTEGER


	)

79 
	#HAVE_STRUCT_STATXFS_F_TYPE
 
HAVE_STRUCT_STATVFS_F_TYPE


	)

80 #ià
HAVE_STRUCT_STATVFS_F_NAMEMAX


81 
	#SB_F_NAMEMAX
(
S
è((S)->
f_Çmemax
)

	)

83 #ià! 
STAT_STATVFS
 && 
STAT_STATVFS64


84 
	#STATFS
 
¡©vfs64


	)

86 
	#STATFS
 
¡©vfs


	)

88 
	#STATFS_FRSIZE
(
S
è((S)->
f_äsize
)

	)

90 
	#HAVE_STRUCT_STATXFS_F_TYPE
 
HAVE_STRUCT_STATFS_F_TYPE


	)

91 #ià
HAVE_STRUCT_STATFS_F_NAMELEN


92 
	#SB_F_NAMEMAX
(
S
è((S)->
f_Çm–’
)

	)

94 
	#STATFS
 
¡©fs


	)

95 #ià
HAVE_OS_H


99 
ATTRIBUTE_WARN_UNUSED_RESULT


100 
	$¡©fs
 (cÚ¡ *
f’ame
, 
fs_šfo
 *
buf
)

102 
dev_t
 
deviû
 = 
	`dev_fÜ_·th
 (
f’ame
);

103 ià(
deviû
 < 0)

105 
”ºo
 = (
deviû
 =ğ
B_ENTRY_NOT_FOUND
 ? 
ENOENT


106 : 
deviû
 =ğ
B_BAD_VALUE
 ? 
EINVAL


107 : 
deviû
 =ğ
B_NAME_TOO_LONG
 ? 
ENAMETOOLONG


108 : 
deviû
 =ğ
B_NO_MEMORY
 ? 
ENOMEM


109 : 
deviû
 =ğ
B_FILE_ERROR
 ? 
EIO


114  
	`fs_¡©_dev
 (
deviû
, 
buf
);

115 
	}
}

116 
	#f_fsid
 
dev


	)

117 
	#f_blocks
 
tÙ®_blocks


	)

118 
	#f_bä“
 
ä“_blocks


	)

119 
	#f_bava
 
ä“_blocks


	)

120 
	#f_bsize
 
io_size


	)

121 
	#f_fes
 
tÙ®_nodes


	)

122 
	#f_fä“
 
ä“_nodes


	)

123 
	#STRUCT_STATVFS
 
fs_šfo


	)

124 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
Œue


	)

125 
	#STATFS_FRSIZE
(
S
è((S)->
block_size
)

	)

127 
	#STRUCT_STATVFS
 
¡©fs


	)

128 
	#STRUCT_STATXFS_F_FSID_IS_INTEGER
 
STRUCT_STATFS_F_FSID_IS_INTEGER


	)

129 #ià
HAVE_STRUCT_STATFS_F_FRSIZE


130 
	#STATFS_FRSIZE
(
S
è((S)->
f_äsize
)

	)

132 
	#STATFS_FRSIZE
(
S
è0

	)

137 #ifdeà
SB_F_NAMEMAX


138 
	#OUT_NAMEMAX
 
out_ušt


	)

141 
	#SB_F_NAMEMAX
(
S
è"*"

	)

142 
	#OUT_NAMEMAX
 
out_¡ršg


	)

145 #ià
HAVE_STRUCT_STATVFS_F_BASETYPE


146 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
f_ba£ty³


	)

148 #ià
HAVE_STRUCT_STATVFS_F_FSTYPENAME
 || 
HAVE_STRUCT_STATFS_F_FSTYPENAME


149 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
f_f¡y³Çme


	)

150 #–ià
HAVE_OS_H


151 
	#STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
 
fsh_Çme


	)

156 
	#isodig™
(
c
è('0' <ğ(cè&& (cè<ğ'7')

	)

157 
	#oùtobš
(
c
è((cè- '0')

	)

158 
	#hextobš
(
c
) ((c) >= 'a' && (c) <= 'f' ? (c) - 'a' + 10 : \

159 (
c
è>ğ'A' && (cè<ğ'F' ? (cè- 'A' + 10 : (cè- '0')

	)

161 cÚ¡ 
	gdig™s
[] = "0123456789";

169 cÚ¡ 
	g´štf_æags
[] = "'-+ #0I";

171 
	#PROGRAM_NAME
 "¡©"

	)

173 
	#AUTHORS
 
	`´İ”_Çme
 ("Mich«ÈMeskes")

	)

177 
	mPRINTF_OPTION
 = 
CHAR_MAX
 + 1

180 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

182 {"cÚ‹xt", 
no_¬gum’t
, 0, 'Z'},

183 {"d”eã»nû", 
no_¬gum’t
, 
NULL
, 'L'},

184 {"fe-sy¡em", 
no_¬gum’t
, 
NULL
, 'f'},

185 {"fÜm©", 
»quœed_¬gum’t
, 
NULL
, 'c'},

186 {"´štf", 
»quœed_¬gum’t
, 
NULL
, 
PRINTF_OPTION
},

187 {"‹r£", 
no_¬gum’t
, 
NULL
, 't'},

188 {
GETOPT_HELP_OPTION_DECL
},

189 {
GETOPT_VERSION_OPTION_DECL
},

190 {
NULL
, 0, NULL, 0}

194 
boŞ
 
	gfŞlow_lšks
;

198 
boŞ
 
	gš‹½»t_back¦ash_esÿ³s
;

202 cÚ¡ *
	gŒašg_d–im
 = "";

205 cÚ¡ *
	gdecim®_pošt
;

206 
size_t
 
	gdecim®_pošt_Ën
;

214 cÚ¡ * 
ATTRIBUTE_WARN_UNUSED_RESULT


215 
	$humª_f¡y³
 (
STRUCT_STATVFS
 cÚ¡ *
¡©fsbuf
)

217 #ifdeà
STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME


218  
¡©fsbuf
->
STATXFS_FILE_SYSTEM_TYPE_MEMBER_NAME
;

220 
¡©fsbuf
->
f_ty³
)

222 #ià
defšed
 
__lšux__


244 
S_MAGIC_ADFS
:

246 
S_MAGIC_AFFS
:

248 
S_MAGIC_AFS
:

250 
S_MAGIC_ANON_INODE_FS
:

252 
S_MAGIC_AUFS
:

257 
S_MAGIC_AUTOFS
:

259 
S_MAGIC_BEFS
:

261 
S_MAGIC_BDEVFS
:

263 
S_MAGIC_BFS
:

265 
S_MAGIC_BINFMTFS
:

267 
S_MAGIC_BTRFS
:

269 
S_MAGIC_CEPH
:

271 
S_MAGIC_CGROUP
:

273 
S_MAGIC_CIFS
:

275 
S_MAGIC_CODA
:

277 
S_MAGIC_COH
:

279 
S_MAGIC_CRAMFS
:

281 
S_MAGIC_CRAMFS_WEND
:

283 
S_MAGIC_DEBUGFS
:

285 
S_MAGIC_DEVFS
:

287 
S_MAGIC_DEVPTS
:

289 
S_MAGIC_ECRYPTFS
:

291 
S_MAGIC_EFS
:

293 
S_MAGIC_EXT
:

295 
S_MAGIC_EXT2
:

297 
S_MAGIC_EXT2_OLD
:

299 
S_MAGIC_FAT
:

301 
S_MAGIC_FHGFS
:

303 
S_MAGIC_FUSEBLK
:

305 
S_MAGIC_FUSECTL
:

307 
S_MAGIC_FUTEXFS
:

309 
S_MAGIC_GFS
:

311 
S_MAGIC_GPFS
:

313 
S_MAGIC_HFS
:

315 
S_MAGIC_HPFS
:

317 
S_MAGIC_HUGETLBFS
:

319 
S_MAGIC_MTD_INODE_FS
:

321 
S_MAGIC_INOTIFYFS
:

323 
S_MAGIC_ISOFS
:

325 
S_MAGIC_ISOFS_R_WIN
:

327 
S_MAGIC_ISOFS_WIN
:

329 
S_MAGIC_JFFS
:

331 
S_MAGIC_JFFS2
:

333 
S_MAGIC_JFS
:

335 
S_MAGIC_KAFS
:

337 
S_MAGIC_LUSTRE
:

339 
S_MAGIC_MINIX
:

341 
S_MAGIC_MINIX_30
:

343 
S_MAGIC_MINIX_V2
:

345 
S_MAGIC_MINIX_V2_30
:

347 
S_MAGIC_MINIX_V3
:

349 
S_MAGIC_MQUEUE
:

351 
S_MAGIC_MSDOS
:

353 
S_MAGIC_NCP
:

355 
S_MAGIC_NFS
:

357 
S_MAGIC_NFSD
:

359 
S_MAGIC_NILFS
:

361 
S_MAGIC_NTFS
:

363 
S_MAGIC_OPENPROM
:

365 
S_MAGIC_OCFS2
:

367 
S_MAGIC_PANFS
:

369 
S_MAGIC_PIPEFS
:

374 
S_MAGIC_PROC
:

376 
S_MAGIC_PSTOREFS
:

378 
S_MAGIC_QNX4
:

380 
S_MAGIC_QNX6
:

382 
S_MAGIC_RAMFS
:

384 
S_MAGIC_REISERFS
:

386 
S_MAGIC_ROMFS
:

388 
S_MAGIC_RPC_PIPEFS
:

390 
S_MAGIC_SECURITYFS
:

392 
S_MAGIC_SELINUX
:

394 
S_MAGIC_SMB
:

396 
S_MAGIC_SOCKFS
:

398 
S_MAGIC_SQUASHFS
:

400 
S_MAGIC_SYSFS
:

402 
S_MAGIC_SYSV2
:

404 
S_MAGIC_SYSV4
:

406 
S_MAGIC_TMPFS
:

408 
S_MAGIC_UDF
:

410 
S_MAGIC_UFS
:

412 
S_MAGIC_UFS_BYTESWAPPED
:

414 
S_MAGIC_USBDEVFS
:

416 
S_MAGIC_V9FS
:

418 
S_MAGIC_VMHGFS
:

420 
S_MAGIC_VXFS
:

422 
S_MAGIC_VZFS
:

424 
S_MAGIC_XENFS
:

426 
S_MAGIC_XENIX
:

428 
S_MAGIC_XFS
:

430 
S_MAGIC_XIAFS
:

432 
S_MAGIC_ZFS
:

435 #–ià
__GNU__


436 
FSTYPE_UFS
:

438 
FSTYPE_NFS
:

440 
FSTYPE_GFS
:

442 
FSTYPE_LFS
:

444 
FSTYPE_SYSV
:

446 
FSTYPE_FTP
:

448 
FSTYPE_TAR
:

450 
FSTYPE_AR
:

452 
FSTYPE_CPIO
:

454 
FSTYPE_MSLOSS
:

456 
FSTYPE_CPM
:

458 
FSTYPE_HFS
:

460 
FSTYPE_DTFS
:

462 
FSTYPE_GRFS
:

464 
FSTYPE_TERM
:

466 
FSTYPE_DEV
:

468 
FSTYPE_PROC
:

470 
FSTYPE_IFSOCK
:

472 
FSTYPE_AFS
:

474 
FSTYPE_DFS
:

476 
FSTYPE_PROC9
:

478 
FSTYPE_SOCKET
:

480 
FSTYPE_MISC
:

482 
FSTYPE_EXT2FS
:

484 
FSTYPE_HTTP
:

486 
FSTYPE_MEMFS
:

488 
FSTYPE_ISO9660
:

493 
ty³
 = 
¡©fsbuf
->
f_ty³
;

494 
buf
[ "UNKNOWN (0x%lx)" - 3

495 + ( 
ty³
 * 
CHAR_BIT
 + 3) / 4];

496 
	`¥rštf
 (
buf
, "UNKNOWN (0x%lx)", 
ty³
);

497  
buf
;

501 
	}
}

503 * 
ATTRIBUTE_WARN_UNUSED_RESULT


504 
	$humª_acûss
 (
¡©
 cÚ¡ *
¡©buf
)

506 
modebuf
[12];

507 
	`femode¡ršg
 (
¡©buf
, 
modebuf
);

508 
modebuf
[10] = 0;

509  
modebuf
;

510 
	}
}

512 * 
ATTRIBUTE_WARN_UNUSED_RESULT


513 
	$humª_time
 (
time¥ec
 
t
)

515 
¡r
[
	`MAX
 (
	`INT_BUFSIZE_BOUND
 (
štmax_t
),

516 (
	`INT_STRLEN_BOUND
 ()

519 
tm
 cÚ¡ *tm = 
	`loÿÉime
 (&
t
.
tv_£c
);

520 ià(
tm
 =ğ
NULL
)

521  
	`tim‘o¡r
 (
t
.
tv_£c
, 
¡r
);

522 
	`n¡ráime
 (
¡r
,  sŒ, "%Y-%m-%d %H:%M:%S.%N %z", 
tm
, 0, 
t
.
tv_n£c
);

523  
¡r
;

524 
	}
}

531 
	$make_fÜm©
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, cÚ¡ *
®lowed_æags
,

532 cÚ¡ *
suffix
)

534 *
d¡
 = 
pfÜm©
 + 1;

535 cÚ¡ *
¤c
;

536 cÚ¡ *
¤şim
 = 
pfÜm©
 + 
´efix_Ën
;

537 
¤c
 = 
d¡
; srø< 
¤şim
 && 
	`¡rchr
 (
´štf_æags
, *src); src++)

538 ià(
	`¡rchr
 (
®lowed_æags
, *
¤c
))

539 *
d¡
++ = *
¤c
;

540 
¤c
 < 
¤şim
)

541 *
d¡
++ = *
¤c
++;

542 
	`¡rıy
 (
d¡
, 
suffix
);

543 
	}
}

546 
	$out_¡ršg
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, cÚ¡ *
¬g
)

548 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "-", "s");

549 
	`´štf
 (
pfÜm©
, 
¬g
);

550 
	}
}

552 
	$out_št
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
štmax_t
 
¬g
)

554 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "'-+ 0", 
PRIdMAX
);

555  
	`´štf
 (
pfÜm©
, 
¬g
);

556 
	}
}

558 
	$out_ušt
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
uštmax_t
 
¬g
)

560 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "'-0", 
PRIuMAX
);

561  
	`´štf
 (
pfÜm©
, 
¬g
);

562 
	}
}

564 
	$out_ušt_o
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
uštmax_t
 
¬g
)

566 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "-#0", 
PRIoMAX
);

567 
	`´štf
 (
pfÜm©
, 
¬g
);

568 
	}
}

570 
	$out_ušt_x
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
uštmax_t
 
¬g
)

572 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "-#0", 
PRIxMAX
);

573 
	`´štf
 (
pfÜm©
, 
¬g
);

574 
	}
}

576 
	$out_mšus_z”o
 (*
pfÜm©
, 
size_t
 
´efix_Ën
)

578 
	`make_fÜm©
 (
pfÜm©
, 
´efix_Ën
, "'-+ 0", ".0f");

579  
	`´štf
 (
pfÜm©
, -0.25);

580 
	}
}

585 
	$out_•och_£c
 (*
pfÜm©
, 
size_t
 
´efix_Ën
,

586 
¡©
 cÚ¡ *
¡©buf
 
ATTRIBUTE_UNUSED
,

587 
time¥ec
 
¬g
)

589 *
dÙ
 = 
	`memchr
 (
pfÜm©
, '.', 
´efix_Ën
);

590 
size_t
 
£c_´efix_Ën
 = 
´efix_Ën
;

591 
width
 = 0;

592 
´ecisiÚ
 = 0;

593 
boŞ
 
äac_Ëá_adju¡
 = 
çl£
;

595 ià(
dÙ
)

597 
£c_´efix_Ën
 = 
dÙ
 - 
pfÜm©
;

598 
pfÜm©
[
´efix_Ën
] = '\0';

600 ià(
	`ISDIGIT
 (
dÙ
[1]))

602 
Í»c
 = 
	`¡¹Ş
 (
dÙ
 + 1, 
NULL
, 10);

603 
´ecisiÚ
 = (
Í»c
 <ğ
INT_MAX
 ?†prec : INT_MAX);

607 
´ecisiÚ
 = 9;

610 ià(
´ecisiÚ
 && 
	`ISDIGIT
 (
dÙ
[-1]))

615 *
p
 = 
dÙ
;

616 *
dÙ
 = '\0';

619 --
p
;

620 
	`ISDIGIT
 (
p
[-1]));

622 
lwidth
 = 
	`¡¹Ş
 (
p
, 
NULL
, 10);

623 
width
 = (
lwidth
 <ğ
INT_MAX
 ?†width : INT_MAX);

624 ià(1 < 
width
)

626 
p
 += (*p == '0');

627 
£c_´efix_Ën
 = 
p
 - 
pfÜm©
;

628 
w_d
 = (
decim®_pošt_Ën
 < 
width


629 ? 
width
 - 
decim®_pošt_Ën


631 ià(1 < 
w_d
)

633 
w
 = 
w_d
 - 
´ecisiÚ
;

634 ià(1 < 
w
)

636 *
d¡
 = 
pfÜm©
;

637 cÚ¡ *
¤c
 = 
d¡
; srø< 
p
; src++)

639 ià(*
¤c
 == '-')

640 
äac_Ëá_adju¡
 = 
Œue
;

642 *
d¡
++ = *
¤c
;

644 
£c_´efix_Ën
 =

645 (
d¡
 - 
pfÜm©


646 + (
äac_Ëá_adju¡
 ? 0 : 
	`¥rštf
 (
d¡
, "%d", 
w
)));

653 
divisÜ
 = 1;

654 
i
 = 
´ecisiÚ
; i < 9; i++)

655 
divisÜ
 *= 10;

656 
äac_£c
 = 
¬g
.
tv_n£c
 / 
divisÜ
;

657 
št_Ën
;

659 ià(
	`TYPE_SIGNED
 (
time_t
))

661 
boŞ
 
mšus_z”o
 = 
çl£
;

662 ià(
¬g
.
tv_£c
 < 0 &&‡rg.
tv_n£c
 != 0)

664 
äac_£c_modulus
 = 1000000000 / 
divisÜ
;

665 
äac_£c
 = (
äac_£c_modulus
 - frac_sec

666 - (
¬g
.
tv_n£c
 % 
divisÜ
 != 0));

667 
¬g
.
tv_£c
 +ğ(
äac_£c
 != 0);

668 
mšus_z”o
 = (
¬g
.
tv_£c
 == 0);

670 
št_Ën
 = (
mšus_z”o


671 ? 
	`out_mšus_z”o
 (
pfÜm©
, 
£c_´efix_Ën
)

672 : 
	`out_št
 (
pfÜm©
, 
£c_´efix_Ën
, 
¬g
.
tv_£c
));

675 
št_Ën
 = 
	`out_ušt
 (
pfÜm©
, 
£c_´efix_Ën
, 
¬g
.
tv_£c
);

677 ià(
´ecisiÚ
)

679 
´ec
 = (
´ecisiÚ
 < 9 ?…recision : 9);

680 
Œašg_´ec
 = 
´ecisiÚ
 - 
´ec
;

681 
’
 = (
št_Ën
 < 0 ? 0 : int_len);

682 
Œašg_width
 = (
’
 < 
width
 && 
decim®_pošt_Ën
 < width - ilen

683 ? 
width
 - 
’
 - 
decim®_pošt_Ën
 - 
´ec


685 
	`´štf
 ("%s%.*d%-*.*d", 
decim®_pošt
, 
´ec
, 
äac_£c
,

686 
Œašg_width
, 
Œašg_´ec
, 0);

688 
	}
}

692 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


693 
	$out_fe_cÚ‹xt
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, cÚ¡ *
f’ame
)

695 *
scÚ‹xt
;

696 
boŞ
 
ç
 = 
çl£
;

698 ià((
fŞlow_lšks


699 ? 
	`g‘fecÚ
 (
f’ame
, &
scÚ‹xt
)

700 : 
	`lg‘fecÚ
 (
f’ame
, &
scÚ‹xt
)) < 0)

702 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo get security context of %s"),

703 
	`quÙe
 (
f’ame
));

704 
scÚ‹xt
 = 
NULL
;

705 
ç
 = 
Œue
;

707 
	`¡rıy
 (
pfÜm©
 + 
´efix_Ën
, "s");

708 
	`´štf
 (
pfÜm©
, (
scÚ‹xt
 ? scontext : "?"));

709 ià(
scÚ‹xt
)

710 
	`ä“cÚ
 (
scÚ‹xt
);

711  
ç
;

712 
	}
}

715 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


716 
	$´št_¡©fs
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
m
,

717 cÚ¡ *
f’ame
,

718 cÚ¡ *
d©a
)

720 
STRUCT_STATVFS
 cÚ¡ *
¡©fsbuf
 = 
d©a
;

721 
boŞ
 
ç
 = 
çl£
;

723 
m
)

726 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
f’ame
);

731 #ià
STRUCT_STATXFS_F_FSID_IS_INTEGER


732 
uštmax_t
 
fsid
 = 
¡©fsbuf
->
f_fsid
;

734 
	tfsid_wÜd
;

735 
	`v”ify
 (
	`®ignof
 (
STRUCT_STATVFS
è%‡lignoà(
fsid_wÜd
) == 0);

736 
	`v”ify
 (
	`off£tof
 (
STRUCT_STATVFS
, 
f_fsid
è% 
	`®ignof
 (
fsid_wÜd
) == 0);

737 
	`v”ify
 ( 
¡©fsbuf
->
f_fsid
 % 
	`®ignof
 (
fsid_wÜd
) == 0);

738 
fsid_wÜd
 cÚ¡ *
p
 = (fsid_wÜd *è&
¡©fsbuf
->
f_fsid
;

742 
uštmax_t
 
fsid
 = 0;

743 
wÜds
 =  
¡©fsbuf
->
f_fsid
 /  *
p
;

744 
i
;

745 
i
 = 0; i < 
wÜds
 && i *  *
p
 <  
fsid
; i++)

747 
uštmax_t
 
u
 = 
p
[
wÜds
 - 1 - 
i
];

748 
fsid
 |ğ
u
 << (
i
 * 
CHAR_BIT
 *  *
p
);

751 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
fsid
);

756 
	`OUT_NAMEMAX
 (
pfÜm©
, 
´efix_Ën
, 
	`SB_F_NAMEMAX
 (
¡©fsbuf
));

759 #ià
HAVE_STRUCT_STATXFS_F_TYPE


760 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_ty³
);

762 
	`åutc
 ('?', 
¡dout
);

766 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_f¡y³
 (
¡©fsbuf
));

769 
	`out_št
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_blocks
);

772 
	`out_št
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_bä“
);

775 
	`out_št
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_bava
);

778 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_bsize
);

782 
uštmax_t
 
äsize
 = 
	`STATFS_FRSIZE
 (
¡©fsbuf
);

783 ià(! 
äsize
)

784 
äsize
 = 
¡©fsbuf
->
f_bsize
;

785 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
äsize
);

789 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_fes
);

792 
	`out_št
 (
pfÜm©
, 
´efix_Ën
, 
¡©fsbuf
->
f_fä“
);

795 
	`åutc
 ('?', 
¡dout
);

798  
ç
;

799 
	}
}

804 cÚ¡ * 
ATTRIBUTE_WARN_UNUSED_RESULT


805 
	$fšd_bšd_mouÁ
 (cÚ¡ * 
Çme
)

807 cÚ¡ * 
bšd_mouÁ
 = 
NULL
;

809 
mouÁ_’Œy
 *
mouÁ_li¡
;

810 
boŞ
 
Œ›d_mouÁ_li¡
 = 
çl£
;

811 ià(!
Œ›d_mouÁ_li¡
)

813 ià(!(
mouÁ_li¡
 = 
	`»ad_fe_sy¡em_li¡
 (
çl£
)))

814 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`_
("cannot„eadable of mounted file systems"));

815 
Œ›d_mouÁ_li¡
 = 
Œue
;

818 
mouÁ_’Œy
 *
me
;

819 
me
 = 
mouÁ_li¡
; me; mğme->
me_Ãxt
)

821 ià(
me
->
me_dummy
 && me->
me_devÇme
[0] == '/'

822 && 
	`STREQ
 (
me
->
me_mouÁdœ
, 
Çme
))

824 
¡©
 
Çme_¡©s
;

825 
¡©
 
dev_¡©s
;

827 ià(
	`¡©
 (
Çme
, &
Çme_¡©s
) == 0

828 && 
	`¡©
 (
me
->
me_devÇme
, &
dev_¡©s
) == 0

829 && 
	`SAME_INODE
 (
Çme_¡©s
, 
dev_¡©s
))

831 
bšd_mouÁ
 = 
me
->
me_devÇme
;

837  
bšd_mouÁ
;

838 
	}
}

841 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


842 
	$out_mouÁ_pošt
 (cÚ¡ *
f’ame
, *
pfÜm©
, 
size_t
 
´efix_Ën
,

843 cÚ¡ 
¡©
 *
¡©p
)

846 cÚ¡ *
Å
 = "?", *
bp
 = 
NULL
;

847 *
mp
 = 
NULL
;

848 
boŞ
 
ç
 = 
Œue
;

852 ià(
fŞlow_lšks
 || !
	`S_ISLNK
 (
¡©p
->
¡_mode
))

854 *
»sŞved
 = 
	`ÿnÚiÿlize_fe_Çme
 (
f’ame
);

855 ià(!
»sŞved
)

857 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØÿnÚiÿliz%s"), 
	`quÙe
 (
f’ame
));

858 
´št_mouÁ_pošt
;

860 
bp
 = 
	`fšd_bšd_mouÁ
 (
»sŞved
);

861 
	`ä“
 (
»sŞved
);

862 ià(
bp
)

864 
ç
 = 
çl£
;

865 
´št_mouÁ_pošt
;

874 ià((
mp
 = 
	`fšd_mouÁ_pošt
 (
f’ame
, 
¡©p
)))

878 
bp
 = 
	`fšd_bšd_mouÁ
 (
mp
);

879 
ç
 = 
çl£
;

882 
´št_mouÁ_pošt
:

884 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
bp
 ? b°: 
mp
 ? m°: 
Å
);

885 
	`ä“
 (
mp
);

886  
ç
;

887 
	}
}

890 
šlše
 
time¥ec


891 
	$Ãg_to_z”o
 (
time¥ec
 
ts
)

893 ià(0 <ğ
ts
.
tv_n£c
)

894  
ts
;

895 
time¥ec
 
z
 = {0, 0};

896  
z
;

897 
	}
}

900 
boŞ


901 
	$´št_¡©
 (*
pfÜm©
, 
size_t
 
´efix_Ën
, 
m
,

902 cÚ¡ *
f’ame
, cÚ¡ *
d©a
)

904 
¡©
 *
¡©buf
 = (¡© *è
d©a
;

905 
·sswd
 *
pw_’t
;

906 
group
 *
gw_’t
;

907 
boŞ
 
ç
 = 
çl£
;

909 
m
)

912 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
f’ame
);

915 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`quÙe
 (
f’ame
));

916 ià(
	`S_ISLNK
 (
¡©buf
->
¡_mode
))

918 *
lškÇme
 = 
	`¬—dlšk_w™h_size
 (
f’ame
, 
¡©buf
->
¡_size
);

919 ià(
lškÇme
 =ğ
NULL
)

921 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot„ead symbolic†ink %s"),

922 
	`quÙe
 (
f’ame
));

923  
Œue
;

925 
	`´štf
 (" -> ");

926 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`quÙe
 (
lškÇme
));

927 
	`ä“
 (
lškÇme
);

931 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_dev
);

934 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_dev
);

937 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_šo
);

940 
	`out_ušt_o
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_mode
 & 
CHMOD_MODE_BITS
);

943 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_acûss
 (
¡©buf
));

946 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_mode
);

949 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`fe_ty³
 (
¡©buf
));

952 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_Æšk
);

955 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_uid
);

958 
	`£w’t
 ();

959 
pw_’t
 = 
	`g‘pwuid
 (
¡©buf
->
¡_uid
);

960 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
,

961 
pw_’t
 ?…w_’t->
pw_Çme
 : "UNKNOWN");

964 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_gid
);

967 
	`£tg»Á
 ();

968 
gw_’t
 = 
	`g‘grgid
 (
¡©buf
->
¡_gid
);

969 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
,

970 
gw_’t
 ? gw_’t->
gr_Çme
 : "UNKNOWN");

973 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
	`majÜ
 (
¡©buf
->
¡_rdev
));

976 
ç
 |ğ
	`out_mouÁ_pošt
 (
f’ame
, 
pfÜm©
, 
´efix_Ën
, 
¡©buf
);

979 
	`out_ušt_x
 (
pfÜm©
, 
´efix_Ën
, 
	`mšÜ
 (
¡©buf
->
¡_rdev
));

982 
	`out_št
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
->
¡_size
);

985 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
ST_NBLOCKSIZE
);

988 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
	`ST_NBLOCKS
 (*
¡©buf
));

991 
	`out_ušt
 (
pfÜm©
, 
´efix_Ën
, 
	`ST_BLKSIZE
 (*
¡©buf
));

995 
time¥ec
 
t
 = 
	`g‘_¡©_bœthtime
 (
¡©buf
);

996 ià(
t
.
tv_n£c
 < 0)

997 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, "-");

999 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_time
 (
t
));

1003 
	`out_•och_£c
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
,

1004 
	`Ãg_to_z”o
 (
	`g‘_¡©_bœthtime
 (
¡©buf
)));

1007 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_time
 (
	`g‘_¡©_©ime
 (
¡©buf
)));

1010 
	`out_•och_£c
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
, 
	`g‘_¡©_©ime
 (statbuf));

1013 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_time
 (
	`g‘_¡©_mtime
 (
¡©buf
)));

1016 
	`out_•och_£c
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
, 
	`g‘_¡©_mtime
 (statbuf));

1019 
	`out_¡ršg
 (
pfÜm©
, 
´efix_Ën
, 
	`humª_time
 (
	`g‘_¡©_ùime
 (
¡©buf
)));

1022 
	`out_•och_£c
 (
pfÜm©
, 
´efix_Ën
, 
¡©buf
, 
	`g‘_¡©_ùime
 (statbuf));

1025 
ç
 |ğ
	`out_fe_cÚ‹xt
 (
pfÜm©
, 
´efix_Ën
, 
f’ame
);

1028 
	`åutc
 ('?', 
¡dout
);

1031  
ç
;

1032 
	}
}

1037 
	$´št_esc_ch¬
 (
c
)

1039 
c
)

1042 
c
 ='\a';

1045 
c
 ='\b';

1048 
c
 ='\x1B';

1051 
c
 ='\f';

1054 
c
 ='\n';

1057 
c
 ='\r';

1060 
c
 ='\t';

1063 
c
 ='\v';

1069 
	`”rÜ
 (0, 0, 
	`_
("w¬nšg: uÄecognizedƒsÿ³ '\\%c'"), 
c
);

1072 
	`putch¬
 (
c
);

1073 
	}
}

1078 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1079 
´št_™
 (cÚ¡ *
fÜm©
, cÚ¡ *
f’ame
,

1080 
	$boŞ
 (*
´št_func
è(*, 
size_t
, ,

1082 cÚ¡ *
d©a
)

1084 
boŞ
 
ç
 = 
çl£
;

1090 
MAX_ADDITIONAL_BYTES
 =

1091 (
	`MAX
 ( 
PRIdMAX
,

1092 
	`MAX
 ( 
PRIoMAX
, MAX ( 
PRIuMAX
,  
PRIxMAX
)))

1095 
size_t
 
n_®loc
 = 
	`¡¾’
 (
fÜm©
è+ 
MAX_ADDITIONAL_BYTES
 + 1;

1096 *
de¡
 = 
	`xm®loc
 (
n_®loc
);

1097 cÚ¡ *
b
;

1098 
b
 = 
fÜm©
; *b; b++)

1100 *
b
)

1104 
size_t
 
Ën
 = 
	`¡r¥n
 (
b
 + 1, 
´štf_æags
);

1105 cÚ¡ *
fmt_ch¬
 = 
b
 + 
Ën
 + 1;

1106 
fmt_ch¬
 +ğ
	`¡r¥n
 (fmt_ch¬, 
dig™s
);

1107 ià(*
fmt_ch¬
 == '.')

1108 
fmt_ch¬
 +ğ1 + 
	`¡r¥n
 (fmt_ch¬ + 1, 
dig™s
);

1109 
Ën
 = 
fmt_ch¬
 - (
b
 + 1);

1110 
fmt_code
 = *
fmt_ch¬
;

1111 
	`memıy
 (
de¡
, 
b
, 
Ën
 + 1);

1113 
b
 = 
fmt_ch¬
;

1114 
fmt_code
)

1117 --
b
;

1120 ià(0 < 
Ën
)

1122 
de¡
[
Ën
 + 1] = *
fmt_ch¬
;

1123 
de¡
[
Ën
 + 2] = '\0';

1124 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: invalid directive"),

1125 
	`quÙ—rg_cŞÚ
 (
de¡
));

1127 
	`putch¬
 ('%');

1130 
ç
 |ğ
	`´št_func
 (
de¡
, 
Ën
 + 1, 
fmt_code
, 
f’ame
, 
d©a
);

1137 iàĞ! 
š‹½»t_back¦ash_esÿ³s
)

1139 
	`putch¬
 ('\\');

1142 ++
b
;

1143 ià(
	`isodig™
 (*
b
))

1145 
esc_v®ue
 = 
	`oùtobš
 (*
b
);

1146 
esc_Ëngth
 = 1;

1147 ++
b
; 
esc_Ëngth
 < 3 && 
	`isodig™
 (*b);

1148 ++
esc_Ëngth
, ++
b
)

1150 
esc_v®ue
 =ƒsc_v®u* 8 + 
	`oùtobš
 (*
b
);

1152 
	`putch¬
 (
esc_v®ue
);

1153 --
b
;

1155 ià(*
b
 =ğ'x' && 
	`isxdig™
 (
	`to_uch¬
 (b[1])))

1157 
esc_v®ue
 = 
	`hextobš
 (
b
[1]);

1160 ++
b
;

1161 ià(
	`isxdig™
 (
	`to_uch¬
 (
b
[1])))

1163 ++
b
;

1164 
esc_v®ue
 =ƒsc_v®u* 16 + 
	`hextobš
 (*
b
);

1166 
	`putch¬
 (
esc_v®ue
);

1168 ià(*
b
 == '\0')

1170 
	`”rÜ
 (0, 0, 
	`_
("warning: backslash‡tƒnd of format"));

1171 
	`putch¬
 ('\\');

1173 --
b
;

1177 
	`´št_esc_ch¬
 (*
b
);

1182 
	`putch¬
 (*
b
);

1186 
	`ä“
 (
de¡
);

1188 
	`åuts
 (
Œašg_d–im
, 
¡dout
);

1190  
ç
;

1191 
	}
}

1194 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1195 
	$do_¡©fs
 (cÚ¡ *
f’ame
, cÚ¡ *
fÜm©
)

1197 
STRUCT_STATVFS
 
¡©fsbuf
;

1199 ià(
	`STREQ
 (
f’ame
, "-"))

1201 
	`”rÜ
 (0, 0, 
	`_
("using %so denote standard input does‚ot work"

1202 " iÀfsy¡em mode"), 
	`quÙe
 (
f’ame
));

1203  
çl£
;

1206 ià(
	`STATFS
 (
f’ame
, &
¡©fsbuf
) != 0)

1208 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot„ead file system information for %s"),

1209 
	`quÙe
 (
f’ame
));

1210  
çl£
;

1213 
boŞ
 
ç
 = 
	`´št_™
 (
fÜm©
, 
f’ame
, 
´št_¡©fs
, &
¡©fsbuf
);

1214  ! 
ç
;

1215 
	}
}

1218 
boŞ
 
ATTRIBUTE_WARN_UNUSED_RESULT


1219 
	$do_¡©
 (cÚ¡ *
f’ame
, cÚ¡ *
fÜm©
,

1220 cÚ¡ *
fÜm©2
)

1222 
¡©
 
¡©buf
;

1224 ià(
	`STREQ
 (
f’ame
, "-"))

1226 ià(
	`f¡©
 (
STDIN_FILENO
, &
¡©buf
) != 0)

1228 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot stat standard input"));

1229  
çl£
;

1235 ià((
fŞlow_lšks


1236 ? 
	`¡©
 (
f’ame
, &
¡©buf
)

1237 : 
	`l¡©
 (
f’ame
, &
¡©buf
)) != 0)

1239 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
f’ame
));

1240  
çl£
;

1243 ià(
	`S_ISBLK
 (
¡©buf
.
¡_mode
è|| 
	`S_ISCHR
 (statbuf.st_mode))

1244 
fÜm©
 = 
fÜm©2
;

1246 
boŞ
 
ç
 = 
	`´št_™
 (
fÜm©
, 
f’ame
, 
´št_¡©
, &
¡©buf
);

1247  ! 
ç
;

1248 
	}
}

1253 
	$deçuÉ_fÜm©
 (
boŞ
 
fs
, boŞ 
‹r£
, boŞ 
deviû
)

1255 *
fÜm©
;

1256 ià(
fs
)

1258 ià(
‹r£
)

1259 
fÜm©
 = 
	`x¡rdup
 ("%n %i %l %t %s %S %b %f %a %c %d\n");

1264 
fÜm©
 = 
	`x¡rdup
 (
	`_
(" File: \"%n\"\n"

1273 ià(
‹r£
)

1275 ià(0 < 
	`is_£lšux_’abËd
 ())

1276 
fÜm©
 = 
	`x¡rdup
 ("%n %s %b %f %u %g %D %i %h %t %T"

1279 
fÜm©
 = 
	`x¡rdup
 ("%n %s %b %f %u %g %D %i %h %t %T"

1284 *
‹mp
;

1287 
fÜm©
 = 
	`x¡rdup
 (
	`_
("\
: %N\n\
: %-10s\tBlocks: %-10b IO Block: %-6o %F\n\
"));

1292 
‹mp
 = 
fÜm©
;

1293 ià(
deviû
)

1297 
fÜm©
 = 
	`xa¥rštf
 ("%s%s", fÜm©, 
	`_
("\
" "Device: %Dh/%dd\tInode: %-10i Links: %-5h Deviceype: %t,%T\n\
"));

1305 
fÜm©
 = 
	`xa¥rštf
 ("%s%s", fÜm©, 
	`_
("\
" "Device: %Dh/%dd\tInode: %-10i Links: %h\n\
"));

1309 
	`ä“
 (
‹mp
);

1311 
‹mp
 = 
fÜm©
;

1314 
fÜm©
 = 
	`xa¥rštf
 ("%s%s", fÜm©, 
	`_
("\
" "Access: (%04a/%10.10A) Uid: (%5u/%8U) Gid: (%5g/%8G)\n\
"));

1317 
	`ä“
 (
‹mp
);

1319 ià(0 < 
	`is_£lšux_’abËd
 ())

1321 
‹mp
 = 
fÜm©
;

1324 
fÜm©
 = 
	`xa¥rštf
 ("%s%s", fÜm©, 
	`_
("Context: %C\n"));

1325 
	`ä“
 (
‹mp
);

1328 
‹mp
 = 
fÜm©
;

1331 
fÜm©
 = 
	`xa¥rštf
 ("%s%s", format,

1332 
	`_
("Access: %x\n"

1336 
	`ä“
 (
‹mp
);

1339  
fÜm©
;

1340 
	}
}

1343 
	$u§ge
 (
¡©us
)

1345 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

1346 
	`em™_Œy_h–p
 ();

1349 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

1350 
	`åuts
 (
	`_
("\
 fÜ fsy¡em stus.\n\
"), 
¡dout
);

1354 
	`em™_mªd©Üy_¬g_nÙe
 ();

1356 
	`åuts
 (
	`_
("\
-L, --d”eã»nû fŞlow†šks\n\
-f, --fe-sy¡em di¥Ïy fsy¡em stu š¡—d oàf¡©us\n\
"), 
¡dout
);

1360 
	`åuts
 (
	`_
("\
-ø --fÜm©=FORMAT u£h¥ecif›d FORMAT in¡—d oàthdeçuÉ;\n\
‡‚ewlšaá”ƒach u£ oàFORMAT\n\
--´štf=FORMAT†ik--fÜm©, buˆš‹½»ˆback¦ashƒsÿ³s,\n\
 dØnÙ ouuˆ¨mªd©Üy¿šg‚ewlše.\n\
 you wªˆ¨Ãwlše, inşud\\Àš FORMAT\n\
-t, --‹r£…ršˆthšfÜm©iÚ iÀ‹r£ fÜm\n\
"), 
¡dout
);

1368 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

1369 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

1371 
	`åuts
 (
	`_
("\n\
 v®id fÜm© sequ’û fÜ fe (w™houˆ--fe-sy¡em):\n\
\n\
%¨‡cûs right š où®\n\
%A‡cûs right š humª„—dabË fÜm\n\
%b‚umb” oàblock ®loÿ‹d (£%B)\n\
%Bhsizš by‹ oà—ch block„•Ü‹d by %b\n\
%C SELšux secur™y cÚ‹xˆ¡ršg\n\
"), 
¡dout
);

1380 
	`åuts
 (
	`_
("\
%d deviû‚umb” iÀdecim®\n\
%D deviû‚umb” iÀhex\n\
%à„aw modš hex\n\
%F fty³\n\
%g grou°ID oàowÃr\n\
%G grou°ÇmoàowÃr\n\
"), 
¡dout
);

1388 
	`åuts
 (
	`_
("\
%h‚umb” oàh¬d†šks\n\
%˜ inodnumb”\n\
%m mouÁ…ošt\n\
%À fÇme\n\
%N quÙed fÇmw™h d”eã»nû iàsymbŞiølšk\n\
%Ø o±im® I/O¿nsã¸sizhšt\n\
% Ù® size, iÀby‹s\n\
%ˆ majÜ deviûy³ iÀhex\n\
%T mšÜ deviûy³ iÀhex\n\
"), 
¡dout
);

1399 
	`åuts
 (
	`_
("\
%u u£¸ID oàowÃr\n\
%U u£¸ÇmoàowÃr\n\
%wimoàfbœth, humª-»adabË; - iàunknown\n\
%Wimoàfbœth, secÚd sšû Epoch; 0 iàunknown\n\
%ximoàÏ¡‡cûss, humª-»adabË\n\
%XimoàÏ¡‡cûss, secÚd sšû Epoch\n\
%yimoàÏ¡ modifiÿtiÚ, humª-»adabË\n\
%YimoàÏ¡ modifiÿtiÚ, secÚd sšû Epoch\n\
%zimoàÏ¡ chªge, humª-»adabË\n\
%ZimoàÏ¡ chªge, secÚd sšû Epoch\n\
\n\
"), 
¡dout
);

1413 
	`åuts
 (
	`_
("\
 fÜm© sequ’û fÜ fsy¡ems:\n\
\n\
%¨ f»block avaabËØnÚ-su³ru£r\n\
%bÙ® d©¨block š fsy¡em\n\
%øÙ® fnode š fsy¡em\n\
%d f»fnode š fsy¡em\n\
%à f»block š fsy¡em\n\
"), 
¡dout
);

1422 
	`åuts
 (
	`_
("\
%˜ fsy¡em ID iÀhex\n\
%È maximum†’gth oàf’ames\n\
%À fÇme\n\
%  block siz(fÜ fa¡”¿nsãrs)\n\
%S fundam’Èblock siz(fÜ block couÁs)\n\
%ˆ fsy¡emy³ iÀhex\n\
%T fsy¡emy³ iÀhumª„—dabË fÜm\n\
"), 
¡dout
);

1431 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

1432 
	`em™_ªcÏry_šfo
 ();

1434 
	`ex™
 (
¡©us
);

1435 
	}
}

1438 
	$maš
 (
¬gc
, *
¬gv
[])

1440 
c
;

1441 
i
;

1442 
boŞ
 
fs
 = 
çl£
;

1443 
boŞ
 
‹r£
 = 
çl£
;

1444 *
fÜm©
 = 
NULL
;

1445 *
fÜm©2
;

1446 
boŞ
 
ok
 = 
Œue
;

1448 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1449 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1450 
	`£oÿË
 (
LC_ALL
, "");

1451 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1452 
	`‹xtdomaš
 (
PACKAGE
);

1454 
lcÚv
 cÚ¡ *
loÿË
 = 
	`loÿËcÚv
 ();

1455 
decim®_pošt
 = (
loÿË
->decimal_point[0] ?†ocale->decimal_point : ".");

1456 
decim®_pošt_Ën
 = 
	`¡¾’
 (
decim®_pošt
);

1458 
	`©ex™
 (
şo£_¡dout
);

1460 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "c:fLt", 
lÚg_İtiÚs
, 
NULL
)) != -1)

1462 
c
)

1464 
PRINTF_OPTION
:

1465 
fÜm©
 = 
İrg
;

1466 
š‹½»t_back¦ash_esÿ³s
 = 
Œue
;

1467 
Œašg_d–im
 = "";

1471 
fÜm©
 = 
İrg
;

1472 
š‹½»t_back¦ash_esÿ³s
 = 
çl£
;

1473 
Œašg_d–im
 = "\n";

1477 
fŞlow_lšks
 = 
Œue
;

1481 
fs
 = 
Œue
;

1485 
‹r£
 = 
Œue
;

1488 
ÿ£_GETOPT_HELP_CHAR
;

1490 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1493 
	`u§ge
 (
EXIT_FAILURE
);

1497 ià(
¬gc
 =ğ
İtšd
)

1499 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

1500 
	`u§ge
 (
EXIT_FAILURE
);

1503 ià(
fÜm©
)

1504 
fÜm©2
 = 
fÜm©
;

1507 
fÜm©
 = 
	`deçuÉ_fÜm©
 (
fs
, 
‹r£
, 
çl£
);

1508 
fÜm©2
 = 
	`deçuÉ_fÜm©
 (
fs
, 
‹r£
, 
Œue
);

1511 
i
 = 
İtšd
; i < 
¬gc
; i++)

1512 
ok
 &ğ(
fs


1513 ? 
	`do_¡©fs
 (
¬gv
[
i
], 
fÜm©
)

1514 : 
	`do_¡©
 (
¬gv
[
i
], 
fÜm©
, 
fÜm©2
));

1516 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

1517 
	}
}

	@stdbuf.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

23 
	~<as£¹.h
>

25 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"f’ameÿt.h
"

28 
	~"quÙe.h
"

29 
	~"x»adlšk.h
"

30 
	~"x¡¹Ş.h
"

31 
	~"c-ùy³.h
"

34 
	#PROGRAM_NAME
 "¡dbuf"

	)

35 
	#LIB_NAME
 "lib¡dbuf.so"

	)

37 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("Pad¿ig B¿dy", "P\303\241d¿ig B¿dy")

	)

39 *
	g´og¿m_·th
;

43 
size_t
 
	msize
;

44 
	mİtc
;

45 *
	mİrg
;

46 } 
	g¡dbuf
[3];

48 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

50 {"šput", 
»quœed_¬gum’t
, 
NULL
, 'i'},

51 {"ouut", 
»quœed_¬gum’t
, 
NULL
, 'o'},

52 {"”rÜ", 
»quœed_¬gum’t
, 
NULL
, 'e'},

53 {
GETOPT_HELP_OPTION_DECL
},

54 {
GETOPT_VERSION_OPTION_DECL
},

55 {
NULL
, 0, NULL, 0}

65 
	$·r£_size
 (cÚ¡ *
¡r
, 
size_t
 *
size
)

67 
uštmax_t
 
tmp_size
;

68 
¡¹Ş_”rÜ
 
e
 = 
	`x¡¹oumax
 (
¡r
, 
NULL
, 10, &
tmp_size
, "EGkKMPTYZ0");

69 ià(
e
 =ğ
LONGINT_OK
 && 
tmp_size
 > 
SIZE_MAX
)

70 
e
 = 
LONGINT_OVERFLOW
;

72 ià(
e
 =ğ
LONGINT_OK
)

74 
”ºo
 = 0;

75 *
size
 = 
tmp_size
;

79 
”ºo
 = (
e
 =ğ
LONGINT_OVERFLOW
 ? 
EOVERFLOW
 : 0);

81 
	}
}

84 
	$u§ge
 (
¡©us
)

86 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

87 
	`em™_Œy_h–p
 ();

90 
	`´štf
 (
	`_
("U§ge: % OPTION... COMMAND\n"), 
´og¿m_Çme
);

91 
	`åuts
 (
	`_
("\
 COMMAND, w™h modif›d bufãršg o³¿tiÚ fÜ it ¡ªd¬d sŒ—ms.\n\
"), 
¡dout
);

95 
	`em™_mªd©Üy_¬g_nÙe
 ();

97 
	`åuts
 (
	`_
("\
-i, --šput=MODE‡dju¡ snd¬d iÅuˆ¡»am bufãršg\n\
-o, --ouut=MODE‡dju¡ snd¬d ouuˆ¡»am bufãršg\n\
-e, --”rÜ=MODE‡dju¡ snd¬dƒ¼Ü sŒ—m bufãršg\n\
"), 
¡dout
);

102 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

103 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

104 
	`åuts
 (
	`_
("\n\
 MODE i 'L'hcÜ»¥Údšg sŒ—m wÈblšbufã»d.\n\
 o±iÚ i šv®id w™h snd¬d iÅut.\n"), 
¡dout
);

107 
	`åuts
 (
	`_
("\n\
 MODE i '0'hcÜ»¥Údšg sŒ—m wÈbunbufã»d.\n\
"), 
¡dout
);

110 
	`åuts
 (
	`_
("\n\
 MODE i ¨numb” which may bfŞlowed by oÃ oàthfŞlowšg:\n\
 1000, K 1024, MB 1000*1000, M 1024*1024,‡nd sØÚ fÜ G, T, P, E, Z, Y.\n\
hi ÿ£hcÜ»¥Údšg sŒ—m wÈbfuÎy bufã»d w™hhbufãr\n\
 s‘ØMODE by‹s.\n\
"), 
¡dout
);

116 
	`åuts
 (
	`_
("\n\
: IàCOMMAND‡dju¡ thbufãršg oà™ ¡ªd¬d sŒ—m ('‹e' dÛs\n\
ƒ.g.èth’h© wÈov”ridcÜ»¥Údšg s‘tšg chªged by '¡dbuf'.\n\
 somf‹r Öik'dd'‡nd 'ÿt'ƒtc.èdÚ'ˆu£ sŒ—m fÜ I/O,\n\
‡»hu uÇfãùed by '¡dbuf' s‘tšgs.\n\
"), 
¡dout
);

122 
	`em™_ªcÏry_šfo
 ();

124 
	`ex™
 (
¡©us
);

125 
	}
}

134 
	$£t_´og¿m_·th
 (cÚ¡ *
¬g
)

136 ià(
	`¡rchr
 (
¬g
, '/'))

138 
´og¿m_·th
 = 
	`dœ_Çme
 (
¬g
);

142 *
·th
 = 
	`x»adlšk
 ("/proc/self/exe");

143 ià(
·th
)

144 
´og¿m_·th
 = 
	`dœ_Çme
 (
·th
);

145 ià((
·th
 = 
	`g‘’v
 ("PATH")))

147 *
dœ
;

148 
·th
 = 
	`x¡rdup
 (path);

149 
dœ
 = 
	`¡¹ok
 (
·th
, ":"); dœ !ğ
NULL
; dir = strtok (NULL, ":"))

151 *
ÿndid©e
 = 
	`fe_Çme_cÚÿt
 (
dœ
, 
¬g
, 
NULL
);

152 ià(
	`acûss
 (
ÿndid©e
, 
X_OK
) == 0)

154 
´og¿m_·th
 = 
	`dœ_Çme
 (
ÿndid©e
);

155 
	`ä“
 (
ÿndid©e
);

158 
	`ä“
 (
ÿndid©e
);

161 
	`ä“
 (
·th
);

163 
	}
}

166 
	$İtc_to_f’o
 (
c
)

168 
»t
 = -1;

170 
c
)

173 
»t
 = 
STDERR_FILENO
;

176 
»t
 = 
STDIN_FILENO
;

179 
»t
 = 
STDOUT_FILENO
;

183  
»t
;

184 
	}
}

187 
	$£t_LD_PRELOAD
 ()

189 
»t
;

190 *
Şd_libs
 = 
	`g‘’v
 ("LD_PRELOAD");

191 *
LD_PRELOAD
;

199 cÚ¡ *cÚ¡ 
£¬ch_·th
[] = {

200 
´og¿m_·th
,

201 
PKGLIBEXECDIR
,

202 
NULL


205 cÚ¡ *cÚ¡ *
·th
 = 
£¬ch_·th
;

206 *
lib¡dbuf
;

208 
Œue
)

210 
¡©
 
sb
;

212 ià(!**
·th
)

214 
lib¡dbuf
 = 
	`x¡rdup
 (
LIB_NAME
);

217 
»t
 = 
	`a¥rštf
 (&
lib¡dbuf
, "%s/%s", *
·th
, 
LIB_NAME
);

218 ià(
»t
 < 0)

219 
	`x®loc_d›
 ();

220 ià(
	`¡©
 (
lib¡dbuf
, &
sb
) == 0)

222 
	`ä“
 (
lib¡dbuf
);

224 ++
·th
;

225 iàĞ! *
·th
)

226 
	`”rÜ
 (
EXIT_CANCELED
, 0, 
	`_
("çedØfšd %s"), 
	`quÙe
 (
LIB_NAME
));

231 ià(
Şd_libs
)

232 
»t
 = 
	`a¥rštf
 (&
LD_PRELOAD
, "LD_PRELOAD=%s:%s", 
Şd_libs
, 
lib¡dbuf
);

234 
»t
 = 
	`a¥rštf
 (&
LD_PRELOAD
, "LD_PRELOAD=%s", 
lib¡dbuf
);

236 ià(
»t
 < 0)

237 
	`x®loc_d›
 ();

239 
	`ä“
 (
lib¡dbuf
);

241 
»t
 = 
	`pu‹nv
 (
LD_PRELOAD
);

243 ià(
»t
 != 0)

245 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
,

246 
	`_
("failedo updateheƒnvironment with %s"),

247 
	`quÙe
 (
LD_PRELOAD
));

249 
	}
}

254 
	$£t_lib¡dbuf_İtiÚs
 ()

256 
i
;

258 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
¡dbuf
); i++)

260 ià(
¡dbuf
[
i
].
İrg
)

262 *
v¬
;

263 
»t
;

265 ià(*
¡dbuf
[
i
].
İrg
 == 'L')

266 
»t
 = 
	`a¥rštf
 (&
v¬
, "%s%c=L", "_STDBUF_",

267 
	`touµ”
 (
¡dbuf
[
i
].
İtc
));

269 
»t
 = 
	`a¥rštf
 (&
v¬
, "%s%c=%" 
PRIuMAX
, "_STDBUF_",

270 
	`touµ”
 (
¡dbuf
[
i
].
İtc
),

271 (
uštmax_t
è
¡dbuf
[
i
].
size
);

272 ià(
»t
 < 0)

273 
	`x®loc_d›
 ();

275 ià(
	`pu‹nv
 (
v¬
) != 0)

277 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
,

278 
	`_
("failedo updateheƒnvironment with %s"),

279 
	`quÙe
 (
v¬
));

283 
	}
}

286 
	$maš
 (
¬gc
, **
¬gv
)

288 
c
;

290 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

291 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

292 
	`£oÿË
 (
LC_ALL
, "");

293 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

294 
	`‹xtdomaš
 (
PACKAGE
);

296 
	`š™Ÿlize_ex™_çu»
 (
EXIT_CANCELED
);

297 
	`©ex™
 (
şo£_¡dout
);

299 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+i:o:e:", 
lÚgİts
, 
NULL
)) != -1)

301 
İt_f’o
;

303 
c
)

309 
İt_f’o
 = 
	`İtc_to_f’o
 (
c
);

310 
	`as£¹
 (0 <ğ
İt_f’o
 && o±_f’Ø< 
	`ARRAY_CARDINALITY
 (
¡dbuf
));

311 
¡dbuf
[
İt_f’o
].
İtc
 = 
c
;

312 
	`c_is¥aû
 (*
İrg
))

313 
İrg
++;

314 
¡dbuf
[
İt_f’o
].
İrg
 = optarg;

315 ià(
c
 =ğ'i' && *
İrg
 == 'L')

320 
	`”rÜ
 (0, 0, 
	`_
("line buffering stdin is meaningless"));

321 
	`u§ge
 (
EXIT_CANCELED
);

324 ià(!
	`STREQ
 (
İrg
, "L")

325 && 
	`·r£_size
 (
İrg
, &
¡dbuf
[
İt_f’o
].
size
) == -1)

326 
	`”rÜ
 (
EXIT_CANCELED
, 
”ºo
, 
	`_
("šv®id mod%s"), 
	`quÙe
 (
İrg
));

330 
ÿ£_GETOPT_HELP_CHAR
;

332 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

335 
	`u§ge
 (
EXIT_CANCELED
);

339 
¬gv
 +ğ
İtšd
;

340 
¬gc
 -ğ
İtšd
;

343 ià(
¬gc
 < 1)

345 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

346 
	`u§ge
 (
EXIT_CANCELED
);

351 
	`£t_lib¡dbuf_İtiÚs
 ();

355 
	`£t_´og¿m_·th
 (
´og¿m_Çme
);

356 ià(!
´og¿m_·th
)

357 
´og¿m_·th
 = 
	`x¡rdup
 (
PKGLIBDIR
);

358 
	`£t_LD_PRELOAD
 ();

359 
	`ä“
 (
´og¿m_·th
);

361 
	`execvp
 (*
¬gv
,‡rgv);

364 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

365 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØruÀcommªd %s"), 
	`quÙe
 (
¬gv
[0]));

366 
	`ex™
 (
ex™_¡©us
);

368 
	}
}

	@stty.c

30 
	~<cÚfig.h
>

32 #ifdeà
TERMIOS_NEEDS_XOPEN_SOURCE


33 
	#_XOPEN_SOURCE


	)

36 
	~<¡dio.h
>

37 
	~<sys/ty³s.h
>

39 
	~<‹rmios.h
>

40 #ià
HAVE_STROPTS_H


41 
	~<¡rİts.h
>

43 
	~<sys/ioùl.h
>

45 #ifdeà
WINSIZE_IN_PTEM


46 
	~<sys/¡»am.h
>

47 
	~<sys/±em.h
>

49 #ifdeà
GWINSZ_IN_SYS_PTY


50 
	~<sys/‰y.h
>

51 
	~<sys/±y.h
>

53 
	~<g‘İt.h
>

54 
	~<¡d¬g.h
>

55 
	~<as£¹.h
>

57 
	~"sy¡em.h
"

58 
	~"”rÜ.h
"

59 
	~"fd-»İ’.h
"

60 
	~"quÙe.h
"

61 
	~"x¡¹Ş.h
"

64 
	#PROGRAM_NAME
 "¡ty"

	)

66 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

68 #iâdeà
_POSIX_VDISABLE


69 
	#_POSIX_VDISABLE
 0

	)

72 
	#CÚŒŞ
(
c
è((cè& 0x1f)

	)

74 #iâdeà
CINTR


75 
	#CINTR
 
	`CÚŒŞ
 ('c')

	)

77 #iâdeà
CQUIT


78 
	#CQUIT
 28

	)

80 #iâdeà
CERASE


81 
	#CERASE
 127

	)

83 #iâdeà
CKILL


84 
	#CKILL
 
	`CÚŒŞ
 ('u')

	)

86 #iâdeà
CEOF


87 
	#CEOF
 
	`CÚŒŞ
 ('d')

	)

89 #iâdeà
CEOL


90 
	#CEOL
 
_POSIX_VDISABLE


	)

92 #iâdeà
CSTART


93 
	#CSTART
 
	`CÚŒŞ
 ('q')

	)

95 #iâdeà
CSTOP


96 
	#CSTOP
 
	`CÚŒŞ
 ('s')

	)

98 #iâdeà
CSUSP


99 
	#CSUSP
 
	`CÚŒŞ
 ('z')

	)

101 #ià
defšed
 
VEOL2
 && !defšed 
CEOL2


102 
	#CEOL2
 
_POSIX_VDISABLE


	)

106 #ià
defšed
 
VSWTC
 && !defšed 
VSWTCH


107 
	#VSWTCH
 
VSWTC


	)

110 #ià
defšed
 
VSUSP
 && !defšed 
VSWTCH


111 
	#VSWTCH
 
VSUSP


	)

112 #ià
defšed
 
CSUSP
 && !defšed 
CSWTCH


113 
	#CSWTCH
 
CSUSP


	)

116 #ià
defšed
 
VSWTCH
 && !defšed 
CSWTCH


117 
	#CSWTCH
 
_POSIX_VDISABLE


	)

122 #ià
defšed
 
__¥¬c__
 && defšed 
__svr4__


123 #undeà
CSWTCH


124 
	#CSWTCH
 
_POSIX_VDISABLE


	)

127 #ià
defšed
 
VWERSE
 && !defšed 
VWERASE


128 
	#VWERASE
 
VWERSE


	)

130 #ià
defšed
 
VDSUSP
 && !defšed 
CDSUSP


131 
	#CDSUSP
 
	`CÚŒŞ
 ('y')

	)

133 #ià!
defšed
 
VREPRINT
 && defšed 
VRPRNT


134 
	#VREPRINT
 
VRPRNT


	)

136 #ià
defšed
 
VREPRINT
 && !defšed 
CRPRNT


137 
	#CRPRNT
 
	`CÚŒŞ
 ('r')

	)

139 #ià
defšed
 
CREPRINT
 && !defšed 
CRPRNT


140 
	#CRPRNT
 
	`CÚŒŞ
 ('r')

	)

142 #ià
defšed
 
VWERASE
 && !defšed 
CWERASE


143 
	#CWERASE
 
	`CÚŒŞ
 ('w')

	)

145 #ià
defšed
 
VLNEXT
 && !defšed 
CLNEXT


146 
	#CLNEXT
 
	`CÚŒŞ
 ('v')

	)

148 #ià
defšed
 
VDISCARD
 && !defšed 
VFLUSHO


149 
	#VFLUSHO
 
VDISCARD


	)

151 #ià
defšed
 
VFLUSH
 && !defšed 
VFLUSHO


152 
	#VFLUSHO
 
VFLUSH


	)

154 #ià
defšed
 
CTLECH
 && !defšed 
ECHOCTL


155 
	#ECHOCTL
 
CTLECH


	)

157 #ià
defšed
 
TCTLECH
 && !defšed 
ECHOCTL


158 
	#ECHOCTL
 
TCTLECH


	)

160 #ià
defšed
 
CRTKIL
 && !defšed 
ECHOKE


161 
	#ECHOKE
 
CRTKIL


	)

163 #ià
defšed
 
VFLUSHO
 && !defšed 
CFLUSHO


164 
	#CFLUSHO
 
	`CÚŒŞ
 ('o')

	)

166 #ià
defšed
 
VSTATUS
 && !defšed 
CSTATUS


167 
	#CSTATUS
 
	`CÚŒŞ
 ('t')

	)

171 
	e¥“d_£‰šg


173 
	mšput_¥“d
, 
	mouut_¥“d
, 
	mbÙh_¥“ds


177 
	eouut_ty³


179 
	mchªged
, 
	m®l
, 
	m»cov”abË


183 
	emode_ty³


185 
	mcÚŒŞ
, 
	mšput
, 
	mouut
, 
	mloÿl
, 
	mcombš©iÚ


189 
	#SANE_SET
 1

	)

190 
	#SANE_UNSET
 2

	)

191 
	#REV
 4

	)

192 
	#OMIT
 8

	)

195 
	smode_šfo


197 cÚ¡ *
	mÇme
;

198 
mode_ty³
 
	mty³
;

199 
	mæags
;

200 
	mb™s
;

201 
	mmask
;

204 
mode_šfo
 cÚ¡ 
	gmode_šfo
[] =

206 {"·»nb", 
cÚŒŞ
, 
REV
, 
PARENB
, 0},

207 {"·rodd", 
cÚŒŞ
, 
REV
, 
PARODD
, 0},

208 {"cs5", 
cÚŒŞ
, 0, 
CS5
, 
CSIZE
},

209 {"cs6", 
cÚŒŞ
, 0, 
CS6
, 
CSIZE
},

210 {"cs7", 
cÚŒŞ
, 0, 
CS7
, 
CSIZE
},

211 {"cs8", 
cÚŒŞ
, 0, 
CS8
, 
CSIZE
},

212 {"hupş", 
cÚŒŞ
, 
REV
, 
HUPCL
, 0},

213 {"hup", 
cÚŒŞ
, 
REV
 | 
OMIT
, 
HUPCL
, 0},

214 {"c¡İb", 
cÚŒŞ
, 
REV
, 
CSTOPB
, 0},

215 {"ü—d", 
cÚŒŞ
, 
SANE_SET
 | 
REV
, 
CREAD
, 0},

216 {"şoÿl", 
cÚŒŞ
, 
REV
, 
CLOCAL
, 0},

217 #ifdeà
CRTSCTS


218 {"ütsùs", 
cÚŒŞ
, 
REV
, 
CRTSCTS
, 0},

220 #ifdeà
CDTRDSR


221 {"cdŒd¤", 
cÚŒŞ
, 
REV
, 
CDTRDSR
, 0},

224 {"ignbrk", 
šput
, 
SANE_UNSET
 | 
REV
, 
IGNBRK
, 0},

225 {"brkšt", 
šput
, 
SANE_SET
 | 
REV
, 
BRKINT
, 0},

226 {"igÅ¬", 
šput
, 
REV
, 
IGNPAR
, 0},

227 {"·rmrk", 
šput
, 
REV
, 
PARMRK
, 0},

228 {"špck", 
šput
, 
REV
, 
INPCK
, 0},

229 {"i¡r", 
šput
, 
REV
, 
ISTRIP
, 0},

230 {"šlü", 
šput
, 
SANE_UNSET
 | 
REV
, 
INLCR
, 0},

231 {"ignü", 
šput
, 
SANE_UNSET
 | 
REV
, 
IGNCR
, 0},

232 {"iüÆ", 
šput
, 
SANE_SET
 | 
REV
, 
ICRNL
, 0},

233 {"ixÚ", 
šput
, 
REV
, 
IXON
, 0},

234 {"ixoff", 
šput
, 
SANE_UNSET
 | 
REV
, 
IXOFF
, 0},

235 {"ndem", 
šput
, 
REV
 | 
OMIT
, 
IXOFF
, 0},

236 #ifdeà
IUCLC


237 {"iuşc", 
šput
, 
SANE_UNSET
 | 
REV
, 
IUCLC
, 0},

239 #ifdeà
IXANY


240 {"ixªy", 
šput
, 
SANE_UNSET
 | 
REV
, 
IXANY
, 0},

242 #ifdeà
IMAXBEL


243 {"imaxb–", 
šput
, 
SANE_SET
 | 
REV
, 
IMAXBEL
, 0},

245 #ifdeà
IUTF8


246 {"iutf8", 
šput
, 
SANE_UNSET
 | 
REV
, 
IUTF8
, 0},

249 {"İo¡", 
ouut
, 
SANE_SET
 | 
REV
, 
OPOST
, 0},

250 #ifdeà
OLCUC


251 {"Şcuc", 
ouut
, 
SANE_UNSET
 | 
REV
, 
OLCUC
, 0},

253 #ifdeà
OCRNL


254 {"oüÆ", 
ouut
, 
SANE_UNSET
 | 
REV
, 
OCRNL
, 0},

256 #ifdeà
ONLCR


257 {"Úlü", 
ouut
, 
SANE_SET
 | 
REV
, 
ONLCR
, 0},

259 #ifdeà
ONOCR


260 {"Úoü", 
ouut
, 
SANE_UNSET
 | 
REV
, 
ONOCR
, 0},

262 #ifdeà
ONLRET


263 {"ÚÌ‘", 
ouut
, 
SANE_UNSET
 | 
REV
, 
ONLRET
, 0},

265 #ifdeà
OFILL


266 {"ofl", 
ouut
, 
SANE_UNSET
 | 
REV
, 
OFILL
, 0},

268 #ifdeà
OFDEL


269 {"ofd–", 
ouut
, 
SANE_UNSET
 | 
REV
, 
OFDEL
, 0},

271 #ifdeà
NLDLY


272 {"Æ1", 
ouut
, 
SANE_UNSET
, 
NL1
, 
NLDLY
},

273 {"Æ0", 
ouut
, 
SANE_SET
, 
NL0
, 
NLDLY
},

275 #ifdeà
CRDLY


276 {"ü3", 
ouut
, 
SANE_UNSET
, 
CR3
, 
CRDLY
},

277 {"ü2", 
ouut
, 
SANE_UNSET
, 
CR2
, 
CRDLY
},

278 {"ü1", 
ouut
, 
SANE_UNSET
, 
CR1
, 
CRDLY
},

279 {"ü0", 
ouut
, 
SANE_SET
, 
CR0
, 
CRDLY
},

281 #ifdeà
TABDLY


282 #ifdeà
TAB3


283 {"b3", 
ouut
, 
SANE_UNSET
, 
TAB3
, 
TABDLY
},

285 #ifdeà
TAB2


286 {"b2", 
ouut
, 
SANE_UNSET
, 
TAB2
, 
TABDLY
},

288 #ifdeà
TAB1


289 {"b1", 
ouut
, 
SANE_UNSET
, 
TAB1
, 
TABDLY
},

291 #ifdeà
TAB0


292 {"b0", 
ouut
, 
SANE_SET
, 
TAB0
, 
TABDLY
},

295 #ifdeà
OXTABS


296 {"b3", 
ouut
, 
SANE_UNSET
, 
OXTABS
, 0},

299 #ifdeà
BSDLY


300 {"bs1", 
ouut
, 
SANE_UNSET
, 
BS1
, 
BSDLY
},

301 {"bs0", 
ouut
, 
SANE_SET
, 
BS0
, 
BSDLY
},

303 #ifdeà
VTDLY


304 {"vt1", 
ouut
, 
SANE_UNSET
, 
VT1
, 
VTDLY
},

305 {"vt0", 
ouut
, 
SANE_SET
, 
VT0
, 
VTDLY
},

307 #ifdeà
FFDLY


308 {"ff1", 
ouut
, 
SANE_UNSET
, 
FF1
, 
FFDLY
},

309 {"ff0", 
ouut
, 
SANE_SET
, 
FF0
, 
FFDLY
},

312 {"isig", 
loÿl
, 
SANE_SET
 | 
REV
, 
ISIG
, 0},

313 {"iÿnÚ", 
loÿl
, 
SANE_SET
 | 
REV
, 
ICANON
, 0},

314 #ifdeà
IEXTEN


315 {"›x‹n", 
loÿl
, 
SANE_SET
 | 
REV
, 
IEXTEN
, 0},

317 {"echo", 
loÿl
, 
SANE_SET
 | 
REV
, 
ECHO
, 0},

318 {"echÛ", 
loÿl
, 
SANE_SET
 | 
REV
, 
ECHOE
, 0},

319 {"ü‹¿£", 
loÿl
, 
REV
 | 
OMIT
, 
ECHOE
, 0},

320 {"echok", 
loÿl
, 
SANE_SET
 | 
REV
, 
ECHOK
, 0},

321 {"echÚl", 
loÿl
, 
SANE_UNSET
 | 
REV
, 
ECHONL
, 0},

322 {"noæsh", 
loÿl
, 
SANE_UNSET
 | 
REV
, 
NOFLSH
, 0},

323 #ifdeà
XCASE


324 {"xÿ£", 
loÿl
, 
SANE_UNSET
 | 
REV
, 
XCASE
, 0},

326 #ifdeà
TOSTOP


327 {"to¡İ", 
loÿl
, 
SANE_UNSET
 | 
REV
, 
TOSTOP
, 0},

329 #ifdeà
ECHOPRT


330 {"echİ¹", 
loÿl
, 
SANE_UNSET
 | 
REV
, 
ECHOPRT
, 0},

331 {"´‹¿£", 
loÿl
, 
REV
 | 
OMIT
, 
ECHOPRT
, 0},

333 #ifdeà
ECHOCTL


334 {"echoùl", 
loÿl
, 
SANE_SET
 | 
REV
, 
ECHOCTL
, 0},

335 {"ùËcho", 
loÿl
, 
REV
 | 
OMIT
, 
ECHOCTL
, 0},

337 #ifdeà
ECHOKE


338 {"echoke", 
loÿl
, 
SANE_SET
 | 
REV
, 
ECHOKE
, 0},

339 {"ütkl", 
loÿl
, 
REV
 | 
OMIT
, 
ECHOKE
, 0},

342 {"ev’p", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

343 {"·r™y", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

344 {"oddp", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

345 {"Æ", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

346 {"ek", 
combš©iÚ
, 
OMIT
, 0, 0},

347 {"§Ã", 
combš©iÚ
, 
OMIT
, 0, 0},

348 {"cooked", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

349 {"¿w", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

350 {"·ss8", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

351 {"l™out", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

352 {"cb»ak", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

353 #ifdeà
IXANY


354 {"decùlq", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

356 #ià
defšed
 
TABDLY
 || defšed 
OXTABS


357 {"bs", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

359 #ià
defšed
 
XCASE
 && defšed 
IUCLC
 && defšed 
OLCUC


360 {"lÿ£", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

361 {"LCASE", 
combš©iÚ
, 
REV
 | 
OMIT
, 0, 0},

363 {"üt", 
combš©iÚ
, 
OMIT
, 0, 0},

364 {"dec", 
combš©iÚ
, 
OMIT
, 0, 0},

366 {
NULL
, 
cÚŒŞ
, 0, 0, 0}

370 
	scÚŒŞ_šfo


372 cÚ¡ *
	mÇme
;

373 
cc_t
 
	m§Ãv®
;

374 
size_t
 
	moff£t
;

379 
cÚŒŞ_šfo
 cÚ¡ 
	gcÚŒŞ_šfo
[] =

381 {"šŒ", 
CINTR
, 
VINTR
},

382 {"qu™", 
CQUIT
, 
VQUIT
},

383 {"”a£", 
CERASE
, 
VERASE
},

384 {"kl", 
CKILL
, 
VKILL
},

385 {"eof", 
CEOF
, 
VEOF
},

386 {"eŞ", 
CEOL
, 
VEOL
},

387 #ifdeà
VEOL2


388 {"eŞ2", 
CEOL2
, 
VEOL2
},

390 #ifdeà
VSWTCH


391 {"swtch", 
CSWTCH
, 
VSWTCH
},

393 {"¡¬t", 
CSTART
, 
VSTART
},

394 {"¡İ", 
CSTOP
, 
VSTOP
},

395 {"su¥", 
CSUSP
, 
VSUSP
},

396 #ifdeà
VDSUSP


397 {"dsu¥", 
CDSUSP
, 
VDSUSP
},

399 #ifdeà
VREPRINT


400 {"½ºt", 
CRPRNT
, 
VREPRINT
},

402 #ifdeà
CREPRINT


403 {"½ºt", 
CRPRNT
, 
CREPRINT
},

406 #ifdeà
VWERASE


407 {"w”a£", 
CWERASE
, 
VWERASE
},

409 #ifdeà
VLNEXT


410 {"Êext", 
CLNEXT
, 
VLNEXT
},

412 #ifdeà
VFLUSHO


413 {"æush", 
CFLUSHO
, 
VFLUSHO
},

415 #ifdeà
VSTATUS


416 {"¡©us", 
CSTATUS
, 
VSTATUS
},

420 {"mš", 1, 
VMIN
},

421 {"time", 0, 
VTIME
},

422 {
NULL
, 0, 0}

425 cÚ¡ *
visibË
 (
cc_t
 
ch
);

426 
baud_to_v®ue
 (
¥“d_t
 
¥“d
);

427 
boŞ
 
»cov”_mode
 (cÚ¡ *
¬g
, 
‹rmios
 *
mode
);

428 
sü“n_cŞumns
 ();

429 
boŞ
 
£t_mode
 (
mode_šfo
 cÚ¡ *
šfo
, boŞ 
»v”£d
,

430 
‹rmios
 *
mode
);

431 
š‹g”_¬g
 (cÚ¡ *
s
, 
max
);

432 
¥“d_t
 
¡ršg_to_baud
 (cÚ¡ *
¬g
);

433 
tcæag_t
 *
mode_ty³_æag
 (
mode_ty³
 
ty³
, 
‹rmios
 *
mode
);

434 
di¥Ïy_®l
 (
‹rmios
 *
mode
, cÚ¡ *
deviû_Çme
);

435 
di¥Ïy_chªged
 (
‹rmios
 *
mode
);

436 
di¥Ïy_»cov”abË
 (
‹rmios
 *
mode
);

437 
di¥Ïy_£‰šgs
 (
ouut_ty³
 output_type,

438 
‹rmios
 *
mode
,

439 cÚ¡ *
deviû_Çme
);

440 
di¥Ïy_¥“d
 (
‹rmios
 *
mode
, 
boŞ
 
çncy
);

441 
di¥Ïy_wšdow_size
 (
boŞ
 
çncy
, cÚ¡ *
deviû_Çme
);

442 
§Ã_mode
 (
‹rmios
 *
mode
);

443 
£t_cÚŒŞ_ch¬
 (
cÚŒŞ_šfo
 cÚ¡ *
šfo
,

444 cÚ¡ *
¬g
,

445 
‹rmios
 *
mode
);

446 
£t_¥“d
 (
¥“d_£‰šg
 
ty³
, cÚ¡ *
¬g
,

447 
‹rmios
 *
mode
);

448 
£t_wšdow_size
 (
rows
, 
cŞs
, cÚ¡ *
deviû_Çme
);

451 
	gmax_cŞ
;

454 
	gcu¼’t_cŞ
;

456 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

458 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

459 {"§ve", 
no_¬gum’t
, 
NULL
, 'g'},

460 {"fe", 
»quœed_¬gum’t
, 
NULL
, 'F'},

461 {
GETOPT_HELP_OPTION_DECL
},

462 {
GETOPT_VERSION_OPTION_DECL
},

463 {
NULL
, 0, NULL, 0}

466 
	$w¿pf
 (cÚ¡ *
mes§ge
, ...)

467 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 1, 2)));

474 
	$w¿pf
 (cÚ¡ *
mes§ge
,...)

476 
va_li¡
 
¬gs
;

477 *
buf
;

478 
buæ’
;

480 
	`va_¡¬t
 (
¬gs
, 
mes§ge
);

481 
buæ’
 = 
	`va¥rštf
 (&
buf
, 
mes§ge
, 
¬gs
);

482 
	`va_’d
 (
¬gs
);

484 ià(
buæ’
 < 0)

485 
	`x®loc_d›
 ();

487 ià(0 < 
cu¼’t_cŞ
)

489 ià(
max_cŞ
 - 
cu¼’t_cŞ
 < 
buæ’
)

491 
	`putch¬
 ('\n');

492 
cu¼’t_cŞ
 = 0;

496 
	`putch¬
 (' ');

497 
cu¼’t_cŞ
++;

501 
	`åuts
 (
buf
, 
¡dout
);

502 
	`ä“
 (
buf
);

503 
cu¼’t_cŞ
 +ğ
buæ’
;

504 
	}
}

507 
	$u§ge
 (
¡©us
)

509 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

510 
	`em™_Œy_h–p
 ();

513 
	`´štf
 (
	`_
("\
: %s [-F DEVICE | --file=DEVICE] [SETTING]...\n\
: %s [-F DEVICE | --file=DEVICE] [-a|--all]\n\
: %s [-F DEVICE | --file=DEVICE] [-g|--save]\n\
"),

518 
´og¿m_Çme
,…rogram_name,…rogram_name);

519 
	`åuts
 (
	`_
("\
 o¸chªg‹rmš® ch¬aù”i¡ics.\n\
"), 
¡dout
);

523 
	`em™_mªd©Üy_¬g_nÙe
 ();

525 
	`åuts
 (
	`_
("\
-a, --®È…ršˆ®Ècu¼’ˆ£‰šg š humª-»adabË fÜm\n\
-g, --§v…ršˆ®Ècu¼’ˆ£‰šg š‡ s‰y-»adabË fÜm\n\
-F, --fe=DEVICE o³Àªd u£h¥ecif›d DEVICE in¡—d oà¡dš\n\
"), 
¡dout
);

530 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

531 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

532 
	`åuts
 (
	`_
("\
\n\
 - befÜSETTING indiÿ‹ Ãg©iÚ. AÀ* m¬k nÚ-POSIX\n\
. Thund”lyšg sy¡em defše which s‘tšg ¬avaabË.\n\
"), 
¡dout
);

537 
	`åuts
 (
	`_
("\
\n\
 ch¬aù”s:\n\
* dsu¥ CHAR CHAR wÈ£nd‡”mš® stİ sigÇÈÚû iÅuˆæushed\n\
 CHAR CHAR wÈ£nd‡À’d oàfÑ”mš©thšput)\n\
 CHAR CHAR wÈ’dhlše\n\
"), 
¡dout
);

544 
	`åuts
 (
	`_
("\
*ƒŞ2 CHAR‡É”Ç‹ CHAR fÜƒndšghlše\n\
 CHAR CHAR wÈ”a£hÏ¡ ch¬aù”y³d\n\
 CHAR CHAR wÈ£nd‡Àš‹¼u± sigÇl\n\
 CHAR CHAR wÈ”a£hcu¼’ˆlše\n\
"), 
¡dout
);

550 
	`åuts
 (
	`_
("\
*†ÃxˆCHAR CHAR wÈ’‹¸thÃxˆch¬aù” quÙed\n\
 CHAR CHAR wÈ£nd‡ qu™ sigÇl\n\
*„´Á CHAR CHAR wÈ»d¿whcu¼’ˆlše\n\
 CHAR CHAR wÈ»¡¬ˆthouuˆaá” stİpšg it\n\
"), 
¡dout
);

556 
	`åuts
 (
	`_
("\
 CHAR CHAR wÈ¡İhouut\n\
 CHAR CHAR wÈ£nd‡”mš® stİ sigÇl\n\
* swtch CHAR CHAR wÈsw™chØ¨difã»Á sh–ÈÏy”\n\
* w”a£ CHAR CHAR wÈ”a£hÏ¡ wÜdy³d\n\
"), 
¡dout
);

562 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
 s‘hšpuˆªd ouuˆ¥“d tØN bauds\n\
* cŞ N–Èthk”ÃÈth©h‹rmš® ha N cŞumns\n\
* cŞumn N sama cŞ N\n\
"), 
¡dout
);

569 
	`åuts
 (
	`_
("\
 N s‘hšpuˆ¥“dØN\n\
*†šN u£†šdisclšN\n\
 N w™h -iÿnÚ, s‘ N ch¬aù” mšimum fÜ‡ com¶‘ed„—d\n\
 N s‘houuˆ¥“dØN\n\
"), 
¡dout
);

575 
	`åuts
 (
	`_
("\
*„ow N–Èthk”ÃÈth©h‹rmš® ha N„ows\n\
* siz…ršˆthnumb” oàrow ªd cŞumn accÜdšgØthk”Ãl\n\
…ršˆth‹rmš® s³ed\n\
 N w™h -iÿnÚ, s‘„—dimeouˆoàN’th oà¨£cÚd\n\
"), 
¡dout
);

581 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
[-]şoÿÈ di§bË modem cÚŒŞ sigÇls\n\
[-]ü—d‡Îow iÅuˆtØb»ûived\n\
* [-]ütsù ƒÇbË RTS/CTS hªdshakšg\n\
* [-]cdŒd¤ƒÇbË DTR/DSR hªdshakšg\n\
 s‘ ch¬aù” siztØN b™s, N iÀ[5..8]\n\
"), 
¡dout
);

590 
	`åuts
 (
	`_
("\
[-]c¡İb u£wØ¡İ b™ ³¸ch¬aù” (Úw™h '-')\n\
[-]hu° s’d‡ hªgu°sigÇÈwh’hÏ¡…roûs şo£ th‰y\n\
[-]hupş sama [-]hup\n\
[-]·»nb g’”©·r™y b™ iÀouuˆªdƒx³ù…¬™y b™ iÀšput\n\
[-]·rodd s‘ odd…¬™y (Üƒv’…¬™y w™h '-')\n\
"), 
¡dout
);

597 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
[-]brkšˆ b»ak ÿu£‡Àš‹¼u± sigÇl\n\
[-]iüÆ¿n¦©ÿ¼Ÿg»tuºØÃwlše\n\
[-]ignbrk ignÜb»ak ch¬aù”s\n\
[-]ignü ignÜÿ¼Ÿg»tuº\n\
"), 
¡dout
);

605 
	`åuts
 (
	`_
("\
[-]igÅ¬ ignÜch¬aù” w™h…¬™yƒ¼Üs\n\
* [-]imaxb– b“°ªd dØnÙ flush‡ fuÎ iÅuˆbufã¸Ú‡ ch¬aù”\n\
[-]šlü¿n¦©ÃwlštØÿ¼Ÿg»tuº\n\
[-]špckƒÇbË iÅuˆ·r™y checkšg\n\
[-]i¡r cË¬ high (8thèb™ oàšpuˆch¬aù”s\n\
"), 
¡dout
);

612 
	`åuts
 (
	`_
("\
* [-]iutf8‡ssumšpuˆch¬aù” ¬UTF-8ƒncoded\n\
"), 
¡dout
);

615 
	`åuts
 (
	`_
("\
* [-]iuşø¿n¦©uµ”ÿ£ ch¬aù” tØlow”ÿ£\n\
* [-]ixªy†‘‡ny ch¬aù”„e¡¬ˆouut,‚Ù oÆy s¹ ch¬aù”\n\
[-]ixofàƒÇbË s’dšg oà¡¬t/¡İ ch¬aù”s\n\
[-]ixÚƒÇbË XON/XOFF flow cÚŒŞ\n\
[-]·rmrk m¬k…¬™yƒ¼Ü (w™h‡ 255-0-ch¬aù” sequ’û)\n\
[-]ndem sama [-]ixoff\n\
"), 
¡dout
);

623 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
* bsN back¥aû d–ay styË, N iÀ[0..1]\n\
* crN c¬rŸg»tuº d–ay styË, N iÀ[0..3]\n\
* ffN fÜm f“d d–ay styË, N iÀ[0..1]\n\
*‚lN‚ewlšd–ay styË, N iÀ[0..1]\n\
"), 
¡dout
);

631 
	`åuts
 (
	`_
("\
* [-]oüÆ¿n¦©ÿ¼Ÿg»tuºØÃwlše\n\
* [-]ofd– u£ d–‘ch¬aù” fÜ fÈš¡—d oànuÎ ch¬aù”s\n\
* [-]ofÈ u£ fÈÕaddšgèch¬aù” š¡—d oàtimšg fÜ d–ays\n\
* [-]Şcuø¿n¦©low”ÿ£ ch¬aù” tØuµ”ÿ£\n\
* [-]Úlü¿n¦©ÃwlštØÿ¼Ÿg»tuº-Ãwlše\n\
* [-]ÚÌ‘‚ewlš³rfÜm ¨ÿ¼Ÿg»tuº\n\
"), 
¡dout
);

639 
	`åuts
 (
	`_
("\
* [-]Úoü dØnÙ…ršˆÿ¼Ÿg»tuº šhfœ¡ cŞumn\n\
[-]İo¡…o¡´oûs ouut\n\
*abN hÜizÚÈb d–ay styË, N iÀ[0..3]\n\
*ab  sama b0\n\
* -b  sama b3\n\
* vtN v”tiÿÈb d–ay styË, N iÀ[0..1]\n\
"), 
¡dout
);

647 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
[-]ü‹¿£ƒchØ”a£ ch¬aù” a back¥aû-¥aû-back¥aû\n\
* c¹kÈ kÈ®Èlšby obeyšghechİ¹‡ndƒchÛ s‘tšgs\n\
* -ütkÈ kÈ®Èlšby obeyšghechoùÈªdƒchok s‘tšgs\n\
"), 
¡dout
);

654 
	`åuts
 (
	`_
("\
* [-]ùËchØƒchØcÚŒŞ ch¬aù” š h©‚Ù©iÚ ('^c')\n\
[-]echØƒchØšpuˆch¬aù”s\n\
* [-]echoùÈ sama [-]ùËcho\n\
[-]echÛ sama [-]ü‹¿£\n\
[-]echokƒchØ¨Ãwlšaá”‡ kÈch¬aù”\n\
"), 
¡dout
);

661 
	`åuts
 (
	`_
("\
* [-]echok sama [-]ütkl\n\
[-]echÚÈƒchØÃwlšev’ iànÙƒchošg oth” ch¬aù”s\n\
* [-]echİ¹ƒchØ”a£d ch¬aù” backw¬d, b‘w“À'\\'‡nd '/'\n\
[-]iÿnÚƒÇbËƒ¿£, kl, w”a£,‡nd„´Á s³cŸÈch¬aù”s\n\
[-]›x‹ÀƒÇbË‚Ú-POSIX s³cŸÈch¬aù”s\n\
"), 
¡dout
);

668 
	`åuts
 (
	`_
("\
[-]isigƒÇbË iÁ”ru±, qu™,‡nd su¥’d s³cŸÈch¬aù”s\n\
[-]noæsh di§bË flushšg‡á” iÁ”ru±‡nd qu™ s³cŸÈch¬aù”s\n\
* [-]´‹¿£ sama [-]echİ¹\n\
* [-]to¡İ stİ background job th©ryØwr™tØth‹rmš®\n\
* [-]xÿ£ w™h iÿnÚ,ƒsÿ³ w™h '\\' fÜ uµ”ÿ£ ch¬aù”s\n\
"), 
¡dout
);

675 
	`åuts
 (
	`_
("\
\n\
 s‘tšgs:\n\
* [-]LCASE sama [-]lÿ£\n\
 sama -iÿnÚ\n\
-cb»ak sama iÿnÚ\n\
"), 
¡dout
);

682 
	`åuts
 (
	`_
("\
 sama brkšˆigÅ¬ i¡r iüÆ ixÚ opo¡ isig\n\
,ƒoàªdƒŞ ch¬aù” tØtheœ deçuÉ v®ues\n\
-cooked sama ¿w\n\
 sama echÛƒchoùÈechoke\n\
"), 
¡dout
);

688 
	`åuts
 (
	`_
("\
 sama echÛƒchoùÈechok-ixªy iÁ¸^ø”a£ 0177\n\
 ^u\n\
* [-]decùlq sama [-]ixªy\n\
ƒ¿£‡nd kÈch¬aù” tØtheœ deçuÉ v®ues\n\
 sama ·»nb -·rodd cs7\n\
"), 
¡dout
);

695 
	`åuts
 (
	`_
("\
-ev’° sama -·»nb cs8\n\
* [-]lÿ£ sama xÿ£ iuşøŞcuc\n\
 sama -·»nb -i¡r -İo¡ cs8\n\
-l™ouˆ sama ·»nb i¡r opo¡ cs7\n\
 sama -iüÆ -Úlü\n\
-Æ sama iüÆ -šlü -ignü oÆü -oüÆ -ÚÌ‘\n\
"), 
¡dout
);

703 
	`åuts
 (
	`_
("\
 sama ·»nb…¬odd cs7\n\
-odd° sama -·»nb cs8\n\
[-]·r™y sama [-]ev’p\n\
8 sama -·»nb -i¡r cs8\n\
-·ss8 sama ·»nb i¡r cs7\n\
"), 
¡dout
);

710 
	`åuts
 (
	`_
("\
 sama -ignbrk -brkšˆ-igÅ¬ -·rmrk -špck -i¡r\n\
-šlü -ignü -iüÆ -ixÚ -ixofà -iuşø -ixªy\n\
-imaxb– -İo¡ -isig -iÿnÚ -xÿ£ mš 1im0\n\
-¿w sama cooked\n\
"), 
¡dout
);

716 
	`åuts
 (
	`_
("\
 sama ü—d -ignbrk brkšˆ-šlü -ignü iüÆ -iutf8\n\
-ixofà-iuşø-ixªy imaxb– opo¡ -Şcuø-oüÆ oÆü\n\
-Úoü -ÚÌ‘ -ofÈ-ofd–‚l0 cr0ab0 bs0 vt0 ff0\n\
 iÿnÚ iex‹ÀechØechÛƒchok -echÚÈ-noæsh\n\
-xÿ£ -to¡İ -echİ¹ƒchoùÈechoke,‡Î s³cŸl\n\
Øtheœ deçuÉ v®ues\n\
"), 
¡dout
);

724 
	`åuts
 (
	`_
("\
\n\
h‰y†šcÚÃùedØ¡ªd¬d iÅut. W™houˆ¬gum’ts,\n\
 baud„©e,†šdisclše,‡nd devŸtiÚ äom s‰y sªe. In\n\
, CHAR i k’†™”®ly, o¸coded‡ š ^c, 0x37, 0177 or\n\
127; s³cŸÈv®ue ^- o¸undeàu£dØdi§bË s³cŸÈch¬aù”s.\n\
"), 
¡dout
);

731 
	`em™_ªcÏry_šfo
 ();

733 
	`ex™
 (
¡©us
);

734 
	}
}

737 
	$maš
 (
¬gc
, **
¬gv
)

741 
‹rmios
 
mode
;

743 
ouut_ty³
 output_type;

744 
İtc
;

745 
¬gi
 = 0;

746 
İti
 = 1;

747 
boŞ
 
»quœe_£t_©Œ
;

748 
boŞ
 
¥“d_was_£t
 
ATTRIBUTE_UNUSED
;

749 
boŞ
 
v”bo£_ouut
;

750 
boŞ
 
»cov”abË_ouut
;

751 
k
;

752 
boŞ
 
nßrgs
 = 
Œue
;

753 *
fe_Çme
 = 
NULL
;

754 cÚ¡ *
deviû_Çme
;

756 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

757 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

758 
	`£oÿË
 (
LC_ALL
, "");

759 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

760 
	`‹xtdomaš
 (
PACKAGE
);

762 
	`©ex™
 (
şo£_¡dout
);

764 
ouut_ty³
 = 
chªged
;

765 
v”bo£_ouut
 = 
çl£
;

766 
»cov”abË_ouut
 = 
çl£
;

769 
İ‹¼
 = 0;

778 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
 - 
¬gi
, 
¬gv
 +‡rgi, "-agF:",

779 
lÚgİts
, 
NULL
))

782 
İtc
)

785 
v”bo£_ouut
 = 
Œue
;

786 
ouut_ty³
 = 
®l
;

790 
»cov”abË_ouut
 = 
Œue
;

791 
ouut_ty³
 = 
»cov”abË
;

795 ià(
fe_Çme
)

796 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("only one device may be specified"));

797 
fe_Çme
 = 
İrg
;

800 
ÿ£_GETOPT_HELP_CHAR
;

802 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

805 
nßrgs
 = 
çl£
;

809 
¬gi
 +ğ
İti
;

812 
İti
 = 1;

813 
İtšd
 = 0;

819 
İti
 < 
İtšd
)

820 
¬gv
[
¬gi
 + 
İti
++] = 
NULL
;

824 ià(
v”bo£_ouut
 && 
»cov”abË_ouut
)

825 
	`”rÜ
 (
EXIT_FAILURE
, 0,

826 
	`_
("the options for verbose‡nd stty-readable output styles‡re\n"

830 ià(!
nßrgs
 && (
v”bo£_ouut
 || 
»cov”abË_ouut
))

831 
	`”rÜ
 (
EXIT_FAILURE
, 0,

832 
	`_
("when specifying‡n output style, modes may‚ot be set"));

839 ià(
fe_Çme
)

841 
fdæags
;

842 
deviû_Çme
 = 
fe_Çme
;

843 ià(
	`fd_»İ’
 (
STDIN_FILENO
, 
deviû_Çme
, 
O_RDONLY
 | 
O_NONBLOCK
, 0) < 0)

844 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

845 ià((
fdæags
 = 
	`fú
 (
STDIN_FILENO
, 
F_GETFL
)) == -1

846 || 
	`fú
 (
STDIN_FILENO
, 
F_SETFL
, 
fdæags
 & ~
O_NONBLOCK
) < 0)

847 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("%s: couldn't„eset‚on-blocking mode"),

848 
deviû_Çme
);

851 
deviû_Çme
 = 
	`_
("standard input");

853 ià(
	`tcg‘©Œ
 (
STDIN_FILENO
, &
mode
))

854 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

856 ià(
v”bo£_ouut
 || 
»cov”abË_ouut
 || 
nßrgs
)

858 
max_cŞ
 = 
	`sü“n_cŞumns
 ();

859 
cu¼’t_cŞ
 = 0;

860 
	`di¥Ïy_£‰šgs
 (
ouut_ty³
, &
mode
, 
deviû_Çme
);

861 
	`ex™
 (
EXIT_SUCCESS
);

864 
¥“d_was_£t
 = 
çl£
;

865 
»quœe_£t_©Œ
 = 
çl£
;

866 
k
 = 1; k < 
¬gc
; k++)

868 cÚ¡ *
¬g
 = 
¬gv
[
k
];

869 
boŞ
 
m©ch_found
 = 
çl£
;

870 
boŞ
 
»v”£d
 = 
çl£
;

871 
i
;

873 ià(! 
¬g
)

876 ià(
¬g
[0] == '-')

878 ++
¬g
;

879 
»v”£d
 = 
Œue
;

881 
i
 = 0; 
mode_šfo
[i].
Çme
 !ğ
NULL
; ++i)

883 ià(
	`STREQ
 (
¬g
, 
mode_šfo
[
i
].
Çme
))

885 
m©ch_found
 = 
	`£t_mode
 (&
mode_šfo
[
i
], 
»v”£d
, &
mode
);

886 
»quœe_£t_©Œ
 = 
Œue
;

890 ià(!
m©ch_found
 && 
»v”£d
)

892 
	`”rÜ
 (0, 0, 
	`_
("šv®id‡rgum’ˆ%s"), 
	`quÙe
 (
¬g
 - 1));

893 
	`u§ge
 (
EXIT_FAILURE
);

895 ià(!
m©ch_found
)

897 
i
 = 0; 
cÚŒŞ_šfo
[i].
Çme
 !ğ
NULL
; ++i)

899 ià(
	`STREQ
 (
¬g
, 
cÚŒŞ_šfo
[
i
].
Çme
))

901 ià(
k
 =ğ
¬gc
 - 1)

903 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

904 
	`u§ge
 (
EXIT_FAILURE
);

906 
m©ch_found
 = 
Œue
;

907 ++
k
;

908 
	`£t_cÚŒŞ_ch¬
 (&
cÚŒŞ_šfo
[
i
], 
¬gv
[
k
], &
mode
);

909 
»quœe_£t_©Œ
 = 
Œue
;

914 ià(!
m©ch_found
)

916 ià(
	`STREQ
 (
¬g
, "ispeed"))

918 ià(
k
 =ğ
¬gc
 - 1)

920 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

921 
	`u§ge
 (
EXIT_FAILURE
);

923 ++
k
;

924 
	`£t_¥“d
 (
šput_¥“d
, 
¬gv
[
k
], &
mode
);

925 
¥“d_was_£t
 = 
Œue
;

926 
»quœe_£t_©Œ
 = 
Œue
;

928 ià(
	`STREQ
 (
¬g
, "ospeed"))

930 ià(
k
 =ğ
¬gc
 - 1)

932 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

933 
	`u§ge
 (
EXIT_FAILURE
);

935 ++
k
;

936 
	`£t_¥“d
 (
ouut_¥“d
, 
¬gv
[
k
], &
mode
);

937 
¥“d_was_£t
 = 
Œue
;

938 
»quœe_£t_©Œ
 = 
Œue
;

940 #ifdeà
TIOCGWINSZ


941 ià(
	`STREQ
 (
¬g
, "rows"))

943 ià(
k
 =ğ
¬gc
 - 1)

945 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

946 
	`u§ge
 (
EXIT_FAILURE
);

948 ++
k
;

949 
	`£t_wšdow_size
 (
	`š‹g”_¬g
 (
¬gv
[
k
], 
INT_MAX
), -1,

950 
deviû_Çme
);

952 ià(
	`STREQ
 (
¬g
, "cols")

953 || 
	`STREQ
 (
¬g
, "columns"))

955 ià(
k
 =ğ
¬gc
 - 1)

957 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

958 
	`u§ge
 (
EXIT_FAILURE
);

960 ++
k
;

961 
	`£t_wšdow_size
 (-1, 
	`š‹g”_¬g
 (
¬gv
[
k
], 
INT_MAX
),

962 
deviû_Çme
);

964 ià(
	`STREQ
 (
¬g
, "size"))

966 
max_cŞ
 = 
	`sü“n_cŞumns
 ();

967 
cu¼’t_cŞ
 = 0;

968 
	`di¥Ïy_wšdow_size
 (
çl£
, 
deviû_Çme
);

971 #ifdeà
HAVE_C_LINE


972 ià(
	`STREQ
 (
¬g
, "line"))

974 
v®ue
;

975 ià(
k
 =ğ
¬gc
 - 1)

977 
	`”rÜ
 (0, 0, 
	`_
("missšg‡rgum’ˆtØ%s"), 
	`quÙe
 (
¬g
));

978 
	`u§ge
 (
EXIT_FAILURE
);

980 ++
k
;

981 
mode
.
c_lše
 = 
v®ue
 = 
	`š‹g”_¬g
 (
¬gv
[
k
], 
ULONG_MAX
);

982 ià(
mode
.
c_lše
 !ğ
v®ue
)

983 
	`”rÜ
 (0, 0, 
	`_
("šv®id†šdisclš%s"), 
	`quÙe
 (
¬gv
[
k
]));

984 
»quœe_£t_©Œ
 = 
Œue
;

987 ià(
	`STREQ
 (
¬g
, "speed"))

989 
max_cŞ
 = 
	`sü“n_cŞumns
 ();

990 
	`di¥Ïy_¥“d
 (&
mode
, 
çl£
);

992 ià(
	`¡ršg_to_baud
 (
¬g
è!ğ(
¥“d_t
) -1)

994 
	`£t_¥“d
 (
bÙh_¥“ds
, 
¬g
, &
mode
);

995 
¥“d_was_£t
 = 
Œue
;

996 
»quœe_£t_©Œ
 = 
Œue
;

1000 ià(! 
	`»cov”_mode
 (
¬g
, &
mode
))

1002 
	`”rÜ
 (0, 0, 
	`_
("šv®id‡rgum’ˆ%s"), 
	`quÙe
 (
¬g
));

1003 
	`u§ge
 (
EXIT_FAILURE
);

1005 
»quœe_£t_©Œ
 = 
Œue
;

1010 ià(
»quœe_£t_©Œ
)

1014 
‹rmios
 
Ãw_mode
;

1016 ià(
	`tc£‰r
 (
STDIN_FILENO
, 
TCSADRAIN
, &
mode
))

1017 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1026 ià(
	`tcg‘©Œ
 (
STDIN_FILENO
, &
Ãw_mode
))

1027 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1036 ià(
	`memcmp
 (&
mode
, &
Ãw_mode
,  (mode)) != 0)

1038 #ifdeà
CIBAUD


1048 
Ãw_mode
.
c_cæag
 &ğ(~
CIBAUD
);

1049 ià(
¥“d_was_£t
 || 
	`memcmp
 (&
mode
, &
Ãw_mode
,  (mode)) != 0)

1052 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1053 
	`_
("%s: unableo…erform‡ll„equested operations"),

1054 
deviû_Çme
);

1055 #ifdeà
TESTING


1057 
size_t
 
i
;

1058 
	`´štf
 ("new_mode: mode\n");

1059 
i
 = 0; i <  (
Ãw_mode
); i++)

1060 
	`´štf
 ("0x%02x: 0x%02x\n",

1061 *(((*è&
Ãw_mode
è+ 
i
),

1062 *(((*è&
mode
è+ 
i
));

1069 
	`ex™
 (
EXIT_SUCCESS
);

1070 
	}
}

1075 
boŞ


1076 
	$£t_mode
 (
mode_šfo
 cÚ¡ *
šfo
, 
boŞ
 
»v”£d
, 
‹rmios
 *
mode
)

1078 
tcæag_t
 *
b™¥
;

1080 ià(
»v”£d
 && (
šfo
->
æags
 & 
REV
) == 0)

1081  
çl£
;

1083 
b™¥
 = 
	`mode_ty³_æag
 (
šfo
->
ty³
, 
mode
);

1085 ià(
b™¥
 =ğ
NULL
)

1088 ià(
	`STREQ
 (
šfo
->
Çme
, "evenp") || STREQ (info->name, "parity"))

1090 ià(
»v”£d
)

1091 
mode
->
c_cæag
 = (mode->c_cæag & ~
PARENB
 & ~
CSIZE
è| 
CS8
;

1093 
mode
->
c_cæag
 = (mode->c_cæag & ~
PARODD
 & ~
CSIZE
è| 
PARENB
 | 
CS7
;

1095 ià(
	`STREQ
 (
šfo
->
Çme
, "oddp"))

1097 ià(
»v”£d
)

1098 
mode
->
c_cæag
 = (mode->c_cæag & ~
PARENB
 & ~
CSIZE
è| 
CS8
;

1100 
mode
->
c_cæag
 = (mode->c_cæag & ~
CSIZE
è| 
CS7
 | 
PARODD
 | 
PARENB
;

1102 ià(
	`STREQ
 (
šfo
->
Çme
, "nl"))

1104 ià(
»v”£d
)

1106 
mode
->
c_iæag
 = (mode->c_iæag | 
ICRNL
è& ~
INLCR
 & ~
IGNCR
;

1107 
mode
->
c_oæag
 = (mode->c_oflag

1108 #ifdeà
ONLCR


1109 | 
ONLCR


1112 #ifdeà
OCRNL


1113 & ~
OCRNL


1115 #ifdeà
ONLRET


1116 & ~
ONLRET


1122 
mode
->
c_iæag
 = mode->c_iæag & ~
ICRNL
;

1123 #ifdeà
ONLCR


1124 
mode
->
c_oæag
 = mode->c_oæag & ~
ONLCR
;

1128 ià(
	`STREQ
 (
šfo
->
Çme
, "ek"))

1130 
mode
->
c_cc
[
VERASE
] = 
CERASE
;

1131 
mode
->
c_cc
[
VKILL
] = 
CKILL
;

1133 ià(
	`STREQ
 (
šfo
->
Çme
, "sane"))

1134 
	`§Ã_mode
 (
mode
);

1135 ià(
	`STREQ
 (
šfo
->
Çme
, "cbreak"))

1137 ià(
»v”£d
)

1138 
mode
->
c_læag
 |ğ
ICANON
;

1140 
mode
->
c_læag
 &ğ~
ICANON
;

1142 ià(
	`STREQ
 (
šfo
->
Çme
, "pass8"))

1144 ià(
»v”£d
)

1146 
mode
->
c_cæag
 = (mode->c_cæag & ~
CSIZE
è| 
CS7
 | 
PARENB
;

1147 
mode
->
c_iæag
 |ğ
ISTRIP
;

1151 
mode
->
c_cæag
 = (mode->c_cæag & ~
PARENB
 & ~
CSIZE
è| 
CS8
;

1152 
mode
->
c_iæag
 &ğ~
ISTRIP
;

1155 ià(
	`STREQ
 (
šfo
->
Çme
, "litout"))

1157 ià(
»v”£d
)

1159 
mode
->
c_cæag
 = (mode->c_cæag & ~
CSIZE
è| 
CS7
 | 
PARENB
;

1160 
mode
->
c_iæag
 |ğ
ISTRIP
;

1161 
mode
->
c_oæag
 |ğ
OPOST
;

1165 
mode
->
c_cæag
 = (mode->c_cæag & ~
PARENB
 & ~
CSIZE
è| 
CS8
;

1166 
mode
->
c_iæag
 &ğ~
ISTRIP
;

1167 
mode
->
c_oæag
 &ğ~
OPOST
;

1170 ià(
	`STREQ
 (
šfo
->
Çme
, "raw") || STREQ (info->name, "cooked"))

1172 ià((
šfo
->
Çme
[0] =ğ'r' && 
»v”£d
)

1173 || (
šfo
->
Çme
[0] =ğ'c' && !
»v”£d
))

1176 
mode
->
c_iæag
 |ğ
BRKINT
 | 
IGNPAR
 | 
ISTRIP
 | 
ICRNL
 | 
IXON
;

1177 
mode
->
c_oæag
 |ğ
OPOST
;

1178 
mode
->
c_læag
 |ğ
ISIG
 | 
ICANON
;

1179 #ià
VMIN
 =ğ
VEOF


1180 
mode
->
c_cc
[
VEOF
] = 
CEOF
;

1182 #ià
VTIME
 =ğ
VEOL


1183 
mode
->
c_cc
[
VEOL
] = 
CEOL
;

1189 
mode
->
c_iæag
 = 0;

1190 
mode
->
c_oæag
 &ğ~
OPOST
;

1191 
mode
->
c_læag
 &ğ~(
ISIG
 | 
ICANON


1192 #ifdeà
XCASE


1193 | 
XCASE


1196 
mode
->
c_cc
[
VMIN
] = 1;

1197 
mode
->
c_cc
[
VTIME
] = 0;

1200 #ifdeà
IXANY


1201 ià(
	`STREQ
 (
šfo
->
Çme
, "decctlq"))

1203 ià(
»v”£d
)

1204 
mode
->
c_iæag
 |ğ
IXANY
;

1206 
mode
->
c_iæag
 &ğ~
IXANY
;

1209 #ifdeà
TABDLY


1210 ià(
	`STREQ
 (
šfo
->
Çme
, "tabs"))

1212 ià(
»v”£d
)

1213 
mode
->
c_oæag
 = (mode->c_oæag & ~
TABDLY
è| 
TAB3
;

1215 
mode
->
c_oæag
 = (mode->c_oæag & ~
TABDLY
è| 
TAB0
;

1218 #ifdeà
OXTABS


1219 ià(
	`STREQ
 (
šfo
->
Çme
, "tabs"))

1221 ià(
»v”£d
)

1222 
mode
->
c_oæag
 = mode->c_oæag | 
OXTABS
;

1224 
mode
->
c_oæag
 = mode->c_oæag & ~
OXTABS
;

1228 #ià
defšed
 
XCASE
 && defšed 
IUCLC
 && defšed 
OLCUC


1229 ià(
	`STREQ
 (
šfo
->
Çme
, "lcase")

1230 || 
	`STREQ
 (
šfo
->
Çme
, "LCASE"))

1232 ià(
»v”£d
)

1234 
mode
->
c_læag
 &ğ~
XCASE
;

1235 
mode
->
c_iæag
 &ğ~
IUCLC
;

1236 
mode
->
c_oæag
 &ğ~
OLCUC
;

1240 
mode
->
c_læag
 |ğ
XCASE
;

1241 
mode
->
c_iæag
 |ğ
IUCLC
;

1242 
mode
->
c_oæag
 |ğ
OLCUC
;

1246 ià(
	`STREQ
 (
šfo
->
Çme
, "crt"))

1247 
mode
->
c_læag
 |ğ
ECHOE


1248 #ifdeà
ECHOCTL


1249 | 
ECHOCTL


1251 #ifdeà
ECHOKE


1252 | 
ECHOKE


1255 ià(
	`STREQ
 (
šfo
->
Çme
, "dec"))

1257 
mode
->
c_cc
[
VINTR
] = 3;

1258 
mode
->
c_cc
[
VERASE
] = 127;

1259 
mode
->
c_cc
[
VKILL
] = 21;

1260 
mode
->
c_læag
 |ğ
ECHOE


1261 #ifdeà
ECHOCTL


1262 | 
ECHOCTL


1264 #ifdeà
ECHOKE


1265 | 
ECHOKE


1268 #ifdeà
IXANY


1269 
mode
->
c_iæag
 &ğ~
IXANY
;

1273 ià(
»v”£d
)

1274 *
b™¥
 = *b™¥ & ~
šfo
->
mask
 & ~šfo->
b™s
;

1276 *
b™¥
 = (*b™¥ & ~
šfo
->
mask
è| info->
b™s
;

1278  
Œue
;

1279 
	}
}

1282 
	$£t_cÚŒŞ_ch¬
 (
cÚŒŞ_šfo
 cÚ¡ *
šfo
, cÚ¡ *
¬g
,

1283 
‹rmios
 *
mode
)

1285 
v®ue
;

1287 ià(
	`STREQ
 (
šfo
->
Çme
, "min") || STREQ (info->name, "time"))

1288 
v®ue
 = 
	`š‹g”_¬g
 (
¬g
, 
	`TYPE_MAXIMUM
 (
cc_t
));

1289 ià(
¬g
[0] == '\0' ||‡rg[1] == '\0')

1290 
v®ue
 = 
	`to_uch¬
 (
¬g
[0]);

1291 ià(
	`STREQ
 (
¬g
, "^-") || STREQ (arg, "undef"))

1292 
v®ue
 = 
_POSIX_VDISABLE
;

1293 ià(
¬g
[0] == '^' &&‡rg[1] != '\0')

1295 ià(
¬g
[1] == '?')

1296 
v®ue
 = 127;

1298 
v®ue
 = 
	`to_uch¬
 (
¬g
[1]) & ~0140;

1301 
v®ue
 = 
	`š‹g”_¬g
 (
¬g
, 
	`TYPE_MAXIMUM
 (
cc_t
));

1302 
mode
->
c_cc
[
šfo
->
off£t
] = 
v®ue
;

1303 
	}
}

1306 
	$£t_¥“d
 (
¥“d_£‰šg
 
ty³
, cÚ¡ *
¬g
, 
‹rmios
 *
mode
)

1308 
¥“d_t
 
baud
;

1310 
baud
 = 
	`¡ršg_to_baud
 (
¬g
);

1311 ià(
ty³
 =ğ
šput_¥“d
 ||y³ =ğ
bÙh_¥“ds
)

1312 
	`cf£ti¥“d
 (
mode
, 
baud
);

1313 ià(
ty³
 =ğ
ouut_¥“d
 ||y³ =ğ
bÙh_¥“ds
)

1314 
	`cf£to¥“d
 (
mode
, 
baud
);

1315 
	}
}

1317 #ifdeà
TIOCGWINSZ


1320 
	$g‘_wš_size
 (
fd
, 
wšsize
 *
wš
)

1322 
”r
 = 
	`ioùl
 (
fd
, 
TIOCGWINSZ
, (*è
wš
);

1323  
”r
;

1324 
	}
}

1327 
	$£t_wšdow_size
 (
rows
, 
cŞs
, cÚ¡ *
deviû_Çme
)

1329 
wšsize
 
wš
;

1331 ià(
	`g‘_wš_size
 (
STDIN_FILENO
, &
wš
))

1333 ià(
”ºo
 !ğ
EINVAL
)

1334 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1335 
	`mem£t
 (&
wš
, 0,  (win));

1338 ià(
rows
 >= 0)

1339 
wš
.
ws_row
 = 
rows
;

1340 ià(
cŞs
 >= 0)

1341 
wš
.
ws_cŞ
 = 
cŞs
;

1343 #ifdeà
TIOCSSIZE


1365 ià(
wš
.
ws_row
 =ğ0 || wš.
ws_cŞ
 == 0)

1367 
‰ysize
 
‰ysz
;

1369 
‰ysz
.
ts_lšes
 = 
wš
.
ws_row
;

1370 
‰ysz
.
ts_cŞs
 = 
wš
.
ws_cŞ
;

1372 
wš
.
ws_row
 = 1;

1373 
wš
.
ws_cŞ
 = 1;

1375 ià(
	`ioùl
 (
STDIN_FILENO
, 
TIOCSWINSZ
, (*è&
wš
))

1376 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1378 ià(
	`ioùl
 (
STDIN_FILENO
, 
TIOCSSIZE
, (*è&
‰ysz
))

1379 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1384 ià(
	`ioùl
 (
STDIN_FILENO
, 
TIOCSWINSZ
, (*è&
wš
))

1385 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1386 
	}
}

1389 
	$di¥Ïy_wšdow_size
 (
boŞ
 
çncy
, cÚ¡ *
deviû_Çme
)

1391 
wšsize
 
wš
;

1393 ià(
	`g‘_wš_size
 (
STDIN_FILENO
, &
wš
))

1395 ià(
”ºo
 !ğ
EINVAL
)

1396 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
deviû_Çme
);

1397 ià(!
çncy
)

1398 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1399 
	`_
("%s:‚ØsizšfÜm©iÚ fÜhi deviû"), 
deviû_Çme
);

1403 
	`w¿pf
 (
çncy
 ? "rows %d; columns %d;" : "%d %d\n",

1404 
wš
.
ws_row
, wš.
ws_cŞ
);

1405 ià(!
çncy
)

1406 
cu¼’t_cŞ
 = 0;

1408 
	}
}

1412 
	$sü“n_cŞumns
 ()

1414 #ifdeà
TIOCGWINSZ


1415 
wšsize
 
wš
;

1423 ià(
	`g‘_wš_size
 (
STDOUT_FILENO
, &
wš
è=ğ0 && 0 < wš.
ws_cŞ
)

1424  
wš
.
ws_cŞ
;

1428 *
cŞ_¡ršg
 = 
	`g‘’v
 ("COLUMNS");

1429 
n_cŞumns
;

1430 ià(!(
cŞ_¡ršg
 !ğ
NULL


1431 && 
	`x¡¹Ş
 (
cŞ_¡ršg
, 
NULL
, 0, &
n_cŞumns
, ""è=ğ
LONGINT_OK


1432 && 0 < 
n_cŞumns


1433 && 
n_cŞumns
 <ğ
INT_MAX
))

1434 
n_cŞumns
 = 80;

1435  
n_cŞumns
;

1437 
	}
}

1439 
tcæag_t
 * 
_GL_ATTRIBUTE_PURE


1440 
	$mode_ty³_æag
 (
mode_ty³
 
ty³
, 
‹rmios
 *
mode
)

1442 
ty³
)

1444 
cÚŒŞ
:

1445  &
mode
->
c_cæag
;

1447 
šput
:

1448  &
mode
->
c_iæag
;

1450 
ouut
:

1451  &
mode
->
c_oæag
;

1453 
loÿl
:

1454  &
mode
->
c_læag
;

1456 
combš©iÚ
:

1457  
NULL
;

1460 
	`abÜt
 ();

1462 
	}
}

1465 
	$di¥Ïy_£‰šgs
 (
ouut_ty³
 ouut_ty³, 
‹rmios
 *
mode
,

1466 cÚ¡ *
deviû_Çme
)

1468 
ouut_ty³
)

1470 
chªged
:

1471 
	`di¥Ïy_chªged
 (
mode
);

1474 
®l
:

1475 
	`di¥Ïy_®l
 (
mode
, 
deviû_Çme
);

1478 
»cov”abË
:

1479 
	`di¥Ïy_»cov”abË
 (
mode
);

1482 
	}
}

1485 
	$di¥Ïy_chªged
 (
‹rmios
 *
mode
)

1487 
i
;

1488 
boŞ
 
em±y_lše
;

1489 
tcæag_t
 *
b™¥
;

1490 
mask
;

1491 
mode_ty³
 
´ev_ty³
 = 
cÚŒŞ
;

1493 
	`di¥Ïy_¥“d
 (
mode
, 
Œue
);

1494 #ifdeà
HAVE_C_LINE


1495 
	`w¿pf
 ("lšğ%d;", 
mode
->
c_lše
);

1497 
	`putch¬
 ('\n');

1498 
cu¼’t_cŞ
 = 0;

1500 
em±y_lše
 = 
Œue
;

1501 
i
 = 0; !
	`STREQ
 (
cÚŒŞ_šfo
[i].
Çme
, "min"); ++i)

1503 ià(
mode
->
c_cc
[
cÚŒŞ_šfo
[
i
].
off£t
] =ğcÚŒŞ_šfo[i].
§Ãv®
)

1506 #ià
VSWTCH
 =ğ
VSUSP


1507 ià(
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "swtch"))

1511 #ià
VEOF
 =ğ
VMIN


1512 ià((
mode
->
c_læag
 & 
ICANON
) == 0

1513 && (
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "eof")

1514 || 
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "eol")))

1518 
em±y_lše
 = 
çl£
;

1519 
	`w¿pf
 ("% ğ%s;", 
cÚŒŞ_šfo
[
i
].
Çme
,

1520 
	`visibË
 (
mode
->
c_cc
[
cÚŒŞ_šfo
[
i
].
off£t
]));

1522 ià((
mode
->
c_læag
 & 
ICANON
) == 0)

1524 
	`w¿pf
 ("min = %lu;ime = %lu;\n",

1525 (è
mode
->
c_cc
[
VMIN
],

1526 (è
mode
->
c_cc
[
VTIME
]);

1528 ià(!
em±y_lše
)

1529 
	`putch¬
 ('\n');

1530 
cu¼’t_cŞ
 = 0;

1532 
em±y_lše
 = 
Œue
;

1533 
i
 = 0; 
mode_šfo
[i].
Çme
 !ğ
NULL
; ++i)

1535 ià(
mode_šfo
[
i
].
æags
 & 
OMIT
)

1537 ià(
mode_šfo
[
i
].
ty³
 !ğ
´ev_ty³
)

1539 ià(!
em±y_lše
)

1541 
	`putch¬
 ('\n');

1542 
cu¼’t_cŞ
 = 0;

1543 
em±y_lše
 = 
Œue
;

1545 
´ev_ty³
 = 
mode_šfo
[
i
].
ty³
;

1548 
b™¥
 = 
	`mode_ty³_æag
 (
mode_šfo
[
i
].
ty³
, 
mode
);

1549 
mask
 = 
mode_šfo
[
i
].mask ? mode_šfo[i].mask : mode_šfo[i].
b™s
;

1554 
	`as£¹
 (
b™¥
);

1556 ià((*
b™¥
 & 
mask
è=ğ
mode_šfo
[
i
].
b™s
)

1558 ià(
mode_šfo
[
i
].
æags
 & 
SANE_UNSET
)

1560 
	`w¿pf
 ("%s", 
mode_šfo
[
i
].
Çme
);

1561 
em±y_lše
 = 
çl£
;

1564 ià((
mode_šfo
[
i
].
æags
 & (
SANE_SET
 | 
REV
)) == (SANE_SET | REV))

1566 
	`w¿pf
 ("-%s", 
mode_šfo
[
i
].
Çme
);

1567 
em±y_lše
 = 
çl£
;

1570 ià(!
em±y_lše
)

1571 
	`putch¬
 ('\n');

1572 
cu¼’t_cŞ
 = 0;

1573 
	}
}

1576 
	$di¥Ïy_®l
 (
‹rmios
 *
mode
, cÚ¡ *
deviû_Çme
)

1578 
i
;

1579 
tcæag_t
 *
b™¥
;

1580 
mask
;

1581 
mode_ty³
 
´ev_ty³
 = 
cÚŒŞ
;

1583 
	`di¥Ïy_¥“d
 (
mode
, 
Œue
);

1584 #ifdeà
TIOCGWINSZ


1585 
	`di¥Ïy_wšdow_size
 (
Œue
, 
deviû_Çme
);

1587 #ifdeà
HAVE_C_LINE


1588 
	`w¿pf
 ("lšğ%d;", 
mode
->
c_lše
);

1590 
	`putch¬
 ('\n');

1591 
cu¼’t_cŞ
 = 0;

1593 
i
 = 0; ! 
	`STREQ
 (
cÚŒŞ_šfo
[i].
Çme
, "min"); ++i)

1596 #ià
VSWTCH
 =ğ
VSUSP


1597 ià(
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "swtch"))

1601 #ià
VEOF
 =ğ
VMIN


1602 ià((
mode
->
c_læag
 & 
ICANON
) == 0

1603 && (
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "eof")

1604 || 
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "eol")))

1607 
	`w¿pf
 ("% ğ%s;", 
cÚŒŞ_šfo
[
i
].
Çme
,

1608 
	`visibË
 (
mode
->
c_cc
[
cÚŒŞ_šfo
[
i
].
off£t
]));

1610 #ià
VEOF
 =ğ
VMIN


1611 ià((
mode
->
c_læag
 & 
ICANON
) == 0)

1613 
	`w¿pf
 ("min = %lu;ime = %lu;",

1614 (è
mode
->
c_cc
[
VMIN
],

1615 (è
mode
->
c_cc
[
VTIME
]);

1616 ià(
cu¼’t_cŞ
 != 0)

1617 
	`putch¬
 ('\n');

1618 
cu¼’t_cŞ
 = 0;

1620 
i
 = 0; 
mode_šfo
[i].
Çme
 !ğ
NULL
; ++i)

1622 ià(
mode_šfo
[
i
].
æags
 & 
OMIT
)

1624 ià(
mode_šfo
[
i
].
ty³
 !ğ
´ev_ty³
)

1626 
	`putch¬
 ('\n');

1627 
cu¼’t_cŞ
 = 0;

1628 
´ev_ty³
 = 
mode_šfo
[
i
].
ty³
;

1631 
b™¥
 = 
	`mode_ty³_æag
 (
mode_šfo
[
i
].
ty³
, 
mode
);

1632 
mask
 = 
mode_šfo
[
i
].mask ? mode_šfo[i].mask : mode_šfo[i].
b™s
;

1633 
	`as£¹
 (
b™¥
);

1634 ià((*
b™¥
 & 
mask
è=ğ
mode_šfo
[
i
].
b™s
)

1635 
	`w¿pf
 ("%s", 
mode_šfo
[
i
].
Çme
);

1636 ià(
mode_šfo
[
i
].
æags
 & 
REV
)

1637 
	`w¿pf
 ("-%s", 
mode_šfo
[
i
].
Çme
);

1639 
	`putch¬
 ('\n');

1640 
cu¼’t_cŞ
 = 0;

1641 
	}
}

1644 
	$di¥Ïy_¥“d
 (
‹rmios
 *
mode
, 
boŞ
 
çncy
)

1646 ià(
	`cfg‘i¥“d
 (
mode
è=ğ0 || cfg‘i¥“d (modeè=ğ
	`cfg‘o¥“d
 (mode))

1647 
	`w¿pf
 (
çncy
 ? "speed %lu baud;" : "%lu\n",

1648 
	`baud_to_v®ue
 (
	`cfg‘o¥“d
 (
mode
)));

1650 
	`w¿pf
 (
çncy
 ? "ispeed %lu baud; ospeed %lu baud;" : "%lu %lu\n",

1651 
	`baud_to_v®ue
 (
	`cfg‘i¥“d
 (
mode
)),

1652 
	`baud_to_v®ue
 (
	`cfg‘o¥“d
 (
mode
)));

1653 ià(!
çncy
)

1654 
cu¼’t_cŞ
 = 0;

1655 
	}
}

1658 
	$di¥Ïy_»cov”abË
 (
‹rmios
 *
mode
)

1660 
size_t
 
i
;

1662 
	`´štf
 ("%lx:%lx:%lx:%lx",

1663 (è
mode
->
c_iæag
,

1664 (è
mode
->
c_oæag
,

1665 (è
mode
->
c_cæag
,

1666 (è
mode
->
c_læag
);

1667 
i
 = 0; i < 
NCCS
; ++i)

1668 
	`´štf
 (":%lx", (è
mode
->
c_cc
[
i
]);

1669 
	`putch¬
 ('\n');

1670 
	}
}

1674 
	$¡¹oul_tcæag_t
 (cÚ¡ *
s
, 
ba£
, **
p
, 
tcæag_t
 *
»suÉ
,

1675 
d–im
)

1677 
ul
;

1678 
”ºo
 = 0;

1679 
ul
 = 
	`¡¹oul
 (
s
, 
p
, 
ba£
);

1680 ià(
”ºo
 || **
p
 !ğ
d–im
 || *°=ğ
s
 || (
tcæag_t
è
ul
 != ul)

1682 *
»suÉ
 = 
ul
;

1684 
	}
}

1688 
	$¡¹oul_cc_t
 (cÚ¡ *
s
, 
ba£
, **
p
, 
cc_t
 *
»suÉ
, 
d–im
)

1690 
ul
;

1691 
”ºo
 = 0;

1692 
ul
 = 
	`¡¹oul
 (
s
, 
p
, 
ba£
);

1693 ià(
”ºo
 || **
p
 !ğ
d–im
 || *°=ğ
s
 || (
cc_t
è
ul
 != ul)

1695 *
»suÉ
 = 
ul
;

1697 
	}
}

1701 
boŞ


1702 
	$»cov”_mode
 (cÚ¡ *
¬g
, 
‹rmios
 *
mode
)

1704 
tcæag_t
 
æag
[4];

1705 cÚ¡ *
s
 = 
¬g
;

1706 
size_t
 
i
;

1707 
i
 = 0; i < 4; i++)

1709 *
p
;

1710 ià(
	`¡¹oul_tcæag_t
 (
s
, 16, &
p
, 
æag
 + 
i
, ':') != 0)

1711  
çl£
;

1712 
s
 = 
p
 + 1;

1714 
mode
->
c_iæag
 = 
æag
[0];

1715 
mode
->
c_oæag
 = 
æag
[1];

1716 
mode
->
c_cæag
 = 
æag
[2];

1717 
mode
->
c_læag
 = 
æag
[3];

1719 
i
 = 0; i < 
NCCS
; ++i)

1721 *
p
;

1722 
d–im
 = 
i
 < 
NCCS
 - 1 ? ':' : '\0';

1723 ià(
	`¡¹oul_cc_t
 (
s
, 16, &
p
, 
mode
->
c_cc
 + 
i
, 
d–im
) != 0)

1724  
çl£
;

1725 
s
 = 
p
 + 1;

1728  
Œue
;

1729 
	}
}

1731 
	s¥“d_m­


1733 cÚ¡ *
	m¡ršg
;

1734 
¥“d_t
 
	m¥“d
;

1735 
	mv®ue
;

1738 
¥“d_m­
 cÚ¡ 
	g¥“ds
[] =

1740 {"0", 
B0
, 0},

1741 {"50", 
B50
, 50},

1742 {"75", 
B75
, 75},

1743 {"110", 
B110
, 110},

1744 {"134", 
B134
, 134},

1745 {"134.5", 
B134
, 134},

1746 {"150", 
B150
, 150},

1747 {"200", 
B200
, 200},

1748 {"300", 
B300
, 300},

1749 {"600", 
B600
, 600},

1750 {"1200", 
B1200
, 1200},

1751 {"1800", 
B1800
, 1800},

1752 {"2400", 
B2400
, 2400},

1753 {"4800", 
B4800
, 4800},

1754 {"9600", 
B9600
, 9600},

1755 {"19200", 
B19200
, 19200},

1756 {"38400", 
B38400
, 38400},

1757 {"ex", 
B19200
, 19200},

1758 {"extb", 
B38400
, 38400},

1759 #ifdeà
B57600


1760 {"57600", 
B57600
, 57600},

1762 #ifdeà
B115200


1763 {"115200", 
B115200
, 115200},

1765 #ifdeà
B230400


1766 {"230400", 
B230400
, 230400},

1768 #ifdeà
B460800


1769 {"460800", 
B460800
, 460800},

1771 #ifdeà
B500000


1772 {"500000", 
B500000
, 500000},

1774 #ifdeà
B576000


1775 {"576000", 
B576000
, 576000},

1777 #ifdeà
B921600


1778 {"921600", 
B921600
, 921600},

1780 #ifdeà
B1000000


1781 {"1000000", 
B1000000
, 1000000},

1783 #ifdeà
B1152000


1784 {"1152000", 
B1152000
, 1152000},

1786 #ifdeà
B1500000


1787 {"1500000", 
B1500000
, 1500000},

1789 #ifdeà
B2000000


1790 {"2000000", 
B2000000
, 2000000},

1792 #ifdeà
B2500000


1793 {"2500000", 
B2500000
, 2500000},

1795 #ifdeà
B3000000


1796 {"3000000", 
B3000000
, 3000000},

1798 #ifdeà
B3500000


1799 {"3500000", 
B3500000
, 3500000},

1801 #ifdeà
B4000000


1802 {"4000000", 
B4000000
, 4000000},

1804 {
NULL
, 0, 0}

1807 
¥“d_t
 
_GL_ATTRIBUTE_PURE


1808 
	$¡ršg_to_baud
 (cÚ¡ *
¬g
)

1810 
i
;

1812 
i
 = 0; 
¥“ds
[i].
¡ršg
 !ğ
NULL
; ++i)

1813 ià(
	`STREQ
 (
¬g
, 
¥“ds
[
i
].
¡ršg
))

1814  
¥“ds
[
i
].
¥“d
;

1815  (
¥“d_t
) -1;

1816 
	}
}

1818 
_GL_ATTRIBUTE_PURE


1819 
	$baud_to_v®ue
 (
¥“d_t
 
¥“d
)

1821 
i
;

1823 
i
 = 0; 
¥“ds
[i].
¡ršg
 !ğ
NULL
; ++i)

1824 ià(
¥“d
 =ğ
¥“ds
[
i
].speed)

1825  
¥“ds
[
i
].
v®ue
;

1827 
	}
}

1830 
	$§Ã_mode
 (
‹rmios
 *
mode
)

1832 
i
;

1833 
tcæag_t
 *
b™¥
;

1835 
i
 = 0; 
cÚŒŞ_šfo
[i].
Çme
; ++i)

1837 #ià
VMIN
 =ğ
VEOF


1838 ià(
	`STREQ
 (
cÚŒŞ_šfo
[
i
].
Çme
, "min"))

1841 
mode
->
c_cc
[
cÚŒŞ_šfo
[
i
].
off£t
] = cÚŒŞ_šfo[i].
§Ãv®
;

1844 
i
 = 0; 
mode_šfo
[i].
Çme
 !ğ
NULL
; ++i)

1846 ià(
mode_šfo
[
i
].
æags
 & 
SANE_SET
)

1848 
b™¥
 = 
	`mode_ty³_æag
 (
mode_šfo
[
i
].
ty³
, 
mode
);

1849 *
b™¥
 = (*b™¥ & ~
mode_šfo
[
i
].
mask
è| mode_šfo[i].
b™s
;

1851 ià(
mode_šfo
[
i
].
æags
 & 
SANE_UNSET
)

1853 
b™¥
 = 
	`mode_ty³_æag
 (
mode_šfo
[
i
].
ty³
, 
mode
);

1854 *
b™¥
 = *b™¥ & ~
mode_šfo
[
i
].
mask
 & ~mode_šfo[i].
b™s
;

1857 
	}
}

1863 
	$visibË
 (
cc_t
 
ch
)

1865 
buf
[10];

1866 *
bpout
 = 
buf
;

1868 ià(
ch
 =ğ
_POSIX_VDISABLE
)

1871 ià(
ch
 >= 32)

1873 ià(
ch
 < 127)

1874 *
bpout
++ = 
ch
;

1875 ià(
ch
 == 127)

1877 *
bpout
++ = '^';

1878 *
bpout
++ = '?';

1882 *
bpout
++ = 'M';

1883 *
bpout
++ = '-';

1884 ià(
ch
 >= 128 + 32)

1886 ià(
ch
 < 128 + 127)

1887 *
bpout
++ = 
ch
 - 128;

1890 *
bpout
++ = '^';

1891 *
bpout
++ = '?';

1896 *
bpout
++ = '^';

1897 *
bpout
++ = 
ch
 - 128 + 64;

1903 *
bpout
++ = '^';

1904 *
bpout
++ = 
ch
 + 64;

1906 *
bpout
 = '\0';

1907  (cÚ¡ *è
buf
;

1908 
	}
}

1915 
	$š‹g”_¬g
 (cÚ¡ *
s
, 
maxv®
)

1917 
v®ue
;

1918 ià(
	`x¡¹oul
 (
s
, 
NULL
, 0, &
v®ue
, "bB"è!ğ
LONGINT_OK
 || 
maxv®
 < value)

1920 
	`”rÜ
 (0, 0, 
	`_
("šv®id iÁeg”‡rgum’ˆ%s"), 
	`quÙe
 (
s
));

1921 
	`u§ge
 (
EXIT_FAILURE
);

1923  
v®ue
;

1924 
	}
}

	@sum.c

21 
	~<cÚfig.h
>

23 
	~<¡dio.h
>

24 
	~<sys/ty³s.h
>

25 
	~<g‘İt.h
>

26 
	~"sy¡em.h
"

27 
	~"”rÜ.h
"

28 
	~"çdvi£.h
"

29 
	~"humª.h
"

30 
	~"§ã-»ad.h
"

31 
	~"xäeİ’.h
"

34 
	#PROGRAM_NAME
 "sum"

	)

36 
	#AUTHORS
 \

37 
	`´İ”_Çme
 ("Kayvan Aghaiepour"), \

38 
	`´İ”_Çme
 ("David MacK’z›")

	)

41 
boŞ
 
	ghave_»ad_¡dš
;

43 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

45 {"sysv", 
no_¬gum’t
, 
NULL
, 's'},

46 {
GETOPT_HELP_OPTION_DECL
},

47 {
GETOPT_VERSION_OPTION_DECL
},

48 {
NULL
, 0, NULL, 0}

52 
	$u§ge
 (
¡©us
)

54 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

55 
	`em™_Œy_h–p
 ();

58 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

61 
´og¿m_Çme
);

62 
	`åuts
 (
	`_
("\
 checksum‡nd block couÁ fÜƒach FILE.\n\
\n\
-¸ u£ BSD sum‡lgÜ™hm, u£ 1K blocks\n\
-s, --sysv u£ Sy¡em V sum‡lgÜ™hm, u£ 512 by‹ blocks\n\
"), 
¡dout
);

68 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

69 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

70 
	`åuts
 (
	`_
("\
\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

74 
	`em™_ªcÏry_šfo
 ();

76 
	`ex™
 (
¡©us
);

77 
	}
}

85 
boŞ


86 
	$bsd_sum_fe
 (cÚ¡ *
fe
, 
´št_Çme
)

88 
FILE
 *
å
;

89 
checksum
 = 0;

90 
uštmax_t
 
tÙ®_by‹s
 = 0;

91 
ch
;

92 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

93 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
fe
, "-");

95 ià(
is_¡dš
)

97 
å
 = 
¡dš
;

98 
have_»ad_¡dš
 = 
Œue
;

99 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

100 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

104 
å
 = 
	`fİ’
 (
fe
, (
O_BINARY
 ? "rb" : "r"));

105 ià(
å
 =ğ
NULL
)

107 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

108  
çl£
;

112 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

114 (
ch
 = 
	`g‘c
 (
å
)è!ğ
EOF
)

116 
tÙ®_by‹s
++;

117 
checksum
 = (checksum >> 1) + ((checksum & 1) << 15);

118 
checksum
 +ğ
ch
;

119 
checksum
 &= 0xffff;

122 ià(
	`ã¼Ü
 (
å
))

124 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

125 ià(!
is_¡dš
)

126 
	`fşo£
 (
å
);

127  
çl£
;

130 ià(!
is_¡dš
 && 
	`fşo£
 (
å
) != 0)

132 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

133  
çl£
;

136 
	`´štf
 ("%05d %5s", 
checksum
,

137 
	`humª_»adabË
 (
tÙ®_by‹s
, 
hbuf
, 
humª_ûšg
, 1, 1024));

138 ià(
´št_Çme
 > 1)

139 
	`´štf
 (" %s", 
fe
);

140 
	`putch¬
 ('\n');

142  
Œue
;

143 
	}
}

150 
boŞ


151 
	$sysv_sum_fe
 (cÚ¡ *
fe
, 
´št_Çme
)

153 
fd
;

154 
buf
[8192];

155 
uštmax_t
 
tÙ®_by‹s
 = 0;

156 
hbuf
[
LONGEST_HUMAN_READABLE
 + 1];

157 
r
;

158 
checksum
;

161 
s
 = 0;

163 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
fe
, "-");

165 ià(
is_¡dš
)

167 
fd
 = 
STDIN_FILENO
;

168 
have_»ad_¡dš
 = 
Œue
;

169 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

170 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

174 
fd
 = 
	`İ’
 (
fe
, 
O_RDONLY
 | 
O_BINARY
);

175 ià(
fd
 == -1)

177 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

178  
çl£
;

184 
size_t
 
i
;

185 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
buf
,  buf);

187 ià(
by‹s_»ad
 == 0)

190 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

192 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

193 ià(!
is_¡dš
)

194 
	`şo£
 (
fd
);

195  
çl£
;

198 
i
 = 0; i < 
by‹s_»ad
; i++)

199 
s
 +ğ
buf
[
i
];

200 
tÙ®_by‹s
 +ğ
by‹s_»ad
;

203 ià(!
is_¡dš
 && 
	`şo£
 (
fd
) != 0)

205 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

206  
çl£
;

209 
r
 = (
s
 & 0xffff) + ((s & 0xffffffff) >> 16);

210 
checksum
 = (
r
 & 0xffff) + (r >> 16);

212 
	`´štf
 ("%d %s", 
checksum
,

213 
	`humª_»adabË
 (
tÙ®_by‹s
, 
hbuf
, 
humª_ûšg
, 1, 512));

214 ià(
´št_Çme
)

215 
	`´štf
 (" %s", 
fe
);

216 
	`putch¬
 ('\n');

218  
Œue
;

219 
	}
}

222 
	$maš
 (
¬gc
, **
¬gv
)

224 
boŞ
 
ok
;

225 
İtc
;

226 
fes_giv’
;

227 
	`boŞ
 (*
sum_func
è(cÚ¡ *, èğ
bsd_sum_fe
;

229 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

230 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

231 
	`£oÿË
 (
LC_ALL
, "");

232 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

233 
	`‹xtdomaš
 (
PACKAGE
);

235 
	`©ex™
 (
şo£_¡dout
);

239 
	`£tvbuf
 (
¡dout
, 
NULL
, 
_IOLBF
, 0);

241 
have_»ad_¡dš
 = 
çl£
;

243 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "rs", 
lÚgİts
, 
NULL
)) != -1)

245 
İtc
)

248 
sum_func
 = 
bsd_sum_fe
;

252 
sum_func
 = 
sysv_sum_fe
;

255 
ÿ£_GETOPT_HELP_CHAR
;

257 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

260 
	`u§ge
 (
EXIT_FAILURE
);

264 
fes_giv’
 = 
¬gc
 - 
İtšd
;

265 ià(
fes_giv’
 <= 0)

266 
ok
 = 
	`sum_func
 ("-", 
fes_giv’
);

268 
ok
 = 
Œue
; 
İtšd
 < 
¬gc
; optind++)

269 
ok
 &ğ
	`sum_func
 (
¬gv
[
İtšd
], 
fes_giv’
);

271 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
è=ğ
EOF
)

272 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

273 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

274 
	}
}

	@sync.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"lÚg-İtiÚs.h
"

29 
	#PROGRAM_NAME
 "sync"

	)

31 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

34 
	$u§ge
 (
¡©us
)

36 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

37 
	`em™_Œy_h–p
 ();

40 
	`´štf
 (
	`_
("U§ge: % [OPTION]\n"), 
´og¿m_Çme
);

41 
	`åuts
 (
	`_
("\
 chªged block tØdisk, upd©thsu³¸block.\n\
\n\
"), 
¡dout
);

45 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

46 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

47 
	`em™_ªcÏry_šfo
 ();

49 
	`ex™
 (
¡©us
);

50 
	}
}

53 
	$maš
 (
¬gc
, **
¬gv
)

55 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

56 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

57 
	`£oÿË
 (
LC_ALL
, "");

58 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

59 
	`‹xtdomaš
 (
PACKAGE
);

61 
	`©ex™
 (
şo£_¡dout
);

63 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
V”siÚ
,

64 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

65 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

66 
	`u§ge
 (
EXIT_FAILURE
);

68 ià(
İtšd
 < 
¬gc
)

69 
	`”rÜ
 (0, 0, 
	`_
("ignoring‡ll‡rguments"));

71 
	`sync
 ();

72 
	`ex™
 (
EXIT_SUCCESS
);

73 
	}
}

	@system.h

19 
	~<®loÿ.h
>

25 #ià2 < 
__GLIBC__
 || ( 2 =ğ
___GLIBC__
 && 2 <ğ
__GLIBC_MINOR__
 )

26 #ià! 
defšed
 
_SYS_TYPES_H


27 
you
 
mu¡
 
	gšşude
 <
	gsys
/
	gty³s
.
	gh
> 
befÜe
 
šşudšg
 
this
 
	gfe


31 
	~<sys/¡©.h
>

34 
	#MODE_RW_UGO
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IRGRP
 | 
S_IWGRP
 | 
S_IROTH
 | 
S_IWOTH
)

	)

36 #ià!
defšed
 
HAVE_MKFIFO


37 
	#mkfifo
(
Çme
, 
mode
è
	`mknod
 (Çme, (modeè| 
S_IFIFO
, 0)

	)

40 #ià
HAVE_SYS_PARAM_H


41 
	~<sys/·¿m.h
>

44 
	~<uni¡d.h
>

46 
	~<lim™s.h
>

48 
	~"·thmax.h
"

49 #iâdeà
PATH_MAX


50 
	#PATH_MAX
 8192

	)

53 
	~"cÚfigmake.h
"

55 
	~<sys/time.h
>

56 
	~<time.h
>

59 #ià
MAJOR_IN_MKDEV


60 
	~<sys/mkdev.h
>

61 
	#HAVE_MAJOR


	)

63 #ià
MAJOR_IN_SYSMACROS


64 
	~<sys/sysmaüos.h
>

65 
	#HAVE_MAJOR


	)

67 #ifdeà
majÜ


68 
	#HAVE_MAJOR


	)

71 #iâdeà
HAVE_MAJOR


72 
	#majÜ
(
dev
è(((devè>> 8è& 0xff)

	)

73 
	#mšÜ
(
dev
è((devè& 0xff)

	)

74 
	#makedev
(
maj
, 
mš
è(((majè<< 8è| (mš))

	)

76 #undeà
HAVE_MAJOR


78 #ià! 
defšed
 
makedev
 && defšed 
mkdev


79 
	#makedev
(
maj
, 
mš
è
	`mkdev
 (maj, mš)

	)

82 
	~<¡ršg.h
>

83 
	~<”ºo.h
>

88 #iâdeà
ENODATA


89 
	#ENODATA
 (-1)

	)

92 
	~<¡dboŞ.h
>

93 
	~<¡dlib.h
>

94 
	~"v”siÚ.h
"

99 
	mEXIT_TIMEDOUT
 = 124,

100 
	mEXIT_CANCELED
 = 125,

101 
	mEXIT_CANNOT_INVOKE
 = 126,

102 
	mEXIT_ENOENT
 = 127

105 
	~"ex™ç.h
"

108 
šlše
 

109 
	$š™Ÿlize_ex™_çu»
 (
¡©us
)

111 ià(
¡©us
 !ğ
EXIT_FAILURE
)

112 
ex™_çu»
 = 
¡©us
;

113 
	}
}

115 
	~<fú.h
>

117 
	~<dœ’t.h
>

118 #iâdeà
_D_EXACT_NAMLEN


119 
	#_D_EXACT_NAMLEN
(
dp
è
	`¡¾’
 ((dp)->
d_Çme
)

	)

124 
	mNOT_AN_INODE_NUMBER
 = 0

127 #ifdeà
D_INO_IN_DIRENT


128 
	#D_INO
(
dp
è(dp)->
d_šo


	)

131 
	#D_INO
(
dp
è
NOT_AN_INODE_NUMBER


	)

135 
	~<š‰y³s.h
>

139 #iâdeà
š™Ÿlize_maš


140 
	#š™Ÿlize_maš
(
ac
, 
av
)

	)

143 
	~"¡©-maüos.h
"

145 
	~"time¥ec.h
"

147 
	~<ùy³.h
>

156 
	#ISDIGIT
(
c
è((è(cè- '0' <ğ9)

	)

161 
šlše
 
	$to_uch¬
 (
ch
è{  ch; 
	}
}

163 
	~<loÿË.h
>

167 
	~"g‘‹xt.h
"

168 #ià! 
ENABLE_NLS


169 #undeà
‹xtdomaš


170 
	#‹xtdomaš
(
DomašÇme
è

	)

171 #undeà
bšd‹xtdomaš


172 
	#bšd‹xtdomaš
(
DomašÇme
, 
DœÇme
è

	)

175 
	#_
(
msgid
è
	`g‘‹xt
 (msgid)

	)

176 
	#N_
(
msgid
è
	)
msgid

180 
šlše
 

181 
	$£Ëù_¶u¿l
 (
uštmax_t
 
n
)

185 ’um { 
PLURAL_REDUCER
 = 1000000 };

186  (
n
 <ğ
ULONG_MAX
 ?‚ :‚ % 
PLURAL_REDUCER
 + PLURAL_REDUCER);

187 
	}
}

189 
	#STREQ
(
a
, 
b
è(
	`¡rcmp
 (a, bè=ğ0)

	)

190 
	#STREQ_LEN
(
a
, 
b
, 
n
è(
	`¡ºcmp
 (a, b,‚è=ğ0)

	)

191 
	#STRPREFIX
(
a
, 
b
è(
	`¡ºcmp
×, b, 
	`¡¾’
 (b)è=ğ0)

	)

195 
	#STRNCMP_LIT
(
s
, 
l™”®
) \

196 
	`¡ºcmp
 (
s
, "" 
l™”®
 "",  (l™”®è- 1)

	)

198 #ià!
HAVE_DECL_GETLOGIN


199 *
g‘logš
 ();

202 #ià!
HAVE_DECL_TTYNAME


203 *
‰yÇme
 ();

206 #ià!
HAVE_DECL_GETEUID


207 
uid_t
 
g‘euid
 ();

210 #ià!
HAVE_DECL_GETPWUID


211 
·sswd
 *
g‘pwuid
 ();

214 #ià!
HAVE_DECL_GETGRGID


215 
group
 *
g‘grgid
 ();

224 #ià! 
HAVE_SETGROUPS


225 #ià
HAVE_GETGRGID_NOMEMBERS


226 
	#g‘grgid
(
gid
è
	`g‘grgid_nomemb”s
(gid)

	)

228 #ià
HAVE_GETGRNAM_NOMEMBERS


229 
	#g‘gºam
(
Çm
è
	`g‘gºam_nomemb”s
Òam)

	)

231 #ià
HAVE_GETGRENT_NOMEMBERS


232 
	#g‘g»Á
(è
	`g‘g»Á_nomemb”s
()

	)

236 #ià!
HAVE_DECL_GETUID


237 
uid_t
 
g‘uid
 ();

240 
	~"x®loc.h
"

241 
	~"v”ify.h
"

247 
	#X2NREALLOC
(
P
, 
PN
è((è
	`v”ify_Œue
 ( *(P) != 1), \

248 
	`x2Ä—Îoc
 (
P
, 
PN
,  *(P)))

	)

254 
	#X2REALLOC
(
P
, 
PN
è((è
	`v”ify_Œue
 ( *(P) == 1), \

255 
	`x2»®loc
 (
P
, 
PN
))

	)

257 
	~"uÆocked-io.h
"

258 
	~"§me-šode.h
"

260 
	~"dœÇme.h
"

261 
	~"İ’©.h
"

263 
šlše
 
boŞ


264 
	$dÙ_Ü_dÙdÙ
 (cÚ¡ *
fe_Çme
)

266 ià(
fe_Çme
[0] == '.')

268 
£p
 = 
fe_Çme
[(file_name[1] == '.') + 1];

269  (! 
£p
 || 
	`ISSLASH
 (sep));

272  
çl£
;

273 
	}
}

276 
šlše
 
dœ’t
 const *

277 
	$»addœ_ignÜšg_dÙ_ªd_dÙdÙ
 (
DIR
 *
dœp
)

281 
dœ’t
 cÚ¡ *
dp
 = 
	`»addœ
 (
dœp
);

282 ià(
dp
 =ğ
NULL
 || ! 
	`dÙ_Ü_dÙdÙ
 (dp->
d_Çme
))

283  
dp
;

285 
	}
}

288 
šlše
 
boŞ


289 
	$is_em±y_dœ
 (
fd_cwd
, cÚ¡ *
dœ
)

291 
DIR
 *
dœp
;

292 
dœ’t
 cÚ¡ *
dp
;

293 
§ved_”ºo
;

294 
fd
 = 
	`İ’©
 (
fd_cwd
, 
dœ
,

295 (
O_RDONLY
 | 
O_DIRECTORY


296 | 
O_NOCTTY
 | 
O_NOFOLLOW
 | 
O_NONBLOCK
));

298 ià(
fd
 < 0)

299  
çl£
;

301 
dœp
 = 
	`fdİ’dœ
 (
fd
);

302 ià(
dœp
 =ğ
NULL
)

304 
	`şo£
 (
fd
);

305  
çl£
;

308 
”ºo
 = 0;

309 
dp
 = 
	`»addœ_ignÜšg_dÙ_ªd_dÙdÙ
 (
dœp
);

310 
§ved_”ºo
 = 
”ºo
;

311 
	`şo£dœ
 (
dœp
);

312 ià(
dp
 !ğ
NULL
)

313  
çl£
;

314  
§ved_”ºo
 =ğ0 ? 
Œue
 : 
çl£
;

315 
	}
}

324 
	mGETOPT_HELP_CHAR
 = (
CHAR_MIN
 - 2),

325 
	mGETOPT_VERSION_CHAR
 = (
CHAR_MIN
 - 3)

328 
	#GETOPT_HELP_OPTION_DECL
 \

329 "h–p", 
no_¬gum’t
, 
NULL
, 
GETOPT_HELP_CHAR


	)

330 
	#GETOPT_VERSION_OPTION_DECL
 \

331 "v”siÚ", 
no_¬gum’t
, 
NULL
, 
GETOPT_VERSION_CHAR


	)

332 
	#GETOPT_SELINUX_CONTEXT_OPTION_DECL
 \

333 "cÚ‹xt", 
»quœed_¬gum’t
, 
NULL
, 'Z'

	)

335 
	#ÿ£_GETOPT_HELP_CHAR
 \

336 
GETOPT_HELP_CHAR
: \

337 
	`u§ge
 (
EXIT_SUCCESS
); \

338 ;

	)

342 
	#USAGE_BUILTIN_WARNING
 \

343 
	`_
("\n" \

346 "fÜ d‘a abouˆthİtiÚ ™ suµÜts.\n")

	)

348 
	#HELP_OPTION_DESCRIPTION
 \

349 
	`_
(" --h–° di¥Ïyhi h–°ªdƒx™\n")

	)

350 
	#VERSION_OPTION_DESCRIPTION
 \

351 
	`_
(" --v”siÚ ouuˆv”siÚ infÜm©iÚ‡ndƒx™\n")

	)

353 
	~"şo£š.h
"

354 
	~"şo£out.h
"

356 
	#em™_bug_»pÜtšg_add»ss
 
unu£d__em™_bug_»pÜtšg_add»ss


	)

357 
	~"v”siÚ-‘c.h
"

358 #undeà
em™_bug_»pÜtšg_add»ss


360 
	~"´İ”Çme.h
"

366 
	#´İ”_Çme
(
x
è(x)

	)

368 
	~"´ogÇme.h
"

370 
	#ÿ£_GETOPT_VERSION_CHAR
(
Prog¿m_Çme
, 
AuthÜs
) \

371 
GETOPT_VERSION_CHAR
: \

372 
	`v”siÚ_‘c
 (
¡dout
, 
Prog¿m_Çme
, 
PACKAGE_NAME
, 
V”siÚ
, 
AuthÜs
, \

373 (*è
NULL
); \

374 
	`ex™
 (
EXIT_SUCCESS
); \

375 ;

	)

377 #iâdeà
MAX


378 
	#MAX
(
a
, 
b
è(×è> (bè? (aè: (b))

	)

381 #iâdeà
MIN


382 
	#MIN
(
a
,
b
è((×è< (b)è? (aè: (b))

	)

385 
	~"šrİs.h
"

387 #iâdeà
SSIZE_MAX


388 
	#SSIZE_MAX
 
	`TYPE_MAXIMUM
 (
ssize_t
)

	)

391 #iâdeà
OFF_T_MIN


392 
	#OFF_T_MIN
 
	`TYPE_MINIMUM
 (
off_t
)

	)

395 #iâdeà
OFF_T_MAX


396 
	#OFF_T_MAX
 
	`TYPE_MAXIMUM
 (
off_t
)

	)

399 #iâdeà
UID_T_MAX


400 
	#UID_T_MAX
 
	`TYPE_MAXIMUM
 (
uid_t
)

	)

403 #iâdeà
GID_T_MAX


404 
	#GID_T_MAX
 
	`TYPE_MAXIMUM
 (
gid_t
)

	)

407 #iâdeà
PID_T_MAX


408 
	#PID_T_MAX
 
	`TYPE_MAXIMUM
 (
pid_t
)

	)

412 #ifdeà
lšt


413 
	#IF_LINT
(
Code
è
	)
Code

415 
	#IF_LINT
(
Code
è

	)

418 #iâdeà
__©Œibu‹__


419 #ià
__GNUC__
 < 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 < 8)

420 
	#__©Œibu‹__
(
x
è

	)

424 #iâdeà
ATTRIBUTE_NORETURN


425 
	#ATTRIBUTE_NORETURN
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

	)

428 #iâdeà
ATTRIBUTE_UNUSED


429 
	#ATTRIBUTE_UNUSED
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

433 #undeà
ATTRIBUTE_WARN_UNUSED_RESULT


434 #ià
__GNUC__
 < 3 || (__GNUC__ =ğ3 && 
__GNUC_MINOR__
 < 4)

435 
	#ATTRIBUTE_WARN_UNUSED_RESULT


	)

437 
	#ATTRIBUTE_WARN_UNUSED_RESULT
 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

440 #ià
defšed
 
¡rdu·


441 
	#ASSIGN_STRDUPA
(
DEST
, 
S
) \

442 dØ{ 
DEST
 = 
	`¡rdu·
 (
S
); } 0)

	)

444 
	#ASSIGN_STRDUPA
(
DEST
, 
S
) \

447 cÚ¡ *
s_
 = (
S
); \

448 
size_t
 
Ën_
 = 
	`¡¾’
 (
s_
) + 1; \

449 *
tmp_de¡_
 = 
	`®loÿ
 (
Ën_
); \

450 
DEST
 = 
	`memıy
 (
tmp_de¡_
, 
s_
, 
Ën_
); \

452 0)

	)

455 #ià! 
HAVE_SYNC


456 
	#sync
(è

	)

462 
šlše
 
size_t
 
_GL_ATTRIBUTE_CONST


463 
	$gcd
 (
size_t
 
u
, size_ˆ
v
)

467 
size_t
 
t
 = 
u
 % 
v
;

468 
u
 = 
v
;

469 
v
 = 
t
;

471 
v
);

473  
u
;

474 
	}
}

480 
šlše
 
size_t
 
_GL_ATTRIBUTE_CONST


481 
	$lcm
 (
size_t
 
u
, size_ˆ
v
)

483  
u
 * (
v
 / 
	`gcd
 (u, v));

484 
	}
}

491 
šlše
 *

492 
	$±r_®ign
 (cÚ¡ *
±r
, 
size_t
 
®ignm’t
)

494 cÚ¡ *
p0
 = 
±r
;

495 cÚ¡ *
p1
 = 
p0
 + 
®ignm’t
 - 1;

496  (*è(
p1
 - (
size_t
èp1 % 
®ignm’t
);

497 
	}
}

502 
šlše
 
boŞ
 
_GL_ATTRIBUTE_PURE


503 
	$is_nul
 (cÚ¡ *
buf
, 
size_t
 
bufsize
)

505 
ušŒ_t
 
	twÜd
;

508 
wÜd
 *
wp
 = (wÜd *è
buf
;

509 *
wp
++ == 0)

513 *
ı
 = (*è(
wp
 - 1);

514 *
ı
++ == 0)

517  
ı
 > 
buf
 + 
bufsize
;

518 
	}
}

531 
	#DECIMAL_DIGIT_ACCUMULATE
(
Accum
, 
Dig™_v®
, 
Ty³
) \

533 (è(&(
Accum
è=ğ(
Ty³
 *è
NULL
), \

534 (è
	`v”ify_Œue
 (! 
	`TYPE_SIGNED
 (
Ty³
)), \

535 (è
	`v”ify_Œue
 ( (
Accum
è=ğ (
Ty³
)), \

536 (((
Ty³
è-1 / 10 < (
Accum
) \

537 || (
Ty³
è((
Accum
è* 10 + (
Dig™_v®
)) < (Accum)) \

538 ? 
çl£
 : (((
Accum
èğ(Accumè* 10 + (
Dig™_v®
)), 
Œue
)) \

539 )

	)

541 
šlše
 

542 
	$em™_mªd©Üy_¬g_nÙe
 ()

544 
	`åuts
 (
	`_
("\n\
‡rgum’t tØlÚg o±iÚ ¬mªd©Üy fÜ shÜˆİtiÚ too.\n\
"), 
¡dout
);

547 
	}
}

549 
šlše
 

550 
	$em™_size_nÙe
 ()

552 
	`åuts
 (
	`_
("\n\
 i ª iÁeg”‡nd o±iÚ® un™ (exam¶e: 10M i 10*1024*1024). Un™s\n\
 K, M, G, T, P, E, Z, Y (pow” oà1024èÜ KB, MB, ... (pow” oà1000).\n\
"), 
¡dout
);

556 
	}
}

558 
šlše
 

559 
	$em™_blocksize_nÙe
 (cÚ¡ *
´og¿m
)

561 
	`´štf
 (
	`_
("\n\
 v®ue ¬š un™ oàthfœ¡‡vaabË SIZE from --block-size,\n\
h%s_BLOCK_SIZE, BLOCK_SIZE‡nd BLOCKSIZEƒnvœÚm’ˆv¬ŸbËs.\n\
, un™ deçuÉØ1024 by‹ (Ü 512 iàPOSIXLY_CORRECT i £t).\n\
"), 
´og¿m
);

566 
	}
}

568 
šlše
 

569 
	$em™_ªcÏry_šfo
 ()

571 
	`´štf
 (
	`_
("\nR•Üˆ% bug tØ%s\n"), 
	`Ï¡_compÚ’t
 (
´og¿m_Çme
),

572 
PACKAGE_BUGREPORT
);

573 
	`´štf
 (
	`_
("% hom·ge: <%s>\n"), 
PACKAGE_NAME
, 
PACKAGE_URL
);

574 
	`åuts
 (
	`_
("General help using GNU software: <http://www.gnu.org/gethelp/>\n"),

575 
¡dout
);

578 cÚ¡ *
lc_mes§ges
 = 
	`£oÿË
 (
LC_MESSAGES
, 
NULL
);

579 ià(
lc_mes§ges
 && 
	`STRNCMP_LIT
 (lc_messages, "en_"))

585 
	`´štf
 (
	`_
("Report %sranslation bugso "

587 
	`Ï¡_compÚ’t
 (
´og¿m_Çme
));

589 
	`´štf
 (
	`_
("For complete documentation,„un: "

590 "šfØcÜeut '% švoÿtiÚ'\n"), 
	`Ï¡_compÚ’t
 (
´og¿m_Çme
));

591 
	}
}

593 
šlše
 

594 
	$em™_Œy_h–p
 ()

596 
	`årštf
 (
¡d”r
, 
	`_
("Try '% --h–p' fÜ mÜšfÜm©iÚ.\n"), 
´og¿m_Çme
);

597 
	}
}

599 
	~"š‰o¡r.h
"

601 
šlše
 *

602 
	$tim‘o¡r
 (
time_t
 
t
, *
buf
)

604  (
	`TYPE_SIGNED
 (
time_t
)

605 ? 
	`imaxto¡r
 (
t
, 
buf
)

606 : 
	`umaxto¡r
 (
t
, 
buf
));

607 
	}
}

609 
šlše
 *

610 
	$bad_ÿ¡
 (cÚ¡ *
s
)

612  (*è
s
;

613 
	}
}

616 
šlše
 
boŞ


617 
	$u§bË_¡_size
 (
¡©
 cÚ¡ *
sb
)

619  (
	`S_ISREG
 (
sb
->
¡_mode
è|| 
	`S_ISLNK
 (sb->st_mode)

620 || 
	`S_TYPEISSHM
 (
sb
è|| 
	`S_TYPEISTMO
 (sb));

621 
	}
}

623 
	$u§ge
 (
¡©us
è
ATTRIBUTE_NORETURN
;

625 
	#em™_cyşe_w¬nšg
(
fe_Çme
) \

628 
	`”rÜ
 (0, 0, 
	`_
("\
: Circular directory structure.\n\
‡lmost certainly meanshat you have‡ corrupted file system.\n\
 YOUR SYSTEM MANAGER.\n\
 following directory is…art ofhe cycle:\n %s\n"), \

633 
	`quÙe
 (
fe_Çme
)); \

634 
	}
} \

635 0)

	)

642 
šlše
 *

643 
	$¡znıy
 (*
»¡riù
 
de¡
, cÚ¡ *»¡riù 
¤c
, 
size_t
 
Ën
)

645 cÚ¡ *
¤c_’d
 = 
¤c
 + 
Ën
;

646 
¤c
 < 
¤c_’d
 && *src)

647 *
de¡
++ = *
¤c
++;

648 *
de¡
 = 0;

649  
de¡
;

650 
	}
}

652 #iâdeà
ARRAY_CARDINALITY


653 
	#ARRAY_CARDINALITY
(
A¼ay
è( (A¼ayè/  *(A¼ay))

	)

	@tac-pipe.c

19 
	~<as£¹.h
>

22 
	#BUFFER_SIZE
 (8)

	)

24 
	#LEN
(
X
, 
I
è((X)->
p
[(I)].
Úe_·¡_’d
 - (X)->p[(I)].
¡¬t
)

	)

25 
	#EMPTY
(
X
è((X)->
n_bufs
 =ğ1 && 
	`LEN
 (X, 0è=ğ0)

	)

27 
	#ONE_PAST_END
(
X
, 
I
è((X)->
p
[(I)].
Úe_·¡_’d
)

	)

29 
	sLše_±r


31 
size_t
 
	mi
;

32 *
	m±r
;

34 
Lše_±r
 
	tLše_±r
;

36 
	sB_·œ


38 *
	m¡¬t
;

39 *
	mÚe_·¡_’d
;

42 
	sBuf


44 
size_t
 
	mn_bufs
;

45 
ob¡ack
 
	mobs
;

46 
B_·œ
 *
	mp
;

48 
Buf
 
	tBuf
;

50 
boŞ


51 
	$buf_š™_äom_¡dš
 (
Buf
 *
x
, 
eŞ_by‹
)

53 
boŞ
 
Ï¡_by‹_is_eŞ_by‹
 = 
Œue
;

54 
boŞ
 
ok
 = 
Œue
;

56 
	#OBS
 (&(
x
->
obs
))

	)

57 
	`ob¡ack_š™
 (
OBS
);

61 *
buf
 = (*è
	`m®loc
 (
BUFFER_SIZE
);

62 
size_t
 
by‹s_»ad
;

64 ià(
buf
 =ğ
NULL
)

69 
ok
 = 
çl£
;

72 
by‹s_»ad
 = 
	`fuÎ_»ad
 (
STDIN_FILENO
, 
buf
, 
BUFFER_SIZE
);

73 ià(
by‹s_»ad
 !ğ
bufãr_size
 && 
”ºo
 != 0)

74 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

77 
B_·œ
 
bp
;

78 
bp
.
¡¬t
 = 
buf
;

79 
bp
.
Úe_·¡_’d
 = 
buf
 + 
by‹s_»ad
;

80 
	`ob¡ack_grow
 (
OBS
, &
bp
,  (bp));

83 ià(
by‹s_»ad
 != 0)

84 
Ï¡_by‹_is_eŞ_by‹
 = (
buf
[
by‹s_»ad
 - 1] =ğ
eŞ_by‹
);

86 ià(
by‹s_»ad
 < 
BUFFER_SIZE
)

90 ià(
ok
)

94 ià(!
Ï¡_by‹_is_eŞ_by‹
)

96 *
buf
 = 
	`m®loc
 (1);

97 ià(
buf
 =ğ
NULL
)

100 
ok
 = 
çl£
;

104 
B_·œ
 
bp
;

105 *
buf
 = 
eŞ_by‹
;

106 
bp
.
¡¬t
 = 
buf
;

107 
bp
.
Úe_·¡_’d
 = 
buf
 + 1;

108 
	`ob¡ack_grow
 (
OBS
, &
bp
,  (bp));

113 
x
->
n_bufs
 = 
	`ob¡ack_objeù_size
 (
OBS
è/  (x->
p
[0]);

114 
x
->
p
 = (
B_·œ
 *è
	`ob¡ack_fšish
 (
OBS
);

118 ià(
x
->
n_bufs
 >= 2

119 && 
x
->
p
[x->
n_bufs
 - 1].
¡¬t
 =ğx->p[x->n_buf - 1].
Úe_·¡_’d
)

120 
	`ä“
 (
x
->
p
[--(x->
n_bufs
)].
¡¬t
);

122  
ok
;

123 
	}
}

126 
	$buf_ä“
 (
Buf
 *
x
)

128 
size_t
 
i
;

129 
i
 = 0; i < 
x
->
n_bufs
; i++)

130 
	`ä“
 (
x
->
p
[
i
].
¡¬t
);

131 
	`ob¡ack_ä“
 (
OBS
, 
NULL
);

132 
	}
}

134 
Lše_±r


135 
	$lše_±r_deüem’t
 (cÚ¡ 
Buf
 *
x
, cÚ¡ 
Lše_±r
 *
Í
)

137 
Lše_±r
 
Í_Ãw
;

139 ià(
Í
->
±r
 > 
x
->
p
[Í->
i
].
¡¬t
)

141 
Í_Ãw
.
i
 = 
Í
->i;

142 
Í_Ãw
.
±r
 = 
Í
->ptr - 1;

146 
	`as£¹
 (
Í
->
i
 > 0);

147 
Í_Ãw
.
i
 = 
Í
->i - 1;

148 
Í_Ãw
.
±r
 = 
	`ONE_PAST_END
 (
x
, 
Í
->
i
 - 1) - 1;

150  
Í_Ãw
;

151 
	}
}

153 
Lše_±r


154 
	$lše_±r_šüem’t
 (cÚ¡ 
Buf
 *
x
, cÚ¡ 
Lše_±r
 *
Í
)

156 
Lše_±r
 
Í_Ãw
;

158 
	`as£¹
 (
Í
->
±r
 <ğ
	`ONE_PAST_END
 (
x
,†p->
i
) - 1);

159 ià(
Í
->
±r
 < 
	`ONE_PAST_END
 (
x
,†p->
i
) - 1)

161 
Í_Ãw
.
i
 = 
Í
->i;

162 
Í_Ãw
.
±r
 = 
Í
->ptr + 1;

166 
	`as£¹
 (
Í
->
i
 < 
x
->
n_bufs
 - 1);

167 
Í_Ãw
.
i
 = 
Í
->i + 1;

168 
Í_Ãw
.
±r
 = 
x
->
p
[
Í
->
i
 + 1].
¡¬t
;

170  
Í_Ãw
;

171 
	}
}

173 
boŞ


174 
	$fšd_bŞ
 (cÚ¡ 
Buf
 *
x
,

175 cÚ¡ 
Lše_±r
 *
Ï¡_bŞ
, Lše_±¸*
Ãw_bŞ
, 
eŞ_by‹
)

177 
size_t
 
i
;

178 
Lše_±r
 
tmp
;

179 *
Ï¡_bŞ_±r
;

181 ià(
Ï¡_bŞ
->
±r
 =ğ
x
->
p
[0].
¡¬t
)

182  
çl£
;

184 
tmp
 = 
	`lše_±r_deüem’t
 (
x
, 
Ï¡_bŞ
);

185 
Ï¡_bŞ_±r
 = 
tmp
.
±r
;

186 
i
 = 
tmp
.i;

189 *
Æ
 = 
	`memrchr
 (
x
->
p
[
i
].
¡¬t
, 
Ï¡_bŞ_±r
, 
eŞ_by‹
);

190 ià(
Æ
)

192 
Lše_±r
 
Æ_pos
;

193 
Æ_pos
.
i
 = i;

194 
Æ_pos
.
±r
 = 
Æ
;

195 *
Ãw_bŞ
 = 
	`lše_±r_šüem’t
 (
x
, &
Æ_pos
);

196  
Œue
;

199 ià(
i
 == 0)

202 --
i
;

203 
Ï¡_bŞ_±r
 = 
	`ONE_PAST_END
 (
x
, 
i
);

209 ià(
Ï¡_bŞ
->
±r
 !ğ
x
->
p
[0].
¡¬t
)

211 
Ãw_bŞ
->
i
 = 0;

212 
Ãw_bŞ
->
±r
 = 
x
->
p
[0].
¡¬t
;

213  
Œue
;

216  
çl£
;

217 
	}
}

220 
	$´št_lše
 (
FILE
 *
out_¡»am
, cÚ¡ 
Buf
 *
x
,

221 cÚ¡ 
Lše_±r
 *
bŞ
, cÚ¡ Lše_±¸*
bŞ_Ãxt
)

223 
size_t
 
i
;

224 
i
 = 
bŞ
->i; i <ğ
bŞ_Ãxt
->i; i++)

226 *
a
 = (
i
 =ğ
bŞ
->˜? bŞ->
±r
 : 
x
->
p
[i].
¡¬t
);

227 *
b
 = (
i
 =ğ
bŞ_Ãxt
->˜? bŞ_Ãxt->
±r
 : 
	`ONE_PAST_END
 (
x
, i));

228 
	`fwr™e
 (
a
, 1, 
b
 -‡, 
out_¡»am
);

230 
	}
}

232 
boŞ


233 
	$c_mem
 ()

235 
Buf
 
x
;

236 
Lše_±r
 
bŞ
;

237 
eŞ_by‹
 = '\n';

239 ià(! 
	`buf_š™_äom_¡dš
 (&
x
, 
eŞ_by‹
))

241 
	`buf_ä“
 (&
x
);

242  
çl£
;

246 ià(
	`EMPTY
 (&
x
))

247  
Œue
;

250 
bŞ
.
i
 = 
x
.
n_bufs
 - 1;

251 
bŞ
.
±r
 = 
	`ONE_PAST_END
 (&
x
, bŞ.
i
);

255 
Lše_±r
 
Ãw_bŞ
;

256 ià(! 
	`fšd_bŞ
 (&
x
, &
bŞ
, &
Ãw_bŞ
, 
eŞ_by‹
))

258 
	`´št_lše
 (
¡dout
, &
x
, &
Ãw_bŞ
, &
bŞ
);

259 
bŞ
 = 
Ãw_bŞ
;

261  
Œue
;

262 
	}
}

	@tac.c

37 
	~<cÚfig.h
>

39 
	~<¡dio.h
>

40 
	~<g‘İt.h
>

41 
	~<sys/ty³s.h
>

42 
	~"sy¡em.h
"

44 
	~<»gex.h
>

46 
	~"”rÜ.h
"

47 
	~"f’ameÿt.h
"

48 
	~"quÙe.h
"

49 
	~"quÙ—rg.h
"

50 
	~"§ã-»ad.h
"

51 
	~"¡dlib--.h
"

52 
	~"xäeİ’.h
"

55 
	#PROGRAM_NAME
 "c"

	)

57 
	#AUTHORS
 \

58 
	`´İ”_Çme
 ("Jay Lepreau"), \

59 
	`´İ”_Çme
 ("David MacK’z›")

	)

61 #ià
defšed
 
__MSDOS__
 || defšed 
_WIN32


66 
	#DONT_UNLINK_WHILE_OPEN
 1

	)

70 #iâdeà
DEFAULT_TMPDIR


71 
	#DEFAULT_TMPDIR
 "/tmp"

	)

75 
	#INITIAL_READSIZE
 8192

	)

78 
	#WRITESIZE
 8192

	)

81 cÚ¡ *
	g£·¿tÜ
;

84 
boŞ
 
	ghave_»ad_¡dš
 = 
çl£
;

88 
boŞ
 
	g£·¿tÜ_’ds_»cÜd
;

93 
size_t
 
	g£Áš–_Ëngth
;

98 
size_t
 
	gm©ch_Ëngth
;

101 *
	gG_bufãr
;

104 
size_t
 
	g»ad_size
;

109 
size_t
 
	gG_bufãr_size
;

112 
»_·‰”n_bufãr
 
	gcomped_£·¿tÜ
;

113 
	gcomped_£·¿tÜ_ç¡m­
[
UCHAR_MAX
 + 1];

114 
»_»gi¡”s
 
	g»gs
;

116 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

118 {"befÜe", 
no_¬gum’t
, 
NULL
, 'b'},

119 {"»gex", 
no_¬gum’t
, 
NULL
, 'r'},

120 {"£·¿tÜ", 
»quœed_¬gum’t
, 
NULL
, 's'},

121 {
GETOPT_HELP_OPTION_DECL
},

122 {
GETOPT_VERSION_OPTION_DECL
},

123 {
NULL
, 0, NULL, 0}

127 
	$u§ge
 (
¡©us
)

129 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

130 
	`em™_Œy_h–p
 ();

133 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

136 
´og¿m_Çme
);

137 
	`åuts
 (
	`_
("\
ƒach FILEØ¡ªd¬d ouut,†a¡†šfœ¡.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

142 
	`em™_mªd©Üy_¬g_nÙe
 ();

144 
	`åuts
 (
	`_
("\
-b, --befÜ‡‰achh£·¿tÜ befÜš¡—d oàaá”\n\
-r, --»gex iÁ”´‘h£·¿tÜ‡ ¨»guÏ¸ex´essiÚ\n\
-s, --£·¿tÜ=STRING u£ STRING‡ th£·¿tÜ in¡—d oàÃwlše\n\
"), 
¡dout
);

149 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

150 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

151 
	`em™_ªcÏry_šfo
 ();

153 
	`ex™
 (
¡©us
);

154 
	}
}

160 
	$ouut
 (cÚ¡ *
¡¬t
, cÚ¡ *
·¡_’d
)

162 
bufãr
[
WRITESIZE
];

163 
size_t
 
by‹s_š_bufãr
 = 0;

164 
size_t
 
by‹s_to_add
 = 
·¡_’d
 - 
¡¬t
;

165 
size_t
 
by‹s_avaabË
 = 
WRITESIZE
 - 
by‹s_š_bufãr
;

167 ià(
¡¬t
 == 0)

169 
	`fwr™e
 (
bufãr
, 1, 
by‹s_š_bufãr
, 
¡dout
);

170 
by‹s_š_bufãr
 = 0;

175 
by‹s_to_add
 >ğ
by‹s_avaabË
)

177 
	`memıy
 (
bufãr
 + 
by‹s_š_bufãr
, 
¡¬t
, 
by‹s_avaabË
);

178 
by‹s_to_add
 -ğ
by‹s_avaabË
;

179 
¡¬t
 +ğ
by‹s_avaabË
;

180 
	`fwr™e
 (
bufãr
, 1, 
WRITESIZE
, 
¡dout
);

181 
by‹s_š_bufãr
 = 0;

182 
by‹s_avaabË
 = 
WRITESIZE
;

185 
	`memıy
 (
bufãr
 + 
by‹s_š_bufãr
, 
¡¬t
, 
by‹s_to_add
);

186 
by‹s_š_bufãr
 +ğ
by‹s_to_add
;

187 
	}
}

192 
boŞ


193 
	$c_£ekabË
 (
šput_fd
, cÚ¡ *
fe
)

197 *
m©ch_¡¬t
;

201 *
·¡_’d
;

204 
size_t
 
§ved_»cÜd_size
;

207 
off_t
 
fe_pos
;

211 
boŞ
 
fœ¡_time
 = 
Œue
;

212 
fœ¡_ch¬
 = *
£·¿tÜ
;

213 cÚ¡ *
£·¿tÜ1
 = 
£·¿tÜ
 + 1;

214 
size_t
 
m©ch_Ëngth1
 = 
m©ch_Ëngth
 - 1;

217 
fe_pos
 = 
	`l£ek
 (
šput_fd
, 0, 
SEEK_END
);

218 ià(
fe_pos
 < 1)

219  
Œue
;

226 
§ved_»cÜd_size
 = 
fe_pos
 % 
»ad_size
;

227 ià(
§ved_»cÜd_size
 == 0)

228 
§ved_»cÜd_size
 = 
»ad_size
;

229 
fe_pos
 -ğ
§ved_»cÜd_size
;

233 ià(
	`l£ek
 (
šput_fd
, 
fe_pos
, 
SEEK_SET
) < 0)

234 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: s“k faed"), 
	`quÙ—rg_cŞÚ
 (
fe
));

236 ià(
	`§ã_»ad
 (
šput_fd
, 
G_bufãr
, 
§ved_»cÜd_size
) != saved_record_size)

238 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„—dƒ¼Ü"), 
	`quÙ—rg_cŞÚ
 (
fe
));

239  
çl£
;

242 
m©ch_¡¬t
 = 
·¡_’d
 = 
G_bufãr
 + 
§ved_»cÜd_size
;

244 ià(
£Áš–_Ëngth
)

245 
m©ch_¡¬t
 -ğ
m©ch_Ëngth1
;

247 
Œue
)

255 ià(
£Áš–_Ëngth
 == 0)

257 
size_t
 
i
 = 
m©ch_¡¬t
 - 
G_bufãr
;

258 
»goff_t
 
ri
 = 
i
;

259 
»goff_t
 
¿nge
 = 1 - 
ri
;

260 
»goff_t
 
»t
;

262 ià(1 < 
¿nge
)

263 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("recordoo†arge"));

265 ià(
¿nge
 == 1

266 || ((
»t
 = 
	`»_£¬ch
 (&
comped_£·¿tÜ
, 
G_bufãr
,

267 
i
, i - 1, 
¿nge
, &
»gs
))

269 
m©ch_¡¬t
 = 
G_bufãr
 - 1;

270 ià(
»t
 == -2)

272 
	`”rÜ
 (
EXIT_FAILURE
, 0,

273 
	`_
("error in„egularƒxpression search"));

277 
m©ch_¡¬t
 = 
G_bufãr
 + 
»gs
.
¡¬t
[0];

278 
m©ch_Ëngth
 = 
»gs
.
’d
[0] -„egs.
¡¬t
[0];

284 *--
m©ch_¡¬t
 !ğ
fœ¡_ch¬


285 || (
m©ch_Ëngth1
 && 
	`¡ºcmp
 (
m©ch_¡¬t
 + 1, 
£·¿tÜ1
,

286 
m©ch_Ëngth1
)))

292 ià(
m©ch_¡¬t
 < 
G_bufãr
)

294 ià(
fe_pos
 == 0)

297 
	`ouut
 (
G_bufãr
, 
·¡_’d
);

298  
Œue
;

301 
§ved_»cÜd_size
 = 
·¡_’d
 - 
G_bufãr
;

302 ià(
§ved_»cÜd_size
 > 
»ad_size
)

308 *
Ãwbufãr
;

309 
size_t
 
off£t
 = 
£Áš–_Ëngth
 ? sentinel_length : 1;

310 
±rdiff_t
 
m©ch_¡¬t_off£t
 = 
m©ch_¡¬t
 - 
G_bufãr
;

311 
±rdiff_t
 
·¡_’d_off£t
 = 
·¡_’d
 - 
G_bufãr
;

312 
size_t
 
Şd_G_bufãr_size
 = 
G_bufãr_size
;

314 
»ad_size
 *= 2;

315 
G_bufãr_size
 = 
»ad_size
 * 2 + 
£Áš–_Ëngth
 + 2;

316 ià(
G_bufãr_size
 < 
Şd_G_bufãr_size
)

317 
	`x®loc_d›
 ();

318 
Ãwbufãr
 = 
	`x»®loc
 (
G_bufãr
 - 
off£t
, 
G_bufãr_size
);

319 
Ãwbufãr
 +ğ
off£t
;

321 
m©ch_¡¬t
 = 
Ãwbufãr
 + 
m©ch_¡¬t_off£t
;

322 
·¡_’d
 = 
Ãwbufãr
 + 
·¡_’d_off£t
;

323 
G_bufãr
 = 
Ãwbufãr
;

327 ià(
fe_pos
 >ğ
»ad_size
)

328 
fe_pos
 -ğ
»ad_size
;

331 
»ad_size
 = 
fe_pos
;

332 
fe_pos
 = 0;

334 ià(
	`l£ek
 (
šput_fd
, 
fe_pos
, 
SEEK_SET
) < 0)

335 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: s“k faed"), 
	`quÙ—rg_cŞÚ
 (
fe
));

339 
	`memmove
 (
G_bufãr
 + 
»ad_size
, G_bufãr, 
§ved_»cÜd_size
);

340 
·¡_’d
 = 
G_bufãr
 + 
»ad_size
 + 
§ved_»cÜd_size
;

342 ià(
£Áš–_Ëngth
)

343 
m©ch_¡¬t
 = 
G_bufãr
 + 
»ad_size
;

345 
m©ch_¡¬t
 = 
·¡_’d
;

347 ià(
	`§ã_»ad
 (
šput_fd
, 
G_bufãr
, 
»ad_size
) !=„ead_size)

349 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„—dƒ¼Ü"), 
	`quÙ—rg_cŞÚ
 (
fe
));

350  
çl£
;

356 ià(
£·¿tÜ_’ds_»cÜd
)

358 *
m©ch_’d
 = 
m©ch_¡¬t
 + 
m©ch_Ëngth
;

362 ià(!
fœ¡_time
 || 
m©ch_’d
 !ğ
·¡_’d
)

363 
	`ouut
 (
m©ch_’d
, 
·¡_’d
);

364 
·¡_’d
 = 
m©ch_’d
;

365 
fœ¡_time
 = 
çl£
;

369 
	`ouut
 (
m©ch_¡¬t
, 
·¡_’d
);

370 
·¡_’d
 = 
m©ch_¡¬t
;

374 ià(
£Áš–_Ëngth
 > 0)

375 
m©ch_¡¬t
 -ğ
m©ch_Ëngth
 - 1;

378 
	}
}

380 #ià
DONT_UNLINK_WHILE_OPEN


388 cÚ¡ *
	gfe_to_»move
;

389 
FILE
 *
	gå_to_şo£
;

392 
	$uÆšk_‹mpfe
 ()

394 
	`fşo£
 (
å_to_şo£
);

395 
	`uÆšk
 (
fe_to_»move
);

396 
	}
}

399 
	$»cÜd_Ü_uÆšk_‹mpfe
 (cÚ¡ *
â
, 
FILE
 *
å
)

401 ià(!
fe_to_»move
)

403 
fe_to_»move
 = 
â
;

404 
å_to_şo£
 = 
å
;

405 
	`©ex™
 (
uÆšk_‹mpfe
);

407 
	}
}

412 
	$»cÜd_Ü_uÆšk_‹mpfe
 (cÚ¡ *
â
, 
FILE
 *
å
 
ATTRIBUTE_UNUSED
)

414 
	`uÆšk
 (
â
);

415 
	}
}

422 
boŞ


423 
	$‹mp_¡»am
 (
FILE
 **
å
, **
fe_Çme
)

425 *
‹mpfe
 = 
NULL
;

426 
FILE
 *
tmp_å
;

427 ià(
‹mpfe
 =ğ
NULL
)

429 cÚ¡ *
t
 = 
	`g‘’v
 ("TMPDIR");

430 cÚ¡ *
‹mpdœ
 = 
t
 ? : 
DEFAULT_TMPDIR
;

431 
‹mpfe
 = 
	`mfe_Çme_cÚÿt
 (
‹mpdœ
, "cXXXXXX", 
NULL
);

432 ià(
‹mpdœ
 =ğ
NULL
)

434 
	`”rÜ
 (0, 0, 
	`_
("memoryƒxhausted"));

435  
çl£
;

447 
fd
 = 
	`mk¡emp
 (
‹mpfe
);

448 ià(
fd
 < 0)

450 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo createemporary file in %s"),

451 
	`quÙe
 (
‹mpdœ
));

452 
Re£t
;

455 
tmp_å
 = 
	`fdİ’
 (
fd
, (
O_BINARY
 ? "w+b" : "w+"));

456 ià(! 
tmp_å
)

458 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo open %s for writing"),

459 
	`quÙe
 (
‹mpfe
));

460 
	`şo£
 (
fd
);

461 
	`uÆšk
 (
‹mpfe
);

462 
Re£t
:

463 
	`ä“
 (
‹mpfe
);

464 
‹mpfe
 = 
NULL
;

465  
çl£
;

468 
	`»cÜd_Ü_uÆšk_‹mpfe
 (
‹mpfe
, 
tmp_å
);

472 ià(
	`f£eko
 (
tmp_å
, 0, 
SEEK_SET
) < 0

473 || 
	`árunÿ‹
 (
	`f’o
 (
tmp_å
), 0) < 0)

475 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo„ewind stream for %s"),

476 
	`quÙe
 (
‹mpfe
));

477  
çl£
;

481 *
å
 = 
tmp_å
;

482 *
fe_Çme
 = 
‹mpfe
;

483  
Œue
;

484 
	}
}

490 
boŞ


491 
	$cİy_to_‹mp
 (
FILE
 **
g_tmp
, **
g_‹mpfe
, 
šput_fd
, cÚ¡ *
fe
)

493 
FILE
 *
å
;

494 *
fe_Çme
;

495 ià(!
	`‹mp_¡»am
 (&
å
, &
fe_Çme
))

496  
çl£
;

500 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
šput_fd
, 
G_bufãr
, 
»ad_size
);

501 ià(
by‹s_»ad
 == 0)

503 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

505 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„—dƒ¼Ü"), 
	`quÙ—rg_cŞÚ
 (
fe
));

506 
Fa
;

509 ià(
	`fwr™e
 (
G_bufãr
, 1, 
by‹s_»ad
, 
å
) != bytes_read)

511 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: wr™”rÜ"), 
	`quÙ—rg_cŞÚ
 (
fe_Çme
));

512 
Fa
;

516 ià(
	`fæush
 (
å
) != 0)

518 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: wr™”rÜ"), 
	`quÙ—rg_cŞÚ
 (
fe_Çme
));

519 
Fa
;

522 *
g_tmp
 = 
å
;

523 *
g_‹mpfe
 = 
fe_Çme
;

524  
Œue
;

526 
Fa
:

527 
	`fşo£
 (
å
);

528  
çl£
;

529 
	}
}

534 
boŞ


535 
	$c_nÚ£ekabË
 (
šput_fd
, cÚ¡ *
fe
)

537 
FILE
 *
tmp_¡»am
;

538 *
tmp_fe
;

539 ià(!
	`cİy_to_‹mp
 (&
tmp_¡»am
, &
tmp_fe
, 
šput_fd
, 
fe
))

540  
çl£
;

542 
boŞ
 
ok
 = 
	`c_£ekabË
 (
	`f’o
 (
tmp_¡»am
), 
tmp_fe
);

543  
ok
;

544 
	}
}

550 
boŞ


551 
	$c_fe
 (cÚ¡ *
f’ame
)

553 
boŞ
 
ok
;

554 
off_t
 
fe_size
;

555 
fd
;

556 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
f’ame
, "-");

558 ià(
is_¡dš
)

560 
have_»ad_¡dš
 = 
Œue
;

561 
fd
 = 
STDIN_FILENO
;

562 
f’ame
 = 
	`_
("standard input");

563 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

564 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

568 
fd
 = 
	`İ’
 (
f’ame
, 
O_RDONLY
 | 
O_BINARY
);

569 ià(
fd
 < 0)

571 
	`”rÜ
 (0, 
”ºo
, 
	`_
("failedo open %s for„eading"),

572 
	`quÙe
 (
f’ame
));

573  
çl£
;

577 
fe_size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

579 
ok
 = (
fe_size
 < 0 || 
	`i§‰y
 (
fd
)

580 ? 
	`c_nÚ£ekabË
 (
fd
, 
f’ame
)

581 : 
	`c_£ekabË
 (
fd
, 
f’ame
));

583 ià(!
is_¡dš
 && 
	`şo£
 (
fd
) != 0)

585 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„—dƒ¼Ü"), 
	`quÙ—rg_cŞÚ
 (
f’ame
));

586 
ok
 = 
çl£
;

588  
ok
;

589 
	}
}

592 
	$maš
 (
¬gc
, **
¬gv
)

594 cÚ¡ *
”rÜ_mes§ge
;

595 
İtc
;

596 
boŞ
 
ok
;

597 
size_t
 
h®f_bufãr_size
;

601 cÚ¡ *cÚ¡ 
deçuÉ_fe_li¡
[] = {"-", 
NULL
};

602 cÚ¡ *cÚ¡ *
fe
;

604 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

605 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

606 
	`£oÿË
 (
LC_ALL
, "");

607 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

608 
	`‹xtdomaš
 (
PACKAGE
);

610 
	`©ex™
 (
şo£_¡dout
);

612 
£·¿tÜ
 = "\n";

613 
£Áš–_Ëngth
 = 1;

614 
£·¿tÜ_’ds_»cÜd
 = 
Œue
;

616 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "brs:", 
lÚgİts
, 
NULL
)) != -1)

618 
İtc
)

621 
£·¿tÜ_’ds_»cÜd
 = 
çl£
;

624 
£Áš–_Ëngth
 = 0;

627 
£·¿tÜ
 = 
İrg
;

628 ià(*
£·¿tÜ
 == 0)

629 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("separator cannot beƒmpty"));

631 
ÿ£_GETOPT_HELP_CHAR
;

632 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

634 
	`u§ge
 (
EXIT_FAILURE
);

638 ià(
£Áš–_Ëngth
 == 0)

640 
comped_£·¿tÜ
.
bufãr
 = 
NULL
;

641 
comped_£·¿tÜ
.
®loÿ‹d
 = 0;

642 
comped_£·¿tÜ
.
ç¡m­
 = 
comped_£·¿tÜ_ç¡m­
;

643 
comped_£·¿tÜ
.
Œª¦©e
 = 
NULL
;

644 
”rÜ_mes§ge
 = 
	`»_compe_·‰”n
 (
£·¿tÜ
, 
	`¡¾’
 (separator),

645 &
comped_£·¿tÜ
);

646 ià(
”rÜ_mes§ge
)

647 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s", 
”rÜ_mes§ge
);

650 
m©ch_Ëngth
 = 
£Áš–_Ëngth
 = 
	`¡¾’
 (
£·¿tÜ
);

652 
»ad_size
 = 
INITIAL_READSIZE
;

653 
£Áš–_Ëngth
 >ğ
»ad_size
 / 2)

655 ià(
SIZE_MAX
 / 2 < 
»ad_size
)

656 
	`x®loc_d›
 ();

657 
»ad_size
 *= 2;

659 
h®f_bufãr_size
 = 
»ad_size
 + 
£Áš–_Ëngth
 + 1;

660 
G_bufãr_size
 = 2 * 
h®f_bufãr_size
;

661 ià(! (
»ad_size
 < 
h®f_bufãr_size
 && h®f_bufãr_siz< 
G_bufãr_size
))

662 
	`x®loc_d›
 ();

663 
G_bufãr
 = 
	`xm®loc
 (
G_bufãr_size
);

664 ià(
£Áš–_Ëngth
)

666 
	`memıy
 (
G_bufãr
, 
£·¿tÜ
, 
£Áš–_Ëngth
 + 1);

667 
G_bufãr
 +ğ
£Áš–_Ëngth
;

671 ++
G_bufãr
;

674 
fe
 = (
İtšd
 < 
¬gc


675 ? (cÚ¡ *cÚ¡ *è&
¬gv
[
İtšd
]

676 : 
deçuÉ_fe_li¡
);

678 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

679 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

682 
size_t
 
i
;

683 
ok
 = 
Œue
;

684 
i
 = 0; 
fe
[i]; ++i)

685 
ok
 &ğ
	`c_fe
 (
fe
[
i
]);

689 
	`ouut
 ((*è
NULL
, (*) NULL);

691 ià(
have_»ad_¡dš
 && 
	`şo£
 (
STDIN_FILENO
) < 0)

693 
	`”rÜ
 (0, 
”ºo
, "-");

694 
ok
 = 
çl£
;

697 #ifdeà
lšt


698 
size_t
 
off£t
 = 
£Áš–_Ëngth
 ? sentinel_length : 1;

699 
	`ä“
 (
G_bufãr
 - 
off£t
);

702 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

703 
	}
}

	@tail.c

26 
	~<cÚfig.h
>

28 
	~<¡dio.h
>

29 
	~<as£¹.h
>

30 
	~<g‘İt.h
>

31 
	~<sys/ty³s.h
>

32 
	~<sigÇl.h
>

34 
	~"sy¡em.h
"

35 
	~"¬gm©ch.h
"

36 
	~"c-¡¹od.h
"

37 
	~"”rÜ.h
"

38 
	~"fú--.h
"

39 
	~"i§pe.h
"

40 
	~"posixv”.h
"

41 
	~"quÙe.h
"

42 
	~"§ã-»ad.h
"

43 
	~"¡©-time.h
"

44 
	~"xäeİ’.h
"

45 
	~"xÇno¦“p.h
"

46 
	~"x¡¹Ş.h
"

47 
	~"x¡¹od.h
"

49 #ià
HAVE_INOTIFY


50 
	~"hash.h
"

51 
	~<sys/šÙify.h
>

53 
	~<sys/£Ëù.h
>

56 
	~"fs.h
"

57 
	~"fs-is-loÿl.h
"

58 #ià
HAVE_SYS_STATFS_H


59 
	~<sys/¡©fs.h
>

60 #–ià
HAVE_SYS_VFS_H


61 
	~<sys/vfs.h
>

66 
	#PROGRAM_NAME
 ""

	)

68 
	#AUTHORS
 \

69 
	`´İ”_Çme
 ("Paul Rubin"), \

70 
	`´İ”_Çme
 ("David MacKenzie"), \

71 
	`´İ”_Çme
 ("Ian Lance Taylor"), \

72 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

75 
	#DEFAULT_N_LINES
 10

	)

78 
	#COPY_TO_EOF
 
UINTMAX_MAX


	)

79 
	#COPY_A_BUFFER
 (
UINTMAX_MAX
 - 1)

	)

82 
	#DEFAULT_FOLLOW_MODE
 
FŞlow_desütÜ


	)

84 
	eFŞlow_mode


89 
	mFŞlow_Çme
 = 1,

94 
	mFŞlow_desütÜ
 = 2

98 
	#IS_TAILABLE_FILE_TYPE
(
Mode
) \

99 (
	`S_ISREG
 (
Mode
è|| 
	`S_ISFIFO
 (Modeè|| 
	`S_ISSOCK
 (Modeè|| 
	`S_ISCHR
 (Mode))

	)

101 cÚ¡ *cÚ¡ 
	gfŞlow_mode_¡ršg
[] =

103 "desütÜ", "Çme", 
NULL


106 
FŞlow_mode
 cÚ¡ 
	gfŞlow_mode_m­
[] =

108 
FŞlow_desütÜ
, 
FŞlow_Çme
,

111 
	sFe_¥ec


114 *
	mÇme
;

117 
off_t
 
	msize
;

118 
time¥ec
 
	mmtime
;

119 
dev_t
 
	mdev
;

120 
šo_t
 
	mšo
;

121 
mode_t
 
	mmode
;

126 
boŞ
 
	mignÜe
;

129 
boŞ
 
	m»mÙe
;

133 
boŞ
 
	mabË
;

136 
	mfd
;

139 
	m”ºum
;

142 
	mblockšg
;

144 #ià
HAVE_INOTIFY


146 
	mwd
;

150 
	m·»Á_wd
;

153 
size_t
 
	mba£Çme_¡¬t
;

157 
uštmax_t
 
	mn_unchªged_¡©s
;

160 #ià
HAVE_INOTIFY


163 cÚ¡ 
ušt32_t
 
	gšÙify_wd_mask
 = (
IN_MODIFY
 | 
IN_ATTRIB


164 | 
IN_DELETE_SELF
 | 
IN_MOVE_SELF
);

169 
boŞ
 
	g»İ’_šacûssibË_fes
;

173 
boŞ
 
	gcouÁ_lšes
;

177 
FŞlow_mode
 
	gfŞlow_mode
 = 
FŞlow_desütÜ
;

180 
boŞ
 
	gfÜev”
;

183 
boŞ
 
	gäom_¡¬t
;

186 
boŞ
 
	g´št_h—d”s
;

189 
	eh—d”_mode


191 
	mmuÉË_fes
, 
	m®ways
, 
	mÃv”


199 
	#DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS
 5

	)

200 
uštmax_t
 
	gmax_n_unchªged_¡©s_b‘w“n_İ’s
 =

201 
DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS
;

205 
pid_t
 
	gpid
;

208 
boŞ
 
	ghave_»ad_¡dš
;

213 
boŞ
 
	g´esume_šput_pe
;

216 
boŞ
 
	gdi§bË_šÙify
;

222 
	mRETRY_OPTION
 = 
CHAR_MAX
 + 1,

223 
	mMAX_UNCHANGED_STATS_OPTION
,

224 
	mPID_OPTION
,

225 
	mPRESUME_INPUT_PIPE_OPTION
,

226 
	mLONG_FOLLOW_OPTION
,

227 
	mDISABLE_INOTIFY_OPTION


230 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

232 {"by‹s", 
»quœed_¬gum’t
, 
NULL
, 'c'},

233 {"fŞlow", 
İtiÚ®_¬gum’t
, 
NULL
, 
LONG_FOLLOW_OPTION
},

234 {"lšes", 
»quœed_¬gum’t
, 
NULL
, 'n'},

235 {"max-unchªged-¡©s", 
»quœed_¬gum’t
, 
NULL
, 
MAX_UNCHANGED_STATS_OPTION
},

236 {"-di§bË-šÙify", 
no_¬gum’t
, 
NULL
,

237 
DISABLE_INOTIFY_OPTION
},

238 {"pid", 
»quœed_¬gum’t
, 
NULL
, 
PID_OPTION
},

239 {"-´esume-šput-pe", 
no_¬gum’t
, 
NULL
,

240 
PRESUME_INPUT_PIPE_OPTION
},

241 {"qu›t", 
no_¬gum’t
, 
NULL
, 'q'},

242 {"»Œy", 
no_¬gum’t
, 
NULL
, 
RETRY_OPTION
},

243 {"s’t", 
no_¬gum’t
, 
NULL
, 'q'},

244 {"¦“p-š‹rv®", 
»quœed_¬gum’t
, 
NULL
, 's'},

245 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

246 {
GETOPT_HELP_OPTION_DECL
},

247 {
GETOPT_VERSION_OPTION_DECL
},

248 {
NULL
, 0, NULL, 0}

252 
	$u§ge
 (
¡©us
)

254 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

255 
	`em™_Œy_h–p
 ();

258 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

261 
´og¿m_Çme
);

262 
	`´štf
 (
	`_
("\
hÏ¡ %d†še oà—ch FILEØ¡ªd¬d ouut.\n\
 mÜthª oÃ FILE,…»ûd—ch w™h‡ h—d” givšghfÇme.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
DEFAULT_N_LINES
);

268 
	`em™_mªd©Üy_¬g_nÙe
 ();

270 
	`åuts
 (
	`_
("\
-c, --by‹s=K ouuˆthÏ¡ K by‹s;‡É”Çtiv–y, u£ -ø+K\n\
 ouuˆby‹ ¡¬tšg w™hhKth oà—ch fe\n\
"), 
¡dout
);

274 
	`åuts
 (
	`_
("\
-f, --fŞlow[={Çme|desütÜ}]\n\
‡µ’ded d©¨a thfgrows;\n\
-f, --fŞlow,‡nd --fŞlow=desütÜ‡»\n\
\n\
-F sama --fŞlowòam--»Œy\n\
"), 
¡dout
);

281 
	`´štf
 (
	`_
("\
-n, --lines=K outputhe†ast K†ines, instead ofhe†ast %d;\n\
 use -n +Ko output†ines starting withhe Kth\n\
--max-unchanged-stats=N\n\
 --follow=name,„eopen‡ FILE which has‚ot\n\
 size‡fter N (default %d) iterations\n\
 see if it has been unlinked or„enamed\n\
(this ishe usual case of„otated†og files).\n\
 inotify,his option is„arely useful.\n\
"),

291 
DEFAULT_N_LINES
,

292 
DEFAULT_MAX_N_UNCHANGED_STATS_BETWEEN_OPENS


294 
	`åuts
 (
	`_
("\
--pid=PID w™h -f,”mš©aá”…roûs ID, PID d›s\n\
-q, --qu›t, --s’ˆ‚ev” ouuˆh—d” givšg fÇmes\n\
--»Œy k“°ŒyšgØİ’‡ fev’ wh’ iˆi Ü\n\
 iÇcûssibË; u£fuÈwh’ fŞlowšg by\n\
, i.e., w™h --fŞlowòame\n\
"), 
¡dout
);

301 
	`åuts
 (
	`_
("\
-s, --¦“p-š‹rv®=N w™h -f, sË• fÜ‡µroxim©–y N secÚds\n\
(deçuÉ 1.0èb‘w“À™”©iÚs.\n\
 inÙify‡nd --pid=P, check…roûs P‡t\n\
 onûƒv”y N secÚds.\n\
-v, --v”bo£‡lway ouuˆh—d” givšg fÇmes\n\
"), 
¡dout
);

308 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

309 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

310 
	`åuts
 (
	`_
("\
\n\
hfœ¡ ch¬aù” oàK (thnumb” oàby‹ Ü†šesèi ¨'+',\n\
 begšnšg w™hhKth i‹m fromh¡¬ˆoà—ch fe, oth”wi£,\n\
hÏ¡ K i‹m šhfe. K may hav¨muÉl›¸suffix:\n\
 512, kB 1000, K 1024, MB 1000*1000, M 1024*1024,\n\
 1000*1000*1000, G 1024*1024*1024,‡nd sØÚ fÜ T, P, E, Z, Y.\n\
\n\
"), 
¡dout
);

319 
	`åuts
 (
	`_
("\
 --fŞlow (-f),a deçuÉ tØfŞlowšghfdesütÜ, which\n\
h©ƒv’ ià¨'ed fi »Çmed,a wÈcÚtšutØŒack\n\
ƒnd. Thi deçuÉ behaviÜ i nÙ desœabË wh’ you„—Îy wªˆto\n\
haùu®‚amoàthfe,‚ÙhfdesütÜ (e.g.,†og\n\
). U£ --fŞlowòamšh© ca£. Th© cau£ ØŒackhe\n\
 fš‡ wayh©‡ccommod©e »Çmšg,„emov®‡nd c»©iÚ.\n\
"), 
¡dout
);

327 
	`em™_ªcÏry_šfo
 ();

329 
	`ex™
 (
¡©us
);

330 
	}
}

332 
boŞ


333 
	$v®id_fe_¥ec
 (
Fe_¥ec
 cÚ¡ *
f
)

336  ((
f
->
fd
 =ğ-1è^ (f->
”ºum
 == 0));

337 
	}
}

340 
	$´‘ty_Çme
 (
Fe_¥ec
 cÚ¡ *
f
)

342  (
	`STREQ
 (
f
->
Çme
, "-"è? 
	`_
("standard input") : f->name);

343 
	}
}

346 
	$xwr™e_¡dout
 (cÚ¡ *
bufãr
, 
size_t
 
n_by‹s
)

348 ià(
n_by‹s
 > 0 && 
	`fwr™e
 (
bufãr
, 1,‚_by‹s, 
¡dout
) == 0)

349 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

350 
	}
}

356 
	$»cÜd_İ’_fd
 (
Fe_¥ec
 *
f
, 
fd
,

357 
off_t
 
size
, 
¡©
 cÚ¡ *
¡
,

358 
blockšg
)

360 
f
->
fd
 = fd;

361 
f
->
size
 = size;

362 
f
->
mtime
 = 
	`g‘_¡©_mtime
 (
¡
);

363 
f
->
dev
 = 
¡
->
¡_dev
;

364 
f
->
šo
 = 
¡
->
¡_šo
;

365 
f
->
mode
 = 
¡
->
¡_mode
;

366 
f
->
blockšg
 = blocking;

367 
f
->
n_unchªged_¡©s
 = 0;

368 
f
->
ignÜe
 = 
çl£
;

369 
	}
}

374 
	$şo£_fd
 (
fd
, cÚ¡ *
f’ame
)

376 ià(
fd
 !ğ-1 && fd !ğ
STDIN_FILENO
 && 
	`şo£
 (fd))

378 
	`”rÜ
 (0, 
”ºo
, 
	`_
("şosšg % (fd=%d)"), 
f’ame
, 
fd
);

380 
	}
}

383 
	$wr™e_h—d”
 (cÚ¡ *
´‘ty_f’ame
)

385 
boŞ
 
fœ¡_fe
 = 
Œue
;

387 
	`´štf
 ("%s==> % <==\n", (
fœ¡_fe
 ? "" : "\n"), 
´‘ty_f’ame
);

388 
fœ¡_fe
 = 
çl£
;

389 
	}
}

396 
uštmax_t


397 
	$dump_»mašd”
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_by‹s
)

399 
uštmax_t
 
n_wr™‹n
;

400 
uštmax_t
 
n_»maššg
 = 
n_by‹s
;

402 
n_wr™‹n
 = 0;

405 
bufãr
[
BUFSIZ
];

406 
size_t
 
n
 = 
	`MIN
 (
n_»maššg
, 
BUFSIZ
);

407 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
n
);

408 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

410 ià(
”ºo
 !ğ
EAGAIN
)

411 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("error„eading %s"),

412 
	`quÙe
 (
´‘ty_f’ame
));

415 ià(
by‹s_»ad
 == 0)

417 
	`xwr™e_¡dout
 (
bufãr
, 
by‹s_»ad
);

418 
n_wr™‹n
 +ğ
by‹s_»ad
;

419 ià(
n_by‹s
 !ğ
COPY_TO_EOF
)

421 
n_»maššg
 -ğ
by‹s_»ad
;

422 ià(
n_»maššg
 =ğ0 || 
n_by‹s
 =ğ
COPY_A_BUFFER
)

427  
n_wr™‹n
;

428 
	}
}

435 
off_t


436 
	$xl£ek
 (
fd
, 
off_t
 
off£t
, 
wh’û
, cÚ¡ *
f’ame
)

438 
off_t
 
Ãw_off£t
 = 
	`l£ek
 (
fd
, 
off£t
, 
wh’û
);

439 
buf
[
	`INT_BUFSIZE_BOUND
 (
off£t
)];

440 *
s
;

442 ià(0 <ğ
Ãw_off£t
)

443  
Ãw_off£t
;

445 
s
 = 
	`ofáo¡r
 (
off£t
, 
buf
);

446 
wh’û
)

448 
SEEK_SET
:

449 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot seeko offset %s"),

450 
f’ame
, 
s
);

452 
SEEK_CUR
:

453 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot seeko„elative offset %s"),

454 
f’ame
, 
s
);

456 
SEEK_END
:

457 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s: cannot seekoƒnd-relative offset %s"),

458 
f’ame
, 
s
);

461 
	`abÜt
 ();

464 
	`ex™
 (
EXIT_FAILURE
);

465 
	}
}

476 
boŞ


477 
	$fe_lšes
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_lšes
,

478 
off_t
 
¡¬t_pos
, off_ˆ
’d_pos
, 
uštmax_t
 *
»ad_pos
)

480 
bufãr
[
BUFSIZ
];

481 
size_t
 
by‹s_»ad
;

482 
off_t
 
pos
 = 
’d_pos
;

484 ià(
n_lšes
 == 0)

485  
Œue
;

489 
by‹s_»ad
 = (
pos
 - 
¡¬t_pos
è% 
BUFSIZ
;

490 ià(
by‹s_»ad
 == 0)

491 
by‹s_»ad
 = 
BUFSIZ
;

494 
pos
 -ğ
by‹s_»ad
;

495 
	`xl£ek
 (
fd
, 
pos
, 
SEEK_SET
, 
´‘ty_f’ame
);

496 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, bytes_read);

497 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

499 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

500  
çl£
;

502 *
»ad_pos
 = 
pos
 + 
by‹s_»ad
;

505 ià(
by‹s_»ad
 && 
bufãr
[bytes_read - 1] != '\n')

506 --
n_lšes
;

512 
size_t
 
n
 = 
by‹s_»ad
;

513 
n
)

515 cÚ¡ *
Æ
;

516 
Æ
 = 
	`memrchr
 (
bufãr
, '\n', 
n
);

517 ià(
Æ
 =ğ
NULL
)

519 
n
 = 
Æ
 - 
bufãr
;

520 ià(
n_lšes
-- == 0)

524 ià(
n
 !ğ
by‹s_»ad
 - 1)

525 
	`xwr™e_¡dout
 (
Æ
 + 1, 
by‹s_»ad
 - (
n
 + 1));

526 *
»ad_pos
 +ğ
	`dump_»mašd”
 (
´‘ty_f’ame
, 
fd
,

527 
’d_pos
 - (
pos
 + 
by‹s_»ad
));

528  
Œue
;

533 ià(
pos
 =ğ
¡¬t_pos
)

537 
	`xl£ek
 (
fd
, 
¡¬t_pos
, 
SEEK_SET
, 
´‘ty_f’ame
);

538 *
»ad_pos
 = 
¡¬t_pos
 + 
	`dump_»mašd”
 (
´‘ty_f’ame
, 
fd
,

539 
’d_pos
);

540  
Œue
;

542 
pos
 -ğ
BUFSIZ
;

543 
	`xl£ek
 (
fd
, 
pos
, 
SEEK_SET
, 
´‘ty_f’ame
);

545 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
BUFSIZ
);

546 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

548 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

549  
çl£
;

552 *
»ad_pos
 = 
pos
 + 
by‹s_»ad
;

554 
by‹s_»ad
 > 0);

556  
Œue
;

557 
	}
}

564 
boŞ


565 
	$pe_lšes
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_lšes
,

566 
uštmax_t
 *
»ad_pos
)

568 
	slšebufãr


570 
bufãr
[
BUFSIZ
];

571 
size_t
 
nby‹s
;

572 
size_t
 
Æšes
;

573 
lšebufãr
 *
Ãxt
;

575 
lšebufãr
 
	tLBUFFER
;

576 
LBUFFER
 *
fœ¡
, *
Ï¡
, *
tmp
;

577 
size_t
 
tÙ®_lšes
 = 0;

578 
boŞ
 
ok
 = 
Œue
;

579 
size_t
 
n_»ad
;

581 
fœ¡
 = 
Ï¡
 = 
	`xm®loc
 ( (
LBUFFER
));

582 
fœ¡
->
nby‹s
 = fœ¡->
Æšes
 = 0;

583 
fœ¡
->
Ãxt
 = 
NULL
;

584 
tmp
 = 
	`xm®loc
 ( (
LBUFFER
));

589 
n_»ad
 = 
	`§ã_»ad
 (
fd
, 
tmp
->
bufãr
, 
BUFSIZ
);

590 ià(
n_»ad
 =ğ0 ||‚_»ad =ğ
SAFE_READ_ERROR
)

592 
tmp
->
nby‹s
 = 
n_»ad
;

593 *
»ad_pos
 +ğ
n_»ad
;

594 
tmp
->
Æšes
 = 0;

595 
tmp
->
Ãxt
 = 
NULL
;

599 cÚ¡ *
bufãr_’d
 = 
tmp
->
bufãr
 + 
n_»ad
;

600 cÚ¡ *
p
 = 
tmp
->
bufãr
;

601 (
p
 = 
	`memchr
 (p, '\n', 
bufãr_’d
 -…)))

603 ++
p
;

604 ++
tmp
->
Æšes
;

607 
tÙ®_lšes
 +ğ
tmp
->
Æšes
;

612 ià(
tmp
->
nby‹s
 + 
Ï¡
->nby‹ < 
BUFSIZ
)

614 
	`memıy
 (&
Ï¡
->
bufãr
[Ï¡->
nby‹s
], 
tmp
->buffer,mp->nbytes);

615 
Ï¡
->
nby‹s
 +ğ
tmp
->nbytes;

616 
Ï¡
->
Æšes
 +ğ
tmp
->nlines;

625 
Ï¡
 =†a¡->
Ãxt
 = 
tmp
;

626 ià(
tÙ®_lšes
 - 
fœ¡
->
Æšes
 > 
n_lšes
)

628 
tmp
 = 
fœ¡
;

629 
tÙ®_lšes
 -ğ
fœ¡
->
Æšes
;

630 
fœ¡
 = fœ¡->
Ãxt
;

633 
tmp
 = 
	`xm®loc
 ( (
LBUFFER
));

637 
	`ä“
 (
tmp
);

639 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

641 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

642 
ok
 = 
çl£
;

643 
ä“_lbufãrs
;

647 ià(
Ï¡
->
nby‹s
 == 0)

648 
ä“_lbufãrs
;

651 ià(
n_lšes
 == 0)

652 
ä“_lbufãrs
;

655 ià(
Ï¡
->
bufãr
[Ï¡->
nby‹s
 - 1] != '\n')

657 ++
Ï¡
->
Æšes
;

658 ++
tÙ®_lšes
;

663 
tmp
 = 
fœ¡
; 
tÙ®_lšes
 -mp->
Æšes
 > 
n_lšes
;m°ğtmp->
Ãxt
)

664 
tÙ®_lšes
 -ğ
tmp
->
Æšes
;

668 cÚ¡ *
beg
 = 
tmp
->
bufãr
;

669 cÚ¡ *
bufãr_’d
 = 
tmp
->
bufãr
 +mp->
nby‹s
;

670 ià(
tÙ®_lšes
 > 
n_lšes
)

674 
size_t
 
j
;

675 
j
 = 
tÙ®_lšes
 - 
n_lšes
; j; --j)

677 
beg
 = 
	`memchr
 (beg, '\n', 
bufãr_’d
 - beg);

678 
	`as£¹
 (
beg
);

679 ++
beg
;

683 
	`xwr™e_¡dout
 (
beg
, 
bufãr_’d
 - beg);

686 
tmp
 =mp->
Ãxt
;mp;mp =mp->next)

687 
	`xwr™e_¡dout
 (
tmp
->
bufãr
,mp->
nby‹s
);

689 
ä“_lbufãrs
:

690 
fœ¡
)

692 
tmp
 = 
fœ¡
->
Ãxt
;

693 
	`ä“
 (
fœ¡
);

694 
fœ¡
 = 
tmp
;

696  
ok
;

697 
	}
}

703 
boŞ


704 
	$pe_by‹s
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_by‹s
,

705 
uštmax_t
 *
»ad_pos
)

707 
	sch¬bufãr


709 
bufãr
[
BUFSIZ
];

710 
size_t
 
nby‹s
;

711 
ch¬bufãr
 *
Ãxt
;

713 
ch¬bufãr
 
	tCBUFFER
;

714 
CBUFFER
 *
fœ¡
, *
Ï¡
, *
tmp
;

715 
size_t
 
i
;

716 
size_t
 
tÙ®_by‹s
 = 0;

717 
boŞ
 
ok
 = 
Œue
;

718 
size_t
 
n_»ad
;

720 
fœ¡
 = 
Ï¡
 = 
	`xm®loc
 ( (
CBUFFER
));

721 
fœ¡
->
nby‹s
 = 0;

722 
fœ¡
->
Ãxt
 = 
NULL
;

723 
tmp
 = 
	`xm®loc
 ( (
CBUFFER
));

728 
n_»ad
 = 
	`§ã_»ad
 (
fd
, 
tmp
->
bufãr
, 
BUFSIZ
);

729 ià(
n_»ad
 =ğ0 ||‚_»ad =ğ
SAFE_READ_ERROR
)

731 *
»ad_pos
 +ğ
n_»ad
;

732 
tmp
->
nby‹s
 = 
n_»ad
;

733 
tmp
->
Ãxt
 = 
NULL
;

735 
tÙ®_by‹s
 +ğ
tmp
->
nby‹s
;

739 ià(
tmp
->
nby‹s
 + 
Ï¡
->nby‹ < 
BUFSIZ
)

741 
	`memıy
 (&
Ï¡
->
bufãr
[Ï¡->
nby‹s
], 
tmp
->buffer,mp->nbytes);

742 
Ï¡
->
nby‹s
 +ğ
tmp
->nbytes;

751 
Ï¡
 =†a¡->
Ãxt
 = 
tmp
;

752 ià(
tÙ®_by‹s
 - 
fœ¡
->
nby‹s
 > 
n_by‹s
)

754 
tmp
 = 
fœ¡
;

755 
tÙ®_by‹s
 -ğ
fœ¡
->
nby‹s
;

756 
fœ¡
 = fœ¡->
Ãxt
;

760 
tmp
 = 
	`xm®loc
 ( (
CBUFFER
));

765 
	`ä“
 (
tmp
);

767 ià(
n_»ad
 =ğ
SAFE_READ_ERROR
)

769 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

770 
ok
 = 
çl£
;

771 
ä“_cbufãrs
;

776 
tmp
 = 
fœ¡
; 
tÙ®_by‹s
 -mp->
nby‹s
 > 
n_by‹s
;m°ğtmp->
Ãxt
)

777 
tÙ®_by‹s
 -ğ
tmp
->
nby‹s
;

781 ià(
tÙ®_by‹s
 > 
n_by‹s
)

782 
i
 = 
tÙ®_by‹s
 - 
n_by‹s
;

784 
i
 = 0;

785 
	`xwr™e_¡dout
 (&
tmp
->
bufãr
[
i
],mp->
nby‹s
 - i);

787 
tmp
 =mp->
Ãxt
;mp;mp =mp->next)

788 
	`xwr™e_¡dout
 (
tmp
->
bufãr
,mp->
nby‹s
);

790 
ä“_cbufãrs
:

791 
fœ¡
)

793 
tmp
 = 
fœ¡
->
Ãxt
;

794 
	`ä“
 (
fœ¡
);

795 
fœ¡
 = 
tmp
;

797  
ok
;

798 
	}
}

805 
	$¡¬t_by‹s
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_by‹s
,

806 
uštmax_t
 *
»ad_pos
)

808 
bufãr
[
BUFSIZ
];

810 0 < 
n_by‹s
)

812 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
BUFSIZ
);

813 ià(
by‹s_»ad
 == 0)

815 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

817 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

820 *
»ad_pos
 +ğ
by‹s_»ad
;

821 ià(
by‹s_»ad
 <ğ
n_by‹s
)

822 
n_by‹s
 -ğ
by‹s_»ad
;

825 
size_t
 
n_»maššg
 = 
by‹s_»ad
 - 
n_by‹s
;

826 ià(
n_»maššg
)

827 
	`xwr™e_¡dout
 (&
bufãr
[
n_by‹s
], 
n_»maššg
);

833 
	}
}

840 
	$¡¬t_lšes
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_lšes
,

841 
uštmax_t
 *
»ad_pos
)

843 ià(
n_lšes
 == 0)

848 
bufãr
[
BUFSIZ
];

849 
size_t
 
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
bufãr
, 
BUFSIZ
);

850 ià(
by‹s_»ad
 == 0)

852 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

854 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
´‘ty_f’ame
));

858 *
bufãr_’d
 = 
bufãr
 + 
by‹s_»ad
;

860 *
»ad_pos
 +ğ
by‹s_»ad
;

862 *
p
 = 
bufãr
;

863 (
p
 = 
	`memchr
 (p, '\n', 
bufãr_’d
 -…)))

865 ++
p
;

866 ià(--
n_lšes
 == 0)

868 ià(
p
 < 
bufãr_’d
)

869 
	`xwr™e_¡dout
 (
p
, 
bufãr_’d
 -…);

874 
	}
}

876 #ià
HAVE_INOTIFY


881 
boŞ


882 
	$äemÙe
 (
fd
, cÚ¡ *
Çme
)

884 
boŞ
 
»mÙe
 = 
Œue
;

886 #ià
HAVE_FSTATFS
 && 
HAVE_STRUCT_STATFS_F_TYPE
 && 
defšed
 
__lšux__


887 
¡©fs
 
buf
;

888 
”r
 = 
	`f¡©fs
 (
fd
, &
buf
);

889 ià(
”r
 != 0)

893 ià(
”ºo
 !ğ
ENOSYS
)

894 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot determine†ocation of %s. "

895 "»v”tšgØpŞlšg"), 
	`quÙe
 (
Çme
));

899 
	`is_loÿl_fs_ty³
 (
buf
.
f_ty³
))

905 
fs_ty³
 = 
buf
.
f_ty³
;

906 
	`”rÜ
 (0, 0, 
	`_
("unrecognized file systemype 0x%08lx for %s. "

908 
fs_ty³
, 
	`quÙe
 (
Çme
), 
PACKAGE_BUGREPORT
);

913 
»mÙe
 = 
çl£
;

916 
	`as£¹
 (!"unexpected„eturn value from is_local_fs_type");

921  
»mÙe
;

922 
	}
}

926 
	#äemÙe
(
fd
, 
Çme
è
çl£


	)

932 
	$»check
 (
Fe_¥ec
 *
f
, 
boŞ
 
blockšg
)

935 
¡©
 
Ãw_¡©s
;

936 
boŞ
 
ok
 = 
Œue
;

937 
boŞ
 
is_¡dš
 = (
	`STREQ
 (
f
->
Çme
, "-"));

938 
boŞ
 
was_abË
 = 
f
->
abË
;

939 
´ev_”ºum
 = 
f
->
”ºum
;

940 
boŞ
 
Ãw_fe
;

941 
fd
 = (
is_¡dš


942 ? 
STDIN_FILENO


943 : 
	`İ’
 (
f
->
Çme
, 
O_RDONLY
 | (
blockšg
 ? 0 : 
O_NONBLOCK
)));

945 
	`as£¹
 (
	`v®id_fe_¥ec
 (
f
));

949 
f
->
abË
 = !(
»İ’_šacûssibË_fes
 && 
fd
 == -1);

951 ià(
fd
 =ğ-1 || 
	`f¡©
 (fd, &
Ãw_¡©s
) < 0)

953 
ok
 = 
çl£
;

954 
f
->
”ºum
 = 
”ºo
;

955 ià(!
f
->
abË
)

957 ià(
was_abË
)

963 
	`”rÜ
 (0, 
f
->
”ºum
, 
	`_
("%s has become inaccessible"),

964 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

971 ià(
´ev_”ºum
 !ğ
”ºo
)

973 
	`”rÜ
 (0, 
”ºo
, "%s", 
	`´‘ty_Çme
 (
f
));

976 ià(!
	`IS_TAILABLE_FILE_TYPE
 (
Ãw_¡©s
.
¡_mode
))

978 
ok
 = 
çl£
;

979 
f
->
”ºum
 = -1;

980 
	`”rÜ
 (0, 0, 
	`_
("%s has been„eplaced with‡n untailable file;\
 up onhis‚ame"),

982 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

983 
f
->
ignÜe
 = 
Œue
;

985 ià(!
di§bË_šÙify
 && 
	`äemÙe
 (
fd
, 
	`´‘ty_Çme
 (
f
)))

987 
ok
 = 
çl£
;

988 
f
->
”ºum
 = -1;

989 
	`”rÜ
 (0, 0, 
	`_
("%s has been„eplaced with‡„emote file. "

990 "givšg u°Úhi Çme"), 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

991 
f
->
ignÜe
 = 
Œue
;

992 
f
->
»mÙe
 = 
Œue
;

996 
f
->
”ºum
 = 0;

999 
Ãw_fe
 = 
çl£
;

1000 ià(!
ok
)

1002 
	`şo£_fd
 (
fd
, 
	`´‘ty_Çme
 (
f
));

1003 
	`şo£_fd
 (
f
->
fd
, 
	`´‘ty_Çme
 (f));

1004 
f
->
fd
 = -1;

1006 ià(
´ev_”ºum
 &&…»v_”ºum !ğ
ENOENT
)

1008 
Ãw_fe
 = 
Œue
;

1009 
	`as£¹
 (
f
->
fd
 == -1);

1010 
	`”rÜ
 (0, 0, 
	`_
("% ha becomacûssibË"), 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1012 ià(
f
->
šo
 !ğ
Ãw_¡©s
.
¡_šo
 || f->
dev
 !ğÃw_¡©s.
¡_dev
)

1014 
Ãw_fe
 = 
Œue
;

1015 ià(
f
->
fd
 == -1)

1017 
	`”rÜ
 (0, 0,

1018 
	`_
("%s has‡ppeared; followingƒnd of‚ew file"),

1019 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1024 
	`şo£_fd
 (
f
->
fd
, 
	`´‘ty_Çme
 (f));

1028 
	`”rÜ
 (0, 0,

1029 
	`_
("%s has been„eplaced; followingƒnd of‚ew file"),

1030 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1035 ià(
f
->
fd
 == -1)

1040 
Ãw_fe
 = 
Œue
;

1044 
	`şo£_fd
 (
fd
, 
	`´‘ty_Çme
 (
f
));

1048 ià(
Ãw_fe
)

1051 
	`»cÜd_İ’_fd
 (
f
, 
fd
, 0, &
Ãw_¡©s
, (
is_¡dš
 ? -1 : 
blockšg
));

1052 
	`xl£ek
 (
fd
, 0, 
SEEK_SET
, 
	`´‘ty_Çme
 (
f
));

1054 
	}
}

1059 
boŞ


1060 
	$ªy_live_fes
 (cÚ¡ 
Fe_¥ec
 *
f
, 
size_t
 
n_fes
)

1062 
size_t
 
i
;

1064 
i
 = 0; i < 
n_fes
; i++)

1065 ià(0 <ğ
f
[
i
].
fd
)

1066  
Œue
;

1067  
çl£
;

1068 
	}
}

1078 
	$_fÜev”
 (
Fe_¥ec
 *
f
, 
size_t
 
n_fes
, 
¦“p_š‹rv®
)

1081 
boŞ
 
blockšg
 = (
pid
 =ğ0 && 
fŞlow_mode
 =ğ
FŞlow_desütÜ


1082 && 
n_fes
 =ğ1 && ! 
	`S_ISREG
 (
f
[0].
mode
));

1083 
size_t
 
Ï¡
;

1084 
boŞ
 
wr™”_is_d—d
 = 
çl£
;

1086 
Ï¡
 = 
n_fes
 - 1;

1090 
size_t
 
i
;

1091 
boŞ
 
ªy_šput
 = 
çl£
;

1093 
i
 = 0; i < 
n_fes
; i++)

1095 
fd
;

1096 cÚ¡ *
Çme
;

1097 
mode_t
 
mode
;

1098 
¡©
 
¡©s
;

1099 
uštmax_t
 
by‹s_»ad
;

1101 ià(
f
[
i
].
ignÜe
)

1104 ià(
f
[
i
].
fd
 < 0)

1106 
	`»check
 (&
f
[
i
], 
blockšg
);

1110 
fd
 = 
f
[
i
].fd;

1111 
Çme
 = 
	`´‘ty_Çme
 (&
f
[
i
]);

1112 
mode
 = 
f
[
i
].mode;

1114 ià(
f
[
i
].
blockšg
 != blocking)

1116 
Şd_æags
 = 
	`fú
 (
fd
, 
F_GETFL
);

1117 
Ãw_æags
 = 
Şd_æags
 | (
blockšg
 ? 0 : 
O_NONBLOCK
);

1118 ià(
Şd_æags
 < 0

1119 || (
Ãw_æags
 !ğ
Şd_æags


1120 && 
	`fú
 (
fd
, 
F_SETFL
, 
Ãw_æags
) == -1))

1123 ià(
	`S_ISREG
 (
f
[
i
].
mode
è&& 
”ºo
 =ğ
EPERM
)

1129 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

1130 
	`_
("%s: cªnÙ chªgnÚblockšg mode"), 
Çme
);

1133 
f
[
i
].
blockšg
 = blocking;

1136 ià(!
f
[
i
].
blockšg
)

1138 ià(
	`f¡©
 (
fd
, &
¡©s
) != 0)

1140 
f
[
i
].
fd
 = -1;

1141 
f
[
i
].
”ºum
 = 
”ºo
;

1142 
	`”rÜ
 (0, 
”ºo
, "%s", 
Çme
);

1143 
	`şo£
 (
fd
);

1147 ià(
f
[
i
].
mode
 =ğ
¡©s
.
¡_mode


1148 && (! 
	`S_ISREG
 (
¡©s
.
¡_mode
è|| 
f
[
i
].
size
 =ğ¡©s.
¡_size
)

1149 && 
	`time¥ec_cmp
 (
f
[
i
].
mtime
, 
	`g‘_¡©_mtime
 (&
¡©s
)) == 0)

1151 ià((
max_n_unchªged_¡©s_b‘w“n_İ’s


1152 <ğ
f
[
i
].
n_unchªged_¡©s
++)

1153 && 
fŞlow_mode
 =ğ
FŞlow_Çme
)

1155 
	`»check
 (&
f
[
i
], f[i].
blockšg
);

1156 
f
[
i
].
n_unchªged_¡©s
 = 0;

1164 
f
[
i
].
mtime
 = 
	`g‘_¡©_mtime
 (&
¡©s
);

1165 
f
[
i
].
mode
 = 
¡©s
.
¡_mode
;

1168 
f
[
i
].
n_unchªged_¡©s
 = 0;

1170 ià(
	`S_ISREG
 (
mode
è&& 
¡©s
.
¡_size
 < 
f
[
i
].
size
)

1172 
	`”rÜ
 (0, 0, 
	`_
("%s: fŒunÿ‹d"), 
Çme
);

1173 
Ï¡
 = 
i
;

1174 
	`xl£ek
 (
fd
, 
¡©s
.
¡_size
, 
SEEK_SET
, 
Çme
);

1175 
f
[
i
].
size
 = 
¡©s
.
¡_size
;

1179 ià(
i
 !ğ
Ï¡
)

1181 ià(
´št_h—d”s
)

1182 
	`wr™e_h—d”
 (
Çme
);

1183 
Ï¡
 = 
i
;

1187 
by‹s_»ad
 = 
	`dump_»mašd”
 (
Çme
, 
fd
,

1188 (
f
[
i
].
blockšg


1189 ? 
COPY_A_BUFFER
 : 
COPY_TO_EOF
));

1190 
ªy_šput
 |ğ(
by‹s_»ad
 != 0);

1191 
f
[
i
].
size
 +ğ
by‹s_»ad
;

1194 ià(! 
	`ªy_live_fes
 (
f
, 
n_fes
è&& ! 
»İ’_šacûssibË_fes
)

1196 
	`”rÜ
 (0, 0, 
	`_
("no files„emaining"));

1200 ià((!
ªy_šput
 || 
blockšg
è&& 
	`fæush
 (
¡dout
) != 0)

1201 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

1204 ià(!
ªy_šput
)

1206 ià(
wr™”_is_d—d
)

1211 
wr™”_is_d—d
 = (
pid
 != 0

1212 && 
	`kl
 (
pid
, 0) != 0

1216 && 
”ºo
 !ğ
EPERM
);

1218 ià(!
wr™”_is_d—d
 && 
	`xÇno¦“p
 (
¦“p_š‹rv®
))

1219 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot„ead„ealtime clock"));

1223 
	}
}

1225 #ià
HAVE_INOTIFY


1230 
boŞ


1231 
	$ªy_»mÙe_fe
 (cÚ¡ 
Fe_¥ec
 *
f
, 
size_t
 
n_fes
)

1233 
size_t
 
i
;

1235 
i
 = 0; i < 
n_fes
; i++)

1236 ià(0 <ğ
f
[
i
].
fd
 && f[i].
»mÙe
)

1237  
Œue
;

1238  
çl£
;

1239 
	}
}

1244 
boŞ


1245 
	$abË_¡dš
 (cÚ¡ 
Fe_¥ec
 *
f
, 
size_t
 
n_fes
)

1247 
size_t
 
i
;

1249 
i
 = 0; i < 
n_fes
; i++)

1250 ià(!
f
[
i
].
ignÜe
 && 
	`STREQ
 (f[i].
Çme
, "-"))

1251  
Œue
;

1252  
çl£
;

1253 
	}
}

1255 
size_t


1256 
	$wd_hash”
 (cÚ¡ *
’Œy
, 
size_t
 
bsize
)

1258 cÚ¡ 
Fe_¥ec
 *
¥ec
 = 
’Œy
;

1259  
¥ec
->
wd
 % 
bsize
;

1260 
	}
}

1262 
boŞ


1263 
	$wd_com·¿tÜ
 (cÚ¡ *
e1
, cÚ¡ *
e2
)

1265 cÚ¡ 
Fe_¥ec
 *
¥ec1
 = 
e1
;

1266 cÚ¡ 
Fe_¥ec
 *
¥ec2
 = 
e2
;

1267  
¥ec1
->
wd
 =ğ
¥ec2
->wd;

1268 
	}
}

1272 
	$check_f¥ec
 (
Fe_¥ec
 *
f¥ec
, 
wd
, *
´ev_wd
)

1274 
¡©
 
¡©s
;

1275 cÚ¡ *
Çme
 = 
	`´‘ty_Çme
 (
f¥ec
);

1277 ià(
	`f¡©
 (
f¥ec
->
fd
, &
¡©s
) != 0)

1279 
f¥ec
->
”ºum
 = 
”ºo
;

1280 
	`şo£_fd
 (
f¥ec
->
fd
, 
Çme
);

1281 
f¥ec
->
fd
 = -1;

1285 ià(
	`S_ISREG
 (
f¥ec
->
mode
è&& 
¡©s
.
¡_size
 < f¥ec->
size
)

1287 
	`”rÜ
 (0, 0, 
	`_
("%s: fŒunÿ‹d"), 
Çme
);

1288 *
´ev_wd
 = 
wd
;

1289 
	`xl£ek
 (
f¥ec
->
fd
, 
¡©s
.
¡_size
, 
SEEK_SET
, 
Çme
);

1290 
f¥ec
->
size
 = 
¡©s
.
¡_size
;

1292 ià(
	`S_ISREG
 (
f¥ec
->
mode
è&& 
¡©s
.
¡_size
 =ğf¥ec->
size


1293 && 
	`time¥ec_cmp
 (
f¥ec
->
mtime
, 
	`g‘_¡©_mtime
 (&
¡©s
)) == 0)

1296 ià(
wd
 !ğ*
´ev_wd
)

1298 ià(
´št_h—d”s
)

1299 
	`wr™e_h—d”
 (
Çme
);

1300 *
´ev_wd
 = 
wd
;

1303 
uštmax_t
 
by‹s_»ad
 = 
	`dump_»mašd”
 (
Çme
, 
f¥ec
->
fd
, 
COPY_TO_EOF
);

1304 
f¥ec
->
size
 +ğ
by‹s_»ad
;

1306 ià(
	`fæush
 (
¡dout
) != 0)

1307 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

1308 
	}
}

1313 
boŞ


1314 
	$_fÜev”_šÙify
 (
wd
, 
Fe_¥ec
 *
f
, 
size_t
 
n_fes
,

1315 
¦“p_š‹rv®
)

1317 
max_»®loc
 = 3;

1320 
Hash_bË
 *
wd_to_Çme
;

1322 
boŞ
 
found_w©chabË_fe
 = 
çl£
;

1323 
boŞ
 
found_unw©chabË_dœ
 = 
çl£
;

1324 
boŞ
 
no_šÙify_»sourûs
 = 
çl£
;

1325 
boŞ
 
wr™”_is_d—d
 = 
çl£
;

1326 
´ev_wd
;

1327 
size_t
 
evËn
 = 0;

1328 *
evbuf
;

1329 
size_t
 
evbuf_off
 = 0;

1330 
size_t
 
Ën
 = 0;

1332 
wd_to_Çme
 = 
	`hash_š™Ÿlize
 (
n_fes
, 
NULL
, 
wd_hash”
, 
wd_com·¿tÜ
, NULL);

1333 ià(! 
wd_to_Çme
)

1334 
	`x®loc_d›
 ();

1339 
size_t
 
i
;

1340 
i
 = 0; i < 
n_fes
; i++)

1342 ià(!
f
[
i
].
ignÜe
)

1344 
size_t
 
âËn
 = 
	`¡¾’
 (
f
[
i
].
Çme
);

1345 ià(
evËn
 < 
âËn
)

1346 
evËn
 = 
âËn
;

1348 
f
[
i
].
wd
 = -1;

1350 ià(
fŞlow_mode
 =ğ
FŞlow_Çme
)

1352 
size_t
 
dœËn
 = 
	`dœ_Ën
 (
f
[
i
].
Çme
);

1353 
´ev
 = 
f
[
i
].
Çme
[
dœËn
];

1354 
f
[
i
].
ba£Çme_¡¬t
 = 
	`Ï¡_compÚ’t
 (f[i].
Çme
) - f[i].name;

1356 
f
[
i
].
Çme
[
dœËn
] = '\0';

1360 
f
[
i
].
·»Á_wd
 = 
	`šÙify_add_w©ch
 (
wd
, 
dœËn
 ? f[i].
Çme
 : ".",

1361 (
IN_CREATE
 | 
IN_MOVED_TO


1362 | 
IN_ATTRIB
));

1364 
f
[
i
].
Çme
[
dœËn
] = 
´ev
;

1366 ià(
f
[
i
].
·»Á_wd
 < 0)

1368 ià(
”ºo
 !ğ
ENOSPC
)

1369 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot watch…arent directory of %s"),

1370 
	`quÙe
 (
f
[
i
].
Çme
));

1372 
	`”rÜ
 (0, 0, 
	`_
("inotify„esourcesƒxhausted"));

1373 
found_unw©chabË_dœ
 = 
Œue
;

1380 
f
[
i
].
wd
 = 
	`šÙify_add_w©ch
 (wd, f[i].
Çme
, 
šÙify_wd_mask
);

1382 ià(
f
[
i
].
wd
 < 0)

1384 ià(
”ºo
 =ğ
ENOSPC
)

1386 
no_šÙify_»sourûs
 = 
Œue
;

1387 
	`”rÜ
 (0, 0, 
	`_
("inotify„esourcesƒxhausted"));

1389 ià(
”ºo
 !ğ
f
[
i
].
”ºum
)

1390 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ w©ch %s"), 
	`quÙe
 (
f
[
i
].
Çme
));

1394 ià(
	`hash_š£¹
 (
wd_to_Çme
, &(
f
[
i
])è=ğ
NULL
)

1395 
	`x®loc_d›
 ();

1397 
found_w©chabË_fe
 = 
Œue
;

1405 ià(
no_šÙify_»sourûs
 || 
found_unw©chabË_dœ
)

1408 
”ºo
 = 0;

1409  
Œue
;

1411 ià(
fŞlow_mode
 =ğ
FŞlow_desütÜ
 && !
found_w©chabË_fe
)

1412  
çl£
;

1414 
´ev_wd
 = 
f
[
n_fes
 - 1].
wd
;

1418 
i
 = 0; i < 
n_fes
; i++)

1420 ià(!
f
[
i
].
ignÜe
)

1421 
	`check_f¥ec
 (&
f
[
i
], f[i].
wd
, &
´ev_wd
);

1424 
evËn
 +ğ (
šÙify_ev’t
) + 1;

1425 
evbuf
 = 
	`xm®loc
 (
evËn
);

1433 
Fe_¥ec
 *
f¥ec
;

1434 
šÙify_ev’t
 *
ev
;

1438 ià(
fŞlow_mode
 =ğ
FŞlow_Çme


1439 && ! 
»İ’_šacûssibË_fes


1440 && 
	`hash_g‘_n_’Œ›s
 (
wd_to_Çme
) == 0)

1442 
	`”rÜ
 (0, 0, 
	`_
("no files„emaining"));

1443  
çl£
;

1448 ià(
pid
)

1450 ià(
wr™”_is_d—d
)

1451 
	`ex™
 (
EXIT_SUCCESS
);

1453 
wr™”_is_d—d
 = (
	`kl
 (
pid
, 0è!ğ0 && 
”ºo
 !ğ
EPERM
);

1455 
timev®
 
d–ay
;

1456 ià(
wr™”_is_d—d
)

1457 
d–ay
.
tv_£c
 = d–ay.
tv_u£c
 = 0;

1460 
d–ay
.
tv_£c
 = (
time_t
è
¦“p_š‹rv®
;

1461 
d–ay
.
tv_u£c
 = 1000000 * (
¦“p_š‹rv®
 - d–ay.
tv_£c
);

1464 
fd_£t
 
rfd
;

1465 
	`FD_ZERO
 (&
rfd
);

1466 
	`FD_SET
 (
wd
, &
rfd
);

1468 
fe_chªge
 = 
	`£Ëù
 (
wd
 + 1, &
rfd
, 
NULL
, NULL, &
d–ay
);

1470 ià(
fe_chªge
 == 0)

1472 ià(
fe_chªge
 == -1)

1473 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("error monitoring inotifyƒvent"));

1476 ià(
Ën
 <ğ
evbuf_off
)

1478 
Ën
 = 
	`§ã_»ad
 (
wd
, 
evbuf
, 
evËn
);

1479 
evbuf_off
 = 0;

1483 ià((
Ën
 =ğ0 || (ËÀ=ğ
SAFE_READ_ERROR
 && 
”ºo
 =ğ
EINVAL
))

1484 && 
max_»®loc
--)

1486 
Ën
 = 0;

1487 
evËn
 *= 2;

1488 
evbuf
 = 
	`x»®loc
 (evbuf, 
evËn
);

1492 ià(
Ën
 =ğ0 ||†’ =ğ
SAFE_READ_ERROR
)

1493 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("error„eading inotifyƒvent"));

1496 
ev
 = (
šÙify_ev’t
 *è(
evbuf
 + 
evbuf_off
);

1497 
evbuf_off
 +ğ (*
ev
è+ƒv->
Ën
;

1499 ià(
ev
->
Ën
)

1501 
size_t
 
j
;

1502 
j
 = 0; j < 
n_fes
; j++)

1506 ià(
f
[
j
].
·»Á_wd
 =ğ
ev
->
wd


1507 && 
	`STREQ
 (
ev
->
Çme
, 
f
[
j
].Çm+ f[j].
ba£Çme_¡¬t
))

1512 ià(
j
 =ğ
n_fes
)

1516 
Ãw_wd
 = 
	`šÙify_add_w©ch
 (
wd
, 
f
[
j
].
Çme
, 
šÙify_wd_mask
);

1517 ià(
Ãw_wd
 < 0)

1519 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ w©ch %s"), 
	`quÙe
 (
f
[
j
].
Çme
));

1523 
f¥ec
 = &(
f
[
j
]);

1526 
	`hash_d–‘e
 (
wd_to_Çme
, 
f¥ec
);

1527 
f¥ec
->
wd
 = 
Ãw_wd
;

1532 
Fe_¥ec
 *
´ev
 = 
	`hash_d–‘e
 (
wd_to_Çme
, 
f¥ec
);

1533 ià(
´ev
 &&…»v !ğ
f¥ec
)

1535 ià(
fŞlow_mode
 =ğ
FŞlow_Çme
)

1536 
	`»check
 (
´ev
, 
çl£
);

1537 
´ev
->
wd
 = -1;

1538 
	`şo£_fd
 (
´ev
->
fd
, 
	`´‘ty_Çme
 (prev));

1541 ià(
	`hash_š£¹
 (
wd_to_Çme
, 
f¥ec
è=ğ
NULL
)

1542 
	`x®loc_d›
 ();

1544 ià(
fŞlow_mode
 =ğ
FŞlow_Çme
)

1545 
	`»check
 (
f¥ec
, 
çl£
);

1549 
Fe_¥ec
 
key
;

1550 
key
.
wd
 = 
ev
->wd;

1551 
f¥ec
 = 
	`hash_lookup
 (
wd_to_Çme
, &
key
);

1554 ià(! 
f¥ec
)

1557 ià(
ev
->
mask
 & (
IN_ATTRIB
 | 
IN_DELETE_SELF
 | 
IN_MOVE_SELF
))

1564 ià((
ev
->
mask
 & 
IN_DELETE_SELF
)

1565 || ((
ev
->
mask
 & 
IN_MOVE_SELF
)

1566 && 
fŞlow_mode
 =ğ
FŞlow_desütÜ
))

1568 
	`šÙify_rm_w©ch
 (
wd
, 
f¥ec
->wd);

1569 
	`hash_d–‘e
 (
wd_to_Çme
, 
f¥ec
);

1571 ià(
fŞlow_mode
 =ğ
FŞlow_Çme
)

1572 
	`»check
 (
f¥ec
, 
çl£
);

1576 
	`check_f¥ec
 (
f¥ec
, 
ev
->
wd
, &
´ev_wd
);

1578 
	}
}

1584 
boŞ


1585 
	$_by‹s
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_by‹s
,

1586 
uštmax_t
 *
»ad_pos
)

1588 
¡©
 
¡©s
;

1590 ià(
	`f¡©
 (
fd
, &
¡©s
))

1592 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
´‘ty_f’ame
));

1593  
çl£
;

1596 ià(
äom_¡¬t
)

1598 iàĞ! 
´esume_šput_pe


1599 && 
	`S_ISREG
 (
¡©s
.
¡_mode
è&& 
n_by‹s
 <ğ
OFF_T_MAX
)

1601 
	`xl£ek
 (
fd
, 
n_by‹s
, 
SEEK_CUR
, 
´‘ty_f’ame
);

1602 *
»ad_pos
 +ğ
n_by‹s
;

1606 
t
 = 
	`¡¬t_by‹s
 (
´‘ty_f’ame
, 
fd
, 
n_by‹s
, 
»ad_pos
);

1607 ià(
t
)

1608  
t
 < 0;

1610 *
»ad_pos
 +ğ
	`dump_»mašd”
 (
´‘ty_f’ame
, 
fd
, 
COPY_TO_EOF
);

1614 iàĞ! 
´esume_šput_pe


1615 && 
	`S_ISREG
 (
¡©s
.
¡_mode
è&& 
n_by‹s
 <ğ
OFF_T_MAX
)

1617 
off_t
 
cu¼’t_pos
 = 
	`xl£ek
 (
fd
, 0, 
SEEK_CUR
, 
´‘ty_f’ame
);

1618 
off_t
 
’d_pos
 = 
	`xl£ek
 (
fd
, 0, 
SEEK_END
, 
´‘ty_f’ame
);

1619 
off_t
 
diff
 = 
’d_pos
 - 
cu¼’t_pos
;

1622 
off_t
 
by‹s_»maššg
 = 
diff
 < 0 ? 0 : diff;

1623 
off_t
 
nb
 = 
n_by‹s
;

1625 ià(
by‹s_»maššg
 <ğ
nb
)

1631 *
»ad_pos
 = 
	`xl£ek
 (
fd
, 
cu¼’t_pos
, 
SEEK_SET
, 
´‘ty_f’ame
);

1637 *
»ad_pos
 = 
	`xl£ek
 (
fd
, -
nb
, 
SEEK_END
, 
´‘ty_f’ame
);

1639 *
»ad_pos
 +ğ
	`dump_»mašd”
 (
´‘ty_f’ame
, 
fd
, 
n_by‹s
);

1642  
	`pe_by‹s
 (
´‘ty_f’ame
, 
fd
, 
n_by‹s
, 
»ad_pos
);

1644  
Œue
;

1645 
	}
}

1650 
boŞ


1651 
	$_lšes
 (cÚ¡ *
´‘ty_f’ame
, 
fd
, 
uštmax_t
 
n_lšes
,

1652 
uštmax_t
 *
»ad_pos
)

1654 
¡©
 
¡©s
;

1656 ià(
	`f¡©
 (
fd
, &
¡©s
))

1658 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
´‘ty_f’ame
));

1659  
çl£
;

1662 ià(
äom_¡¬t
)

1664 
t
 = 
	`¡¬t_lšes
 (
´‘ty_f’ame
, 
fd
, 
n_lšes
, 
»ad_pos
);

1665 ià(
t
)

1666  
t
 < 0;

1667 *
»ad_pos
 +ğ
	`dump_»mašd”
 (
´‘ty_f’ame
, 
fd
, 
COPY_TO_EOF
);

1671 
off_t
 
¡¬t_pos
 = -1;

1672 
off_t
 
’d_pos
;

1676 iàĞ! 
´esume_šput_pe


1677 && 
	`S_ISREG
 (
¡©s
.
¡_mode
)

1678 && (
¡¬t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) != -1

1679 && 
¡¬t_pos
 < (
’d_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)))

1681 *
»ad_pos
 = 
’d_pos
;

1682 ià(
’d_pos
 != 0

1683 && ! 
	`fe_lšes
 (
´‘ty_f’ame
, 
fd
, 
n_lšes
,

1684 
¡¬t_pos
, 
’d_pos
, 
»ad_pos
))

1685  
çl£
;

1693 ià(
¡¬t_pos
 != -1)

1694 
	`xl£ek
 (
fd
, 
¡¬t_pos
, 
SEEK_SET
, 
´‘ty_f’ame
);

1696  
	`pe_lšes
 (
´‘ty_f’ame
, 
fd
, 
n_lšes
, 
»ad_pos
);

1699  
Œue
;

1700 
	}
}

1712 
boŞ


1713 
	$
 (cÚ¡ *
f’ame
, 
fd
, 
uštmax_t
 
n_un™s
,

1714 
uštmax_t
 *
»ad_pos
)

1716 *
»ad_pos
 = 0;

1717 ià(
couÁ_lšes
)

1718  
	`_lšes
 (
f’ame
, 
fd
, 
n_un™s
, 
»ad_pos
);

1720  
	`_by‹s
 (
f’ame
, 
fd
, 
n_un™s
, 
»ad_pos
);

1721 
	}
}

1726 
boŞ


1727 
	$_fe
 (
Fe_¥ec
 *
f
, 
uštmax_t
 
n_un™s
)

1729 
fd
;

1730 
boŞ
 
ok
;

1732 
boŞ
 
is_¡dš
 = (
	`STREQ
 (
f
->
Çme
, "-"));

1734 ià(
is_¡dš
)

1736 
have_»ad_¡dš
 = 
Œue
;

1737 
fd
 = 
STDIN_FILENO
;

1738 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

1739 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

1742 
fd
 = 
	`İ’
 (
f
->
Çme
, 
O_RDONLY
 | 
O_BINARY
);

1744 
f
->
abË
 = !(
»İ’_šacûssibË_fes
 && 
fd
 == -1);

1746 ià(
fd
 == -1)

1748 ià(
fÜev”
)

1750 
f
->
fd
 = -1;

1751 
f
->
”ºum
 = 
”ºo
;

1752 
f
->
ignÜe
 = 
çl£
;

1753 
f
->
šo
 = 0;

1754 
f
->
dev
 = 0;

1756 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot open %s for„eading"),

1757 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1758 
ok
 = 
çl£
;

1762 
uštmax_t
 
»ad_pos
;

1764 ià(
´št_h—d”s
)

1765 
	`wr™e_h—d”
 (
	`´‘ty_Çme
 (
f
));

1766 
ok
 = 
	`
 (
	`´‘ty_Çme
 (
f
), 
fd
, 
n_un™s
, &
»ad_pos
);

1767 ià(
fÜev”
)

1769 
¡©
 
¡©s
;

1771 #ià
TEST_RACE_BETWEEN_FINAL_READ_AND_INITIAL_FSTAT


1775 
	`xÇno¦“p
 (1);

1777 
f
->
”ºum
 = 
ok
 - 1;

1778 ià(
	`f¡©
 (
fd
, &
¡©s
) < 0)

1780 
ok
 = 
çl£
;

1781 
f
->
”ºum
 = 
”ºo
;

1782 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1784 ià(!
	`IS_TAILABLE_FILE_TYPE
 (
¡©s
.
¡_mode
))

1786 
	`”rÜ
 (0, 0, 
	`_
("%s: cannot followƒnd ofhisype of file;\
 up onhis‚ame"),

1788 
	`´‘ty_Çme
 (
f
));

1789 
ok
 = 
çl£
;

1790 
f
->
”ºum
 = -1;

1791 
f
->
ignÜe
 = 
Œue
;

1794 ià(!
ok
)

1796 
	`şo£_fd
 (
fd
, 
	`´‘ty_Çme
 (
f
));

1797 
f
->
fd
 = -1;

1804 
	`»cÜd_İ’_fd
 (
f
, 
fd
, 
»ad_pos
, &
¡©s
, (
is_¡dš
 ? -1 : 1));

1805 
f
->
»mÙe
 = 
	`äemÙe
 (
fd
, 
	`´‘ty_Çme
 (f));

1810 ià(!
is_¡dš
 && 
	`şo£
 (
fd
))

1812 
	`”rÜ
 (0, 
”ºo
, 
	`_
("”rÜ„—dšg %s"), 
	`quÙe
 (
	`´‘ty_Çme
 (
f
)));

1813 
ok
 = 
çl£
;

1818  
ok
;

1819 
	}
}

1830 
boŞ


1831 
	$·r£_obsŞ‘e_İtiÚ
 (
¬gc
, * cÚ¡ *
¬gv
, 
uštmax_t
 *
n_un™s
)

1833 cÚ¡ *
p
;

1834 cÚ¡ *
n_¡ršg
;

1835 cÚ¡ *
n_¡ršg_’d
;

1836 
boŞ
 
obsŞ‘e_u§ge
;

1837 
deçuÉ_couÁ
 = 
DEFAULT_N_LINES
;

1838 
boŞ
 
t_äom_¡¬t
;

1839 
boŞ
 
t_couÁ_lšes
 = 
Œue
;

1840 
boŞ
 
t_fÜev”
 = 
çl£
;

1844 ià(! (
¬gc
 == 2

1845 || (
¬gc
 =ğ3 && ! (
¬gv
[2][0] == '-' &&‡rgv[2][1]))

1846 || (3 <ğ
¬gc
 &&‡rgø<ğ4 && 
	`STREQ
 (
¬gv
[2], "--"))))

1847  
çl£
;

1849 
obsŞ‘e_u§ge
 = (
	`posix2_v”siÚ
 () < 200112);

1850 
p
 = 
¬gv
[1];

1852 *
p
++)

1855  
çl£
;

1859 ià(!
obsŞ‘e_u§ge
)

1860  
çl£
;

1862 
t_äom_¡¬t
 = 
Œue
;

1870 ià(!
obsŞ‘e_u§ge
 && !
p
[p[0] == 'c'])

1871  
çl£
;

1873 
t_äom_¡¬t
 = 
çl£
;

1877 
n_¡ršg
 = 
p
;

1878 
	`ISDIGIT
 (*
p
))

1879 
p
++;

1880 
n_¡ršg_’d
 = 
p
;

1882 *
p
)

1884 'b': 
deçuÉ_couÁ
 *= 512;

1885 'c': 
t_couÁ_lšes
 = 
çl£
;

1886 'l': 
p
++; ;

1889 ià(*
p
 == 'f')

1891 
t_fÜev”
 = 
Œue
;

1892 ++
p
;

1895 ià(*
p
)

1896  
çl£
;

1898 ià(
n_¡ršg
 =ğ
n_¡ršg_’d
)

1899 *
n_un™s
 = 
deçuÉ_couÁ
;

1900 ià((
	`x¡¹oumax
 (
n_¡ršg
, 
NULL
, 10, 
n_un™s
, "b")

1901 & ~
LONGINT_INVALID_SUFFIX_CHAR
)

1902 !ğ
LONGINT_OK
)

1903 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("numb” iÀ% i toØÏrge"), 
	`quÙe
 (
¬gv
[1]));

1906 
äom_¡¬t
 = 
t_äom_¡¬t
;

1907 
couÁ_lšes
 = 
t_couÁ_lšes
;

1908 
fÜev”
 = 
t_fÜev”
;

1910  
Œue
;

1911 
	}
}

1914 
	$·r£_İtiÚs
 (
¬gc
, **
¬gv
,

1915 
uštmax_t
 *
n_un™s
, 
h—d”_mode
 *header_mode,

1916 *
¦“p_š‹rv®
)

1918 
c
;

1920 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "c:n:fFqs:v0123456789",

1921 
lÚg_İtiÚs
, 
NULL
))

1924 
c
)

1927 
fÜev”
 = 
Œue
;

1928 
fŞlow_mode
 = 
FŞlow_Çme
;

1929 
»İ’_šacûssibË_fes
 = 
Œue
;

1934 
couÁ_lšes
 = (
c
 == 'n');

1935 ià(*
İrg
 == '+')

1936 
äom_¡¬t
 = 
Œue
;

1937 ià(*
İrg
 == '-')

1938 ++
İrg
;

1941 
¡¹Ş_”rÜ
 
s_”r
;

1942 
s_”r
 = 
	`x¡¹oumax
 (
İrg
, 
NULL
, 10, 
n_un™s
, "bkKmMGTPEZY0");

1943 ià(
s_”r
 !ğ
LONGINT_OK
)

1945 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s: %s", 
İrg
,

1946 (
c
 == 'n'

1947 ? 
	`_
("invalid‚umber of†ines")

1948 : 
	`_
("invalid‚umber of bytes")));

1954 
LONG_FOLLOW_OPTION
:

1955 
fÜev”
 = 
Œue
;

1956 ià(
İrg
 =ğ
NULL
)

1957 
fŞlow_mode
 = 
DEFAULT_FOLLOW_MODE
;

1959 
fŞlow_mode
 = 
	`XARGMATCH
 ("--fŞlow", 
İrg
,

1960 
fŞlow_mode_¡ršg
, 
fŞlow_mode_m­
);

1963 
RETRY_OPTION
:

1964 
»İ’_šacûssibË_fes
 = 
Œue
;

1967 
MAX_UNCHANGED_STATS_OPTION
:

1969 ià(
	`x¡¹oumax
 (
İrg
, 
NULL
, 10,

1970 &
max_n_unchªged_¡©s_b‘w“n_İ’s
,

1972 !ğ
LONGINT_OK
)

1974 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1975 
	`_
("%s: invalid maximum‚umber of unchanged stats between opens"),

1976 
İrg
);

1980 
DISABLE_INOTIFY_OPTION
:

1981 
di§bË_šÙify
 = 
Œue
;

1984 
PID_OPTION
:

1986 
¡¹Ş_”rÜ
 
s_”r
;

1987 
tmp_ulÚg
;

1988 
s_”r
 = 
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
tmp_ulÚg
, "");

1989 ià(
s_”r
 !ğ
LONGINT_OK
 || 
tmp_ulÚg
 > 
PID_T_MAX
)

1991 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: inv®id PID"), 
İrg
);

1993 
pid
 = 
tmp_ulÚg
;

1997 
PRESUME_INPUT_PIPE_OPTION
:

1998 
´esume_šput_pe
 = 
Œue
;

2002 *
h—d”_mode
 = 
Ãv”
;

2007 
s
;

2008 ià(! (
	`x¡¹od
 (
İrg
, 
NULL
, &
s
, 
c_¡¹od
) && 0 <= s))

2009 
	`”rÜ
 (
EXIT_FAILURE
, 0,

2010 
	`_
("%s: inv®id‚umb” oà£cÚds"), 
İrg
);

2011 *
¦“p_š‹rv®
 = 
s
;

2016 *
h—d”_mode
 = 
®ways
;

2019 
ÿ£_GETOPT_HELP_CHAR
;

2021 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

2025 
	`”rÜ
 (
EXIT_FAILURE
, 0,

2026 
	`_
("İtiÚ u£d iÀšv®id cÚ‹xˆ-- %c"), 
c
);

2029 
	`u§ge
 (
EXIT_FAILURE
);

2033 ià(
»İ’_šacûssibË_fes
 && 
fŞlow_mode
 !ğ
FŞlow_Çme
)

2034 
	`”rÜ
 (0, 0, 
	`_
("warning: --retry is useful mainly when following by‚ame"));

2036 ià(
pid
 && !
fÜev”
)

2037 
	`”rÜ
 (0, 0,

2038 
	`_
("warning: PID ignored; --pid=PID is useful only when following"));

2039 ià(
pid
 && 
	`kl
 (pid, 0è!ğ0 && 
”ºo
 =ğ
ENOSYS
)

2041 
	`”rÜ
 (0, 0, 
	`_
("warning: --pid=PID is‚ot supported onhis system"));

2042 
pid
 = 0;

2044 
	}
}

2048 
size_t


2049 
	$ignÜe_fifo_ªd_pe
 (
Fe_¥ec
 *
f
, 
size_t
 
n_fes
)

2055 
size_t
 
n_vŸbË
 = 0;

2057 
size_t
 
i
;

2058 
i
 = 0; i < 
n_fes
; i++)

2060 
boŞ
 
is_a_fifo_Ü_pe
 =

2061 (
	`STREQ
 (
f
[
i
].
Çme
, "-")

2062 && !
f
[
i
].
ignÜe


2063 && 0 <ğ
f
[
i
].
fd


2064 && (
	`S_ISFIFO
 (
f
[
i
].
mode
)

2065 || (
HAVE_FIFO_PIPES
 !ğ1 && 
	`i§pe
 (
f
[
i
].
fd
))));

2066 ià(
is_a_fifo_Ü_pe
)

2067 
f
[
i
].
ignÜe
 = 
Œue
;

2069 ++
n_vŸbË
;

2072  
n_vŸbË
;

2073 
	}
}

2076 
	$maš
 (
¬gc
, **
¬gv
)

2078 
h—d”_mode
 h—d”_modğ
muÉË_fes
;

2079 
boŞ
 
ok
 = 
Œue
;

2083 
uštmax_t
 
n_un™s
 = 
DEFAULT_N_LINES
;

2084 
size_t
 
n_fes
;

2085 **
fe
;

2086 
Fe_¥ec
 *
F
;

2087 
size_t
 
i
;

2088 
boŞ
 
obsŞ‘e_İtiÚ
;

2093 
¦“p_š‹rv®
 = 1.0;

2095 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

2096 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

2097 
	`£oÿË
 (
LC_ALL
, "");

2098 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

2099 
	`‹xtdomaš
 (
PACKAGE
);

2101 
	`©ex™
 (
şo£_¡dout
);

2103 
have_»ad_¡dš
 = 
çl£
;

2105 
couÁ_lšes
 = 
Œue
;

2106 
fÜev”
 = 
äom_¡¬t
 = 
´št_h—d”s
 = 
çl£
;

2107 
obsŞ‘e_İtiÚ
 = 
	`·r£_obsŞ‘e_İtiÚ
 (
¬gc
, 
¬gv
, &
n_un™s
);

2108 
¬gc
 -ğ
obsŞ‘e_İtiÚ
;

2109 
¬gv
 +ğ
obsŞ‘e_İtiÚ
;

2110 
	`·r£_İtiÚs
 (
¬gc
, 
¬gv
, &
n_un™s
, &
h—d”_mode
, &
¦“p_š‹rv®
);

2115 ià(
äom_¡¬t
)

2117 ià(
n_un™s
)

2118 --
n_un™s
;

2121 ià(
İtšd
 < 
¬gc
)

2123 
n_fes
 = 
¬gc
 - 
İtšd
;

2124 
fe
 = 
¬gv
 + 
İtšd
;

2128 *
dummy_¡dš
 = (*) "-";

2129 
n_fes
 = 1;

2130 
fe
 = &
dummy_¡dš
;

2134 
boŞ
 
found_hyph’
 = 
çl£
;

2136 
i
 = 0; i < 
n_fes
; i++)

2137 ià(
	`STREQ
 (
fe
[
i
], "-"))

2138 
found_hyph’
 = 
Œue
;

2141 ià(
found_hyph’
 && 
fŞlow_mode
 =ğ
FŞlow_Çme
)

2142 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("ÿÂÙ fŞlow % by‚ame"), 
	`quÙe
 ("-"));

2147 ià(
fÜev”
 && 
found_hyph’
 && 
	`i§‰y
 (
STDIN_FILENO
))

2148 
	`”rÜ
 (0, 0, 
	`_
("warning: following standard input"

2152 
F
 = 
	`xnm®loc
 (
n_fes
,  *F);

2153 
i
 = 0; i < 
n_fes
; i++)

2154 
F
[
i
].
Çme
 = 
fe
[i];

2156 ià(
h—d”_mode
 =ğ
®ways


2157 || (
h—d”_mode
 =ğ
muÉË_fes
 && 
n_fes
 > 1))

2158 
´št_h—d”s
 = 
Œue
;

2160 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

2161 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

2163 
i
 = 0; i < 
n_fes
; i++)

2164 
ok
 &ğ
	`_fe
 (&
F
[
i
], 
n_un™s
);

2166 ià(
fÜev”
 && 
	`ignÜe_fifo_ªd_pe
 (
F
, 
n_fes
))

2168 #ià
HAVE_INOTIFY


2191 ià(!
di§bË_šÙify
 && (
	`abË_¡dš
 (
F
, 
n_fes
)

2192 || 
	`ªy_»mÙe_fe
 (
F
, 
n_fes
)))

2193 
di§bË_šÙify
 = 
Œue
;

2195 ià(!
di§bË_šÙify
)

2197 
wd
 = 
	`šÙify_š™
 ();

2198 ià(0 <ğ
wd
)

2203 ià(
	`fæush
 (
¡dout
) != 0)

2204 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

2206 ià(!
	`_fÜev”_šÙify
 (
wd
, 
F
, 
n_fes
, 
¦“p_š‹rv®
))

2207 
	`ex™
 (
EXIT_FAILURE
);

2209 
	`”rÜ
 (0, 
”ºo
, 
	`_
("inotify cannot be used,„evertingo…olling"));

2212 
di§bË_šÙify
 = 
Œue
;

2213 
	`_fÜev”
 (
F
, 
n_fes
, 
¦“p_š‹rv®
);

2216 ià(
have_»ad_¡dš
 && 
	`şo£
 (
STDIN_FILENO
) < 0)

2217 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

2218 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

2219 
	}
}

	@tee.c

19 
	~<cÚfig.h
>

20 
	~<sys/ty³s.h
>

21 
	~<sigÇl.h
>

22 
	~<g‘İt.h
>

24 
	~"sy¡em.h
"

25 
	~"”rÜ.h
"

26 
	~"çdvi£.h
"

27 
	~"¡dio--.h
"

28 
	~"xäeİ’.h
"

31 
	#PROGRAM_NAME
 "‹e"

	)

33 
	#AUTHORS
 \

34 
	`´İ”_Çme
 ("Mike Parker"), \

35 
	`´İ”_Çme
 ("Richard M. Stallman"), \

36 
	`´İ”_Çme
 ("David MacK’z›")

	)

38 
boŞ
 
‹e_fes
 (
nfes
, cÚ¡ **
fes
);

41 
boŞ
 
	g­³nd
;

44 
boŞ
 
	gignÜe_š‹¼u±s
;

46 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

48 {"­³nd", 
no_¬gum’t
, 
NULL
, 'a'},

49 {"ignÜe-š‹¼u±s", 
no_¬gum’t
, 
NULL
, 'i'},

50 {
GETOPT_HELP_OPTION_DECL
},

51 {
GETOPT_VERSION_OPTION_DECL
},

52 {
NULL
, 0, NULL, 0}

56 
	$u§ge
 (
¡©us
)

58 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

59 
	`em™_Œy_h–p
 ();

62 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]...\n"), 
´og¿m_Çme
);

63 
	`åuts
 (
	`_
("\
 snd¬d iÅuˆtØ—ch FILE,‡nd‡lsØtØ¡ªd¬d ouut.\n\
\n\
-a, --­³nd‡µ’dØthgiv’ FILEs, dØnÙ ov”wr™e\n\
-i, --ignÜe-š‹¼u±  ignÜš‹¼u± sigÇls\n\
"), 
¡dout
);

69 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

70 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

71 
	`åuts
 (
	`_
("\
\n\
‡ FILE i -, cİy‡gašØ¡ªd¬d ouut.\n\
"), 
¡dout
);

75 
	`em™_ªcÏry_šfo
 ();

77 
	`ex™
 (
¡©us
);

78 
	}
}

81 
	$maš
 (
¬gc
, **
¬gv
)

83 
boŞ
 
ok
;

84 
İtc
;

86 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

87 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

88 
	`£oÿË
 (
LC_ALL
, "");

89 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

90 
	`‹xtdomaš
 (
PACKAGE
);

92 
	`©ex™
 (
şo£_¡dout
);

94 
­³nd
 = 
çl£
;

95 
ignÜe_š‹¼u±s
 = 
çl£
;

97 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "ai", 
lÚg_İtiÚs
, 
NULL
)) != -1)

99 
İtc
)

102 
­³nd
 = 
Œue
;

106 
ignÜe_š‹¼u±s
 = 
Œue
;

109 
ÿ£_GETOPT_HELP_CHAR
;

111 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

114 
	`u§ge
 (
EXIT_FAILURE
);

118 ià(
ignÜe_š‹¼u±s
)

119 
	`sigÇl
 (
SIGINT
, 
SIG_IGN
);

124 
ok
 = 
	`‹e_fes
 (
¬gc
 - 
İtšd
, (cÚ¡ **è&
¬gv
[optind]);

125 ià(
	`şo£
 (
STDIN_FILENO
) != 0)

126 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard input"));

128 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

129 
	}
}

135 
boŞ


136 
	$‹e_fes
 (
nfes
, cÚ¡ **
fes
)

138 
FILE
 **
desütÜs
;

139 
bufãr
[
BUFSIZ
];

140 
ssize_t
 
by‹s_»ad
;

141 
i
;

142 
boŞ
 
ok
 = 
Œue
;

143 cÚ¡ *
mode_¡ršg
 =

144 (
O_BINARY


145 ? (
­³nd
 ? "ab" : "wb")

146 : (
­³nd
 ? "a" : "w"));

148 
desütÜs
 = 
	`xnm®loc
 (
nfes
 + 1,  *descriptors);

152 
i
 = 
nfes
; i >= 1; i--)

153 
fes
[
i
] = files[i - 1];

155 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

156 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

157 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

158 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

160 
	`çdvi£
 (
¡dš
, 
FADVISE_SEQUENTIAL
);

164 
desütÜs
[0] = 
¡dout
;

165 
fes
[0] = 
	`_
("standard output");

166 
	`£tvbuf
 (
¡dout
, 
NULL
, 
_IONBF
, 0);

168 
i
 = 1; i <ğ
nfes
; i++)

170 
desütÜs
[
i
] = (
	`STREQ
 (
fes
[i], "-")

171 ? 
¡dout


172 : 
	`fİ’
 (
fes
[
i
], 
mode_¡ršg
));

173 ià(
desütÜs
[
i
] =ğ
NULL
)

175 
	`”rÜ
 (0, 
”ºo
, "%s", 
fes
[
i
]);

176 
ok
 = 
çl£
;

179 
	`£tvbuf
 (
desütÜs
[
i
], 
NULL
, 
_IONBF
, 0);

184 
by‹s_»ad
 = 
	`»ad
 (0, 
bufãr
,  buffer);

185 ià(
by‹s_»ad
 < 0 && 
”ºo
 =ğ
EINTR
)

187 ià(
by‹s_»ad
 <= 0)

192 
i
 = 0; i <ğ
nfes
; i++)

193 ià(
desütÜs
[
i
]

194 && 
	`fwr™e
 (
bufãr
, 
by‹s_»ad
, 1, 
desütÜs
[
i
]) != 1)

196 
	`”rÜ
 (0, 
”ºo
, "%s", 
fes
[
i
]);

197 
desütÜs
[
i
] = 
NULL
;

198 
ok
 = 
çl£
;

202 ià(
by‹s_»ad
 == -1)

204 
	`”rÜ
 (0, 
”ºo
, 
	`_
("readƒrror"));

205 
ok
 = 
çl£
;

209 
i
 = 1; i <ğ
nfes
; i++)

210 ià(!
	`STREQ
 (
fes
[
i
], "-")

211 && 
desütÜs
[
i
] && 
	`fşo£
 (descriptors[i]) != 0)

213 
	`”rÜ
 (0, 
”ºo
, "%s", 
fes
[
i
]);

214 
ok
 = 
çl£
;

217 
	`ä“
 (
desütÜs
);

219  
ok
;

220 
	}
}

	@test.c

25 #ià(
__GNUC__
 =ğ4 && 6 <ğ
__GNUC_MINOR__
) || 4 < __GNUC__

26 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=pure"

29 
	~<cÚfig.h
>

30 
	~<¡dio.h
>

31 
	~<sys/ty³s.h
>

33 
	#TEST_STANDALONE
 1

	)

35 #iâdeà
LBRACKET


36 
	#LBRACKET
 0

	)

40 #ià
LBRACKET


41 
	#PROGRAM_NAME
 "["

	)

43 
	#PROGRAM_NAME
 "‹¡"

	)

46 
	~"sy¡em.h
"

47 
	~"quÙe.h
"

48 
	~"¡©-time.h
"

49 
	~"¡ºumcmp.h
"

51 #ià
HAVE_SYS_PARAM_H


52 
	~<sys/·¿m.h
>

56 ’um { 
	mTEST_TRUE
, 
	mTEST_FALSE
, 
	mTEST_FAILURE
 };

58 #ià
defšed
 
TEST_STANDALONE


59 
	#‹¡_ex™
(
v®
è
	`ex™
 (v®)

	)

61 
jmp_buf
 
	g‹¡_ex™_buf
;

62 
	g‹¡_”rÜ_»tuº
 = 0;

63 
	#‹¡_ex™
(
v®
è
‹¡_”rÜ_»tuº
 = v®, 
	`lÚgjmp
 (
‹¡_ex™_buf
, 1)

	)

66 
	gpos
;

67 
	g¬gc
;

68 **
	g¬gv
;

70 
boŞ
 
‹¡_unİ
 (cÚ¡ *
s
);

71 
boŞ
 
uÇry_İ”©Ü
 ();

72 
boŞ
 
bš¬y_İ”©Ü
 (bool);

73 
boŞ
 
two_¬gum’ts
 ();

74 
boŞ
 
th»e_¬gum’ts
 ();

75 
boŞ
 
posix‹¡
 ();

77 
boŞ
 
ex´
 ();

78 
boŞ
 
‹rm
 ();

79 
boŞ
 
ªd
 ();

80 
boŞ
 
Ü
 ();

82 
	$‹¡_syÁax_”rÜ
 (cÚ¡ *
fÜm©
, cÚ¡ *
¬g
)

83 
ATTRIBUTE_NORETURN
;

84 
	$beyÚd
 (è
ATTRIBUTE_NORETURN
;

87 
	$‹¡_syÁax_”rÜ
 (cÚ¡ *
fÜm©
, cÚ¡ *
¬g
)

89 
	`årštf
 (
¡d”r
, "%s: ", 
¬gv
[0]);

90 
	`årštf
 (
¡d”r
, 
fÜm©
, 
¬g
);

91 
	`åutc
 ('\n', 
¡d”r
);

92 
	`fæush
 (
¡d”r
);

93 
	`‹¡_ex™
 (
TEST_FAILURE
);

94 
	}
}

101 
	$advªû
 (
boŞ
 
f
)

103 ++
pos
;

105 ià(
f
 && 
pos
 >ğ
¬gc
)

106 
	`beyÚd
 ();

107 
	}
}

110 
	$uÇry_advªû
 ()

112 
	`advªû
 (
Œue
);

113 ++
pos
;

114 
	}
}

121 
	$beyÚd
 ()

123 
	`‹¡_syÁax_”rÜ
 (
	`_
("missšg‡rgum’ˆaá” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

124 
	}
}

130 
	$fšd_št
 (cÚ¡ *
¡ršg
)

132 cÚ¡ *
p
;

133 cÚ¡ *
numb”_¡¬t
;

135 
p
 = 
¡ršg
; 
	`isbÏnk
 (
	`to_uch¬
 (*p));…++)

138 ià(*
p
 == '+')

140 
p
++;

141 
numb”_¡¬t
 = 
p
;

145 
numb”_¡¬t
 = 
p
;

146 
p
 += (*p == '-');

149 ià(
	`ISDIGIT
 (*
p
++))

151 
	`ISDIGIT
 (*
p
))

152 
p
++;

153 
	`isbÏnk
 (
	`to_uch¬
 (*
p
)))

154 
p
++;

155 ià(!*
p
)

156  
numb”_¡¬t
;

159 
	`‹¡_syÁax_”rÜ
 (
	`_
("šv®id iÁeg” %s"), 
	`quÙe
 (
¡ršg
));

160 
	}
}

164 
boŞ


165 
	$g‘_mtime
 (cÚ¡ *
f’ame
, 
time¥ec
 *
mtime
)

167 
¡©
 
fšfo
;

168 
boŞ
 
ok
 = (
	`¡©
 (
f’ame
, &
fšfo
) == 0);

169 #ifdeà
lšt


170 
time¥ec
 cÚ¡ 
z”o
;

171 *
mtime
 = 
z”o
;

173 ià(
ok
)

174 *
mtime
 = 
	`g‘_¡©_mtime
 (&
fšfo
);

175  
ok
;

176 
	}
}

179 
boŞ


180 
	$bšİ
 (cÚ¡ *
s
)

182  ((
	`STREQ
 (
s
, "=")) || (STREQ (s, "!=")) || (STREQ (s, "==")) ||

183 (
	`STREQ
 (
s
, "-nt")) ||

184 (
	`STREQ
 (
s
, "-ot")) || (STREQ (s, "-ef")) || (STREQ (s, "-eq")) ||

185 (
	`STREQ
 (
s
, "-ne")) || (STREQ (s, "-lt")) || (STREQ (s, "-le")) ||

186 (
	`STREQ
 (
s
, "-gt")) || (STREQ (s, "-ge")));

187 
	}
}

207 
boŞ


208 
	$‹rm
 ()

210 
boŞ
 
v®ue
;

211 
boŞ
 
Ãg©ed
 = 
çl£
;

214 
pos
 < 
¬gc
 && 
¬gv
[pos][0] == '!' &&‡rgv[pos][1] == '\0')

216 
	`advªû
 (
Œue
);

217 
Ãg©ed
 = !negated;

220 ià(
pos
 >ğ
¬gc
)

221 
	`beyÚd
 ();

224 ià(
¬gv
[
pos
][0] == '(' &&‡rgv[pos][1] == '\0')

226 
Çrgs
;

228 
	`advªû
 (
Œue
);

230 
Çrgs
 = 1;

231 
pos
 + 
Çrgs
 < 
¬gc
 && ! 
	`STREQ
 (
¬gv
[pos +‚args], ")");

232 
Çrgs
++)

233 ià(
Çrgs
 == 4)

235 
Çrgs
 = 
¬gc
 - 
pos
;

239 
v®ue
 = 
	`posix‹¡
 (
Çrgs
);

240 ià(
¬gv
[
pos
] == 0)

241 
	`‹¡_syÁax_”rÜ
 (
	`_
("')'ƒx³ùed"), 
NULL
);

243 ià(
¬gv
[
pos
][0] != ')' ||‡rgv[pos][1])

244 
	`‹¡_syÁax_”rÜ
 (
	`_
("')'ƒx³ùed, found %s"), 
¬gv
[
pos
]);

245 
	`advªû
 (
çl£
);

249 ià(4 <ğ
¬gc
 - 
pos
 && 
	`STREQ
 (
¬gv
[pos], "-l"è&& 
	`bšİ
 (argv[pos + 2]))

250 
v®ue
 = 
	`bš¬y_İ”©Ü
 (
Œue
);

251 ià(3 <ğ
¬gc
 - 
pos
 && 
	`bšİ
 (
¬gv
[pos + 1]))

252 
v®ue
 = 
	`bš¬y_İ”©Ü
 (
çl£
);

255 ià(
¬gv
[
pos
][0] == '-' &&‡rgv[pos][1] &&‡rgv[pos][2] == '\0')

257 ià(
	`‹¡_unİ
 (
¬gv
[
pos
]))

258 
v®ue
 = 
	`uÇry_İ”©Ü
 ();

260 
	`‹¡_syÁax_”rÜ
 (
	`_
("%s: uÇry o³¿tÜƒx³ùed"), 
¬gv
[
pos
]);

264 
v®ue
 = (
¬gv
[
pos
][0] != '\0');

265 
	`advªû
 (
çl£
);

268  
Ãg©ed
 ^ 
v®ue
;

269 
	}
}

271 
boŞ


272 
	$bš¬y_İ”©Ü
 (
boŞ
 
l_is_l
)

274 
İ
;

275 
¡©
 
¡©_buf
, 
¡©_¥¬e
;

277 
boŞ
 
r_is_l
;

279 ià(
l_is_l
)

280 
	`advªû
 (
çl£
);

281 
İ
 = 
pos
 + 1;

283 ià((
İ
 < 
¬gc
 - 2è&& 
	`STREQ
 (
¬gv
[op + 1], "-l"))

285 
r_is_l
 = 
Œue
;

286 
	`advªû
 (
çl£
);

289 
r_is_l
 = 
çl£
;

291 ià(
¬gv
[
İ
][0] == '-')

294 ià((((
¬gv
[
İ
][1] == 'l' ||‡rgv[op][1] == 'g')

295 && (
¬gv
[
İ
][2] == 'e' ||‡rgv[op][2] == 't'))

296 || (
¬gv
[
İ
][1] == 'e' &&‡rgv[op][2] == 'q')

297 || (
¬gv
[
İ
][1] == 'n' &&‡rgv[op][2] == 'e'))

298 && !
¬gv
[
İ
][3])

300 
lbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

301 
rbuf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

302 cÚ¡ *
l
 = (
l_is_l


303 ? 
	`umaxto¡r
 (
	`¡¾’
 (
¬gv
[
İ
 - 1]), 
lbuf
)

304 : 
	`fšd_št
 (
¬gv
[
İ
 - 1]));

305 cÚ¡ *
r
 = (
r_is_l


306 ? 
	`umaxto¡r
 (
	`¡¾’
 (
¬gv
[
İ
 + 2]), 
rbuf
)

307 : 
	`fšd_št
 (
¬gv
[
İ
 + 1]));

308 
cmp
 = 
	`¡rštcmp
 (
l
, 
r
);

309 
boŞ
 
xe_İ”©Ü
 = (
¬gv
[
İ
][2] == 'e');

310 
pos
 += 3;

311  (
¬gv
[
İ
][1] =ğ'l' ? 
cmp
 < 
xe_İ”©Ü


312 : 
¬gv
[
İ
][1] =ğ'g' ? 
cmp
 > - 
xe_İ”©Ü


313 : (
cmp
 !ğ0è=ğ
xe_İ”©Ü
);

316 
¬gv
[
İ
][1])

322 ià(
¬gv
[
İ
][2] == 't' && !argv[op][3])

325 
time¥ec
 
É
, 
¹
;

326 
boŞ
 
Ë
, 
»
;

327 
pos
 += 3;

328 ià(
l_is_l
 || 
r_is_l
)

329 
	`‹¡_syÁax_”rÜ
 (
	`_
("-Á dÛ nÙ‡cû± -l"), 
NULL
);

330 
Ë
 = 
	`g‘_mtime
 (
¬gv
[
İ
 - 1], &
É
);

331 
»
 = 
	`g‘_mtime
 (
¬gv
[
İ
 + 1], &
¹
);

332  
Ë
 && (!
»
 || 
	`time¥ec_cmp
 (
É
, 
¹
) > 0);

337 ià(
¬gv
[
İ
][2] == 'f' && !argv[op][3])

340 
pos
 += 3;

341 ià(
l_is_l
 || 
r_is_l
)

342 
	`‹¡_syÁax_”rÜ
 (
	`_
("-eàdÛ nÙ‡cû± -l"), 
NULL
);

343  (
	`¡©
 (
¬gv
[
İ
 - 1], &
¡©_buf
) == 0

344 && 
	`¡©
 (
¬gv
[
İ
 + 1], &
¡©_¥¬e
) == 0

345 && 
¡©_buf
.
¡_dev
 =ğ
¡©_¥¬e
.st_dev

346 && 
¡©_buf
.
¡_šo
 =ğ
¡©_¥¬e
.st_ino);

351 ià('t' =ğ
¬gv
[
İ
][2] && '\000' ==‡rgv[op][3])

354 
time¥ec
 
É
, 
¹
;

355 
boŞ
 
Ë
, 
»
;

356 
pos
 += 3;

357 ià(
l_is_l
 || 
r_is_l
)

358 
	`‹¡_syÁax_”rÜ
 (
	`_
("-Ù dÛ nÙ‡cû± -l"), 
NULL
);

359 
Ë
 = 
	`g‘_mtime
 (
¬gv
[
İ
 - 1], &
É
);

360 
»
 = 
	`g‘_mtime
 (
¬gv
[
İ
 + 1], &
¹
);

361  
»
 && (!
Ë
 || 
	`time¥ec_cmp
 (
É
, 
¹
) < 0);

367 
	`‹¡_syÁax_”rÜ
 (
	`_
("unknowÀbš¬y o³¿tÜ"), 
¬gv
[
İ
]);

370 ià(
¬gv
[
İ
][0] == '='

371 && (!
¬gv
[
İ
][1] || ((argv[op][1] == '=') && !argv[op][2])))

373 
boŞ
 
v®ue
 = 
	`STREQ
 (
¬gv
[
pos
],‡rgv[pos + 2]);

374 
pos
 += 3;

375  
v®ue
;

378 ià(
	`STREQ
 (
¬gv
[
İ
], "!="))

380 
boŞ
 
v®ue
 = !
	`STREQ
 (
¬gv
[
pos
],‡rgv[pos + 2]);

381 
pos
 += 3;

382  
v®ue
;

386 
	`abÜt
 ();

387 
	}
}

389 
boŞ


390 
	$uÇry_İ”©Ü
 ()

392 
¡©
 
¡©_buf
;

394 
¬gv
[
pos
][1])

397  
çl£
;

406 
	`uÇry_advªû
 ();

407  
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0;

410 
	`uÇry_advªû
 ();

411  
	`euidacûss
 (
¬gv
[
pos
 - 1], 
R_OK
) == 0;

414 
	`uÇry_advªû
 ();

415  
	`euidacûss
 (
¬gv
[
pos
 - 1], 
W_OK
) == 0;

418 
	`uÇry_advªû
 ();

419  
	`euidacûss
 (
¬gv
[
pos
 - 1], 
X_OK
) == 0;

423 
	`uÇry_advªû
 ();

424 ià(
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) != 0)

425  
çl£
;

426 
”ºo
 = 0;

427 
uid_t
 
euid
 = 
	`g‘euid
 ();

428 
uid_t
 
NO_UID
 = -1;

429  ! (
euid
 =ğ
NO_UID
 && 
”ºo
è&&ƒuid =ğ
¡©_buf
.
¡_uid
;

434 
	`uÇry_advªû
 ();

435 ià(
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) != 0)

436  
çl£
;

437 
”ºo
 = 0;

438 
gid_t
 
egid
 = 
	`g‘egid
 ();

439 
gid_t
 
NO_GID
 = -1;

440  ! (
egid
 =ğ
NO_GID
 && 
”ºo
è&&ƒgid =ğ
¡©_buf
.
¡_gid
;

444 
	`uÇry_advªû
 ();

447  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

448 && 
	`S_ISREG
 (
¡©_buf
.
¡_mode
));

451 
	`uÇry_advªû
 ();

452  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

453 && 
	`S_ISDIR
 (
¡©_buf
.
¡_mode
));

456 
	`uÇry_advªû
 ();

457  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

458 && 0 < 
¡©_buf
.
¡_size
);

461 
	`uÇry_advªû
 ();

462  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

463 && 
	`S_ISSOCK
 (
¡©_buf
.
¡_mode
));

466 
	`uÇry_advªû
 ();

467  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

468 && 
	`S_ISCHR
 (
¡©_buf
.
¡_mode
));

471 
	`uÇry_advªû
 ();

472  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

473 && 
	`S_ISBLK
 (
¡©_buf
.
¡_mode
));

476 
	`uÇry_advªû
 ();

477  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

478 && 
	`S_ISFIFO
 (
¡©_buf
.
¡_mode
));

484 
	`uÇry_advªû
 ();

485  (
	`l¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

486 && 
	`S_ISLNK
 (
¡©_buf
.
¡_mode
));

489 
	`uÇry_advªû
 ();

490  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

491 && (
¡©_buf
.
¡_mode
 & 
S_ISUID
));

494 
	`uÇry_advªû
 ();

495  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

496 && (
¡©_buf
.
¡_mode
 & 
S_ISGID
));

499 
	`uÇry_advªû
 ();

500  (
	`¡©
 (
¬gv
[
pos
 - 1], &
¡©_buf
) == 0

501 && (
¡©_buf
.
¡_mode
 & 
S_ISVTX
));

505 
fd
;

506 cÚ¡ *
¬g
;

507 
	`uÇry_advªû
 ();

508 
¬g
 = 
	`fšd_št
 (
¬gv
[
pos
 - 1]);

509 
”ºo
 = 0;

510 
fd
 = 
	`¡¹Ş
 (
¬g
, 
NULL
, 10);

511  (
”ºo
 !ğ
ERANGE
 && 0 <ğ
fd
 && fd <ğ
INT_MAX
 && 
	`i§‰y
 (fd));

515 
	`uÇry_advªû
 ();

516  
¬gv
[
pos
 - 1][0] != 0;

519 
	`uÇry_advªû
 ();

520  
¬gv
[
pos
 - 1][0] == '\0';

522 
	}
}

529 
boŞ


530 
	$ªd
 ()

532 
boŞ
 
v®ue
 = 
Œue
;

534 
Œue
)

536 
v®ue
 &ğ
	`‹rm
 ();

537 ià(! (
pos
 < 
¬gc
 && 
	`STREQ
 (
¬gv
[pos], "-a")))

538  
v®ue
;

539 
	`advªû
 (
çl£
);

541 
	}
}

548 
boŞ


549 
	$Ü
 ()

551 
boŞ
 
v®ue
 = 
çl£
;

553 
Œue
)

555 
v®ue
 |ğ
	`ªd
 ();

556 ià(! (
pos
 < 
¬gc
 && 
	`STREQ
 (
¬gv
[pos], "-o")))

557  
v®ue
;

558 
	`advªû
 (
çl£
);

560 
	}
}

566 
boŞ


567 
	$ex´
 ()

569 ià(
pos
 >ğ
¬gc
)

570 
	`beyÚd
 ();

572  
	`Ü
 ();

573 
	}
}

576 
boŞ


577 
	$‹¡_unİ
 (cÚ¡ *
İ
)

579 ià(
İ
[0] != '-')

580  
çl£
;

582 
İ
[1])

589  
Œue
;

591  
çl£
;

593 
	}
}

595 
boŞ


596 
	$Úe_¬gum’t
 ()

598  
¬gv
[
pos
++][0] != '\0';

599 
	}
}

601 
boŞ


602 
	$two_¬gum’ts
 ()

604 
boŞ
 
v®ue
;

606 ià(
	`STREQ
 (
¬gv
[
pos
], "!"))

608 
	`advªû
 (
çl£
);

609 
v®ue
 = ! 
	`Úe_¬gum’t
 ();

611 ià(
¬gv
[
pos
][0] == '-'

612 && 
¬gv
[
pos
][1] != '\0'

613 && 
¬gv
[
pos
][2] == '\0')

615 ià(
	`‹¡_unİ
 (
¬gv
[
pos
]))

616 
v®ue
 = 
	`uÇry_İ”©Ü
 ();

618 
	`‹¡_syÁax_”rÜ
 (
	`_
("%s: uÇry o³¿tÜƒx³ùed"), 
¬gv
[
pos
]);

621 
	`beyÚd
 ();

622  (
v®ue
);

623 
	}
}

625 
boŞ


626 
	$th»e_¬gum’ts
 ()

628 
boŞ
 
v®ue
;

630 ià(
	`bšİ
 (
¬gv
[
pos
 + 1]))

631 
v®ue
 = 
	`bš¬y_İ”©Ü
 (
çl£
);

632 ià(
	`STREQ
 (
¬gv
[
pos
], "!"))

634 
	`advªû
 (
Œue
);

635 
v®ue
 = !
	`two_¬gum’ts
 ();

637 ià(
	`STREQ
 (
¬gv
[
pos
], "(") && STREQ (argv[pos + 2], ")"))

639 
	`advªû
 (
çl£
);

640 
v®ue
 = 
	`Úe_¬gum’t
 ();

641 
	`advªû
 (
çl£
);

643 ià(
	`STREQ
 (
¬gv
[
pos
 + 1], "-a") || STREQ (argv[pos + 1], "-o"))

644 
v®ue
 = 
	`ex´
 ();

646 
	`‹¡_syÁax_”rÜ
 (
	`_
("%s: bš¬y o³¿tÜƒx³ùed"), 
¬gv
[
pos
+1]);

647  (
v®ue
);

648 
	}
}

651 
boŞ


652 
	$posix‹¡
 (
Çrgs
)

654 
boŞ
 
v®ue
;

656 
Çrgs
)

659 
v®ue
 = 
	`Úe_¬gum’t
 ();

663 
v®ue
 = 
	`two_¬gum’ts
 ();

667 
v®ue
 = 
	`th»e_¬gum’ts
 ();

671 ià(
	`STREQ
 (
¬gv
[
pos
], "!"))

673 
	`advªû
 (
Œue
);

674 
v®ue
 = !
	`th»e_¬gum’ts
 ();

677 ià(
	`STREQ
 (
¬gv
[
pos
], "(") && STREQ (argv[pos + 3], ")"))

679 
	`advªû
 (
çl£
);

680 
v®ue
 = 
	`two_¬gum’ts
 ();

681 
	`advªû
 (
çl£
);

687 ià(
Çrgs
 <= 0)

688 
	`abÜt
 ();

689 
v®ue
 = 
	`ex´
 ();

692  (
v®ue
);

693 
	}
}

695 #ià
defšed
 
TEST_STANDALONE


698 
	$u§ge
 (
¡©us
)

700 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

701 
	`em™_Œy_h–p
 ();

704 
	`åuts
 (
	`_
("\
:e¡ EXPRESSION\n\
:e¡\n\
: [ EXPRESSION ]\n\
: [ ]\n\
: [ OPTION\n\
"), 
¡dout
);

711 
	`åuts
 (
	`_
("\
 w™hh¡©u d‘”mšed by EXPRESSION.\n\
\n\
"), 
¡dout
);

715 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

716 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

717 
	`åuts
 (
	`_
("\
\n\
 om™‹d EXPRESSION deçuÉ tØçl£. Oth”wi£,\n\
 i ŒuÜ f®£‡nd s‘ ex™ stus. Iˆi Úof:\n\
"), 
¡dout
);

722 
	`åuts
 (
	`_
("\
\n\
ĞEXPRESSION ) EXPRESSION i Œue\n\
! EXPRESSION EXPRESSION i çl£\n\
1 -¨EXPRESSION2 bÙh EXPRESSION1‡nd EXPRESSION2‡»rue\n\
1 -ØEXPRESSION2ƒ™h” EXPRESSION1 o¸EXPRESSION2 i Œue\n\
"), 
¡dout
);

729 
	`åuts
 (
	`_
("\
\n\
-ÀSTRINGhËngth oàSTRING i nÚz”o\n\
ƒquiv®’ˆtØ-ÀSTRING\n\
-z STRINGhËngth oàSTRING i z”o\n\
1 = STRING2h¡ršg ¬equ®\n\
1 !ğSTRING2h¡ršg ¬nÙƒqu®\n\
"), 
¡dout
);

737 
	`åuts
 (
	`_
("\
\n\
1 -eq INTEGER2 INTEGER1 i equ®ØINTEGER2\n\
1 -gINTEGER2 INTEGER1 i g»©”hª o¸equ®ØINTEGER2\n\
1 -gˆINTEGER2 INTEGER1 i g»©”hª INTEGER2\n\
1 -Ë INTEGER2 INTEGER1 i Ës thª o¸equ®ØINTEGER2\n\
1 -É INTEGER2 INTEGER1 i Ës thª INTEGER2\n\
1 -Ã INTEGER2 INTEGER1 i nÙƒqu®ØINTEGER2\n\
"), 
¡dout
);

746 
	`åuts
 (
	`_
("\
\n\
1 -eàFILE2 FILE1‡nd FILE2 havth§mdeviû‡nd inodnumb”s\n\
1 -Á FILE2 FILE1 i Ãw” (modifiÿtiÚ d©eèthª FILE2\n\
1 -Ù FILE2 FILE1 i Şd”hª FILE2\n\
"), 
¡dout
);

752 
	`åuts
 (
	`_
("\
\n\
-b FILE FILEƒxi¡ ªd i block s³cŸl\n\
-øFILE FILEƒxi¡ ªd i ch¬aù” s³cŸl\n\
-d FILE FILEƒxi¡ ªd i ¨dœeùÜy\n\
-FILE FILEƒxi¡s\n\
"), 
¡dout
);

759 
	`åuts
 (
	`_
("\
-àFILE FILEƒxi¡ ªd i ¨»guÏ¸fe\n\
-g FILE FILEƒxi¡ ªd i £t-group-ID\n\
-G FILE FILEƒxi¡ ªd i owÃd byhefãùivgrou°ID\n\
-h FILE FILEƒxi¡ ªd i ¨symbŞiølšk (§ma -L)\n\
-k FILE FILEƒxi¡ ªd ha ™ ¡icky b™ s‘\n\
"), 
¡dout
);

766 
	`åuts
 (
	`_
("\
-L FILE FILEƒxi¡ ªd i ¨symbŞiølšk (§ma -h)\n\
-O FILE FILEƒxi¡ ªd i owÃd byhefãùivu£¸ID\n\
-°FILE FILEƒxi¡ ªd i ¨Çmed…e\n\
-¸FILE FILEƒxi¡ ªd„—d…”missiÚ i g¿Áed\n\
- FILE FILEƒxi¡ ªd ha ¨sizg»©”hª z”o\n\
"), 
¡dout
);

773 
	`åuts
 (
	`_
("\
-S FILE FILEƒxi¡ ªd i ¨sock‘\n\
-ˆFD fdesütÜ FD i İ’ed oÀ¨‹rmš®\n\
-u FILE FILEƒxi¡ ªd it £t-u£r-ID b™ i £t\n\
-w FILE FILEƒxi¡ ªd wr™³rmissiÚ i g¿Áed\n\
-x FILE FILEƒxi¡ ªdƒxecu‹ (Ü s—rchè³rmissiÚ i g¿Áed\n\
"), 
¡dout
);

780 
	`åuts
 (
	`_
("\
\n\
 fÜ -h‡nd -L,‡Î FILE-»Ï‹de¡ d”eã»nû symbŞiølšks.\n\
h©…¬’the£ ÃedØbesÿ³d (e.g., by back¦ashesèfÜ sh–ls.\n\
 may‡lsØb-ÈSTRING, whichƒv®u©e tØthËngth oàSTRING.\n\
"), 
¡dout
);

786 
	`åuts
 (
	`_
("\
\n\
: [ hÚÜ th--h–°ªd --v”siÚ o±iÚs, buˆ‹¡ dÛ nÙ.\n\
»© —ch oàtho£‡ ™»© ªy oth”‚Úem±y STRING.\n\
"), 
¡dout
);

791 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
	`_
("test‡nd/or ["));

792 
	`em™_ªcÏry_šfo
 ();

794 
	`ex™
 (
¡©us
);

795 
	}
}

798 #ià!
defšed
 
TEST_STANDALONE


799 
	#maš
 
‹¡_commªd


	)

802 
	#AUTHORS
 \

803 
	`´İ”_Çme
 ("Kevin Braunsdorf"), \

804 
	`´İ”_Çme
 ("M©thew B¿dbuº")

	)

813 
	$maš
 (
m¬gc
, **
m¬gv
)

815 
boŞ
 
v®ue
;

817 #ià!
defšed
 
TEST_STANDALONE


818 
code
;

820 
code
 = 
	`£tjmp
 (
‹¡_ex™_buf
);

822 ià(
code
)

823  (
‹¡_”rÜ_»tuº
);

825 
	`š™Ÿlize_maš
 (&
m¬gc
, &
m¬gv
);

826 
	`£t_´og¿m_Çme
 (
m¬gv
[0]);

827 
	`£oÿË
 (
LC_ALL
, "");

828 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

829 
	`‹xtdomaš
 (
PACKAGE
);

831 
	`š™Ÿlize_ex™_çu»
 (
TEST_FAILURE
);

832 
	`©ex™
 (
şo£_¡dout
);

835 
¬gv
 = 
m¬gv
;

837 ià(
LBRACKET
)

845 ià(
m¬gc
 == 2)

847 ià(
	`STREQ
 (
m¬gv
[1], "--help"))

848 
	`u§ge
 (
EXIT_SUCCESS
);

850 ià(
	`STREQ
 (
m¬gv
[1], "--version"))

852 
	`v”siÚ_‘c
 (
¡dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
, 
AUTHORS
,

853 (*è
NULL
);

854 
	`‹¡_ex™
 (
EXIT_SUCCESS
);

857 ià(
m¬gc
 < 2 || !
	`STREQ
 (
m¬gv
[margc - 1], "]"))

858 
	`‹¡_syÁax_”rÜ
 (
	`_
("missšg ']'"), 
NULL
);

860 --
m¬gc
;

863 
¬gc
 = 
m¬gc
;

864 
pos
 = 1;

866 ià(
pos
 >ğ
¬gc
)

867 
	`‹¡_ex™
 (
TEST_FALSE
);

869 
v®ue
 = 
	`posix‹¡
 (
¬gc
 - 1);

871 ià(
pos
 !ğ
¬gc
)

872 
	`‹¡_syÁax_”rÜ
 (
	`_
("exŒ¨¬gum’ˆ%s"), 
	`quÙe
 (
¬gv
[
pos
]));

874 
	`‹¡_ex™
 (
v®ue
 ? 
TEST_TRUE
 : 
TEST_FALSE
);

875 
	}
}

	@timeout.c

47 
	~<cÚfig.h
>

48 
	~<g‘İt.h
>

49 
	~<¡dio.h
>

50 
	~<sys/ty³s.h
>

51 
	~<sigÇl.h
>

52 #ià
HAVE_PRCTL


53 
	~<sys/´ùl.h
>

55 
	~<sys/wa™.h
>

57 
	~"sy¡em.h
"

58 
	~"c-¡¹od.h
"

59 
	~"x¡¹od.h
"

60 
	~"sig2¡r.h
"

61 
	~"İ”ªd2sig.h
"

62 
	~"”rÜ.h
"

63 
	~"quÙe.h
"

65 #ià
HAVE_SETRLIMIT


68 
	~<sys/»sourû.h
>

72 #iâdeà
SA_RESTART


73 
	#SA_RESTART
 0

	)

76 
	#PROGRAM_NAME
 "timeout"

	)

78 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("Pad¿ig B¿dy", "P\303\241d¿ig B¿dy")

	)

80 
	gtimed_out
;

81 
	g‹rm_sigÇl
 = 
SIGTERM
;

82 
	gmÚ™Üed_pid
;

83 
	gkl_aá”
;

84 
boŞ
 
	gfÜeground
;

85 
boŞ
 
	g´e£rve_¡©us
;

90 
	mFOREGROUND_OPTION
 = 
CHAR_MAX
 + 1,

91 
	mPRESERVE_STATUS_OPTION


94 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

96 {"kl-aá”", 
»quœed_¬gum’t
, 
NULL
, 'k'},

97 {"sigÇl", 
»quœed_¬gum’t
, 
NULL
, 's'},

98 {"fÜeground", 
no_¬gum’t
, 
NULL
, 
FOREGROUND_OPTION
},

99 {"´e£rve-¡©us", 
no_¬gum’t
, 
NULL
, 
PRESERVE_STATUS_OPTION
},

100 {
GETOPT_HELP_OPTION_DECL
},

101 {
GETOPT_VERSION_OPTION_DECL
},

102 {
NULL
, 0, NULL, 0}

106 
	$unblock_sigÇl
 (
sig
)

108 
sig£t_t
 
unblock_£t
;

109 
	`sigem±y£t
 (&
unblock_£t
);

110 
	`sigadd£t
 (&
unblock_£t
, 
sig
);

111 ià(
	`sig´ocmask
 (
SIG_UNBLOCK
, &
unblock_£t
, 
NULL
) != 0)

112 
	`”rÜ
 (0, 
”ºo
, 
	`_
("warning: sigprocmask"));

113 
	}
}

121 
	$£‰imeout
 (
du¿tiÚ
)

126 
	`unblock_sigÇl
 (
SIGALRM
);

135 #ià
HAVE_TIMER_SETTIME


136 
time¥ec
 
ts
 = 
	`dtÙime¥ec
 (
du¿tiÚ
);

137 
™im”¥ec
 
™s
 = { {0, 0}, 
ts
 };

138 
tim”_t
 
tim”id
;

139 ià(
	`tim”_ü—‹
 (
CLOCK_REALTIME
, 
NULL
, &
tim”id
) == 0)

141 ià(
	`tim”_£‰ime
 (
tim”id
, 0, &
™s
, 
NULL
) == 0)

145 
	`”rÜ
 (0, 
”ºo
, 
	`_
("warning:imer_settime"));

146 
	`tim”_d–‘e
 (
tim”id
);

149 ià(
”ºo
 !ğ
ENOSYS
)

150 
	`”rÜ
 (0, 
”ºo
, 
	`_
("warning:imer_create"));

153 
timešt
;

154 ià(
UINT_MAX
 <ğ
du¿tiÚ
)

155 
timešt
 = 
UINT_MAX
;

158 
du¿tiÚ_æoÜ
 = 
du¿tiÚ
;

159 
timešt
 = 
du¿tiÚ_æoÜ
 + (du¿tiÚ_æoÜ < 
du¿tiÚ
);

161 
	`®¬m
 (
timešt
);

162 
	}
}

167 
	$£nd_sig
 (
wh”e
, 
sig
)

176 ià(
wh”e
 == 0)

177 
	`sigÇl
 (
sig
, 
SIG_IGN
);

178  
	`kl
 (
wh”e
, 
sig
);

179 
	}
}

182 
	$ş—nup
 (
sig
)

184 ià(
sig
 =ğ
SIGALRM
)

186 
timed_out
 = 1;

187 
sig
 = 
‹rm_sigÇl
;

189 ià(
mÚ™Üed_pid
)

191 ià(
kl_aá”
)

194 
‹rm_sigÇl
 = 
SIGKILL
;

195 
	`£‰imeout
 (
kl_aá”
);

196 
kl_aá”
 = 0;

202 
	`£nd_sig
 (
mÚ™Üed_pid
, 
sig
);

205 ià(!
fÜeground
)

206 
	`£nd_sig
 (0, 
sig
);

207 ià(
sig
 !ğ
SIGKILL
 && sig !ğ
SIGCONT
)

209 
	`£nd_sig
 (
mÚ™Üed_pid
, 
SIGCONT
);

210 ià(!
fÜeground
)

211 
	`£nd_sig
 (0, 
SIGCONT
);

215 
	`_ex™
 (128 + 
sig
);

216 
	}
}

219 
	$u§ge
 (
¡©us
)

221 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

222 
	`em™_Œy_h–p
 ();

225 
	`´štf
 (
	`_
("\
: % [OPTION] DURATION COMMAND [ARG]...\n\
: % [OPTION]\n"), 
´og¿m_Çme
,…rogram_name);

229 
	`åuts
 (
	`_
("\
 COMMAND,‡nd kÈ™ ià¡ÈruÂšg‡á” DURATION.\n\
"), 
¡dout
);

233 
	`em™_mªd©Üy_¬g_nÙe
 ();

235 
	`åuts
 (
	`_
("\
--´e£rve-¡©us\n\
 w™hh§m¡©u a COMMAND,ƒv’ wh’he\n\
ime out\n\
--fÜeground\n\
‚Ù„uÂšgimeouˆdœeùly from‡ sh–È´om±,\n\
 COMMANDØ»ad fromhTTY‡nd„eûivTTY sigÇls.\n\
hi mode, chd»ÀoàCOMMAND wÈnÙ btimed out.\n\
-k, --kl-aá”=DURATION\n\
 s’d‡ KILL sigÇÈiàCOMMAND i ¡ÈruÂšg\n\
†Úg‡á”hš™ŸÈsigÇÈwa £Á.\n\
-s, --sigÇl=SIGNAL\n\
hsigÇÈtØb£Á oÀtimeout.\n\
 may b¨Çmlik'HUP' o¸¨numb”.\n\
 'kÈ-l' fÜ‡†i¡ oàsigÇls\n"), 
¡dout
);

251 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

252 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

254 
	`åuts
 (
	`_
("\n\
 i ¨æßtšg…ošˆnumb” w™h‡ÀİtiÚ® suffix:\n\
's' fÜ secÚd ÑhdeçuÉ), 'm' fÜ mšu‹s, 'h' fÜ hour \
 'd' fÜ days.\n"), 
¡dout
);

259 
	`åuts
 (
	`_
("\n\
hcommªdime out,‡nd --´e£rve-¡©u i nÙ s‘,h’ƒx™ w™h\n\
 124. Oth”wi£,ƒx™ w™hh¡©u oàCOMMAND. IànØsigÇl\n\
 s³cif›d, s’dhTERM sigÇÈupÚimeout. ThTERM sigÇÈkls\n\
…roûs th© dÛ nÙ block o¸ÿtchh© sigÇl. Iˆmay bÃûs§ry\n\
 u£hKILL (9èsigÇl, sšûhi sigÇÈÿÂÙ bÿught, iÀwhich\n\
hex™ stu i 128+9„©h”hª 124.\n"), 
¡dout
);

266 
	`em™_ªcÏry_šfo
 ();

268 
	`ex™
 (
¡©us
);

269 
	}
}

277 
boŞ


278 
	$­¶y_time_suffix
 (*
x
, 
suffix_ch¬
)

280 
muÉl›r
;

282 
suffix_ch¬
)

286 
muÉl›r
 = 1;

289 
muÉl›r
 = 60;

292 
muÉl›r
 = 60 * 60;

295 
muÉl›r
 = 60 * 60 * 24;

298  
çl£
;

301 *
x
 *ğ
muÉl›r
;

303  
Œue
;

304 
	}
}

307 
	$·r£_du¿tiÚ
 (cÚ¡ * 
¡r
)

309 
du¿tiÚ
;

310 cÚ¡ *
•
;

312 ià(!
	`x¡¹od
 (
¡r
, &
•
, &
du¿tiÚ
, 
c_¡¹od
)

314 || ! (0 <ğ
du¿tiÚ
)

316 || (*
•
 && *(ep + 1))

318 || !
	`­¶y_time_suffix
 (&
du¿tiÚ
, *
•
))

320 
	`”rÜ
 (0, 0, 
	`_
("šv®idimš‹rv® %s"), 
	`quÙe
 (
¡r
));

321 
	`u§ge
 (
EXIT_CANCELED
);

324  
du¿tiÚ
;

325 
	}
}

328 
	$š¡®l_sigÇl_hªdËrs
 (
sig‹rm
)

330 
sigaùiÚ
 
§
;

331 
	`sigem±y£t
 (&
§
.
§_mask
);

332 
§
.
§_hªdËr
 = 
ş—nup
;

333 
§
.
§_æags
 = 
SA_RESTART
;

336 
	`sigaùiÚ
 (
SIGALRM
, &
§
, 
NULL
);

337 
	`sigaùiÚ
 (
SIGINT
, &
§
, 
NULL
);

338 
	`sigaùiÚ
 (
SIGQUIT
, &
§
, 
NULL
);

339 
	`sigaùiÚ
 (
SIGHUP
, &
§
, 
NULL
);

340 
	`sigaùiÚ
 (
SIGTERM
, &
§
, 
NULL
);

341 
	`sigaùiÚ
 (
sig‹rm
, &
§
, 
NULL
);

342 
	}
}

346 
boŞ


347 
	$di§bË_cÜe_dumps
 ()

349 #ià
HAVE_PRCTL
 && 
defšed
 
PR_SET_DUMPABLE


350 ià(
	`´ùl
 (
PR_SET_DUMPABLE
, 0) == 0)

351  
Œue
;

353 #–ià
HAVE_SETRLIMIT
 && 
defšed
 
RLIMIT_CORE


356 ià(
	`£Œlim™
 (
RLIMIT_CORE
, &(
¾im™
) {0,0}) == 0)

357  
Œue
;

360  
çl£
;

363 
	`”rÜ
 (0, 
”ºo
, 
	`_
("warning: disabling core dumps failed"));

364  
çl£
;

365 
	}
}

368 
	$maš
 (
¬gc
, **
¬gv
)

370 
timeout
;

371 
sigÇme
[
SIG2STR_MAX
];

372 
c
;

374 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

375 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

376 
	`£oÿË
 (
LC_ALL
, "");

377 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

378 
	`‹xtdomaš
 (
PACKAGE
);

380 
	`š™Ÿlize_ex™_çu»
 (
EXIT_CANCELED
);

381 
	`©ex™
 (
şo£_¡dout
);

383 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+k:s:", 
lÚg_İtiÚs
, 
NULL
)) != -1)

385 
c
)

388 
kl_aá”
 = 
	`·r£_du¿tiÚ
 (
İrg
);

392 
‹rm_sigÇl
 = 
	`İ”ªd2sig
 (
İrg
, 
sigÇme
);

393 ià(
‹rm_sigÇl
 == -1)

394 
	`u§ge
 (
EXIT_CANCELED
);

397 
FOREGROUND_OPTION
:

398 
fÜeground
 = 
Œue
;

401 
PRESERVE_STATUS_OPTION
:

402 
´e£rve_¡©us
 = 
Œue
;

405 
ÿ£_GETOPT_HELP_CHAR
;

407 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

410 
	`u§ge
 (
EXIT_CANCELED
);

415 ià(
¬gc
 - 
İtšd
 < 2)

416 
	`u§ge
 (
EXIT_CANCELED
);

418 
timeout
 = 
	`·r£_du¿tiÚ
 (
¬gv
[
İtšd
++]);

420 
¬gv
 +ğ
İtšd
;

426 ià(!
fÜeground
)

427 
	`£gid
 (0, 0);

431 
	`š¡®l_sigÇl_hªdËrs
 (
‹rm_sigÇl
);

432 
	`sigÇl
 (
SIGTTIN
, 
SIG_IGN
);

433 
	`sigÇl
 (
SIGTTOU
, 
SIG_IGN
);

434 
	`sigÇl
 (
SIGCHLD
, 
SIG_DFL
);

436 
mÚ™Üed_pid
 = 
	`fÜk
 ();

437 ià(
mÚ™Üed_pid
 == -1)

439 
	`”rÜ
 (0, 
”ºo
, 
	`_
("fork system call failed"));

440  
EXIT_CANCELED
;

442 ià(
mÚ™Üed_pid
 == 0)

444 
ex™_¡©us
;

447 
	`sigÇl
 (
SIGTTIN
, 
SIG_DFL
);

448 
	`sigÇl
 (
SIGTTOU
, 
SIG_DFL
);

450 
	`execvp
 (
¬gv
[0],‡rgv);

453 
ex™_¡©us
 = (
”ºo
 =ğ
ENOENT
 ? 
EXIT_ENOENT
 : 
EXIT_CANNOT_INVOKE
);

454 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØruÀcommªd %s"), 
	`quÙe
 (
¬gv
[0]));

455  
ex™_¡©us
;

459 
pid_t
 
wa™_»suÉ
;

460 
¡©us
;

462 
	`£‰imeout
 (
timeout
);

464 (
wa™_»suÉ
 = 
	`wa™pid
 (
mÚ™Üed_pid
, &
¡©us
, 0)) < 0

465 && 
”ºo
 =ğ
EINTR
)

468 ià(
wa™_»suÉ
 < 0)

471 
	`”rÜ
 (0, 
”ºo
, 
	`_
("error waiting for command"));

472 
¡©us
 = 
EXIT_CANCELED
;

476 ià(
	`WIFEXITED
 (
¡©us
))

477 
¡©us
 = 
	`WEXITSTATUS
 (status);

478 ià(
	`WIFSIGNALED
 (
¡©us
))

480 
sig
 = 
	`WTERMSIG
 (
¡©us
);

481 ià(
	`WCOREDUMP
 (
¡©us
))

482 
	`”rÜ
 (0, 0, 
	`_
("the monitored command dumped core"));

483 ià(!
timed_out
 && 
	`di§bË_cÜe_dumps
 ())

486 
	`sigÇl
 (
sig
, 
SIG_DFL
);

487 
	`¿i£
 (
sig
);

489 
¡©us
 = 
sig
 + 128;

494 
	`”rÜ
 (0, 0, 
	`_
("unknowÀ¡©u äom commªd (0x%X)"), 
¡©us
);

495 
¡©us
 = 
EXIT_FAILURE
;

499 ià(
timed_out
 && !
´e£rve_¡©us
)

500  
EXIT_TIMEDOUT
;

502  
¡©us
;

504 
	}
}

	@touch.c

20 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<g‘İt.h
>

23 
	~<sys/ty³s.h
>

24 
	~<as£¹.h
>

26 
	~"sy¡em.h
"

27 
	~"¬gm©ch.h
"

28 
	~"”rÜ.h
"

29 
	~"fd-»İ’.h
"

30 
	~"·r£-d©‘ime.h
"

31 
	~"posixtm.h
"

32 
	~"posixv”.h
"

33 
	~"quÙe.h
"

34 
	~"¡©-time.h
"

35 
	~"utim’s.h
"

38 
	#PROGRAM_NAME
 "touch"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Paul Rubin"), \

42 
	`´İ”_Çme
 ("Arnold Robbins"), \

43 
	`´İ”_Çme
 ("Jim Kingdon"), \

44 
	`´İ”_Çme
 ("David MacKenzie"), \

45 
	`´İ”_Çme
 ("Rªdy Sm™h")

	)

48 
	#CH_ATIME
 1

	)

49 
	#CH_MTIME
 2

	)

52 
	gchªge_times
;

55 
boŞ
 
	gno_ü—‹
;

58 
boŞ
 
	gu£_»f
;

61 
boŞ
 
	gno_d”eã»nû
;

68 
boŞ
 
	gamtime_now
;

71 
time¥ec
 
	gÃwtime
[2];

74 *
	g»f_fe
;

80 
	mTIME_OPTION
 = 
CHAR_MAX
 + 1

83 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

85 {"time", 
»quœed_¬gum’t
, 
NULL
, 
TIME_OPTION
},

86 {"no-ü—‹", 
no_¬gum’t
, 
NULL
, 'c'},

87 {"d©e", 
»quœed_¬gum’t
, 
NULL
, 'd'},

88 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 'r'},

89 {"no-d”eã»nû", 
no_¬gum’t
, 
NULL
, 'h'},

90 {
GETOPT_HELP_OPTION_DECL
},

91 {
GETOPT_VERSION_OPTION_DECL
},

92 {
NULL
, 0, NULL, 0}

96 cÚ¡* cÚ¡ 
	gtime_¬gs
[] =

98 "©ime", "acûss", "u£", "mtime", "modify", 
NULL


102 cÚ¡ 
	gtime_masks
[] =

104 
CH_ATIME
, CH_ATIME, CH_ATIME, 
CH_MTIME
, CH_MTIME

111 
	$g‘_»ld©e
 (
time¥ec
 *
»suÉ
,

112 cÚ¡ *
æex_d©e
, 
time¥ec
 cÚ¡ *
now
)

114 ià(! 
	`·r£_d©‘ime
 (
»suÉ
, 
æex_d©e
, 
now
))

115 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("šv®id d©fÜm© %s"), 
	`quÙe
 (
æex_d©e
));

116 
	}
}

121 
boŞ


122 
	$touch
 (cÚ¡ *
fe
)

124 
boŞ
 
ok
;

125 
fd
 = -1;

126 
İ’_”ºo
 = 0;

127 
time¥ec
 cÚ¡ *
t
 = 
Ãwtime
;

129 ià(
	`STREQ
 (
fe
, "-"))

130 
fd
 = 
STDOUT_FILENO
;

131 ià(! (
no_ü—‹
 || 
no_d”eã»nû
))

134 
fd
 = 
	`fd_»İ’
 (
STDIN_FILENO
, 
fe
,

135 
O_WRONLY
 | 
O_CREAT
 | 
O_NONBLOCK
 | 
O_NOCTTY
, 
MODE_RW_UGO
);

141 ià(
fd
 =ğ-1 && 
”ºo
 !ğ
EISDIR
 &&ƒ¼nØ!ğ
EINVAL
 &&ƒ¼nØ!ğ
EPERM
)

142 
İ’_”ºo
 = 
”ºo
;

145 ià(
chªge_times
 !ğ(
CH_ATIME
 | 
CH_MTIME
))

148 ià(
chªge_times
 =ğ
CH_MTIME
)

149 
Ãwtime
[0].
tv_n£c
 = 
UTIME_OMIT
;

152 
	`as£¹
 (
chªge_times
 =ğ
CH_ATIME
);

153 
Ãwtime
[1].
tv_n£c
 = 
UTIME_OMIT
;

157 ià(
amtime_now
)

161 
t
 = 
NULL
;

164 
ok
 = (
	`fdutim’§t
 (
fd
, 
AT_FDCWD
, (fd =ğ
STDOUT_FILENO
 ? 
NULL
 : 
fe
), 
t
,

165 (
no_d”eã»nû
 && 
fd
 =ğ-1è? 
AT_SYMLINK_NOFOLLOW
 : 0)

168 ià(
fd
 =ğ
STDIN_FILENO
)

170 ià(
	`şo£
 (
STDIN_FILENO
) != 0)

172 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØşo£ %s"), 
	`quÙe
 (
fe
));

173  
çl£
;

176 ià(
fd
 =ğ
STDOUT_FILENO
)

179 ià(!
ok
 && 
”ºo
 =ğ
EBADF
 && 
no_ü—‹
)

180  
Œue
;

183 ià(!
ok
)

185 ià(
İ’_”ºo
)

191 
	`”rÜ
 (0, 
İ’_”ºo
, 
	`_
("ÿÂÙouch %s"), 
	`quÙe
 (
fe
));

195 ià(
no_ü—‹
 && 
”ºo
 =ğ
ENOENT
)

196  
Œue
;

197 
	`”rÜ
 (0, 
”ºo
, 
	`_
("£‰šgime oà%s"), 
	`quÙe
 (
fe
));

199  
çl£
;

202  
Œue
;

203 
	}
}

206 
	$u§ge
 (
¡©us
)

208 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

209 
	`em™_Œy_h–p
 ();

212 
	`´štf
 (
	`_
("U§ge: % [OPTION]... FILE...\n"), 
´og¿m_Çme
);

213 
	`åuts
 (
	`_
("\
hacûs ªd modifiÿtiÚime oà—ch FILEØthcu¼’ˆtime.\n\
\n\
 FILE‡rgum’ˆth© dÛ nÙƒxi¡ i ü—‹dƒm±y, uÆes -øÜ -h\n\
 suµl›d.\n\
\n\
 FILE‡rgum’ˆ¡ršg oà- i hªdËd s³cŸÎy‡nd cau£ toucho\n\
htime oàthfassocŸ‹d w™h snd¬d ouut.\n\
"), 
¡dout
);

223 
	`em™_mªd©Üy_¬g_nÙe
 ();

225 
	`åuts
 (
	`_
("\
-¨ chªgÚlyhacûs time\n\
-c, --no-ü—‹ dØnÙ c»©ªy fes\n\
-d, --d©e=STRING…¬£ STRING‡nd u£ iˆš¡—d oàcu¼’ˆtime\n\
-à (ignÜed)\n\
"), 
¡dout
);

231 
	`åuts
 (
	`_
("\
-h, --no-d”eã»nû‡fãùƒach symbŞiølšk in¡—d oàªy„eã»nûd\n\
 (u£fuÈÚly oÀsy¡em th© cª chªgthe\n\
 oà¨symlšk)\n\
-m chªgÚlyhmodifiÿtiÚime\n\
"), 
¡dout
);

237 
	`åuts
 (
	`_
("\
-r, --»ã»nû=FILE u£hi fe' time š¡—d oàcu¼’ˆtime\n\
-ˆSTAMP u£ [[CC]YY]MMDDhhmm[.ss] in¡—d oàcu¼’ˆtime\n\
--time=WORD chªgth¥ecif›dime:\n\
 i acûss,‡time, o¸u£:ƒquiv®’ˆtØ-a\n\
 i modify o¸mtime:ƒquiv®’ˆtØ-m\n\
"), 
¡dout
);

244 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

245 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

246 
	`åuts
 (
	`_
("\
\n\
h©h-d‡nd -ˆİtiÚ acû± difã»Áime-d©fÜm©s.\n\
"), 
¡dout
);

250 
	`em™_ªcÏry_šfo
 ();

252 
	`ex™
 (
¡©us
);

253 
	}
}

256 
	$maš
 (
¬gc
, **
¬gv
)

258 
c
;

259 
boŞ
 
d©e_£t
 = 
çl£
;

260 
boŞ
 
ok
 = 
Œue
;

261 cÚ¡ *
æex_d©e
 = 
NULL
;

263 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

264 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

265 
	`£oÿË
 (
LC_ALL
, "");

266 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

267 
	`‹xtdomaš
 (
PACKAGE
);

269 
	`©ex™
 (
şo£_¡dout
);

271 
chªge_times
 = 0;

272 
no_ü—‹
 = 
u£_»f
 = 
çl£
;

274 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "acd:fhmr:t:", 
lÚgİts
, 
NULL
)) != -1)

276 
c
)

279 
chªge_times
 |ğ
CH_ATIME
;

283 
no_ü—‹
 = 
Œue
;

287 
æex_d©e
 = 
İrg
;

294 
no_d”eã»nû
 = 
Œue
;

298 
chªge_times
 |ğ
CH_MTIME
;

302 
u£_»f
 = 
Œue
;

303 
»f_fe
 = 
İrg
;

307 ià(! 
	`posixtime
 (&
Ãwtime
[0].
tv_£c
, 
İrg
,

308 
PDS_LEADING_YEAR
 | 
PDS_CENTURY
 | 
PDS_SECONDS
))

309 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("invalid date format %s"),

310 
	`quÙe
 (
İrg
));

311 
Ãwtime
[0].
tv_n£c
 = 0;

312 
Ãwtime
[1] =‚ewtime[0];

313 
d©e_£t
 = 
Œue
;

316 
TIME_OPTION
:

317 
chªge_times
 |ğ
	`XARGMATCH
 ("--time", 
İrg
,

318 
time_¬gs
, 
time_masks
);

321 
ÿ£_GETOPT_HELP_CHAR
;

323 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

326 
	`u§ge
 (
EXIT_FAILURE
);

330 ià(
chªge_times
 == 0)

331 
chªge_times
 = 
CH_ATIME
 | 
CH_MTIME
;

333 ià(
d©e_£t
 && (
u£_»f
 || 
æex_d©e
))

335 
	`”rÜ
 (0, 0, 
	`_
("cannot specifyimes from morehan one source"));

336 
	`u§ge
 (
EXIT_FAILURE
);

339 ià(
u£_»f
)

341 
¡©
 
»f_¡©s
;

344 ià(
no_d”eã»nû
 ? 
	`l¡©
 (
»f_fe
, &
»f_¡©s
)

345 : 
	`¡©
 (
»f_fe
, &
»f_¡©s
))

346 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
,

347 
	`_
("çedØg‘‡‰ribu‹ oà%s"), 
	`quÙe
 (
»f_fe
));

348 
Ãwtime
[0] = 
	`g‘_¡©_©ime
 (&
»f_¡©s
);

349 
Ãwtime
[1] = 
	`g‘_¡©_mtime
 (&
»f_¡©s
);

350 
d©e_£t
 = 
Œue
;

351 ià(
æex_d©e
)

353 ià(
chªge_times
 & 
CH_ATIME
)

354 
	`g‘_»ld©e
 (&
Ãwtime
[0], 
æex_d©e
, &newtime[0]);

355 ià(
chªge_times
 & 
CH_MTIME
)

356 
	`g‘_»ld©e
 (&
Ãwtime
[1], 
æex_d©e
, &newtime[1]);

361 ià(
æex_d©e
)

363 
time¥ec
 
now
;

364 
	`g‘time
 (&
now
);

365 
	`g‘_»ld©e
 (&
Ãwtime
[0], 
æex_d©e
, &
now
);

366 
Ãwtime
[1] =‚ewtime[0];

367 
d©e_£t
 = 
Œue
;

372 ià(
chªge_times
 =ğ(
CH_ATIME
 | 
CH_MTIME
)

373 && 
Ãwtime
[0].
tv_£c
 =ğ
now
.tv_sec

374 && 
Ãwtime
[0].
tv_n£c
 =ğ
now
.tv_nsec)

378 
time¥ec
 
nÙnow
, 
nÙnow1
;

379 
nÙnow
.
tv_£c
 = 
now
.tv_sec ^ 1;

380 
nÙnow
.
tv_n£c
 = 
now
.tv_nsec;

381 
	`g‘_»ld©e
 (&
nÙnow1
, 
æex_d©e
, &
nÙnow
);

382 ià(
nÙnow1
.
tv_£c
 =ğ
nÙnow
.tv_sec

383 && 
nÙnow1
.
tv_n£c
 =ğ
nÙnow
.tv_nsec)

384 
d©e_£t
 = 
çl£
;

391 ià(!
d©e_£t
 && 2 <ğ
¬gc
 - 
İtšd
 && 
	`posix2_v”siÚ
 () < 200112

392 && 
	`posixtime
 (&
Ãwtime
[0].
tv_£c
, 
¬gv
[
İtšd
],

393 
PDS_TRAILING_YEAR
 | 
PDS_PRE_2000
))

395 
Ãwtime
[0].
tv_n£c
 = 0;

396 
Ãwtime
[1] =‚ewtime[0];

397 
d©e_£t
 = 
Œue
;

399 ià(! 
	`g‘’v
 ("POSIXLY_CORRECT"))

401 
tm
 cÚ¡ *tm = 
	`loÿÉime
 (&
Ãwtime
[0].
tv_£c
);

407 ià(
tm
)

408 
	`”rÜ
 (0, 0,

409 
	`_
("warning: 'touch %s' is obsolete; use "

411 
¬gv
[
İtšd
],

412 
tm
->
tm_y—r
 + 1900L,m->
tm_mÚ
 + 1,m->
tm_mday
,

413 
tm
->
tm_hour
,m->
tm_mš
,m->
tm_£c
);

416 
İtšd
++;

419 ià(!
d©e_£t
)

421 ià(
chªge_times
 =ğ(
CH_ATIME
 | 
CH_MTIME
))

422 
amtime_now
 = 
Œue
;

424 
Ãwtime
[1].
tv_n£c
 =‚ewtime[0].tv_n£øğ
UTIME_NOW
;

427 ià(
İtšd
 =ğ
¬gc
)

429 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

430 
	`u§ge
 (
EXIT_FAILURE
);

433 ; 
İtšd
 < 
¬gc
; ++optind)

434 
ok
 &ğ
	`touch
 (
¬gv
[
İtšd
]);

436 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

437 
	}
}

	@tr.c

19 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<as£¹.h
>

23 
	~<sys/ty³s.h
>

24 
	~<g‘İt.h
>

26 
	~"sy¡em.h
"

27 
	~"”rÜ.h
"

28 
	~"çdvi£.h
"

29 
	~"quÙe.h
"

30 
	~"§ã-»ad.h
"

31 
	~"xäeİ’.h
"

32 
	~"x¡¹Ş.h
"

35 
	#PROGRAM_NAME
 "Œ"

	)

37 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

39 ’um { 
	mN_CHARS
 = 
UCHAR_MAX
 + 1 };

47 
uštmax_t
 
	tcouÁ
;

54 
	#BEGIN_STATE
 (
UINTMAX_MAX
 - 1)

	)

61 
	#NEW_ELEMENT
 (
BEGIN_STATE
 + 1)

	)

65 
	#REPEAT_COUNT_MAXIMUM
 
BEGIN_STATE


	)

69 
	eCh¬_şass


71 
	mCC_ALNUM
 = 0, 
	mCC_ALPHA
 = 1, 
	mCC_BLANK
 = 2, 
	mCC_CNTRL
 = 3,

72 
	mCC_DIGIT
 = 4, 
	mCC_GRAPH
 = 5, 
	mCC_LOWER
 = 6, 
	mCC_PRINT
 = 7,

73 
	mCC_PUNCT
 = 8, 
	mCC_SPACE
 = 9, 
	mCC_UPPER
 = 10, 
	mCC_XDIGIT
 = 11,

74 
	mCC_NO_CLASS
 = 9999

83 
	eUµ”_Low”_şass


85 
	mUL_LOWER
,

86 
	mUL_UPPER
,

87 
	mUL_NONE


91 
	eRªge_–em’t_ty³


93 
	mRE_NORMAL_CHAR
,

94 
	mRE_RANGE
,

95 
	mRE_CHAR_CLASS
,

96 
	mRE_EQUIV_CLASS
,

97 
	mRE_REPEATED_CHAR


105 
	sLi¡_–em’t


107 
Rªge_–em’t_ty³
 
	mty³
;

108 
Li¡_–em’t
 *
	mÃxt
;

111 
	mnÜm®_ch¬
;

114 
	mfœ¡_ch¬
;

115 
	mÏ¡_ch¬
;

117 
	m¿nge
;

118 
Ch¬_şass
 
	mch¬_şass
;

119 
	mequiv_code
;

122 
	mthe_»³©ed_ch¬
;

123 
couÁ
 
	m»³©_couÁ
;

125 
	m»³©ed_ch¬
;

127 
	mu
;

139 
	sS³c_li¡


143 
Li¡_–em’t
 *
	mh—d
;

149 
Li¡_–em’t
 *
	m
;

152 
couÁ
 
	m¡©e
;

156 
couÁ
 
	mËngth
;

159 
size_t
 
	mn_šdefš™e_»³©s
;

164 
Li¡_–em’t
 *
	mšdefš™e_»³©_–em’t
;

168 
boŞ
 
	mhas_equiv_şass
;

172 
boŞ
 
	mhas_ch¬_şass
;

176 
boŞ
 
	mhas_»¡riùed_ch¬_şass
;

183 
	sE_¡ršg


185 *
	ms
;

186 
boŞ
 *
	mesÿ³d
;

187 
size_t
 
	mËn
;

192 
šlše
 
boŞ


193 
	$es_m©ch
 (
E_¡ršg
 cÚ¡ *
es
, 
size_t
 
i
, 
c
)

195  
es
->
s
[
i
] =ğ
c
 && !es->
esÿ³d
[i];

196 
	}
}

201 
boŞ
 
	gsqu“ze_»³©s
 = 
çl£
;

204 
boŞ
 
	gd–‘e
 = 
çl£
;

207 
boŞ
 
	gcom¶em’t
 = 
çl£
;

237 
boŞ
 
	gŒunÿ‹_£t1
 = 
çl£
;

241 
boŞ
 
	gŒª¦©šg
;

243 
	gio_buf
[
BUFSIZ
];

245 cÚ¡ *cÚ¡ 
	gch¬_şass_Çme
[] =

255 
boŞ
 
	gš_squ“ze_£t
[
N_CHARS
];

261 
boŞ
 
	gš_d–‘e_£t
[
N_CHARS
];

266 
	gxÏ‹
[
N_CHARS
];

268 
İtiÚ
 cÚ¡ 
	glÚg_İtiÚs
[] =

270 {"com¶em’t", 
no_¬gum’t
, 
NULL
, 'c'},

271 {"d–‘e", 
no_¬gum’t
, 
NULL
, 'd'},

272 {"squ“ze-»³©s", 
no_¬gum’t
, 
NULL
, 's'},

273 {"Œunÿ‹-£t1", 
no_¬gum’t
, 
NULL
, 't'},

274 {
GETOPT_HELP_OPTION_DECL
},

275 {
GETOPT_VERSION_OPTION_DECL
},

276 {
NULL
, 0, NULL, 0}

280 
	$u§ge
 (
¡©us
)

282 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

283 
	`em™_Œy_h–p
 ();

286 
	`´štf
 (
	`_
("\
: %s [OPTION]... SET1 [SET2]\n\
"),

289 
´og¿m_Çme
);

290 
	`åuts
 (
	`_
("\
, squ“ze,‡nd/Ü d–‘ch¬aù” äom snd¬d iÅut,\n\
Ø¡ªd¬d ouut.\n\
\n\
-c, -C, --com¶em’ˆ u£hcom¶em’ˆoàSET1\n\
-d, --d–‘ d–‘ch¬aù” š SET1, dØnÙ¿n¦©e\n\
-s, --squ“ze-»³© „•Ïûƒach iÅuˆ£qu’û oà¨»³©ed ch¬aù”\n\
 i li¡ed iÀSET1 w™h‡ sšgË occu¼’û\n\
h© ch¬aù”\n\
-t, --Œunÿ‹-£t1 fœ¡runÿ‹ SET1ØËngth oàSET2\n\
"), 
¡dout
);

301 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

302 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

303 
	`åuts
 (
	`_
("\
\n\
‡» s³cif›d‡ ¡ršg oàch¬aù”s. Mo¡„•»£Áhem£lves.\n\
 sequ’û ¬e:\n\
\n\
\\NNN ch¬aù” w™h où® v®uNNN (1Ø3 où® dig™s)\n\
\\\\ back¦ash\n\
\\¨‡udibË BEL\n\
\\b back¥aû\n\
\\à fÜm f“d\n\
\\À‚ew†še\n\
\\¸„‘uº\n\
\\ˆ hÜizÚÈb\n\
"), 
¡dout
);

317 
	`åuts
 (
	`_
("\
\\v v”tiÿÈb\n\
1-CHAR2‡Î ch¬aù” äom CHAR1ØCHAR2 iÀasûndšg ord”\n\
[CHAR*] iÀSET2, cİ› oàCHAR uÁ†’gth oàSET1\n\
[CHAR*REPEAT] REPEAT cİ› oàCHAR, REPEAT où® ià¡¬tšg w™h 0\n\
[:®num:]‡Î†‘‹r ªd dig™s\n\
[:®pha:]‡Î†‘‹rs\n\
[:bÏnk:]‡Î hÜizÚÈwh™e¥aû\n\
[:úŒl:]‡Î cÚŒŞ ch¬aù”s\n\
[:dig™:]‡Î dig™s\n\
"), 
¡dout
);

328 
	`åuts
 (
	`_
("\
[:g¿ph:]‡Î…ršbË ch¬aù”s,‚Ù inşudšg s·û\n\
[:low”:]‡Î†ow” ca£†‘‹rs\n\
[:´št:]‡Î…ršbË ch¬aù”s, inşudšg s·û\n\
[:punù:]‡Î…unùu©iÚ ch¬aù”s\n\
[:¥aû:]‡Î hÜizÚÈÜ v”tiÿÈwh™e¥aû\n\
[:uµ”:]‡Î uµ” ca£†‘‹rs\n\
[:xdig™:]‡Î hexadecim® dig™s\n\
[=CHAR=]‡Î ch¬aù” which‡»ƒquiv®’ˆtØCHAR\n\
"), 
¡dout
);

338 
	`åuts
 (
	`_
("\
\n\
 occur ià-d i nÙ giv’‡nd bÙh SET1‡nd SET2‡µ—r.\n\
-ˆmay bu£d oÆy wh’¿n¦©šg. SET2 i ex‹ndedØËngth of\n\
1 by„•—tšg it Ï¡ ch¬aù”‡ Ãûs§ry. Exûs ch¬aù”s\n\
 SET2‡» ignÜed. OÆy [:low”:]‡nd [:uµ”:]‡» gu¬ª‹edo\n\
 iÀasûndšg ord”; u£d iÀSET2 whŒª¦©šg,hey may\n\
 bu£d iÀ·œ tØ¥ecify ca£ cÚv”siÚ. - u£ SET1 iànÙ\n\
‚Ü d–‘šg;ƒl£ squ“zšg u£ SET2‡nd occur aá”\n\
 o¸d–‘iÚ.\n\
"), 
¡dout
);

349 
	`em™_ªcÏry_šfo
 ();

351 
	`ex™
 (
¡©us
);

352 
	}
}

357 
šlše
 
boŞ


358 
	$is_equiv_şass_memb”
 (
equiv_şass
, 
c
)

360  (
equiv_şass
 =ğ
c
);

361 
	}
}

366 
boŞ
 
_GL_ATTRIBUTE_PURE


367 
	$is_ch¬_şass_memb”
 (
Ch¬_şass
 
ch¬_şass
, 
c
)

369 
»suÉ
;

371 
ch¬_şass
)

373 
CC_ALNUM
:

374 
»suÉ
 = 
	`i§Êum
 (
c
);

376 
CC_ALPHA
:

377 
»suÉ
 = 
	`i§Íha
 (
c
);

379 
CC_BLANK
:

380 
»suÉ
 = 
	`isbÏnk
 (
c
);

382 
CC_CNTRL
:

383 
»suÉ
 = 
	`isúŒl
 (
c
);

385 
CC_DIGIT
:

386 
»suÉ
 = 
	`isdig™
 (
c
);

388 
CC_GRAPH
:

389 
»suÉ
 = 
	`isg¿ph
 (
c
);

391 
CC_LOWER
:

392 
»suÉ
 = 
	`i¦ow”
 (
c
);

394 
CC_PRINT
:

395 
»suÉ
 = 
	`i¥ršt
 (
c
);

397 
CC_PUNCT
:

398 
»suÉ
 = 
	`i¥unù
 (
c
);

400 
CC_SPACE
:

401 
»suÉ
 = 
	`is¥aû
 (
c
);

403 
CC_UPPER
:

404 
»suÉ
 = 
	`isuµ”
 (
c
);

406 
CC_XDIGIT
:

407 
»suÉ
 = 
	`isxdig™
 (
c
);

410 
	`abÜt
 ();

414  !! 
»suÉ
;

415 
	}
}

418 
	$es_ä“
 (
E_¡ršg
 *
es
)

420 
	`ä“
 (
es
->
s
);

421 
	`ä“
 (
es
->
esÿ³d
);

422 
	}
}

432 
boŞ


433 
	$unquÙe
 (cÚ¡ *
s
, 
E_¡ršg
 *
es
)

435 
size_t
 
i
, 
j
;

436 
size_t
 
Ën
 = 
	`¡¾’
 (
s
);

438 
es
->
s
 = 
	`xm®loc
 (
Ën
);

439 
es
->
esÿ³d
 = 
	`xÿÎoc
 (
Ën
, ƒs->escaped[0]);

441 
j
 = 0;

442 
i
 = 0; 
s
[i]; i++)

444 
c
;

445 
où_dig™
;

447 
s
[
i
])

450 
es
->
esÿ³d
[
j
] = 
Œue
;

451 
s
[
i
 + 1])

454 
c
 = '\\';

457 
c
 = '\a';

460 
c
 = '\b';

463 
c
 = '\f';

466 
c
 = '\n';

469 
c
 = '\r';

472 
c
 = '\t';

475 
c
 = '\v';

485 
c
 = 
s
[
i
 + 1] - '0';

486 
où_dig™
 = 
s
[
i
 + 2] - '0';

487 ià(0 <ğ
où_dig™
 && oct_digit <= 7)

489 
c
 = 8 * c + 
où_dig™
;

490 ++
i
;

491 
où_dig™
 = 
s
[
i
 + 2] - '0';

492 ià(0 <ğ
où_dig™
 && oct_digit <= 7)

494 ià(8 * 
c
 + 
où_dig™
 < 
N_CHARS
)

496 
c
 = 8 * c + 
où_dig™
;

497 ++
i
;

509 
	`”rÜ
 (0, 0, 
	`_
("warning:he‡mbiguous octalƒscape\
\\%c%c%c is being\n\tinterpreted‡she 2-byte sequence \\0%c%c, %c"),

511 
s
[
i
], s[i + 1], s[i + 2],

512 
s
[
i
], s[i + 1], s[i + 2]);

518 
	`”rÜ
 (0, 0, 
	`_
("warning:‡n unescaped backslash "

521 
es
->
esÿ³d
[
j
] = 
çl£
;

522 
i
--;

523 
c
 = '\\';

526 
c
 = 
s
[
i
 + 1];

529 ++
i
;

530 
es
->
s
[
j
++] = 
c
;

533 
es
->
s
[
j
++] = s[
i
];

537 
es
->
Ën
 = 
j
;

538  
Œue
;

539 
	}
}

544 
Ch¬_şass
 
_GL_ATTRIBUTE_PURE


545 
	$look_up_ch¬_şass
 (cÚ¡ *
şass_¡r
, 
size_t
 
Ën
)

547 
Ch¬_şass
 
i
;

549 
i
 = 0; i < 
	`ARRAY_CARDINALITY
 (
ch¬_şass_Çme
); i++)

550 ià(
	`STREQ_LEN
 (
şass_¡r
, 
ch¬_şass_Çme
[
i
], 
Ën
)

551 && 
	`¡¾’
 (
ch¬_şass_Çme
[
i
]è=ğ
Ën
)

552  
i
;

553  
CC_NO_CLASS
;

554 
	}
}

560 
	$make_´šbË_ch¬
 (
c
)

562 *
buf
 = 
	`xm®loc
 (5);

564 ià(
	`i¥ršt
 (
c
))

566 
buf
[0] = 
c
;

567 
buf
[1] = '\0';

571 
	`¥rštf
 (
buf
, "\\%03o", 
c
);

573  
buf
;

574 
	}
}

584 
	$make_´šbË_¡r
 (cÚ¡ *
s
, 
size_t
 
Ën
)

588 *
´šbË_buf
 = 
	`xnm®loc
 (
Ën
 + 1, 4);

589 *
p
 = 
´šbË_buf
;

590 
size_t
 
i
;

592 
i
 = 0; i < 
Ën
; i++)

594 
buf
[5];

595 cÚ¡ *
tmp
 = 
NULL
;

596 
c
 = 
s
[
i
];

598 
c
)

601 
tmp
 = "\\";

604 
tmp
 = "\\a";

607 
tmp
 = "\\b";

610 
tmp
 = "\\f";

613 
tmp
 = "\\n";

616 
tmp
 = "\\r";

619 
tmp
 = "\\t";

622 
tmp
 = "\\v";

625 ià(
	`i¥ršt
 (
c
))

627 
buf
[0] = 
c
;

628 
buf
[1] = '\0';

631 
	`¥rštf
 (
buf
, "\\%03o", 
c
);

632 
tmp
 = 
buf
;

635 
p
 = 
	`¡pıy
 (p, 
tmp
);

637  
´šbË_buf
;

638 
	}
}

644 
	$­³nd_nÜm®_ch¬
 (
S³c_li¡
 *
li¡
, 
c
)

646 
Li¡_–em’t
 *
Ãw
;

648 
Ãw
 = 
	`xm®loc
 ( *new);

649 
Ãw
->
Ãxt
 = 
NULL
;

650 
Ãw
->
ty³
 = 
RE_NORMAL_CHAR
;

651 
Ãw
->
u
.
nÜm®_ch¬
 = 
c
;

652 
	`as£¹
 (
li¡
->

);

653 
li¡
->

->
Ãxt
 = 
Ãw
;

654 
li¡
->

 = 
Ãw
;

655 
	}
}

662 
boŞ


663 
	$­³nd_¿nge
 (
S³c_li¡
 *
li¡
, 
fœ¡
, 
Ï¡
)

665 
Li¡_–em’t
 *
Ãw
;

667 ià(
Ï¡
 < 
fœ¡
)

669 *
tmp1
 = 
	`make_´šbË_ch¬
 (
fœ¡
);

670 *
tmp2
 = 
	`make_´šbË_ch¬
 (
Ï¡
);

672 
	`”rÜ
 (0, 0,

673 
	`_
("range-endpoints of '%s-%s'‡re in„everse collating sequence order"),

674 
tmp1
, 
tmp2
);

675 
	`ä“
 (
tmp1
);

676 
	`ä“
 (
tmp2
);

677  
çl£
;

679 
Ãw
 = 
	`xm®loc
 ( *new);

680 
Ãw
->
Ãxt
 = 
NULL
;

681 
Ãw
->
ty³
 = 
RE_RANGE
;

682 
Ãw
->
u
.
¿nge
.
fœ¡_ch¬
 = 
fœ¡
;

683 
Ãw
->
u
.
¿nge
.
Ï¡_ch¬
 = 
Ï¡
;

684 
	`as£¹
 (
li¡
->

);

685 
li¡
->

->
Ãxt
 = 
Ãw
;

686 
li¡
->

 = 
Ãw
;

687  
Œue
;

688 
	}
}

695 
boŞ


696 
	$­³nd_ch¬_şass
 (
S³c_li¡
 *
li¡
,

697 cÚ¡ *
ch¬_şass_¡r
, 
size_t
 
Ën
)

699 
Ch¬_şass
 
ch¬_şass
;

700 
Li¡_–em’t
 *
Ãw
;

702 
ch¬_şass
 = 
	`look_up_ch¬_şass
 (
ch¬_şass_¡r
, 
Ën
);

703 ià(
ch¬_şass
 =ğ
CC_NO_CLASS
)

704  
çl£
;

705 
Ãw
 = 
	`xm®loc
 ( *new);

706 
Ãw
->
Ãxt
 = 
NULL
;

707 
Ãw
->
ty³
 = 
RE_CHAR_CLASS
;

708 
Ãw
->
u
.
ch¬_şass
 = char_class;

709 
	`as£¹
 (
li¡
->

);

710 
li¡
->

->
Ãxt
 = 
Ãw
;

711 
li¡
->

 = 
Ãw
;

712  
Œue
;

713 
	}
}

721 
	$­³nd_»³©ed_ch¬
 (
S³c_li¡
 *
li¡
, 
the_ch¬
,

722 
couÁ
 
»³©_couÁ
)

724 
Li¡_–em’t
 *
Ãw
;

726 
Ãw
 = 
	`xm®loc
 ( *new);

727 
Ãw
->
Ãxt
 = 
NULL
;

728 
Ãw
->
ty³
 = 
RE_REPEATED_CHAR
;

729 
Ãw
->
u
.
»³©ed_ch¬
.
the_»³©ed_ch¬
 = 
the_ch¬
;

730 
Ãw
->
u
.
»³©ed_ch¬
.
»³©_couÁ
 =„epeat_count;

731 
	`as£¹
 (
li¡
->

);

732 
li¡
->

->
Ãxt
 = 
Ãw
;

733 
li¡
->

 = 
Ãw
;

734 
	}
}

742 
boŞ


743 
	$­³nd_equiv_şass
 (
S³c_li¡
 *
li¡
,

744 cÚ¡ *
equiv_şass_¡r
, 
size_t
 
Ën
)

746 
Li¡_–em’t
 *
Ãw
;

748 ià(
Ën
 != 1)

749  
çl£
;

750 
Ãw
 = 
	`xm®loc
 ( *new);

751 
Ãw
->
Ãxt
 = 
NULL
;

752 
Ãw
->
ty³
 = 
RE_EQUIV_CLASS
;

753 
Ãw
->
u
.
equiv_code
 = *
equiv_şass_¡r
;

754 
	`as£¹
 (
li¡
->

);

755 
li¡
->

->
Ãxt
 = 
Ãw
;

756 
li¡
->

 = 
Ãw
;

757  
Œue
;

758 
	}
}

766 
boŞ


767 
	$fšd_şosšg_d–im
 (cÚ¡ 
E_¡ršg
 *
es
, 
size_t
 
¡¬t_idx
,

768 
´e_b¿ck‘_ch¬
, 
size_t
 *
»suÉ_idx
)

770 
size_t
 
i
;

772 
i
 = 
¡¬t_idx
; i < 
es
->
Ën
 - 1; i++)

773 ià(
es
->
s
[
i
] =ğ
´e_b¿ck‘_ch¬
 &&ƒs->s[i + 1] == ']'

774 && !
es
->
esÿ³d
[
i
] && !es->escaped[i + 1])

776 *
»suÉ_idx
 = 
i
;

777  
Œue
;

779  
çl£
;

780 
	}
}

793 
	$fšd_b¿ck‘ed_»³©
 (cÚ¡ 
E_¡ršg
 *
es
, 
size_t
 
¡¬t_idx
,

794 *
ch¬_to_»³©
, 
couÁ
 *
»³©_couÁ
,

795 
size_t
 *
şosšg_b¿ck‘_idx
)

797 
size_t
 
i
;

799 
	`as£¹
 (
¡¬t_idx
 + 1 < 
es
->
Ën
);

800 ià(!
	`es_m©ch
 (
es
, 
¡¬t_idx
 + 1, '*'))

803 
i
 = 
¡¬t_idx
 + 2; i < 
es
->
Ën
 && !es->
esÿ³d
[i]; i++)

805 ià(
es
->
s
[
i
] == ']')

807 
size_t
 
dig™_¡r_Ën
 = 
i
 - 
¡¬t_idx
 - 2;

809 *
ch¬_to_»³©
 = 
es
->
s
[
¡¬t_idx
];

810 ià(
dig™_¡r_Ën
 == 0)

813 *
»³©_couÁ
 = 0;

819 cÚ¡ *
dig™_¡r
 = &
es
->
s
[
¡¬t_idx
 + 2];

820 *
d_’d
;

821 ià((
	`x¡¹oumax
 (
dig™_¡r
, &
d_’d
, *digit_str == '0' ? 8 : 10,

822 
»³©_couÁ
, 
NULL
)

823 !ğ
LONGINT_OK
)

824 || 
REPEAT_COUNT_MAXIMUM
 < *
»³©_couÁ


825 || 
dig™_¡r
 + 
dig™_¡r_Ën
 !ğ
d_’d
)

827 *
tmp
 = 
	`make_´šbË_¡r
 (
dig™_¡r
, 
dig™_¡r_Ën
);

828 
	`”rÜ
 (0, 0,

829 
	`_
("invalid„epeat count %s in [c*n] construct"),

830 
	`quÙe
 (
tmp
));

831 
	`ä“
 (
tmp
);

835 *
şosšg_b¿ck‘_idx
 = 
i
;

840 
	}
}

846 
boŞ
 
_GL_ATTRIBUTE_PURE


847 
	$¡¬_dig™s_şo£b¿ck‘
 (cÚ¡ 
E_¡ršg
 *
es
, 
size_t
 
idx
)

849 
size_t
 
i
;

851 ià(!
	`es_m©ch
 (
es
, 
idx
, '*'))

852  
çl£
;

854 
i
 = 
idx
 + 1; i < 
es
->
Ën
; i++)

855 ià(!
	`ISDIGIT
 (
	`to_uch¬
 (
es
->
s
[
i
])è||ƒs->
esÿ³d
[i])

856  
	`es_m©ch
 (
es
, 
i
, ']');

857  
çl£
;

858 
	}
}

872 
boŞ


873 
	$bud_¥ec_li¡
 (cÚ¡ 
E_¡ršg
 *
es
, 
S³c_li¡
 *
»suÉ
)

875 cÚ¡ *
p
;

876 
size_t
 
i
;

878 
p
 = 
es
->
s
;

887 
i
 = 0; i + 2 < 
es
->
Ën
; )

889 ià(
	`es_m©ch
 (
es
, 
i
, '['))

891 
boŞ
 
m©ched_muÉi_ch¬_cÚ¡ruù
;

892 
size_t
 
şosšg_b¿ck‘_idx
;

893 
ch¬_to_»³©
;

894 
couÁ
 
»³©_couÁ
;

895 
”r
;

897 
m©ched_muÉi_ch¬_cÚ¡ruù
 = 
Œue
;

898 ià(
	`es_m©ch
 (
es
, 
i
 + 1, ':') ||ƒs_match (es, i + 1, '='))

900 
size_t
 
şosšg_d–im_idx
;

902 ià(
	`fšd_şosšg_d–im
 (
es
, 
i
 + 2, 
p
[˜+ 1], &
şosšg_d–im_idx
))

904 
size_t
 
İnd_¡r_Ën
 = 
şosšg_d–im_idx
 - 1 - (
i
 + 2) + 1;

905 cÚ¡ *
İnd_¡r
 = 
p
 + 
i
 + 2;

907 ià(
İnd_¡r_Ën
 == 0)

909 ià(
p
[
i
 + 1] == ':')

910 
	`”rÜ
 (0, 0, 
	`_
("missing character class‚ame '[::]'"));

912 
	`”rÜ
 (0, 0,

913 
	`_
("missingƒquivalence class character '[==]'"));

914  
çl£
;

917 ià(
p
[
i
 + 1] == ':')

920 ià(!
	`­³nd_ch¬_şass
 (
»suÉ
, 
İnd_¡r
, 
İnd_¡r_Ën
))

922 ià(
	`¡¬_dig™s_şo£b¿ck‘
 (
es
, 
i
 + 2))

923 
Œy_b¿ck‘ed_»³©
;

926 *
tmp
 = 
	`make_´šbË_¡r
 (
İnd_¡r
,

927 
İnd_¡r_Ën
);

928 
	`”rÜ
 (0, 0, 
	`_
("invalid character class %s"),

929 
	`quÙe
 (
tmp
));

930 
	`ä“
 (
tmp
);

931  
çl£
;

938 ià(!
	`­³nd_equiv_şass
 (
»suÉ
, 
İnd_¡r
, 
İnd_¡r_Ën
))

940 ià(
	`¡¬_dig™s_şo£b¿ck‘
 (
es
, 
i
 + 2))

941 
Œy_b¿ck‘ed_»³©
;

944 *
tmp
 = 
	`make_´šbË_¡r
 (
İnd_¡r
,

945 
İnd_¡r_Ën
);

946 
	`”rÜ
 (0, 0,

947 
	`_
("%s:ƒquivalence class operand must be‡ single character"),

948 
tmp
);

949 
	`ä“
 (
tmp
);

950  
çl£
;

955 
i
 = 
şosšg_d–im_idx
 + 2;

961 
Œy_b¿ck‘ed_»³©
:

965 
”r
 = 
	`fšd_b¿ck‘ed_»³©
 (
es
, 
i
 + 1, &
ch¬_to_»³©
,

966 &
»³©_couÁ
,

967 &
şosšg_b¿ck‘_idx
);

968 ià(
”r
 == 0)

970 
	`­³nd_»³©ed_ch¬
 (
»suÉ
, 
ch¬_to_»³©
, 
»³©_couÁ
);

971 
i
 = 
şosšg_b¿ck‘_idx
 + 1;

973 ià(
”r
 == -1)

975 
m©ched_muÉi_ch¬_cÚ¡ruù
 = 
çl£
;

981  
çl£
;

984 ià(
m©ched_muÉi_ch¬_cÚ¡ruù
)

993 ià(
	`es_m©ch
 (
es
, 
i
 + 1, '-'))

995 ià(!
	`­³nd_¿nge
 (
»suÉ
, 
p
[
i
],…[i + 2]))

996  
çl£
;

997 
i
 += 3;

1001 
	`­³nd_nÜm®_ch¬
 (
»suÉ
, 
p
[
i
]);

1002 ++
i
;

1007 ; 
i
 < 
es
->
Ën
; i++)

1008 
	`­³nd_nÜm®_ch¬
 (
»suÉ
, 
p
[
i
]);

1010  
Œue
;

1011 
	}
}

1016 
	$sk_cÚ¡ruù
 (
S³c_li¡
 *
s
)

1018 
s
->

 = s->->
Ãxt
;

1019 
s
->
¡©e
 = 
NEW_ELEMENT
;

1020 
	}
}

1037 
	$g‘_Ãxt
 (
S³c_li¡
 *
s
, 
Uµ”_Low”_şass
 *
şass
)

1039 
Li¡_–em’t
 *
p
;

1040 
»tuº_v®
;

1041 
i
;

1043 ià(
şass
)

1044 *
şass
 = 
UL_NONE
;

1046 ià(
s
->
¡©e
 =ğ
BEGIN_STATE
)

1048 
s
->

 = s->
h—d
->
Ãxt
;

1049 
s
->
¡©e
 = 
NEW_ELEMENT
;

1052 
p
 = 
s
->

;

1053 ià(
p
 =ğ
NULL
)

1056 
p
->
ty³
)

1058 
RE_NORMAL_CHAR
:

1059 
»tuº_v®
 = 
p
->
u
.
nÜm®_ch¬
;

1060 
s
->
¡©e
 = 
NEW_ELEMENT
;

1061 
s
->

 = 
p
->
Ãxt
;

1064 
RE_RANGE
:

1065 ià(
s
->
¡©e
 =ğ
NEW_ELEMENT
)

1066 
s
->
¡©e
 = 
p
->
u
.
¿nge
.
fœ¡_ch¬
;

1068 ++(
s
->
¡©e
);

1069 
»tuº_v®
 = 
s
->
¡©e
;

1070 ià(
s
->
¡©e
 =ğ
p
->
u
.
¿nge
.
Ï¡_ch¬
)

1072 
s
->

 = 
p
->
Ãxt
;

1073 
s
->
¡©e
 = 
NEW_ELEMENT
;

1077 
RE_CHAR_CLASS
:

1078 ià(
şass
)

1080 
p
->
u
.
ch¬_şass
)

1082 
CC_LOWER
:

1083 *
şass
 = 
UL_LOWER
;

1085 
CC_UPPER
:

1086 *
şass
 = 
UL_UPPER
;

1093 ià(
s
->
¡©e
 =ğ
NEW_ELEMENT
)

1095 
i
 = 0; i < 
N_CHARS
; i++)

1096 ià(
	`is_ch¬_şass_memb”
 (
p
->
u
.
ch¬_şass
, 
i
))

1098 
	`as£¹
 (
i
 < 
N_CHARS
);

1099 
s
->
¡©e
 = 
i
;

1101 
	`as£¹
 (
	`is_ch¬_şass_memb”
 (
p
->
u
.
ch¬_şass
, 
s
->
¡©e
));

1102 
»tuº_v®
 = 
s
->
¡©e
;

1103 
i
 = 
s
->
¡©e
 + 1; i < 
N_CHARS
; i++)

1104 ià(
	`is_ch¬_şass_memb”
 (
p
->
u
.
ch¬_şass
, 
i
))

1106 ià(
i
 < 
N_CHARS
)

1107 
s
->
¡©e
 = 
i
;

1110 
s
->

 = 
p
->
Ãxt
;

1111 
s
->
¡©e
 = 
NEW_ELEMENT
;

1115 
RE_EQUIV_CLASS
:

1121 
»tuº_v®
 = 
p
->
u
.
equiv_code
;

1122 
s
->
¡©e
 = 
NEW_ELEMENT
;

1123 
s
->

 = 
p
->
Ãxt
;

1126 
RE_REPEATED_CHAR
:

1128 ià(
p
->
u
.
»³©ed_ch¬
.
»³©_couÁ
 == 0)

1130 
s
->

 = 
p
->
Ãxt
;

1131 
s
->
¡©e
 = 
NEW_ELEMENT
;

1132 
»tuº_v®
 = 
	`g‘_Ãxt
 (
s
, 
şass
);

1136 ià(
s
->
¡©e
 =ğ
NEW_ELEMENT
)

1138 
s
->
¡©e
 = 0;

1140 ++(
s
->
¡©e
);

1141 
»tuº_v®
 = 
p
->
u
.
»³©ed_ch¬
.
the_»³©ed_ch¬
;

1142 ià(
s
->
¡©e
 =ğ
p
->
u
.
»³©ed_ch¬
.
»³©_couÁ
)

1144 
s
->

 = 
p
->
Ãxt
;

1145 
s
->
¡©e
 = 
NEW_ELEMENT
;

1151 
	`abÜt
 ();

1155  
»tuº_v®
;

1156 
	}
}

1164 
	$ÿrd_of_com¶em’t
 (
S³c_li¡
 *
s
)

1166 
c
;

1167 
ÿrdš®™y
 = 
N_CHARS
;

1168 
boŞ
 
š_£t
[
N_CHARS
] = { 0, };

1170 
s
->
¡©e
 = 
BEGIN_STATE
;

1171 (
c
 = 
	`g‘_Ãxt
 (
s
, 
NULL
)) != -1)

1173 
ÿrdš®™y
 -ğ(!
š_£t
[
c
]);

1174 
š_£t
[
c
] = 
Œue
;

1176  
ÿrdš®™y
;

1177 
	}
}

1189 
	$v®id©e_ÿ£_şas£s
 (
S³c_li¡
 *
s1
, S³c_li¡ *
s2
)

1191 
size_t
 
n_uµ”
 = 0;

1192 
size_t
 
n_low”
 = 0;

1193 
i
;

1194 
c1
 = 0;

1195 
c2
 = 0;

1196 
couÁ
 
Şd_s1_Ën
 = 
s1
->
Ëngth
;

1197 
couÁ
 
Şd_s2_Ën
 = 
s2
->
Ëngth
;

1198 
Li¡_–em’t
 *
s1_
 = 
s1
->

;

1199 
Li¡_–em’t
 *
s2_
 = 
s2
->

;

1200 
boŞ
 
s1_Ãw_–em’t
 = 
Œue
;

1201 
boŞ
 
s2_Ãw_–em’t
 = 
Œue
;

1203 ià(!
s2
->
has_ch¬_şass
)

1206 
i
 = 0; i < 
N_CHARS
; i++)

1208 ià(
	`isuµ”
 (
i
))

1209 
n_uµ”
++;

1210 ià(
	`i¦ow”
 (
i
))

1211 
n_low”
++;

1214 
s1
->
¡©e
 = 
BEGIN_STATE
;

1215 
s2
->
¡©e
 = 
BEGIN_STATE
;

1217 
c1
 !ğ-1 && 
c2
 != -1)

1219 
Uµ”_Low”_şass
 
şass_s1
, 
şass_s2
;

1221 
c1
 = 
	`g‘_Ãxt
 (
s1
, &
şass_s1
);

1222 
c2
 = 
	`g‘_Ãxt
 (
s2
, &
şass_s2
);

1226 ià(
s2_Ãw_–em’t
 && 
şass_s2
 !ğ
UL_NONE


1227 && !(
s1_Ãw_–em’t
 && 
şass_s1
 !ğ
UL_NONE
))

1228 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1229 
	`_
("misaligned [:upper:]‡nd/or [:lower:] construct"));

1232 ià(
şass_s2
 !ğ
UL_NONE
)

1234 
	`sk_cÚ¡ruù
 (
s1
);

1235 
	`sk_cÚ¡ruù
 (
s2
);

1237 
s1
->
Ëngth
 -ğ(
şass_s1
 =ğ
UL_UPPER
 ? 
n_uµ”
 : 
n_low”
) - 1;

1238 
s2
->
Ëngth
 -ğ(
şass_s2
 =ğ
UL_UPPER
 ? 
n_uµ”
 : 
n_low”
) - 1;

1241 
s1_Ãw_–em’t
 = 
s1
->
¡©e
 =ğ
NEW_ELEMENT
;

1242 
s2_Ãw_–em’t
 = 
s2
->
¡©e
 =ğ
NEW_ELEMENT
;

1245 
	`as£¹
 (
Şd_s1_Ën
 >ğ
s1
->
Ëngth
 && 
Şd_s2_Ën
 >ğ
s2
->length);

1247 
s1
->

 = 
s1_
;

1248 
s2
->

 = 
s2_
;

1249 
	}
}

1265 
	$g‘_¥ec_¡©s
 (
S³c_li¡
 *
s
)

1267 
Li¡_–em’t
 *
p
;

1268 
couÁ
 
Ëngth
 = 0;

1270 
s
->
n_šdefš™e_»³©s
 = 0;

1271 
s
->
has_equiv_şass
 = 
çl£
;

1272 
s
->
has_»¡riùed_ch¬_şass
 = 
çl£
;

1273 
s
->
has_ch¬_şass
 = 
çl£
;

1274 
p
 = 
s
->
h—d
->
Ãxt
;…;… =…->next)

1276 
i
;

1277 
couÁ
 
Ën
 = 0;

1278 
couÁ
 
Ãw_Ëngth
;

1280 
p
->
ty³
)

1282 
RE_NORMAL_CHAR
:

1283 
Ën
 = 1;

1286 
RE_RANGE
:

1287 
	`as£¹
 (
p
->
u
.
¿nge
.
Ï¡_ch¬
 >ğp->u.¿nge.
fœ¡_ch¬
);

1288 
Ën
 = 
p
->
u
.
¿nge
.
Ï¡_ch¬
 -…->u.¿nge.
fœ¡_ch¬
 + 1;

1291 
RE_CHAR_CLASS
:

1292 
s
->
has_ch¬_şass
 = 
Œue
;

1293 
i
 = 0; i < 
N_CHARS
; i++)

1294 ià(
	`is_ch¬_şass_memb”
 (
p
->
u
.
ch¬_şass
, 
i
))

1295 ++
Ën
;

1296 
p
->
u
.
ch¬_şass
)

1298 
CC_UPPER
:

1299 
CC_LOWER
:

1302 
s
->
has_»¡riùed_ch¬_şass
 = 
Œue
;

1307 
RE_EQUIV_CLASS
:

1308 
i
 = 0; i < 
N_CHARS
; i++)

1309 ià(
	`is_equiv_şass_memb”
 (
p
->
u
.
equiv_code
, 
i
))

1310 ++
Ën
;

1311 
s
->
has_equiv_şass
 = 
Œue
;

1314 
RE_REPEATED_CHAR
:

1315 ià(
p
->
u
.
»³©ed_ch¬
.
»³©_couÁ
 > 0)

1316 
Ën
 = 
p
->
u
.
»³©ed_ch¬
.
»³©_couÁ
;

1319 
s
->
šdefš™e_»³©_–em’t
 = 
p
;

1320 ++(
s
->
n_šdefš™e_»³©s
);

1325 
	`abÜt
 ();

1333 
Ãw_Ëngth
 = 
Ëngth
 + 
Ën
;

1334 ià(! (
Ëngth
 <ğ
Ãw_Ëngth
 &&‚ew_Ëngth <ğ
REPEAT_COUNT_MAXIMUM
))

1335 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("too many characters in set"));

1336 
Ëngth
 = 
Ãw_Ëngth
;

1339 
s
->
Ëngth
 =†ength;

1340 
	}
}

1343 
	$g‘_s1_¥ec_¡©s
 (
S³c_li¡
 *
s1
)

1345 
	`g‘_¥ec_¡©s
 (
s1
);

1346 ià(
com¶em’t
)

1347 
s1
->
Ëngth
 = 
	`ÿrd_of_com¶em’t
 (s1);

1348 
	}
}

1351 
	$g‘_s2_¥ec_¡©s
 (
S³c_li¡
 *
s2
, 
couÁ
 
Ën_s1
)

1353 
	`g‘_¥ec_¡©s
 (
s2
);

1354 ià(
Ën_s1
 >ğ
s2
->
Ëngth
 && s2->
n_šdefš™e_»³©s
 == 1)

1356 
s2
->
šdefš™e_»³©_–em’t
->
u
.
»³©ed_ch¬
.
»³©_couÁ
 =

1357 
Ën_s1
 - 
s2
->
Ëngth
;

1358 
s2
->
Ëngth
 = 
Ën_s1
;

1360 
	}
}

1363 
	$¥ec_š™
 (
S³c_li¡
 *
¥ec_li¡
)

1365 
Li¡_–em’t
 *
Ãw
 = 
	`xm®loc
 ( *new);

1366 
¥ec_li¡
->
h—d
 = s³c_li¡->

 = 
Ãw
;

1367 
¥ec_li¡
->
h—d
->
Ãxt
 = 
NULL
;

1368 
	}
}

1376 
boŞ


1377 
	$·r£_¡r
 (cÚ¡ *
s
, 
S³c_li¡
 *
¥ec_li¡
)

1379 
E_¡ršg
 
es
;

1380 
boŞ
 
ok
 = 
	`unquÙe
 (
s
, &
es
è&& 
	`bud_¥ec_li¡
 (&es, 
¥ec_li¡
);

1381 
	`es_ä“
 (&
es
);

1382  
ok
;

1383 
	}
}

1396 
	$¡ršg2_ex‹nd
 (cÚ¡ 
S³c_li¡
 *
s1
, S³c_li¡ *
s2
)

1398 
Li¡_–em’t
 *
p
;

1399 
ch¬_to_»³©
;

1401 
	`as£¹
 (
Œª¦©šg
);

1402 
	`as£¹
 (
s1
->
Ëngth
 > 
s2
->length);

1403 
	`as£¹
 (
s2
->
Ëngth
 > 0);

1405 
p
 = 
s2
->

;

1406 
p
->
ty³
)

1408 
RE_NORMAL_CHAR
:

1409 
ch¬_to_»³©
 = 
p
->
u
.
nÜm®_ch¬
;

1411 
RE_RANGE
:

1412 
ch¬_to_»³©
 = 
p
->
u
.
¿nge
.
Ï¡_ch¬
;

1414 
RE_CHAR_CLASS
:

1419 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1420 
	`_
("whenranslating with string1†ongerhan string2,\nthe\
 string must‚otƒnd with‡ character class"));

1422 
	`abÜt
 ();

1425 
RE_REPEATED_CHAR
:

1426 
ch¬_to_»³©
 = 
p
->
u
.
»³©ed_ch¬
.
the_»³©ed_ch¬
;

1429 
RE_EQUIV_CLASS
:

1432 
	`abÜt
 ();

1436 
	`abÜt
 ();

1440 
	`­³nd_»³©ed_ch¬
 (
s2
, 
ch¬_to_»³©
, 
s1
->
Ëngth
 - s2->length);

1441 
s2
->
Ëngth
 = 
s1
->length;

1442 
	}
}

1448 
boŞ


1449 
	$homog’eous_¥ec_li¡
 (
S³c_li¡
 *
s
)

1451 
b
, 
c
;

1453 
s
->
¡©e
 = 
BEGIN_STATE
;

1455 ià((
b
 = 
	`g‘_Ãxt
 (
s
, 
NULL
)) == -1)

1456  
çl£
;

1458 (
c
 = 
	`g‘_Ãxt
 (
s
, 
NULL
)) != -1)

1459 ià(
c
 !ğ
b
)

1460  
çl£
;

1462  
Œue
;

1463 
	}
}

1474 
	$v®id©e
 (
S³c_li¡
 *
s1
, S³c_li¡ *
s2
)

1476 
	`g‘_s1_¥ec_¡©s
 (
s1
);

1477 ià(
s1
->
n_šdefš™e_»³©s
 > 0)

1479 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1480 
	`_
("the [c*]„epeat construct may‚ot‡ppear in string1"));

1483 ià(
s2
)

1485 
	`g‘_s2_¥ec_¡©s
 (
s2
, 
s1
->
Ëngth
);

1487 ià(
s2
->
n_šdefš™e_»³©s
 > 1)

1489 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1490 
	`_
("only one [c*]„epeat construct may‡ppear in string2"));

1493 ià(
Œª¦©šg
)

1495 ià(
s2
->
has_equiv_şass
)

1497 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1498 
	`_
("[=c=]ƒxpressions may‚ot‡ppear in string2\
ranslating"));

1502 ià(
s2
->
has_»¡riùed_ch¬_şass
)

1504 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1505 
	`_
("whenranslating,he only character classeshat may\
 in\nstring2‡re 'upper'‡nd 'lower'"));

1509 
	`v®id©e_ÿ£_şas£s
 (
s1
, 
s2
);

1511 ià(
s1
->
Ëngth
 > 
s2
->length)

1513 ià(!
Œunÿ‹_£t1
)

1518 ià(
s2
->
Ëngth
 == 0)

1519 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1520 
	`_
("when‚otruncating set1, string2 must be‚on-empty"));

1521 
	`¡ršg2_ex‹nd
 (
s1
, 
s2
);

1525 ià(
com¶em’t
 && 
s1
->
has_ch¬_şass


1526 && ! (
s2
->
Ëngth
 =ğ
s1
->Ëngth && 
	`homog’eous_¥ec_li¡
 (s2)))

1528 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1529 
	`_
("whenranslating with complemented character classes,\
\nstring2 must map‡ll characters inhe domaino one"));

1536 ià(
s2
->
n_šdefš™e_»³©s
 > 0)

1537 
	`”rÜ
 (
EXIT_FAILURE
, 0,

1538 
	`_
("the [c*] construct may‡ppear in string2 only\
ranslating"));

1542 
	}
}

1553 
squ“ze_f‹r
 (*
buf
, 
size_t
 
size
, 
	$size_t
 (*
»ad”
è(*, 
size_t
))

1557 cÚ¡ 
NOT_A_CHAR
 = 
INT_MAX
;

1559 
ch¬_to_squ“ze
 = 
NOT_A_CHAR
;

1560 
size_t
 
i
 = 0;

1561 
size_t
 
Ä
 = 0;

1563 
Œue
)

1565 
size_t
 
begš
;

1567 ià(
i
 >ğ
Ä
)

1569 
Ä
 = 
	`»ad”
 (
buf
, 
size
);

1570 ià(
Ä
 == 0)

1572 
i
 = 0;

1575 
begš
 = 
i
;

1577 ià(
ch¬_to_squ“ze
 =ğ
NOT_A_CHAR
)

1579 
size_t
 
out_Ën
;

1591 ; 
i
 < 
Ä
 && !
š_squ“ze_£t
[
	`to_uch¬
 (
buf
[i])]; i += 2)

1597 ià(
i
 =ğ
Ä
 && 
š_squ“ze_£t
[
	`to_uch¬
 (
buf
[i - 1])])

1598 --
i
;

1600 ià(
i
 >ğ
Ä
)

1601 
out_Ën
 = 
Ä
 - 
begš
;

1604 
ch¬_to_squ“ze
 = 
buf
[
i
];

1606 
out_Ën
 = 
i
 - 
begš
 + 1;

1610 ià(
i
 > 0 && 
buf
[˜- 1] =ğ
ch¬_to_squ“ze
)

1611 --
out_Ën
;

1616 ++
i
;

1618 ià(
out_Ën
 > 0

1619 && 
	`fwr™e
 (&
buf
[
begš
], 1, 
out_Ën
, 
¡dout
) != out_len)

1620 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

1623 ià(
ch¬_to_squ“ze
 !ğ
NOT_A_CHAR
)

1628 ; 
i
 < 
Ä
 && 
buf
[i] =ğ
ch¬_to_squ“ze
; i++)

1630 ià(
i
 < 
Ä
)

1631 
ch¬_to_squ“ze
 = 
NOT_A_CHAR
;

1637 
	}
}

1639 
size_t


1640 
	$¶aš_»ad
 (*
buf
, 
size_t
 
size
)

1642 
size_t
 
Ä
 = 
	`§ã_»ad
 (
STDIN_FILENO
, 
buf
, 
size
);

1643 ià(
Ä
 =ğ
SAFE_READ_ERROR
)

1644 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("readƒrror"));

1645  
Ä
;

1646 
	}
}

1654 
size_t


1655 
	$»ad_ªd_d–‘e
 (*
buf
, 
size_t
 
size
)

1657 
size_t
 
n_§ved
;

1664 
size_t
 
i
;

1665 
size_t
 
Ä
 = 
	`¶aš_»ad
 (
buf
, 
size
);

1667 ià(
Ä
 == 0)

1675 
i
 = 0; i < 
Ä
 && !
š_d–‘e_£t
[
	`to_uch¬
 (
buf
[i])]; i++)

1677 
n_§ved
 = 
i
;

1679 ++
i
; i < 
Ä
; i++)

1680 ià(!
š_d–‘e_£t
[
	`to_uch¬
 (
buf
[
i
])])

1681 
buf
[
n_§ved
++] = buf[
i
];

1683 
n_§ved
 == 0);

1685  
n_§ved
;

1686 
	}
}

1692 
size_t


1693 
	$»ad_ªd_xÏ‹
 (*
buf
, 
size_t
 
size
)

1695 
size_t
 
by‹s_»ad
 = 
	`¶aš_»ad
 (
buf
, 
size
);

1696 
size_t
 
i
;

1698 
i
 = 0; i < 
by‹s_»ad
; i++)

1699 
buf
[
i
] = 
xÏ‹
[
	`to_uch¬
 (buf[i])];

1701  
by‹s_»ad
;

1702 
	}
}

1711 
	$£t_š™Ÿlize
 (
S³c_li¡
 *
s
, 
boŞ
 
com¶em’t_this_£t
, boŞ *
š_£t
)

1713 
c
;

1714 
size_t
 
i
;

1716 
s
->
¡©e
 = 
BEGIN_STATE
;

1717 (
c
 = 
	`g‘_Ãxt
 (
s
, 
NULL
)) != -1)

1718 
š_£t
[
c
] = 
Œue
;

1719 ià(
com¶em’t_this_£t
)

1720 
i
 = 0; i < 
N_CHARS
; i++)

1721 
š_£t
[
i
] = (!in_set[i]);

1722 
	}
}

1725 
	$maš
 (
¬gc
, **
¬gv
)

1727 
c
;

1728 
nÚ_İtiÚ_¬gs
;

1729 
mš_İ”ªds
;

1730 
max_İ”ªds
;

1731 
S³c_li¡
 
buf1
, 
buf2
;

1732 
S³c_li¡
 *
s1
 = &
buf1
;

1733 
S³c_li¡
 *
s2
 = &
buf2
;

1735 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

1736 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

1737 
	`£oÿË
 (
LC_ALL
, "");

1738 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

1739 
	`‹xtdomaš
 (
PACKAGE
);

1741 
	`©ex™
 (
şo£_¡dout
);

1743 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+cCd¡", 
lÚg_İtiÚs
, 
NULL
)) != -1)

1745 
c
)

1749 
com¶em’t
 = 
Œue
;

1753 
d–‘e
 = 
Œue
;

1757 
squ“ze_»³©s
 = 
Œue
;

1761 
Œunÿ‹_£t1
 = 
Œue
;

1764 
ÿ£_GETOPT_HELP_CHAR
;

1766 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

1769 
	`u§ge
 (
EXIT_FAILURE
);

1774 
nÚ_İtiÚ_¬gs
 = 
¬gc
 - 
İtšd
;

1775 
Œª¦©šg
 = (
nÚ_İtiÚ_¬gs
 =ğ2 && !
d–‘e
);

1776 
mš_İ”ªds
 = 1 + (
d–‘e
 =ğ
squ“ze_»³©s
);

1777 
max_İ”ªds
 = 1 + (
d–‘e
 <ğ
squ“ze_»³©s
);

1779 ià(
nÚ_İtiÚ_¬gs
 < 
mš_İ”ªds
)

1781 ià(
nÚ_İtiÚ_¬gs
 == 0)

1782 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

1785 
	`”rÜ
 (0, 0, 
	`_
("missšg o³¿nd‡á” %s"), 
	`quÙe
 (
¬gv
[
¬gc
 - 1]));

1786 
	`årštf
 (
¡d”r
, "%s\n",

1787 
	`_
(
squ“ze_»³©s


1788 ? 
	`N_
("Two strings must be given when "

1790 : 
	`N_
("Two strings must be given whenranslating.")));

1792 
	`u§ge
 (
EXIT_FAILURE
);

1795 ià(
max_İ”ªds
 < 
nÚ_İtiÚ_¬gs
)

1797 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 
max_İ”ªds
]));

1798 ià(
nÚ_İtiÚ_¬gs
 == 2)

1799 
	`årštf
 (
¡d”r
, "%s\n",

1800 
	`_
("Only one string may be given when "

1802 
	`u§ge
 (
EXIT_FAILURE
);

1805 
	`¥ec_š™
 (
s1
);

1806 ià(!
	`·r£_¡r
 (
¬gv
[
İtšd
], 
s1
))

1807 
	`ex™
 (
EXIT_FAILURE
);

1809 ià(
nÚ_İtiÚ_¬gs
 == 2)

1811 
	`¥ec_š™
 (
s2
);

1812 ià(!
	`·r£_¡r
 (
¬gv
[
İtšd
 + 1], 
s2
))

1813 
	`ex™
 (
EXIT_FAILURE
);

1816 
s2
 = 
NULL
;

1818 
	`v®id©e
 (
s1
, 
s2
);

1823 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

1824 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

1825 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDOUT_FILENO
))

1826 
	`xäeİ’
 (
NULL
, "wb", 
¡dout
);

1828 
	`çdvi£
 (
¡dš
, 
FADVISE_SEQUENTIAL
);

1830 ià(
squ“ze_»³©s
 && 
nÚ_İtiÚ_¬gs
 == 1)

1832 
	`£t_š™Ÿlize
 (
s1
, 
com¶em’t
, 
š_squ“ze_£t
);

1833 
	`squ“ze_f‹r
 (
io_buf
,  io_buf, 
¶aš_»ad
);

1835 ià(
d–‘e
 && 
nÚ_İtiÚ_¬gs
 == 1)

1837 
	`£t_š™Ÿlize
 (
s1
, 
com¶em’t
, 
š_d–‘e_£t
);

1839 
Œue
)

1841 
size_t
 
Ä
 = 
	`»ad_ªd_d–‘e
 (
io_buf
,  io_buf);

1842 ià(
Ä
 == 0)

1844 ià(
	`fwr™e
 (
io_buf
, 1, 
Ä
, 
¡dout
) !=‚r)

1845 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

1848 ià(
squ“ze_»³©s
 && 
d–‘e
 && 
nÚ_İtiÚ_¬gs
 == 2)

1850 
	`£t_š™Ÿlize
 (
s1
, 
com¶em’t
, 
š_d–‘e_£t
);

1851 
	`£t_š™Ÿlize
 (
s2
, 
çl£
, 
š_squ“ze_£t
);

1852 
	`squ“ze_f‹r
 (
io_buf
,  io_buf, 
»ad_ªd_d–‘e
);

1854 ià(
Œª¦©šg
)

1856 ià(
com¶em’t
)

1858 
i
;

1859 
boŞ
 *
š_s1
 = 
š_d–‘e_£t
;

1861 
	`£t_š™Ÿlize
 (
s1
, 
çl£
, 
š_s1
);

1862 
s2
->
¡©e
 = 
BEGIN_STATE
;

1863 
i
 = 0; i < 
N_CHARS
; i++)

1864 
xÏ‹
[
i
] = i;

1865 
i
 = 0; i < 
N_CHARS
; i++)

1867 ià(!
š_s1
[
i
])

1869 
ch
 = 
	`g‘_Ãxt
 (
s2
, 
NULL
);

1870 
	`as£¹
 (
ch
 !ğ-1 || 
Œunÿ‹_£t1
);

1871 ià(
ch
 == -1)

1877 
xÏ‹
[
i
] = 
ch
;

1883 
c1
, 
c2
;

1884 
i
;

1885 
Uµ”_Low”_şass
 
şass_s1
;

1886 
Uµ”_Low”_şass
 
şass_s2
;

1888 
i
 = 0; i < 
N_CHARS
; i++)

1889 
xÏ‹
[
i
] = i;

1890 
s1
->
¡©e
 = 
BEGIN_STATE
;

1891 
s2
->
¡©e
 = 
BEGIN_STATE
;

1892 
Œue
)

1894 
c1
 = 
	`g‘_Ãxt
 (
s1
, &
şass_s1
);

1895 
c2
 = 
	`g‘_Ãxt
 (
s2
, &
şass_s2
);

1897 ià(
şass_s1
 =ğ
UL_LOWER
 && 
şass_s2
 =ğ
UL_UPPER
)

1899 
i
 = 0; i < 
N_CHARS
; i++)

1900 ià(
	`i¦ow”
 (
i
))

1901 
xÏ‹
[
i
] = 
	`touµ”
 (i);

1903 ià(
şass_s1
 =ğ
UL_UPPER
 && 
şass_s2
 =ğ
UL_LOWER
)

1905 
i
 = 0; i < 
N_CHARS
; i++)

1906 ià(
	`isuµ”
 (
i
))

1907 
xÏ‹
[
i
] = 
	`tŞow”
 (i);

1912 ià(
c1
 =ğ-1 || 
c2
 == -1)

1914 
xÏ‹
[
c1
] = 
c2
;

1918 ià(
şass_s2
 !ğ
UL_NONE
)

1920 
	`sk_cÚ¡ruù
 (
s1
);

1921 
	`sk_cÚ¡ruù
 (
s2
);

1924 
	`as£¹
 (
c1
 =ğ-1 || 
Œunÿ‹_£t1
);

1926 ià(
squ“ze_»³©s
)

1928 
	`£t_š™Ÿlize
 (
s2
, 
çl£
, 
š_squ“ze_£t
);

1929 
	`squ“ze_f‹r
 (
io_buf
,  io_buf, 
»ad_ªd_xÏ‹
);

1933 
Œue
)

1935 
size_t
 
by‹s_»ad
 = 
	`»ad_ªd_xÏ‹
 (
io_buf
,  io_buf);

1936 ià(
by‹s_»ad
 == 0)

1938 ià(
	`fwr™e
 (
io_buf
, 1, 
by‹s_»ad
, 
¡dout
) != bytes_read)

1939 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

1944 ià(
	`şo£
 (
STDIN_FILENO
) != 0)

1945 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard input"));

1947 
	`ex™
 (
EXIT_SUCCESS
);

1948 
	}
}

	@true.c

17 
	~<cÚfig.h
>

18 
	~<¡dio.h
>

19 
	~<sys/ty³s.h
>

20 
	~"sy¡em.h
"

23 #iâdeà
EXIT_STATUS


24 
	#EXIT_STATUS
 
EXIT_SUCCESS


	)

27 #ià
EXIT_STATUS
 =ğ
EXIT_SUCCESS


28 
	#PROGRAM_NAME
 "Œue"

	)

30 
	#PROGRAM_NAME
 "çl£"

	)

33 
	#AUTHORS
 
	`´İ”_Çme
 ("Jim Mey”šg")

	)

36 
	$u§ge
 (
¡©us
)

38 
	`´štf
 (
	`_
("\
: %s [ignored command†ine‡rguments]\n\
: %s OPTION\n\
"),

42 
´og¿m_Çme
,…rogram_name);

43 
	`´štf
 ("%s\n\n",

44 
	`_
(
EXIT_STATUS
 =ğ
EXIT_SUCCESS


45 ? 
	`N_
("Exit with‡ status code indicating success.")

46 : 
	`N_
("Exit with‡ status code indicating failure.")));

47 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

48 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

49 
	`´štf
 (
USAGE_BUILTIN_WARNING
, 
PROGRAM_NAME
);

50 
	`em™_ªcÏry_šfo
 ();

51 
	`ex™
 (
¡©us
);

52 
	}
}

55 
	$maš
 (
¬gc
, **
¬gv
)

59 ià(
¬gc
 == 2)

61 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

62 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

63 
	`£oÿË
 (
LC_ALL
, "");

64 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`‹xtdomaš
 (
PACKAGE
);

67 
	`©ex™
 (
şo£_¡dout
);

69 ià(
	`STREQ
 (
¬gv
[1], "--help"))

70 
	`u§ge
 (
EXIT_STATUS
);

72 ià(
	`STREQ
 (
¬gv
[1], "--version"))

73 
	`v”siÚ_‘c
 (
¡dout
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
, 
AUTHORS
,

74 (*è
NULL
);

77 
	`ex™
 (
EXIT_STATUS
);

78 
	}
}

	@truncate.c

23 
	~<cÚfig.h
>

24 
	~<¡dio.h
>

25 
	~<g‘İt.h
>

26 
	~<sys/ty³s.h
>

28 
	~"sy¡em.h
"

29 
	~"”rÜ.h
"

30 
	~"quÙe.h
"

31 
	~"¡©-size.h
"

32 
	~"x¡¹Ş.h
"

35 
	#PROGRAM_NAME
 "Œunÿ‹"

	)

37 
	#AUTHORS
 
	`´İ”_Çme_utf8
 ("Pad¿ig B¿dy", "P\303\241d¿ig B¿dy")

	)

40 
boŞ
 
	gno_ü—‹
;

43 
boŞ
 
	gblock_mode
;

46 cÚ¡ *
	g»f_fe
;

48 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

50 {"no-ü—‹", 
no_¬gum’t
, 
NULL
, 'c'},

51 {"io-blocks", 
no_¬gum’t
, 
NULL
, 'o'},

52 {"»ã»nû", 
»quœed_¬gum’t
, 
NULL
, 'r'},

53 {"size", 
»quœed_¬gum’t
, 
NULL
, 's'},

54 {
GETOPT_HELP_OPTION_DECL
},

55 {
GETOPT_VERSION_OPTION_DECL
},

56 {
NULL
, 0, NULL, 0}

60 { 
	mrm_abs
 = 0, 
	mrm_»l
, 
	mrm_mš
, 
	mrm_max
, 
	mrm_rdn
, 
	mrm_rup
 } 
	t»l_mode_t
;

69 
	$·r£_Ën
 (cÚ¡ *
¡r
, 
off_t
 *
size
)

71 
¡¹Ş_”rÜ
 
e
;

72 
štmax_t
 
tmp_size
;

73 
e
 = 
	`x¡¹oimax
 (
¡r
, 
NULL
, 10, &
tmp_size
, "EgGkKmMPtTYZ0");

74 ià(
e
 =ğ
LONGINT_OK


75 && !(
OFF_T_MIN
 <ğ
tmp_size
 &&mp_siz<ğ
OFF_T_MAX
))

76 
e
 = 
LONGINT_OVERFLOW
;

78 ià(
e
 =ğ
LONGINT_OK
)

80 
”ºo
 = 0;

81 *
size
 = 
tmp_size
;

85 
”ºo
 = (
e
 =ğ
LONGINT_OVERFLOW
 ? 
EOVERFLOW
 : 0);

87 
	}
}

90 
	$u§ge
 (
¡©us
)

92 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

93 
	`em™_Œy_h–p
 ();

96 
	`´štf
 (
	`_
("U§ge: % OPTION... FILE...\n"), 
´og¿m_Çme
);

97 
	`åuts
 (
	`_
("\
 o¸ex‹ndhsizoà—ch FILEØth¥ecif›d size\n\
\n\
 FILE‡rgum’ˆth© dÛ nÙƒxi¡ i ü—‹d.\n\
\n\
‡ FILE i Ïrg”hªh¥ecif›d size,hexŒ¨d©¨i lo¡.\n\
‡ FILE i shÜ‹r, iˆi ex‹nded‡ndhex‹nded…¬ˆ(hŞe)\n\
‡ z”Øby‹s.\n\
"), 
¡dout
);

107 
	`em™_mªd©Üy_¬g_nÙe
 ();

109 
	`åuts
 (
	`_
("\
-c, --no-ü—‹ dØnÙ c»©ªy fes\n\
"), 
¡dout
);

112 
	`åuts
 (
	`_
("\
-o, --io-block »© SIZE‡ numb” oàIO block š¡—d oàby‹s\n\
"), 
¡dout
);

115 
	`åuts
 (
	`_
("\
-r, --»ã»nû=RFILE ba£ sizÚ RFILE\n\
-s, --size=SIZE s‘ o¸adju¡hfsizby SIZE\n"), 
¡dout
);

118 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

119 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

120 
	`em™_size_nÙe
 ();

121 
	`åuts
 (
	`_
("\n\
 may‡lsØb´efixed by oÃ oàthfŞlowšg modifyšg ch¬aù”s:\n\
'+'ƒx‹nd by, '-'„eduû by, '<'‡ˆmo¡, '>'‡ˆËa¡,\n\
'/'„ound dowÀtØmuÉË of, '%'„ound u°tØmuÉË of.\n"), 
¡dout
);

125 
	`em™_ªcÏry_šfo
 ();

127 
	`ex™
 (
¡©us
);

128 
	}
}

131 
boŞ


132 
	$do_árunÿ‹
 (
fd
, cÚ¡ *
âame
, 
off_t
 
ssize
, off_ˆ
rsize
,

133 
»l_mode_t
 
»l_mode
)

135 
¡©
 
sb
;

136 
off_t
 
nsize
;

138 ià((
block_mode
 || (
»l_mode
 && 
rsize
 < 0)è&& 
	`f¡©
 (
fd
, &
sb
) != 0)

140 
	`”rÜ
 (0, 
”ºo
, 
	`_
("ÿÂÙ f¡© %s"), 
	`quÙe
 (
âame
));

141  
çl£
;

143 ià(
block_mode
)

145 
off_t
 cÚ¡ 
blksize
 = 
	`ST_BLKSIZE
 (
sb
);

146 ià(
ssize
 < 
OFF_T_MIN
 / 
blksize
 || ssiz> 
OFF_T_MAX
 / blksize)

148 
	`”rÜ
 (0, 0,

149 
	`_
("ov”æow iÀ%" 
PRIdMAX


150 " * %" 
PRIdMAX
 " byte blocks for file %s"),

151 (
štmax_t
è
ssize
, (štmax_tè
blksize
,

152 
	`quÙe
 (
âame
));

153  
çl£
;

155 
ssize
 *ğ
blksize
;

157 ià(
»l_mode
)

159 
uštmax_t
 
fsize
;

161 ià(0 <ğ
rsize
)

162 
fsize
 = 
rsize
;

165 
off_t
 
fe_size
;

166 ià(
	`u§bË_¡_size
 (&
sb
))

168 
fe_size
 = 
sb
.
¡_size
;

169 ià(
fe_size
 < 0)

173 
	`”rÜ
 (0, 0, 
	`_
("%s has unusable,‡pparently‚egative size"),

174 
	`quÙe
 (
âame
));

175  
çl£
;

180 
fe_size
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
);

181 ià(
fe_size
 < 0)

183 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot gethe size of %s"),

184 
	`quÙe
 (
âame
));

185  
çl£
;

188 
fsize
 = 
fe_size
;

191 ià(
»l_mode
 =ğ
rm_mš
)

192 
nsize
 = 
	`MAX
 (
fsize
, (
uštmax_t
è
ssize
);

193 ià(
»l_mode
 =ğ
rm_max
)

194 
nsize
 = 
	`MIN
 (
fsize
, (
uštmax_t
è
ssize
);

195 ià(
»l_mode
 =ğ
rm_rdn
)

197 
nsize
 = (
fsize
 / 
ssize
) * ssize;

198 ià(
»l_mode
 =ğ
rm_rup
)

202 
uštmax_t
 cÚ¡ 
ov”æow
 = ((
fsize
 + 
ssize
 - 1) / ssize) * ssize;

203 ià(
ov”æow
 > 
OFF_T_MAX
)

205 
	`”rÜ
 (0, 0, 
	`_
("overflow„ounding up size of file %s"),

206 
	`quÙe
 (
âame
));

207  
çl£
;

209 
nsize
 = 
ov”æow
;

213 ià(
ssize
 > 
OFF_T_MAX
 - (
off_t
)
fsize
)

215 
	`”rÜ
 (0, 0, 
	`_
("overflowƒxtending size of file %s"),

216 
	`quÙe
 (
âame
));

217  
çl£
;

219 
nsize
 = 
fsize
 + 
ssize
;

223 
nsize
 = 
ssize
;

224 ià(
nsize
 < 0)

225 
nsize
 = 0;

227 ià(
	`árunÿ‹
 (
fd
, 
nsize
) == -1)

229 
	`”rÜ
 (0, 
”ºo
,

230 
	`_
("çedØŒunÿ‹ % © %" 
PRIdMAX
 " by‹s"), 
	`quÙe
 (
âame
),

231 (
štmax_t
è
nsize
);

232  
çl£
;

235  
Œue
;

236 
	}
}

239 
	$maš
 (
¬gc
, **
¬gv
)

241 
boŞ
 
gÙ_size
 = 
çl£
;

242 
boŞ
 
”rÜs
 = 
çl£
;

243 
off_t
 
size
 
	`IF_LINT
 ( = 0);

244 
off_t
 
rsize
 = -1;

245 
»l_mode_t
 
»l_mode
 = 
rm_abs
;

246 
c
, 
fd
 = -1, 
oæags
;

247 cÚ¡ *
âame
;

249 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

250 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

251 
	`£oÿË
 (
LC_ALL
, "");

252 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

253 
	`‹xtdomaš
 (
PACKAGE
);

255 
	`©ex™
 (
şo£_¡dout
);

257 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "cÜ:s:", 
lÚgİts
, 
NULL
)) != -1)

259 
c
)

262 
no_ü—‹
 = 
Œue
;

266 
block_mode
 = 
Œue
;

270 
»f_fe
 = 
İrg
;

275 
	`is¥aû
 (
	`to_uch¬
 (*
İrg
)))

276 
İrg
++;

277 *
İrg
)

280 
»l_mode
 = 
rm_max
;

281 
İrg
++;

284 
»l_mode
 = 
rm_mš
;

285 
İrg
++;

288 
»l_mode
 = 
rm_rdn
;

289 
İrg
++;

292 
»l_mode
 = 
rm_rup
;

293 
İrg
++;

297 
	`is¥aû
 (
	`to_uch¬
 (*
İrg
)))

298 
İrg
++;

299 ià(*
İrg
 == '+' || *optarg == '-')

301 ià(
»l_mode
)

303 
	`”rÜ
 (0, 0, 
	`_
("multiple„elative modifiers specified"));

305 
	`u§ge
 (
EXIT_FAILURE
);

307 
»l_mode
 = 
rm_»l
;

309 ià(
	`·r£_Ën
 (
İrg
, &
size
) == -1)

310 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("invalid‚umber %s"),

311 
	`quÙe
 (
İrg
));

313 ià((
»l_mode
 =ğ
rm_rup
 ||„–_mod=ğ
rm_rdn
è&& 
size
 == 0)

314 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("division by zero"));

315 
gÙ_size
 = 
Œue
;

318 
ÿ£_GETOPT_HELP_CHAR
;

320 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

323 
	`u§ge
 (
EXIT_FAILURE
);

327 
¬gv
 +ğ
İtšd
;

328 
¬gc
 -ğ
İtšd
;

331 ià(!
»f_fe
 && !
gÙ_size
)

333 
	`”rÜ
 (0, 0, 
	`_
("you must specifyƒither %s or %s"),

334 
	`quÙe_n
 (0, "--size"), quote_n (1, "--reference"));

335 
	`u§ge
 (
EXIT_FAILURE
);

338 ià(
»f_fe
 && 
gÙ_size
 && !
»l_mode
)

340 
	`”rÜ
 (0, 0, 
	`_
("you must specify‡„elative %s with %s"),

341 
	`quÙe_n
 (0, "--size"), quote_n (1, "--reference"));

342 
	`u§ge
 (
EXIT_FAILURE
);

345 ià(
block_mode
 && !
gÙ_size
)

347 
	`”rÜ
 (0, 0, 
	`_
("%s was specified but %s was‚ot"),

348 
	`quÙe_n
 (0, "--io-blocks"), quote_n (1, "--size"));

349 
	`u§ge
 (
EXIT_FAILURE
);

352 ià(
¬gc
 < 1)

354 
	`”rÜ
 (0, 0, 
	`_
("missing file operand"));

355 
	`u§ge
 (
EXIT_FAILURE
);

358 ià(
»f_fe
)

360 
¡©
 
sb
;

361 
off_t
 
fe_size
 = -1;

362 ià(
	`¡©
 (
»f_fe
, &
sb
) != 0)

363 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ sˆ%s"), 
	`quÙe
 (
»f_fe
));

364 ià(
	`u§bË_¡_size
 (&
sb
))

365 
fe_size
 = 
sb
.
¡_size
;

368 
»f_fd
 = 
	`İ’
 (
»f_fe
, 
O_RDONLY
);

369 ià(0 <ğ
»f_fd
)

371 
off_t
 
fe_’d
 = 
	`l£ek
 (
»f_fd
, 0, 
SEEK_END
);

372 
§ved_”ºo
 = 
”ºo
;

373 
	`şo£
 (
»f_fd
);

374 ià(0 <ğ
fe_’d
)

375 
fe_size
 = 
fe_’d
;

379 
”ºo
 = 
§ved_”ºo
;

383 ià(
fe_size
 < 0)

384 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot gethe size of %s"),

385 
	`quÙe
 (
»f_fe
));

386 ià(!
gÙ_size
)

387 
size
 = 
fe_size
;

389 
rsize
 = 
fe_size
;

392 
oæags
 = 
O_WRONLY
 | (
no_ü—‹
 ? 0 : 
O_CREAT
è| 
O_NONBLOCK
;

394 (
âame
 = *
¬gv
++è!ğ
NULL
)

396 ià((
fd
 = 
	`İ’
 (
âame
, 
oæags
, 
MODE_RW_UGO
)) == -1)

402 ià(!(
no_ü—‹
 && 
”ºo
 =ğ
ENOENT
))

404 
	`”rÜ
 (0, 
”ºo
, 
	`_
("cannot open %s for writing"),

405 
	`quÙe
 (
âame
));

406 
”rÜs
 = 
Œue
;

412 ià(
fd
 != -1)

414 
”rÜs
 |ğ!
	`do_árunÿ‹
 (
fd
, 
âame
, 
size
, 
rsize
, 
»l_mode
);

415 ià(
	`şo£
 (
fd
) != 0)

417 
	`”rÜ
 (0, 
”ºo
, 
	`_
("çedØşo£ %s"), 
	`quÙe
 (
âame
));

418 
”rÜs
 = 
Œue
;

423  
”rÜs
 ? 
EXIT_FAILURE
 : 
EXIT_SUCCESS
;

424 
	}
}

	@tsort.c

23 
	~<cÚfig.h
>

25 
	~<as£¹.h
>

26 
	~<g‘İt.h
>

27 
	~<sys/ty³s.h
>

29 
	~"sy¡em.h
"

30 
	~"lÚg-İtiÚs.h
"

31 
	~"”rÜ.h
"

32 
	~"çdvi£.h
"

33 
	~"quÙe.h
"

34 
	~"»adtok’s.h
"

35 
	~"¡dio--.h
"

38 
	#PROGRAM_NAME
 "tsÜt"

	)

40 
	#AUTHORS
 
	`´İ”_Çme
 ("M¬k K‘‹nis")

	)

43 
	#DELIM
 " \t\n"

	)

46 
	ssucûssÜ


48 
™em
 *
	msuc
;

49 
sucûssÜ
 *
	mÃxt
;

53 
	s™em


55 cÚ¡ *
	m¡r
;

56 
™em
 *
	mËá
, *
	mright
;

57 
	mb®ªû
;

58 
size_t
 
	mcouÁ
;

59 
™em
 *
	mqlšk
;

60 
sucûssÜ
 *
	mtİ
;

64 
™em
 *
	gh—d
 = 
NULL
;

67 
™em
 *
	gz”os
 = 
NULL
;

70 
™em
 *
	gloİ
 = 
NULL
;

73 
size_t
 
	gn_¡ršgs
 = 0;

76 
	$u§ge
 (
¡©us
)

78 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

79 
	`em™_Œy_h–p
 ();

82 
	`´štf
 (
	`_
("\
: % [OPTION] [FILE]\n\
Ù®ly ord”ed†i¡ cÚsi¡’ˆw™hh·¹ŸÈÜd”šg iÀFILE.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
\n\
"), 
´og¿m_Çme
);

88 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

89 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

90 
	`em™_ªcÏry_šfo
 ();

93 
	`ex™
 (
¡©us
);

94 
	}
}

97 
™em
 *

98 
	$Ãw_™em
 (cÚ¡ *
¡r
)

100 
™em
 *
k
 = 
	`xm®loc
 ( *k);

102 
k
->
¡r
 = (¡¸? 
	`x¡rdup
 (¡r): 
NULL
);

103 
k
->
Ëá
 = k->
right
 = 
NULL
;

104 
k
->
b®ªû
 = 0;

107 
k
->
couÁ
 = 0;

108 
k
->
qlšk
 = 
NULL
;

109 
k
->
tİ
 = 
NULL
;

111  
k
;

112 
	}
}

122 
™em
 *

123 
	$£¬ch_™em
 (
™em
 *
roÙ
, cÚ¡ *
¡r
)

125 
™em
 *
p
, *
q
, *
r
, *
s
, *
t
;

126 
a
;

128 
	`as£¹
 (
roÙ
);

132 ià(
roÙ
->
right
 =ğ
NULL
)

133  (
roÙ
->
right
 = 
	`Ãw_™em
 (
¡r
));

136 
t
 = 
roÙ
;

137 
s
 = 
p
 = 
roÙ
->
right
;

139 
Œue
)

142 
a
 = 
	`¡rcmp
 (
¡r
, 
p
->str);

143 ià(
a
 == 0)

144  
p
;

147 ià(
a
 < 0)

148 
q
 = 
p
->
Ëá
;

150 
q
 = 
p
->
right
;

152 ià(
q
 =ğ
NULL
)

155 
q
 = 
	`Ãw_™em
 (
¡r
);

158 ià(
a
 < 0)

159 
p
->
Ëá
 = 
q
;

161 
p
->
right
 = 
q
;

164 
	`as£¹
 (!
	`STREQ
 (
¡r
, 
s
->str));

165 ià(
	`¡rcmp
 (
¡r
, 
s
->str) < 0)

167 
r
 = 
p
 = 
s
->
Ëá
;

168 
a
 = -1;

172 
r
 = 
p
 = 
s
->
right
;

173 
a
 = 1;

176 
p
 !ğ
q
)

178 
	`as£¹
 (!
	`STREQ
 (
¡r
, 
p
->str));

179 ià(
	`¡rcmp
 (
¡r
, 
p
->str) < 0)

181 
p
->
b®ªû
 = -1;

182 
p
 =…->
Ëá
;

186 
p
->
b®ªû
 = 1;

187 
p
 =…->
right
;

192 ià(
s
->
b®ªû
 =ğ0 || s->b®ªû =ğ-
a
)

194 
s
->
b®ªû
 +ğ
a
;

195  
q
;

198 ià(
r
->
b®ªû
 =ğ
a
)

201 
p
 = 
r
;

202 ià(
a
 < 0)

204 
s
->
Ëá
 = 
r
->
right
;

205 
r
->
right
 = 
s
;

209 
s
->
right
 = 
r
->
Ëá
;

210 
r
->
Ëá
 = 
s
;

212 
s
->
b®ªû
 = 
r
->balance = 0;

217 ià(
a
 < 0)

219 
p
 = 
r
->
right
;

220 
r
->
right
 = 
p
->
Ëá
;

221 
p
->
Ëá
 = 
r
;

222 
s
->
Ëá
 = 
p
->
right
;

223 
p
->
right
 = 
s
;

227 
p
 = 
r
->
Ëá
;

228 
r
->
Ëá
 = 
p
->
right
;

229 
p
->
right
 = 
r
;

230 
s
->
right
 = 
p
->
Ëá
;

231 
p
->
Ëá
 = 
s
;

234 
s
->
b®ªû
 = 0;

235 
r
->
b®ªû
 = 0;

236 ià(
p
->
b®ªû
 =ğ
a
)

237 
s
->
b®ªû
 = -
a
;

238 ià(
p
->
b®ªû
 =ğ-
a
)

239 
r
->
b®ªû
 = 
a
;

240 
p
->
b®ªû
 = 0;

244 ià(
s
 =ğ
t
->
right
)

245 
t
->
right
 = 
p
;

247 
t
->
Ëá
 = 
p
;

249  
q
;

253 ià(
q
->
b®ªû
)

255 
t
 = 
p
;

256 
s
 = 
q
;

259 
p
 = 
q
;

263 
	}
}

268 
	$»cÜd_»ÏtiÚ
 (
™em
 *
j
, ™em *
k
)

270 
sucûssÜ
 *
p
;

272 ià(!
	`STREQ
 (
j
->
¡r
, 
k
->str))

274 
k
->
couÁ
++;

275 
p
 = 
	`xm®loc
 ( *p);

276 
p
->
suc
 = 
k
;

277 
p
->
Ãxt
 = 
j
->
tİ
;

278 
j
->
tİ
 = 
p
;

280 
	}
}

282 
boŞ


283 
	$couÁ_™ems
 (
™em
 *
unu£d
 
ATTRIBUTE_UNUSED
)

285 
n_¡ršgs
++;

286  
çl£
;

287 
	}
}

289 
boŞ


290 
	$sÿn_z”os
 (
™em
 *
k
)

293 ià(
k
->
couÁ
 =ğ0 && k->
¡r
)

295 ià(
h—d
 =ğ
NULL
)

296 
h—d
 = 
k
;

298 
z”os
->
qlšk
 = 
k
;

300 
z”os
 = 
k
;

303  
çl£
;

304 
	}
}

324 
boŞ


325 
	$d‘eù_loİ
 (
™em
 *
k
)

327 ià(
k
->
couÁ
 > 0)

332 ià(
loİ
 =ğ
NULL
)

334 
loİ
 = 
k
;

337 
sucûssÜ
 **
p
 = &
k
->
tİ
;

339 *
p
)

341 ià((*
p
)->
suc
 =ğ
loİ
)

343 ià(
k
->
qlšk
)

346 
loİ
)

348 
™em
 *
tmp
 = 
loİ
->
qlšk
;

350 
	`årštf
 (
¡d”r
, "%s: %s\n", 
´og¿m_Çme
,

351 
loİ
->
¡r
);

354 ià(
loİ
 =ğ
k
)

357 (*
p
)->
suc
->
couÁ
--;

358 *
p
 = (*p)->
Ãxt
;

364 
loİ
->
qlšk
 = 
NULL
;

365 
loİ
 = 
tmp
;

368 
loİ
)

370 
™em
 *
tmp
 = 
loİ
->
qlšk
;

372 
loİ
->
qlšk
 = 
NULL
;

373 
loİ
 = 
tmp
;

378  
Œue
;

382 
k
->
qlšk
 = 
loİ
;

383 
loİ
 = 
k
;

388 
p
 = &(*p)->
Ãxt
;

393  
çl£
;

394 
	}
}

399 
boŞ


400 
»cur£_Œ“
 (
™em
 *
roÙ
, 
	$boŞ
 (*
aùiÚ
è(
™em
 *))

402 ià(
roÙ
->
Ëá
 =ğ
NULL
 &&„oÙ->
right
 == NULL)

403  (*
aùiÚ
è(
roÙ
);

406 ià(
roÙ
->
Ëá
 !ğ
NULL
)

407 ià(
	`»cur£_Œ“
 (
roÙ
->
Ëá
, 
aùiÚ
))

408  
Œue
;

409 ià((*
aùiÚ
è(
roÙ
))

410  
Œue
;

411 ià(
roÙ
->
right
 !ğ
NULL
)

412 ià(
	`»cur£_Œ“
 (
roÙ
->
right
, 
aùiÚ
))

413  
Œue
;

416  
çl£
;

417 
	}
}

423 
w®k_Œ“
 (
™em
 *
roÙ
, 
	$boŞ
 (*
aùiÚ
è(
™em
 *))

425 ià(
roÙ
->
right
)

426 
	`»cur£_Œ“
 (
roÙ
->
right
, 
aùiÚ
);

427 
	}
}

431 
boŞ


432 
	$tsÜt
 (cÚ¡ *
fe
)

434 
boŞ
 
ok
 = 
Œue
;

435 
™em
 *
roÙ
;

436 
™em
 *
j
 = 
NULL
;

437 
™em
 *
k
 = 
NULL
;

438 
tok’_bufãr
 
tok’bufãr
;

439 
boŞ
 
is_¡dš
 = 
	`STREQ
 (
fe
, "-");

442 
roÙ
 = 
	`Ãw_™em
 (
NULL
);

444 ià(!
is_¡dš
 && ! 
	`äeİ’
 (
fe
, "r", 
¡dš
))

445 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
fe
);

447 
	`çdvi£
 (
¡dš
, 
FADVISE_SEQUENTIAL
);

449 
	`š™_tok’bufãr
 (&
tok’bufãr
);

454 
size_t
 
Ën
 = 
	`»adtok’
 (
¡dš
, 
DELIM
,  (DELIMè- 1, &
tok’bufãr
);

455 ià(
Ën
 =ğ(
size_t
) -1)

458 
	`as£¹
 (
Ën
 != 0);

460 
k
 = 
	`£¬ch_™em
 (
roÙ
, 
tok’bufãr
.
bufãr
);

461 ià(
j
)

464 
	`»cÜd_»ÏtiÚ
 (
j
, 
k
);

465 
k
 = 
NULL
;

468 
j
 = 
k
;

471 ià(
k
 !ğ
NULL
)

472 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("%s: input contains‡n odd‚umber ofokens"),

473 
fe
);

476 
	`w®k_Œ“
 (
roÙ
, 
couÁ_™ems
);

478 
n_¡ršgs
 > 0)

481 
	`w®k_Œ“
 (
roÙ
, 
sÿn_z”os
);

483 
h—d
)

485 
sucûssÜ
 *
p
 = 
h—d
->
tİ
;

488 
	`puts
 (
h—d
->
¡r
);

489 #ifdeà
lšt


491 *
h—d_¡r
 = (*è
h—d
->
¡r
;

492 
	`ä“
 (
h—d_¡r
);

494 
h—d
->
¡r
 = 
NULL
;

495 
n_¡ršgs
--;

498 
p
)

500 
p
->
suc
->
couÁ
--;

501 ià(
p
->
suc
->
couÁ
 == 0)

503 
z”os
->
qlšk
 = 
p
->
suc
;

504 
z”os
 = 
p
->
suc
;

507 
p
 =…->
Ãxt
;

511 
h—d
 = h—d->
qlšk
;

515 ià(
n_¡ršgs
 > 0)

518 
	`”rÜ
 (0, 0, 
	`_
("%s: iÅuˆcÚš ¨loİ:"), 
fe
);

519 
ok
 = 
çl£
;

523 
	`w®k_Œ“
 (
roÙ
, 
d‘eù_loİ
);

524 
loİ
);

528 ià(
	`fşo£
 (
¡dš
) != 0)

529 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s",

530 
is_¡dš
 ? 
	`_
("¡ªd¬d iÅut"è: 
	`quÙe
 (
fe
));

532  
ok
;

533 
	}
}

536 
	$maš
 (
¬gc
, **
¬gv
)

538 
boŞ
 
ok
;

540 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

541 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

542 
	`£oÿË
 (
LC_ALL
, "");

543 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

544 
	`‹xtdomaš
 (
PACKAGE
);

546 
	`©ex™
 (
şo£_¡dout
);

548 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE
, 
V”siÚ
,

549 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

550 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

551 
	`u§ge
 (
EXIT_FAILURE
);

553 ià(1 < 
¬gc
 - 
İtšd
)

555 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

556 
	`u§ge
 (
EXIT_FAILURE
);

559 
ok
 = 
	`tsÜt
 (
İtšd
 =ğ
¬gc
 ? "-" : 
¬gv
[optind]);

561 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

562 
	}
}

	@tty.c

24 
	~<cÚfig.h
>

25 
	~<¡dio.h
>

26 
	~<g‘İt.h
>

27 
	~<sys/ty³s.h
>

29 
	~"sy¡em.h
"

30 
	~"”rÜ.h
"

31 
	~"quÙe.h
"

36 
	mTTY_FAILURE
 = 2,

37 
	mTTY_WRITE_ERROR
 = 3

41 
	#PROGRAM_NAME
 "‰y"

	)

43 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

46 
boŞ
 
	gs’t
;

48 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

50 {"s’t", 
no_¬gum’t
, 
NULL
, 's'},

51 {"qu›t", 
no_¬gum’t
, 
NULL
, 's'},

52 {
GETOPT_HELP_OPTION_DECL
},

53 {
GETOPT_VERSION_OPTION_DECL
},

54 {
NULL
, 0, NULL, 0}

58 
	$u§ge
 (
¡©us
)

60 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

61 
	`em™_Œy_h–p
 ();

64 
	`´štf
 (
	`_
("U§ge: % [OPTION]...\n"), 
´og¿m_Çme
);

65 
	`åuts
 (
	`_
("\
hfÇmoàth‹rmš® cÚÃùedØ¡ªd¬d iÅut.\n\
\n\
-s, --s’t, --qu›ˆ…ršˆnÙhšg, oÆy„‘uº‡Àex™ stus\n\
"), 
¡dout
);

70 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

71 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

72 
	`em™_ªcÏry_šfo
 ();

74 
	`ex™
 (
¡©us
);

75 
	}
}

78 
	$maš
 (
¬gc
, **
¬gv
)

80 *
‰y
;

81 
İtc
;

83 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

84 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

85 
	`£oÿË
 (
LC_ALL
, "");

86 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

87 
	`‹xtdomaš
 (
PACKAGE
);

89 
	`š™Ÿlize_ex™_çu»
 (
TTY_WRITE_ERROR
);

90 
	`©ex™
 (
şo£_¡dout
);

92 
s’t
 = 
çl£
;

94 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "s", 
lÚgİts
, 
NULL
)) != -1)

96 
İtc
)

99 
s’t
 = 
Œue
;

102 
ÿ£_GETOPT_HELP_CHAR
;

104 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

107 
	`u§ge
 (
TTY_FAILURE
);

111 ià(
İtšd
 < 
¬gc
)

112 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

114 
‰y
 = 
	`‰yÇme
 (
STDIN_FILENO
);

115 ià(!
s’t
)

117 ià(
‰y
)

118 
	`puts
 (
‰y
);

120 
	`puts
 (
	`_
("not‡ty"));

123 
	`ex™
 (
	`i§‰y
 (
STDIN_FILENO
è? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

124 
	}
}

	@uname-arch.c

1 
	~"uÇme.h
"

2 
	guÇme_mode
 = 
UNAME_ARCH
;

	@uname-uname.c

1 
	~"uÇme.h
"

2 
	guÇme_mode
 = 
UNAME_UNAME
;

	@uname.c

20 
	~<cÚfig.h
>

21 
	~<¡dio.h
>

22 
	~<sys/ty³s.h
>

23 
	~<sys/ut¢ame.h
>

24 
	~<g‘İt.h
>

26 #ià
HAVE_SYSINFO
 && 
HAVE_SYS_SYSTEMINFO_H


27 
	~<sys/sy¡emšfo.h
>

30 #ià
HAVE_SYS_SYSCTL_H


31 #ià
HAVE_SYS_PARAM_H


32 
	~<sys/·¿m.h
>

34 
	~<sys/sysùl.h
>

35 #ifdeà
HW_MODEL


36 #ifdeà
HW_MACHINE_ARCH


38 
	#UNAME_HARDWARE_PLATFORM
 
HW_MODEL


	)

39 
	#UNAME_PROCESSOR
 
HW_MACHINE_ARCH


	)

42 
	#UNAME_PROCESSOR
 
HW_MODEL


	)

47 #ifdeà
__APPLE__


48 
	~<mach/machše.h
>

49 
	~<mach-o/¬ch.h
>

52 
	~"sy¡em.h
"

53 
	~"”rÜ.h
"

54 
	~"quÙe.h
"

55 
	~"uÇme.h
"

58 
	#PROGRAM_NAME
 (
uÇme_mode
 =ğ
UNAME_UNAME
 ? "uÇme" : "¬ch")

	)

60 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

61 
	#ARCH_AUTHORS
 "David MacK’z›", "K¬– Zak"

	)

65 
	#PRINT_KERNEL_NAME
 1

	)

68 
	#PRINT_NODENAME
 2

	)

71 
	#PRINT_KERNEL_RELEASE
 4

	)

74 
	#PRINT_KERNEL_VERSION
 8

	)

77 
	#PRINT_MACHINE
 16

	)

80 
	#PRINT_PROCESSOR
 32

	)

83 
	#PRINT_HARDWARE_PLATFORM
 64

	)

86 
	#PRINT_OPERATING_SYSTEM
 128

	)

88 
İtiÚ
 cÚ¡ 
	guÇme_lÚg_İtiÚs
[] =

90 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

91 {"k”Ãl-Çme", 
no_¬gum’t
, 
NULL
, 's'},

92 {"sy¢ame", 
no_¬gum’t
, 
NULL
, 's'},

93 {"nod’ame", 
no_¬gum’t
, 
NULL
, 'n'},

94 {"k”Ãl-»Ëa£", 
no_¬gum’t
, 
NULL
, 'r'},

95 {"»Ëa£", 
no_¬gum’t
, 
NULL
, 'r'},

96 {"k”Ãl-v”siÚ", 
no_¬gum’t
, 
NULL
, 'v'},

97 {"machše", 
no_¬gum’t
, 
NULL
, 'm'},

98 {"´oûssÜ", 
no_¬gum’t
, 
NULL
, 'p'},

99 {"h¬dw¬e-¶©fÜm", 
no_¬gum’t
, 
NULL
, 'i'},

100 {"İ”©šg-sy¡em", 
no_¬gum’t
, 
NULL
, 'o'},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

106 
İtiÚ
 cÚ¡ 
	g¬ch_lÚg_İtiÚs
[] =

108 {
GETOPT_HELP_OPTION_DECL
},

109 {
GETOPT_VERSION_OPTION_DECL
},

110 {
NULL
, 0, NULL, 0}

114 
	$u§ge
 (
¡©us
)

116 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

117 
	`em™_Œy_h–p
 ();

120 
	`´štf
 (
	`_
("U§ge: % [OPTION]...\n"), 
´og¿m_Çme
);

122 ià(
uÇme_mode
 =ğ
UNAME_UNAME
)

124 
	`åuts
 (
	`_
("\
 c”š sy¡em infÜm©iÚ. W™h‚ØOPTION, sama -s.\n\
\n\
-a, --®È…ršˆ®ÈšfÜm©iÚ, iÀthfŞlowšg ord”,\n\
 om™ -°ªd -˜iàunknown:\n\
-s, --k”Ãl-Çm…ršˆthk”ÃÈÇme\n\
-n, --nod’am…ršˆthÃtwÜk‚odho¡Çme\n\
-r, --k”Ãl-»Ëa£…ršˆthk”ÃÈ»Ëa£\n\
"), 
¡dout
);

133 
	`åuts
 (
	`_
("\
-v, --k”Ãl-v”siÚ…ršˆthk”ÃÈv”siÚ\n\
-m, --machš…ršˆthmachšh¬dw¬Çme\n\
-p, --´oûssÜ…ršˆth´oûssÜy³ o¸\"unknown\"\n\
-i, --h¬dw¬e-¶©fÜm…ršˆthh¬dw¬¶©fÜm o¸\"unknown\"\n\
-o, --İ”©šg-sy¡em…ršˆthİ”©šg sy¡em\n\
"), 
¡dout
);

143 
	`åuts
 (
	`_
("\
 machš¬ch™eùu».\n\
\n\
"), 
¡dout
);

149 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

150 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

151 
	`em™_ªcÏry_šfo
 ();

153 
	`ex™
 (
¡©us
);

154 
	}
}

160 
	$´št_–em’t
 (cÚ¡ *
–em’t
)

162 
boŞ
 
´š‹d
;

163 ià(
´š‹d
)

164 
	`putch¬
 (' ');

165 
´š‹d
 = 
Œue
;

166 
	`åuts
 (
–em’t
, 
¡dout
);

167 
	}
}

174 
	$decode_sw™ches
 (
¬gc
, **
¬gv
)

176 
c
;

177 
tİršt
 = 0;

179 ià(
uÇme_mode
 =ğ
UNAME_ARCH
)

181 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "",

182 
¬ch_lÚg_İtiÚs
, 
NULL
)) != -1)

184 
c
)

186 
ÿ£_GETOPT_HELP_CHAR
;

188 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
ARCH_AUTHORS
);

191 
	`u§ge
 (
EXIT_FAILURE
);

194 
tİršt
 = 
PRINT_MACHINE
;

198 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "asnrvmpio",

199 
uÇme_lÚg_İtiÚs
, 
NULL
)) != -1)

201 
c
)

204 
tİršt
 = 
UINT_MAX
;

208 
tİršt
 |ğ
PRINT_KERNEL_NAME
;

212 
tİršt
 |ğ
PRINT_NODENAME
;

216 
tİršt
 |ğ
PRINT_KERNEL_RELEASE
;

220 
tİršt
 |ğ
PRINT_KERNEL_VERSION
;

224 
tİršt
 |ğ
PRINT_MACHINE
;

228 
tİršt
 |ğ
PRINT_PROCESSOR
;

232 
tİršt
 |ğ
PRINT_HARDWARE_PLATFORM
;

236 
tİršt
 |ğ
PRINT_OPERATING_SYSTEM
;

239 
ÿ£_GETOPT_HELP_CHAR
;

241 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

244 
	`u§ge
 (
EXIT_FAILURE
);

249 ià(
¬gc
 !ğ
İtšd
)

251 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

252 
	`u§ge
 (
EXIT_FAILURE
);

255  
tİršt
;

256 
	}
}

259 
	$maš
 (
¬gc
, **
¬gv
)

261 cÚ¡ 
unknown
[] = "unknown";

264 
tİršt
 = 0;

266 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

267 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

268 
	`£oÿË
 (
LC_ALL
, "");

269 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

270 
	`‹xtdomaš
 (
PACKAGE
);

272 
	`©ex™
 (
şo£_¡dout
);

274 
tİršt
 = 
	`decode_sw™ches
 (
¬gc
, 
¬gv
);

276 ià(
tİršt
 == 0)

277 
tİršt
 = 
PRINT_KERNEL_NAME
;

279 ià(
tİršt


280 & (
PRINT_KERNEL_NAME
 | 
PRINT_NODENAME
 | 
PRINT_KERNEL_RELEASE


281 | 
PRINT_KERNEL_VERSION
 | 
PRINT_MACHINE
))

283 
ut¢ame
 
Çme
;

285 ià(
	`uÇme
 (&
Çme
) == -1)

286 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot get system‚ame"));

288 ià(
tİršt
 & 
PRINT_KERNEL_NAME
)

289 
	`´št_–em’t
 (
Çme
.
sy¢ame
);

290 ià(
tİršt
 & 
PRINT_NODENAME
)

291 
	`´št_–em’t
 (
Çme
.
nod’ame
);

292 ià(
tİršt
 & 
PRINT_KERNEL_RELEASE
)

293 
	`´št_–em’t
 (
Çme
.
»Ëa£
);

294 ià(
tİršt
 & 
PRINT_KERNEL_VERSION
)

295 
	`´št_–em’t
 (
Çme
.
v”siÚ
);

296 ià(
tİršt
 & 
PRINT_MACHINE
)

297 
	`´št_–em’t
 (
Çme
.
machše
);

300 ià(
tİršt
 & 
PRINT_PROCESSOR
)

302 cÚ¡ *
–em’t
 = 
unknown
;

303 #ià
HAVE_SYSINFO
 && 
defšed
 
SI_ARCHITECTURE


305 
´oûssÜ
[257];

306 ià(0 <ğ
	`sysšfo
 (
SI_ARCHITECTURE
, 
´oûssÜ
, …rocessor))

307 
–em’t
 = 
´oûssÜ
;

310 #ifdeà
UNAME_PROCESSOR


311 ià(
–em’t
 =ğ
unknown
)

313 
´oûssÜ
[257];

314 
size_t
 
s
 =  
´oûssÜ
;

315 
mib
[] = { 
CTL_HW
, 
UNAME_PROCESSOR
 };

316 ià(
	`sysùl
 (
mib
, 2, 
´oûssÜ
, &
s
, 0, 0) >= 0)

317 
–em’t
 = 
´oûssÜ
;

319 #ifdeà
__APPLE__


321 ià(
–em’t
 =ğ
unknown
)

323 
ıu_ty³_t
 
ıuty³
;

324 
size_t
 
s
 =  
ıuty³
;

325 
NXArchInfo
 cÚ¡ *
ai
;

326 ià(
	`sysùlbyÇme
 ("hw.ıuty³", &
ıuty³
, &
s
, 
NULL
, 0) == 0

327 && (
ai
 = 
	`NXG‘ArchInfoFromCpuTy³
 (
ıuty³
,

328 
CPU_SUBTYPE_MULTIPLE
))

329 !ğ
NULL
)

330 
–em’t
 = 
ai
->
Çme
;

333 ià(
ıuty³
 =ğ
CPU_TYPE_POWERPC


334 && 
	`STRNCMP_LIT
 (
–em’t
, "ppc") == 0)

335 
–em’t
 = "powerpc";

340 ià(! (
tİršt
 =ğ
UINT_MAX
 && 
–em’t
 =ğ
unknown
))

341 
	`´št_–em’t
 (
–em’t
);

344 ià(
tİršt
 & 
PRINT_HARDWARE_PLATFORM
)

346 cÚ¡ *
–em’t
 = 
unknown
;

347 #ià
HAVE_SYSINFO
 && 
defšed
 
SI_PLATFORM


349 
h¬dw¬e_¶©fÜm
[257];

350 ià(0 <ğ
	`sysšfo
 (
SI_PLATFORM
,

351 
h¬dw¬e_¶©fÜm
,  hardware_platform))

352 
–em’t
 = 
h¬dw¬e_¶©fÜm
;

355 #ifdeà
UNAME_HARDWARE_PLATFORM


356 ià(
–em’t
 =ğ
unknown
)

358 
h¬dw¬e_¶©fÜm
[257];

359 
size_t
 
s
 =  
h¬dw¬e_¶©fÜm
;

360 
mib
[] = { 
CTL_HW
, 
UNAME_HARDWARE_PLATFORM
 };

361 ià(
	`sysùl
 (
mib
, 2, 
h¬dw¬e_¶©fÜm
, &
s
, 0, 0) >= 0)

362 
–em’t
 = 
h¬dw¬e_¶©fÜm
;

365 ià(! (
tİršt
 =ğ
UINT_MAX
 && 
–em’t
 =ğ
unknown
))

366 
	`´št_–em’t
 (
–em’t
);

369 ià(
tİršt
 & 
PRINT_OPERATING_SYSTEM
)

370 
	`´št_–em’t
 (
HOST_OPERATING_SYSTEM
);

372 
	`putch¬
 ('\n');

374 
	`ex™
 (
EXIT_SUCCESS
);

375 
	}
}

	@uname.h

2 
	#UNAME_UNAME
 1

	)

5 
	#UNAME_ARCH
 2

	)

7 
uÇme_mode
;

	@unexpand.c

36 
	~<cÚfig.h
>

38 
	~<¡dio.h
>

39 
	~<g‘İt.h
>

40 
	~<sys/ty³s.h
>

41 
	~"sy¡em.h
"

42 
	~"”rÜ.h
"

43 
	~"çdvi£.h
"

44 
	~"quÙe.h
"

45 
	~"x¡ºdup.h
"

48 
	#PROGRAM_NAME
 "uÃx·nd"

	)

50 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

54 
boŞ
 
	gcÚv”t_’tœe_lše
;

57 
size_t
 
	gb_size
;

60 
size_t
 
	gmax_cŞumn_width
;

65 
uštmax_t
 *
	gb_li¡
;

68 
size_t
 
	gn_bs_®loÿ‹d
;

72 
size_t
 
	gfœ¡_ä“_b
;

75 **
	gfe_li¡
;

78 *
	g¡dš_¬gv
[] =

80 (*è"-", 
NULL


84 
boŞ
 
	ghave_»ad_¡dš
;

87 
	gex™_¡©us
;

93 
	mCONVERT_FIRST_ONLY_OPTION
 = 
CHAR_MAX
 + 1

96 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

98 {"bs", 
»quœed_¬gum’t
, 
NULL
, 't'},

99 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

100 {"fœ¡-Úly", 
no_¬gum’t
, 
NULL
, 
CONVERT_FIRST_ONLY_OPTION
},

101 {
GETOPT_HELP_OPTION_DECL
},

102 {
GETOPT_VERSION_OPTION_DECL
},

103 {
NULL
, 0, NULL, 0}

107 
	$u§ge
 (
¡©us
)

109 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

110 
	`em™_Œy_h–p
 ();

113 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
"),

116 
´og¿m_Çme
);

117 
	`åuts
 (
	`_
("\
 bÏnk šƒach FILEØbs, wr™šgØ¡ªd¬d ouut.\n\
‚ØFILE, o¸wh’ FILE i -,„—d snd¬d iÅut.\n\
"), 
¡dout
);

122 
	`em™_mªd©Üy_¬g_nÙe
 ();

124 
	`åuts
 (
	`_
("\
-a, --®È cÚv”ˆ®ÈbÏnks, in¡—d oàju¡ in™ŸÈbÏnks\n\
--fœ¡-Úly cÚv”ˆÚly†—dšg sequ’û oàbÏnk (ov”ride -a)\n\
-t, --bs=N havb N ch¬aù” ­¬ˆš¡—d oà8 (’abË -a)\n\
-t, --bs=LIST u£ comm¨£·¿‹d LIST oàb…os™iÚ ÓÇbË -a)\n\
"), 
¡dout
);

130 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

131 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

132 
	`em™_ªcÏry_šfo
 ();

134 
	`ex™
 (
¡©us
);

135 
	}
}

140 
	$add_b_¡İ
 (
uštmax_t
 
bv®
)

142 
uštmax_t
 
´ev_cŞumn
 = 
fœ¡_ä“_b
 ? 
b_li¡
[first_free_tab - 1] : 0;

143 
uštmax_t
 
cŞumn_width
 = 
´ev_cŞumn
 <ğ
bv®
 ?abval -…rev_column : 0;

145 ià(
fœ¡_ä“_b
 =ğ
n_bs_®loÿ‹d
)

146 
b_li¡
 = 
	`X2NREALLOC
 (b_li¡, &
n_bs_®loÿ‹d
);

147 
b_li¡
[
fœ¡_ä“_b
++] = 
bv®
;

149 ià(
max_cŞumn_width
 < 
cŞumn_width
)

151 ià(
SIZE_MAX
 < 
cŞumn_width
)

152 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tabs‡reoo far‡part"));

153 
max_cŞumn_width
 = 
cŞumn_width
;

155 
	}
}

161 
	$·r£_b_¡İs
 (cÚ¡ *
¡İs
)

163 
boŞ
 
have_bv®
 = 
çl£
;

164 
uštmax_t
 
bv®
 
	`IF_LINT
 ( = 0);

165 cÚ¡ *
num_¡¬t
 
	`IF_LINT
 ( = 
NULL
);

166 
boŞ
 
ok
 = 
Œue
;

168 ; *
¡İs
; stops++)

170 ià(*
¡İs
 =ğ',' || 
	`isbÏnk
 (
	`to_uch¬
 (*stops)))

172 ià(
have_bv®
)

173 
	`add_b_¡İ
 (
bv®
);

174 
have_bv®
 = 
çl£
;

176 ià(
	`ISDIGIT
 (*
¡İs
))

178 ià(!
have_bv®
)

180 
bv®
 = 0;

181 
have_bv®
 = 
Œue
;

182 
num_¡¬t
 = 
¡İs
;

186 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
bv®
, *
¡İs
 - '0', 
uštmax_t
))

188 
size_t
 
Ën
 = 
	`¡r¥n
 (
num_¡¬t
, "0123456789");

189 *
bad_num
 = 
	`x¡ºdup
 (
num_¡¬t
, 
Ën
);

190 
	`”rÜ
 (0, 0, 
	`_
("b stİ i toØÏrg%s"), 
	`quÙe
 (
bad_num
));

191 
	`ä“
 (
bad_num
);

192 
ok
 = 
çl£
;

193 
¡İs
 = 
num_¡¬t
 + 
Ën
 - 1;

198 
	`”rÜ
 (0, 0, 
	`_
("tab size contains invalid character(s): %s"),

199 
	`quÙe
 (
¡İs
));

200 
ok
 = 
çl£
;

205 ià(!
ok
)

206 
	`ex™
 (
EXIT_FAILURE
);

208 ià(
have_bv®
)

209 
	`add_b_¡İ
 (
bv®
);

210 
	}
}

216 
	$v®id©e_b_¡İs
 (
uštmax_t
 cÚ¡ *
bs
, 
size_t
 
’Œ›s
)

218 
uštmax_t
 
´ev_b
 = 0;

219 
size_t
 
i
;

221 
i
 = 0; i < 
’Œ›s
; i++)

223 ià(
bs
[
i
] == 0)

224 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tab size cannot be 0"));

225 ià(
bs
[
i
] <ğ
´ev_b
)

226 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tab sizes must be‡scending"));

227 
´ev_b
 = 
bs
[
i
];

229 
	}
}

236 
FILE
 *

237 
	$Ãxt_fe
 (
FILE
 *
å
)

239 *
´ev_fe
;

240 *
fe
;

242 ià(
å
)

244 ià(
	`ã¼Ü
 (
å
))

246 
	`”rÜ
 (0, 
”ºo
, "%s", 
´ev_fe
);

247 
ex™_¡©us
 = 
EXIT_FAILURE
;

249 ià(
	`STREQ
 (
´ev_fe
, "-"))

250 
	`ş—»¼
 (
å
);

251 ià(
	`fşo£
 (
å
) != 0)

253 
	`”rÜ
 (0, 
”ºo
, "%s", 
´ev_fe
);

254 
ex™_¡©us
 = 
EXIT_FAILURE
;

258 (
fe
 = *
fe_li¡
++è!ğ
NULL
)

260 ià(
	`STREQ
 (
fe
, "-"))

262 
have_»ad_¡dš
 = 
Œue
;

263 
å
 = 
¡dš
;

266 
å
 = 
	`fİ’
 (
fe
, "r");

267 ià(
å
)

269 
´ev_fe
 = 
fe
;

270 
	`çdvi£
 (
å
, 
FADVISE_SEQUENTIAL
);

271  
å
;

273 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

274 
ex™_¡©us
 = 
EXIT_FAILURE
;

276  
NULL
;

277 
	}
}

283 
	$uÃx·nd
 ()

286 
FILE
 *
å
 = 
	`Ãxt_fe
 (
NULL
);

291 *
³ndšg_bÏnk
;

293 ià(!
å
)

299 
³ndšg_bÏnk
 = 
	`xm®loc
 (
max_cŞumn_width
);

301 
Œue
)

304 
c
;

307 
boŞ
 
cÚv”t
 = 
Œue
;

314 
uštmax_t
 
cŞumn
 = 0;

317 
uštmax_t
 
Ãxt_b_cŞumn
 = 0;

320 
size_t
 
b_šdex
 = 0;

323 
boŞ
 
Úe_bÏnk_befÜe_b_¡İ
 = 
çl£
;

328 
boŞ
 
´ev_bÏnk
 = 
Œue
;

331 
size_t
 
³ndšg
 = 0;

338 (
c
 = 
	`g‘c
 (
å
)è< 0 && (å = 
	`Ãxt_fe
 (fp)))

341 ià(
cÚv”t
)

343 
boŞ
 
bÏnk
 = !! 
	`isbÏnk
 (
c
);

345 ià(
bÏnk
)

347 ià(
Ãxt_b_cŞumn
 <ğ
cŞumn
)

349 ià(
b_size
)

350 
Ãxt_b_cŞumn
 =

351 
cŞumn
 + (
b_size
 - column %ab_size);

353 
Œue
)

354 ià(
b_šdex
 =ğ
fœ¡_ä“_b
)

356 
cÚv”t
 = 
çl£
;

361 
uštmax_t
 
b
 = 
b_li¡
[
b_šdex
++];

362 ià(
cŞumn
 < 
b
)

364 
Ãxt_b_cŞumn
 = 
b
;

370 ià(
cÚv”t
)

372 ià(
Ãxt_b_cŞumn
 < 
cŞumn
)

373 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("input†ine isoo†ong"));

375 ià(
c
 == '\t')

377 
cŞumn
 = 
Ãxt_b_cŞumn
;

379 ià(
³ndšg
)

380 
³ndšg_bÏnk
[0] = '\t';

384 
cŞumn
++;

386 ià(! (
´ev_bÏnk
 && 
cŞumn
 =ğ
Ãxt_b_cŞumn
))

390 ià(
cŞumn
 =ğ
Ãxt_b_cŞumn
)

391 
Úe_bÏnk_befÜe_b_¡İ
 = 
Œue
;

392 
³ndšg_bÏnk
[
³ndšg
++] = 
c
;

393 
´ev_bÏnk
 = 
Œue
;

398 
³ndšg_bÏnk
[0] = 
c
 = '\t';

403 
³ndšg
 = 
Úe_bÏnk_befÜe_b_¡İ
;

406 ià(
c
 == '\b')

410 
cŞumn
 -= !!column;

411 
Ãxt_b_cŞumn
 = 
cŞumn
;

412 
b_šdex
 -= !!tab_index;

416 
cŞumn
++;

417 ià(!
cŞumn
)

418 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("input†ine isoo†ong"));

421 ià(
³ndšg
)

423 ià(
³ndšg
 > 1 && 
Úe_bÏnk_befÜe_b_¡İ
)

424 
³ndšg_bÏnk
[0] = '\t';

425 ià(
	`fwr™e
 (
³ndšg_bÏnk
, 1, 
³ndšg
, 
¡dout
) !=…ending)

426 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

427 
³ndšg
 = 0;

428 
Úe_bÏnk_befÜe_b_¡İ
 = 
çl£
;

431 
´ev_bÏnk
 = 
bÏnk
;

432 
cÚv”t
 &ğ
cÚv”t_’tœe_lše
 || 
bÏnk
;

435 ià(
c
 < 0)

437 
	`ä“
 (
³ndšg_bÏnk
);

441 ià(
	`putch¬
 (
c
) < 0)

442 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("writeƒrror"));

444 
c
 != '\n');

446 
	}
}

449 
	$maš
 (
¬gc
, **
¬gv
)

451 
boŞ
 
have_bv®
 = 
çl£
;

452 
uštmax_t
 
bv®
 
	`IF_LINT
 ( = 0);

453 
c
;

457 
boŞ
 
cÚv”t_fœ¡_Úly
 = 
çl£
;

459 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

460 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

461 
	`£oÿË
 (
LC_ALL
, "");

462 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

463 
	`‹xtdomaš
 (
PACKAGE
);

465 
	`©ex™
 (
şo£_¡dout
);

467 
have_»ad_¡dš
 = 
çl£
;

468 
ex™_¡©us
 = 
EXIT_SUCCESS
;

469 
cÚv”t_’tœe_lše
 = 
çl£
;

470 
b_li¡
 = 
NULL
;

471 
fœ¡_ä“_b
 = 0;

473 (
c
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, ",0123456789©:", 
lÚgİts
, 
NULL
))

476 
c
)

479 
	`u§ge
 (
EXIT_FAILURE
);

481 
cÚv”t_’tœe_lše
 = 
Œue
;

484 
cÚv”t_’tœe_lše
 = 
Œue
;

485 
	`·r£_b_¡İs
 (
İrg
);

487 
CONVERT_FIRST_ONLY_OPTION
:

488 
cÚv”t_fœ¡_Úly
 = 
Œue
;

491 ià(
have_bv®
)

492 
	`add_b_¡İ
 (
bv®
);

493 
have_bv®
 = 
çl£
;

495 
ÿ£_GETOPT_HELP_CHAR
;

496 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

498 ià(!
have_bv®
)

500 
bv®
 = 0;

501 
have_bv®
 = 
Œue
;

503 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
bv®
, 
c
 - '0', 
uštmax_t
))

504 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("tab stop value isoo†arge"));

509 ià(
cÚv”t_fœ¡_Úly
)

510 
cÚv”t_’tœe_lše
 = 
çl£
;

512 ià(
have_bv®
)

513 
	`add_b_¡İ
 (
bv®
);

515 
	`v®id©e_b_¡İs
 (
b_li¡
, 
fœ¡_ä“_b
);

517 ià(
fœ¡_ä“_b
 == 0)

518 
b_size
 = 
max_cŞumn_width
 = 8;

519 ià(
fœ¡_ä“_b
 == 1)

520 
b_size
 = 
b_li¡
[0];

522 
b_size
 = 0;

524 
fe_li¡
 = (
İtšd
 < 
¬gc
 ? &
¬gv
[İtšd] : 
¡dš_¬gv
);

526 
	`uÃx·nd
 ();

528 ià(
have_»ad_¡dš
 && 
	`fşo£
 (
¡dš
) != 0)

529 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

531 
	`ex™
 (
ex™_¡©us
);

532 
	}
}

	@uniq.c

19 
	~<cÚfig.h
>

21 
	~<g‘İt.h
>

22 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

25 
	~"¬gm©ch.h
"

26 
	~"lšebufãr.h
"

27 
	~"”rÜ.h
"

28 
	~"çdvi£.h
"

29 
	~"h¬d-loÿË.h
"

30 
	~"posixv”.h
"

31 
	~"quÙe.h
"

32 
	~"¡dio--.h
"

33 
	~"xmemcŞl.h
"

34 
	~"x¡¹Ş.h
"

35 
	~"memÿ£cmp.h
"

38 
	#PROGRAM_NAME
 "uniq"

	)

40 
	#AUTHORS
 \

41 
	`´İ”_Çme
 ("Richard M. Stallman"), \

42 
	`´İ”_Çme
 ("David MacK’z›")

	)

44 
	#SWAP_LINES
(
A
, 
B
) \

47 
lšebufãr
 *
_tmp
; \

48 
_tmp
 = (
A
); \

49 (
A
èğ(
B
); \

50 (
B
èğ
_tmp
; \

52 0)

	)

55 
boŞ
 
	gh¬d_LC_COLLATE
;

58 
size_t
 
	gsk_f›lds
;

61 
size_t
 
	gsk_ch¬s
;

64 
size_t
 
	gcheck_ch¬s
;

66 
	ecouÁmode


68 
	mcouÁ_occu¼’ûs
,

69 
	mcouÁ_nÚe


74 
couÁmode
 
	gcouÁmode
;

79 
boŞ
 
	gouut_unique
;

80 
boŞ
 
	gouut_fœ¡_»³©ed
;

81 
boŞ
 
	gouut_Ï‹r_»³©ed
;

84 
boŞ
 
	gignÜe_ÿ£
;

86 
	ed–im™_m‘hod


89 
	mDM_NONE
,

92 
	mDM_PREPEND
,

95 
	mDM_SEPARATE


98 cÚ¡ *cÚ¡ 
	gd–im™_m‘hod_¡ršg
[] =

100 "nÚe", "´•’d", "£·¿‹", 
NULL


103 
d–im™_m‘hod
 cÚ¡ 
	gd–im™_m‘hod_m­
[] =

105 
DM_NONE
, 
DM_PREPEND
, 
DM_SEPARATE


109 
d–im™_m‘hod
 
	gd–im™_groups
;

111 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

113 {"couÁ", 
no_¬gum’t
, 
NULL
, 'c'},

114 {"»³©ed", 
no_¬gum’t
, 
NULL
, 'd'},

115 {"®l-»³©ed", 
İtiÚ®_¬gum’t
, 
NULL
, 'D'},

116 {"ignÜe-ÿ£", 
no_¬gum’t
, 
NULL
, 'i'},

117 {"unique", 
no_¬gum’t
, 
NULL
, 'u'},

118 {"sk-f›lds", 
»quœed_¬gum’t
, 
NULL
, 'f'},

119 {"sk-ch¬s", 
»quœed_¬gum’t
, 
NULL
, 's'},

120 {"check-ch¬s", 
»quœed_¬gum’t
, 
NULL
, 'w'},

121 {"z”o-‹rmš©ed", 
no_¬gum’t
, 
NULL
, 'z'},

122 {
GETOPT_HELP_OPTION_DECL
},

123 {
GETOPT_VERSION_OPTION_DECL
},

124 {
NULL
, 0, NULL, 0}

128 
	$u§ge
 (
¡©us
)

130 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

131 
	`em™_Œy_h–p
 ();

134 
	`´štf
 (
	`_
("\
: %s [OPTION]... [INPUT [OUTPUT]]\n\
"),

137 
´og¿m_Çme
);

138 
	`åuts
 (
	`_
("\
‡djaûÁ m©chšg†še äom INPUT (Ü snd¬d iÅut),\n\
ØOUTPUT (Ü snd¬d ouut).\n\
\n\
‚ØİtiÚs, m©chšg†še ¬m”gedØthfœ¡ occu¼’û.\n\
"), 
¡dout
);

145 
	`em™_mªd©Üy_¬g_nÙe
 ();

147 
	`åuts
 (
	`_
("\
-c, --couÁ…»fix†še byhnumb” oàoccu¼’ûs\n\
-d, --»³©ed oÆy…ršˆdu¶iÿ‹†šes\n\
"), 
¡dout
);

151 
	`åuts
 (
	`_
("\
-D, --®l-»³©ed[=d–im™-m‘hod]…ršˆ®Èdu¶iÿ‹†šes\n\
-m‘hod={nÚe(deçuÉ),´•’d,£·¿‹}\n\
 i dÚw™h bÏnk†šes\n\
-f, --sk-f›lds=N‡void com·ršghfœ¡ N f›lds\n\
-i, --ignÜe-ÿ£ ignÜdifã»nû š ca£ wh’ com·ršg\n\
-s, --sk-ch¬s=N‡void com·ršghfœ¡ N ch¬aù”s\n\
-u, --uniqu oÆy…ršˆuniqulšes\n\
-z, --z”o-‹rmš©edƒnd†še w™h 0 by‹,‚Ù‚ewlše\n\
"), 
¡dout
);

161 
	`åuts
 (
	`_
("\
-w, --check-ch¬s=N com·»‚ØmÜthª N ch¬aù” š†šes\n\
"), 
¡dout
);

164 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

165 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

166 
	`åuts
 (
	`_
("\
\n\
 f›ld i ¨ruÀoàbÏnk (usu®ly s·û ªd/Ü TABs),h’‚Ú-bÏnk\n\
. F›ld ¬sk³d befÜch¬s.\n\
"), 
¡dout
);

171 
	`åuts
 (
	`_
("\
\n\
: 'uniq' dÛ nÙ d‘eù„•—‹d†še uÆes they‡»‡djaûÁ.\n\
 may wªˆtØsÜˆthšpuˆfœ¡, o¸u£ 'sÜˆ-u' w™houˆ'uniq'.\n\
, com·risÚ hÚÜhruË ¥ecif›d by 'LC_COLLATE'.\n\
"), 
¡dout
);

177 
	`em™_ªcÏry_šfo
 ();

179 
	`ex™
 (
¡©us
);

180 
	}
}

185 
size_t


186 
	$size_İt
 (cÚ¡ *
İt
, cÚ¡ *
msgid
)

188 
size
;

189 
	`v”ify
 (
SIZE_MAX
 <ğ
ULONG_MAX
);

191 
	`x¡¹oul
 (
İt
, 
NULL
, 10, &
size
, ""))

193 
LONGINT_OK
:

194 
LONGINT_OVERFLOW
:

198 
	`”rÜ
 (
EXIT_FAILURE
, 0, "%s: %s", 
İt
, 
	`_
(
msgid
));

201  
	`MIN
 (
size
, 
SIZE_MAX
);

202 
	}
}

207 * 
_GL_ATTRIBUTE_PURE


208 
	$fšd_f›ld
 (
lšebufãr
 cÚ¡ *
lše
)

210 
size_t
 
couÁ
;

211 cÚ¡ *
Í
 = 
lše
->
bufãr
;

212 
size_t
 
size
 = 
lše
->
Ëngth
 - 1;

213 
size_t
 
i
 = 0;

215 
couÁ
 = 0; couÁ < 
sk_f›lds
 && 
i
 < 
size
; count++)

217 
i
 < 
size
 && 
	`isbÏnk
 (
	`to_uch¬
 (
Í
[i])))

218 
i
++;

219 
i
 < 
size
 && !
	`isbÏnk
 (
	`to_uch¬
 (
Í
[i])))

220 
i
++;

223 
i
 +ğ
	`MIN
 (
sk_ch¬s
, 
size
 - i);

225  
lše
->
bufãr
 + 
i
;

226 
	}
}

233 
boŞ


234 
	$difã»Á
 (*
Şd
, *
Ãw
, 
size_t
 
ŞdËn
, size_ˆ
ÃwËn
)

236 ià(
check_ch¬s
 < 
ŞdËn
)

237 
ŞdËn
 = 
check_ch¬s
;

238 ià(
check_ch¬s
 < 
ÃwËn
)

239 
ÃwËn
 = 
check_ch¬s
;

241 ià(
ignÜe_ÿ£
)

244  
ŞdËn
 !ğ
ÃwËn
 || 
	`memÿ£cmp
 (
Şd
, 
Ãw
, oldlen);

246 ià(
h¬d_LC_COLLATE
)

247  
	`xmemcŞl
 (
Şd
, 
ŞdËn
, 
Ãw
, 
ÃwËn
) != 0;

249  
ŞdËn
 !ğ
ÃwËn
 || 
	`memcmp
 (
Şd
, 
Ãw
, oldlen);

250 
	}
}

259 
	$wr™–še
 (
lšebufãr
 cÚ¡ *
lše
,

260 
boŞ
 
m©ch
, 
uštmax_t
 
lšecouÁ
)

262 ià(! (
lšecouÁ
 =ğ0 ? 
ouut_unique


263 : !
m©ch
 ? 
ouut_fœ¡_»³©ed


264 : 
ouut_Ï‹r_»³©ed
))

267 ià(
couÁmode
 =ğ
couÁ_occu¼’ûs
)

268 
	`´štf
 ("%7" 
PRIuMAX
 " ", 
lšecouÁ
 + 1);

270 
	`fwr™e
 (
lše
->
bufãr
,  (),†še->
Ëngth
, 
¡dout
);

271 
	}
}

277 
	$check_fe
 (cÚ¡ *
šfe
, cÚ¡ *
outfe
, 
d–im™”
)

279 
lšebufãr
 
lb1
, 
lb2
;

280 
lšebufãr
 *
thi¦še
, *
´evlše
;

282 ià(! (
	`STREQ
 (
šfe
, "-"è|| 
	`äeİ’
 (šfe, "r", 
¡dš
)))

283 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
šfe
);

284 ià(! (
	`STREQ
 (
outfe
, "-"è|| 
	`äeİ’
 (outfe, "w", 
¡dout
)))

285 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
outfe
);

287 
	`çdvi£
 (
¡dš
, 
FADVISE_SEQUENTIAL
);

289 
thi¦še
 = &
lb1
;

290 
´evlše
 = &
lb2
;

292 
	`š™bufãr
 (
thi¦še
);

293 
	`š™bufãr
 (
´evlše
);

302 ià(
ouut_unique
 && 
ouut_fœ¡_»³©ed
 && 
couÁmode
 =ğ
couÁ_nÚe
)

304 *
´evf›ld
 
	`IF_LINT
 ( = 
NULL
);

305 
size_t
 
´evËn
 
	`IF_LINT
 ( = 0);

307 !
	`ãof
 (
¡dš
))

309 *
thisf›ld
;

310 
size_t
 
thi¦’
;

311 ià(
	`»adlšebufãr_d–im
 (
thi¦še
, 
¡dš
, 
d–im™”
) == 0)

313 
thisf›ld
 = 
	`fšd_f›ld
 (
thi¦še
);

314 
thi¦’
 = 
thi¦še
->
Ëngth
 - 1 - (
thisf›ld
 -hi¦še->
bufãr
);

315 ià(
´evlše
->
Ëngth
 == 0

316 || 
	`difã»Á
 (
thisf›ld
, 
´evf›ld
, 
thi¦’
, 
´evËn
))

318 
	`fwr™e
 (
thi¦še
->
bufãr
,  (),

319 
thi¦še
->
Ëngth
, 
¡dout
);

321 
	`SWAP_LINES
 (
´evlše
, 
thi¦še
);

322 
´evf›ld
 = 
thisf›ld
;

323 
´evËn
 = 
thi¦’
;

329 *
´evf›ld
;

330 
size_t
 
´evËn
;

331 
uštmax_t
 
m©ch_couÁ
 = 0;

332 
boŞ
 
fœ¡_d–im™”
 = 
Œue
;

334 ià(
	`»adlšebufãr_d–im
 (
´evlše
, 
¡dš
, 
d–im™”
) == 0)

335 
şo£fes
;

336 
´evf›ld
 = 
	`fšd_f›ld
 (
´evlše
);

337 
´evËn
 = 
´evlše
->
Ëngth
 - 1 - (
´evf›ld
 -…»vlše->
bufãr
);

339 !
	`ãof
 (
¡dš
))

341 
boŞ
 
m©ch
;

342 *
thisf›ld
;

343 
size_t
 
thi¦’
;

344 ià(
	`»adlšebufãr_d–im
 (
thi¦še
, 
¡dš
, 
d–im™”
) == 0)

346 ià(
	`ã¼Ü
 (
¡dš
))

347 
şo£fes
;

350 
thisf›ld
 = 
	`fšd_f›ld
 (
thi¦še
);

351 
thi¦’
 = 
thi¦še
->
Ëngth
 - 1 - (
thisf›ld
 -hi¦še->
bufãr
);

352 
m©ch
 = !
	`difã»Á
 (
thisf›ld
, 
´evf›ld
, 
thi¦’
, 
´evËn
);

353 
m©ch_couÁ
 +ğ
m©ch
;

355 ià(
m©ch_couÁ
 =ğ
UINTMAX_MAX
)

357 ià(
couÁ_occu¼’ûs
)

358 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("too many„epeated†ines"));

359 
m©ch_couÁ
--;

362 ià(
d–im™_groups
 !ğ
DM_NONE
)

364 ià(!
m©ch
)

366 ià(
m©ch_couÁ
)

367 
fœ¡_d–im™”
 = 
çl£
;

369 ià(
m©ch_couÁ
 == 1)

371 ià((
d–im™_groups
 =ğ
DM_PREPEND
)

372 || (
d–im™_groups
 =ğ
DM_SEPARATE


373 && !
fœ¡_d–im™”
))

374 
	`putch¬
 (
d–im™”
);

378 ià(!
m©ch
 || 
ouut_Ï‹r_»³©ed
)

380 
	`wr™–še
 (
´evlše
, 
m©ch
, 
m©ch_couÁ
);

381 
	`SWAP_LINES
 (
´evlše
, 
thi¦še
);

382 
´evf›ld
 = 
thisf›ld
;

383 
´evËn
 = 
thi¦’
;

384 ià(!
m©ch
)

385 
m©ch_couÁ
 = 0;

389 
	`wr™–še
 (
´evlše
, 
çl£
, 
m©ch_couÁ
);

392 
şo£fes
:

393 ià(
	`ã¼Ü
 (
¡dš
è|| 
	`fşo£
 (stdin) != 0)

394 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("”rÜ„—dšg %s"), 
šfe
);

398 
	`ä“
 (
lb1
.
bufãr
);

399 
	`ä“
 (
lb2
.
bufãr
);

400 
	}
}

402 
	eSk_f›ld_İtiÚ_ty³


404 
	mSFO_NONE
,

405 
	mSFO_OBSOLETE
,

406 
	mSFO_NEW


410 
	$maš
 (
¬gc
, **
¬gv
)

412 
İtc
 = 0;

413 
boŞ
 
posixly_cÜ»ù
 = (
	`g‘’v
 ("POSIXLY_CORRECT"è!ğ
NULL
);

414 
Sk_f›ld_İtiÚ_ty³
 
sk_f›ld_İtiÚ_ty³
 = 
SFO_NONE
;

415 
nfes
 = 0;

416 cÚ¡ *
fe
[2];

417 
d–im™”
 = '\n';

419 
fe
[0] = file[1] = "-";

420 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

421 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

422 
	`£oÿË
 (
LC_ALL
, "");

423 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

424 
	`‹xtdomaš
 (
PACKAGE
);

425 
h¬d_LC_COLLATE
 = 
	`h¬d_loÿË
 (
LC_COLLATE
);

427 
	`©ex™
 (
şo£_¡dout
);

429 
sk_ch¬s
 = 0;

430 
sk_f›lds
 = 0;

431 
check_ch¬s
 = 
SIZE_MAX
;

432 
ouut_unique
 = 
ouut_fœ¡_»³©ed
 = 
Œue
;

433 
ouut_Ï‹r_»³©ed
 = 
çl£
;

434 
couÁmode
 = 
couÁ_nÚe
;

435 
d–im™_groups
 = 
DM_NONE
;

437 
Œue
)

443 ià(
İtc
 == -1

444 || (
posixly_cÜ»ù
 && 
nfes
 != 0)

445 || ((
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
,

446 "-0123456789Dcdf:is:uw:z", 
lÚgİts
, 
NULL
))

449 ià(
¬gc
 <ğ
İtšd
)

451 ià(
nfes
 == 2)

453 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

454 
	`u§ge
 (
EXIT_FAILURE
);

456 
fe
[
nfes
++] = 
¬gv
[
İtšd
++];

458 
İtc
)

462 
size
;

463 ià(
İrg
[0] == '+'

464 && 
	`posix2_v”siÚ
 () < 200112

465 && 
	`x¡¹oul
 (
İrg
, 
NULL
, 10, &
size
, ""è=ğ
LONGINT_OK


466 && 
size
 <ğ
SIZE_MAX
)

467 
sk_ch¬s
 = 
size
;

468 ià(
nfes
 == 2)

470 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
İrg
));

471 
	`u§ge
 (
EXIT_FAILURE
);

474 
fe
[
nfes
++] = 
İrg
;

489 ià(
sk_f›ld_İtiÚ_ty³
 =ğ
SFO_NEW
)

490 
sk_f›lds
 = 0;

492 ià(!
	`DECIMAL_DIGIT_ACCUMULATE
 (
sk_f›lds
, 
İtc
 - '0', 
size_t
))

493 
sk_f›lds
 = 
SIZE_MAX
;

495 
sk_f›ld_İtiÚ_ty³
 = 
SFO_OBSOLETE
;

500 
couÁmode
 = 
couÁ_occu¼’ûs
;

504 
ouut_unique
 = 
çl£
;

508 
ouut_unique
 = 
çl£
;

509 
ouut_Ï‹r_»³©ed
 = 
Œue
;

510 ià(
İrg
 =ğ
NULL
)

511 
d–im™_groups
 = 
DM_NONE
;

513 
d–im™_groups
 = 
	`XARGMATCH
 ("--®l-»³©ed", 
İrg
,

514 
d–im™_m‘hod_¡ršg
,

515 
d–im™_m‘hod_m­
);

519 
sk_f›ld_İtiÚ_ty³
 = 
SFO_NEW
;

520 
sk_f›lds
 = 
	`size_İt
 (
İrg
,

521 
	`N_
("invalid‚umber of fieldso skip"));

525 
ignÜe_ÿ£
 = 
Œue
;

529 
sk_ch¬s
 = 
	`size_İt
 (
İrg
,

530 
	`N_
("invalid‚umber of byteso skip"));

534 
ouut_fœ¡_»³©ed
 = 
çl£
;

538 
check_ch¬s
 = 
	`size_İt
 (
İrg
,

539 
	`N_
("invalid‚umber of byteso compare"));

543 
d–im™”
 = '\0';

546 
ÿ£_GETOPT_HELP_CHAR
;

548 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

551 
	`u§ge
 (
EXIT_FAILURE
);

555 ià(
couÁmode
 =ğ
couÁ_occu¼’ûs
 && 
ouut_Ï‹r_»³©ed
)

557 
	`”rÜ
 (0, 0,

558 
	`_
("printing‡ll duplicated†ines‡nd„epeat counts is meaningless"));

559 
	`u§ge
 (
EXIT_FAILURE
);

562 
	`check_fe
 (
fe
[0], fe[1], 
d–im™”
);

564 
	`ex™
 (
EXIT_SUCCESS
);

565 
	}
}

	@unlink.c

23 
	~<cÚfig.h
>

24 
	~<¡dio.h
>

25 
	~<g‘İt.h
>

26 
	~<sys/ty³s.h
>

28 
	~"sy¡em.h
"

29 
	~"”rÜ.h
"

30 
	~"lÚg-İtiÚs.h
"

31 
	~"quÙe.h
"

34 
	#PROGRAM_NAME
 "uÆšk"

	)

36 
	#AUTHORS
 
	`´İ”_Çme
 ("Mich«ÈStÚe")

	)

39 
	$u§ge
 (
¡©us
)

41 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

42 
	`em™_Œy_h–p
 ();

45 
	`´štf
 (
	`_
("\
: % FILE\n\
: % OPTION\n"), 
´og¿m_Çme
,…rogram_name);

48 
	`åuts
 (
	`_
("Callhe unlink functiono„emovehe specified FILE.\n\n"),

49 
¡dout
);

50 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

51 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

52 
	`em™_ªcÏry_šfo
 ();

54 
	`ex™
 (
¡©us
);

55 
	}
}

58 
	$maš
 (
¬gc
, **
¬gv
)

60 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

61 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

62 
	`£oÿË
 (
LC_ALL
, "");

63 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

64 
	`‹xtdomaš
 (
PACKAGE
);

66 
	`©ex™
 (
şo£_¡dout
);

68 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

69 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

70 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

71 
	`u§ge
 (
EXIT_FAILURE
);

73 ià(
¬gc
 < 
İtšd
 + 1)

75 
	`”rÜ
 (0, 0, 
	`_
("missing operand"));

76 
	`u§ge
 (
EXIT_FAILURE
);

79 ià(
İtšd
 + 1 < 
¬gc
)

81 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

82 
	`u§ge
 (
EXIT_FAILURE
);

85 ià(
	`uÆšk
 (
¬gv
[
İtšd
]) != 0)

86 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("ÿÂÙ uÆšk %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

88 
	`ex™
 (
EXIT_SUCCESS
);

89 
	}
}

	@uptime.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

26 #ià
HAVE_SYSCTL
 && 
HAVE_SYS_SYSCTL_H


27 
	~<sys/sysùl.h
>

30 #ià
HAVE_OS_H


31 
	~<OS.h
>

34 
	~"c-¡¹od.h
"

35 
	~"”rÜ.h
"

36 
	~"lÚg-İtiÚs.h
"

37 
	~"quÙe.h
"

38 
	~"»adutmp.h
"

39 
	~"årštáime.h
"

42 
	#PROGRAM_NAME
 "u±ime"

	)

44 
	#AUTHORS
 \

45 
	`´İ”_Çme
 ("Joseph Arceneaux"), \

46 
	`´İ”_Çme
 ("David MacKenzie"), \

47 
	`´İ”_Çme
 ("Kaveh Ghazi")

	)

50 
	$´št_u±ime
 (
size_t
 
n
, cÚ¡ 
STRUCT_UTMP
 *
this
)

52 
size_t
 
’Œ›s
 = 0;

53 
time_t
 
boÙ_time
 = 0;

54 
time_t
 
time_now
;

55 
time_t
 
u±ime
 = 0;

56 
updays
;

57 
uphours
;

58 
upmšs
;

59 
tm
 *
tmn
;

60 
avg
[3];

61 
lßds
;

62 #ifdeà
HAVE_PROC_UPTIME


63 
FILE
 *
å
;

65 
å
 = 
	`fİ’
 ("/proc/uptime", "r");

66 ià(
å
 !ğ
NULL
)

68 
buf
[
BUFSIZ
];

69 *
b
 = 
	`fg‘s
 (
buf
, 
BUFSIZ
, 
å
);

70 ià(
b
 =ğ
buf
)

72 *
’d_±r
;

73 
up£cs
 = 
	`c_¡¹od
 (
buf
, &
’d_±r
);

74 ià(
buf
 !ğ
’d_±r
)

75 
u±ime
 = (0 <ğ
up£cs
 && up£c < 
	`TYPE_MAXIMUM
 (
time_t
)

76 ? 
up£cs
 : -1);

79 
	`fşo£
 (
å
);

83 #ià
HAVE_SYSCTL
 && 
defšed
 
CTL_KERN
 && defšed 
KERN_BOOTTIME


86 
»que¡
[2] = { 
CTL_KERN
, 
KERN_BOOTTIME
 };

87 
timev®
 
»suÉ
;

88 
size_t
 
»suÉ_Ën
 =  
»suÉ
;

90 ià(
	`sysùl
 (
»que¡
, 2, &
»suÉ
, &
»suÉ_Ën
, 
NULL
, 0) >= 0)

91 
boÙ_time
 = 
»suÉ
.
tv_£c
;

95 #ià
HAVE_OS_H


97 
sy¡em_šfo
 
si
;

99 
	`g‘_sy¡em_šfo
 (&
si
);

100 
boÙ_time
 = 
si
.boot_time / 1000000;

104 #ià
HAVE_UTMPX_H
 || 
HAVE_UTMP_H


107 
n
--)

109 
’Œ›s
 +ğ
	`IS_USER_PROCESS
 (
this
);

110 ià(
	`UT_TYPE_BOOT_TIME
 (
this
))

111 
boÙ_time
 = 
	`UT_TIME_MEMBER
 (
this
);

112 ++
this
;

115 (è
n
;

116 (è
this
;

119 
time_now
 = 
	`time
 (
NULL
);

120 #ià
defšed
 
HAVE_PROC_UPTIME


121 ià(
u±ime
 == 0)

124 ià(
boÙ_time
 == 0)

125 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("couldn't get bootime"));

126 
u±ime
 = 
time_now
 - 
boÙ_time
;

128 
updays
 = 
u±ime
 / 86400;

129 
uphours
 = (
u±ime
 - (
updays
 * 86400)) / 3600;

130 
upmšs
 = (
u±ime
 - (
updays
 * 86400è- (
uphours
 * 3600)) / 60;

131 
tmn
 = 
	`loÿÉime
 (&
time_now
);

134 ià(
tmn
)

136 
	`årštáime
 (
¡dout
, 
	`_
(" %H:%M%P "), 
tmn
, 0, 0);

138 
	`´štf
 (
	`_
(" ??:???? "));

139 ià(
u±ime
 =ğ(
time_t
) -1)

140 
	`´štf
 (
	`_
("up ???? days ??:??, "));

143 ià(0 < 
updays
)

144 
	`´štf
 (
	`ng‘‹xt
 ("up %ld day %2d:%02d, ",

146 
	`£Ëù_¶u¿l
 (
updays
)),

147 
updays
, 
uphours
, 
upmšs
);

149 
	`´štf
 (
	`_
("u° %2d:%02d, "), 
uphours
, 
upmšs
);

151 
	`´štf
 (
	`ng‘‹xt
 ("%lu u£r", "%lu u£rs", 
	`£Ëù_¶u¿l
 (
’Œ›s
)),

152 (è
’Œ›s
);

154 
lßds
 = 
	`g‘lßdavg
 (
avg
, 3);

156 ià(
lßds
 == -1)

157 
	`putch¬
 ('\n');

160 ià(
lßds
 > 0)

161 
	`´štf
 (
	`_
(",†ßd‡v”age: %.2f"), 
avg
[0]);

162 ià(
lßds
 > 1)

163 
	`´štf
 (", %.2f", 
avg
[1]);

164 ià(
lßds
 > 2)

165 
	`´štf
 (", %.2f", 
avg
[2]);

166 ià(
lßds
 > 0)

167 
	`putch¬
 ('\n');

169 
	}
}

176 
	$u±ime
 (cÚ¡ *
f’ame
, 
İtiÚs
)

178 
size_t
 
n_u£rs
;

179 
STRUCT_UTMP
 *
utmp_buf
;

181 #ià
HAVE_UTMPX_H
 || 
HAVE_UTMP_H


182 ià(
	`»ad_utmp
 (
f’ame
, &
n_u£rs
, &
utmp_buf
, 
İtiÚs
) != 0)

183 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
f’ame
);

186 
	`´št_u±ime
 (
n_u£rs
, 
utmp_buf
);

187 
	}
}

190 
	$u§ge
 (
¡©us
)

192 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

193 
	`em™_Œy_h–p
 ();

196 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]\n"), 
´og¿m_Çme
);

197 
	`´štf
 (
	`_
("\
he currentime,he†ength ofimehe system has been up,\n\
‚umber of users onhe system,‡ndhe‡verage‚umber of jobs\n\
he„un queue overhe†ast 1, 5‡nd 15 minutes."));

201 #ifdeà
__lšux__


206 
	`´štf
 (
	`_
(" \
 in\n\
 uninterruptible sleep state‡lso contributeohe†oad‡verage.\n"));

210 
	`´štf
 (
	`_
("\n"));

212 
	`´štf
 (
	`_
("\
 FILE is‚ot specified, use %s. %s‡s FILE is common.\n\
\n"),

215 
UTMP_FILE
, 
WTMP_FILE
);

216 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

217 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

218 
	`em™_ªcÏry_šfo
 ();

220 
	`ex™
 (
¡©us
);

221 
	}
}

224 
	$maš
 (
¬gc
, **
¬gv
)

226 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

227 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

228 
	`£oÿË
 (
LC_ALL
, "");

229 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

230 
	`‹xtdomaš
 (
PACKAGE
);

232 
	`©ex™
 (
şo£_¡dout
);

234 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

235 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

236 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

237 
	`u§ge
 (
EXIT_FAILURE
);

239 
¬gc
 - 
İtšd
)

242 
	`u±ime
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

246 
	`u±ime
 (
¬gv
[
İtšd
], 0);

250 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

251 
	`u§ge
 (
EXIT_FAILURE
);

254 
	`ex™
 (
EXIT_SUCCESS
);

255 
	}
}

	@users.c

19 
	~<cÚfig.h
>

20 
	~<g‘İt.h
>

21 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"lÚg-İtiÚs.h
"

28 
	~"quÙe.h
"

29 
	~"»adutmp.h
"

32 
	#PROGRAM_NAME
 "u£rs"

	)

34 
	#AUTHORS
 \

35 
	`´İ”_Çme
 ("Joseph Arceneaux"), \

36 
	`´İ”_Çme
 ("David MacK’z›")

	)

39 
	$u£rid_com·»
 (cÚ¡ *
v_a
, cÚ¡ *
v_b
)

41 **
a
 = (**è
v_a
;

42 **
b
 = (**è
v_b
;

43  
	`¡rcmp
 (*
a
, *
b
);

44 
	}
}

47 
	$li¡_’Œ›s_u£rs
 (
size_t
 
n
, cÚ¡ 
STRUCT_UTMP
 *
this
)

49 **
u
 = 
	`xnm®loc
 (
n
,  *u);

50 
size_t
 
i
;

51 
size_t
 
n_’Œ›s
 = 0;

53 
n
--)

55 ià(
	`IS_USER_PROCESS
 (
this
))

57 *
Œimmed_Çme
;

59 
Œimmed_Çme
 = 
	`exŒaù_Œimmed_Çme
 (
this
);

61 
u
[
n_’Œ›s
] = 
Œimmed_Çme
;

62 ++
n_’Œ›s
;

64 
this
++;

67 
	`qsÜt
 (
u
, 
n_’Œ›s
,  (u[0]), 
u£rid_com·»
);

69 
i
 = 0; i < 
n_’Œ›s
; i++)

71 
c
 = (
i
 < 
n_’Œ›s
 - 1 ? ' ' : '\n');

72 
	`åuts
 (
u
[
i
], 
¡dout
);

73 
	`putch¬
 (
c
);

76 
i
 = 0; i < 
n_’Œ›s
; i++)

77 
	`ä“
 (
u
[
i
]);

78 
	`ä“
 (
u
);

79 
	}
}

85 
	$u£rs
 (cÚ¡ *
f’ame
, 
İtiÚs
)

87 
size_t
 
n_u£rs
;

88 
STRUCT_UTMP
 *
utmp_buf
;

90 ià(
	`»ad_utmp
 (
f’ame
, &
n_u£rs
, &
utmp_buf
, 
İtiÚs
) != 0)

91 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
f’ame
);

93 
	`li¡_’Œ›s_u£rs
 (
n_u£rs
, 
utmp_buf
);

95 
	`ä“
 (
utmp_buf
);

96 
	}
}

99 
	$u§ge
 (
¡©us
)

101 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

102 
	`em™_Œy_h–p
 ();

105 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [FILE]\n"), 
´og¿m_Çme
);

106 
	`´štf
 (
	`_
("\
 who is currently†ogged in‡ccordingo FILE.\n\
 FILE is‚ot specified, use %s. %s‡s FILE is common.\n\
\n\
"),

111 
UTMP_FILE
, 
WTMP_FILE
);

112 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

113 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

114 
	`em™_ªcÏry_šfo
 ();

116 
	`ex™
 (
¡©us
);

117 
	}
}

120 
	$maš
 (
¬gc
, **
¬gv
)

122 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

123 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

124 
	`£oÿË
 (
LC_ALL
, "");

125 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

126 
	`‹xtdomaš
 (
PACKAGE
);

128 
	`©ex™
 (
şo£_¡dout
);

130 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

131 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

132 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

133 
	`u§ge
 (
EXIT_FAILURE
);

135 
¬gc
 - 
İtšd
)

138 
	`u£rs
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

142 
	`u£rs
 (
¬gv
[
İtšd
], 0);

146 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 1]));

147 
	`u§ge
 (
EXIT_FAILURE
);

150 
	`ex™
 (
EXIT_SUCCESS
);

151 
	}
}

	@wc.c

20 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<as£¹.h
>

24 
	~<g‘İt.h
>

25 
	~<sys/ty³s.h
>

26 
	~<wch¬.h
>

27 
	~<wùy³.h
>

29 
	~"sy¡em.h
"

30 
	~"¬gv-™”.h
"

31 
	~"”rÜ.h
"

32 
	~"çdvi£.h
"

33 
	~"mbch¬.h
"

34 
	~"physmem.h
"

35 
	~"quÙe.h
"

36 
	~"quÙ—rg.h
"

37 
	~"»adtok’s0.h
"

38 
	~"§ã-»ad.h
"

39 
	~"xäeİ’.h
"

41 #ià!
defšed
 
isw¥aû
 && !
HAVE_ISWSPACE


42 
	#isw¥aû
(
wc
) \

43 ((
wc
è=ğ
	`to_uch¬
 (wcè&& 
	`is¥aû
 (to_uch¬ (wc)))

	)

47 
	#PROGRAM_NAME
 "wc"

	)

49 
	#AUTHORS
 \

50 
	`´İ”_Çme
 ("Paul Rubin"), \

51 
	`´İ”_Çme
 ("David MacK’z›")

	)

54 
	#BUFFER_SIZE
 (16 * 1024)

	)

58 
uštmax_t
 
	gtÙ®_lšes
;

59 
uštmax_t
 
	gtÙ®_wÜds
;

60 
uštmax_t
 
	gtÙ®_ch¬s
;

61 
uštmax_t
 
	gtÙ®_by‹s
;

62 
uštmax_t
 
	gmax_lše_Ëngth
;

65 
boŞ
 
	g´št_lšes
, 
	g´št_wÜds
, 
	g´št_ch¬s
, 
	g´št_by‹s
;

66 
boŞ
 
	g´št_lš–’gth
;

69 
	gnumb”_width
;

72 
boŞ
 
	ghave_»ad_¡dš
;

75 
	sf¡©us


79 
	mçed
;

82 
¡©
 
	m¡
;

89 
	mFILES0_FROM_OPTION
 = 
CHAR_MAX
 + 1

92 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

94 {"by‹s", 
no_¬gum’t
, 
NULL
, 'c'},

95 {"ch¬s", 
no_¬gum’t
, 
NULL
, 'm'},

96 {"lšes", 
no_¬gum’t
, 
NULL
, 'l'},

97 {"wÜds", 
no_¬gum’t
, 
NULL
, 'w'},

98 {"fes0-äom", 
»quœed_¬gum’t
, 
NULL
, 
FILES0_FROM_OPTION
},

99 {"max-lše-Ëngth", 
no_¬gum’t
, 
NULL
, 'L'},

100 {
GETOPT_HELP_OPTION_DECL
},

101 {
GETOPT_VERSION_OPTION_DECL
},

102 {
NULL
, 0, NULL, 0}

106 
	$u§ge
 (
¡©us
)

108 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

109 
	`em™_Œy_h–p
 ();

112 
	`´štf
 (
	`_
("\
: %s [OPTION]... [FILE]...\n\
: %s [OPTION]... --files0-from=F\n\
"),

116 
´og¿m_Çme
,…rogram_name);

117 
	`åuts
 (
	`_
("\
‚ewlše, wÜd,‡nd by‹ couÁ fÜƒach FILE,‡nd‡Ù®†šif\n\
hª oÃ FILE i ¥ecif›d. W™h‚ØFILE, o¸wh’ FILE i -,\n\
 snd¬d iÅut. A wÜd i ¨nÚ-z”o-Ëngth sequ’û oàch¬aù”s\n\
 by wh™¥aû.\n\
 o±iÚ b–ow may bu£dØ£Ëù which couÁ ¬´š‹d,‡lway š\n\
 fŞlowšg ord”:‚ewlše, wÜd, ch¬aù”, by‹, maximum†šËngth.\n\
-c, --by‹ …ršˆthby‹ couÁs\n\
-m, --ch¬ …ršˆthch¬aù” couÁs\n\
-l, --lše …ršˆthÃwlšcouÁs\n\
"), 
¡dout
);

128 
	`åuts
 (
	`_
("\
--fes0-äom=F„—d iÅuˆäomhfe ¥ecif›d by\n\
-‹rmš©ed‚ame š fF;\n\
 F i -h’„—d‚ame äom snd¬d iÅut\n\
-L, --max-lše-Ëngth…ršˆthËngth oàthlÚge¡†še\n\
-w, --wÜd …ršˆthwÜd couÁs\n\
"), 
¡dout
);

135 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

136 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

137 
	`em™_ªcÏry_šfo
 ();

139 
	`ex™
 (
¡©us
);

140 
	}
}

145 
	$wr™e_couÁs
 (
uštmax_t
 
lšes
,

146 
uštmax_t
 
wÜds
,

147 
uštmax_t
 
ch¬s
,

148 
uštmax_t
 
by‹s
,

149 
uštmax_t
 
lš–’gth
,

150 cÚ¡ *
fe
)

152 cÚ¡ 
fÜm©_¥_št
[] = " %*s";

153 cÚ¡ *
fÜm©_št
 = 
fÜm©_¥_št
 + 1;

154 
buf
[
	`INT_BUFSIZE_BOUND
 (
uštmax_t
)];

156 ià(
´št_lšes
)

158 
	`´štf
 (
fÜm©_št
, 
numb”_width
, 
	`umaxto¡r
 (
lšes
, 
buf
));

159 
fÜm©_št
 = 
fÜm©_¥_št
;

161 ià(
´št_wÜds
)

163 
	`´štf
 (
fÜm©_št
, 
numb”_width
, 
	`umaxto¡r
 (
wÜds
, 
buf
));

164 
fÜm©_št
 = 
fÜm©_¥_št
;

166 ià(
´št_ch¬s
)

168 
	`´štf
 (
fÜm©_št
, 
numb”_width
, 
	`umaxto¡r
 (
ch¬s
, 
buf
));

169 
fÜm©_št
 = 
fÜm©_¥_št
;

171 ià(
´št_by‹s
)

173 
	`´štf
 (
fÜm©_št
, 
numb”_width
, 
	`umaxto¡r
 (
by‹s
, 
buf
));

174 
fÜm©_št
 = 
fÜm©_¥_št
;

176 ià(
´št_lš–’gth
)

178 
	`´štf
 (
fÜm©_št
, 
numb”_width
, 
	`umaxto¡r
 (
lš–’gth
, 
buf
));

180 ià(
fe
)

181 
	`´štf
 (" %s", 
fe
);

182 
	`putch¬
 ('\n');

183 
	}
}

188 
boŞ


189 
	$wc
 (
fd
, cÚ¡ *
fe_x
, 
f¡©us
 *fstatus)

191 
boŞ
 
ok
 = 
Œue
;

192 
buf
[
BUFFER_SIZE
 + 1];

193 
size_t
 
by‹s_»ad
;

194 
uštmax_t
 
lšes
, 
wÜds
, 
ch¬s
, 
by‹s
, 
lš–’gth
;

195 
boŞ
 
couÁ_by‹s
, 
couÁ_ch¬s
, 
couÁ_com¶iÿ‹d
;

196 cÚ¡ *
fe
 = 
fe_x
 ? fe_x : 
	`_
("standard input");

198 
lšes
 = 
wÜds
 = 
ch¬s
 = 
by‹s
 = 
lš–’gth
 = 0;

202 #ià
MB_LEN_MAX
 > 1

203 ià(
MB_CUR_MAX
 > 1)

205 
couÁ_by‹s
 = 
´št_by‹s
;

206 
couÁ_ch¬s
 = 
´št_ch¬s
;

211 
couÁ_by‹s
 = 
´št_by‹s
 || 
´št_ch¬s
;

212 
couÁ_ch¬s
 = 
çl£
;

214 
couÁ_com¶iÿ‹d
 = 
´št_wÜds
 || 
´št_lš–’gth
;

217 ià(!
couÁ_by‹s
 || 
couÁ_ch¬s
 || 
´št_lšes
 || 
couÁ_com¶iÿ‹d
)

218 
	`fdadvi£
 (
fd
, 0, 0, 
FADVISE_SEQUENTIAL
);

230 ià(
couÁ_by‹s
 && !
couÁ_ch¬s
 && !
´št_lšes
 && !
couÁ_com¶iÿ‹d
)

232 
off_t
 
cu¼’t_pos
, 
’d_pos
;

234 ià(0 < 
f¡©us
->
çed
)

235 
f¡©us
->
çed
 = 
	`f¡©
 (
fd
, &f¡©us->
¡
);

237 ià(! 
f¡©us
->
çed
 && 
	`S_ISREG
 (f¡©us->
¡
.
¡_mode
)

238 && (
cu¼’t_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_CUR
)) != -1

239 && (
’d_pos
 = 
	`l£ek
 (
fd
, 0, 
SEEK_END
)) != -1)

243 
by‹s
 = 
’d_pos
 < 
cu¼’t_pos
 ? 0 :ƒnd_pos - current_pos;

247 
	`fdadvi£
 (
fd
, 0, 0, 
FADVISE_SEQUENTIAL
);

248 (
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

250 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

252 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

253 
ok
 = 
çl£
;

256 
by‹s
 +ğ
by‹s_»ad
;

260 ià(!
couÁ_ch¬s
 && !
couÁ_com¶iÿ‹d
)

264 (
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

266 *
p
 = 
buf
;

268 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

270 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

271 
ok
 = 
çl£
;

275 (
p
 = 
	`memchr
 (p, '\n', (
buf
 + 
by‹s_»ad
) -…)))

277 ++
p
;

278 ++
lšes
;

280 
by‹s
 +ğ
by‹s_»ad
;

283 #ià
MB_LEN_MAX
 > 1

284 
	#SUPPORT_OLD_MBRTOWC
 1

	)

285 ià(
MB_CUR_MAX
 > 1)

287 
boŞ
 
š_wÜd
 = 
çl£
;

288 
uštmax_t
 
lš•os
 = 0;

289 
mb¡©e_t
 
¡©e
 = { 0, };

290 
boŞ
 
š_shiá
 = 
çl£
;

291 #ià
SUPPORT_OLD_MBRTOWC


299 
size_t
 
´ev
 = 0;

301 cÚ¡ 
size_t
 
´ev
 = 0;

304 (
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
buf
 + 
´ev
, 
BUFFER_SIZE
 -…rev)) > 0)

306 cÚ¡ *
p
;

307 #ià
SUPPORT_OLD_MBRTOWC


308 
mb¡©e_t
 
backup_¡©e
;

310 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

312 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

313 
ok
 = 
çl£
;

317 
by‹s
 +ğ
by‹s_»ad
;

318 
p
 = 
buf
;

319 
by‹s_»ad
 +ğ
´ev
;

322 
wch¬_t
 
wide_ch¬
;

323 
size_t
 
n
;

325 ià(!
š_shiá
 && 
	`is_basic
 (*
p
))

329 
n
 = 1;

330 
wide_ch¬
 = *
p
;

334 
š_shiá
 = 
Œue
;

335 #ià
SUPPORT_OLD_MBRTOWC


336 
backup_¡©e
 = 
¡©e
;

338 
n
 = 
	`mb¹owc
 (&
wide_ch¬
, 
p
, 
by‹s_»ad
, &
¡©e
);

339 ià(
n
 =ğ(
size_t
) -2)

341 #ià
SUPPORT_OLD_MBRTOWC


342 
¡©e
 = 
backup_¡©e
;

346 ià(
n
 =ğ(
size_t
) -1)

352 
p
++;

353 
by‹s_»ad
--;

356 ià(
	`mbsš™
 (&
¡©e
))

357 
š_shiá
 = 
çl£
;

358 ià(
n
 == 0)

360 
wide_ch¬
 = 0;

361 
n
 = 1;

364 
p
 +ğ
n
;

365 
by‹s_»ad
 -ğ
n
;

366 
ch¬s
++;

367 
wide_ch¬
)

370 
lšes
++;

374 ià(
lš•os
 > 
lš–’gth
)

375 
lš–’gth
 = 
lš•os
;

376 
lš•os
 = 0;

377 
mb_wÜd_£·¿tÜ
;

379 
lš•os
 += 8 - (linepos % 8);

380 
mb_wÜd_£·¿tÜ
;

382 
lš•os
++;

385 
mb_wÜd_£·¿tÜ
:

386 
wÜds
 +ğ
š_wÜd
;

387 
š_wÜd
 = 
çl£
;

390 ià(
	`isw´št
 (
wide_ch¬
))

392 
width
 = 
	`wcwidth
 (
wide_ch¬
);

393 ià(
width
 > 0)

394 
lš•os
 +ğ
width
;

395 ià(
	`isw¥aû
 (
wide_ch¬
))

396 
mb_wÜd_£·¿tÜ
;

397 
š_wÜd
 = 
Œue
;

402 
by‹s_»ad
 > 0);

404 #ià
SUPPORT_OLD_MBRTOWC


405 ià(
by‹s_»ad
 > 0)

407 ià(
by‹s_»ad
 =ğ
BUFFER_SIZE
)

410 
p
++;

411 
by‹s_»ad
--;

413 
	`memmove
 (
buf
, 
p
, 
by‹s_»ad
);

415 
´ev
 = 
by‹s_»ad
;

418 ià(
lš•os
 > 
lš–’gth
)

419 
lš–’gth
 = 
lš•os
;

420 
wÜds
 +ğ
š_wÜd
;

425 
boŞ
 
š_wÜd
 = 
çl£
;

426 
uštmax_t
 
lš•os
 = 0;

428 (
by‹s_»ad
 = 
	`§ã_»ad
 (
fd
, 
buf
, 
BUFFER_SIZE
)) > 0)

430 cÚ¡ *
p
 = 
buf
;

431 ià(
by‹s_»ad
 =ğ
SAFE_READ_ERROR
)

433 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

434 
ok
 = 
çl£
;

438 
by‹s
 +ğ
by‹s_»ad
;

441 *
p
++)

444 
lšes
++;

448 ià(
lš•os
 > 
lš–’gth
)

449 
lš–’gth
 = 
lš•os
;

450 
lš•os
 = 0;

451 
wÜd_£·¿tÜ
;

453 
lš•os
 += 8 - (linepos % 8);

454 
wÜd_£·¿tÜ
;

456 
lš•os
++;

459 
wÜd_£·¿tÜ
:

460 
wÜds
 +ğ
š_wÜd
;

461 
š_wÜd
 = 
çl£
;

464 ià(
	`i¥ršt
 (
	`to_uch¬
 (
p
[-1])))

466 
lš•os
++;

467 ià(
	`is¥aû
 (
	`to_uch¬
 (
p
[-1])))

468 
wÜd_£·¿tÜ
;

469 
š_wÜd
 = 
Œue
;

474 --
by‹s_»ad
);

476 ià(
lš•os
 > 
lš–’gth
)

477 
lš–’gth
 = 
lš•os
;

478 
wÜds
 +ğ
š_wÜd
;

481 ià(
couÁ_ch¬s
 < 
´št_ch¬s
)

482 
ch¬s
 = 
by‹s
;

484 
	`wr™e_couÁs
 (
lšes
, 
wÜds
, 
ch¬s
, 
by‹s
, 
lš–’gth
, 
fe_x
);

485 
tÙ®_lšes
 +ğ
lšes
;

486 
tÙ®_wÜds
 +ğ
wÜds
;

487 
tÙ®_ch¬s
 +ğ
ch¬s
;

488 
tÙ®_by‹s
 +ğ
by‹s
;

489 ià(
lš–’gth
 > 
max_lše_Ëngth
)

490 
max_lše_Ëngth
 = 
lš–’gth
;

492  
ok
;

493 
	}
}

495 
boŞ


496 
	$wc_fe
 (cÚ¡ *
fe
, 
f¡©us
 *fstatus)

498 ià(! 
fe
 || 
	`STREQ
 (file, "-"))

500 
have_»ad_¡dš
 = 
Œue
;

501 ià(
O_BINARY
 && ! 
	`i§‰y
 (
STDIN_FILENO
))

502 
	`xäeİ’
 (
NULL
, "rb", 
¡dš
);

503  
	`wc
 (
STDIN_FILENO
, 
fe
, 
f¡©us
);

507 
fd
 = 
	`İ’
 (
fe
, 
O_RDONLY
 | 
O_BINARY
);

508 ià(
fd
 == -1)

510 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

511  
çl£
;

515 
boŞ
 
ok
 = 
	`wc
 (
fd
, 
fe
, 
f¡©us
);

516 ià(
	`şo£
 (
fd
) != 0)

518 
	`”rÜ
 (0, 
”ºo
, "%s", 
fe
);

519  
çl£
;

521  
ok
;

524 
	}
}

532 
f¡©us
 *

533 
	$g‘_šput_f¡©us
 (
nfes
, *cÚ¡ *
fe
)

535 
f¡©us
 *f¡©u ğ
	`xnm®loc
 (
nfes
 ?‚files : 1,  *fstatus);

537 ià(
nfes
 == 0

538 || (
nfes
 == 1

539 && ((
´št_lšes
 + 
´št_wÜds
 + 
´št_ch¬s


540 + 
´št_by‹s
 + 
´št_lš–’gth
)

542 
f¡©us
[0].
çed
 = 1;

545 
i
;

547 
i
 = 0; i < 
nfes
; i++)

548 
f¡©us
[
i
].
çed
 = (! 
fe
[i] || 
	`STREQ
 (file[i], "-")

549 ? 
	`f¡©
 (
STDIN_FILENO
, &
f¡©us
[
i
].
¡
)

550 : 
	`¡©
 (
fe
[
i
], &
f¡©us
[i].
¡
));

553  
f¡©us
;

554 
	}
}

560 
_GL_ATTRIBUTE_PURE


561 
	$compu‹_numb”_width
 (
nfes
, 
f¡©us
 const *fstatus)

563 
width
 = 1;

565 ià(0 < 
nfes
 && 
f¡©us
[0].
çed
 <= 0)

567 
mšimum_width
 = 1;

568 
uštmax_t
 
»guÏr_tÙ®
 = 0;

569 
i
;

571 
i
 = 0; i < 
nfes
; i++)

572 ià(! 
f¡©us
[
i
].
çed
)

574 ià(
	`S_ISREG
 (
f¡©us
[
i
].
¡
.
¡_mode
))

575 
»guÏr_tÙ®
 +ğ
f¡©us
[
i
].
¡
.
¡_size
;

577 
mšimum_width
 = 7;

580 ; 10 <ğ
»guÏr_tÙ®
;„egular_total /= 10)

581 
width
++;

582 ià(
width
 < 
mšimum_width
)

583 
width
 = 
mšimum_width
;

586  
width
;

587 
	}
}

591 
	$maš
 (
¬gc
, **
¬gv
)

593 
boŞ
 
ok
;

594 
İtc
;

595 
nfes
;

596 **
fes
;

597 *
fes_äom
 = 
NULL
;

598 
f¡©us
 *fstatus;

599 
Tok’s
 
tok
;

601 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

602 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

603 
	`£oÿË
 (
LC_ALL
, "");

604 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

605 
	`‹xtdomaš
 (
PACKAGE
);

607 
	`©ex™
 (
şo£_¡dout
);

611 
	`£tvbuf
 (
¡dout
, 
NULL
, 
_IOLBF
, 0);

613 
´št_lšes
 = 
´št_wÜds
 = 
´št_ch¬s
 = 
´št_by‹s
 = 
çl£
;

614 
´št_lš–’gth
 = 
çl£
;

615 
tÙ®_lšes
 = 
tÙ®_wÜds
 = 
tÙ®_ch¬s
 = 
tÙ®_by‹s
 = 
max_lše_Ëngth
 = 0;

617 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "şLmw", 
lÚgİts
, 
NULL
)) != -1)

618 
İtc
)

621 
´št_by‹s
 = 
Œue
;

625 
´št_ch¬s
 = 
Œue
;

629 
´št_lšes
 = 
Œue
;

633 
´št_wÜds
 = 
Œue
;

637 
´št_lš–’gth
 = 
Œue
;

640 
FILES0_FROM_OPTION
:

641 
fes_äom
 = 
İrg
;

644 
ÿ£_GETOPT_HELP_CHAR
;

646 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

649 
	`u§ge
 (
EXIT_FAILURE
);

652 ià(! (
´št_lšes
 || 
´št_wÜds
 || 
´št_ch¬s
 || 
´št_by‹s


653 || 
´št_lš–’gth
))

654 
´št_lšes
 = 
´št_wÜds
 = 
´št_by‹s
 = 
Œue
;

656 
boŞ
 
»ad_tok’s
 = 
çl£
;

657 
¬gv_™”©Ü
 *
ai
;

658 ià(
fes_äom
)

660 
FILE
 *
¡»am
;

664 ià(
İtšd
 < 
¬gc
)

666 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

667 
	`årštf
 (
¡d”r
, "%s\n",

668 
	`_
("file operands cannot be combined with --files0-from"));

669 
	`u§ge
 (
EXIT_FAILURE
);

672 ià(
	`STREQ
 (
fes_äom
, "-"))

673 
¡»am
 = 
¡dš
;

676 
¡»am
 = 
	`fİ’
 (
fes_äom
, "r");

677 ià(
¡»am
 =ğ
NULL
)

678 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("cannot open %s for„eading"),

679 
	`quÙe
 (
fes_äom
));

684 
¡©
 
¡
;

685 ià(
	`f¡©
 (
	`f’o
 (
¡»am
), &
¡
) == 0

686 && 
	`S_ISREG
 (
¡
.
¡_mode
)

687 && 
¡
.
¡_size
 <ğ
	`MIN
 (10 * 1024 * 1024, 
	`physmem_avaabË
 () / 2))

689 
»ad_tok’s
 = 
Œue
;

690 
	`»adtok’s0_š™
 (&
tok
);

691 ià(! 
	`»adtok’s0
 (
¡»am
, &
tok
è|| 
	`fşo£
 (stream) != 0)

692 
	`”rÜ
 (
EXIT_FAILURE
, 0, 
	`_
("cannot„ead file‚ames from %s"),

693 
	`quÙe
 (
fes_äom
));

694 
fes
 = 
tok
.tok;

695 
nfes
 = 
tok
.
n_tok
;

696 
ai
 = 
	`¬gv_™”_š™_¬gv
 (
fes
);

700 
fes
 = 
NULL
;

701 
nfes
 = 0;

702 
ai
 = 
	`¬gv_™”_š™_¡»am
 (
¡»am
);

707 *
¡dš_Úly
[] = { 
NULL
 };

708 
fes
 = (
İtšd
 < 
¬gc
 ? 
¬gv
 + o±šd : 
¡dš_Úly
);

709 
nfes
 = (
İtšd
 < 
¬gc
 ?‡rgc - optind : 1);

710 
ai
 = 
	`¬gv_™”_š™_¬gv
 (
fes
);

713 ià(!
ai
)

714 
	`x®loc_d›
 ();

716 
f¡©us
 = 
	`g‘_šput_f¡©us
 (
nfes
, 
fes
);

717 
numb”_width
 = 
	`compu‹_numb”_width
 (
nfes
, 
f¡©us
);

719 
i
;

720 
ok
 = 
Œue
;

721 
i
 = 0; ; i++)

723 
boŞ
 
sk_fe
 = 
çl£
;

724 
¬gv_™”_”r
 
ai_”r
;

725 *
fe_Çme
 = 
	`¬gv_™”
 (
ai
, &
ai_”r
);

726 ià(!
fe_Çme
)

728 
ai_”r
)

730 
AI_ERR_EOF
:

731 
¬gv_™”_dÚe
;

732 
AI_ERR_READ
:

733 
	`”rÜ
 (0, 
”ºo
, 
	`_
("%s:„eadƒrror"),

734 
	`quÙ—rg_cŞÚ
 (
fes_äom
));

735 
ok
 = 
çl£
;

736 
¬gv_™”_dÚe
;

737 
AI_ERR_MEM
:

738 
	`x®loc_d›
 ();

740 
	`as£¹
 (!"unexpectedƒrror code from‡rgv_iter");

743 ià(
fes_äom
 && 
	`STREQ
 (fes_äom, "-"è&& STREQ (
fe_Çme
, "-"))

747 
	`”rÜ
 (0, 0, 
	`_
("when„eading file‚ames from stdin, "

749 
	`quÙe
 (
fe_Çme
));

750 
sk_fe
 = 
Œue
;

753 ià(!
fe_Çme
[0])

759 ià(
fes_äom
 =ğ
NULL
)

760 
	`”rÜ
 (0, 0, "%s", 
	`_
("invalid zero-length file‚ame"));

766 
fe_numb”
 = 
	`¬gv_™”_n_¬gs
 (
ai
);

767 
	`”rÜ
 (0, 0, "%s:%lu: %s", 
	`quÙ—rg_cŞÚ
 (
fes_äom
),

768 
fe_numb”
, 
	`_
("invalid zero-length file‚ame"));

770 
sk_fe
 = 
Œue
;

773 ià(
sk_fe
)

774 
ok
 = 
çl£
;

776 
ok
 &ğ
	`wc_fe
 (
fe_Çme
, &
f¡©us
[
nfes
 ? 
i
 : 0]);

778 
¬gv_™”_dÚe
:

783 ià(
ok
 && !
fes_äom
 && 
	`¬gv_™”_n_¬gs
 (
ai
) == 0)

784 
ok
 &ğ
	`wc_fe
 (
NULL
, &
f¡©us
[0]);

786 ià(
»ad_tok’s
)

787 
	`»adtok’s0_ä“
 (&
tok
);

789 ià(1 < 
	`¬gv_™”_n_¬gs
 (
ai
))

790 
	`wr™e_couÁs
 (
tÙ®_lšes
, 
tÙ®_wÜds
, 
tÙ®_ch¬s
, 
tÙ®_by‹s
,

791 
max_lše_Ëngth
, 
	`_
("total"));

793 
	`¬gv_™”_ä“
 (
ai
);

795 
	`ä“
 (
f¡©us
);

797 ià(
have_»ad_¡dš
 && 
	`şo£
 (
STDIN_FILENO
) != 0)

798 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "-");

800 
	`ex™
 (
ok
 ? 
EXIT_SUCCESS
 : 
EXIT_FAILURE
);

801 
	}
}

	@who.c

26 
	~<cÚfig.h
>

27 
	~<g‘İt.h
>

28 
	~<¡dio.h
>

30 
	~<sys/ty³s.h
>

31 
	~"sy¡em.h
"

33 
	~"c-ùy³.h
"

34 
	~"ÿnÚ-ho¡.h
"

35 
	~"»adutmp.h
"

36 
	~"”rÜ.h
"

37 
	~"h¬d-loÿË.h
"

38 
	~"quÙe.h
"

40 #ifdeà
TTY_GROUP_NAME


41 
	~<g½.h
>

45 
	#PROGRAM_NAME
 "who"

	)

47 
	#AUTHORS
 \

48 
	`´İ”_Çme
 ("Joseph Arceneaux"), \

49 
	`´İ”_Çme
 ("David MacKenzie"), \

50 
	`´İ”_Çme
 ("Mich«ÈStÚe")

	)

52 #ifdeà
RUN_LVL


53 
	#UT_TYPE_RUN_LVL
(
U
è
	`UT_TYPE_EQ
 (U, 
RUN_LVL
)

	)

55 
	#UT_TYPE_RUN_LVL
(
U
è
çl£


	)

58 #ifdeà
INIT_PROCESS


59 
	#UT_TYPE_INIT_PROCESS
(
U
è
	`UT_TYPE_EQ
 (U, 
INIT_PROCESS
)

	)

61 
	#UT_TYPE_INIT_PROCESS
(
U
è
çl£


	)

64 #ifdeà
LOGIN_PROCESS


65 
	#UT_TYPE_LOGIN_PROCESS
(
U
è
	`UT_TYPE_EQ
 (U, 
LOGIN_PROCESS
)

	)

67 
	#UT_TYPE_LOGIN_PROCESS
(
U
è
çl£


	)

70 #ifdeà
DEAD_PROCESS


71 
	#UT_TYPE_DEAD_PROCESS
(
U
è
	`UT_TYPE_EQ
 (U, 
DEAD_PROCESS
)

	)

73 
	#UT_TYPE_DEAD_PROCESS
(
U
è
çl£


	)

76 #ifdeà
NEW_TIME


77 
	#UT_TYPE_NEW_TIME
(
U
è
	`UT_TYPE_EQ
 (U, 
NEW_TIME
)

	)

79 
	#UT_TYPE_NEW_TIME
(
U
è
çl£


	)

82 
	#IDLESTR_LEN
 6

	)

84 #ià
HAVE_STRUCT_XTMP_UT_PID


85 
	#PIDSTR_DECL_AND_INIT
(
V¬
, 
Utmp_’t
) \

86 
V¬
[
	`INT_STRLEN_BOUND
 (
Utmp_’t
->
ut_pid
) + 1]; \

87 
	`¥rštf
 (
V¬
, "%ld", (è(
Utmp_’t
->
ut_pid
))

	)

89 
	#PIDSTR_DECL_AND_INIT
(
V¬
, 
Utmp_’t
) \

90 cÚ¡ *
V¬
 = ""

	)

93 #ià
HAVE_STRUCT_XTMP_UT_ID


94 
	#UT_ID
(
U
è((U)->
ut_id
)

	)

96 
	#UT_ID
(
U
è"??"

	)

99 *
‰yÇme
 ();

102 
boŞ
 
	gdo_lookup
;

107 
boŞ
 
	gshÜt_li¡
;

110 
boŞ
 
	gshÜt_ouut
;

115 
boŞ
 
	gšşude_idË
;

118 
boŞ
 
	gšşude_h—dšg
;

122 
boŞ
 
	gšşude_mesg
;

125 
boŞ
 
	gšşude_ex™
;

128 
boŞ
 
	gÃed_boÙtime
;

131 
boŞ
 
	gÃed_d—d´ocs
;

134 
boŞ
 
	gÃed_logš
;

137 
boŞ
 
	gÃed_š™¥awn
;

140 
boŞ
 
	gÃed_şockchªge
;

143 
boŞ
 
	gÃed_ruÆev–
;

146 
boŞ
 
	gÃed_u£rs
;

149 
boŞ
 
	gmy_lše_Úly
;

153 cÚ¡ *
	gtime_fÜm©
;

154 
	gtime_fÜm©_width
;

159 
	mLOOKUP_OPTION
 = 
CHAR_MAX
 + 1

162 
İtiÚ
 cÚ¡ 
	glÚgİts
[] =

164 {"®l", 
no_¬gum’t
, 
NULL
, 'a'},

165 {"boÙ", 
no_¬gum’t
, 
NULL
, 'b'},

166 {"couÁ", 
no_¬gum’t
, 
NULL
, 'q'},

167 {"d—d", 
no_¬gum’t
, 
NULL
, 'd'},

168 {"h—dšg", 
no_¬gum’t
, 
NULL
, 'H'},

169 {"logš", 
no_¬gum’t
, 
NULL
, 'l'},

170 {"lookup", 
no_¬gum’t
, 
NULL
, 
LOOKUP_OPTION
},

171 {"mes§ge", 
no_¬gum’t
, 
NULL
, 'T'},

172 {"mesg", 
no_¬gum’t
, 
NULL
, 'T'},

173 {"´oûss", 
no_¬gum’t
, 
NULL
, 'p'},

174 {"ruÆev–", 
no_¬gum’t
, 
NULL
, 'r'},

175 {"shÜt", 
no_¬gum’t
, 
NULL
, 's'},

176 {"time", 
no_¬gum’t
, 
NULL
, 't'},

177 {"u£rs", 
no_¬gum’t
, 
NULL
, 'u'},

178 {"wr™abË", 
no_¬gum’t
, 
NULL
, 'T'},

179 {
GETOPT_HELP_OPTION_DECL
},

180 {
GETOPT_VERSION_OPTION_DECL
},

181 {
NULL
, 0, NULL, 0}

188 
	$idË_¡ršg
 (
time_t
 
wh’
,ime_ˆ
boÙtime
)

190 
time_t
 
now
 = 
	`TYPE_MINIMUM
 (time_t);

192 ià(
now
 =ğ
	`TYPE_MINIMUM
 (
time_t
))

193 
	`time
 (&
now
);

195 ià(
boÙtime
 < 
wh’
 && 
now
 - 24 * 60 * 60 < when && when <=‚ow)

197 
£cÚds_idË
 = 
now
 - 
wh’
;

198 ià(
£cÚds_idË
 < 60)

202 
idË_hhmm
[
IDLESTR_LEN
];

203 
	`¥rštf
 (
idË_hhmm
, "%02d:%02d",

204 
£cÚds_idË
 / (60 * 60),

205 (
£cÚds_idË
 % (60 * 60)) / 60);

206  
idË_hhmm
;

210  
	`_
(" old ");

211 
	}
}

215 
	$time_¡ršg
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

217 
buf
[
	`INT_STRLEN_BOUND
 (
štmax_t
) +  "-%m-%d %H:%M"];

225 
time_t
 
t
 = 
	`UT_TIME_MEMBER
 (
utmp_’t
);

226 
tm
 *
tmp
 = 
	`loÿÉime
 (&
t
);

228 ià(
tmp
)

230 
	`¡ráime
 (
buf
,  buf, 
time_fÜm©
, 
tmp
);

231  
buf
;

234  
	`tim‘o¡r
 (
t
, 
buf
);

235 
	}
}

241 
	$´št_lše
 (
u£¾’
, cÚ¡ *
u£r
, cÚ¡ 
¡©e
,

242 
lš–’
, cÚ¡ *
lše
,

243 cÚ¡ *
time_¡r
, cÚ¡ *
idË
, cÚ¡ *
pid
,

244 cÚ¡ *
comm’t
, cÚ¡ *
ex™¡r
)

246 
mesg
[3] = { ' ', 'x', '\0' };

247 *
buf
;

248 
x_idË
[1 + 
IDLESTR_LEN
 + 1];

249 
x_pid
[1 + 
	`INT_STRLEN_BOUND
 (
pid_t
) + 1];

250 *
x_ex™¡r
;

251 
”r
;

253 
mesg
[1] = 
¡©e
;

255 ià(
šşude_idË
 && !
shÜt_ouut
 && 
	`¡¾’
 (
idË
è<  
x_idË
 - 1)

256 
	`¥rštf
 (
x_idË
, " %-6s", 
idË
);

258 *
x_idË
 = '\0';

260 ià(!
shÜt_ouut
 && 
	`¡¾’
 (
pid
è<  
x_pid
 - 1)

261 
	`¥rštf
 (
x_pid
, " %10s", 
pid
);

263 *
x_pid
 = '\0';

265 
x_ex™¡r
 = 
	`xm®loc
 (
šşude_ex™
 ? 1 + 
	`MAX
 (12, 
	`¡¾’
 (
ex™¡r
)) + 1 : 1);

266 ià(
šşude_ex™
)

267 
	`¥rštf
 (
x_ex™¡r
, " %-12s", 
ex™¡r
);

269 *
x_ex™¡r
 = '\0';

271 
”r
 = 
	`a¥rštf
 (&
buf
,

281 
u£¾’
, 
u£r
 ? user : " .",

282 
šşude_mesg
 ? 
mesg
 : "",

283 
lš–’
, 
lše
,

284 
time_fÜm©_width
,

285 
time_¡r
,

286 
x_idË
,

287 
x_pid
,

292 
comm’t
,

293 
x_ex™¡r


295 ià(
”r
 == -1)

296 
	`x®loc_d›
 ();

300 *
p
 = 
buf
 + 
	`¡¾’
 (buf);

301 *--
p
 == ' ')

303 *(
p
 + 1) = '\0';

306 
	`puts
 (
buf
);

307 
	`ä“
 (
buf
);

308 
	`ä“
 (
x_ex™¡r
);

309 
	}
}

313 
boŞ


314 
	$is_‰y_wr™abË
 (
¡©
 cÚ¡ *
p¡©
)

316 #ifdeà
TTY_GROUP_NAME


319 
group
 *
‰ygr
 = 
	`g‘gºam
 (
TTY_GROUP_NAME
);

320 ià(!
‰ygr
 || (
p¡©
->
¡_gid
 !ğ‰ygr->
gr_gid
))

321  
çl£
;

324  
p¡©
->
¡_mode
 & 
S_IWGRP
;

325 
	}
}

330 
	$´št_u£r
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
, 
time_t
 
boÙtime
)

332 
¡©
 
¡©s
;

333 
time_t
 
Ï¡_chªge
;

334 
mesg
;

335 
idË¡r
[
IDLESTR_LEN
 + 1];

336 *
ho¡¡r
;

337 #ià
HAVE_UT_HOST


338 
size_t
 
ho¡Ën
;

341 
	#DEV_DIR_WITH_TRAILING_SLASH
 "/dev/"

	)

342 
	#DEV_DIR_LEN
 ( (
DEV_DIR_WITH_TRAILING_SLASH
è- 1)

	)

344 
lše
[ (
utmp_’t
->
ut_lše
è+ 
DEV_DIR_LEN
 + 1];

345 *
p
 = 
lše
;

346 
	`PIDSTR_DECL_AND_INIT
 (
pid¡r
, 
utmp_’t
);

351 iàĞ! 
	`IS_ABSOLUTE_FILE_NAME
 (
utmp_’t
->
ut_lše
))

352 
p
 = 
	`¡pıy
 (p, 
DEV_DIR_WITH_TRAILING_SLASH
);

353 
	`¡znıy
 (
p
, 
utmp_’t
->
ut_lše
,  (utmp_ent->ut_line));

355 ià(
	`¡©
 (
lše
, &
¡©s
) == 0)

357 
mesg
 = 
	`is_‰y_wr™abË
 (&
¡©s
) ? '+' : '-';

358 
Ï¡_chªge
 = 
¡©s
.
¡_©ime
;

362 
mesg
 = '?';

363 
Ï¡_chªge
 = 0;

366 ià(
Ï¡_chªge
)

367 
	`¥rštf
 (
idË¡r
, "%.*s", 
IDLESTR_LEN
, 
	`idË_¡ršg
 (
Ï¡_chªge
, 
boÙtime
));

369 
	`¥rštf
 (
idË¡r
, " ?");

371 #ià
HAVE_UT_HOST


372 ià(
utmp_’t
->
ut_ho¡
[0])

374 
ut_ho¡
[ (
utmp_’t
->ut_host) + 1];

375 *
ho¡
 = 
NULL
;

376 *
di¥Ïy
 = 
NULL
;

379 
	`¡znıy
 (
ut_ho¡
, 
utmp_’t
->ut_host,  (utmp_ent->ut_host));

382 
di¥Ïy
 = 
	`¡rchr
 (
ut_ho¡
, ':');

383 ià(
di¥Ïy
)

384 *
di¥Ïy
++ = '\0';

386 ià(*
ut_ho¡
 && 
do_lookup
)

389 
ho¡
 = 
	`ÿnÚ_ho¡
 (
ut_ho¡
);

392 ià(! 
ho¡
)

393 
ho¡
 = 
ut_ho¡
;

395 ià(
di¥Ïy
)

397 ià(
ho¡Ën
 < 
	`¡¾’
 (
ho¡
è+ sŒËÀ(
di¥Ïy
) + 4)

399 
ho¡Ën
 = 
	`¡¾’
 (
ho¡
è+ sŒËÀ(
di¥Ïy
) + 4;

400 
	`ä“
 (
ho¡¡r
);

401 
ho¡¡r
 = 
	`xm®loc
 (
ho¡Ën
);

403 
	`¥rštf
 (
ho¡¡r
, "(%s:%s)", 
ho¡
, 
di¥Ïy
);

407 ià(
ho¡Ën
 < 
	`¡¾’
 (
ho¡
) + 3)

409 
ho¡Ën
 = 
	`¡¾’
 (
ho¡
) + 3;

410 
	`ä“
 (
ho¡¡r
);

411 
ho¡¡r
 = 
	`xm®loc
 (
ho¡Ën
);

413 
	`¥rštf
 (
ho¡¡r
, "(%s)", 
ho¡
);

416 ià(
ho¡
 !ğ
ut_ho¡
)

417 
	`ä“
 (
ho¡
);

421 ià(
ho¡Ën
 < 1)

423 
ho¡Ën
 = 1;

424 
	`ä“
 (
ho¡¡r
);

425 
ho¡¡r
 = 
	`xm®loc
 (
ho¡Ën
);

427 *
ho¡¡r
 = '\0';

431 
	`´št_lše
 ( 
	`UT_USER
 (
utmp_’t
), UT_USER (utmp_’t), 
mesg
,

432  
utmp_’t
->
ut_lše
, utmp_ent->ut_line,

433 
	`time_¡ršg
 (
utmp_’t
), 
idË¡r
, 
pid¡r
,

434 
ho¡¡r
 ? hoststr : "", "");

435 
	}
}

438 
	$´št_boÙtime
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

440 
	`´št_lše
 (-1, "", ' ', -1, 
	`_
("system boot"),

441 
	`time_¡ršg
 (
utmp_’t
), "", "", "", "");

442 
	}
}

445 
	$make_id_equ®s_comm’t
 (
STRUCT_UTMP
 cÚ¡ *
utmp_’t
)

447 *
comm’t
 = 
	`xm®loc
 (
	`¡¾’
 (
	`_
("id=")è+  
	`UT_ID
 (
utmp_’t
) + 1);

449 
	`¡rıy
 (
comm’t
, 
	`_
("id="));

450 
	`¡ºÿt
 (
comm’t
, 
	`UT_ID
 (
utmp_’t
),  UT_ID (utmp_ent));

451  
comm’t
;

452 
	}
}

455 
	$´št_d—d´ocs
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

457 *
ex™¡r
;

458 *
comm’t
 = 
	`make_id_equ®s_comm’t
 (
utmp_’t
);

459 
	`PIDSTR_DECL_AND_INIT
 (
pid¡r
, 
utmp_’t
);

461 ià(!
ex™¡r
)

462 
ex™¡r
 = 
	`xm®loc
 (
	`¡¾’
 (
	`_
("term="))

463 + 
	`INT_STRLEN_BOUND
 (
	`UT_EXIT_E_TERMINATION
 (
utmp_’t
)) + 1

464 + 
	`¡¾’
 (
	`_
("exit="))

465 + 
	`INT_STRLEN_BOUND
 (
	`UT_EXIT_E_EXIT
 (
utmp_’t
))

467 
	`¥rštf
 (
ex™¡r
, "%s%d %s%d", 
	`_
("‹rm="), 
	`UT_EXIT_E_TERMINATION
 (
utmp_’t
),

468 
	`_
("ex™="), 
	`UT_EXIT_E_EXIT
 (
utmp_’t
));

472 
	`´št_lše
 (-1, "", ' ',  
utmp_’t
->
ut_lše
, utmp_ent->ut_line,

473 
	`time_¡ršg
 (
utmp_’t
), "", 
pid¡r
, 
comm’t
, 
ex™¡r
);

474 
	`ä“
 (
comm’t
);

475 
	}
}

478 
	$´št_logš
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

480 *
comm’t
 = 
	`make_id_equ®s_comm’t
 (
utmp_’t
);

481 
	`PIDSTR_DECL_AND_INIT
 (
pid¡r
, 
utmp_’t
);

485 
	`´št_lše
 (-1, 
	`_
("LOGIN"), ' ',  
utmp_’t
->
ut_lše
, utmp_ent->ut_line,

486 
	`time_¡ršg
 (
utmp_’t
), "", 
pid¡r
, 
comm’t
, "");

487 
	`ä“
 (
comm’t
);

488 
	}
}

491 
	$´št_š™¥awn
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

493 *
comm’t
 = 
	`make_id_equ®s_comm’t
 (
utmp_’t
);

494 
	`PIDSTR_DECL_AND_INIT
 (
pid¡r
, 
utmp_’t
);

496 
	`´št_lše
 (-1, "", ' ',  
utmp_’t
->
ut_lše
, utmp_ent->ut_line,

497 
	`time_¡ršg
 (
utmp_’t
), "", 
pid¡r
, 
comm’t
, "");

498 
	`ä“
 (
comm’t
);

499 
	}
}

502 
	$´št_şockchªge
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

505 
	`´št_lše
 (-1, "", ' ', -1, 
	`_
("clock change"),

506 
	`time_¡ršg
 (
utmp_’t
), "", "", "", "");

507 
	}
}

510 
	$´št_ruÆev–
 (cÚ¡ 
STRUCT_UTMP
 *
utmp_’t
)

512 *
ruÆevlše
, *
comm’t
;

513 
Ï¡
 = 
	`UT_PID
 (
utmp_’t
) / 256;

514 
cu¼
 = 
	`UT_PID
 (
utmp_’t
) % 256;

516 ià(!
ruÆevlše
)

517 
ruÆevlše
 = 
	`xm®loc
 (
	`¡¾’
 (
	`_
("run-level")) + 3);

518 
	`¥rštf
 (
ruÆevlše
, "% %c", 
	`_
("run-Ëv–"), 
cu¼
);

520 ià(!
comm’t
)

521 
comm’t
 = 
	`xm®loc
 (
	`¡¾’
 (
	`_
("last=")) + 2);

522 
	`¥rštf
 (
comm’t
, "%s%c", 
	`_
("Ï¡="), (
Ï¡
 == 'N') ? 'S' :†ast);

524 
	`´št_lše
 (-1, "", ' ', -1, 
ruÆevlše
, 
	`time_¡ršg
 (
utmp_’t
),

525 "", "", 
	`c_i¥ršt
 (
Ï¡
è? 
comm’t
 : "", "");

528 
	}
}

533 
	$li¡_’Œ›s_who
 (
size_t
 
n
, cÚ¡ 
STRUCT_UTMP
 *
utmp_buf
)

535 
’Œ›s
 = 0;

536 cÚ¡ *
£·¿tÜ
 = "";

538 
n
--)

540 ià(
	`IS_USER_PROCESS
 (
utmp_buf
))

542 *
Œimmed_Çme
;

544 
Œimmed_Çme
 = 
	`exŒaù_Œimmed_Çme
 (
utmp_buf
);

546 
	`´štf
 ("%s%s", 
£·¿tÜ
, 
Œimmed_Çme
);

547 
	`ä“
 (
Œimmed_Çme
);

548 
£·¿tÜ
 = " ";

549 
’Œ›s
++;

551 
utmp_buf
++;

553 
	`´štf
 (
	`_
("\n# u£rs=%lu\n"), 
’Œ›s
);

554 
	}
}

557 
	$´št_h—dšg
 ()

559 
	`´št_lše
 (-1, 
	`_
("NAME"), ' ', -1, _("LINE"), _("TIME"), _("IDLE"),

560 
	`_
("PID"), _("COMMENT"), _("EXIT"));

561 
	}
}

565 
	$sÿn_’Œ›s
 (
size_t
 
n
, cÚ¡ 
STRUCT_UTMP
 *
utmp_buf
)

567 *
‰yÇme_b
 
	`IF_LINT
 ( = 
NULL
);

568 
time_t
 
boÙtime
 = 
	`TYPE_MINIMUM
 (time_t);

570 ià(
šşude_h—dšg
)

571 
	`´št_h—dšg
 ();

573 ià(
my_lše_Úly
)

575 
‰yÇme_b
 = 
	`‰yÇme
 (
STDIN_FILENO
);

576 ià(!
‰yÇme_b
)

578 ià(
	`STRNCMP_LIT
 (
‰yÇme_b
, 
DEV_DIR_WITH_TRAILING_SLASH
) == 0)

579 
‰yÇme_b
 +ğ
DEV_DIR_LEN
;

582 
n
--)

584 ià(!
my_lše_Úly


585 || 
	`¡ºcmp
 (
‰yÇme_b
, 
utmp_buf
->
ut_lše
,

586  (
utmp_buf
->
ut_lše
)) == 0)

588 ià(
Ãed_u£rs
 && 
	`IS_USER_PROCESS
 (
utmp_buf
))

589 
	`´št_u£r
 (
utmp_buf
, 
boÙtime
);

590 ià(
Ãed_ruÆev–
 && 
	`UT_TYPE_RUN_LVL
 (
utmp_buf
))

591 
	`´št_ruÆev–
 (
utmp_buf
);

592 ià(
Ãed_boÙtime
 && 
	`UT_TYPE_BOOT_TIME
 (
utmp_buf
))

593 
	`´št_boÙtime
 (
utmp_buf
);

597 ià(
Ãed_şockchªge
 && 
	`UT_TYPE_NEW_TIME
 (
utmp_buf
))

598 
	`´št_şockchªge
 (
utmp_buf
);

599 ià(
Ãed_š™¥awn
 && 
	`UT_TYPE_INIT_PROCESS
 (
utmp_buf
))

600 
	`´št_š™¥awn
 (
utmp_buf
);

601 ià(
Ãed_logš
 && 
	`UT_TYPE_LOGIN_PROCESS
 (
utmp_buf
))

602 
	`´št_logš
 (
utmp_buf
);

603 ià(
Ãed_d—d´ocs
 && 
	`UT_TYPE_DEAD_PROCESS
 (
utmp_buf
))

604 
	`´št_d—d´ocs
 (
utmp_buf
);

607 ià(
	`UT_TYPE_BOOT_TIME
 (
utmp_buf
))

608 
boÙtime
 = 
	`UT_TIME_MEMBER
 (
utmp_buf
);

610 
utmp_buf
++;

612 
	}
}

617 
	$who
 (cÚ¡ *
f’ame
, 
İtiÚs
)

619 
size_t
 
n_u£rs
;

620 
STRUCT_UTMP
 *
utmp_buf
;

622 ià(
	`»ad_utmp
 (
f’ame
, &
n_u£rs
, &
utmp_buf
, 
İtiÚs
) != 0)

623 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, "%s", 
f’ame
);

625 ià(
shÜt_li¡
)

626 
	`li¡_’Œ›s_who
 (
n_u£rs
, 
utmp_buf
);

628 
	`sÿn_’Œ›s
 (
n_u£rs
, 
utmp_buf
);

630 
	`ä“
 (
utmp_buf
);

631 
	}
}

634 
	$u§ge
 (
¡©us
)

636 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

637 
	`em™_Œy_h–p
 ();

640 
	`´štf
 (
	`_
("U§ge: % [OPTION]... [ FILE | ARG1 ARG2 ]\n"), 
´og¿m_Çme
);

641 
	`åuts
 (
	`_
("\
 infÜm©iÚ‡bouˆu£r whØ¬cu¼’y†ogged in.\n\
"), 
¡dout
);

644 
	`åuts
 (
	`_
("\
\n\
-a, --®È sama -b -d --logš -°-¸-ˆ-T -u\n\
-b, --boÙimoàÏ¡ sy¡em boÙ\n\
-d, --d—d…ršˆd—d…roûs£s\n\
-H, --h—dšg…ršˆlšoàcŞumÀh—dšgs\n\
"), 
¡dout
);

651 
	`åuts
 (
	`_
("\
-l, --logš…ršˆsy¡em†ogš…roûs£s\n\
"), 
¡dout
);

654 
	`åuts
 (
	`_
("\
--looku°‡‰em±ØÿnÚiÿlizho¡Çme vŸ DNS\n\
-m oÆy ho¡Çmªd u£¸assocŸ‹d w™h stdš\n\
-p, --´oûs …ršˆaùiv´oûs£ ¥awÃd by in™\n\
"), 
¡dout
);

659 
	`åuts
 (
	`_
("\
-q, --couÁ‡Î†ogš‚ame ªd‚umb” oàu£r logged on\n\
-r, --ruÆev–…ršˆcu¼’ˆruÆev–\n\
-s, --shÜˆ…ršˆÚly‚ame,†še,‡ndim(deçuÉ)\n\
-t, --tim…ršˆÏ¡ sy¡em clock chªge\n\
"), 
¡dout
);

665 
	`åuts
 (
	`_
("\
-T, -w, --mesg‡dd u£r' mes§g¡©u a +, - o¸?\n\
-u, --u£r †i¡ u£r logged in\n\
--mes§g sama -T\n\
--wr™abË sama -T\n\
"), 
¡dout
);

671 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

672 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

673 
	`´štf
 (
	`_
("\
\n\
 FILE i nÙ s³cif›d, u£ %s. % a FILE i commÚ.\n\
 ARG1 ARG2 giv’, -m…»sumed: 'am i' o¸'mom†ikes'‡» usu®.\n\
"), 
UTMP_FILE
, 
WTMP_FILE
);

678 
	`em™_ªcÏry_šfo
 ();

680 
	`ex™
 (
¡©us
);

681 
	}
}

684 
	$maš
 (
¬gc
, **
¬gv
)

686 
İtc
;

687 
boŞ
 
assum±iÚs
 = 
Œue
;

689 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

690 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

691 
	`£oÿË
 (
LC_ALL
, "");

692 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

693 
	`‹xtdomaš
 (
PACKAGE
);

695 
	`©ex™
 (
şo£_¡dout
);

697 (
İtc
 = 
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "abdlmpqr¡uwHT", 
lÚgİts
, 
NULL
))

700 
İtc
)

703 
Ãed_boÙtime
 = 
Œue
;

704 
Ãed_d—d´ocs
 = 
Œue
;

705 
Ãed_logš
 = 
Œue
;

706 
Ãed_š™¥awn
 = 
Œue
;

707 
Ãed_ruÆev–
 = 
Œue
;

708 
Ãed_şockchªge
 = 
Œue
;

709 
Ãed_u£rs
 = 
Œue
;

710 
šşude_mesg
 = 
Œue
;

711 
šşude_idË
 = 
Œue
;

712 
šşude_ex™
 = 
Œue
;

713 
assum±iÚs
 = 
çl£
;

717 
Ãed_boÙtime
 = 
Œue
;

718 
assum±iÚs
 = 
çl£
;

722 
Ãed_d—d´ocs
 = 
Œue
;

723 
šşude_idË
 = 
Œue
;

724 
šşude_ex™
 = 
Œue
;

725 
assum±iÚs
 = 
çl£
;

729 
šşude_h—dšg
 = 
Œue
;

733 
Ãed_logš
 = 
Œue
;

734 
šşude_idË
 = 
Œue
;

735 
assum±iÚs
 = 
çl£
;

739 
my_lše_Úly
 = 
Œue
;

743 
Ãed_š™¥awn
 = 
Œue
;

744 
assum±iÚs
 = 
çl£
;

748 
shÜt_li¡
 = 
Œue
;

752 
Ãed_ruÆev–
 = 
Œue
;

753 
šşude_idË
 = 
Œue
;

754 
assum±iÚs
 = 
çl£
;

758 
shÜt_ouut
 = 
Œue
;

762 
Ãed_şockchªge
 = 
Œue
;

763 
assum±iÚs
 = 
çl£
;

768 
šşude_mesg
 = 
Œue
;

772 
Ãed_u£rs
 = 
Œue
;

773 
šşude_idË
 = 
Œue
;

774 
assum±iÚs
 = 
çl£
;

777 
LOOKUP_OPTION
:

778 
do_lookup
 = 
Œue
;

781 
ÿ£_GETOPT_HELP_CHAR
;

783 
	`ÿ£_GETOPT_VERSION_CHAR
 (
PROGRAM_NAME
, 
AUTHORS
);

786 
	`u§ge
 (
EXIT_FAILURE
);

790 ià(
assum±iÚs
)

792 
Ãed_u£rs
 = 
Œue
;

793 
shÜt_ouut
 = 
Œue
;

796 ià(
šşude_ex™
)

798 
shÜt_ouut
 = 
çl£
;

801 ià(
	`h¬d_loÿË
 (
LC_TIME
))

803 
time_fÜm©
 = "%Y-%m-%d %H:%M";

804 
time_fÜm©_width
 = 4 + 1 + 2 + 1 + 2 + 1 + 2 + 1 + 2;

808 
time_fÜm©
 = "%b %e %H:%M";

809 
time_fÜm©_width
 = 3 + 1 + 2 + 1 + 2 + 1 + 2;

812 
¬gc
 - 
İtšd
)

815 
my_lše_Úly
 = 
Œue
;

819 
	`who
 (
UTMP_FILE
, 
READ_UTMP_CHECK_PIDS
);

823 
	`who
 (
¬gv
[
İtšd
], 0);

827 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
 + 2]));

828 
	`u§ge
 (
EXIT_FAILURE
);

831 
	`ex™
 (
EXIT_SUCCESS
);

832 
	}
}

	@whoami.c

21 
	~<cÚfig.h
>

22 
	~<¡dio.h
>

23 
	~<sys/ty³s.h
>

24 
	~<pwd.h
>

25 
	~<g‘İt.h
>

27 
	~"sy¡em.h
"

28 
	~"”rÜ.h
"

29 
	~"lÚg-İtiÚs.h
"

30 
	~"quÙe.h
"

33 
	#PROGRAM_NAME
 "whßmi"

	)

35 
	#AUTHORS
 
	`´İ”_Çme
 ("Rich¬d MlyÇrik")

	)

38 
	$u§ge
 (
¡©us
)

40 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

41 
	`em™_Œy_h–p
 ();

44 
	`´štf
 (
	`_
("U§ge: % [OPTION]...\n"), 
´og¿m_Çme
);

45 
	`åuts
 (
	`_
("\
hu£¸ÇmassocŸ‹d w™hhcu¼’ˆefãùivu£¸ID.\n\
‡ id -un.\n\
\n\
"), 
¡dout
);

50 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

51 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

52 
	`em™_ªcÏry_šfo
 ();

54 
	`ex™
 (
¡©us
);

55 
	}
}

58 
	$maš
 (
¬gc
, **
¬gv
)

60 
·sswd
 *
pw
;

61 
uid_t
 
uid
;

62 
uid_t
 
NO_UID
 = -1;

64 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

65 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

66 
	`£oÿË
 (
LC_ALL
, "");

67 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

68 
	`‹xtdomaš
 (
PACKAGE
);

70 
	`©ex™
 (
şo£_¡dout
);

72 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

73 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

74 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "", 
NULL
, NULL) != -1)

75 
	`u§ge
 (
EXIT_FAILURE
);

77 ià(
İtšd
 !ğ
¬gc
)

79 
	`”rÜ
 (0, 0, 
	`_
("exŒ¨İ”ªd %s"), 
	`quÙe
 (
¬gv
[
İtšd
]));

80 
	`u§ge
 (
EXIT_FAILURE
);

83 
”ºo
 = 0;

84 
uid
 = 
	`g‘euid
 ();

85 
pw
 = (
uid
 =ğ
NO_UID
 && 
”ºo
 ? 
NULL
 : 
	`g‘pwuid
 (uid));

86 ià(
pw
)

88 
	`puts
 (
pw
->
pw_Çme
);

89 
	`ex™
 (
EXIT_SUCCESS
);

91 
	`årštf
 (
¡d”r
, 
	`_
("%s: cannot find‚ame for user ID %lu\n"),

92 
´og¿m_Çme
, (è
uid
);

93 
	`ex™
 (
EXIT_FAILURE
);

94 
	}
}

	@yes.c

19 
	~<cÚfig.h
>

20 
	~<¡dio.h
>

21 
	~<sys/ty³s.h
>

22 
	~<g‘İt.h
>

24 
	~"sy¡em.h
"

26 
	~"”rÜ.h
"

27 
	~"lÚg-İtiÚs.h
"

30 
	#PROGRAM_NAME
 "yes"

	)

32 
	#AUTHORS
 
	`´İ”_Çme
 ("David MacK’z›")

	)

35 
	$u§ge
 (
¡©us
)

37 ià(
¡©us
 !ğ
EXIT_SUCCESS
)

38 
	`em™_Œy_h–p
 ();

41 
	`´štf
 (
	`_
("\
: %s [STRING]...\n\
: %s OPTION\n\
"),

45 
´og¿m_Çme
,…rogram_name);

47 
	`åuts
 (
	`_
("\
 ouuˆ¨lšw™h‡Î s³cif›d STRING(s), o¸'y'.\n\
\n\
"), 
¡dout
);

51 
	`åuts
 (
HELP_OPTION_DESCRIPTION
, 
¡dout
);

52 
	`åuts
 (
VERSION_OPTION_DESCRIPTION
, 
¡dout
);

53 
	`em™_ªcÏry_šfo
 ();

55 
	`ex™
 (
¡©us
);

56 
	}
}

59 
	$maš
 (
¬gc
, **
¬gv
)

61 
	`š™Ÿlize_maš
 (&
¬gc
, &
¬gv
);

62 
	`£t_´og¿m_Çme
 (
¬gv
[0]);

63 
	`£oÿË
 (
LC_ALL
, "");

64 
	`bšd‹xtdomaš
 (
PACKAGE
, 
LOCALEDIR
);

65 
	`‹xtdomaš
 (
PACKAGE
);

67 
	`©ex™
 (
şo£_¡dout
);

69 
	`·r£_lÚg_İtiÚs
 (
¬gc
, 
¬gv
, 
PROGRAM_NAME
, 
PACKAGE_NAME
, 
V”siÚ
,

70 
u§ge
, 
AUTHORS
, (cÚ¡ *è
NULL
);

71 ià(
	`g‘İt_lÚg
 (
¬gc
, 
¬gv
, "+", 
NULL
, NULL) != -1)

72 
	`u§ge
 (
EXIT_FAILURE
);

74 ià(
¬gc
 <ğ
İtšd
)

76 
İtšd
 = 
¬gc
;

77 
¬gv
[
¬gc
++] = 
	`bad_ÿ¡
 ("y");

80 
Œue
)

82 
i
;

83 
i
 = 
İtšd
; i < 
¬gc
; i++)

84 ià(
	`åuts
 (
¬gv
[
i
], 
¡dout
è=ğ
EOF


85 || 
	`putch¬
 (
i
 =ğ
¬gc
 - 1 ? '\n' : ' 'è=ğ
EOF
)

86 
	`”rÜ
 (
EXIT_FAILURE
, 
”ºo
, 
	`_
("standard output"));

88 
	}
}

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


88 
	#as£¹
(
ex´
) \

89 ((
ex´
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£¹_ç
 (
	`__STRING
(
ex´
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£¹_³¼Ü
(
”ºum
) \

95 (!(
”ºum
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

118 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


120 #undeà
¡©ic_as£¹


121 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià(
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
è&& !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_BSD


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3));

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
è
	`__nÚnuÎ
 ((1, 2, 3));

195 
	#»addœ_r
 
»addœ64_r


	)

199 #ifdeà
__USE_LARGEFILE64


200 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

201 
dœ’t64
 *
__»¡riù
 
__’Œy
,

202 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

203 
	`__nÚnuÎ
 ((1, 2, 3));

208 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

210 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


211 
	~<b™s/ty³s.h
>

214 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

217 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

220 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


223 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

225 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


226 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

229 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


230 #iâdeà
MAXNAMLEN


232 
	~<b™s/posix1_lim.h
>

235 #ifdeà
NAME_MAX


236 
	#MAXNAMLEN
 
NAME_MAX


	)

238 
	#MAXNAMLEN
 255

	)

243 
	#__Ãed_size_t


	)

244 
	~<¡ddef.h
>

253 #iâdeà
__USE_FILE_OFFSET64


254 
	`sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

255 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

256 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

257 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

258 cÚ¡ 
dœ’t
 **))

259 
	`__nÚnuÎ
 ((1, 2));

261 #ifdeà
__REDIRECT


262 
	`__REDIRECT
 (
sÿndœ
,

263 (cÚ¡ *
__»¡riù
 
__dœ
,

264 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

265 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

266 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

267 cÚ¡ 
dœ’t
 **)),

268 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

270 
	#sÿndœ
 
sÿndœ64


	)

274 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


277 
	`sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

278 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

279 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

280 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

281 cÚ¡ 
dœ’t64
 **))

282 
	`__nÚnuÎ
 ((1, 2));

285 #ifdeà
__USE_GNU


291 #iâdeà
__USE_FILE_OFFSET64


292 
	`sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

293 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

294 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

295 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

296 cÚ¡ 
dœ’t
 **))

297 
	`__nÚnuÎ
 ((2, 3));

299 #ifdeà
__REDIRECT


300 
	`__REDIRECT
 (
sÿndœ©
,

301 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

302 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

303 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

304 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

305 cÚ¡ 
dœ’t
 **)),

306 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

308 
	#sÿndœ©
 
sÿndœ©64


	)

314 
	`sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

315 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

316 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

317 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

318 cÚ¡ 
dœ’t64
 **))

319 
	`__nÚnuÎ
 ((2, 3));

323 #iâdeà
__USE_FILE_OFFSET64


324 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

325 cÚ¡ 
dœ’t
 **
__e2
)

326 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

328 #ifdeà
__REDIRECT


329 
	`__REDIRECT_NTH
 (
®phasÜt
,

330 (cÚ¡ 
dœ’t
 **
__e1
,

331 cÚ¡ 
dœ’t
 **
__e2
),

332 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

334 
	#®phasÜt
 
®phasÜt64


	)

338 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


339 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

340 cÚ¡ 
dœ’t64
 **
__e2
)

341 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

346 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


351 #iâdeà
__USE_FILE_OFFSET64


352 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

353 
size_t
 
__nby‹s
,

354 
__off_t
 *
__»¡riù
 
__ba£p
)

355 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

357 #ifdeà
__REDIRECT


358 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

359 (
__fd
, *
__»¡riù
 
__buf
,

360 
size_t
 
__nby‹s
,

361 
__off64_t
 *
__»¡riù
 
__ba£p
),

362 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

364 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

368 #ifdeà
__USE_LARGEFILE64


369 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

370 
size_t
 
__nby‹s
,

371 
__off64_t
 *
__»¡riù
 
__ba£p
)

372 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

376 #ifdeà
__USE_GNU


378 #iâdeà
__USE_FILE_OFFSET64


379 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

380 cÚ¡ 
dœ’t
 **
__e2
)

381 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

383 #ifdeà
__REDIRECT


384 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

385 (cÚ¡ 
dœ’t
 **
__e1
,

386 cÚ¡ 
dœ’t
 **
__e2
),

387 
v”siÚsÜt64
)

388 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

390 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

394 #ifdeà
__USE_LARGEFILE64


395 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

396 cÚ¡ 
dœ’t64
 **
__e2
)

397 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

401 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/error.h

19 #iâdeà
_ERROR_H


20 
	#_ERROR_H
 1

	)

22 
	~<ã©u»s.h
>

25 
__BEGIN_DECLS


31 
	$”rÜ
 (
__¡©us
, 
__”ºum
, cÚ¡ *
__fÜm©
, ...)

32 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

34 
	$”rÜ_©_lše
 (
__¡©us
, 
__”ºum
, cÚ¡ *
__âame
,

35 
__lš’o
, cÚ¡ *
__fÜm©
, ...)

36 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 5, 6)));

41 (*
”rÜ_´št_´ogÇme
) ();

44 
”rÜ_mes§ge_couÁ
;

48 
”rÜ_Úe_³r_lše
;

51 #ià
defšed
 
__ex‹º_®ways_šlše
 && defšed 
__va_¬g_·ck


52 
	~<b™s/”rÜ.h
>

55 
__END_DECLS


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

40 #iâdeà
__mode_t_defšed


41 
__mode_t
 
	tmode_t
;

42 
	#__mode_t_defšed


	)

45 #iâdeà
__off_t_defšed


46 #iâdeà
__USE_FILE_OFFSET64


47 
__off_t
 
	toff_t
;

49 
__off64_t
 
	toff_t
;

51 
	#__off_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


55 
__off64_t
 
	toff64_t
;

56 
	#__off64_t_defšed


	)

59 #iâdeà
__pid_t_defšed


60 
__pid_t
 
	tpid_t
;

61 
	#__pid_t_defšed


	)

65 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


66 
	#__Ãed_time¥ec


	)

67 
	~<time.h
>

68 
	~<b™s/¡©.h
>

70 
	#S_IFMT
 
__S_IFMT


	)

71 
	#S_IFDIR
 
__S_IFDIR


	)

72 
	#S_IFCHR
 
__S_IFCHR


	)

73 
	#S_IFBLK
 
__S_IFBLK


	)

74 
	#S_IFREG
 
__S_IFREG


	)

75 #ifdeà
__S_IFIFO


76 
	#S_IFIFO
 
__S_IFIFO


	)

78 #ifdeà
__S_IFLNK


79 
	#S_IFLNK
 
__S_IFLNK


	)

81 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


82 
	#S_IFSOCK
 
__S_IFSOCK


	)

87 
	#S_ISUID
 
__S_ISUID


	)

88 
	#S_ISGID
 
__S_ISGID


	)

90 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


92 
	#S_ISVTX
 
__S_ISVTX


	)

95 
	#S_IRUSR
 
__S_IREAD


	)

96 
	#S_IWUSR
 
__S_IWRITE


	)

97 
	#S_IXUSR
 
__S_IEXEC


	)

99 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

101 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

102 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

103 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

105 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

107 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

108 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

109 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

111 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

114 #ifdef 
__USE_MISC


115 #iâdeà
R_OK


118 
	#R_OK
 4

	)

119 
	#W_OK
 2

	)

120 
	#X_OK
 1

	)

121 
	#F_OK
 0

	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#SEEK_SET
 0

	)

128 
	#SEEK_CUR
 1

	)

129 
	#SEEK_END
 2

	)

137 
fú
 (
__fd
, 
__cmd
, ...);

145 #iâdeà
__USE_FILE_OFFSET64


146 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

148 #ifdeà
__REDIRECT


149 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

150 
	`__nÚnuÎ
 ((1));

152 
	#İ’
 
İ’64


	)

155 #ifdeà
__USE_LARGEFILE64


156 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__USE_ATFILE


169 #iâdeà
__USE_FILE_OFFSET64


170 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

171 
	`__nÚnuÎ
 ((2));

173 #ifdeà
__REDIRECT


174 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

175 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

177 
	#İ’©
 
İ’©64


	)

180 #ifdeà
__USE_LARGEFILE64


181 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

191 #iâdeà
__USE_FILE_OFFSET64


192 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

194 #ifdeà
__REDIRECT


195 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

196 
ü—t64
è
	`__nÚnuÎ
 ((1));

198 
	#ü—t
 
ü—t64


	)

201 #ifdeà
__USE_LARGEFILE64


202 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

206 && !
defšed
 
__USE_POSIX
))

215 
	#F_ULOCK
 0

	)

216 
	#F_LOCK
 1

	)

217 
	#F_TLOCK
 2

	)

218 
	#F_TEST
 3

	)

220 #iâdeà
__USE_FILE_OFFSET64


221 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

223 #ifdeà
__REDIRECT


224 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

226 
	#lockf
 
lockf64


	)

229 #ifdeà
__USE_LARGEFILE64


230 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

234 #ifdeà
__USE_XOPEN2K


237 #iâdeà
__USE_FILE_OFFSET64


238 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

239 
__advi£
è
__THROW
;

241 #ifdeà
__REDIRECT_NTH


242 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

243 
__off64_t
 
__Ën
, 
__advi£
),

244 
posix_çdvi£64
);

246 
	#posix_çdvi£
 
posix_çdvi£64


	)

249 #ifdeà
__USE_LARGEFILE64


250 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

251 
__advi£
è
__THROW
;

259 #iâdeà
__USE_FILE_OFFSET64


260 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

264 
__off64_t
 
__Ën
),

265 
posix_çÎoÿ‹64
);

267 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

270 #ifdeà
__USE_LARGEFILE64


271 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

277 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

278 && 
defšed
 
__va_¬g_·ck_Ën


279 
	~<b™s/fú2.h
>

282 
__END_DECLS


	@/usr/include/fnmatch.h

18 #iâdef 
_FNMATCH_H


19 
	#_FNMATCH_H
 1

	)

21 #ifdef 
__ılu¥lus


27 #undeà
FNM_PATHNAME


28 #undeà
FNM_NOESCAPE


29 #undeà
FNM_PERIOD


32 
	#FNM_PATHNAME
 (1 << 0è

	)

33 
	#FNM_NOESCAPE
 (1 << 1è

	)

34 
	#FNM_PERIOD
 (1 << 2è

	)

36 #ià!
defšed
 
_POSIX_C_SOURCE
 || _POSIX_C_SOURCE < 2 || defšed 
_GNU_SOURCE


37 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

38 
	#FNM_LEADING_DIR
 (1 << 3è

	)

39 
	#FNM_CASEFOLD
 (1 << 4è

	)

40 
	#FNM_EXTMATCH
 (1 << 5è

	)

44 
	#FNM_NOMATCH
 1

	)

50 #ifdeà
_XOPEN_SOURCE


51 
	#FNM_NOSYS
 (-1)

	)

56 
âm©ch
 (cÚ¡ *
__·‰”n
, cÚ¡ *
__Çme
, 
__æags
);

58 #ifdef 
__ılu¥lus


	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/grp.h

22 #iâdef 
_GRP_H


23 
	#_GRP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 
	#__Ãed_size_t


	)

32 
	~<¡ddef.h
>

36 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K
è&& !defšed 
__gid_t_defšed


37 
__gid_t
 
	tgid_t
;

38 
	#__gid_t_defšed


	)

42 
	sgroup


44 *
	mgr_Çme
;

45 *
	mgr_·sswd
;

46 
__gid_t
 
	mgr_gid
;

47 **
	mgr_mem
;

51 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_GNU


52 
	#__Ãed_FILE


	)

53 
	~<¡dio.h
>

57 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


62 
£tg»Á
 ();

65 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

66 || 
defšed
 
__USE_XOPEN2K8


71 
’dg»Á
 ();

77 
group
 *
g‘g»Á
 ();

80 #ifdef 
__USE_SVID


87 
group
 *
fg‘g»Á
 (
FILE
 *
__¡»am
);

90 #ifdeà
__USE_GNU


97 
putg»Á
 (cÚ¡ 
group
 *
__»¡riù
 
__p
,

98 
FILE
 *
__»¡riù
 
__f
);

105 
group
 *
g‘grgid
 (
__gid_t
 
__gid
);

111 
group
 *
g‘gºam
 (cÚ¡ *
__Çme
);

113 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


115 #ifdeà
__USE_MISC


118 
	#NSS_BUFLEN_GROUP
 1024

	)

134 #ifdeà
__USE_GNU


135 
g‘g»Á_r
 (
group
 *
__»¡riù
 
__»suÉbuf
,

136 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

137 
group
 **
__»¡riù
 
__»suÉ
);

144 
g‘grgid_r
 (
__gid_t
 
__gid
, 
group
 *
__»¡riù
 
__»suÉbuf
,

145 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

146 
group
 **
__»¡riù
 
__»suÉ
);

152 
g‘gºam_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

153 
group
 *
__»¡riù
 
__»suÉbuf
,

154 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

155 
group
 **
__»¡riù
 
__»suÉ
);

157 #ifdef 
__USE_SVID


165 
fg‘g»Á_r
 (
FILE
 *
__»¡riù
 
__¡»am
,

166 
group
 *
__»¡riù
 
__»suÉbuf
,

167 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

168 
group
 **
__»¡riù
 
__»suÉ
);

174 #ifdef 
__USE_BSD


176 
	#__Ãed_size_t


	)

177 
	~<¡ddef.h
>

180 
	$£tgroups
 (
size_t
 
__n
, cÚ¡ 
__gid_t
 *
__groups
è
__THROW
;

190 
	`g‘grou¶i¡
 (cÚ¡ *
__u£r
, 
__gid_t
 
__group
,

191 
__gid_t
 *
__groups
, *
__ngroups
);

201 
	`š™groups
 (cÚ¡ *
__u£r
, 
__gid_t
 
__group
);

205 
__END_DECLS


	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 #ifdeà
__USE_EXTERN_INLINES


316 #ià
__WORDSIZE
 == 64

318 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

319 **
__»¡riù
 
__’d±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

323 
__ex‹º_šlše
 
štmax_t


324 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

325 
ba£
))

327  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

328 
	}
}

330 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 ** 
__»¡riù
 
__’d±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

335 
__ex‹º_šlše
 
uštmax_t


336 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

337 
ba£
))

339  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

343 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

347 
__ex‹º_šlše
 
štmax_t


348 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

349 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

351  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

355 
__»¡riù
 
__ÅŒ
,

356 
__gwch¬_t
 **

357 
__»¡riù
 
__’d±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

361 
__ex‹º_šlše
 
uštmax_t


362 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

363 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

365  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

366 
	}
}

370 
__ex‹nsiÚ__


371 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

372 **
__»¡riù
 
__’d±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

376 
__ex‹º_šlše
 
štmax_t


377 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

378 
ba£
))

380  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

381 
	}
}

383 
__ex‹nsiÚ__


384 
	$__¡¹ouÎ_š‹º®
 (const *

385 
__»¡riù
 
__ÅŒ
,

387 
__»¡riù
 
__’d±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

392 
__ex‹º_šlše
 
uštmax_t


393 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

394 
ba£
))

396  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

397 
	}
}

399 
__ex‹nsiÚ__


400 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

401 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

405 
__ex‹º_šlše
 
štmax_t


406 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

407 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

409  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

410 
	}
}

413 
__ex‹nsiÚ__


414 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

415 
__»¡riù
 
__ÅŒ
,

416 
__gwch¬_t
 **

417 
__»¡riù
 
__’d±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

422 
__ex‹º_šlše
 
uštmax_t


423 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

424 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

426  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/langinfo.h

19 #iâdeà
_LANGINFO_H


20 
	#_LANGINFO_H
 1

	)

23 
	~<Æ_ty³s.h
>

25 
	~<b™s/loÿË.h
>

28 
	g__BEGIN_DECLS


34 
	#_NL_ITEM
(
ÿ‹gÜy
, 
šdex
è(((ÿ‹gÜyè<< 16è| (šdex))

	)

37 
	#_NL_ITEM_CATEGORY
(
™em
è((è(™emè>> 16)

	)

38 
	#_NL_ITEM_INDEX
(
™em
è((è(™emè& 0xffff)

	)

46 
	mABDAY_1
 = 
_NL_ITEM
 (
__LC_TIME
, 0),

47 
	#ABDAY_1
 
ABDAY_1


	)

48 
	mABDAY_2
,

49 
	#ABDAY_2
 
ABDAY_2


	)

50 
	mABDAY_3
,

51 
	#ABDAY_3
 
ABDAY_3


	)

52 
	mABDAY_4
,

53 
	#ABDAY_4
 
ABDAY_4


	)

54 
	mABDAY_5
,

55 
	#ABDAY_5
 
ABDAY_5


	)

56 
	mABDAY_6
,

57 
	#ABDAY_6
 
ABDAY_6


	)

58 
	mABDAY_7
,

59 
	#ABDAY_7
 
ABDAY_7


	)

62 
	mDAY_1
,

63 
	#DAY_1
 
DAY_1


	)

64 
	mDAY_2
,

65 
	#DAY_2
 
DAY_2


	)

66 
	mDAY_3
,

67 
	#DAY_3
 
DAY_3


	)

68 
	mDAY_4
,

69 
	#DAY_4
 
DAY_4


	)

70 
	mDAY_5
,

71 
	#DAY_5
 
DAY_5


	)

72 
	mDAY_6
,

73 
	#DAY_6
 
DAY_6


	)

74 
	mDAY_7
,

75 
	#DAY_7
 
DAY_7


	)

78 
	mABMON_1
,

79 
	#ABMON_1
 
ABMON_1


	)

80 
	mABMON_2
,

81 
	#ABMON_2
 
ABMON_2


	)

82 
	mABMON_3
,

83 
	#ABMON_3
 
ABMON_3


	)

84 
	mABMON_4
,

85 
	#ABMON_4
 
ABMON_4


	)

86 
	mABMON_5
,

87 
	#ABMON_5
 
ABMON_5


	)

88 
	mABMON_6
,

89 
	#ABMON_6
 
ABMON_6


	)

90 
	mABMON_7
,

91 
	#ABMON_7
 
ABMON_7


	)

92 
	mABMON_8
,

93 
	#ABMON_8
 
ABMON_8


	)

94 
	mABMON_9
,

95 
	#ABMON_9
 
ABMON_9


	)

96 
	mABMON_10
,

97 
	#ABMON_10
 
ABMON_10


	)

98 
	mABMON_11
,

99 
	#ABMON_11
 
ABMON_11


	)

100 
	mABMON_12
,

101 
	#ABMON_12
 
ABMON_12


	)

104 
	mMON_1
,

105 
	#MON_1
 
MON_1


	)

106 
	mMON_2
,

107 
	#MON_2
 
MON_2


	)

108 
	mMON_3
,

109 
	#MON_3
 
MON_3


	)

110 
	mMON_4
,

111 
	#MON_4
 
MON_4


	)

112 
	mMON_5
,

113 
	#MON_5
 
MON_5


	)

114 
	mMON_6
,

115 
	#MON_6
 
MON_6


	)

116 
	mMON_7
,

117 
	#MON_7
 
MON_7


	)

118 
	mMON_8
,

119 
	#MON_8
 
MON_8


	)

120 
	mMON_9
,

121 
	#MON_9
 
MON_9


	)

122 
	mMON_10
,

123 
	#MON_10
 
MON_10


	)

124 
	mMON_11
,

125 
	#MON_11
 
MON_11


	)

126 
	mMON_12
,

127 
	#MON_12
 
MON_12


	)

129 
	mAM_STR
,

130 
	#AM_STR
 
AM_STR


	)

131 
	mPM_STR
,

132 
	#PM_STR
 
PM_STR


	)

134 
	mD_T_FMT
,

135 
	#D_T_FMT
 
D_T_FMT


	)

136 
	mD_FMT
,

137 
	#D_FMT
 
D_FMT


	)

138 
	mT_FMT
,

139 
	#T_FMT
 
T_FMT


	)

140 
	mT_FMT_AMPM
,

141 
	#T_FMT_AMPM
 
T_FMT_AMPM


	)

143 
	mERA
,

144 
	#ERA
 
ERA


	)

145 
	m__ERA_YEAR
,

146 #ifdeà
__USE_GNU


147 
	#ERA_YEAR
 
__ERA_YEAR


	)

149 
	mERA_D_FMT
,

150 
	#ERA_D_FMT
 
ERA_D_FMT


	)

151 
	mALT_DIGITS
,

152 
	#ALT_DIGITS
 
ALT_DIGITS


	)

153 
	mERA_D_T_FMT
,

154 
	#ERA_D_T_FMT
 
ERA_D_T_FMT


	)

155 
	mERA_T_FMT
,

156 
	#ERA_T_FMT
 
ERA_T_FMT


	)

158 
	m_NL_TIME_ERA_NUM_ENTRIES
,

159 
	m_NL_TIME_ERA_ENTRIES
,

161 
	m_NL_WABDAY_1
,

162 
	m_NL_WABDAY_2
,

163 
	m_NL_WABDAY_3
,

164 
	m_NL_WABDAY_4
,

165 
	m_NL_WABDAY_5
,

166 
	m_NL_WABDAY_6
,

167 
	m_NL_WABDAY_7
,

170 
	m_NL_WDAY_1
,

171 
	m_NL_WDAY_2
,

172 
	m_NL_WDAY_3
,

173 
	m_NL_WDAY_4
,

174 
	m_NL_WDAY_5
,

175 
	m_NL_WDAY_6
,

176 
	m_NL_WDAY_7
,

179 
	m_NL_WABMON_1
,

180 
	m_NL_WABMON_2
,

181 
	m_NL_WABMON_3
,

182 
	m_NL_WABMON_4
,

183 
	m_NL_WABMON_5
,

184 
	m_NL_WABMON_6
,

185 
	m_NL_WABMON_7
,

186 
	m_NL_WABMON_8
,

187 
	m_NL_WABMON_9
,

188 
	m_NL_WABMON_10
,

189 
	m_NL_WABMON_11
,

190 
	m_NL_WABMON_12
,

193 
	m_NL_WMON_1
,

194 
	m_NL_WMON_2
,

195 
	m_NL_WMON_3
,

196 
	m_NL_WMON_4
,

197 
	m_NL_WMON_5
,

198 
	m_NL_WMON_6
,

199 
	m_NL_WMON_7
,

200 
	m_NL_WMON_8
,

201 
	m_NL_WMON_9
,

202 
	m_NL_WMON_10
,

203 
	m_NL_WMON_11
,

204 
	m_NL_WMON_12
,

206 
	m_NL_WAM_STR
,

207 
	m_NL_WPM_STR
,

209 
	m_NL_WD_T_FMT
,

210 
	m_NL_WD_FMT
,

211 
	m_NL_WT_FMT
,

212 
	m_NL_WT_FMT_AMPM
,

214 
	m_NL_WERA_YEAR
,

215 
	m_NL_WERA_D_FMT
,

216 
	m_NL_WALT_DIGITS
,

217 
	m_NL_WERA_D_T_FMT
,

218 
	m_NL_WERA_T_FMT
,

220 
	m_NL_TIME_WEEK_NDAYS
,

221 
	m_NL_TIME_WEEK_1STDAY
,

222 
	m_NL_TIME_WEEK_1STWEEK
,

223 
	m_NL_TIME_FIRST_WEEKDAY
,

224 
	m_NL_TIME_FIRST_WORKDAY
,

225 
	m_NL_TIME_CAL_DIRECTION
,

226 
	m_NL_TIME_TIMEZONE
,

228 
	m_DATE_FMT
,

229 
	#_DATE_FMT
 
_DATE_FMT


	)

230 
	m_NL_W_DATE_FMT
,

232 
	m_NL_TIME_CODESET
,

234 
	m_NL_NUM_LC_TIME
,

239 
	m_NL_COLLATE_NRULES
 = 
_NL_ITEM
 (
__LC_COLLATE
, 0),

240 
	m_NL_COLLATE_RULESETS
,

241 
	m_NL_COLLATE_TABLEMB
,

242 
	m_NL_COLLATE_WEIGHTMB
,

243 
	m_NL_COLLATE_EXTRAMB
,

244 
	m_NL_COLLATE_INDIRECTMB
,

245 
	m_NL_COLLATE_GAP1
,

246 
	m_NL_COLLATE_GAP2
,

247 
	m_NL_COLLATE_GAP3
,

248 
	m_NL_COLLATE_TABLEWC
,

249 
	m_NL_COLLATE_WEIGHTWC
,

250 
	m_NL_COLLATE_EXTRAWC
,

251 
	m_NL_COLLATE_INDIRECTWC
,

252 
	m_NL_COLLATE_SYMB_HASH_SIZEMB
,

253 
	m_NL_COLLATE_SYMB_TABLEMB
,

254 
	m_NL_COLLATE_SYMB_EXTRAMB
,

255 
	m_NL_COLLATE_COLLSEQMB
,

256 
	m_NL_COLLATE_COLLSEQWC
,

257 
	m_NL_COLLATE_CODESET
,

258 
	m_NL_NUM_LC_COLLATE
,

263 
	m_NL_CTYPE_CLASS
 = 
_NL_ITEM
 (
__LC_CTYPE
, 0),

264 
	m_NL_CTYPE_TOUPPER
,

265 
	m_NL_CTYPE_GAP1
,

266 
	m_NL_CTYPE_TOLOWER
,

267 
	m_NL_CTYPE_GAP2
,

268 
	m_NL_CTYPE_CLASS32
,

269 
	m_NL_CTYPE_GAP3
,

270 
	m_NL_CTYPE_GAP4
,

271 
	m_NL_CTYPE_GAP5
,

272 
	m_NL_CTYPE_GAP6
,

273 
	m_NL_CTYPE_CLASS_NAMES
,

274 
	m_NL_CTYPE_MAP_NAMES
,

275 
	m_NL_CTYPE_WIDTH
,

276 
	m_NL_CTYPE_MB_CUR_MAX
,

277 
	m_NL_CTYPE_CODESET_NAME
,

278 
	mCODESET
 = 
_NL_CTYPE_CODESET_NAME
,

279 
	#CODESET
 
CODESET


	)

280 
	m_NL_CTYPE_TOUPPER32
,

281 
	m_NL_CTYPE_TOLOWER32
,

282 
	m_NL_CTYPE_CLASS_OFFSET
,

283 
	m_NL_CTYPE_MAP_OFFSET
,

284 
	m_NL_CTYPE_INDIGITS_MB_LEN
,

285 
	m_NL_CTYPE_INDIGITS0_MB
,

286 
	m_NL_CTYPE_INDIGITS1_MB
,

287 
	m_NL_CTYPE_INDIGITS2_MB
,

288 
	m_NL_CTYPE_INDIGITS3_MB
,

289 
	m_NL_CTYPE_INDIGITS4_MB
,

290 
	m_NL_CTYPE_INDIGITS5_MB
,

291 
	m_NL_CTYPE_INDIGITS6_MB
,

292 
	m_NL_CTYPE_INDIGITS7_MB
,

293 
	m_NL_CTYPE_INDIGITS8_MB
,

294 
	m_NL_CTYPE_INDIGITS9_MB
,

295 
	m_NL_CTYPE_INDIGITS_WC_LEN
,

296 
	m_NL_CTYPE_INDIGITS0_WC
,

297 
	m_NL_CTYPE_INDIGITS1_WC
,

298 
	m_NL_CTYPE_INDIGITS2_WC
,

299 
	m_NL_CTYPE_INDIGITS3_WC
,

300 
	m_NL_CTYPE_INDIGITS4_WC
,

301 
	m_NL_CTYPE_INDIGITS5_WC
,

302 
	m_NL_CTYPE_INDIGITS6_WC
,

303 
	m_NL_CTYPE_INDIGITS7_WC
,

304 
	m_NL_CTYPE_INDIGITS8_WC
,

305 
	m_NL_CTYPE_INDIGITS9_WC
,

306 
	m_NL_CTYPE_OUTDIGIT0_MB
,

307 
	m_NL_CTYPE_OUTDIGIT1_MB
,

308 
	m_NL_CTYPE_OUTDIGIT2_MB
,

309 
	m_NL_CTYPE_OUTDIGIT3_MB
,

310 
	m_NL_CTYPE_OUTDIGIT4_MB
,

311 
	m_NL_CTYPE_OUTDIGIT5_MB
,

312 
	m_NL_CTYPE_OUTDIGIT6_MB
,

313 
	m_NL_CTYPE_OUTDIGIT7_MB
,

314 
	m_NL_CTYPE_OUTDIGIT8_MB
,

315 
	m_NL_CTYPE_OUTDIGIT9_MB
,

316 
	m_NL_CTYPE_OUTDIGIT0_WC
,

317 
	m_NL_CTYPE_OUTDIGIT1_WC
,

318 
	m_NL_CTYPE_OUTDIGIT2_WC
,

319 
	m_NL_CTYPE_OUTDIGIT3_WC
,

320 
	m_NL_CTYPE_OUTDIGIT4_WC
,

321 
	m_NL_CTYPE_OUTDIGIT5_WC
,

322 
	m_NL_CTYPE_OUTDIGIT6_WC
,

323 
	m_NL_CTYPE_OUTDIGIT7_WC
,

324 
	m_NL_CTYPE_OUTDIGIT8_WC
,

325 
	m_NL_CTYPE_OUTDIGIT9_WC
,

326 
	m_NL_CTYPE_TRANSLIT_TAB_SIZE
,

327 
	m_NL_CTYPE_TRANSLIT_FROM_IDX
,

328 
	m_NL_CTYPE_TRANSLIT_FROM_TBL
,

329 
	m_NL_CTYPE_TRANSLIT_TO_IDX
,

330 
	m_NL_CTYPE_TRANSLIT_TO_TBL
,

331 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING_LEN
,

332 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING
,

333 
	m_NL_CTYPE_TRANSLIT_IGNORE_LEN
,

334 
	m_NL_CTYPE_TRANSLIT_IGNORE
,

335 
	m_NL_CTYPE_MAP_TO_NONASCII
,

336 
	m_NL_CTYPE_NONASCII_CASE
,

337 
	m_NL_CTYPE_EXTRA_MAP_1
,

338 
	m_NL_CTYPE_EXTRA_MAP_2
,

339 
	m_NL_CTYPE_EXTRA_MAP_3
,

340 
	m_NL_CTYPE_EXTRA_MAP_4
,

341 
	m_NL_CTYPE_EXTRA_MAP_5
,

342 
	m_NL_CTYPE_EXTRA_MAP_6
,

343 
	m_NL_CTYPE_EXTRA_MAP_7
,

344 
	m_NL_CTYPE_EXTRA_MAP_8
,

345 
	m_NL_CTYPE_EXTRA_MAP_9
,

346 
	m_NL_CTYPE_EXTRA_MAP_10
,

347 
	m_NL_CTYPE_EXTRA_MAP_11
,

348 
	m_NL_CTYPE_EXTRA_MAP_12
,

349 
	m_NL_CTYPE_EXTRA_MAP_13
,

350 
	m_NL_CTYPE_EXTRA_MAP_14
,

351 
	m_NL_NUM_LC_CTYPE
,

356 
	m__INT_CURR_SYMBOL
 = 
_NL_ITEM
 (
__LC_MONETARY
, 0),

357 #ifdeà
__USE_GNU


358 
	#INT_CURR_SYMBOL
 
__INT_CURR_SYMBOL


	)

360 
	m__CURRENCY_SYMBOL
,

361 #ifdeà
__USE_GNU


362 
	#CURRENCY_SYMBOL
 
__CURRENCY_SYMBOL


	)

364 
	m__MON_DECIMAL_POINT
,

365 #ifdeà
__USE_GNU


366 
	#MON_DECIMAL_POINT
 
__MON_DECIMAL_POINT


	)

368 
	m__MON_THOUSANDS_SEP
,

369 #ifdeà
__USE_GNU


370 
	#MON_THOUSANDS_SEP
 
__MON_THOUSANDS_SEP


	)

372 
	m__MON_GROUPING
,

373 #ifdeà
__USE_GNU


374 
	#MON_GROUPING
 
__MON_GROUPING


	)

376 
	m__POSITIVE_SIGN
,

377 #ifdeà
__USE_GNU


378 
	#POSITIVE_SIGN
 
__POSITIVE_SIGN


	)

380 
	m__NEGATIVE_SIGN
,

381 #ifdeà
__USE_GNU


382 
	#NEGATIVE_SIGN
 
__NEGATIVE_SIGN


	)

384 
	m__INT_FRAC_DIGITS
,

385 #ifdeà
__USE_GNU


386 
	#INT_FRAC_DIGITS
 
__INT_FRAC_DIGITS


	)

388 
	m__FRAC_DIGITS
,

389 #ifdeà
__USE_GNU


390 
	#FRAC_DIGITS
 
__FRAC_DIGITS


	)

392 
	m__P_CS_PRECEDES
,

393 #ifdeà
__USE_GNU


394 
	#P_CS_PRECEDES
 
__P_CS_PRECEDES


	)

396 
	m__P_SEP_BY_SPACE
,

397 #ifdeà
__USE_GNU


398 
	#P_SEP_BY_SPACE
 
__P_SEP_BY_SPACE


	)

400 
	m__N_CS_PRECEDES
,

401 #ifdeà
__USE_GNU


402 
	#N_CS_PRECEDES
 
__N_CS_PRECEDES


	)

404 
	m__N_SEP_BY_SPACE
,

405 #ifdeà
__USE_GNU


406 
	#N_SEP_BY_SPACE
 
__N_SEP_BY_SPACE


	)

408 
	m__P_SIGN_POSN
,

409 #ifdeà
__USE_GNU


410 
	#P_SIGN_POSN
 
__P_SIGN_POSN


	)

412 
	m__N_SIGN_POSN
,

413 #ifdeà
__USE_GNU


414 
	#N_SIGN_POSN
 
__N_SIGN_POSN


	)

416 
	m_NL_MONETARY_CRNCYSTR
,

417 
	#CRNCYSTR
 
_NL_MONETARY_CRNCYSTR


	)

418 
	m__INT_P_CS_PRECEDES
,

419 #ifdeà
__USE_GNU


420 
	#INT_P_CS_PRECEDES
 
__INT_P_CS_PRECEDES


	)

422 
	m__INT_P_SEP_BY_SPACE
,

423 #ifdeà
__USE_GNU


424 
	#INT_P_SEP_BY_SPACE
 
__INT_P_SEP_BY_SPACE


	)

426 
	m__INT_N_CS_PRECEDES
,

427 #ifdeà
__USE_GNU


428 
	#INT_N_CS_PRECEDES
 
__INT_N_CS_PRECEDES


	)

430 
	m__INT_N_SEP_BY_SPACE
,

431 #ifdeà
__USE_GNU


432 
	#INT_N_SEP_BY_SPACE
 
__INT_N_SEP_BY_SPACE


	)

434 
	m__INT_P_SIGN_POSN
,

435 #ifdeà
__USE_GNU


436 
	#INT_P_SIGN_POSN
 
__INT_P_SIGN_POSN


	)

438 
	m__INT_N_SIGN_POSN
,

439 #ifdeà
__USE_GNU


440 
	#INT_N_SIGN_POSN
 
__INT_N_SIGN_POSN


	)

442 
	m_NL_MONETARY_DUO_INT_CURR_SYMBOL
,

443 
	m_NL_MONETARY_DUO_CURRENCY_SYMBOL
,

444 
	m_NL_MONETARY_DUO_INT_FRAC_DIGITS
,

445 
	m_NL_MONETARY_DUO_FRAC_DIGITS
,

446 
	m_NL_MONETARY_DUO_P_CS_PRECEDES
,

447 
	m_NL_MONETARY_DUO_P_SEP_BY_SPACE
,

448 
	m_NL_MONETARY_DUO_N_CS_PRECEDES
,

449 
	m_NL_MONETARY_DUO_N_SEP_BY_SPACE
,

450 
	m_NL_MONETARY_DUO_INT_P_CS_PRECEDES
,

451 
	m_NL_MONETARY_DUO_INT_P_SEP_BY_SPACE
,

452 
	m_NL_MONETARY_DUO_INT_N_CS_PRECEDES
,

453 
	m_NL_MONETARY_DUO_INT_N_SEP_BY_SPACE
,

454 
	m_NL_MONETARY_DUO_P_SIGN_POSN
,

455 
	m_NL_MONETARY_DUO_N_SIGN_POSN
,

456 
	m_NL_MONETARY_DUO_INT_P_SIGN_POSN
,

457 
	m_NL_MONETARY_DUO_INT_N_SIGN_POSN
,

458 
	m_NL_MONETARY_UNO_VALID_FROM
,

459 
	m_NL_MONETARY_UNO_VALID_TO
,

460 
	m_NL_MONETARY_DUO_VALID_FROM
,

461 
	m_NL_MONETARY_DUO_VALID_TO
,

462 
	m_NL_MONETARY_CONVERSION_RATE
,

463 
	m_NL_MONETARY_DECIMAL_POINT_WC
,

464 
	m_NL_MONETARY_THOUSANDS_SEP_WC
,

465 
	m_NL_MONETARY_CODESET
,

466 
	m_NL_NUM_LC_MONETARY
,

470 
	m__DECIMAL_POINT
 = 
_NL_ITEM
 (
__LC_NUMERIC
, 0),

471 #ifdeà
__USE_GNU


472 
	#DECIMAL_POINT
 
__DECIMAL_POINT


	)

474 
	mRADIXCHAR
 = 
__DECIMAL_POINT
,

475 
	#RADIXCHAR
 
RADIXCHAR


	)

476 
	m__THOUSANDS_SEP
,

477 #ifdeà
__USE_GNU


478 
	#THOUSANDS_SEP
 
__THOUSANDS_SEP


	)

480 
	mTHOUSEP
 = 
__THOUSANDS_SEP
,

481 
	#THOUSEP
 
THOUSEP


	)

482 
	m__GROUPING
,

483 #ifdeà
__USE_GNU


484 
	#GROUPING
 
__GROUPING


	)

486 
	m_NL_NUMERIC_DECIMAL_POINT_WC
,

487 
	m_NL_NUMERIC_THOUSANDS_SEP_WC
,

488 
	m_NL_NUMERIC_CODESET
,

489 
	m_NL_NUM_LC_NUMERIC
,

491 
	m__YESEXPR
 = 
_NL_ITEM
 (
__LC_MESSAGES
, 0),

492 
	#YESEXPR
 
__YESEXPR


	)

493 
	m__NOEXPR
,

494 
	#NOEXPR
 
__NOEXPR


	)

495 
	m__YESSTR
,

496 #ià
defšed
 
__USE_GNU
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

497 
	#YESSTR
 
__YESSTR


	)

499 
	m__NOSTR
,

500 #ià
defšed
 
__USE_GNU
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

501 
	#NOSTR
 
__NOSTR


	)

503 
	m_NL_MESSAGES_CODESET
,

504 
	m_NL_NUM_LC_MESSAGES
,

506 
	m_NL_PAPER_HEIGHT
 = 
_NL_ITEM
 (
__LC_PAPER
, 0),

507 
	m_NL_PAPER_WIDTH
,

508 
	m_NL_PAPER_CODESET
,

509 
	m_NL_NUM_LC_PAPER
,

511 
	m_NL_NAME_NAME_FMT
 = 
_NL_ITEM
 (
__LC_NAME
, 0),

512 
	m_NL_NAME_NAME_GEN
,

513 
	m_NL_NAME_NAME_MR
,

514 
	m_NL_NAME_NAME_MRS
,

515 
	m_NL_NAME_NAME_MISS
,

516 
	m_NL_NAME_NAME_MS
,

517 
	m_NL_NAME_CODESET
,

518 
	m_NL_NUM_LC_NAME
,

520 
	m_NL_ADDRESS_POSTAL_FMT
 = 
_NL_ITEM
 (
__LC_ADDRESS
, 0),

521 
	m_NL_ADDRESS_COUNTRY_NAME
,

522 
	m_NL_ADDRESS_COUNTRY_POST
,

523 
	m_NL_ADDRESS_COUNTRY_AB2
,

524 
	m_NL_ADDRESS_COUNTRY_AB3
,

525 
	m_NL_ADDRESS_COUNTRY_CAR
,

526 
	m_NL_ADDRESS_COUNTRY_NUM
,

527 
	m_NL_ADDRESS_COUNTRY_ISBN
,

528 
	m_NL_ADDRESS_LANG_NAME
,

529 
	m_NL_ADDRESS_LANG_AB
,

530 
	m_NL_ADDRESS_LANG_TERM
,

531 
	m_NL_ADDRESS_LANG_LIB
,

532 
	m_NL_ADDRESS_CODESET
,

533 
	m_NL_NUM_LC_ADDRESS
,

535 
	m_NL_TELEPHONE_TEL_INT_FMT
 = 
_NL_ITEM
 (
__LC_TELEPHONE
, 0),

536 
	m_NL_TELEPHONE_TEL_DOM_FMT
,

537 
	m_NL_TELEPHONE_INT_SELECT
,

538 
	m_NL_TELEPHONE_INT_PREFIX
,

539 
	m_NL_TELEPHONE_CODESET
,

540 
	m_NL_NUM_LC_TELEPHONE
,

542 
	m_NL_MEASUREMENT_MEASUREMENT
 = 
_NL_ITEM
 (
__LC_MEASUREMENT
, 0),

543 
	m_NL_MEASUREMENT_CODESET
,

544 
	m_NL_NUM_LC_MEASUREMENT
,

546 
	m_NL_IDENTIFICATION_TITLE
 = 
_NL_ITEM
 (
__LC_IDENTIFICATION
, 0),

547 
	m_NL_IDENTIFICATION_SOURCE
,

548 
	m_NL_IDENTIFICATION_ADDRESS
,

549 
	m_NL_IDENTIFICATION_CONTACT
,

550 
	m_NL_IDENTIFICATION_EMAIL
,

551 
	m_NL_IDENTIFICATION_TEL
,

552 
	m_NL_IDENTIFICATION_FAX
,

553 
	m_NL_IDENTIFICATION_LANGUAGE
,

554 
	m_NL_IDENTIFICATION_TERRITORY
,

555 
	m_NL_IDENTIFICATION_AUDIENCE
,

556 
	m_NL_IDENTIFICATION_APPLICATION
,

557 
	m_NL_IDENTIFICATION_ABBREVIATION
,

558 
	m_NL_IDENTIFICATION_REVISION
,

559 
	m_NL_IDENTIFICATION_DATE
,

560 
	m_NL_IDENTIFICATION_CATEGORY
,

561 
	m_NL_IDENTIFICATION_CODESET
,

562 
	m_NL_NUM_LC_IDENTIFICATION
,

565 
	m_NL_NUM


570 
	#_NL_LOCALE_NAME
(
ÿ‹gÜy
è
	`_NL_ITEM
 ((category), \

571 
	`_NL_ITEM_INDEX
 (-1))

	)

572 #ifdeà
__USE_GNU


573 
	#NL_LOCALE_NAME
(
ÿ‹gÜy
è
	`_NL_LOCALE_NAME
 (ÿ‹gÜy)

	)

583 *
	$Æ_Ïngšfo
 (
Æ_™em
 
__™em
è
__THROW
;

586 #ifdef 
__USE_XOPEN2K


591 
	~<xloÿË.h
>

594 *
	`Æ_Ïngšfo_l
 (
Æ_™em
 
__™em
, 
__loÿË_t
 
__l
);

597 
__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<ã©u»s.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

41 #iâdeà
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<b™s/wÜdsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifdeà
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #ià
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #ià
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifdeà
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


123 #šşude_Ãxˆ<
lim™s
.
h
>

129 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


130 #iâdeà
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #iâdeà
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #iâdeà
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<b™s/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<b™s/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<b™s/xİ’_lim.h
>

	@/usr/include/locale.h

22 #iâdef 
_LOCALE_H


23 
	#_LOCALE_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_NULL


	)

28 
	~<¡ddef.h
>

29 
	~<b™s/loÿË.h
>

31 
	g__BEGIN_DECLS


35 
	#LC_CTYPE
 
__LC_CTYPE


	)

36 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

37 
	#LC_TIME
 
__LC_TIME


	)

38 
	#LC_COLLATE
 
__LC_COLLATE


	)

39 
	#LC_MONETARY
 
__LC_MONETARY


	)

40 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

41 
	#LC_ALL
 
__LC_ALL


	)

42 
	#LC_PAPER
 
__LC_PAPER


	)

43 
	#LC_NAME
 
__LC_NAME


	)

44 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

45 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

46 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

47 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

50 
__BEGIN_NAMESPACE_STD


53 
	slcÚv


57 *
	mdecim®_pošt
;

58 *
	mthou§nds_£p
;

64 *
	mgroupšg
;

70 *
	mšt_cu¼_symbŞ
;

71 *
	mcu¼’cy_symbŞ
;

72 *
	mmÚ_decim®_pošt
;

73 *
	mmÚ_thou§nds_£p
;

74 *
	mmÚ_groupšg
;

75 *
	mpos™ive_sign
;

76 *
	mÃg©ive_sign
;

77 
	mšt_äac_dig™s
;

78 
	mäac_dig™s
;

80 
	mp_cs_´eûdes
;

82 
	mp_£p_by_¥aû
;

84 
	mn_cs_´eûdes
;

86 
	mn_£p_by_¥aû
;

93 
	mp_sign_po¢
;

94 
	mn_sign_po¢
;

95 #ifdeà
__USE_ISOC99


97 
	mšt_p_cs_´eûdes
;

99 
	mšt_p_£p_by_¥aû
;

101 
	mšt_n_cs_´eûdes
;

103 
	mšt_n_£p_by_¥aû
;

110 
	mšt_p_sign_po¢
;

111 
	mšt_n_sign_po¢
;

113 
	m__št_p_cs_´eûdes
;

114 
	m__št_p_£p_by_¥aû
;

115 
	m__št_n_cs_´eûdes
;

116 
	m__št_n_£p_by_¥aû
;

117 
	m__št_p_sign_po¢
;

118 
	m__št_n_sign_po¢
;

124 *
	$£oÿË
 (
__ÿ‹gÜy
, cÚ¡ *
__loÿË
è
__THROW
;

127 
lcÚv
 *
	$loÿËcÚv
 (è
__THROW
;

129 
__END_NAMESPACE_STD


132 #ifdef 
__USE_XOPEN2K8


145 
	~<xloÿË.h
>

151 
__loÿË_t
 
	$ÃwloÿË
 (
__ÿ‹gÜy_mask
, cÚ¡ *
__loÿË
,

152 
__loÿË_t
 
__ba£
è
__THROW
;

158 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

159 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

160 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

161 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

162 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

163 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

164 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

165 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

166 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

167 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

168 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

169 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

170 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

171 | 
LC_NUMERIC_MASK
 \

172 | 
LC_TIME_MASK
 \

173 | 
LC_COLLATE_MASK
 \

174 | 
LC_MONETARY_MASK
 \

175 | 
LC_MESSAGES_MASK
 \

176 | 
LC_PAPER_MASK
 \

177 | 
LC_NAME_MASK
 \

178 | 
LC_ADDRESS_MASK
 \

179 | 
LC_TELEPHONE_MASK
 \

180 | 
LC_MEASUREMENT_MASK
 \

181 | 
LC_IDENTIFICATION_MASK
 \

182 )

	)

186 
__loÿË_t
 
	$du¶oÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

190 
	$ä“loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

197 
__loÿË_t
 
	$u£loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

201 
	#LC_GLOBAL_LOCALE
 ((
__loÿË_t
è-1L)

	)

205 
__END_DECLS


	@/usr/include/netinet/in.h

18 #iâdef 
_NETINET_IN_H


19 
	#_NETINET_IN_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<¡dšt.h
>

23 
	~<sys/sock‘.h
>

24 
	~<b™s/ty³s.h
>

27 
__BEGIN_DECLS


30 
ušt32_t
 
	tš_addr_t
;

31 
	sš_addr


33 
š_addr_t
 
	ms_addr
;

37 
	~<b™s/š.h
>

42 
	mIPPROTO_IP
 = 0,

43 
	#IPPROTO_IP
 
IPPROTO_IP


	)

44 
	mIPPROTO_ICMP
 = 1,

45 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

46 
	mIPPROTO_IGMP
 = 2,

47 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

48 
	mIPPROTO_IPIP
 = 4,

49 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

50 
	mIPPROTO_TCP
 = 6,

51 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

52 
	mIPPROTO_EGP
 = 8,

53 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

54 
	mIPPROTO_PUP
 = 12,

55 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

56 
	mIPPROTO_UDP
 = 17,

57 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

58 
	mIPPROTO_IDP
 = 22,

59 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

60 
	mIPPROTO_TP
 = 29,

61 
	#IPPROTO_TP
 
IPPROTO_TP


	)

62 
	mIPPROTO_DCCP
 = 33,

63 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

64 
	mIPPROTO_IPV6
 = 41,

65 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

66 
	mIPPROTO_RSVP
 = 46,

67 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

68 
	mIPPROTO_GRE
 = 47,

69 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

70 
	mIPPROTO_ESP
 = 50,

71 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

72 
	mIPPROTO_AH
 = 51,

73 
	#IPPROTO_AH
 
IPPROTO_AH


	)

74 
	mIPPROTO_MTP
 = 92,

75 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

76 
	mIPPROTO_BEETPH
 = 94,

77 
	#IPPROTO_BEETPH
 
IPPROTO_BEETPH


	)

78 
	mIPPROTO_ENCAP
 = 98,

79 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

80 
	mIPPROTO_PIM
 = 103,

81 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

82 
	mIPPROTO_COMP
 = 108,

83 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

84 
	mIPPROTO_SCTP
 = 132,

85 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

86 
	mIPPROTO_UDPLITE
 = 136,

87 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

88 
	mIPPROTO_RAW
 = 255,

89 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

90 
	mIPPROTO_MAX


96 #iâdeà
__USE_KERNEL_IPV6_DEFS


99 
	mIPPROTO_HOPOPTS
 = 0,

100 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

101 
	mIPPROTO_ROUTING
 = 43,

102 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

103 
	mIPPROTO_FRAGMENT
 = 44,

104 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

105 
	mIPPROTO_ICMPV6
 = 58,

106 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

107 
	mIPPROTO_NONE
 = 59,

108 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

109 
	mIPPROTO_DSTOPTS
 = 60,

110 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

111 
	mIPPROTO_MH
 = 135

112 
	#IPPROTO_MH
 
IPPROTO_MH


	)

117 
ušt16_t
 
	tš_pÜt_t
;

122 
	mIPPORT_ECHO
 = 7,

123 
	mIPPORT_DISCARD
 = 9,

124 
	mIPPORT_SYSTAT
 = 11,

125 
	mIPPORT_DAYTIME
 = 13,

126 
	mIPPORT_NETSTAT
 = 15,

127 
	mIPPORT_FTP
 = 21,

128 
	mIPPORT_TELNET
 = 23,

129 
	mIPPORT_SMTP
 = 25,

130 
	mIPPORT_TIMESERVER
 = 37,

131 
	mIPPORT_NAMESERVER
 = 42,

132 
	mIPPORT_WHOIS
 = 43,

133 
	mIPPORT_MTP
 = 57,

135 
	mIPPORT_TFTP
 = 69,

136 
	mIPPORT_RJE
 = 77,

137 
	mIPPORT_FINGER
 = 79,

138 
	mIPPORT_TTYLINK
 = 87,

139 
	mIPPORT_SUPDUP
 = 95,

142 
	mIPPORT_EXECSERVER
 = 512,

143 
	mIPPORT_LOGINSERVER
 = 513,

144 
	mIPPORT_CMDSERVER
 = 514,

145 
	mIPPORT_EFSSERVER
 = 520,

148 
	mIPPORT_BIFFUDP
 = 512,

149 
	mIPPORT_WHOSERVER
 = 513,

150 
	mIPPORT_ROUTESERVER
 = 520,

153 
	mIPPORT_RESERVED
 = 1024,

156 
	mIPPORT_USERRESERVED
 = 5000

164 
	#IN_CLASSA
(
a
è((((
š_addr_t
)×)è& 0x80000000è=ğ0)

	)

165 
	#IN_CLASSA_NET
 0xff000000

	)

166 
	#IN_CLASSA_NSHIFT
 24

	)

167 
	#IN_CLASSA_HOST
 (0xfffffffà& ~
IN_CLASSA_NET
)

	)

168 
	#IN_CLASSA_MAX
 128

	)

170 
	#IN_CLASSB
(
a
è((((
š_addr_t
)×)è& 0xc0000000è=ğ0x80000000)

	)

171 
	#IN_CLASSB_NET
 0xffff0000

	)

172 
	#IN_CLASSB_NSHIFT
 16

	)

173 
	#IN_CLASSB_HOST
 (0xfffffffà& ~
IN_CLASSB_NET
)

	)

174 
	#IN_CLASSB_MAX
 65536

	)

176 
	#IN_CLASSC
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xc0000000)

	)

177 
	#IN_CLASSC_NET
 0xffffff00

	)

178 
	#IN_CLASSC_NSHIFT
 8

	)

179 
	#IN_CLASSC_HOST
 (0xfffffffà& ~
IN_CLASSC_NET
)

	)

181 
	#IN_CLASSD
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xe0000000)

	)

182 
	#IN_MULTICAST
(
a
è
	`IN_CLASSD
×)

	)

184 
	#IN_EXPERIMENTAL
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xe0000000)

	)

185 
	#IN_BADCLASS
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xf0000000)

	)

188 
	#INADDR_ANY
 ((
š_addr_t
è0x00000000)

	)

190 
	#INADDR_BROADCAST
 ((
š_addr_t
è0xffffffff)

	)

192 
	#INADDR_NONE
 ((
š_addr_t
è0xffffffff)

	)

195 
	#IN_LOOPBACKNET
 127

	)

197 #iâdeà
INADDR_LOOPBACK


198 
	#INADDR_LOOPBACK
 ((
š_addr_t
è0x7f000001è

	)

202 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
è0xe0000000è

	)

203 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
è0xe0000001è

	)

204 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
è0xe0000002è

	)

205 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
è0xe00000ffè

	)

207 #iâdeà
__USE_KERNEL_IPV6_DEFS


209 
	sš6_addr


213 
ušt8_t
 
	m__u6_addr8
[16];

214 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


215 
ušt16_t
 
	m__u6_addr16
[8];

216 
ušt32_t
 
	m__u6_addr32
[4];

218 } 
	m__š6_u
;

219 
	#s6_addr
 
__š6_u
.
__u6_addr8


	)

220 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


221 
	#s6_addr16
 
__š6_u
.
__u6_addr16


	)

222 
	#s6_addr32
 
__š6_u
.
__u6_addr32


	)

227 cÚ¡ 
š6_addr
 
š6addr_ªy
;

228 cÚ¡ 
š6_addr
 
š6addr_loİback
;

229 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

230 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

232 
	#INET_ADDRSTRLEN
 16

	)

233 
	#INET6_ADDRSTRLEN
 46

	)

237 
	ssockaddr_š


239 
__SOCKADDR_COMMON
 (
sš_
);

240 
š_pÜt_t
 
	msš_pÜt
;

241 
š_addr
 
	msš_addr
;

244 
	msš_z”o
[ (
sockaddr
) -

245 
__SOCKADDR_COMMON_SIZE
 -

246  (
š_pÜt_t
) -

247  (
š_addr
)];

250 #iâdeà
__USE_KERNEL_IPV6_DEFS


252 
	ssockaddr_š6


254 
__SOCKADDR_COMMON
 (
sš6_
);

255 
š_pÜt_t
 
	msš6_pÜt
;

256 
ušt32_t
 
	msš6_æowšfo
;

257 
š6_addr
 
	msš6_addr
;

258 
ušt32_t
 
	msš6_scİe_id
;

262 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


264 
	s_m»q


267 
š_addr
 
	mimr_muÉŸddr
;

270 
š_addr
 
	mimr_š‹rçû
;

273 
	s_m»q_sourû


276 
š_addr
 
	mimr_muÉŸddr
;

279 
š_addr
 
	mimr_š‹rçû
;

282 
š_addr
 
	mimr_sourûaddr
;

286 #iâdeà
__USE_KERNEL_IPV6_DEFS


288 
	sv6_m»q


291 
š6_addr
 
	mv6mr_muÉŸddr
;

294 
	mv6mr_š‹rçû
;

298 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


300 
	sgroup_»q


303 
ušt32_t
 
	mgr_š‹rçû
;

306 
sockaddr_¡Üage
 
	mgr_group
;

309 
	sgroup_sourû_»q


312 
ušt32_t
 
	mg¤_š‹rçû
;

315 
sockaddr_¡Üage
 
	mg¤_group
;

318 
sockaddr_¡Üage
 
	mg¤_sourû
;

323 
	s_msf‹r


326 
š_addr
 
	mimsf_muÉŸddr
;

329 
š_addr
 
	mimsf_š‹rçû
;

332 
ušt32_t
 
	mimsf_fmode
;

335 
ušt32_t
 
	mimsf_num¤c
;

337 
š_addr
 
	mimsf_¦i¡
[1];

340 
	#IP_MSFILTER_SIZE
(
num¤c
è( (
_msf‹r
) \

341 -  (
š_addr
) \

342 + (
num¤c
è*  (
š_addr
))

	)

344 
	sgroup_f‹r


347 
ušt32_t
 
	mgf_š‹rçû
;

350 
sockaddr_¡Üage
 
	mgf_group
;

353 
ušt32_t
 
	mgf_fmode
;

356 
ušt32_t
 
	mgf_num¤c
;

358 
sockaddr_¡Üage
 
	mgf_¦i¡
[1];

361 
	#GROUP_FILTER_SIZE
(
num¤c
è( (
group_f‹r
) \

362 -  (
sockaddr_¡Üage
) \

363 + ((
num¤c
) \

364 *  (
sockaddr_¡Üage
)))

	)

374 
ušt32_t
 
	$Áohl
 (
ušt32_t
 
__ÃÚg
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

375 
ušt16_t
 
	$Áohs
 (
ušt16_t
 
__ÃtshÜt
)

376 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

377 
ušt32_t
 
	$htÚl
 (
ušt32_t
 
__ho¡lÚg
)

378 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

379 
ušt16_t
 
	$htÚs
 (
ušt16_t
 
__ho¡shÜt
)

380 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

382 
	~<’dŸn.h
>

385 
	~<b™s/by‹sw­.h
>

387 #ifdeà
__OPTIMIZE__


391 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


394 
	#Áohl
(
x
è(x)

	)

395 
	#Áohs
(
x
è(x)

	)

396 
	#htÚl
(
x
è(x)

	)

397 
	#htÚs
(
x
è(x)

	)

399 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


400 
	#Áohl
(
x
è
	`__bsw­_32
 (x)

	)

401 
	#Áohs
(
x
è
	`__bsw­_16
 (x)

	)

402 
	#htÚl
(
x
è
	`__bsw­_32
 (x)

	)

403 
	#htÚs
(
x
è
	`__bsw­_16
 (x)

	)

408 #ifdeà
__GNUC__


409 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

410 (
__ex‹nsiÚ__
 \

411 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

412 
__a
->
s6_addr32
[0] == 0 \

413 && 
__a
->
s6_addr32
[1] == 0 \

414 && 
__a
->
s6_addr32
[2] == 0 \

415 && 
__a
->
s6_addr32
[3] =ğ0; 
	}
}))

	)

417 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

418 (
__ex‹nsiÚ__
 \

419 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

420 
__a
->
s6_addr32
[0] == 0 \

421 && 
__a
->
s6_addr32
[1] == 0 \

422 && 
__a
->
s6_addr32
[2] == 0 \

423 && 
__a
->
s6_addr32
[3] =ğ
	`htÚl
 (1); }))

	)

425 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

426 (
__ex‹nsiÚ__
 \

427 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

428 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xã800000); }))

	)

430 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

431 (
__ex‹nsiÚ__
 \

432 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

433 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xãc00000); }))

	)

435 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

436 (
__ex‹nsiÚ__
 \

437 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

438 
__a
->
s6_addr32
[0] == 0 \

439 && 
__a
->
s6_addr32
[1] == 0 \

440 && 
__a
->
s6_addr32
[2] =ğ
	`htÚl
 (0xffff); }))

	)

442 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

443 (
__ex‹nsiÚ__
 \

444 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

445 
__a
->
s6_addr32
[0] == 0 \

446 && 
__a
->
s6_addr32
[1] == 0 \

447 && 
__a
->
s6_addr32
[2] == 0 \

448 && 
	`Áohl
 (
__a
->
s6_addr32
[3]è> 1; }))

	)

450 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

451 (
__ex‹nsiÚ__
 \

452 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

453 cÚ¡ 
š6_addr
 *
__b
 = (cÚ¡ š6_add¸*è(
b
); \

454 
__a
->
s6_addr32
[0] =ğ
__b
->s6_addr32[0] \

455 && 
__a
->
s6_addr32
[1] =ğ
__b
->s6_addr32[1] \

456 && 
__a
->
s6_addr32
[2] =ğ
__b
->s6_addr32[2] \

457 && 
__a
->
s6_addr32
[3] =ğ
__b
->s6_addr32[3]; }))

	)

459 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

460 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

461 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

462 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

463 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ0)

	)

465 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

466 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

467 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

468 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

469 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ
	`htÚl
 (1))

	)

471 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

472 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

473 =ğ
	`htÚl
 (0xã800000))

	)

475 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

476 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

477 =ğ
	`htÚl
 (0xãc00000))

	)

479 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

480 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

481 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

482 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ
	`htÚl
 (0xffff)))

	)

484 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

485 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

486 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

487 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0) \

488 && (
	`Áohl
 (((cÚ¡ 
ušt32_t
 *è(
a
))[3]è> 1))

	)

490 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

491 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[0]) \

492 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[1]) \

493 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[2]) \

494 && (((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[3]))

	)

497 
	#IN6_IS_ADDR_MULTICAST
(
a
è(((cÚ¡ 
ušt8_t
 *è×))[0] =ğ0xff)

	)

499 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


501 
	$bšd»svpÜt
 (
__sockfd
, 
sockaddr_š
 *
__sock_š
è
__THROW
;

504 
	$bšd»svpÜt6
 (
__sockfd
, 
sockaddr_š6
 *
__sock_š
)

505 
__THROW
;

509 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

510 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

511 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x1))

	)

513 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

514 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

515 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x2))

	)

517 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

518 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

519 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x5))

	)

521 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

522 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

523 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x8))

	)

525 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

526 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

527 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0xe))

	)

530 #ifdeà
__USE_GNU


531 
cmsghdr
;

534 
	sš6_pktšfo


536 
š6_addr
 
i6_addr
;

537 
i6_ifšdex
;

541 
	s6_mtušfo


543 
sockaddr_š6
 
6m_addr
;

544 
ušt32_t
 
6m_mtu
;

549 
	$š‘6_İtiÚ_¥aû
 (
__nby‹s
)

550 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

551 
	$š‘6_İtiÚ_š™
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

552 
__ty³
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

553 
	$š‘6_İtiÚ_­³nd
 (
cmsghdr
 *
__cmsg
,

554 cÚ¡ 
ušt8_t
 *
__ty³p
, 
__muÉx
,

555 
__¶usy
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

556 
ušt8_t
 *
	$š‘6_İtiÚ_®loc
 (
cmsghdr
 *
__cmsg
, 
__d©®’
,

557 
__muÉx
, 
__¶usy
)

558 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

559 
	$š‘6_İtiÚ_Ãxt
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

560 
ušt8_t
 **
__Œp
)

561 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

562 
	$š‘6_İtiÚ_fšd
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

563 
ušt8_t
 **
__Œp
, 
__ty³
)

564 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

568 
	$š‘6_İt_š™
 (*
__extbuf
, 
sockËn_t
 
__ex’
è
__THROW
;

569 
	$š‘6_İt_­³nd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

570 
ušt8_t
 
__ty³
, 
sockËn_t
 
__Ën
, ušt8_ˆ
__®ign
,

571 **
__d©abuå
è
__THROW
;

572 
	$š‘6_İt_fšish
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
)

573 
__THROW
;

574 
	$š‘6_İt_£t_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

575 
sockËn_t
 
__v®Ën
è
__THROW
;

576 
	$š‘6_İt_Ãxt
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

577 
ušt8_t
 *
__ty³p
, 
sockËn_t
 *
__ËÅ
,

578 **
__d©abuå
è
__THROW
;

579 
	$š‘6_İt_fšd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

580 
ušt8_t
 
__ty³
, 
sockËn_t
 *
__ËÅ
,

581 **
__d©abuå
è
__THROW
;

582 
	$š‘6_İt_g‘_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

583 
sockËn_t
 
__v®Ën
è
__THROW
;

587 
sockËn_t
 
	$š‘6_¹h_¥aû
 (
__ty³
, 
__£gm’ts
è
__THROW
;

588 *
	$š‘6_¹h_š™
 (*
__bp
, 
sockËn_t
 
__bp_Ën
, 
__ty³
,

589 
__£gm’ts
è
__THROW
;

590 
	$š‘6_¹h_add
 (*
__bp
, cÚ¡ 
š6_addr
 *
__addr
è
__THROW
;

591 
	$š‘6_¹h_»v”£
 (cÚ¡ *
__š
, *
__out
è
__THROW
;

592 
	$š‘6_¹h_£gm’ts
 (cÚ¡ *
__bp
è
__THROW
;

593 
š6_addr
 *
	$š‘6_¹h_g‘addr
 (cÚ¡ *
__bp
, 
__šdex
)

594 
__THROW
;

600 
	$g‘v4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

601 
š_addr
 
__group
, 
ušt32_t
 *
__fmode
,

602 
ušt32_t
 *
__num¤c
, 
š_addr
 *
__¦i¡
)

603 
__THROW
;

606 
	$£tv4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

607 
š_addr
 
__group
, 
ušt32_t
 
__fmode
,

608 
ušt32_t
 
__num¤c
,

609 cÚ¡ 
š_addr
 *
__¦i¡
)

610 
__THROW
;

614 
	$g‘sourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

615 cÚ¡ 
sockaddr
 *
__group
,

616 
sockËn_t
 
__grou¶’
, 
ušt32_t
 *
__fmode
,

617 
ušt32_t
 *
__num¤c
,

618 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

621 
	$£tsourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

622 cÚ¡ 
sockaddr
 *
__group
,

623 
sockËn_t
 
__grou¶’
, 
ušt32_t
 
__fmode
,

624 
ušt32_t
 
__num¤c
,

625 cÚ¡ 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

628 
__END_DECLS


	@/usr/include/obstack.h

104 #iâdeà
_OBSTACK_H


105 
	#_OBSTACK_H
 1

	)

107 #ifdeà
__ılu¥lus


116 #ifdeà
__PTRDIFF_TYPE__


117 
	#PTR_INT_TYPE
 
__PTRDIFF_TYPE__


	)

119 
	~<¡ddef.h
>

120 
	#PTR_INT_TYPE
 
±rdiff_t


	)

127 
	#__BPTR_ALIGN
(
B
, 
P
, 
A
è((Bè+ (((Pè-(Bè+ (A)è& ~(A)))

	)

136 
	#__PTR_ALIGN
(
B
, 
P
, 
A
) \

137 
	`__BPTR_ALIGN
 ( (
PTR_INT_TYPE
è<  (*è? (
B
) : (*) 0, \

138 
P
, 
A
)

	)

140 
	~<¡ršg.h
>

142 
	s_ob¡ack_chunk


144 *
lim™
;

145 
_ob¡ack_chunk
 *
´ev
;

146 
cÚ‹Ás
[4];

149 
	sob¡ack


151 
chunk_size
;

152 
_ob¡ack_chunk
 *
chunk
;

153 *
objeù_ba£
;

154 *
Ãxt_ä“
;

155 *
chunk_lim™
;

158 
PTR_INT_TYPE
 
‹mpšt
;

159 *
‹mµŒ
;

160 } 
‹mp
;

161 
®ignm’t_mask
;

165 
_ob¡ack_chunk
 *(*
chunkfun
) (*, );

166 (*
ä“fun
è(*, 
_ob¡ack_chunk
 *);

167 *
exŒa_¬g
;

168 
u£_exŒa_¬g
 : 1;

169 
maybe_em±y_objeù
 : 1;

173 
®loc_çed
 : 1;

180 
_ob¡ack_Ãwchunk
 (
ob¡ack
 *, );

181 
_ob¡ack_begš
 (
ob¡ack
 *, , ,

183 
_ob¡ack_begš_1
 (
ob¡ack
 *, , ,

186 
_ob¡ack_memÜy_u£d
 (
ob¡ack
 *);

188 
ob¡ack_ä“
 (
ob¡ack
 *
__ob¡ack
, *
__glibc_block
);

195 (*
ob¡ack_®loc_çed_hªdËr
) ();

198 
ob¡ack_ex™_çu»
;

204 
	#ob¡ack_ba£
(
h
è((*è(h)->
objeù_ba£
)

	)

208 
	#ob¡ack_chunk_size
(
h
è((h)->
chunk_size
)

	)

212 
	#ob¡ack_Ãxt_ä“
(
h
è((h)->
Ãxt_ä“
)

	)

216 
	#ob¡ack_®ignm’t_mask
(
h
è((h)->
®ignm’t_mask
)

	)

219 
	#ob¡ack_š™
(
h
) \

220 
	`_ob¡ack_begš
 ((
h
), 0, 0, \

221 (*(*)())
ob¡ack_chunk_®loc
, \

222 ((*)(*))
ob¡ack_chunk_ä“
)

	)

224 
	#ob¡ack_begš
(
h
, 
size
) \

225 
	`_ob¡ack_begš
 ((
h
), (
size
), 0, \

226 (*(*)())
ob¡ack_chunk_®loc
, \

227 ((*)(*))
ob¡ack_chunk_ä“
)

	)

229 
	#ob¡ack_¥ecify_®loÿtiÚ
(
h
, 
size
, 
®ignm’t
, 
chunkfun
, 
ä“fun
) \

230 
	`_ob¡ack_begš
 ((
h
), (
size
), (
®ignm’t
), \

231 (*(*)())(
chunkfun
), \

232 ((*)(*))(
ä“fun
))

	)

234 
	#ob¡ack_¥ecify_®loÿtiÚ_w™h_¬g
(
h
, 
size
, 
®ignm’t
, 
chunkfun
, 
ä“fun
, 
¬g
) \

235 
	`_ob¡ack_begš_1
 ((
h
), (
size
), (
®ignm’t
), \

236 (*(*)(*, ))(
chunkfun
), \

237 ((*)(*, *))(
ä“fun
), (
¬g
))

	)

239 
	#ob¡ack_chunkfun
(
h
, 
Ãwchunkfun
) \

240 ((
h
)->
chunkfun
 = (
_ob¡ack_chunk
 *(*)(*, ))(
Ãwchunkfun
))

	)

242 
	#ob¡ack_ä“fun
(
h
, 
Ãwä“fun
) \

243 ((
h
)->
ä“fun
 = ((*)(*, 
_ob¡ack_chunk
 *))(
Ãwä“fun
))

	)

245 
	#ob¡ack_1grow_ç¡
(
h
, 
ach¬
è(*((h)->
Ãxt_ä“
)++ = (ach¬))

	)

247 
	#ob¡ack_bÏnk_ç¡
(
h
, 
n
è((h)->
Ãxt_ä“
 +ğÒ))

	)

249 
	#ob¡ack_memÜy_u£d
(
h
è
	`_ob¡ack_memÜy_u£d
 (h)

	)

251 #ià
defšed
 
__GNUC__


255 #ià
__GNUC__
 < 2 || (
__NeXT__
 && !
__GNUC_MINOR__
)

256 
	#__ex‹nsiÚ__


	)

264 
	#ob¡ack_objeù_size
(
OBSTACK
) \

265 
__ex‹nsiÚ__
 \

266 ({ 
ob¡ack
 cÚ¡ *
__o
 = (
OBSTACK
); \

267 (è(
__o
->
Ãxt_ä“
 - __o->
objeù_ba£
); })

	)

269 
	#ob¡ack_room
(
OBSTACK
) \

270 
__ex‹nsiÚ__
 \

271 ({ 
ob¡ack
 cÚ¡ *
__o
 = (
OBSTACK
); \

272 (è(
__o
->
chunk_lim™
 - __o->
Ãxt_ä“
); })

	)

274 
	#ob¡ack_make_room
(
OBSTACK
, 
Ëngth
) \

275 
__ex‹nsiÚ__
 \

276 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

277 
__Ën
 = (
Ëngth
); \

278 ià(
__o
->
chunk_lim™
 - __o->
Ãxt_ä“
 < 
__Ën
) \

279 
	`_ob¡ack_Ãwchunk
 (
__o
, 
__Ën
); \

280 (è0; })

	)

282 
	#ob¡ack_em±y_p
(
OBSTACK
) \

283 
__ex‹nsiÚ__
 \

284 ({ 
ob¡ack
 cÚ¡ *
__o
 = (
OBSTACK
); \

285 (
__o
->
chunk
->
´ev
 == 0 \

286 && 
__o
->
Ãxt_ä“
 =ğ
	`__PTR_ALIGN
 ((*è__o->
chunk
, \

287 
__o
->
chunk
->
cÚ‹Ás
, \

288 
__o
->
®ignm’t_mask
)); })

	)

290 
	#ob¡ack_grow
(
OBSTACK
, 
wh”e
, 
Ëngth
) \

291 
__ex‹nsiÚ__
 \

292 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

293 
__Ën
 = (
Ëngth
); \

294 ià(
__o
->
Ãxt_ä“
 + 
__Ën
 > __o->
chunk_lim™
) \

295 
	`_ob¡ack_Ãwchunk
 (
__o
, 
__Ën
); \

296 
	`memıy
 (
__o
->
Ãxt_ä“
, 
wh”e
, 
__Ën
); \

297 
__o
->
Ãxt_ä“
 +ğ
__Ën
; \

298 (è0; })

	)

300 
	#ob¡ack_grow0
(
OBSTACK
, 
wh”e
, 
Ëngth
) \

301 
__ex‹nsiÚ__
 \

302 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

303 
__Ën
 = (
Ëngth
); \

304 ià(
__o
->
Ãxt_ä“
 + 
__Ën
 + 1 > __o->
chunk_lim™
) \

305 
	`_ob¡ack_Ãwchunk
 (
__o
, 
__Ën
 + 1); \

306 
	`memıy
 (
__o
->
Ãxt_ä“
, 
wh”e
, 
__Ën
); \

307 
__o
->
Ãxt_ä“
 +ğ
__Ën
; \

308 *(
__o
->
Ãxt_ä“
)++ = 0; \

309 (è0; })

	)

311 
	#ob¡ack_1grow
(
OBSTACK
, 
d©um
) \

312 
__ex‹nsiÚ__
 \

313 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

314 ià(
__o
->
Ãxt_ä“
 + 1 > __o->
chunk_lim™
) \

315 
	`_ob¡ack_Ãwchunk
 (
__o
, 1); \

316 
	`ob¡ack_1grow_ç¡
 (
__o
, 
d©um
); \

317 (è0; })

	)

323 
	#ob¡ack_±r_grow
(
OBSTACK
, 
d©um
) \

324 
__ex‹nsiÚ__
 \

325 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

326 ià(
__o
->
Ãxt_ä“
 +  (*è> __o->
chunk_lim™
) \

327 
	`_ob¡ack_Ãwchunk
 (
__o
,  (*)); \

328 
	`ob¡ack_±r_grow_ç¡
 (
__o
, 
d©um
); }) \

329 

	)

330 
	#ob¡ack_št_grow
(
OBSTACK
, 
d©um
) \

331 
__ex‹nsiÚ__
 \

332 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

333 ià(
__o
->
Ãxt_ä“
 +  (è> __o->
chunk_lim™
) \

334 
	`_ob¡ack_Ãwchunk
 (
__o
,  ()); \

335 
	`ob¡ack_št_grow_ç¡
 (
__o
, 
d©um
); })

	)

337 
	#ob¡ack_±r_grow_ç¡
(
OBSTACK
, 
­Œ
) \

338 
__ex‹nsiÚ__
 \

339 ({ 
ob¡ack
 *
__o1
 = (
OBSTACK
); \

340 *(cÚ¡ **è
__o1
->
Ãxt_ä“
 = (
­Œ
); \

341 
__o1
->
Ãxt_ä“
 +=  (const *); \

342 (è0; })

	)

344 
	#ob¡ack_št_grow_ç¡
(
OBSTACK
, 
ašt
) \

345 
__ex‹nsiÚ__
 \

346 ({ 
ob¡ack
 *
__o1
 = (
OBSTACK
); \

347 *(*è
__o1
->
Ãxt_ä“
 = (
ašt
); \

348 
__o1
->
Ãxt_ä“
 +=  (); \

349 (è0; })

	)

351 
	#ob¡ack_bÏnk
(
OBSTACK
, 
Ëngth
) \

352 
__ex‹nsiÚ__
 \

353 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

354 
__Ën
 = (
Ëngth
); \

355 ià(
__o
->
chunk_lim™
 - __o->
Ãxt_ä“
 < 
__Ën
) \

356 
	`_ob¡ack_Ãwchunk
 (
__o
, 
__Ën
); \

357 
	`ob¡ack_bÏnk_ç¡
 (
__o
, 
__Ën
); \

358 (è0; })

	)

360 
	#ob¡ack_®loc
(
OBSTACK
, 
Ëngth
) \

361 
__ex‹nsiÚ__
 \

362 ({ 
ob¡ack
 *
__h
 = (
OBSTACK
); \

363 
	`ob¡ack_bÏnk
 (
__h
, (
Ëngth
)); \

364 
	`ob¡ack_fšish
 (
__h
); })

	)

366 
	#ob¡ack_cİy
(
OBSTACK
, 
wh”e
, 
Ëngth
) \

367 
__ex‹nsiÚ__
 \

368 ({ 
ob¡ack
 *
__h
 = (
OBSTACK
); \

369 
	`ob¡ack_grow
 (
__h
, (
wh”e
), (
Ëngth
)); \

370 
	`ob¡ack_fšish
 (
__h
); })

	)

372 
	#ob¡ack_cİy0
(
OBSTACK
, 
wh”e
, 
Ëngth
) \

373 
__ex‹nsiÚ__
 \

374 ({ 
ob¡ack
 *
__h
 = (
OBSTACK
); \

375 
	`ob¡ack_grow0
 (
__h
, (
wh”e
), (
Ëngth
)); \

376 
	`ob¡ack_fšish
 (
__h
); })

	)

380 
	#ob¡ack_fšish
(
OBSTACK
) \

381 
__ex‹nsiÚ__
 \

382 ({ 
ob¡ack
 *
__o1
 = (
OBSTACK
); \

383 *
__v®ue
 = (*è
__o1
->
objeù_ba£
; \

384 ià(
__o1
->
Ãxt_ä“
 =ğ
__v®ue
) \

385 
__o1
->
maybe_em±y_objeù
 = 1; \

386 
__o1
->
Ãxt_ä“
 \

387 ğ
	`__PTR_ALIGN
 (
__o1
->
objeù_ba£
, __o1->
Ãxt_ä“
, \

388 
__o1
->
®ignm’t_mask
); \

389 ià(
__o1
->
Ãxt_ä“
 - (*è__o1->
chunk
 \

390 > 
__o1
->
chunk_lim™
 - (*è__o1->
chunk
) \

391 
__o1
->
Ãxt_ä“
 = __o1->
chunk_lim™
; \

392 
__o1
->
objeù_ba£
 = __o1->
Ãxt_ä“
; \

393 
__v®ue
; })

	)

395 
	#ob¡ack_ä“
(
OBSTACK
, 
OBJ
) \

396 
__ex‹nsiÚ__
 \

397 ({ 
ob¡ack
 *
__o
 = (
OBSTACK
); \

398 *
__obj
 = (
OBJ
); \

399 ià(
__obj
 > (*è
__o
->
chunk
 && __obj < (*è__o->
chunk_lim™
) \

400 
__o
->
Ãxt_ä“
 = __o->
objeù_ba£
 = (*è
__obj
; \

401 (
ob¡ack_ä“
è(
__o
, 
__obj
); })

	)

405 
	#ob¡ack_objeù_size
(
h
) \

406 (è((
h
)->
Ãxt_ä“
 - (h)->
objeù_ba£
)

	)

408 
	#ob¡ack_room
(
h
) \

409 (è((
h
)->
chunk_lim™
 - (h)->
Ãxt_ä“
)

	)

411 
	#ob¡ack_em±y_p
(
h
) \

412 ((
h
)->
chunk
->
´ev
 == 0 \

413 && (
h
)->
Ãxt_ä“
 =ğ
	`__PTR_ALIGN
 ((*è(h)->
chunk
, \

414 (
h
)->
chunk
->
cÚ‹Ás
, \

415 (
h
)->
®ignm’t_mask
))

	)

423 
	#ob¡ack_make_room
(
h
, 
Ëngth
) \

424 ((
h
)->
‹mp
.
‹mpšt
 = (
Ëngth
), \

425 (((
h
)->
Ãxt_ä“
 + (h)->
‹mp
.
‹mpšt
 > (h)->
chunk_lim™
) \

426 ? (
	`_ob¡ack_Ãwchunk
 ((
h
), (h)->
‹mp
.
‹mpšt
), 0è: 0))

	)

428 
	#ob¡ack_grow
(
h
, 
wh”e
, 
Ëngth
) \

429 ((
h
)->
‹mp
.
‹mpšt
 = (
Ëngth
), \

430 (((
h
)->
Ãxt_ä“
 + (h)->
‹mp
.
‹mpšt
 > (h)->
chunk_lim™
) \

431 ? (
	`_ob¡ack_Ãwchunk
 ((
h
), (h)->
‹mp
.
‹mpšt
), 0) : 0), \

432 
	`memıy
 ((
h
)->
Ãxt_ä“
, 
wh”e
, (h)->
‹mp
.
‹mpšt
), \

433 (
h
)->
Ãxt_ä“
 +ğ(h)->
‹mp
.
‹mpšt
)

	)

435 
	#ob¡ack_grow0
(
h
, 
wh”e
, 
Ëngth
) \

436 ((
h
)->
‹mp
.
‹mpšt
 = (
Ëngth
), \

437 (((
h
)->
Ãxt_ä“
 + (h)->
‹mp
.
‹mpšt
 + 1 > (h)->
chunk_lim™
) \

438 ? (
	`_ob¡ack_Ãwchunk
 ((
h
), (h)->
‹mp
.
‹mpšt
 + 1), 0) : 0), \

439 
	`memıy
 ((
h
)->
Ãxt_ä“
, 
wh”e
, (h)->
‹mp
.
‹mpšt
), \

440 (
h
)->
Ãxt_ä“
 +ğ(h)->
‹mp
.
‹mpšt
, \

441 *((
h
)->
Ãxt_ä“
)++ = 0)

	)

443 
	#ob¡ack_1grow
(
h
, 
d©um
) \

444 ((((
h
)->
Ãxt_ä“
 + 1 > (h)->
chunk_lim™
) \

445 ? (
	`_ob¡ack_Ãwchunk
 ((
h
), 1), 0) : 0), \

446 
	`ob¡ack_1grow_ç¡
 (
h
, 
d©um
))

	)

448 
	#ob¡ack_±r_grow
(
h
, 
d©um
) \

449 ((((
h
)->
Ãxt_ä“
 +  (*è> (h)->
chunk_lim™
) \

450 ? (
	`_ob¡ack_Ãwchunk
 ((
h
),  (*)), 0) : 0), \

451 
	`ob¡ack_±r_grow_ç¡
 (
h
, 
d©um
))

	)

453 
	#ob¡ack_št_grow
(
h
, 
d©um
) \

454 ((((
h
)->
Ãxt_ä“
 +  (è> (h)->
chunk_lim™
) \

455 ? (
	`_ob¡ack_Ãwchunk
 ((
h
),  ()), 0) : 0), \

456 
	`ob¡ack_št_grow_ç¡
 (
h
, 
d©um
))

	)

458 
	#ob¡ack_±r_grow_ç¡
(
h
, 
­Œ
) \

459 (((cÚ¡ **è((
h
)->
Ãxt_ä“
 +ğ (*)))[-1] = (
­Œ
))

	)

461 
	#ob¡ack_št_grow_ç¡
(
h
, 
ašt
) \

462 (((*è((
h
)->
Ãxt_ä“
 +ğ ()))[-1] = (
ašt
))

	)

464 
	#ob¡ack_bÏnk
(
h
, 
Ëngth
) \

465 ((
h
)->
‹mp
.
‹mpšt
 = (
Ëngth
), \

466 (((
h
)->
chunk_lim™
 - (h)->
Ãxt_ä“
 < (h)->
‹mp
.
‹mpšt
) \

467 ? (
	`_ob¡ack_Ãwchunk
 ((
h
), (h)->
‹mp
.
‹mpšt
), 0) : 0), \

468 
	`ob¡ack_bÏnk_ç¡
 (
h
, (h)->
‹mp
.
‹mpšt
))

	)

470 
	#ob¡ack_®loc
(
h
, 
Ëngth
) \

471 (
	`ob¡ack_bÏnk
 ((
h
), (
Ëngth
)), 
	`ob¡ack_fšish
 ((h)))

	)

473 
	#ob¡ack_cİy
(
h
, 
wh”e
, 
Ëngth
) \

474 (
	`ob¡ack_grow
 ((
h
), (
wh”e
), (
Ëngth
)), 
	`ob¡ack_fšish
 ((h)))

	)

476 
	#ob¡ack_cİy0
(
h
, 
wh”e
, 
Ëngth
) \

477 (
	`ob¡ack_grow0
 ((
h
), (
wh”e
), (
Ëngth
)), 
	`ob¡ack_fšish
 ((h)))

	)

479 
	#ob¡ack_fšish
(
h
) \

480 (((
h
)->
Ãxt_ä“
 =ğ(h)->
objeù_ba£
 \

481 ? (((
h
)->
maybe_em±y_objeù
 = 1), 0) \

483 (
h
)->
‹mp
.
‹mµŒ
 = (h)->
objeù_ba£
, \

484 (
h
)->
Ãxt_ä“
 \

485 ğ
	`__PTR_ALIGN
 ((
h
)->
objeù_ba£
, (h)->
Ãxt_ä“
, \

486 (
h
)->
®ignm’t_mask
), \

487 (((
h
)->
Ãxt_ä“
 - (*è(h)->
chunk
 \

488 > (
h
)->
chunk_lim™
 - (*è(h)->
chunk
) \

489 ? ((
h
)->
Ãxt_ä“
 = (h)->
chunk_lim™
) : 0), \

490 (
h
)->
objeù_ba£
 = (h)->
Ãxt_ä“
, \

491 (
h
)->
‹mp
.
‹mµŒ
)

	)

493 
	#ob¡ack_ä“
(
h
, 
obj
) \

494 ((
h
)->
‹mp
.
‹mpšt
 = (*è(
obj
è- (*è(h)->
chunk
, \

495 ((((
h
)->
‹mp
.
‹mpšt
 > 0 \

496 && (
h
)->
‹mp
.
‹mpšt
 < (h)->
chunk_lim™
 - (*è(h)->
chunk
)) \

497 ? (((
h
)->
Ãxt_ä“
 = (h)->
objeù_ba£
 \

498 ğ(
h
)->
‹mp
.
‹mpšt
 + (*è(h)->
chunk
), 0) \

499 : ((
ob¡ack_ä“
è((
h
), (h)->
‹mp
.
‹mpšt
 + (*è(h)->
chunk
), 0)))

	)

502 #ifdeà
__ılu¥lus


	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifdeà
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifdeà
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


86 #ià
__PTHREAD_MUTEX_HAVE_ELISION
 == 1

87 
	#__PTHREAD_SPINS
 0, 0

	)

88 #–ià
__PTHREAD_MUTEX_HAVE_ELISION
 == 2

89 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

91 
	#__PTHREAD_SPINS
 0

	)

94 #ifdeà
__PTHREAD_MUTEX_HAVE_PREV


95 
	#PTHREAD_MUTEX_INITIALIZER
 \

96 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

97 #ifdeà
__USE_GNU


98 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

100 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

101 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

102 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

103 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

104 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

105 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

109 
	#PTHREAD_MUTEX_INITIALIZER
 \

110 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

111 #ifdeà
__USE_GNU


112 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

113 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

114 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

115 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

116 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

117 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

124 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


127 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

128 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

129 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

130 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


136 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


137 #ià
__WORDSIZE
 == 64

138 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

143 
	#PTHREAD_RWLOCK_INITIALIZER
 \

144 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

145 #ifdeà
__USE_GNU


146 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


147 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

149 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

151 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


152 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

153 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

154 0, 0, 0, 0 } }

	)

156 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

157 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

158 0 } }

	)

168 
	mPTHREAD_INHERIT_SCHED
,

169 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

170 
	mPTHREAD_EXPLICIT_SCHED


171 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

178 
	mPTHREAD_SCOPE_SYSTEM
,

179 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

180 
	mPTHREAD_SCOPE_PROCESS


181 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

188 
	mPTHREAD_PROCESS_PRIVATE
,

189 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

190 
	mPTHREAD_PROCESS_SHARED


191 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

197 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

201 
	s_±h»ad_ş—nup_bufãr


203 (*
	m__routše
) (*);

204 *
	m__¬g
;

205 
	m__ÿnûÉy³
;

206 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

212 
	mPTHREAD_CANCEL_ENABLE
,

213 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

214 
	mPTHREAD_CANCEL_DISABLE


215 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

219 
	mPTHREAD_CANCEL_DEFERRED
,

220 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

221 
	mPTHREAD_CANCEL_ASYNCHRONOUS


222 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

224 
	#PTHREAD_CANCELED
 ((*è-1)

	)

228 
	#PTHREAD_ONCE_INIT
 0

	)

231 #ifdeà
__USE_XOPEN2K


235 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

239 
__BEGIN_DECLS


244 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

245 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

246 *(*
__¡¬t_routše
) (*),

247 *
__»¡riù
 
__¬g
è
__THROWNL
 
__nÚnuÎ
 ((1, 3));

253 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

261 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

263 #ifdeà
__USE_GNU


266 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

274 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

275 cÚ¡ 
time¥ec
 *
__ab¡ime
);

282 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

286 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

289 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

290 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

298 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

301 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

302 
__THROW
 
	`__nÚnuÎ
 ((1));

305 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

306 *
__d‘ach¡©e
)

307 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

310 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

311 
__d‘ach¡©e
)

312 
__THROW
 
	`__nÚnuÎ
 ((1));

316 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

317 
size_t
 *
__gu¬dsize
)

318 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

321 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

322 
size_t
 
__gu¬dsize
)

323 
__THROW
 
	`__nÚnuÎ
 ((1));

327 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

328 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

329 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

332 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

333 cÚ¡ 
sched_·¿m
 *
__»¡riù


334 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

337 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


338 
__©Œ
, *
__»¡riù
 
__pŞicy
)

339 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

342 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

343 
__THROW
 
	`__nÚnuÎ
 ((1));

346 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


347 
__©Œ
, *
__»¡riù
 
__šh”™
)

348 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

351 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

352 
__šh”™
)

353 
__THROW
 
	`__nÚnuÎ
 ((1));

357 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

358 *
__»¡riù
 
__scİe
)

359 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

362 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

363 
__THROW
 
	`__nÚnuÎ
 ((1));

366 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


367 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

368 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

374 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

375 *
__¡ackaddr
)

376 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

379 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


380 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

381 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

386 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

387 
size_t
 
__¡acksize
)

388 
__THROW
 
	`__nÚnuÎ
 ((1));

390 #ifdeà
__USE_XOPEN2K


392 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

393 **
__»¡riù
 
__¡ackaddr
,

394 
size_t
 *
__»¡riù
 
__¡acksize
)

395 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

400 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

401 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

404 #ifdeà
__USE_GNU


407 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

408 
size_t
 
__ıu£tsize
,

409 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

410 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

414 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

415 
size_t
 
__ıu£tsize
,

416 
ıu_£t_t
 *
__ıu£t
)

417 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

420 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

421 
__THROW
 
	`__nÚnuÎ
 ((1));

425 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

426 
__THROW
 
	`__nÚnuÎ
 ((1));

431 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

441 cÚ¡ 
sched_·¿m
 *
__·¿m
)

442 
__THROW
 
	`__nÚnuÎ
 ((3));

445 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

446 *
__»¡riù
 
__pŞicy
,

447 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

448 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

451 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

452 
__THROW
;

455 #ifdeà
__USE_GNU


457 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

458 
size_t
 
__buæ’
)

459 
__THROW
 
	`__nÚnuÎ
 ((2));

462 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

463 
__THROW
 
	`__nÚnuÎ
 ((2));

467 #ifdeà
__USE_UNIX98


469 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

472 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

475 #ifdeà
__USE_GNU


480 
	$±h»ad_y›ld
 (è
__THROW
;

485 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

486 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

487 
__THROW
 
	`__nÚnuÎ
 ((3));

490 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

491 
ıu_£t_t
 *
__ıu£t
)

492 
__THROW
 
	`__nÚnuÎ
 ((3));

505 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

506 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

517 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

521 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

524 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

529 
	`±h»ad_‹¡ÿnûl
 ();

538 
__jmp_buf
 
__ÿnûl_jmp_buf
;

539 
__mask_was_§ved
;

540 } 
__ÿnûl_jmp_buf
[1];

541 *
__·d
[4];

542 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

545 #iâdeà
__ş—nup_fù_©Œibu‹


546 
	#__ş—nup_fù_©Œibu‹


	)

551 
	s__±h»ad_ş—nup_äame


553 (*
__ÿnûl_routše
) (*);

554 *
__ÿnûl_¬g
;

555 
__do_™
;

556 
__ÿnûl_ty³
;

559 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


560 #ifdeà
__ılu¥lus


562 şas 
	c__±h»ad_ş—nup_şass


564 (*
__ÿnûl_routše
) (*);

565 *
__ÿnûl_¬g
;

566 
__do_™
;

567 
__ÿnûl_ty³
;

569 
public
:

570 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

571 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

572 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

573 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

574 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

575 &
__ÿnûl_ty³
); 
	}
}

576 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

586 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

588 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

592 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

593 
__şäame
.
	`__£tdo™
 (
execu‹
); \

594 } 0)

	)

596 #ifdeà
__USE_GNU


600 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

602 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

603 
__şäame
.
	`__deãr
 ()

	)

608 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

609 
__şäame
.
	`__»¡Üe
 (); \

610 
__şäame
.
	`__£tdo™
 (
execu‹
); \

611 } 0)

	)

618 
__ex‹º_šlše
 

619 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

621 ià(
__äame
->
__do_™
)

622 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

623 
	}
}

632 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

634 
__±h»ad_ş—nup_äame
 
__şäame
 \

635 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

636 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

637 .
__do_™
 = 1 };

	)

641 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

642 
__şäame
.
__do_™
 = (
execu‹
); \

643 } 0)

	)

645 #ifdeà
__USE_GNU


649 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

651 
__±h»ad_ş—nup_äame
 
__şäame
 \

652 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

653 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

654 .
__do_™
 = 1 }; \

655 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

656 &
__şäame
.
__ÿnûl_ty³
)

	)

661 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

662 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

663 
__şäame
.
__do_™
 = (
execu‹
); \

664 } 0)

	)

675 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

677 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

678 (*
__ÿnûl_routše
è(*èğ(
routše
); \

679 *
__ÿnûl_¬g
 = (
¬g
); \

680 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

681 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

682 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

684 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

685 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

689 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

690 dØ{

	)

691 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

692 
__ş—nup_fù_©Œibu‹
;

696 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

699 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

700 ià(
execu‹
) \

701 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

702 } 0)

	)

703 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

704 
__ş—nup_fù_©Œibu‹
;

706 #ifdeà
__USE_GNU


710 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

712 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

713 (*
__ÿnûl_routše
è(*èğ(
routše
); \

714 *
__ÿnûl_¬g
 = (
¬g
); \

715 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

716 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

717 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

719 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

720 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

724 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

725 dØ{

	)

726 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

727 
__ş—nup_fù_©Œibu‹
;

732 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

735 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

736 ià(
execu‹
) \

737 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

738 
	}
} 0)

	)

739 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

740 
__ş—nup_fù_©Œibu‹
;

744 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

745 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

746 #iâdeà
SHARED


747 
	`__©Œibu‹__
 ((
__w—k__
))

753 
__jmp_buf_g
;

754 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

760 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

761 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

762 
__THROW
 
	`__nÚnuÎ
 ((1));

765 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

766 
__THROW
 
	`__nÚnuÎ
 ((1));

769 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

770 
__THROWNL
 
	`__nÚnuÎ
 ((1));

773 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

774 
__THROWNL
 
	`__nÚnuÎ
 ((1));

776 #ifdeà
__USE_XOPEN2K


778 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

779 cÚ¡ 
time¥ec
 *
__»¡riù


780 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

784 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

785 
__THROWNL
 
	`__nÚnuÎ
 ((1));

789 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

790 
__»¡riù
 
__mu‹x
,

791 *
__»¡riù
 
__´ioûšg
)

792 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

796 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

797 
__´ioûšg
,

798 *
__»¡riù
 
__Şd_ûšg
)

799 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

802 #ifdeà
__USE_XOPEN2K8


804 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

805 
__THROW
 
	`__nÚnuÎ
 ((1));

806 #ifdeà
__USE_GNU


807 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

808 
__THROW
 
	`__nÚnuÎ
 ((1));

817 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

818 
__THROW
 
	`__nÚnuÎ
 ((1));

821 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

822 
__THROW
 
	`__nÚnuÎ
 ((1));

825 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

826 
__»¡riù
 
__©Œ
,

827 *
__»¡riù
 
__psh¬ed
)

828 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

831 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

832 
__psh¬ed
)

833 
__THROW
 
	`__nÚnuÎ
 ((1));

835 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


837 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


838 
__©Œ
, *
__»¡riù
 
__kšd
)

839 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

844 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

845 
__THROW
 
	`__nÚnuÎ
 ((1));

849 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

850 
__»¡riù
 
__©Œ
,

851 *
__»¡riù
 
__´ÙocŞ
)

852 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

856 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

857 
__´ÙocŞ
)

858 
__THROW
 
	`__nÚnuÎ
 ((1));

861 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

862 
__»¡riù
 
__©Œ
,

863 *
__»¡riù
 
__´ioûšg
)

864 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

867 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

868 
__´ioûšg
)

869 
__THROW
 
	`__nÚnuÎ
 ((1));

871 #ifdeà
__USE_XOPEN2K


873 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

874 *
__robu¡Ãss
)

875 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

876 #ifdeà
__USE_GNU


877 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

878 *
__robu¡Ãss
)

879 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

883 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

884 
__robu¡Ãss
)

885 
__THROW
 
	`__nÚnuÎ
 ((1));

886 #ifdeà
__USE_GNU


887 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

888 
__robu¡Ãss
)

889 
__THROW
 
	`__nÚnuÎ
 ((1));

894 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


899 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

900 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


901 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

904 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

905 
__THROW
 
	`__nÚnuÎ
 ((1));

908 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

909 
__THROWNL
 
	`__nÚnuÎ
 ((1));

912 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

913 
__THROWNL
 
	`__nÚnuÎ
 ((1));

915 #ifdeà
__USE_XOPEN2K


917 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

918 cÚ¡ 
time¥ec
 *
__»¡riù


919 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

923 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

924 
__THROWNL
 
	`__nÚnuÎ
 ((1));

927 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

928 
__THROWNL
 
	`__nÚnuÎ
 ((1));

930 #ifdeà
__USE_XOPEN2K


932 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

933 cÚ¡ 
time¥ec
 *
__»¡riù


934 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

938 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

939 
__THROWNL
 
	`__nÚnuÎ
 ((1));

945 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

946 
__THROW
 
	`__nÚnuÎ
 ((1));

949 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

950 
__THROW
 
	`__nÚnuÎ
 ((1));

953 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

954 
__»¡riù
 
__©Œ
,

955 *
__»¡riù
 
__psh¬ed
)

956 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

959 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

960 
__psh¬ed
)

961 
__THROW
 
	`__nÚnuÎ
 ((1));

964 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

965 
__»¡riù
 
__©Œ
,

966 *
__»¡riù
 
__´ef
)

967 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

970 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

971 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

979 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

980 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

981 
__THROW
 
	`__nÚnuÎ
 ((1));

984 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

985 
__THROW
 
	`__nÚnuÎ
 ((1));

988 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

989 
__THROWNL
 
	`__nÚnuÎ
 ((1));

992 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

993 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1000 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1001 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

1002 
	`__nÚnuÎ
 ((1, 2));

1011 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1012 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1013 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1014 
	`__nÚnuÎ
 ((1, 2, 3));

1019 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1020 
__THROW
 
	`__nÚnuÎ
 ((1));

1023 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1024 
__THROW
 
	`__nÚnuÎ
 ((1));

1027 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1028 
__»¡riù
 
__©Œ
,

1029 *
__»¡riù
 
__psh¬ed
)

1030 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1033 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1034 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1036 #ifdeà
__USE_XOPEN2K


1038 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1039 
__»¡riù
 
__©Œ
,

1040 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1041 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1044 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1045 
__şockid_t
 
__şock_id
)

1046 
__THROW
 
	`__nÚnuÎ
 ((1));

1050 #ifdeà
__USE_XOPEN2K


1055 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1056 
__THROW
 
	`__nÚnuÎ
 ((1));

1059 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1060 
__THROW
 
	`__nÚnuÎ
 ((1));

1063 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1064 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1067 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1068 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1071 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1072 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1079 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1080 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1081 
__©Œ
, 
__couÁ
)

1082 
__THROW
 
	`__nÚnuÎ
 ((1));

1085 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1086 
__THROW
 
	`__nÚnuÎ
 ((1));

1089 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1090 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1094 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1095 
__THROW
 
	`__nÚnuÎ
 ((1));

1098 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1099 
__THROW
 
	`__nÚnuÎ
 ((1));

1102 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1103 
__»¡riù
 
__©Œ
,

1104 *
__»¡riù
 
__psh¬ed
)

1105 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1108 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1109 
__psh¬ed
)

1110 
__THROW
 
	`__nÚnuÎ
 ((1));

1122 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1123 (*
__de¡r_funùiÚ
) (*))

1124 
__THROW
 
	`__nÚnuÎ
 ((1));

1127 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1130 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1133 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1134 cÚ¡ *
__poš‹r
è
__THROW
 ;

1137 #ifdeà
__USE_XOPEN2K


1139 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1140 
__şockid_t
 *
__şock_id
)

1141 
__THROW
 
	`__nÚnuÎ
 ((2));

1156 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1157 (*
__·»Á
) (),

1158 (*
__chd
è()è
__THROW
;

1161 #ifdeà
__USE_EXTERN_INLINES


1163 
__ex‹º_šlše
 

1164 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1166  
__th»ad1
 =ğ
__th»ad2
;

1167 
	}
}

1170 
	g__END_DECLS


	@/usr/include/pwd.h

22 #iâdef 
_PWD_H


23 
	#_PWD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 
	#__Ãed_size_t


	)

32 
	~<¡ddef.h
>

34 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


37 #iâdeà
__gid_t_defšed


38 
__gid_t
 
	tgid_t
;

39 
	#__gid_t_defšed


	)

42 #iâdeà
__uid_t_defšed


43 
__uid_t
 
	tuid_t
;

44 
	#__uid_t_defšed


	)

49 
	s·sswd


51 *
	mpw_Çme
;

52 *
	mpw_·sswd
;

53 
__uid_t
 
	mpw_uid
;

54 
__gid_t
 
	mpw_gid
;

55 *
	mpw_gecos
;

56 *
	mpw_dœ
;

57 *
	mpw_sh–l
;

61 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_GNU


62 
	#__Ãed_FILE


	)

63 
	~<¡dio.h
>

67 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


72 
£w’t
 ();

78 
’dpw’t
 ();

84 
·sswd
 *
g‘pw’t
 ();

87 #ifdef 
__USE_SVID


94 
·sswd
 *
fg‘pw’t
 (
FILE
 *
__¡»am
);

102 
puw’t
 (cÚ¡ 
·sswd
 *
__»¡riù
 
__p
,

103 
FILE
 *
__»¡riù
 
__f
);

110 
·sswd
 *
g‘pwuid
 (
__uid_t
 
__uid
);

116 
·sswd
 *
g‘pwÇm
 (cÚ¡ *
__Çme
);

118 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


120 #ifdeà
__USE_MISC


123 
	#NSS_BUFLEN_PASSWD
 1024

	)

134 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


139 
g‘pw’t_r
 (
·sswd
 *
__»¡riù
 
__»suÉbuf
,

140 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

141 
·sswd
 **
__»¡riù
 
__»suÉ
);

144 
g‘pwuid_r
 (
__uid_t
 
__uid
,

145 
·sswd
 *
__»¡riù
 
__»suÉbuf
,

146 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

147 
·sswd
 **
__»¡riù
 
__»suÉ
);

149 
g‘pwÇm_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

150 
·sswd
 *
__»¡riù
 
__»suÉbuf
,

151 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

152 
·sswd
 **
__»¡riù
 
__»suÉ
);

155 #ifdef 
__USE_SVID


163 
fg‘pw’t_r
 (
FILE
 *
__»¡riù
 
__¡»am
,

164 
·sswd
 *
__»¡riù
 
__»suÉbuf
,

165 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
,

166 
·sswd
 **
__»¡riù
 
__»suÉ
);

171 #ifdeà
__USE_GNU


180 
g‘pw
 (
__uid_t
 
__uid
, *
__bufãr
);

183 
	g__END_DECLS


	@/usr/include/regex.h

20 #iâdeà
_REGEX_H


21 
	#_REGEX_H
 1

	)

23 
	~<sys/ty³s.h
>

24 
	~<gnu/İtiÚ-groups.h
>

27 #ifdeà
__ılu¥lus


35 
	ts_»g_t
;

36 
	taùive_»g_t
;

43 
	t»g_syÁax_t
;

45 #ifdeà
__USE_GNU


48 
	#RE_BACKSLASH_ESCAPE_IN_LISTS
 ((è1)

	)

53 
	#RE_BK_PLUS_QM
 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 << 1)

	)

59 
	#RE_CHAR_CLASSES
 (
RE_BK_PLUS_QM
 << 1)

	)

73 
	#RE_CONTEXT_INDEP_ANCHORS
 (
RE_CHAR_CLASSES
 << 1)

	)

81 
	#RE_CONTEXT_INDEP_OPS
 (
RE_CONTEXT_INDEP_ANCHORS
 << 1)

	)

85 
	#RE_CONTEXT_INVALID_OPS
 (
RE_CONTEXT_INDEP_OPS
 << 1)

	)

89 
	#RE_DOT_NEWLINE
 (
RE_CONTEXT_INVALID_OPS
 << 1)

	)

93 
	#RE_DOT_NOT_NULL
 (
RE_DOT_NEWLINE
 << 1)

	)

97 
	#RE_HAT_LISTS_NOT_NEWLINE
 (
RE_DOT_NOT_NULL
 << 1)

	)

102 
	#RE_INTERVALS
 (
RE_HAT_LISTS_NOT_NEWLINE
 << 1)

	)

106 
	#RE_LIMITED_OPS
 (
RE_INTERVALS
 << 1)

	)

110 
	#RE_NEWLINE_ALT
 (
RE_LIMITED_OPS
 << 1)

	)

115 
	#RE_NO_BK_BRACES
 (
RE_NEWLINE_ALT
 << 1)

	)

119 
	#RE_NO_BK_PARENS
 (
RE_NO_BK_BRACES
 << 1)

	)

123 
	#RE_NO_BK_REFS
 (
RE_NO_BK_PARENS
 << 1)

	)

127 
	#RE_NO_BK_VBAR
 (
RE_NO_BK_REFS
 << 1)

	)

133 
	#RE_NO_EMPTY_RANGES
 (
RE_NO_BK_VBAR
 << 1)

	)

137 
	#RE_UNMATCHED_RIGHT_PAREN_ORD
 (
RE_NO_EMPTY_RANGES
 << 1)

	)

141 
	#RE_NO_POSIX_BACKTRACKING
 (
RE_UNMATCHED_RIGHT_PAREN_ORD
 << 1)

	)

145 
	#RE_NO_GNU_OPS
 (
RE_NO_POSIX_BACKTRACKING
 << 1)

	)

153 
	#RE_DEBUG
 (
RE_NO_GNU_OPS
 << 1)

	)

158 
	#RE_INVALID_INTERVAL_ORD
 (
RE_DEBUG
 << 1)

	)

161 #ifdeà
__OPTION_POSIX_REGEXP_GLIBC


164 
	#RE_ICASE
 (
RE_INVALID_INTERVAL_ORD
 << 1)

	)

169 
	#RE_CARET_ANCHORS_HERE
 (
RE_ICASE
 << 1)

	)

173 
	#RE_CONTEXT_INVALID_DUP
 (
RE_CARET_ANCHORS_HERE
 << 1)

	)

177 
	#RE_NO_SUB
 (
RE_CONTEXT_INVALID_DUP
 << 1)

	)

185 
»g_syÁax_t
 
»_syÁax_İtiÚs
;

187 #ifdeà
__USE_GNU


192 
	#RE_SYNTAX_EMACS
 0

	)

194 
	#RE_SYNTAX_AWK
 \

195 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 | 
RE_DOT_NOT_NULL
 \

196 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

197 | 
RE_NO_BK_VBAR
 | 
RE_NO_EMPTY_RANGES
 \

198 | 
RE_DOT_NEWLINE
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

199 | 
RE_CHAR_CLASSES
 \

200 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
 | 
RE_NO_GNU_OPS
)

	)

202 
	#RE_SYNTAX_GNU_AWK
 \

203 ((
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

204 | 
RE_INVALID_INTERVAL_ORD
) \

205 & ~(
RE_DOT_NOT_NULL
 | 
RE_CONTEXT_INDEP_OPS
 \

206 | 
RE_CONTEXT_INVALID_OPS
 ))

	)

208 
	#RE_SYNTAX_POSIX_AWK
 \

209 (
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

210 | 
RE_INTERVALS
 | 
RE_NO_GNU_OPS
 \

211 | 
RE_INVALID_INTERVAL_ORD
)

	)

213 
	#RE_SYNTAX_GREP
 \

214 (
RE_BK_PLUS_QM
 | 
RE_CHAR_CLASSES
 \

215 | 
RE_HAT_LISTS_NOT_NEWLINE
 | 
RE_INTERVALS
 \

216 | 
RE_NEWLINE_ALT
)

	)

218 
	#RE_SYNTAX_EGREP
 \

219 (
RE_CHAR_CLASSES
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

220 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_HAT_LISTS_NOT_NEWLINE
 \

221 | 
RE_NEWLINE_ALT
 | 
RE_NO_BK_PARENS
 \

222 | 
RE_NO_BK_VBAR
)

	)

224 
	#RE_SYNTAX_POSIX_EGREP
 \

225 (
RE_SYNTAX_EGREP
 | 
RE_INTERVALS
 | 
RE_NO_BK_BRACES
 \

226 | 
RE_INVALID_INTERVAL_ORD
)

	)

229 
	#RE_SYNTAX_ED
 
RE_SYNTAX_POSIX_BASIC


	)

231 
	#RE_SYNTAX_SED
 
RE_SYNTAX_POSIX_BASIC


	)

234 
	#_RE_SYNTAX_POSIX_COMMON
 \

235 (
RE_CHAR_CLASSES
 | 
RE_DOT_NEWLINE
 | 
RE_DOT_NOT_NULL
 \

236 | 
RE_INTERVALS
 | 
RE_NO_EMPTY_RANGES
)

	)

238 #ifdeà
__OPTION_POSIX_REGEXP_GLIBC


239 
	#RE_SYNTAX_POSIX_BASIC
 \

240 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
 | 
RE_CONTEXT_INVALID_DUP
)

	)

242 
	#RE_SYNTAX_POSIX_BASIC
 \

243 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
)

	)

249 
	#RE_SYNTAX_POSIX_MINIMAL_BASIC
 \

250 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_LIMITED_OPS
)

	)

252 
	#RE_SYNTAX_POSIX_EXTENDED
 \

253 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

254 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_NO_BK_BRACES
 \

255 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_VBAR
 \

256 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

260 
	#RE_SYNTAX_POSIX_MINIMAL_EXTENDED
 \

261 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

262 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_NO_BK_BRACES
 \

263 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

264 | 
RE_NO_BK_VBAR
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

270 #ifdeà
RE_DUP_MAX


271 #undeà
RE_DUP_MAX


274 
	#RE_DUP_MAX
 (0x7fff)

	)

282 
	#REG_EXTENDED
 1

	)

286 
	#REG_ICASE
 (
REG_EXTENDED
 << 1)

	)

291 
	#REG_NEWLINE
 (
REG_ICASE
 << 1)

	)

295 
	#REG_NOSUB
 (
REG_NEWLINE
 << 1)

	)

305 
	#REG_NOTBOL
 1

	)

308 
	#REG_NOTEOL
 (1 << 1)

	)

310 #ifdeà
__OPTION_POSIX_REGEXP_GLIBC


313 
	#REG_STARTEND
 (1 << 2)

	)

321 #ià
defšed
 
_XOPEN_SOURCE
 || defšed 
__USE_XOPEN2K


322 
	gREG_ENOSYS
 = -1,

325 
	gREG_NOERROR
 = 0,

326 
	gREG_NOMATCH
,

330 
	gREG_BADPAT
,

331 
	gREG_ECOLLATE
,

332 
	gREG_ECTYPE
,

333 
	gREG_EESCAPE
,

334 
	gREG_ESUBREG
,

335 
	gREG_EBRACK
,

336 
	gREG_EPAREN
,

337 
	gREG_EBRACE
,

338 
	gREG_BADBR
,

339 
	gREG_ERANGE
,

340 
	gREG_ESPACE
,

341 
	gREG_BADRPT
,

344 
	gREG_EEND
,

345 
	gREG_ESIZE
,

346 
	gREG_ERPAREN


347 } 
	t»g_”rcode_t
;

355 #iâdeà
RE_TRANSLATE_TYPE


356 
	#__RE_TRANSLATE_TYPE
 *

	)

357 #ifdeà
__USE_GNU


358 
	#RE_TRANSLATE_TYPE
 
__RE_TRANSLATE_TYPE


	)

362 #ifdeà
__USE_GNU


363 
	#__REPB_PREFIX
(
Çme
è
	)
name

365 
	#__REPB_PREFIX
(
Çme
è
__
##
	)
name

368 
	s»_·‰”n_bufãr


373 *
__REPB_PREFIX
(
bufãr
);

376 
__REPB_PREFIX
(
®loÿ‹d
);

379 
__REPB_PREFIX
(
u£d
);

382 
»g_syÁax_t
 
__REPB_PREFIX
(
syÁax
);

387 *
__REPB_PREFIX
(
ç¡m­
);

393 
__RE_TRANSLATE_TYPE
 
__REPB_PREFIX
(
Œª¦©e
);

396 
size_t
 
	g»_nsub
;

402 
__REPB_PREFIX
(
ÿn_be_nuÎ
) : 1;

408 #ifdeà
__USE_GNU


409 
	#REGS_UNALLOCATED
 0

	)

410 
	#REGS_REALLOCATE
 1

	)

411 
	#REGS_FIXED
 2

	)

413 
__REPB_PREFIX
(
»gs_®loÿ‹d
) : 2;

417 
__REPB_PREFIX
(
ç¡m­_accu¿‹
) : 1;

421 
__REPB_PREFIX
(
no_sub
) : 1;

425 
__REPB_PREFIX
(
nÙ_bŞ
) : 1;

428 
__REPB_PREFIX
(
nÙ_eŞ
) : 1;

431 
__REPB_PREFIX
(
Ãwlše_ªchÜ
) : 1;

434 
»_·‰”n_bufãr
 
	t»gex_t
;

437 
	t»goff_t
;

440 #ifdeà
__USE_GNU


443 
	s»_»gi¡”s


445 
	gnum_»gs
;

446 
»goff_t
 *
	g¡¬t
;

447 
»goff_t
 *
	g’d
;

454 #iâdeà
RE_NREGS


455 
	#RE_NREGS
 30

	)

465 
»goff_t
 
	grm_so
;

466 
»goff_t
 
	grm_eo
;

467 } 
	t»gm©ch_t
;

471 #ifdeà
__USE_GNU


474 
»g_syÁax_t
 
»_£t_syÁax
 (»g_syÁax_ˆ
__syÁax
);

484 cÚ¡ *
»_compe_·‰”n
 (cÚ¡ *
__·‰”n
, 
size_t
 
__Ëngth
,

485 
»_·‰”n_bufãr
 *
__bufãr
);

491 
»_compe_ç¡m­
 (
»_·‰”n_bufãr
 *
__bufãr
);

499 
»_£¬ch
 (
»_·‰”n_bufãr
 *
__bufãr
, cÚ¡ *
__¡ršg
,

500 
__Ëngth
, 
__¡¬t
, 
__¿nge
,

501 
»_»gi¡”s
 *
__»gs
);

506 
»_£¬ch_2
 (
»_·‰”n_bufãr
 *
__bufãr
,

507 cÚ¡ *
__¡ršg1
, 
__Ëngth1
,

508 cÚ¡ *
__¡ršg2
, 
__Ëngth2
, 
__¡¬t
,

509 
__¿nge
, 
»_»gi¡”s
 *
__»gs
, 
__¡İ
);

514 
»_m©ch
 (
»_·‰”n_bufãr
 *
__bufãr
, cÚ¡ *
__¡ršg
,

515 
__Ëngth
, 
__¡¬t
, 
»_»gi¡”s
 *
__»gs
);

519 
»_m©ch_2
 (
»_·‰”n_bufãr
 *
__bufãr
,

520 cÚ¡ *
__¡ršg1
, 
__Ëngth1
,

521 cÚ¡ *
__¡ršg2
, 
__Ëngth2
, 
__¡¬t
,

522 
»_»gi¡”s
 *
__»gs
, 
__¡İ
);

537 
»_£t_»gi¡”s
 (
»_·‰”n_bufãr
 *
__bufãr
,

538 
»_»gi¡”s
 *
__»gs
,

539 
__num_»gs
,

540 
»goff_t
 *
__¡¬ts
,„egoff_ˆ*
__’ds
);

543 #ià
defšed
 
_REGEX_RE_COMP
 || (defšed 
_LIBC
 && defšed 
__USE_BSD
)

544 #iâdeà
_CRAY


546 *
»_comp
 (const *);

547 
»_exec
 (const *);

553 #iâdeà
__»¡riù


554 #ià! (2 < 
__GNUC__
 || (2 =ğ__GNUC__ && 95 <ğ
__GNUC_MINOR__
))

555 #ià
defšed
 
»¡riù
 || 199901L <ğ
__STDC_VERSION__


556 
	#__»¡riù
 
»¡riù


	)

558 
	#__»¡riù


	)

563 #iâdeà
__»¡riù_¬r


564 #ià(
__GNUC__
 > 3 || (__GNUC__ =ğ3 && 
__GNUC_MINOR__
 >= 1)) \

565 && !
defšed
 
	g__GNUG__


566 
	#__»¡riù_¬r
 
__»¡riù


	)

568 
	#__»¡riù_¬r


	)

573 
»gcomp
 (
»gex_t
 *
__»¡riù
 
__´eg
,

574 cÚ¡ *
__»¡riù
 
__·‰”n
,

575 
__cæags
);

577 
»gexec
 (cÚ¡ 
»gex_t
 *
__»¡riù
 
__´eg
,

578 cÚ¡ *
__»¡riù
 
__¡ršg
, 
size_t
 
__nm©ch
,

579 
»gm©ch_t
 
__pm©ch
[
__»¡riù_¬r
],

580 
__eæags
);

582 
size_t
 
»g”rÜ
 (
__”rcode
, cÚ¡ 
»gex_t
 *
__»¡riù
 
__´eg
,

583 *
__»¡riù
 
__”rbuf
, 
size_t
 
__”rbuf_size
);

585 
»gä“
 (
»gex_t
 *
__´eg
);

588 #ifdeà
__ılu¥lus


	@/usr/include/setjmp.h

22 #iâdef 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/sig£t.h
>

34 
	s__jmp_buf_g


40 
__jmp_buf
 
	m__jmpbuf
;

41 
	m__mask_was_§ved
;

42 
__sig£t_t
 
	m__§ved_mask
;

46 
__BEGIN_NAMESPACE_STD


48 
__jmp_buf_g
 
	tjmp_buf
[1];

52 
	$£tjmp
 (
jmp_buf
 
__’v
è
__THROWNL
;

54 
__END_NAMESPACE_STD


59 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1], 
__§vemask
è
__THROWNL
;

63 
	$_£tjmp
 (
__jmp_buf_g
 
__’v
[1]è
__THROWNL
;

67 
	#£tjmp
(
’v
è
	`_£tjmp
 (’v)

	)

70 
__BEGIN_NAMESPACE_STD


74 
	$lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

75 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

77 
__END_NAMESPACE_STD


79 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


83 
	$_lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

84 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

88 #ifdef 
__USE_POSIX


92 
__jmp_buf_g
 
	tsigjmp_buf
[1];

96 
	#sig£tjmp
(
’v
, 
§vemask
è
	`__sig£tjmp
 (’v, savemask)

	)

102 
	$siglÚgjmp
 (
sigjmp_buf
 
__’v
, 
__v®
)

103 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

108 #ià
__USE_FORTIFY_LEVEL
 > 0

109 
	~<b™s/£tjmp2.h
>

112 
__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


24 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	~<b™s/sig£t.h
>

36 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


37 #iâdeà
__sig_©omic_t_defšed


38 
	#__sig_©omic_t_defšed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #undeà
__Ãed_sig_©omic_t


46 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

47 #iâdeà
__sig£t_t_defšed


48 
	#__sig£t_t_defšed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #undeà
__Ãed_sig£t_t


54 #ifdeà
_SIGNAL_H


56 
	~<b™s/ty³s.h
>

57 
	~<b™s/signum.h
>

59 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


60 #iâdeà
__pid_t_defšed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_defšed


	)

64 #ifdeà
__USE_XOPEN


66 #iâdeà
__uid_t_defšed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_defšed


	)

72 #ifdeà
__USE_POSIX199309


74 
	#__Ãed_time¥ec


	)

75 
	~<time.h
>

78 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


80 
	~<b™s/sigšfo.h
>

85 (*
	t__sighªdËr_t
) ();

90 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

91 
__THROW
;

92 #ifdeà
__USE_GNU


93 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifdeà
__USE_BSD


102 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

103 
__THROW
;

106 #ifdeà
__REDIRECT_NTH


107 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

108 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

109 
__sysv_sigÇl
);

111 
	#sigÇl
 
__sysv_sigÇl


	)

114 
__END_NAMESPACE_STD


116 #ifdeà
__USE_XOPEN


119 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

120 
__THROW
;

126 #ifdeà
__USE_POSIX


127 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

130 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


134 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$¿i£
 (
__sig
è
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifdeà
__USE_SVID


144 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

145 
__THROW
;

146 
	$gsigÇl
 (
__sig
è
__THROW
;

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K


151 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

154 #ifdeà
__USE_XOPEN2K


156 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

167 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

169 #ifdeà
__USE_XOPEN


170 #ifdeà
__GNUC__


171 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

174 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

179 #ifdeà
__USE_BSD


186 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

189 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

192 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

195 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

199 #ifdeà
__USE_MISC


200 
	#NSIG
 
_NSIG


	)

203 #ifdeà
__USE_GNU


204 
__sighªdËr_t
 
	tsighªdËr_t
;

208 #ifdeà
__USE_BSD


209 
__sighªdËr_t
 
	tsig_t
;

212 #ifdeà
__USE_POSIX


215 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

224 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

227 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

228 
__THROW
 
	`__nÚnuÎ
 ((1));

230 #ifdeà
__USE_GNU


232 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

235 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

236 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

239 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

240 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

245 
	~<b™s/sigaùiÚ.h
>

248 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

249 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

256 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

259 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

260 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

263 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

270 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

271 
	`__nÚnuÎ
 ((1, 2));

273 #ifdeà
__USE_POSIX199309


278 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

279 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

286 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

287 
sigšfo_t
 *
__»¡riù
 
__šfo
,

288 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

289 
	`__nÚnuÎ
 ((1));

293 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

294 
__THROW
;

299 #ifdeà
__USE_BSD


303 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

304 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

307 
	ssigvec


309 
__sighªdËr_t
 
sv_hªdËr
;

310 
sv_mask
;

312 
sv_æags
;

313 
	#sv_Ú¡ack
 
sv_æags


	)

317 
	#SV_ONSTACK
 (1 << 0)

	)

318 
	#SV_INTERRUPT
 (1 << 1)

	)

319 
	#SV_RESETHAND
 (1 << 2)

	)

327 
	$sigvec
 (
__sig
, cÚ¡ 
sigvec
 *
__vec
,

328 
sigvec
 *
__ovec
è
__THROW
;

332 
	~<b™s/sigcÚ‹xt.h
>

335 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

340 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


341 
	#__Ãed_size_t


	)

342 
	~<¡ddef.h
>

347 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

349 
	~<b™s/sig¡ack.h
>

350 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


352 
	~<sys/ucÚ‹xt.h
>

358 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

359 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

363 
	$sig®t¡ack
 (cÚ¡ 
sig®t¡ack
 *
__»¡riù
 
__ss
,

364 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

368 #ifdeà
__USE_XOPEN_EXTENDED


372 
	$sighŞd
 (
__sig
è
__THROW
;

375 
	$sig»l£
 (
__sig
è
__THROW
;

378 
	$sigignÜe
 (
__sig
è
__THROW
;

381 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

384 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


387 
	~<b™s/±h»adty³s.h
>

388 
	~<b™s/sigth»ad.h
>

395 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

397 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

401 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 
	#SIZE_MAX
 (4294967295U)

	)

267 #iâdeà
WCHAR_MIN


269 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

270 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

274 
	#WINT_MIN
 (0u)

	)

275 
	#WINT_MAX
 (4294967295u)

	)

278 
	#INT8_C
(
c
è
	)
c

279 
	#INT16_C
(
c
è
	)
c

280 
	#INT32_C
(
c
è
	)
c

281 #ià
__WORDSIZE
 == 64

282 
	#INT64_C
(
c
èø## 
L


	)

284 
	#INT64_C
(
c
èø## 
LL


	)

288 
	#UINT8_C
(
c
è
	)
c

289 
	#UINT16_C
(
c
è
	)
c

290 
	#UINT32_C
(
c
èø## 
U


	)

291 #ià
__WORDSIZE
 == 64

292 
	#UINT64_C
(
c
èø## 
UL


	)

294 
	#UINT64_C
(
c
èø## 
ULL


	)

298 #ià
__WORDSIZE
 == 64

299 
	#INTMAX_C
(
c
èø## 
L


	)

300 
	#UINTMAX_C
(
c
èø## 
UL


	)

302 
	#INTMAX_C
(
c
èø## 
LL


	)

303 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

868 
defšed
 
__USE_MISC
)

873 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

879 
	`pşo£
 (
FILE
 *
__¡»am
);

883 #ifdef 
__USE_POSIX


885 *
	$ù”mid
 (*
__s
è
__THROW
;

889 #ifdeà
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob¡ack
;

899 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

900 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

901 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

902 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

903 cÚ¡ *
__»¡riù
 
__fÜm©
,

904 
_G_va_li¡
 
__¬gs
)

905 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

909 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


913 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

917 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

920 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

923 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


927 
	#__Ãed_g‘İt


	)

928 
	~<g‘İt.h
>

933 #ifdeà
__USE_EXTERN_INLINES


934 
	~<b™s/¡dio.h
>

936 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


937 
	~<b™s/¡dio2.h
>

939 #ifdeà
__LDBL_COMPAT


940 
	~<b™s/¡dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_BSD


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_MISC


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_BSD


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_MISC


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_BSD


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

610 || 
defšed
 
__USE_XOPEN2K8


619 #iâdeà
__USE_FILE_OFFSET64


620 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

622 #ifdeà
__REDIRECT


623 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

624 
	`__nÚnuÎ
 ((1)è
__wur
;

626 
	#mk¡emp
 
mk¡emp64


	)

629 #ifdeà
__USE_LARGEFILE64


630 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

634 #ifdeà
__USE_MISC


641 #iâdeà
__USE_FILE_OFFSET64


642 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

644 #ifdeà
__REDIRECT


645 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

646 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

648 
	#mk¡emps
 
mk¡emps64


	)

651 #ifdeà
__USE_LARGEFILE64


652 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

653 
	`__nÚnuÎ
 ((1)è
__wur
;

657 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


663 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

666 #ifdeà
__USE_GNU


673 #iâdeà
__USE_FILE_OFFSET64


674 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

676 #ifdeà
__REDIRECT


677 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

678 
	`__nÚnuÎ
 ((1)è
__wur
;

680 
	#mko¡emp
 
mko¡emp64


	)

683 #ifdeà
__USE_LARGEFILE64


684 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

693 #iâdeà
__USE_FILE_OFFSET64


694 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

695 
	`__nÚnuÎ
 ((1)è
__wur
;

697 #ifdeà
__REDIRECT


698 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

699 
__æags
), 
mko¡emps64
)

700 
	`__nÚnuÎ
 ((1)è
__wur
;

702 
	#mko¡emps
 
mko¡emps64


	)

705 #ifdeà
__USE_LARGEFILE64


706 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

707 
	`__nÚnuÎ
 ((1)è
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

725 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

728 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


734 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

735 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

740 #iâdeà
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com·r_â_t
) (const *, const *);

744 #ifdef 
__USE_GNU


745 
__com·r_â_t
 
	tcom·risÚ_â_t
;

748 #ifdeà
__USE_GNU


749 (*
	t__com·r_d_â_t
) (const *, const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

756 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

757 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

759 #ifdeà
__USE_EXTERN_INLINES


760 
	~<b™s/¡dlib-b£¬ch.h
>

765 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

766 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

767 #ifdeà
__USE_GNU


768 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

769 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

770 
	`__nÚnuÎ
 ((1, 4));

775 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

777 
__END_NAMESPACE_STD


779 #ifdeà
__USE_ISOC99


780 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

781 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

785 
__BEGIN_NAMESPACE_STD


789 
div_t
 
	$div
 (
__num”
, 
__d’om
)

790 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

791 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

792 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

793 
__END_NAMESPACE_STD


795 #ifdeà
__USE_ISOC99


796 
__BEGIN_NAMESPACE_C99


797 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

798 
__d’om
)

799 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

800 
__END_NAMESPACE_C99


804 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

805 || 
defšed
 
__USE_SVID


812 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

813 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

818 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

819 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

824 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

825 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

828 #ifdeà
__USE_MISC


830 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

831 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

832 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

833 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

834 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

835 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

836 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

837 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

842 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

843 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

844 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

845 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

846 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

847 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

849 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

850 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

851 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

852 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

853 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

854 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

855 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

856 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

860 
__BEGIN_NAMESPACE_STD


863 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

866 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

867 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

870 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

874 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

875 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

877 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

878 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

879 
__THROW
;

880 
__END_NAMESPACE_STD


883 #ifdeà
__USE_SVID


888 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

892 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


899 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

900 *cÚ¡ *
__»¡riù
 
__tok’s
,

901 **
__»¡riù
 
__v®u•
)

902 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

906 #ifdeà
__USE_XOPEN


908 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

914 #ifdeà
__USE_XOPEN2KXSI


916 
	$posix_İ’±
 (
__oæag
è
__wur
;

919 #ifdeà
__USE_XOPEN


924 
	$g¿Á±
 (
__fd
è
__THROW
;

928 
	$uÆock±
 (
__fd
è
__THROW
;

933 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

936 #ifdeà
__USE_GNU


940 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

941 
__THROW
 
	`__nÚnuÎ
 ((2));

944 
	`g‘±
 ();

947 #ifdeà
__USE_BSD


951 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

952 
__THROW
 
	`__nÚnuÎ
 ((1));

955 
	~<b™s/¡dlib-æßt.h
>

958 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


959 
	~<b™s/¡dlib.h
>

961 #ifdeà
__LDBL_COMPAT


962 
	~<b™s/¡dlib-ldbl.h
>

966 #undeà
__Ãed_m®loc_ªd_ÿÎoc


968 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

39 #ià
defšed
 
__ılu¥lus
 && (__ılu¥lu >ğ199711L || 
__GNUC_PREREQ
 (4, 4))

40 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

44 
__BEGIN_NAMESPACE_STD


46 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

47 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

50 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

51 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 
__END_NAMESPACE_STD


57 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


58 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

59 
__c
, 
size_t
 
__n
)

60 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

64 
__BEGIN_NAMESPACE_STD


66 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

69 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

70 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

73 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


76 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

79 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ifdeà
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


91  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

94 
	}
}

96 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

99 
__END_NAMESPACE_STD


101 #ifdeà
__USE_GNU


104 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


105 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

107 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

108 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

110 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

111 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

115 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


116 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

118 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

119 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

122 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

127 
__BEGIN_NAMESPACE_STD


129 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

133 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

137 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

138 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

141 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

144 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

151 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

152 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

154 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

155 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

156 
__THROW
 
	`__nÚnuÎ
 ((2));

157 
__END_NAMESPACE_STD


159 #ifdeà
__USE_XOPEN2K8


163 
	~<xloÿË.h
>

166 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

169 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

170 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

173 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

174 || 
defšed
 
__USE_XOPEN2K8


176 *
	$¡rdup
 (cÚ¡ *
__s
)

177 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

183 #ià
defšed
 
__USE_XOPEN2K8


184 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

185 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

188 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


190 
	#¡rdu·
(
s
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

196 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

197 
	}
}))

	)

200 
	#¡ºdu·
(
s
, 
n
) \

201 (
__ex‹nsiÚ__
 \

203 cÚ¡ *
__Şd
 = (
s
); \

204 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

205 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

206 
__Ãw
[
__Ën
] = '\0'; \

207 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

208 }))

	)

211 
	g__BEGIN_NAMESPACE_STD


213 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


216 *
¡rchr
 (*
__s
, 
__c
)

217 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

218 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

219 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

221 #ifdeà
__OPTIMIZE__


222 
__ex‹º_®ways_šlše
 *

223 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


225  
__butš_¡rchr
 (
__s
, 
__c
);

228 
__ex‹º_®ways_šlše
 const *

229 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


231  
__butš_¡rchr
 (
__s
, 
__c
);

236 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

237 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

240 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


243 *
	`¡¼chr
 (*
__s
, 
__c
)

244 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

245 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

246 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

248 #ifdeà
__OPTIMIZE__


249 
__ex‹º_®ways_šlše
 *

250 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


252  
	`__butš_¡¼chr
 (
__s
, 
__c
);

255 
__ex‹º_®ways_šlše
 const *

256 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


258  
	`__butš_¡¼chr
 (
__s
, 
__c
);

261 
	}
}

263 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

264 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

266 
__END_NAMESPACE_STD


268 #ifdeà
__USE_GNU


271 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


272 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

273 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

274 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

275 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

278 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

282 
__BEGIN_NAMESPACE_STD


285 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

286 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

289 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

290 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

292 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


295 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

296 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

297 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

298 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

300 #ifdeà
__OPTIMIZE__


301 
__ex‹º_®ways_šlše
 *

302 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


304  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

307 
__ex‹º_®ways_šlše
 const *

308 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


310  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

313 
	}
}

315 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

316 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

319 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


322 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

323 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

324 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

325 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

327 #ifdeà
__OPTIMIZE__


328 
__ex‹º_®ways_šlše
 *

329 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


331  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

334 
__ex‹º_®ways_šlše
 const *

335 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


337  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

340 
	}
}

342 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

343 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

348 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

349 
__THROW
 
	`__nÚnuÎ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

355 cÚ¡ *
__»¡riù
 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

358 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


359 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

360 **
__»¡riù
 
__§ve_±r
)

361 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

364 #ifdeà
__USE_GNU


366 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

368 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

370 cÚ¡ *
__ÃedË
)

371 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

374 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

378 #ifdeà
__USE_GNU


382 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

383 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

384 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

388 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

389 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

390 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

391 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

392 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

393 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

400 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

407 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

414 
__END_NAMESPACE_STD


415 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


423 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


426 #ifdeà
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

428 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

429 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

431 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

433 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

438 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

439 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

443 #ifdeà
__USE_XOPEN2K8


445 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

451 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

453 #ifdeà
__USE_BSD


455 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

462 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

466 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`šdex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

471 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

474 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__ex‹º_®ways_šlše
 *

476 
	`šdex
 (*
__s
, 
__c
è
__THROW


478  
	`__butš_šdex
 (
__s
, 
__c
);

481 
__ex‹º_®ways_šlše
 const *

482 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


484  
	`__butš_šdex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

490 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`ršdex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

499 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

502 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__ex‹º_®ways_šlše
 *

504 
	`ršdex
 (*
__s
, 
__c
è
__THROW


506  
	`__butš_ršdex
 (
__s
, 
__c
);

509 
__ex‹º_®ways_šlše
 const *

510 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


512  
	`__butš_ršdex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

518 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

523 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

527 #ifdef 
__USE_GNU


528 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

530 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

534 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

535 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

538 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

539 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

542 #ifdef 
__USE_GNU


545 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

546 
__loÿË_t
 
__loc
)

547 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

549 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

550 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

551 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

554 #ifdef 
__USE_BSD


557 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

558 cÚ¡ *
__»¡riù
 
__d–im
)

559 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

562 #ifdef 
__USE_XOPEN2K8


564 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

567 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

570 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

574 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

575 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

578 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

582 #ifdef 
__USE_GNU


584 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

585 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

588 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

593 #iâdeà
ba£Çme


598 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


599 "C++" *
	$ba£Çme
 (*
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

601 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

602 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

604 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

610 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

611 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

612 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


632 
	~<b™s/¡ršg.h
>

635 
	~<b™s/¡ršg2.h
>

638 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


640 
	~<b™s/¡ršg3.h
>

644 
__END_DECLS


	@/usr/include/stropts.h

18 #iâdeà
_STROPTS_H


19 
	#_STROPTS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<b™s/ty³s.h
>

23 
	~<b™s/xt™y³s.h
>

25 #iâdeà
__gid_t_defšed


26 
__gid_t
 
	tgid_t
;

27 
	#__gid_t_defšed


	)

30 #iâdeà
__uid_t_defšed


31 
__uid_t
 
	tuid_t
;

32 
	#__uid_t_defšed


	)

35 
__t_sÿÏr_t
 
	tt_sÿÏr_t
;

36 
__t_usÿÏr_t
 
	tt_usÿÏr_t
;

39 
	~<b™s/¡rİts.h
>

42 
__BEGIN_DECLS


45 
	$i§¡»am
 (
__fdes
è
__THROW
;

51 
	`g‘msg
 (
__fdes
, 
¡rbuf
 *
__»¡riù
 
__ùÍŒ
,

52 
¡rbuf
 *
__»¡riù
 
__d©­Œ
,

53 *
__»¡riù
 
__æag¥
);

60 
	`g‘pmsg
 (
__fdes
, 
¡rbuf
 *
__»¡riù
 
__ùÍŒ
,

61 
¡rbuf
 *
__»¡riù
 
__d©­Œ
,

62 *
__»¡riù
 
__bªdp
, *__»¡riù 
__æag¥
);

67 
	$ioùl
 (
__fd
, 
__»que¡
, ...è
__THROW
;

73 
	`putmsg
 (
__fdes
, cÚ¡ 
¡rbuf
 *
__ùÍŒ
,

74 cÚ¡ 
¡rbuf
 *
__d©­Œ
, 
__æags
);

80 
	`pumsg
 (
__fdes
, cÚ¡ 
¡rbuf
 *
__ùÍŒ
,

81 cÚ¡ 
¡rbuf
 *
__d©­Œ
, 
__bªd
, 
__æags
);

85 
	$ç‰ach
 (
__fdes
, cÚ¡ *
__·th
è
__THROW
;

88 
	$fd‘ach
 (cÚ¡ *
__·th
è
__THROW
;

90 
__END_DECLS


	@/usr/include/termios.h

22 #iâdef 
_TERMIOS_H


23 
	#_TERMIOS_H
 1

	)

25 
	~<ã©u»s.h
>

26 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


28 
	~<b™s/ty³s.h
>

29 #iâdeà
__pid_t_defšed


30 
__pid_t
 
	tpid_t
;

31 
	#__pid_t_defšed


	)

35 
	g__BEGIN_DECLS


39 
	~<b™s/‹rmios.h
>

41 #ifdeà
__USE_BSD


44 
	#CCEQ
(
v®
, 
c
è((cè=ğ(v®è&& (v®è!ğ
_POSIX_VDISABLE
)

	)

48 
¥“d_t
 
	$cfg‘o¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

51 
¥“d_t
 
	$cfg‘i¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

54 
	$cf£to¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

57 
	$cf£ti¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

59 #ifdef 
__USE_BSD


61 
	$cf£t¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

66 
	$tcg‘©Œ
 (
__fd
, 
‹rmios
 *
__‹rmios_p
è
__THROW
;

70 
	$tc£‰r
 (
__fd
, 
__İtiÚ®_aùiÚs
,

71 cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

74 #ifdef 
__USE_BSD


76 
	$cfmak”aw
 (
‹rmios
 *
__‹rmios_p
è
__THROW
;

80 
	$tc£ndb»ak
 (
__fd
, 
__du¿tiÚ
è
__THROW
;

86 
	`tcd¿š
 (
__fd
);

90 
	$tcæush
 (
__fd
, 
__queue_£ËùÜ
è
__THROW
;

94 
	$tcæow
 (
__fd
, 
__aùiÚ
è
__THROW
;

97 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


99 
__pid_t
 
	$tcg‘sid
 (
__fd
è
__THROW
;

103 #ifdeà
__USE_BSD


104 
	~<sys/‰ydeçuÉs.h
>

107 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_SVID


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifdeà
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #–ià
defšed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #–ià
defšed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 #ifdeà
__USE_ATFILE


304 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

305 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

310 #iâdef 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifdeà
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #ià
defšed
 
__USE_BSD
 && !defšed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #iâdeà
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

336 #ifdeà
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifdeà
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

346 
__THROW
;

353 
	`şo£
 (
__fd
);

360 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

366 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

368 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


369 #iâdeà
__USE_FILE_OFFSET64


376 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

377 
__off_t
 
__off£t
è
__wur
;

384 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
è
__wur
;

387 #ifdeà
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

389 
__off64_t
 
__off£t
),

390 
´—d64
è
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

392 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

393 
pwr™e64
è
__wur
;

395 
	#´—d
 
´—d64


	)

396 
	#pwr™e
 
pwr™e64


	)

400 #ifdeà
__USE_LARGEFILE64


404 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
è
__wur
;

408 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
è
__wur
;

417 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

419 #ifdeà
__USE_GNU


422 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

432 
	$®¬m
 (
__£cÚds
è
__THROW
;

444 
	`¦“p
 (
__£cÚds
);

446 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

447 || 
defšed
 
__USE_BSD


452 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

453 
__THROW
;

460 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

469 
	`·u£
 ();

473 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

476 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

483 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

488 #ifdeà
__USE_ATFILE


491 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

492 
__gid_t
 
__group
, 
__æag
)

493 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

497 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

499 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


501 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

511 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

520 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

521 || 
defšed
 
__USE_BSD


525 *
	$g‘wd
 (*
__buf
)

526 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

531 
	$dup
 (
__fd
è
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

536 #ifdeà
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

543 **
__’vœÚ
;

544 #ifdeà
__USE_GNU


545 **
’vœÚ
;

551 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

552 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

554 #ifdeà
__USE_XOPEN2K8


557 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

558 
__THROW
 
	`__nÚnuÎ
 ((2));

563 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

564 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

568 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

569 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

573 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

578 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 #ifdeà
__USE_GNU


590 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

591 *cÚ¡ 
__’vp
[])

592 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

596 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


598 
	$niû
 (
__šc
è
__THROW
 
__wur
;

603 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

609 
	~<b™s/cÚâame.h
>

612 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

613 
__THROW
 
	`__nÚnuÎ
 ((1));

616 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

619 
	$syscÚf
 (
__Çme
è
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

628 
__pid_t
 
	$g‘pid
 (è
__THROW
;

631 
__pid_t
 
	$g‘µid
 (è
__THROW
;

634 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

637 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

638 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


639 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

646 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

648 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


660 
	$£g½
 (è
__THROW
;

667 
__pid_t
 
	$£tsid
 (è
__THROW
;

669 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


671 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

675 
__uid_t
 
	$g‘uid
 (è
__THROW
;

678 
__uid_t
 
	$g‘euid
 (è
__THROW
;

681 
__gid_t
 
	$g‘gid
 (è
__THROW
;

684 
__gid_t
 
	$g‘egid
 (è
__THROW
;

689 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

691 #ifdef 
__USE_GNU


693 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

700 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

702 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


705 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

708 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


710 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

717 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

719 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


722 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

725 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


727 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

730 #ifdeà
__USE_GNU


733 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

734 
__THROW
;

738 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

739 
__THROW
;

743 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

744 
__THROW
 
__wur
;

748 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

749 
__THROW
 
__wur
;

756 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

758 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

759 || 
defšed
 
__USE_BSD


764 
__pid_t
 
	$vfÜk
 (è
__THROW
;

770 *
	$‰yÇme
 (
__fd
è
__THROW
;

774 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

775 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

779 
	$i§‰y
 (
__fd
è
__THROW
;

781 #ià
defšed
 
__USE_BSD
 \

782 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

785 
	$‰y¦Ù
 (è
__THROW
;

790 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

791 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

793 #ifdeà
__USE_ATFILE


796 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

797 cÚ¡ *
__to
, 
__æags
)

798 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

801 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


803 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

804 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

809 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

810 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

811 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

814 #ifdeà
__USE_ATFILE


816 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

817 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

820 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

821 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

822 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

826 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

828 #ifdeà
__USE_ATFILE


830 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

831 
__THROW
 
	`__nÚnuÎ
 ((2));

835 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

839 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

842 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

849 *
	`g‘logš
 ();

850 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


857 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

860 #ifdef 
__USE_BSD


862 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

866 #ifdef 
__USE_POSIX2


870 
	#__Ãed_g‘İt


	)

871 
	~<g‘İt.h
>

875 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


879 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

883 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

886 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

887 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

897 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

898 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

899 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

900 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

906 
	$vhªgup
 (è
__THROW
;

909 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

917 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

918 
size_t
 
__off£t
, 
__sÿË
)

919 
__THROW
 
	`__nÚnuÎ
 ((1));

925 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

929 *
	$g‘u£rsh–l
 (è
__THROW
;

930 
	$’du£rsh–l
 (è
__THROW
;

931 
	$£tu£rsh–l
 (è
__THROW
;

937 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

941 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

944 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

948 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

956 
	`fsync
 (
__fd
);

959 #ifdeà
__USE_GNU


962 
	$syncfs
 (
__fd
è
__THROW
;

966 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


969 
	`g‘ho¡id
 ();

972 
	$sync
 (è
__THROW
;

975 #ià
defšed
 
__USE_BSD
 || !defšed 
__USE_XOPEN2K


978 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

983 
	$g‘dbËsize
 (è
__THROW
;

989 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


992 #iâdeà
__USE_FILE_OFFSET64


993 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

994 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

996 #ifdeà
__REDIRECT_NTH


997 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

998 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

999 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1001 
	#Œunÿ‹
 
Œunÿ‹64


	)

1004 #ifdeà
__USE_LARGEFILE64


1005 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1006 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1011 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_POSIX199309
 \

1012 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1015 #iâdeà
__USE_FILE_OFFSET64


1016 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1018 #ifdeà
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1020 
árunÿ‹64
è
__wur
;

1022 
	#árunÿ‹
 
árunÿ‹64


	)

1025 #ifdeà
__USE_LARGEFILE64


1026 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1032 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1033 || 
defšed
 
__USE_MISC


1037 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1043 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1047 #ifdeà
__USE_MISC


1058 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1063 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1075 
	#F_ULOCK
 0

	)

1076 
	#F_LOCK
 1

	)

1077 
	#F_TLOCK
 2

	)

1078 
	#F_TEST
 3

	)

1080 #iâdeà
__USE_FILE_OFFSET64


1081 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1083 #ifdeà
__REDIRECT


1084 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1085 
lockf64
è
__wur
;

1087 
	#lockf
 
lockf64


	)

1090 #ifdeà
__USE_LARGEFILE64


1091 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1096 #ifdeà
__USE_GNU


1101 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1102 (
__ex‹nsiÚ__
 \

1103 ({ 
__»suÉ
; \

1104 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1105 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1106 
__»suÉ
; 
	}
}))

	)

1109 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1112 
fd©async
 (
__fdes
);

1118 #ifdef 
__USE_XOPEN


1120 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1121 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1125 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1126 
__THROW
 
	`__nÚnuÎ
 ((1));

1133 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1134 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1140 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1142 *
	$ù”mid
 (*
__s
è
__THROW
;

1147 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1148 
	~<b™s/uni¡d.h
>

1151 
__END_DECLS


	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ifdeà
__USE_ISOC99


479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ifdeà
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_BSD
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

74 
	#htŞe64
(
x
è(x)

	)

75 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

76 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

101 #undeà
__USE_ISOC11


102 #undeà
__USE_ISOC99


103 #undeà
__USE_ISOC95


104 #undeà
__USE_ISOCXX11


105 #undeà
__USE_POSIX


106 #undeà
__USE_POSIX2


107 #undeà
__USE_POSIX199309


108 #undeà
__USE_POSIX199506


109 #undeà
__USE_XOPEN


110 #undeà
__USE_XOPEN_EXTENDED


111 #undeà
__USE_UNIX98


112 #undeà
__USE_XOPEN2K


113 #undeà
__USE_XOPEN2KXSI


114 #undeà
__USE_XOPEN2K8


115 #undeà
__USE_XOPEN2K8XSI


116 #undeà
__USE_LARGEFILE


117 #undeà
__USE_LARGEFILE64


118 #undeà
__USE_FILE_OFFSET64


119 #undeà
__USE_BSD


120 #undeà
__USE_SVID


121 #undeà
__USE_MISC


122 #undeà
__USE_ATFILE


123 #undeà
__USE_GNU


124 #undeà
__USE_REENTRANT


125 #undeà
__USE_FORTIFY_LEVEL


126 #undeà
__KERNEL_STRICT_NAMES


130 #iâdeà
_LOOSE_KERNEL_NAMES


131 
	#__KERNEL_STRICT_NAMES


	)

141 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


142 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

143 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

145 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

150 #ifdeà
_GNU_SOURCE


151 #undeà
_ISOC95_SOURCE


152 
	#_ISOC95_SOURCE
 1

	)

153 #undeà
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #undeà
_ISOC11_SOURCE


156 
	#_ISOC11_SOURCE
 1

	)

157 #undeà
_POSIX_SOURCE


158 
	#_POSIX_SOURCE
 1

	)

159 #undeà
_POSIX_C_SOURCE


160 
	#_POSIX_C_SOURCE
 200809L

	)

161 #undeà
_XOPEN_SOURCE


162 
	#_XOPEN_SOURCE
 700

	)

163 #undeà
_XOPEN_SOURCE_EXTENDED


164 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

165 #undeà
_LARGEFILE64_SOURCE


166 
	#_LARGEFILE64_SOURCE
 1

	)

167 #undeà
_DEFAULT_SOURCE


168 
	#_DEFAULT_SOURCE
 1

	)

169 #undeà
_BSD_SOURCE


170 
	#_BSD_SOURCE
 1

	)

171 #undeà
_SVID_SOURCE


172 
	#_SVID_SOURCE
 1

	)

173 #undeà
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #ià(
defšed
 
_DEFAULT_SOURCE
 \

180 || (!
defšed
 
	g__STRICT_ANSI__
 \

181 && !
defšed
 
	g_ISOC99_SOURCE
 \

182 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

183 && !
defšed
 
	g_XOPEN_SOURCE
 \

184 && !
defšed
 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
))

185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

187 #undeà
_BSD_SOURCE


188 
	#_BSD_SOURCE
 1

	)

189 #undeà
_SVID_SOURCE


190 
	#_SVID_SOURCE
 1

	)

194 #ià(
defšed
 
_ISOC11_SOURCE
 \

195 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

196 
	#__USE_ISOC11
 1

	)

200 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

201 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

202 
	#__USE_ISOC99
 1

	)

206 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

207 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

208 
	#__USE_ISOC95
 1

	)

215 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

216 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

217 
	#__USE_ISOCXX11
 1

	)

223 #ifdeà
_DEFAULT_SOURCE


224 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


225 
	#__USE_POSIX_IMPLICITLY
 1

	)

227 #undeà
_POSIX_SOURCE


228 
	#_POSIX_SOURCE
 1

	)

229 #undeà
_POSIX_C_SOURCE


230 
	#_POSIX_C_SOURCE
 200809L

	)

232 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

233 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

234 
	#_POSIX_SOURCE
 1

	)

235 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

236 
	#_POSIX_C_SOURCE
 2

	)

237 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

238 
	#_POSIX_C_SOURCE
 199506L

	)

239 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

240 
	#_POSIX_C_SOURCE
 200112L

	)

242 
	#_POSIX_C_SOURCE
 200809L

	)

244 
	#__USE_POSIX_IMPLICITLY
 1

	)

247 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


248 
	#__USE_POSIX
 1

	)

251 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


252 
	#__USE_POSIX2
 1

	)

255 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

256 
	#__USE_POSIX199309
 1

	)

259 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

260 
	#__USE_POSIX199506
 1

	)

263 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

264 
	#__USE_XOPEN2K
 1

	)

265 #undeà
__USE_ISOC95


266 
	#__USE_ISOC95
 1

	)

267 #undeà
__USE_ISOC99


268 
	#__USE_ISOC99
 1

	)

271 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

272 
	#__USE_XOPEN2K8
 1

	)

273 #undeà
_ATFILE_SOURCE


274 
	#_ATFILE_SOURCE
 1

	)

277 #ifdef 
_XOPEN_SOURCE


278 
	#__USE_XOPEN
 1

	)

279 #ià(
_XOPEN_SOURCE
 - 0) >= 500

280 
	#__USE_XOPEN_EXTENDED
 1

	)

281 
	#__USE_UNIX98
 1

	)

282 #undeà
_LARGEFILE_SOURCE


283 
	#_LARGEFILE_SOURCE
 1

	)

284 #ià(
_XOPEN_SOURCE
 - 0) >= 600

285 #ià(
_XOPEN_SOURCE
 - 0) >= 700

286 
	#__USE_XOPEN2K8
 1

	)

287 
	#__USE_XOPEN2K8XSI
 1

	)

289 
	#__USE_XOPEN2K
 1

	)

290 
	#__USE_XOPEN2KXSI
 1

	)

291 #undeà
__USE_ISOC95


292 
	#__USE_ISOC95
 1

	)

293 #undeà
__USE_ISOC99


294 
	#__USE_ISOC99
 1

	)

297 #ifdeà
_XOPEN_SOURCE_EXTENDED


298 
	#__USE_XOPEN_EXTENDED
 1

	)

303 #ifdeà
_LARGEFILE_SOURCE


304 
	#__USE_LARGEFILE
 1

	)

307 #ifdeà
_LARGEFILE64_SOURCE


308 
	#__USE_LARGEFILE64
 1

	)

311 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

312 
	#__USE_FILE_OFFSET64
 1

	)

315 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


316 
	#__USE_MISC
 1

	)

319 #ifdef 
_BSD_SOURCE


320 
	#__USE_BSD
 1

	)

323 #ifdef 
_SVID_SOURCE


324 
	#__USE_SVID
 1

	)

327 #ifdef 
_ATFILE_SOURCE


328 
	#__USE_ATFILE
 1

	)

331 #ifdef 
_GNU_SOURCE


332 
	#__USE_GNU
 1

	)

335 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


336 
	#__USE_REENTRANT
 1

	)

339 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

340 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

341 #ià
_FORTIFY_SOURCE
 > 1

342 
	#__USE_FORTIFY_LEVEL
 2

	)

344 
	#__USE_FORTIFY_LEVEL
 1

	)

347 
	#__USE_FORTIFY_LEVEL
 0

	)

352 
	~<¡dc-´edef.h
>

360 #undeà
__GNU_LIBRARY__


361 
	#__GNU_LIBRARY__
 6

	)

365 
	#__GLIBC__
 2

	)

366 
	#__GLIBC_MINOR__
 19

	)

368 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

369 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

372 #iâdeà
__ASSEMBLER__


373 #iâdeà
_SYS_CDEFS_H


374 
	~<sys/cdefs.h
>

379 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


380 
	#__USE_LARGEFILE
 1

	)

381 
	#__USE_LARGEFILE64
 1

	)

387 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

388 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

389 && 
defšed
 
	g__ex‹º_šlše


390 
	#__USE_EXTERN_INLINES
 1

	)

398 
	~<gnu/¡ubs.h
>

	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


148 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

149 
	~<b™s/¡dio-lock.h
>

154 
	t_IO_lock_t
;

160 
	s_IO_m¬k”
 {

161 
_IO_m¬k”
 *
	m_Ãxt
;

162 
_IO_FILE
 *
	m_sbuf
;

166 
	m_pos
;

168 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

169 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

170 
	mpublic
:

171 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

172 ~
¡»amm¬k”
();

173 
§všg
(è{  
	m_¥os
 == -2; }

174 
d–
(
¡»amm¬k”
&);

175 
d–
();

180 
	e__codecvt_»suÉ


182 
	m__codecvt_ok
,

183 
	m__codecvt_·¹Ÿl
,

184 
	m__codecvt_”rÜ
,

185 
	m__codecvt_nocÚv


188 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


191 
	s_IO_codecvt


193 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

194 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

195 
	m__mb¡©e_t
 *,

196 cÚ¡ 
	mwch¬_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 **, *,

200 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

201 
	m__mb¡©e_t
 *, *,

203 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

204 
	m__mb¡©e_t
 *,

206 cÚ¡ **, 
	mwch¬_t
 *,

207 
	mwch¬_t
 *, wchar_t **);

208 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

209 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

211 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

212 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

214 
_IO_icÚv_t
 
	m__cd_š
;

215 
_IO_icÚv_t
 
	m__cd_out
;

219 
	s_IO_wide_d©a


221 
wch¬_t
 *
	m_IO_»ad_±r
;

222 
wch¬_t
 *
	m_IO_»ad_’d
;

223 
wch¬_t
 *
	m_IO_»ad_ba£
;

224 
wch¬_t
 *
	m_IO_wr™e_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_±r
;

226 
wch¬_t
 *
	m_IO_wr™e_’d
;

227 
wch¬_t
 *
	m_IO_buf_ba£
;

228 
wch¬_t
 *
	m_IO_buf_’d
;

230 
wch¬_t
 *
	m_IO_§ve_ba£
;

231 
wch¬_t
 *
	m_IO_backup_ba£
;

233 
wch¬_t
 *
	m_IO_§ve_’d
;

235 
__mb¡©e_t
 
	m_IO_¡©e
;

236 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

237 
_IO_codecvt
 
	m_codecvt
;

239 
wch¬_t
 
	m_shÜtbuf
[1];

241 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

245 
	s_IO_FILE
 {

246 
	m_æags
;

247 
	#_IO_fe_æags
 
_æags


	)

251 * 
	m_IO_»ad_±r
;

252 * 
	m_IO_»ad_’d
;

253 * 
	m_IO_»ad_ba£
;

254 * 
	m_IO_wr™e_ba£
;

255 * 
	m_IO_wr™e_±r
;

256 * 
	m_IO_wr™e_’d
;

257 * 
	m_IO_buf_ba£
;

258 * 
	m_IO_buf_’d
;

260 *
	m_IO_§ve_ba£
;

261 *
	m_IO_backup_ba£
;

262 *
	m_IO_§ve_’d
;

264 
_IO_m¬k”
 *
	m_m¬k”s
;

266 
_IO_FILE
 *
	m_chaš
;

268 
	m_f’o
;

270 
	m_blksize
;

272 
	m_æags2
;

274 
_IO_off_t
 
	m_Şd_off£t
;

276 
	#__HAVE_COLUMN


	)

278 
	m_cur_cŞumn
;

279 sigÃd 
	m_vbË_off£t
;

280 
	m_shÜtbuf
[1];

284 
_IO_lock_t
 *
	m_lock
;

285 #ifdeà
_IO_USE_OLD_IO_FILE


288 
	s_IO_FILE_com¶‘e


290 
_IO_FILE
 
	m_fe
;

292 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

293 
_IO_off64_t
 
	m_off£t
;

294 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


296 
_IO_codecvt
 *
	m_codecvt
;

297 
_IO_wide_d©a
 *
	m_wide_d©a
;

298 
_IO_FILE
 *
	m_ä“»s_li¡
;

299 *
	m_ä“»s_buf
;

300 
size_t
 
	m_ä“»s_size
;

302 *
	m__·d1
;

303 *
	m__·d2
;

304 *
	m__·d3
;

305 *
	m__·d4
;

306 
size_t
 
	m__·d5
;

308 
	m_mode
;

310 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

314 #iâdeà
__ılu¥lus


315 
_IO_FILE
 
	t_IO_FILE
;

318 
	g_IO_FILE_¶us
;

320 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

323 #iâdeà
_LIBC


324 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

325 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

326 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

328 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

329 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

338 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

346 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

347 
	tsize_t
 
	t__n
);

355 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

358 
	t__io_şo£_â
 (*
	t__cook›
);

361 #ifdeà
_GNU_SOURCE


363 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

364 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

365 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

366 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

371 
__io_»ad_â
 *
	m»ad
;

372 
__io_wr™e_â
 *
	mwr™e
;

373 
__io_£ek_â
 *
	m£ek
;

374 
__io_şo£_â
 *
	mşo£
;

375 } 
	t_IO_cook›_io_funùiÚs_t
;

376 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

378 
	g_IO_cook›_fe
;

381 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

382 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

386 #ifdeà
__ılu¥lus


390 
__und”æow
 (
_IO_FILE
 *);

391 
__uæow
 (
_IO_FILE
 *);

392 
__ov”æow
 (
_IO_FILE
 *, );

393 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


394 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

395 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

399 #ià 
__GNUC__
 >= 3

400 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

402 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

405 
	#_IO_g‘c_uÆocked
(
_å
) \

406 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

407 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

408 
	#_IO_³ekc_uÆocked
(
_å
) \

409 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

410 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

411 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

412 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

413 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

414 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

415 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

417 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


418 
	#_IO_g‘wc_uÆocked
(
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

422 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

423 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

424 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

425 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

426 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

427 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

428 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

431 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

432 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

434 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

435 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

436 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

437 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

439 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

442 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

443 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

445 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

446 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

449 #ifdeà
_IO_MTSAFE_IO


450 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

451 
	#_IO_æockfe
(
_å
) \

452 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

453 
	#_IO_fuÆockfe
(
_å
) \

454 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

456 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

457 
	#_IO_æockfe
(
_å
è

	)

458 
	#_IO_fuÆockfe
(
_å
è

	)

459 
	#_IO_árylockfe
(
_å
è

	)

460 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

464 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

465 
_IO_va_li¡
, *
__»¡riù
);

466 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

467 
_IO_va_li¡
);

468 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

469 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

471 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

472 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

474 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

476 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


477 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

478 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

479 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

480 #ià
__GNUC__
 >= 2

483 #ià
defšed
 
_LIBC
 && defšed 
SHARED


484 
	~<shlib-com·t.h
>

485 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

486 
	#_IO_fwide_maybe_šcom·tibË
 \

487 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

488 cÚ¡ 
_IO_¡dš_u£d
;

489 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

492 #iâdeà
_IO_fwide_maybe_šcom·tibË


493 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

497 
	#_IO_fwide
(
__å
, 
__mode
) \

498 ({ 
__»suÉ
 = (
__mode
); \

499 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

501 ià((
__å
)->
_mode
 == 0) \

503 (
__å
)->
_mode
 = -1; \

504 
__»suÉ
 = (
__å
)->
_mode
; \

506 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

507 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

509 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

510 
__»suÉ
; })

	)

513 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

514 
_IO_va_li¡
, *
__»¡riù
);

515 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

516 
_IO_va_li¡
);

517 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

518 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

521 #ifdeà
__LDBL_COMPAT


522 
	~<b™s/libio-ldbl.h
>

525 #ifdeà
__ılu¥lus


	@/usr/include/nl_types.h

18 #iâdeà
_NL_TYPES_H


19 
	#_NL_TYPES_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	#NL_SETD
 1

	)

27 
	#NL_CAT_LOCALE
 1

	)

30 
__BEGIN_DECLS


33 *
	tÆ_ÿtd
;

36 
	tÆ_™em
;

42 
Æ_ÿtd
 
	$ÿtİ’
 (cÚ¡ *
__ÿt_Çme
, 
__æag
è
	`__nÚnuÎ
 ((1));

46 *
	$ÿtg‘s
 (
Æ_ÿtd
 
__ÿlog
, 
__£t
, 
__numb”
,

47 cÚ¡ *
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

50 
	$ÿtşo£
 (
Æ_ÿtd
 
__ÿlog
è
__THROW
 
	`__nÚnuÎ
 ((1));

52 
__END_DECLS


	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

30 
	#__Ãed_time_t


	)

31 
	#__Ãed_time¥ec


	)

32 
	~<time.h
>

34 #iâdeà
__pid_t_defšed


35 
__pid_t
 
	tpid_t
;

36 
	#__pid_t_defšed


	)

41 
	~<b™s/sched.h
>

43 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

46 
__BEGIN_DECLS


49 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

50 
__THROW
;

53 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

56 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

57 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

60 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

63 
	$sched_y›ld
 (è
__THROW
;

66 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

69 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

72 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

75 #ifdeà
__USE_GNU


77 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

78 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

79 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

80 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

81 
ıu£
)

	)

82 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

83 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

86 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

87 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

88 
ıu£
)

	)

89 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

90 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

92 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

93 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

94 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

95 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

97 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

98 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

99 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

101 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

103 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

104 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

105 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

107 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

110 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

111 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

112 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

116 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

117 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

120 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

121 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

124 
__END_DECLS


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

54 
	#__STDC_ISO_10646__
 201103L

	)

57 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
) (*, const *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 cÚ¡ *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@
1
.
1
/usr/include
177
2093
base64.c
basename.c
cat.c
chcon.c
chgrp.c
chmod.c
chown-core.c
chown-core.h
chown.c
chroot.c
cksum.c
comm.c
copy.c
copy.h
cp-hash.c
cp-hash.h
cp.c
csplit.c
cut.c
date.c
dd.c
df.c
dircolors.c
dircolors.h
dirname.c
du.c
echo.c
env.c
expand.c
expr.c
extent-scan.c
extent-scan.h
factor.c
false.c
fiemap.h
find-mount-point.c
find-mount-point.h
fmt.c
fold.c
fs-is-local.h
fs.h
getlimits.c
group-list.c
group-list.h
groups.c
head.c
hostid.c
hostname.c
id.c
install.c
ioblksize.h
join.c
kill.c
lbracket.c
libstdbuf.c
link.c
ln.c
logname.c
longlong.h
ls-dir.c
ls-ls.c
ls-vdir.c
ls.c
ls.h
make-prime-list.c
md5sum.c
mkdir.c
mkfifo.c
mknod.c
mktemp.c
mv.c
nice.c
nl.c
nohup.c
nproc.c
numfmt.c
od.c
operand2sig.c
operand2sig.h
paste.c
pathchk.c
pinky.c
pr.c
primes.h
printenv.c
printf.c
prog-fprintf.c
prog-fprintf.h
ptx.c
pwd.c
readlink.c
realpath.c
relpath.c
relpath.h
remove.c
remove.h
rm.c
rmdir.c
runcon.c
seq.c
setuidgid.c
shred.c
shuf.c
sleep.c
sort.c
split.c
stat.c
stdbuf.c
stty.c
sum.c
sync.c
system.h
tac-pipe.c
tac.c
tail.c
tee.c
test.c
timeout.c
touch.c
tr.c
true.c
truncate.c
tsort.c
tty.c
uname-arch.c
uname-uname.c
uname.c
uname.h
unexpand.c
uniq.c
unlink.c
uptime.c
users.c
wc.c
who.c
whoami.c
yes.c
/usr/include/alloca.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/error.h
/usr/include/fcntl.h
/usr/include/fnmatch.h
/usr/include/getopt.h
/usr/include/grp.h
/usr/include/inttypes.h
/usr/include/langinfo.h
/usr/include/limits.h
/usr/include/locale.h
/usr/include/netinet/in.h
/usr/include/obstack.h
/usr/include/pthread.h
/usr/include/pwd.h
/usr/include/regex.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/stropts.h
/usr/include/termios.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/wchar.h
/usr/include/wctype.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libio.h
/usr/include/nl_types.h
/usr/include/sched.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
